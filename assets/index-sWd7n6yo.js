function Rre(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var ea=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ct(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var h7={exports:{}},Tb={},p7={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv=Symbol.for("react.element"),Dre=Symbol.for("react.portal"),Mre=Symbol.for("react.fragment"),Lre=Symbol.for("react.strict_mode"),$re=Symbol.for("react.profiler"),Fre=Symbol.for("react.provider"),Bre=Symbol.for("react.context"),Ure=Symbol.for("react.forward_ref"),Vre=Symbol.for("react.suspense"),zre=Symbol.for("react.memo"),Wre=Symbol.for("react.lazy"),M4=Symbol.iterator;function Hre(t){return t===null||typeof t!="object"?null:(t=M4&&t[M4]||t["@@iterator"],typeof t=="function"?t:null)}var m7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g7=Object.assign,v7={};function kh(t,e,r){this.props=t,this.context=e,this.refs=v7,this.updater=r||m7}kh.prototype.isReactComponent={};kh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};kh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function y7(){}y7.prototype=kh.prototype;function KI(t,e,r){this.props=t,this.context=e,this.refs=v7,this.updater=r||m7}var YI=KI.prototype=new y7;YI.constructor=KI;g7(YI,kh.prototype);YI.isPureReactComponent=!0;var L4=Array.isArray,x7=Object.prototype.hasOwnProperty,XI={current:null},w7={key:!0,ref:!0,__self:!0,__source:!0};function b7(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)x7.call(e,n)&&!w7.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Kv,type:t,key:a,ref:o,props:i,_owner:XI.current}}function Gre(t,e){return{$$typeof:Kv,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function QI(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kv}function qre(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var $4=/\/+/g;function vS(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qre(""+t.key):e.toString(36)}function p1(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Kv:case Dre:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+vS(o,0):n,L4(i)?(r="",t!=null&&(r=t.replace($4,"$&/")+"/"),p1(i,e,r,"",function(c){return c})):i!=null&&(QI(i)&&(i=Gre(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($4,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",L4(t))for(var s=0;s<t.length;s++){a=t[s];var l=n+vS(a,s);o+=p1(a,e,r,l,i)}else if(l=Hre(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=n+vS(a,s++),o+=p1(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ly(t,e,r){if(t==null)return t;var n=[],i=0;return p1(t,n,"","",function(a){return e.call(r,a,i++)}),n}function Kre(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var bi={current:null},m1={transition:null},Yre={ReactCurrentDispatcher:bi,ReactCurrentBatchConfig:m1,ReactCurrentOwner:XI};function _7(){throw Error("act(...) is not supported in production builds of React.")}it.Children={map:ly,forEach:function(t,e,r){ly(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ly(t,function(){e++}),e},toArray:function(t){return ly(t,function(e){return e})||[]},only:function(t){if(!QI(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};it.Component=kh;it.Fragment=Mre;it.Profiler=$re;it.PureComponent=KI;it.StrictMode=Lre;it.Suspense=Vre;it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yre;it.act=_7;it.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=g7({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=XI.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)x7.call(e,l)&&!w7.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:Kv,type:t.type,key:i,ref:a,props:n,_owner:o}};it.createContext=function(t){return t={$$typeof:Bre,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Fre,_context:t},t.Consumer=t};it.createElement=b7;it.createFactory=function(t){var e=b7.bind(null,t);return e.type=t,e};it.createRef=function(){return{current:null}};it.forwardRef=function(t){return{$$typeof:Ure,render:t}};it.isValidElement=QI;it.lazy=function(t){return{$$typeof:Wre,_payload:{_status:-1,_result:t},_init:Kre}};it.memo=function(t,e){return{$$typeof:zre,type:t,compare:e===void 0?null:e}};it.startTransition=function(t){var e=m1.transition;m1.transition={};try{t()}finally{m1.transition=e}};it.unstable_act=_7;it.useCallback=function(t,e){return bi.current.useCallback(t,e)};it.useContext=function(t){return bi.current.useContext(t)};it.useDebugValue=function(){};it.useDeferredValue=function(t){return bi.current.useDeferredValue(t)};it.useEffect=function(t,e){return bi.current.useEffect(t,e)};it.useId=function(){return bi.current.useId()};it.useImperativeHandle=function(t,e,r){return bi.current.useImperativeHandle(t,e,r)};it.useInsertionEffect=function(t,e){return bi.current.useInsertionEffect(t,e)};it.useLayoutEffect=function(t,e){return bi.current.useLayoutEffect(t,e)};it.useMemo=function(t,e){return bi.current.useMemo(t,e)};it.useReducer=function(t,e,r){return bi.current.useReducer(t,e,r)};it.useRef=function(t){return bi.current.useRef(t)};it.useState=function(t){return bi.current.useState(t)};it.useSyncExternalStore=function(t,e,r){return bi.current.useSyncExternalStore(t,e,r)};it.useTransition=function(){return bi.current.useTransition()};it.version="18.3.1";p7.exports=it;var _=p7.exports;const D=ct(_),S7=Rre({__proto__:null,default:D},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xre=_,Qre=Symbol.for("react.element"),Zre=Symbol.for("react.fragment"),Jre=Object.prototype.hasOwnProperty,ene=Xre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tne={key:!0,ref:!0,__self:!0,__source:!0};function E7(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Jre.call(e,n)&&!tne.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Qre,type:t,key:a,ref:o,props:i,_owner:ene.current}}Tb.Fragment=Zre;Tb.jsx=E7;Tb.jsxs=E7;h7.exports=Tb;var u=h7.exports,A7={exports:{}},fa={},C7={exports:{}},T7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,B){var G=$.length;$.push(B);e:for(;0<G;){var X=G-1>>>1,Y=$[X];if(0<i(Y,B))$[X]=B,$[G]=Y,G=X;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var B=$[0],G=$.pop();if(G!==B){$[0]=G;e:for(var X=0,Y=$.length,ee=Y>>>1;X<ee;){var ce=2*(X+1)-1,de=$[ce],_e=ce+1,ge=$[_e];if(0>i(de,G))_e<Y&&0>i(ge,de)?($[X]=ge,$[_e]=G,X=_e):($[X]=de,$[ce]=G,X=ce);else if(_e<Y&&0>i(ge,G))$[X]=ge,$[_e]=G,X=_e;else break e}}return B}function i($,B){var G=$.sortIndex-B.sortIndex;return G!==0?G:$.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],c=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w($){for(var B=r(c);B!==null;){if(B.callback===null)n(c);else if(B.startTime<=$)n(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=r(c)}}function S($){if(g=!1,w($),!m)if(r(l)!==null)m=!0,M(E);else{var B=r(c);B!==null&&W(S,B.startTime-$)}}function E($,B){m=!1,g&&(g=!1,y(C),C=-1),p=!0;var G=h;try{for(w(B),f=r(l);f!==null&&(!(f.expirationTime>B)||$&&!P());){var X=f.callback;if(typeof X=="function"){f.callback=null,h=f.priorityLevel;var Y=X(f.expirationTime<=B);B=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===r(l)&&n(l),w(B)}else n(l);f=r(l)}if(f!==null)var ee=!0;else{var ce=r(c);ce!==null&&W(S,ce.startTime-B),ee=!1}return ee}finally{f=null,h=G,p=!1}}var T=!1,A=null,C=-1,N=5,I=-1;function P(){return!(t.unstable_now()-I<N)}function k(){if(A!==null){var $=t.unstable_now();I=$;var B=!0;try{B=A(!0,$)}finally{B?O():(T=!1,A=null)}}else T=!1}var O;if(typeof x=="function")O=function(){x(k)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,z=L.port2;L.port1.onmessage=k,O=function(){z.postMessage(null)}}else O=function(){v(k,0)};function M($){A=$,T||(T=!0,O())}function W($,B){C=v(function(){$(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,M(E))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var G=h;h=B;try{return $()}finally{h=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,B){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var G=h;h=$;try{return B()}finally{h=G}},t.unstable_scheduleCallback=function($,B,G){var X=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?X+G:X):G=X,$){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=G+Y,$={id:d++,callback:B,priorityLevel:$,startTime:G,expirationTime:Y,sortIndex:-1},G>X?($.sortIndex=G,e(c,$),r(l)===null&&$===r(c)&&(g?(y(C),C=-1):g=!0,W(S,G-X))):($.sortIndex=Y,e(l,$),m||p||(m=!0,M(E))),$},t.unstable_shouldYield=P,t.unstable_wrapCallback=function($){var B=h;return function(){var G=h;h=B;try{return $.apply(this,arguments)}finally{h=G}}}})(T7);C7.exports=T7;var rne=C7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nne=_,oa=rne;function ye(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var N7=new Set,dg={};function id(t,e){Nf(t,e),Nf(t+"Capture",e)}function Nf(t,e){for(dg[t]=e,t=0;t<e.length;t++)N7.add(e[t])}var Rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),DA=Object.prototype.hasOwnProperty,ine=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,F4={},B4={};function ane(t){return DA.call(B4,t)?!0:DA.call(F4,t)?!1:ine.test(t)?B4[t]=!0:(F4[t]=!0,!1)}function one(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sne(t,e,r,n){if(e===null||typeof e>"u"||one(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _i(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var On={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){On[t]=new _i(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];On[e]=new _i(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){On[t]=new _i(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){On[t]=new _i(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){On[t]=new _i(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){On[t]=new _i(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){On[t]=new _i(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){On[t]=new _i(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){On[t]=new _i(t,5,!1,t.toLowerCase(),null,!1,!1)});var ZI=/[\-:]([a-z])/g;function JI(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ZI,JI);On[e]=new _i(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ZI,JI);On[e]=new _i(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ZI,JI);On[e]=new _i(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){On[t]=new _i(t,1,!1,t.toLowerCase(),null,!1,!1)});On.xlinkHref=new _i("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){On[t]=new _i(t,1,!1,t.toLowerCase(),null,!0,!0)});function eP(t,e,r,n){var i=On.hasOwnProperty(e)?On[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sne(e,r,i,n)&&(r=null),n||i===null?ane(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Zs=nne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cy=Symbol.for("react.element"),Fd=Symbol.for("react.portal"),Bd=Symbol.for("react.fragment"),tP=Symbol.for("react.strict_mode"),MA=Symbol.for("react.profiler"),I7=Symbol.for("react.provider"),P7=Symbol.for("react.context"),rP=Symbol.for("react.forward_ref"),LA=Symbol.for("react.suspense"),$A=Symbol.for("react.suspense_list"),nP=Symbol.for("react.memo"),wl=Symbol.for("react.lazy"),O7=Symbol.for("react.offscreen"),U4=Symbol.iterator;function Dp(t){return t===null||typeof t!="object"?null:(t=U4&&t[U4]||t["@@iterator"],typeof t=="function"?t:null)}var yr=Object.assign,yS;function mm(t){if(yS===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);yS=e&&e[1]||""}return`
`+yS+t}var xS=!1;function wS(t,e){if(!t||xS)return"";xS=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{xS=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?mm(t):""}function lne(t){switch(t.tag){case 5:return mm(t.type);case 16:return mm("Lazy");case 13:return mm("Suspense");case 19:return mm("SuspenseList");case 0:case 2:case 15:return t=wS(t.type,!1),t;case 11:return t=wS(t.type.render,!1),t;case 1:return t=wS(t.type,!0),t;default:return""}}function FA(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bd:return"Fragment";case Fd:return"Portal";case MA:return"Profiler";case tP:return"StrictMode";case LA:return"Suspense";case $A:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case P7:return(t.displayName||"Context")+".Consumer";case I7:return(t._context.displayName||"Context")+".Provider";case rP:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nP:return e=t.displayName||null,e!==null?e:FA(t.type)||"Memo";case wl:e=t._payload,t=t._init;try{return FA(t(e))}catch{}}return null}function cne(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return FA(e);case 8:return e===tP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ac(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function j7(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function une(t){var e=j7(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function uy(t){t._valueTracker||(t._valueTracker=une(t))}function k7(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=j7(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function J1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function BA(t,e){var r=e.checked;return yr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function V4(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ac(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function R7(t,e){e=e.checked,e!=null&&eP(t,"checked",e,!1)}function UA(t,e){R7(t,e);var r=ac(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?VA(t,e.type,r):e.hasOwnProperty("defaultValue")&&VA(t,e.type,ac(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function z4(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function VA(t,e,r){(e!=="number"||J1(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var gm=Array.isArray;function cf(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ac(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zA(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ye(91));return yr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function W4(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ye(92));if(gm(r)){if(1<r.length)throw Error(ye(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ac(r)}}function D7(t,e){var r=ac(e.value),n=ac(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function H4(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function M7(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function WA(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?M7(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dy,L7=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dy=dy||document.createElement("div"),dy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dy.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fg(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Mm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dne=["Webkit","ms","Moz","O"];Object.keys(Mm).forEach(function(t){dne.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Mm[e]=Mm[t]})});function $7(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Mm.hasOwnProperty(t)&&Mm[t]?(""+e).trim():e+"px"}function F7(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=$7(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var fne=yr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function HA(t,e){if(e){if(fne[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ye(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ye(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ye(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ye(62))}}function GA(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qA=null;function iP(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var KA=null,uf=null,df=null;function G4(t){if(t=Qv(t)){if(typeof KA!="function")throw Error(ye(280));var e=t.stateNode;e&&(e=jb(e),KA(t.stateNode,t.type,e))}}function B7(t){uf?df?df.push(t):df=[t]:uf=t}function U7(){if(uf){var t=uf,e=df;if(df=uf=null,G4(t),e)for(t=0;t<e.length;t++)G4(e[t])}}function V7(t,e){return t(e)}function z7(){}var bS=!1;function W7(t,e,r){if(bS)return t(e,r);bS=!0;try{return V7(t,e,r)}finally{bS=!1,(uf!==null||df!==null)&&(z7(),U7())}}function hg(t,e){var r=t.stateNode;if(r===null)return null;var n=jb(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ye(231,e,typeof r));return r}var YA=!1;if(Rs)try{var Mp={};Object.defineProperty(Mp,"passive",{get:function(){YA=!0}}),window.addEventListener("test",Mp,Mp),window.removeEventListener("test",Mp,Mp)}catch{YA=!1}function hne(t,e,r,n,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var Lm=!1,ex=null,tx=!1,XA=null,pne={onError:function(t){Lm=!0,ex=t}};function mne(t,e,r,n,i,a,o,s,l){Lm=!1,ex=null,hne.apply(pne,arguments)}function gne(t,e,r,n,i,a,o,s,l){if(mne.apply(this,arguments),Lm){if(Lm){var c=ex;Lm=!1,ex=null}else throw Error(ye(198));tx||(tx=!0,XA=c)}}function ad(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function H7(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function q4(t){if(ad(t)!==t)throw Error(ye(188))}function vne(t){var e=t.alternate;if(!e){if(e=ad(t),e===null)throw Error(ye(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return q4(i),t;if(a===n)return q4(i),e;a=a.sibling}throw Error(ye(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(ye(189))}}if(r.alternate!==n)throw Error(ye(190))}if(r.tag!==3)throw Error(ye(188));return r.stateNode.current===r?t:e}function G7(t){return t=vne(t),t!==null?q7(t):null}function q7(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=q7(t);if(e!==null)return e;t=t.sibling}return null}var K7=oa.unstable_scheduleCallback,K4=oa.unstable_cancelCallback,yne=oa.unstable_shouldYield,xne=oa.unstable_requestPaint,Rr=oa.unstable_now,wne=oa.unstable_getCurrentPriorityLevel,aP=oa.unstable_ImmediatePriority,Y7=oa.unstable_UserBlockingPriority,rx=oa.unstable_NormalPriority,bne=oa.unstable_LowPriority,X7=oa.unstable_IdlePriority,Nb=null,$o=null;function _ne(t){if($o&&typeof $o.onCommitFiberRoot=="function")try{$o.onCommitFiberRoot(Nb,t,void 0,(t.current.flags&128)===128)}catch{}}var lo=Math.clz32?Math.clz32:Ane,Sne=Math.log,Ene=Math.LN2;function Ane(t){return t>>>=0,t===0?32:31-(Sne(t)/Ene|0)|0}var fy=64,hy=4194304;function vm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nx(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=vm(s):(a&=o,a!==0&&(n=vm(a)))}else o=r&~i,o!==0?n=vm(o):a!==0&&(n=vm(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-lo(e),i=1<<r,n|=t[r],e&=~i;return n}function Cne(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tne(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-lo(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=Cne(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function QA(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Q7(){var t=fy;return fy<<=1,!(fy&4194240)&&(fy=64),t}function _S(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Yv(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-lo(e),t[e]=r}function Nne(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-lo(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function oP(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-lo(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Pt=0;function Z7(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var J7,sP,eB,tB,rB,ZA=!1,py=[],$l=null,Fl=null,Bl=null,pg=new Map,mg=new Map,Al=[],Ine="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Y4(t,e){switch(t){case"focusin":case"focusout":$l=null;break;case"dragenter":case"dragleave":Fl=null;break;case"mouseover":case"mouseout":Bl=null;break;case"pointerover":case"pointerout":pg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":mg.delete(e.pointerId)}}function Lp(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Qv(e),e!==null&&sP(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Pne(t,e,r,n,i){switch(e){case"focusin":return $l=Lp($l,t,e,r,n,i),!0;case"dragenter":return Fl=Lp(Fl,t,e,r,n,i),!0;case"mouseover":return Bl=Lp(Bl,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return pg.set(a,Lp(pg.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,mg.set(a,Lp(mg.get(a)||null,t,e,r,n,i)),!0}return!1}function nB(t){var e=cu(t.target);if(e!==null){var r=ad(e);if(r!==null){if(e=r.tag,e===13){if(e=H7(r),e!==null){t.blockedOn=e,rB(t.priority,function(){eB(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function g1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=JA(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);qA=n,r.target.dispatchEvent(n),qA=null}else return e=Qv(r),e!==null&&sP(e),t.blockedOn=r,!1;e.shift()}return!0}function X4(t,e,r){g1(t)&&r.delete(e)}function One(){ZA=!1,$l!==null&&g1($l)&&($l=null),Fl!==null&&g1(Fl)&&(Fl=null),Bl!==null&&g1(Bl)&&(Bl=null),pg.forEach(X4),mg.forEach(X4)}function $p(t,e){t.blockedOn===e&&(t.blockedOn=null,ZA||(ZA=!0,oa.unstable_scheduleCallback(oa.unstable_NormalPriority,One)))}function gg(t){function e(i){return $p(i,t)}if(0<py.length){$p(py[0],t);for(var r=1;r<py.length;r++){var n=py[r];n.blockedOn===t&&(n.blockedOn=null)}}for($l!==null&&$p($l,t),Fl!==null&&$p(Fl,t),Bl!==null&&$p(Bl,t),pg.forEach(e),mg.forEach(e),r=0;r<Al.length;r++)n=Al[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Al.length&&(r=Al[0],r.blockedOn===null);)nB(r),r.blockedOn===null&&Al.shift()}var ff=Zs.ReactCurrentBatchConfig,ix=!0;function jne(t,e,r,n){var i=Pt,a=ff.transition;ff.transition=null;try{Pt=1,lP(t,e,r,n)}finally{Pt=i,ff.transition=a}}function kne(t,e,r,n){var i=Pt,a=ff.transition;ff.transition=null;try{Pt=4,lP(t,e,r,n)}finally{Pt=i,ff.transition=a}}function lP(t,e,r,n){if(ix){var i=JA(t,e,r,n);if(i===null)jS(t,e,n,ax,r),Y4(t,n);else if(Pne(i,t,e,r,n))n.stopPropagation();else if(Y4(t,n),e&4&&-1<Ine.indexOf(t)){for(;i!==null;){var a=Qv(i);if(a!==null&&J7(a),a=JA(t,e,r,n),a===null&&jS(t,e,n,ax,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else jS(t,e,n,null,r)}}var ax=null;function JA(t,e,r,n){if(ax=null,t=iP(n),t=cu(t),t!==null)if(e=ad(t),e===null)t=null;else if(r=e.tag,r===13){if(t=H7(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ax=t,null}function iB(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wne()){case aP:return 1;case Y7:return 4;case rx:case bne:return 16;case X7:return 536870912;default:return 16}default:return 16}}var Ol=null,cP=null,v1=null;function aB(){if(v1)return v1;var t,e=cP,r=e.length,n,i="value"in Ol?Ol.value:Ol.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return v1=i.slice(t,1<n?1-n:void 0)}function y1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function my(){return!0}function Q4(){return!1}function ha(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?my:Q4,this.isPropagationStopped=Q4,this}return yr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=my)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=my)},persist:function(){},isPersistent:my}),e}var Rh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uP=ha(Rh),Xv=yr({},Rh,{view:0,detail:0}),Rne=ha(Xv),SS,ES,Fp,Ib=yr({},Xv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dP,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fp&&(Fp&&t.type==="mousemove"?(SS=t.screenX-Fp.screenX,ES=t.screenY-Fp.screenY):ES=SS=0,Fp=t),SS)},movementY:function(t){return"movementY"in t?t.movementY:ES}}),Z4=ha(Ib),Dne=yr({},Ib,{dataTransfer:0}),Mne=ha(Dne),Lne=yr({},Xv,{relatedTarget:0}),AS=ha(Lne),$ne=yr({},Rh,{animationName:0,elapsedTime:0,pseudoElement:0}),Fne=ha($ne),Bne=yr({},Rh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Une=ha(Bne),Vne=yr({},Rh,{data:0}),J4=ha(Vne),zne={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wne={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gne(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Hne[t])?!!e[t]:!1}function dP(){return Gne}var qne=yr({},Xv,{key:function(t){if(t.key){var e=zne[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=y1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wne[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dP,charCode:function(t){return t.type==="keypress"?y1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?y1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Kne=ha(qne),Yne=yr({},Ib,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eR=ha(Yne),Xne=yr({},Xv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dP}),Qne=ha(Xne),Zne=yr({},Rh,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jne=ha(Zne),eie=yr({},Ib,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tie=ha(eie),rie=[9,13,27,32],fP=Rs&&"CompositionEvent"in window,$m=null;Rs&&"documentMode"in document&&($m=document.documentMode);var nie=Rs&&"TextEvent"in window&&!$m,oB=Rs&&(!fP||$m&&8<$m&&11>=$m),tR=" ",rR=!1;function sB(t,e){switch(t){case"keyup":return rie.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lB(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ud=!1;function iie(t,e){switch(t){case"compositionend":return lB(e);case"keypress":return e.which!==32?null:(rR=!0,tR);case"textInput":return t=e.data,t===tR&&rR?null:t;default:return null}}function aie(t,e){if(Ud)return t==="compositionend"||!fP&&sB(t,e)?(t=aB(),v1=cP=Ol=null,Ud=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return oB&&e.locale!=="ko"?null:e.data;default:return null}}var oie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!oie[t.type]:e==="textarea"}function cB(t,e,r,n){B7(n),e=ox(e,"onChange"),0<e.length&&(r=new uP("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Fm=null,vg=null;function sie(t){wB(t,0)}function Pb(t){var e=Wd(t);if(k7(e))return t}function lie(t,e){if(t==="change")return e}var uB=!1;if(Rs){var CS;if(Rs){var TS="oninput"in document;if(!TS){var iR=document.createElement("div");iR.setAttribute("oninput","return;"),TS=typeof iR.oninput=="function"}CS=TS}else CS=!1;uB=CS&&(!document.documentMode||9<document.documentMode)}function aR(){Fm&&(Fm.detachEvent("onpropertychange",dB),vg=Fm=null)}function dB(t){if(t.propertyName==="value"&&Pb(vg)){var e=[];cB(e,vg,t,iP(t)),W7(sie,e)}}function cie(t,e,r){t==="focusin"?(aR(),Fm=e,vg=r,Fm.attachEvent("onpropertychange",dB)):t==="focusout"&&aR()}function uie(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pb(vg)}function die(t,e){if(t==="click")return Pb(e)}function fie(t,e){if(t==="input"||t==="change")return Pb(e)}function hie(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var po=typeof Object.is=="function"?Object.is:hie;function yg(t,e){if(po(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!DA.call(e,i)||!po(t[i],e[i]))return!1}return!0}function oR(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sR(t,e){var r=oR(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=oR(r)}}function fB(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fB(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hB(){for(var t=window,e=J1();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=J1(t.document)}return e}function hP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function pie(t){var e=hB(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&fB(r.ownerDocument.documentElement,r)){if(n!==null&&hP(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=sR(r,a);var o=sR(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mie=Rs&&"documentMode"in document&&11>=document.documentMode,Vd=null,eC=null,Bm=null,tC=!1;function lR(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;tC||Vd==null||Vd!==J1(n)||(n=Vd,"selectionStart"in n&&hP(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Bm&&yg(Bm,n)||(Bm=n,n=ox(eC,"onSelect"),0<n.length&&(e=new uP("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Vd)))}function gy(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var zd={animationend:gy("Animation","AnimationEnd"),animationiteration:gy("Animation","AnimationIteration"),animationstart:gy("Animation","AnimationStart"),transitionend:gy("Transition","TransitionEnd")},NS={},pB={};Rs&&(pB=document.createElement("div").style,"AnimationEvent"in window||(delete zd.animationend.animation,delete zd.animationiteration.animation,delete zd.animationstart.animation),"TransitionEvent"in window||delete zd.transitionend.transition);function Ob(t){if(NS[t])return NS[t];if(!zd[t])return t;var e=zd[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in pB)return NS[t]=e[r];return t}var mB=Ob("animationend"),gB=Ob("animationiteration"),vB=Ob("animationstart"),yB=Ob("transitionend"),xB=new Map,cR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ac(t,e){xB.set(t,e),id(e,[t])}for(var IS=0;IS<cR.length;IS++){var PS=cR[IS],gie=PS.toLowerCase(),vie=PS[0].toUpperCase()+PS.slice(1);Ac(gie,"on"+vie)}Ac(mB,"onAnimationEnd");Ac(gB,"onAnimationIteration");Ac(vB,"onAnimationStart");Ac("dblclick","onDoubleClick");Ac("focusin","onFocus");Ac("focusout","onBlur");Ac(yB,"onTransitionEnd");Nf("onMouseEnter",["mouseout","mouseover"]);Nf("onMouseLeave",["mouseout","mouseover"]);Nf("onPointerEnter",["pointerout","pointerover"]);Nf("onPointerLeave",["pointerout","pointerover"]);id("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));id("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));id("onBeforeInput",["compositionend","keypress","textInput","paste"]);id("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));id("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));id("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ym="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yie=new Set("cancel close invalid load scroll toggle".split(" ").concat(ym));function uR(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,gne(n,e,void 0,t),t.currentTarget=null}function wB(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;uR(i,s,c),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;uR(i,s,c),a=l}}}if(tx)throw t=XA,tx=!1,XA=null,t}function qt(t,e){var r=e[oC];r===void 0&&(r=e[oC]=new Set);var n=t+"__bubble";r.has(n)||(bB(e,t,2,!1),r.add(n))}function OS(t,e,r){var n=0;e&&(n|=4),bB(r,t,n,e)}var vy="_reactListening"+Math.random().toString(36).slice(2);function xg(t){if(!t[vy]){t[vy]=!0,N7.forEach(function(r){r!=="selectionchange"&&(yie.has(r)||OS(r,!1,t),OS(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vy]||(e[vy]=!0,OS("selectionchange",!1,e))}}function bB(t,e,r,n){switch(iB(e)){case 1:var i=jne;break;case 4:i=kne;break;default:i=lP}r=i.bind(null,e,r,t),i=void 0,!YA||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function jS(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=cu(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}W7(function(){var c=a,d=iP(r),f=[];e:{var h=xB.get(t);if(h!==void 0){var p=uP,m=t;switch(t){case"keypress":if(y1(r)===0)break e;case"keydown":case"keyup":p=Kne;break;case"focusin":m="focus",p=AS;break;case"focusout":m="blur",p=AS;break;case"beforeblur":case"afterblur":p=AS;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Z4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Mne;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Qne;break;case mB:case gB:case vB:p=Fne;break;case yB:p=Jne;break;case"scroll":p=Rne;break;case"wheel":p=tie;break;case"copy":case"cut":case"paste":p=Une;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=eR}var g=(e&4)!==0,v=!g&&t==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var x=c,w;x!==null;){w=x;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=hg(x,y),S!=null&&g.push(wg(x,S,w)))),v)break;x=x.return}0<g.length&&(h=new p(h,m,null,r,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==qA&&(m=r.relatedTarget||r.fromElement)&&(cu(m)||m[Ds]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?cu(m):null,m!==null&&(v=ad(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=Z4,S="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(g=eR,S="onPointerLeave",y="onPointerEnter",x="pointer"),v=p==null?h:Wd(p),w=m==null?h:Wd(m),h=new g(S,x+"leave",p,r,d),h.target=v,h.relatedTarget=w,S=null,cu(d)===c&&(g=new g(y,x+"enter",m,r,d),g.target=w,g.relatedTarget=v,S=g),v=S,p&&m)t:{for(g=p,y=m,x=0,w=g;w;w=Ed(w))x++;for(w=0,S=y;S;S=Ed(S))w++;for(;0<x-w;)g=Ed(g),x--;for(;0<w-x;)y=Ed(y),w--;for(;x--;){if(g===y||y!==null&&g===y.alternate)break t;g=Ed(g),y=Ed(y)}g=null}else g=null;p!==null&&dR(f,h,p,g,!1),m!==null&&v!==null&&dR(f,v,m,g,!0)}}e:{if(h=c?Wd(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=lie;else if(nR(h))if(uB)E=fie;else{E=uie;var T=cie}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=die);if(E&&(E=E(t,c))){cB(f,E,r,d);break e}T&&T(t,h,c),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&VA(h,"number",h.value)}switch(T=c?Wd(c):window,t){case"focusin":(nR(T)||T.contentEditable==="true")&&(Vd=T,eC=c,Bm=null);break;case"focusout":Bm=eC=Vd=null;break;case"mousedown":tC=!0;break;case"contextmenu":case"mouseup":case"dragend":tC=!1,lR(f,r,d);break;case"selectionchange":if(mie)break;case"keydown":case"keyup":lR(f,r,d)}var A;if(fP)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ud?sB(t,r)&&(C="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(oB&&r.locale!=="ko"&&(Ud||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ud&&(A=aB()):(Ol=d,cP="value"in Ol?Ol.value:Ol.textContent,Ud=!0)),T=ox(c,C),0<T.length&&(C=new J4(C,t,null,r,d),f.push({event:C,listeners:T}),A?C.data=A:(A=lB(r),A!==null&&(C.data=A)))),(A=nie?iie(t,r):aie(t,r))&&(c=ox(c,"onBeforeInput"),0<c.length&&(d=new J4("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=A))}wB(f,e)})}function wg(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ox(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=hg(t,r),a!=null&&n.unshift(wg(t,a,i)),a=hg(t,e),a!=null&&n.push(wg(t,a,i))),t=t.return}return n}function Ed(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dR(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,i?(l=hg(r,a),l!=null&&o.unshift(wg(r,l,s))):i||(l=hg(r,a),l!=null&&o.push(wg(r,l,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var xie=/\r\n?/g,wie=/\u0000|\uFFFD/g;function fR(t){return(typeof t=="string"?t:""+t).replace(xie,`
`).replace(wie,"")}function yy(t,e,r){if(e=fR(e),fR(t)!==e&&r)throw Error(ye(425))}function sx(){}var rC=null,nC=null;function iC(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var aC=typeof setTimeout=="function"?setTimeout:void 0,bie=typeof clearTimeout=="function"?clearTimeout:void 0,hR=typeof Promise=="function"?Promise:void 0,_ie=typeof queueMicrotask=="function"?queueMicrotask:typeof hR<"u"?function(t){return hR.resolve(null).then(t).catch(Sie)}:aC;function Sie(t){setTimeout(function(){throw t})}function kS(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),gg(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);gg(e)}function Ul(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function pR(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Dh=Math.random().toString(36).slice(2),jo="__reactFiber$"+Dh,bg="__reactProps$"+Dh,Ds="__reactContainer$"+Dh,oC="__reactEvents$"+Dh,Eie="__reactListeners$"+Dh,Aie="__reactHandles$"+Dh;function cu(t){var e=t[jo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ds]||r[jo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=pR(t);t!==null;){if(r=t[jo])return r;t=pR(t)}return e}t=r,r=t.parentNode}return null}function Qv(t){return t=t[jo]||t[Ds],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ye(33))}function jb(t){return t[bg]||null}var sC=[],Hd=-1;function Cc(t){return{current:t}}function tr(t){0>Hd||(t.current=sC[Hd],sC[Hd]=null,Hd--)}function Ut(t,e){Hd++,sC[Hd]=t.current,t.current=e}var oc={},ei=Cc(oc),Di=Cc(!1),Ou=oc;function If(t,e){var r=t.type.contextTypes;if(!r)return oc;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Mi(t){return t=t.childContextTypes,t!=null}function lx(){tr(Di),tr(ei)}function mR(t,e,r){if(ei.current!==oc)throw Error(ye(168));Ut(ei,e),Ut(Di,r)}function _B(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ye(108,cne(t)||"Unknown",i));return yr({},r,n)}function cx(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||oc,Ou=ei.current,Ut(ei,t),Ut(Di,Di.current),!0}function gR(t,e,r){var n=t.stateNode;if(!n)throw Error(ye(169));r?(t=_B(t,e,Ou),n.__reactInternalMemoizedMergedChildContext=t,tr(Di),tr(ei),Ut(ei,t)):tr(Di),Ut(Di,r)}var ps=null,kb=!1,RS=!1;function SB(t){ps===null?ps=[t]:ps.push(t)}function Cie(t){kb=!0,SB(t)}function Tc(){if(!RS&&ps!==null){RS=!0;var t=0,e=Pt;try{var r=ps;for(Pt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ps=null,kb=!1}catch(i){throw ps!==null&&(ps=ps.slice(t+1)),K7(aP,Tc),i}finally{Pt=e,RS=!1}}return null}var Gd=[],qd=0,ux=null,dx=0,ba=[],_a=0,ju=null,ys=1,xs="";function Qc(t,e){Gd[qd++]=dx,Gd[qd++]=ux,ux=t,dx=e}function EB(t,e,r){ba[_a++]=ys,ba[_a++]=xs,ba[_a++]=ju,ju=t;var n=ys;t=xs;var i=32-lo(n)-1;n&=~(1<<i),r+=1;var a=32-lo(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ys=1<<32-lo(e)+i|r<<i|n,xs=a+t}else ys=1<<a|r<<i|n,xs=t}function pP(t){t.return!==null&&(Qc(t,1),EB(t,1,0))}function mP(t){for(;t===ux;)ux=Gd[--qd],Gd[qd]=null,dx=Gd[--qd],Gd[qd]=null;for(;t===ju;)ju=ba[--_a],ba[_a]=null,xs=ba[--_a],ba[_a]=null,ys=ba[--_a],ba[_a]=null}var na=null,ta=null,or=!1,to=null;function AB(t,e){var r=Ea(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function vR(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,na=t,ta=Ul(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,na=t,ta=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ju!==null?{id:ys,overflow:xs}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ea(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,na=t,ta=null,!0):!1;default:return!1}}function lC(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cC(t){if(or){var e=ta;if(e){var r=e;if(!vR(t,e)){if(lC(t))throw Error(ye(418));e=Ul(r.nextSibling);var n=na;e&&vR(t,e)?AB(n,r):(t.flags=t.flags&-4097|2,or=!1,na=t)}}else{if(lC(t))throw Error(ye(418));t.flags=t.flags&-4097|2,or=!1,na=t}}}function yR(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;na=t}function xy(t){if(t!==na)return!1;if(!or)return yR(t),or=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!iC(t.type,t.memoizedProps)),e&&(e=ta)){if(lC(t))throw CB(),Error(ye(418));for(;e;)AB(t,e),e=Ul(e.nextSibling)}if(yR(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ye(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ta=Ul(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ta=null}}else ta=na?Ul(t.stateNode.nextSibling):null;return!0}function CB(){for(var t=ta;t;)t=Ul(t.nextSibling)}function Pf(){ta=na=null,or=!1}function gP(t){to===null?to=[t]:to.push(t)}var Tie=Zs.ReactCurrentBatchConfig;function Bp(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ye(309));var n=r.stateNode}if(!n)throw Error(ye(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(ye(284));if(!r._owner)throw Error(ye(290,t))}return t}function wy(t,e){throw t=Object.prototype.toString.call(e),Error(ye(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function xR(t){var e=t._init;return e(t._payload)}function TB(t){function e(y,x){if(t){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function r(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Hl(y,x),y.index=0,y.sibling=null,y}function a(y,x,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function s(y,x,w,S){return x===null||x.tag!==6?(x=US(w,y.mode,S),x.return=y,x):(x=i(x,w),x.return=y,x)}function l(y,x,w,S){var E=w.type;return E===Bd?d(y,x,w.props.children,S,w.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===wl&&xR(E)===x.type)?(S=i(x,w.props),S.ref=Bp(y,x,w),S.return=y,S):(S=A1(w.type,w.key,w.props,null,y.mode,S),S.ref=Bp(y,x,w),S.return=y,S)}function c(y,x,w,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=VS(w,y.mode,S),x.return=y,x):(x=i(x,w.children||[]),x.return=y,x)}function d(y,x,w,S,E){return x===null||x.tag!==7?(x=Su(w,y.mode,S,E),x.return=y,x):(x=i(x,w),x.return=y,x)}function f(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=US(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case cy:return w=A1(x.type,x.key,x.props,null,y.mode,w),w.ref=Bp(y,null,x),w.return=y,w;case Fd:return x=VS(x,y.mode,w),x.return=y,x;case wl:var S=x._init;return f(y,S(x._payload),w)}if(gm(x)||Dp(x))return x=Su(x,y.mode,w,null),x.return=y,x;wy(y,x)}return null}function h(y,x,w,S){var E=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:s(y,x,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case cy:return w.key===E?l(y,x,w,S):null;case Fd:return w.key===E?c(y,x,w,S):null;case wl:return E=w._init,h(y,x,E(w._payload),S)}if(gm(w)||Dp(w))return E!==null?null:d(y,x,w,S,null);wy(y,w)}return null}function p(y,x,w,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,s(x,y,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case cy:return y=y.get(S.key===null?w:S.key)||null,l(x,y,S,E);case Fd:return y=y.get(S.key===null?w:S.key)||null,c(x,y,S,E);case wl:var T=S._init;return p(y,x,w,T(S._payload),E)}if(gm(S)||Dp(S))return y=y.get(w)||null,d(x,y,S,E,null);wy(x,S)}return null}function m(y,x,w,S){for(var E=null,T=null,A=x,C=x=0,N=null;A!==null&&C<w.length;C++){A.index>C?(N=A,A=null):N=A.sibling;var I=h(y,A,w[C],S);if(I===null){A===null&&(A=N);break}t&&A&&I.alternate===null&&e(y,A),x=a(I,x,C),T===null?E=I:T.sibling=I,T=I,A=N}if(C===w.length)return r(y,A),or&&Qc(y,C),E;if(A===null){for(;C<w.length;C++)A=f(y,w[C],S),A!==null&&(x=a(A,x,C),T===null?E=A:T.sibling=A,T=A);return or&&Qc(y,C),E}for(A=n(y,A);C<w.length;C++)N=p(A,y,C,w[C],S),N!==null&&(t&&N.alternate!==null&&A.delete(N.key===null?C:N.key),x=a(N,x,C),T===null?E=N:T.sibling=N,T=N);return t&&A.forEach(function(P){return e(y,P)}),or&&Qc(y,C),E}function g(y,x,w,S){var E=Dp(w);if(typeof E!="function")throw Error(ye(150));if(w=E.call(w),w==null)throw Error(ye(151));for(var T=E=null,A=x,C=x=0,N=null,I=w.next();A!==null&&!I.done;C++,I=w.next()){A.index>C?(N=A,A=null):N=A.sibling;var P=h(y,A,I.value,S);if(P===null){A===null&&(A=N);break}t&&A&&P.alternate===null&&e(y,A),x=a(P,x,C),T===null?E=P:T.sibling=P,T=P,A=N}if(I.done)return r(y,A),or&&Qc(y,C),E;if(A===null){for(;!I.done;C++,I=w.next())I=f(y,I.value,S),I!==null&&(x=a(I,x,C),T===null?E=I:T.sibling=I,T=I);return or&&Qc(y,C),E}for(A=n(y,A);!I.done;C++,I=w.next())I=p(A,y,C,I.value,S),I!==null&&(t&&I.alternate!==null&&A.delete(I.key===null?C:I.key),x=a(I,x,C),T===null?E=I:T.sibling=I,T=I);return t&&A.forEach(function(k){return e(y,k)}),or&&Qc(y,C),E}function v(y,x,w,S){if(typeof w=="object"&&w!==null&&w.type===Bd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case cy:e:{for(var E=w.key,T=x;T!==null;){if(T.key===E){if(E=w.type,E===Bd){if(T.tag===7){r(y,T.sibling),x=i(T,w.props.children),x.return=y,y=x;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===wl&&xR(E)===T.type){r(y,T.sibling),x=i(T,w.props),x.ref=Bp(y,T,w),x.return=y,y=x;break e}r(y,T);break}else e(y,T);T=T.sibling}w.type===Bd?(x=Su(w.props.children,y.mode,S,w.key),x.return=y,y=x):(S=A1(w.type,w.key,w.props,null,y.mode,S),S.ref=Bp(y,x,w),S.return=y,y=S)}return o(y);case Fd:e:{for(T=w.key;x!==null;){if(x.key===T)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(y,x.sibling),x=i(x,w.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else e(y,x);x=x.sibling}x=VS(w,y.mode,S),x.return=y,y=x}return o(y);case wl:return T=w._init,v(y,x,T(w._payload),S)}if(gm(w))return m(y,x,w,S);if(Dp(w))return g(y,x,w,S);wy(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(y,x.sibling),x=i(x,w),x.return=y,y=x):(r(y,x),x=US(w,y.mode,S),x.return=y,y=x),o(y)):r(y,x)}return v}var Of=TB(!0),NB=TB(!1),fx=Cc(null),hx=null,Kd=null,vP=null;function yP(){vP=Kd=hx=null}function xP(t){var e=fx.current;tr(fx),t._currentValue=e}function uC(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function hf(t,e){hx=t,vP=Kd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ji=!0),t.firstContext=null)}function Oa(t){var e=t._currentValue;if(vP!==t)if(t={context:t,memoizedValue:e,next:null},Kd===null){if(hx===null)throw Error(ye(308));Kd=t,hx.dependencies={lanes:0,firstContext:t}}else Kd=Kd.next=t;return e}var uu=null;function wP(t){uu===null?uu=[t]:uu.push(t)}function IB(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,wP(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ms(t,n)}function Ms(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var bl=!1;function bP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PB(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vl(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,yt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ms(t,r)}return i=n.interleaved,i===null?(e.next=e,wP(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ms(t,r)}function x1(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,oP(t,r)}}function wR(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function px(t,e,r,n){var i=t.updateQueue;bl=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,d=c=l=null,s=a;do{var h=s.lane,p=s.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=t,g=s;switch(h=e,p=r,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=yr({},f,h);break e;case 2:bl=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Ru|=o,t.lanes=o,t.memoizedState=f}}function bR(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ye(191,i));i.call(n)}}}var Zv={},Fo=Cc(Zv),_g=Cc(Zv),Sg=Cc(Zv);function du(t){if(t===Zv)throw Error(ye(174));return t}function _P(t,e){switch(Ut(Sg,e),Ut(_g,t),Ut(Fo,Zv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:WA(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=WA(e,t)}tr(Fo),Ut(Fo,e)}function jf(){tr(Fo),tr(_g),tr(Sg)}function OB(t){du(Sg.current);var e=du(Fo.current),r=WA(e,t.type);e!==r&&(Ut(_g,t),Ut(Fo,r))}function SP(t){_g.current===t&&(tr(Fo),tr(_g))}var fr=Cc(0);function mx(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var DS=[];function EP(){for(var t=0;t<DS.length;t++)DS[t]._workInProgressVersionPrimary=null;DS.length=0}var w1=Zs.ReactCurrentDispatcher,MS=Zs.ReactCurrentBatchConfig,ku=0,gr=null,Yr=null,hn=null,gx=!1,Um=!1,Eg=0,Nie=0;function $n(){throw Error(ye(321))}function AP(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!po(t[r],e[r]))return!1;return!0}function CP(t,e,r,n,i,a){if(ku=a,gr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,w1.current=t===null||t.memoizedState===null?jie:kie,t=r(n,i),Um){a=0;do{if(Um=!1,Eg=0,25<=a)throw Error(ye(301));a+=1,hn=Yr=null,e.updateQueue=null,w1.current=Rie,t=r(n,i)}while(Um)}if(w1.current=vx,e=Yr!==null&&Yr.next!==null,ku=0,hn=Yr=gr=null,gx=!1,e)throw Error(ye(300));return t}function TP(){var t=Eg!==0;return Eg=0,t}function To(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?gr.memoizedState=hn=t:hn=hn.next=t,hn}function ja(){if(Yr===null){var t=gr.alternate;t=t!==null?t.memoizedState:null}else t=Yr.next;var e=hn===null?gr.memoizedState:hn.next;if(e!==null)hn=e,Yr=t;else{if(t===null)throw Error(ye(310));Yr=t,t={memoizedState:Yr.memoizedState,baseState:Yr.baseState,baseQueue:Yr.baseQueue,queue:Yr.queue,next:null},hn===null?gr.memoizedState=hn=t:hn=hn.next=t}return hn}function Ag(t,e){return typeof e=="function"?e(t):e}function LS(t){var e=ja(),r=e.queue;if(r===null)throw Error(ye(311));r.lastRenderedReducer=t;var n=Yr,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,c=a;do{var d=c.lane;if((ku&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,o=n):l=l.next=f,gr.lanes|=d,Ru|=d}c=c.next}while(c!==null&&c!==a);l===null?o=n:l.next=s,po(n,e.memoizedState)||(ji=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,gr.lanes|=a,Ru|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function $S(t){var e=ja(),r=e.queue;if(r===null)throw Error(ye(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);po(a,e.memoizedState)||(ji=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function jB(){}function kB(t,e){var r=gr,n=ja(),i=e(),a=!po(n.memoizedState,i);if(a&&(n.memoizedState=i,ji=!0),n=n.queue,NP(MB.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||hn!==null&&hn.memoizedState.tag&1){if(r.flags|=2048,Cg(9,DB.bind(null,r,n,i,e),void 0,null),yn===null)throw Error(ye(349));ku&30||RB(r,e,i)}return i}function RB(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=gr.updateQueue,e===null?(e={lastEffect:null,stores:null},gr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function DB(t,e,r,n){e.value=r,e.getSnapshot=n,LB(e)&&$B(t)}function MB(t,e,r){return r(function(){LB(e)&&$B(t)})}function LB(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!po(t,r)}catch{return!0}}function $B(t){var e=Ms(t,1);e!==null&&co(e,t,1,-1)}function _R(t){var e=To();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ag,lastRenderedState:t},e.queue=t,t=t.dispatch=Oie.bind(null,gr,t),[e.memoizedState,t]}function Cg(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=gr.updateQueue,e===null?(e={lastEffect:null,stores:null},gr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function FB(){return ja().memoizedState}function b1(t,e,r,n){var i=To();gr.flags|=t,i.memoizedState=Cg(1|e,r,void 0,n===void 0?null:n)}function Rb(t,e,r,n){var i=ja();n=n===void 0?null:n;var a=void 0;if(Yr!==null){var o=Yr.memoizedState;if(a=o.destroy,n!==null&&AP(n,o.deps)){i.memoizedState=Cg(e,r,a,n);return}}gr.flags|=t,i.memoizedState=Cg(1|e,r,a,n)}function SR(t,e){return b1(8390656,8,t,e)}function NP(t,e){return Rb(2048,8,t,e)}function BB(t,e){return Rb(4,2,t,e)}function UB(t,e){return Rb(4,4,t,e)}function VB(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zB(t,e,r){return r=r!=null?r.concat([t]):null,Rb(4,4,VB.bind(null,e,t),r)}function IP(){}function WB(t,e){var r=ja();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&AP(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function HB(t,e){var r=ja();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&AP(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function GB(t,e,r){return ku&21?(po(r,e)||(r=Q7(),gr.lanes|=r,Ru|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ji=!0),t.memoizedState=r)}function Iie(t,e){var r=Pt;Pt=r!==0&&4>r?r:4,t(!0);var n=MS.transition;MS.transition={};try{t(!1),e()}finally{Pt=r,MS.transition=n}}function qB(){return ja().memoizedState}function Pie(t,e,r){var n=Wl(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},KB(t))YB(e,r);else if(r=IB(t,e,r,n),r!==null){var i=vi();co(r,t,n,i),XB(r,e,n)}}function Oie(t,e,r){var n=Wl(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(KB(t))YB(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,po(s,o)){var l=e.interleaved;l===null?(i.next=i,wP(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=IB(t,e,i,n),r!==null&&(i=vi(),co(r,t,n,i),XB(r,e,n))}}function KB(t){var e=t.alternate;return t===gr||e!==null&&e===gr}function YB(t,e){Um=gx=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function XB(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,oP(t,r)}}var vx={readContext:Oa,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useInsertionEffect:$n,useLayoutEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useMutableSource:$n,useSyncExternalStore:$n,useId:$n,unstable_isNewReconciler:!1},jie={readContext:Oa,useCallback:function(t,e){return To().memoizedState=[t,e===void 0?null:e],t},useContext:Oa,useEffect:SR,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,b1(4194308,4,VB.bind(null,e,t),r)},useLayoutEffect:function(t,e){return b1(4194308,4,t,e)},useInsertionEffect:function(t,e){return b1(4,2,t,e)},useMemo:function(t,e){var r=To();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=To();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Pie.bind(null,gr,t),[n.memoizedState,t]},useRef:function(t){var e=To();return t={current:t},e.memoizedState=t},useState:_R,useDebugValue:IP,useDeferredValue:function(t){return To().memoizedState=t},useTransition:function(){var t=_R(!1),e=t[0];return t=Iie.bind(null,t[1]),To().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=gr,i=To();if(or){if(r===void 0)throw Error(ye(407));r=r()}else{if(r=e(),yn===null)throw Error(ye(349));ku&30||RB(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,SR(MB.bind(null,n,a,t),[t]),n.flags|=2048,Cg(9,DB.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=To(),e=yn.identifierPrefix;if(or){var r=xs,n=ys;r=(n&~(1<<32-lo(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Eg++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Nie++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kie={readContext:Oa,useCallback:WB,useContext:Oa,useEffect:NP,useImperativeHandle:zB,useInsertionEffect:BB,useLayoutEffect:UB,useMemo:HB,useReducer:LS,useRef:FB,useState:function(){return LS(Ag)},useDebugValue:IP,useDeferredValue:function(t){var e=ja();return GB(e,Yr.memoizedState,t)},useTransition:function(){var t=LS(Ag)[0],e=ja().memoizedState;return[t,e]},useMutableSource:jB,useSyncExternalStore:kB,useId:qB,unstable_isNewReconciler:!1},Rie={readContext:Oa,useCallback:WB,useContext:Oa,useEffect:NP,useImperativeHandle:zB,useInsertionEffect:BB,useLayoutEffect:UB,useMemo:HB,useReducer:$S,useRef:FB,useState:function(){return $S(Ag)},useDebugValue:IP,useDeferredValue:function(t){var e=ja();return Yr===null?e.memoizedState=t:GB(e,Yr.memoizedState,t)},useTransition:function(){var t=$S(Ag)[0],e=ja().memoizedState;return[t,e]},useMutableSource:jB,useSyncExternalStore:kB,useId:qB,unstable_isNewReconciler:!1};function Qa(t,e){if(t&&t.defaultProps){e=yr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function dC(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:yr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Db={isMounted:function(t){return(t=t._reactInternals)?ad(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=vi(),i=Wl(t),a=Cs(n,i);a.payload=e,r!=null&&(a.callback=r),e=Vl(t,a,i),e!==null&&(co(e,t,i,n),x1(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=vi(),i=Wl(t),a=Cs(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Vl(t,a,i),e!==null&&(co(e,t,i,n),x1(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=vi(),n=Wl(t),i=Cs(r,n);i.tag=2,e!=null&&(i.callback=e),e=Vl(t,i,n),e!==null&&(co(e,t,n,r),x1(e,t,n))}};function ER(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!yg(r,n)||!yg(i,a):!0}function QB(t,e,r){var n=!1,i=oc,a=e.contextType;return typeof a=="object"&&a!==null?a=Oa(a):(i=Mi(e)?Ou:ei.current,n=e.contextTypes,a=(n=n!=null)?If(t,i):oc),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Db,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function AR(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Db.enqueueReplaceState(e,e.state,null)}function fC(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},bP(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Oa(a):(a=Mi(e)?Ou:ei.current,i.context=If(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(dC(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Db.enqueueReplaceState(i,i.state,null),px(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function kf(t,e){try{var r="",n=e;do r+=lne(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function FS(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function hC(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Die=typeof WeakMap=="function"?WeakMap:Map;function ZB(t,e,r){r=Cs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){xx||(xx=!0,SC=n),hC(t,e)},r}function JB(t,e,r){r=Cs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){hC(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){hC(t,e),typeof n!="function"&&(zl===null?zl=new Set([this]):zl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function CR(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Die;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=Yie.bind(null,t,e,r),e.then(t,t))}function TR(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function NR(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Cs(-1,1),e.tag=2,Vl(r,e,1))),r.lanes|=1),t)}var Mie=Zs.ReactCurrentOwner,ji=!1;function fi(t,e,r,n){e.child=t===null?NB(e,null,r,n):Of(e,t.child,r,n)}function IR(t,e,r,n,i){r=r.render;var a=e.ref;return hf(e,i),n=CP(t,e,r,n,a,i),r=TP(),t!==null&&!ji?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ls(t,e,i)):(or&&r&&pP(e),e.flags|=1,fi(t,e,n,i),e.child)}function PR(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!LP(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,eU(t,e,a,n,i)):(t=A1(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:yg,r(o,n)&&t.ref===e.ref)return Ls(t,e,i)}return e.flags|=1,t=Hl(a,n),t.ref=e.ref,t.return=e,e.child=t}function eU(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(yg(a,n)&&t.ref===e.ref)if(ji=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(ji=!0);else return e.lanes=t.lanes,Ls(t,e,i)}return pC(t,e,r,n,i)}function tU(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ut(Xd,Xi),Xi|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ut(Xd,Xi),Xi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ut(Xd,Xi),Xi|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Ut(Xd,Xi),Xi|=n;return fi(t,e,i,r),e.child}function rU(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function pC(t,e,r,n,i){var a=Mi(r)?Ou:ei.current;return a=If(e,a),hf(e,i),r=CP(t,e,r,n,a,i),n=TP(),t!==null&&!ji?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ls(t,e,i)):(or&&n&&pP(e),e.flags|=1,fi(t,e,r,i),e.child)}function OR(t,e,r,n,i){if(Mi(r)){var a=!0;cx(e)}else a=!1;if(hf(e,i),e.stateNode===null)_1(t,e),QB(e,r,n),fC(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Oa(c):(c=Mi(r)?Ou:ei.current,c=If(e,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==c)&&AR(e,o,n,c),bl=!1;var h=e.memoizedState;o.state=h,px(e,n,o,i),l=e.memoizedState,s!==n||h!==l||Di.current||bl?(typeof d=="function"&&(dC(e,r,d,n),l=e.memoizedState),(s=bl||ER(e,r,s,n,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,PB(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:Qa(e.type,s),o.props=c,f=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Oa(l):(l=Mi(r)?Ou:ei.current,l=If(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&AR(e,o,n,l),bl=!1,h=e.memoizedState,o.state=h,px(e,n,o,i);var m=e.memoizedState;s!==f||h!==m||Di.current||bl?(typeof p=="function"&&(dC(e,r,p,n),m=e.memoizedState),(c=bl||ER(e,r,c,n,h,m,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),o.props=n,o.state=m,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return mC(t,e,r,n,a,i)}function mC(t,e,r,n,i,a){rU(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&gR(e,r,!1),Ls(t,e,a);n=e.stateNode,Mie.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Of(e,t.child,null,a),e.child=Of(e,null,s,a)):fi(t,e,s,a),e.memoizedState=n.state,i&&gR(e,r,!0),e.child}function nU(t){var e=t.stateNode;e.pendingContext?mR(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mR(t,e.context,!1),_P(t,e.containerInfo)}function jR(t,e,r,n,i){return Pf(),gP(i),e.flags|=256,fi(t,e,r,n),e.child}var gC={dehydrated:null,treeContext:null,retryLane:0};function vC(t){return{baseLanes:t,cachePool:null,transitions:null}}function iU(t,e,r){var n=e.pendingProps,i=fr.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ut(fr,i&1),t===null)return cC(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=$b(o,n,0,null),t=Su(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=vC(r),e.memoizedState=gC,t):PP(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Lie(t,e,o,n,s,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Hl(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Hl(s,a):(a=Su(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?vC(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=gC,n}return a=t.child,t=a.sibling,n=Hl(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function PP(t,e){return e=$b({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function by(t,e,r,n){return n!==null&&gP(n),Of(e,t.child,null,r),t=PP(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Lie(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=FS(Error(ye(422))),by(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=$b({mode:"visible",children:n.children},i,0,null),a=Su(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Of(e,t.child,null,o),e.child.memoizedState=vC(o),e.memoizedState=gC,a);if(!(e.mode&1))return by(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(ye(419)),n=FS(a,n,void 0),by(t,e,o,n)}if(s=(o&t.childLanes)!==0,ji||s){if(n=yn,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ms(t,i),co(n,t,i,-1))}return MP(),n=FS(Error(ye(421))),by(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Xie.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ta=Ul(i.nextSibling),na=e,or=!0,to=null,t!==null&&(ba[_a++]=ys,ba[_a++]=xs,ba[_a++]=ju,ys=t.id,xs=t.overflow,ju=e),e=PP(e,n.children),e.flags|=4096,e)}function kR(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),uC(t.return,e,r)}function BS(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function aU(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(fi(t,e,n.children,r),n=fr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kR(t,r,e);else if(t.tag===19)kR(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ut(fr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&mx(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),BS(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&mx(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}BS(e,!0,r,null,a);break;case"together":BS(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ls(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ru|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ye(153));if(e.child!==null){for(t=e.child,r=Hl(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Hl(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function $ie(t,e,r){switch(e.tag){case 3:nU(e),Pf();break;case 5:OB(e);break;case 1:Mi(e.type)&&cx(e);break;case 4:_P(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ut(fx,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ut(fr,fr.current&1),e.flags|=128,null):r&e.child.childLanes?iU(t,e,r):(Ut(fr,fr.current&1),t=Ls(t,e,r),t!==null?t.sibling:null);Ut(fr,fr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return aU(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ut(fr,fr.current),n)break;return null;case 22:case 23:return e.lanes=0,tU(t,e,r)}return Ls(t,e,r)}var oU,yC,sU,lU;oU=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};yC=function(){};sU=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,du(Fo.current);var a=null;switch(r){case"input":i=BA(t,i),n=BA(t,n),a=[];break;case"select":i=yr({},i,{value:void 0}),n=yr({},n,{value:void 0}),a=[];break;case"textarea":i=zA(t,i),n=zA(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=sx)}HA(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(dg.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(s=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(dg.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&qt("scroll",t),a||s===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};lU=function(t,e,r,n){r!==n&&(e.flags|=4)};function Up(t,e){if(!or)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Fn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Fie(t,e,r){var n=e.pendingProps;switch(mP(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fn(e),null;case 1:return Mi(e.type)&&lx(),Fn(e),null;case 3:return n=e.stateNode,jf(),tr(Di),tr(ei),EP(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(xy(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,to!==null&&(CC(to),to=null))),yC(t,e),Fn(e),null;case 5:SP(e);var i=du(Sg.current);if(r=e.type,t!==null&&e.stateNode!=null)sU(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ye(166));return Fn(e),null}if(t=du(Fo.current),xy(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[jo]=e,n[bg]=a,t=(e.mode&1)!==0,r){case"dialog":qt("cancel",n),qt("close",n);break;case"iframe":case"object":case"embed":qt("load",n);break;case"video":case"audio":for(i=0;i<ym.length;i++)qt(ym[i],n);break;case"source":qt("error",n);break;case"img":case"image":case"link":qt("error",n),qt("load",n);break;case"details":qt("toggle",n);break;case"input":V4(n,a),qt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},qt("invalid",n);break;case"textarea":W4(n,a),qt("invalid",n)}HA(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&yy(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&yy(n.textContent,s,t),i=["children",""+s]):dg.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&qt("scroll",n)}switch(r){case"input":uy(n),z4(n,a,!0);break;case"textarea":uy(n),H4(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=sx)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=M7(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[jo]=e,t[bg]=n,oU(t,e,!1,!1),e.stateNode=t;e:{switch(o=GA(r,n),r){case"dialog":qt("cancel",t),qt("close",t),i=n;break;case"iframe":case"object":case"embed":qt("load",t),i=n;break;case"video":case"audio":for(i=0;i<ym.length;i++)qt(ym[i],t);i=n;break;case"source":qt("error",t),i=n;break;case"img":case"image":case"link":qt("error",t),qt("load",t),i=n;break;case"details":qt("toggle",t),i=n;break;case"input":V4(t,n),i=BA(t,n),qt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=yr({},n,{value:void 0}),qt("invalid",t);break;case"textarea":W4(t,n),i=zA(t,n),qt("invalid",t);break;default:i=n}HA(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?F7(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&L7(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&fg(t,l):typeof l=="number"&&fg(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(dg.hasOwnProperty(a)?l!=null&&a==="onScroll"&&qt("scroll",t):l!=null&&eP(t,a,l,o))}switch(r){case"input":uy(t),z4(t,n,!1);break;case"textarea":uy(t),H4(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ac(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?cf(t,!!n.multiple,a,!1):n.defaultValue!=null&&cf(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=sx)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Fn(e),null;case 6:if(t&&e.stateNode!=null)lU(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ye(166));if(r=du(Sg.current),du(Fo.current),xy(e)){if(n=e.stateNode,r=e.memoizedProps,n[jo]=e,(a=n.nodeValue!==r)&&(t=na,t!==null))switch(t.tag){case 3:yy(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yy(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[jo]=e,e.stateNode=n}return Fn(e),null;case 13:if(tr(fr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(or&&ta!==null&&e.mode&1&&!(e.flags&128))CB(),Pf(),e.flags|=98560,a=!1;else if(a=xy(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(ye(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ye(317));a[jo]=e}else Pf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Fn(e),a=!1}else to!==null&&(CC(to),to=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||fr.current&1?en===0&&(en=3):MP())),e.updateQueue!==null&&(e.flags|=4),Fn(e),null);case 4:return jf(),yC(t,e),t===null&&xg(e.stateNode.containerInfo),Fn(e),null;case 10:return xP(e.type._context),Fn(e),null;case 17:return Mi(e.type)&&lx(),Fn(e),null;case 19:if(tr(fr),a=e.memoizedState,a===null)return Fn(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Up(a,!1);else{if(en!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=mx(t),o!==null){for(e.flags|=128,Up(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ut(fr,fr.current&1|2),e.child}t=t.sibling}a.tail!==null&&Rr()>Rf&&(e.flags|=128,n=!0,Up(a,!1),e.lanes=4194304)}else{if(!n)if(t=mx(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Up(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!or)return Fn(e),null}else 2*Rr()-a.renderingStartTime>Rf&&r!==1073741824&&(e.flags|=128,n=!0,Up(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Rr(),e.sibling=null,r=fr.current,Ut(fr,n?r&1|2:r&1),e):(Fn(e),null);case 22:case 23:return DP(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Xi&1073741824&&(Fn(e),e.subtreeFlags&6&&(e.flags|=8192)):Fn(e),null;case 24:return null;case 25:return null}throw Error(ye(156,e.tag))}function Bie(t,e){switch(mP(e),e.tag){case 1:return Mi(e.type)&&lx(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jf(),tr(Di),tr(ei),EP(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return SP(e),null;case 13:if(tr(fr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ye(340));Pf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return tr(fr),null;case 4:return jf(),null;case 10:return xP(e.type._context),null;case 22:case 23:return DP(),null;case 24:return null;default:return null}}var _y=!1,Kn=!1,Uie=typeof WeakSet=="function"?WeakSet:Set,je=null;function Yd(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Er(t,e,n)}else r.current=null}function xC(t,e,r){try{r()}catch(n){Er(t,e,n)}}var RR=!1;function Vie(t,e){if(rC=ix,t=hB(),hP(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(s=o+i),f!==a||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++c===i&&(s=o),h===a&&++d===n&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(nC={focusedElem:t,selectionRange:r},ix=!1,je=e;je!==null;)if(e=je,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,je=t;else for(;je!==null;){e=je;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:Qa(e.type,g),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ye(163))}}catch(S){Er(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,je=t;break}je=e.return}return m=RR,RR=!1,m}function Vm(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&xC(e,r,a)}i=i.next}while(i!==n)}}function Mb(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function wC(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function cU(t){var e=t.alternate;e!==null&&(t.alternate=null,cU(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jo],delete e[bg],delete e[oC],delete e[Eie],delete e[Aie])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uU(t){return t.tag===5||t.tag===3||t.tag===4}function DR(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uU(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bC(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=sx));else if(n!==4&&(t=t.child,t!==null))for(bC(t,e,r),t=t.sibling;t!==null;)bC(t,e,r),t=t.sibling}function _C(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(_C(t,e,r),t=t.sibling;t!==null;)_C(t,e,r),t=t.sibling}var An=null,Za=!1;function cl(t,e,r){for(r=r.child;r!==null;)dU(t,e,r),r=r.sibling}function dU(t,e,r){if($o&&typeof $o.onCommitFiberUnmount=="function")try{$o.onCommitFiberUnmount(Nb,r)}catch{}switch(r.tag){case 5:Kn||Yd(r,e);case 6:var n=An,i=Za;An=null,cl(t,e,r),An=n,Za=i,An!==null&&(Za?(t=An,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):An.removeChild(r.stateNode));break;case 18:An!==null&&(Za?(t=An,r=r.stateNode,t.nodeType===8?kS(t.parentNode,r):t.nodeType===1&&kS(t,r),gg(t)):kS(An,r.stateNode));break;case 4:n=An,i=Za,An=r.stateNode.containerInfo,Za=!0,cl(t,e,r),An=n,Za=i;break;case 0:case 11:case 14:case 15:if(!Kn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&xC(r,e,o),i=i.next}while(i!==n)}cl(t,e,r);break;case 1:if(!Kn&&(Yd(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Er(r,e,s)}cl(t,e,r);break;case 21:cl(t,e,r);break;case 22:r.mode&1?(Kn=(n=Kn)||r.memoizedState!==null,cl(t,e,r),Kn=n):cl(t,e,r);break;default:cl(t,e,r)}}function MR(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Uie),e.forEach(function(n){var i=Qie.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Wa(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:An=s.stateNode,Za=!1;break e;case 3:An=s.stateNode.containerInfo,Za=!0;break e;case 4:An=s.stateNode.containerInfo,Za=!0;break e}s=s.return}if(An===null)throw Error(ye(160));dU(a,o,i),An=null,Za=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Er(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fU(e,t),e=e.sibling}function fU(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wa(e,t),Co(t),n&4){try{Vm(3,t,t.return),Mb(3,t)}catch(g){Er(t,t.return,g)}try{Vm(5,t,t.return)}catch(g){Er(t,t.return,g)}}break;case 1:Wa(e,t),Co(t),n&512&&r!==null&&Yd(r,r.return);break;case 5:if(Wa(e,t),Co(t),n&512&&r!==null&&Yd(r,r.return),t.flags&32){var i=t.stateNode;try{fg(i,"")}catch(g){Er(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&R7(i,a),GA(s,o);var c=GA(s,a);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?F7(i,f):d==="dangerouslySetInnerHTML"?L7(i,f):d==="children"?fg(i,f):eP(i,d,f,c)}switch(s){case"input":UA(i,a);break;case"textarea":D7(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?cf(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?cf(i,!!a.multiple,a.defaultValue,!0):cf(i,!!a.multiple,a.multiple?[]:"",!1))}i[bg]=a}catch(g){Er(t,t.return,g)}}break;case 6:if(Wa(e,t),Co(t),n&4){if(t.stateNode===null)throw Error(ye(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){Er(t,t.return,g)}}break;case 3:if(Wa(e,t),Co(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{gg(e.containerInfo)}catch(g){Er(t,t.return,g)}break;case 4:Wa(e,t),Co(t);break;case 13:Wa(e,t),Co(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(kP=Rr())),n&4&&MR(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Kn=(c=Kn)||d,Wa(e,t),Kn=c):Wa(e,t),Co(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(je=t,d=t.child;d!==null;){for(f=je=d;je!==null;){switch(h=je,p=h.child,h.tag){case 0:case 11:case 14:case 15:Vm(4,h,h.return);break;case 1:Yd(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Er(n,r,g)}}break;case 5:Yd(h,h.return);break;case 22:if(h.memoizedState!==null){$R(f);continue}}p!==null?(p.return=h,je=p):$R(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=$7("display",o))}catch(g){Er(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Er(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Wa(e,t),Co(t),n&4&&MR(t);break;case 21:break;default:Wa(e,t),Co(t)}}function Co(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(uU(r)){var n=r;break e}r=r.return}throw Error(ye(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(fg(i,""),n.flags&=-33);var a=DR(t);_C(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=DR(t);bC(t,s,o);break;default:throw Error(ye(161))}}catch(l){Er(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zie(t,e,r){je=t,hU(t)}function hU(t,e,r){for(var n=(t.mode&1)!==0;je!==null;){var i=je,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||_y;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Kn;s=_y;var c=Kn;if(_y=o,(Kn=l)&&!c)for(je=i;je!==null;)o=je,l=o.child,o.tag===22&&o.memoizedState!==null?FR(i):l!==null?(l.return=o,je=l):FR(i);for(;a!==null;)je=a,hU(a),a=a.sibling;je=i,_y=s,Kn=c}LR(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,je=a):LR(t)}}function LR(t){for(;je!==null;){var e=je;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kn||Mb(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Kn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Qa(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&bR(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}bR(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&gg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ye(163))}Kn||e.flags&512&&wC(e)}catch(h){Er(e,e.return,h)}}if(e===t){je=null;break}if(r=e.sibling,r!==null){r.return=e.return,je=r;break}je=e.return}}function $R(t){for(;je!==null;){var e=je;if(e===t){je=null;break}var r=e.sibling;if(r!==null){r.return=e.return,je=r;break}je=e.return}}function FR(t){for(;je!==null;){var e=je;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Mb(4,e)}catch(l){Er(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Er(e,i,l)}}var a=e.return;try{wC(e)}catch(l){Er(e,a,l)}break;case 5:var o=e.return;try{wC(e)}catch(l){Er(e,o,l)}}}catch(l){Er(e,e.return,l)}if(e===t){je=null;break}var s=e.sibling;if(s!==null){s.return=e.return,je=s;break}je=e.return}}var Wie=Math.ceil,yx=Zs.ReactCurrentDispatcher,OP=Zs.ReactCurrentOwner,Ta=Zs.ReactCurrentBatchConfig,yt=0,yn=null,Vr=null,Pn=0,Xi=0,Xd=Cc(0),en=0,Tg=null,Ru=0,Lb=0,jP=0,zm=null,Ii=null,kP=0,Rf=1/0,fs=null,xx=!1,SC=null,zl=null,Sy=!1,jl=null,wx=0,Wm=0,EC=null,S1=-1,E1=0;function vi(){return yt&6?Rr():S1!==-1?S1:S1=Rr()}function Wl(t){return t.mode&1?yt&2&&Pn!==0?Pn&-Pn:Tie.transition!==null?(E1===0&&(E1=Q7()),E1):(t=Pt,t!==0||(t=window.event,t=t===void 0?16:iB(t.type)),t):1}function co(t,e,r,n){if(50<Wm)throw Wm=0,EC=null,Error(ye(185));Yv(t,r,n),(!(yt&2)||t!==yn)&&(t===yn&&(!(yt&2)&&(Lb|=r),en===4&&Cl(t,Pn)),Li(t,n),r===1&&yt===0&&!(e.mode&1)&&(Rf=Rr()+500,kb&&Tc()))}function Li(t,e){var r=t.callbackNode;Tne(t,e);var n=nx(t,t===yn?Pn:0);if(n===0)r!==null&&K4(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&K4(r),e===1)t.tag===0?Cie(BR.bind(null,t)):SB(BR.bind(null,t)),_ie(function(){!(yt&6)&&Tc()}),r=null;else{switch(Z7(n)){case 1:r=aP;break;case 4:r=Y7;break;case 16:r=rx;break;case 536870912:r=X7;break;default:r=rx}r=bU(r,pU.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function pU(t,e){if(S1=-1,E1=0,yt&6)throw Error(ye(327));var r=t.callbackNode;if(pf()&&t.callbackNode!==r)return null;var n=nx(t,t===yn?Pn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=bx(t,n);else{e=n;var i=yt;yt|=2;var a=gU();(yn!==t||Pn!==e)&&(fs=null,Rf=Rr()+500,_u(t,e));do try{qie();break}catch(s){mU(t,s)}while(!0);yP(),yx.current=a,yt=i,Vr!==null?e=0:(yn=null,Pn=0,e=en)}if(e!==0){if(e===2&&(i=QA(t),i!==0&&(n=i,e=AC(t,i))),e===1)throw r=Tg,_u(t,0),Cl(t,n),Li(t,Rr()),r;if(e===6)Cl(t,n);else{if(i=t.current.alternate,!(n&30)&&!Hie(i)&&(e=bx(t,n),e===2&&(a=QA(t),a!==0&&(n=a,e=AC(t,a))),e===1))throw r=Tg,_u(t,0),Cl(t,n),Li(t,Rr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ye(345));case 2:Zc(t,Ii,fs);break;case 3:if(Cl(t,n),(n&130023424)===n&&(e=kP+500-Rr(),10<e)){if(nx(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){vi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=aC(Zc.bind(null,t,Ii,fs),e);break}Zc(t,Ii,fs);break;case 4:if(Cl(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-lo(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=Rr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Wie(n/1960))-n,10<n){t.timeoutHandle=aC(Zc.bind(null,t,Ii,fs),n);break}Zc(t,Ii,fs);break;case 5:Zc(t,Ii,fs);break;default:throw Error(ye(329))}}}return Li(t,Rr()),t.callbackNode===r?pU.bind(null,t):null}function AC(t,e){var r=zm;return t.current.memoizedState.isDehydrated&&(_u(t,e).flags|=256),t=bx(t,e),t!==2&&(e=Ii,Ii=r,e!==null&&CC(e)),t}function CC(t){Ii===null?Ii=t:Ii.push.apply(Ii,t)}function Hie(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!po(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cl(t,e){for(e&=~jP,e&=~Lb,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-lo(e),n=1<<r;t[r]=-1,e&=~n}}function BR(t){if(yt&6)throw Error(ye(327));pf();var e=nx(t,0);if(!(e&1))return Li(t,Rr()),null;var r=bx(t,e);if(t.tag!==0&&r===2){var n=QA(t);n!==0&&(e=n,r=AC(t,n))}if(r===1)throw r=Tg,_u(t,0),Cl(t,e),Li(t,Rr()),r;if(r===6)throw Error(ye(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zc(t,Ii,fs),Li(t,Rr()),null}function RP(t,e){var r=yt;yt|=1;try{return t(e)}finally{yt=r,yt===0&&(Rf=Rr()+500,kb&&Tc())}}function Du(t){jl!==null&&jl.tag===0&&!(yt&6)&&pf();var e=yt;yt|=1;var r=Ta.transition,n=Pt;try{if(Ta.transition=null,Pt=1,t)return t()}finally{Pt=n,Ta.transition=r,yt=e,!(yt&6)&&Tc()}}function DP(){Xi=Xd.current,tr(Xd)}function _u(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,bie(r)),Vr!==null)for(r=Vr.return;r!==null;){var n=r;switch(mP(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&lx();break;case 3:jf(),tr(Di),tr(ei),EP();break;case 5:SP(n);break;case 4:jf();break;case 13:tr(fr);break;case 19:tr(fr);break;case 10:xP(n.type._context);break;case 22:case 23:DP()}r=r.return}if(yn=t,Vr=t=Hl(t.current,null),Pn=Xi=e,en=0,Tg=null,jP=Lb=Ru=0,Ii=zm=null,uu!==null){for(e=0;e<uu.length;e++)if(r=uu[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}uu=null}return t}function mU(t,e){do{var r=Vr;try{if(yP(),w1.current=vx,gx){for(var n=gr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}gx=!1}if(ku=0,hn=Yr=gr=null,Um=!1,Eg=0,OP.current=null,r===null||r.return===null){en=1,Tg=e,Vr=null;break}e:{var a=t,o=r.return,s=r,l=e;if(e=Pn,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=TR(o);if(p!==null){p.flags&=-257,NR(p,o,s,a,e),p.mode&1&&CR(a,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){CR(a,c,e),MP();break e}l=Error(ye(426))}}else if(or&&s.mode&1){var v=TR(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),NR(v,o,s,a,e),gP(kf(l,s));break e}}a=l=kf(l,s),en!==4&&(en=2),zm===null?zm=[a]:zm.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=ZB(a,l,e);wR(a,y);break e;case 1:s=l;var x=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(zl===null||!zl.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var S=JB(a,s,e);wR(a,S);break e}}a=a.return}while(a!==null)}yU(r)}catch(E){e=E,Vr===r&&r!==null&&(Vr=r=r.return);continue}break}while(!0)}function gU(){var t=yx.current;return yx.current=vx,t===null?vx:t}function MP(){(en===0||en===3||en===2)&&(en=4),yn===null||!(Ru&268435455)&&!(Lb&268435455)||Cl(yn,Pn)}function bx(t,e){var r=yt;yt|=2;var n=gU();(yn!==t||Pn!==e)&&(fs=null,_u(t,e));do try{Gie();break}catch(i){mU(t,i)}while(!0);if(yP(),yt=r,yx.current=n,Vr!==null)throw Error(ye(261));return yn=null,Pn=0,en}function Gie(){for(;Vr!==null;)vU(Vr)}function qie(){for(;Vr!==null&&!yne();)vU(Vr)}function vU(t){var e=wU(t.alternate,t,Xi);t.memoizedProps=t.pendingProps,e===null?yU(t):Vr=e,OP.current=null}function yU(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Bie(r,e),r!==null){r.flags&=32767,Vr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{en=6,Vr=null;return}}else if(r=Fie(r,e,Xi),r!==null){Vr=r;return}if(e=e.sibling,e!==null){Vr=e;return}Vr=e=t}while(e!==null);en===0&&(en=5)}function Zc(t,e,r){var n=Pt,i=Ta.transition;try{Ta.transition=null,Pt=1,Kie(t,e,r,n)}finally{Ta.transition=i,Pt=n}return null}function Kie(t,e,r,n){do pf();while(jl!==null);if(yt&6)throw Error(ye(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ye(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(Nne(t,a),t===yn&&(Vr=yn=null,Pn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Sy||(Sy=!0,bU(rx,function(){return pf(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ta.transition,Ta.transition=null;var o=Pt;Pt=1;var s=yt;yt|=4,OP.current=null,Vie(t,r),fU(r,t),pie(nC),ix=!!rC,nC=rC=null,t.current=r,zie(r),xne(),yt=s,Pt=o,Ta.transition=a}else t.current=r;if(Sy&&(Sy=!1,jl=t,wx=i),a=t.pendingLanes,a===0&&(zl=null),_ne(r.stateNode),Li(t,Rr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(xx)throw xx=!1,t=SC,SC=null,t;return wx&1&&t.tag!==0&&pf(),a=t.pendingLanes,a&1?t===EC?Wm++:(Wm=0,EC=t):Wm=0,Tc(),null}function pf(){if(jl!==null){var t=Z7(wx),e=Ta.transition,r=Pt;try{if(Ta.transition=null,Pt=16>t?16:t,jl===null)var n=!1;else{if(t=jl,jl=null,wx=0,yt&6)throw Error(ye(331));var i=yt;for(yt|=4,je=t.current;je!==null;){var a=je,o=a.child;if(je.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(je=c;je!==null;){var d=je;switch(d.tag){case 0:case 11:case 15:Vm(8,d,a)}var f=d.child;if(f!==null)f.return=d,je=f;else for(;je!==null;){d=je;var h=d.sibling,p=d.return;if(cU(d),d===c){je=null;break}if(h!==null){h.return=p,je=h;break}je=p}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}je=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,je=o;else e:for(;je!==null;){if(a=je,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Vm(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,je=y;break e}je=a.return}}var x=t.current;for(je=x;je!==null;){o=je;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,je=w;else e:for(o=x;je!==null;){if(s=je,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Mb(9,s)}}catch(E){Er(s,s.return,E)}if(s===o){je=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,je=S;break e}je=s.return}}if(yt=i,Tc(),$o&&typeof $o.onPostCommitFiberRoot=="function")try{$o.onPostCommitFiberRoot(Nb,t)}catch{}n=!0}return n}finally{Pt=r,Ta.transition=e}}return!1}function UR(t,e,r){e=kf(r,e),e=ZB(t,e,1),t=Vl(t,e,1),e=vi(),t!==null&&(Yv(t,1,e),Li(t,e))}function Er(t,e,r){if(t.tag===3)UR(t,t,r);else for(;e!==null;){if(e.tag===3){UR(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(zl===null||!zl.has(n))){t=kf(r,t),t=JB(e,t,1),e=Vl(e,t,1),t=vi(),e!==null&&(Yv(e,1,t),Li(e,t));break}}e=e.return}}function Yie(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=vi(),t.pingedLanes|=t.suspendedLanes&r,yn===t&&(Pn&r)===r&&(en===4||en===3&&(Pn&130023424)===Pn&&500>Rr()-kP?_u(t,0):jP|=r),Li(t,e)}function xU(t,e){e===0&&(t.mode&1?(e=hy,hy<<=1,!(hy&130023424)&&(hy=4194304)):e=1);var r=vi();t=Ms(t,e),t!==null&&(Yv(t,e,r),Li(t,r))}function Xie(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),xU(t,r)}function Qie(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ye(314))}n!==null&&n.delete(e),xU(t,r)}var wU;wU=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Di.current)ji=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ji=!1,$ie(t,e,r);ji=!!(t.flags&131072)}else ji=!1,or&&e.flags&1048576&&EB(e,dx,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;_1(t,e),t=e.pendingProps;var i=If(e,ei.current);hf(e,r),i=CP(null,e,n,t,i,r);var a=TP();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mi(n)?(a=!0,cx(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bP(e),i.updater=Db,e.stateNode=i,i._reactInternals=e,fC(e,n,t,r),e=mC(null,e,n,!0,a,r)):(e.tag=0,or&&a&&pP(e),fi(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(_1(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Jie(n),t=Qa(n,t),i){case 0:e=pC(null,e,n,t,r);break e;case 1:e=OR(null,e,n,t,r);break e;case 11:e=IR(null,e,n,t,r);break e;case 14:e=PR(null,e,n,Qa(n.type,t),r);break e}throw Error(ye(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Qa(n,i),pC(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Qa(n,i),OR(t,e,n,i,r);case 3:e:{if(nU(e),t===null)throw Error(ye(387));n=e.pendingProps,a=e.memoizedState,i=a.element,PB(t,e),px(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=kf(Error(ye(423)),e),e=jR(t,e,n,r,i);break e}else if(n!==i){i=kf(Error(ye(424)),e),e=jR(t,e,n,r,i);break e}else for(ta=Ul(e.stateNode.containerInfo.firstChild),na=e,or=!0,to=null,r=NB(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Pf(),n===i){e=Ls(t,e,r);break e}fi(t,e,n,r)}e=e.child}return e;case 5:return OB(e),t===null&&cC(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,iC(n,i)?o=null:a!==null&&iC(n,a)&&(e.flags|=32),rU(t,e),fi(t,e,o,r),e.child;case 6:return t===null&&cC(e),null;case 13:return iU(t,e,r);case 4:return _P(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Of(e,null,n,r):fi(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Qa(n,i),IR(t,e,n,i,r);case 7:return fi(t,e,e.pendingProps,r),e.child;case 8:return fi(t,e,e.pendingProps.children,r),e.child;case 12:return fi(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Ut(fx,n._currentValue),n._currentValue=o,a!==null)if(po(a.value,o)){if(a.children===i.children&&!Di.current){e=Ls(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Cs(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),uC(a.return,r,e),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ye(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),uC(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}fi(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,hf(e,r),i=Oa(i),n=n(i),e.flags|=1,fi(t,e,n,r),e.child;case 14:return n=e.type,i=Qa(n,e.pendingProps),i=Qa(n.type,i),PR(t,e,n,i,r);case 15:return eU(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Qa(n,i),_1(t,e),e.tag=1,Mi(n)?(t=!0,cx(e)):t=!1,hf(e,r),QB(e,n,i),fC(e,n,i,r),mC(null,e,n,!0,t,r);case 19:return aU(t,e,r);case 22:return tU(t,e,r)}throw Error(ye(156,e.tag))};function bU(t,e){return K7(t,e)}function Zie(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ea(t,e,r,n){return new Zie(t,e,r,n)}function LP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jie(t){if(typeof t=="function")return LP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===rP)return 11;if(t===nP)return 14}return 2}function Hl(t,e){var r=t.alternate;return r===null?(r=Ea(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function A1(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")LP(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Bd:return Su(r.children,i,a,e);case tP:o=8,i|=8;break;case MA:return t=Ea(12,r,e,i|2),t.elementType=MA,t.lanes=a,t;case LA:return t=Ea(13,r,e,i),t.elementType=LA,t.lanes=a,t;case $A:return t=Ea(19,r,e,i),t.elementType=$A,t.lanes=a,t;case O7:return $b(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case I7:o=10;break e;case P7:o=9;break e;case rP:o=11;break e;case nP:o=14;break e;case wl:o=16,n=null;break e}throw Error(ye(130,t==null?t:typeof t,""))}return e=Ea(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Su(t,e,r,n){return t=Ea(7,t,n,e),t.lanes=r,t}function $b(t,e,r,n){return t=Ea(22,t,n,e),t.elementType=O7,t.lanes=r,t.stateNode={isHidden:!1},t}function US(t,e,r){return t=Ea(6,t,null,e),t.lanes=r,t}function VS(t,e,r){return e=Ea(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function eae(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_S(0),this.expirationTimes=_S(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_S(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $P(t,e,r,n,i,a,o,s,l){return t=new eae(t,e,r,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ea(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},bP(a),t}function tae(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fd,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function _U(t){if(!t)return oc;t=t._reactInternals;e:{if(ad(t)!==t||t.tag!==1)throw Error(ye(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ye(171))}if(t.tag===1){var r=t.type;if(Mi(r))return _B(t,r,e)}return e}function SU(t,e,r,n,i,a,o,s,l){return t=$P(r,n,!0,t,i,a,o,s,l),t.context=_U(null),r=t.current,n=vi(),i=Wl(r),a=Cs(n,i),a.callback=e??null,Vl(r,a,i),t.current.lanes=i,Yv(t,i,n),Li(t,n),t}function Fb(t,e,r,n){var i=e.current,a=vi(),o=Wl(i);return r=_U(r),e.context===null?e.context=r:e.pendingContext=r,e=Cs(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Vl(i,e,o),t!==null&&(co(t,i,o,a),x1(t,i,o)),o}function _x(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function VR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function FP(t,e){VR(t,e),(t=t.alternate)&&VR(t,e)}function rae(){return null}var EU=typeof reportError=="function"?reportError:function(t){console.error(t)};function BP(t){this._internalRoot=t}Bb.prototype.render=BP.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ye(409));Fb(t,e,null,null)};Bb.prototype.unmount=BP.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Du(function(){Fb(null,t,null,null)}),e[Ds]=null}};function Bb(t){this._internalRoot=t}Bb.prototype.unstable_scheduleHydration=function(t){if(t){var e=tB();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Al.length&&e!==0&&e<Al[r].priority;r++);Al.splice(r,0,t),r===0&&nB(t)}};function UP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ub(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zR(){}function nae(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=_x(o);a.call(c)}}var o=SU(e,n,t,0,null,!1,!1,"",zR);return t._reactRootContainer=o,t[Ds]=o.current,xg(t.nodeType===8?t.parentNode:t),Du(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var c=_x(l);s.call(c)}}var l=$P(t,0,!1,null,null,!1,!1,"",zR);return t._reactRootContainer=l,t[Ds]=l.current,xg(t.nodeType===8?t.parentNode:t),Du(function(){Fb(e,l,r,n)}),l}function Vb(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=_x(o);s.call(l)}}Fb(e,o,t,i)}else o=nae(r,e,t,i,n);return _x(o)}J7=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=vm(e.pendingLanes);r!==0&&(oP(e,r|1),Li(e,Rr()),!(yt&6)&&(Rf=Rr()+500,Tc()))}break;case 13:Du(function(){var n=Ms(t,1);if(n!==null){var i=vi();co(n,t,1,i)}}),FP(t,1)}};sP=function(t){if(t.tag===13){var e=Ms(t,134217728);if(e!==null){var r=vi();co(e,t,134217728,r)}FP(t,134217728)}};eB=function(t){if(t.tag===13){var e=Wl(t),r=Ms(t,e);if(r!==null){var n=vi();co(r,t,e,n)}FP(t,e)}};tB=function(){return Pt};rB=function(t,e){var r=Pt;try{return Pt=t,e()}finally{Pt=r}};KA=function(t,e,r){switch(e){case"input":if(UA(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=jb(n);if(!i)throw Error(ye(90));k7(n),UA(n,i)}}}break;case"textarea":D7(t,r);break;case"select":e=r.value,e!=null&&cf(t,!!r.multiple,e,!1)}};V7=RP;z7=Du;var iae={usingClientEntryPoint:!1,Events:[Qv,Wd,jb,B7,U7,RP]},Vp={findFiberByHostInstance:cu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aae={bundleType:Vp.bundleType,version:Vp.version,rendererPackageName:Vp.rendererPackageName,rendererConfig:Vp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=G7(t),t===null?null:t.stateNode},findFiberByHostInstance:Vp.findFiberByHostInstance||rae,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ey=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ey.isDisabled&&Ey.supportsFiber)try{Nb=Ey.inject(aae),$o=Ey}catch{}}fa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iae;fa.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!UP(e))throw Error(ye(200));return tae(t,e,null,r)};fa.createRoot=function(t,e){if(!UP(t))throw Error(ye(299));var r=!1,n="",i=EU;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$P(t,1,!1,null,null,r,!1,n,i),t[Ds]=e.current,xg(t.nodeType===8?t.parentNode:t),new BP(e)};fa.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ye(188)):(t=Object.keys(t).join(","),Error(ye(268,t)));return t=G7(e),t=t===null?null:t.stateNode,t};fa.flushSync=function(t){return Du(t)};fa.hydrate=function(t,e,r){if(!Ub(e))throw Error(ye(200));return Vb(null,t,e,!0,r)};fa.hydrateRoot=function(t,e,r){if(!UP(t))throw Error(ye(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=EU;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=SU(e,null,t,1,r??null,i,!1,a,o),t[Ds]=e.current,xg(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Bb(e)};fa.render=function(t,e,r){if(!Ub(e))throw Error(ye(200));return Vb(null,t,e,!1,r)};fa.unmountComponentAtNode=function(t){if(!Ub(t))throw Error(ye(40));return t._reactRootContainer?(Du(function(){Vb(null,null,t,!1,function(){t._reactRootContainer=null,t[Ds]=null})}),!0):!1};fa.unstable_batchedUpdates=RP;fa.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ub(r))throw Error(ye(200));if(t==null||t._reactInternals===void 0)throw Error(ye(38));return Vb(t,e,r,!1,n)};fa.version="18.3.1-next-f1338f8080-20240426";function AU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AU)}catch(t){console.error(t)}}AU(),A7.exports=fa;var Mh=A7.exports;const VP=ct(Mh);var CU,WR=Mh;CU=WR.createRoot,WR.hydrateRoot;function Te(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function oae(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function zb(...t){return e=>t.forEach(r=>oae(r,e))}function Ze(...t){return _.useCallback(zb(...t),t)}function sae(t,e){const r=_.createContext(e),n=a=>{const{children:o,...s}=a,l=_.useMemo(()=>s,Object.values(s));return u.jsx(r.Provider,{value:l,children:o})};n.displayName=t+"Provider";function i(a){const o=_.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function bo(t,e=[]){let r=[];function n(a,o){const s=_.createContext(o),l=r.length;r=[...r,o];const c=f=>{var y;const{scope:h,children:p,...m}=f,g=((y=h==null?void 0:h[t])==null?void 0:y[l])||s,v=_.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:v,children:p})};c.displayName=a+"Provider";function d(f,h){var g;const p=((g=h==null?void 0:h[t])==null?void 0:g[l])||s,m=_.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[c,d]}const i=()=>{const a=r.map(o=>_.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return _.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,lae(i,...e)]}function lae(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...s,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var $s=_.forwardRef((t,e)=>{const{children:r,...n}=t,i=_.Children.toArray(r),a=i.find(cae);if(a){const o=a.props.children,s=i.map(l=>l===a?_.Children.count(o)>1?_.Children.only(null):_.isValidElement(o)?o.props.children:null:l);return u.jsx(TC,{...n,ref:e,children:_.isValidElement(o)?_.cloneElement(o,void 0,s):null})}return u.jsx(TC,{...n,ref:e,children:r})});$s.displayName="Slot";var TC=_.forwardRef((t,e)=>{const{children:r,...n}=t;if(_.isValidElement(r)){const i=dae(r);return _.cloneElement(r,{...uae(n,r.props),ref:e?zb(e,i):i})}return _.Children.count(r)>1?_.Children.only(null):null});TC.displayName="SlotClone";var TU=({children:t})=>u.jsx(u.Fragment,{children:t});function cae(t){return _.isValidElement(t)&&t.type===TU}function uae(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...s)=>{a(...s),i(...s)}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function dae(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var fae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Me=fae.reduce((t,e)=>{const r=_.forwardRef((n,i)=>{const{asChild:a,...o}=n,s=a?$s:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(s,{...o,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function NU(t,e){t&&Mh.flushSync(()=>t.dispatchEvent(e))}function zr(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function hae(t,e=globalThis==null?void 0:globalThis.document){const r=zr(t);_.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var pae="DismissableLayer",NC="dismissableLayer.update",mae="dismissableLayer.pointerDownOutside",gae="dismissableLayer.focusOutside",HR,IU=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lh=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=t,c=_.useContext(IU),[d,f]=_.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=_.useState({}),m=Ze(e,A=>f(A)),g=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(v),x=d?g.indexOf(d):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,S=x>=y,E=xae(A=>{const C=A.target,N=[...c.branches].some(I=>I.contains(C));!S||N||(i==null||i(A),o==null||o(A),A.defaultPrevented||s==null||s())},h),T=wae(A=>{const C=A.target;[...c.branches].some(I=>I.contains(C))||(a==null||a(A),o==null||o(A),A.defaultPrevented||s==null||s())},h);return hae(A=>{x===c.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&s&&(A.preventDefault(),s()))},h),_.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(HR=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),GR(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=HR)}},[d,h,r,c]),_.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),GR())},[d,c]),_.useEffect(()=>{const A=()=>p({});return document.addEventListener(NC,A),()=>document.removeEventListener(NC,A)},[]),u.jsx(Me.div,{...l,ref:m,style:{pointerEvents:w?S?"auto":"none":void 0,...t.style},onFocusCapture:Te(t.onFocusCapture,T.onFocusCapture),onBlurCapture:Te(t.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Te(t.onPointerDownCapture,E.onPointerDownCapture)})});Lh.displayName=pae;var vae="DismissableLayerBranch",yae=_.forwardRef((t,e)=>{const r=_.useContext(IU),n=_.useRef(null),i=Ze(e,n);return _.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),u.jsx(Me.div,{...t,ref:i})});yae.displayName=vae;function xae(t,e=globalThis==null?void 0:globalThis.document){const r=zr(t),n=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const a=s=>{if(s.target&&!n.current){let l=function(){PU(mae,r,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function wae(t,e=globalThis==null?void 0:globalThis.document){const r=zr(t),n=_.useRef(!1);return _.useEffect(()=>{const i=a=>{a.target&&!n.current&&PU(gae,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function GR(){const t=new CustomEvent(NC);document.dispatchEvent(t)}function PU(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?NU(i,a):i.dispatchEvent(a)}var xn=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},bae=S7.useId||(()=>{}),_ae=0;function uo(t){const[e,r]=_.useState(bae());return xn(()=>{r(n=>n??String(_ae++))},[t]),e?`radix-${e}`:""}const Sae=["top","right","bottom","left"],sc=Math.min,Zi=Math.max,Sx=Math.round,Ay=Math.floor,lc=t=>({x:t,y:t}),Eae={left:"right",right:"left",bottom:"top",top:"bottom"},Aae={start:"end",end:"start"};function IC(t,e,r){return Zi(t,sc(e,r))}function Fs(t,e){return typeof t=="function"?t(e):t}function Bs(t){return t.split("-")[0]}function $h(t){return t.split("-")[1]}function zP(t){return t==="x"?"y":"x"}function WP(t){return t==="y"?"height":"width"}function cc(t){return["top","bottom"].includes(Bs(t))?"y":"x"}function HP(t){return zP(cc(t))}function Cae(t,e,r){r===void 0&&(r=!1);const n=$h(t),i=HP(t),a=WP(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=Ex(o)),[o,Ex(o)]}function Tae(t){const e=Ex(t);return[PC(t),e,PC(e)]}function PC(t){return t.replace(/start|end/g,e=>Aae[e])}function Nae(t,e,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?a:o;default:return[]}}function Iae(t,e,r,n){const i=$h(t);let a=Nae(Bs(t),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(PC)))),a}function Ex(t){return t.replace(/left|right|bottom|top/g,e=>Eae[e])}function Pae(t){return{top:0,right:0,bottom:0,left:0,...t}}function OU(t){return typeof t!="number"?Pae(t):{top:t,right:t,bottom:t,left:t}}function Ax(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function qR(t,e,r){let{reference:n,floating:i}=t;const a=cc(e),o=HP(e),s=WP(o),l=Bs(e),c=a==="y",d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,h=n[s]/2-i[s]/2;let p;switch(l){case"top":p={x:d,y:n.y-i.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-i.width,y:f};break;default:p={x:n.x,y:n.y}}switch($h(e)){case"start":p[o]-=h*(r&&c?-1:1);break;case"end":p[o]+=h*(r&&c?-1:1);break}return p}const Oae=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=qR(c,n,l),h=n,p={},m=0;for(let g=0;g<s.length;g++){const{name:v,fn:y}=s[g],{x,y:w,data:S,reset:E}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});d=x??d,f=w??f,p={...p,[v]:{...p[v],...S}},E&&m<=50&&(m++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(c=E.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:d,y:f}=qR(c,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function Ng(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:o,elements:s,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Fs(e,t),m=OU(p),v=s[h?f==="floating"?"reference":"floating":f],y=Ax(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:d,strategy:l})),x=f==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),S=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},E=Ax(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:x,offsetParent:w,strategy:l}):x);return{top:(y.top-E.top+m.top)/S.y,bottom:(E.bottom-y.bottom+m.bottom)/S.y,left:(y.left-E.left+m.left)/S.x,right:(E.right-y.right+m.right)/S.x}}const jae=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=e,{element:c,padding:d=0}=Fs(t,e)||{};if(c==null)return{};const f=OU(d),h={x:r,y:n},p=HP(i),m=WP(p),g=await o.getDimensions(c),v=p==="y",y=v?"top":"left",x=v?"bottom":"right",w=v?"clientHeight":"clientWidth",S=a.reference[m]+a.reference[p]-h[p]-a.floating[m],E=h[p]-a.reference[p],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let A=T?T[w]:0;(!A||!await(o.isElement==null?void 0:o.isElement(T)))&&(A=s.floating[w]||a.floating[m]);const C=S/2-E/2,N=A/2-g[m]/2-1,I=sc(f[y],N),P=sc(f[x],N),k=I,O=A-g[m]-P,L=A/2-g[m]/2+C,z=IC(k,L,O),M=!l.arrow&&$h(i)!=null&&L!==z&&a.reference[m]/2-(L<k?I:P)-g[m]/2<0,W=M?L<k?L-k:L-O:0;return{[p]:h[p]+W,data:{[p]:z,centerOffset:L-z-W,...M&&{alignmentOffset:W}},reset:M}}}),kae=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...v}=Fs(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=Bs(i),x=cc(s),w=Bs(s)===s,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=h||(w||!g?[Ex(s)]:Tae(s)),T=m!=="none";!h&&T&&E.push(...Iae(s,g,m,S));const A=[s,...E],C=await Ng(e,v),N=[];let I=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&N.push(C[y]),f){const L=Cae(i,o,S);N.push(C[L[0]],C[L[1]])}if(I=[...I,{placement:i,overflows:N}],!N.every(L=>L<=0)){var P,k;const L=(((P=a.flip)==null?void 0:P.index)||0)+1,z=A[L];if(z)return{data:{index:L,overflows:I},reset:{placement:z}};let M=(k=I.filter(W=>W.overflows[0]<=0).sort((W,$)=>W.overflows[1]-$.overflows[1])[0])==null?void 0:k.placement;if(!M)switch(p){case"bestFit":{var O;const W=(O=I.filter($=>{if(T){const B=cc($.placement);return B===x||B==="y"}return!0}).map($=>[$.placement,$.overflows.filter(B=>B>0).reduce((B,G)=>B+G,0)]).sort(($,B)=>$[1]-B[1])[0])==null?void 0:O[0];W&&(M=W);break}case"initialPlacement":M=s;break}if(i!==M)return{reset:{placement:M}}}return{}}}};function KR(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function YR(t){return Sae.some(e=>t[e]>=0)}const Rae=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Fs(t,e);switch(n){case"referenceHidden":{const a=await Ng(e,{...i,elementContext:"reference"}),o=KR(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:YR(o)}}}case"escaped":{const a=await Ng(e,{...i,altBoundary:!0}),o=KR(a,r.floating);return{data:{escapedOffsets:o,escaped:YR(o)}}}default:return{}}}}};async function Dae(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Bs(r),s=$h(r),l=cc(r)==="y",c=["left","top"].includes(o)?-1:1,d=a&&l?-1:1,f=Fs(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof m=="number"&&(p=s==="end"?m*-1:m),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}const Mae=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:o,middlewareData:s}=e,l=await Dae(e,t);return o===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},Lae=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:v=>{let{x:y,y:x}=v;return{x:y,y:x}}},...l}=Fs(t,e),c={x:r,y:n},d=await Ng(e,l),f=cc(Bs(i)),h=zP(f);let p=c[h],m=c[f];if(a){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=p+d[v],w=p-d[y];p=IC(x,p,w)}if(o){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=m+d[v],w=m-d[y];m=IC(x,m,w)}const g=s.fn({...e,[h]:p,[f]:m});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:a,[f]:o}}}}}},$ae=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=e,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=Fs(t,e),d={x:r,y:n},f=cc(i),h=zP(f);let p=d[h],m=d[f];const g=Fs(s,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const w=h==="y"?"height":"width",S=a.reference[h]-a.floating[w]+v.mainAxis,E=a.reference[h]+a.reference[w]-v.mainAxis;p<S?p=S:p>E&&(p=E)}if(c){var y,x;const w=h==="y"?"width":"height",S=["top","left"].includes(Bs(i)),E=a.reference[f]-a.floating[w]+(S&&((y=o.offset)==null?void 0:y[f])||0)+(S?0:v.crossAxis),T=a.reference[f]+a.reference[w]+(S?0:((x=o.offset)==null?void 0:x[f])||0)-(S?v.crossAxis:0);m<E?m=E:m>T&&(m=T)}return{[h]:p,[f]:m}}}},Fae=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:o,elements:s}=e,{apply:l=()=>{},...c}=Fs(t,e),d=await Ng(e,c),f=Bs(i),h=$h(i),p=cc(i)==="y",{width:m,height:g}=a.floating;let v,y;f==="top"||f==="bottom"?(v=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(y=f,v=h==="end"?"top":"bottom");const x=g-d.top-d.bottom,w=m-d.left-d.right,S=sc(g-d[v],x),E=sc(m-d[y],w),T=!e.middlewareData.shift;let A=S,C=E;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(C=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(A=x),T&&!h){const I=Zi(d.left,0),P=Zi(d.right,0),k=Zi(d.top,0),O=Zi(d.bottom,0);p?C=m-2*(I!==0||P!==0?I+P:Zi(d.left,d.right)):A=g-2*(k!==0||O!==0?k+O:Zi(d.top,d.bottom))}await l({...e,availableWidth:C,availableHeight:A});const N=await o.getDimensions(s.floating);return m!==N.width||g!==N.height?{reset:{rects:!0}}:{}}}};function Wb(){return typeof window<"u"}function Fh(t){return jU(t)?(t.nodeName||"").toLowerCase():"#document"}function ia(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function rs(t){var e;return(e=(jU(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function jU(t){return Wb()?t instanceof Node||t instanceof ia(t).Node:!1}function mo(t){return Wb()?t instanceof Element||t instanceof ia(t).Element:!1}function Yo(t){return Wb()?t instanceof HTMLElement||t instanceof ia(t).HTMLElement:!1}function XR(t){return!Wb()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ia(t).ShadowRoot}function Jv(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=go(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function Bae(t){return["table","td","th"].includes(Fh(t))}function Hb(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function GP(t){const e=qP(),r=mo(t)?go(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Uae(t){let e=uc(t);for(;Yo(e)&&!Df(e);){if(GP(e))return e;if(Hb(e))return null;e=uc(e)}return null}function qP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Df(t){return["html","body","#document"].includes(Fh(t))}function go(t){return ia(t).getComputedStyle(t)}function Gb(t){return mo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function uc(t){if(Fh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||XR(t)&&t.host||rs(t);return XR(e)?e.host:e}function kU(t){const e=uc(t);return Df(e)?t.ownerDocument?t.ownerDocument.body:t.body:Yo(e)&&Jv(e)?e:kU(e)}function Ig(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=kU(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),o=ia(i);if(a){const s=OC(o);return e.concat(o,o.visualViewport||[],Jv(i)?i:[],s&&r?Ig(s):[])}return e.concat(i,Ig(i,[],r))}function OC(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function RU(t){const e=go(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Yo(t),a=i?t.offsetWidth:r,o=i?t.offsetHeight:n,s=Sx(r)!==a||Sx(n)!==o;return s&&(r=a,n=o),{width:r,height:n,$:s}}function KP(t){return mo(t)?t:t.contextElement}function mf(t){const e=KP(t);if(!Yo(e))return lc(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=RU(e);let o=(a?Sx(r.width):r.width)/n,s=(a?Sx(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const Vae=lc(0);function DU(t){const e=ia(t);return!qP()||!e.visualViewport?Vae:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function zae(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==ia(t)?!1:e}function Mu(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=KP(t);let o=lc(1);e&&(n?mo(n)&&(o=mf(n)):o=mf(t));const s=zae(a,r,n)?DU(a):lc(0);let l=(i.left+s.x)/o.x,c=(i.top+s.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(a){const h=ia(a),p=n&&mo(n)?ia(n):n;let m=h,g=OC(m);for(;g&&n&&p!==m;){const v=mf(g),y=g.getBoundingClientRect(),x=go(g),w=y.left+(g.clientLeft+parseFloat(x.paddingLeft))*v.x,S=y.top+(g.clientTop+parseFloat(x.paddingTop))*v.y;l*=v.x,c*=v.y,d*=v.x,f*=v.y,l+=w,c+=S,m=ia(g),g=OC(m)}}return Ax({width:d,height:f,x:l,y:c})}function Wae(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",o=rs(n),s=e?Hb(e.floating):!1;if(n===o||s&&a)return r;let l={scrollLeft:0,scrollTop:0},c=lc(1);const d=lc(0),f=Yo(n);if((f||!f&&!a)&&((Fh(n)!=="body"||Jv(o))&&(l=Gb(n)),Yo(n))){const h=Mu(n);c=mf(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x,y:r.y*c.y-l.scrollTop*c.y+d.y}}function Hae(t){return Array.from(t.getClientRects())}function jC(t,e){const r=Gb(t).scrollLeft;return e?e.left+r:Mu(rs(t)).left+r}function Gae(t){const e=rs(t),r=Gb(t),n=t.ownerDocument.body,i=Zi(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=Zi(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+jC(t);const s=-r.scrollTop;return go(n).direction==="rtl"&&(o+=Zi(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:s}}function qae(t,e){const r=ia(t),n=rs(t),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const c=qP();(!c||c&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}function Kae(t,e){const r=Mu(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=Yo(t)?mf(t):lc(1),o=t.clientWidth*a.x,s=t.clientHeight*a.y,l=i*a.x,c=n*a.y;return{width:o,height:s,x:l,y:c}}function QR(t,e,r){let n;if(e==="viewport")n=qae(t,r);else if(e==="document")n=Gae(rs(t));else if(mo(e))n=Kae(e,r);else{const i=DU(t);n={...e,x:e.x-i.x,y:e.y-i.y}}return Ax(n)}function MU(t,e){const r=uc(t);return r===e||!mo(r)||Df(r)?!1:go(r).position==="fixed"||MU(r,e)}function Yae(t,e){const r=e.get(t);if(r)return r;let n=Ig(t,[],!1).filter(s=>mo(s)&&Fh(s)!=="body"),i=null;const a=go(t).position==="fixed";let o=a?uc(t):t;for(;mo(o)&&!Df(o);){const s=go(o),l=GP(o);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Jv(o)&&!l&&MU(t,o))?n=n.filter(d=>d!==o):i=s,o=uc(o)}return e.set(t,n),n}function Xae(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?Hb(e)?[]:Yae(e,this._c):[].concat(r),n],s=o[0],l=o.reduce((c,d)=>{const f=QR(e,d,i);return c.top=Zi(f.top,c.top),c.right=sc(f.right,c.right),c.bottom=sc(f.bottom,c.bottom),c.left=Zi(f.left,c.left),c},QR(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Qae(t){const{width:e,height:r}=RU(t);return{width:e,height:r}}function Zae(t,e,r){const n=Yo(e),i=rs(e),a=r==="fixed",o=Mu(t,!0,a,e);let s={scrollLeft:0,scrollTop:0};const l=lc(0);if(n||!n&&!a)if((Fh(e)!=="body"||Jv(i))&&(s=Gb(e)),n){const p=Mu(e,!0,a,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&(l.x=jC(i));let c=0,d=0;if(i&&!n&&!a){const p=i.getBoundingClientRect();d=p.top+s.scrollTop,c=p.left+s.scrollLeft-jC(i,p)}const f=o.left+s.scrollLeft-l.x-c,h=o.top+s.scrollTop-l.y-d;return{x:f,y:h,width:o.width,height:o.height}}function zS(t){return go(t).position==="static"}function ZR(t,e){if(!Yo(t)||go(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return rs(t)===r&&(r=r.ownerDocument.body),r}function LU(t,e){const r=ia(t);if(Hb(t))return r;if(!Yo(t)){let i=uc(t);for(;i&&!Df(i);){if(mo(i)&&!zS(i))return i;i=uc(i)}return r}let n=ZR(t,e);for(;n&&Bae(n)&&zS(n);)n=ZR(n,e);return n&&Df(n)&&zS(n)&&!GP(n)?r:n||Uae(t)||r}const Jae=async function(t){const e=this.getOffsetParent||LU,r=this.getDimensions,n=await r(t.floating);return{reference:Zae(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function eoe(t){return go(t).direction==="rtl"}const toe={convertOffsetParentRelativeRectToViewportRelativeRect:Wae,getDocumentElement:rs,getClippingRect:Xae,getOffsetParent:LU,getElementRects:Jae,getClientRects:Hae,getDimensions:Qae,getScale:mf,isElement:mo,isRTL:eoe};function roe(t,e){let r=null,n;const i=rs(t);function a(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const{left:c,top:d,width:f,height:h}=t.getBoundingClientRect();if(s||e(),!f||!h)return;const p=Ay(d),m=Ay(i.clientWidth-(c+f)),g=Ay(i.clientHeight-(d+h)),v=Ay(c),x={rootMargin:-p+"px "+-m+"px "+-g+"px "+-v+"px",threshold:Zi(0,sc(1,l))||1};let w=!0;function S(E){const T=E[0].intersectionRatio;if(T!==l){if(!w)return o();T?o(!1,T):n=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(S,{...x,root:i.ownerDocument})}catch{r=new IntersectionObserver(S,x)}r.observe(t)}return o(!0),a}function noe(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=KP(t),d=i||a?[...c?Ig(c):[],...Ig(e)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),a&&y.addEventListener("resize",r)});const f=c&&s?roe(c,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(y=>{let[x]=y;x&&x.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(e)})),r()}),c&&!l&&p.observe(c),p.observe(e));let m,g=l?Mu(t):null;l&&v();function v(){const y=Mu(t);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&r(),g=y,m=requestAnimationFrame(v)}return r(),()=>{var y;d.forEach(x=>{i&&x.removeEventListener("scroll",r),a&&x.removeEventListener("resize",r)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const ioe=Mae,aoe=Lae,ooe=kae,soe=Fae,loe=Rae,JR=jae,coe=$ae,uoe=(t,e,r)=>{const n=new Map,i={platform:toe,...r},a={...i.platform,_c:n};return Oae(t,e,{...i,platform:a})};var C1=typeof document<"u"?_.useLayoutEffect:_.useEffect;function Cx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Cx(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!Cx(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function $U(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function eD(t,e){const r=$U(t);return Math.round(e*r)/r}function WS(t){const e=_.useRef(t);return C1(()=>{e.current=t}),e}function doe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:l,open:c}=t,[d,f]=_.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=_.useState(n);Cx(h,n)||p(n);const[m,g]=_.useState(null),[v,y]=_.useState(null),x=_.useCallback($=>{$!==T.current&&(T.current=$,g($))},[]),w=_.useCallback($=>{$!==A.current&&(A.current=$,y($))},[]),S=a||m,E=o||v,T=_.useRef(null),A=_.useRef(null),C=_.useRef(d),N=l!=null,I=WS(l),P=WS(i),k=WS(c),O=_.useCallback(()=>{if(!T.current||!A.current)return;const $={placement:e,strategy:r,middleware:h};P.current&&($.platform=P.current),uoe(T.current,A.current,$).then(B=>{const G={...B,isPositioned:k.current!==!1};L.current&&!Cx(C.current,G)&&(C.current=G,Mh.flushSync(()=>{f(G)}))})},[h,e,r,P,k]);C1(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f($=>({...$,isPositioned:!1})))},[c]);const L=_.useRef(!1);C1(()=>(L.current=!0,()=>{L.current=!1}),[]),C1(()=>{if(S&&(T.current=S),E&&(A.current=E),S&&E){if(I.current)return I.current(S,E,O);O()}},[S,E,O,I,N]);const z=_.useMemo(()=>({reference:T,floating:A,setReference:x,setFloating:w}),[x,w]),M=_.useMemo(()=>({reference:S,floating:E}),[S,E]),W=_.useMemo(()=>{const $={position:r,left:0,top:0};if(!M.floating)return $;const B=eD(M.floating,d.x),G=eD(M.floating,d.y);return s?{...$,transform:"translate("+B+"px, "+G+"px)",...$U(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:B,top:G}},[r,s,M.floating,d.x,d.y]);return _.useMemo(()=>({...d,update:O,refs:z,elements:M,floatingStyles:W}),[d,O,z,M,W])}const foe=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?JR({element:n.current,padding:i}).fn(r):{}:n?JR({element:n,padding:i}).fn(r):{}}}},hoe=(t,e)=>({...ioe(t),options:[t,e]}),poe=(t,e)=>({...aoe(t),options:[t,e]}),moe=(t,e)=>({...coe(t),options:[t,e]}),goe=(t,e)=>({...ooe(t),options:[t,e]}),voe=(t,e)=>({...soe(t),options:[t,e]}),yoe=(t,e)=>({...loe(t),options:[t,e]}),xoe=(t,e)=>({...foe(t),options:[t,e]});var woe="Arrow",FU=_.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return u.jsx(Me.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});FU.displayName=woe;var boe=FU;function _oe(t,e=[]){let r=[];function n(a,o){const s=_.createContext(o),l=r.length;r=[...r,o];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||s,v=_.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:v,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||s,m=_.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,d]}const i=()=>{const a=r.map(o=>_.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return _.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,Soe(i,...e)]}function Soe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...s,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function YP(t){const[e,r]=_.useState(void 0);return xn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,s;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,s=c.blockSize}else o=t.offsetWidth,s=t.offsetHeight;r({width:o,height:s})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var XP="Popper",[BU,Nc]=_oe(XP),[Eoe,UU]=BU(XP),VU=t=>{const{__scopePopper:e,children:r}=t,[n,i]=_.useState(null);return u.jsx(Eoe,{scope:e,anchor:n,onAnchorChange:i,children:r})};VU.displayName=XP;var zU="PopperAnchor",WU=_.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=UU(zU,r),o=_.useRef(null),s=Ze(e,o);return _.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:u.jsx(Me.div,{...i,ref:s})});WU.displayName=zU;var QP="PopperContent",[Aoe,Coe]=BU(QP),HU=_.forwardRef((t,e)=>{var ge,Se,se,V,Q,H;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:m,...g}=t,v=UU(QP,r),[y,x]=_.useState(null),w=Ze(e,ve=>x(ve)),[S,E]=_.useState(null),T=YP(S),A=(T==null?void 0:T.width)??0,C=(T==null?void 0:T.height)??0,N=n+(a!=="center"?"-"+a:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(c)?c:[c],k=P.length>0,O={padding:I,boundary:P.filter(Noe),altBoundary:k},{refs:L,floatingStyles:z,placement:M,isPositioned:W,middlewareData:$}=doe({strategy:"fixed",placement:N,whileElementsMounted:(...ve)=>noe(...ve,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[hoe({mainAxis:i+C,alignmentAxis:o}),l&&poe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?moe():void 0,...O}),l&&goe({...O}),voe({...O,apply:({elements:ve,rects:fe,availableWidth:te,availableHeight:re})=>{const{width:K,height:le}=fe.reference,pe=ve.floating.style;pe.setProperty("--radix-popper-available-width",`${te}px`),pe.setProperty("--radix-popper-available-height",`${re}px`),pe.setProperty("--radix-popper-anchor-width",`${K}px`),pe.setProperty("--radix-popper-anchor-height",`${le}px`)}}),S&&xoe({element:S,padding:s}),Ioe({arrowWidth:A,arrowHeight:C}),h&&yoe({strategy:"referenceHidden",...O})]}),[B,G]=KU(M),X=zr(m);xn(()=>{W&&(X==null||X())},[W,X]);const Y=(ge=$.arrow)==null?void 0:ge.x,ee=(Se=$.arrow)==null?void 0:Se.y,ce=((se=$.arrow)==null?void 0:se.centerOffset)!==0,[de,_e]=_.useState();return xn(()=>{y&&_e(window.getComputedStyle(y).zIndex)},[y]),u.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:W?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[(V=$.transformOrigin)==null?void 0:V.x,(Q=$.transformOrigin)==null?void 0:Q.y].join(" "),...((H=$.hide)==null?void 0:H.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(Aoe,{scope:r,placedSide:B,onArrowChange:E,arrowX:Y,arrowY:ee,shouldHideArrow:ce,children:u.jsx(Me.div,{"data-side":B,"data-align":G,...g,ref:w,style:{...g.style,animation:W?void 0:"none"}})})})});HU.displayName=QP;var GU="PopperArrow",Toe={top:"bottom",right:"left",bottom:"top",left:"right"},qU=_.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=Coe(GU,n),o=Toe[a.placedSide];return u.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:u.jsx(boe,{...i,ref:r,style:{...i.style,display:"block"}})})});qU.displayName=GU;function Noe(t){return t!==null}var Ioe=t=>({name:"transformOrigin",options:t,fn(e){var v,y,x;const{placement:r,rects:n,middlewareData:i}=e,o=((v=i.arrow)==null?void 0:v.centerOffset)!==0,s=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=KU(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=i.arrow)==null?void 0:y.x)??0)+s/2,p=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let m="",g="";return c==="bottom"?(m=o?f:`${h}px`,g=`${-l}px`):c==="top"?(m=o?f:`${h}px`,g=`${n.floating.height+l}px`):c==="right"?(m=`${-l}px`,g=o?f:`${p}px`):c==="left"&&(m=`${n.floating.width+l}px`,g=o?f:`${p}px`),{data:{x:m,y:g}}}});function KU(t){const[e,r="center"]=t.split("-");return[e,r]}var ZP=VU,e0=WU,qb=HU,Kb=qU,Poe="Portal",t0=_.forwardRef((t,e)=>{var s;const{container:r,...n}=t,[i,a]=_.useState(!1);xn(()=>a(!0),[]);const o=r||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return o?VP.createPortal(u.jsx(Me.div,{...n,ref:e}),o):null});t0.displayName=Poe;function Ooe(t,e){return _.useReducer((r,n)=>e[r][n]??r,t)}var Rn=t=>{const{present:e,children:r}=t,n=joe(e),i=typeof r=="function"?r({present:n.isPresent}):_.Children.only(r),a=Ze(n.ref,koe(i));return typeof r=="function"||n.isPresent?_.cloneElement(i,{ref:a}):null};Rn.displayName="Presence";function joe(t){const[e,r]=_.useState(),n=_.useRef({}),i=_.useRef(t),a=_.useRef("none"),o=t?"mounted":"unmounted",[s,l]=Ooe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const c=Cy(n.current);a.current=s==="mounted"?c:"none"},[s]),xn(()=>{const c=n.current,d=i.current;if(d!==t){const h=a.current,p=Cy(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),xn(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=p=>{const g=Cy(n.current).includes(p.animationName);if(p.target===e&&g&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},h=p=>{p.target===e&&(a.current=Cy(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:_.useCallback(c=>{c&&(n.current=getComputedStyle(c)),r(c)},[])}}function Cy(t){return(t==null?void 0:t.animationName)||"none"}function koe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Us({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=Roe({defaultProp:e,onChange:r}),a=t!==void 0,o=a?t:n,s=zr(r),l=_.useCallback(c=>{if(a){const f=typeof c=="function"?c(t):c;f!==t&&s(f)}else i(c)},[a,t,i,s]);return[o,l]}function Roe({defaultProp:t,onChange:e}){const r=_.useState(t),[n]=r,i=_.useRef(n),a=zr(e);return _.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}var Doe="VisuallyHidden",JP=_.forwardRef((t,e)=>u.jsx(Me.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));JP.displayName=Doe;var Moe=JP,[Yb,Jot]=bo("Tooltip",[Nc]),eO=Nc(),YU="TooltipProvider",Loe=700,tD="tooltip.open",[$oe,XU]=Yb(YU),QU=t=>{const{__scopeTooltip:e,delayDuration:r=Loe,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=t,[o,s]=_.useState(!0),l=_.useRef(!1),c=_.useRef(0);return _.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),u.jsx($oe,{scope:e,isOpenDelayed:o,delayDuration:r,onOpen:_.useCallback(()=>{window.clearTimeout(c.current),s(!1)},[]),onClose:_.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s(!0),n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:_.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};QU.displayName=YU;var ZU="Tooltip",[est,Xb]=Yb(ZU),kC="TooltipTrigger",Foe=_.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=Xb(kC,r),a=XU(kC,r),o=eO(r),s=_.useRef(null),l=Ze(e,s,i.onTriggerChange),c=_.useRef(!1),d=_.useRef(!1),f=_.useCallback(()=>c.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(e0,{asChild:!0,...o,children:u.jsx(Me.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:Te(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Te(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Te(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Te(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Te(t.onBlur,i.onClose),onClick:Te(t.onClick,i.onClose)})})});Foe.displayName=kC;var Boe="TooltipPortal",[tst,Uoe]=Yb(Boe,{forceMount:void 0}),Mf="TooltipContent",JU=_.forwardRef((t,e)=>{const r=Uoe(Mf,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=t,o=Xb(Mf,t.__scopeTooltip);return u.jsx(Rn,{present:n||o.open,children:o.disableHoverableContent?u.jsx(eV,{side:i,...a,ref:e}):u.jsx(Voe,{side:i,...a,ref:e})})}),Voe=_.forwardRef((t,e)=>{const r=Xb(Mf,t.__scopeTooltip),n=XU(Mf,t.__scopeTooltip),i=_.useRef(null),a=Ze(e,i),[o,s]=_.useState(null),{trigger:l,onClose:c}=r,d=i.current,{onPointerInTransitChange:f}=n,h=_.useCallback(()=>{s(null),f(!1)},[f]),p=_.useCallback((m,g)=>{const v=m.currentTarget,y={x:m.clientX,y:m.clientY},x=Goe(y,v.getBoundingClientRect()),w=qoe(y,x),S=Koe(g.getBoundingClientRect()),E=Xoe([...w,...S]);s(E),f(!0)},[f]);return _.useEffect(()=>()=>h(),[h]),_.useEffect(()=>{if(l&&d){const m=v=>p(v,d),g=v=>p(v,l);return l.addEventListener("pointerleave",m),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",m),d.removeEventListener("pointerleave",g)}}},[l,d,p,h]),_.useEffect(()=>{if(o){const m=g=>{const v=g.target,y={x:g.clientX,y:g.clientY},x=(l==null?void 0:l.contains(v))||(d==null?void 0:d.contains(v)),w=!Yoe(y,o);x?h():w&&(h(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,d,o,c,h]),u.jsx(eV,{...t,ref:a})}),[zoe,Woe]=Yb(ZU,{isInside:!1}),eV=_.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...s}=t,l=Xb(Mf,r),c=eO(r),{onClose:d}=l;return _.useEffect(()=>(document.addEventListener(tD,d),()=>document.removeEventListener(tD,d)),[d]),_.useEffect(()=>{if(l.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(Lh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(qb,{"data-state":l.stateAttribute,...c,...s,ref:e,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(TU,{children:n}),u.jsx(zoe,{scope:r,isInside:!0,children:u.jsx(Moe,{id:l.contentId,role:"tooltip",children:i||n})})]})})});JU.displayName=Mf;var tV="TooltipArrow",Hoe=_.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=eO(r);return Woe(tV,r).isInside?null:u.jsx(Kb,{...i,...n,ref:e})});Hoe.displayName=tV;function Goe(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function qoe(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function Koe(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function Yoe(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const s=e[a].x,l=e[a].y,c=e[o].x,d=e[o].y;l>n!=d>n&&r<(c-s)*(n-l)/(d-l)+s&&(i=!i)}return i}function Xoe(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Qoe(e)}function Qoe(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Zoe=QU,rV=JU;function nV(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=nV(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function pt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=nV(t))&&(n&&(n+=" "),n+=e);return n}const tO="-",Joe=t=>{const e=tse(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const s=o.split(tO);return s[0]===""&&s.length!==1&&s.shift(),iV(s,e)||ese(o)},getConflictingClassGroupIds:(o,s)=>{const l=r[o]||[];return s&&n[o]?[...l,...n[o]]:l}}},iV=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?iV(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(tO);return(o=e.validators.find(({validator:s})=>s(a)))==null?void 0:o.classGroupId},rD=/^\[(.+)\]$/,ese=t=>{if(rD.test(t)){const e=rD.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},tse=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return nse(Object.entries(t.classGroups),r).forEach(([a,o])=>{RC(o,n,a,e)}),n},RC=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:nD(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(rse(i)){RC(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{RC(o,nD(e,a),r,n)})})},nD=(t,e)=>{let r=t;return e.split(tO).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},rse=t=>t.isThemeGetter,nse=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,s])=>[e+o,s])):a);return[r,i]}):t,ise=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},aV="!",ase=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,o=s=>{const l=[];let c=0,d=0,f;for(let v=0;v<s.length;v++){let y=s[v];if(c===0){if(y===i&&(n||s.slice(v,v+a)===e)){l.push(s.slice(d,v)),d=v+a;continue}if(y==="/"){f=v;continue}}y==="["?c++:y==="]"&&c--}const h=l.length===0?s:s.substring(d),p=h.startsWith(aV),m=p?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}};return r?s=>r({className:s,parseClassName:o}):o},ose=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},sse=t=>({cache:ise(t.cacheSize),parseClassName:ase(t),...Joe(t)}),lse=/\s+/,cse=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(lse);let s="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(c);let m=!!p,g=n(m?h.substring(0,p):h);if(!g){if(!m){s=c+(s.length>0?" "+s:s);continue}if(g=n(h),!g){s=c+(s.length>0?" "+s:s);continue}m=!1}const v=ose(d).join(":"),y=f?v+aV:v,x=y+g;if(a.includes(x))continue;a.push(x);const w=i(g,m);for(let S=0;S<w.length;++S){const E=w[S];a.push(y+E)}s=c+(s.length>0?" "+s:s)}return s};function use(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=oV(e))&&(n&&(n+=" "),n+=r);return n}const oV=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=oV(t[n]))&&(r&&(r+=" "),r+=e);return r};function dse(t,...e){let r,n,i,a=o;function o(l){const c=e.reduce((d,f)=>f(d),t());return r=sse(c),n=r.cache.get,i=r.cache.set,a=s,s(l)}function s(l){const c=n(l);if(c)return c;const d=cse(l,r);return i(l,d),d}return function(){return a(use.apply(null,arguments))}}const Gt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},sV=/^\[(?:([a-z-]+):)?(.+)\]$/i,fse=/^\d+\/\d+$/,hse=new Set(["px","full","screen"]),pse=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mse=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gse=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,vse=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yse=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,cs=t=>gf(t)||hse.has(t)||fse.test(t),ul=t=>Bh(t,"length",Cse),gf=t=>!!t&&!Number.isNaN(Number(t)),HS=t=>Bh(t,"number",gf),zp=t=>!!t&&Number.isInteger(Number(t)),xse=t=>t.endsWith("%")&&gf(t.slice(0,-1)),Ye=t=>sV.test(t),dl=t=>pse.test(t),wse=new Set(["length","size","percentage"]),bse=t=>Bh(t,wse,lV),_se=t=>Bh(t,"position",lV),Sse=new Set(["image","url"]),Ese=t=>Bh(t,Sse,Nse),Ase=t=>Bh(t,"",Tse),Wp=()=>!0,Bh=(t,e,r)=>{const n=sV.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},Cse=t=>mse.test(t)&&!gse.test(t),lV=()=>!1,Tse=t=>vse.test(t),Nse=t=>yse.test(t),Ise=()=>{const t=Gt("colors"),e=Gt("spacing"),r=Gt("blur"),n=Gt("brightness"),i=Gt("borderColor"),a=Gt("borderRadius"),o=Gt("borderSpacing"),s=Gt("borderWidth"),l=Gt("contrast"),c=Gt("grayscale"),d=Gt("hueRotate"),f=Gt("invert"),h=Gt("gap"),p=Gt("gradientColorStops"),m=Gt("gradientColorStopPositions"),g=Gt("inset"),v=Gt("margin"),y=Gt("opacity"),x=Gt("padding"),w=Gt("saturate"),S=Gt("scale"),E=Gt("sepia"),T=Gt("skew"),A=Gt("space"),C=Gt("translate"),N=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",Ye,e],k=()=>[Ye,e],O=()=>["",cs,ul],L=()=>["auto",gf,Ye],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Ye],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[gf,Ye];return{cacheSize:500,separator:":",theme:{colors:[Wp],spacing:[cs,ul],blur:["none","",dl,Ye],brightness:X(),borderColor:[t],borderRadius:["none","","full",dl,Ye],borderSpacing:k(),borderWidth:O(),contrast:X(),grayscale:B(),hueRotate:X(),invert:B(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[xse,ul],inset:P(),margin:P(),opacity:X(),padding:k(),saturate:X(),scale:X(),sepia:B(),skew:X(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",Ye]}],container:["container"],columns:[{columns:[dl]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),Ye]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zp,Ye]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ye]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",zp,Ye]}],"grid-cols":[{"grid-cols":[Wp]}],"col-start-end":[{col:["auto",{span:["full",zp,Ye]},Ye]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Wp]}],"row-start-end":[{row:["auto",{span:[zp,Ye]},Ye]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ye]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ye,e]}],"min-w":[{"min-w":[Ye,e,"min","max","fit"]}],"max-w":[{"max-w":[Ye,e,"none","full","min","max","fit","prose",{screen:[dl]},dl]}],h:[{h:[Ye,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ye,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ye,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ye,e,"auto","min","max","fit"]}],"font-size":[{text:["base",dl,ul]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",HS]}],"font-family":[{font:[Wp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ye]}],"line-clamp":[{"line-clamp":["none",gf,HS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",cs,Ye]}],"list-image":[{"list-image":["none",Ye]}],"list-style-type":[{list:["none","disc","decimal",Ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",cs,ul]}],"underline-offset":[{"underline-offset":["auto",cs,Ye]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),_se]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bse]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ese]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:M()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[cs,Ye]}],"outline-w":[{outline:[cs,ul]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[cs,ul]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",dl,Ase]}],"shadow-color":[{shadow:[Wp]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",dl,Ye]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ye]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",Ye]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[zp,Ye]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ye]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[cs,ul,HS]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Pse=dse(Ise);function Pe(...t){return Pse(pt(t))}const ms={light:()=>{navigator.vibrate&&navigator.vibrate(25)},medium:()=>{navigator.vibrate&&navigator.vibrate(50)},heavy:()=>{navigator.vibrate&&navigator.vibrate(75)},success:()=>{navigator.vibrate&&navigator.vibrate([25,50,75])},error:()=>{navigator.vibrate&&navigator.vibrate([75,50,75])},warning:()=>{navigator.vibrate&&navigator.vibrate([50,30,50])},notification:()=>{navigator.vibrate&&navigator.vibrate([25,50,25])},longPress:()=>{navigator.vibrate&&navigator.vibrate([30,30,60])},custom:t=>{navigator.vibrate&&navigator.vibrate(t)}},Ose=Zoe,jse=_.forwardRef(({className:t,sideOffset:e=4,...r},n)=>u.jsx(rV,{ref:n,sideOffset:e,className:Pe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));jse.displayName=rV.displayName;/**
 * @remix-run/router v1.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pg(){return Pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pg.apply(this,arguments)}var kl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(kl||(kl={}));const iD="popstate";function kse(t){t===void 0&&(t={});function e(i,a){let{pathname:o="/",search:s="",hash:l=""}=od(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),DC("",{pathname:o,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let o=i.document.querySelector("base"),s="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");s=c===-1?l:l.slice(0,c)}return s+"#"+(typeof a=="string"?a:Tx(a))}function n(i,a){Qb(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return Dse(e,r,n,t)}function Mr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Rse(){return Math.random().toString(36).substr(2,8)}function aD(t,e){return{usr:t.state,key:t.key,idx:e}}function DC(t,e,r,n){return r===void 0&&(r=null),Pg({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?od(e):e,{state:r,key:e&&e.key||n||Rse()})}function Tx(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function od(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Dse(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s=kl.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Pg({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){s=kl.Pop;let v=d(),y=v==null?null:v-c;c=v,l&&l({action:s,location:g.location,delta:y})}function h(v,y){s=kl.Push;let x=DC(g.location,v,y);r&&r(x,v),c=d()+1;let w=aD(x,c),S=g.createHref(x);try{o.pushState(w,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(S)}a&&l&&l({action:s,location:g.location,delta:1})}function p(v,y){s=kl.Replace;let x=DC(g.location,v,y);r&&r(x,v),c=d();let w=aD(x,c),S=g.createHref(x);o.replaceState(w,"",S),a&&l&&l({action:s,location:g.location,delta:0})}function m(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof v=="string"?v:Tx(v);return Mr(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let g={get action(){return s},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(iD,f),l=v,()=>{i.removeEventListener(iD,f),l=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let y=m(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(v){return o.go(v)}};return g}var oD;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(oD||(oD={}));function Mse(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?od(e):e,i=rO(n.pathname||"/",r);if(i==null)return null;let a=cV(t);Lse(a);let o=null;for(let s=0;o==null&&s<a.length;++s)o=Gse(a[s],Yse(i));return o}function cV(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(Mr(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Gl([n,l.relativePath]),d=r.concat(l);a.children&&a.children.length>0&&(Mr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),cV(a.children,e,d,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:Wse(c,a.index),routesMeta:d})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of uV(a.path))i(a,o,l)}),e}function uV(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=uV(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function Lse(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Hse(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const $se=/^:\w+$/,Fse=3,Bse=2,Use=1,Vse=10,zse=-2,sD=t=>t==="*";function Wse(t,e){let r=t.split("/"),n=r.length;return r.some(sD)&&(n+=zse),e&&(n+=Bse),r.filter(i=>!sD(i)).reduce((i,a)=>i+($se.test(a)?Fse:a===""?Use:Vse),n)}function Hse(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Gse(t,e){let{routesMeta:r}=t,n={},i="/",a=[];for(let o=0;o<r.length;++o){let s=r[o],l=o===r.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=qse({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c);if(!d)return null;Object.assign(n,d.params);let f=s.route;a.push({params:n,pathname:Gl([i,d.pathname]),pathnameBase:ele(Gl([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Gl([i,d.pathnameBase]))}return a}function qse(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Kse(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=s[f]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=s[f];return p&&!m?c[h]=void 0:c[h]=Xse(m||"",h),c},{}),pathname:a,pathnameBase:o,pattern:t}}function Kse(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Qb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Yse(t){try{return decodeURI(t)}catch(e){return Qb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Xse(t,e){try{return decodeURIComponent(t)}catch(r){return Qb(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function rO(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Qse(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?od(t):t;return{pathname:r?r.startsWith("/")?r:Zse(r,e):e,search:tle(n),hash:rle(i)}}function Zse(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function GS(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Jse(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function nO(t){return Jse(t).map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function iO(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=od(t):(i=Pg({},t),Mr(!i.pathname||!i.pathname.includes("?"),GS("?","pathname","search",i)),Mr(!i.pathname||!i.pathname.includes("#"),GS("#","pathname","hash",i)),Mr(!i.search||!i.search.includes("#"),GS("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else if(n){let f=e[e.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f.pop();i.pathname=h.join("/")}s="/"+f.join("/")}else{let f=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=Qse(i,s),c=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Gl=t=>t.join("/").replace(/\/\/+/g,"/"),ele=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tle=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rle=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nle(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const dV=["post","put","patch","delete"];new Set(dV);const ile=["get",...dV];new Set(ile);/**
 * React Router v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nx(){return Nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nx.apply(this,arguments)}const aO=_.createContext(null),ale=_.createContext(null),Uh=_.createContext(null),Zb=_.createContext(null),Js=_.createContext({outlet:null,matches:[],isDataRoute:!1}),fV=_.createContext(null);function ole(t,e){let{relative:r}=e===void 0?{}:e;Vh()||Mr(!1);let{basename:n,navigator:i}=_.useContext(Uh),{hash:a,pathname:o,search:s}=pV(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Gl([n,o])),i.createHref({pathname:l,search:s,hash:a})}function Vh(){return _.useContext(Zb)!=null}function ns(){return Vh()||Mr(!1),_.useContext(Zb).location}function hV(t){_.useContext(Uh).static||_.useLayoutEffect(t)}function Si(){let{isDataRoute:t}=_.useContext(Js);return t?wle():sle()}function sle(){Vh()||Mr(!1);let t=_.useContext(aO),{basename:e,navigator:r}=_.useContext(Uh),{matches:n}=_.useContext(Js),{pathname:i}=ns(),a=JSON.stringify(nO(n)),o=_.useRef(!1);return hV(()=>{o.current=!0}),_.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){r.go(l);return}let d=iO(l,JSON.parse(a),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Gl([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,a,i,t])}function lle(){let{matches:t}=_.useContext(Js),e=t[t.length-1];return e?e.params:{}}function pV(t,e){let{relative:r}=e===void 0?{}:e,{matches:n}=_.useContext(Js),{pathname:i}=ns(),a=JSON.stringify(nO(n));return _.useMemo(()=>iO(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function cle(t,e){return ule(t,e)}function ule(t,e,r){Vh()||Mr(!1);let{navigator:n}=_.useContext(Uh),{matches:i}=_.useContext(Js),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let s=a?a.pathnameBase:"/";a&&a.route;let l=ns(),c;if(e){var d;let g=typeof e=="string"?od(e):e;s==="/"||(d=g.pathname)!=null&&d.startsWith(s)||Mr(!1),c=g}else c=l;let f=c.pathname||"/",h=s==="/"?f:f.slice(s.length)||"/",p=Mse(t,{pathname:h}),m=mle(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Gl([s,n.encodeLocation?n.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?s:Gl([s,n.encodeLocation?n.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r);return e&&m?_.createElement(Zb.Provider,{value:{location:Nx({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:kl.Pop}},m):m}function dle(){let t=xle(),e=nle(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),r?_.createElement("pre",{style:i},r):null,null)}const fle=_.createElement(dle,null);class hle extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?_.createElement(Js.Provider,{value:this.props.routeContext},_.createElement(fV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ple(t){let{routeContext:e,match:r,children:n}=t,i=_.useContext(aO);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(Js.Provider,{value:e},n)}function mle(t,e,r){var n;if(e===void 0&&(e=[]),r===void 0&&(r=null),t==null){var i;if((i=r)!=null&&i.errors)t=r.matches;else return null}let a=t,o=(n=r)==null?void 0:n.errors;if(o!=null){let s=a.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));s>=0||Mr(!1),a=a.slice(0,Math.min(a.length,s+1))}return a.reduceRight((s,l,c)=>{let d=l.route.id?o==null?void 0:o[l.route.id]:null,f=null;r&&(f=l.route.errorElement||fle);let h=e.concat(a.slice(0,c+1)),p=()=>{let m;return d?m=f:l.route.Component?m=_.createElement(l.route.Component,null):l.route.element?m=l.route.element:m=s,_.createElement(ple,{match:l,routeContext:{outlet:s,matches:h,isDataRoute:r!=null},children:m})};return r&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?_.createElement(hle,{location:r.location,revalidation:r.revalidation,component:f,error:d,children:p(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):p()},null)}var mV=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(mV||{}),gV=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(gV||{});function gle(t){let e=_.useContext(aO);return e||Mr(!1),e}function vle(t){let e=_.useContext(ale);return e||Mr(!1),e}function yle(t){let e=_.useContext(Js);return e||Mr(!1),e}function vV(t){let e=yle(),r=e.matches[e.matches.length-1];return r.route.id||Mr(!1),r.route.id}function xle(){var t;let e=_.useContext(fV),r=vle(),n=vV();return e||((t=r.errors)==null?void 0:t[n])}function wle(){let{router:t}=gle(mV.UseNavigateStable),e=vV(gV.UseNavigateStable),r=_.useRef(!1);return hV(()=>{r.current=!0}),_.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Nx({fromRouteId:e},a)))},[t,e])}function oO(t){let{to:e,replace:r,state:n,relative:i}=t;Vh()||Mr(!1);let{matches:a}=_.useContext(Js),{pathname:o}=ns(),s=Si(),l=iO(e,nO(a),o,i==="path"),c=JSON.stringify(l);return _.useEffect(()=>s(JSON.parse(c),{replace:r,state:n,relative:i}),[s,c,i,r,n]),null}function jr(t){Mr(!1)}function ble(t){let{basename:e="/",children:r=null,location:n,navigationType:i=kl.Pop,navigator:a,static:o=!1}=t;Vh()&&Mr(!1);let s=e.replace(/^\/*/,"/"),l=_.useMemo(()=>({basename:s,navigator:a,static:o}),[s,a,o]);typeof n=="string"&&(n=od(n));let{pathname:c="/",search:d="",hash:f="",state:h=null,key:p="default"}=n,m=_.useMemo(()=>{let g=rO(c,s);return g==null?null:{location:{pathname:g,search:d,hash:f,state:h,key:p},navigationType:i}},[s,c,d,f,h,p,i]);return m==null?null:_.createElement(Uh.Provider,{value:l},_.createElement(Zb.Provider,{children:r,value:m}))}function _le(t){let{children:e,location:r}=t;return cle(MC(e),r)}new Promise(()=>{});function MC(t,e){e===void 0&&(e=[]);let r=[];return _.Children.forEach(t,(n,i)=>{if(!_.isValidElement(n))return;let a=[...e,i];if(n.type===_.Fragment){r.push.apply(r,MC(n.props.children,a));return}n.type!==jr&&Mr(!1),!n.props.index||!n.props.children||Mr(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=MC(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function LC(){return LC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LC.apply(this,arguments)}function Sle(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Ele(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ale(t,e){return t.button===0&&(!e||e==="_self")&&!Ele(t)}const Cle=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Tle="startTransition",lD=S7[Tle];function Nle(t){let{basename:e,children:r,future:n,window:i}=t,a=_.useRef();a.current==null&&(a.current=kse({window:i,v5Compat:!0}));let o=a.current,[s,l]=_.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},d=_.useCallback(f=>{c&&lD?lD(()=>l(f)):l(f)},[l,c]);return _.useLayoutEffect(()=>o.listen(d),[o,d]),_.createElement(ble,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:o})}const Ile=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ple=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T1=_.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:c,preventScrollReset:d,unstable_viewTransition:f}=e,h=Sle(e,Cle),{basename:p}=_.useContext(Uh),m,g=!1;if(typeof c=="string"&&Ple.test(c)&&(m=c,Ile))try{let w=new URL(window.location.href),S=c.startsWith("//")?new URL(w.protocol+c):new URL(c),E=rO(S.pathname,p);S.origin===w.origin&&E!=null?c=E+S.search+S.hash:g=!0}catch{}let v=ole(c,{relative:i}),y=Ole(c,{replace:o,state:s,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:f});function x(w){n&&n(w),w.defaultPrevented||y(w)}return _.createElement("a",LC({},h,{href:m||v,onClick:g||a?n:x,ref:r,target:l}))});var cD;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(cD||(cD={}));var uD;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(uD||(uD={}));function Ole(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:s}=e===void 0?{}:e,l=Si(),c=ns(),d=pV(t,{relative:o});return _.useCallback(f=>{if(Ale(f,r)){f.preventDefault();let h=n!==void 0?n:Tx(c)===Tx(d);l(t,{replace:h,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:s})}},[c,l,d,n,i,r,t,a,o,s])}const jle=()=>{};var dD={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},kle=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],s=t[r++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},xV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=a>>2,f=(a&3)<<4|s>>4;let h=(s&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),n.push(r[d],r[f],r[h],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yV(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kle(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],s=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||s==null||c==null||f==null)throw new Rle;const h=a<<2|s>>4;if(n.push(h),c!==64){const p=s<<4&240|c>>2;if(n.push(p),f!==64){const m=c<<6&192|f;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Rle extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dle=function(t){const e=yV(t);return xV.encodeByteArray(e,!0)},Ix=function(t){return Dle(t).replace(/\./g,"")},wV=function(t){try{return xV.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mle(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lle=()=>Mle().__FIREBASE_DEFAULTS__,$le=()=>{if(typeof process>"u"||typeof dD>"u")return;const t=dD.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Fle=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wV(t[1]);return e&&JSON.parse(e)},Jb=()=>{try{return jle()||Lle()||$le()||Fle()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bV=t=>{var e,r;return(r=(e=Jb())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},_V=t=>{const e=bV(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},SV=()=>{var t;return(t=Jb())===null||t===void 0?void 0:t.config},EV=t=>{var e;return(e=Jb())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ble{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(t){return t.endsWith(".cloudworkstations.dev")}async function sO(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ix(JSON.stringify(r)),Ix(JSON.stringify(o)),""].join(".")}const Hm={};function Ule(){const t={prod:[],emulator:[]};for(const e of Object.keys(Hm))Hm[e]?t.emulator.push(e):t.prod.push(e);return t}function Vle(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let fD=!1;function Wh(t,e){if(typeof window>"u"||typeof document>"u"||!zh(window.location.host)||Hm[t]===e||Hm[t]||fD)return;Hm[t]=e;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",a=Ule().prod.length>0;function o(){const h=document.getElementById(n);h&&h.remove()}function s(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{fD=!0,o()},h}function d(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=Vle(n),p=r("text"),m=document.getElementById(p)||document.createElement("span"),g=r("learnmore"),v=document.getElementById(g)||document.createElement("a"),y=r("preprendIcon"),x=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;s(w),d(v,g);const S=c();l(x,y),w.append(x,m,v,S),document.body.appendChild(w)}a?(m.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zle(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ti())}function Wle(){var t;const e=(t=Jb())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Hle(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Gle(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qle(){const t=ti();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Kle(){return!Wle()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lO(){try{return typeof indexedDB=="object"}catch{return!1}}function cO(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}function TV(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yle="FirebaseError";class La extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Yle,Object.setPrototypeOf(this,La.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ic.prototype.create)}}class Ic{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?Xle(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new La(i,s,n)}}function Xle(t,e){return t.replace(Qle,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Qle=/\{\$([^}]+)}/g;function Zle(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function dc(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(hD(a)&&hD(o)){if(!dc(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function hD(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function xm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function wm(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function Jle(t,e){const r=new ece(t,e);return r.subscribe.bind(r)}class ece{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");tce(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=qS),i.error===void 0&&(i.error=qS),i.complete===void 0&&(i.complete=qS);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tce(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function qS(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rce=1e3,nce=2,ice=4*60*60*1e3,ace=.5;function pD(t,e=rce,r=nce){const n=e*Math.pow(r,t),i=Math.round(ace*n*(Math.random()-.5)*2);return Math.min(ice,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(t){return t&&t._delegate?t._delegate:t}class Wi{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oce{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Ble;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lce(e))try{this.getOrInitializeService({instanceIdentifier:Jc})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Jc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jc){return this.instances.has(e)}getOptions(e=Jc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:sce(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Jc){return this.component?this.component.multipleInstances?e:Jc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sce(t){return t===Jc?void 0:t}function lce(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cce{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new oce(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const uce={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},dce=ot.INFO,fce={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},hce=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=fce[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class e2{constructor(e){this.name=e,this._logLevel=dce,this._logHandler=hce,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uce[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const pce=(t,e)=>e.some(r=>t instanceof r);let mD,gD;function mce(){return mD||(mD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gce(){return gD||(gD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NV=new WeakMap,$C=new WeakMap,IV=new WeakMap,KS=new WeakMap,uO=new WeakMap;function vce(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(Ts(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&NV.set(r,t)}).catch(()=>{}),uO.set(e,t),e}function yce(t){if($C.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});$C.set(t,e)}let FC={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return $C.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IV.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ts(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xce(t){FC=t(FC)}function wce(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(YS(this),e,...r);return IV.set(n,e.sort?e.sort():[e]),Ts(n)}:gce().includes(t)?function(...e){return t.apply(YS(this),e),Ts(NV.get(this))}:function(...e){return Ts(t.apply(YS(this),e))}}function bce(t){return typeof t=="function"?wce(t):(t instanceof IDBTransaction&&yce(t),pce(t,mce())?new Proxy(t,FC):t)}function Ts(t){if(t instanceof IDBRequest)return vce(t);if(KS.has(t))return KS.get(t);const e=bce(t);return e!==t&&(KS.set(t,e),uO.set(e,t)),e}const YS=t=>uO.get(t);function t2(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=Ts(o);return n&&o.addEventListener("upgradeneeded",l=>{n(Ts(o.result),l.oldVersion,l.newVersion,Ts(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),s}function XS(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",n=>e(n.oldVersion,n)),Ts(r).then(()=>{})}const _ce=["get","getKey","getAll","getAllKeys","count"],Sce=["put","add","delete","clear"],QS=new Map;function vD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(QS.get(e))return QS.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=Sce.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||_ce.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(s.shift())),(await Promise.all([c[r](...s),i&&l.done]))[0]};return QS.set(e,a),a}xce(t=>({...t,get:(e,r,n)=>vD(e,r)||t.get(e,r,n),has:(e,r)=>!!vD(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ece{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Ace(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Ace(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const BC="@firebase/app",yD="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new e2("@firebase/app"),Cce="@firebase/app-compat",Tce="@firebase/analytics-compat",Nce="@firebase/analytics",Ice="@firebase/app-check-compat",Pce="@firebase/app-check",Oce="@firebase/auth",jce="@firebase/auth-compat",kce="@firebase/database",Rce="@firebase/data-connect",Dce="@firebase/database-compat",Mce="@firebase/functions",Lce="@firebase/functions-compat",$ce="@firebase/installations",Fce="@firebase/installations-compat",Bce="@firebase/messaging",Uce="@firebase/messaging-compat",Vce="@firebase/performance",zce="@firebase/performance-compat",Wce="@firebase/remote-config",Hce="@firebase/remote-config-compat",Gce="@firebase/storage",qce="@firebase/storage-compat",Kce="@firebase/firestore",Yce="@firebase/vertexai",Xce="@firebase/firestore-compat",Qce="firebase",Zce="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="[DEFAULT]",Jce={[BC]:"fire-core",[Cce]:"fire-core-compat",[Nce]:"fire-analytics",[Tce]:"fire-analytics-compat",[Pce]:"fire-app-check",[Ice]:"fire-app-check-compat",[Oce]:"fire-auth",[jce]:"fire-auth-compat",[kce]:"fire-rtdb",[Rce]:"fire-data-connect",[Dce]:"fire-rtdb-compat",[Mce]:"fire-fn",[Lce]:"fire-fn-compat",[$ce]:"fire-iid",[Fce]:"fire-iid-compat",[Bce]:"fire-fcm",[Uce]:"fire-fcm-compat",[Vce]:"fire-perf",[zce]:"fire-perf-compat",[Wce]:"fire-rc",[Hce]:"fire-rc-compat",[Gce]:"fire-gcs",[qce]:"fire-gcs-compat",[Kce]:"fire-fst",[Xce]:"fire-fst-compat",[Yce]:"fire-vertex","fire-js":"fire-js",[Qce]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=new Map,eue=new Map,VC=new Map;function xD(t,e){try{t.container.addComponent(e)}catch(r){Vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function sa(t){const e=t.name;if(VC.has(e))return Vs.debug(`There were multiple attempts to register component ${e}.`),!1;VC.set(e,t);for(const r of Px.values())xD(r,t);for(const r of eue.values())xD(r,t);return!0}function el(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Pi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tue={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ql=new Ic("app","Firebase",tue);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rue{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Wi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ql.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd=Zce;function PV(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:UC,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw ql.create("bad-app-name",{appName:String(i)});if(r||(r=SV()),!r)throw ql.create("no-options");const a=Px.get(i);if(a){if(dc(r,a.options)&&dc(n,a.config))return a;throw ql.create("duplicate-app",{appName:i})}const o=new cce(i);for(const l of VC.values())o.addComponent(l);const s=new rue(r,n,o);return Px.set(i,s),s}function n0(t=UC){const e=Px.get(t);if(!e&&t===UC&&SV())return PV();if(!e)throw ql.create("no-app",{appName:t});return e}function Zn(t,e,r){var n;let i=(n=Jce[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vs.warn(s.join(" "));return}sa(new Wi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nue="firebase-heartbeat-database",iue=1,Og="firebase-heartbeat-store";let ZS=null;function OV(){return ZS||(ZS=t2(nue,iue,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Og)}catch(r){console.warn(r)}}}}).catch(t=>{throw ql.create("idb-open",{originalErrorMessage:t.message})})),ZS}async function aue(t){try{const r=(await OV()).transaction(Og),n=await r.objectStore(Og).get(jV(t));return await r.done,n}catch(e){if(e instanceof La)Vs.warn(e.message);else{const r=ql.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vs.warn(r.message)}}}async function wD(t,e){try{const n=(await OV()).transaction(Og,"readwrite");await n.objectStore(Og).put(e,jV(t)),await n.done}catch(r){if(r instanceof La)Vs.warn(r.message);else{const n=ql.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Vs.warn(n.message)}}}function jV(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oue=1024,sue=30;class lue{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new uue(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=bD();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>sue){const o=due(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Vs.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=bD(),{heartbeatsToSend:n,unsentEntries:i}=cue(this._heartbeatsCache.heartbeats),a=Ix(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Vs.warn(r),""}}}function bD(){return new Date().toISOString().substring(0,10)}function cue(t,e=oue){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),_D(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),_D(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class uue{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lO()?cO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await aue(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return wD(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return wD(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function _D(t){return Ix(JSON.stringify({version:2,heartbeats:t})).length}function due(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fue(t){sa(new Wi("platform-logger",e=>new Ece(e),"PRIVATE")),sa(new Wi("heartbeat",e=>new lue(e),"PRIVATE")),Zn(BC,yD,t),Zn(BC,yD,"esm2017"),Zn("fire-js","")}fue("");var hue="firebase",pue="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zn(hue,pue,"app");var SD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kl,kV;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,C){function N(){}N.prototype=C.prototype,A.D=C.prototype,A.prototype=new N,A.prototype.constructor=A,A.C=function(I,P,k){for(var O=Array(arguments.length-2),L=2;L<arguments.length;L++)O[L-2]=arguments[L];return C.prototype[P].apply(I,O)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,C,N){N||(N=0);var I=Array(16);if(typeof C=="string")for(var P=0;16>P;++P)I[P]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(P=0;16>P;++P)I[P]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=A.g[0],N=A.g[1],P=A.g[2];var k=A.g[3],O=C+(k^N&(P^k))+I[0]+3614090360&4294967295;C=N+(O<<7&4294967295|O>>>25),O=k+(P^C&(N^P))+I[1]+3905402710&4294967295,k=C+(O<<12&4294967295|O>>>20),O=P+(N^k&(C^N))+I[2]+606105819&4294967295,P=k+(O<<17&4294967295|O>>>15),O=N+(C^P&(k^C))+I[3]+3250441966&4294967295,N=P+(O<<22&4294967295|O>>>10),O=C+(k^N&(P^k))+I[4]+4118548399&4294967295,C=N+(O<<7&4294967295|O>>>25),O=k+(P^C&(N^P))+I[5]+1200080426&4294967295,k=C+(O<<12&4294967295|O>>>20),O=P+(N^k&(C^N))+I[6]+2821735955&4294967295,P=k+(O<<17&4294967295|O>>>15),O=N+(C^P&(k^C))+I[7]+4249261313&4294967295,N=P+(O<<22&4294967295|O>>>10),O=C+(k^N&(P^k))+I[8]+1770035416&4294967295,C=N+(O<<7&4294967295|O>>>25),O=k+(P^C&(N^P))+I[9]+2336552879&4294967295,k=C+(O<<12&4294967295|O>>>20),O=P+(N^k&(C^N))+I[10]+4294925233&4294967295,P=k+(O<<17&4294967295|O>>>15),O=N+(C^P&(k^C))+I[11]+2304563134&4294967295,N=P+(O<<22&4294967295|O>>>10),O=C+(k^N&(P^k))+I[12]+1804603682&4294967295,C=N+(O<<7&4294967295|O>>>25),O=k+(P^C&(N^P))+I[13]+4254626195&4294967295,k=C+(O<<12&4294967295|O>>>20),O=P+(N^k&(C^N))+I[14]+2792965006&4294967295,P=k+(O<<17&4294967295|O>>>15),O=N+(C^P&(k^C))+I[15]+1236535329&4294967295,N=P+(O<<22&4294967295|O>>>10),O=C+(P^k&(N^P))+I[1]+4129170786&4294967295,C=N+(O<<5&4294967295|O>>>27),O=k+(N^P&(C^N))+I[6]+3225465664&4294967295,k=C+(O<<9&4294967295|O>>>23),O=P+(C^N&(k^C))+I[11]+643717713&4294967295,P=k+(O<<14&4294967295|O>>>18),O=N+(k^C&(P^k))+I[0]+3921069994&4294967295,N=P+(O<<20&4294967295|O>>>12),O=C+(P^k&(N^P))+I[5]+3593408605&4294967295,C=N+(O<<5&4294967295|O>>>27),O=k+(N^P&(C^N))+I[10]+38016083&4294967295,k=C+(O<<9&4294967295|O>>>23),O=P+(C^N&(k^C))+I[15]+3634488961&4294967295,P=k+(O<<14&4294967295|O>>>18),O=N+(k^C&(P^k))+I[4]+3889429448&4294967295,N=P+(O<<20&4294967295|O>>>12),O=C+(P^k&(N^P))+I[9]+568446438&4294967295,C=N+(O<<5&4294967295|O>>>27),O=k+(N^P&(C^N))+I[14]+3275163606&4294967295,k=C+(O<<9&4294967295|O>>>23),O=P+(C^N&(k^C))+I[3]+4107603335&4294967295,P=k+(O<<14&4294967295|O>>>18),O=N+(k^C&(P^k))+I[8]+1163531501&4294967295,N=P+(O<<20&4294967295|O>>>12),O=C+(P^k&(N^P))+I[13]+2850285829&4294967295,C=N+(O<<5&4294967295|O>>>27),O=k+(N^P&(C^N))+I[2]+4243563512&4294967295,k=C+(O<<9&4294967295|O>>>23),O=P+(C^N&(k^C))+I[7]+1735328473&4294967295,P=k+(O<<14&4294967295|O>>>18),O=N+(k^C&(P^k))+I[12]+2368359562&4294967295,N=P+(O<<20&4294967295|O>>>12),O=C+(N^P^k)+I[5]+4294588738&4294967295,C=N+(O<<4&4294967295|O>>>28),O=k+(C^N^P)+I[8]+2272392833&4294967295,k=C+(O<<11&4294967295|O>>>21),O=P+(k^C^N)+I[11]+1839030562&4294967295,P=k+(O<<16&4294967295|O>>>16),O=N+(P^k^C)+I[14]+4259657740&4294967295,N=P+(O<<23&4294967295|O>>>9),O=C+(N^P^k)+I[1]+2763975236&4294967295,C=N+(O<<4&4294967295|O>>>28),O=k+(C^N^P)+I[4]+1272893353&4294967295,k=C+(O<<11&4294967295|O>>>21),O=P+(k^C^N)+I[7]+4139469664&4294967295,P=k+(O<<16&4294967295|O>>>16),O=N+(P^k^C)+I[10]+3200236656&4294967295,N=P+(O<<23&4294967295|O>>>9),O=C+(N^P^k)+I[13]+681279174&4294967295,C=N+(O<<4&4294967295|O>>>28),O=k+(C^N^P)+I[0]+3936430074&4294967295,k=C+(O<<11&4294967295|O>>>21),O=P+(k^C^N)+I[3]+3572445317&4294967295,P=k+(O<<16&4294967295|O>>>16),O=N+(P^k^C)+I[6]+76029189&4294967295,N=P+(O<<23&4294967295|O>>>9),O=C+(N^P^k)+I[9]+3654602809&4294967295,C=N+(O<<4&4294967295|O>>>28),O=k+(C^N^P)+I[12]+3873151461&4294967295,k=C+(O<<11&4294967295|O>>>21),O=P+(k^C^N)+I[15]+530742520&4294967295,P=k+(O<<16&4294967295|O>>>16),O=N+(P^k^C)+I[2]+3299628645&4294967295,N=P+(O<<23&4294967295|O>>>9),O=C+(P^(N|~k))+I[0]+4096336452&4294967295,C=N+(O<<6&4294967295|O>>>26),O=k+(N^(C|~P))+I[7]+1126891415&4294967295,k=C+(O<<10&4294967295|O>>>22),O=P+(C^(k|~N))+I[14]+2878612391&4294967295,P=k+(O<<15&4294967295|O>>>17),O=N+(k^(P|~C))+I[5]+4237533241&4294967295,N=P+(O<<21&4294967295|O>>>11),O=C+(P^(N|~k))+I[12]+1700485571&4294967295,C=N+(O<<6&4294967295|O>>>26),O=k+(N^(C|~P))+I[3]+2399980690&4294967295,k=C+(O<<10&4294967295|O>>>22),O=P+(C^(k|~N))+I[10]+4293915773&4294967295,P=k+(O<<15&4294967295|O>>>17),O=N+(k^(P|~C))+I[1]+2240044497&4294967295,N=P+(O<<21&4294967295|O>>>11),O=C+(P^(N|~k))+I[8]+1873313359&4294967295,C=N+(O<<6&4294967295|O>>>26),O=k+(N^(C|~P))+I[15]+4264355552&4294967295,k=C+(O<<10&4294967295|O>>>22),O=P+(C^(k|~N))+I[6]+2734768916&4294967295,P=k+(O<<15&4294967295|O>>>17),O=N+(k^(P|~C))+I[13]+1309151649&4294967295,N=P+(O<<21&4294967295|O>>>11),O=C+(P^(N|~k))+I[4]+4149444226&4294967295,C=N+(O<<6&4294967295|O>>>26),O=k+(N^(C|~P))+I[11]+3174756917&4294967295,k=C+(O<<10&4294967295|O>>>22),O=P+(C^(k|~N))+I[2]+718787259&4294967295,P=k+(O<<15&4294967295|O>>>17),O=N+(k^(P|~C))+I[9]+3951481745&4294967295,A.g[0]=A.g[0]+C&4294967295,A.g[1]=A.g[1]+(P+(O<<21&4294967295|O>>>11))&4294967295,A.g[2]=A.g[2]+P&4294967295,A.g[3]=A.g[3]+k&4294967295}n.prototype.u=function(A,C){C===void 0&&(C=A.length);for(var N=C-this.blockSize,I=this.B,P=this.h,k=0;k<C;){if(P==0)for(;k<=N;)i(this,A,k),k+=this.blockSize;if(typeof A=="string"){for(;k<C;)if(I[P++]=A.charCodeAt(k++),P==this.blockSize){i(this,I),P=0;break}}else for(;k<C;)if(I[P++]=A[k++],P==this.blockSize){i(this,I),P=0;break}}this.h=P,this.o+=C},n.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var C=1;C<A.length-8;++C)A[C]=0;var N=8*this.o;for(C=A.length-8;C<A.length;++C)A[C]=N&255,N/=256;for(this.u(A),A=Array(16),C=N=0;4>C;++C)for(var I=0;32>I;I+=8)A[N++]=this.g[C]>>>I&255;return A};function a(A,C){var N=s;return Object.prototype.hasOwnProperty.call(N,A)?N[A]:N[A]=C(A)}function o(A,C){this.h=C;for(var N=[],I=!0,P=A.length-1;0<=P;P--){var k=A[P]|0;I&&k==C||(N[P]=k,I=!1)}this.g=N}var s={};function l(A){return-128<=A&&128>A?a(A,function(C){return new o([C|0],0>C?-1:0)}):new o([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return v(c(-A));for(var C=[],N=1,I=0;A>=N;I++)C[I]=A/N|0,N*=4294967296;return new o(C,0)}function d(A,C){if(A.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(A.charAt(0)=="-")return v(d(A.substring(1),C));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=c(Math.pow(C,8)),I=f,P=0;P<A.length;P+=8){var k=Math.min(8,A.length-P),O=parseInt(A.substring(P,P+k),C);8>k?(k=c(Math.pow(C,k)),I=I.j(k).add(c(O))):(I=I.j(N),I=I.add(c(O)))}return I}var f=l(0),h=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-v(this).m();for(var A=0,C=1,N=0;N<this.g.length;N++){var I=this.i(N);A+=(0<=I?I:4294967296+I)*C,C*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(m(this))return"0";if(g(this))return"-"+v(this).toString(A);for(var C=c(Math.pow(A,6)),N=this,I="";;){var P=S(N,C).g;N=y(N,P.j(C));var k=((0<N.g.length?N.g[0]:N.h)>>>0).toString(A);if(N=P,m(N))return k+I;for(;6>k.length;)k="0"+k;I=k+I}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function m(A){if(A.h!=0)return!1;for(var C=0;C<A.g.length;C++)if(A.g[C]!=0)return!1;return!0}function g(A){return A.h==-1}t.l=function(A){return A=y(this,A),g(A)?-1:m(A)?0:1};function v(A){for(var C=A.g.length,N=[],I=0;I<C;I++)N[I]=~A.g[I];return new o(N,~A.h).add(h)}t.abs=function(){return g(this)?v(this):this},t.add=function(A){for(var C=Math.max(this.g.length,A.g.length),N=[],I=0,P=0;P<=C;P++){var k=I+(this.i(P)&65535)+(A.i(P)&65535),O=(k>>>16)+(this.i(P)>>>16)+(A.i(P)>>>16);I=O>>>16,k&=65535,O&=65535,N[P]=O<<16|k}return new o(N,N[N.length-1]&-2147483648?-1:0)};function y(A,C){return A.add(v(C))}t.j=function(A){if(m(this)||m(A))return f;if(g(this))return g(A)?v(this).j(v(A)):v(v(this).j(A));if(g(A))return v(this.j(v(A)));if(0>this.l(p)&&0>A.l(p))return c(this.m()*A.m());for(var C=this.g.length+A.g.length,N=[],I=0;I<2*C;I++)N[I]=0;for(I=0;I<this.g.length;I++)for(var P=0;P<A.g.length;P++){var k=this.i(I)>>>16,O=this.i(I)&65535,L=A.i(P)>>>16,z=A.i(P)&65535;N[2*I+2*P]+=O*z,x(N,2*I+2*P),N[2*I+2*P+1]+=k*z,x(N,2*I+2*P+1),N[2*I+2*P+1]+=O*L,x(N,2*I+2*P+1),N[2*I+2*P+2]+=k*L,x(N,2*I+2*P+2)}for(I=0;I<C;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=C;I<2*C;I++)N[I]=0;return new o(N,0)};function x(A,C){for(;(A[C]&65535)!=A[C];)A[C+1]+=A[C]>>>16,A[C]&=65535,C++}function w(A,C){this.g=A,this.h=C}function S(A,C){if(m(C))throw Error("division by zero");if(m(A))return new w(f,f);if(g(A))return C=S(v(A),C),new w(v(C.g),v(C.h));if(g(C))return C=S(A,v(C)),new w(v(C.g),C.h);if(30<A.g.length){if(g(A)||g(C))throw Error("slowDivide_ only works with positive integers.");for(var N=h,I=C;0>=I.l(A);)N=E(N),I=E(I);var P=T(N,1),k=T(I,1);for(I=T(I,2),N=T(N,2);!m(I);){var O=k.add(I);0>=O.l(A)&&(P=P.add(N),k=O),I=T(I,1),N=T(N,1)}return C=y(A,P.j(C)),new w(P,C)}for(P=f;0<=A.l(C);){for(N=Math.max(1,Math.floor(A.m()/C.m())),I=Math.ceil(Math.log(N)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),k=c(N),O=k.j(C);g(O)||0<O.l(A);)N-=I,k=c(N),O=k.j(C);m(k)&&(k=h),P=P.add(k),A=y(A,O)}return new w(P,A)}t.A=function(A){return S(this,A).h},t.and=function(A){for(var C=Math.max(this.g.length,A.g.length),N=[],I=0;I<C;I++)N[I]=this.i(I)&A.i(I);return new o(N,this.h&A.h)},t.or=function(A){for(var C=Math.max(this.g.length,A.g.length),N=[],I=0;I<C;I++)N[I]=this.i(I)|A.i(I);return new o(N,this.h|A.h)},t.xor=function(A){for(var C=Math.max(this.g.length,A.g.length),N=[],I=0;I<C;I++)N[I]=this.i(I)^A.i(I);return new o(N,this.h^A.h)};function E(A){for(var C=A.g.length+1,N=[],I=0;I<C;I++)N[I]=A.i(I)<<1|A.i(I-1)>>>31;return new o(N,A.h)}function T(A,C){var N=C>>5;C%=32;for(var I=A.g.length-N,P=[],k=0;k<I;k++)P[k]=0<C?A.i(k+N)>>>C|A.i(k+N+1)<<32-C:A.i(k+N);return new o(P,A.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,kV=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Kl=o}).apply(typeof SD<"u"?SD:typeof self<"u"?self:typeof window<"u"?window:{});var Ty=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RV,bm,DV,N1,zC,MV,LV,$V;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(b,j,R){return b==Array.prototype||b==Object.prototype||(b[j]=R.value),b};function r(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ty=="object"&&Ty];for(var j=0;j<b.length;++j){var R=b[j];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var n=r(this);function i(b,j){if(j)e:{var R=n;b=b.split(".");for(var F=0;F<b.length-1;F++){var Z=b[F];if(!(Z in R))break e;R=R[Z]}b=b[b.length-1],F=R[b],j=j(F),j!=F&&j!=null&&e(R,b,{configurable:!0,writable:!0,value:j})}}function a(b,j){b instanceof String&&(b+="");var R=0,F=!1,Z={next:function(){if(!F&&R<b.length){var ne=R++;return{value:j(ne,b[ne]),done:!1}}return F=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}i("Array.prototype.values",function(b){return b||function(){return a(this,function(j,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(b){var j=typeof b;return j=j!="object"?j:b?Array.isArray(b)?"array":j:"null",j=="array"||j=="object"&&typeof b.length=="number"}function c(b){var j=typeof b;return j=="object"&&b!=null||j=="function"}function d(b,j,R){return b.call.apply(b.bind,arguments)}function f(b,j,R){if(!b)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,F),b.apply(j,Z)}}return function(){return b.apply(j,arguments)}}function h(b,j,R){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function p(b,j){var R=Array.prototype.slice.call(arguments,1);return function(){var F=R.slice();return F.push.apply(F,arguments),b.apply(this,F)}}function m(b,j){function R(){}R.prototype=j.prototype,b.aa=j.prototype,b.prototype=new R,b.prototype.constructor=b,b.Qb=function(F,Z,ne){for(var Ae=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)Ae[Mt-2]=arguments[Mt];return j.prototype[Z].apply(F,Ae)}}function g(b){const j=b.length;if(0<j){const R=Array(j);for(let F=0;F<j;F++)R[F]=b[F];return R}return[]}function v(b,j){for(let R=1;R<arguments.length;R++){const F=arguments[R];if(l(F)){const Z=b.length||0,ne=F.length||0;b.length=Z+ne;for(let Ae=0;Ae<ne;Ae++)b[Z+Ae]=F[Ae]}else b.push(F)}}class y{constructor(j,R){this.i=j,this.j=R,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function x(b){return/^[\s\xa0]*$/.test(b)}function w(){var b=s.navigator;return b&&(b=b.userAgent)?b:""}function S(b){return S[" "](b),b}S[" "]=function(){};var E=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function T(b,j,R){for(const F in b)j.call(R,b[F],F,b)}function A(b,j){for(const R in b)j.call(void 0,b[R],R,b)}function C(b){const j={};for(const R in b)j[R]=b[R];return j}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(b,j){let R,F;for(let Z=1;Z<arguments.length;Z++){F=arguments[Z];for(R in F)b[R]=F[R];for(let ne=0;ne<N.length;ne++)R=N[ne],Object.prototype.hasOwnProperty.call(F,R)&&(b[R]=F[R])}}function P(b){var j=1;b=b.split(":");const R=[];for(;0<j&&b.length;)R.push(b.shift()),j--;return b.length&&R.push(b.join(":")),R}function k(b){s.setTimeout(()=>{throw b},0)}function O(){var b=B;let j=null;return b.g&&(j=b.g,b.g=b.g.next,b.g||(b.h=null),j.next=null),j}class L{constructor(){this.h=this.g=null}add(j,R){const F=z.get();F.set(j,R),this.h?this.h.next=F:this.g=F,this.h=F}}var z=new y(()=>new M,b=>b.reset());class M{constructor(){this.next=this.g=this.h=null}set(j,R){this.h=j,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let W,$=!1,B=new L,G=()=>{const b=s.Promise.resolve(void 0);W=()=>{b.then(X)}};var X=()=>{for(var b;b=O();){try{b.h.call(b.g)}catch(R){k(R)}var j=z;j.j(b),100>j.h&&(j.h++,b.next=j.g,j.g=b)}$=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(b,j){this.type=b,this.g=this.target=j,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var b=!1,j=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const R=()=>{};s.addEventListener("test",R,j),s.removeEventListener("test",R,j)}catch{}return b}();function de(b,j){if(ee.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b){var R=this.type=b.type,F=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;if(this.target=b.target||b.srcElement,this.g=j,j=b.relatedTarget){if(E){e:{try{S(j.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(j=null)}}else R=="mouseover"?j=b.fromElement:R=="mouseout"&&(j=b.toElement);this.relatedTarget=j,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=typeof b.pointerType=="string"?b.pointerType:_e[b.pointerType]||"",this.state=b.state,this.i=b,b.defaultPrevented&&de.aa.h.call(this)}}m(de,ee);var _e={2:"touch",3:"pen",4:"mouse"};de.prototype.h=function(){de.aa.h.call(this);var b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Se=0;function se(b,j,R,F,Z){this.listener=b,this.proxy=null,this.src=j,this.type=R,this.capture=!!F,this.ha=Z,this.key=++Se,this.da=this.fa=!1}function V(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function Q(b){this.src=b,this.g={},this.h=0}Q.prototype.add=function(b,j,R,F,Z){var ne=b.toString();b=this.g[ne],b||(b=this.g[ne]=[],this.h++);var Ae=ve(b,j,F,Z);return-1<Ae?(j=b[Ae],R||(j.fa=!1)):(j=new se(j,this.src,ne,!!F,Z),j.fa=R,b.push(j)),j};function H(b,j){var R=j.type;if(R in b.g){var F=b.g[R],Z=Array.prototype.indexOf.call(F,j,void 0),ne;(ne=0<=Z)&&Array.prototype.splice.call(F,Z,1),ne&&(V(j),b.g[R].length==0&&(delete b.g[R],b.h--))}}function ve(b,j,R,F){for(var Z=0;Z<b.length;++Z){var ne=b[Z];if(!ne.da&&ne.listener==j&&ne.capture==!!R&&ne.ha==F)return Z}return-1}var fe="closure_lm_"+(1e6*Math.random()|0),te={};function re(b,j,R,F,Z){if(Array.isArray(j)){for(var ne=0;ne<j.length;ne++)re(b,j[ne],R,F,Z);return null}return R=pa(R),b&&b[ge]?b.K(j,R,c(F)?!!F.capture:!1,Z):K(b,j,R,!1,F,Z)}function K(b,j,R,F,Z,ne){if(!j)throw Error("Invalid event type");var Ae=c(Z)?!!Z.capture:!!Z,Mt=dr(b);if(Mt||(b[fe]=Mt=new Q(b)),R=Mt.add(j,R,F,Ae,ne),R.proxy)return R;if(F=le(),R.proxy=F,F.src=b,F.listener=R,b.addEventListener)ce||(Z=Ae),Z===void 0&&(Z=!1),b.addEventListener(j.toString(),F,Z);else if(b.attachEvent)b.attachEvent(Wt(j.toString()),F);else if(b.addListener&&b.removeListener)b.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return R}function le(){function b(R){return j.call(b.src,b.listener,R)}const j=wr;return b}function pe(b,j,R,F,Z){if(Array.isArray(j))for(var ne=0;ne<j.length;ne++)pe(b,j[ne],R,F,Z);else F=c(F)?!!F.capture:!!F,R=pa(R),b&&b[ge]?(b=b.i,j=String(j).toString(),j in b.g&&(ne=b.g[j],R=ve(ne,R,F,Z),-1<R&&(V(ne[R]),Array.prototype.splice.call(ne,R,1),ne.length==0&&(delete b.g[j],b.h--)))):b&&(b=dr(b))&&(j=b.g[j.toString()],b=-1,j&&(b=ve(j,R,F,Z)),(R=-1<b?j[b]:null)&&ut(R))}function ut(b){if(typeof b!="number"&&b&&!b.da){var j=b.src;if(j&&j[ge])H(j.i,b);else{var R=b.type,F=b.proxy;j.removeEventListener?j.removeEventListener(R,F,b.capture):j.detachEvent?j.detachEvent(Wt(R),F):j.addListener&&j.removeListener&&j.removeListener(F),(R=dr(j))?(H(R,b),R.h==0&&(R.src=null,j[fe]=null)):V(b)}}}function Wt(b){return b in te?te[b]:te[b]="on"+b}function wr(b,j){if(b.da)b=!0;else{j=new de(j,this);var R=b.listener,F=b.ha||b.src;b.fa&&ut(b),b=R.call(F,j)}return b}function dr(b){return b=b[fe],b instanceof Q?b:null}var Dn="__closure_events_fn_"+(1e9*Math.random()>>>0);function pa(b){return typeof b=="function"?b:(b[Dn]||(b[Dn]=function(j){return b.handleEvent(j)}),b[Dn])}function Or(){Y.call(this),this.i=new Q(this),this.M=this,this.F=null}m(Or,Y),Or.prototype[ge]=!0,Or.prototype.removeEventListener=function(b,j,R,F){pe(this,b,j,R,F)};function $r(b,j){var R,F=b.F;if(F)for(R=[];F;F=F.F)R.push(F);if(b=b.M,F=j.type||j,typeof j=="string")j=new ee(j,b);else if(j instanceof ee)j.target=j.target||b;else{var Z=j;j=new ee(F,b),I(j,Z)}if(Z=!0,R)for(var ne=R.length-1;0<=ne;ne--){var Ae=j.g=R[ne];Z=os(Ae,F,!0,j)&&Z}if(Ae=j.g=b,Z=os(Ae,F,!0,j)&&Z,Z=os(Ae,F,!1,j)&&Z,R)for(ne=0;ne<R.length;ne++)Ae=j.g=R[ne],Z=os(Ae,F,!1,j)&&Z}Or.prototype.N=function(){if(Or.aa.N.call(this),this.i){var b=this.i,j;for(j in b.g){for(var R=b.g[j],F=0;F<R.length;F++)V(R[F]);delete b.g[j],b.h--}}this.F=null},Or.prototype.K=function(b,j,R,F){return this.i.add(String(b),j,!1,R,F)},Or.prototype.L=function(b,j,R,F){return this.i.add(String(b),j,!0,R,F)};function os(b,j,R,F){if(j=b.i.g[String(j)],!j)return!0;j=j.concat();for(var Z=!0,ne=0;ne<j.length;++ne){var Ae=j[ne];if(Ae&&!Ae.da&&Ae.capture==R){var Mt=Ae.listener,bn=Ae.ha||Ae.src;Ae.fa&&H(b.i,Ae),Z=Mt.call(bn,F)!==!1&&Z}}return Z&&!F.defaultPrevented}function xp(b,j,R){if(typeof b=="function")R&&(b=h(b,R));else if(b&&typeof b.handleEvent=="function")b=h(b.handleEvent,b);else throw Error("Invalid listener argument");return 2147483647<Number(j)?-1:s.setTimeout(b,j||0)}function W0(b){b.g=xp(()=>{b.g=null,b.i&&(b.i=!1,W0(b))},b.l);const j=b.h;b.h=null,b.m.apply(null,j)}class iS extends Y{constructor(j,R){super(),this.m=j,this.l=R,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:W0(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Va(b){Y.call(this),this.h=b,this.g={}}m(Va,Y);var H0=[];function wp(b){T(b.g,function(j,R){this.g.hasOwnProperty(R)&&ut(j)},b),b.g={}}Va.prototype.N=function(){Va.aa.N.call(this),wp(this)},Va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yd=s.JSON.stringify,G0=s.JSON.parse,q0=class{stringify(b){return s.JSON.stringify(b,void 0)}parse(b){return s.JSON.parse(b,void 0)}};function bp(){}bp.prototype.h=null;function _p(b){return b.h||(b.h=b.i())}function Sp(){}var al={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xd(){ee.call(this,"d")}m(xd,ee);function Ep(){ee.call(this,"c")}m(Ep,ee);var me={},Ke=null;function at(){return Ke=Ke||new Or}me.La="serverreachability";function br(b){ee.call(this,me.La,b)}m(br,ee);function ln(b){const j=at();$r(j,new br(j))}me.STAT_EVENT="statevent";function zc(b,j){ee.call(this,me.STAT_EVENT,b),this.stat=j}m(zc,ee);function _r(b){const j=at();$r(j,new zc(j,b))}me.Ma="timingevent";function X3(b,j){ee.call(this,me.Ma,b),this.size=j}m(X3,ee);function Ap(b,j){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){b()},j)}function Cp(){this.g=!0}Cp.prototype.xa=function(){this.g=!1};function dre(b,j,R,F,Z,ne){b.info(function(){if(b.g)if(ne)for(var Ae="",Mt=ne.split("&"),bn=0;bn<Mt.length;bn++){var xt=Mt[bn].split("=");if(1<xt.length){var Mn=xt[0];xt=xt[1];var Ln=Mn.split("_");Ae=2<=Ln.length&&Ln[1]=="type"?Ae+(Mn+"="+xt+"&"):Ae+(Mn+"=redacted&")}}else Ae=null;else Ae=ne;return"XMLHTTP REQ ("+F+") [attempt "+Z+"]: "+j+`
`+R+`
`+Ae})}function fre(b,j,R,F,Z,ne,Ae){b.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+Z+"]: "+j+`
`+R+`
`+ne+" "+Ae})}function wd(b,j,R,F){b.info(function(){return"XMLHTTP TEXT ("+j+"): "+pre(b,R)+(F?" "+F:"")})}function hre(b,j){b.info(function(){return"TIMEOUT: "+j})}Cp.prototype.info=function(){};function pre(b,j){if(!b.g)return j;if(!j)return null;try{var R=JSON.parse(j);if(R){for(b=0;b<R.length;b++)if(Array.isArray(R[b])){var F=R[b];if(!(2>F.length)){var Z=F[1];if(Array.isArray(Z)&&!(1>Z.length)){var ne=Z[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var Ae=1;Ae<Z.length;Ae++)Z[Ae]=""}}}}return yd(R)}catch{return j}}var K0={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Q3={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},aS;function Y0(){}m(Y0,bp),Y0.prototype.g=function(){return new XMLHttpRequest},Y0.prototype.i=function(){return{}},aS=new Y0;function ol(b,j,R,F){this.j=b,this.i=j,this.l=R,this.R=F||1,this.U=new Va(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Z3}function Z3(){this.i=null,this.g="",this.h=!1}var J3={},oS={};function sS(b,j,R){b.L=1,b.v=J0(ss(j)),b.m=R,b.P=!0,e4(b,null)}function e4(b,j){b.F=Date.now(),X0(b),b.A=ss(b.v);var R=b.A,F=b.R;Array.isArray(F)||(F=[String(F)]),p4(R.i,"t",F),b.C=0,R=b.j.J,b.h=new Z3,b.g=j4(b.j,R?j:null,!b.m),0<b.O&&(b.M=new iS(h(b.Y,b,b.g),b.O)),j=b.U,R=b.g,F=b.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(H0[0]=Z.toString()),Z=H0);for(var ne=0;ne<Z.length;ne++){var Ae=re(R,Z[ne],F||j.handleEvent,!1,j.h||j);if(!Ae)break;j.g[Ae.key]=Ae}j=b.H?C(b.H):{},b.m?(b.u||(b.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.A,b.u,b.m,j)):(b.u="GET",b.g.ea(b.A,b.u,null,j)),ln(),dre(b.i,b.u,b.A,b.l,b.R,b.m)}ol.prototype.ca=function(b){b=b.target;const j=this.M;j&&ls(b)==3?j.j():this.Y(b)},ol.prototype.Y=function(b){try{if(b==this.g)e:{const Ln=ls(this.g);var j=this.g.Ba();const Sd=this.g.Z();if(!(3>Ln)&&(Ln!=3||this.g&&(this.h.h||this.g.oa()||b4(this.g)))){this.J||Ln!=4||j==7||(j==8||0>=Sd?ln(3):ln(2)),lS(this);var R=this.g.Z();this.X=R;t:if(t4(this)){var F=b4(this.g);b="";var Z=F.length,ne=ls(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wc(this),Tp(this);var Ae="";break t}this.h.i=new s.TextDecoder}for(j=0;j<Z;j++)this.h.h=!0,b+=this.h.i.decode(F[j],{stream:!(ne&&j==Z-1)});F.length=0,this.h.g+=b,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=R==200,fre(this.i,this.u,this.A,this.l,this.R,Ln,R),this.o){if(this.T&&!this.K){t:{if(this.g){var Mt,bn=this.g;if((Mt=bn.g?bn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Mt)){var xt=Mt;break t}}xt=null}if(R=xt)wd(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cS(this,R);else{this.o=!1,this.s=3,_r(12),Wc(this),Tp(this);break e}}if(this.P){R=!0;let za;for(;!this.J&&this.C<Ae.length;)if(za=mre(this,Ae),za==oS){Ln==4&&(this.s=4,_r(14),R=!1),wd(this.i,this.l,null,"[Incomplete Response]");break}else if(za==J3){this.s=4,_r(15),wd(this.i,this.l,Ae,"[Invalid Chunk]"),R=!1;break}else wd(this.i,this.l,za,null),cS(this,za);if(t4(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ln!=4||Ae.length!=0||this.h.h||(this.s=1,_r(16),R=!1),this.o=this.o&&R,!R)wd(this.i,this.l,Ae,"[Invalid Chunked Response]"),Wc(this),Tp(this);else if(0<Ae.length&&!this.W){this.W=!0;var Mn=this.j;Mn.g==this&&Mn.ba&&!Mn.M&&(Mn.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),mS(Mn),Mn.M=!0,_r(11))}}else wd(this.i,this.l,Ae,null),cS(this,Ae);Ln==4&&Wc(this),this.o&&!this.J&&(Ln==4?N4(this.j,this):(this.o=!1,X0(this)))}else jre(this.g),R==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,_r(12)):(this.s=0,_r(13)),Wc(this),Tp(this)}}}catch{}finally{}};function t4(b){return b.g?b.u=="GET"&&b.L!=2&&b.j.Ca:!1}function mre(b,j){var R=b.C,F=j.indexOf(`
`,R);return F==-1?oS:(R=Number(j.substring(R,F)),isNaN(R)?J3:(F+=1,F+R>j.length?oS:(j=j.slice(F,F+R),b.C=F+R,j)))}ol.prototype.cancel=function(){this.J=!0,Wc(this)};function X0(b){b.S=Date.now()+b.I,r4(b,b.I)}function r4(b,j){if(b.B!=null)throw Error("WatchDog timer not null");b.B=Ap(h(b.ba,b),j)}function lS(b){b.B&&(s.clearTimeout(b.B),b.B=null)}ol.prototype.ba=function(){this.B=null;const b=Date.now();0<=b-this.S?(hre(this.i,this.A),this.L!=2&&(ln(),_r(17)),Wc(this),this.s=2,Tp(this)):r4(this,this.S-b)};function Tp(b){b.j.G==0||b.J||N4(b.j,b)}function Wc(b){lS(b);var j=b.M;j&&typeof j.ma=="function"&&j.ma(),b.M=null,wp(b.U),b.g&&(j=b.g,b.g=null,j.abort(),j.ma())}function cS(b,j){try{var R=b.j;if(R.G!=0&&(R.g==b||uS(R.h,b))){if(!b.K&&uS(R.h,b)&&R.G==3){try{var F=R.Da.g.parse(j)}catch{F=null}if(Array.isArray(F)&&F.length==3){var Z=F;if(Z[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<b.F)ay(R),ny(R);else break e;pS(R),_r(18)}}else R.za=Z[1],0<R.za-R.T&&37500>Z[2]&&R.F&&R.v==0&&!R.C&&(R.C=Ap(h(R.Za,R),6e3));if(1>=a4(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else Gc(R,11)}else if((b.K||R.g==b)&&ay(R),!x(j))for(Z=R.Da.g.parse(j),j=0;j<Z.length;j++){let xt=Z[j];if(R.T=xt[0],xt=xt[1],R.G==2)if(xt[0]=="c"){R.K=xt[1],R.ia=xt[2];const Mn=xt[3];Mn!=null&&(R.la=Mn,R.j.info("VER="+R.la));const Ln=xt[4];Ln!=null&&(R.Aa=Ln,R.j.info("SVER="+R.Aa));const Sd=xt[5];Sd!=null&&typeof Sd=="number"&&0<Sd&&(F=1.5*Sd,R.L=F,R.j.info("backChannelRequestTimeoutMs_="+F)),F=R;const za=b.g;if(za){const sy=za.g?za.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sy){var ne=F.h;ne.g||sy.indexOf("spdy")==-1&&sy.indexOf("quic")==-1&&sy.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(dS(ne,ne.h),ne.h=null))}if(F.D){const gS=za.g?za.g.getResponseHeader("X-HTTP-Session-Id"):null;gS&&(F.ya=gS,Ht(F.I,F.D,gS))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-b.F,R.j.info("Handshake RTT: "+R.R+"ms")),F=R;var Ae=b;if(F.qa=O4(F,F.J?F.ia:null,F.W),Ae.K){o4(F.h,Ae);var Mt=Ae,bn=F.L;bn&&(Mt.I=bn),Mt.B&&(lS(Mt),X0(Mt)),F.g=Ae}else C4(F);0<R.i.length&&iy(R)}else xt[0]!="stop"&&xt[0]!="close"||Gc(R,7);else R.G==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?Gc(R,7):hS(R):xt[0]!="noop"&&R.l&&R.l.ta(xt),R.v=0)}}ln(4)}catch{}}var gre=class{constructor(b,j){this.g=b,this.map=j}};function n4(b){this.l=b||10,s.PerformanceNavigationTiming?(b=s.performance.getEntriesByType("navigation"),b=0<b.length&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function i4(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function a4(b){return b.h?1:b.g?b.g.size:0}function uS(b,j){return b.h?b.h==j:b.g?b.g.has(j):!1}function dS(b,j){b.g?b.g.add(j):b.h=j}function o4(b,j){b.h&&b.h==j?b.h=null:b.g&&b.g.has(j)&&b.g.delete(j)}n4.prototype.cancel=function(){if(this.i=s4(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function s4(b){if(b.h!=null)return b.i.concat(b.h.D);if(b.g!=null&&b.g.size!==0){let j=b.i;for(const R of b.g.values())j=j.concat(R.D);return j}return g(b.i)}function vre(b){if(b.V&&typeof b.V=="function")return b.V();if(typeof Map<"u"&&b instanceof Map||typeof Set<"u"&&b instanceof Set)return Array.from(b.values());if(typeof b=="string")return b.split("");if(l(b)){for(var j=[],R=b.length,F=0;F<R;F++)j.push(b[F]);return j}j=[],R=0;for(F in b)j[R++]=b[F];return j}function yre(b){if(b.na&&typeof b.na=="function")return b.na();if(!b.V||typeof b.V!="function"){if(typeof Map<"u"&&b instanceof Map)return Array.from(b.keys());if(!(typeof Set<"u"&&b instanceof Set)){if(l(b)||typeof b=="string"){var j=[];b=b.length;for(var R=0;R<b;R++)j.push(R);return j}j=[],R=0;for(const F in b)j[R++]=F;return j}}}function l4(b,j){if(b.forEach&&typeof b.forEach=="function")b.forEach(j,void 0);else if(l(b)||typeof b=="string")Array.prototype.forEach.call(b,j,void 0);else for(var R=yre(b),F=vre(b),Z=F.length,ne=0;ne<Z;ne++)j.call(void 0,F[ne],R&&R[ne],b)}var c4=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xre(b,j){if(b){b=b.split("&");for(var R=0;R<b.length;R++){var F=b[R].indexOf("="),Z=null;if(0<=F){var ne=b[R].substring(0,F);Z=b[R].substring(F+1)}else ne=b[R];j(ne,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Hc(b){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,b instanceof Hc){this.h=b.h,Q0(this,b.j),this.o=b.o,this.g=b.g,Z0(this,b.s),this.l=b.l;var j=b.i,R=new Pp;R.i=j.i,j.g&&(R.g=new Map(j.g),R.h=j.h),u4(this,R),this.m=b.m}else b&&(j=String(b).match(c4))?(this.h=!1,Q0(this,j[1]||"",!0),this.o=Np(j[2]||""),this.g=Np(j[3]||"",!0),Z0(this,j[4]),this.l=Np(j[5]||"",!0),u4(this,j[6]||"",!0),this.m=Np(j[7]||"")):(this.h=!1,this.i=new Pp(null,this.h))}Hc.prototype.toString=function(){var b=[],j=this.j;j&&b.push(Ip(j,d4,!0),":");var R=this.g;return(R||j=="file")&&(b.push("//"),(j=this.o)&&b.push(Ip(j,d4,!0),"@"),b.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&b.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&b.push("/"),b.push(Ip(R,R.charAt(0)=="/"?_re:bre,!0))),(R=this.i.toString())&&b.push("?",R),(R=this.m)&&b.push("#",Ip(R,Ere)),b.join("")};function ss(b){return new Hc(b)}function Q0(b,j,R){b.j=R?Np(j,!0):j,b.j&&(b.j=b.j.replace(/:$/,""))}function Z0(b,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);b.s=j}else b.s=null}function u4(b,j,R){j instanceof Pp?(b.i=j,Are(b.i,b.h)):(R||(j=Ip(j,Sre)),b.i=new Pp(j,b.h))}function Ht(b,j,R){b.i.set(j,R)}function J0(b){return Ht(b,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),b}function Np(b,j){return b?j?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function Ip(b,j,R){return typeof b=="string"?(b=encodeURI(b).replace(j,wre),R&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function wre(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var d4=/[#\/\?@]/g,bre=/[#\?:]/g,_re=/[#\?]/g,Sre=/[#\?@]/g,Ere=/#/g;function Pp(b,j){this.h=this.g=null,this.i=b||null,this.j=!!j}function sl(b){b.g||(b.g=new Map,b.h=0,b.i&&xre(b.i,function(j,R){b.add(decodeURIComponent(j.replace(/\+/g," ")),R)}))}t=Pp.prototype,t.add=function(b,j){sl(this),this.i=null,b=bd(this,b);var R=this.g.get(b);return R||this.g.set(b,R=[]),R.push(j),this.h+=1,this};function f4(b,j){sl(b),j=bd(b,j),b.g.has(j)&&(b.i=null,b.h-=b.g.get(j).length,b.g.delete(j))}function h4(b,j){return sl(b),j=bd(b,j),b.g.has(j)}t.forEach=function(b,j){sl(this),this.g.forEach(function(R,F){R.forEach(function(Z){b.call(j,Z,F,this)},this)},this)},t.na=function(){sl(this);const b=Array.from(this.g.values()),j=Array.from(this.g.keys()),R=[];for(let F=0;F<j.length;F++){const Z=b[F];for(let ne=0;ne<Z.length;ne++)R.push(j[F])}return R},t.V=function(b){sl(this);let j=[];if(typeof b=="string")h4(this,b)&&(j=j.concat(this.g.get(bd(this,b))));else{b=Array.from(this.g.values());for(let R=0;R<b.length;R++)j=j.concat(b[R])}return j},t.set=function(b,j){return sl(this),this.i=null,b=bd(this,b),h4(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[j]),this.h+=1,this},t.get=function(b,j){return b?(b=this.V(b),0<b.length?String(b[0]):j):j};function p4(b,j,R){f4(b,j),0<R.length&&(b.i=null,b.g.set(bd(b,j),g(R)),b.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],j=Array.from(this.g.keys());for(var R=0;R<j.length;R++){var F=j[R];const ne=encodeURIComponent(String(F)),Ae=this.V(F);for(F=0;F<Ae.length;F++){var Z=ne;Ae[F]!==""&&(Z+="="+encodeURIComponent(String(Ae[F]))),b.push(Z)}}return this.i=b.join("&")};function bd(b,j){return j=String(j),b.j&&(j=j.toLowerCase()),j}function Are(b,j){j&&!b.j&&(sl(b),b.i=null,b.g.forEach(function(R,F){var Z=F.toLowerCase();F!=Z&&(f4(this,F),p4(this,Z,R))},b)),b.j=j}function Cre(b,j){const R=new Cp;if(s.Image){const F=new Image;F.onload=p(ll,R,"TestLoadImage: loaded",!0,j,F),F.onerror=p(ll,R,"TestLoadImage: error",!1,j,F),F.onabort=p(ll,R,"TestLoadImage: abort",!1,j,F),F.ontimeout=p(ll,R,"TestLoadImage: timeout",!1,j,F),s.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=b}else j(!1)}function Tre(b,j){const R=new Cp,F=new AbortController,Z=setTimeout(()=>{F.abort(),ll(R,"TestPingServer: timeout",!1,j)},1e4);fetch(b,{signal:F.signal}).then(ne=>{clearTimeout(Z),ne.ok?ll(R,"TestPingServer: ok",!0,j):ll(R,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(Z),ll(R,"TestPingServer: error",!1,j)})}function ll(b,j,R,F,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),F(R)}catch{}}function Nre(){this.g=new q0}function Ire(b,j,R){const F=R||"";try{l4(b,function(Z,ne){let Ae=Z;c(Z)&&(Ae=yd(Z)),j.push(F+ne+"="+encodeURIComponent(Ae))})}catch(Z){throw j.push(F+"type="+encodeURIComponent("_badmap")),Z}}function ey(b){this.l=b.Ub||null,this.j=b.eb||!1}m(ey,bp),ey.prototype.g=function(){return new ty(this.l,this.j)},ey.prototype.i=function(b){return function(){return b}}({});function ty(b,j){Or.call(this),this.D=b,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(ty,Or),t=ty.prototype,t.open=function(b,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=b,this.A=j,this.readyState=1,jp(this)},t.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};b&&(j.body=b),(this.D||s).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Op(this)),this.readyState=0},t.Sa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,jp(this)),this.g&&(this.readyState=3,jp(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;m4(this)}else b.text().then(this.Ra.bind(this),this.ga.bind(this))};function m4(b){b.j.read().then(b.Pa.bind(b)).catch(b.ga.bind(b))}t.Pa=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var j=b.value?b.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!b.done}))&&(this.response=this.responseText+=j)}b.done?Op(this):jp(this),this.readyState==3&&m4(this)}},t.Ra=function(b){this.g&&(this.response=this.responseText=b,Op(this))},t.Qa=function(b){this.g&&(this.response=b,Op(this))},t.ga=function(){this.g&&Op(this)};function Op(b){b.readyState=4,b.l=null,b.j=null,b.v=null,jp(b)}t.setRequestHeader=function(b,j){this.u.append(b,j)},t.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],j=this.h.entries();for(var R=j.next();!R.done;)R=R.value,b.push(R[0]+": "+R[1]),R=j.next();return b.join(`\r
`)};function jp(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(ty.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function g4(b){let j="";return T(b,function(R,F){j+=F,j+=":",j+=R,j+=`\r
`}),j}function fS(b,j,R){e:{for(F in R){var F=!1;break e}F=!0}F||(R=g4(R),typeof b=="string"?R!=null&&encodeURIComponent(String(R)):Ht(b,j,R))}function Sr(b){Or.call(this),this.headers=new Map,this.o=b||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(Sr,Or);var Pre=/^https?$/i,Ore=["POST","PUT"];t=Sr.prototype,t.Ha=function(b){this.J=b},t.ea=function(b,j,R,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);j=j?j.toUpperCase():"GET",this.D=b,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():aS.g(),this.v=this.o?_p(this.o):_p(aS),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(j,String(b),!0),this.B=!1}catch(ne){v4(this,ne);return}if(b=R||"",R=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var Z in F)R.set(Z,F[Z]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ne of F.keys())R.set(ne,F.get(ne));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(R.keys()).find(ne=>ne.toLowerCase()=="content-type"),Z=s.FormData&&b instanceof s.FormData,!(0<=Array.prototype.indexOf.call(Ore,j,void 0))||F||Z||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,Ae]of R)this.g.setRequestHeader(ne,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{w4(this),this.u=!0,this.g.send(b),this.u=!1}catch(ne){v4(this,ne)}};function v4(b,j){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=j,b.m=5,y4(b),ry(b)}function y4(b){b.A||(b.A=!0,$r(b,"complete"),$r(b,"error"))}t.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=b||7,$r(this,"complete"),$r(this,"abort"),ry(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ry(this,!0)),Sr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?x4(this):this.bb())},t.bb=function(){x4(this)};function x4(b){if(b.h&&typeof o<"u"&&(!b.v[1]||ls(b)!=4||b.Z()!=2)){if(b.u&&ls(b)==4)xp(b.Ea,0,b);else if($r(b,"readystatechange"),ls(b)==4){b.h=!1;try{const Ae=b.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var R;if(!(R=j)){var F;if(F=Ae===0){var Z=String(b.D).match(c4)[1]||null;!Z&&s.self&&s.self.location&&(Z=s.self.location.protocol.slice(0,-1)),F=!Pre.test(Z?Z.toLowerCase():"")}R=F}if(R)$r(b,"complete"),$r(b,"success");else{b.m=6;try{var ne=2<ls(b)?b.g.statusText:""}catch{ne=""}b.l=ne+" ["+b.Z()+"]",y4(b)}}finally{ry(b)}}}}function ry(b,j){if(b.g){w4(b);const R=b.g,F=b.v[0]?()=>{}:null;b.g=null,b.v=null,j||$r(b,"ready");try{R.onreadystatechange=F}catch{}}}function w4(b){b.I&&(s.clearTimeout(b.I),b.I=null)}t.isActive=function(){return!!this.g};function ls(b){return b.g?b.g.readyState:0}t.Z=function(){try{return 2<ls(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(b){if(this.g){var j=this.g.responseText;return b&&j.indexOf(b)==0&&(j=j.substring(b.length)),G0(j)}};function b4(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.H){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function jre(b){const j={};b=(b.g&&2<=ls(b)&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<b.length;F++){if(x(b[F]))continue;var R=P(b[F]);const Z=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const ne=j[Z]||[];j[Z]=ne,ne.push(R)}A(j,function(F){return F.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function kp(b,j,R){return R&&R.internalChannelParams&&R.internalChannelParams[b]||j}function _4(b){this.Aa=0,this.i=[],this.j=new Cp,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=kp("failFast",!1,b),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=kp("baseRetryDelayMs",5e3,b),this.cb=kp("retryDelaySeedMs",1e4,b),this.Wa=kp("forwardChannelMaxRetries",2,b),this.wa=kp("forwardChannelRequestTimeoutMs",2e4,b),this.pa=b&&b.xmlHttpFactory||void 0,this.Xa=b&&b.Tb||void 0,this.Ca=b&&b.useFetchStreams||!1,this.L=void 0,this.J=b&&b.supportsCrossDomainXhr||!1,this.K="",this.h=new n4(b&&b.concurrentRequestLimit),this.Da=new Nre,this.P=b&&b.fastHandshake||!1,this.O=b&&b.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=b&&b.Rb||!1,b&&b.xa&&this.j.xa(),b&&b.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&b&&b.detectBufferingProxy||!1,this.ja=void 0,b&&b.longPollingTimeout&&0<b.longPollingTimeout&&(this.ja=b.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=_4.prototype,t.la=8,t.G=1,t.connect=function(b,j,R,F){_r(0),this.W=b,this.H=j||{},R&&F!==void 0&&(this.H.OSID=R,this.H.OAID=F),this.F=this.X,this.I=O4(this,null,this.W),iy(this)};function hS(b){if(S4(b),b.G==3){var j=b.U++,R=ss(b.I);if(Ht(R,"SID",b.K),Ht(R,"RID",j),Ht(R,"TYPE","terminate"),Rp(b,R),j=new ol(b,b.j,j),j.L=2,j.v=J0(ss(R)),R=!1,s.navigator&&s.navigator.sendBeacon)try{R=s.navigator.sendBeacon(j.v.toString(),"")}catch{}!R&&s.Image&&(new Image().src=j.v,R=!0),R||(j.g=j4(j.j,null),j.g.ea(j.v)),j.F=Date.now(),X0(j)}P4(b)}function ny(b){b.g&&(mS(b),b.g.cancel(),b.g=null)}function S4(b){ny(b),b.u&&(s.clearTimeout(b.u),b.u=null),ay(b),b.h.cancel(),b.s&&(typeof b.s=="number"&&s.clearTimeout(b.s),b.s=null)}function iy(b){if(!i4(b.h)&&!b.s){b.s=!0;var j=b.Ga;W||G(),$||(W(),$=!0),B.add(j,b),b.B=0}}function kre(b,j){return a4(b.h)>=b.h.j-(b.s?1:0)?!1:b.s?(b.i=j.D.concat(b.i),!0):b.G==1||b.G==2||b.B>=(b.Va?0:b.Wa)?!1:(b.s=Ap(h(b.Ga,b,j),I4(b,b.B)),b.B++,!0)}t.Ga=function(b){if(this.s)if(this.s=null,this.G==1){if(!b){this.U=Math.floor(1e5*Math.random()),b=this.U++;const Z=new ol(this,this.j,b);let ne=this.o;if(this.S&&(ne?(ne=C(ne),I(ne,this.S)):ne=this.S),this.m!==null||this.O||(Z.H=ne,ne=null),this.P)e:{for(var j=0,R=0;R<this.i.length;R++){t:{var F=this.i[R];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(j+=F,4096<j){j=R;break e}if(j===4096||R===this.i.length-1){j=R+1;break e}}j=1e3}else j=1e3;j=A4(this,Z,j),R=ss(this.I),Ht(R,"RID",b),Ht(R,"CVER",22),this.D&&Ht(R,"X-HTTP-Session-Id",this.D),Rp(this,R),ne&&(this.O?j="headers="+encodeURIComponent(String(g4(ne)))+"&"+j:this.m&&fS(R,this.m,ne)),dS(this.h,Z),this.Ua&&Ht(R,"TYPE","init"),this.P?(Ht(R,"$req",j),Ht(R,"SID","null"),Z.T=!0,sS(Z,R,null)):sS(Z,R,j),this.G=2}}else this.G==3&&(b?E4(this,b):this.i.length==0||i4(this.h)||E4(this))};function E4(b,j){var R;j?R=j.l:R=b.U++;const F=ss(b.I);Ht(F,"SID",b.K),Ht(F,"RID",R),Ht(F,"AID",b.T),Rp(b,F),b.m&&b.o&&fS(F,b.m,b.o),R=new ol(b,b.j,R,b.B+1),b.m===null&&(R.H=b.o),j&&(b.i=j.D.concat(b.i)),j=A4(b,R,1e3),R.I=Math.round(.5*b.wa)+Math.round(.5*b.wa*Math.random()),dS(b.h,R),sS(R,F,j)}function Rp(b,j){b.H&&T(b.H,function(R,F){Ht(j,F,R)}),b.l&&l4({},function(R,F){Ht(j,F,R)})}function A4(b,j,R){R=Math.min(b.i.length,R);var F=b.l?h(b.l.Na,b.l,b):null;e:{var Z=b.i;let ne=-1;for(;;){const Ae=["count="+R];ne==-1?0<R?(ne=Z[0].g,Ae.push("ofs="+ne)):ne=0:Ae.push("ofs="+ne);let Mt=!0;for(let bn=0;bn<R;bn++){let xt=Z[bn].g;const Mn=Z[bn].map;if(xt-=ne,0>xt)ne=Math.max(0,Z[bn].g-100),Mt=!1;else try{Ire(Mn,Ae,"req"+xt+"_")}catch{F&&F(Mn)}}if(Mt){F=Ae.join("&");break e}}}return b=b.i.splice(0,R),j.D=b,F}function C4(b){if(!b.g&&!b.u){b.Y=1;var j=b.Fa;W||G(),$||(W(),$=!0),B.add(j,b),b.v=0}}function pS(b){return b.g||b.u||3<=b.v?!1:(b.Y++,b.u=Ap(h(b.Fa,b),I4(b,b.v)),b.v++,!0)}t.Fa=function(){if(this.u=null,T4(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var b=2*this.R;this.j.info("BP detection timer enabled: "+b),this.A=Ap(h(this.ab,this),b)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_r(10),ny(this),T4(this))};function mS(b){b.A!=null&&(s.clearTimeout(b.A),b.A=null)}function T4(b){b.g=new ol(b,b.j,"rpc",b.Y),b.m===null&&(b.g.H=b.o),b.g.O=0;var j=ss(b.qa);Ht(j,"RID","rpc"),Ht(j,"SID",b.K),Ht(j,"AID",b.T),Ht(j,"CI",b.F?"0":"1"),!b.F&&b.ja&&Ht(j,"TO",b.ja),Ht(j,"TYPE","xmlhttp"),Rp(b,j),b.m&&b.o&&fS(j,b.m,b.o),b.L&&(b.g.I=b.L);var R=b.g;b=b.ia,R.L=1,R.v=J0(ss(j)),R.m=null,R.P=!0,e4(R,b)}t.Za=function(){this.C!=null&&(this.C=null,ny(this),pS(this),_r(19))};function ay(b){b.C!=null&&(s.clearTimeout(b.C),b.C=null)}function N4(b,j){var R=null;if(b.g==j){ay(b),mS(b),b.g=null;var F=2}else if(uS(b.h,j))R=j.D,o4(b.h,j),F=1;else return;if(b.G!=0){if(j.o)if(F==1){R=j.m?j.m.length:0,j=Date.now()-j.F;var Z=b.B;F=at(),$r(F,new X3(F,R)),iy(b)}else C4(b);else if(Z=j.s,Z==3||Z==0&&0<j.X||!(F==1&&kre(b,j)||F==2&&pS(b)))switch(R&&0<R.length&&(j=b.h,j.i=j.i.concat(R)),Z){case 1:Gc(b,5);break;case 4:Gc(b,10);break;case 3:Gc(b,6);break;default:Gc(b,2)}}}function I4(b,j){let R=b.Ta+Math.floor(Math.random()*b.cb);return b.isActive()||(R*=2),R*j}function Gc(b,j){if(b.j.info("Error code "+j),j==2){var R=h(b.fb,b),F=b.Xa;const Z=!F;F=new Hc(F||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Q0(F,"https"),J0(F),Z?Cre(F.toString(),R):Tre(F.toString(),R)}else _r(2);b.G=0,b.l&&b.l.sa(j),P4(b),S4(b)}t.fb=function(b){b?(this.j.info("Successfully pinged google.com"),_r(2)):(this.j.info("Failed to ping google.com"),_r(1))};function P4(b){if(b.G=0,b.ka=[],b.l){const j=s4(b.h);(j.length!=0||b.i.length!=0)&&(v(b.ka,j),v(b.ka,b.i),b.h.i.length=0,g(b.i),b.i.length=0),b.l.ra()}}function O4(b,j,R){var F=R instanceof Hc?ss(R):new Hc(R);if(F.g!="")j&&(F.g=j+"."+F.g),Z0(F,F.s);else{var Z=s.location;F=Z.protocol,j=j?j+"."+Z.hostname:Z.hostname,Z=+Z.port;var ne=new Hc(null);F&&Q0(ne,F),j&&(ne.g=j),Z&&Z0(ne,Z),R&&(ne.l=R),F=ne}return R=b.D,j=b.ya,R&&j&&Ht(F,R,j),Ht(F,"VER",b.la),Rp(b,F),F}function j4(b,j,R){if(j&&!b.J)throw Error("Can't create secondary domain capable XhrIo object.");return j=b.Ca&&!b.pa?new Sr(new ey({eb:R})):new Sr(b.pa),j.Ha(b.J),j}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function k4(){}t=k4.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function oy(){}oy.prototype.g=function(b,j){return new Ki(b,j)};function Ki(b,j){Or.call(this),this.g=new _4(j),this.l=b,this.h=j&&j.messageUrlParams||null,b=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(b?b["X-WebChannel-Content-Type"]=j.messageContentType:b={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(b?b["X-WebChannel-Client-Profile"]=j.va:b={"X-WebChannel-Client-Profile":j.va}),this.g.S=b,(b=j&&j.Sb)&&!x(b)&&(this.g.m=b),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!x(j)&&(this.g.D=j,b=this.h,b!==null&&j in b&&(b=this.h,j in b&&delete b[j])),this.j=new _d(this)}m(Ki,Or),Ki.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ki.prototype.close=function(){hS(this.g)},Ki.prototype.o=function(b){var j=this.g;if(typeof b=="string"){var R={};R.__data__=b,b=R}else this.u&&(R={},R.__data__=yd(b),b=R);j.i.push(new gre(j.Ya++,b)),j.G==3&&iy(j)},Ki.prototype.N=function(){this.g.l=null,delete this.j,hS(this.g),delete this.g,Ki.aa.N.call(this)};function R4(b){xd.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var j=b.__sm__;if(j){e:{for(const R in j){b=R;break e}b=void 0}(this.i=b)&&(b=this.i,j=j!==null&&b in j?j[b]:void 0),this.data=j}else this.data=b}m(R4,xd);function D4(){Ep.call(this),this.status=1}m(D4,Ep);function _d(b){this.g=b}m(_d,k4),_d.prototype.ua=function(){$r(this.g,"a")},_d.prototype.ta=function(b){$r(this.g,new R4(b))},_d.prototype.sa=function(b){$r(this.g,new D4)},_d.prototype.ra=function(){$r(this.g,"b")},oy.prototype.createWebChannel=oy.prototype.g,Ki.prototype.send=Ki.prototype.o,Ki.prototype.open=Ki.prototype.m,Ki.prototype.close=Ki.prototype.close,$V=function(){return new oy},LV=function(){return at()},MV=me,zC={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},K0.NO_ERROR=0,K0.TIMEOUT=8,K0.HTTP_ERROR=6,N1=K0,Q3.COMPLETE="complete",DV=Q3,Sp.EventType=al,al.OPEN="a",al.CLOSE="b",al.ERROR="c",al.MESSAGE="d",Or.prototype.listen=Or.prototype.K,bm=Sp,Sr.prototype.listenOnce=Sr.prototype.L,Sr.prototype.getLastError=Sr.prototype.Ka,Sr.prototype.getLastErrorCode=Sr.prototype.Ba,Sr.prototype.getStatus=Sr.prototype.Z,Sr.prototype.getResponseJson=Sr.prototype.Oa,Sr.prototype.getResponseText=Sr.prototype.oa,Sr.prototype.send=Sr.prototype.ea,Sr.prototype.setWithCredentials=Sr.prototype.Ha,RV=Sr}).apply(typeof Ty<"u"?Ty:typeof self<"u"?self:typeof window<"u"?window:{});const ED="@firebase/firestore",AD="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hh="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=new e2("@firebase/firestore");function kd(){return Lu.logLevel}function Oe(t,...e){if(Lu.logLevel<=ot.DEBUG){const r=e.map(dO);Lu.debug(`Firestore (${Hh}): ${t}`,...r)}}function zs(t,...e){if(Lu.logLevel<=ot.ERROR){const r=e.map(dO);Lu.error(`Firestore (${Hh}): ${t}`,...r)}}function Lf(t,...e){if(Lu.logLevel<=ot.WARN){const r=e.map(dO);Lu.warn(`Firestore (${Hh}): ${t}`,...r)}}function dO(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,FV(t,n,r)}function FV(t,e,r){let n=`FIRESTORE (${Hh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw zs(n),new Error(n)}function vr(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||FV(e,i,n)}function mt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends La{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mue{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(qn.UNAUTHENTICATED))}shutdown(){}}class gue{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class vue{constructor(e){this.t=e,this.currentUser=qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){vr(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new Yl;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Yl,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Yl)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(vr(typeof n.accessToken=="string",31837,{l:n}),new BV(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vr(e===null||typeof e=="string",2055,{h:e}),new qn(e)}}class yue{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=qn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xue{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new yue(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wue{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){vr(this.o===void 0,3512);const n=a=>{a.error!=null&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Oe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new CD(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(vr(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new CD(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bue(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=bue(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function tt(t,e){return t<e?-1:t>e?1:0}function WC(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),i=e.codePointAt(r);if(n!==i){if(n<128&&i<128)return tt(n,i);{const a=UV(),o=_ue(a.encode(TD(t,r)),a.encode(TD(e,r)));return o!==0?o:tt(n,i)}}r+=n>65535?2:1}return tt(t.length,e.length)}function TD(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function _ue(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return tt(t[r],e[r]);return tt(t.length,e.length)}function $f(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=-62135596800,ID=1e6;class $i{static now(){return $i.fromMillis(Date.now())}static fromDate(e){return $i.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*ID);return new $i(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Le(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Le(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<ND)throw new Le(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ID}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ND;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new $i(0,0))}static max(){return new Ge(new $i(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="__name__";class Io{constructor(e,r,n){r===void 0?r=0:r>e.length&&qe(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&qe(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Io.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Io?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=Io.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return tt(e.length,r.length)}static compareSegments(e,r){const n=Io.isNumericId(e),i=Io.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Io.extractNumericId(e).compare(Io.extractNumericId(r)):WC(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Kl.fromString(e.substring(4,e.length-2))}}class sr extends Io{construct(e,r,n){return new sr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Le(Ce.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new sr(r)}static emptyPath(){return new sr([])}}const Sue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mi extends Io{construct(e,r,n){return new mi(e,r,n)}static isValidIdentifier(e){return Sue.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===PD}static keyField(){return new mi([PD])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Le(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new Le(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Le(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new Le(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mi(r)}static emptyPath(){return new mi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(sr.fromString(e))}static fromName(e){return new Ve(sr.fromString(e).popFirst(5))}static empty(){return new Ve(sr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&sr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return sr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new sr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg=-1;function Eue(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ge.fromTimestamp(n===1e9?new $i(r+1,0):new $i(r,n));return new fc(i,Ve.empty(),e)}function Aue(t){return new fc(t.readTime,t.key,jg)}class fc{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new fc(Ge.min(),Ve.empty(),jg)}static max(){return new fc(Ge.max(),Ve.empty(),jg)}}function Cue(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ve.comparator(t.documentKey,e.documentKey),r!==0?r:tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tue="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Nue{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(t){if(t.code!==Ce.FAILED_PRECONDITION||t.message!==Tue)throw t;Oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new he((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof he?r:he.resolve(r)}catch(r){return he.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):he.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):he.reject(r)}static resolve(e){return new he((r,n)=>{r(e)})}static reject(e){return new he((r,n)=>{n(e)})}static waitFor(e){return new he((r,n)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&r()},l=>n(l))}),o=!0,a===i&&r()})}static or(e){let r=he.resolve(!1);for(const n of e)r=r.next(i=>i?he.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new he((n,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const c=l;r(e[c]).next(d=>{o[c]=d,++s,s===a&&n(o)},d=>i(d))}})}static doWhile(e,r){return new he((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function Iue(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Gh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}n2.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pue=-1;function i2(t){return t==null}function HC(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV="";function Oue(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=OD(e)),e=jue(t.get(r),e);return OD(e)}function jue(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case zV:r+="";break;default:r+=a}}return r}function OD(t){return t+zV+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function i0(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function kue(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,r){this.comparator=e,this.root=r||Cn.EMPTY}insert(e,r){return new Lr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Cn.BLACK,null,null))}remove(e){return new Lr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ny(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ny(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ny(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ny(this.root,e,this.comparator,!0)}}class Ny{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cn{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??Cn.RED,this.left=i??Cn.EMPTY,this.right=a??Cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new Cn(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Cn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}}Cn.EMPTY=null,Cn.RED=!0,Cn.BLACK=!1;Cn.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new Cn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new Lr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new kD(this.data.getIterator())}getIteratorFrom(e){return new kD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new nn(this.comparator);return r.data=e,r}}class kD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e){this.fields=e,e.sort(mi.comparator)}static empty(){return new Rl([])}unionWith(e){let r=new nn(mi.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Rl(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return $f(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new WV("Invalid base64 string: "+a):a}}(e);return new jn(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new jn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jn.EMPTY_BYTE_STRING=new jn("");const Rue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hc(t){if(vr(!!t,39018),typeof t=="string"){let e=0;const r=Rue.exec(t);if(vr(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:kr(t.seconds),nanos:kr(t.nanos)}}function kr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pc(t){return typeof t=="string"?jn.fromBase64String(t):jn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV="server_timestamp",GV="__type__",qV="__previous_value__",KV="__local_write_time__";function fO(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[GV])===null||r===void 0?void 0:r.stringValue)===HV}function a2(t){const e=t.mapValue.fields[qV];return fO(e)?a2(e):e}function kg(t){const e=hc(t.mapValue.fields[KV].timestampValue);return new $i(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Due{constructor(e,r,n,i,a,o,s,l,c,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const Ox="(default)";class Rg{constructor(e,r){this.projectId=e,this.database=r||Ox}static empty(){return new Rg("","")}get isDefaultDatabase(){return this.database===Ox}isEqual(e){return e instanceof Rg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mue="__type__",Lue="__max__",Iy={mapValue:{}},$ue="__vector__",GC="value";function mc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fO(t)?4:Bue(t)?9007199254740991:Fue(t)?10:11:qe(28295,{value:t})}function Xo(t,e){if(t===e)return!0;const r=mc(t);if(r!==mc(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kg(t).isEqual(kg(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=hc(i.timestampValue),s=hc(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return pc(i.bytesValue).isEqual(pc(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return kr(i.geoPointValue.latitude)===kr(a.geoPointValue.latitude)&&kr(i.geoPointValue.longitude)===kr(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return kr(i.integerValue)===kr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=kr(i.doubleValue),s=kr(a.doubleValue);return o===s?HC(o)===HC(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return $f(t.arrayValue.values||[],e.arrayValue.values||[],Xo);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(jD(o)!==jD(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!Xo(o[l],s[l])))return!1;return!0}(t,e);default:return qe(52216,{left:t})}}function Dg(t,e){return(t.values||[]).find(r=>Xo(r,e))!==void 0}function Ff(t,e){if(t===e)return 0;const r=mc(t),n=mc(e);if(r!==n)return tt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return tt(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=kr(a.integerValue||a.doubleValue),l=kr(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return RD(t.timestampValue,e.timestampValue);case 4:return RD(kg(t),kg(e));case 5:return WC(t.stringValue,e.stringValue);case 6:return function(a,o){const s=pc(a),l=pc(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let c=0;c<s.length&&c<l.length;c++){const d=tt(s[c],l[c]);if(d!==0)return d}return tt(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=tt(kr(a.latitude),kr(o.latitude));return s!==0?s:tt(kr(a.longitude),kr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return DD(t.arrayValue,e.arrayValue);case 10:return function(a,o){var s,l,c,d;const f=a.fields||{},h=o.fields||{},p=(s=f[GC])===null||s===void 0?void 0:s.arrayValue,m=(l=h[GC])===null||l===void 0?void 0:l.arrayValue,g=tt(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((d=m==null?void 0:m.values)===null||d===void 0?void 0:d.length)||0);return g!==0?g:DD(p,m)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Iy.mapValue&&o===Iy.mapValue)return 0;if(a===Iy.mapValue)return 1;if(o===Iy.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=WC(l[f],d[f]);if(h!==0)return h;const p=Ff(s[l[f]],c[d[f]]);if(p!==0)return p}return tt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw qe(23264,{Pe:r})}}function RD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return tt(t,e);const r=hc(t),n=hc(e),i=tt(r.seconds,n.seconds);return i!==0?i:tt(r.nanos,n.nanos)}function DD(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Ff(r[i],n[i]);if(a)return a}return tt(r.length,n.length)}function Bf(t){return qC(t)}function qC(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=hc(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return pc(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Ve.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=qC(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${qC(r.fields[o])}`;return i+"}"}(t.mapValue):qe(61005,{value:t})}function I1(t){switch(mc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=a2(t);return e?16+I1(e):16;case 5:return 2*t.stringValue.length;case 6:return pc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+I1(a),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return i0(n.fields,(a,o)=>{i+=a.length+I1(o)}),i}(t.mapValue);default:throw qe(13486,{value:t})}}function KC(t){return!!t&&"integerValue"in t}function hO(t){return!!t&&"arrayValue"in t}function MD(t){return!!t&&"nullValue"in t}function LD(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function JS(t){return!!t&&"mapValue"in t}function Fue(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Mue])===null||r===void 0?void 0:r.stringValue)===$ue}function Gm(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return i0(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Gm(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Gm(t.arrayValue.values[r]);return e}return Object.assign({},t)}function Bue(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Lue}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.value=e}static empty(){return new ko({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!JS(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gm(r)}setAll(e){let r=mi.emptyPath(),n={},i=[];e.forEach((o,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}o?n[s.lastSegment()]=Gm(o):i.push(s.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());JS(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Xo(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];JS(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){i0(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new ko(Gm(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,r,n,i,a,o,s){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Yn(e,0,Ge.min(),Ge.min(),Ge.min(),ko.empty(),0)}static newFoundDocument(e,r,n,i){return new Yn(e,1,r,Ge.min(),n,i,0)}static newNoDocument(e,r){return new Yn(e,2,r,Ge.min(),Ge.min(),ko.empty(),0)}static newUnknownDocument(e,r){return new Yn(e,3,r,Ge.min(),Ge.min(),ko.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ko.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ko.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,r){this.position=e,this.inclusive=r}}function $D(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=Ve.comparator(Ve.fromName(o.referenceValue),r.key):n=Ff(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function FD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Xo(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,r="asc"){this.field=e,this.dir=r}}function Uue(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{}class Zr extends YV{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new zue(e,r,n):r==="array-contains"?new Gue(e,n):r==="in"?new que(e,n):r==="not-in"?new Kue(e,n):r==="array-contains-any"?new Yue(e,n):new Zr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new Wue(e,n):new Hue(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Ff(r,this.value)):r!==null&&mc(this.value)===mc(r)&&this.matchesComparison(Ff(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qo extends YV{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new Qo(e,r)}matches(e){return XV(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function XV(t){return t.op==="and"}function QV(t){return Vue(t)&&XV(t)}function Vue(t){for(const e of t.filters)if(e instanceof Qo)return!1;return!0}function YC(t){if(t instanceof Zr)return t.field.canonicalString()+t.op.toString()+Bf(t.value);if(QV(t))return t.filters.map(e=>YC(e)).join(",");{const e=t.filters.map(r=>YC(r)).join(",");return`${t.op}(${e})`}}function ZV(t,e){return t instanceof Zr?function(n,i){return i instanceof Zr&&n.op===i.op&&n.field.isEqual(i.field)&&Xo(n.value,i.value)}(t,e):t instanceof Qo?function(n,i){return i instanceof Qo&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,s)=>a&&ZV(o,i.filters[s]),!0):!1}(t,e):void qe(19439)}function JV(t){return t instanceof Zr?function(r){return`${r.field.canonicalString()} ${r.op} ${Bf(r.value)}`}(t):t instanceof Qo?function(r){return r.op.toString()+" {"+r.getFilters().map(JV).join(" ,")+"}"}(t):"Filter"}class zue extends Zr{constructor(e,r,n){super(e,r,n),this.key=Ve.fromName(n.referenceValue)}matches(e){const r=Ve.comparator(e.key,this.key);return this.matchesComparison(r)}}class Wue extends Zr{constructor(e,r){super(e,"in",r),this.keys=ez("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Hue extends Zr{constructor(e,r){super(e,"not-in",r),this.keys=ez("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function ez(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Ve.fromName(n.referenceValue))}class Gue extends Zr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return hO(r)&&Dg(r.arrayValue,this.value)}}class que extends Zr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Dg(this.value.arrayValue,r)}}class Kue extends Zr{constructor(e,r){super(e,"not-in",r)}matches(e){if(Dg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Dg(this.value.arrayValue,r)}}class Yue extends Zr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!hO(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Dg(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xue{constructor(e,r=null,n=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Ie=null}}function BD(t,e=null,r=[],n=[],i=null,a=null,o=null){return new Xue(t,e,r,n,i,a,o)}function pO(t){const e=mt(t);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>YC(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),i2(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Bf(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Bf(n)).join(",")),e.Ie=r}return e.Ie}function mO(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Uue(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!ZV(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!FD(t.startAt,e.startAt)&&FD(t.endAt,e.endAt)}function XC(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,r=null,n=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Que(t,e,r,n,i,a,o,s){return new o2(t,e,r,n,i,a,o,s)}function gO(t){return new o2(t)}function UD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Zue(t){return t.collectionGroup!==null}function qm(t){const e=mt(t);if(e.Ee===null){e.Ee=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new nn(mi.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(s=s.add(c.field))})}),s})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new kx(a,n))}),r.has(mi.keyField().canonicalString())||e.Ee.push(new kx(mi.keyField(),n))}return e.Ee}function Bo(t){const e=mt(t);return e.de||(e.de=Jue(e,qm(t))),e.de}function Jue(t,e){if(t.limitType==="F")return BD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new kx(i.field,a)});const r=t.endAt?new jx(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new jx(t.startAt.position,t.startAt.inclusive):null;return BD(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function QC(t,e,r){return new o2(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function s2(t,e){return mO(Bo(t),Bo(e))&&t.limitType===e.limitType}function tz(t){return`${pO(Bo(t))}|lt:${t.limitType}`}function Rd(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>JV(i)).join(", ")}]`),i2(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Bf(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Bf(i)).join(",")),`Target(${n})`}(Bo(t))}; limitType=${t.limitType})`}function l2(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Ve.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of qm(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,s,l){const c=$D(o,s,l);return o.inclusive?c<=0:c<0}(n.startAt,qm(n),i)||n.endAt&&!function(o,s,l){const c=$D(o,s,l);return o.inclusive?c>=0:c>0}(n.endAt,qm(n),i))}(t,e)}function ede(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rz(t){return(e,r)=>{let n=!1;for(const i of qm(t)){const a=tde(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function tde(t,e,r){const n=t.field.isKeyField()?Ve.comparator(e.key,r.key):function(a,o,s){const l=o.data.field(a),c=s.data.field(a);return l!==null&&c!==null?Ff(l,c):qe(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return qe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){i0(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return kue(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rde=new Lr(Ve.comparator);function gc(){return rde}const nz=new Lr(Ve.comparator);function _m(...t){let e=nz;for(const r of t)e=e.insert(r.key,r);return e}function nde(t){let e=nz;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function fu(){return Km()}function iz(){return Km()}function Km(){return new ld(t=>t.toString(),(t,e)=>t.isEqual(e))}const ide=new nn(Ve.comparator);function vt(...t){let e=ide;for(const r of t)e=e.add(r);return e}const ade=new nn(tt);function ode(){return ade}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sde(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:HC(e)?"-0":e}}function lde(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this._=void 0}}function cde(t,e,r){return t instanceof ZC?function(i,a){const o={fields:{[GV]:{stringValue:HV},[KV]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&fO(a)&&(a=a2(a)),a&&(o.fields[qV]=a),{mapValue:o}}(r,e):t instanceof Rx?az(t,e):t instanceof Dx?oz(t,e):function(i,a){const o=dde(i,a),s=VD(o)+VD(i.Re);return KC(o)&&KC(i.Re)?lde(s):sde(i.serializer,s)}(t,e)}function ude(t,e,r){return t instanceof Rx?az(t,e):t instanceof Dx?oz(t,e):r}function dde(t,e){return t instanceof JC?function(n){return KC(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class ZC extends c2{}class Rx extends c2{constructor(e){super(),this.elements=e}}function az(t,e){const r=sz(e);for(const n of t.elements)r.some(i=>Xo(i,n))||r.push(n);return{arrayValue:{values:r}}}class Dx extends c2{constructor(e){super(),this.elements=e}}function oz(t,e){let r=sz(e);for(const n of t.elements)r=r.filter(i=>!Xo(i,n));return{arrayValue:{values:r}}}class JC extends c2{constructor(e,r){super(),this.serializer=e,this.Re=r}}function VD(t){return kr(t.integerValue||t.doubleValue)}function sz(t){return hO(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function fde(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Rx&&i instanceof Rx||n instanceof Dx&&i instanceof Dx?$f(n.elements,i.elements,Xo):n instanceof JC&&i instanceof JC?Xo(n.Re,i.Re):n instanceof ZC&&i instanceof ZC}(t.transform,e.transform)}class Eu{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Eu}static exists(e){return new Eu(void 0,e)}static updateTime(e){return new Eu(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function P1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vO{}function lz(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pde(t.key,Eu.none()):new yO(t.key,t.data,Eu.none());{const r=t.data,n=ko.empty();let i=new nn(mi.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new u2(t.key,n,new Rl(i.toArray()),Eu.none())}}function hde(t,e,r){t instanceof yO?function(i,a,o){const s=i.value.clone(),l=WD(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,r):t instanceof u2?function(i,a,o){if(!P1(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=WD(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(cz(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function Ym(t,e,r,n){return t instanceof yO?function(a,o,s,l){if(!P1(a.precondition,o))return s;const c=a.value.clone(),d=HD(a.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof u2?function(a,o,s,l){if(!P1(a.precondition,o))return s;const c=HD(a.fieldTransforms,l,o),d=o.data;return d.setAll(cz(a)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(a,o,s){return P1(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,r)}function zD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&$f(n,i,(a,o)=>fde(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yO extends vO{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class u2 extends vO{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function cz(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function WD(t,e,r){const n=new Map;vr(t.length===r.length,32656,{Ve:r.length,me:t.length});for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);n.set(a.field,ude(o,s,r[i]))}return n}function HD(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,cde(a,o,e))}return n}class pde extends vO{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mde{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&hde(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Ym(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Ym(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=iz();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=r.has(i.key)?null:s;const l=lz(o,s);l!==null&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ge.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),vt())}isEqual(e){return this.batchId===e.batchId&&$f(this.mutations,e.mutations,(r,n)=>zD(r,n))&&$f(this.baseMutations,e.baseMutations,(r,n)=>zD(r,n))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gde=class{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vde{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fr,ft;function uz(t){if(t===void 0)return zs("GRPC error has no .code"),Ce.UNKNOWN;switch(t){case Fr.OK:return Ce.OK;case Fr.CANCELLED:return Ce.CANCELLED;case Fr.UNKNOWN:return Ce.UNKNOWN;case Fr.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case Fr.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case Fr.INTERNAL:return Ce.INTERNAL;case Fr.UNAVAILABLE:return Ce.UNAVAILABLE;case Fr.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case Fr.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case Fr.NOT_FOUND:return Ce.NOT_FOUND;case Fr.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case Fr.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case Fr.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case Fr.ABORTED:return Ce.ABORTED;case Fr.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case Fr.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case Fr.DATA_LOSS:return Ce.DATA_LOSS;default:return qe(39323,{code:t})}}(ft=Fr||(Fr={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yde=new Kl([4294967295,4294967295],0);function GD(t){const e=UV().encode(t),r=new kV;return r.update(e),new Uint8Array(r.digest())}function qD(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Kl([r,n],0),new Kl([i,a],0)]}class xO{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Sm(`Invalid padding: ${r}`);if(n<0)throw new Sm(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Sm(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Sm(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*e.length-r,this.ye=Kl.fromNumber(this.pe)}we(e,r,n){let i=e.add(r.multiply(Kl.fromNumber(n)));return i.compare(yde)===1&&(i=new Kl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const r=GD(e),[n,i]=qD(r);for(let a=0;a<this.hashCount;a++){const o=this.we(n,i,a);if(!this.be(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new xO(a,i,r);return n.forEach(s=>o.insert(s)),o}insert(e){if(this.pe===0)return;const r=GD(e),[n,i]=qD(r);for(let a=0;a<this.hashCount;a++){const o=this.we(n,i,a);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Sm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,a0.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new d2(Ge.min(),i,new Lr(tt),gc(),vt())}}class a0{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new a0(n,r,vt(),vt(),vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,r,n,i){this.De=e,this.removedTargetIds=r,this.key=n,this.ve=i}}class dz{constructor(e,r){this.targetId=e,this.Ce=r}}class fz{constructor(e,r,n=jn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class KD{constructor(){this.Fe=0,this.Me=YD(),this.xe=jn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=vt(),r=vt(),n=vt();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:qe(38017,{changeType:a})}}),new a0(this.xe,this.Oe,e,r,n)}Qe(){this.Ne=!1,this.Me=YD()}$e(e,r){this.Ne=!0,this.Me=this.Me.insert(e,r)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,vr(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class xde{constructor(e){this.ze=e,this.je=new Map,this.He=gc(),this.Je=Py(),this.Ye=Py(),this.Ze=new Lr(tt)}Xe(e){for(const r of e.De)e.ve&&e.ve.isFoundDocument()?this.et(r,e.ve):this.tt(r,e.key,e.ve);for(const r of e.removedTargetIds)this.tt(r,e.key,e.ve)}nt(e){this.forEachTarget(e,r=>{const n=this.rt(r);switch(e.state){case 0:this.it(r)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(r);break;case 3:this.it(r)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(r)&&(this.st(r),n.ke(e.resumeToken));break;default:qe(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.je.forEach((n,i)=>{this.it(i)&&r(i)})}ot(e){const r=e.targetId,n=e.Ce.count,i=this._t(r);if(i){const a=i.target;if(XC(a))if(n===0){const o=new Ve(a.path);this.tt(r,o,Yn.newNoDocument(o,Ge.min()))}else vr(n===1,20013,{expectedCount:n});else{const o=this.ut(r);if(o!==n){const s=this.ct(e),l=s?this.lt(s,e,o):1;if(l!==0){this.st(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,c)}}}}}ct(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,s;try{o=pc(n).toUint8Array()}catch(l){if(l instanceof WV)return Lf("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new xO(o,i,a)}catch(l){return Lf(l instanceof Sm?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.pe===0?null:s}lt(e,r,n){return r.Ce.count===n-this.Tt(e,r.targetId)?0:2}Tt(e,r){const n=this.ze.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.ze.Pt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.tt(r,a,null),i++)}),i}It(e){const r=new Map;this.je.forEach((a,o)=>{const s=this._t(o);if(s){if(a.current&&XC(s.target)){const l=new Ve(s.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,Yn.newNoDocument(l,e))}a.Le&&(r.set(o,a.qe()),a.Qe())}});let n=vt();this.Ye.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(a))}),this.He.forEach((a,o)=>o.setReadTime(e));const i=new d2(e,r,this.Ze,this.He,n);return this.He=gc(),this.Je=Py(),this.Ye=Py(),this.Ze=new Lr(tt),i}et(e,r){if(!this.it(e))return;const n=this.dt(e,r.key)?2:0;this.rt(e).$e(r.key,n),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(e)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(e))}tt(e,r,n){if(!this.it(e))return;const i=this.rt(e);this.dt(e,r)?i.$e(r,1):i.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(e)),this.Ye=this.Ye.insert(r,this.At(r).add(e)),n&&(this.He=this.He.insert(r,n))}removeTarget(e){this.je.delete(e)}ut(e){const r=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let r=this.je.get(e);return r||(r=new KD,this.je.set(e,r)),r}At(e){let r=this.Ye.get(e);return r||(r=new nn(tt),this.Ye=this.Ye.insert(e,r)),r}Et(e){let r=this.Je.get(e);return r||(r=new nn(tt),this.Je=this.Je.insert(e,r)),r}it(e){const r=this._t(e)!==null;return r||Oe("WatchChangeAggregator","Detected inactive target",e),r}_t(e){const r=this.je.get(e);return r&&r.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new KD),this.ze.getRemoteKeysForTarget(e).forEach(r=>{this.tt(e,r,null)})}dt(e,r){return this.ze.getRemoteKeysForTarget(e).has(r)}}function Py(){return new Lr(Ve.comparator)}function YD(){return new Lr(Ve.comparator)}const wde={asc:"ASCENDING",desc:"DESCENDING"},bde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_de={and:"AND",or:"OR"};class Sde{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function eT(t,e){return t.useProto3Json||i2(e)?e:{value:e}}function Ede(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ade(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vf(t){return vr(!!t,49232),Ge.fromTimestamp(function(r){const n=hc(r);return new $i(n.seconds,n.nanos)}(t))}function Cde(t,e){return tT(t,e).canonicalString()}function tT(t,e){const r=function(i){return new sr(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function hz(t){const e=sr.fromString(t);return vr(yz(e),10190,{key:e.toString()}),e}function eE(t,e){const r=hz(e);if(r.get(1)!==t.databaseId.projectId)throw new Le(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Le(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ve(mz(r))}function pz(t,e){return Cde(t.databaseId,e)}function Tde(t){const e=hz(t);return e.length===4?sr.emptyPath():mz(e)}function XD(t){return new sr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mz(t){return vr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Nde(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:qe(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,d){return c.useProto3Json?(vr(d===void 0||typeof d=="string",58123),jn.fromBase64String(d||"")):(vr(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),jn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(c){const d=c.code===void 0?Ce.UNKNOWN:uz(c.code);return new Le(d,c.message||"")}(o);r=new fz(n,i,a,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=eE(t,n.document.name),a=vf(n.document.updateTime),o=n.document.createTime?vf(n.document.createTime):Ge.min(),s=new ko({mapValue:{fields:n.document.fields}}),l=Yn.newFoundDocument(i,a,o,s),c=n.targetIds||[],d=n.removedTargetIds||[];r=new O1(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=eE(t,n.document),a=n.readTime?vf(n.readTime):Ge.min(),o=Yn.newNoDocument(i,a),s=n.removedTargetIds||[];r=new O1([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=eE(t,n.document),a=n.removedTargetIds||[];r=new O1([],a,i,null)}else{if(!("filter"in e))return qe(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new vde(i,a),s=n.targetId;r=new dz(s,o)}}return r}function Ide(t,e){return{documents:[pz(t,e.path)]}}function Pde(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=pz(t,i);const a=function(c){if(c.length!==0)return vz(Qo.create(c,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(c){if(c.length!==0)return c.map(d=>function(h){return{field:Dd(h.field),direction:kde(h.dir)}}(d))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const s=eT(t,e.limit);return s!==null&&(r.structuredQuery.limit=s),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:r,parent:i}}function Ode(t){let e=Tde(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){vr(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];r.where&&(a=function(f){const h=gz(f);return h instanceof Qo&&QV(h)?h.getFilters():[h]}(r.where));let o=[];r.orderBy&&(o=function(f){return f.map(h=>function(m){return new kx(Md(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(r.orderBy));let s=null;r.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,i2(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new jx(p,h)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const h=!f.before,p=f.values||[];return new jx(p,h)}(r.endAt)),Que(e,i,o,a,s,"F",l,c)}function jde(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function gz(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Md(r.unaryFilter.field);return Zr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Md(r.unaryFilter.field);return Zr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Md(r.unaryFilter.field);return Zr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Md(r.unaryFilter.field);return Zr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}}(t):t.fieldFilter!==void 0?function(r){return Zr.create(Md(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Qo.create(r.compositeFilter.filters.map(n=>gz(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qe(1026)}}(r.compositeFilter.op))}(t):qe(30097,{filter:t})}function kde(t){return wde[t]}function Rde(t){return bde[t]}function Dde(t){return _de[t]}function Dd(t){return{fieldPath:t.canonicalString()}}function Md(t){return mi.fromServerFormat(t.fieldPath)}function vz(t){return t instanceof Zr?function(r){if(r.op==="=="){if(LD(r.value))return{unaryFilter:{field:Dd(r.field),op:"IS_NAN"}};if(MD(r.value))return{unaryFilter:{field:Dd(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(LD(r.value))return{unaryFilter:{field:Dd(r.field),op:"IS_NOT_NAN"}};if(MD(r.value))return{unaryFilter:{field:Dd(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dd(r.field),op:Rde(r.op),value:r.value}}}(t):t instanceof Qo?function(r){const n=r.getFilters().map(i=>vz(i));return n.length===1?n[0]:{compositeFilter:{op:Dde(r.op),filters:n}}}(t):qe(54877,{filter:t})}function yz(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,r,n,i,a=Ge.min(),o=Ge.min(),s=jn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Dl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Dl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mde{constructor(e){this.wt=e}}function Lde(t){const e=Ode({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?QC(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $de{constructor(){this.yn=new Fde}addToCollectionParentIndex(e,r){return this.yn.add(r),he.resolve()}getCollectionParents(e,r){return he.resolve(this.yn.getEntries(r))}addFieldIndex(e,r){return he.resolve()}deleteFieldIndex(e,r){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,r){return he.resolve()}getDocumentsMatchingTarget(e,r){return he.resolve(null)}getIndexType(e,r){return he.resolve(0)}getFieldIndexes(e,r){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,r){return he.resolve(fc.min())}getMinOffsetFromCollectionGroup(e,r){return he.resolve(fc.min())}updateCollectionGroup(e,r,n){return he.resolve()}updateIndexEntries(e,r){return he.resolve()}}class Fde{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new nn(sr.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new nn(sr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xz=41943040;class Ni{static withCacheSize(e){return new Ni(e,Ni.DEFAULT_COLLECTION_PERCENTILE,Ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ni.DEFAULT_COLLECTION_PERCENTILE=10,Ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ni.DEFAULT=new Ni(xz,Ni.DEFAULT_COLLECTION_PERCENTILE,Ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ni.DISABLED=new Ni(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Uf(0)}static ir(){return new Uf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="LruGarbageCollector",Bde=1048576;function JD([t,e],[r,n]){const i=tt(t,r);return i===0?tt(e,n):i}class Ude{constructor(e){this.cr=e,this.buffer=new nn(JD),this.lr=0}hr(){return++this.lr}Pr(e){const r=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();JD(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Vde{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Oe(ZD,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Gh(r)?Oe(ZD,"Ignoring IndexedDB error during garbage collection: ",r):await r2(r)}await this.Ir(3e5)})}}class zde{constructor(e,r){this.Er=e,this.params=r}calculateTargetCount(e,r){return this.Er.dr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return he.resolve(n2.le);const n=new Ude(r);return this.Er.forEachTarget(e,i=>n.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>n.Pr(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.Er.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Er.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(QD)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QD):this.Rr(e,r))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,r){let n,i,a,o,s,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(n=f,s=Date.now(),this.removeTargets(e,n,r))).next(f=>(a=f,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(f=>(c=Date.now(),kd()<=ot.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(l-s)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function Wde(t,e){return new zde(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hde{constructor(){this.changes=new ld(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Yn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?he.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gde{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qde{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Ym(n.mutation,i,Rl.empty(),$i.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,vt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=vt()){const i=fu();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let o=_m();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=fu();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,vt()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{r.set(o,s)})})}computeViews(e,r,n,i){let a=gc();const o=Km(),s=function(){return Km()}();return r.forEach((l,c)=>{const d=n.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof u2)?a=a.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Ym(d.mutation,c,d.mutation.getFieldMask(),$i.now())):o.set(c.key,Rl.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,d)=>o.set(c,d)),r.forEach((c,d)=>{var f;return s.set(c,new Gde(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,r){const n=Km();let i=new Lr((o,s)=>o-s),a=vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const s of o)s.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let d=n.get(l)||Rl.empty();d=s.applyToLocalView(c,d),n.set(l,d);const f=(i.get(s.batchId)||vt()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),c=l.key,d=l.value,f=iz();d.forEach(h=>{if(!a.has(h)){const p=lz(r.get(h),n.get(h));p!==null&&f.set(h,p),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return he.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return Ve.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):Zue(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):he.resolve(fu());let s=jg,l=a;return o.next(c=>he.forEach(c,(d,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),a.get(d)?he.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,vt())).next(d=>({batchId:s,changes:nde(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ve(r)).next(n=>{let i=_m();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=_m();return this.indexManager.getCollectionParents(e,a).next(s=>he.forEach(s,l=>{const c=function(f,h){return new o2(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,n,i).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(o=>{a.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Yn.newInvalidDocument(d)))});let s=_m();return o.forEach((l,c)=>{const d=a.get(l);d!==void 0&&Ym(d.mutation,c,Rl.empty(),$i.now()),l2(r,c)&&(s=s.insert(l,c))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kde{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,r){return he.resolve(this.Fr.get(r))}saveBundleMetadata(e,r){return this.Fr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:vf(i.createTime)}}(r)),he.resolve()}getNamedQuery(e,r){return he.resolve(this.Mr.get(r))}saveNamedQuery(e,r){return this.Mr.set(r.name,function(i){return{name:i.name,query:Lde(i.bundledQuery),readTime:vf(i.readTime)}}(r)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yde{constructor(){this.overlays=new Lr(Ve.comparator),this.Or=new Map}getOverlay(e,r){return he.resolve(this.overlays.get(r))}getOverlays(e,r){const n=fu();return he.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.St(e,r,a)}),he.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Or.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(n)),he.resolve()}getOverlaysForCollection(e,r,n){const i=fu(),a=r.length+1,o=new Ve(r.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return he.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Lr((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let d=a.get(c.largestBatchId);d===null&&(d=fu(),a=a.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const s=fu(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>s.set(c,d)),!(s.size()>=i)););return he.resolve(s)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Or.get(i.largestBatchId).delete(n.key);this.Or.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new gde(r,n));let a=this.Or.get(r);a===void 0&&(a=vt(),this.Or.set(r,a)),this.Or.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xde{constructor(){this.sessionToken=jn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this.Nr=new nn(dn.Br),this.Lr=new nn(dn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,r){const n=new dn(e,r);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Qr(new dn(e,r))}$r(e,r){e.forEach(n=>this.removeReference(n,r))}Ur(e){const r=new Ve(new sr([])),n=new dn(r,e),i=new dn(r,e+1),a=[];return this.Lr.forEachInRange([n,i],o=>{this.Qr(o),a.push(o.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const r=new Ve(new sr([])),n=new dn(r,e),i=new dn(r,e+1);let a=vt();return this.Lr.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new dn(e,0),n=this.Nr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class dn{constructor(e,r){this.key=e,this.Gr=r}static Br(e,r){return Ve.comparator(e.key,r.key)||tt(e.Gr,r.Gr)}static kr(e,r){return tt(e.Gr,r.Gr)||Ve.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qde{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new nn(dn.Br)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new mde(a,r,n,i);this.mutationQueue.push(o);for(const s of i)this.zr=this.zr.add(new dn(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return he.resolve(o)}lookupMutationBatch(e,r){return he.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.Hr(n),a=i<0?0:i;return he.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?Pue:this.Jn-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new dn(r,0),i=new dn(r,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([n,i],o=>{const s=this.jr(o.Gr);a.push(s)}),he.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new nn(tt);return r.forEach(i=>{const a=new dn(i,0),o=new dn(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,o],s=>{n=n.add(s.Gr)})}),he.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;Ve.isDocumentKey(a)||(a=a.child(""));const o=new dn(new Ve(a),0);let s=new nn(tt);return this.zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(s=s.add(l.Gr)),!0)},o),he.resolve(this.Jr(s))}Jr(e){const r=[];return e.forEach(n=>{const i=this.jr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){vr(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.zr;return he.forEach(r.mutations,i=>{const a=new dn(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=n})}Xn(e){}containsKey(e,r){const n=new dn(r,0),i=this.zr.firstAfterOrEqual(n);return he.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}Yr(e,r){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const r=this.Hr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zde{constructor(e){this.Zr=e,this.docs=function(){return new Lr(Ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.Zr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return he.resolve(n?n.document.mutableCopy():Yn.newInvalidDocument(r))}getEntries(e,r){let n=gc();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Yn.newInvalidDocument(i))}),he.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=gc();const o=r.path,s=new Ve(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Cue(Aue(d),n)<=0||(i.has(d.key)||l2(r,d))&&(a=a.insert(d.key,d.mutableCopy()))}return he.resolve(a)}getAllFromCollectionGroup(e,r,n,i){qe(9500)}Xr(e,r){return he.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new Jde(this)}getSize(e){return he.resolve(this.size)}}class Jde extends Hde{constructor(e){super(),this.vr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.vr.addEntry(e,i)):this.vr.removeEntry(n)}),he.waitFor(r)}getFromCache(e,r){return this.vr.getEntry(e,r)}getAllFromCache(e,r){return this.vr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class efe{constructor(e){this.persistence=e,this.ei=new ld(r=>pO(r),mO),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.ti=0,this.ni=new wO,this.targetCount=0,this.ri=Uf.rr()}forEachTarget(e,r){return this.ei.forEach((n,i)=>r(i)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ti&&(this.ti=r),he.resolve()}ar(e){this.ei.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ri=new Uf(r),this.highestTargetId=r),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,r){return this.ar(r),this.targetCount+=1,he.resolve()}updateTargetData(e,r){return this.ar(r),he.resolve()}removeTargetData(e,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.ei.forEach((o,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.ei.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),he.waitFor(a).next(()=>i)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,r){const n=this.ei.get(r)||null;return he.resolve(n)}addMatchingKeys(e,r,n){return this.ni.qr(r,n),he.resolve()}removeMatchingKeys(e,r,n){this.ni.$r(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),he.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.ni.Ur(r),he.resolve()}getMatchingKeysForTargetId(e,r){const n=this.ni.Wr(r);return he.resolve(n)}containsKey(e,r){return he.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e,r){this.ii={},this.overlays={},this.si=new n2(0),this.oi=!1,this.oi=!0,this._i=new Xde,this.referenceDelegate=e(this),this.ai=new efe(this),this.indexManager=new $de,this.remoteDocumentCache=function(i){return new Zde(i)}(n=>this.referenceDelegate.ui(n)),this.serializer=new Mde(r),this.ci=new Kde(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Yde,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ii[e.toKey()];return n||(n=new Qde(r,this.referenceDelegate),this.ii[e.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,r,n){Oe("MemoryPersistence","Starting transaction:",e);const i=new tfe(this.si.next());return this.referenceDelegate.li(),n(i).next(a=>this.referenceDelegate.hi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Pi(e,r){return he.or(Object.values(this.ii).map(n=>()=>n.containsKey(e,r)))}}class tfe extends Nue{constructor(e){super(),this.currentSequenceNumber=e}}class bO{constructor(e){this.persistence=e,this.Ti=new wO,this.Ii=null}static Ei(e){return new bO(e)}get di(){if(this.Ii)return this.Ii;throw qe(60996)}addReference(e,r,n){return this.Ti.addReference(n,r),this.di.delete(n.toString()),he.resolve()}removeReference(e,r,n){return this.Ti.removeReference(n,r),this.di.add(n.toString()),he.resolve()}markPotentiallyOrphaned(e,r){return this.di.add(r.toString()),he.resolve()}removeTarget(e,r){this.Ti.Ur(r.targetId).forEach(i=>this.di.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}li(){this.Ii=new Set}hi(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.di,n=>{const i=Ve.fromPath(n);return this.Ai(e,i).next(a=>{a||r.removeEntry(i,Ge.min())})}).next(()=>(this.Ii=null,r.apply(e)))}updateLimboDocument(e,r){return this.Ai(e,r).next(n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(e){return 0}Ai(e,r){return he.or([()=>he.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Pi(e,r)])}}class Mx{constructor(e,r){this.persistence=e,this.Ri=new ld(n=>Oue(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=Wde(this,r)}static Ei(e,r){return new Mx(e,r)}li(){}hi(e){return he.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}dr(e){const r=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}Vr(e){let r=0;return this.Ar(e,n=>{r++}).next(()=>r)}Ar(e,r){return he.forEach(this.Ri,(n,i)=>this.gr(e,n,i).next(a=>a?he.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.Xr(e,o=>this.gr(e,o,r).next(s=>{s||(n++,a.removeEntry(o,Ge.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.Ri.set(r,e.currentSequenceNumber),he.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.Ri.set(n,e.currentSequenceNumber),he.resolve()}removeReference(e,r,n){return this.Ri.set(n,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,r){return this.Ri.set(r,e.currentSequenceNumber),he.resolve()}ui(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=I1(e.data.value)),r}gr(e,r,n){return he.or([()=>this.persistence.Pi(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.Ri.get(r);return he.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.ls=n,this.hs=i}static Ps(e,r){let n=vt(),i=vt();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new _O(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rfe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nfe{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return Kle()?8:Iue(ti())>0?6:4}()}initialize(e,r){this.As=e,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Rs(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Vs(e,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new rfe;return this.fs(e,r,o).next(s=>{if(a.result=s,this.Is)return this.gs(e,r,o,s.size)})}).next(()=>a.result)}gs(e,r,n,i){return n.documentReadCount<this.Es?(kd()<=ot.DEBUG&&Oe("QueryEngine","SDK will not create cache indexes for query:",Rd(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),he.resolve()):(kd()<=ot.DEBUG&&Oe("QueryEngine","Query:",Rd(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ds*i?(kd()<=ot.DEBUG&&Oe("QueryEngine","The SDK decides to create cache indexes for query:",Rd(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bo(r))):he.resolve())}Rs(e,r){if(UD(r))return he.resolve(null);let n=Bo(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=QC(r,null,"F"),n=Bo(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=vt(...a);return this.As.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.ps(r,s);return this.ys(r,c,o,l.readTime)?this.Rs(e,QC(r,null,"F")):this.ws(e,c,r,l)}))})))}Vs(e,r,n,i){return UD(r)||i.isEqual(Ge.min())?he.resolve(null):this.As.getDocuments(e,n).next(a=>{const o=this.ps(r,a);return this.ys(r,o,n,i)?he.resolve(null):(kd()<=ot.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Rd(r)),this.ws(e,o,r,Eue(i,jg)).next(s=>s))})}ps(e,r){let n=new nn(rz(e));return r.forEach((i,a)=>{l2(e,a)&&(n=n.add(a))}),n}ys(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}fs(e,r,n){return kd()<=ot.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",Rd(r)),this.As.getDocumentsMatchingQuery(e,r,fc.min(),n)}ws(e,r,n,i){return this.As.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO="LocalStore",ife=3e8;class afe{constructor(e,r,n,i){this.persistence=e,this.bs=r,this.serializer=i,this.Ss=new Lr(tt),this.Ds=new ld(a=>pO(a),mO),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(n)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qde(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ss))}}function ofe(t,e,r,n){return new afe(t,e,r,n)}async function bz(t,e){const r=mt(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Fs(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],s=[];let l=vt();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of a){s.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ms:c,removedBatchIds:o,addedBatchIds:s}))})})}function _z(t){const e=mt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.ai.getLastRemoteSnapshotVersion(r))}function sfe(t,e){const r=mt(t),n=e.snapshotVersion;let i=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.Cs.newChangeBuffer({trackRemovals:!0});i=r.Ss;const s=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;s.push(r.ai.removeMatchingKeys(a,d.removedDocuments,f).next(()=>r.ai.addMatchingKeys(a,d.addedDocuments,f)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(jn.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,n)),i=i.insert(f,p),function(g,v,y){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=ife?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,p,d)&&s.push(r.ai.updateTargetData(a,p))});let l=gc(),c=vt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(a,d))}),s.push(lfe(a,o,e.documentUpdates).next(d=>{l=d.xs,c=d.Os})),!n.isEqual(Ge.min())){const d=r.ai.getLastRemoteSnapshotVersion(a).next(f=>r.ai.setTargetsMetadata(a,a.currentSequenceNumber,n));s.push(d)}return he.waitFor(s).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(r.Ss=i,a))}function lfe(t,e,r){let n=vt(),i=vt();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=gc();return r.forEach((s,l)=>{const c=a.get(s);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(Ge.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):Oe(SO,"Ignoring outdated watch update for ",s,". Current version:",c.version," Watch version:",l.version)}),{xs:o,Os:i}})}function cfe(t,e){const r=mt(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.ai.getTargetData(n,e).next(a=>a?(i=a,he.resolve(i)):r.ai.allocateTargetId(n).next(o=>(i=new Dl(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.ai.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ss.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(n.targetId,n),r.Ds.set(e,n.targetId)),n})}async function rT(t,e,r){const n=mt(t),i=n.Ss.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Gh(o))throw o;Oe(SO,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ss=n.Ss.remove(e),n.Ds.delete(i.target)}function eM(t,e,r){const n=mt(t);let i=Ge.min(),a=vt();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=mt(l),h=f.Ds.get(d);return h!==void 0?he.resolve(f.Ss.get(h)):f.ai.getTargetData(c,d)}(n,o,Bo(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.ai.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>n.bs.getDocumentsMatchingQuery(o,e,r?i:Ge.min(),r?a:vt())).next(s=>(ufe(n,ede(e),s),{documents:s,Ns:a})))}function ufe(t,e,r){let n=t.vs.get(e)||Ge.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.vs.set(e,n)}class tM{constructor(){this.activeTargetIds=ode()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dfe{constructor(){this.So=new tM,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,r,n){this.Do[e]=r}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new tM,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ffe{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM="ConnectivityMonitor";class nM{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Oe(rM,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Oe(rM,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oy=null;function nT(){return Oy===null?Oy=function(){return 268435456+Math.round(2147483648*Math.random())}():Oy++,"0x"+Oy.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="RestConnection",hfe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pfe{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+e.host,this.ko=`projects/${n}/databases/${i}`,this.qo=this.databaseId.database===Ox?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Qo(e,r,n,i,a){const o=nT(),s=this.$o(e,r.toUriEncodedString());Oe(tE,`Sending RPC '${e}' ${o}:`,s,n);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,i,a);const{host:c}=new URL(s),d=zh(c);return this.Ko(e,s,l,n,d).then(f=>(Oe(tE,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Lf(tE,`RPC '${e}' ${o} failed with error: `,f,"url: ",s,"request:",n),f})}Wo(e,r,n,i,a,o){return this.Qo(e,r,n,i,a)}Uo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Hh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}$o(e,r){const n=hfe[e];return`${this.Lo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mfe{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn="WebChannelConnection";class gfe extends pfe{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,r,n,i,a){const o=nT();return new Promise((s,l)=>{const c=new RV;c.setWithCredentials(!0),c.listenOnce(DV.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case N1.NO_ERROR:const f=c.getResponseJson();Oe(Bn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case N1.TIMEOUT:Oe(Bn,`RPC '${e}' ${o} timed out`),l(new Le(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case N1.HTTP_ERROR:const h=c.getStatus();if(Oe(Bn,`RPC '${e}' ${o} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const g=function(y){const x=y.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(x)>=0?x:Ce.UNKNOWN}(m.status);l(new Le(g,m.message))}else l(new Le(Ce.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Le(Ce.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{s_:e,streamId:o,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{Oe(Bn,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);Oe(Bn,`RPC '${e}' ${o} sending request:`,i),c.send(r,"POST",d,n,15)})}a_(e,r,n){const i=nT(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=$V(),s=LV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const d=a.join("");Oe(Bn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);let h=!1,p=!1;const m=new mfe({Go:v=>{p?Oe(Bn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(Oe(Bn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),Oe(Bn,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},zo:()=>f.close()}),g=(v,y,x)=>{v.listen(y,w=>{try{x(w)}catch(S){setTimeout(()=>{throw S},0)}})};return g(f,bm.EventType.OPEN,()=>{p||(Oe(Bn,`RPC '${e}' stream ${i} transport opened.`),m.t_())}),g(f,bm.EventType.CLOSE,()=>{p||(p=!0,Oe(Bn,`RPC '${e}' stream ${i} transport closed`),m.r_())}),g(f,bm.EventType.ERROR,v=>{p||(p=!0,Lf(Bn,`RPC '${e}' stream ${i} transport errored. Name:`,v.name,"Message:",v.message),m.r_(new Le(Ce.UNAVAILABLE,"The operation could not be completed")))}),g(f,bm.EventType.MESSAGE,v=>{var y;if(!p){const x=v.data[0];vr(!!x,16349);const w=x,S=(w==null?void 0:w.error)||((y=w[0])===null||y===void 0?void 0:y.error);if(S){Oe(Bn,`RPC '${e}' stream ${i} received error:`,S);const E=S.status;let T=function(N){const I=Fr[N];if(I!==void 0)return uz(I)}(E),A=S.message;T===void 0&&(T=Ce.INTERNAL,A="Unknown error status: "+E+" with message "+S.message),p=!0,m.r_(new Le(T,A)),f.close()}else Oe(Bn,`RPC '${e}' stream ${i} received:`,x),m.i_(x)}}),g(s,MV.STAT_EVENT,v=>{v.stat===zC.PROXY?Oe(Bn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===zC.NOPROXY&&Oe(Bn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.n_()},0),m}}function rE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sz(t){return new Sde(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(e,r,n=1e3,i=1.5,a=6e4){this.bi=e,this.timerId=r,this.u_=n,this.c_=i,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const r=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),i=Math.max(0,r-n);i>0&&Oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM="PersistentStream";class vfe{constructor(e,r,n,i,a,o,s,l){this.bi=e,this.R_=n,this.V_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Ez(e,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():r&&r.code===Ce.RESOURCE_EXHAUSTED?(zs(r.toString()),zs("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===Ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.m_===r&&this.B_(n,i)},n=>{e(()=>{const i=new Le(Ce.UNKNOWN,"Fetching auth token failed: "+n.message);return this.L_(i)})})}B_(e,r){const n=this.N_(this.m_);this.stream=this.k_(e,r),this.stream.jo(()=>{n(()=>this.listener.jo())}),this.stream.Jo(()=>{n(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{n(()=>this.L_(i))}),this.stream.onMessage(i=>{n(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Oe(iM,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return r=>{this.bi.enqueueAndForget(()=>this.m_===e?r():(Oe(iM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yfe extends vfe{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}k_(e,r){return this.connection.a_("Listen",e,r)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const r=Nde(this.serializer,e),n=function(a){if(!("targetChange"in a))return Ge.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Ge.min():o.readTime?vf(o.readTime):Ge.min()}(e);return this.listener.Q_(r,n)}U_(e){const r={};r.database=XD(this.serializer),r.addTarget=function(a,o){let s;const l=o.target;if(s=XC(l)?{documents:Ide(a,l)}:{query:Pde(a,l).gt},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=Ade(a,o.resumeToken);const c=eT(a,o.expectedCount);c!==null&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ge.min())>0){s.readTime=Ede(a,o.snapshotVersion.toTimestamp());const c=eT(a,o.expectedCount);c!==null&&(s.expectedCount=c)}return s}(this.serializer,e);const n=jde(this.serializer,e);n&&(r.labels=n),this.F_(r)}K_(e){const r={};r.database=XD(this.serializer),r.removeTarget=e,this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xfe{}class wfe extends xfe{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new Le(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,r,n,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Qo(e,tT(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Le(Ce.UNKNOWN,a.toString())})}Wo(e,r,n,i,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,tT(r,n),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Le(Ce.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class bfe{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(zs(r),this.ea=!1):Oe("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="RemoteStore";class _fe{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(o=>{n.enqueueAndForget(async()=>{s0(this)&&(Oe(Vf,"Restarting streams for network reachability change."),await async function(l){const c=mt(l);c.aa.add(4),await o0(c),c.la.set("Unknown"),c.aa.delete(4),await f2(c)}(this))})}),this.la=new bfe(n,i)}}async function f2(t){if(s0(t))for(const e of t.ua)await e(!0)}async function o0(t){for(const e of t.ua)await e(!1)}function Az(t,e){const r=mt(t);r._a.has(e.targetId)||(r._a.set(e.targetId,e),TO(r)?CO(r):qh(r).b_()&&AO(r,e))}function EO(t,e){const r=mt(t),n=qh(r);r._a.delete(e),n.b_()&&Cz(r,e),r._a.size===0&&(n.b_()?n.v_():s0(r)&&r.la.set("Unknown"))}function AO(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}qh(t).U_(e)}function Cz(t,e){t.ha.Ke(e),qh(t).K_(e)}function CO(t){t.ha=new xde({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),qh(t).start(),t.la.ta()}function TO(t){return s0(t)&&!qh(t).w_()&&t._a.size>0}function s0(t){return mt(t).aa.size===0}function Tz(t){t.ha=void 0}async function Sfe(t){t.la.set("Online")}async function Efe(t){t._a.forEach((e,r)=>{AO(t,e)})}async function Afe(t,e){Tz(t),TO(t)?(t.la.ia(e),CO(t)):t.la.set("Unknown")}async function Cfe(t,e,r){if(t.la.set("Online"),e instanceof fz&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i._a.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i._a.delete(s),i.ha.removeTarget(s))}(t,e)}catch(n){Oe(Vf,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await aM(t,n)}else if(e instanceof O1?t.ha.Xe(e):e instanceof dz?t.ha.ot(e):t.ha.nt(e),!r.isEqual(Ge.min()))try{const n=await _z(t.localStore);r.compareTo(n)>=0&&await function(a,o){const s=a.ha.It(o);return s.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=a._a.get(c);d&&a._a.set(c,d.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,c)=>{const d=a._a.get(l);if(!d)return;a._a.set(l,d.withResumeToken(jn.EMPTY_BYTE_STRING,d.snapshotVersion)),Cz(a,l);const f=new Dl(d.target,l,c,d.sequenceNumber);AO(a,f)}),a.remoteSyncer.applyRemoteEvent(s)}(t,r)}catch(n){Oe(Vf,"Failed to raise snapshot:",n),await aM(t,n)}}async function aM(t,e,r){if(!Gh(e))throw e;t.aa.add(1),await o0(t),t.la.set("Offline"),r||(r=()=>_z(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Oe(Vf,"Retrying IndexedDB access"),await r(),t.aa.delete(1),await f2(t)})}async function oM(t,e){const r=mt(t);r.asyncQueue.verifyOperationInProgress(),Oe(Vf,"RemoteStore received new credentials");const n=s0(r);r.aa.add(3),await o0(r),n&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.aa.delete(3),await f2(r)}async function Tfe(t,e){const r=mt(t);e?(r.aa.delete(2),await f2(r)):e||(r.aa.add(2),await o0(r),r.la.set("Unknown"))}function qh(t){return t.Pa||(t.Pa=function(r,n,i){const a=mt(r);return a.Y_(),new yfe(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{jo:Sfe.bind(null,t),Jo:Efe.bind(null,t),Zo:Afe.bind(null,t),Q_:Cfe.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),TO(t)?CO(t):t.la.set("Unknown")):(await t.Pa.stop(),Tz(t))})),t.Pa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Yl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,s=new NO(e,r,o,i,a);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Le(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nz(t,e){if(zs("AsyncQueue",`${e}: ${t}`),Gh(t))return new Le(Ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{static emptySet(e){return new yf(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ve.comparator(r.key,n.key):(r,n)=>Ve.comparator(r.key,n.key),this.keyedMap=_m(),this.sortedSet=new Lr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof yf)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new yf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this.Ia=new Lr(Ve.comparator)}track(e){const r=e.doc.key,n=this.Ia.get(r);n?e.type!==0&&n.type===3?this.Ia=this.Ia.insert(r,e):e.type===3&&n.type!==1?this.Ia=this.Ia.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Ia=this.Ia.remove(r):e.type===1&&n.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:e.doc}):qe(63341,{Vt:e,Ea:n}):this.Ia=this.Ia.insert(r,e)}da(){const e=[];return this.Ia.inorderTraversal((r,n)=>{e.push(n)}),e}}class zf{constructor(e,r,n,i,a,o,s,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach(s=>{o.push({type:0,doc:s})}),new zf(e,r,yf.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&s2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nfe{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class Ife{constructor(){this.queries=lM(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,n){const i=mt(r),a=i.queries;i.queries=lM(),a.forEach((o,s)=>{for(const l of s.Ra)l.onError(n)})})(this,new Le(Ce.ABORTED,"Firestore shutting down"))}}function lM(){return new ld(t=>tz(t),s2)}async function Iz(t,e){const r=mt(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.Va()&&e.ma()&&(n=2):(a=new Nfe,n=e.ma()?0:1);try{switch(n){case 0:a.Aa=await r.onListen(i,!0);break;case 1:a.Aa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const s=Nz(o,`Initialization of query '${Rd(e.query)}' failed`);return void e.onError(s)}r.queries.set(i,a),a.Ra.push(e),e.ga(r.onlineState),a.Aa&&e.pa(a.Aa)&&IO(r)}async function Pz(t,e){const r=mt(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.Ra.indexOf(e);o>=0&&(a.Ra.splice(o,1),a.Ra.length===0?i=e.ma()?0:1:!a.Va()&&e.ma()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Pfe(t,e){const r=mt(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const s of o.Ra)s.pa(i)&&(n=!0);o.Aa=i}}n&&IO(r)}function Ofe(t,e,r){const n=mt(t),i=n.queries.get(e);if(i)for(const a of i.Ra)a.onError(r);n.queries.delete(e)}function IO(t){t.fa.forEach(e=>{e.next()})}var iT,cM;(cM=iT||(iT={})).ya="default",cM.Cache="cache";class Oz{constructor(e,r,n){this.query=e,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new zf(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ba?this.Da(e)&&(this.wa.next(e),r=!0):this.va(e,this.onlineState)&&(this.Ca(e),r=!0),this.Sa=e,r}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),r=!0),r}va(e,r){if(!e.fromCache||!this.ma())return!0;const n=r!=="Offline";return(!this.options.Fa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(e){e=zf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==iT.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(e){this.key=e}}class kz{constructor(e){this.key=e}}class jfe{constructor(e,r){this.query=e,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=vt(),this.mutatedKeys=vt(),this.Ua=rz(e),this.Ka=new yf(this.Ua)}get Wa(){return this.qa}Ga(e,r){const n=r?r.za:new sM,i=r?r.Ka:this.Ka;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),p=l2(this.query,f)?f:null,m=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?m!==g&&(n.track({type:3,doc:p}),v=!0):this.ja(h,p)||(n.track({type:2,doc:p}),v=!0,(l&&this.Ua(p,l)>0||c&&this.Ua(p,c)<0)&&(s=!0)):!h&&p?(n.track({type:0,doc:p}),v=!0):h&&!p&&(n.track({type:1,doc:h}),v=!0,(l||c)&&(s=!0)),v&&(p?(o=o.add(p),a=g?a.add(d):a.delete(d)):(o=o.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),a=a.delete(d.key),n.track({type:1,doc:d})}return{Ka:o,za:n,ys:s,mutatedKeys:a}}ja(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((d,f)=>function(p,m){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{Vt:v})}};return g(p)-g(m)}(d.type,f.type)||this.Ua(d.doc,f.doc)),this.Ha(n),i=i!=null&&i;const s=r&&!i?this.Ja():[],l=this.$a.size===0&&this.current&&!i?1:0,c=l!==this.Qa;return this.Qa=l,o.length!==0||c?{snapshot:new zf(this.query,e.Ka,a,o,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:s}:{Ya:s}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new sM,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=vt(),this.Ka.forEach(n=>{this.Za(n.key)&&(this.$a=this.$a.add(n.key))});const r=[];return e.forEach(n=>{this.$a.has(n)||r.push(new kz(n))}),this.$a.forEach(n=>{e.has(n)||r.push(new jz(n))}),r}Xa(e){this.qa=e.Ns,this.$a=vt();const r=this.Ga(e.documents);return this.applyChanges(r,!0)}eu(){return zf.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const PO="SyncEngine";class kfe{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Rfe{constructor(e){this.key=e,this.tu=!1}}class Dfe{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new ld(s=>tz(s),s2),this.iu=new Map,this.su=new Set,this.ou=new Lr(Ve.comparator),this._u=new Map,this.au=new wO,this.uu={},this.cu=new Map,this.lu=Uf.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Mfe(t,e,r=!0){const n=$z(t);let i;const a=n.ru.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.eu()):i=await Rz(n,e,r,!0),i}async function Lfe(t,e){const r=$z(t);await Rz(r,e,!0,!1)}async function Rz(t,e,r,n){const i=await cfe(t.localStore,Bo(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let s;return n&&(s=await $fe(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&Az(t.remoteStore,i),s}async function $fe(t,e,r,n,i){t.Pu=(f,h,p)=>async function(g,v,y,x){let w=v.view.Ga(y);w.ys&&(w=await eM(g.localStore,v.query,!1).then(({documents:A})=>v.view.Ga(A,w)));const S=x&&x.targetChanges.get(v.targetId),E=x&&x.targetMismatches.get(v.targetId)!=null,T=v.view.applyChanges(w,g.isPrimaryClient,S,E);return dM(g,v.targetId,T.Ya),T.snapshot}(t,f,h,p);const a=await eM(t.localStore,e,!0),o=new jfe(e,a.Ns),s=o.Ga(a.documents),l=a0.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),c=o.applyChanges(s,t.isPrimaryClient,l);dM(t,r,c.Ya);const d=new kfe(e,r,o);return t.ru.set(e,d),t.iu.has(r)?t.iu.get(r).push(e):t.iu.set(r,[e]),c.snapshot}async function Ffe(t,e,r){const n=mt(t),i=n.ru.get(e),a=n.iu.get(i.targetId);if(a.length>1)return n.iu.set(i.targetId,a.filter(o=>!s2(o,e))),void n.ru.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await rT(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&EO(n.remoteStore,i.targetId),aT(n,i.targetId)}).catch(r2)):(aT(n,i.targetId),await rT(n.localStore,i.targetId,!0))}async function Bfe(t,e){const r=mt(t),n=r.ru.get(e),i=r.iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),EO(r.remoteStore,n.targetId))}async function Dz(t,e){const r=mt(t);try{const n=await sfe(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r._u.get(a);o&&(vr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.tu=!0:i.modifiedDocuments.size>0?vr(o.tu,14607):i.removedDocuments.size>0&&(vr(o.tu,42227),o.tu=!1))}),await Lz(r,n,e)}catch(n){await r2(n)}}function uM(t,e,r){const n=mt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.ru.forEach((a,o)=>{const s=o.view.ga(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=mt(o);l.onlineState=s;let c=!1;l.queries.forEach((d,f)=>{for(const h of f.Ra)h.ga(s)&&(c=!0)}),c&&IO(l)}(n.eventManager,e),i.length&&n.nu.Q_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Ufe(t,e,r){const n=mt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n._u.get(e),a=i&&i.key;if(a){let o=new Lr(Ve.comparator);o=o.insert(a,Yn.newNoDocument(a,Ge.min()));const s=vt().add(a),l=new d2(Ge.min(),new Map,new Lr(tt),o,s);await Dz(n,l),n.ou=n.ou.remove(a),n._u.delete(e),OO(n)}else await rT(n.localStore,e,!1).then(()=>aT(n,e,r)).catch(r2)}function aT(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.iu.get(e))t.ru.delete(n),r&&t.nu.Tu(n,r);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(n=>{t.au.containsKey(n)||Mz(t,n)})}function Mz(t,e){t.su.delete(e.path.canonicalString());const r=t.ou.get(e);r!==null&&(EO(t.remoteStore,r),t.ou=t.ou.remove(e),t._u.delete(r),OO(t))}function dM(t,e,r){for(const n of r)n instanceof jz?(t.au.addReference(n.key,e),Vfe(t,n)):n instanceof kz?(Oe(PO,"Document no longer in limbo: "+n.key),t.au.removeReference(n.key,e),t.au.containsKey(n.key)||Mz(t,n.key)):qe(19791,{Iu:n})}function Vfe(t,e){const r=e.key,n=r.path.canonicalString();t.ou.get(r)||t.su.has(n)||(Oe(PO,"New document in limbo: "+r),t.su.add(n),OO(t))}function OO(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const r=new Ve(sr.fromString(e)),n=t.lu.next();t._u.set(n,new Rfe(r)),t.ou=t.ou.insert(r,n),Az(t.remoteStore,new Dl(Bo(gO(r.path)),n,"TargetPurposeLimboResolution",n2.le))}}async function Lz(t,e,r){const n=mt(t),i=[],a=[],o=[];n.ru.isEmpty()||(n.ru.forEach((s,l)=>{o.push(n.Pu(l,e,r).then(c=>{var d;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(d=r==null?void 0:r.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=_O.Ps(l.targetId,c);a.push(f)}}))}),await Promise.all(o),n.nu.Q_(i),await async function(l,c){const d=mt(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>he.forEach(c,h=>he.forEach(h.ls,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>he.forEach(h.hs,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Gh(f))throw f;Oe(SO,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=d.Ss.get(h),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);d.Ss=d.Ss.insert(h,g)}}}(n.localStore,a))}async function zfe(t,e){const r=mt(t);if(!r.currentUser.isEqual(e)){Oe(PO,"User change. New user:",e.toKey());const n=await bz(r.localStore,e);r.currentUser=e,function(a,o){a.cu.forEach(s=>{s.forEach(l=>{l.reject(new Le(Ce.CANCELLED,o))})}),a.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Lz(r,n.Ms)}}function Wfe(t,e){const r=mt(t),n=r._u.get(e);if(n&&n.tu)return vt().add(n.key);{let i=vt();const a=r.iu.get(e);if(!a)return i;for(const o of a){const s=r.ru.get(o);i=i.unionWith(s.view.Wa)}return i}}function $z(t){const e=mt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Dz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wfe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ufe.bind(null,e),e.nu.Q_=Pfe.bind(null,e.eventManager),e.nu.Tu=Ofe.bind(null,e.eventManager),e}class Lx{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sz(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,r){return null}fu(e,r){return null}Vu(e){return ofe(this.persistence,new nfe,e.initialUser,this.serializer)}Ru(e){return new wz(bO.Ei,this.serializer)}Au(e){return new dfe}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lx.provider={build:()=>new Lx};class Hfe extends Lx{constructor(e){super(),this.cacheSizeBytes=e}mu(e,r){vr(this.persistence.referenceDelegate instanceof Mx,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Vde(n,e.asyncQueue,r)}Ru(e){const r=this.cacheSizeBytes!==void 0?Ni.withCacheSize(this.cacheSizeBytes):Ni.DEFAULT;return new wz(n=>Mx.Ei(n,r),this.serializer)}}class oT{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>uM(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=zfe.bind(null,this.syncEngine),await Tfe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ife}()}createDatastore(e){const r=Sz(e.databaseInfo.databaseId),n=function(a){return new gfe(a)}(e.databaseInfo);return function(a,o,s,l){return new wfe(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,o,s){return new _fe(n,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,r=>uM(this.syncEngine,r,0),function(){return nM.C()?new nM:new ffe}())}createSyncEngine(e,r){return function(i,a,o,s,l,c,d){const f=new Dfe(i,a,o,s,l,c);return d&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=mt(i);Oe(Vf,"RemoteStore shutting down."),a.aa.add(5),await o0(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}oT.provider={build:()=>new oT};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):zs("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc="FirestoreClient";class Gfe{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=qn.UNAUTHENTICATED,this.clientId=VV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{Oe(vc,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Oe(vc,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Nz(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function nE(t,e){t.asyncQueue.verifyOperationInProgress(),Oe(vc,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await bz(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function fM(t,e){t.asyncQueue.verifyOperationInProgress();const r=await qfe(t);Oe(vc,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>oM(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>oM(e.remoteStore,i)),t._onlineComponents=e}async function qfe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Oe(vc,"Using user provided OfflineComponentProvider");try{await nE(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ce.FAILED_PRECONDITION||i.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Lf("Error using user provided cache. Falling back to memory cache: "+r),await nE(t,new Lx)}}else Oe(vc,"Using default OfflineComponentProvider"),await nE(t,new Hfe(void 0));return t._offlineComponents}async function Kfe(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Oe(vc,"Using user provided OnlineComponentProvider"),await fM(t,t._uninitializedComponentsProvider._online)):(Oe(vc,"Using default OnlineComponentProvider"),await fM(t,new oT))),t._onlineComponents}async function Bz(t){const e=await Kfe(t),r=e.eventManager;return r.onListen=Mfe.bind(null,e.syncEngine),r.onUnlisten=Ffe.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Lfe.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Bfe.bind(null,e.syncEngine),r}function Yfe(t,e,r={}){const n=new Yl;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const d=new Fz({next:h=>{d.yu(),o.enqueueAndForget(()=>Pz(a,f));const p=h.docs.has(s);!p&&h.fromCache?c.reject(new Le(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new Le(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new Oz(gO(s.path),d,{includeMetadataChanges:!0,Fa:!0});return Iz(a,f)}(await Bz(t),t.asyncQueue,e,r,n)),n.promise}function Xfe(t,e,r={}){const n=new Yl;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const d=new Fz({next:h=>{d.yu(),o.enqueueAndForget(()=>Pz(a,f)),h.fromCache&&l.source==="server"?c.reject(new Le(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new Oz(s,d,{includeMetadataChanges:!0,Fa:!0});return Iz(a,f)}(await Bz(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vz(t,e,r){if(!r)throw new Le(Ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Qfe(t,e,r,n){if(e===!0&&n===!0)throw new Le(Ce.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function pM(t){if(!Ve.isDocumentKey(t))throw new Le(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mM(t){if(Ve.isDocumentKey(t))throw new Le(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Zfe(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe(12329,{type:typeof t})}function Mg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Le(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Zfe(t);throw new Le(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz="firestore.googleapis.com",gM=!0;class vM{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Le(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zz,this.ssl=gM}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:gM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xz;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Bde)throw new Le(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qfe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Uz((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Le(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Le(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Le(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class h2{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vM({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Le(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Le(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vM(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new mue;switch(n.type){case"firstParty":return new xue(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Le(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Wh("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=hM.get(r);n&&(Oe("ComponentProvider","Removing Datastore"),hM.delete(r),n.terminate())}(this),Promise.resolve()}}function Jfe(t,e,r,n={}){var i;t=Mg(t,h2);const a=zh(e),o=t._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${r}`;o.host!==zz&&o.host!==l&&Lf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:a,emulatorOptions:n});if(!dc(c,s)&&(t._setSettings(c),a&&(sO(`https://${l}`),Wh("Firestore",!0)),n.mockUserToken)){let d,f;if(typeof n.mockUserToken=="string")d=n.mockUserToken,f=qn.MOCK_USER;else{d=AV(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Le(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new qn(h)}t._authCredentials=new gue(new BV(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new p2(this.firestore,e,this._query)}}class Uo{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Uo(this.firestore,e,this._key)}}class Xl extends p2{constructor(e,r,n){super(e,r,gO(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Uo(this.firestore,null,new Ve(e))}withConverter(e){return new Xl(this.firestore,e,this._path)}}function yM(t,e,...r){if(t=ri(t),Vz("collection","path",e),t instanceof h2){const n=sr.fromString(e,...r);return mM(n),new Xl(t,null,n)}{if(!(t instanceof Uo||t instanceof Xl))throw new Le(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(sr.fromString(e,...r));return mM(n),new Xl(t.firestore,null,n)}}function Wz(t,e,...r){if(t=ri(t),arguments.length===1&&(e=VV.newId()),Vz("doc","path",e),t instanceof h2){const n=sr.fromString(e,...r);return pM(n),new Uo(t,null,new Ve(n))}{if(!(t instanceof Uo||t instanceof Xl))throw new Le(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(sr.fromString(e,...r));return pM(n),new Uo(t.firestore,t instanceof Xl?t.converter:null,new Ve(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM="AsyncQueue";class wM{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Ez(this,"async_queue_retry"),this.ju=()=>{const n=rE();n&&Oe(xM,"Visibility state changed to "+n.visibilityState),this.y_.A_()},this.Hu=e;const r=rE();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const r=rE();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new Yl;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Gh(e))throw e;Oe(xM,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const r=this.Hu.then(()=>(this.Wu=!0,e().catch(n=>{throw this.Ku=n,this.Wu=!1,zs("INTERNAL UNHANDLED ERROR: ",bM(n)),n}).then(n=>(this.Wu=!1,n))));return this.Hu=r,r}enqueueAfterDelay(e,r,n){this.Ju(),this.zu.indexOf(e)>-1&&(r=0);const i=NO.createAndSchedule(this,e,r,n,a=>this.Xu(a));return this.Uu.push(i),i}Ju(){this.Ku&&qe(47125,{ec:bM(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const r of this.Uu)if(r.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const r=this.Uu.indexOf(e);this.Uu.splice(r,1)}}function bM(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class jO extends h2{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new wM,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wM(e),this._firestoreClient=void 0,await e}}}function ehe(t,e){const r=typeof t=="object"?t:n0(),n=typeof t=="string"?t:Ox,i=el(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=_V("firestore");a&&Jfe(i,...a)}return i}function Hz(t){if(t._terminated)throw new Le(Ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||the(t),t._firestoreClient}function the(t){var e,r,n;const i=t._freezeSettings(),a=function(s,l,c,d){return new Due(s,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Uz(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Gfe(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $x(jn.fromBase64String(e))}catch(r){throw new Le(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new $x(jn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Le(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rhe{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Le(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Le(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nhe{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}const ihe=new RegExp("[~\\*/\\[\\]]");function ahe(t,e,r){if(e.search(ihe)>=0)throw _M(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new Gz(...e.split("."))._internalPath}catch{throw _M(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function _M(t,e,r,n,i){let a=`Function ${e}() called with invalid data`;a+=". ";let o="";return new Le(Ce.INVALID_ARGUMENT,a+t+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Uo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ohe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Kz("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class ohe extends qz{data(){return super.data()}}function Kz(t,e){return typeof e=="string"?ahe(t,e):e instanceof Gz?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function she(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Le(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lhe{convertValue(e,r="none"){switch(mc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(pc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return i0(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r[GC].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>kr(o.doubleValue));return new nhe(a)}convertGeoPoint(e){return new rhe(kr(e.latitude),kr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=a2(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(kg(e));default:return null}}convertTimestamp(e){const r=hc(e);return new $i(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=sr.fromString(e);vr(yz(n),9688,{name:e});const i=new Rg(n.get(1),n.get(3)),a=new Ve(n.popFirst(5));return i.isEqual(r)||zs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yz extends qz{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new j1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Kz("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class j1 extends Yz{data(e={}){return super.data(e)}}class che{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Em(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new j1(this._firestore,this._userDataWriter,n.key,n,new Em(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Le(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new j1(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Em(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new j1(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Em(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return s.type!==0&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),d=o.indexOf(s.doc.key)),{type:uhe(s.type),doc:l,oldIndex:c,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function uhe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xz(t){t=Mg(t,Uo);const e=Mg(t.firestore,jO);return Yfe(Hz(e),t._key).then(r=>dhe(e,t,r))}class Qz extends lhe{constructor(e){super(),this.firestore=e}convertBytes(e){return new $x(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Uo(this.firestore,null,r)}}function SM(t){t=Mg(t,p2);const e=Mg(t.firestore,jO),r=Hz(e),n=new Qz(e);return she(t._query),Xfe(r,t._query).then(i=>new che(e,n,t,i))}function dhe(t,e,r){const n=r.docs.get(e._key),i=new Qz(t);return new Yz(t,i,e._key,n,new Em(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){Hh=i})(sd),sa(new Wi("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),s=new jO(new vue(n.getProvider("auth-internal")),new wue(o,n.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Le(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rg(c.options.projectId,d)}(o,i),o);return a=Object.assign({useFetchStreams:r},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),Zn(ED,AD,e),Zn(ED,AD,"esm2017")})();var Ro=function(){return Ro=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ro.apply(this,arguments)};function l0(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function fhe(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function Zz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hhe=Zz,Jz=new Ic("auth","Firebase",Zz());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=new e2("@firebase/auth");function phe(t,...e){Fx.logLevel<=ot.WARN&&Fx.warn(`Auth (${sd}): ${t}`,...e)}function k1(t,...e){Fx.logLevel<=ot.ERROR&&Fx.error(`Auth (${sd}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(t,...e){throw RO(t,...e)}function fo(t,...e){return RO(t,...e)}function kO(t,e,r){const n=Object.assign(Object.assign({},hhe()),{[e]:r});return new Ic("auth","Firebase",n).create(e,{appName:t.name})}function Ns(t){return kO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mhe(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&ka(t,"argument-error"),kO(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function RO(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return Jz.create(t,...e)}function He(t,e,...r){if(!t)throw RO(e,...r)}function ws(t){const e="INTERNAL ASSERTION FAILED: "+t;throw k1(e),new Error(e)}function Ws(t,e){t||ws(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ghe(){return EM()==="http:"||EM()==="https:"}function EM(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vhe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ghe()||CV()||"connection"in navigator)?navigator.onLine:!0}function yhe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ws(r>e,"Short delay should be less than long delay!"),this.isMobile=zle()||Gle()}get(){return vhe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t,e){Ws(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eW{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xhe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const whe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bhe=new c0(3e4,6e4);function Pc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function tl(t,e,r,n,i={}){return tW(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const s=r0(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},a);return Hle()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&zh(t.emulatorConfig.host)&&(c.credentials="include"),eW.fetch()(await rW(t,t.config.apiHost,r,s),c)})}async function tW(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},xhe),e);try{const i=new She(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw jy(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,c]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw jy(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw jy(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw jy(t,"user-disabled",o);const d=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw kO(t,d,c);ka(t,d)}}catch(i){if(i instanceof La)throw i;ka(t,"network-request-failed",{message:String(i)})}}async function u0(t,e,r,n,i={}){const a=await tl(t,e,r,n,i);return"mfaPendingCredential"in a&&ka(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function rW(t,e,r,n){const i=`${e}${r}?${n}`,a=t,o=a.config.emulator?DO(t.config,i):`${t.config.apiScheme}://${i}`;return whe.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function _he(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class She{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(fo(this.auth,"network-request-failed")),bhe.get())})}}function jy(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=fo(t,e,n);return i.customData._tokenResponse=r,i}function AM(t){return t!==void 0&&t.enterprise!==void 0}class Ehe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return _he(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ahe(t,e){return tl(t,"GET","/v2/recaptchaConfig",Pc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Che(t,e){return tl(t,"POST","/v1/accounts:delete",e)}async function Bx(t,e){return tl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function The(t,e=!1){const r=ri(t),n=await r.getIdToken(e),i=MO(n);He(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Xm(iE(i.auth_time)),issuedAtTime:Xm(iE(i.iat)),expirationTime:Xm(iE(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function iE(t){return Number(t)*1e3}function MO(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return k1("JWT malformed, contained fewer than 3 sections"),null;try{const i=wV(r);return i?JSON.parse(i):(k1("Failed to decode base64 JWT payload"),null)}catch(i){return k1("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function CM(t){const e=MO(t);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wf(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof La&&Nhe(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Nhe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ihe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xm(this.lastLoginAt),this.creationTime=Xm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ux(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Wf(t,Bx(r,{idToken:n}));He(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?nW(a.providerUserInfo):[],s=Ohe(t.providerData,o),l=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),d=l?c:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new lT(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function Phe(t){const e=ri(t);await Ux(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ohe(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function nW(t){return t.map(e=>{var{providerId:r}=e,n=l0(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jhe(t,e){const r=await tW(t,{},async()=>{const n=r0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await rW(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",eW.fetch()(o,{method:"POST",headers:s,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function khe(t,e){return tl(t,"POST","/v2/accounts:revokeToken",Pc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){He(e.length!==0,"internal-error");const r=CM(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await jhe(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new xf;return n&&(He(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(He(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(He(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xf,this.toJSON())}_performRefresh(){return ws("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(t,e){He(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ao{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=l0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ihe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new lT(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await Wf(this,this.stsTokenManager.getToken(this.auth,e));return He(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return The(this,e)}reload(){return Phe(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ao(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Ux(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pi(this.auth.app))return Promise.reject(Ns(this.auth));const e=await this.getIdToken();return await Wf(this,Che(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,o,s,l,c,d;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,h=(i=r.email)!==null&&i!==void 0?i:void 0,p=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,m=(o=r.photoURL)!==null&&o!==void 0?o:void 0,g=(s=r.tenantId)!==null&&s!==void 0?s:void 0,v=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=r.createdAt)!==null&&c!==void 0?c:void 0,x=(d=r.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:S,isAnonymous:E,providerData:T,stsTokenManager:A}=r;He(w&&A,e,"internal-error");const C=xf.fromJSON(this.name,A);He(typeof w=="string",e,"internal-error"),fl(f,e.name),fl(h,e.name),He(typeof S=="boolean",e,"internal-error"),He(typeof E=="boolean",e,"internal-error"),fl(p,e.name),fl(m,e.name),fl(g,e.name),fl(v,e.name),fl(y,e.name),fl(x,e.name);const N=new ao({uid:w,auth:e,email:h,emailVerified:S,displayName:f,isAnonymous:E,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:C,createdAt:y,lastLoginAt:x});return T&&Array.isArray(T)&&(N.providerData=T.map(I=>Object.assign({},I))),v&&(N._redirectEventId=v),N}static async _fromIdTokenResponse(e,r,n=!1){const i=new xf;i.updateFromServerResponse(r);const a=new ao({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Ux(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];He(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?nW(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new xf;s.updateFromIdToken(n);const l=new ao({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new lT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=new Map;function bs(t){Ws(t instanceof Function,"Expected a class definition");let e=TM.get(t);return e?(Ws(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,TM.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}iW.type="NONE";const NM=iW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t,e,r){return`firebase:${t}:${e}:${r}`}class wf{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=R1(this.userKey,i.apiKey,a),this.fullPersistenceKey=R1("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Bx(this.auth,{idToken:e}).catch(()=>{});return r?ao._fromGetAccountInfoResponse(this.auth,r,e):null}return ao._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new wf(bs(NM),e,n);const i=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||bs(NM);const o=R1(n,e.config.apiKey,e.name);let s=null;for(const c of r)try{const d=await c._get(o);if(d){let f;if(typeof d=="string"){const h=await Bx(e,{idToken:d}).catch(()=>{});if(!h)break;f=await ao._fromGetAccountInfoResponse(e,h,d)}else f=ao._fromJSON(e,d);c!==a&&(s=f),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new wf(a,e,n):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(r.map(async c=>{if(c!==a)try{await c._remove(o)}catch{}})),new wf(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lW(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aW(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uW(e))return"Blackberry";if(dW(e))return"Webos";if(oW(e))return"Safari";if((e.includes("chrome/")||sW(e))&&!e.includes("edge/"))return"Chrome";if(cW(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function aW(t=ti()){return/firefox\//i.test(t)}function oW(t=ti()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sW(t=ti()){return/crios\//i.test(t)}function lW(t=ti()){return/iemobile/i.test(t)}function cW(t=ti()){return/android/i.test(t)}function uW(t=ti()){return/blackberry/i.test(t)}function dW(t=ti()){return/webos/i.test(t)}function LO(t=ti()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Rhe(t=ti()){var e;return LO(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Dhe(){return qle()&&document.documentMode===10}function fW(t=ti()){return LO(t)||cW(t)||dW(t)||uW(t)||/windows phone/i.test(t)||lW(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hW(t,e=[]){let r;switch(t){case"Browser":r=IM(ti());break;case"Worker":r=`${IM(ti())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${sd}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mhe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lhe(t,e={}){return tl(t,"GET","/v2/passwordPolicy",Pc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $he=6;class Fhe{constructor(e){var r,n,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:$he,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bhe{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PM(this),this.idTokenSubscription=new PM(this),this.beforeStateQueue=new Mhe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Jz,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=bs(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await wf.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Bx(this,{idToken:e}),n=await ao._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Pi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Ux(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yhe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pi(this.app))return Promise.reject(Ns(this));const r=e?ri(e):null;return r&&He(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pi(this.app)?Promise.reject(Ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pi(this.app)?Promise.reject(Ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Lhe(this),r=new Fhe(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ic("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await khe(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&bs(e)||this._popupRedirectResolver;He(r,this,"argument-error"),this.redirectPersistenceManager=await wf.create(this,[bs(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{o=!0,l()}}else{const l=e.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hW(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;if(Pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&phe(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Oc(t){return ri(t)}class PM{constructor(e){this.auth=e,this.observer=null,this.addObserver=Jle(r=>this.observer=r)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Uhe(t){m2=t}function pW(t){return m2.loadJS(t)}function Vhe(){return m2.recaptchaEnterpriseScript}function zhe(){return m2.gapiScript}function Whe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Hhe{constructor(){this.enterprise=new Ghe}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class Ghe{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const qhe="recaptcha-enterprise",mW="NO_RECAPTCHA";class Khe{constructor(e){this.type=qhe,this.auth=Oc(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{Ahe(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const c=new Ehe(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,o(c.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;AM(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{o(c)}).catch(()=>{o(mW)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Hhe().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(s=>{if(!r&&AM(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Vhe();l.length!==0&&(l+=s),pW(l).then(()=>{i(s,a,o)}).catch(c=>{o(c)})}}).catch(s=>{o(s)})})}}async function OM(t,e,r,n=!1,i=!1){const a=new Khe(t);let o;if(i)o=mW;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const s=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const l=s.phoneEnrollmentInfo.phoneNumber,c=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const l=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return n?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function cT(t,e,r,n,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await OM(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await OM(t,e,r,r==="getOobCode");return n(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yhe(t,e){const r=el(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(dc(a,e??{}))return i;ka(i,"already-initialized")}return r.initialize({options:e})}function Xhe(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(bs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Qhe(t,e,r){const n=Oc(t);He(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!!(r!=null&&r.disableWarnings),a=gW(e),{host:o,port:s}=Zhe(e),l=s===null?"":`:${s}`,c={url:`${a}//${o}${l}/`},d=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){He(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),He(dc(c,n.config.emulator)&&dc(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=c,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,zh(o)?(Wh("Auth",!0),sO(`${a}//${o}${l}`)):i||Jhe()}function gW(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Zhe(t){const e=gW(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:jM(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:jM(o)}}}function jM(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Jhe(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ws("not implemented")}_getIdTokenResponse(e){return ws("not implemented")}_linkToIdToken(e,r){return ws("not implemented")}_getReauthenticationResolver(e){return ws("not implemented")}}async function epe(t,e){return tl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tpe(t,e){return u0(t,"POST","/v1/accounts:signInWithPassword",Pc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rpe(t,e){return u0(t,"POST","/v1/accounts:signInWithEmailLink",Pc(t,e))}async function npe(t,e){return u0(t,"POST","/v1/accounts:signInWithEmailLink",Pc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg extends $O{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Lg(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Lg(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cT(e,r,"signInWithPassword",tpe);case"emailLink":return rpe(e,{email:this._email,oobCode:this._password});default:ka(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cT(e,n,"signUpPassword",epe);case"emailLink":return npe(e,{idToken:r,email:this._email,oobCode:this._password});default:ka(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bf(t,e){return u0(t,"POST","/v1/accounts:signInWithIdp",Pc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ipe="http://localhost";class $u extends $O{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new $u(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):ka("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=l0(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new $u(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return bf(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,bf(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,bf(e,r)}buildRequest(){const e={requestUri:ipe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=r0(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ape(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ope(t){const e=xm(wm(t)).link,r=e?xm(wm(e)).deep_link_id:null,n=xm(wm(t)).deep_link_id;return(n?xm(wm(n)).link:null)||n||r||e||t}class FO{constructor(e){var r,n,i,a,o,s;const l=xm(wm(e)),c=(r=l.apiKey)!==null&&r!==void 0?r:null,d=(n=l.oobCode)!==null&&n!==void 0?n:null,f=ape((i=l.mode)!==null&&i!==void 0?i:null);He(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const r=ope(e);try{return new FO(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this.providerId=Kh.PROVIDER_ID}static credential(e,r){return Lg._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=FO.parseLink(r);return He(n,"argument-error"),Lg._fromEmailAndCode(e,n.code,n.tenantId)}}Kh.PROVIDER_ID="password";Kh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0 extends BO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends d0{constructor(){super("facebook.com")}static credential(e){return $u._fromParams({providerId:Tl.PROVIDER_ID,signInMethod:Tl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tl.credentialFromTaggedObject(e)}static credentialFromError(e){return Tl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tl.credential(e.oauthAccessToken)}catch{return null}}}Tl.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends d0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return $u._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return vs.credential(r,n)}catch{return null}}}vs.GOOGLE_SIGN_IN_METHOD="google.com";vs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends d0{constructor(){super("github.com")}static credential(e){return $u._fromParams({providerId:Nl.PROVIDER_ID,signInMethod:Nl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nl.credentialFromTaggedObject(e)}static credentialFromError(e){return Nl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nl.credential(e.oauthAccessToken)}catch{return null}}}Nl.GITHUB_SIGN_IN_METHOD="github.com";Nl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends d0{constructor(){super("twitter.com")}static credential(e,r){return $u._fromParams({providerId:Il.PROVIDER_ID,signInMethod:Il.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Il.credentialFromTaggedObject(e)}static credentialFromError(e){return Il.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Il.credential(r,n)}catch{return null}}}Il.TWITTER_SIGN_IN_METHOD="twitter.com";Il.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function spe(t,e){return u0(t,"POST","/v1/accounts:signUp",Pc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await ao._fromIdTokenResponse(e,n,i),o=kM(n);return new Fu({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=kM(n);return new Fu({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function kM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx extends La{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Vx.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Vx(e,r,n,i)}}function vW(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Vx._fromErrorAndOperation(t,a,e,n):a})}async function lpe(t,e,r=!1){const n=await Wf(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Fu._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cpe(t,e,r=!1){const{auth:n}=t;if(Pi(n.app))return Promise.reject(Ns(n));const i="reauthenticate";try{const a=await Wf(t,vW(n,i,e,t),r);He(a.idToken,n,"internal-error");const o=MO(a.idToken);He(o,n,"internal-error");const{sub:s}=o;return He(t.uid===s,n,"user-mismatch"),Fu._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ka(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yW(t,e,r=!1){if(Pi(t.app))return Promise.reject(Ns(t));const n="signIn",i=await vW(t,n,e),a=await Fu._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function upe(t,e){return yW(Oc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xW(t){const e=Oc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dpe(t,e,r){if(Pi(t.app))return Promise.reject(Ns(t));const n=Oc(t),o=await cT(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",spe).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&xW(t),l}),s=await Fu._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(s.user),s}function wW(t,e,r){return Pi(t.app)?Promise.reject(Ns(t)):upe(ri(t),Kh.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&xW(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fpe(t,e){return tl(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hpe(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=ri(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await Wf(n,fpe(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const s=n.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=n.displayName,s.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function ppe(t,e,r,n){return ri(t).onIdTokenChanged(e,r,n)}function mpe(t,e,r){return ri(t).beforeAuthStateChanged(e,r)}function gpe(t,e,r,n){return ri(t).onAuthStateChanged(e,r,n)}function vpe(t){return ri(t).signOut()}const zx="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bW{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(zx,"1"),this.storage.removeItem(zx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ype=1e3,xpe=10;class _W extends bW{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fW(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);Dhe()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,xpe):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},ype)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}_W.type="LOCAL";const wpe=_W;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SW extends bW{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}SW.type="SESSION";const EW=SW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bpe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new g2(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map(async c=>c(r.origin,a)),l=await bpe(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}g2.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _pe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const c=UO("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(h.data.response);break;default:clearTimeout(d),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(){return window}function Spe(t){Vo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(){return typeof Vo().WorkerGlobalScope<"u"&&typeof Vo().importScripts=="function"}async function Epe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ape(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Cpe(){return AW()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CW="firebaseLocalStorageDb",Tpe=1,Wx="firebaseLocalStorage",TW="fbase_key";class f0{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function v2(t,e){return t.transaction([Wx],e?"readwrite":"readonly").objectStore(Wx)}function Npe(){const t=indexedDB.deleteDatabase(CW);return new f0(t).toPromise()}function uT(){const t=indexedDB.open(CW,Tpe);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Wx,{keyPath:TW})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Wx)?e(n):(n.close(),await Npe(),e(await uT()))})})}async function RM(t,e,r){const n=v2(t,!0).put({[TW]:e,value:r});return new f0(n).toPromise()}async function Ipe(t,e){const r=v2(t,!1).get(e),n=await new f0(r).toPromise();return n===void 0?null:n.value}function DM(t,e){const r=v2(t,!0).delete(e);return new f0(r).toPromise()}const Ppe=800,Ope=3;class NW{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uT(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Ope)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AW()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=g2._getInstance(Cpe()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await Epe(),!this.activeServiceWorker)return;this.sender=new _pe(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ape()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await uT();return await RM(e,zx,"1"),await DM(e,zx),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>RM(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Ipe(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>DM(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=v2(i,!1).getAll();return new f0(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ppe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NW.type="LOCAL";const jpe=NW;new c0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IW(t,e){return e?bs(e):(He(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO extends $O{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bf(e,this._buildIdpRequest())}_linkToIdToken(e,r){return bf(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return bf(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function kpe(t){return yW(t.auth,new VO(t),t.bypassAuthState)}function Rpe(t){const{auth:e,user:r}=t;return He(r,e,"internal-error"),cpe(r,new VO(t),t.bypassAuthState)}async function Dpe(t){const{auth:e,user:r}=t;return He(r,e,"internal-error"),lpe(r,new VO(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PW{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kpe;case"linkViaPopup":case"linkViaRedirect":return Dpe;case"reauthViaPopup":case"reauthViaRedirect":return Rpe;default:ka(this.auth,"internal-error")}}resolve(e){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mpe=new c0(2e3,1e4);async function Lpe(t,e,r){if(Pi(t.app))return Promise.reject(fo(t,"operation-not-supported-in-this-environment"));const n=Oc(t);mhe(t,e,BO);const i=IW(n,r);return new hu(n,"signInViaPopup",e,i).executeNotNull()}class hu extends PW{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,hu.currentPopupAction&&hu.currentPopupAction.cancel(),hu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Ws(this.filter.length===1,"Popup operations only handle one event");const e=UO();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(fo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Mpe.get())};e()}}hu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $pe="pendingRedirect",D1=new Map;class Fpe extends PW{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=D1.get(this.auth._key());if(!e){try{const n=await Bpe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}D1.set(this.auth._key(),e)}return this.bypassAuthState||D1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Bpe(t,e){const r=zpe(e),n=Vpe(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function Upe(t,e){D1.set(t._key(),e)}function Vpe(t){return bs(t._redirectPersistence)}function zpe(t){return R1($pe,t.config.apiKey,t.name)}async function Wpe(t,e,r=!1){if(Pi(t.app))return Promise.reject(Ns(t));const n=Oc(t),i=IW(n,e),o=await new Fpe(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hpe=10*60*1e3;class Gpe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qpe(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!OW(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(fo(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Hpe&&this.cachedEventUids.clear(),this.cachedEventUids.has(MM(e))}saveEventToCache(e){this.cachedEventUids.add(MM(e)),this.lastProcessedEventTime=Date.now()}}function MM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function OW({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qpe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OW(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kpe(t,e={}){return tl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ype=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xpe=/^https?/;async function Qpe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Kpe(t);for(const r of e)try{if(Zpe(r))return}catch{}ka(t,"unauthorized-domain")}function Zpe(t){const e=sT(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!Xpe.test(r))return!1;if(Ype.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jpe=new c0(3e4,6e4);function LM(){const t=Vo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function eme(t){return new Promise((e,r)=>{var n,i,a;function o(){LM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LM(),r(fo(t,"network-request-failed"))},timeout:Jpe.get()})}if(!((i=(n=Vo().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Vo().gapi)===null||a===void 0)&&a.load)o();else{const s=Whe("iframefcb");return Vo()[s]=()=>{gapi.load?o():r(fo(t,"network-request-failed"))},pW(`${zhe()}?onload=${s}`).catch(l=>r(l))}}).catch(e=>{throw M1=null,e})}let M1=null;function tme(t){return M1=M1||eme(t),M1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rme=new c0(5e3,15e3),nme="__/auth/iframe",ime="emulator/auth/iframe",ame={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ome=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sme(t){const e=t.config;He(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?DO(e,ime):`https://${t.config.authDomain}/${nme}`,n={apiKey:e.apiKey,appName:t.name,v:sd},i=ome.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${r0(n).slice(1)}`}async function lme(t){const e=await tme(t),r=Vo().gapi;return He(r,t,"internal-error"),e.open({where:document.body,url:sme(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ame,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=fo(t,"network-request-failed"),s=Vo().setTimeout(()=>{a(o)},rme.get());function l(){Vo().clearTimeout(s),i(n)}n.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cme={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ume=500,dme=600,fme="_blank",hme="http://localhost";class $M{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pme(t,e,r,n=ume,i=dme){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l=Object.assign(Object.assign({},cme),{width:n.toString(),height:i.toString(),top:a,left:o}),c=ti().toLowerCase();r&&(s=sW(c)?fme:r),aW(c)&&(e=e||hme,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(Rhe(c)&&s!=="_self")return mme(e||"",s),new $M(null);const f=window.open(e||"",s,d);He(f,t,"popup-blocked");try{f.focus()}catch{}return new $M(f)}function mme(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gme="__/auth/handler",vme="emulator/auth/handler",yme=encodeURIComponent("fac");async function FM(t,e,r,n,i,a){He(t.config.authDomain,t,"auth-domain-config-required"),He(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:sd,eventId:i};if(e instanceof BO){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Zle(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof d0){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const d of Object.keys(s))s[d]===void 0&&delete s[d];const l=await t._getAppCheckToken(),c=l?`#${yme}=${encodeURIComponent(l)}`:"";return`${xme(t)}?${r0(s).slice(1)}${c}`}function xme({config:t}){return t.emulator?DO(t,vme):`https://${t.authDomain}/${gme}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="webStorageSupport";class wme{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=EW,this._completeRedirectFn=Wpe,this._overrideRedirectResult=Upe}async _openPopup(e,r,n,i){var a;Ws((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await FM(e,r,n,sT(),i);return pme(e,o,UO())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await FM(e,r,n,sT(),i);return Spe(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Ws(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await lme(e),n=new Gpe(e);return r.register("authEvent",i=>(He(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(aE,{type:aE},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[aE];o!==void 0&&r(!!o),ka(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Qpe(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return fW()||oW()||LO()}}const bme=wme;var BM="@firebase/auth",UM="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _me{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sme(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Eme(t){sa(new Wi("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;He(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hW(t)},c=new Bhe(n,i,a,l);return Xhe(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),sa(new Wi("auth-internal",e=>{const r=Oc(e.getProvider("auth").getImmediate());return(n=>new _me(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zn(BM,UM,Sme(t)),Zn(BM,UM,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ame=5*60,Cme=EV("authIdTokenMaxAge")||Ame;let VM=null;const Tme=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Cme)return;const i=r==null?void 0:r.token;VM!==i&&(VM=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Nme(t=n0()){const e=el(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Yhe(t,{popupRedirectResolver:bme,persistence:[jpe,wpe,EW]}),n=EV("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=Tme(a.toString());mpe(r,o,()=>o(r.currentUser)),ppe(r,s=>o(s))}}const i=bV("auth");return i?Qhe(r,`http://${i}`):Wh("Auth",!1),r}function Ime(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Uhe({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=fo("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",Ime().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Eme("Browser");const jW="@firebase/installations",zO="0.6.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kW=1e4,RW=`w:${zO}`,DW="FIS_v2",Pme="https://firebaseinstallations.googleapis.com/v1",Ome=60*60*1e3,jme="installations",kme="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rme={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Bu=new Ic(jme,kme,Rme);function MW(t){return t instanceof La&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LW({projectId:t}){return`${Pme}/projects/${t}/installations`}function $W(t){return{token:t.token,requestStatus:2,expiresIn:Mme(t.expiresIn),creationTime:Date.now()}}async function FW(t,e){const n=(await e.json()).error;return Bu.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function BW({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Dme(t,{refreshToken:e}){const r=BW(t);return r.append("Authorization",Lme(e)),r}async function UW(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Mme(t){return Number(t.replace("s","000"))}function Lme(t){return`${DW} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $me({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=LW(t),i=BW(t),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:r,authVersion:DW,appId:t.appId,sdkVersion:RW},s={method:"POST",headers:i,body:JSON.stringify(o)},l=await UW(()=>fetch(n,s));if(l.ok){const c=await l.json();return{fid:c.fid||r,registrationStatus:2,refreshToken:c.refreshToken,authToken:$W(c.authToken)}}else throw await FW("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VW(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fme(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bme=/^[cdef][\w-]{21}$/,dT="";function Ume(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=Vme(t);return Bme.test(r)?r:dT}catch{return dT}}function Vme(t){return Fme(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW=new Map;function WW(t,e){const r=y2(t);HW(r,e),zme(r,e)}function HW(t,e){const r=zW.get(t);if(r)for(const n of r)n(e)}function zme(t,e){const r=Wme();r&&r.postMessage({key:t,fid:e}),Hme()}let pu=null;function Wme(){return!pu&&"BroadcastChannel"in self&&(pu=new BroadcastChannel("[Firebase] FID Change"),pu.onmessage=t=>{HW(t.data.key,t.data.fid)}),pu}function Hme(){zW.size===0&&pu&&(pu.close(),pu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gme="firebase-installations-database",qme=1,Uu="firebase-installations-store";let oE=null;function WO(){return oE||(oE=t2(Gme,qme,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Uu)}}})),oE}async function Hx(t,e){const r=y2(t),i=(await WO()).transaction(Uu,"readwrite"),a=i.objectStore(Uu),o=await a.get(r);return await a.put(e,r),await i.done,(!o||o.fid!==e.fid)&&WW(t,e.fid),e}async function GW(t){const e=y2(t),n=(await WO()).transaction(Uu,"readwrite");await n.objectStore(Uu).delete(e),await n.done}async function x2(t,e){const r=y2(t),i=(await WO()).transaction(Uu,"readwrite"),a=i.objectStore(Uu),o=await a.get(r),s=e(o);return s===void 0?await a.delete(r):await a.put(s,r),await i.done,s&&(!o||o.fid!==s.fid)&&WW(t,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(t){let e;const r=await x2(t.appConfig,n=>{const i=Kme(n),a=Yme(t,i);return e=a.registrationPromise,a.installationEntry});return r.fid===dT?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function Kme(t){const e=t||{fid:Ume(),registrationStatus:0};return qW(e)}function Yme(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Bu.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=Xme(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Qme(t)}:{installationEntry:e}}async function Xme(t,e){try{const r=await $me(t,e);return Hx(t.appConfig,r)}catch(r){throw MW(r)&&r.customData.serverCode===409?await GW(t.appConfig):await Hx(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function Qme(t){let e=await zM(t.appConfig);for(;e.registrationStatus===1;)await VW(100),e=await zM(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await HO(t);return n||r}return e}function zM(t){return x2(t,e=>{if(!e)throw Bu.create("installation-not-found");return qW(e)})}function qW(t){return Zme(t)?{fid:t.fid,registrationStatus:0}:t}function Zme(t){return t.registrationStatus===1&&t.registrationTime+kW<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jme({appConfig:t,heartbeatServiceProvider:e},r){const n=ege(t,r),i=Dme(t,r),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:RW,appId:t.appId}},s={method:"POST",headers:i,body:JSON.stringify(o)},l=await UW(()=>fetch(n,s));if(l.ok){const c=await l.json();return $W(c)}else throw await FW("Generate Auth Token",l)}function ege(t,{fid:e}){return`${LW(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GO(t,e=!1){let r;const n=await x2(t.appConfig,a=>{if(!KW(a))throw Bu.create("not-registered");const o=a.authToken;if(!e&&nge(o))return a;if(o.requestStatus===1)return r=tge(t,e),a;{if(!navigator.onLine)throw Bu.create("app-offline");const s=age(a);return r=rge(t,s),s}});return r?await r:n.authToken}async function tge(t,e){let r=await WM(t.appConfig);for(;r.authToken.requestStatus===1;)await VW(100),r=await WM(t.appConfig);const n=r.authToken;return n.requestStatus===0?GO(t,e):n}function WM(t){return x2(t,e=>{if(!KW(e))throw Bu.create("not-registered");const r=e.authToken;return oge(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function rge(t,e){try{const r=await Jme(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await Hx(t.appConfig,n),r}catch(r){if(MW(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await GW(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Hx(t.appConfig,n)}throw r}}function KW(t){return t!==void 0&&t.registrationStatus===2}function nge(t){return t.requestStatus===2&&!ige(t)}function ige(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Ome}function age(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function oge(t){return t.requestStatus===1&&t.requestTime+kW<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sge(t){const e=t,{installationEntry:r,registrationPromise:n}=await HO(e);return n?n.catch(console.error):GO(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lge(t,e=!1){const r=t;return await cge(r),(await GO(r,e)).token}async function cge(t){const{registrationPromise:e}=await HO(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uge(t){if(!t||!t.options)throw sE("App Configuration");if(!t.name)throw sE("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw sE(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function sE(t){return Bu.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YW="installations",dge="installations-internal",fge=t=>{const e=t.getProvider("app").getImmediate(),r=uge(e),n=el(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},hge=t=>{const e=t.getProvider("app").getImmediate(),r=el(e,YW).getImmediate();return{getId:()=>sge(r),getToken:i=>lge(r,i)}};function pge(){sa(new Wi(YW,fge,"PUBLIC")),sa(new Wi(dge,hge,"PRIVATE"))}pge();Zn(jW,zO);Zn(jW,zO,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="analytics",mge="firebase_id",gge="origin",vge=60*1e3,yge="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qO="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new e2("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xge={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},aa=new Ic("analytics","Analytics",xge);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wge(t){if(!t.startsWith(qO)){const e=aa.create("invalid-gtag-resource",{gtagURL:t});return Fi.warn(e.message),""}return t}function XW(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function bge(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function _ge(t,e){const r=bge("firebase-js-sdk-policy",{createScriptURL:wge}),n=document.createElement("script"),i=`${qO}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function Sge(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Ege(t,e,r,n,i,a){const o=n[i];try{if(o)await e[o];else{const l=(await XW(r)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(s){Fi.error(s)}t("config",i,a)}async function Age(t,e,r,n,i){try{let a=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const s=await XW(r);for(const l of o){const c=s.find(f=>f.measurementId===l),d=c&&e[c.appId];if(d)a.push(d);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",n,i||{})}catch(a){Fi.error(a)}}function Cge(t,e,r,n){async function i(a,...o){try{if(a==="event"){const[s,l]=o;await Age(t,e,r,s,l)}else if(a==="config"){const[s,l]=o;await Ege(t,e,r,n,s,l)}else if(a==="consent"){const[s,l]=o;t("consent",s,l)}else if(a==="get"){const[s,l,c]=o;t("get",s,l,c)}else if(a==="set"){const[s]=o;t("set",s)}else t(a,...o)}catch(s){Fi.error(s)}}return i}function Tge(t,e,r,n,i){let a=function(...o){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=Cge(a,t,e,r),{gtagCore:a,wrappedGtag:window[i]}}function Nge(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(qO)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ige=30,Pge=1e3;class Oge{constructor(e={},r=Pge){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const QW=new Oge;function jge(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function kge(t){var e;const{appId:r,apiKey:n}=t,i={method:"GET",headers:jge(n)},a=yge.replace("{app-id}",r),o=await fetch(a,i);if(o.status!==200&&o.status!==304){let s="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(s=l.error.message)}catch{}throw aa.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s})}return o.json()}async function Rge(t,e=QW,r){const{appId:n,apiKey:i,measurementId:a}=t.options;if(!n)throw aa.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:n};throw aa.create("no-api-key")}const o=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new Lge;return setTimeout(async()=>{s.abort()},vge),ZW({appId:n,apiKey:i,measurementId:a},o,s,e)}async function ZW(t,{throttleEndTimeMillis:e,backoffCount:r},n,i=QW){var a;const{appId:o,measurementId:s}=t;try{await Dge(n,e)}catch(l){if(s)return Fi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:s};throw l}try{const l=await kge(t);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!Mge(c)){if(i.deleteThrottleMetadata(o),s)return Fi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:s};throw l}const d=Number((a=c==null?void 0:c.customData)===null||a===void 0?void 0:a.httpStatus)===503?pD(r,i.intervalMillis,Ige):pD(r,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:r+1};return i.setThrottleMetadata(o,f),Fi.debug(`Calling attemptFetch again in ${d} millis`),ZW(t,f,n,i)}}function Dge(t,e){return new Promise((r,n)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(r,i);t.addEventListener(()=>{clearTimeout(a),n(aa.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Mge(t){if(!(t instanceof La)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Lge{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function $ge(t,e,r,n,i){if(i&&i.global){t("event",r,n);return}else{const a=await e,o=Object.assign(Object.assign({},n),{send_to:a});t("event",r,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fge(){if(lO())try{await cO()}catch(t){return Fi.warn(aa.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Fi.warn(aa.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Bge(t,e,r,n,i,a,o){var s;const l=Rge(t);l.then(p=>{r[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Fi.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Fi.error(p)),e.push(l);const c=Fge().then(p=>{if(p)return n.getId()}),[d,f]=await Promise.all([l,c]);Nge(a)||_ge(a,d.measurementId),i("js",new Date);const h=(s=o==null?void 0:o.config)!==null&&s!==void 0?s:{};return h[gge]="firebase",h.update=!0,f!=null&&(h[mge]=f),i("config",d.measurementId,h),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uge{constructor(e){this.app=e}_delete(){return delete Qm[this.app.options.appId],Promise.resolve()}}let Qm={},HM=[];const GM={};let lE="dataLayer",Vge="gtag",qM,JW,KM=!1;function zge(){const t=[];if(CV()&&t.push("This is a browser extension environment."),TV()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=aa.create("invalid-analytics-context",{errorInfo:e});Fi.warn(r.message)}}function Wge(t,e,r){zge();const n=t.options.appId;if(!n)throw aa.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Fi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw aa.create("no-api-key");if(Qm[n]!=null)throw aa.create("already-exists",{id:n});if(!KM){Sge(lE);const{wrappedGtag:a,gtagCore:o}=Tge(Qm,HM,GM,lE,Vge);JW=a,qM=o,KM=!0}return Qm[n]=Bge(t,HM,GM,e,qM,lE,r),new Uge(t)}function Hge(t=n0()){t=ri(t);const e=el(t,Gx);return e.isInitialized()?e.getImmediate():Gge(t)}function Gge(t,e={}){const r=el(t,Gx);if(r.isInitialized()){const i=r.getImmediate();if(dc(e,r.getOptions()))return i;throw aa.create("already-initialized")}return r.initialize({options:e})}function qge(t,e,r,n){t=ri(t),$ge(JW,Qm[t.app.options.appId],e,r,n).catch(i=>Fi.error(i))}const YM="@firebase/analytics",XM="0.10.15";function Kge(){sa(new Wi(Gx,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Wge(n,i,r)},"PUBLIC")),sa(new Wi("analytics-internal",t,"PRIVATE")),Zn(YM,XM),Zn(YM,XM,"esm2017");function t(e){try{const r=e.getProvider(Gx).getImmediate();return{logEvent:(n,i,a)=>qge(r,n,i,a)}}catch(r){throw aa.create("interop-component-reg-failed",{reason:r})}}}Kge();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yge="/firebase-messaging-sw.js",Xge="/firebase-cloud-messaging-push-scope",eH="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Qge="https://fcmregistrations.googleapis.com/v1",tH="google.c.a.c_id",Zge="google.c.a.c_l",Jge="google.c.a.ts",eve="google.c.a.e",QM=1e4;var ZM;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(ZM||(ZM={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var $g;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})($g||($g={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function tve(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),i=new Uint8Array(n.length);for(let a=0;a<n.length;++a)i[a]=n.charCodeAt(a);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="fcm_token_details_db",rve=5,JM="fcm_token_object_Store";async function nve(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(a=>a.name).includes(cE))return null;let e=null;return(await t2(cE,rve,{upgrade:async(n,i,a,o)=>{var s;if(i<2||!n.objectStoreNames.contains(JM))return;const l=o.objectStore(JM),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(i===2){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:(s=d.createTime)!==null&&s!==void 0?s:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:hs(d.vapidKey)}}}else if(i===3){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:hs(d.auth),p256dh:hs(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:hs(d.vapidKey)}}}else if(i===4){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:hs(d.auth),p256dh:hs(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:hs(d.vapidKey)}}}}}})).close(),await XS(cE),await XS("fcm_vapid_details_db"),await XS("undefined"),ive(e)?e:null}function ive(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ave="firebase-messaging-database",ove=1,Fg="firebase-messaging-store";let uE=null;function rH(){return uE||(uE=t2(ave,ove,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Fg)}}})),uE}async function sve(t){const e=nH(t),n=await(await rH()).transaction(Fg).objectStore(Fg).get(e);if(n)return n;{const i=await nve(t.appConfig.senderId);if(i)return await KO(t,i),i}}async function KO(t,e){const r=nH(t),i=(await rH()).transaction(Fg,"readwrite");return await i.objectStore(Fg).put(e,r),await i.done,e}function nH({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lve={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},yi=new Ic("messaging","Messaging",lve);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cve(t,e){const r=await XO(t),n=iH(e),i={method:"POST",headers:r,body:JSON.stringify(n)};let a;try{a=await(await fetch(YO(t.appConfig),i)).json()}catch(o){throw yi.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(a.error){const o=a.error.message;throw yi.create("token-subscribe-failed",{errorInfo:o})}if(!a.token)throw yi.create("token-subscribe-no-token");return a.token}async function uve(t,e){const r=await XO(t),n=iH(e.subscriptionOptions),i={method:"PATCH",headers:r,body:JSON.stringify(n)};let a;try{a=await(await fetch(`${YO(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw yi.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(a.error){const o=a.error.message;throw yi.create("token-update-failed",{errorInfo:o})}if(!a.token)throw yi.create("token-update-no-token");return a.token}async function dve(t,e){const n={method:"DELETE",headers:await XO(t)};try{const a=await(await fetch(`${YO(t.appConfig)}/${e}`,n)).json();if(a.error){const o=a.error.message;throw yi.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw yi.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function YO({projectId:t}){return`${Qge}/projects/${t}/registrations`}async function XO({appConfig:t,installations:e}){const r=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function iH({p256dh:t,auth:e,endpoint:r,vapidKey:n}){const i={web:{endpoint:r,auth:e,p256dh:t}};return n!==eH&&(i.web.applicationPubKey=n),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fve=7*24*60*60*1e3;async function hve(t){const e=await mve(t.swRegistration,t.vapidKey),r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:hs(e.getKey("auth")),p256dh:hs(e.getKey("p256dh"))},n=await sve(t.firebaseDependencies);if(n){if(gve(n.subscriptionOptions,r))return Date.now()>=n.createTime+fve?pve(t,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await dve(t.firebaseDependencies,n.token)}catch(i){console.warn(i)}return e6(t.firebaseDependencies,r)}else return e6(t.firebaseDependencies,r)}async function pve(t,e){try{const r=await uve(t.firebaseDependencies,e),n=Object.assign(Object.assign({},e),{token:r,createTime:Date.now()});return await KO(t.firebaseDependencies,n),r}catch(r){throw r}}async function e6(t,e){const n={token:await cve(t,e),createTime:Date.now(),subscriptionOptions:e};return await KO(t,n),n.token}async function mve(t,e){const r=await t.pushManager.getSubscription();return r||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:tve(e)})}function gve(t,e){const r=e.vapidKey===t.vapidKey,n=e.endpoint===t.endpoint,i=e.auth===t.auth,a=e.p256dh===t.p256dh;return r&&n&&i&&a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return vve(e,t),yve(e,t),xve(e,t),e}function vve(t,e){if(!e.notification)return;t.notification={};const r=e.notification.title;r&&(t.notification.title=r);const n=e.notification.body;n&&(t.notification.body=n);const i=e.notification.image;i&&(t.notification.image=i);const a=e.notification.icon;a&&(t.notification.icon=a)}function yve(t,e){e.data&&(t.data=e.data)}function xve(t,e){var r,n,i,a,o;if(!e.fcmOptions&&!(!((r=e.notification)===null||r===void 0)&&r.click_action))return;t.fcmOptions={};const s=(i=(n=e.fcmOptions)===null||n===void 0?void 0:n.link)!==null&&i!==void 0?i:(a=e.notification)===null||a===void 0?void 0:a.click_action;s&&(t.fcmOptions.link=s);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wve(t){return typeof t=="object"&&!!t&&tH in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bve(t){if(!t||!t.options)throw dE("App Configuration Object");if(!t.name)throw dE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:r}=t;for(const n of e)if(!r[n])throw dE(n);return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function dE(t){return yi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ve{constructor(e,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=bve(e);this.firebaseDependencies={app:e,appConfig:i,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sve(t){try{t.swRegistration=await navigator.serviceWorker.register(Yge,{scope:Xge}),t.swRegistration.update().catch(()=>{}),await Eve(t.swRegistration)}catch(e){throw yi.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function Eve(t){return new Promise((e,r)=>{const n=setTimeout(()=>r(new Error(`Service worker not registered after ${QM} ms`)),QM),i=t.installing||t.waiting;t.active?(clearTimeout(n),e()):i?i.onstatechange=a=>{var o;((o=a.target)===null||o===void 0?void 0:o.state)==="activated"&&(i.onstatechange=null,clearTimeout(n),e())}:(clearTimeout(n),r(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ave(t,e){if(!e&&!t.swRegistration&&await Sve(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw yi.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cve(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=eH)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tve(t,e){if(!navigator)throw yi.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw yi.create("permission-blocked");return await Cve(t,e==null?void 0:e.vapidKey),await Ave(t,e==null?void 0:e.serviceWorkerRegistration),hve(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nve(t,e,r){const n=Ive(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[tH],message_name:r[Zge],message_time:r[Jge],message_device_time:Math.floor(Date.now()/1e3)})}function Ive(t){switch(t){case $g.NOTIFICATION_CLICKED:return"notification_open";case $g.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pve(t,e){const r=e.data;if(!r.isFirebaseMessaging)return;t.onMessageHandler&&r.messageType===$g.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(t6(r)):t.onMessageHandler.next(t6(r)));const n=r.data;wve(n)&&n[eve]==="1"&&await Nve(t,r.messageType,n)}const r6="@firebase/messaging",n6="0.12.20";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ove=t=>{const e=new _ve(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>Pve(e,r)),e},jve=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:n=>Tve(e,n)}};function kve(){sa(new Wi("messaging",Ove,"PUBLIC")),sa(new Wi("messaging-internal",jve,"PRIVATE")),Zn(r6,n6),Zn(r6,n6,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aH(){try{await cO()}catch{return!1}return typeof window<"u"&&lO()&&TV()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rve(t=n0()){return aH().then(e=>{if(!e)throw yi.create("unsupported-browser")},e=>{throw yi.create("indexed-db-unsupported")}),el(ri(t),"messaging").getImmediate()}kve();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oH="firebasestorage.googleapis.com",Dve="storageBucket",Mve=2*60*1e3,Lve=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends La{constructor(e,r,n=0){super(fE(e),`Firebase Storage: ${r} (${fE(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,is.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Zo;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Zo||(Zo={}));function fE(t){return"storage/"+t}function $ve(){const t="An unknown error occurred, please check the error payload for server response.";return new is(Zo.UNKNOWN,t)}function Fve(){return new is(Zo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Bve(){return new is(Zo.CANCELED,"User canceled the upload/download.")}function Uve(t){return new is(Zo.INVALID_URL,"Invalid URL '"+t+"'.")}function Vve(t){return new is(Zo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function i6(t){return new is(Zo.INVALID_ARGUMENT,t)}function sH(){return new is(Zo.APP_DELETED,"The Firebase app was deleted.")}function zve(t){return new is(Zo.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=oo.makeFromUrl(e,r)}catch{return new oo(e,"")}if(n.path==="")return n;throw Vve(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(S){S.path_=decodeURIComponent(S.path)}const d="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${d}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},g=r===oH?"(?:storage.googleapis.com|storage.cloud.google.com)":r,v="([^?#]*)",y=new RegExp(`^https?://${g}/${i}/${v}`,"i"),w=[{regex:s,indices:l,postModify:a},{regex:p,indices:m,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<w.length;S++){const E=w[S],T=E.regex.exec(e);if(T){const A=T[E.indices.bucket];let C=T[E.indices.path];C||(C=""),n=new oo(A,C),E.postModify(n);break}}if(n==null)throw Uve(e);return n}}class Wve{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hve(t,e,r){let n=1,i=null,a=null,o=!1,s=0;function l(){return s===2}let c=!1;function d(...v){c||(c=!0,e.apply(null,v))}function f(v){i=setTimeout(()=>{i=null,t(p,l())},v)}function h(){a&&clearTimeout(a)}function p(v,...y){if(c){h();return}if(v){h(),d.call(null,v,...y);return}if(l()||o){h(),d.call(null,v,...y);return}n<64&&(n*=2);let w;s===1?(s=2,w=0):w=(n+Math.random())*1e3,f(w)}let m=!1;function g(v){m||(m=!0,h(),!c&&(i!==null?(v||(s=2),clearTimeout(i),f(0)):v||(s=1)))}return f(0),a=setTimeout(()=>{o=!0,g(!0)},r),g}function Gve(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qve(t){return t!==void 0}function a6(t,e,r,n){if(n<e)throw i6(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw i6(`Invalid value for '${t}'. Expected ${r} or less.`)}function Kve(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var qx;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(qx||(qx={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yve(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xve{constructor(e,r,n,i,a,o,s,l,c,d,f,h=!0,p=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new ky(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const l=s.loaded,c=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===qx.NO_ERROR,l=a.getStatus();if(!s||Yve(l,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===qx.ABORT;n(!1,new ky(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;n(!0,new ky(c,a))})},r=(n,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());qve(l)?a(l):a()}catch(l){o(l)}else if(s!==null){const l=$ve();l.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,l)):o(l)}else if(i.canceled){const l=this.appDelete_?sH():Bve();o(l)}else{const l=Fve();o(l)}};this.canceled_?r(!1,new ky(!1,null,!0)):this.backoffId_=Hve(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Gve(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ky{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function Qve(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Zve(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Jve(t,e){e&&(t["X-Firebase-GMPID"]=e)}function e0e(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function t0e(t,e,r,n,i,a,o=!0,s=!1){const l=Kve(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return Jve(d,e),Qve(d,r),Zve(d,a),e0e(d,n),new Xve(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0e(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function n0e(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,r){this._service=e,r instanceof oo?this._location=r:this._location=oo.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Kx(e,r)}get root(){const e=new oo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return n0e(this._location.path)}get storage(){return this._service}get parent(){const e=r0e(this._location.path);if(e===null)return null;const r=new oo(this._location.bucket,e);return new Kx(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw zve(e)}}function o6(t,e){const r=e==null?void 0:e[Dve];return r==null?null:oo.makeFromBucketSpec(r,t)}function i0e(t,e,r,n={}){t.host=`${e}:${r}`;const i=zh(e);i&&(sO(`https://${t.host}`),Wh("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(t._overrideAuthToken=typeof a=="string"?a:AV(a,t.app.options.projectId))}class a0e{constructor(e,r,n,i,a,o=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=oH,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Mve,this._maxUploadRetryTime=Lve,this._requests=new Set,i!=null?this._bucket=oo.makeFromBucketSpec(i,this._host):this._bucket=o6(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=oo.makeFromBucketSpec(this._url,e):this._bucket=o6(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){a6("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){a6("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(Pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Kx(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new Wve(sH());{const o=t0e(e,this._appId,n,i,r,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const s6="@firebase/storage",l6="0.13.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lH="storage";function o0e(t=n0(),e){t=ri(t),Wh("Storage",!1);const n=el(t,lH).getImmediate({identifier:e}),i=_V("storage");return i&&s0e(n,...i),n}function s0e(t,e,r,n={}){i0e(t,e,r,n)}function l0e(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new a0e(r,n,i,e,sd)}function c0e(){sa(new Wi(lH,l0e,"PUBLIC").setMultipleInstances(!0)),Zn(s6,l6,""),Zn(s6,l6,"esm2017")}c0e();const u0e={BASE_URL:"/taska-loop/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADMIN_EMAILS:"admin@example.com,admin2@example.com",VITE_APP_URL:"https://vanold101.github.io/taska-loop/",VITE_FIREBASE_API_KEY:"AIzaSyAGSZ5xQCSNblC59O3obZY21vKjQqDOGfo",VITE_FIREBASE_APP_ID:"1:792099374659:web:1889e837f8da1a4bb376f6",VITE_FIREBASE_AUTH_DOMAIN:"taska-9ee86.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-9818PGVQ25",VITE_FIREBASE_MESSAGING_SENDER_ID:"792099374659",VITE_FIREBASE_PROJECT_ID:"taska-9ee86",VITE_FIREBASE_STORAGE_BUCKET:"taska-9ee86.firebasestorage.app",VITE_FIREBASE_VAPID_KEY:"BHgGDXZJXOXFG_oYPIXiG3Y_NRQfEHvqhB0xG-GhQrFR9U6mRZ3OqPsvYyYHqeBGki0JgRqNEQTZQ3jHXq5xFrM",VITE_GOOGLE_CLIENT_ID:`792099374659-4eiddlkvqda6hsmccbqcrqa7qhal9s46.apps.googleusercontent.com
`,VITE_GOOGLE_MAPS_API_KEY:"AIzaSyCC9n6z-koJp5qiyOOPRRag3qudrcfOeK8",VITE_STRIPE_PUBLISHABLE_KEY:"pk_test_51Rf1uFPBK57t2ztmUajyqiVzZ5vnx2XBJ4ZTaC7wJlg7GFb2J5TA4w23LNhOfjZUB0ZZXicOKy42pacUQQlzT5aH00UmyRqOSd"},L1=()=>{if(typeof window<"u"){const t=window.location.hostname;return t==="localhost"||t==="127.0.0.1"}return!1},d0e=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID"],cH=d0e.filter(t=>!u0e[t]),QO=cH.length===0;!QO&&L1()&&(console.error("Missing required environment variables:",cH),console.error("Please create a .env file with the required Firebase configuration."),console.error("See env.example for the required variables."));const hE=QO?{apiKey:"AIzaSyAGSZ5xQCSNblC59O3obZY21vKjQqDOGfo",authDomain:"taska-9ee86.firebaseapp.com",projectId:"taska-9ee86",storageBucket:"taska-9ee86.firebasestorage.app",messagingSenderId:"792099374659",appId:"1:792099374659:web:1889e837f8da1a4bb376f6",measurementId:"G-9818PGVQ25"}:null;let hl=null,yc=null,Kr=null,c6=null,f0e=null,h0e=null;if(QO&&hE)try{hl=PV(hE),yc=ehe(hl),Kr=Nme(hl),c6=o0e(hl);const t=L1(),e=!1,r=!1,n=!1;if(t)try{}catch{console.log("Emulator connection failed, using production services")}if(typeof window<"u")try{!t&&hE.measurementId&&hl&&(f0e=Hge(hl)),aH().then(i=>{i&&hl&&(h0e=Rve(hl))})}catch(i){console.log("Analytics/Messaging initialization failed:",i)}}catch(t){console.error("Firebase initialization failed:",t),L1()&&console.error("Please check your Firebase configuration in .env file")}else!L1()&&typeof window<"u"&&console.warn("TaskaLoop: Firebase configuration is being loaded. Please refresh if you continue to see authentication issues.");const uH=_.createContext(void 0),Hp="authUser",p0e=["devansh.home@gmail.com","admin@taskaloop.com","demo@taskaloop.com","test.admin@gmail.com"],u6=t=>t?p0e.includes(t.toLowerCase()):!1,m0e=({children:t})=>{const[e,r]=_.useState(null),[n,i]=_.useState(!0),[a,o]=_.useState(null);_.useEffect(()=>{if(i(!0),!Kr){console.warn("Firebase auth is not initialized. Please check your Firebase configuration."),i(!1);return}const p=gpe(Kr,m=>{if(m){const{uid:g,displayName:v,email:y,photoURL:x}=m,w={id:g,name:v||y||"User",email:y||void 0,avatar:x||`https://ui-avatars.com/api/?name=${v||y||"User"}&background=random`,chorePreferences:[],isAdmin:u6(y||void 0)};r(w),localStorage.setItem(Hp,JSON.stringify(w))}else r(null),localStorage.removeItem(Hp);i(!1)});return()=>p()},[]);const h={user:e,isLoading:n,error:a,loginWithGoogle:async()=>{if(!Kr){o("Authentication is not available. Please check your internet connection and try again.");return}i(!0),o(null);try{const p=new vs;p.addScope("profile"),p.addScope("email"),console.log("Attempting Google sign-in...");const m=await Lpe(Kr,p);console.log("Google sign-in successful:",m.user)}catch(p){console.error("Login error:",p),p.code==="auth/popup-closed-by-user"?o("Sign-in was cancelled. Please try again."):p.code==="auth/popup-blocked"?o("Pop-up was blocked by your browser. Please allow pop-ups and try again."):p.code==="auth/unauthorized-domain"?o("This domain is not authorized for Google sign-in."):p.code==="auth/configuration-not-found"?o("Firebase Authentication is not configured. Please enable it in Firebase Console: https://console.firebase.google.com/project/taska-9ee86/authentication"):o(`Failed to login: ${p.message}`)}finally{i(!1)}},loginWithEmail:async(p,m)=>{if(!Kr)throw o("Authentication is not available. Please check your internet connection and try again."),new Error("Firebase auth not initialized");i(!0),o(null);try{console.log("Attempting email sign-in...");const g=await wW(Kr,p,m);console.log("Email sign-in successful:",g.user)}catch(g){throw console.error("Email login error:",g),g.code==="auth/user-not-found"?o("No account found with this email."):g.code==="auth/wrong-password"?o("Incorrect password."):g.code==="auth/invalid-email"?o("Invalid email address."):o(`Login failed: ${g.message}`),g}finally{i(!1)}},registerWithEmail:async(p,m,g)=>{if(!Kr)throw o("Authentication is not available. Please check your internet connection and try again."),new Error("Firebase auth not initialized");i(!0),o(null);try{console.log("Attempting email registration...");const v=await dpe(Kr,p,m);console.log("Email registration successful:",v.user),await hpe(v.user,{displayName:g})}catch(v){throw console.error("Email registration error:",v),v.code==="auth/email-already-in-use"?o("This email is already in use."):v.code==="auth/invalid-email"?o("Invalid email address."):v.code==="auth/weak-password"?o("Password is too weak."):o(`Registration failed: ${v.message}`),v}finally{i(!1)}},logout:async()=>{if(!Kr){r(null),localStorage.removeItem(Hp);return}i(!0),o(null);try{await vpe(Kr),r(null),localStorage.removeItem(Hp)}catch{o("Failed to logout. Please try again.")}finally{i(!1)}},updateChorePreferences:async p=>{if(e)try{i(!0);const m={...e,chorePreferences:p};r(m),localStorage.setItem(Hp,JSON.stringify(m))}catch(m){console.error("Error updating preferences:",m),o("Failed to update preferences. Please try again.")}finally{i(!1)}},isAdmin:u6(e==null?void 0:e.email)};return u.jsx(uH.Provider,{value:h,children:t})},xr=()=>{const t=_.useContext(uH);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};function vo(t){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vo(t)}function wi(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Je(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function nt(t){Je(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||vo(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Yx(t,e){Je(2,arguments);var r=nt(t),n=wi(e);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function ZO(t,e){Je(2,arguments);var r=nt(t),n=wi(e);if(isNaN(n))return new Date(NaN);if(!n)return r;var i=r.getDate(),a=new Date(r.getTime());a.setMonth(r.getMonth()+n+1,0);var o=a.getDate();return i>=o?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}function dH(t,e){Je(2,arguments);var r=nt(t).getTime(),n=wi(e);return new Date(r+n)}var g0e=36e5;function v0e(t,e){Je(2,arguments);var r=wi(e);return dH(t,r*g0e)}var y0e={};function cd(){return y0e}function fH(t,e){var r,n,i,a,o,s,l,c;Je(1,arguments);var d=cd(),f=wi((r=(n=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=nt(t),p=h.getDay(),m=(p<f?7:0)+p-f;return h.setDate(h.getDate()-m),h.setHours(0,0,0,0),h}function fT(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function d6(t){Je(1,arguments);var e=nt(t);return e.setHours(0,0,0,0),e}function f6(t,e){Je(2,arguments);var r=wi(e),n=r*7;return Yx(t,n)}function $1(t,e){Je(2,arguments);var r=nt(t),n=nt(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}var hH=6e4,pH=36e5;function mH(t,e){Je(2,arguments);var r=d6(t),n=d6(e);return r.getTime()===n.getTime()}function x0e(t){return Je(1,arguments),t instanceof Date||vo(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function w0e(t){if(Je(1,arguments),!x0e(t)&&typeof t!="number")return!1;var e=nt(t);return!isNaN(Number(e))}function b0e(t,e){Je(2,arguments);var r=nt(t),n=nt(e),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function _0e(t,e){return Je(2,arguments),nt(t).getTime()-nt(e).getTime()}var S0e={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},E0e="trunc";function A0e(t){return S0e[E0e]}function C0e(t){Je(1,arguments);var e=nt(t);return e.setHours(23,59,59,999),e}function gH(t){Je(1,arguments);var e=nt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function T0e(t){Je(1,arguments);var e=nt(t);return C0e(e).getTime()===gH(e).getTime()}function N0e(t,e){Je(2,arguments);var r=nt(t),n=nt(e),i=$1(r,n),a=Math.abs(b0e(r,n)),o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*a);var s=$1(r,n)===-i;T0e(nt(t))&&a===1&&$1(t,n)===1&&(s=!1),o=i*(a-Number(s))}return o===0?0:o}function I0e(t,e,r){Je(2,arguments);var n=_0e(t,e)/1e3;return A0e()(n)}function P0e(t){Je(1,arguments);var e=nt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function O0e(t,e){var r,n,i,a,o,s;Je(1,arguments);var l=cd(),c=wi((r=(n=(i=(a=void 0)!==null&&a!==void 0?a:void 0)!==null&&i!==void 0?i:l.weekStartsOn)!==null&&n!==void 0?n:(o=l.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&r!==void 0?r:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=nt(t),f=d.getDay(),h=(f<c?-7:0)+6-(f-c);return d.setDate(d.getDate()+h),d.setHours(23,59,59,999),d}function j0e(t,e){Je(2,arguments);var r=wi(e);return dH(t,-r)}var k0e=864e5;function R0e(t){Je(1,arguments);var e=nt(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),i=r-n;return Math.floor(i/k0e)+1}function Xx(t){Je(1,arguments);var e=1,r=nt(t),n=r.getUTCDay(),i=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}function vH(t){Je(1,arguments);var e=nt(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=Xx(n),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var o=Xx(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function D0e(t){Je(1,arguments);var e=vH(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var n=Xx(r);return n}var M0e=6048e5;function L0e(t){Je(1,arguments);var e=nt(t),r=Xx(e).getTime()-D0e(e).getTime();return Math.round(r/M0e)+1}function Qx(t,e){var r,n,i,a,o,s,l,c;Je(1,arguments);var d=cd(),f=wi((r=(n=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=nt(t),p=h.getUTCDay(),m=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function yH(t,e){var r,n,i,a,o,s,l,c;Je(1,arguments);var d=nt(t),f=d.getUTCFullYear(),h=cd(),p=wi((r=(n=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(f+1,0,p),m.setUTCHours(0,0,0,0);var g=Qx(m,e),v=new Date(0);v.setUTCFullYear(f,0,p),v.setUTCHours(0,0,0,0);var y=Qx(v,e);return d.getTime()>=g.getTime()?f+1:d.getTime()>=y.getTime()?f:f-1}function $0e(t,e){var r,n,i,a,o,s,l,c;Je(1,arguments);var d=cd(),f=wi((r=(n=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=yH(t,e),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var m=Qx(p,e);return m}var F0e=6048e5;function B0e(t,e){Je(1,arguments);var r=nt(t),n=Qx(r,e).getTime()-$0e(r,e).getTime();return Math.round(n/F0e)+1}function Tt(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}var pl={y:function(e,r){var n=e.getUTCFullYear(),i=n>0?n:1-n;return Tt(r==="yy"?i%100:i,r.length)},M:function(e,r){var n=e.getUTCMonth();return r==="M"?String(n+1):Tt(n+1,2)},d:function(e,r){return Tt(e.getUTCDate(),r.length)},a:function(e,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,r){return Tt(e.getUTCHours()%12||12,r.length)},H:function(e,r){return Tt(e.getUTCHours(),r.length)},m:function(e,r){return Tt(e.getUTCMinutes(),r.length)},s:function(e,r){return Tt(e.getUTCSeconds(),r.length)},S:function(e,r){var n=r.length,i=e.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,n-3));return Tt(a,r.length)}},Ad={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},U0e={G:function(e,r,n){var i=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){var i=e.getUTCFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return pl.y(e,r)},Y:function(e,r,n,i){var a=yH(e,i),o=a>0?a:1-a;if(r==="YY"){var s=o%100;return Tt(s,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):Tt(o,r.length)},R:function(e,r){var n=vH(e);return Tt(n,r.length)},u:function(e,r){var n=e.getUTCFullYear();return Tt(n,r.length)},Q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(i);case"QQ":return Tt(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(i);case"qq":return Tt(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,r,n){var i=e.getUTCMonth();switch(r){case"M":case"MM":return pl.M(e,r);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,r,n){var i=e.getUTCMonth();switch(r){case"L":return String(i+1);case"LL":return Tt(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,r,n,i){var a=B0e(e,i);return r==="wo"?n.ordinalNumber(a,{unit:"week"}):Tt(a,r.length)},I:function(e,r,n){var i=L0e(e);return r==="Io"?n.ordinalNumber(i,{unit:"week"}):Tt(i,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):pl.d(e,r)},D:function(e,r,n){var i=R0e(e);return r==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Tt(i,r.length)},E:function(e,r,n){var i=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,r,n,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return Tt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,r,n,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return Tt(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,r,n){var i=e.getUTCDay(),a=i===0?7:i;switch(r){case"i":return String(a);case"ii":return Tt(a,r.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,r,n){var i=e.getUTCHours(),a=i/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,r,n){var i=e.getUTCHours(),a;switch(i===12?a=Ad.noon:i===0?a=Ad.midnight:a=i/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,r,n){var i=e.getUTCHours(),a;switch(i>=17?a=Ad.evening:i>=12?a=Ad.afternoon:i>=4?a=Ad.morning:a=Ad.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return pl.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):pl.H(e,r)},K:function(e,r,n){var i=e.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Tt(i,r.length)},k:function(e,r,n){var i=e.getUTCHours();return i===0&&(i=24),r==="ko"?n.ordinalNumber(i,{unit:"hour"}):Tt(i,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):pl.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):pl.s(e,r)},S:function(e,r){return pl.S(e,r)},X:function(e,r,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return p6(o);case"XXXX":case"XX":return eu(o);case"XXXXX":case"XXX":default:return eu(o,":")}},x:function(e,r,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(r){case"x":return p6(o);case"xxxx":case"xx":return eu(o);case"xxxxx":case"xxx":default:return eu(o,":")}},O:function(e,r,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+h6(o,":");case"OOOO":default:return"GMT"+eu(o,":")}},z:function(e,r,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+h6(o,":");case"zzzz":default:return"GMT"+eu(o,":")}},t:function(e,r,n,i){var a=i._originalDate||e,o=Math.floor(a.getTime()/1e3);return Tt(o,r.length)},T:function(e,r,n,i){var a=i._originalDate||e,o=a.getTime();return Tt(o,r.length)}};function h6(t,e){var r=t>0?"-":"+",n=Math.abs(t),i=Math.floor(n/60),a=n%60;if(a===0)return r+String(i);var o=e;return r+String(i)+o+Tt(a,2)}function p6(t,e){if(t%60===0){var r=t>0?"-":"+";return r+Tt(Math.abs(t)/60,2)}return eu(t,e)}function eu(t,e){var r=e||"",n=t>0?"-":"+",i=Math.abs(t),a=Tt(Math.floor(i/60),2),o=Tt(i%60,2);return n+a+r+o}var m6=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},xH=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},V0e=function(e,r){var n=e.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return m6(e,r);var o;switch(i){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",m6(i,r)).replace("{{time}}",xH(a,r))},z0e={p:xH,P:V0e},W0e=["D","DD"],H0e=["YY","YYYY"];function G0e(t){return W0e.indexOf(t)!==-1}function q0e(t){return H0e.indexOf(t)!==-1}function g6(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var K0e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Y0e=function(e,r,n){var i,a=K0e[e];return typeof a=="string"?i=a:r===1?i=a.one:i=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function pE(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}var X0e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Q0e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Z0e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},J0e={date:pE({formats:X0e,defaultWidth:"full"}),time:pE({formats:Q0e,defaultWidth:"full"}),dateTime:pE({formats:Z0e,defaultWidth:"full"})},eye={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tye=function(e,r,n,i){return eye[e]};function Gp(t){return function(e,r){var n=r!=null&&r.context?String(r.context):"standalone",i;if(n==="formatting"&&t.formattingValues){var a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{var s=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[s]}var c=t.argumentCallback?t.argumentCallback(e):e;return i[c]}}var rye={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nye={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},iye={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},aye={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},oye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lye=function(e,r){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},cye={ordinalNumber:lye,era:Gp({values:rye,defaultWidth:"wide"}),quarter:Gp({values:nye,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Gp({values:iye,defaultWidth:"wide"}),day:Gp({values:aye,defaultWidth:"wide"}),dayPeriod:Gp({values:oye,defaultWidth:"wide",formattingValues:sye,defaultFormattingWidth:"wide"})};function qp(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;var o=a[0],s=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?dye(s,function(f){return f.test(o)}):uye(s,function(f){return f.test(o)}),c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;var d=e.slice(o.length);return{value:c,rest:d}}}function uye(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function dye(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function fye(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var i=n[0],a=e.match(t.parsePattern);if(!a)return null;var o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;var s=e.slice(i.length);return{value:o,rest:s}}}var hye=/^(\d+)(th|st|nd|rd)?/i,pye=/\d+/i,mye={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gye={any:[/^b/i,/^(a|c)/i]},vye={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yye={any:[/1/i,/2/i,/3/i,/4/i]},xye={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wye={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bye={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_ye={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Sye={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Eye={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Aye={ordinalNumber:fye({matchPattern:hye,parsePattern:pye,valueCallback:function(e){return parseInt(e,10)}}),era:qp({matchPatterns:mye,defaultMatchWidth:"wide",parsePatterns:gye,defaultParseWidth:"any"}),quarter:qp({matchPatterns:vye,defaultMatchWidth:"wide",parsePatterns:yye,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:qp({matchPatterns:xye,defaultMatchWidth:"wide",parsePatterns:wye,defaultParseWidth:"any"}),day:qp({matchPatterns:bye,defaultMatchWidth:"wide",parsePatterns:_ye,defaultParseWidth:"any"}),dayPeriod:qp({matchPatterns:Sye,defaultMatchWidth:"any",parsePatterns:Eye,defaultParseWidth:"any"})},JO={code:"en-US",formatDistance:Y0e,formatLong:J0e,formatRelative:tye,localize:cye,match:Aye,options:{weekStartsOn:0,firstWeekContainsDate:1}},Cye=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Tye=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Nye=/^'([^]*?)'?$/,Iye=/''/g,Pye=/[a-zA-Z]/;function er(t,e,r){var n,i,a,o,s,l,c,d,f,h,p,m,g,v,y,x,w,S;Je(2,arguments);var E=String(e),T=cd(),A=(n=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:T.locale)!==null&&n!==void 0?n:JO,C=wi((a=(o=(s=(l=r==null?void 0:r.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(c=r.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&s!==void 0?s:T.firstWeekContainsDate)!==null&&o!==void 0?o:(f=T.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var N=wi((p=(m=(g=(v=r==null?void 0:r.weekStartsOn)!==null&&v!==void 0?v:r==null||(y=r.locale)===null||y===void 0||(x=y.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&g!==void 0?g:T.weekStartsOn)!==null&&m!==void 0?m:(w=T.locale)===null||w===void 0||(S=w.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&p!==void 0?p:0);if(!(N>=0&&N<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!A.localize)throw new RangeError("locale must contain localize property");if(!A.formatLong)throw new RangeError("locale must contain formatLong property");var I=nt(t);if(!w0e(I))throw new RangeError("Invalid time value");var P=fT(I),k=j0e(I,P),O={firstWeekContainsDate:C,weekStartsOn:N,locale:A,_originalDate:I},L=E.match(Tye).map(function(z){var M=z[0];if(M==="p"||M==="P"){var W=z0e[M];return W(z,A.formatLong)}return z}).join("").match(Cye).map(function(z){if(z==="''")return"'";var M=z[0];if(M==="'")return Oye(z);var W=U0e[M];if(W)return!(r!=null&&r.useAdditionalWeekYearTokens)&&q0e(z)&&g6(z,e,String(t)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&G0e(z)&&g6(z,e,String(t)),W(k,z,A.localize,O);if(M.match(Pye))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");return z}).join("");return L}function Oye(t){var e=t.match(Nye);return e?e[1].replace(Iye,"'"):t}function wH(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function jye(t){return wH({},t)}var v6=1440,kye=2520,mE=43200,Rye=86400;function Dye(t,e,r){var n,i;Je(2,arguments);var a=cd(),o=(n=(i=void 0)!==null&&i!==void 0?i:a.locale)!==null&&n!==void 0?n:JO;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var s=$1(t,e);if(isNaN(s))throw new RangeError("Invalid time value");var l=wH(jye(r),{addSuffix:!1,comparison:s}),c,d;s>0?(c=nt(e),d=nt(t)):(c=nt(t),d=nt(e));var f=I0e(d,c),h=(fT(d)-fT(c))/1e3,p=Math.round((f-h)/60),m;if(p<2)return p===0?o.formatDistance("lessThanXMinutes",1,l):o.formatDistance("xMinutes",p,l);if(p<45)return o.formatDistance("xMinutes",p,l);if(p<90)return o.formatDistance("aboutXHours",1,l);if(p<v6){var g=Math.round(p/60);return o.formatDistance("aboutXHours",g,l)}else{if(p<kye)return o.formatDistance("xDays",1,l);if(p<mE){var v=Math.round(p/v6);return o.formatDistance("xDays",v,l)}else if(p<Rye)return m=Math.round(p/mE),o.formatDistance("aboutXMonths",m,l)}if(m=N0e(d,c),m<12){var y=Math.round(p/mE);return o.formatDistance("xMonths",y,l)}else{var x=m%12,w=Math.floor(m/12);return x<3?o.formatDistance("aboutXYears",w,l):x<9?o.formatDistance("overXYears",w,l):o.formatDistance("almostXYears",w+1,l)}}function y6(t,e){return Je(1,arguments),Dye(t,Date.now(),e)}function Mye(t){Je(1,arguments);var e=nt(t),r=e.getDay();return r}function Lye(t,e){Je(2,arguments);var r=nt(t),n=nt(e);return r.getTime()>n.getTime()}function hT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ej(t,e){if(t){if(typeof t=="string")return hT(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hT(t,e):void 0}}function $ye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zx(t,e){return Zx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Zx(t,e)}function ni(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zx(t,e)}function Jx(t){return Jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jx(t)}function bH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bH=function(){return!!t})()}function Fye(t,e){if(e&&(vo(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ye(t)}function an(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bye(t,e){if(vo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _H(t){var e=Bye(t,"string");return vo(e)=="symbol"?e:e+""}function x6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_H(n.key),n)}}function on(t,e,r){return e&&x6(t.prototype,e),r&&x6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lu(t,e,r){return(e=_H(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uye(t,e){Je(2,arguments);var r=nt(t),n=nt(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Hf(t,e){var r;Je(1,arguments);var n=wi((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=Hye(t),a;if(i.date){var o=Gye(i.date,n);a=qye(o.restDateString,o.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var s=a.getTime(),l=0,c;if(i.time&&(l=Kye(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(c=Yye(i.timezone),isNaN(c))return new Date(NaN)}else{var d=new Date(s+l),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(s+l+c)}var Ry={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Vye=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,zye=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Wye=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Hye(t){var e={},r=t.split(Ry.dateTimeDelimiter),n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],Ry.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Ry.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){var i=Ry.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function Gye(t,e){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};var i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:t.slice((n[1]||n[2]).length)}}function qye(t,e){if(e===null)return new Date(NaN);var r=t.match(Vye);if(!r)return new Date(NaN);var n=!!r[4],i=Kp(r[1]),a=Kp(r[2])-1,o=Kp(r[3]),s=Kp(r[4]),l=Kp(r[5])-1;if(n)return e1e(e,s,l)?Xye(e,s,l):new Date(NaN);var c=new Date(0);return!Zye(e,a,o)||!Jye(e,i)?new Date(NaN):(c.setUTCFullYear(e,a,Math.max(i,o)),c)}function Kp(t){return t?parseInt(t):1}function Kye(t){var e=t.match(zye);if(!e)return NaN;var r=gE(e[1]),n=gE(e[2]),i=gE(e[3]);return t1e(r,n,i)?r*pH+n*hH+i*1e3:NaN}function gE(t){return t&&parseFloat(t.replace(",","."))||0}function Yye(t){if(t==="Z")return 0;var e=t.match(Wye);if(!e)return 0;var r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return r1e(n,i)?r*(n*pH+i*hH):NaN}function Xye(t,e,r){var n=new Date(0);n.setUTCFullYear(t,0,4);var i=n.getUTCDay()||7,a=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}var Qye=[31,null,31,30,31,30,31,31,30,31,30,31];function SH(t){return t%400===0||t%4===0&&t%100!==0}function Zye(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(Qye[e]||(SH(t)?29:28))}function Jye(t,e){return e>=1&&e<=(SH(t)?366:365)}function e1e(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function t1e(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function r1e(t,e){return e>=0&&e<=59}function n1e(t,e){Je(2,arguments);var r=wi(e);return ZO(t,-r)}class Qd{constructor(){this.templates=[],this.currentUserId=null}static getInstance(){return Qd.instance||(Qd.instance=new Qd),Qd.instance}setCurrentUser(e){this.currentUserId=e,e?this.loadTemplates():this.templates=[]}getStorageKey(){return this.currentUserId?`recurringItemTemplates_${this.currentUserId}`:"recurringItemTemplates"}loadTemplates(){try{const e=localStorage.getItem(this.getStorageKey());e?this.templates=JSON.parse(e):this.templates=[]}catch(e){console.error("Error loading recurring item templates:",e),this.templates=[]}return this.templates}saveTemplates(){try{localStorage.setItem(this.getStorageKey(),JSON.stringify(this.templates))}catch(e){console.error("Error saving recurring item templates:",e)}}addOrUpdateTemplate(e){const r={...e,id:e.baseItemId||Date.now().toString()+Math.random().toString(36).substring(2),isRecurringTemplate:!0,isRecurring:!0,checked:!1},n=this.templates.findIndex(i=>i.baseItemId===r.baseItemId);return n>=0?this.templates[n]=r:this.templates.push(r),this.saveTemplates(),r}removeTemplate(e){const r=this.templates.length;return this.templates=this.templates.filter(n=>n.id!==e),this.templates.length<r?(this.saveTemplates(),!0):!1}getTemplates(){return[...this.templates]}getDueTemplates(){const e=new Date;return this.templates.filter(r=>{if(!r.nextDueDate)return!1;const n=Hf(r.nextDueDate);return mH(n,e)||Lye(e,n)})}processRecurringItems(e){const r=this.getDueTemplates(),n={itemsToAdd:[],templatesUpdated:[],newTripsToCreate:[]},i=new Date().toISOString();for(const a of r){const o={name:a.name,quantity:a.quantity,unit:a.unit,price:a.averagePrice||a.price,category:a.category,notes:a.notes,checked:!1,baseItemId:a.id,isRecurring:!1,addedBy:a.addedBy||{name:"System",avatar:"https://example.com/system.jpg"}},s=this.findBestTripForItem(a,e);if(s)n.itemsToAdd.push({item:o,targetTripId:s.id});else{const c=this.getSuggestedStore(a);n.itemsToAdd.push({item:o,suggestedStore:c});const d=n.newTripsToCreate.find(f=>f.store===c);d?d.items.push(o):n.newTripsToCreate.push({store:c,items:[o]})}const l={...a,lastAddedToTripDate:i,nextDueDate:pT(i,a.recurrenceFrequency),lastPurchaseDate:i};n.templatesUpdated.push(l)}for(const a of n.templatesUpdated){const o=this.templates.findIndex(s=>s.id===a.id);o>=0&&(this.templates[o]=a)}return this.saveTemplates(),n}findBestTripForItem(e,r){const n=r.filter(i=>i.status==="open"||i.status==="pending");if(n.length===0)return null;if(e.preferredStores&&e.preferredStores.length>0){const i=n.find(a=>e.preferredStores.includes(a.store));if(i)return i}return n[0]}getSuggestedStore(e){if(e.preferredStores&&e.preferredStores.length>0)return e.preferredStores[0];const r=e.name.toLowerCase();return r.includes("organic")||e.category==="Produce"?"Whole Foods":r.includes("bulk")||e.quantity>5?"Costco":"Trader Joe's"}createTemplateFromItem(e,r,n){const i={...e,isRecurringTemplate:!0,isRecurring:!0,recurrenceFrequency:r,nextDueDate:pT(new Date,r),baseItemId:e.id,preferredStores:n,averagePrice:e.price,lastPurchaseDate:new Date().toISOString(),checked:!1};return this.addOrUpdateTemplate(i)}updateTemplatePrice(e,r){const n=this.templates.find(i=>i.id===e);n&&(n.averagePrice?n.averagePrice=(n.averagePrice+r)/2:n.averagePrice=r,n.price=r,this.saveTemplates())}getStatistics(){const e=this.getDueTemplates().length,r=new Map;this.templates.forEach(i=>{const a=`${i.name}-${i.recurrenceFrequency}`,o=r.get(a);o?o.count++:r.set(a,{frequency:i.recurrenceFrequency,count:1})});const n=Array.from(r.entries()).map(([i,a])=>({name:i.split("-")[0],frequency:a.frequency,count:a.count})).sort((i,a)=>a.count-i.count).slice(0,5);return{totalTemplates:this.templates.length,dueToday:e,averageSavings:0,mostFrequentItems:n}}}const Po=Qd.getInstance();function pT(t,e){const r=typeof t=="string"?new Date(t):t;let n;switch(e){case"daily":n=Yx(r,1);break;case"weekly":n=f6(r,1);break;case"bi-weekly":n=f6(r,2);break;case"monthly":n=ZO(r,1);break;default:console.warn("Invalid recurrence frequency:",e),n=Yx(r,7);break}return n.toISOString()}function mT(t,e,r,n,i=!1){console.log("Processing recurring items...");try{Po.loadTemplates();const a=Po.processRecurringItems(t),o={itemsProcessed:0,tripsUpdated:0,newTripsCreated:0,errors:[]};for(const c of a.itemsToAdd)if(c.targetTripId)try{e(c.targetTripId,{...c.item,id:Date.now().toString()+Math.random().toString(36).substring(2)}),o.itemsProcessed++,o.tripsUpdated++}catch(d){o.errors.push(`Failed to add ${c.item.name} to trip: ${d}`)}let s,l;i?(s=[{id:(n==null?void 0:n.id)||"1",name:(n==null?void 0:n.name)||"You",avatar:(n==null?void 0:n.avatar)||"https://ui-avatars.com/api/?name="+encodeURIComponent((n==null?void 0:n.name)||"You")+"&background=random"},{id:"2",name:"Rachel",avatar:"https://ui-avatars.com/api/?name=Rachel&background=ff6b6b"},{id:"3",name:"Dev",avatar:"https://ui-avatars.com/api/?name=Dev&background=4ecdc4"}],l={name:(n==null?void 0:n.name)||"You",avatar:(n==null?void 0:n.avatar)||"https://ui-avatars.com/api/?name="+encodeURIComponent((n==null?void 0:n.name)||"You")+"&background=random"}):(s=[{id:(n==null?void 0:n.id)||"1",name:(n==null?void 0:n.name)||"User",avatar:(n==null?void 0:n.avatar)||"https://ui-avatars.com/api/?name="+encodeURIComponent((n==null?void 0:n.name)||"User")+"&background=random"}],l={name:(n==null?void 0:n.name)||"User",avatar:(n==null?void 0:n.avatar)||"https://ui-avatars.com/api/?name="+encodeURIComponent((n==null?void 0:n.name)||"User")+"&background=random"});for(const c of a.newTripsToCreate)try{const d={store:c.store,date:new Date().toISOString(),time:"10:00",status:"open",items:c.items.map(f=>({...f,id:Date.now().toString()+Math.random().toString(36).substring(2)})),participants:s,shopper:l,notes:"Auto-created for recurring items"};r(d),o.itemsProcessed+=c.items.length,o.newTripsCreated++}catch(d){o.errors.push(`Failed to create trip for ${c.store}: ${d}`)}return console.log("Recurring items processing completed:",o),o}catch(a){return console.error("Error processing recurring items:",a),{itemsProcessed:0,tripsUpdated:0,newTripsCreated:0,errors:[`Processing failed: ${a}`]}}}function i1e(t,e,r,n,i=!1){console.log("Initializing recurring items processing...");const a=t();mT(a,e,r,n,i);const o=()=>{const l=new Date,c=new Date;c.setDate(l.getDate()+1),c.setHours(8,0,0,0);const d=c.getTime()-l.getTime();return setTimeout(()=>{const f=t();mT(f,e,r,n,i),o()},d)},s=o();return()=>{clearTimeout(s)}}const EH=_.createContext(void 0);function a1e({children:t}){const{user:e,isAdmin:r}=xr(),[n,i]=_.useState([]),[a,o]=_.useState([]),[s,l]=_.useState(500),[c,d]=_.useState([]),f=I=>e?`${I}_${e.id}`:I;_.useEffect(()=>{(()=>{try{Po.setCurrentUser((e==null?void 0:e.id)||null);const P=localStorage.getItem(f("tasks"));i(P?JSON.parse(P):[]);const k=localStorage.getItem(f("trips"));o(k?JSON.parse(k):[]);const O=localStorage.getItem(f("budget"));l(O?parseFloat(O):500);const L=Po.loadTemplates();d(L)}catch(P){console.error("Error loading data from localStorage:",P),i([]),o([]),l(500),d([])}})()},[e]),_.useEffect(()=>a.length===0?void 0:i1e(()=>a,(P,k)=>{var O;y(P,{items:[...((O=a.find(L=>L.id===P))==null?void 0:O.items)||[],{...k,id:Date.now().toString()+Math.random().toString(36).substring(2)}]})},P=>{v(P)},e?{id:e.id,name:e.name,avatar:e.avatar}:void 0,r),[a.length,e,r]);const h=(I,P)=>I==="coordinates"&&P&&typeof P=="object"?{lat:P.lat,lng:P.lng}:P;_.useEffect(()=>{try{localStorage.setItem(f("tasks"),JSON.stringify(n,h))}catch(I){console.error("Error saving tasks to localStorage:",I)}},[n,e]),_.useEffect(()=>{try{localStorage.setItem(f("trips"),JSON.stringify(a,h))}catch(I){console.error("Error saving trips to localStorage:",I)}},[a,e]),_.useEffect(()=>{try{localStorage.setItem(f("budget"),JSON.stringify(s))}catch(I){console.error("Error saving budget to localStorage:",I)}},[s,e]);const p=I=>{const P={...I,id:Date.now().toString()};i(k=>[...k,P])},m=(I,P)=>{i(k=>k.map(O=>O.id===I?{...O,...P}:O))},g=I=>{i(P=>P.filter(k=>k.id!==I))},v=I=>{const P={...I,id:Date.now().toString(),status:"open",items:I.items||[]};o(k=>[...k,P])},y=(I,P)=>{o(k=>k.map(O=>O.id===I?{...O,...P}:O))},x=I=>{o(P=>P.filter(k=>k.id!==I))},w=I=>{const P=Po.addOrUpdateTemplate(I);d(k=>{const O=k.findIndex(L=>L.baseItemId===P.baseItemId);if(O>=0){const L=[...k];return L[O]=P,L}else return[...k,P]})},S=(I,P)=>{const k=c.find(O=>O.id===I);if(k){const O={...k,...P};Po.addOrUpdateTemplate(O),d(L=>L.map(z=>z.id===I?O:z))}},E=I=>{Po.removeTemplate(I)&&d(k=>k.filter(O=>O.id!==I))},T=()=>{const I=mT(a,(k,O)=>{var L;y(k,{items:[...((L=a.find(z=>z.id===k))==null?void 0:L.items)||[],{...O,id:Date.now().toString()+Math.random().toString(36).substring(2)}]})},k=>{v(k)},e?{id:e.id,name:e.name,avatar:e.avatar}:void 0,r),P=Po.loadTemplates();return d(P),I},A=(I,P,k)=>{const O=Po.createTemplateFromItem(I,P,k);d(L=>[...L,O])},C=()=>{console.log("Syncing tasks with trips...");const I=n.filter(O=>O.location&&O.coordinates&&O.coordinates.lat!==0&&O.coordinates.lng!==0&&!O.completed&&(O.location.toLowerCase().includes("store")||O.location.toLowerCase().includes("market")||O.location.toLowerCase().includes("shop")||O.location.toLowerCase().includes("mall")||O.location.toLowerCase().includes("walmart")||O.location.toLowerCase().includes("target")||O.location.toLowerCase().includes("kroger")||O.location.toLowerCase().includes("costco")||O.location.toLowerCase().includes("trader")||O.location.toLowerCase().includes("whole foods"))),P={};I.forEach(O=>{const L=O.location.toLowerCase().trim();P[L]||(P[L]=[]),P[L].push(O)});let k={tasksProcessed:0,tripsCreated:0,tripsUpdated:0};return Object.entries(P).forEach(([O,L])=>{const z=a.find(M=>M.status==="open"&&M.store.toLowerCase().includes(O.split(" ")[0]));if(z&&L.length>0){const M=L.map(W=>({id:`task_${W.id}`,name:W.title,quantity:1,checked:W.completed||!1,category:"Task",notes:`From task: ${W.notes||""}`,addedBy:{name:(e==null?void 0:e.name)||"User",avatar:(e==null?void 0:e.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((e==null?void 0:e.name)||"User")}&background=random`}}));y(z.id,{items:[...z.items,...M]}),k.tripsUpdated++,k.tasksProcessed+=L.length}else if(L.length>0){const M=L[0];if(M.coordinates&&M.coordinates.lat!==0&&M.coordinates.lng!==0){const W=L.map(B=>({id:`task_${B.id}`,name:B.title,quantity:1,checked:B.completed||!1,category:"Task",notes:`From task: ${B.notes||""}`,addedBy:{name:(e==null?void 0:e.name)||"User",avatar:(e==null?void 0:e.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((e==null?void 0:e.name)||"User")}&background=random`}})),$={store:M.location,date:new Date().toISOString(),time:"12:00",items:W,notes:`Auto-created from ${L.length} task(s)`,eta:"30 minutes",coordinates:M.coordinates,participants:[{id:(e==null?void 0:e.id)||"1",name:(e==null?void 0:e.name)||"User",avatar:(e==null?void 0:e.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((e==null?void 0:e.name)||"User")}&background=random`}],shopper:{name:(e==null?void 0:e.name)||"User",avatar:(e==null?void 0:e.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((e==null?void 0:e.name)||"User")}&background=random`}};v($),k.tripsCreated++,k.tasksProcessed+=L.length}}}),k},N=I=>{l(I)};return u.jsx(EH.Provider,{value:{tasks:n,trips:a,addTask:p,updateTask:m,deleteTask:g,addTrip:v,updateTrip:y,deleteTrip:x,syncTasksWithTrips:C,budget:s,updateBudget:N,recurringTemplates:c,addRecurringTemplate:w,updateRecurringTemplate:S,removeRecurringTemplate:E,processRecurringItemsNow:T,createRecurringFromItem:A},children:t})}function yo(){const t=_.useContext(EH);if(t===void 0)throw new Error("useTaskContext must be used within a TaskProvider");return t}const o1e={free:{maxActiveTrips:10,maxActiveTasks:50,maxPantryItems:100,maxExpensesPerMonth:0,maxHouseholdMembers:1,maxReceiptScansPerMonth:0,maxSavedLocations:5,hasReceiptScanning:!1,hasBarcodeScanning:!1,hasAIFeatures:!1,hasRecurringItems:!1,hasAdvancedExpenseSplitting:!1,hasCalendarIntegration:!1,hasExportFeatures:!1,hasBulkOperations:!1,hasAdvancedAnalytics:!1,hasSmartHomeIntegration:!1,hasPrioritySupport:!1},plus:{maxActiveTrips:1/0,maxActiveTasks:1/0,maxPantryItems:1/0,maxExpensesPerMonth:1/0,maxHouseholdMembers:5,maxReceiptScansPerMonth:0,maxSavedLocations:1/0,hasReceiptScanning:!1,hasBarcodeScanning:!0,hasAIFeatures:!0,hasRecurringItems:!0,hasAdvancedExpenseSplitting:!0,hasCalendarIntegration:!0,hasExportFeatures:!0,hasBulkOperations:!0,hasAdvancedAnalytics:!1,hasSmartHomeIntegration:!1,hasPrioritySupport:!0},premium:{maxActiveTrips:1/0,maxActiveTasks:1/0,maxPantryItems:1/0,maxExpensesPerMonth:1/0,maxHouseholdMembers:1/0,maxReceiptScansPerMonth:1/0,maxSavedLocations:1/0,hasReceiptScanning:!0,hasBarcodeScanning:!0,hasAIFeatures:!0,hasRecurringItems:!0,hasAdvancedExpenseSplitting:!0,hasCalendarIntegration:!0,hasExportFeatures:!0,hasBulkOperations:!0,hasAdvancedAnalytics:!0,hasSmartHomeIntegration:!0,hasPrioritySupport:!0}},AH=_.createContext(void 0);function s1e({children:t}){const{user:e,isAdmin:r}=xr(),[n,i]=_.useState("free"),a=f=>e?`${f}_${e.id}`:f;_.useEffect(()=>{e&&!r?(i("free"),localStorage.setItem(a("subscription_tier"),"free")):r&&i("premium")},[e,r]),_.useEffect(()=>{e&&!r&&localStorage.setItem(a("subscription_tier"),n)},[n,e,r]);const o=o1e[n],d={currentTier:r?"premium":n,limits:o,isAdmin:r,upgradeTier:f=>{r||i(f)},checkLimit:(f,h)=>{const p=o[f];return typeof p=="boolean"?p:typeof p=="number"&&h!==void 0?h<p:!0},showUpgradePrompt:f=>{console.log(`Upgrade needed for: ${f}`)}};return u.jsx(AH.Provider,{value:d,children:t})}function h0(){const t=_.useContext(AH);if(t===void 0)throw new Error("useSubscription must be used within a SubscriptionProvider");return t}const CH=_.createContext(void 0),tj=()=>{const t=_.useContext(CH);if(!t)throw new Error("useTutorial must be used within a TutorialProvider");return t},l1e=({children:t})=>{const{user:e}=xr(),[r,n]=_.useState(!1),[i,a]=_.useState(0),o=7;_.useEffect(()=>{e&&(localStorage.getItem(`tutorial_completed_${e.id}`)||setTimeout(()=>{n(!0)},1e3))},[e]);const s=()=>{i<o-1?a(p=>p+1):f()},l=()=>{i>0&&a(p=>p-1)},c=()=>{n(!1),a(0),e&&localStorage.setItem(`tutorial_completed_${e.id}`,"true")},d=()=>{n(!0),a(0)},f=()=>{n(!1),a(0),e&&localStorage.setItem(`tutorial_completed_${e.id}`,"true")},h=i/(o-1)*100;return u.jsx(CH.Provider,{value:{isActive:r,currentStep:i,totalSteps:o,nextStep:s,prevStep:l,skipTutorial:c,startTutorial:d,completeTutorial:f,progress:h},children:t})},TH=_.createContext(void 0);function c1e({children:t}){const{user:e}=xr(),[r,n]=_.useState([]),i=f=>e?`${f}_${e.id}`:f;_.useEffect(()=>{const f=localStorage.getItem(i("trips"));n(f?JSON.parse(f):[])},[e]),_.useEffect(()=>{e&&localStorage.setItem(i("trips"),JSON.stringify(r))},[r,e]);const a=f=>{const h={...f,id:Date.now().toString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};n(p=>[...p,h])},o=(f,h)=>{n(p=>p.map(m=>m.id===f?{...m,...h,updatedAt:new Date().toISOString()}:m))},s=f=>{n(h=>h.filter(p=>p.id!==f))},l=(f,h)=>{n(p=>p.map(m=>{if(m.id===f){const g=h.map(y=>({...y,id:Date.now().toString(),addedAt:new Date().toISOString()})),v=m.items.concat(g).reduce((y,x)=>y+(x.price||0)*x.quantity,0);return{...m,items:[...m.items,...g],updatedAt:new Date().toISOString(),totalAmount:Number(v.toFixed(2))}}return m}))},c=(f,h)=>{n(p=>p.map(m=>{if(m.id===f){const g=m.items.filter(y=>y.id!==h),v=g.reduce((y,x)=>y+(x.price||0)*x.quantity,0);return{...m,items:g,updatedAt:new Date().toISOString(),totalAmount:Number(v.toFixed(2))}}return m}))},d=(f,h,p)=>{n(m=>m.map(g=>{if(g.id===f){const v=g.items.map(x=>x.id===h?{...x,...p}:x),y=v.reduce((x,w)=>x+(w.price||0)*w.quantity,0);return{...g,items:v,updatedAt:new Date().toISOString(),totalAmount:Number(y.toFixed(2))}}return g}))};return u.jsx(TH.Provider,{value:{trips:r,addTrip:a,updateTrip:o,deleteTrip:s,addItemToTrip:l,removeItemFromTrip:c,updateTripItem:d},children:t})}function u1e(){const t=_.useContext(TH);if(t===void 0)throw new Error("useTrips must be used within a TripsProvider");return t}class Zd{static getInstance(){return Zd.instance||(Zd.instance=new Zd),Zd.instance}async sendHouseholdInvite(e){const r=`You've been invited to join "${e.householdName}" on TaskaLoop! 
    
TaskaLoop helps households manage shopping trips, split expenses, and coordinate tasks together. Join us to:
• Share shopping lists and coordinate trips
• Split expenses fairly and track who owes what
• Manage household tasks and chores
• Stay organized together

Click the link below to download TaskaLoop and accept the invitation.`,n={fromUserId:e.fromUser.id,fromUserName:e.fromUser.name,fromUserEmail:e.fromUser.email||"",toEmail:e.email,type:"household",status:"pending",message:e.message||r,data:{householdId:e.householdId,householdName:e.householdName},createdAt:new Date().toISOString(),expiresAt:new Date(Date.now()+7*24*60*60*1e3).toISOString()};return this.saveInvitation(n)}async sendExpenseSplitInvite(e){const r=`${e.fromUser.name} is asking you to split an expense of $${e.expenseAmount.toFixed(2)} for "${e.expenseDescription}".

You can download TaskaLoop to easily split expenses, track who owes what, and manage shared costs with your friends and family.

Payment details:
• Amount: $${e.expenseAmount.toFixed(2)}
• Description: ${e.expenseDescription}
• Your share: $${(e.expenseAmount/2).toFixed(2)} (split equally)

Download TaskaLoop to pay and track shared expenses easily!`,n={fromUserId:e.fromUser.id,fromUserName:e.fromUser.name,fromUserEmail:e.fromUser.email||"",toEmail:e.email,type:"expense_split",status:"pending",message:e.message||r,data:{expenseAmount:e.expenseAmount,expenseDescription:e.expenseDescription,tripId:e.tripId,tripName:e.tripName},createdAt:new Date().toISOString(),expiresAt:new Date(Date.now()+30*24*60*60*1e3).toISOString()};return this.saveInvitation(n)}async sendAppDownloadInvite(e){const r=`${e.fromUser.name} invited you to try TaskaLoop!

TaskaLoop is the easiest way to manage your household:
• Create and share shopping lists
• Split expenses fairly with automatic calculations
• Coordinate trips and tasks with family/roommates
• Track who owes what and settle up easily

Join thousands of households who stay organized with TaskaLoop!

Download the app to get started:`,n={fromUserId:e.fromUser.id,fromUserName:e.fromUser.name,fromUserEmail:e.fromUser.email||"",toEmail:e.email,type:"app_download",status:"pending",message:e.message||r,createdAt:new Date().toISOString(),expiresAt:new Date(Date.now()+90*24*60*60*1e3).toISOString()};return this.saveInvitation(n)}async sendTripInvite(e){const r=`${e.fromUser.name} invited you to join their shopping trip to ${e.tripName}!

Join us on TaskaLoop to:
• See the shared shopping list
• Add items you need
• Split costs fairly when we're done
• Coordinate timing and logistics

TaskaLoop makes group shopping trips easy and organized. Download the app to join the trip!

Trip Details:
• Store: ${e.tripName}
• Organizer: ${e.fromUser.name}`,n={fromUserId:e.fromUser.id,fromUserName:e.fromUser.name,fromUserEmail:e.fromUser.email||"",toEmail:e.email,type:"trip_invite",status:"pending",message:e.message||r,data:{tripId:e.tripId,tripName:e.tripName},createdAt:new Date().toISOString(),expiresAt:new Date(Date.now()+7*24*60*60*1e3).toISOString()};return this.saveInvitation(n)}async saveInvitation(e){const r=Date.now().toString()+Math.random().toString(36).substring(2),n={...e,id:r};return this.saveInvitationLocally(n),this.simulateEmailSending(n),n}saveInvitationLocally(e){try{const r=this.getLocalInvitations();r.push(e),localStorage.setItem("taska_invitations",JSON.stringify(r))}catch(r){console.error("Error saving invitation locally:",r)}}getLocalInvitations(){try{const e=localStorage.getItem("taska_invitations");return e?JSON.parse(e):[]}catch(e){return console.error("Error getting local invitations:",e),[]}}simulateEmailSending(e){console.log("📧 INVITATION SENT (Demo Mode):"),console.log("📧 To:",e.toEmail),console.log("📧 From:",e.fromUserName),console.log("📧 Type:",e.type),console.log("📧 ID:",e.id)}updateInvitationLocally(e,r){try{const n=this.getLocalInvitations(),i=n.findIndex(a=>a.id===e);i!==-1&&(n[i]={...n[i],...r},localStorage.setItem("taska_invitations",JSON.stringify(n)))}catch(n){console.error("Error updating invitation locally:",n)}}async acceptInvitation(e){this.updateInvitationLocally(e,{status:"accepted",respondedAt:new Date().toISOString()})}async rejectInvitation(e){this.updateInvitationLocally(e,{status:"rejected",respondedAt:new Date().toISOString()})}async getSentInvitations(e){try{return this.getLocalInvitations().filter(n=>n.fromUserId===e)}catch(r){return console.error("Error getting sent invitations:",r),[]}}async getReceivedInvitations(e){try{return this.getLocalInvitations().filter(n=>n.toEmail===e)}catch(r){return console.error("Error getting received invitations:",r),[]}}}const Gf=Zd.getInstance(),NH=_.createContext(void 0);function d1e({children:t}){const{user:e}=xr(),[r,n]=_.useState([]),[i,a]=_.useState(null),[o,s]=_.useState(!0),l=m=>e?`household_${e.id}_${m}`:`household_${m}`;_.useEffect(()=>{(()=>{try{if(!e){n([]),a(null),s(!1);return}const g={id:e.id,name:`${e.name}'s Household`,ownerId:e.id};a(g);const v=localStorage.getItem(l("members"));if(v)n(JSON.parse(v));else{const y={id:e.id,name:e.name,email:e.email,avatar:e.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(e.name)}&background=random`,role:"owner",joinedAt:new Date().toISOString()};n([y]),localStorage.setItem(l("members"),JSON.stringify([y]))}}catch(g){console.error("Error loading household data:",g),n([])}finally{s(!1)}})()},[e]),_.useEffect(()=>{if(e&&r.length>0)try{localStorage.setItem(l("members"),JSON.stringify(r))}catch(m){console.error("Error saving household members:",m)}},[r,e]);const c=m=>{const g={...m,id:Date.now().toString()+Math.random().toString(36).substring(2),joinedAt:new Date().toISOString()};n(v=>[...v,g])},d=m=>{m!==(e==null?void 0:e.id)&&n(g=>g.filter(v=>v.id!==m))},f=(m,g)=>{n(v=>v.map(y=>y.id===m?{...y,...g}:y))},h=async(m,g)=>{if(!e||!i)throw new Error("User or household not found");try{await Gf.sendHouseholdInvite({email:m,message:g,householdId:i.id,householdName:i.name,fromUser:{id:e.id,name:e.name,email:e.email}})}catch(v){throw console.error("Error sending household invite:",v),v}},p=async(m,g,v,y,x)=>{if(!e)throw new Error("User not found");try{await Gf.sendExpenseSplitInvite({email:m,expenseAmount:g,expenseDescription:v,tripId:y,tripName:x,fromUser:{id:e.id,name:e.name,email:e.email}})}catch(w){throw console.error("Error sending expense split invite:",w),w}};return u.jsx(NH.Provider,{value:{members:r,currentHousehold:i,addMember:c,removeMember:d,updateMember:f,inviteMember:h,inviteForExpense:p,isLoading:o},children:t})}function rj(){const t=_.useContext(NH);if(t===void 0)throw new Error("useHousehold must be used within a HouseholdProvider");return t}const f1e=_.createContext(void 0),h1e=({children:t})=>{const[e,r]=_.useState([{id:"1",type:"info",title:"Welcome to Taska-Loop",message:"Your household management companion. Start by creating a shopping trip!",timestamp:new Date,read:!1,actionText:"New Trip",actionUrl:"/trips"}]);_.useEffect(()=>{const l=localStorage.getItem("notifications");if(l)try{const d=JSON.parse(l).map(f=>({...f,timestamp:new Date(f.timestamp)}));r(d)}catch(c){console.error("Failed to parse stored notifications:",c)}},[]),_.useEffect(()=>{localStorage.setItem("notifications",JSON.stringify(e))},[e]);const n=l=>{const c={...l,id:Date.now().toString(),timestamp:new Date};r(d=>[c,...d])},i=l=>{r(c=>c.filter(d=>d.id!==l))},a=l=>{r(c=>c.map(d=>d.id===l?{...d,read:!0}:d))},o=()=>{r(l=>l.map(c=>({...c,read:!0})))},s=()=>{r([])};return u.jsx(f1e.Provider,{value:{notifications:e,addNotification:n,removeNotification:i,markAsRead:a,markAllAsRead:o,clearAll:s},children:t})},IH=_.createContext(void 0),p1e=({children:t})=>{const{user:e,isAdmin:r}=xr(),[n,i]=_.useState([]),a=()=>e?`pantry_${e.id}`:"pantry_default";_.useEffect(()=>{if(e){const c=a(),d=localStorage.getItem(c);if(d)try{i(JSON.parse(d))}catch(f){console.error("Error loading pantry items:",f),i([]),localStorage.setItem(c,JSON.stringify([]))}else i([]),localStorage.setItem(c,JSON.stringify([]))}else i([])},[e]),_.useEffect(()=>{if(e){const c=a();localStorage.setItem(c,JSON.stringify(n))}},[n,e]);const o=c=>{const d={...c,id:Date.now().toString()+Math.random().toString(36).substring(2)};i(f=>[...f,d])},s=(c,d)=>{i(f=>f.map(h=>h.id===c?{...h,...d}:h))},l=c=>{i(d=>d.filter(f=>f.id!==c))};return u.jsx(IH.Provider,{value:{pantryItems:n,addPantryItem:o,updatePantryItem:s,removePantryItem:l},children:t})},nj=()=>{const t=_.useContext(IH);if(t===void 0)throw new Error("usePantry must be used within a PantryProvider");return t};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var m1e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1e=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),xe=(t,e)=>{const r=_.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:s="",children:l,...c},d)=>_.createElement("svg",{ref:d,...m1e,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${g1e(t)}`,s].join(" "),...c},[...e.map(([f,h])=>_.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=xe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1e=xe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1e=xe("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1e=xe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1e=xe("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=xe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1e=xe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=xe("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=xe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=xe("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=xe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=xe("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1e=xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=xe("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1e=xe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1e=xe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1e=xe("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1e=xe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=xe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=xe("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=xe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=xe("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1e=xe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1e=xe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1e=xe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=xe("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1e=xe("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1e=xe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1e=xe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=xe("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=xe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=xe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1e=xe("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1e=xe("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1e=xe("ListPlus",[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=xe("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1e=xe("LockKeyhole",[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=xe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1e=xe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1e=xe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=xe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=xe("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1e=xe("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=xe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=xe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1e=xe("PersonStanding",[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["path",{d:"m9 20 3-6 3 6",key:"se2kox"}],["path",{d:"m6 8 6 2 6-2",key:"4o3us4"}],["path",{d:"M12 10v4",key:"1kjpxc"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1e=xe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1e=xe("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=xe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=xe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=xe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1e=xe("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=xe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=xe("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=xe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1e=xe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=xe("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=xe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=xe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=xe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1e=xe("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1e=xe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1e=xe("SplitSquareVertical",[["path",{d:"M5 8V5c0-1 1-2 2-2h10c1 0 2 1 2 2v3",key:"1pi83i"}],["path",{d:"M19 16v3c0 1-1 2-2 2H7c-1 0-2-1-2-2v-3",key:"ido5k7"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=xe("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=xe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=xe("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=xe("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=xe("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1e=xe("TramFront",[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h0",key:"q9eq1f"}],["path",{d:"M16 15h0",key:"pzrbjg"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=xe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=xe("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=xe("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=xe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),E6=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,A6=pt,g0=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return A6(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(c=>{const d=r==null?void 0:r[c],f=a==null?void 0:a[c];if(d===null)return null;const h=E6(d)||E6(f);return i[c][h]}),s=r&&Object.entries(r).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(m=>{let[g,v]=m;return Array.isArray(v)?v.includes({...a,...s}[g]):{...a,...s}[g]===v})?[...c,f,h]:c},[]);return A6(t,o,l,r==null?void 0:r.class,r==null?void 0:r.className)},F1=g0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),q=_.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,withHaptics:i=!1,onClick:a,...o},s)=>{const l=n?$s:"button",c=d=>{i&&(i===!0||i==="light"?ms.light():i==="medium"?ms.medium():i==="heavy"?ms.heavy():i==="success"?ms.success():i==="error"?ms.error():i==="warning"&&ms.warning()),a&&a(d)};return u.jsx(l,{className:Pe(F1({variant:e,size:r,className:t})),ref:s,onClick:c,...o})});q.displayName="Button";const Ne=_.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Pe("rounded-lg border border-slate-200/30 dark:border-slate-700/30 bg-white/80 dark:bg-slate-800/90 backdrop-blur-sm text-card-foreground shadow-md dark:shadow-lg",t),...e}));Ne.displayName="Card";const Fe=_.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Pe("flex flex-col space-y-1.5 p-6",t),...e}));Fe.displayName="CardHeader";const Be=_.forwardRef(({className:t,...e},r)=>u.jsx("h3",{ref:r,className:Pe("text-2xl font-semibold leading-none tracking-tight",t),...e}));Be.displayName="CardTitle";const st=_.forwardRef(({className:t,...e},r)=>u.jsx("p",{ref:r,className:Pe("text-sm text-muted-foreground",t),...e}));st.displayName="CardDescription";const Ie=_.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Pe("p-6 pt-0",t),...e}));Ie.displayName="CardContent";const hr=_.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Pe("flex items-center p-6 pt-0",t),...e}));hr.displayName="CardFooter";const Y1e=g0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600"}},defaultVariants:{variant:"default"}});function lt({className:t,variant:e,...r}){return u.jsx("div",{className:Pe(Y1e({variant:e}),t),...r})}const X1e=()=>{const{user:t,logout:e,loginWithEmail:r,loginWithGoogle:n}=xr(),[i,a]=_.useState(!1),[o,s]=_.useState(null),[l,c]=_.useState(!1);return null},$H=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),E2=_.createContext({}),A2=_.createContext(null),C2=typeof document<"u",uj=C2?_.useLayoutEffect:_.useEffect,FH=_.createContext({strict:!1}),dj=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Q1e="framerAppearId",BH="data-"+dj(Q1e);function Z1e(t,e,r,n){const{visualElement:i}=_.useContext(E2),a=_.useContext(FH),o=_.useContext(A2),s=_.useContext($H).reducedMotion,l=_.useRef();n=n||a.renderer,!l.current&&n&&(l.current=n(t,{visualState:e,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:s}));const c=l.current;_.useInsertionEffect(()=>{c&&c.update(r,o)});const d=_.useRef(!!(r[BH]&&!window.HandoffComplete));return uj(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),_.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function Jd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function J1e(t,e,r){return _.useCallback(n=>{n&&t.mount&&t.mount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Jd(r)&&(r.current=n))},[e])}function Ug(t){return typeof t=="string"||Array.isArray(t)}function T2(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const fj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hj=["initial",...fj];function N2(t){return T2(t.animate)||hj.some(e=>Ug(t[e]))}function UH(t){return!!(N2(t)||t.variants)}function exe(t,e){if(N2(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Ug(r)?r:void 0,animate:Ug(n)?n:void 0}}return t.inherit!==!1?e:{}}function txe(t){const{initial:e,animate:r}=exe(t,_.useContext(E2));return _.useMemo(()=>({initial:e,animate:r}),[C6(e),C6(r)])}function C6(t){return Array.isArray(t)?t.join(" "):t}const T6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vg={};for(const t in T6)Vg[t]={isEnabled:e=>T6[t].some(r=>!!e[r])};function rxe(t){for(const e in t)Vg[e]={...Vg[e],...t[e]}}const pj=_.createContext({}),VH=_.createContext({}),nxe=Symbol.for("motionComponentSymbol");function ixe({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:i}){t&&rxe(t);function a(s,l){let c;const d={..._.useContext($H),...s,layoutId:axe(s)},{isStatic:f}=d,h=txe(s),p=n(s,f);if(!f&&C2){h.visualElement=Z1e(i,p,d,e);const m=_.useContext(VH),g=_.useContext(FH).strict;h.visualElement&&(c=h.visualElement.loadFeatures(d,g,t,m))}return _.createElement(E2.Provider,{value:h},c&&h.visualElement?_.createElement(c,{visualElement:h.visualElement,...d}):null,r(i,s,J1e(p,h.visualElement,l),p,f,h.visualElement))}const o=_.forwardRef(a);return o[nxe]=i,o}function axe({layoutId:t}){const e=_.useContext(pj).id;return e&&t!==void 0?e+"-"+t:t}function oxe(t){function e(n,i={}){return ixe(t(n,i))}if(typeof Proxy>"u")return e;const r=new Map;return new Proxy(e,{get:(n,i)=>(r.has(i)||r.set(i,e(i)),r.get(i))})}const sxe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mj(t){return typeof t!="string"||t.includes("-")?!1:!!(sxe.indexOf(t)>-1||/[A-Z]/.test(t))}const nw={};function lxe(t){Object.assign(nw,t)}const v0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ud=new Set(v0);function zH(t,{layout:e,layoutId:r}){return ud.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!nw[t]||t==="opacity")}const Gi=t=>!!(t&&t.getVelocity),cxe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uxe=v0.length;function dxe(t,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},n,i){let a="";for(let o=0;o<uxe;o++){const s=v0[o];if(t[s]!==void 0){const l=cxe[s]||s;a+=`${l}(${t[s]}) `}}return e&&!t.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(t,n?"":a):r&&n&&(a="none"),a}const WH=t=>e=>typeof e=="string"&&e.startsWith(t),HH=WH("--"),ET=WH("var(--"),fxe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,hxe=(t,e)=>e&&typeof t=="number"?e.transform(t):t,xc=(t,e,r)=>Math.min(Math.max(r,t),e),dd={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Jm={...dd,transform:t=>xc(0,1,t)},Dy={...dd,default:1},eg=t=>Math.round(t*1e5)/1e5,I2=/(-)?([\d]*\.?[\d])+/g,GH=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,pxe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function y0(t){return typeof t=="string"}const x0=t=>({test:e=>y0(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),vl=x0("deg"),Wo=x0("%"),We=x0("px"),mxe=x0("vh"),gxe=x0("vw"),N6={...Wo,parse:t=>Wo.parse(t)/100,transform:t=>Wo.transform(t*100)},I6={...dd,transform:Math.round},qH={borderWidth:We,borderTopWidth:We,borderRightWidth:We,borderBottomWidth:We,borderLeftWidth:We,borderRadius:We,radius:We,borderTopLeftRadius:We,borderTopRightRadius:We,borderBottomRightRadius:We,borderBottomLeftRadius:We,width:We,maxWidth:We,height:We,maxHeight:We,size:We,top:We,right:We,bottom:We,left:We,padding:We,paddingTop:We,paddingRight:We,paddingBottom:We,paddingLeft:We,margin:We,marginTop:We,marginRight:We,marginBottom:We,marginLeft:We,rotate:vl,rotateX:vl,rotateY:vl,rotateZ:vl,scale:Dy,scaleX:Dy,scaleY:Dy,scaleZ:Dy,skew:vl,skewX:vl,skewY:vl,distance:We,translateX:We,translateY:We,translateZ:We,x:We,y:We,z:We,perspective:We,transformPerspective:We,opacity:Jm,originX:N6,originY:N6,originZ:We,zIndex:I6,fillOpacity:Jm,strokeOpacity:Jm,numOctaves:I6};function gj(t,e,r,n){const{style:i,vars:a,transform:o,transformOrigin:s}=t;let l=!1,c=!1,d=!0;for(const f in e){const h=e[f];if(HH(f)){a[f]=h;continue}const p=qH[f],m=hxe(h,p);if(ud.has(f)){if(l=!0,o[f]=m,!d)continue;h!==(p.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,s[f]=m):i[f]=m}if(e.transform||(l||n?i.transform=dxe(t.transform,r,d,n):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:p=0}=s;i.transformOrigin=`${f} ${h} ${p}`}}const vj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function KH(t,e,r){for(const n in e)!Gi(e[n])&&!zH(n,r)&&(t[n]=e[n])}function vxe({transformTemplate:t},e,r){return _.useMemo(()=>{const n=vj();return gj(n,e,{enableHardwareAcceleration:!r},t),Object.assign({},n.vars,n.style)},[e])}function yxe(t,e,r){const n=t.style||{},i={};return KH(i,n,t),Object.assign(i,vxe(t,e,r)),t.transformValues?t.transformValues(i):i}function xxe(t,e,r){const n={},i=yxe(t,e,r);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const wxe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function iw(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||wxe.has(t)}let YH=t=>!iw(t);function bxe(t){t&&(YH=e=>e.startsWith("on")?!iw(e):t(e))}try{bxe(require("@emotion/is-prop-valid").default)}catch{}function _xe(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(YH(i)||r===!0&&iw(i)||!e&&!iw(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}function P6(t,e,r){return typeof t=="string"?t:We.transform(e+r*t)}function Sxe(t,e,r){const n=P6(e,t.x,t.width),i=P6(r,t.y,t.height);return`${n} ${i}`}const Exe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Axe={offset:"strokeDashoffset",array:"strokeDasharray"};function Cxe(t,e,r=1,n=0,i=!0){t.pathLength=1;const a=i?Exe:Axe;t[a.offset]=We.transform(-n);const o=We.transform(e),s=We.transform(r);t[a.array]=`${o} ${s}`}function yj(t,{attrX:e,attrY:r,attrScale:n,originX:i,originY:a,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...c},d,f,h){if(gj(t,c,d,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:g}=t;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(i!==void 0||a!==void 0||m.transform)&&(m.transformOrigin=Sxe(g,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(p.x=e),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),o!==void 0&&Cxe(p,o,s,l,!1)}const XH=()=>({...vj(),attrs:{}}),xj=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Txe(t,e,r,n){const i=_.useMemo(()=>{const a=XH();return yj(a,e,{enableHardwareAcceleration:!1},xj(n),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};KH(a,t.style,t),i.style={...a,...i.style}}return i}function Nxe(t=!1){return(r,n,i,{latestValues:a},o)=>{const l=(mj(r)?Txe:xxe)(n,a,o,r),d={..._xe(n,typeof r=="string",t),...l,ref:i},{children:f}=n,h=_.useMemo(()=>Gi(f)?f.get():f,[f]);return _.createElement(r,{...d,children:h})}}function QH(t,{style:e,vars:r},n,i){Object.assign(t.style,e,i&&i.getProjectionStyles(n));for(const a in r)t.style.setProperty(a,r[a])}const ZH=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function JH(t,e,r,n){QH(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(ZH.has(i)?i:dj(i),e.attrs[i])}function wj(t,e){const{style:r}=t,n={};for(const i in r)(Gi(r[i])||e.style&&Gi(e.style[i])||zH(i,t))&&(n[i]=r[i]);return n}function eG(t,e){const r=wj(t,e);for(const n in t)if(Gi(t[n])||Gi(e[n])){const i=v0.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[i]=t[n]}return r}function bj(t,e,r,n={},i={}){return typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,i)),e}function tG(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const aw=t=>Array.isArray(t),Ixe=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Pxe=t=>aw(t)?t[t.length-1]||0:t;function B1(t){const e=Gi(t)?t.get():t;return Ixe(e)?e.toValue():e}function Oxe({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},n,i,a){const o={latestValues:jxe(n,i,a,t),renderState:e()};return r&&(o.mount=s=>r(n,s,o)),o}const rG=t=>(e,r)=>{const n=_.useContext(E2),i=_.useContext(A2),a=()=>Oxe(t,e,n,i);return r?a():tG(a)};function jxe(t,e,r,n){const i={},a=n(t,{});for(const h in a)i[h]=B1(a[h]);let{initial:o,animate:s}=t;const l=N2(t),c=UH(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),s===void 0&&(s=e.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?s:o;return f&&typeof f!="boolean"&&!T2(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const m=bj(t,p);if(!m)return;const{transitionEnd:g,transition:v,...y}=m;for(const x in y){let w=y[x];if(Array.isArray(w)){const S=d?w.length-1:0;w=w[S]}w!==null&&(i[x]=w)}for(const x in g)i[x]=g[x]}),i}const Dr=t=>t;class O6{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const r=this.order.indexOf(e);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function kxe(t){let e=new O6,r=new O6,n=0,i=!1,a=!1;const o=new WeakSet,s={schedule:(l,c=!1,d=!1)=>{const f=d&&i,h=f?e:r;return c&&o.add(l),h.add(l)&&f&&i&&(n=e.order.length),l},cancel:l=>{r.remove(l),o.delete(l)},process:l=>{if(i){a=!0;return}if(i=!0,[e,r]=[r,e],r.clear(),n=e.order.length,n)for(let c=0;c<n;c++){const d=e.order[c];d(l),o.has(d)&&(s.schedule(d),t())}i=!1,a&&(a=!1,s.process(l))}};return s}const My=["prepare","read","update","preRender","render","postRender"],Rxe=40;function Dxe(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=My.reduce((f,h)=>(f[h]=kxe(()=>r=!0),f),{}),o=f=>a[f].process(i),s=()=>{const f=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(f-i.timestamp,Rxe),1),i.timestamp=f,i.isProcessing=!0,My.forEach(o),i.isProcessing=!1,r&&e&&(n=!1,t(s))},l=()=>{r=!0,n=!0,i.isProcessing||t(s)};return{schedule:My.reduce((f,h)=>{const p=a[h];return f[h]=(m,g=!1,v=!1)=>(r||l(),p.schedule(m,g,v)),f},{}),cancel:f=>My.forEach(h=>a[h].cancel(f)),state:i,steps:a}}const{schedule:Vt,cancel:Hs,state:zn,steps:yE}=Dxe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Dr,!0),Mxe={useVisualState:rG({scrapeMotionValuesFromProps:eG,createRenderState:XH,onMount:(t,e,{renderState:r,latestValues:n})=>{Vt.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Vt.render(()=>{yj(r,n,{enableHardwareAcceleration:!1},xj(e.tagName),t.transformTemplate),JH(e,r)})}})},Lxe={useVisualState:rG({scrapeMotionValuesFromProps:wj,createRenderState:vj})};function $xe(t,{forwardMotionProps:e=!1},r,n){return{...mj(t)?Mxe:Lxe,preloadedFeatures:r,useRender:Nxe(e),createVisualElement:n,Component:t}}function _s(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}const nG=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function P2(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const Fxe=t=>e=>nG(e)&&t(e,P2(e));function Is(t,e,r,n){return _s(t,e,Fxe(r),n)}const Bxe=(t,e)=>r=>e(t(r)),Jl=(...t)=>t.reduce(Bxe);function iG(t){let e=null;return()=>{const r=()=>{e=null};return e===null?(e=t,r):!1}}const j6=iG("dragHorizontal"),k6=iG("dragVertical");function aG(t){let e=!1;if(t==="y")e=k6();else if(t==="x")e=j6();else{const r=j6(),n=k6();r&&n?e=()=>{r(),n()}:(r&&r(),n&&n())}return e}function oG(){const t=aG(!0);return t?(t(),!1):!0}class jc{constructor(e){this.isMounted=!1,this.node=e}update(){}}function R6(t,e){const r="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),i=(a,o)=>{if(a.pointerType==="touch"||oG())return;const s=t.getProps();t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",e),s[n]&&Vt.update(()=>s[n](a,o))};return Is(t.current,r,i,{passive:!t.getProps()[n]})}class Uxe extends jc{mount(){this.unmount=Jl(R6(this.node,!0),R6(this.node,!1))}unmount(){}}class Vxe extends jc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jl(_s(this.node.current,"focus",()=>this.onFocus()),_s(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const sG=(t,e)=>e?t===e?!0:sG(t,e.parentElement):!1;function xE(t,e){if(!e)return;const r=new PointerEvent("pointer"+t);e(r,P2(r))}class zxe extends jc{constructor(){super(...arguments),this.removeStartListeners=Dr,this.removeEndListeners=Dr,this.removeAccessibleListeners=Dr,this.startPointerPress=(e,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),a=Is(window,"pointerup",(s,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:f}=this.node.getProps();Vt.update(()=>{!f&&!sG(this.node.current,s.target)?d&&d(s,l):c&&c(s,l)})},{passive:!(n.onTap||n.onPointerUp)}),o=Is(window,"pointercancel",(s,l)=>this.cancelPress(s,l),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Jl(a,o),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=s=>{s.key!=="Enter"||!this.checkPressEnd()||xE("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&Vt.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=_s(this.node.current,"keyup",o),xE("down",(s,l)=>{this.startPress(s,l)})},r=_s(this.node.current,"keydown",e),n=()=>{this.isPressing&&xE("cancel",(a,o)=>this.cancelPress(a,o))},i=_s(this.node.current,"blur",n);this.removeAccessibleListeners=Jl(r,i)}}startPress(e,r){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Vt.update(()=>n(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!oG()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Vt.update(()=>n(e,r))}mount(){const e=this.node.getProps(),r=Is(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=_s(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Jl(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const AT=new WeakMap,wE=new WeakMap,Wxe=t=>{const e=AT.get(t.target);e&&e(t)},Hxe=t=>{t.forEach(Wxe)};function Gxe({root:t,...e}){const r=t||document;wE.has(r)||wE.set(r,{});const n=wE.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(Hxe,{root:t,...e})),n[i]}function qxe(t,e,r){const n=Gxe(e);return AT.set(t,r),n.observe(t),()=>{AT.delete(t),n.unobserve(t)}}const Kxe={some:0,all:1};class Yxe extends jc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:Kxe[i]},s=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(l)};return qxe(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Xxe(e,r))&&this.startObserver()}unmount(){}}function Xxe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const Qxe={inView:{Feature:Yxe},tap:{Feature:zxe},focus:{Feature:Vxe},hover:{Feature:Uxe}};function lG(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Zxe(t){const e={};return t.values.forEach((r,n)=>e[n]=r.get()),e}function Jxe(t){const e={};return t.values.forEach((r,n)=>e[n]=r.getVelocity()),e}function O2(t,e,r){const n=t.getProps();return bj(n,e,r!==void 0?r:n.custom,Zxe(t),Jxe(t))}let _j=Dr;const Au=t=>t*1e3,Ps=t=>t/1e3,ewe={current:!1},cG=t=>Array.isArray(t)&&typeof t[0]=="number";function uG(t){return!!(!t||typeof t=="string"&&dG[t]||cG(t)||Array.isArray(t)&&t.every(uG))}const Cm=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,dG={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cm([0,.65,.55,1]),circOut:Cm([.55,0,1,.45]),backIn:Cm([.31,.01,.66,-.59]),backOut:Cm([.33,1.53,.69,.99])};function fG(t){if(t)return cG(t)?Cm(t):Array.isArray(t)?t.map(fG):dG[t]}function twe(t,e,r,{delay:n=0,duration:i,repeat:a=0,repeatType:o="loop",ease:s,times:l}={}){const c={[e]:r};l&&(c.offset=l);const d=fG(s);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:n,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function rwe(t,{repeat:e,repeatType:r="loop"}){const n=e&&r!=="loop"&&e%2===1?0:t.length-1;return t[n]}const hG=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,nwe=1e-7,iwe=12;function awe(t,e,r,n,i){let a,o,s=0;do o=e+(r-e)/2,a=hG(o,n,i)-t,a>0?r=o:e=o;while(Math.abs(a)>nwe&&++s<iwe);return o}function w0(t,e,r,n){if(t===e&&r===n)return Dr;const i=a=>awe(a,0,1,t,r);return a=>a===0||a===1?a:hG(i(a),e,n)}const owe=w0(.42,0,1,1),swe=w0(0,0,.58,1),pG=w0(.42,0,.58,1),lwe=t=>Array.isArray(t)&&typeof t[0]!="number",mG=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,gG=t=>e=>1-t(1-e),Sj=t=>1-Math.sin(Math.acos(t)),vG=gG(Sj),cwe=mG(Sj),yG=w0(.33,1.53,.69,.99),Ej=gG(yG),uwe=mG(Ej),dwe=t=>(t*=2)<1?.5*Ej(t):.5*(2-Math.pow(2,-10*(t-1))),fwe={linear:Dr,easeIn:owe,easeInOut:pG,easeOut:swe,circIn:Sj,circInOut:cwe,circOut:vG,backIn:Ej,backInOut:uwe,backOut:yG,anticipate:dwe},D6=t=>{if(Array.isArray(t)){_j(t.length===4);const[e,r,n,i]=t;return w0(e,r,n,i)}else if(typeof t=="string")return fwe[t];return t},Aj=(t,e)=>r=>!!(y0(r)&&pxe.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),xG=(t,e,r)=>n=>{if(!y0(n))return n;const[i,a,o,s]=n.match(I2);return{[t]:parseFloat(i),[e]:parseFloat(a),[r]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},hwe=t=>xc(0,255,t),bE={...dd,transform:t=>Math.round(hwe(t))},mu={test:Aj("rgb","red"),parse:xG("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+bE.transform(t)+", "+bE.transform(e)+", "+bE.transform(r)+", "+eg(Jm.transform(n))+")"};function pwe(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const CT={test:Aj("#"),parse:pwe,transform:mu.transform},ef={test:Aj("hsl","hue"),parse:xG("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Wo.transform(eg(e))+", "+Wo.transform(eg(r))+", "+eg(Jm.transform(n))+")"},di={test:t=>mu.test(t)||CT.test(t)||ef.test(t),parse:t=>mu.test(t)?mu.parse(t):ef.test(t)?ef.parse(t):CT.parse(t),transform:t=>y0(t)?t:t.hasOwnProperty("red")?mu.transform(t):ef.transform(t)},pr=(t,e,r)=>-r*t+r*e+t;function _E(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function mwe({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,a=0,o=0;if(!e)i=a=o=r;else{const s=r<.5?r*(1+e):r+e-r*e,l=2*r-s;i=_E(l,s,t+1/3),a=_E(l,s,t),o=_E(l,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}const SE=(t,e,r)=>{const n=t*t;return Math.sqrt(Math.max(0,r*(e*e-n)+n))},gwe=[CT,mu,ef],vwe=t=>gwe.find(e=>e.test(t));function M6(t){const e=vwe(t);let r=e.parse(t);return e===ef&&(r=mwe(r)),r}const wG=(t,e)=>{const r=M6(t),n=M6(e),i={...r};return a=>(i.red=SE(r.red,n.red,a),i.green=SE(r.green,n.green,a),i.blue=SE(r.blue,n.blue,a),i.alpha=pr(r.alpha,n.alpha,a),mu.transform(i))};function ywe(t){var e,r;return isNaN(t)&&y0(t)&&(((e=t.match(I2))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(GH))===null||r===void 0?void 0:r.length)||0)>0}const bG={regex:fxe,countKey:"Vars",token:"${v}",parse:Dr},_G={regex:GH,countKey:"Colors",token:"${c}",parse:di.parse},SG={regex:I2,countKey:"Numbers",token:"${n}",parse:dd.parse};function EE(t,{regex:e,countKey:r,token:n,parse:i}){const a=t.tokenised.match(e);a&&(t["num"+r]=a.length,t.tokenised=t.tokenised.replace(e,n),t.values.push(...a.map(i)))}function ow(t){const e=t.toString(),r={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&EE(r,bG),EE(r,_G),EE(r,SG),r}function EG(t){return ow(t).values}function AG(t){const{values:e,numColors:r,numVars:n,tokenised:i}=ow(t),a=e.length;return o=>{let s=i;for(let l=0;l<a;l++)l<n?s=s.replace(bG.token,o[l]):l<n+r?s=s.replace(_G.token,di.transform(o[l])):s=s.replace(SG.token,eg(o[l]));return s}}const xwe=t=>typeof t=="number"?0:t;function wwe(t){const e=EG(t);return AG(t)(e.map(xwe))}const wc={test:ywe,parse:EG,createTransformer:AG,getAnimatableNone:wwe},CG=(t,e)=>r=>`${r>0?e:t}`;function TG(t,e){return typeof t=="number"?r=>pr(t,e,r):di.test(t)?wG(t,e):t.startsWith("var(")?CG(t,e):IG(t,e)}const NG=(t,e)=>{const r=[...t],n=r.length,i=t.map((a,o)=>TG(a,e[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}},bwe=(t,e)=>{const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=TG(t[i],e[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}},IG=(t,e)=>{const r=wc.createTransformer(e),n=ow(t),i=ow(e);return n.numVars===i.numVars&&n.numColors===i.numColors&&n.numNumbers>=i.numNumbers?Jl(NG(n.values,i.values),r):CG(t,e)},zg=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},L6=(t,e)=>r=>pr(t,e,r);function _we(t){return typeof t=="number"?L6:typeof t=="string"?di.test(t)?wG:IG:Array.isArray(t)?NG:typeof t=="object"?bwe:L6}function Swe(t,e,r){const n=[],i=r||_we(t[0]),a=t.length-1;for(let o=0;o<a;o++){let s=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Dr:e;s=Jl(l,s)}n.push(s)}return n}function PG(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const a=t.length;if(_j(a===e.length),a===1)return()=>e[0];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Swe(e,n,i),s=o.length,l=c=>{let d=0;if(s>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const f=zg(t[d],t[d+1],c);return o[d](f)};return r?c=>l(xc(t[0],t[a-1],c)):l}function Ewe(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=zg(0,e,n);t.push(pr(r,1,i))}}function Awe(t){const e=[0];return Ewe(e,t.length-1),e}function Cwe(t,e){return t.map(r=>r*e)}function Twe(t,e){return t.map(()=>e||pG).splice(0,t.length-1)}function sw({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=lwe(n)?n.map(D6):D6(n),a={done:!1,value:e[0]},o=Cwe(r&&r.length===e.length?r:Awe(e),t),s=PG(o,e,{ease:Array.isArray(i)?i:Twe(e,i)});return{calculatedDuration:t,next:l=>(a.value=s(l),a.done=l>=t,a)}}function OG(t,e){return e?t*(1e3/e):0}const Nwe=5;function jG(t,e,r){const n=Math.max(e-Nwe,0);return OG(r-t(n),e-n)}const $6=.001,Iwe=.01,Pwe=10,Owe=.05,jwe=1;function kwe({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let i,a,o=1-e;o=xc(Owe,jwe,o),t=xc(Iwe,Pwe,Ps(t)),o<1?(i=c=>{const d=c*o,f=d*t,h=d-r,p=TT(c,o),m=Math.exp(-f);return $6-h/p*m},a=c=>{const f=c*o*t,h=f*r+r,p=Math.pow(o,2)*Math.pow(c,2)*t,m=Math.exp(-f),g=TT(Math.pow(c,2),o);return(-i(c)+$6>0?-1:1)*((h-p)*m)/g}):(i=c=>{const d=Math.exp(-c*t),f=(c-r)*t+1;return-.001+d*f},a=c=>{const d=Math.exp(-c*t),f=(r-c)*(t*t);return d*f});const s=5/t,l=Dwe(i,a,s);if(t=Au(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:o*2*Math.sqrt(n*c),duration:t}}}const Rwe=12;function Dwe(t,e,r){let n=r;for(let i=1;i<Rwe;i++)n=n-t(n)/e(n);return n}function TT(t,e){return t*Math.sqrt(1-e*e)}const Mwe=["duration","bounce"],Lwe=["stiffness","damping","mass"];function F6(t,e){return e.some(r=>t[r]!==void 0)}function $we(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!F6(t,Lwe)&&F6(t,Mwe)){const r=kwe(t);e={...e,...r,mass:1},e.isResolvedFromDuration=!0}return e}function kG({keyframes:t,restDelta:e,restSpeed:r,...n}){const i=t[0],a=t[t.length-1],o={done:!1,value:i},{stiffness:s,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:h}=$we({...n,velocity:-Ps(n.velocity||0)}),p=f||0,m=l/(2*Math.sqrt(s*c)),g=a-i,v=Ps(Math.sqrt(s/c)),y=Math.abs(g)<5;r||(r=y?.01:2),e||(e=y?.005:.5);let x;if(m<1){const w=TT(v,m);x=S=>{const E=Math.exp(-m*v*S);return a-E*((p+m*v*g)/w*Math.sin(w*S)+g*Math.cos(w*S))}}else if(m===1)x=w=>a-Math.exp(-v*w)*(g+(p+v*g)*w);else{const w=v*Math.sqrt(m*m-1);x=S=>{const E=Math.exp(-m*v*S),T=Math.min(w*S,300);return a-E*((p+m*v*g)*Math.sinh(T)+w*g*Math.cosh(T))/w}}return{calculatedDuration:h&&d||null,next:w=>{const S=x(w);if(h)o.done=w>=d;else{let E=p;w!==0&&(m<1?E=jG(x,w,S):E=0);const T=Math.abs(E)<=r,A=Math.abs(a-S)<=e;o.done=T&&A}return o.value=o.done?a:S,o}}}function B6({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:l,restDelta:c=.5,restSpeed:d}){const f=t[0],h={done:!1,value:f},p=C=>s!==void 0&&C<s||l!==void 0&&C>l,m=C=>s===void 0?l:l===void 0||Math.abs(s-C)<Math.abs(l-C)?s:l;let g=r*e;const v=f+g,y=o===void 0?v:o(v);y!==v&&(g=y-f);const x=C=>-g*Math.exp(-C/n),w=C=>y+x(C),S=C=>{const N=x(C),I=w(C);h.done=Math.abs(N)<=c,h.value=h.done?y:I};let E,T;const A=C=>{p(h.value)&&(E=C,T=kG({keyframes:[h.value,m(h.value)],velocity:jG(w,C,h.value),damping:i,stiffness:a,restDelta:c,restSpeed:d}))};return A(0),{calculatedDuration:null,next:C=>{let N=!1;return!T&&E===void 0&&(N=!0,S(C),A(C)),E!==void 0&&C>E?T.next(C-E):(!N&&S(C),h)}}}const Fwe=t=>{const e=({timestamp:r})=>t(r);return{start:()=>Vt.update(e,!0),stop:()=>Hs(e),now:()=>zn.isProcessing?zn.timestamp:performance.now()}},U6=2e4;function V6(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<U6;)e+=r,n=t.next(e);return e>=U6?1/0:e}const Bwe={decay:B6,inertia:B6,tween:sw,keyframes:sw,spring:kG};function lw({autoplay:t=!0,delay:e=0,driver:r=Fwe,keyframes:n,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:s="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:f,...h}){let p=1,m=!1,g,v;const y=()=>{v=new Promise(X=>{g=X})};y();let x;const w=Bwe[i]||sw;let S;w!==sw&&typeof n[0]!="number"&&(S=PG([0,100],n,{clamp:!1}),n=[0,100]);const E=w({...h,keyframes:n});let T;s==="mirror"&&(T=w({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let A="idle",C=null,N=null,I=null;E.calculatedDuration===null&&a&&(E.calculatedDuration=V6(E));const{calculatedDuration:P}=E;let k=1/0,O=1/0;P!==null&&(k=P+o,O=k*(a+1)-o);let L=0;const z=X=>{if(N===null)return;p>0&&(N=Math.min(N,X)),p<0&&(N=Math.min(X-O/p,N)),C!==null?L=C:L=Math.round(X-N)*p;const Y=L-e*(p>=0?1:-1),ee=p>=0?Y<0:Y>O;L=Math.max(Y,0),A==="finished"&&C===null&&(L=O);let ce=L,de=E;if(a){const se=Math.min(L,O)/k;let V=Math.floor(se),Q=se%1;!Q&&se>=1&&(Q=1),Q===1&&V--,V=Math.min(V,a+1),!!(V%2)&&(s==="reverse"?(Q=1-Q,o&&(Q-=o/k)):s==="mirror"&&(de=T)),ce=xc(0,1,Q)*k}const _e=ee?{done:!1,value:n[0]}:de.next(ce);S&&(_e.value=S(_e.value));let{done:ge}=_e;!ee&&P!==null&&(ge=p>=0?L>=O:L<=0);const Se=C===null&&(A==="finished"||A==="running"&&ge);return f&&f(_e.value),Se&&$(),_e},M=()=>{x&&x.stop(),x=void 0},W=()=>{A="idle",M(),g(),y(),N=I=null},$=()=>{A="finished",d&&d(),M(),g()},B=()=>{if(m)return;x||(x=r(z));const X=x.now();l&&l(),C!==null?N=X-C:(!N||A==="finished")&&(N=X),A==="finished"&&y(),I=N,C=null,A="running",x.start()};t&&B();const G={then(X,Y){return v.then(X,Y)},get time(){return Ps(L)},set time(X){X=Au(X),L=X,C!==null||!x||p===0?C=X:N=x.now()-X/p},get duration(){const X=E.calculatedDuration===null?V6(E):E.calculatedDuration;return Ps(X)},get speed(){return p},set speed(X){X===p||!x||(p=X,G.time=Ps(L))},get state(){return A},play:B,pause:()=>{A="paused",C=L},stop:()=>{m=!0,A!=="idle"&&(A="idle",c&&c(),W())},cancel:()=>{I!==null&&z(I),W()},complete:()=>{A="finished"},sample:X=>(N=0,z(X))};return G}function Uwe(t){let e;return()=>(e===void 0&&(e=t()),e)}const Vwe=Uwe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),zwe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ly=10,Wwe=2e4,Hwe=(t,e)=>e.type==="spring"||t==="backgroundColor"||!uG(e.ease);function Gwe(t,e,{onUpdate:r,onComplete:n,...i}){if(!(Vwe()&&zwe.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,s,l,c=!1;const d=()=>{l=new Promise(w=>{s=w})};d();let{keyframes:f,duration:h=300,ease:p,times:m}=i;if(Hwe(e,i)){const w=lw({...i,repeat:0,delay:0});let S={done:!1,value:f[0]};const E=[];let T=0;for(;!S.done&&T<Wwe;)S=w.sample(T),E.push(S.value),T+=Ly;m=void 0,f=E,h=T-Ly,p="linear"}const g=twe(t.owner.current,e,f,{...i,duration:h,ease:p,times:m}),v=()=>{c=!1,g.cancel()},y=()=>{c=!0,Vt.update(v),s(),d()};return g.onfinish=()=>{c||(t.set(rwe(f,i)),n&&n(),y())},{then(w,S){return l.then(w,S)},attachTimeline(w){return g.timeline=w,g.onfinish=null,Dr},get time(){return Ps(g.currentTime||0)},set time(w){g.currentTime=Au(w)},get speed(){return g.playbackRate},set speed(w){g.playbackRate=w},get duration(){return Ps(h)},play:()=>{o||(g.play(),Hs(v))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:w}=g;if(w){const S=lw({...i,autoplay:!1});t.setWithVelocity(S.sample(w-Ly).value,S.sample(w).value,Ly)}y()},complete:()=>{c||g.finish()},cancel:y}}function qwe({keyframes:t,delay:e,onUpdate:r,onComplete:n}){const i=()=>(r&&r(t[t.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Dr,pause:Dr,stop:Dr,then:a=>(a(),Promise.resolve()),cancel:Dr,complete:Dr});return e?lw({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const Kwe={type:"spring",stiffness:500,damping:25,restSpeed:10},Ywe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Xwe={type:"keyframes",duration:.8},Qwe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Zwe=(t,{keyframes:e})=>e.length>2?Xwe:ud.has(t)?t.startsWith("scale")?Ywe(e[1]):Kwe:Qwe,NT=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(wc.test(e)||e==="0")&&!e.startsWith("url(")),Jwe=new Set(["brightness","contrast","saturate","opacity"]);function ebe(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(I2)||[];if(!n)return t;const i=r.replace(n,"");let a=Jwe.has(e)?1:0;return n!==r&&(a*=100),e+"("+a+i+")"}const tbe=/([a-z-]*)\(.*?\)/g,IT={...wc,getAnimatableNone:t=>{const e=t.match(tbe);return e?e.map(ebe).join(" "):t}},rbe={...qH,color:di,backgroundColor:di,outlineColor:di,fill:di,stroke:di,borderColor:di,borderTopColor:di,borderRightColor:di,borderBottomColor:di,borderLeftColor:di,filter:IT,WebkitFilter:IT},Cj=t=>rbe[t];function RG(t,e){let r=Cj(t);return r!==IT&&(r=wc),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const DG=t=>/^0[^.\s]+$/.test(t);function nbe(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||DG(t)}function ibe(t,e,r,n){const i=NT(e,r);let a;Array.isArray(r)?a=[...r]:a=[null,r];const o=n.from!==void 0?n.from:t.get();let s;const l=[];for(let c=0;c<a.length;c++)a[c]===null&&(a[c]=c===0?o:a[c-1]),nbe(a[c])&&l.push(c),typeof a[c]=="string"&&a[c]!=="none"&&a[c]!=="0"&&(s=a[c]);if(i&&l.length&&s)for(let c=0;c<l.length;c++){const d=l[c];a[d]=RG(e,s)}return a}function abe({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function Tj(t,e){return t[e]||t.default||t}const obe={skipAnimations:!1},Nj=(t,e,r,n={})=>i=>{const a=Tj(n,t)||{},o=a.delay||n.delay||0;let{elapsed:s=0}=n;s=s-Au(o);const l=ibe(e,t,r,a),c=l[0],d=l[l.length-1],f=NT(t,c),h=NT(t,d);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-s,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(abe(a)||(p={...p,...Zwe(t,p)}),p.duration&&(p.duration=Au(p.duration)),p.repeatDelay&&(p.repeatDelay=Au(p.repeatDelay)),!f||!h||ewe.current||a.type===!1||obe.skipAnimations)return qwe(p);if(!n.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const m=Gwe(e,t,p);if(m)return m}return lw(p)};function cw(t){return!!(Gi(t)&&t.add)}const MG=t=>/^\-?\d*\.?\d+$/.test(t);function Ij(t,e){t.indexOf(e)===-1&&t.push(e)}function Pj(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}let Oj=class{constructor(){this.subscriptions=[]}add(e){return Ij(this.subscriptions,e),()=>Pj(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};const sbe=t=>!isNaN(parseFloat(t));class lbe{constructor(e,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:a,timestamp:o}=zn;this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o,Vt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Vt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=sbe(this.current),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Oj);const n=this.events[e].add(r);return e==="change"?()=>{n(),Vt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?OG(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xf(t,e){return new lbe(t,e)}const LG=t=>e=>e.test(t),cbe={test:t=>t==="auto",parse:t=>t},$G=[dd,We,Wo,vl,gxe,mxe,cbe],Yp=t=>$G.find(LG(t)),ube=[...$G,di,wc],dbe=t=>ube.find(LG(t));function fbe(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Xf(r))}function hbe(t,e){const r=O2(t,e);let{transitionEnd:n={},transition:i={},...a}=r?t.makeTargetAnimatable(r,!1):{};a={...a,...n};for(const o in a){const s=Pxe(a[o]);fbe(t,o,s)}}function pbe(t,e,r){var n,i;const a=Object.keys(e).filter(s=>!t.hasValue(s)),o=a.length;if(o)for(let s=0;s<o;s++){const l=a[s],c=e[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(i=(n=r[l])!==null&&n!==void 0?n:t.readValue(l))!==null&&i!==void 0?i:e[l]),d!=null&&(typeof d=="string"&&(MG(d)||DG(d))?d=parseFloat(d):!dbe(d)&&wc.test(c)&&(d=RG(l,c)),t.addValue(l,Xf(d,{owner:t})),r[l]===void 0&&(r[l]=d),d!==null&&t.setBaseTarget(l,d))}}function mbe(t,e){return e?(e[t]||e.default||e).from:void 0}function gbe(t,e,r){const n={};for(const i in t){const a=mbe(i,e);if(a!==void 0)n[i]=a;else{const o=r.getValue(i);o&&(n[i]=o.get())}}return n}function vbe({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function ybe(t,e){const r=t.get();if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(e[n]!==r)return!0}else return r!==e}function FG(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...s}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");n&&(a=n);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in s){const h=t.getValue(f),p=s[f];if(!h||p===void 0||d&&vbe(d,f))continue;const m={delay:r,elapsed:0,...Tj(a||{},f)};if(window.HandoffAppearAnimations){const y=t.getProps()[BH];if(y){const x=window.HandoffAppearAnimations(y,f,h,Vt);x!==null&&(m.elapsed=x,m.isHandoff=!0)}}let g=!m.isHandoff&&!ybe(h,p);if(m.type==="spring"&&(h.getVelocity()||m.velocity)&&(g=!1),h.animation&&(g=!1),g)continue;h.start(Nj(f,h,p,t.shouldReduceMotion&&ud.has(f)?{type:!1}:m));const v=h.animation;cw(l)&&(l.add(f),v.then(()=>l.remove(f))),c.push(v)}return o&&Promise.all(c).then(()=>{o&&hbe(t,o)}),c}function PT(t,e,r={}){const n=O2(t,e,r.custom);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const a=n?()=>Promise.all(FG(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=i;return xbe(t,e,c+l,d,f,r)}:()=>Promise.resolve(),{when:s}=i;if(s){const[l,c]=s==="beforeChildren"?[a,o]:[o,a];return l().then(()=>c())}else return Promise.all([a(),o(r.delay)])}function xbe(t,e,r=0,n=0,i=1,a){const o=[],s=(t.variantChildren.size-1)*n,l=i===1?(c=0)=>c*n:(c=0)=>s-c*n;return Array.from(t.variantChildren).sort(wbe).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(PT(c,e,{...a,delay:r+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function wbe(t,e){return t.sortNodePosition(e)}function bbe(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(a=>PT(t,a,r));n=Promise.all(i)}else if(typeof e=="string")n=PT(t,e,r);else{const i=typeof e=="function"?O2(t,e,r.custom):e;n=Promise.all(FG(t,i,r))}return n.then(()=>t.notify("AnimationComplete",e))}const _be=[...fj].reverse(),Sbe=fj.length;function Ebe(t){return e=>Promise.all(e.map(({animation:r,options:n})=>bbe(t,r,n)))}function Abe(t){let e=Ebe(t);const r=Tbe();let n=!0;const i=(l,c)=>{const d=O2(t,c);if(d){const{transition:f,transitionEnd:h,...p}=d;l={...l,...p,...h}}return l};function a(l){e=l(t)}function o(l,c){const d=t.getProps(),f=t.getVariantContext(!0)||{},h=[],p=new Set;let m={},g=1/0;for(let y=0;y<Sbe;y++){const x=_be[y],w=r[x],S=d[x]!==void 0?d[x]:f[x],E=Ug(S),T=x===c?w.isActive:null;T===!1&&(g=y);let A=S===f[x]&&S!==d[x]&&E;if(A&&n&&t.manuallyAnimateOnMount&&(A=!1),w.protectedKeys={...m},!w.isActive&&T===null||!S&&!w.prevProp||T2(S)||typeof S=="boolean")continue;let N=Cbe(w.prevProp,S)||x===c&&w.isActive&&!A&&E||y>g&&E,I=!1;const P=Array.isArray(S)?S:[S];let k=P.reduce(i,{});T===!1&&(k={});const{prevResolvedValues:O={}}=w,L={...O,...k},z=M=>{N=!0,p.has(M)&&(I=!0,p.delete(M)),w.needsAnimating[M]=!0};for(const M in L){const W=k[M],$=O[M];if(m.hasOwnProperty(M))continue;let B=!1;aw(W)&&aw($)?B=!lG(W,$):B=W!==$,B?W!==void 0?z(M):p.add(M):W!==void 0&&p.has(M)?z(M):w.protectedKeys[M]=!0}w.prevProp=S,w.prevResolvedValues=k,w.isActive&&(m={...m,...k}),n&&t.blockInitialAnimation&&(N=!1),N&&(!A||I)&&h.push(...P.map(M=>({animation:M,options:{type:x,...l}})))}if(p.size){const y={};p.forEach(x=>{const w=t.getBaseTarget(x);w!==void 0&&(y[x]=w)}),h.push({animation:y})}let v=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(v=!1),n=!1,v?e(h):Promise.resolve()}function s(l,c,d){var f;if(r[l].isActive===c)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),r[l].isActive=c;const h=o(d,l);for(const p in r)r[p].protectedKeys={};return h}return{animateChanges:o,setActive:s,setAnimateFunction:a,getState:()=>r}}function Cbe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!lG(e,t):!1}function qc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Tbe(){return{animate:qc(!0),whileInView:qc(),whileHover:qc(),whileTap:qc(),whileDrag:qc(),whileFocus:qc(),exit:qc()}}class Nbe extends jc{constructor(e){super(e),e.animationState||(e.animationState=Abe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),T2(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let Ibe=0;class Pbe extends jc{constructor(){super(...arguments),this.id=Ibe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});r&&!e&&a.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Obe={animation:{Feature:Nbe},exit:{Feature:Pbe}},z6=(t,e)=>Math.abs(t-e);function jbe(t,e){const r=z6(t.x,e.x),n=z6(t.y,e.y);return Math.sqrt(r**2+n**2)}class BG{constructor(e,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=CE(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=jbe(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:m}=f,{timestamp:g}=zn;this.history.push({...m,timestamp:g});const{onStart:v,onMove:y}=this.handlers;h||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=AE(h,this.transformPagePoint),Vt.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=CE(f.type==="pointercancel"?this.lastMoveEventInfo:AE(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,v),m&&m(f,v)},!nG(e))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const o=P2(e),s=AE(o,this.transformPagePoint),{point:l}=s,{timestamp:c}=zn;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=r;d&&d(e,CE(s,this.history)),this.removeListeners=Jl(Is(this.contextWindow,"pointermove",this.handlePointerMove),Is(this.contextWindow,"pointerup",this.handlePointerUp),Is(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Hs(this.updatePoint)}}function AE(t,e){return e?{point:e(t.point)}:t}function W6(t,e){return{x:t.x-e.x,y:t.y-e.y}}function CE({point:t},e){return{point:t,delta:W6(t,UG(e)),offset:W6(t,kbe(e)),velocity:Rbe(e,.1)}}function kbe(t){return t[0]}function UG(t){return t[t.length-1]}function Rbe(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=UG(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Au(e)));)r--;if(!n)return{x:0,y:0};const a=Ps(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function la(t){return t.max-t.min}function OT(t,e=0,r=.01){return Math.abs(t-e)<=r}function H6(t,e,r,n=.5){t.origin=n,t.originPoint=pr(e.min,e.max,t.origin),t.scale=la(r)/la(e),(OT(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=pr(r.min,r.max,t.origin)-t.originPoint,(OT(t.translate)||isNaN(t.translate))&&(t.translate=0)}function tg(t,e,r,n){H6(t.x,e.x,r.x,n?n.originX:void 0),H6(t.y,e.y,r.y,n?n.originY:void 0)}function G6(t,e,r){t.min=r.min+e.min,t.max=t.min+la(e)}function Dbe(t,e,r){G6(t.x,e.x,r.x),G6(t.y,e.y,r.y)}function q6(t,e,r){t.min=e.min-r.min,t.max=t.min+la(e)}function rg(t,e,r){q6(t.x,e.x,r.x),q6(t.y,e.y,r.y)}function Mbe(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?pr(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?pr(r,t,n.max):Math.min(t,r)),t}function K6(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function Lbe(t,{top:e,left:r,bottom:n,right:i}){return{x:K6(t.x,r,i),y:K6(t.y,e,n)}}function Y6(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function $be(t,e){return{x:Y6(t.x,e.x),y:Y6(t.y,e.y)}}function Fbe(t,e){let r=.5;const n=la(t),i=la(e);return i>n?r=zg(e.min,e.max-n,t.min):n>i&&(r=zg(t.min,t.max-i,e.min)),xc(0,1,r)}function Bbe(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const jT=.35;function Ube(t=jT){return t===!1?t=0:t===!0&&(t=jT),{x:X6(t,"left","right"),y:X6(t,"top","bottom")}}function X6(t,e,r){return{min:Q6(t,e),max:Q6(t,r)}}function Q6(t,e){return typeof t=="number"?t:t[e]||0}const Z6=()=>({translate:0,scale:1,origin:0,originPoint:0}),tf=()=>({x:Z6(),y:Z6()}),J6=()=>({min:0,max:0}),Br=()=>({x:J6(),y:J6()});function ya(t){return[t("x"),t("y")]}function VG({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function Vbe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function zbe(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function TE(t){return t===void 0||t===1}function kT({scale:t,scaleX:e,scaleY:r}){return!TE(t)||!TE(e)||!TE(r)}function tu(t){return kT(t)||zG(t)||t.z||t.rotate||t.rotateX||t.rotateY}function zG(t){return e8(t.x)||e8(t.y)}function e8(t){return t&&t!=="0%"}function uw(t,e,r){const n=t-r,i=e*n;return r+i}function t8(t,e,r,n,i){return i!==void 0&&(t=uw(t,i,n)),uw(t,r,n)+e}function RT(t,e=0,r=1,n,i){t.min=t8(t.min,e,r,n,i),t.max=t8(t.max,e,r,n,i)}function WG(t,{x:e,y:r}){RT(t.x,e.translate,e.scale,e.originPoint),RT(t.y,r.translate,r.scale,r.originPoint)}function Wbe(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let a,o;for(let s=0;s<i;s++){a=r[s],o=a.projectionDelta;const l=a.instance;l&&l.style&&l.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&rf(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,WG(t,o)),n&&tu(a.latestValues)&&rf(t,a.latestValues))}e.x=r8(e.x),e.y=r8(e.y)}function r8(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function _l(t,e){t.min=t.min+e,t.max=t.max+e}function n8(t,e,[r,n,i]){const a=e[i]!==void 0?e[i]:.5,o=pr(t.min,t.max,a);RT(t,e[r],e[n],o,e.scale)}const Hbe=["x","scaleX","originX"],Gbe=["y","scaleY","originY"];function rf(t,e){n8(t.x,e,Hbe),n8(t.y,e,Gbe)}function HG(t,e){return VG(zbe(t.getBoundingClientRect(),e))}function qbe(t,e,r){const n=HG(t,r),{scroll:i}=e;return i&&(_l(n.x,i.offset.x),_l(n.y,i.offset.y)),n}const GG=({current:t})=>t?t.ownerDocument.defaultView:null,Kbe=new WeakMap;class Ybe{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Br(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(P2(d,"page").point)},a=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:m}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=aG(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ya(v=>{let y=this.getAxisMotionValue(v).get()||0;if(Wo.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const w=x.layout.layoutBox[v];w&&(y=la(w)*(parseFloat(y)/100))}}this.originPoint[v]=y}),m&&Vt.update(()=>m(d,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:m,onDrag:g}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:v}=f;if(p&&this.currentDirection===null){this.currentDirection=Xbe(v),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),g&&g(d,f)},s=(d,f)=>this.stop(d,f),l=()=>ya(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new BG(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:GG(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Vt.update(()=>a(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!$y(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=Mbe(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;r&&Jd(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=Lbe(i.layoutBox,r):this.constraints=!1,this.elastic=Ube(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ya(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Bbe(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Jd(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=qbe(n,i.root,this.visualElement.getTransformPagePoint());let o=$be(i.layout.layoutBox,a);if(r){const s=r(Vbe(o));this.hasMutatedConstraints=!!s,s&&(o=VG(s))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},c=ya(d=>{if(!$y(d,r,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,m={type:"inertia",velocity:n?e[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,m)});return Promise.all(c).then(s)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return n.start(Nj(e,n,0,r))}stopAnimation(){ya(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ya(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){ya(r=>{const{drag:n}=this.getProps();if(!$y(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:s}=i.layout.layoutBox[r];a.set(e[r]-pr(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Jd(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ya(o=>{const s=this.getAxisMotionValue(o);if(s){const l=s.get();i[o]=Fbe({min:l,max:l},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ya(o=>{if(!$y(o,e,null))return;const s=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];s.set(pr(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;Kbe.set(this.visualElement,this);const e=this.visualElement.current,r=Is(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Jd(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),n();const o=_s(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ya(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=jT,dragMomentum:s=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:s}}}function $y(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function Xbe(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class Qbe extends jc{constructor(e){super(e),this.removeGroupControls=Dr,this.removeListeners=Dr,this.controls=new Ybe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Dr}unmount(){this.removeGroupControls(),this.removeListeners()}}const i8=t=>(e,r)=>{t&&Vt.update(()=>t(e,r))};class Zbe extends jc{constructor(){super(...arguments),this.removePointerDownListener=Dr}onPointerDown(e){this.session=new BG(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:GG(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:i8(e),onStart:i8(r),onMove:n,onEnd:(a,o)=>{delete this.session,i&&Vt.update(()=>i(a,o))}}}mount(){this.removePointerDownListener=Is(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Jbe(){const t=_.useContext(A2);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:n}=t,i=_.useId();return _.useEffect(()=>n(i),[]),!e&&r?[!1,()=>r&&r(i)]:[!0]}const U1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function a8(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Xp={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(We.test(t))t=parseFloat(t);else return t;const r=a8(t,e.target.x),n=a8(t,e.target.y);return`${r}% ${n}%`}},e2e={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=wc.parse(t);if(i.length>5)return n;const a=wc.createTransformer(t),o=typeof i[0]!="number"?1:0,s=r.x.scale*e.x,l=r.y.scale*e.y;i[0+o]/=s,i[1+o]/=l;const c=pr(s,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),a(i)}};class t2e extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=e;lxe(r2e),a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),U1.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,o=n.projection;return o&&(o.isPresent=a,i||e.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||Vt.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function qG(t){const[e,r]=Jbe(),n=_.useContext(pj);return D.createElement(t2e,{...t,layoutGroup:n,switchLayoutGroup:_.useContext(VH),isPresent:e,safeToRemove:r})}const r2e={borderRadius:{...Xp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xp,borderTopRightRadius:Xp,borderBottomLeftRadius:Xp,borderBottomRightRadius:Xp,boxShadow:e2e},KG=["TopLeft","TopRight","BottomLeft","BottomRight"],n2e=KG.length,o8=t=>typeof t=="string"?parseFloat(t):t,s8=t=>typeof t=="number"||We.test(t);function i2e(t,e,r,n,i,a){i?(t.opacity=pr(0,r.opacity!==void 0?r.opacity:1,a2e(n)),t.opacityExit=pr(e.opacity!==void 0?e.opacity:1,0,o2e(n))):a&&(t.opacity=pr(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<n2e;o++){const s=`border${KG[o]}Radius`;let l=l8(e,s),c=l8(r,s);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||s8(l)===s8(c)?(t[s]=Math.max(pr(o8(l),o8(c),n),0),(Wo.test(c)||Wo.test(l))&&(t[s]+="%")):t[s]=c}(e.rotate||r.rotate)&&(t.rotate=pr(e.rotate||0,r.rotate||0,n))}function l8(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const a2e=YG(0,.5,vG),o2e=YG(.5,.95,Dr);function YG(t,e,r){return n=>n<t?0:n>e?1:r(zg(t,e,n))}function c8(t,e){t.min=e.min,t.max=e.max}function ma(t,e){c8(t.x,e.x),c8(t.y,e.y)}function u8(t,e,r,n,i){return t-=e,t=uw(t,1/r,n),i!==void 0&&(t=uw(t,1/i,n)),t}function s2e(t,e=0,r=1,n=.5,i,a=t,o=t){if(Wo.test(e)&&(e=parseFloat(e),e=pr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let s=pr(a.min,a.max,n);t===a&&(s-=e),t.min=u8(t.min,e,r,s,i),t.max=u8(t.max,e,r,s,i)}function d8(t,e,[r,n,i],a,o){s2e(t,e[r],e[n],e[i],e.scale,a,o)}const l2e=["x","scaleX","originX"],c2e=["y","scaleY","originY"];function f8(t,e,r,n){d8(t.x,e,l2e,r?r.x:void 0,n?n.x:void 0),d8(t.y,e,c2e,r?r.y:void 0,n?n.y:void 0)}function h8(t){return t.translate===0&&t.scale===1}function XG(t){return h8(t.x)&&h8(t.y)}function u2e(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function QG(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function p8(t){return la(t.x)/la(t.y)}class d2e{constructor(){this.members=[]}add(e){Ij(this.members,e),e.scheduleRender()}remove(e){if(Pj(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function m8(t,e,r){let n="";const i=t.x.translate/e.x,a=t.y.translate/e.y;if((i||a)&&(n=`translate3d(${i}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{rotate:l,rotateX:c,rotateY:d}=r;l&&(n+=`rotate(${l}deg) `),c&&(n+=`rotateX(${c}deg) `),d&&(n+=`rotateY(${d}deg) `)}const o=t.x.scale*e.x,s=t.y.scale*e.y;return(o!==1||s!==1)&&(n+=`scale(${o}, ${s})`),n||"none"}const f2e=(t,e)=>t.depth-e.depth;class h2e{constructor(){this.children=[],this.isDirty=!1}add(e){Ij(this.children,e),this.isDirty=!0}remove(e){Pj(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(f2e),this.isDirty=!1,this.children.forEach(e)}}function p2e(t,e){const r=performance.now(),n=({timestamp:i})=>{const a=i-r;a>=e&&(Hs(n),t(a-e))};return Vt.read(n,!0),()=>Hs(n)}function m2e(t){window.MotionDebug&&window.MotionDebug.record(t)}function g2e(t){return t instanceof SVGElement&&t.tagName!=="svg"}function v2e(t,e,r){const n=Gi(t)?t:Xf(t);return n.start(Nj("",n,e,r)),n.animation}const g8=["","X","Y","Z"],y2e={visibility:"hidden"},v8=1e3;let x2e=0;const ru={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function ZG({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},s=e==null?void 0:e()){this.id=x2e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ru.totalNodes=ru.resolvedTargetDeltas=ru.recalculatedProjection=0,this.nodes.forEach(_2e),this.nodes.forEach(T2e),this.nodes.forEach(N2e),this.nodes.forEach(S2e),m2e(ru)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new h2e)}addEventListener(o,s){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Oj),this.eventHandlers.get(o).add(s)}notifyListeners(o,...s){const l=this.eventHandlers.get(o);l&&l.notify(...s)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=g2e(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=p2e(h,250),U1.hasAnimatedSinceResize&&(U1.hasAnimatedSinceResize=!1,this.nodes.forEach(x8))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||k2e,{onLayoutAnimationStart:v,onLayoutAnimationComplete:y}=d.getProps(),x=!this.targetLayout||!QG(this.targetLayout,m)||p,w=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const S={...Tj(g,"layout"),onPlay:v,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||x8(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Hs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(I2e),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(y8);return}this.isUpdating||this.nodes.forEach(A2e),this.isUpdating=!1,this.nodes.forEach(C2e),this.nodes.forEach(w2e),this.nodes.forEach(b2e),this.clearAllSnapshots();const s=performance.now();zn.delta=xc(0,1e3/60,s-zn.timestamp),zn.timestamp=s,zn.isProcessing=!0,yE.update.process(zn),yE.preRender.process(zn),yE.render.process(zn),zn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(E2e),this.sharedNodes.forEach(P2e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Vt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Vt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Br(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let s=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(s=!1),s&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,s=this.projectionDelta&&!XG(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(s||tu(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return o&&(l=this.removeTransform(l)),R2e(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Br();const s=o.measureViewportBox(),{scroll:l}=this.root;return l&&(_l(s.x,l.offset.x),_l(s.y,l.offset.y)),s}removeElementScroll(o){const s=Br();ma(s,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:f}=c;if(c!==this.root&&d&&f.layoutScroll){if(d.isRoot){ma(s,o);const{scroll:h}=this.root;h&&(_l(s.x,-h.offset.x),_l(s.y,-h.offset.y))}_l(s.x,d.offset.x),_l(s.y,d.offset.y)}}return s}applyTransform(o,s=!1){const l=Br();ma(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!s&&d.options.layoutScroll&&d.scroll&&d!==d.root&&rf(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),tu(d.latestValues)&&rf(l,d.latestValues)}return tu(this.latestValues)&&rf(l,this.latestValues),l}removeTransform(o){const s=Br();ma(s,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!tu(c.latestValues))continue;kT(c.latestValues)&&c.updateSnapshot();const d=Br(),f=c.measurePageBox();ma(d,f),f8(s,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return tu(this.latestValues)&&f8(s,this.latestValues),s}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var s;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=zn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Br(),this.relativeTargetOrigin=Br(),rg(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ma(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Br(),this.targetWithTransforms=Br()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Dbe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ma(this.target,this.layout.layoutBox),WG(this.target,this.targetDelta)):ma(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Br(),this.relativeTargetOrigin=Br(),rg(this.relativeTargetOrigin,this.target,p.target),ma(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ru.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||kT(this.parent.latestValues)||zG(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===zn.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;ma(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;Wbe(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox);const{target:m}=s;if(!m){this.projectionTransform&&(this.projectionDelta=tf(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=tf(),this.projectionDeltaWithTransform=tf());const g=this.projectionTransform;tg(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=m8(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),ru.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const s=this.getStack();s&&s.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,s=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=tf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const h=Br(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=p!==m,v=this.getStack(),y=!v||v.members.length<=1,x=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(j2e));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const E=S/1e3;w8(f.x,o.x,E),w8(f.y,o.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rg(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),O2e(this.relativeTarget,this.relativeTargetOrigin,h,E),w&&u2e(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Br()),ma(w,this.relativeTarget)),g&&(this.animationValues=d,i2e(d,c,this.latestValues,E,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Hs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Vt.update(()=>{U1.hasAnimatedSinceResize=!0,this.currentAnimation=v2e(0,v8,{...o,onUpdate:s=>{this.mixTargetDelta(s),o.onUpdate&&o.onUpdate(s)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(v8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:s,target:l,layout:c,latestValues:d}=o;if(!(!s||!l||!c)){if(this!==o&&this.layout&&c&&JG(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Br();const f=la(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=la(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}ma(s,l),rf(s,d),tg(this.projectionDeltaWithTransform,this.layoutCorrected,s,d)}}registerSharedNode(o,s){this.sharedNodes.has(o)||this.sharedNodes.set(o,new d2e),this.sharedNodes.get(o).add(s);const c=s.options.initialPromotionConfig;s.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(s):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:s,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let s=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(s=!0),!s)return;const c={};for(let d=0;d<g8.length;d++){const f="rotate"+g8[d];l[f]&&(c[f]=l[f],o.setStaticValue(f,0))}o.render();for(const d in c)o.setStaticValue(d,c[d]);o.scheduleRender()}getProjectionStyles(o){var s,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return y2e;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=B1(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=B1(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!tu(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=m8(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:p,y:m}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(s=h.opacity)!==null&&s!==void 0?s:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in nw){if(h[g]===void 0)continue;const{correct:v,applyTo:y}=nw[g],x=c.transform==="none"?h[g]:v(h[g],f);if(y){const w=y.length;for(let S=0;S<w;S++)c[y[S]]=x}else c[g]=x}return this.options.layoutId&&(c.pointerEvents=f===this?B1(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var s;return(s=o.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(y8),this.root.sharedNodes.clear()}}}function w2e(t){t.updateLayout()}function b2e(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,o=r.source!==t.layout.source;a==="size"?ya(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=la(h);h.min=n[f].min,h.max=h.min+p}):JG(a,r.layoutBox,n)&&ya(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=la(n[f]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const s=tf();tg(s,n,r.layoutBox);const l=tf();o?tg(l,t.applyTransform(i,!0),r.measuredBox):tg(l,n,r.layoutBox);const c=!XG(s);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const m=Br();rg(m,r.layoutBox,h.layoutBox);const g=Br();rg(g,n,p.layoutBox),QG(m,g)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=m,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:s,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function _2e(t){ru.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function S2e(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function E2e(t){t.clearSnapshot()}function y8(t){t.clearMeasurements()}function A2e(t){t.isLayoutDirty=!1}function C2e(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function x8(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function T2e(t){t.resolveTargetDelta()}function N2e(t){t.calcProjection()}function I2e(t){t.resetRotation()}function P2e(t){t.removeLeadSnapshot()}function w8(t,e,r){t.translate=pr(e.translate,0,r),t.scale=pr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function b8(t,e,r,n){t.min=pr(e.min,r.min,n),t.max=pr(e.max,r.max,n)}function O2e(t,e,r,n){b8(t.x,e.x,r.x,n),b8(t.y,e.y,r.y,n)}function j2e(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const k2e={duration:.45,ease:[.4,0,.1,1]},_8=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),S8=_8("applewebkit/")&&!_8("chrome/")?Math.round:Dr;function E8(t){t.min=S8(t.min),t.max=S8(t.max)}function R2e(t){E8(t.x),E8(t.y)}function JG(t,e,r){return t==="position"||t==="preserve-aspect"&&!OT(p8(e),p8(r),.2)}const D2e=ZG({attachResizeListener:(t,e)=>_s(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),NE={current:void 0},eq=ZG({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!NE.current){const t=new D2e({});t.mount(window),t.setOptions({layoutScroll:!0}),NE.current=t}return NE.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),M2e={pan:{Feature:Zbe},drag:{Feature:Qbe,ProjectionNode:eq,MeasureLayout:qG}},L2e=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function $2e(t){const e=L2e.exec(t);if(!e)return[,];const[,r,n]=e;return[r,n]}function DT(t,e,r=1){const[n,i]=$2e(t);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const o=a.trim();return MG(o)?parseFloat(o):o}else return ET(i)?DT(i,e,r+1):i}function F2e(t,{...e},r){const n=t.current;if(!(n instanceof Element))return{target:e,transitionEnd:r};r&&(r={...r}),t.values.forEach(i=>{const a=i.get();if(!ET(a))return;const o=DT(a,n);o&&i.set(o)});for(const i in e){const a=e[i];if(!ET(a))continue;const o=DT(a,n);o&&(e[i]=o,r||(r={}),r[i]===void 0&&(r[i]=a))}return{target:e,transitionEnd:r}}const B2e=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),tq=t=>B2e.has(t),U2e=t=>Object.keys(t).some(tq),A8=t=>t===dd||t===We,C8=(t,e)=>parseFloat(t.split(", ")[e]),T8=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/);if(i)return C8(i[1],e);{const a=n.match(/^matrix\((.+)\)$/);return a?C8(a[1],t):0}},V2e=new Set(["x","y","z"]),z2e=v0.filter(t=>!V2e.has(t));function W2e(t){const e=[];return z2e.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Qf={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:T8(4,13),y:T8(5,14)};Qf.translateX=Qf.x;Qf.translateY=Qf.y;const H2e=(t,e,r)=>{const n=e.measureViewportBox(),i=e.current,a=getComputedStyle(i),{display:o}=a,s={};o==="none"&&e.setStaticValue("display",t.display||"block"),r.forEach(c=>{s[c]=Qf[c](n,a)}),e.render();const l=e.measureViewportBox();return r.forEach(c=>{const d=e.getValue(c);d&&d.jump(s[c]),t[c]=Qf[c](l,a)}),t},G2e=(t,e,r={},n={})=>{e={...e},n={...n};const i=Object.keys(e).filter(tq);let a=[],o=!1;const s=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let d=r[l],f=Yp(d);const h=e[l];let p;if(aw(h)){const m=h.length,g=h[0]===null?1:0;d=h[g],f=Yp(d);for(let v=g;v<m&&h[v]!==null;v++)p?_j(Yp(h[v])===p):p=Yp(h[v])}else p=Yp(h);if(f!==p)if(A8(f)&&A8(p)){const m=c.get();typeof m=="string"&&c.set(parseFloat(m)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&p===We&&(e[l]=h.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(d===0||h===0)?d===0?c.set(p.transform(d)):e[l]=f.transform(h):(o||(a=W2e(t),o=!0),s.push(l),n[l]=n[l]!==void 0?n[l]:e[l],c.jump(h))}),s.length){const l=s.indexOf("height")>=0?window.pageYOffset:null,c=H2e(e,t,s);return a.length&&a.forEach(([d,f])=>{t.getValue(d).set(f)}),t.render(),C2&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:n}}else return{target:e,transitionEnd:n}};function q2e(t,e,r,n){return U2e(e)?G2e(t,e,r,n):{target:e,transitionEnd:n}}const K2e=(t,e,r,n)=>{const i=F2e(t,e,n);return e=i.target,n=i.transitionEnd,q2e(t,e,r,n)},MT={current:null},rq={current:!1};function Y2e(){if(rq.current=!0,!!C2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>MT.current=t.matches;t.addListener(e),e()}else MT.current=!1}function X2e(t,e,r){const{willChange:n}=e;for(const i in e){const a=e[i],o=r[i];if(Gi(a))t.addValue(i,a),cw(n)&&n.add(i);else if(Gi(o))t.addValue(i,Xf(a,{owner:t})),cw(n)&&n.remove(i);else if(o!==a)if(t.hasValue(i)){const s=t.getValue(i);!s.hasAnimated&&s.set(a)}else{const s=t.getStaticValue(i);t.addValue(i,Xf(s!==void 0?s:a,{owner:t}))}}for(const i in r)e[i]===void 0&&t.removeValue(i);return e}const N8=new WeakMap,nq=Object.keys(Vg),Q2e=nq.length,I8=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Z2e=hj.length;class J2e{constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Vt.render(this.render,!1,!0);const{latestValues:s,renderState:l}=a;this.latestValues=s,this.baseTarget={...s},this.initialValues=r.initial?{...s}:{},this.renderState=l,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=N2(r),this.isVariantNode=UH(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(r,{});for(const f in d){const h=d[f];s[f]!==void 0&&Gi(h)&&(h.set(s[f],!1),cw(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,r){return{}}mount(e){this.current=e,N8.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),rq.current||Y2e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:MT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){N8.delete(this.current),this.projection&&this.projection.unmount(),Hs(this.notifyUpdate),Hs(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,r){const n=ud.has(e),i=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Vt.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...r},n,i,a){let o,s;for(let l=0;l<Q2e;l++){const c=nq[l],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:p}=Vg[c];h&&(o=h),d(r)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),p&&(s=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:p}=r;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||f&&Jd(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,layoutScroll:h,layoutRoot:p})}return s}updateFeatures(){for(const e in this.features){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Br()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}makeTargetAnimatable(e,r=!0){return this.makeTargetAnimatableFromInstance(e,this.props,r)}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<I8.length;n++){const i=I8[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=e["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=X2e(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<Z2e;n++){const i=hj[n],a=this.props[i];(Ug(a)||a===!1)&&(r[i]=a)}return r}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){r!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,r)),this.values.set(e,r),this.latestValues[e]=r.get()}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Xf(r,{owner:this}),this.addValue(e,n)),n}readValue(e){var r;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props,i=typeof n=="string"||typeof n=="object"?(r=bj(this.props,n))===null||r===void 0?void 0:r[e]:void 0;if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Gi(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Oj),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class iq extends J2e{sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:r,...n},{transformValues:i},a){let o=gbe(n,e||{},this);if(i&&(r&&(r=i(r)),n&&(n=i(n)),o&&(o=i(o))),a){pbe(this,n,o);const s=K2e(this,n,o,r);r=s.transitionEnd,n=s.target}return{transition:e,transitionEnd:r,...n}}}function e_e(t){return window.getComputedStyle(t)}class t_e extends iq{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,r){if(ud.has(r)){const n=Cj(r);return n&&n.default||0}else{const n=e_e(e),i=(HH(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return HG(e,r)}build(e,r,n,i){gj(e,r,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,r){return wj(e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Gi(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(e,r,n,i){QH(e,r,n,i)}}class r_e extends iq{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(ud.has(r)){const n=Cj(r);return n&&n.default||0}return r=ZH.has(r)?r:dj(r),e.getAttribute(r)}measureInstanceViewportBox(){return Br()}scrapeMotionValuesFromProps(e,r){return eG(e,r)}build(e,r,n,i){yj(e,r,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,r,n,i){JH(e,r,n,i)}mount(e){this.isSVGTag=xj(e.tagName),super.mount(e)}}const n_e=(t,e)=>mj(t)?new r_e(e,{enableHardwareAcceleration:!1}):new t_e(e,{enableHardwareAcceleration:!0}),i_e={layout:{ProjectionNode:eq,MeasureLayout:qG}},a_e={...Obe,...Qxe,...M2e,...i_e},Tn=oxe((t,e)=>$xe(t,e,a_e,n_e));function aq(){const t=_.useRef(!1);return uj(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function o_e(){const t=aq(),[e,r]=_.useState(0),n=_.useCallback(()=>{t.current&&r(e+1)},[e]);return[_.useCallback(()=>Vt.postRender(n),[n]),e]}class s_e extends _.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function l_e({children:t,isPresent:e}){const r=_.useId(),n=_.useRef(null),i=_.useRef({width:0,height:0,top:0,left:0});return _.useInsertionEffect(()=>{const{width:a,height:o,top:s,left:l}=i.current;if(e||!n.current||!a||!o)return;n.current.dataset.motionPopId=r;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${s}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),_.createElement(s_e,{isPresent:e,childRef:n,sizeRef:i},_.cloneElement(t,{ref:n}))}const IE=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:o})=>{const s=tG(c_e),l=_.useId(),c=_.useMemo(()=>({id:l,initial:e,isPresent:r,custom:i,onExitComplete:d=>{s.set(d,!0);for(const f of s.values())if(!f)return;n&&n()},register:d=>(s.set(d,!1),()=>s.delete(d))}),a?void 0:[r]);return _.useMemo(()=>{s.forEach((d,f)=>s.set(f,!1))},[r]),_.useEffect(()=>{!r&&!s.size&&n&&n()},[r]),o==="popLayout"&&(t=_.createElement(l_e,{isPresent:r},t)),_.createElement(A2.Provider,{value:c},t)};function c_e(){return new Map}function u_e(t){return _.useEffect(()=>()=>t(),[])}const nu=t=>t.key||"";function d_e(t,e){t.forEach(r=>{const n=nu(r);e.set(n,r)})}function f_e(t){const e=[];return _.Children.forEach(t,r=>{_.isValidElement(r)&&e.push(r)}),e}const LT=({children:t,custom:e,initial:r=!0,onExitComplete:n,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const s=_.useContext(pj).forceRender||o_e()[0],l=aq(),c=f_e(t);let d=c;const f=_.useRef(new Map).current,h=_.useRef(d),p=_.useRef(new Map).current,m=_.useRef(!0);if(uj(()=>{m.current=!1,d_e(c,p),h.current=d}),u_e(()=>{m.current=!0,p.clear(),f.clear()}),m.current)return _.createElement(_.Fragment,null,d.map(x=>_.createElement(IE,{key:nu(x),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:a,mode:o},x)));d=[...d];const g=h.current.map(nu),v=c.map(nu),y=g.length;for(let x=0;x<y;x++){const w=g[x];v.indexOf(w)===-1&&!f.has(w)&&f.set(w,void 0)}return o==="wait"&&f.size&&(d=[]),f.forEach((x,w)=>{if(v.indexOf(w)!==-1)return;const S=p.get(w);if(!S)return;const E=g.indexOf(w);let T=x;if(!T){const A=()=>{f.delete(w);const C=Array.from(p.keys()).filter(N=>!v.includes(N));if(C.forEach(N=>p.delete(N)),h.current=c.filter(N=>{const I=nu(N);return I===w||C.includes(I)}),!f.size){if(l.current===!1)return;s(),n&&n()}};T=_.createElement(IE,{key:nu(S),isPresent:!1,onExitComplete:A,custom:e,presenceAffectsLayout:a,mode:o},S),f.set(w,T)}d.splice(E,0,T)}),d=d.map(x=>{const w=x.key;return f.has(w)?x:_.createElement(IE,{key:nu(x),isPresent:!0,presenceAffectsLayout:a,mode:o},x)}),_.createElement(_.Fragment,null,f.size?d:d.map(x=>_.cloneElement(x)))},h_e=()=>{const t=[{icon:Hi,label:"Household",color:"text-blue-500"},{icon:lr,label:"Shopping",color:"text-green-500"},{icon:zo,label:"Expenses",color:"text-yellow-500"},{icon:PH,label:"Tasks",color:"text-purple-500"},{icon:Wn,label:"Pantry",color:"text-orange-500"}];return u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[u.jsx(Tn.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.6,type:"spring"},className:"mb-8",children:u.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:u.jsx(Kf,{className:"w-12 h-12 text-white"})})}),u.jsx(Tn.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"text-4xl font-bold text-gray-900 mb-4",children:"Welcome to TaskaLoop"}),u.jsx(Tn.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"text-xl text-gray-600 mb-12 max-w-2xl",children:"Your all-in-one household management platform. Let's take a quick tour of what makes TaskaLoop special."}),u.jsx("div",{className:"grid grid-cols-5 gap-8 mb-12",children:t.map((e,r)=>u.jsxs(Tn.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.7+r*.1,duration:.6},className:"flex flex-col items-center",children:[u.jsx(Tn.div,{animate:{y:[0,-10,0]},transition:{duration:2,repeat:1/0,delay:r*.2},className:`w-16 h-16 rounded-full border-2 border-gray-200 flex items-center justify-center ${e.color} bg-white shadow-lg`,children:u.jsx(e.icon,{className:"w-6 h-6"})}),u.jsx("span",{className:"text-sm text-gray-600 mt-2",children:e.label})]},e.label))}),u.jsx(Tn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5,duration:.6},className:"text-gray-500 text-sm",children:"This quick tour will take about 60 seconds"})]})},p_e=()=>u.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-blue-500 rounded-full flex items-center justify-center mb-6",children:u.jsx(Hi,{className:"w-10 h-10 text-white"})}),u.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Build Your Household Team"}),u.jsx("p",{className:"text-gray-600 max-w-2xl mb-8",children:"Add household members to start collaborating on everything from shopping lists to expense splitting."}),u.jsx("div",{className:"grid grid-cols-3 gap-4 max-w-xl",children:["You (Admin)","Sarah","Mike"].map((t,e)=>u.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-gray-200 text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-xl mx-auto mb-2",children:["👨‍💼","👩‍🏫","👨‍🔧"][e]}),u.jsx("div",{className:"font-medium",children:t})]},t))})]}),m_e=()=>u.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-green-500 rounded-full flex items-center justify-center mb-6",children:u.jsx(lr,{className:"w-10 h-10 text-white"})}),u.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Smart Shopping Lists"}),u.jsx("p",{className:"text-gray-600 max-w-2xl mb-8",children:"Create shared shopping lists that update in real-time. See prices, who added what, and never miss an item."}),u.jsxs("div",{className:"bg-white rounded-lg border-2 border-gray-200 p-6 max-w-md w-full",children:[u.jsx("h4",{className:"font-semibold mb-4",children:"Weekly Groceries"}),[{name:"Milk",price:"$3.99",by:"Sarah"},{name:"Bread",price:"$2.49",by:"Mike"},{name:"Eggs",price:"$4.29",by:"You"}].map(t=>u.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:t.name}),u.jsxs("div",{className:"text-sm text-gray-500",children:["Added by ",t.by]})]}),u.jsx("div",{className:"font-semibold text-green-600",children:t.price})]},t.name))]})]}),g_e=()=>u.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-yellow-500 rounded-full flex items-center justify-center mb-6",children:u.jsx(zo,{className:"w-10 h-10 text-white"})}),u.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Automatic Expense Splitting"}),u.jsx("p",{className:"text-gray-600 max-w-2xl mb-8",children:"Upload receipts and automatically split expenses with your household members. No more awkward money conversations."}),u.jsxs("div",{className:"grid grid-cols-3 gap-6 items-center max-w-2xl",children:[u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 mb-2",children:[u.jsx("div",{className:"text-2xl font-bold text-green-600",children:"$63.69"}),u.jsx("div",{className:"text-sm text-gray-500",children:"Grocery Receipt"})]}),u.jsx("div",{className:"text-sm text-gray-600",children:"1. Upload receipt"})]}),u.jsx("div",{className:"text-center",children:u.jsx(ij,{className:"w-8 h-8 text-blue-500 mx-auto"})}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 mb-2",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"$21.23"}),u.jsx("div",{className:"text-sm text-gray-500",children:"per person"})]}),u.jsx("div",{className:"text-sm text-gray-600",children:"2. Auto-split equally"})]})]})]}),v_e=()=>u.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-purple-500 rounded-full flex items-center justify-center mb-6",children:u.jsx(PH,{className:"w-10 h-10 text-white"})}),u.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Task Coordination Made Simple"}),u.jsx("p",{className:"text-gray-600 max-w-2xl mb-8",children:"Assign tasks, set due dates, and get notifications. Everyone knows what needs to be done and when."}),u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-lg w-full",children:[u.jsx("h4",{className:"font-semibold mb-4",children:"Household Tasks"}),[{task:"Take out trash",person:"Mike",due:"Today",priority:"high"},{task:"Grocery shopping",person:"Sarah",due:"Tomorrow",priority:"medium"},{task:"Clean kitchen",person:"You",due:"Friday",priority:"low"}].map(t=>u.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100 last:border-b-0",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:t.task}),u.jsxs("div",{className:"text-sm text-gray-500",children:[t.person," • ",t.due]})]}),u.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${t.priority==="high"?"bg-red-100 text-red-800":t.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:t.priority})]},t.task))]})]}),y_e=()=>u.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mb-6",children:u.jsx(Wn,{className:"w-10 h-10 text-white"})}),u.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Smart Pantry Management"}),u.jsx("p",{className:"text-gray-600 max-w-2xl mb-8",children:"Track expiry dates, scan barcodes, and automatically add items to your shopping list when they're running low."}),u.jsxs("div",{className:"grid grid-cols-2 gap-6 max-w-2xl",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4",children:[u.jsx("h5",{className:"font-semibold mb-3",children:"Current Pantry"}),[{name:"Milk",expiry:"Expires in 2 days",status:"warning"},{name:"Bread",expiry:"Expires in 5 days",status:"good"},{name:"Eggs",expiry:"Expired 1 day ago",status:"expired"}].map(t=>u.jsxs("div",{className:"flex justify-between items-center py-2",children:[u.jsx("span",{className:"font-medium",children:t.name}),u.jsx("span",{className:`px-2 py-1 rounded text-xs ${t.status==="expired"?"bg-red-100 text-red-800":t.status==="warning"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:t.expiry})]},t.name))]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[u.jsx("div",{className:"text-2xl mb-2",children:"📷"}),u.jsx("div",{className:"font-medium",children:"Barcode Scanner"}),u.jsx("div",{className:"text-sm text-gray-600",children:"Scan items to add instantly"})]}),u.jsx("div",{className:"bg-orange-50 rounded-lg p-3",children:u.jsx("div",{className:"text-sm text-orange-800",children:"⚠️ Milk expires in 2 days"})})]})]})]}),x_e=()=>u.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[u.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-full flex items-center justify-center mb-8",children:u.jsx(Kf,{className:"w-16 h-16 text-white"})}),u.jsx("h3",{className:"text-4xl font-bold text-gray-900 mb-4",children:"🎉 You're All Set!"}),u.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mb-8",children:"Your household management platform is ready to go. Start organizing your life with your family and friends."}),u.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6 max-w-lg",children:[u.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Quick Start Ideas"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 text-left text-sm",children:[u.jsx("div",{children:"• Invite Your Family"}),u.jsx("div",{children:"• Create Shopping List"}),u.jsx("div",{children:"• Assign Tasks"}),u.jsx("div",{children:"• Upload Receipt"})]})]})]}),w_e=()=>{const{isActive:t,currentStep:e,totalSteps:r,nextStep:n,prevStep:i,skipTutorial:a,progress:o}=tj();if(!t)return null;const s=[u.jsx(h_e,{},"welcome"),u.jsx(p_e,{},"household"),u.jsx(m_e,{},"shopping"),u.jsx(g_e,{},"expense"),u.jsx(v_e,{},"task"),u.jsx(y_e,{},"pantry"),u.jsx(x_e,{},"cta")],l=["Welcome to TaskaLoop","Set Up Your Household","Smart Shopping Lists","Expense Splitting","Task Coordination","Pantry Management","You're All Set!"];return u.jsx(LT,{children:u.jsx(Tn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-2 md:p-4",children:u.jsxs(Tn.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative w-full max-w-4xl h-[95vh] bg-white rounded-xl shadow-2xl flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 p-4 md:p-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[u.jsxs("div",{className:"text-sm text-gray-600 whitespace-nowrap",children:["Step ",e+1," of ",r]}),u.jsx("div",{className:"flex-1 max-w-md",children:u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx(Tn.div,{className:"bg-blue-600 h-2 rounded-full",initial:{width:0},animate:{width:`${o}%`},transition:{duration:.5}})})})]}),u.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-full transition-colors ml-4","aria-label":"Close tutorial",children:u.jsx(ra,{className:"w-5 h-5 text-gray-600"})})]}),u.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 mt-4",children:l[e]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto overscroll-contain",children:u.jsx("div",{className:"p-4 md:p-6",children:u.jsx(LT,{mode:"wait",children:u.jsx(Tn.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"min-h-[400px]",children:s[e]},e)})})}),u.jsx("div",{className:"flex-shrink-0 bg-white border-t border-gray-200 p-4 md:p-6",children:u.jsxs("div",{className:"flex items-center justify-between gap-4",children:[u.jsxs(q,{variant:"outline",onClick:i,disabled:e===0,className:"flex items-center space-x-2",children:[u.jsx(w2,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(q,{variant:"outline",onClick:a,className:"text-gray-600 hidden sm:flex",children:"Skip Tutorial"}),u.jsxs(q,{onClick:n,className:"flex items-center space-x-2",children:[u.jsx("span",{children:e===r-1?"Get Started":"Next"}),u.jsx(ij,{className:"w-4 h-4"})]})]})]})})]})})})};function b_e(){const t=localStorage.getItem("theme");t==="dark"?document.documentElement.classList.add("dark"):(document.documentElement.classList.remove("dark"),t||localStorage.setItem("theme","light"))}function __e(){return document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"),"light"):(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark"),"dark")}function S_e(){return document.documentElement.classList.contains("dark")?"dark":"light"}const E_e=()=>{const t=Si();return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-teal-50 dark:from-blue-900/30 dark:via-purple-900/20 dark:to-teal-900/30",children:[u.jsx("header",{className:"container mx-auto py-4",children:u.jsxs("nav",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ql,{className:"h-6 w-6 text-teal-600 dark:text-teal-400"}),u.jsx("span",{className:"text-xl font-bold text-teal-600 dark:text-teal-400",children:"TaskaLoop"})]}),u.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[u.jsx(q,{variant:"ghost",className:"text-teal-700 hover:text-teal-900 hover:bg-teal-50 dark:text-teal-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20",children:"Home"}),u.jsx(q,{variant:"ghost",className:"text-slate-600 hover:text-teal-900 hover:bg-teal-50 dark:text-slate-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20",children:"Features"}),u.jsx(q,{variant:"ghost",className:"text-slate-600 hover:text-teal-900 hover:bg-teal-50 dark:text-slate-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20",children:"About"}),u.jsx(q,{variant:"ghost",className:"text-slate-600 hover:text-teal-900 hover:bg-teal-50 dark:text-slate-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20",children:"Contact"})]}),u.jsx("div",{children:u.jsx(q,{className:"bg-teal-600 hover:bg-teal-700 dark:bg-teal-500 dark:hover:bg-teal-600 text-white",onClick:()=>t("/home"),children:"Get Started"})})]})}),u.jsx("section",{className:"container mx-auto py-16 md:py-24",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-slate-800 dark:text-slate-200 leading-tight",children:["Simplify Your ",u.jsx("span",{className:"text-teal-600 dark:text-teal-400",children:"Daily Tasks"})," With TaskaLoop"]}),u.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 max-w-md",children:"The all-in-one solution for managing shopping lists, splitting expenses, and organizing your daily tasks."}),u.jsxs("div",{className:"flex gap-4 pt-4",children:[u.jsx(q,{className:"bg-teal-600 hover:bg-teal-700 dark:bg-teal-500 dark:hover:bg-teal-600 px-6 py-6 h-auto",onClick:()=>t("/home"),children:"Try It Free"}),u.jsx(q,{variant:"outline",className:"border-teal-600 text-teal-600 hover:bg-teal-50 dark:border-teal-400 dark:text-teal-400 dark:hover:bg-teal-900/20 px-6 py-6 h-auto",children:"Learn More"})]})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx("div",{className:"relative w-full max-w-md aspect-square bg-gradient-to-br from-teal-200 to-blue-200 dark:from-teal-600/50 dark:to-blue-600/50 rounded-full flex items-center justify-center",children:u.jsx("div",{className:"absolute inset-4 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-full flex items-center justify-center",children:u.jsx(Ql,{className:"h-24 w-24 text-teal-600 dark:text-teal-400"})})})})]})}),u.jsxs("section",{className:"container mx-auto py-16",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"All Features in One Place"}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400 max-w-2xl mx-auto",children:"TaskaLoop brings together everything you need to organize your shopping and daily activities."})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs(Ne,{className:"border-none shadow-md hover:shadow-lg transition-shadow dark:bg-gray-800/60 backdrop-blur-sm",children:[u.jsxs(Fe,{className:"pb-2",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/50 flex items-center justify-center mb-2",children:u.jsx(lr,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),u.jsx(Be,{className:"text-xl text-slate-800 dark:text-slate-200",children:"Shopping Trips"}),u.jsx(st,{className:"dark:text-slate-400",children:"Organize your shopping lists by store or trip"})]}),u.jsx(Ie,{children:u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx(Gn,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),u.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Create multiple shopping lists"})]}),u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx(Gn,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),u.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Categorize items automatically"})]}),u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx(Gn,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),u.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Track prices and budgets"})]})]})}),u.jsx(hr,{children:u.jsx(q,{variant:"ghost",className:"text-teal-600 hover:text-teal-700 hover:bg-teal-50 dark:text-teal-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20 px-0",children:"Learn more →"})})]}),u.jsxs(Ne,{className:"border-none shadow-md hover:shadow-lg transition-shadow dark:bg-gray-800/60 backdrop-blur-sm",children:[u.jsxs(Fe,{className:"pb-2",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-100 dark:bg-purple-900/50 flex items-center justify-center mb-2",children:u.jsx(MH,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),u.jsx(Be,{className:"text-xl text-slate-800 dark:text-slate-200",children:"Cart Splitting"}),u.jsx(st,{className:"dark:text-slate-400",children:"Easily split expenses with roommates or friends"})]}),u.jsx(Ie,{children:u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx(Gn,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),u.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Assign items to different people"})]}),u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx(Gn,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),u.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Calculate individual totals"})]}),u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx(Gn,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),u.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Share expense reports"})]})]})}),u.jsx(hr,{children:u.jsx(q,{variant:"ghost",className:"text-teal-600 hover:text-teal-700 hover:bg-teal-50 dark:text-teal-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20 px-0",children:"Learn more →"})})]}),u.jsxs(Ne,{className:"border-none shadow-md hover:shadow-lg transition-shadow dark:bg-gray-800/60 backdrop-blur-sm",children:[u.jsxs(Fe,{className:"pb-2",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-teal-100 dark:bg-teal-900/50 flex items-center justify-center mb-2",children:u.jsx(Hi,{className:"h-6 w-6 text-teal-600 dark:text-teal-400"})}),u.jsx(Be,{className:"text-xl text-slate-800 dark:text-slate-200",children:"Group Management"}),u.jsx(st,{className:"dark:text-slate-400",children:"Collaborate with family and friends"})]}),u.jsx(Ie,{children:u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx(Gn,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),u.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Create household groups"})]}),u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx(Gn,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),u.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Share lists with specific people"})]}),u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx(Gn,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),u.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Real-time updates for all members"})]})]})}),u.jsx(hr,{children:u.jsx(q,{variant:"ghost",className:"text-teal-600 hover:text-teal-700 hover:bg-teal-50 dark:text-teal-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20 px-0",children:"Learn more →"})})]})]})]}),u.jsx("section",{className:"container mx-auto py-16 mb-8",children:u.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-blue-500 dark:from-teal-600 dark:to-blue-600 rounded-2xl p-8 md:p-12 text-center text-white",children:[u.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Simplify Your Life?"}),u.jsx("p",{className:"max-w-2xl mx-auto mb-8",children:"Join thousands of users who are already enjoying the benefits of TaskaLoop."}),u.jsx(q,{className:"bg-white text-teal-600 hover:bg-gray-100 dark:hover:bg-gray-200 px-8 py-6 h-auto text-lg",onClick:()=>t("/home"),children:"Get Started for Free"})]})}),u.jsx("footer",{className:"container mx-auto py-8 border-t border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4 md:mb-0",children:[u.jsx(Ql,{className:"h-5 w-5 text-teal-600 dark:text-teal-400"}),u.jsx("span",{className:"text-lg font-semibold text-teal-600 dark:text-teal-400",children:"TaskaLoop"})]}),u.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["© ",new Date().getFullYear()," TaskaLoop. All rights reserved."]})]})})]})};function A_e(t,e=[]){let r=[];function n(a,o){const s=_.createContext(o),l=r.length;r=[...r,o];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||s,v=_.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:v,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||s,m=_.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,d]}const i=()=>{const a=r.map(o=>_.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return _.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,C_e(i,...e)]}function C_e(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...s,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function jj(t){const e=t+"CollectionProvider",[r,n]=A_e(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:m,children:g}=p,v=D.useRef(null),y=D.useRef(new Map).current;return u.jsx(i,{scope:m,itemMap:y,collectionRef:v,children:g})};o.displayName=e;const s=t+"CollectionSlot",l=D.forwardRef((p,m)=>{const{scope:g,children:v}=p,y=a(s,g),x=Ze(m,y.collectionRef);return u.jsx($s,{ref:x,children:v})});l.displayName=s;const c=t+"CollectionItemSlot",d="data-radix-collection-item",f=D.forwardRef((p,m)=>{const{scope:g,children:v,...y}=p,x=D.useRef(null),w=Ze(m,x),S=a(c,g);return D.useEffect(()=>(S.itemMap.set(x,{ref:x,...y}),()=>void S.itemMap.delete(x))),u.jsx($s,{[d]:"",ref:w,children:v})});f.displayName=c;function h(p){const m=a(t+"CollectionConsumer",p);return D.useCallback(()=>{const v=m.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(m.itemMap.values()).sort((S,E)=>y.indexOf(S.ref.current)-y.indexOf(E.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},h,n]}function T_e(t,e=[]){let r=[];function n(a,o){const s=_.createContext(o),l=r.length;r=[...r,o];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||s,v=_.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:v,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||s,m=_.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,d]}const i=()=>{const a=r.map(o=>_.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return _.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,N_e(i,...e)]}function N_e(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...s,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var I_e=_.createContext(void 0);function b0(t){const e=_.useContext(I_e);return t||e||"ltr"}var PE="rovingFocusGroup.onEntryFocus",P_e={bubbles:!1,cancelable:!0},j2="RovingFocusGroup",[$T,oq,O_e]=jj(j2),[j_e,k2]=T_e(j2,[O_e]),[k_e,R_e]=j_e(j2),sq=_.forwardRef((t,e)=>u.jsx($T.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx($T.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(D_e,{...t,ref:e})})}));sq.displayName=j2;var D_e=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,h=_.useRef(null),p=Ze(e,h),m=b0(a),[g=null,v]=Us({prop:o,defaultProp:s,onChange:l}),[y,x]=_.useState(!1),w=zr(c),S=oq(r),E=_.useRef(!1),[T,A]=_.useState(0);return _.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(PE,w),()=>C.removeEventListener(PE,w)},[w]),u.jsx(k_e,{scope:r,orientation:n,dir:m,loop:i,currentTabStopId:g,onItemFocus:_.useCallback(C=>v(C),[v]),onItemShiftTab:_.useCallback(()=>x(!0),[]),onFocusableItemAdd:_.useCallback(()=>A(C=>C+1),[]),onFocusableItemRemove:_.useCallback(()=>A(C=>C-1),[]),children:u.jsx(Me.div,{tabIndex:y||T===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:Te(t.onMouseDown,()=>{E.current=!0}),onFocus:Te(t.onFocus,C=>{const N=!E.current;if(C.target===C.currentTarget&&N&&!y){const I=new CustomEvent(PE,P_e);if(C.currentTarget.dispatchEvent(I),!I.defaultPrevented){const P=S().filter(M=>M.focusable),k=P.find(M=>M.active),O=P.find(M=>M.id===g),z=[k,O,...P].filter(Boolean).map(M=>M.ref.current);uq(z,d)}}E.current=!1}),onBlur:Te(t.onBlur,()=>x(!1))})})}),lq="RovingFocusGroupItem",cq=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,...o}=t,s=uo(),l=a||s,c=R_e(lq,r),d=c.currentTabStopId===l,f=oq(r),{onFocusableItemAdd:h,onFocusableItemRemove:p}=c;return _.useEffect(()=>{if(n)return h(),()=>p()},[n,h,p]),u.jsx($T.ItemSlot,{scope:r,id:l,focusable:n,active:i,children:u.jsx(Me.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:Te(t.onMouseDown,m=>{n?c.onItemFocus(l):m.preventDefault()}),onFocus:Te(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:Te(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){c.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const g=$_e(m,c.orientation,c.dir);if(g!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let y=f().filter(x=>x.focusable).map(x=>x.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const x=y.indexOf(m.currentTarget);y=c.loop?F_e(y,x+1):y.slice(x+1)}setTimeout(()=>uq(y))}})})})});cq.displayName=lq;var M_e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function L_e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function $_e(t,e,r){const n=L_e(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return M_e[n]}function uq(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function F_e(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var dq=sq,fq=cq,kj="Tabs",[B_e,sst]=bo(kj,[k2]),hq=k2(),[U_e,Rj]=B_e(kj),pq=_.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:l="automatic",...c}=t,d=b0(s),[f,h]=Us({prop:n,onChange:i,defaultProp:a});return u.jsx(U_e,{scope:r,baseId:uo(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:l,children:u.jsx(Me.div,{dir:d,"data-orientation":o,...c,ref:e})})});pq.displayName=kj;var mq="TabsList",gq=_.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,a=Rj(mq,r),o=hq(r);return u.jsx(dq,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:u.jsx(Me.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});gq.displayName=mq;var vq="TabsTrigger",yq=_.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=t,o=Rj(vq,r),s=hq(r),l=bq(o.baseId,n),c=_q(o.baseId,n),d=n===o.value;return u.jsx(fq,{asChild:!0,...s,focusable:!i,active:d,children:u.jsx(Me.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:e,onMouseDown:Te(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Te(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Te(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(n)})})})});yq.displayName=vq;var xq="TabsContent",wq=_.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=t,s=Rj(xq,r),l=bq(s.baseId,n),c=_q(s.baseId,n),d=n===s.value,f=_.useRef(d);return _.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),u.jsx(Rn,{present:i||d,children:({present:h})=>u.jsx(Me.div,{"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});wq.displayName=xq;function bq(t,e){return`${t}-trigger-${e}`}function _q(t,e){return`${t}-content-${e}`}var V_e=pq,Sq=gq,Eq=yq,Aq=wq;const bc=V_e,Gs=_.forwardRef(({className:t,...e},r)=>u.jsx(Sq,{ref:r,className:Pe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Gs.displayName=Sq.displayName;const Jt=_.forwardRef(({className:t,onClick:e,...r},n)=>{const i=a=>{ms.light(),e&&e(a)};return u.jsx(Eq,{ref:n,className:Pe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),onClick:i,...r})});Jt.displayName=Eq.displayName;const Ir=_.forwardRef(({className:t,...e},r)=>u.jsx(Aq,{ref:r,className:Pe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Ir.displayName=Aq.displayName;var Dj="Avatar",[z_e,lst]=bo(Dj),[W_e,Cq]=z_e(Dj),Tq=_.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,a]=_.useState("idle");return u.jsx(W_e,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:u.jsx(Me.span,{...n,ref:e})})});Tq.displayName=Dj;var Nq="AvatarImage",Iq=_.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=t,o=Cq(Nq,r),s=H_e(n,a.referrerPolicy),l=zr(c=>{i(c),o.onImageLoadingStatusChange(c)});return xn(()=>{s!=="idle"&&l(s)},[s,l]),s==="loaded"?u.jsx(Me.img,{...a,ref:e,src:n}):null});Iq.displayName=Nq;var Pq="AvatarFallback",Oq=_.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,a=Cq(Pq,r),[o,s]=_.useState(n===void 0);return _.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>s(!0),n);return()=>window.clearTimeout(l)}},[n]),o&&a.imageLoadingStatus!=="loaded"?u.jsx(Me.span,{...i,ref:e}):null});Oq.displayName=Pq;function H_e(t,e){const[r,n]=_.useState("idle");return xn(()=>{if(!t){n("error");return}let i=!0;const a=new window.Image,o=s=>()=>{i&&n(s)};return n("loading"),a.onload=o("loaded"),a.onerror=o("error"),a.src=t,e&&(a.referrerPolicy=e),()=>{i=!1}},[t,e]),r}var jq=Tq,kq=Iq,Rq=Oq;const pn=_.forwardRef(({className:t,...e},r)=>u.jsx(jq,{ref:r,className:Pe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));pn.displayName=jq.displayName;const _0=_.forwardRef(({className:t,...e},r)=>u.jsx(kq,{ref:r,className:Pe("aspect-square h-full w-full",t),...e}));_0.displayName=kq.displayName;const mn=_.forwardRef(({className:t,...e},r)=>u.jsx(Rq,{ref:r,className:Pe("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));mn.displayName=Rq.displayName;function G_e(t,e=[]){let r=[];function n(a,o){const s=_.createContext(o),l=r.length;r=[...r,o];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||s,v=_.useMemo(()=>m,Object.values(m));return u.jsx(g.Provider,{value:v,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||s,m=_.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,d]}const i=()=>{const a=r.map(o=>_.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return _.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,q_e(i,...e)]}function q_e(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...s,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Mj="Progress",Lj=100,[K_e,cst]=G_e(Mj),[Y_e,X_e]=K_e(Mj),Dq=_.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=Q_e,...o}=t;(i||i===0)&&!P8(i)&&console.error(Z_e(`${i}`,"Progress"));const s=P8(i)?i:Lj;n!==null&&!O8(n,s)&&console.error(J_e(`${n}`,"Progress"));const l=O8(n,s)?n:null,c=dw(l)?a(l,s):void 0;return u.jsx(Y_e,{scope:r,value:l,max:s,children:u.jsx(Me.div,{"aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":dw(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":$q(l,s),"data-value":l??void 0,"data-max":s,...o,ref:e})})});Dq.displayName=Mj;var Mq="ProgressIndicator",Lq=_.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=X_e(Mq,r);return u.jsx(Me.div,{"data-state":$q(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});Lq.displayName=Mq;function Q_e(t,e){return`${Math.round(t/e*100)}%`}function $q(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function dw(t){return typeof t=="number"}function P8(t){return dw(t)&&!isNaN(t)&&t>0}function O8(t,e){return dw(t)&&!isNaN(t)&&t<=e&&t>=0}function Z_e(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Lj}\`.`}function J_e(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Lj} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Fq=Dq,eSe=Lq;const fw=_.forwardRef(({className:t,value:e,...r},n)=>u.jsx(Fq,{ref:n,className:Pe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:u.jsx(eSe,{className:"h-full w-full flex-1 bg-gradient-to-r from-gloop-primary to-gloop-primary-light transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));fw.displayName=Fq.displayName;var OE=0;function R2(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??j8()),document.body.insertAdjacentElement("beforeend",t[1]??j8()),OE++,()=>{OE===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),OE--}},[])}function j8(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var jE="focusScope.autoFocusOnMount",kE="focusScope.autoFocusOnUnmount",k8={bubbles:!1,cancelable:!0},tSe="FocusScope",S0=_.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[s,l]=_.useState(null),c=zr(i),d=zr(a),f=_.useRef(null),h=Ze(e,g=>l(g)),p=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(n){let g=function(w){if(p.paused||!s)return;const S=w.target;s.contains(S)?f.current=S:yl(f.current,{select:!0})},v=function(w){if(p.paused||!s)return;const S=w.relatedTarget;S!==null&&(s.contains(S)||yl(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const E of w)E.removedNodes.length>0&&yl(s)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const x=new MutationObserver(y);return s&&x.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),x.disconnect()}}},[n,s,p.paused]),_.useEffect(()=>{if(s){D8.add(p);const g=document.activeElement;if(!s.contains(g)){const y=new CustomEvent(jE,k8);s.addEventListener(jE,c),s.dispatchEvent(y),y.defaultPrevented||(rSe(sSe(Bq(s)),{select:!0}),document.activeElement===g&&yl(s))}return()=>{s.removeEventListener(jE,c),setTimeout(()=>{const y=new CustomEvent(kE,k8);s.addEventListener(kE,d),s.dispatchEvent(y),y.defaultPrevented||yl(g??document.body,{select:!0}),s.removeEventListener(kE,d),D8.remove(p)},0)}}},[s,c,d,p]);const m=_.useCallback(g=>{if(!r&&!n||p.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(v&&y){const x=g.currentTarget,[w,S]=nSe(x);w&&S?!g.shiftKey&&y===S?(g.preventDefault(),r&&yl(w,{select:!0})):g.shiftKey&&y===w&&(g.preventDefault(),r&&yl(S,{select:!0})):y===x&&g.preventDefault()}},[r,n,p.paused]);return u.jsx(Me.div,{tabIndex:-1,...o,ref:h,onKeyDown:m})});S0.displayName=tSe;function rSe(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(yl(n,{select:e}),document.activeElement!==r)return}function nSe(t){const e=Bq(t),r=R8(e,t),n=R8(e.reverse(),t);return[r,n]}function Bq(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function R8(t,e){for(const r of t)if(!iSe(r,{upTo:e}))return r}function iSe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function aSe(t){return t instanceof HTMLInputElement&&"select"in t}function yl(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&aSe(t)&&e&&t.select()}}var D8=oSe();function oSe(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=M8(t,e),t.unshift(e)},remove(e){var r;t=M8(t,e),(r=t[0])==null||r.resume()}}}function M8(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function sSe(t){return t.filter(e=>e.tagName!=="A")}var lSe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Cd=new WeakMap,Fy=new WeakMap,By={},RE=0,Uq=function(t){return t&&(t.host||Uq(t.parentNode))},cSe=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=Uq(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},uSe=function(t,e,r,n){var i=cSe(e,Array.isArray(t)?t:[t]);By[r]||(By[r]=new WeakMap);var a=By[r],o=[],s=new Set,l=new Set(i),c=function(f){!f||s.has(f)||(s.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(s.has(h))d(h);else try{var p=h.getAttribute(n),m=p!==null&&p!=="false",g=(Cd.get(h)||0)+1,v=(a.get(h)||0)+1;Cd.set(h,g),a.set(h,v),o.push(h),g===1&&m&&Fy.set(h,!0),v===1&&h.setAttribute(r,"true"),m||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(e),s.clear(),RE++,function(){o.forEach(function(f){var h=Cd.get(f)-1,p=a.get(f)-1;Cd.set(f,h),a.set(f,p),h||(Fy.has(f)||f.removeAttribute(n),Fy.delete(f)),p||f.removeAttribute(r)}),RE--,RE||(Cd=new WeakMap,Cd=new WeakMap,Fy=new WeakMap,By={})}},D2=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=lSe(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),uSe(n,i,r,"aria-hidden")):function(){return null}},V1="right-scroll-bar-position",z1="width-before-scroll-bar",dSe="with-scroll-bars-hidden",fSe="--removed-body-scroll-bar-size";function DE(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function hSe(t,e){var r=_.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var pSe=typeof window<"u"?_.useLayoutEffect:_.useEffect,L8=new WeakMap;function mSe(t,e){var r=hSe(null,function(n){return t.forEach(function(i){return DE(i,n)})});return pSe(function(){var n=L8.get(r);if(n){var i=new Set(n),a=new Set(t),o=r.current;i.forEach(function(s){a.has(s)||DE(s,null)}),a.forEach(function(s){i.has(s)||DE(s,o)})}L8.set(r,t)},[t]),r}function gSe(t){return t}function vSe(t,e){e===void 0&&(e=gSe);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var o=e(a,n);return r.push(o),function(){r=r.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(s){return a(s)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var s=r;r=[],s.forEach(a),o=r}var l=function(){var d=o;o=[],d.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),r}}}};return i}function ySe(t){t===void 0&&(t={});var e=vSe(null);return e.options=Ro({async:!0,ssr:!1},t),e}var Vq=function(t){var e=t.sideCar,r=l0(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return _.createElement(n,Ro({},r))};Vq.isSideCarExport=!0;function xSe(t,e){return t.useMedium(e),Vq}var zq=ySe(),ME=function(){},M2=_.forwardRef(function(t,e){var r=_.useRef(null),n=_.useState({onScrollCapture:ME,onWheelCapture:ME,onTouchMoveCapture:ME}),i=n[0],a=n[1],o=t.forwardProps,s=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,p=t.noIsolation,m=t.inert,g=t.allowPinchZoom,v=t.as,y=v===void 0?"div":v,x=t.gapMode,w=l0(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,E=mSe([r,e]),T=Ro(Ro({},w),i);return _.createElement(_.Fragment,null,d&&_.createElement(S,{sideCar:zq,removeScrollBar:c,shards:f,noIsolation:p,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:r,gapMode:x}),o?_.cloneElement(_.Children.only(s),Ro(Ro({},T),{ref:E})):_.createElement(y,Ro({},T,{className:l,ref:E}),s))});M2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};M2.classNames={fullWidth:z1,zeroRight:V1};var wSe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bSe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=wSe();return e&&t.setAttribute("nonce",e),t}function _Se(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function SSe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var ESe=function(){var t=0,e=null;return{add:function(r){t==0&&(e=bSe())&&(_Se(e,r),SSe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},ASe=function(){var t=ESe();return function(e,r){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},Wq=function(){var t=ASe(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},CSe={left:0,top:0,right:0,gap:0},LE=function(t){return parseInt(t||"",10)||0},TSe=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[LE(r),LE(n),LE(i)]},NSe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return CSe;var e=TSe(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},ISe=Wq(),Sf="data-scroll-locked",PSe=function(t,e,r,n){var i=t.left,a=t.top,o=t.right,s=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(dSe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(Sf,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(V1,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(z1,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(V1," .").concat(V1,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(z1," .").concat(z1,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Sf,`] {
    `).concat(fSe,": ").concat(s,`px;
  }
`)},$8=function(){var t=parseInt(document.body.getAttribute(Sf)||"0",10);return isFinite(t)?t:0},OSe=function(){_.useEffect(function(){return document.body.setAttribute(Sf,($8()+1).toString()),function(){var t=$8()-1;t<=0?document.body.removeAttribute(Sf):document.body.setAttribute(Sf,t.toString())}},[])},jSe=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;OSe();var a=_.useMemo(function(){return NSe(i)},[i]);return _.createElement(ISe,{styles:PSe(a,!e,i,r?"":"!important")})},FT=!1;if(typeof window<"u")try{var Uy=Object.defineProperty({},"passive",{get:function(){return FT=!0,!0}});window.addEventListener("test",Uy,Uy),window.removeEventListener("test",Uy,Uy)}catch{FT=!1}var Td=FT?{passive:!1}:!1,kSe=function(t){return t.tagName==="TEXTAREA"},Hq=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!kSe(t)&&r[e]==="visible")},RSe=function(t){return Hq(t,"overflowY")},DSe=function(t){return Hq(t,"overflowX")},F8=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=Gq(t,n);if(i){var a=qq(t,n),o=a[1],s=a[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},MSe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},LSe=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},Gq=function(t,e){return t==="v"?RSe(e):DSe(e)},qq=function(t,e){return t==="v"?MSe(e):LSe(e)},$Se=function(t,e){return t==="h"&&e==="rtl"?-1:1},FSe=function(t,e,r,n,i){var a=$Se(t,window.getComputedStyle(e).direction),o=a*n,s=r.target,l=e.contains(s),c=!1,d=o>0,f=0,h=0;do{var p=qq(t,s),m=p[0],g=p[1],v=p[2],y=g-v-a*m;(m||y)&&Gq(t,s)&&(f+=y,h+=m),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!l&&s!==document.body||l&&(e.contains(s)||e===s));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(c=!0),c},Vy=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},B8=function(t){return[t.deltaX,t.deltaY]},U8=function(t){return t&&"current"in t?t.current:t},BSe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},USe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},VSe=0,Nd=[];function zSe(t){var e=_.useRef([]),r=_.useRef([0,0]),n=_.useRef(),i=_.useState(VSe++)[0],a=_.useState(Wq)[0],o=_.useRef(t);_.useEffect(function(){o.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=fhe([t.lockRef.current],(t.shards||[]).map(U8),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=_.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var y=Vy(g),x=r.current,w="deltaX"in g?g.deltaX:x[0]-y[0],S="deltaY"in g?g.deltaY:x[1]-y[1],E,T=g.target,A=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in g&&A==="h"&&T.type==="range")return!1;var C=F8(A,T);if(!C)return!0;if(C?E=A:(E=A==="v"?"h":"v",C=F8(A,T)),!C)return!1;if(!n.current&&"changedTouches"in g&&(w||S)&&(n.current=E),!E)return!0;var N=n.current||E;return FSe(N,v,g,N==="h"?w:S)},[]),l=_.useCallback(function(g){var v=g;if(!(!Nd.length||Nd[Nd.length-1]!==a)){var y="deltaY"in v?B8(v):Vy(v),x=e.current.filter(function(E){return E.name===v.type&&(E.target===v.target||v.target===E.shadowParent)&&BSe(E.delta,y)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var w=(o.current.shards||[]).map(U8).filter(Boolean).filter(function(E){return E.contains(v.target)}),S=w.length>0?s(v,w[0]):!o.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),c=_.useCallback(function(g,v,y,x){var w={name:g,delta:v,target:y,should:x,shadowParent:WSe(y)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(S){return S!==w})},1)},[]),d=_.useCallback(function(g){r.current=Vy(g),n.current=void 0},[]),f=_.useCallback(function(g){c(g.type,B8(g),g.target,s(g,t.lockRef.current))},[]),h=_.useCallback(function(g){c(g.type,Vy(g),g.target,s(g,t.lockRef.current))},[]);_.useEffect(function(){return Nd.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Td),document.addEventListener("touchmove",l,Td),document.addEventListener("touchstart",d,Td),function(){Nd=Nd.filter(function(g){return g!==a}),document.removeEventListener("wheel",l,Td),document.removeEventListener("touchmove",l,Td),document.removeEventListener("touchstart",d,Td)}},[]);var p=t.removeScrollBar,m=t.inert;return _.createElement(_.Fragment,null,m?_.createElement(a,{styles:USe(i)}):null,p?_.createElement(jSe,{gapMode:t.gapMode}):null)}function WSe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const HSe=xSe(zq,zSe);var E0=_.forwardRef(function(t,e){return _.createElement(M2,Ro({},t,{ref:e,sideCar:HSe}))});E0.classNames=M2.classNames;var BT=["Enter"," "],GSe=["ArrowDown","PageUp","Home"],Kq=["ArrowUp","PageDown","End"],qSe=[...GSe,...Kq],KSe={ltr:[...BT,"ArrowRight"],rtl:[...BT,"ArrowLeft"]},YSe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},A0="Menu",[Wg,XSe,QSe]=jj(A0),[fd,Yq]=bo(A0,[QSe,Nc,k2]),L2=Nc(),Xq=k2(),[ZSe,hd]=fd(A0),[JSe,C0]=fd(A0),Qq=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:a,modal:o=!0}=t,s=L2(e),[l,c]=_.useState(null),d=_.useRef(!1),f=zr(a),h=b0(i);return _.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),u.jsx(ZP,{...s,children:u.jsx(ZSe,{scope:e,open:r,onOpenChange:f,content:l,onContentChange:c,children:u.jsx(JSe,{scope:e,onClose:_.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};Qq.displayName=A0;var eEe="MenuAnchor",$j=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=L2(r);return u.jsx(e0,{...i,...n,ref:e})});$j.displayName=eEe;var Fj="MenuPortal",[tEe,Zq]=fd(Fj,{forceMount:void 0}),Jq=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,a=hd(Fj,e);return u.jsx(tEe,{scope:e,forceMount:r,children:u.jsx(Rn,{present:r||a.open,children:u.jsx(t0,{asChild:!0,container:i,children:n})})})};Jq.displayName=Fj;var Na="MenuContent",[rEe,Bj]=fd(Na),eK=_.forwardRef((t,e)=>{const r=Zq(Na,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=hd(Na,t.__scopeMenu),o=C0(Na,t.__scopeMenu);return u.jsx(Wg.Provider,{scope:t.__scopeMenu,children:u.jsx(Rn,{present:n||a.open,children:u.jsx(Wg.Slot,{scope:t.__scopeMenu,children:o.modal?u.jsx(nEe,{...i,ref:e}):u.jsx(iEe,{...i,ref:e})})})})}),nEe=_.forwardRef((t,e)=>{const r=hd(Na,t.__scopeMenu),n=_.useRef(null),i=Ze(e,n);return _.useEffect(()=>{const a=n.current;if(a)return D2(a)},[]),u.jsx(Uj,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Te(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),iEe=_.forwardRef((t,e)=>{const r=hd(Na,t.__scopeMenu);return u.jsx(Uj,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Uj=_.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:m,...g}=t,v=hd(Na,r),y=C0(Na,r),x=L2(r),w=Xq(r),S=XSe(r),[E,T]=_.useState(null),A=_.useRef(null),C=Ze(e,A,v.onContentChange),N=_.useRef(0),I=_.useRef(""),P=_.useRef(0),k=_.useRef(null),O=_.useRef("right"),L=_.useRef(0),z=m?E0:_.Fragment,M=m?{as:$s,allowPinchZoom:!0}:void 0,W=B=>{var ge,Se;const G=I.current+B,X=S().filter(se=>!se.disabled),Y=document.activeElement,ee=(ge=X.find(se=>se.ref.current===Y))==null?void 0:ge.textValue,ce=X.map(se=>se.textValue),de=gEe(ce,G,ee),_e=(Se=X.find(se=>se.textValue===de))==null?void 0:Se.ref.current;(function se(V){I.current=V,window.clearTimeout(N.current),V!==""&&(N.current=window.setTimeout(()=>se(""),1e3))})(G),_e&&setTimeout(()=>_e.focus())};_.useEffect(()=>()=>window.clearTimeout(N.current),[]),R2();const $=_.useCallback(B=>{var X,Y;return O.current===((X=k.current)==null?void 0:X.side)&&yEe(B,(Y=k.current)==null?void 0:Y.area)},[]);return u.jsx(rEe,{scope:r,searchRef:I,onItemEnter:_.useCallback(B=>{$(B)&&B.preventDefault()},[$]),onItemLeave:_.useCallback(B=>{var G;$(B)||((G=A.current)==null||G.focus(),T(null))},[$]),onTriggerLeave:_.useCallback(B=>{$(B)&&B.preventDefault()},[$]),pointerGraceTimerRef:P,onPointerGraceIntentChange:_.useCallback(B=>{k.current=B},[]),children:u.jsx(z,{...M,children:u.jsx(S0,{asChild:!0,trapped:i,onMountAutoFocus:Te(a,B=>{var G;B.preventDefault(),(G=A.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:u.jsx(Lh,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:u.jsx(dq,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:E,onCurrentTabStopIdChange:T,onEntryFocus:Te(l,B=>{y.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(qb,{role:"menu","aria-orientation":"vertical","data-state":gK(v.open),"data-radix-menu-content":"",dir:y.dir,...x,...g,ref:C,style:{outline:"none",...g.style},onKeyDown:Te(g.onKeyDown,B=>{const X=B.target.closest("[data-radix-menu-content]")===B.currentTarget,Y=B.ctrlKey||B.altKey||B.metaKey,ee=B.key.length===1;X&&(B.key==="Tab"&&B.preventDefault(),!Y&&ee&&W(B.key));const ce=A.current;if(B.target!==ce||!qSe.includes(B.key))return;B.preventDefault();const _e=S().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);Kq.includes(B.key)&&_e.reverse(),pEe(_e)}),onBlur:Te(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(N.current),I.current="")}),onPointerMove:Te(t.onPointerMove,Hg(B=>{const G=B.target,X=L.current!==B.clientX;if(B.currentTarget.contains(G)&&X){const Y=B.clientX>L.current?"right":"left";O.current=Y,L.current=B.clientX}}))})})})})})})});eK.displayName=Na;var aEe="MenuGroup",Vj=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return u.jsx(Me.div,{role:"group",...n,ref:e})});Vj.displayName=aEe;var oEe="MenuLabel",tK=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return u.jsx(Me.div,{...n,ref:e})});tK.displayName=oEe;var hw="MenuItem",V8="menu.itemSelect",$2=_.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,a=_.useRef(null),o=C0(hw,t.__scopeMenu),s=Bj(hw,t.__scopeMenu),l=Ze(e,a),c=_.useRef(!1),d=()=>{const f=a.current;if(!r&&f){const h=new CustomEvent(V8,{bubbles:!0,cancelable:!0});f.addEventListener(V8,p=>n==null?void 0:n(p),{once:!0}),NU(f,h),h.defaultPrevented?c.current=!1:o.onClose()}};return u.jsx(rK,{...i,ref:l,disabled:r,onClick:Te(t.onClick,d),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),c.current=!0},onPointerUp:Te(t.onPointerUp,f=>{var h;c.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Te(t.onKeyDown,f=>{const h=s.searchRef.current!=="";r||h&&f.key===" "||BT.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});$2.displayName=hw;var rK=_.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=t,o=Bj(hw,r),s=Xq(r),l=_.useRef(null),c=Ze(e,l),[d,f]=_.useState(!1),[h,p]=_.useState("");return _.useEffect(()=>{const m=l.current;m&&p((m.textContent??"").trim())},[a.children]),u.jsx(Wg.ItemSlot,{scope:r,disabled:n,textValue:i??h,children:u.jsx(fq,{asChild:!0,...s,focusable:!n,children:u.jsx(Me.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:c,onPointerMove:Te(t.onPointerMove,Hg(m=>{n?o.onItemLeave(m):(o.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Te(t.onPointerLeave,Hg(m=>o.onItemLeave(m))),onFocus:Te(t.onFocus,()=>f(!0)),onBlur:Te(t.onBlur,()=>f(!1))})})})}),sEe="MenuCheckboxItem",nK=_.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return u.jsx(lK,{scope:t.__scopeMenu,checked:r,children:u.jsx($2,{role:"menuitemcheckbox","aria-checked":pw(r)?"mixed":r,...i,ref:e,"data-state":Wj(r),onSelect:Te(i.onSelect,()=>n==null?void 0:n(pw(r)?!0:!r),{checkForDefaultPrevented:!1})})})});nK.displayName=sEe;var iK="MenuRadioGroup",[lEe,cEe]=fd(iK,{value:void 0,onValueChange:()=>{}}),aK=_.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,a=zr(n);return u.jsx(lEe,{scope:t.__scopeMenu,value:r,onValueChange:a,children:u.jsx(Vj,{...i,ref:e})})});aK.displayName=iK;var oK="MenuRadioItem",sK=_.forwardRef((t,e)=>{const{value:r,...n}=t,i=cEe(oK,t.__scopeMenu),a=r===i.value;return u.jsx(lK,{scope:t.__scopeMenu,checked:a,children:u.jsx($2,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":Wj(a),onSelect:Te(n.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,r)},{checkForDefaultPrevented:!1})})})});sK.displayName=oK;var zj="MenuItemIndicator",[lK,uEe]=fd(zj,{checked:!1}),cK=_.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,a=uEe(zj,r);return u.jsx(Rn,{present:n||pw(a.checked)||a.checked===!0,children:u.jsx(Me.span,{...i,ref:e,"data-state":Wj(a.checked)})})});cK.displayName=zj;var dEe="MenuSeparator",uK=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return u.jsx(Me.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});uK.displayName=dEe;var fEe="MenuArrow",dK=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=L2(r);return u.jsx(Kb,{...i,...n,ref:e})});dK.displayName=fEe;var hEe="MenuSub",[ust,fK]=fd(hEe),Tm="MenuSubTrigger",hK=_.forwardRef((t,e)=>{const r=hd(Tm,t.__scopeMenu),n=C0(Tm,t.__scopeMenu),i=fK(Tm,t.__scopeMenu),a=Bj(Tm,t.__scopeMenu),o=_.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:l}=a,c={__scopeMenu:t.__scopeMenu},d=_.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return _.useEffect(()=>d,[d]),_.useEffect(()=>{const f=s.current;return()=>{window.clearTimeout(f),l(null)}},[s,l]),u.jsx($j,{asChild:!0,...c,children:u.jsx(rK,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":gK(r.open),...t,ref:zb(e,i.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Te(t.onPointerMove,Hg(f=>{a.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Te(t.onPointerLeave,Hg(f=>{var p,m;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const g=(m=r.content)==null?void 0:m.dataset.side,v=g==="right",y=v?-5:5,x=h[v?"left":"right"],w=h[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x,y:h.bottom}],side:g}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Te(t.onKeyDown,f=>{var p;const h=a.searchRef.current!=="";t.disabled||h&&f.key===" "||KSe[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});hK.displayName=Tm;var pK="MenuSubContent",mK=_.forwardRef((t,e)=>{const r=Zq(Na,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=hd(Na,t.__scopeMenu),o=C0(Na,t.__scopeMenu),s=fK(pK,t.__scopeMenu),l=_.useRef(null),c=Ze(e,l);return u.jsx(Wg.Provider,{scope:t.__scopeMenu,children:u.jsx(Rn,{present:n||a.open,children:u.jsx(Wg.Slot,{scope:t.__scopeMenu,children:u.jsx(Uj,{id:s.contentId,"aria-labelledby":s.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Te(t.onFocusOutside,d=>{d.target!==s.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Te(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Te(t.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=YSe[o.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(p=s.trigger)==null||p.focus(),d.preventDefault())})})})})})});mK.displayName=pK;function gK(t){return t?"open":"closed"}function pw(t){return t==="indeterminate"}function Wj(t){return pw(t)?"indeterminate":t?"checked":"unchecked"}function pEe(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function mEe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function gEe(t,e,r){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=mEe(t,Math.max(a,0));i.length===1&&(o=o.filter(c=>c!==r));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function vEe(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const s=e[a].x,l=e[a].y,c=e[o].x,d=e[o].y;l>n!=d>n&&r<(c-s)*(n-l)/(d-l)+s&&(i=!i)}return i}function yEe(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return vEe(r,e)}function Hg(t){return e=>e.pointerType==="mouse"?t(e):void 0}var xEe=Qq,wEe=$j,bEe=Jq,_Ee=eK,SEe=Vj,EEe=tK,AEe=$2,CEe=nK,TEe=aK,NEe=sK,IEe=cK,PEe=uK,OEe=dK,jEe=hK,kEe=mK,Hj="DropdownMenu",[REe,dst]=bo(Hj,[Yq]),Ei=Yq(),[DEe,vK]=REe(Hj),yK=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:o,modal:s=!0}=t,l=Ei(e),c=_.useRef(null),[d=!1,f]=Us({prop:i,defaultProp:a,onChange:o});return u.jsx(DEe,{scope:e,triggerId:uo(),triggerRef:c,contentId:uo(),open:d,onOpenChange:f,onOpenToggle:_.useCallback(()=>f(h=>!h),[f]),modal:s,children:u.jsx(xEe,{...l,open:d,onOpenChange:f,dir:n,modal:s,children:r})})};yK.displayName=Hj;var xK="DropdownMenuTrigger",wK=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,a=vK(xK,r),o=Ei(r);return u.jsx(wEe,{asChild:!0,...o,children:u.jsx(Me.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:zb(e,a.triggerRef),onPointerDown:Te(t.onPointerDown,s=>{!n&&s.button===0&&s.ctrlKey===!1&&(a.onOpenToggle(),a.open||s.preventDefault())}),onKeyDown:Te(t.onKeyDown,s=>{n||(["Enter"," "].includes(s.key)&&a.onOpenToggle(),s.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});wK.displayName=xK;var MEe="DropdownMenuPortal",bK=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Ei(e);return u.jsx(bEe,{...n,...r})};bK.displayName=MEe;var _K="DropdownMenuContent",SK=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=vK(_K,r),a=Ei(r),o=_.useRef(!1);return u.jsx(_Ee,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:e,onCloseAutoFocus:Te(t.onCloseAutoFocus,s=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,s.preventDefault()}),onInteractOutside:Te(t.onInteractOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});SK.displayName=_K;var LEe="DropdownMenuGroup",$Ee=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ei(r);return u.jsx(SEe,{...i,...n,ref:e})});$Ee.displayName=LEe;var FEe="DropdownMenuLabel",EK=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ei(r);return u.jsx(EEe,{...i,...n,ref:e})});EK.displayName=FEe;var BEe="DropdownMenuItem",AK=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ei(r);return u.jsx(AEe,{...i,...n,ref:e})});AK.displayName=BEe;var UEe="DropdownMenuCheckboxItem",CK=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ei(r);return u.jsx(CEe,{...i,...n,ref:e})});CK.displayName=UEe;var VEe="DropdownMenuRadioGroup",zEe=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ei(r);return u.jsx(TEe,{...i,...n,ref:e})});zEe.displayName=VEe;var WEe="DropdownMenuRadioItem",TK=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ei(r);return u.jsx(NEe,{...i,...n,ref:e})});TK.displayName=WEe;var HEe="DropdownMenuItemIndicator",NK=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ei(r);return u.jsx(IEe,{...i,...n,ref:e})});NK.displayName=HEe;var GEe="DropdownMenuSeparator",IK=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ei(r);return u.jsx(PEe,{...i,...n,ref:e})});IK.displayName=GEe;var qEe="DropdownMenuArrow",KEe=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ei(r);return u.jsx(OEe,{...i,...n,ref:e})});KEe.displayName=qEe;var YEe="DropdownMenuSubTrigger",PK=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ei(r);return u.jsx(jEe,{...i,...n,ref:e})});PK.displayName=YEe;var XEe="DropdownMenuSubContent",OK=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ei(r);return u.jsx(kEe,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});OK.displayName=XEe;var QEe=yK,ZEe=wK,JEe=bK,jK=SK,kK=EK,RK=AK,DK=CK,MK=TK,LK=NK,$K=IK,FK=PK,BK=OK;const Gg=QEe,qg=ZEe,eAe=_.forwardRef(({className:t,inset:e,children:r,...n},i)=>u.jsxs(FK,{ref:i,className:Pe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...n,children:[r,u.jsx(p0,{className:"ml-auto h-4 w-4"})]}));eAe.displayName=FK.displayName;const tAe=_.forwardRef(({className:t,...e},r)=>u.jsx(BK,{ref:r,className:Pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));tAe.displayName=BK.displayName;const Zf=_.forwardRef(({className:t,sideOffset:e=4,...r},n)=>u.jsx(JEe,{children:u.jsx(jK,{ref:n,sideOffset:e,className:Pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Zf.displayName=jK.displayName;const hi=_.forwardRef(({className:t,inset:e,...r},n)=>u.jsx(RK,{ref:n,className:Pe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...r}));hi.displayName=RK.displayName;const rAe=_.forwardRef(({className:t,children:e,checked:r,...n},i)=>u.jsxs(DK,{ref:i,className:Pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(LK,{children:u.jsx(ki,{className:"h-4 w-4"})})}),e]}));rAe.displayName=DK.displayName;const nAe=_.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(MK,{ref:n,className:Pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(LK,{children:u.jsx(S1e,{className:"h-2 w-2 fill-current"})})}),e]}));nAe.displayName=MK.displayName;const iAe=_.forwardRef(({className:t,inset:e,...r},n)=>u.jsx(kK,{ref:n,className:Pe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));iAe.displayName=kK.displayName;const Kg=_.forwardRef(({className:t,...e},r)=>u.jsx($K,{ref:r,className:Pe("-mx-1 my-1 h-px bg-muted",t),...e}));Kg.displayName=$K.displayName;const UK=_.createContext(void 0);function aAe({children:t}){const[e,r]=_.useState(!0),[n,i]=_.useState(!1);_.useEffect(()=>{const s=()=>{i(window.innerWidth<768),window.innerWidth<768?r(!1):r(!0)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const a=()=>r(!e),o=()=>r(!1);return u.jsx(UK.Provider,{value:{isOpen:e,toggleSidebar:a,closeSidebar:o},children:t})}function VK(){const t=_.useContext(UK);if(t===void 0)throw new Error("useSidebar must be used within a SidebarProvider");return t}const oAe=[{path:"/home",icon:u.jsx(Kf,{className:"h-5 w-5"}),label:"Home"},{path:"/map",icon:u.jsx(Bi,{className:"h-5 w-5"}),label:"Map"},{path:"/trips",icon:u.jsx(Hi,{className:"h-5 w-5"}),label:"Trips"},{path:"/pantry",icon:u.jsx(Wn,{className:"h-5 w-5"}),label:"Pantry"},{path:"/recurring-items",icon:u.jsx(_2,{className:"h-5 w-5"}),label:"Recurring Items"},{path:"/ledger",icon:u.jsx(V1e,{className:"h-5 w-5"}),label:"Ledger"},{path:"/dashboard",icon:u.jsx(lr,{className:"h-5 w-5"}),label:"Dashboard"},{path:"/profile",icon:u.jsx(Yf,{className:"h-5 w-5"}),label:"Profile"}];function sAe(){const{toggleSidebar:t}=VK();return u.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 h-14 bg-white border-b border-slate-200 z-40 flex items-center px-4",children:[u.jsx(q,{variant:"ghost",size:"icon",onClick:t,children:u.jsx(L1e,{className:"h-5 w-5"})}),u.jsxs("div",{className:"flex items-center gap-2 mx-auto",children:[u.jsx(Ql,{className:"h-5 w-5 text-teal-600"}),u.jsx("span",{className:"text-lg font-bold text-teal-600",children:"TaskaLoop"})]})]})}function zK(){var d,f,h,p;const t=ns(),e=Si(),{isOpen:r,closeSidebar:n}=VK(),{user:i,isAdmin:a}=xr(),[o,s]=_.useState(""),l=t.pathname,c=m=>{e(m),window.innerWidth<768&&n()};return u.jsxs(u.Fragment,{children:[r&&u.jsx("div",{className:"md:hidden fixed inset-0 bg-black/30 z-40",onClick:n}),u.jsxs("aside",{className:Pe("fixed inset-y-0 left-0 w-64 bg-white border-r border-slate-200 z-50 transition-transform duration-300 ease-in-out",r?"translate-x-0":"-translate-x-full md:translate-x-0"),children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ql,{className:"h-6 w-6 text-teal-600"}),u.jsx("span",{className:"text-xl font-bold text-teal-600",children:"TaskaLoop"})]}),u.jsx(q,{variant:"ghost",size:"icon",className:"md:hidden",onClick:n,children:u.jsx(ra,{className:"h-5 w-5"})})]}),u.jsxs("nav",{className:"px-2 py-4",children:[u.jsx("div",{className:"px-3 py-2",children:u.jsx("h3",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Main"})}),u.jsx("div",{className:"space-y-1",children:oAe.map(m=>u.jsxs(T1,{to:m.path,className:`flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-md ${l.startsWith(m.path)?"bg-slate-100 text-teal-700":"text-slate-700 hover:bg-slate-100"}`,onClick:()=>c(m.path),children:[m.icon,m.label]},m.path))})]}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-slate-200",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{onClick:()=>c("/profile"),className:"cursor-pointer",children:u.jsxs(pn,{children:[u.jsx(_0,{src:i==null?void 0:i.avatar}),u.jsx(mn,{className:"bg-teal-100 text-teal-700",children:((f=(d=i==null?void 0:i.name)==null?void 0:d.charAt(0))==null?void 0:f.toUpperCase())||((p=(h=i==null?void 0:i.email)==null?void 0:h.charAt(0))==null?void 0:p.toUpperCase())||"U"})]})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{onClick:()=>c("/profile"),className:"text-sm font-medium text-slate-700 truncate cursor-pointer hover:underline",children:(i==null?void 0:i.name)||"User"}),u.jsx("p",{className:"text-xs text-slate-500 truncate",children:(i==null?void 0:i.email)||"No email"})]}),u.jsx(q,{variant:"ghost",size:"icon",className:"text-slate-500 hover:text-slate-700",onClick:()=>c("/settings"),children:u.jsx(m0,{className:"h-5 w-5"})})]})})]})]})}function ca({children:t}){return u.jsx(aAe,{children:u.jsxs("div",{className:"flex min-h-screen bg-slate-50",children:[u.jsx(zK,{}),u.jsx(sAe,{}),u.jsx("main",{className:"flex-1 md:pl-64 pb-16 md:pb-0 pt-14 md:pt-0",children:t})]})})}var Gj="Dialog",[WK,fst]=bo(Gj),[lAe,_o]=WK(Gj),HK=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,s=_.useRef(null),l=_.useRef(null),[c=!1,d]=Us({prop:n,defaultProp:i,onChange:a});return u.jsx(lAe,{scope:e,triggerRef:s,contentRef:l,contentId:uo(),titleId:uo(),descriptionId:uo(),open:c,onOpenChange:d,onOpenToggle:_.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};HK.displayName=Gj;var GK="DialogTrigger",qK=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=_o(GK,r),a=Ze(e,i.triggerRef);return u.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Yj(i.open),...n,ref:a,onClick:Te(t.onClick,i.onOpenToggle)})});qK.displayName=GK;var qj="DialogPortal",[cAe,KK]=WK(qj,{forceMount:void 0}),YK=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=_o(qj,e);return u.jsx(cAe,{scope:e,forceMount:r,children:_.Children.map(n,o=>u.jsx(Rn,{present:r||a.open,children:u.jsx(t0,{asChild:!0,container:i,children:o})}))})};YK.displayName=qj;var mw="DialogOverlay",XK=_.forwardRef((t,e)=>{const r=KK(mw,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=_o(mw,t.__scopeDialog);return a.modal?u.jsx(Rn,{present:n||a.open,children:u.jsx(uAe,{...i,ref:e})}):null});XK.displayName=mw;var uAe=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=_o(mw,r);return u.jsx(E0,{as:$s,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(Me.div,{"data-state":Yj(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),zu="DialogContent",QK=_.forwardRef((t,e)=>{const r=KK(zu,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=_o(zu,t.__scopeDialog);return u.jsx(Rn,{present:n||a.open,children:a.modal?u.jsx(dAe,{...i,ref:e}):u.jsx(fAe,{...i,ref:e})})});QK.displayName=zu;var dAe=_.forwardRef((t,e)=>{const r=_o(zu,t.__scopeDialog),n=_.useRef(null),i=Ze(e,r.contentRef,n);return _.useEffect(()=>{const a=n.current;if(a)return D2(a)},[]),u.jsx(ZK,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Te(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Te(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&a.preventDefault()}),onFocusOutside:Te(t.onFocusOutside,a=>a.preventDefault())})}),fAe=_.forwardRef((t,e)=>{const r=_o(zu,t.__scopeDialog),n=_.useRef(!1),i=_.useRef(!1);return u.jsx(ZK,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((c=r.triggerRef.current)==null?void 0:c.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),ZK=_.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,s=_o(zu,r),l=_.useRef(null),c=Ze(e,l);return R2(),u.jsxs(u.Fragment,{children:[u.jsx(S0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:u.jsx(Lh,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":Yj(s.open),...o,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(hAe,{titleId:s.titleId}),u.jsx(mAe,{contentRef:l,descriptionId:s.descriptionId})]})]})}),Kj="DialogTitle",JK=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=_o(Kj,r);return u.jsx(Me.h2,{id:i.titleId,...n,ref:e})});JK.displayName=Kj;var eY="DialogDescription",tY=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=_o(eY,r);return u.jsx(Me.p,{id:i.descriptionId,...n,ref:e})});tY.displayName=eY;var rY="DialogClose",nY=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=_o(rY,r);return u.jsx(Me.button,{type:"button",...n,ref:e,onClick:Te(t.onClick,()=>i.onOpenChange(!1))})});nY.displayName=rY;function Yj(t){return t?"open":"closed"}var iY="DialogTitleWarning",[hst,aY]=sae(iY,{contentName:zu,titleName:Kj,docsSlug:"dialog"}),hAe=({titleId:t})=>{const e=aY(iY),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},pAe="DialogDescriptionWarning",mAe=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${aY(pAe).contentName}}.`;return _.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},oY=HK,gAe=qK,sY=YK,F2=XK,B2=QK,U2=JK,V2=tY,lY=nY;const cr=oY,gw=gAe,vAe=sY,cY=_.forwardRef(({className:t,...e},r)=>u.jsx(F2,{ref:r,className:Pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));cY.displayName=F2.displayName;const rr=_.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(vAe,{children:[u.jsx(cY,{}),u.jsxs(B2,{ref:n,className:Pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,u.jsxs(lY,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(ra,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));rr.displayName=B2.displayName;const nr=({className:t,...e})=>u.jsx("div",{className:Pe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});nr.displayName="DialogHeader";const Jn=({className:t,...e})=>u.jsx("div",{className:Pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Jn.displayName="DialogFooter";const ir=_.forwardRef(({className:t,...e},r)=>u.jsx(U2,{ref:r,className:Pe("text-lg font-semibold leading-none tracking-tight",t),...e}));ir.displayName=U2.displayName;const xi=_.forwardRef(({className:t,...e},r)=>u.jsx(V2,{ref:r,className:Pe("text-sm text-muted-foreground",t),...e}));xi.displayName=V2.displayName;const De=_.forwardRef(({className:t,type:e,...r},n)=>u.jsx("input",{type:e,className:Pe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));De.displayName="Input";var yAe="Label",uY=_.forwardRef((t,e)=>u.jsx(Me.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));uY.displayName=yAe;var dY=uY;const xAe=g0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),oe=_.forwardRef(({className:t,...e},r)=>u.jsx(dY,{ref:r,className:Pe(xAe(),t),...e}));oe.displayName=dY.displayName;function z2({className:t,selected:e,onSelect:r,showOutsideDays:n=!0,...i}){const[a,o]=_.useState(e||new Date),s=()=>{o(y=>{const x=new Date(y);return x.setMonth(x.getMonth()-1),x})},l=()=>{o(y=>{const x=new Date(y);return x.setMonth(x.getMonth()+1),x})},c=(y,x)=>new Date(y,x+1,0).getDate(),d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],f=a.toLocaleString("default",{month:"long"}),h=a.getFullYear(),p=a.getMonth(),m=c(h,p),g=new Date(h,p,1).getDay(),v=[];for(let y=0;y<g;y++)v.push(null);for(let y=1;y<=m;y++)v.push(new Date(h,p,y));return u.jsxs("div",{className:Pe("p-3",t),children:[u.jsxs("div",{className:"flex justify-center pt-1 relative items-center",children:[u.jsx("button",{onClick:s,className:Pe(F1({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 absolute left-1"),children:u.jsx(b2,{className:"h-4 w-4"})}),u.jsxs("div",{className:"text-sm font-medium",children:[f," ",h]}),u.jsx("button",{onClick:l,className:Pe(F1({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 absolute right-1"),children:u.jsx(p0,{className:"h-4 w-4"})})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("div",{className:"flex w-full",children:d.map(y=>u.jsx("div",{className:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem] text-center",children:y},y))}),u.jsx("div",{className:"flex flex-wrap mt-2",children:v.map((y,x)=>u.jsx("button",{disabled:!y,className:Pe(F1({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100",y&&e&&y.toDateString()===e.toDateString()?"bg-primary text-primary-foreground":"",y&&y.toDateString()===new Date().toDateString()?"bg-accent text-accent-foreground":"",y?"":"invisible"),onClick:()=>y&&r&&r(y),children:y?y.getDate():""},x))})]})]})}z2.displayName="Calendar";var Xj="Popover",[fY,pst]=bo(Xj,[Nc]),T0=Nc(),[wAe,kc]=fY(Xj),hY=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!1}=t,s=T0(e),l=_.useRef(null),[c,d]=_.useState(!1),[f=!1,h]=Us({prop:n,defaultProp:i,onChange:a});return u.jsx(ZP,{...s,children:u.jsx(wAe,{scope:e,contentId:uo(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:_.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:c,onCustomAnchorAdd:_.useCallback(()=>d(!0),[]),onCustomAnchorRemove:_.useCallback(()=>d(!1),[]),modal:o,children:r})})};hY.displayName=Xj;var pY="PopoverAnchor",bAe=_.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=kc(pY,r),a=T0(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:s}=i;return _.useEffect(()=>(o(),()=>s()),[o,s]),u.jsx(e0,{...a,...n,ref:e})});bAe.displayName=pY;var mY="PopoverTrigger",gY=_.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=kc(mY,r),a=T0(r),o=Ze(e,i.triggerRef),s=u.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":bY(i.open),...n,ref:o,onClick:Te(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:u.jsx(e0,{asChild:!0,...a,children:s})});gY.displayName=mY;var Qj="PopoverPortal",[_Ae,SAe]=fY(Qj,{forceMount:void 0}),vY=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,a=kc(Qj,e);return u.jsx(_Ae,{scope:e,forceMount:r,children:u.jsx(Rn,{present:r||a.open,children:u.jsx(t0,{asChild:!0,container:i,children:n})})})};vY.displayName=Qj;var Jf="PopoverContent",yY=_.forwardRef((t,e)=>{const r=SAe(Jf,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,a=kc(Jf,t.__scopePopover);return u.jsx(Rn,{present:n||a.open,children:a.modal?u.jsx(EAe,{...i,ref:e}):u.jsx(AAe,{...i,ref:e})})});yY.displayName=Jf;var EAe=_.forwardRef((t,e)=>{const r=kc(Jf,t.__scopePopover),n=_.useRef(null),i=Ze(e,n),a=_.useRef(!1);return _.useEffect(()=>{const o=n.current;if(o)return D2(o)},[]),u.jsx(E0,{as:$s,allowPinchZoom:!0,children:u.jsx(xY,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Te(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),a.current||(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Te(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0,c=s.button===2||l;a.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Te(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),AAe=_.forwardRef((t,e)=>{const r=kc(Jf,t.__scopePopover),n=_.useRef(!1),i=_.useRef(!1);return u.jsx(xY,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((c=r.triggerRef.current)==null?void 0:c.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),xY=_.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...f}=t,h=kc(Jf,r),p=T0(r);return R2(),u.jsx(S0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:u.jsx(Lh,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:u.jsx(qb,{"data-state":bY(h.open),role:"dialog",id:h.contentId,...p,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),wY="PopoverClose",CAe=_.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=kc(wY,r);return u.jsx(Me.button,{type:"button",...n,ref:e,onClick:Te(t.onClick,()=>i.onOpenChange(!1))})});CAe.displayName=wY;var TAe="PopoverArrow",NAe=_.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=T0(r);return u.jsx(Kb,{...i,...n,ref:e})});NAe.displayName=TAe;function bY(t){return t?"open":"closed"}var IAe=hY,PAe=gY,OAe=vY,_Y=yY;const Yg=IAe,Xg=PAe,eh=_.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>u.jsx(OAe,{children:u.jsx(_Y,{ref:i,align:e,sideOffset:r,className:Pe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));eh.displayName=_Y.displayName;function UT(t,[e,r]){return Math.min(r,Math.max(e,t))}function Zj(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var jAe=[" ","Enter","ArrowUp","ArrowDown"],kAe=[" ","Enter"],N0="Select",[W2,H2,RAe]=jj(N0),[Yh,mst]=bo(N0,[RAe,Nc]),G2=Nc(),[DAe,Rc]=Yh(N0),[MAe,LAe]=Yh(N0),SY=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:p,form:m}=t,g=G2(e),[v,y]=_.useState(null),[x,w]=_.useState(null),[S,E]=_.useState(!1),T=b0(c),[A=!1,C]=Us({prop:n,defaultProp:i,onChange:a}),[N,I]=Us({prop:o,defaultProp:s,onChange:l}),P=_.useRef(null),k=v?m||!!v.closest("form"):!0,[O,L]=_.useState(new Set),z=Array.from(O).map(M=>M.props.value).join(";");return u.jsx(ZP,{...g,children:u.jsxs(DAe,{required:p,scope:e,trigger:v,onTriggerChange:y,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:E,contentId:uo(),value:N,onValueChange:I,open:A,onOpenChange:C,dir:T,triggerPointerDownPosRef:P,disabled:h,children:[u.jsx(W2.Provider,{scope:e,children:u.jsx(MAe,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback(M=>{L(W=>new Set(W).add(M))},[]),onNativeOptionRemove:_.useCallback(M=>{L(W=>{const $=new Set(W);return $.delete(M),$})},[]),children:r})}),k?u.jsxs(KY,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:M=>I(M.target.value),disabled:h,form:m,children:[N===void 0?u.jsx("option",{value:""}):null,Array.from(O)]},z):null]})})};SY.displayName=N0;var EY="SelectTrigger",AY=_.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=G2(r),o=Rc(EY,r),s=o.disabled||n,l=Ze(e,o.onTriggerChange),c=H2(r),d=_.useRef("touch"),[f,h,p]=YY(g=>{const v=c().filter(w=>!w.disabled),y=v.find(w=>w.value===o.value),x=XY(v,g,y);x!==void 0&&o.onValueChange(x.value)}),m=g=>{s||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return u.jsx(e0,{asChild:!0,...a,children:u.jsx(Me.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":qY(o.value)?"":void 0,...i,ref:l,onClick:Te(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&m(g)}),onPointerDown:Te(i.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(m(g),g.preventDefault())}),onKeyDown:Te(i.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(v&&g.key===" ")&&jAe.includes(g.key)&&(m(),g.preventDefault())})})})});AY.displayName=EY;var CY="SelectValue",TY=_.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...s}=t,l=Rc(CY,r),{onValueNodeHasChildrenChange:c}=l,d=a!==void 0,f=Ze(e,l.onValueNodeChange);return xn(()=>{c(d)},[c,d]),u.jsx(Me.span,{...s,ref:f,style:{pointerEvents:"none"},children:qY(l.value)?u.jsx(u.Fragment,{children:o}):a})});TY.displayName=CY;var $Ae="SelectIcon",NY=_.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return u.jsx(Me.span,{"aria-hidden":!0,...i,ref:e,children:n||"▼"})});NY.displayName=$Ae;var FAe="SelectPortal",IY=t=>u.jsx(t0,{asChild:!0,...t});IY.displayName=FAe;var Wu="SelectContent",PY=_.forwardRef((t,e)=>{const r=Rc(Wu,t.__scopeSelect),[n,i]=_.useState();if(xn(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?Mh.createPortal(u.jsx(OY,{scope:t.__scopeSelect,children:u.jsx(W2.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),a):null}return u.jsx(jY,{...t,ref:e})});PY.displayName=Wu;var Ya=10,[OY,Dc]=Yh(Wu),BAe="SelectContentImpl",jY=_.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:v,...y}=t,x=Rc(Wu,r),[w,S]=_.useState(null),[E,T]=_.useState(null),A=Ze(e,ge=>S(ge)),[C,N]=_.useState(null),[I,P]=_.useState(null),k=H2(r),[O,L]=_.useState(!1),z=_.useRef(!1);_.useEffect(()=>{if(w)return D2(w)},[w]),R2();const M=_.useCallback(ge=>{const[Se,...se]=k().map(H=>H.ref.current),[V]=se.slice(-1),Q=document.activeElement;for(const H of ge)if(H===Q||(H==null||H.scrollIntoView({block:"nearest"}),H===Se&&E&&(E.scrollTop=0),H===V&&E&&(E.scrollTop=E.scrollHeight),H==null||H.focus(),document.activeElement!==Q))return},[k,E]),W=_.useCallback(()=>M([C,w]),[M,C,w]);_.useEffect(()=>{O&&W()},[O,W]);const{onOpenChange:$,triggerPointerDownPosRef:B}=x;_.useEffect(()=>{if(w){let ge={x:0,y:0};const Se=V=>{var Q,H;ge={x:Math.abs(Math.round(V.pageX)-(((Q=B.current)==null?void 0:Q.x)??0)),y:Math.abs(Math.round(V.pageY)-(((H=B.current)==null?void 0:H.y)??0))}},se=V=>{ge.x<=10&&ge.y<=10?V.preventDefault():w.contains(V.target)||$(!1),document.removeEventListener("pointermove",Se),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",Se),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Se),document.removeEventListener("pointerup",se,{capture:!0})}}},[w,$,B]),_.useEffect(()=>{const ge=()=>$(!1);return window.addEventListener("blur",ge),window.addEventListener("resize",ge),()=>{window.removeEventListener("blur",ge),window.removeEventListener("resize",ge)}},[$]);const[G,X]=YY(ge=>{const Se=k().filter(Q=>!Q.disabled),se=Se.find(Q=>Q.ref.current===document.activeElement),V=XY(Se,ge,se);V&&setTimeout(()=>V.ref.current.focus())}),Y=_.useCallback((ge,Se,se)=>{const V=!z.current&&!se;(x.value!==void 0&&x.value===Se||V)&&(N(ge),V&&(z.current=!0))},[x.value]),ee=_.useCallback(()=>w==null?void 0:w.focus(),[w]),ce=_.useCallback((ge,Se,se)=>{const V=!z.current&&!se;(x.value!==void 0&&x.value===Se||V)&&P(ge)},[x.value]),de=n==="popper"?VT:kY,_e=de===VT?{side:s,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:v}:{};return u.jsx(OY,{scope:r,content:w,viewport:E,onViewportChange:T,itemRefCallback:Y,selectedItem:C,onItemLeave:ee,itemTextRefCallback:ce,focusSelectedItem:W,selectedItemText:I,position:n,isPositioned:O,searchRef:G,children:u.jsx(E0,{as:$s,allowPinchZoom:!0,children:u.jsx(S0,{asChild:!0,trapped:x.open,onMountAutoFocus:ge=>{ge.preventDefault()},onUnmountAutoFocus:Te(i,ge=>{var Se;(Se=x.trigger)==null||Se.focus({preventScroll:!0}),ge.preventDefault()}),children:u.jsx(Lh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:ge=>ge.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:u.jsx(de,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:ge=>ge.preventDefault(),...y,..._e,onPlaced:()=>L(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Te(y.onKeyDown,ge=>{const Se=ge.ctrlKey||ge.altKey||ge.metaKey;if(ge.key==="Tab"&&ge.preventDefault(),!Se&&ge.key.length===1&&X(ge.key),["ArrowUp","ArrowDown","Home","End"].includes(ge.key)){let V=k().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);if(["ArrowUp","End"].includes(ge.key)&&(V=V.slice().reverse()),["ArrowUp","ArrowDown"].includes(ge.key)){const Q=ge.target,H=V.indexOf(Q);V=V.slice(H+1)}setTimeout(()=>M(V)),ge.preventDefault()}})})})})})})});jY.displayName=BAe;var UAe="SelectItemAlignedPosition",kY=_.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=Rc(Wu,r),o=Dc(Wu,r),[s,l]=_.useState(null),[c,d]=_.useState(null),f=Ze(e,A=>d(A)),h=H2(r),p=_.useRef(!1),m=_.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:y,focusSelectedItem:x}=o,w=_.useCallback(()=>{if(a.trigger&&a.valueNode&&s&&c&&g&&v&&y){const A=a.trigger.getBoundingClientRect(),C=c.getBoundingClientRect(),N=a.valueNode.getBoundingClientRect(),I=y.getBoundingClientRect();if(a.dir!=="rtl"){const Q=I.left-C.left,H=N.left-Q,ve=A.left-H,fe=A.width+ve,te=Math.max(fe,C.width),re=window.innerWidth-Ya,K=UT(H,[Ya,Math.max(Ya,re-te)]);s.style.minWidth=fe+"px",s.style.left=K+"px"}else{const Q=C.right-I.right,H=window.innerWidth-N.right-Q,ve=window.innerWidth-A.right-H,fe=A.width+ve,te=Math.max(fe,C.width),re=window.innerWidth-Ya,K=UT(H,[Ya,Math.max(Ya,re-te)]);s.style.minWidth=fe+"px",s.style.right=K+"px"}const P=h(),k=window.innerHeight-Ya*2,O=g.scrollHeight,L=window.getComputedStyle(c),z=parseInt(L.borderTopWidth,10),M=parseInt(L.paddingTop,10),W=parseInt(L.borderBottomWidth,10),$=parseInt(L.paddingBottom,10),B=z+M+O+$+W,G=Math.min(v.offsetHeight*5,B),X=window.getComputedStyle(g),Y=parseInt(X.paddingTop,10),ee=parseInt(X.paddingBottom,10),ce=A.top+A.height/2-Ya,de=k-ce,_e=v.offsetHeight/2,ge=v.offsetTop+_e,Se=z+M+ge,se=B-Se;if(Se<=ce){const Q=P.length>0&&v===P[P.length-1].ref.current;s.style.bottom="0px";const H=c.clientHeight-g.offsetTop-g.offsetHeight,ve=Math.max(de,_e+(Q?ee:0)+H+W),fe=Se+ve;s.style.height=fe+"px"}else{const Q=P.length>0&&v===P[0].ref.current;s.style.top="0px";const ve=Math.max(ce,z+g.offsetTop+(Q?Y:0)+_e)+se;s.style.height=ve+"px",g.scrollTop=Se-ce+g.offsetTop}s.style.margin=`${Ya}px 0`,s.style.minHeight=G+"px",s.style.maxHeight=k+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,s,c,g,v,y,a.dir,n]);xn(()=>w(),[w]);const[S,E]=_.useState();xn(()=>{c&&E(window.getComputedStyle(c).zIndex)},[c]);const T=_.useCallback(A=>{A&&m.current===!0&&(w(),x==null||x(),m.current=!1)},[w,x]);return u.jsx(zAe,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:p,onScrollButtonChange:T,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:u.jsx(Me.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});kY.displayName=UAe;var VAe="SelectPopperPosition",VT=_.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Ya,...a}=t,o=G2(r);return u.jsx(qb,{...o,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});VT.displayName=VAe;var[zAe,Jj]=Yh(Wu,{}),zT="SelectViewport",RY=_.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=Dc(zT,r),o=Jj(zT,r),s=Ze(e,a.onViewportChange),l=_.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),u.jsx(W2.Slot,{scope:r,children:u.jsx(Me.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Te(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const m=window.innerHeight-Ya*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),y=Math.max(g,v);if(y<m){const x=y+p,w=Math.min(m,x),S=x-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});RY.displayName=zT;var DY="SelectGroup",[WAe,HAe]=Yh(DY),GAe=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=uo();return u.jsx(WAe,{scope:r,id:i,children:u.jsx(Me.div,{role:"group","aria-labelledby":i,...n,ref:e})})});GAe.displayName=DY;var MY="SelectLabel",LY=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=HAe(MY,r);return u.jsx(Me.div,{id:i.id,...n,ref:e})});LY.displayName=MY;var vw="SelectItem",[qAe,$Y]=Yh(vw),FY=_.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=t,s=Rc(vw,r),l=Dc(vw,r),c=s.value===n,[d,f]=_.useState(a??""),[h,p]=_.useState(!1),m=Ze(e,x=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,x,n,i)}),g=uo(),v=_.useRef("touch"),y=()=>{i||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(qAe,{scope:r,value:n,disabled:i,textId:g,isSelected:c,onItemTextChange:_.useCallback(x=>{f(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:u.jsx(W2.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:u.jsx(Me.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:m,onFocus:Te(o.onFocus,()=>p(!0)),onBlur:Te(o.onBlur,()=>p(!1)),onClick:Te(o.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:Te(o.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:Te(o.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:Te(o.onPointerMove,x=>{var w;v.current=x.pointerType,i?(w=l.onItemLeave)==null||w.call(l):v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Te(o.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:Te(o.onKeyDown,x=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&x.key===" "||(kAe.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});FY.displayName=vw;var Nm="SelectItemText",BY=_.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,o=Rc(Nm,r),s=Dc(Nm,r),l=$Y(Nm,r),c=LAe(Nm,r),[d,f]=_.useState(null),h=Ze(e,y=>f(y),l.onItemTextChange,y=>{var x;return(x=s.itemTextRefCallback)==null?void 0:x.call(s,y,l.value,l.disabled)}),p=d==null?void 0:d.textContent,m=_.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=c;return xn(()=>(g(m),()=>v(m)),[g,v,m]),u.jsxs(u.Fragment,{children:[u.jsx(Me.span,{id:l.textId,...a,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Mh.createPortal(a.children,o.valueNode):null]})});BY.displayName=Nm;var UY="SelectItemIndicator",VY=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return $Y(UY,r).isSelected?u.jsx(Me.span,{"aria-hidden":!0,...n,ref:e}):null});VY.displayName=UY;var WT="SelectScrollUpButton",zY=_.forwardRef((t,e)=>{const r=Dc(WT,t.__scopeSelect),n=Jj(WT,t.__scopeSelect),[i,a]=_.useState(!1),o=Ze(e,n.onScrollButtonChange);return xn(()=>{if(r.viewport&&r.isPositioned){let s=function(){const c=l.scrollTop>0;a(c)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?u.jsx(HY,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});zY.displayName=WT;var HT="SelectScrollDownButton",WY=_.forwardRef((t,e)=>{const r=Dc(HT,t.__scopeSelect),n=Jj(HT,t.__scopeSelect),[i,a]=_.useState(!1),o=Ze(e,n.onScrollButtonChange);return xn(()=>{if(r.viewport&&r.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;a(d)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?u.jsx(HY,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});WY.displayName=HT;var HY=_.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=Dc("SelectScrollButton",r),o=_.useRef(null),s=H2(r),l=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>l(),[l]),xn(()=>{var d;const c=s().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[s]),u.jsx(Me.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Te(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Te(i.onPointerMove,()=>{var c;(c=a.onItemLeave)==null||c.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Te(i.onPointerLeave,()=>{l()})})}),KAe="SelectSeparator",GY=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return u.jsx(Me.div,{"aria-hidden":!0,...n,ref:e})});GY.displayName=KAe;var GT="SelectArrow",YAe=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=G2(r),a=Rc(GT,r),o=Dc(GT,r);return a.open&&o.position==="popper"?u.jsx(Kb,{...i,...n,ref:e}):null});YAe.displayName=GT;function qY(t){return t===""||t===void 0}var KY=_.forwardRef((t,e)=>{const{value:r,...n}=t,i=_.useRef(null),a=Ze(e,i),o=Zj(r);return _.useEffect(()=>{const s=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(s,r),s.dispatchEvent(f)}},[o,r]),u.jsx(JP,{asChild:!0,children:u.jsx("select",{...n,ref:a,defaultValue:r})})});KY.displayName="BubbleSelect";function YY(t){const e=zr(t),r=_.useRef(""),n=_.useRef(0),i=_.useCallback(o=>{const s=r.current+o;e(s),function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(s)},[e]),a=_.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function XY(t,e,r){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=XAe(t,Math.max(a,0));i.length===1&&(o=o.filter(c=>c!==r));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function XAe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var QAe=SY,QY=AY,ZAe=TY,JAe=NY,eCe=IY,ZY=PY,tCe=RY,JY=LY,eX=FY,rCe=BY,nCe=VY,tX=zY,rX=WY,nX=GY;const Rt=QAe,Dt=ZAe,Nt=_.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(QY,{ref:n,className:Pe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,u.jsx(JAe,{asChild:!0,children:u.jsx(tw,{className:"h-4 w-4 opacity-50"})})]}));Nt.displayName=QY.displayName;const iX=_.forwardRef(({className:t,...e},r)=>u.jsx(tX,{ref:r,className:Pe("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(_1e,{className:"h-4 w-4"})}));iX.displayName=tX.displayName;const aX=_.forwardRef(({className:t,...e},r)=>u.jsx(rX,{ref:r,className:Pe("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(tw,{className:"h-4 w-4"})}));aX.displayName=rX.displayName;const It=_.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>u.jsx(eCe,{children:u.jsxs(ZY,{ref:i,className:Pe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[u.jsx(iX,{}),u.jsx(tCe,{className:Pe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(aX,{})]})}));It.displayName=ZY.displayName;const iCe=_.forwardRef(({className:t,...e},r)=>u.jsx(JY,{ref:r,className:Pe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));iCe.displayName=JY.displayName;const we=_.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(eX,{ref:n,className:Pe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(nCe,{children:u.jsx(ki,{className:"h-4 w-4"})})}),u.jsx(rCe,{children:e})]}));we.displayName=eX.displayName;const aCe=_.forwardRef(({className:t,...e},r)=>u.jsx(nX,{ref:r,className:Pe("-mx-1 my-1 h-px bg-muted",t),...e}));aCe.displayName=nX.displayName;const oCe=()=>({toast:t=>{t.variant==="destructive"?console.error(t.title,t.description):console.log(t.title,t.description)}}),oX=t=>{t.variant==="destructive"?console.error(t.title,t.description):console.log(t.title,t.description)},qT=[{id:"1",name:"Trader Joe's",address:"3888 Townsfair Way, Columbus, OH 43219",lat:39.9789,lng:-82.8677,category:"grocery",hours:"8AM - 9PM",rating:4.7},{id:"2",name:"Whole Foods Market",address:"1555 W Lane Ave, Columbus, OH 43221",lat:40.0065,lng:-83.0537,category:"grocery",hours:"7AM - 10PM",rating:4.5},{id:"3",name:"Target",address:"1892 N High St, Columbus, OH 43201",lat:39.9964,lng:-83.0091,category:"grocery",hours:"8AM - 11PM",rating:4.3},{id:"4",name:"Walgreens",address:"1162 N High St, Columbus, OH 43201",lat:39.9865,lng:-83.0044,category:"pharmacy",hours:"24 hours",rating:4},{id:"5",name:"CVS Pharmacy",address:"2160 N High St, Columbus, OH 43201",lat:40.0046,lng:-83.0104,category:"pharmacy",hours:"24 hours",rating:3.9},{id:"6",name:"Home Depot",address:"2555 Brice Rd, Columbus, OH 43068",lat:39.9259,lng:-82.8369,category:"hardware",hours:"6AM - 9PM",rating:4.2},{id:"7",name:"Kroger",address:"1350 N High St, Columbus, OH 43201",lat:39.9905,lng:-83.0069,category:"grocery",hours:"6AM - 12AM",rating:4.1},{id:"8",name:"Costco",address:"3800 W Dublin Granville Rd, Columbus, OH 43235",lat:40.0909,lng:-83.0763,category:"grocery",hours:"10AM - 8:30PM",rating:4.6},{id:"9",name:"Best Buy",address:"3840 Morse Rd, Columbus, OH 43219",lat:40.0606,lng:-82.9307,category:"electronics",hours:"10AM - 9PM",rating:4.3},{id:"10",name:"Apple Store",address:"4195 The Strand E, Columbus, OH 43219",lat:40.0529,lng:-82.9146,category:"electronics",hours:"10AM - 8PM",rating:4.8},{id:"11",name:"Macy's",address:"1500 Polaris Pkwy, Columbus, OH 43240",lat:40.1452,lng:-82.9823,category:"clothing",hours:"10AM - 9PM",rating:4},{id:"12",name:"Giant Eagle",address:"280 E Whittier St, Columbus, OH 43206",lat:39.9447,lng:-82.9913,category:"grocery",hours:"7AM - 10PM",rating:4.2},{id:"13",name:"Ace Hardware",address:"1305 W Lane Ave, Columbus, OH 43221",lat:40.0057,lng:-83.0491,category:"hardware",hours:"8AM - 8PM",rating:4.5},{id:"14",name:"Lowe's",address:"2345 Silver Dr, Columbus, OH 43211",lat:40.0127,lng:-82.9765,category:"hardware",hours:"6AM - 10PM",rating:4.2},{id:"15",name:"Walmart",address:"3900 Morse Rd, Columbus, OH 43219",lat:40.0602,lng:-82.9339,category:"grocery",hours:"7AM - 11PM",rating:3.8}],sCe=t=>{const e=t.toLowerCase();return qT.find(r=>r.name.toLowerCase().includes(e))},lCe="AIzaSyCC9n6z-koJp5qiyOOPRRag3qudrcfOeK8";function ek({isOpen:t,onClose:e,onSubmit:r,taskToEdit:n,isEditing:i=!1}){const[a,o]=_.useState(""),[s,l]=_.useState(),[c,d]=_.useState("medium"),[f,h]=_.useState(""),[p,m]=_.useState(null),[g,v]=_.useState(!1),[y,x]=_.useState(null),[w,S]=_.useState("Medium"),E=_.useRef(null),T=_.useRef(null),A=_.useRef(null),C=_.useRef(null),N=_.useRef(null),[I,P]=_.useState([]),[k,O]=_.useState(!1),[L,z]=_.useState(!1),[M,W]=_.useState({lat:39.9789,lng:-82.8677});_.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(Y=>{W({lat:Y.coords.latitude,lng:Y.coords.longitude})},()=>{console.log("Using default location for place search")})},[]),_.useEffect(()=>{if(!t)return;const Y=()=>{if(window.google&&window.google.maps&&window.google.maps.places){ee();return}const de=document.createElement("script");return de.src=`https://maps.googleapis.com/maps/api/js?key=${lCe}&libraries=places,geometry`,de.async=!0,de.defer=!0,de.onload=ee,document.head.appendChild(de),()=>{document.head.contains(de)&&document.head.removeChild(de)}},ee=()=>{if(!window.google||!window.google.maps||!window.google.maps.places){console.error("Google Maps Places API not available");return}try{const de=document.createElement("div");A.current=new window.google.maps.places.PlacesService(de),C.current=new window.google.maps.places.AutocompleteService,N.current=new window.google.maps.places.AutocompleteSessionToken,E.current&&(T.current=new window.google.maps.places.Autocomplete(E.current,{types:["establishment","address"]}),T.current.addListener("place_changed",()=>{if(!T.current)return;const _e=T.current.getPlace();if(_e&&_e.geometry&&_e.geometry.location){const ge=_e.formatted_address||_e.name||"";h(ge),m({lat:_e.geometry.location.lat(),lng:_e.geometry.location.lng()}),z(!1)}}))}catch(de){console.error("Error initializing Places services:",de)}},ce=Y();return()=>{typeof ce=="function"&&ce(),T.current=null}},[t]),_.useEffect(()=>{t&&(i&&n?(o(n.title||""),l(n.dueDate?Hf(n.dueDate):void 0),d(n.priority||"medium"),h(n.location||""),m(n.coordinates||null),v(n.isRotating||!1),x(n.rotationFrequency||null),S(n.difficulty||"Medium")):(o(""),l(void 0),d("medium"),h(""),m(null),v(!1),x(null),S("Medium")),P([]),z(!1))},[t,n,i]);const $=Y=>{if(Y.preventDefault(),!a.trim())return;const ee={...n!=null&&n.id?{id:n.id}:{},title:a,dueDate:er(s||new Date,"yyyy-MM-dd"),priority:c,isRotating:g,location:f||void 0,coordinates:p||void 0,rotationFrequency:g?y:null,difficulty:w,...n!=null&&n.assignees?{assignees:n.assignees}:{assignees:[]},...(n==null?void 0:n.completed)!==void 0?{completed:n.completed}:{completed:!1},...n!=null&&n.nextRotationDate?{nextRotationDate:n.nextRotationDate}:{}};r(ee),e()},B=Y=>{if(!Y||Y.length<2){P([]),z(!1);return}const ee=qT.filter(de=>de.name.toLowerCase().includes(Y.toLowerCase())).slice(0,3).map(de=>({description:`${de.name} - ${de.address}`,place_id:`store_${de.id}`,isStore:!0,store:de}));if(ee.length>0){P(ee),z(!0);return}if(!C.current||!N.current)return;O(!0),z(!0);const ce={input:Y,types:["establishment","geocode"],componentRestrictions:{country:"us"},location:new google.maps.LatLng(M.lat,M.lng),radius:5e4,sessionToken:N.current};C.current.getPlacePredictions(ce,(de,_e)=>{_e===google.maps.places.PlacesServiceStatus.OK&&de&&de.length>0?P(de.map(ge=>({description:ge.description,place_id:ge.place_id}))):P([]),O(!1)})},G=(Y,ee)=>{if(Y.startsWith("store_")){const ce=Y.replace("store_",""),de=qT.find(_e=>_e.id===ce);if(de){h(de.name),m({lat:de.lat,lng:de.lng}),z(!1);return}}A.current&&A.current.getDetails({placeId:Y,fields:["name","formatted_address","geometry"]},(ce,de)=>{var _e;de===google.maps.places.PlacesServiceStatus.OK&&ce?(h(ce.formatted_address||ce.name||ee),(_e=ce.geometry)!=null&&_e.location&&m({lat:ce.geometry.location.lat(),lng:ce.geometry.location.lng()}),P([]),z(!1),N.current=new google.maps.places.AutocompleteSessionToken):console.error("Couldn't get place details")})},X=Y=>{const ee=Y.target.value;h(ee),m(null);const ce=setTimeout(()=>{B(ee)},300);return()=>clearTimeout(ce)};return u.jsx(cr,{open:t,onOpenChange:Y=>!Y&&e(),children:u.jsxs(rr,{className:"sm:max-w-[425px]",children:[u.jsx(nr,{children:u.jsx(ir,{children:i?"Edit Task":"Create Task"})}),u.jsxs("form",{onSubmit:$,children:[u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-2 sm:gap-4",children:[u.jsx(oe,{htmlFor:"title",className:"sm:text-right",children:"Title"}),u.jsx(De,{id:"title",value:a,onChange:Y=>o(Y.target.value),className:"sm:col-span-3"})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-2 sm:gap-4",children:[u.jsx(oe,{htmlFor:"date",className:"sm:text-right",children:"Due Date"}),u.jsxs(Yg,{children:[u.jsx(Xg,{asChild:!0,children:u.jsxs(q,{variant:"outline",className:Pe("sm:col-span-3 justify-start text-left font-normal",!s&&"text-muted-foreground"),children:[u.jsx(Vu,{className:"mr-2 h-4 w-4"}),s?er(s,"PPP"):u.jsx("span",{children:"Pick a date"})]})}),u.jsx(eh,{className:"w-auto p-0",children:u.jsx(z2,{mode:"single",selected:s,onSelect:l,initialFocus:!0})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-2 sm:gap-4",children:[u.jsx(oe,{htmlFor:"location",className:"sm:text-right",children:"Location"}),u.jsxs("div",{className:"sm:col-span-3 relative",children:[u.jsx("div",{className:"flex",children:u.jsxs("div",{className:"relative flex-1",children:[u.jsx(De,{id:"location",ref:E,placeholder:"Enter a store or location (e.g. Trader Joe's, Walmart)",value:f,onChange:X,className:"pr-8 relative z-50",onClick:Y=>Y.stopPropagation()}),f?u.jsx("button",{type:"button",onClick:()=>{h(""),m(null)},className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gloop-text-muted hover:text-gloop-text",children:u.jsx(ra,{className:"h-4 w-4"})}):null,u.jsx(S2,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gloop-text-muted"})]})}),L&&u.jsx("div",{className:"absolute top-full left-0 right-0 z-10 mt-1 bg-white dark:bg-gray-800 border rounded-md shadow-md max-h-60 overflow-y-auto",children:k?u.jsx("div",{className:"p-2 text-center text-sm text-gray-500",children:"Searching..."}):I.length>0?u.jsx("ul",{className:"py-1",children:I.map(Y=>u.jsx("li",{className:"px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer text-sm",onClick:()=>G(Y.place_id,Y.description),children:u.jsxs("div",{className:"flex items-start",children:[u.jsx(Bi,{className:"h-4 w-4 mr-2 mt-0.5 flex-shrink-0"}),u.jsx("span",{children:Y.description})]})},Y.place_id))}):f.length>=2?u.jsx("div",{className:"p-2 text-center text-sm text-gray-500",children:"No places found"}):u.jsx("div",{className:"p-2 text-center text-sm text-gray-500",children:"Type at least 2 characters to search"})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-2 sm:gap-4",children:[u.jsx(oe,{htmlFor:"priority",className:"sm:text-right",children:"Priority"}),u.jsxs(Rt,{value:c,onValueChange:Y=>d(Y),children:[u.jsx(Nt,{className:"sm:col-span-3",children:u.jsx(Dt,{placeholder:"Select priority"})}),u.jsxs(It,{children:[u.jsx(we,{value:"low",children:"Low"}),u.jsx(we,{value:"medium",children:"Medium"}),u.jsx(we,{value:"high",children:"High"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-2 sm:gap-4",children:[u.jsx(oe,{htmlFor:"difficulty",className:"sm:text-right",children:"Difficulty"}),u.jsxs(Rt,{value:w,onValueChange:Y=>S(Y),children:[u.jsx(Nt,{className:"sm:col-span-3",children:u.jsx(Dt,{placeholder:"Select difficulty"})}),u.jsxs(It,{children:[u.jsx(we,{value:"Easy",children:"Easy"}),u.jsx(we,{value:"Medium",children:"Medium"}),u.jsx(we,{value:"Hard",children:"Hard"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-2 sm:gap-4",children:[u.jsx(oe,{htmlFor:"rotating",className:"sm:text-right",children:"Rotating"}),u.jsxs("div",{className:"sm:col-span-3 flex items-center",children:[u.jsx("input",{type:"checkbox",id:"rotating",checked:g,onChange:Y=>v(Y.target.checked),className:"mr-2 rounded border-gloop-outline focus:ring-gloop-primary h-4 w-4"}),u.jsx(oe,{htmlFor:"rotating",className:"text-sm",children:"This task rotates between assignees"})]})]})]}),u.jsx(Jn,{children:u.jsx(q,{type:"submit",children:i?"Save Changes":"Create Task"})})]})]})})}var sX="basil",cCe=function(e){return e===3?"v3":e},lX="https://js.stripe.com",uCe="".concat(lX,"/").concat(sX,"/stripe.js"),dCe=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,fCe=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var hCe=function(e){return dCe.test(e)||fCe.test(e)},pCe=function(){for(var e=document.querySelectorAll('script[src^="'.concat(lX,'"]')),r=0;r<e.length;r++){var n=e[r];if(hCe(n.src))return n}return null},z8=function(e){var r="",n=document.createElement("script");n.src="".concat(uCe).concat(r);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(n),n},mCe=function(e,r){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.4.0",startTime:r})},Qp=null,zy=null,Wy=null,gCe=function(e){return function(r){e(new Error("Failed to load Stripe.js",{cause:r}))}},vCe=function(e,r){return function(){window.Stripe?e(window.Stripe):r(new Error("Stripe.js not available"))}},yCe=function(e){return Qp!==null?Qp:(Qp=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var i=pCe();if(!(i&&e)){if(!i)i=z8(e);else if(i&&Wy!==null&&zy!==null){var a;i.removeEventListener("load",Wy),i.removeEventListener("error",zy),(a=i.parentNode)===null||a===void 0||a.removeChild(i),i=z8(e)}}Wy=vCe(r,n),zy=gCe(n),i.addEventListener("load",Wy),i.addEventListener("error",zy)}catch(o){n(o);return}}),Qp.catch(function(r){return Qp=null,Promise.reject(r)}))},xCe=function(e,r,n){if(e===null)return null;var i=r[0],a=i.match(/^pk_test/),o=cCe(e.version),s=sX;a&&o!==s&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.4.0"," expected Stripe.js@").concat(s,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=e.apply(void 0,r);return mCe(l,n),l},Zp,cX=!1,uX=function(){return Zp||(Zp=yCe(null).catch(function(e){return Zp=null,Promise.reject(e)}),Zp)};Promise.resolve().then(function(){return uX()}).catch(function(t){cX||console.warn(t)});var wCe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];cX=!0;var i=Date.now();return uX().then(function(a){return xCe(a,r,i)})};const bCe="pk_test_51Rf1uFPBK57t2ztmUajyqiVzZ5vnx2XBJ4ZTaC7wJlg7GFb2J5TA4w23LNhOfjZUB0ZZXicOKy42pacUQQlzT5aH00UmyRqOSd",dX=wCe(bCe),_Ce={plus:{priceId:"price_1Otest_plus_monthly",productId:"prod_test_plus",name:"TaskaLoop Plus",price:4.99,interval:"month"},premium:{priceId:"price_1Otest_premium_monthly",productId:"prod_test_premium",name:"TaskaLoop Premium",price:8.99,interval:"month"}},SCe=t=>{var e;return((e=_Ce[t])==null?void 0:e.priceId)||null},ECe=()=>!!dX,W8={ACTIVE:"active"};class ACe{constructor(){this.apiUrl="https://vanold101.github.io/taska-loop/"}isConfigured(){return ECe()}async createCheckoutSession(e,r,n){if(!this.isConfigured())throw new Error("Stripe is not properly configured");const i=SCe(e);if(!i)throw new Error(`No price ID found for tier: ${e}`);try{const a=await fetch("/api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:i,userEmail:r,userId:n,tier:e,successUrl:`${this.apiUrl}/subscription-success?session_id={CHECKOUT_SESSION_ID}`,cancelUrl:`${this.apiUrl}/subscription-cancelled`})});if(!a.ok)throw new Error("Failed to create checkout session");return await a.json()}catch(a){return console.error("Error creating checkout session:",a),console.warn("Stripe backend not implemented. Returning mock checkout session."),{sessionId:"cs_test_demo_session_id",url:"#"}}}async redirectToCheckout(e){if(!this.isConfigured())throw new Error("Stripe is not properly configured");const r=await dX;if(!r)throw new Error("Failed to load Stripe");const{error:n}=await r.redirectToCheckout({sessionId:e});if(n)throw new Error(n.message)}async subscribeTo(e,r,n){try{const i=await this.createCheckoutSession(e,r,n);if(i.sessionId==="cs_test_demo_session_id"){alert(`Demo: Would redirect to Stripe Checkout for ${e} subscription.

In production, this would:
1. Create a Stripe Customer
2. Generate a Checkout Session
3. Redirect to secure Stripe payment page
4. Handle webhooks for subscription updates`);return}await this.redirectToCheckout(i.sessionId)}catch(i){throw console.error("Error in subscription flow:",i),i}}async getCustomerSubscription(e){try{const r=await fetch(`/api/stripe/subscription/${e}`,{headers:{"Content-Type":"application/json"}});if(r.status===404)return null;if(!r.ok)throw new Error("Failed to fetch subscription");return await r.json()}catch(r){return console.error("Error fetching subscription:",r),null}}async cancelSubscription(e){try{if(!(await fetch(`/api/stripe/subscription/${e}/cancel`,{method:"POST",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to cancel subscription")}catch(r){throw console.error("Error cancelling subscription:",r),r}}async createPortalSession(e){try{const r=await fetch("/api/stripe/create-portal-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customerId:e,returnUrl:`${this.apiUrl}/profile`})});if(!r.ok)throw new Error("Failed to create portal session");return await r.json()}catch(r){return console.error("Error creating portal session:",r),{url:"https://billing.stripe.com/session/demo"}}}async openCustomerPortal(e){try{const r=await this.createPortalSession(e);if(r.url==="https://billing.stripe.com/session/demo"){alert(`Demo: Would redirect to Stripe Customer Portal.

In production, this would open a secure portal where customers can:
• Update payment methods
• Download invoices
• Manage subscription
• View billing history`);return}window.open(r.url,"_blank")}catch(r){throw console.error("Error opening customer portal:",r),r}}getSubscriptionTier(e){return!e||e.status!==W8.ACTIVE?"free":e.tier}isSubscriptionActive(e){return(e==null?void 0:e.status)===W8.ACTIVE}}const ng=new ACe,Mc=()=>({toast:t=>{t.variant==="destructive"?console.error(t.title,t.description):console.log(t.title,t.description)}}),Jp={free:{name:"TaskaLoop Free",price:"Free",description:"Perfect for individuals getting started with basic task management",icon:u.jsx(Hi,{className:"h-6 w-6"}),color:"bg-gray-500",features:["Up to 50 active tasks","Up to 10 trips per month","Basic pantry (100 items max)","Single user account only","Basic map view with standard markers","5 saved locations maximum","Manual item entry only","Community support","Mobile web app access"],limitations:["NO barcode scanning","NO receipt scanning","NO AI-powered features","NO household sharing","NO recurring item automation","NO advanced analytics","NO export capabilities","NO route optimization","NO expense tracking"]},plus:{name:"TaskaLoop Plus",price:"$3.99",billing:"/month",description:"For active households who want convenience and smart features",icon:u.jsx(Zm,{className:"h-6 w-6"}),color:"bg-blue-500",features:["Unlimited tasks and trips","Unlimited pantry items","BARCODE SCANNING enabled","Advanced grocery lists with categories","Household sharing (up to 5 members)","Route optimization with Google Maps","Unlimited saved locations","Basic expense tracking and splitting","Trip history for 6 months","Priority email support","Export data to CSV","Smart notifications"],limitations:["No receipt scanning","No advanced analytics dashboard","Limited household members (5 max)","No API access"],popular:!0},premium:{name:"TaskaLoop Premium",price:"$8.99",billing:"/month",description:"For large households and power users who want everything",icon:u.jsx(aj,{className:"h-6 w-6"}),color:"bg-purple-500",features:["Everything in Plus plan","UNLIMITED household members","RECEIPT SCANNING with OCR","Advanced analytics dashboard","Spending insights and reports","Smart meal planning suggestions","Predictive shopping lists","Advanced AI features","Unlimited trip history","Priority phone and chat support","Early access to new features","Advanced data export (PDF, Excel)","API access for integrations","Custom branding for households"]}};function fX({isOpen:t,onClose:e,showUpgradeOnly:r=!1}){const{currentTier:n,upgradeTier:i,isAdmin:a}=h0(),{user:o}=xr(),{toast:s}=Mc(),[l,c]=_.useState(n),[d,f]=_.useState(!1);if(a)return null;const h=v=>{c(v)},p=async()=>{if(l===n){s({title:"Already subscribed",description:`You're already on the ${Jp[n].name} plan.`});return}if(!(o!=null&&o.email)){s({title:"Authentication required",description:"Please make sure you're logged in to upgrade your subscription.",variant:"destructive"});return}if(l==="free")f(!0),setTimeout(()=>{i(l),f(!1),s({title:"Plan downgraded",description:`You've switched to the ${Jp[l].name} plan.`}),e()},1e3);else{if(!ng.isConfigured()){s({title:"Stripe not configured",description:"Stripe keys are missing. Please check your environment configuration.",variant:"destructive"});return}f(!0);try{await ng.subscribeTo(l,o.email,o.id||"anonymous"),i(l),f(!1),s({title:"Demo: Upgrade successful!",description:`Demo mode: You now have ${Jp[l].name} features enabled.`}),e()}catch(v){f(!1),console.error("Subscription error:",v),s({title:"Subscription failed",description:v instanceof Error?v.message:"Failed to start subscription process.",variant:"destructive"})}}},m=r?["plus","premium"]:["free","plus","premium"],g=ng.isConfigured();return u.jsx(cr,{open:t,onOpenChange:e,children:u.jsxs(rr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[u.jsxs(nr,{children:[u.jsx(ir,{className:"text-2xl font-bold",children:r?"Upgrade Your Plan":"Choose Your Plan"}),u.jsx(xi,{children:r?"Unlock more features with a premium plan":"Select the plan that best fits your household needs"})]}),!g&&u.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(xo,{className:"h-4 w-4 text-amber-600"}),u.jsx("span",{className:"font-medium text-amber-800",children:"Stripe Configuration Required"})]}),u.jsx("p",{className:"text-sm text-amber-700",children:"Stripe is not properly configured. Add your Stripe keys to enable subscription functionality."})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:m.map(v=>{const y=Jp[v],x=v===n,w=v===l;return u.jsxs(Ne,{className:`relative cursor-pointer transition-all duration-200 ${w?"ring-2 ring-blue-500 shadow-lg scale-105":"hover:shadow-md hover:scale-102"} ${y.popular?"border-blue-500":""}`,onClick:()=>h(v),children:[y.popular&&u.jsx(lt,{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 bg-blue-500",children:"Most Popular"}),x&&u.jsx(lt,{className:"absolute -top-2 right-4 bg-green-500",children:"Current Plan"}),u.jsxs(Fe,{className:"text-center",children:[u.jsx("div",{className:`w-12 h-12 ${y.color} rounded-full flex items-center justify-center text-white mx-auto mb-2`,children:y.icon}),u.jsx(Be,{className:"text-xl",children:y.name}),u.jsxs("div",{className:"text-3xl font-bold",children:[y.price,y.billing&&u.jsx("span",{className:"text-sm text-gray-500 font-normal",children:y.billing})]}),u.jsx(st,{className:"text-sm",children:y.description})]}),u.jsx(Ie,{children:u.jsxs("ul",{className:"space-y-2",children:[y.features.map((S,E)=>u.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[u.jsx(ki,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),u.jsx("span",{children:S})]},E)),y.limitations&&u.jsx(u.Fragment,{children:u.jsxs("div",{className:"border-t pt-2 mt-3",children:[u.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Limitations:"}),y.limitations.map((S,E)=>u.jsxs("li",{className:"flex items-start gap-2 text-xs text-gray-500",children:[u.jsx("span",{className:"text-red-400",children:"×"}),u.jsx("span",{children:S})]},E))]})})]})}),u.jsx(hr,{children:u.jsx(q,{variant:w?"default":"outline",className:`w-full ${w?"bg-blue-500 hover:bg-blue-600":""}`,disabled:x,children:x?"Current Plan":w?"Selected":"Select Plan"})})]},v)})}),u.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t",children:[u.jsx(q,{variant:"outline",onClick:e,disabled:d,children:"Cancel"}),u.jsx(q,{onClick:p,disabled:l===n||d||!g&&l!=="free",className:"bg-blue-500 hover:bg-blue-600",children:d?u.jsxs(u.Fragment,{children:[u.jsx(Bg,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):l==="free"?"Switch to Free":u.jsxs(u.Fragment,{children:[u.jsx(yT,{className:"h-4 w-4 mr-2"}),n==="free"?"Upgrade":"Switch"," to ",Jp[l].name]})})]}),u.jsx("div",{className:"text-xs text-gray-500 text-center mt-4",children:g?u.jsxs(u.Fragment,{children:[u.jsx("p",{children:"• Secure payment processing via Stripe • Cancel anytime"}),u.jsx("p",{children:"• All prices in USD • 30-day money-back guarantee"})]}):u.jsxs(u.Fragment,{children:[u.jsx("p",{children:"• Demo Mode: Stripe integration ready for configuration"}),u.jsx("p",{children:"• Add VITE_STRIPE_PUBLISHABLE_KEY to enable payments"})]})})]})})}function CCe(){var Se,se;const t=Si(),{user:e,isAdmin:r}=xr(),{tasks:n,trips:i,updateTask:a,deleteTask:o,addTask:s}=yo(),[l,c]=_.useState("all"),[d,f]=_.useState(new Date),[h,p]=_.useState(!1),[m,g]=_.useState(null),[v,y]=_.useState(null),[x,w]=_.useState(!1),{currentTier:S,limits:E}=h0(),[T,A]=_.useState(!1),C=n.filter(V=>{const Q=new Date().toISOString().split("T")[0];return V.dueDate===Q}),N=C.filter(V=>V.completed),I=C.length,P=N.length,k=I>0?P/I*100:0,O=i.filter(V=>V.status!=="completed"&&V.status!=="cancelled"),L=_.useMemo(()=>{const V=P0e(d),Q=gH(V),H=fH(V),ve=O0e(Q),fe="d",te=[];let re=[],K=H,le="";for(;K<=ve;){for(let pe=0;pe<7;pe++){le=er(K,fe);const ut=er(K,"yyyy-MM-dd"),Wt=n.filter(Dn=>Dn.dueDate===ut),wr=Wt.length,dr=Wt.filter(Dn=>Dn.completed).length;re.push({date:K,dayOfMonth:le,isCurrentMonth:Uye(K,V),isToday:mH(K,new Date),tasksCount:wr,completedCount:dr,tasks:Wt}),K=Yx(K,1)}te.push(re),re=[]}return te},[d,n]),z=()=>{g(null),p(!0)},M=()=>{t("/dashboard")},W=V=>{const Q=n.find(H=>H.id===V);Q&&a(V,{completed:!Q.completed})},$=V=>{const Q=n.find(H=>H.id===V);if(Q){const H=Q.priority==="high"?"medium":"high";a(V,{priority:H})}},B=V=>{n.find(H=>H.id===V)&&o(V)},G=V=>{const Q=n.find(H=>H.id===V);Q&&(g(Q),p(!0))},X=V=>{const Q=n.find(H=>H.id===V);Q&&(y(Q),w(!0))},Y=V=>{const Q=n.find(H=>H.id===V);Q&&(g(Q),p(!0))},ee=()=>{},ce=()=>{f(n1e(d,1))},de=()=>{f(ZO(d,1))},_e=V=>{V.tasksCount>0&&(V.tasks.length===1?X(V.tasks[0].id):c("all"))},ge=(V,Q)=>{V.stopPropagation(),X(Q.id)};return u.jsx(ca,{children:u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[u.jsxs("div",{className:"p-4 md:p-8 animate-fade-in",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8 animate-slide-down",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 flex items-center gap-2",children:["Home",!r&&u.jsx(lt,{variant:S==="free"?"destructive":S==="plus"?"secondary":"default",className:"text-xs",children:S==="free"?"🔒 FREE PLAN":S==="plus"?"⭐ PLUS PLAN":"👑 PREMIUM PLAN"})]}),u.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:["Welcome back, ",((Se=e==null?void 0:e.name)==null?void 0:Se.split(" ")[0])||"User","! Here's what's happening today.",!r&&S==="free"&&u.jsx("span",{className:"text-red-600 font-medium",children:" • Free plan limits apply"})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(q,{variant:"outline",className:"border-slate-200 dark:border-slate-600 dark:text-slate-300 hover:scale-105 transition-transform duration-200",onClick:()=>c("today"),children:[u.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Recent"]}),u.jsxs(q,{className:"bg-teal-600 hover:bg-teal-700 dark:bg-teal-600 dark:hover:bg-teal-700 hover:scale-105 transition-transform duration-200",onClick:z,children:[u.jsx(Nr,{className:"h-4 w-4 mr-2"}),"New Task"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 animate-slide-up",children:[u.jsxs(Ne,{className:"bg-gradient-to-br from-teal-500 to-teal-600 text-white border-none shadow-md hover:shadow-lg transition-all duration-300 hover:scale-105",children:[u.jsxs(Fe,{className:"pb-2",children:[u.jsx(Be,{className:"text-white",children:"Today's Tasks"}),u.jsxs(st,{className:"text-teal-100",children:["You have ",I," ",I===1?"task":"tasks"," for today"]})]}),u.jsx(Ie,{children:u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{children:"Completed"}),u.jsxs("span",{children:[P,"/",I]})]}),u.jsx(fw,{value:k,className:"h-2 bg-teal-400"})]})}),u.jsx(hr,{children:u.jsx(q,{variant:"secondary",className:"w-full bg-white/20 hover:bg-white/30 text-white border-none transition-all duration-200",onClick:()=>c("today"),children:"View All Tasks"})})]}),u.jsxs(Ne,{className:"border-none shadow-md dark:bg-slate-800 hover:shadow-lg transition-all duration-300 hover:scale-105",children:[u.jsxs(Fe,{className:"pb-2",children:[u.jsx(Be,{className:"dark:text-slate-200",children:"Shopping Lists"}),u.jsxs(st,{className:"dark:text-slate-400",children:["You have ",O.length," active ",O.length===1?"list":"lists"]})]}),u.jsx(Ie,{children:u.jsx("div",{className:"space-y-2",children:O.length>0?O.slice(0,2).map((V,Q)=>{var H,ve,fe,te;return u.jsxs("div",{className:"space-y-1 animate-fade-in",style:{animationDelay:`${Q*100}ms`},children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:V.store||"Shopping Trip"}),u.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:[((H=V.items)==null?void 0:H.length)||0," ",(((ve=V.items)==null?void 0:ve.length)||0)===1?"item":"items"]})]}),u.jsx(fw,{value:((fe=V.items)==null?void 0:fe.filter(re=>re.checked).length)/(((te=V.items)==null?void 0:te.length)||1)*100,className:"h-2 dark:bg-slate-700"})]},V.id)}):u.jsx("div",{className:"text-center py-2 text-slate-500 dark:text-slate-400",children:"No active shopping lists"})})}),u.jsx(hr,{children:u.jsxs(q,{variant:"outline",className:"w-full border-slate-200 dark:border-slate-700 dark:text-slate-300 hover:scale-105 transition-transform duration-200",onClick:()=>t("/trips"),children:[u.jsx(lr,{className:"h-4 w-4 mr-2"}),"View Shopping Lists"]})})]}),u.jsxs(Ne,{className:"border-none shadow-md dark:bg-slate-800 hover:shadow-lg transition-all duration-300 hover:scale-105",children:[u.jsxs(Fe,{className:"pb-2",children:[u.jsx(Be,{className:"dark:text-slate-200",children:"Expense Splitting"}),u.jsx(st,{className:"dark:text-slate-400",children:r?"May expenses with roommates":"Track shared expenses"})]}),u.jsx(Ie,{children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center animate-fade-in",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(pn,{className:"h-6 w-6",children:u.jsx(mn,{className:"text-xs bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",children:((se=e==null?void 0:e.name)==null?void 0:se.substring(0,2))||"U"})}),u.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"You"})]}),u.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:r?"$63.69":"$0.00"})]}),r?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex justify-between items-center animate-fade-in",style:{animationDelay:"100ms"},children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(pn,{className:"h-6 w-6",children:u.jsx(mn,{className:"text-xs bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-300",children:"SM"})}),u.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Sam"})]}),u.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:"+$12.45"})]}),u.jsxs("div",{className:"flex justify-between items-center animate-fade-in",style:{animationDelay:"200ms"},children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(pn,{className:"h-6 w-6",children:u.jsx(mn,{className:"text-xs bg-amber-100 text-amber-700 dark:bg-amber-900 dark:text-amber-300",children:"AL"})}),u.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Alex"})]}),u.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:"-$8.75"})]})]}):u.jsxs("div",{className:"text-center py-4 animate-fade-in",children:[u.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-slate-100 dark:bg-slate-700 rounded-full mx-auto mb-2",children:u.jsx(Hi,{className:"h-6 w-6 text-slate-400"})}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2",children:"No household members yet"}),u.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:"Add roommates to start tracking shared expenses"})]})]})}),u.jsx(hr,{children:u.jsxs(q,{variant:"outline",className:"w-full border-slate-200 dark:border-slate-700 dark:text-slate-300 hover:scale-105 transition-transform duration-200",onClick:()=>t(r?"/ledger":"/invite-household"),children:[u.jsx(MH,{className:"h-4 w-4 mr-2"}),r?"Manage Expenses":"Add Household Members"]})})]})]}),u.jsxs(bc,{className:"w-full animate-fade-in",value:l,onValueChange:c,children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs(Gs,{className:"grid w-full md:w-auto grid-cols-4 md:inline-flex dark:bg-slate-800",children:[u.jsx(Jt,{value:"all",children:"All Tasks"}),u.jsx(Jt,{value:"today",children:"Today"}),u.jsx(Jt,{value:"upcoming",children:"Upcoming"}),u.jsx(Jt,{value:"calendar",children:"Calendar"})]}),u.jsxs(q,{variant:"ghost",size:"sm",className:"hidden md:flex dark:text-slate-300 hover:scale-105 transition-transform duration-200",onClick:ee,children:[u.jsx(_f,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),u.jsx(Ir,{value:"all",className:"space-y-4",children:u.jsxs(Ne,{className:"border-none shadow-sm dark:bg-slate-800 hover:shadow-md transition-shadow duration-300",children:[u.jsx(Ie,{className:"p-0",children:u.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:n.length>0?n.slice(0,5).map((V,Q)=>u.jsxs("div",{className:`flex items-center p-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-all duration-200 animate-slide-in ${V.completed?"bg-slate-50/50 dark:bg-slate-700/30":""}`,style:{animationDelay:`${Q*50}ms`},children:[u.jsxs("div",{className:"flex items-center flex-1 min-w-0 gap-3",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:`h-5 w-5 rounded-full transition-all duration-200 hover:scale-110 ${V.completed?"bg-teal-500 flex items-center justify-center cursor-pointer text-white":"border-2 border-teal-500 flex items-center justify-center cursor-pointer hover:bg-teal-50 dark:hover:bg-teal-900/30"}`,onClick:()=>W(V.id),children:V.completed&&u.jsx(Gn,{className:"h-3 w-3"})})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:`text-sm font-medium ${V.completed?"text-slate-500 dark:text-slate-400 line-through":"text-slate-800 dark:text-slate-200"} truncate`,children:V.title}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300",children:V.priority==="high"?"High":V.priority==="medium"?"Medium":"Low"}),u.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center",children:[u.jsx(Tr,{className:"h-3 w-3 mr-1"}),V.dueDate]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[u.jsx(q,{variant:"ghost",size:"icon",className:`h-8 w-8 transition-all duration-200 hover:scale-110 ${V.priority==="high"?"text-yellow-500 hover:text-yellow-600 dark:text-yellow-400 dark:hover:text-yellow-300":"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300"}`,onClick:()=>$(V.id),children:u.jsx(Zm,{className:"h-4 w-4",fill:V.priority==="high"?"currentColor":"none"})}),u.jsxs(Gg,{children:[u.jsx(qg,{asChild:!0,children:u.jsx(q,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300 hover:scale-110 transition-transform duration-200",children:u.jsx(_f,{className:"h-4 w-4"})})}),u.jsxs(Zf,{align:"end",children:[u.jsx(hi,{onClick:()=>G(V.id),children:"Edit"}),u.jsx(hi,{onClick:()=>Y(V.id),children:"Reschedule"}),u.jsx(Kg,{}),u.jsx(hi,{className:"text-red-600",onClick:()=>B(V.id),children:"Delete"})]})]})]})]},V.id)):u.jsxs("div",{className:"py-8 text-center animate-fade-in",children:[u.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No tasks found. Create a new task to get started."}),u.jsxs(q,{className:"mt-4 bg-teal-600 hover:bg-teal-700 hover:scale-105 transition-transform duration-200",onClick:z,children:[u.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Create Task"]})]})})}),u.jsx(hr,{className:"flex justify-center border-t border-slate-100 dark:border-slate-700 p-4",children:u.jsx(q,{variant:"ghost",className:"text-teal-600 hover:text-teal-700 hover:bg-teal-50 dark:text-teal-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20 hover:scale-105 transition-transform duration-200",onClick:M,children:"View All Tasks"})})]})}),u.jsx(Ir,{value:"today",className:"space-y-4",children:u.jsx(Ne,{className:"border-none shadow-sm dark:bg-slate-800 hover:shadow-md transition-shadow duration-300",children:u.jsx(Ie,{className:"p-6",children:C.length>0?u.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:C.map((V,Q)=>u.jsxs("div",{className:`flex items-center p-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-all duration-200 animate-slide-in ${V.completed?"bg-slate-50/50 dark:bg-slate-700/30":""}`,style:{animationDelay:`${Q*50}ms`},children:[u.jsxs("div",{className:"flex items-center flex-1 min-w-0 gap-3",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:`h-5 w-5 rounded-full ${V.completed?"bg-teal-500 flex items-center justify-center cursor-pointer text-white":"border-2 border-teal-500 flex items-center justify-center cursor-pointer hover:bg-teal-50 dark:hover:bg-teal-900/30"}`,onClick:()=>W(V.id),children:V.completed&&u.jsx(Gn,{className:"h-3 w-3"})})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:`text-sm font-medium ${V.completed?"text-slate-500 dark:text-slate-400 line-through":"text-slate-800 dark:text-slate-200"} truncate`,children:V.title}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300",children:V.priority==="high"?"High":V.priority==="medium"?"Medium":"Low"}),u.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center",children:[u.jsx(Tr,{className:"h-3 w-3 mr-1"}),"Today"]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[u.jsx(q,{variant:"ghost",size:"icon",className:`h-8 w-8 ${V.priority==="high"?"text-yellow-500 hover:text-yellow-600 dark:text-yellow-400 dark:hover:text-yellow-300":"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300"}`,onClick:()=>$(V.id),children:u.jsx(Zm,{className:"h-4 w-4",fill:V.priority==="high"?"currentColor":"none"})}),u.jsxs(Gg,{children:[u.jsx(qg,{asChild:!0,children:u.jsx(q,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300",children:u.jsx(_f,{className:"h-4 w-4"})})}),u.jsxs(Zf,{align:"end",children:[u.jsx(hi,{onClick:()=>G(V.id),children:"Edit"}),u.jsx(hi,{onClick:()=>Y(V.id),children:"Reschedule"}),u.jsx(Kg,{}),u.jsx(hi,{className:"text-red-600",onClick:()=>B(V.id),children:"Delete"})]})]})]})]},V.id))}):u.jsxs("div",{className:"flex flex-col items-center justify-center py-8 animate-fade-in",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-teal-100 dark:bg-teal-900/50 flex items-center justify-center mb-4",children:u.jsx(qf,{className:"h-8 w-8 text-teal-600 dark:text-teal-400"})}),u.jsx("h3",{className:"text-lg font-medium text-slate-800 dark:text-slate-200 mb-2",children:"No Tasks Today"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center max-w-md mb-6",children:"You don't have any tasks scheduled for today."}),u.jsxs(q,{className:"bg-teal-600 hover:bg-teal-700 hover:scale-105 transition-transform duration-200",onClick:z,children:[u.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Create Task"]})]})})})}),u.jsx(Ir,{value:"upcoming",className:"space-y-4",children:u.jsx(Ne,{className:"border-none shadow-sm dark:bg-slate-800 hover:shadow-md transition-shadow duration-300",children:u.jsx(Ie,{className:"p-6",children:u.jsxs("div",{className:"flex flex-col items-center justify-center py-8 animate-fade-in",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-100 dark:bg-purple-900/50 flex items-center justify-center mb-4",children:u.jsx(qf,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"})}),u.jsx("h3",{className:"text-lg font-medium text-slate-800 dark:text-slate-200 mb-2",children:"Upcoming Tasks"}),u.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-center max-w-md mb-6",children:["You have ",n.filter(V=>!V.completed&&V.dueDate>new Date().toISOString().split("T")[0]).length," tasks coming up in the next 7 days. Plan ahead to stay organized!"]}),u.jsx(q,{className:"bg-purple-600 hover:bg-purple-700 hover:scale-105 transition-transform duration-200",onClick:M,children:"View Upcoming Tasks"})]})})})}),u.jsx(Ir,{value:"calendar",className:"space-y-4",children:u.jsx(Ne,{className:"border-none shadow-sm dark:bg-slate-800 hover:shadow-md transition-shadow duration-300",children:u.jsxs(Ie,{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h3",{className:"text-lg font-medium text-slate-800 dark:text-slate-200",children:er(d,"MMMM yyyy")}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(q,{variant:"outline",size:"icon",onClick:ce,className:"h-8 w-8 p-0 text-slate-600 dark:text-slate-300 hover:scale-105 transition-transform duration-200",children:u.jsx(b2,{className:"h-4 w-4"})}),u.jsx(q,{variant:"outline",size:"icon",onClick:de,className:"h-8 w-8 p-0 text-slate-600 dark:text-slate-300 hover:scale-105 transition-transform duration-200",children:u.jsx(p0,{className:"h-4 w-4"})})]})]}),u.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2 text-center",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(V=>u.jsx("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 py-2",children:V},V))}),u.jsx("div",{className:"grid grid-cols-7 gap-1",children:L.map((V,Q)=>V.map((H,ve)=>u.jsx("div",{className:`
                            relative p-1 min-h-[80px] border 
                            ${H.isToday?"border-teal-500 bg-teal-50 dark:bg-teal-900/20":H.isCurrentMonth?"border-slate-200 dark:border-slate-700":"border-slate-100 bg-slate-50 dark:border-slate-800 dark:bg-slate-800/30"}
                            ${H.isCurrentMonth?"text-slate-800 dark:text-slate-200":"text-slate-400 dark:text-slate-600"}
                            hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors
                          `,onClick:()=>_e(H),children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsx("span",{className:`
                                text-sm font-medium p-1 rounded-full w-6 h-6 flex items-center justify-center
                                ${H.isToday?"bg-teal-500 text-white":""}
                              `,children:H.dayOfMonth}),H.tasksCount>0&&u.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300 px-1.5 py-0.5 rounded-full",children:H.tasksCount})]}),u.jsxs("div",{className:"flex-1 mt-1 overflow-hidden",children:[H.tasks.slice(0,2).map((fe,te)=>u.jsx("div",{className:`text-xs truncate p-1 mb-0.5 rounded cursor-pointer hover:opacity-80
                                    ${fe.completed?"line-through text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-700/30":fe.priority==="high"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":fe.priority==="medium"?"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"}
                                  `,onClick:re=>ge(re,fe),children:fe.title},fe.id)),H.tasksCount>2&&u.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 pl-1",children:["+",H.tasksCount-2," more"]})]})]})},`${Q}-${ve}`)))})]})})})]})]}),h&&u.jsx(ek,{isOpen:h,onClose:()=>{p(!1),g(null)},onSubmit:V=>{m?a(m.id,V):s(V),p(!1),g(null)},taskToEdit:m}),x&&u.jsx(cr,{open:x,onOpenChange:w,children:u.jsxs(rr,{className:"max-w-md",children:[u.jsx(nr,{children:u.jsxs(ir,{className:"flex items-center gap-2",children:[u.jsx(Ql,{className:"h-5 w-5"}),"Task Details"]})}),v&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:"Title"}),u.jsx("p",{className:"text-lg font-semibold",children:v.title})]}),v.description&&u.jsxs("div",{children:[u.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:"Description"}),u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:v.description})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:"Priority"}),u.jsx(lt,{variant:v.priority==="high"?"destructive":v.priority==="medium"?"default":"secondary",children:v.priority})]}),u.jsxs("div",{children:[u.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:"Status"}),u.jsx(lt,{variant:v.completed?"success":"outline",children:v.completed?"Completed":"Pending"})]})]}),u.jsxs("div",{children:[u.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:"Due Date"}),u.jsxs("p",{className:"text-sm flex items-center gap-2",children:[u.jsx(Vu,{className:"h-4 w-4"}),er(new Date(v.dueDate),"PPP")]})]}),u.jsxs("div",{className:"flex gap-2 pt-4",children:[u.jsxs(q,{variant:"outline",size:"sm",onClick:()=>{W(v.id),w(!1)},className:"flex-1",children:[u.jsx(Gn,{className:"h-4 w-4 mr-2"}),v.completed?"Mark Incomplete":"Mark Complete"]}),u.jsx(q,{variant:"outline",size:"sm",onClick:()=>{w(!1),G(v.id)},children:u.jsx(oj,{className:"h-4 w-4"})}),u.jsx(q,{variant:"outline",size:"sm",onClick:()=>{$(v.id),w(!1)},children:u.jsx(Zm,{className:`h-4 w-4 ${v.priority==="high"?"fill-current text-yellow-500":""}`})})]})]})]})}),!r&&u.jsx(fX,{isOpen:T,onClose:()=>A(!1),showUpgradeOnly:S!=="free"})]})})}function H8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H8(Object(r),!0).forEach(function(n){lu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function q2(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Jo(t,e){if(t==null)return{};var r,n,i=q2(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ii(t,e,r){return e=Jx(e),Fye(t,bH()?Reflect.construct(e,r||[],Jx(t).constructor):e.apply(t,r))}function hX(t){if(Array.isArray(t))return t}function TCe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function pX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hu(t,e){return hX(t)||TCe(t,e)||ej(t,e)||pX()}function mX(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=mX(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function Pr(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=mX(t))&&(n&&(n+=" "),n+=e);return n}function Ar(){return Ar=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ar.apply(null,arguments)}var NCe=function(t,e,r,n,i,a,o,s){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,i,a,o,s],d=0;l=new Error(e.replace(/%s/g,function(){return c[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},ICe=NCe;const Qg=ct(ICe);var PCe=function(){};function OCe(t,e){var r={};return Object.keys(t).forEach(function(n){r[W1(n)]=PCe}),r}function G8(t,e){return t[e]!==void 0}function W1(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function jCe(t){return!!t&&(typeof t!="function"||t.prototype&&t.prototype.isReactComponent)}function kCe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Zx(t,e)}function gX(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function vX(t){function e(r){var n=this.constructor.getDerivedStateFromProps(t,r);return n??null}this.setState(e.bind(this))}function yX(t,e){try{var r=this.props,n=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}gX.__suppressDeprecationWarning=!0;vX.__suppressDeprecationWarning=!0;yX.__suppressDeprecationWarning=!0;function RCe(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var r=null,n=null,i=null;if(typeof e.componentWillMount=="function"?r="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||n!==null||i!==null){var a=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+o+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=gX,e.componentWillReceiveProps=vX),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=yX;var s=e.componentDidUpdate;e.componentDidUpdate=function(c,d,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;s.call(this,c,d,h)}}return t}var DCe="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function xX(t,e,r){r===void 0&&(r=[]);var n=t.displayName||t.name||"Component",i=jCe(t),a=Object.keys(e),o=a.map(W1);i||!r.length||Qg(!1);var s=function(c){kCe(d,c);function d(){for(var h,p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];h=c.call.apply(c,[this].concat(m))||this,h.handlers=Object.create(null),a.forEach(function(y){var x=e[y],w=function(E){if(h.props[x]){var T;h._notifying=!0;for(var A=arguments.length,C=new Array(A>1?A-1:0),N=1;N<A;N++)C[N-1]=arguments[N];(T=h.props)[x].apply(T,[E].concat(C)),h._notifying=!1}h.unmounted||h.setState(function(I){var P,k=I.values;return{values:Ar(Object.create(null),k,(P={},P[y]=E,P))}})};h.handlers[x]=w}),r.length&&(h.attachRef=function(y){h.inner=y});var v=Object.create(null);return a.forEach(function(y){v[y]=h.props[W1(y)]}),h.state={values:v,prevProps:{}},h}var f=d.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},d.getDerivedStateFromProps=function(p,m){var g=m.values,v=m.prevProps,y={values:Ar(Object.create(null),g),prevProps:{}};return a.forEach(function(x){y.prevProps[x]=p[x],!G8(p,x)&&G8(v,x)&&(y.values[x]=p[W1(x)])}),y},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var p=this,m=this.props,g=m.innerRef,v=q2(m,["innerRef"]);o.forEach(function(x){delete v[x]});var y={};return a.forEach(function(x){var w=p.props[x];y[x]=w!==void 0?w:p.state.values[x]}),D.createElement(t,Ar({},v,y,this.handlers,{ref:g||this.attachRef}))},d}(D.Component);RCe(s),s.displayName="Uncontrolled("+n+")",s.propTypes=Ar({innerRef:function(){}},OCe(e)),r.forEach(function(c){s.prototype[c]=function(){var f;return(f=this.inner)[c].apply(f,arguments)}});var l=s;return D.forwardRef&&(l=D.forwardRef(function(c,d){return D.createElement(s,Ar({},c,{innerRef:d,__source:{fileName:DCe,lineNumber:128},__self:this}))}),l.propTypes=s.propTypes),l.ControlledComponent=t,l.deferControlTo=function(c,d,f){return d===void 0&&(d={}),xX(c,Ar({},e,d),f)},l}var wX={exports:{}},MCe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",LCe=MCe,$Ce=LCe;function bX(){}function _X(){}_X.resetWarningCache=bX;var FCe=function(){function t(n,i,a,o,s,l){if(l!==$Ce){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:_X,resetWarningCache:bX};return r.PropTypes=r,r};wX.exports=FCe();var BCe=wX.exports;const ue=ct(BCe);var yw="milliseconds",Zg="seconds",Jg="minutes",ev="hours",Gu="day",th="week",tv="month",qu="year",Ku="decade",Yu="century",SX={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},UCe={month:1,year:12,decade:10*12,century:100*12};function VCe(t){return[31,zCe(t),31,30,31,30,31,31,30,31,30,31]}function zCe(t){return t%4===0&&t%100!==0||t%400===0?29:28}function wo(t,e,r){switch(t=new Date(t),r){case yw:case Zg:case Jg:case ev:case Gu:case th:return WCe(t,e*SX[r]);case tv:case qu:case Ku:case Yu:return HCe(t,e*UCe[r])}throw new TypeError('Invalid units: "'+r+'"')}function WCe(t,e){var r=new Date(+t+e);return GCe(t,r)}function HCe(t,e){var r=t.getFullYear(),n=t.getMonth(),i=t.getDate(),a=r*12+n+e,o=Math.trunc(a/12),s=a%12,l=Math.min(i,VCe(o)[s]),c=new Date(t);return c.setFullYear(o),c.setDate(1),c.setMonth(s),c.setDate(l),c}function GCe(t,e){var r=t.getTimezoneOffset(),n=e.getTimezoneOffset(),i=n-r;return new Date(+e+i*SX.minutes)}function rv(t,e,r){return wo(t,-e,r)}function kn(t,e,r){switch(t=new Date(t),e){case Yu:case Ku:case qu:t=ww(t,0);case tv:t=NX(t,1);case th:case Gu:t=av(t,0);case ev:t=rh(t,0);case Jg:t=iv(t,0);case Zg:t=nv(t,0)}return e===Ku&&(t=rv(t,Xu(t)%10,"year")),e===Yu&&(t=rv(t,Xu(t)%100,"year")),e===th&&(t=IX(t,0,r)),t}function xw(t,e,r){switch(t=new Date(t),t=kn(t,e,r),e){case Yu:case Ku:case qu:case tv:case th:t=wo(t,1,e),t=rv(t,1,Gu),t.setHours(23,59,59,999);break;case Gu:t.setHours(23,59,59,999);break;case ev:case Jg:case Zg:t=wo(t,1,e),t=rv(t,1,yw)}return t}var Xh=Zh(function(t,e){return t===e}),tk=Zh(function(t,e){return t!==e}),K2=Zh(function(t,e){return t>e}),I0=Zh(function(t,e){return t>=e}),rk=Zh(function(t,e){return t<e}),Qh=Zh(function(t,e){return t<=e});function EX(){return new Date(Math.min.apply(Math,arguments))}function AX(){return new Date(Math.max.apply(Math,arguments))}function CX(t,e,r,n){return n=n||"day",(!e||I0(t,e,n))&&(!r||Qh(t,r,n))}var nv=Lc("Milliseconds"),iv=Lc("Seconds"),rh=Lc("Minutes"),av=Lc("Hours"),TX=Lc("Day"),NX=Lc("Date"),ww=Lc("Month"),Xu=Lc("FullYear");function qCe(t,e){return e===void 0?Xu(kn(t,Ku)):wo(t,e+10,qu)}function KCe(t,e){return e===void 0?Xu(kn(t,Yu)):wo(t,e+100,qu)}function IX(t,e,r){var n=(TX(t)+7-(r||0))%7;return e===void 0?n:wo(t,e-n,Gu)}function YCe(t,e,r,n){var i,a,o;switch(r){case yw:case Zg:case Jg:case ev:case Gu:case th:i=e.getTime()-t.getTime();break;case tv:case qu:case Ku:case Yu:i=(Xu(e)-Xu(t))*12+ww(e)-ww(t);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case yw:a=1;break;case Zg:a=1e3;break;case Jg:a=1e3*60;break;case ev:a=1e3*60*60;break;case Gu:a=1e3*60*60*24;break;case th:a=1e3*60*60*24*7;break;case tv:a=1;break;case qu:a=12;break;case Ku:a=120;break;case Yu:a=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return o=i/a,n?o:Math.round(o)}function Lc(t){var e=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(t);return function(r,n){if(n===void 0)return r["get"+t]();var i=new Date(r);return i["set"+t](n),e&&i["get"+t]()!=n&&(t==="Hours"||n>=e&&i.getHours()-r.getHours()<Math.floor(n/e))&&i["set"+t](n+e),i}}function Zh(t){return function(e,r,n){return t(+kn(e,n),+kn(r,n))}}const q8=Object.freeze(Object.defineProperty({__proto__:null,add:wo,century:KCe,date:NX,day:TX,decade:qCe,diff:YCe,endOf:xw,eq:Xh,gt:K2,gte:I0,hours:av,inRange:CX,lt:rk,lte:Qh,max:AX,milliseconds:nv,min:EX,minutes:rh,month:ww,neq:tk,seconds:iv,startOf:kn,subtract:rv,weekday:IX,year:Xu},Symbol.toStringTag,{value:"Module"}));function XCe(t){if(Array.isArray(t))return hT(t)}function PX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H1(t){return XCe(t)||PX(t)||ej(t)||QCe()}function ZCe(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var nk=ZCe;function JCe(t,e){return t===e||t!==t&&e!==e}var P0=JCe,eTe=typeof ea=="object"&&ea&&ea.Object===Object&&ea,OX=eTe,tTe=OX,rTe=typeof self=="object"&&self&&self.Object===Object&&self,nTe=tTe||rTe||Function("return this")(),So=nTe,iTe=So,aTe=iTe.Symbol,Jh=aTe,K8=Jh,jX=Object.prototype,oTe=jX.hasOwnProperty,sTe=jX.toString,em=K8?K8.toStringTag:void 0;function lTe(t){var e=oTe.call(t,em),r=t[em];try{t[em]=void 0;var n=!0}catch{}var i=sTe.call(t);return n&&(e?t[em]=r:delete t[em]),i}var cTe=lTe,uTe=Object.prototype,dTe=uTe.toString;function fTe(t){return dTe.call(t)}var hTe=fTe,Y8=Jh,pTe=cTe,mTe=hTe,gTe="[object Null]",vTe="[object Undefined]",X8=Y8?Y8.toStringTag:void 0;function yTe(t){return t==null?t===void 0?vTe:gTe:X8&&X8 in Object(t)?pTe(t):mTe(t)}var rl=yTe;function xTe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var $a=xTe;const ep=ct($a);var wTe=rl,bTe=$a,_Te="[object AsyncFunction]",STe="[object Function]",ETe="[object GeneratorFunction]",ATe="[object Proxy]";function CTe(t){if(!bTe(t))return!1;var e=wTe(t);return e==STe||e==ETe||e==_Te||e==ATe}var Y2=CTe;const Xe=ct(Y2);var TTe=9007199254740991;function NTe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=TTe}var ik=NTe,ITe=Y2,PTe=ik;function OTe(t){return t!=null&&PTe(t.length)&&!ITe(t)}var tp=OTe,jTe=9007199254740991,kTe=/^(?:0|[1-9]\d*)$/;function RTe(t,e){var r=typeof t;return e=e??jTe,!!e&&(r=="number"||r!="symbol"&&kTe.test(t))&&t>-1&&t%1==0&&t<e}var ak=RTe,DTe=P0,MTe=tp,LTe=ak,$Te=$a;function FTe(t,e,r){if(!$Te(r))return!1;var n=typeof e;return(n=="number"?MTe(r)&&LTe(e,r.length):n=="string"&&e in r)?DTe(r[e],t):!1}var rp=FTe,BTe=/\s/;function UTe(t){for(var e=t.length;e--&&BTe.test(t.charAt(e)););return e}var VTe=UTe,zTe=VTe,WTe=/^\s+/;function HTe(t){return t&&t.slice(0,zTe(t)+1).replace(WTe,"")}var GTe=HTe;function qTe(t){return t!=null&&typeof t=="object"}var Eo=qTe,KTe=rl,YTe=Eo,XTe="[object Symbol]";function QTe(t){return typeof t=="symbol"||YTe(t)&&KTe(t)==XTe}var np=QTe,ZTe=GTe,Q8=$a,JTe=np,Z8=NaN,eNe=/^[-+]0x[0-9a-f]+$/i,tNe=/^0b[01]+$/i,rNe=/^0o[0-7]+$/i,nNe=parseInt;function iNe(t){if(typeof t=="number")return t;if(JTe(t))return Z8;if(Q8(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Q8(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ZTe(t);var r=tNe.test(t);return r||rNe.test(t)?nNe(t.slice(2),r?2:8):eNe.test(t)?Z8:+t}var kX=iNe,aNe=kX,oNe=1/0,sNe=17976931348623157e292;function lNe(t){if(!t)return t===0?t:0;if(t=aNe(t),t===oNe||t===-1/0){var e=t<0?-1:1;return e*sNe}return t===t?t:0}var RX=lNe,cNe=RX;function uNe(t){var e=cNe(t),r=e%1;return e===e?r?e-r:e:0}var DX=uNe,dNe=nk,fNe=rp,hNe=DX,pNe=Math.ceil,mNe=Math.max;function gNe(t,e,r){(r?fNe(t,e,r):e===void 0)?e=1:e=mNe(hNe(e),0);var n=t==null?0:t.length;if(!n||e<1)return[];for(var i=0,a=0,o=Array(pNe(n/e));i<n;)o[a++]=dNe(t,i,i+=e);return o}var vNe=gNe;const yNe=ct(vNe);function O0(t){return t&&t.ownerDocument||document}function xNe(t){var e=O0(t);return e&&e.defaultView||window}function wNe(t,e){return xNe(t).getComputedStyle(t,e)}var bNe=/([A-Z])/g;function _Ne(t){return t.replace(bNe,"-$1").toLowerCase()}var SNe=/^ms-/;function Hy(t){return _Ne(t).replace(SNe,"-ms-")}var ENe=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function ANe(t){return!!(t&&ENe.test(t))}function Ld(t,e){var r="",n="";if(typeof e=="string")return t.style.getPropertyValue(Hy(e))||wNe(t).getPropertyValue(Hy(e));Object.keys(e).forEach(function(i){var a=e[i];!a&&a!==0?t.style.removeProperty(Hy(i)):ANe(i)?n+=i+"("+a+") ":r+=Hy(i)+": "+a+";"}),n&&(r+="transform: "+n+";"),t.style.cssText+=";"+r}function ov(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function CNe(t){return"nodeType"in t&&t.nodeType===document.DOCUMENT_NODE}function ok(t){return"window"in t&&t.window===t?t:CNe(t)&&t.defaultView||!1}function MX(t){var e=t==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,i){var a=ok(n);if(i===void 0)return a?a[t]:n[e];a?a.scrollTo(a[t],i):n[e]=i}return r}const LX=MX("pageXOffset"),$X=MX("pageYOffset");function Cu(t){var e=O0(t),r={top:0,left:0,height:0,width:0},n=e&&e.documentElement;return!n||!ov(n,t)||(t.getBoundingClientRect!==void 0&&(r=t.getBoundingClientRect()),r={top:r.top+$X(n)-(n.clientTop||0),left:r.left+LX(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var TNe=function(e){return!!e&&"offsetParent"in e};function NNe(t){for(var e=O0(t),r=t&&t.offsetParent;TNe(r)&&r.nodeName!=="HTML"&&Ld(r,"position")==="static";)r=r.offsetParent;return r||e.documentElement}var INe=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function FX(t,e){var r={top:0,left:0},n;if(Ld(t,"position")==="fixed")n=t.getBoundingClientRect();else{var i=e||NNe(t);n=Cu(t),INe(i)!=="html"&&(r=Cu(i));var a=String(Ld(i,"borderTopWidth")||0);r.top+=parseInt(a,10)-$X(i)||0;var o=String(Ld(i,"borderLeftWidth")||0);r.left+=parseInt(o,10)-LX(i)||0}var s=String(Ld(t,"marginTop")||0),l=String(Ld(t,"marginLeft")||0);return Ar({},n,{top:n.top-r.top-(parseInt(s,10)||0),left:n.left-r.left-(parseInt(l,10)||0)})}const sk=!!(typeof window<"u"&&window.document&&window.document.createElement);var J8=new Date().getTime();function PNe(t){var e=new Date().getTime(),r=Math.max(0,16-(e-J8)),n=setTimeout(t,r);return J8=e,n}var ONe=["","webkit","moz","o","ms"],KT="clearTimeout",YT=PNe,e5=function(e,r){return e+(e?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};sk&&ONe.some(function(t){var e=e5(t,"request");return e in window&&(KT=e5(t,"cancel"),YT=function(n){return window[e](n)}),!!YT});var t5=function(e){typeof window[KT]=="function"&&window[KT](e)},BX=YT,$E;function jNe(t,e){if(!$E){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;$E=function(a,o){return n.call(a,o)}}return $E(t,e)}var kNe=Function.prototype.bind.call(Function.prototype.call,[].slice);function RNe(t,e){return kNe(t.querySelectorAll(e))}var XT=!1,QT=!1;try{var FE={get passive(){return XT=!0},get once(){return QT=XT=!0}};sk&&(window.addEventListener("test",FE,FE),window.removeEventListener("test",FE,!0))}catch{}function DNe(t,e,r,n){if(n&&typeof n!="boolean"&&!QT){var i=n.once,a=n.capture,o=r;!QT&&i&&(o=r.__once||function s(l){this.removeEventListener(e,s,a),r.call(this,l)},r.__once=o),t.addEventListener(e,o,XT?n:a)}t.addEventListener(e,r,n)}function MNe(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t},[t]),e}function r5(t){const e=MNe(t);return _.useCallback(function(...r){return e.current&&e.current(...r)},[e])}function n5(){return _.useState(null)}function LNe(){const t=_.useRef(!0),e=_.useRef(()=>t.current);return _.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function $Ne(t){const e=LNe();return[t[0],_.useCallback(r=>{if(e())return t[1](r)},[e,t[1]])]}var Ui="top",Ra="bottom",Da="right",Vi="left",lk="auto",j0=[Ui,Ra,Da,Vi],nh="start",sv="end",FNe="clippingParents",UX="viewport",tm="popper",BNe="reference",i5=j0.reduce(function(t,e){return t.concat([e+"-"+nh,e+"-"+sv])},[]),ck=[].concat(j0,[lk]).reduce(function(t,e){return t.concat([e,e+"-"+nh,e+"-"+sv])},[]),UNe="beforeRead",VNe="read",zNe="afterRead",WNe="beforeMain",HNe="main",GNe="afterMain",qNe="beforeWrite",KNe="write",YNe="afterWrite",XNe=[UNe,VNe,zNe,WNe,HNe,GNe,qNe,KNe,YNe];function Ho(t){return t.split("-")[0]}function ua(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Qu(t){var e=ua(t).Element;return t instanceof e||t instanceof Element}function Go(t){var e=ua(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function uk(t){if(typeof ShadowRoot>"u")return!1;var e=ua(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Tu=Math.max,bw=Math.min,ih=Math.round;function ZT(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function VX(){return!/^((?!chrome|android).)*safari/i.test(ZT())}function ah(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,a=1;e&&Go(t)&&(i=t.offsetWidth>0&&ih(n.width)/t.offsetWidth||1,a=t.offsetHeight>0&&ih(n.height)/t.offsetHeight||1);var o=Qu(t)?ua(t):window,s=o.visualViewport,l=!VX()&&r,c=(n.left+(l&&s?s.offsetLeft:0))/i,d=(n.top+(l&&s?s.offsetTop:0))/a,f=n.width/i,h=n.height/a;return{width:f,height:h,top:d,right:c+f,bottom:d+h,left:c,x:c,y:d}}function dk(t){var e=ah(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function zX(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&uk(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function _c(t){return t?(t.nodeName||"").toLowerCase():null}function qs(t){return ua(t).getComputedStyle(t)}function QNe(t){return["table","td","th"].indexOf(_c(t))>=0}function $c(t){return((Qu(t)?t.ownerDocument:t.document)||window.document).documentElement}function X2(t){return _c(t)==="html"?t:t.assignedSlot||t.parentNode||(uk(t)?t.host:null)||$c(t)}function a5(t){return!Go(t)||qs(t).position==="fixed"?null:t.offsetParent}function ZNe(t){var e=/firefox/i.test(ZT()),r=/Trident/i.test(ZT());if(r&&Go(t)){var n=qs(t);if(n.position==="fixed")return null}var i=X2(t);for(uk(i)&&(i=i.host);Go(i)&&["html","body"].indexOf(_c(i))<0;){var a=qs(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function k0(t){for(var e=ua(t),r=a5(t);r&&QNe(r)&&qs(r).position==="static";)r=a5(r);return r&&(_c(r)==="html"||_c(r)==="body"&&qs(r).position==="static")?e:r||ZNe(t)||e}function fk(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ig(t,e,r){return Tu(t,bw(e,r))}function JNe(t,e,r){var n=ig(t,e,r);return n>r?r:n}function WX(){return{top:0,right:0,bottom:0,left:0}}function HX(t){return Object.assign({},WX(),t)}function GX(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var eIe=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,HX(typeof e!="number"?e:GX(e,j0))};function tIe(t){var e,r=t.state,n=t.name,i=t.options,a=r.elements.arrow,o=r.modifiersData.popperOffsets,s=Ho(r.placement),l=fk(s),c=[Vi,Da].indexOf(s)>=0,d=c?"height":"width";if(!(!a||!o)){var f=eIe(i.padding,r),h=dk(a),p=l==="y"?Ui:Vi,m=l==="y"?Ra:Da,g=r.rects.reference[d]+r.rects.reference[l]-o[l]-r.rects.popper[d],v=o[l]-r.rects.reference[l],y=k0(a),x=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,w=g/2-v/2,S=f[p],E=x-h[d]-f[m],T=x/2-h[d]/2+w,A=ig(S,T,E),C=l;r.modifiersData[n]=(e={},e[C]=A,e.centerOffset=A-T,e)}}function rIe(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||zX(e.elements.popper,i)&&(e.elements.arrow=i))}const nIe={name:"arrow",enabled:!0,phase:"main",fn:tIe,effect:rIe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function oh(t){return t.split("-")[1]}var iIe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function aIe(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:ih(r*i)/i||0,y:ih(n*i)/i||0}}function o5(t){var e,r=t.popper,n=t.popperRect,i=t.placement,a=t.variation,o=t.offsets,s=t.position,l=t.gpuAcceleration,c=t.adaptive,d=t.roundOffsets,f=t.isFixed,h=o.x,p=h===void 0?0:h,m=o.y,g=m===void 0?0:m,v=typeof d=="function"?d({x:p,y:g}):{x:p,y:g};p=v.x,g=v.y;var y=o.hasOwnProperty("x"),x=o.hasOwnProperty("y"),w=Vi,S=Ui,E=window;if(c){var T=k0(r),A="clientHeight",C="clientWidth";if(T===ua(r)&&(T=$c(r),qs(T).position!=="static"&&s==="absolute"&&(A="scrollHeight",C="scrollWidth")),T=T,i===Ui||(i===Vi||i===Da)&&a===sv){S=Ra;var N=f&&T===E&&E.visualViewport?E.visualViewport.height:T[A];g-=N-n.height,g*=l?1:-1}if(i===Vi||(i===Ui||i===Ra)&&a===sv){w=Da;var I=f&&T===E&&E.visualViewport?E.visualViewport.width:T[C];p-=I-n.width,p*=l?1:-1}}var P=Object.assign({position:s},c&&iIe),k=d===!0?aIe({x:p,y:g},ua(r)):{x:p,y:g};if(p=k.x,g=k.y,l){var O;return Object.assign({},P,(O={},O[S]=x?"0":"",O[w]=y?"0":"",O.transform=(E.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",O))}return Object.assign({},P,(e={},e[S]=x?g+"px":"",e[w]=y?p+"px":"",e.transform="",e))}function oIe(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,a=r.adaptive,o=a===void 0?!0:a,s=r.roundOffsets,l=s===void 0?!0:s,c={placement:Ho(e.placement),variation:oh(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,o5(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,o5(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const sIe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:oIe,data:{}};var Gy={passive:!0};function lIe(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,a=i===void 0?!0:i,o=n.resize,s=o===void 0?!0:o,l=ua(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&c.forEach(function(d){d.addEventListener("scroll",r.update,Gy)}),s&&l.addEventListener("resize",r.update,Gy),function(){a&&c.forEach(function(d){d.removeEventListener("scroll",r.update,Gy)}),s&&l.removeEventListener("resize",r.update,Gy)}}const cIe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:lIe,data:{}};var uIe={left:"right",right:"left",bottom:"top",top:"bottom"};function G1(t){return t.replace(/left|right|bottom|top/g,function(e){return uIe[e]})}var dIe={start:"end",end:"start"};function s5(t){return t.replace(/start|end/g,function(e){return dIe[e]})}function hk(t){var e=ua(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function pk(t){return ah($c(t)).left+hk(t).scrollLeft}function fIe(t,e){var r=ua(t),n=$c(t),i=r.visualViewport,a=n.clientWidth,o=n.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;var c=VX();(c||!c&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s+pk(t),y:l}}function hIe(t){var e,r=$c(t),n=hk(t),i=(e=t.ownerDocument)==null?void 0:e.body,a=Tu(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Tu(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+pk(t),l=-n.scrollTop;return qs(i||r).direction==="rtl"&&(s+=Tu(r.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:l}}function mk(t){var e=qs(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function qX(t){return["html","body","#document"].indexOf(_c(t))>=0?t.ownerDocument.body:Go(t)&&mk(t)?t:qX(X2(t))}function ag(t,e){var r;e===void 0&&(e=[]);var n=qX(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),a=ua(n),o=i?[a].concat(a.visualViewport||[],mk(n)?n:[]):n,s=e.concat(o);return i?s:s.concat(ag(X2(o)))}function JT(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function pIe(t,e){var r=ah(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function l5(t,e,r){return e===UX?JT(fIe(t,r)):Qu(e)?pIe(e,r):JT(hIe($c(t)))}function mIe(t){var e=ag(X2(t)),r=["absolute","fixed"].indexOf(qs(t).position)>=0,n=r&&Go(t)?k0(t):t;return Qu(n)?e.filter(function(i){return Qu(i)&&zX(i,n)&&_c(i)!=="body"}):[]}function gIe(t,e,r,n){var i=e==="clippingParents"?mIe(t):[].concat(e),a=[].concat(i,[r]),o=a[0],s=a.reduce(function(l,c){var d=l5(t,c,n);return l.top=Tu(d.top,l.top),l.right=bw(d.right,l.right),l.bottom=bw(d.bottom,l.bottom),l.left=Tu(d.left,l.left),l},l5(t,o,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function KX(t){var e=t.reference,r=t.element,n=t.placement,i=n?Ho(n):null,a=n?oh(n):null,o=e.x+e.width/2-r.width/2,s=e.y+e.height/2-r.height/2,l;switch(i){case Ui:l={x:o,y:e.y-r.height};break;case Ra:l={x:o,y:e.y+e.height};break;case Da:l={x:e.x+e.width,y:s};break;case Vi:l={x:e.x-r.width,y:s};break;default:l={x:e.x,y:e.y}}var c=i?fk(i):null;if(c!=null){var d=c==="y"?"height":"width";switch(a){case nh:l[c]=l[c]-(e[d]/2-r[d]/2);break;case sv:l[c]=l[c]+(e[d]/2-r[d]/2);break}}return l}function lv(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,a=r.strategy,o=a===void 0?t.strategy:a,s=r.boundary,l=s===void 0?FNe:s,c=r.rootBoundary,d=c===void 0?UX:c,f=r.elementContext,h=f===void 0?tm:f,p=r.altBoundary,m=p===void 0?!1:p,g=r.padding,v=g===void 0?0:g,y=HX(typeof v!="number"?v:GX(v,j0)),x=h===tm?BNe:tm,w=t.rects.popper,S=t.elements[m?x:h],E=gIe(Qu(S)?S:S.contextElement||$c(t.elements.popper),l,d,o),T=ah(t.elements.reference),A=KX({reference:T,element:w,placement:i}),C=JT(Object.assign({},w,A)),N=h===tm?C:T,I={top:E.top-N.top+y.top,bottom:N.bottom-E.bottom+y.bottom,left:E.left-N.left+y.left,right:N.right-E.right+y.right},P=t.modifiersData.offset;if(h===tm&&P){var k=P[i];Object.keys(I).forEach(function(O){var L=[Da,Ra].indexOf(O)>=0?1:-1,z=[Ui,Ra].indexOf(O)>=0?"y":"x";I[O]+=k[z]*L})}return I}function vIe(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,a=r.rootBoundary,o=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?ck:l,d=oh(n),f=d?s?i5:i5.filter(function(m){return oh(m)===d}):j0,h=f.filter(function(m){return c.indexOf(m)>=0});h.length===0&&(h=f);var p=h.reduce(function(m,g){return m[g]=lv(t,{placement:g,boundary:i,rootBoundary:a,padding:o})[Ho(g)],m},{});return Object.keys(p).sort(function(m,g){return p[m]-p[g]})}function yIe(t){if(Ho(t)===lk)return[];var e=G1(t);return[s5(t),e,s5(e)]}function xIe(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,a=i===void 0?!0:i,o=r.altAxis,s=o===void 0?!0:o,l=r.fallbackPlacements,c=r.padding,d=r.boundary,f=r.rootBoundary,h=r.altBoundary,p=r.flipVariations,m=p===void 0?!0:p,g=r.allowedAutoPlacements,v=e.options.placement,y=Ho(v),x=y===v,w=l||(x||!m?[G1(v)]:yIe(v)),S=[v].concat(w).reduce(function(ce,de){return ce.concat(Ho(de)===lk?vIe(e,{placement:de,boundary:d,rootBoundary:f,padding:c,flipVariations:m,allowedAutoPlacements:g}):de)},[]),E=e.rects.reference,T=e.rects.popper,A=new Map,C=!0,N=S[0],I=0;I<S.length;I++){var P=S[I],k=Ho(P),O=oh(P)===nh,L=[Ui,Ra].indexOf(k)>=0,z=L?"width":"height",M=lv(e,{placement:P,boundary:d,rootBoundary:f,altBoundary:h,padding:c}),W=L?O?Da:Vi:O?Ra:Ui;E[z]>T[z]&&(W=G1(W));var $=G1(W),B=[];if(a&&B.push(M[k]<=0),s&&B.push(M[W]<=0,M[$]<=0),B.every(function(ce){return ce})){N=P,C=!1;break}A.set(P,B)}if(C)for(var G=m?3:1,X=function(de){var _e=S.find(function(ge){var Se=A.get(ge);if(Se)return Se.slice(0,de).every(function(se){return se})});if(_e)return N=_e,"break"},Y=G;Y>0;Y--){var ee=X(Y);if(ee==="break")break}e.placement!==N&&(e.modifiersData[n]._skip=!0,e.placement=N,e.reset=!0)}}const wIe={name:"flip",enabled:!0,phase:"main",fn:xIe,requiresIfExists:["offset"],data:{_skip:!1}};function c5(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function u5(t){return[Ui,Da,Ra,Vi].some(function(e){return t[e]>=0})}function bIe(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,o=lv(e,{elementContext:"reference"}),s=lv(e,{altBoundary:!0}),l=c5(o,n),c=c5(s,i,a),d=u5(l),f=u5(c);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const _Ie={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:bIe};function SIe(t,e,r){var n=Ho(t),i=[Vi,Ui].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[Vi,Da].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}function EIe(t){var e=t.state,r=t.options,n=t.name,i=r.offset,a=i===void 0?[0,0]:i,o=ck.reduce(function(d,f){return d[f]=SIe(f,e.rects,a),d},{}),s=o[e.placement],l=s.x,c=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=o}const AIe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:EIe};function CIe(t){var e=t.state,r=t.name;e.modifiersData[r]=KX({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const TIe={name:"popperOffsets",enabled:!0,phase:"read",fn:CIe,data:{}};function NIe(t){return t==="x"?"y":"x"}function IIe(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,a=i===void 0?!0:i,o=r.altAxis,s=o===void 0?!1:o,l=r.boundary,c=r.rootBoundary,d=r.altBoundary,f=r.padding,h=r.tether,p=h===void 0?!0:h,m=r.tetherOffset,g=m===void 0?0:m,v=lv(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:d}),y=Ho(e.placement),x=oh(e.placement),w=!x,S=fk(y),E=NIe(S),T=e.modifiersData.popperOffsets,A=e.rects.reference,C=e.rects.popper,N=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,I=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),P=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,k={x:0,y:0};if(T){if(a){var O,L=S==="y"?Ui:Vi,z=S==="y"?Ra:Da,M=S==="y"?"height":"width",W=T[S],$=W+v[L],B=W-v[z],G=p?-C[M]/2:0,X=x===nh?A[M]:C[M],Y=x===nh?-C[M]:-A[M],ee=e.elements.arrow,ce=p&&ee?dk(ee):{width:0,height:0},de=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:WX(),_e=de[L],ge=de[z],Se=ig(0,A[M],ce[M]),se=w?A[M]/2-G-Se-_e-I.mainAxis:X-Se-_e-I.mainAxis,V=w?-A[M]/2+G+Se+ge+I.mainAxis:Y+Se+ge+I.mainAxis,Q=e.elements.arrow&&k0(e.elements.arrow),H=Q?S==="y"?Q.clientTop||0:Q.clientLeft||0:0,ve=(O=P==null?void 0:P[S])!=null?O:0,fe=W+se-ve-H,te=W+V-ve,re=ig(p?bw($,fe):$,W,p?Tu(B,te):B);T[S]=re,k[S]=re-W}if(s){var K,le=S==="x"?Ui:Vi,pe=S==="x"?Ra:Da,ut=T[E],Wt=E==="y"?"height":"width",wr=ut+v[le],dr=ut-v[pe],Dn=[Ui,Vi].indexOf(y)!==-1,pa=(K=P==null?void 0:P[E])!=null?K:0,Or=Dn?wr:ut-A[Wt]-C[Wt]-pa+I.altAxis,$r=Dn?ut+A[Wt]+C[Wt]-pa-I.altAxis:dr,os=p&&Dn?JNe(Or,ut,$r):ig(p?Or:wr,ut,p?$r:dr);T[E]=os,k[E]=os-ut}e.modifiersData[n]=k}}const PIe={name:"preventOverflow",enabled:!0,phase:"main",fn:IIe,requiresIfExists:["offset"]};function OIe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function jIe(t){return t===ua(t)||!Go(t)?hk(t):OIe(t)}function kIe(t){var e=t.getBoundingClientRect(),r=ih(e.width)/t.offsetWidth||1,n=ih(e.height)/t.offsetHeight||1;return r!==1||n!==1}function RIe(t,e,r){r===void 0&&(r=!1);var n=Go(e),i=Go(e)&&kIe(e),a=$c(e),o=ah(t,i,r),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((_c(e)!=="body"||mk(a))&&(s=jIe(e)),Go(e)?(l=ah(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):a&&(l.x=pk(a))),{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function DIe(t){var e=new Map,r=new Set,n=[];t.forEach(function(a){e.set(a.name,a)});function i(a){r.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(s){if(!r.has(s)){var l=e.get(s);l&&i(l)}}),n.push(a)}return t.forEach(function(a){r.has(a.name)||i(a)}),n}function MIe(t){var e=DIe(t);return XNe.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function LIe(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function $Ie(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var d5={placement:"bottom",modifiers:[],strategy:"absolute"};function f5(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function FIe(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,a=i===void 0?d5:i;return function(s,l,c){c===void 0&&(c=a);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},d5,a),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},f=[],h=!1,p={state:d,setOptions:function(y){var x=typeof y=="function"?y(d.options):y;g(),d.options=Object.assign({},a,d.options,x),d.scrollParents={reference:Qu(s)?ag(s):s.contextElement?ag(s.contextElement):[],popper:ag(l)};var w=MIe($Ie([].concat(n,d.options.modifiers)));return d.orderedModifiers=w.filter(function(S){return S.enabled}),m(),p.update()},forceUpdate:function(){if(!h){var y=d.elements,x=y.reference,w=y.popper;if(f5(x,w)){d.rects={reference:RIe(x,k0(w),d.options.strategy==="fixed"),popper:dk(w)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(I){return d.modifiersData[I.name]=Object.assign({},I.data)});for(var S=0;S<d.orderedModifiers.length;S++){if(d.reset===!0){d.reset=!1,S=-1;continue}var E=d.orderedModifiers[S],T=E.fn,A=E.options,C=A===void 0?{}:A,N=E.name;typeof T=="function"&&(d=T({state:d,options:C,name:N,instance:p})||d)}}}},update:LIe(function(){return new Promise(function(v){p.forceUpdate(),v(d)})}),destroy:function(){g(),h=!0}};if(!f5(s,l))return p;p.setOptions(c).then(function(v){!h&&c.onFirstUpdate&&c.onFirstUpdate(v)});function m(){d.orderedModifiers.forEach(function(v){var y=v.name,x=v.options,w=x===void 0?{}:x,S=v.effect;if(typeof S=="function"){var E=S({state:d,name:y,instance:p,options:w}),T=function(){};f.push(E||T)}})}function g(){f.forEach(function(v){return v()}),f=[]}return p}}var BIe=FIe({defaultModifiers:[_Ie,TIe,sIe,cIe,AIe,wIe,PIe,nIe]}),h5=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},UIe={name:"applyStyles",enabled:!1},VIe={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var r=e.state;return function(){var n=r.elements,i=n.reference,a=n.popper;if("removeAttribute"in i){var o=(i.getAttribute("aria-describedby")||"").split(",").filter(function(s){return s.trim()!==a.id});o.length?i.setAttribute("aria-describedby",o.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(e){var r,n=e.state,i=n.elements,a=i.popper,o=i.reference,s=(r=a.getAttribute("role"))==null?void 0:r.toLowerCase();if(a.id&&s==="tooltip"&&"setAttribute"in o){var l=o.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(a.id)!==-1)return;o.setAttribute("aria-describedby",l?l+","+a.id:a.id)}}},zIe=[];function WIe(t,e,r){var n=r===void 0?{}:r,i=n.enabled,a=i===void 0?!0:i,o=n.placement,s=o===void 0?"bottom":o,l=n.strategy,c=l===void 0?"absolute":l,d=n.modifiers,f=d===void 0?zIe:d,h=q2(n,["enabled","placement","strategy","modifiers"]),p=_.useRef(),m=_.useCallback(function(){var S;(S=p.current)==null||S.update()},[]),g=_.useCallback(function(){var S;(S=p.current)==null||S.forceUpdate()},[]),v=$Ne(_.useState({placement:s,update:m,forceUpdate:g,attributes:{},styles:{popper:h5(c),arrow:{}}})),y=v[0],x=v[1],w=_.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(E){var T=E.state,A={},C={};Object.keys(T.elements).forEach(function(N){A[N]=T.styles[N],C[N]=T.attributes[N]}),x({state:T,styles:A,attributes:C,update:m,forceUpdate:g,placement:T.placement})}}},[m,g,x]);return _.useEffect(function(){!p.current||!a||p.current.setOptions({placement:s,strategy:c,modifiers:[].concat(f,[w,UIe])})},[c,s,w,a]),_.useEffect(function(){if(!(!a||t==null||e==null))return p.current=BIe(t,e,Ar({},h,{placement:s,strategy:c,modifiers:[].concat(f,[VIe,w])})),function(){p.current!=null&&(p.current.destroy(),p.current=void 0,x(function(S){return Ar({},S,{attributes:{},styles:{popper:h5(c)}})}))}},[a,t,e]),y}function HIe(t,e,r,n){var i=n&&typeof n!="boolean"?n.capture:n;t.removeEventListener(e,r,i),r.__once&&t.removeEventListener(e,r.__once,i)}function Im(t,e,r,n){return DNe(t,e,r,n),function(){HIe(t,e,r,n)}}var GIe=function(){},qIe=GIe;const KIe=ct(qIe);function YIe(t){return t&&"setState"in t?VP.findDOMNode(t):t??null}const XIe=function(t){return O0(YIe(t))};var QIe=27,p5=function(){};function ZIe(t){return t.button===0}function JIe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var m5=function(e){return e&&("current"in e?e.current:e)};function ePe(t,e,r){var n=r===void 0?{}:r,i=n.disabled,a=n.clickTrigger,o=a===void 0?"click":a,s=_.useRef(!1),l=e||p5,c=_.useCallback(function(h){var p,m=m5(t);KIe(!!m,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),s.current=!m||JIe(h)||!ZIe(h)||!!ov(m,(p=h.composedPath==null?void 0:h.composedPath()[0])!=null?p:h.target)},[t]),d=r5(function(h){s.current||l(h)}),f=r5(function(h){h.keyCode===QIe&&l(h)});_.useEffect(function(){if(!(i||t==null)){var h=window.event,p=XIe(m5(t)),m=Im(p,o,c,!0),g=Im(p,o,function(x){if(x===h){h=void 0;return}d(x)}),v=Im(p,"keyup",function(x){if(x===h){h=void 0;return}f(x)}),y=[];return"ontouchstart"in p.documentElement&&(y=[].slice.call(p.body.children).map(function(x){return Im(x,"mousemove",p5)})),function(){m(),g(),v(),y.forEach(function(x){return x()})}}},[t,i,o,c,d,f])}function tPe(t){var e={};return Array.isArray(t)?(t==null||t.forEach(function(r){e[r.name]=r}),e):t||e}function rPe(t){return t===void 0&&(t={}),Array.isArray(t)?t:Object.keys(t).map(function(e){return t[e].name=e,t[e]})}function nPe(t){var e,r,n,i,a=t.enabled,o=t.enableEvents,s=t.placement,l=t.flip,c=t.offset,d=t.fixed,f=t.containerPadding,h=t.arrowElement,p=t.popperConfig,m=p===void 0?{}:p,g=tPe(m.modifiers);return Ar({},m,{placement:s,enabled:a,strategy:d?"fixed":m.strategy,modifiers:rPe(Ar({},g,{eventListeners:{enabled:o},preventOverflow:Ar({},g.preventOverflow,{options:f?Ar({padding:f},(e=g.preventOverflow)==null?void 0:e.options):(r=g.preventOverflow)==null?void 0:r.options}),offset:{options:Ar({offset:c},(n=g.offset)==null?void 0:n.options)},arrow:Ar({},g.arrow,{enabled:!!h,options:Ar({},(i=g.arrow)==null?void 0:i.options,{element:h})}),flip:Ar({enabled:!!l},g.flip)}))})}function iPe(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function aPe(t,e){t.classList?t.classList.add(e):iPe(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function g5(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function oPe(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=g5(t.className,e):t.setAttribute("class",g5(t.className&&t.className.baseVal||"",e))}var qy;function gk(t){if((!qy&&qy!==0||t)&&sk){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),qy=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return qy}var BE=function(e){var r;return typeof document>"u"?null:e==null?O0().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(r=e)!=null&&r.nodeType&&e||null)};function v5(t,e){var r=_.useState(function(){return BE(t)}),n=r[0],i=r[1];if(!n){var a=BE(t);a&&i(a)}return _.useEffect(function(){},[e,n]),_.useEffect(function(){var o=BE(t);o!==n&&i(o)},[t,n]),n}const y5=t=>!t||typeof t=="function"?t:e=>{t.current=e};function sPe(t,e){const r=y5(t),n=y5(e);return i=>{r&&r(i),n&&n(i)}}function lPe(t,e){return _.useMemo(()=>sPe(t,e),[t,e])}var vk=D.forwardRef(function(t,e){var r=t.flip,n=t.offset,i=t.placement,a=t.containerPadding,o=a===void 0?5:a,s=t.popperConfig,l=s===void 0?{}:s,c=t.transition,d=n5(),f=d[0],h=d[1],p=n5(),m=p[0],g=p[1],v=lPe(h,e),y=v5(t.container),x=v5(t.target),w=_.useState(!t.show),S=w[0],E=w[1],T=WIe(x,f,nPe({placement:i,enableEvents:!!t.show,containerPadding:o||5,flip:r,offset:n,arrowElement:m,popperConfig:l})),A=T.styles,C=T.attributes,N=q2(T,["styles","attributes"]);t.show?S&&E(!1):!t.transition&&!S&&E(!0);var I=function(){E(!0),t.onExited&&t.onExited.apply(t,arguments)},P=t.show||c&&!S;if(ePe(f,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!P)return null;var k=t.children(Ar({},N,{show:!!t.show,props:Ar({},C.popper,{style:A.popper,ref:v}),arrowProps:Ar({},C.arrow,{style:A.arrow,ref:g})}));if(c){var O=t.onExit,L=t.onExiting,z=t.onEnter,M=t.onEntering,W=t.onEntered;k=D.createElement(c,{in:t.show,appear:!0,onExit:O,onExiting:L,onExited:I,onEnter:z,onEntering:M,onEntered:W},k)}return y?VP.createPortal(k,y):null});vk.displayName="Overlay";vk.propTypes={show:ue.bool,placement:ue.oneOf(ck),target:ue.any,container:ue.any,flip:ue.bool,children:ue.func.isRequired,containerPadding:ue.number,popperConfig:ue.object,rootClose:ue.bool,rootCloseEvent:ue.oneOf(["click","mousedown"]),rootCloseDisabled:ue.bool,onHide:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(e.rootClose){var a;return(a=ue.func).isRequired.apply(a,[e].concat(n))}return ue.func.apply(ue,[e].concat(n))},transition:ue.elementType,onEnter:ue.func,onEntering:ue.func,onEntered:ue.func,onExit:ue.func,onExiting:ue.func,onExited:ue.func};function cPe(){this.__data__=[],this.size=0}var uPe=cPe,dPe=P0;function fPe(t,e){for(var r=t.length;r--;)if(dPe(t[r][0],e))return r;return-1}var Q2=fPe,hPe=Q2,pPe=Array.prototype,mPe=pPe.splice;function gPe(t){var e=this.__data__,r=hPe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():mPe.call(e,r,1),--this.size,!0}var vPe=gPe,yPe=Q2;function xPe(t){var e=this.__data__,r=yPe(e,t);return r<0?void 0:e[r][1]}var wPe=xPe,bPe=Q2;function _Pe(t){return bPe(this.__data__,t)>-1}var SPe=_Pe,EPe=Q2;function APe(t,e){var r=this.__data__,n=EPe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var CPe=APe,TPe=uPe,NPe=vPe,IPe=wPe,PPe=SPe,OPe=CPe;function ip(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ip.prototype.clear=TPe;ip.prototype.delete=NPe;ip.prototype.get=IPe;ip.prototype.has=PPe;ip.prototype.set=OPe;var Z2=ip,jPe=Z2;function kPe(){this.__data__=new jPe,this.size=0}var RPe=kPe;function DPe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var MPe=DPe;function LPe(t){return this.__data__.get(t)}var $Pe=LPe;function FPe(t){return this.__data__.has(t)}var BPe=FPe,UPe=So,VPe=UPe["__core-js_shared__"],zPe=VPe,UE=zPe,x5=function(){var t=/[^.]+$/.exec(UE&&UE.keys&&UE.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function WPe(t){return!!x5&&x5 in t}var HPe=WPe,GPe=Function.prototype,qPe=GPe.toString;function KPe(t){if(t!=null){try{return qPe.call(t)}catch{}try{return t+""}catch{}}return""}var YX=KPe,YPe=Y2,XPe=HPe,QPe=$a,ZPe=YX,JPe=/[\\^$.*+?()[\]{}|]/g,eOe=/^\[object .+?Constructor\]$/,tOe=Function.prototype,rOe=Object.prototype,nOe=tOe.toString,iOe=rOe.hasOwnProperty,aOe=RegExp("^"+nOe.call(iOe).replace(JPe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function oOe(t){if(!QPe(t)||XPe(t))return!1;var e=YPe(t)?aOe:eOe;return e.test(ZPe(t))}var sOe=oOe;function lOe(t,e){return t==null?void 0:t[e]}var cOe=lOe,uOe=sOe,dOe=cOe;function fOe(t,e){var r=dOe(t,e);return uOe(r)?r:void 0}var pd=fOe,hOe=pd,pOe=So,mOe=hOe(pOe,"Map"),yk=mOe,gOe=pd,vOe=gOe(Object,"create"),J2=vOe,w5=J2;function yOe(){this.__data__=w5?w5(null):{},this.size=0}var xOe=yOe;function wOe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var bOe=wOe,_Oe=J2,SOe="__lodash_hash_undefined__",EOe=Object.prototype,AOe=EOe.hasOwnProperty;function COe(t){var e=this.__data__;if(_Oe){var r=e[t];return r===SOe?void 0:r}return AOe.call(e,t)?e[t]:void 0}var TOe=COe,NOe=J2,IOe=Object.prototype,POe=IOe.hasOwnProperty;function OOe(t){var e=this.__data__;return NOe?e[t]!==void 0:POe.call(e,t)}var jOe=OOe,kOe=J2,ROe="__lodash_hash_undefined__";function DOe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=kOe&&e===void 0?ROe:e,this}var MOe=DOe,LOe=xOe,$Oe=bOe,FOe=TOe,BOe=jOe,UOe=MOe;function ap(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ap.prototype.clear=LOe;ap.prototype.delete=$Oe;ap.prototype.get=FOe;ap.prototype.has=BOe;ap.prototype.set=UOe;var VOe=ap,b5=VOe,zOe=Z2,WOe=yk;function HOe(){this.size=0,this.__data__={hash:new b5,map:new(WOe||zOe),string:new b5}}var GOe=HOe;function qOe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var KOe=qOe,YOe=KOe;function XOe(t,e){var r=t.__data__;return YOe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var e_=XOe,QOe=e_;function ZOe(t){var e=QOe(this,t).delete(t);return this.size-=e?1:0,e}var JOe=ZOe,eje=e_;function tje(t){return eje(this,t).get(t)}var rje=tje,nje=e_;function ije(t){return nje(this,t).has(t)}var aje=ije,oje=e_;function sje(t,e){var r=oje(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var lje=sje,cje=GOe,uje=JOe,dje=rje,fje=aje,hje=lje;function op(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}op.prototype.clear=cje;op.prototype.delete=uje;op.prototype.get=dje;op.prototype.has=fje;op.prototype.set=hje;var xk=op,pje=Z2,mje=yk,gje=xk,vje=200;function yje(t,e){var r=this.__data__;if(r instanceof pje){var n=r.__data__;if(!mje||n.length<vje-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new gje(n)}return r.set(t,e),this.size=r.size,this}var xje=yje,wje=Z2,bje=RPe,_je=MPe,Sje=$Pe,Eje=BPe,Aje=xje;function sp(t){var e=this.__data__=new wje(t);this.size=e.size}sp.prototype.clear=bje;sp.prototype.delete=_je;sp.prototype.get=Sje;sp.prototype.has=Eje;sp.prototype.set=Aje;var wk=sp,Cje="__lodash_hash_undefined__";function Tje(t){return this.__data__.set(t,Cje),this}var Nje=Tje;function Ije(t){return this.__data__.has(t)}var Pje=Ije,Oje=xk,jje=Nje,kje=Pje;function _w(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Oje;++e<r;)this.add(t[e])}_w.prototype.add=_w.prototype.push=jje;_w.prototype.has=kje;var XX=_w;function Rje(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var QX=Rje;function Dje(t,e){return t.has(e)}var ZX=Dje,Mje=XX,Lje=QX,$je=ZX,Fje=1,Bje=2;function Uje(t,e,r,n,i,a){var o=r&Fje,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(t),d=a.get(e);if(c&&d)return c==e&&d==t;var f=-1,h=!0,p=r&Bje?new Mje:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var m=t[f],g=e[f];if(n)var v=o?n(g,m,f,e,t,a):n(m,g,f,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!Lje(e,function(y,x){if(!$je(p,x)&&(m===y||i(m,y,r,n,a)))return p.push(x)})){h=!1;break}}else if(!(m===g||i(m,g,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var JX=Uje,Vje=So,zje=Vje.Uint8Array,eQ=zje;function Wje(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var Hje=Wje;function Gje(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var bk=Gje,_5=Jh,S5=eQ,qje=P0,Kje=JX,Yje=Hje,Xje=bk,Qje=1,Zje=2,Jje="[object Boolean]",eke="[object Date]",tke="[object Error]",rke="[object Map]",nke="[object Number]",ike="[object RegExp]",ake="[object Set]",oke="[object String]",ske="[object Symbol]",lke="[object ArrayBuffer]",cke="[object DataView]",E5=_5?_5.prototype:void 0,VE=E5?E5.valueOf:void 0;function uke(t,e,r,n,i,a,o){switch(r){case cke:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case lke:return!(t.byteLength!=e.byteLength||!a(new S5(t),new S5(e)));case Jje:case eke:case nke:return qje(+t,+e);case tke:return t.name==e.name&&t.message==e.message;case ike:case oke:return t==e+"";case rke:var s=Yje;case ake:var l=n&Qje;if(s||(s=Xje),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;n|=Zje,o.set(t,e);var d=Kje(s(t),s(e),n,i,a,o);return o.delete(t),d;case ske:if(VE)return VE.call(t)==VE.call(e)}return!1}var dke=uke;function fke(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var _k=fke,hke=Array.isArray,ai=hke,pke=_k,mke=ai;function gke(t,e,r){var n=e(t);return mke(t)?n:pke(n,r(t))}var tQ=gke;function vke(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var yke=vke;function xke(){return[]}var rQ=xke,wke=yke,bke=rQ,_ke=Object.prototype,Ske=_ke.propertyIsEnumerable,A5=Object.getOwnPropertySymbols,Eke=A5?function(t){return t==null?[]:(t=Object(t),wke(A5(t),function(e){return Ske.call(t,e)}))}:bke,Sk=Eke;function Ake(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Cke=Ake,Tke=rl,Nke=Eo,Ike="[object Arguments]";function Pke(t){return Nke(t)&&Tke(t)==Ike}var Oke=Pke,C5=Oke,jke=Eo,nQ=Object.prototype,kke=nQ.hasOwnProperty,Rke=nQ.propertyIsEnumerable,Dke=C5(function(){return arguments}())?C5:function(t){return jke(t)&&kke.call(t,"callee")&&!Rke.call(t,"callee")},Ek=Dke,Sw={exports:{}};function Mke(){return!1}var Lke=Mke;Sw.exports;(function(t,e){var r=So,n=Lke,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;t.exports=c})(Sw,Sw.exports);var t_=Sw.exports,$ke=rl,Fke=ik,Bke=Eo,Uke="[object Arguments]",Vke="[object Array]",zke="[object Boolean]",Wke="[object Date]",Hke="[object Error]",Gke="[object Function]",qke="[object Map]",Kke="[object Number]",Yke="[object Object]",Xke="[object RegExp]",Qke="[object Set]",Zke="[object String]",Jke="[object WeakMap]",e3e="[object ArrayBuffer]",t3e="[object DataView]",r3e="[object Float32Array]",n3e="[object Float64Array]",i3e="[object Int8Array]",a3e="[object Int16Array]",o3e="[object Int32Array]",s3e="[object Uint8Array]",l3e="[object Uint8ClampedArray]",c3e="[object Uint16Array]",u3e="[object Uint32Array]",Yt={};Yt[r3e]=Yt[n3e]=Yt[i3e]=Yt[a3e]=Yt[o3e]=Yt[s3e]=Yt[l3e]=Yt[c3e]=Yt[u3e]=!0;Yt[Uke]=Yt[Vke]=Yt[e3e]=Yt[zke]=Yt[t3e]=Yt[Wke]=Yt[Hke]=Yt[Gke]=Yt[qke]=Yt[Kke]=Yt[Yke]=Yt[Xke]=Yt[Qke]=Yt[Zke]=Yt[Jke]=!1;function d3e(t){return Bke(t)&&Fke(t.length)&&!!Yt[$ke(t)]}var f3e=d3e;function h3e(t){return function(e){return t(e)}}var r_=h3e,Ew={exports:{}};Ew.exports;(function(t,e){var r=OX,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(Ew,Ew.exports);var Ak=Ew.exports,p3e=f3e,m3e=r_,T5=Ak,N5=T5&&T5.isTypedArray,g3e=N5?m3e(N5):p3e,Ck=g3e,v3e=Cke,y3e=Ek,x3e=ai,w3e=t_,b3e=ak,_3e=Ck,S3e=Object.prototype,E3e=S3e.hasOwnProperty;function A3e(t,e){var r=x3e(t),n=!r&&y3e(t),i=!r&&!n&&w3e(t),a=!r&&!n&&!i&&_3e(t),o=r||n||i||a,s=o?v3e(t.length,String):[],l=s.length;for(var c in t)(e||E3e.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||b3e(c,l)))&&s.push(c);return s}var iQ=A3e,C3e=Object.prototype;function T3e(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||C3e;return t===r}var Tk=T3e;function N3e(t,e){return function(r){return t(e(r))}}var aQ=N3e,I3e=aQ,P3e=I3e(Object.keys,Object),O3e=P3e,j3e=Tk,k3e=O3e,R3e=Object.prototype,D3e=R3e.hasOwnProperty;function M3e(t){if(!j3e(t))return k3e(t);var e=[];for(var r in Object(t))D3e.call(t,r)&&r!="constructor"&&e.push(r);return e}var L3e=M3e,$3e=iQ,F3e=L3e,B3e=tp;function U3e(t){return B3e(t)?$3e(t):F3e(t)}var lp=U3e,V3e=tQ,z3e=Sk,W3e=lp;function H3e(t){return V3e(t,W3e,z3e)}var oQ=H3e,I5=oQ,G3e=1,q3e=Object.prototype,K3e=q3e.hasOwnProperty;function Y3e(t,e,r,n,i,a){var o=r&G3e,s=I5(t),l=s.length,c=I5(e),d=c.length;if(l!=d&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in e:K3e.call(e,h)))return!1}var p=a.get(t),m=a.get(e);if(p&&m)return p==e&&m==t;var g=!0;a.set(t,e),a.set(e,t);for(var v=o;++f<l;){h=s[f];var y=t[h],x=e[h];if(n)var w=o?n(x,y,h,e,t,a):n(y,x,h,t,e,a);if(!(w===void 0?y===x||i(y,x,r,n,a):w)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var S=t.constructor,E=e.constructor;S!=E&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof E=="function"&&E instanceof E)&&(g=!1)}return a.delete(t),a.delete(e),g}var X3e=Y3e,Q3e=pd,Z3e=So,J3e=Q3e(Z3e,"DataView"),e4e=J3e,t4e=pd,r4e=So,n4e=t4e(r4e,"Promise"),i4e=n4e,a4e=pd,o4e=So,s4e=a4e(o4e,"Set"),sQ=s4e,l4e=pd,c4e=So,u4e=l4e(c4e,"WeakMap"),d4e=u4e,eN=e4e,tN=yk,rN=i4e,nN=sQ,iN=d4e,lQ=rl,cp=YX,P5="[object Map]",f4e="[object Object]",O5="[object Promise]",j5="[object Set]",k5="[object WeakMap]",R5="[object DataView]",h4e=cp(eN),p4e=cp(tN),m4e=cp(rN),g4e=cp(nN),v4e=cp(iN),iu=lQ;(eN&&iu(new eN(new ArrayBuffer(1)))!=R5||tN&&iu(new tN)!=P5||rN&&iu(rN.resolve())!=O5||nN&&iu(new nN)!=j5||iN&&iu(new iN)!=k5)&&(iu=function(t){var e=lQ(t),r=e==f4e?t.constructor:void 0,n=r?cp(r):"";if(n)switch(n){case h4e:return R5;case p4e:return P5;case m4e:return O5;case g4e:return j5;case v4e:return k5}return e});var n_=iu,zE=wk,y4e=JX,x4e=dke,w4e=X3e,D5=n_,M5=ai,L5=t_,b4e=Ck,_4e=1,$5="[object Arguments]",F5="[object Array]",Ky="[object Object]",S4e=Object.prototype,B5=S4e.hasOwnProperty;function E4e(t,e,r,n,i,a){var o=M5(t),s=M5(e),l=o?F5:D5(t),c=s?F5:D5(e);l=l==$5?Ky:l,c=c==$5?Ky:c;var d=l==Ky,f=c==Ky,h=l==c;if(h&&L5(t)){if(!L5(e))return!1;o=!0,d=!1}if(h&&!d)return a||(a=new zE),o||b4e(t)?y4e(t,e,r,n,i,a):x4e(t,e,l,r,n,i,a);if(!(r&_4e)){var p=d&&B5.call(t,"__wrapped__"),m=f&&B5.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,v=m?e.value():e;return a||(a=new zE),i(g,v,r,n,a)}}return h?(a||(a=new zE),w4e(t,e,r,n,i,a)):!1}var A4e=E4e,C4e=A4e,U5=Eo;function cQ(t,e,r,n,i){return t===e?!0:t==null||e==null||!U5(t)&&!U5(e)?t!==t&&e!==e:C4e(t,e,r,n,cQ,i)}var Nk=cQ,T4e=Nk;function N4e(t,e){return T4e(t,e)}var I4e=N4e;const sh=ct(I4e);function WE(t,e){var r=ok(t);return r?r.innerHeight:Cu(t).height}function uQ(t,e,r){t.closest&&!r&&t.closest(e);var n=t;do{if(jNe(n,e))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}function P4e(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var dQ=P4e,O4e=wk,j4e=Nk,k4e=1,R4e=2;function D4e(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var l=s[0],c=t[l],d=s[1];if(o&&s[2]){if(c===void 0&&!(l in t))return!1}else{var f=new O4e;if(n)var h=n(c,d,l,t,e,f);if(!(h===void 0?j4e(d,c,k4e|R4e,n,f):h))return!1}}return!0}var M4e=D4e,L4e=$a;function $4e(t){return t===t&&!L4e(t)}var fQ=$4e,F4e=fQ,B4e=lp;function U4e(t){for(var e=B4e(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,F4e(i)]}return e}var V4e=U4e;function z4e(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var hQ=z4e,W4e=M4e,H4e=V4e,G4e=hQ;function q4e(t){var e=H4e(t);return e.length==1&&e[0][2]?G4e(e[0][0],e[0][1]):function(r){return r===t||W4e(r,t,e)}}var K4e=q4e,Y4e=ai,X4e=np,Q4e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z4e=/^\w*$/;function J4e(t,e){if(Y4e(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||X4e(t)?!0:Z4e.test(t)||!Q4e.test(t)||e!=null&&t in Object(e)}var Ik=J4e,pQ=xk,eRe="Expected a function";function Pk(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(eRe);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(Pk.Cache||pQ),r}Pk.Cache=pQ;var mQ=Pk;const tRe=ct(mQ);var rRe=mQ,nRe=500;function iRe(t){var e=rRe(t,function(n){return r.size===nRe&&r.clear(),n}),r=e.cache;return e}var aRe=iRe,oRe=aRe,sRe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lRe=/\\(\\)?/g,cRe=oRe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(sRe,function(r,n,i,a){e.push(i?a.replace(lRe,"$1"):n||r)}),e}),uRe=cRe;function dRe(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var i_=dRe,V5=Jh,fRe=i_,hRe=ai,pRe=np,z5=V5?V5.prototype:void 0,W5=z5?z5.toString:void 0;function gQ(t){if(typeof t=="string")return t;if(hRe(t))return fRe(t,gQ)+"";if(pRe(t))return W5?W5.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var mRe=gQ,gRe=mRe;function vRe(t){return t==null?"":gRe(t)}var vQ=vRe,yRe=ai,xRe=Ik,wRe=uRe,bRe=vQ;function _Re(t,e){return yRe(t)?t:xRe(t,e)?[t]:wRe(bRe(t))}var a_=_Re,SRe=np;function ERe(t){if(typeof t=="string"||SRe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var R0=ERe,ARe=a_,CRe=R0;function TRe(t,e){e=ARe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[CRe(e[r++])];return r&&r==n?t:void 0}var o_=TRe,NRe=o_;function IRe(t,e,r){var n=t==null?void 0:NRe(t,e);return n===void 0?r:n}var yQ=IRe;const Ia=ct(yQ);function PRe(t,e){return t!=null&&e in Object(t)}var ORe=PRe,jRe=a_,kRe=Ek,RRe=ai,DRe=ak,MRe=ik,LRe=R0;function $Re(t,e,r){e=jRe(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=LRe(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&MRe(i)&&DRe(o,i)&&(RRe(t)||kRe(t)))}var FRe=$Re,BRe=ORe,URe=FRe;function VRe(t,e){return t!=null&&URe(t,e,BRe)}var zRe=VRe,WRe=Nk,HRe=yQ,GRe=zRe,qRe=Ik,KRe=fQ,YRe=hQ,XRe=R0,QRe=1,ZRe=2;function JRe(t,e){return qRe(t)&&KRe(e)?YRe(XRe(t),e):function(r){var n=HRe(r,t);return n===void 0&&n===e?GRe(r,t):WRe(e,n,QRe|ZRe)}}var eDe=JRe;function tDe(t){return t}var up=tDe;function rDe(t){return function(e){return e==null?void 0:e[t]}}var nDe=rDe,iDe=o_;function aDe(t){return function(e){return iDe(e,t)}}var oDe=aDe,sDe=nDe,lDe=oDe,cDe=Ik,uDe=R0;function dDe(t){return cDe(t)?sDe(uDe(t)):lDe(t)}var fDe=dDe,hDe=K4e,pDe=eDe,mDe=up,gDe=ai,vDe=fDe;function yDe(t){return typeof t=="function"?t:t==null?mDe:typeof t=="object"?gDe(t)?pDe(t[0],t[1]):hDe(t):vDe(t)}var nl=yDe,xDe=dQ,wDe=nl,bDe=DX,_De=Math.max;function SDe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:bDe(r);return i<0&&(i=_De(n+i,0)),xDe(t,wDe(e),i)}var xQ=SDe;const EDe=ct(xQ);var ADe=Math.ceil,CDe=Math.max;function TDe(t,e,r,n){for(var i=-1,a=CDe(ADe((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var NDe=TDe,IDe=NDe,PDe=rp,HE=RX;function ODe(t){return function(e,r,n){return n&&typeof n!="number"&&PDe(e,r,n)&&(r=n=void 0),e=HE(e),r===void 0?(r=e,e=0):r=HE(r),n=n===void 0?e<r?1:-1:HE(n),IDe(e,r,n,t)}}var jDe=ODe,kDe=jDe,RDe=kDe(),DDe=RDe;const cv=ct(DDe);var H5=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function MDe(t,e){return!!(t===e||H5(t)&&H5(e))}function LDe(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!MDe(t[r],e[r]))return!1;return!0}function wQ(t,e){e===void 0&&(e=LDe);var r=null;function n(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(r&&r.lastThis===this&&e(i,r.lastArgs))return r.lastResult;var o=t.apply(this,i);return r={lastResult:o,lastArgs:i,lastThis:this},o}return n.clear=function(){r=null},n}function aN(t,e){var r=ok(t);return r?r.innerWidth:Cu(t).width}var G5=Jh,$De=Ek,FDe=ai,q5=G5?G5.isConcatSpreadable:void 0;function BDe(t){return FDe(t)||$De(t)||!!(q5&&t&&t[q5])}var UDe=BDe,VDe=_k,zDe=UDe;function bQ(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=zDe),i||(i=[]);++a<o;){var s=t[a];e>0&&r(s)?e>1?bQ(s,e-1,r,n,i):VDe(i,s):n||(i[i.length]=s)}return i}var Ok=bQ;function WDe(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var l=o[t?s:++i];if(r(a[l],l,a)===!1)break}return e}}var HDe=WDe,GDe=HDe,qDe=GDe(),KDe=qDe,YDe=KDe,XDe=lp;function QDe(t,e){return t&&YDe(t,e,XDe)}var jk=QDe,ZDe=tp;function JDe(t,e){return function(r,n){if(r==null)return r;if(!ZDe(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var eMe=JDe,tMe=jk,rMe=eMe,nMe=rMe(tMe),kk=nMe,iMe=kk,aMe=tp;function oMe(t,e){var r=-1,n=aMe(t)?Array(t.length):[];return iMe(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var _Q=oMe;function sMe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var lMe=sMe,K5=np;function cMe(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=K5(t),o=e!==void 0,s=e===null,l=e===e,c=K5(e);if(!s&&!c&&!a&&t>e||a&&o&&l&&!s&&!c||n&&o&&l||!r&&l||!i)return 1;if(!n&&!a&&!c&&t<e||c&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!l)return-1}return 0}var uMe=cMe,dMe=uMe;function fMe(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,o=i.length,s=r.length;++n<o;){var l=dMe(i[n],a[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return t.index-e.index}var hMe=fMe,GE=i_,pMe=o_,mMe=nl,gMe=_Q,vMe=lMe,yMe=r_,xMe=hMe,wMe=up,bMe=ai;function _Me(t,e,r){e.length?e=GE(e,function(a){return bMe(a)?function(o){return pMe(o,a.length===1?a[0]:a)}:a}):e=[wMe];var n=-1;e=GE(e,yMe(mMe));var i=gMe(t,function(a,o,s){var l=GE(e,function(c){return c(a)});return{criteria:l,index:++n,value:a}});return vMe(i,function(a,o){return xMe(a,o,r)})}var SMe=_Me;function EMe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var AMe=EMe,CMe=AMe,Y5=Math.max;function TMe(t,e,r){return e=Y5(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=Y5(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),CMe(t,this,s)}}var SQ=TMe;function NMe(t){return function(){return t}}var IMe=NMe,PMe=pd,OMe=function(){try{var t=PMe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),EQ=OMe,jMe=IMe,X5=EQ,kMe=up,RMe=X5?function(t,e){return X5(t,"toString",{configurable:!0,enumerable:!1,value:jMe(e),writable:!0})}:kMe,DMe=RMe,MMe=800,LMe=16,$Me=Date.now;function FMe(t){var e=0,r=0;return function(){var n=$Me(),i=LMe-(n-r);if(r=n,i>0){if(++e>=MMe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var BMe=FMe,UMe=DMe,VMe=BMe,zMe=VMe(UMe),AQ=zMe,WMe=up,HMe=SQ,GMe=AQ;function qMe(t,e){return GMe(HMe(t,e,WMe),t+"")}var CQ=qMe,KMe=Ok,YMe=SMe,XMe=CQ,Q5=rp,QMe=XMe(function(t,e){if(t==null)return[];var r=e.length;return r>1&&Q5(t,e[0],e[1])?e=[]:r>2&&Q5(e[0],e[1],e[2])&&(e=[e[0]]),YMe(t,KMe(e,1),[])}),ZMe=QMe;const s_=ct(ZMe);function TQ(t){return hX(t)||PX(t)||ej(t)||pX()}function JMe(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var e6e=JMe,t6e=$a,r6e=Tk,n6e=e6e,i6e=Object.prototype,a6e=i6e.hasOwnProperty;function o6e(t){if(!t6e(t))return n6e(t);var e=r6e(t),r=[];for(var n in t)n=="constructor"&&(e||!a6e.call(t,n))||r.push(n);return r}var s6e=o6e,l6e=iQ,c6e=s6e,u6e=tp;function d6e(t){return u6e(t)?l6e(t,!0):c6e(t)}var l_=d6e,f6e=CQ,h6e=P0,p6e=rp,m6e=l_,NQ=Object.prototype,g6e=NQ.hasOwnProperty,v6e=f6e(function(t,e){t=Object(t);var r=-1,n=e.length,i=n>2?e[2]:void 0;for(i&&p6e(e[0],e[1],i)&&(n=1);++r<n;)for(var a=e[r],o=m6e(a),s=-1,l=o.length;++s<l;){var c=o[s],d=t[c];(d===void 0||h6e(d,NQ[c])&&!g6e.call(t,c))&&(t[c]=a[c])}return t}),y6e=v6e;const x6e=ct(y6e);var Z5=EQ;function w6e(t,e,r){e=="__proto__"&&Z5?Z5(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Rk=w6e,b6e=Rk,_6e=jk,S6e=nl;function E6e(t,e){var r={};return e=S6e(e),_6e(t,function(n,i,a){b6e(r,i,e(n,i,a))}),r}var A6e=E6e;const IQ=ct(A6e);function C6e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var PQ=C6e,T6e=Rk,N6e=P0,I6e=Object.prototype,P6e=I6e.hasOwnProperty;function O6e(t,e,r){var n=t[e];(!(P6e.call(t,e)&&N6e(n,r))||r===void 0&&!(e in t))&&T6e(t,e,r)}var OQ=O6e,j6e=OQ,k6e=Rk;function R6e(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],l=n?n(r[s],t[s],s,r,t):void 0;l===void 0&&(l=t[s]),i?k6e(r,s,l):j6e(r,s,l)}return r}var D0=R6e,D6e=D0,M6e=lp;function L6e(t,e){return t&&D6e(e,M6e(e),t)}var $6e=L6e,F6e=D0,B6e=l_;function U6e(t,e){return t&&F6e(e,B6e(e),t)}var V6e=U6e,Aw={exports:{}};Aw.exports;(function(t,e){var r=So,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;function l(c,d){if(d)return c.slice();var f=c.length,h=s?s(f):new c.constructor(f);return c.copy(h),h}t.exports=l})(Aw,Aw.exports);var z6e=Aw.exports;function W6e(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var H6e=W6e,G6e=D0,q6e=Sk;function K6e(t,e){return G6e(t,q6e(t),e)}var Y6e=K6e,X6e=aQ,Q6e=X6e(Object.getPrototypeOf,Object),c_=Q6e,Z6e=_k,J6e=c_,e8e=Sk,t8e=rQ,r8e=Object.getOwnPropertySymbols,n8e=r8e?function(t){for(var e=[];t;)Z6e(e,e8e(t)),t=J6e(t);return e}:t8e,jQ=n8e,i8e=D0,a8e=jQ;function o8e(t,e){return i8e(t,a8e(t),e)}var s8e=o8e,l8e=tQ,c8e=jQ,u8e=l_;function d8e(t){return l8e(t,u8e,c8e)}var kQ=d8e,f8e=Object.prototype,h8e=f8e.hasOwnProperty;function p8e(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&h8e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var m8e=p8e,J5=eQ;function g8e(t){var e=new t.constructor(t.byteLength);return new J5(e).set(new J5(t)),e}var Dk=g8e,v8e=Dk;function y8e(t,e){var r=e?v8e(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var x8e=y8e,w8e=/\w*$/;function b8e(t){var e=new t.constructor(t.source,w8e.exec(t));return e.lastIndex=t.lastIndex,e}var _8e=b8e,eL=Jh,tL=eL?eL.prototype:void 0,rL=tL?tL.valueOf:void 0;function S8e(t){return rL?Object(rL.call(t)):{}}var E8e=S8e,A8e=Dk;function C8e(t,e){var r=e?A8e(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var T8e=C8e,N8e=Dk,I8e=x8e,P8e=_8e,O8e=E8e,j8e=T8e,k8e="[object Boolean]",R8e="[object Date]",D8e="[object Map]",M8e="[object Number]",L8e="[object RegExp]",$8e="[object Set]",F8e="[object String]",B8e="[object Symbol]",U8e="[object ArrayBuffer]",V8e="[object DataView]",z8e="[object Float32Array]",W8e="[object Float64Array]",H8e="[object Int8Array]",G8e="[object Int16Array]",q8e="[object Int32Array]",K8e="[object Uint8Array]",Y8e="[object Uint8ClampedArray]",X8e="[object Uint16Array]",Q8e="[object Uint32Array]";function Z8e(t,e,r){var n=t.constructor;switch(e){case U8e:return N8e(t);case k8e:case R8e:return new n(+t);case V8e:return I8e(t,r);case z8e:case W8e:case H8e:case G8e:case q8e:case K8e:case Y8e:case X8e:case Q8e:return j8e(t,r);case D8e:return new n;case M8e:case F8e:return new n(t);case L8e:return P8e(t);case $8e:return new n;case B8e:return O8e(t)}}var J8e=Z8e,e5e=$a,nL=Object.create,t5e=function(){function t(){}return function(e){if(!e5e(e))return{};if(nL)return nL(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),RQ=t5e,r5e=RQ,n5e=c_,i5e=Tk;function a5e(t){return typeof t.constructor=="function"&&!i5e(t)?r5e(n5e(t)):{}}var o5e=a5e,s5e=n_,l5e=Eo,c5e="[object Map]";function u5e(t){return l5e(t)&&s5e(t)==c5e}var d5e=u5e,f5e=d5e,h5e=r_,iL=Ak,aL=iL&&iL.isMap,p5e=aL?h5e(aL):f5e,m5e=p5e,g5e=n_,v5e=Eo,y5e="[object Set]";function x5e(t){return v5e(t)&&g5e(t)==y5e}var w5e=x5e,b5e=w5e,_5e=r_,oL=Ak,sL=oL&&oL.isSet,S5e=sL?_5e(sL):b5e,E5e=S5e,A5e=wk,C5e=PQ,T5e=OQ,N5e=$6e,I5e=V6e,P5e=z6e,O5e=H6e,j5e=Y6e,k5e=s8e,R5e=oQ,D5e=kQ,M5e=n_,L5e=m8e,$5e=J8e,F5e=o5e,B5e=ai,U5e=t_,V5e=m5e,z5e=$a,W5e=E5e,H5e=lp,G5e=l_,q5e=1,K5e=2,Y5e=4,DQ="[object Arguments]",X5e="[object Array]",Q5e="[object Boolean]",Z5e="[object Date]",J5e="[object Error]",MQ="[object Function]",eLe="[object GeneratorFunction]",tLe="[object Map]",rLe="[object Number]",LQ="[object Object]",nLe="[object RegExp]",iLe="[object Set]",aLe="[object String]",oLe="[object Symbol]",sLe="[object WeakMap]",lLe="[object ArrayBuffer]",cLe="[object DataView]",uLe="[object Float32Array]",dLe="[object Float64Array]",fLe="[object Int8Array]",hLe="[object Int16Array]",pLe="[object Int32Array]",mLe="[object Uint8Array]",gLe="[object Uint8ClampedArray]",vLe="[object Uint16Array]",yLe="[object Uint32Array]",Ft={};Ft[DQ]=Ft[X5e]=Ft[lLe]=Ft[cLe]=Ft[Q5e]=Ft[Z5e]=Ft[uLe]=Ft[dLe]=Ft[fLe]=Ft[hLe]=Ft[pLe]=Ft[tLe]=Ft[rLe]=Ft[LQ]=Ft[nLe]=Ft[iLe]=Ft[aLe]=Ft[oLe]=Ft[mLe]=Ft[gLe]=Ft[vLe]=Ft[yLe]=!0;Ft[J5e]=Ft[MQ]=Ft[sLe]=!1;function q1(t,e,r,n,i,a){var o,s=e&q5e,l=e&K5e,c=e&Y5e;if(r&&(o=i?r(t,n,i,a):r(t)),o!==void 0)return o;if(!z5e(t))return t;var d=B5e(t);if(d){if(o=L5e(t),!s)return O5e(t,o)}else{var f=M5e(t),h=f==MQ||f==eLe;if(U5e(t))return P5e(t,s);if(f==LQ||f==DQ||h&&!i){if(o=l||h?{}:F5e(t),!s)return l?k5e(t,I5e(o,t)):j5e(t,N5e(o,t))}else{if(!Ft[f])return i?t:{};o=$5e(t,f,s)}}a||(a=new A5e);var p=a.get(t);if(p)return p;a.set(t,o),W5e(t)?t.forEach(function(v){o.add(q1(v,e,r,v,t,a))}):V5e(t)&&t.forEach(function(v,y){o.set(y,q1(v,e,r,y,t,a))});var m=c?l?D5e:R5e:l?G5e:H5e,g=d?void 0:m(t);return C5e(g||t,function(v,y){g&&(y=v,v=t[y]),T5e(o,y,q1(v,e,r,y,t,a))}),o}var xLe=q1;function wLe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var $Q=wLe;const bLe=ct($Q);var _Le=o_,SLe=nk;function ELe(t,e){return e.length<2?t:_Le(t,SLe(e,0,-1))}var ALe=ELe,CLe=a_,TLe=$Q,NLe=ALe,ILe=R0;function PLe(t,e){return e=CLe(e,t),t=NLe(t,e),t==null||delete t[ILe(TLe(e))]}var OLe=PLe,jLe=rl,kLe=c_,RLe=Eo,DLe="[object Object]",MLe=Function.prototype,LLe=Object.prototype,FQ=MLe.toString,$Le=LLe.hasOwnProperty,FLe=FQ.call(Object);function BLe(t){if(!RLe(t)||jLe(t)!=DLe)return!1;var e=kLe(t);if(e===null)return!0;var r=$Le.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&FQ.call(r)==FLe}var BQ=BLe;const ULe=ct(BQ);var VLe=BQ;function zLe(t){return VLe(t)?void 0:t}var WLe=zLe,HLe=Ok;function GLe(t){var e=t==null?0:t.length;return e?HLe(t,1):[]}var qLe=GLe,KLe=qLe,YLe=SQ,XLe=AQ;function QLe(t){return XLe(YLe(t,void 0,KLe),t+"")}var ZLe=QLe,JLe=i_,e$e=xLe,t$e=OLe,r$e=a_,n$e=D0,i$e=WLe,a$e=ZLe,o$e=kQ,s$e=1,l$e=2,c$e=4,u$e=a$e(function(t,e){var r={};if(t==null)return r;var n=!1;e=JLe(e,function(a){return a=r$e(a,t),n||(n=a.length>1),a}),n$e(t,o$e(t),r),n&&(r=e$e(r,s$e|l$e|c$e,i$e));for(var i=e.length;i--;)t$e(r,e[i]);return r}),d$e=u$e;const f$e=ct(d$e);var h$e=PQ,p$e=RQ,m$e=jk,g$e=nl,v$e=c_,y$e=ai,x$e=t_,w$e=Y2,b$e=$a,_$e=Ck;function S$e(t,e,r){var n=y$e(t),i=n||x$e(t)||_$e(t);if(e=g$e(e),r==null){var a=t&&t.constructor;i?r=n?new a:[]:b$e(t)?r=w$e(a)?p$e(v$e(t)):{}:r={}}return(i?h$e:m$e)(t,function(o,s,l){return e(r,o,s,l)}),r}var E$e=S$e;const A$e=ct(E$e);var C$e={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ea,function(){return function(r,n,i){n.prototype.isBetween=function(a,o,s,l){var c=i(a),d=i(o),f=(l=l||"()")[0]==="(",h=l[1]===")";return(f?this.isAfter(c,s):!this.isBefore(c,s))&&(h?this.isBefore(d,s):!this.isAfter(d,s))||(f?this.isBefore(c,s):!this.isAfter(c,s))&&(h?this.isAfter(d,s):!this.isBefore(d,s))}}})})(C$e);var T$e={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ea,function(){return function(r,n){n.prototype.isSameOrAfter=function(i,a){return this.isSame(i,a)||this.isAfter(i,a)}}})})(T$e);var N$e={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ea,function(){return function(r,n){n.prototype.isSameOrBefore=function(i,a){return this.isSame(i,a)||this.isBefore(i,a)}}})})(N$e);var I$e={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ea,function(){return function(r,n,i){var a=n.prototype,o=function(f){return f&&(f.indexOf?f:f.s)},s=function(f,h,p,m,g){var v=f.name?f:f.$locale(),y=o(v[h]),x=o(v[p]),w=y||x.map(function(E){return E.slice(0,m)});if(!g)return w;var S=v.weekStart;return w.map(function(E,T){return w[(T+(S||0))%7]})},l=function(){return i.Ls[i.locale()]},c=function(f,h){return f.formats[h]||function(p){return p.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(m,g,v){return g||v.slice(1)})}(f.formats[h.toUpperCase()])},d=function(){var f=this;return{months:function(h){return h?h.format("MMMM"):s(f,"months")},monthsShort:function(h){return h?h.format("MMM"):s(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):s(f,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):s(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):s(f,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return c(f.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return d.bind(this)()},i.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(h){return c(f,h)},meridiem:f.meridiem,ordinal:f.ordinal}},i.months=function(){return s(l(),"months")},i.monthsShort=function(){return s(l(),"monthsShort","months",3)},i.weekdays=function(f){return s(l(),"weekdays",null,null,f)},i.weekdaysShort=function(f){return s(l(),"weekdaysShort","weekdays",3,f)},i.weekdaysMin=function(f){return s(l(),"weekdaysMin","weekdays",2,f)}}})})(I$e);var P$e={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ea,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,i,a){var o=i.prototype,s=o.format;a.en.formats=r,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,d=function(f,h){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(p,m,g){var v=g&&g.toUpperCase();return m||h[g]||r[g]||h[v].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(y,x,w){return x||w.slice(1)})})}(l,c===void 0?{}:c);return s.call(this,d)}}})})(P$e);var O$e={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ea,function(){return function(r,n,i){var a=function(o,s){if(!s||!s.length||s.length===1&&!s[0]||s.length===1&&Array.isArray(s[0])&&!s[0].length)return null;var l;s.length===1&&s[0].length>0&&(s=s[0]),l=(s=s.filter(function(d){return d}))[0];for(var c=1;c<s.length;c+=1)s[c].isValid()&&!s[c][o](l)||(l=s[c]);return l};i.max=function(){var o=[].slice.call(arguments,0);return a("isAfter",o)},i.min=function(){var o=[].slice.call(arguments,0);return a("isBefore",o)}}})})(O$e);var j$e={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ea,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(a,o,s){var l=o.prototype;s.utc=function(g){var v={date:g,utc:!0,args:arguments};return new o(v)},l.utc=function(g){var v=s(this.toDate(),{locale:this.$L,utc:!0});return g?v.add(this.utcOffset(),r):v},l.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var c=l.parse;l.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),c.call(this,g)};var d=l.init;l.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else d.call(this)};var f=l.utcOffset;l.utcOffset=function(g,v){var y=this.$utils().u;if(y(g))return this.$u?0:y(this.$offset)?f.call(this):this.$offset;if(typeof g=="string"&&(g=function(E){E===void 0&&(E="");var T=E.match(n);if(!T)return null;var A=(""+T[0]).match(i)||["-",0,0],C=A[0],N=60*+A[1]+ +A[2];return N===0?0:C==="+"?N:-N}(g),g===null))return this;var x=Math.abs(g)<=16?60*g:g,w=this;if(v)return w.$offset=x,w.$u=g===0,w;if(g!==0){var S=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(w=this.local().add(x+S,r)).$offset=x,w.$x.$localOffset=S}else w=this.utc();return w};var h=l.format;l.format=function(g){var v=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,v)},l.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var p=l.toDate;l.toDate=function(g){return g==="s"&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var m=l.diff;l.diff=function(g,v,y){if(g&&this.$u===g.$u)return m.call(this,g,v,y);var x=this.local(),w=s(g).local();return m.call(x,w,v,y)}}})})(j$e);var k$e={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ea,function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(k$e);function No(t){return t.children}var zi={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},pi={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},lL=Object.keys(pi).map(function(t){return pi[t]});ue.oneOfType([ue.string,ue.func]);ue.any;ue.func;ue.oneOfType([ue.arrayOf(ue.oneOf(lL)),ue.objectOf(function(t,e){var r=lL.indexOf(e)!==-1&&typeof t[e]=="boolean";if(r)return null;for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];return ue.elementType.apply(ue,[t,e].concat(i))})]);ue.oneOfType([ue.oneOf(["overlap","no-overlap"]),ue.func]);var cL={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function UQ(t,e){var r=kn(t,"month");return kn(r,"week",e.startOfWeek())}function VQ(t,e){var r=xw(t,"month");return xw(r,"week",e.startOfWeek())}function R$e(t,e){for(var r=UQ(t,e),n=VQ(t,e),i=[];Qh(r,n,"day");)i.push(r),r=wo(r,1,"day");return i}function D$e(t,e){var r=kn(t,e);return Xh(r,t)?r:wo(r,1,e)}function M$e(t,e){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=t,i=[];Qh(n,e,r);)i.push(n),n=wo(n,1,r);return i}function L$e(t,e){return e==null&&t==null?null:(e==null&&(e=new Date),t==null&&(t=new Date),t=kn(t,"day"),t=av(t,av(e)),t=rh(t,rh(e)),t=iv(t,iv(e)),nv(t,nv(e)))}function uL(t){return av(t)===0&&rh(t)===0&&iv(t)===0&&nv(t)===0}function $$e(t,e,r,n){return r==="day"&&(r="date"),Math.abs(q8[r](t,void 0,n)-q8[r](e,void 0,n))}function Mk(t,e,r){return!r||r==="milliseconds"?Math.abs(+t-+e):Math.round(Math.abs(+kn(t,r)/cL[r]-+kn(e,r)/cL[r]))}var F$e=ue.oneOfType([ue.string,ue.func]);function B$e(t,e,r,n,i){var a=typeof n=="function"?n(r,i,t):e.call(t,r,n,i);return Qg(a==null||typeof a=="string","`localizer format(..)` must return a string, null, or undefined"),a}function U$e(t,e,r){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,e+r,0,0)}function Lk(t,e){return t.getTimezoneOffset()-e.getTimezoneOffset()}function V$e(t,e){return Mk(t,e,"minutes")+Lk(t,e)}function z$e(t){var e=kn(t,"day");return Mk(e,t,"minutes")+Lk(e,t)}function W$e(t,e){return rk(t,e,"day")}function H$e(t,e,r){var n=Xh(t,e,"minutes");return n?I0(e,r,"minutes"):K2(e,r,"minutes")}function oN(t,e){return $$e(t,e,"day")}function G$e(t){var e=t.evtA,r=e.start,n=e.end,i=e.allDay,a=t.evtB,o=a.start,s=a.end,l=a.allDay,c=+kn(r,"day")-+kn(o,"day"),d=oN(r,n),f=oN(o,s);return c||f-d||!!l-!!i||+r-+o||+n-+s}function q$e(t){var e=t.event,r=e.start,n=e.end,i=t.range,a=i.start,o=i.end,s=kn(r,"day"),l=Qh(s,o,"day"),c=tk(s,n,"minutes"),d=c?K2(n,a,"minutes"):I0(n,a,"minutes");return l&&d}function K$e(t,e){return Xh(t,e,"day")}function Y$e(t,e){return uL(t)&&uL(e)}var X$e=on(function t(e){var r=this;an(this,t),Qg(typeof e.format=="function","date localizer `format(..)` must be a function"),Qg(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||F$e,this.formats=e.formats,this.format=function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return B$e.apply(void 0,[r,e.format].concat(i))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||L$e,this.inRange=e.inRange||CX,this.lt=e.lt||rk,this.lte=e.lte||Qh,this.gt=e.gt||K2,this.gte=e.gte||I0,this.eq=e.eq||Xh,this.neq=e.neq||tk,this.startOf=e.startOf||kn,this.endOf=e.endOf||xw,this.add=e.add||wo,this.range=e.range||M$e,this.diff=e.diff||Mk,this.ceil=e.ceil||D$e,this.min=e.min||EX,this.max=e.max||AX,this.minutes=e.minutes||rh,this.daySpan=e.daySpan||oN,this.firstVisibleDay=e.firstVisibleDay||UQ,this.lastVisibleDay=e.lastVisibleDay||VQ,this.visibleDays=e.visibleDays||R$e,this.getSlotDate=e.getSlotDate||U$e,this.getTimezoneOffset=e.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||Lk,this.getTotalMin=e.getTotalMin||V$e,this.getMinutesFromMidnight=e.getMinutesFromMidnight||z$e,this.continuesPrior=e.continuesPrior||W$e,this.continuesAfter=e.continuesAfter||H$e,this.sortEvents=e.sortEvents||G$e,this.inEventRange=e.inEventRange||q$e,this.isSameDate=e.isSameDate||K$e,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||Y$e,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function Q$e(t,e,r,n){var i=Lt(Lt({},t.formats),r);return Lt(Lt({},t),{},{messages:n,startOfWeek:function(){return t.startOfWeek(e)},format:function(o,s){return t.format(o,i[s]||s,e)}})}var Z$e=function(t){function e(){var r;an(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ii(this,e,[].concat(i)),r.navigate=function(o){r.props.onNavigate(o)},r.view=function(o){r.props.onView(o)},r}return ni(e,t),on(e,[{key:"render",value:function(){var n=this.props,i=n.localizer.messages,a=n.label;return D.createElement("div",{className:"rbc-toolbar"},D.createElement("span",{className:"rbc-btn-group"},D.createElement("button",{type:"button",onClick:this.navigate.bind(null,zi.TODAY)},i.today),D.createElement("button",{type:"button",onClick:this.navigate.bind(null,zi.PREVIOUS)},i.previous),D.createElement("button",{type:"button",onClick:this.navigate.bind(null,zi.NEXT)},i.next)),D.createElement("span",{className:"rbc-toolbar-label"},a),D.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(n){var i=this,a=this.props.views,o=this.props.view;if(a.length>1)return a.map(function(s){return D.createElement("button",{type:"button",key:s,className:Pr({"rbc-active":o===s}),onClick:i.view.bind(null,s)},n[s])})}}])}(D.Component);function Zt(t,e){t&&t.apply(null,[].concat(e))}var J$e={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function e9e(t){return Lt(Lt({},J$e),t)}function t9e(t){var e=t.ref,r=t.callback;_.useEffect(function(){var n=function(a){e.current&&!e.current.contains(a.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[e,r])}var r9e=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],zQ=function(t){function e(){return an(this,e),ii(this,e,arguments)}return ni(e,t),on(e,[{key:"render",value:function(){var n=this.props,i=n.style,a=n.className,o=n.event,s=n.selected,l=n.isAllDay,c=n.onSelect,d=n.onDoubleClick,f=n.onKeyPress,h=n.localizer,p=n.continuesPrior,m=n.continuesAfter,g=n.accessors,v=n.getters,y=n.children,x=n.components,w=x.event,S=x.eventWrapper,E=n.slotStart,T=n.slotEnd,A=Jo(n,r9e);delete A.resizable;var C=g.title(o),N=g.tooltip(o),I=g.end(o),P=g.start(o),k=g.allDay(o),O=l||k||h.diff(P,h.ceil(I,"day"),"day")>1,L=v.eventProp(o,P,I,s),z=D.createElement("div",{className:"rbc-event-content",title:N||void 0},w?D.createElement(w,{event:o,continuesPrior:p,continuesAfter:m,title:C,isAllDay:k,localizer:h,slotStart:E,slotEnd:T}):C);return D.createElement(S,Object.assign({},this.props,{type:"date"}),D.createElement("div",Object.assign({},A,{style:Lt(Lt({},L.style),i),className:Pr("rbc-event",a,L.className,{"rbc-selected":s,"rbc-event-allday":O,"rbc-event-continues-prior":p,"rbc-event-continues-after":m}),onClick:function(W){return c&&c(o,W)},onDoubleClick:function(W){return d&&d(o,W)},onKeyDown:function(W){return f&&f(o,W)}}),typeof y=="function"?y(z):z))}}])}(D.Component);function u_(t,e){return!t||e==null?!1:sh(t,e)}function WQ(t,e){var r=t.right-t.left,n=r/e;return n}function HQ(t,e,r,n){var i=WQ(t,n);return r?n-1-Math.floor((e-t.left)/i):Math.floor((e-t.left)/i)}function n9e(t,e){var r=e.x,n=e.y;return n>=t.top&&n<=t.bottom&&r>=t.left&&r<=t.right}function i9e(t,e,r,n,i){var a=-1,o=-1,s=n-1,l=WQ(e,n),c=HQ(e,r.x,i,n),d=e.top<r.y&&e.bottom>r.y,f=e.top<t.y&&e.bottom>t.y,h=t.y>e.bottom,p=e.top>t.y,m=r.top<e.top&&r.bottom>e.bottom;return m&&(a=0,o=s),d&&(p?(a=0,o=c):h&&(a=c,o=s)),f&&(a=o=i?s-Math.floor((t.x-e.left)/l):Math.floor((t.x-e.left)/l),d?c<a?a=c:o=c:t.y<r.y?o=s:a=0),{startIdx:a,endIdx:o}}function a9e(t){var e=t.target,r=t.offset,n=t.container,i=t.box,a=Cu(e),o=a.top,s=a.left,l=a.width,c=a.height,d=Cu(n),f=d.top,h=d.left,p=d.width,m=d.height,g=Cu(i),v=g.width,y=g.height,x=f+m,w=h+p,S=o+y,E=s+v,T=r.x,A=r.y,C=S>x?o-y-A:o+A+c,N=E>w?s+T-v+l:s+T;return{topOffset:C,leftOffset:N}}function o9e(t){var e=t.containerRef,r=t.accessors,n=t.getters,i=t.selected,a=t.components,o=t.localizer,s=t.position,l=t.show,c=t.events,d=t.slotStart,f=t.slotEnd,h=t.onSelect,p=t.onDoubleClick,m=t.onKeyPress,g=t.handleDragStart,v=t.popperRef,y=t.target,x=t.offset;t9e({ref:v,callback:l}),_.useLayoutEffect(function(){var E=a9e({target:y,offset:x,container:e.current,box:v.current}),T=E.topOffset,A=E.leftOffset;v.current.style.top="".concat(T,"px"),v.current.style.left="".concat(A,"px")},[x.x,x.y,y]);var w=s.width,S={minWidth:w+w/2};return D.createElement("div",{style:S,className:"rbc-overlay",ref:v},D.createElement("div",{className:"rbc-overlay-header"},o.format(d,"dayHeaderFormat")),c.map(function(E,T){return D.createElement(zQ,{key:T,type:"popup",localizer:o,event:E,getters:n,onSelect:h,accessors:r,components:a,onDoubleClick:p,onKeyPress:m,continuesPrior:o.lt(r.end(E),d,"day"),continuesAfter:o.gte(r.start(E),f,"day"),slotStart:d,slotEnd:f,selected:u_(E,i),draggable:!0,onDragStart:function(){return g(E)},onDragEnd:function(){return l()}})}))}var GQ=D.forwardRef(function(t,e){return D.createElement(o9e,Object.assign({},t,{popperRef:e}))});GQ.propTypes={accessors:ue.object.isRequired,getters:ue.object.isRequired,selected:ue.object,components:ue.object.isRequired,localizer:ue.object.isRequired,position:ue.object.isRequired,show:ue.func.isRequired,events:ue.array.isRequired,slotStart:ue.instanceOf(Date).isRequired,slotEnd:ue.instanceOf(Date),onSelect:ue.func,onDoubleClick:ue.func,onKeyPress:ue.func,handleDragStart:ue.func,style:ue.object,offset:ue.shape({x:ue.number,y:ue.number})};function s9e(t){var e=t.containerRef,r=t.popupOffset,n=r===void 0?5:r,i=t.overlay,a=t.accessors,o=t.localizer,s=t.components,l=t.getters,c=t.selected,d=t.handleSelectEvent,f=t.handleDoubleClickEvent,h=t.handleKeyPressEvent,p=t.handleDragStart,m=t.onHide,g=t.overlayDisplay,v=_.useRef(null);if(!i.position)return null;var y=n;isNaN(n)||(y={x:n,y:n});var x=i.position,w=i.events,S=i.date,E=i.end;return D.createElement(vk,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:m,target:i.target},function(T){var A=T.props;return D.createElement(GQ,Object.assign({},A,{containerRef:e,ref:v,target:i.target,offset:y,accessors:a,getters:l,selected:c,components:s,localizer:o,position:x,show:g,events:w,slotStart:S,slotEnd:E,onSelect:d,onDoubleClick:f,onKeyPress:h,handleDragStart:p}))})}var $k=D.forwardRef(function(t,e){return D.createElement(s9e,Object.assign({},t,{containerRef:e}))});$k.propTypes={popupOffset:ue.oneOfType([ue.number,ue.shape({x:ue.number,y:ue.number})]),overlay:ue.shape({position:ue.object,events:ue.array,date:ue.instanceOf(Date),end:ue.instanceOf(Date)}),accessors:ue.object.isRequired,localizer:ue.object.isRequired,components:ue.object.isRequired,getters:ue.object.isRequired,selected:ue.object,handleSelectEvent:ue.func,handleDoubleClickEvent:ue.func,handleKeyPressEvent:ue.func,handleDragStart:ue.func,onHide:ue.func,overlayDisplay:ue.func};function Un(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Im(r,t,e,{passive:!1})}function l9e(t,e,r){return!t||ov(t,document.elementFromPoint(e,r))}function c9e(t,e){var r=e.clientX,n=e.clientY,i=document.elementFromPoint(r,n);return uQ(i,".rbc-event",t)}function u9e(t,e){var r=e.clientX,n=e.clientY,i=document.elementFromPoint(r,n);return uQ(i,".rbc-show-more",t)}function Cw(t,e){return!!c9e(t,e)}function d9e(t,e){return!!u9e(t,e)}function rm(t){var e=t;return t.touches&&t.touches.length&&(e=t.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var dL=5,f9e=250,qQ=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,i=n===void 0?!1:n,a=r.longPressThreshold,o=a===void 0?250:a,s=r.validContainers,l=s===void 0?[]:s;an(this,t),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||i,this.longPressThreshold=o,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Un("touchmove",function(){},window),this._removeKeyDownListener=Un("keydown",this._keyListener),this._removeKeyUpListener=Un("keyup",this._keyListener),this._removeDropFromOutsideListener=Un("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Un("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return on(t,[{key:"on",value:function(r,n){var i=this._listeners[r]||(this._listeners[r]=[]);return i.push(n),{remove:function(){var o=i.indexOf(n);o!==-1&&i.splice(o,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var o,s=this._listeners[r]||[];return s.forEach(function(l){o===void 0&&(o=l.apply(void 0,i))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:fL(n,Zu(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var i=this,a=null,o=null,s=null,l=function(h){a=setTimeout(function(){d(),r(h)},i.longPressThreshold),o=Un("touchmove",function(){return d()}),s=Un("touchend",function(){return d()})},c=Un("touchstart",l),d=function(){a&&clearTimeout(a),o&&o(),s&&s(),a=null,o=null,s=null};return n&&l(n),function(){d(),c()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=Un("mousedown",function(a){r._removeInitialEventListener(),r._handleInitialEvent(a),r._removeInitialEventListener=Un("mousedown",r._handleInitialEvent)}),i=Un("touchstart",function(a){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,a)});this._removeInitialEventListener=function(){n(),i()}}},{key:"_dropFromOutsideListener",value:function(r){var n=rm(r),i=n.pageX,a=n.pageY,o=n.clientX,s=n.clientY;this.emit("dropFromOutside",{x:i,y:a,clientX:o,clientY:s}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=rm(r),i=n.pageX,a=n.pageY,o=n.clientX,s=n.clientY;this.emit("dragOverFromOutside",{x:i,y:a,clientX:o,clientY:s}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=rm(r),i=n.clientX,a=n.clientY,o=n.pageX,s=n.pageY,l=this.container(),c,d;if(!(r.which===3||r.button===2||!l9e(l,i,a))){if(!this.globalMouse&&l&&!ov(l,r.target)){var f=h9e(0),h=f.top,p=f.left,m=f.bottom,g=f.right;if(d=Zu(l),c=fL({top:d.top-h,left:d.left-p,bottom:d.bottom+m,right:d.right+g},{top:s,left:o}),!c)return}var v=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:o,y:s,clientX:i,clientY:a});if(v!==!1)switch(r.type){case"mousedown":this._removeEndListener=Un("mouseup",this._handleTerminatingEvent),this._onEscListener=Un("keydown",this._handleTerminatingEvent),this._removeMoveListener=Un("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=Un("touchend",this._handleTerminatingEvent),this._removeMoveListener=Un("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,i=this.validContainers;return!i||!i.length||!n?!0:i.some(function(a){return!!n.closest(a)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,i=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var a=!this.container||ov(this.container(),r.target),o=this._isWithinValidContainer(r);return r.key==="Escape"||!o?this.emit("reset"):!n&&a?this._handleClickEvent(r):n?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=rm(r),i=n.pageX,a=n.pageY,o=n.clientX,s=n.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<f9e?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:a,clientX:o,clientY:s})):(this._lastClickData={timestamp:l},this.emit("click",{x:i,y:a,clientX:o,clientY:s}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,i=n.x,a=n.y,o=rm(r),s=o.pageX,l=o.pageY,c=Math.abs(i-s),d=Math.abs(a-l),f=Math.min(s,i),h=Math.min(l,a),p=this.selecting,m=this.isClick(s,l);m&&!p&&!(c||d)||(!p&&!m&&this.emit("selectStart",this._initialEventData),m||(this.selecting=!0,this._selectRect={top:h,left:f,x:s,y:l,right:f+c,bottom:h+d},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var i=this._initialEventData,a=i.x,o=i.y,s=i.isTouch;return!s&&Math.abs(r-a)<=dL&&Math.abs(n-o)<=dL}}])}();function h9e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return vo(t)!=="object"&&(t={top:t,left:t,right:t,bottom:t}),t}function fL(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=Zu(t),i=n.top,a=n.left,o=n.right,s=o===void 0?a:o,l=n.bottom,c=l===void 0?i:l,d=Zu(e),f=d.top,h=d.left,p=d.right,m=p===void 0?h:p,g=d.bottom,v=g===void 0?f:g;return!(c-r<f||i+r>v||s-r<h||a+r>m)}function Zu(t){if(!t.getBoundingClientRect)return t;var e=t.getBoundingClientRect(),r=e.left+hL("left"),n=e.top+hL("top");return{top:n,left:r,right:(t.offsetWidth||0)+r,bottom:(t.offsetHeight||0)+n}}function hL(t){if(t==="left")return window.pageXOffset||document.body.scrollLeft||0;if(t==="top")return window.pageYOffset||document.body.scrollTop||0}var p9e=function(t){function e(r,n){var i;return an(this,e),i=ii(this,e,[r,n]),i.state={selecting:!1},i.containerRef=_.createRef(),i}return ni(e,t),on(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,i=n.range,a=n.getNow,o=n.getters,s=n.date,l=n.components.dateCellWrapper,c=n.localizer,d=this.state,f=d.selecting,h=d.startIdx,p=d.endIdx,m=a();return D.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(g,v){var y=f&&v>=h&&v<=p,x=o.dayProp(g),w=x.className,S=x.style;return D.createElement(l,{key:v,value:g,range:i},D.createElement("div",{style:S,className:Pr("rbc-day-bg",w,y&&"rbc-selected-cell",c.isSameDate(g,m)&&"rbc-today",s&&c.neq(s,g,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,i=this.containerRef.current,a=this._selector=new qQ(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(l,c){if(!Cw(i,l)&&!d9e(i,l)){var d=Zu(i),f=n.props,h=f.range,p=f.rtl;if(n9e(d,l)){var m=HQ(d,l.x,p,h.length);n._selectSlot({startIdx:m,endIdx:m,action:c,box:l})}}n._initial={},n.setState({selecting:!1})};a.on("selecting",function(s){var l=n.props,c=l.range,d=l.rtl,f=-1,h=-1;if(n.state.selecting||(Zt(n.props.onSelectStart,[s]),n._initial={x:s.x,y:s.y}),a.isSelected(i)){var p=Zu(i),m=i9e(n._initial,p,s,c.length,d);f=m.startIdx,h=m.endIdx}n.setState({selecting:!0,startIdx:f,endIdx:h})}),a.on("beforeSelect",function(s){if(n.props.selectable==="ignoreEvents")return!Cw(n.containerRef.current,s)}),a.on("click",function(s){return o(s,"click")}),a.on("doubleClick",function(s){return o(s,"doubleClick")}),a.on("select",function(s){n._selectSlot(Lt(Lt({},n.state),{},{action:"select",bounds:s})),n._initial={},n.setState({selecting:!1}),Zt(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var i=n.endIdx,a=n.startIdx,o=n.action,s=n.bounds,l=n.box;i!==-1&&a!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:a,end:i,action:o,bounds:s,box:l,resourceId:this.props.resourceId})}}])}(D.Component),wa={propTypes:{slotMetrics:ue.object.isRequired,selected:ue.object,isAllDay:ue.bool,accessors:ue.object.isRequired,localizer:ue.object.isRequired,components:ue.object.isRequired,getters:ue.object.isRequired,onSelect:ue.func,onDoubleClick:ue.func,onKeyPress:ue.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,r){var n=e.selected;e.isAllDay;var i=e.accessors,a=e.getters,o=e.onSelect,s=e.onDoubleClick,l=e.onKeyPress,c=e.localizer,d=e.slotMetrics,f=e.components,h=e.resizable,p=d.continuesPrior(r),m=d.continuesAfter(r);return D.createElement(zQ,{event:r,getters:a,localizer:c,accessors:i,components:f,onSelect:o,onDoubleClick:s,onKeyPress:l,continuesPrior:p,continuesAfter:m,slotStart:d.first,slotEnd:d.last,selected:u_(r,n),resizable:h})},renderSpan:function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",a=Math.abs(r)/e*100+"%";return D.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:a,flexBasis:a,maxWidth:a}},i)}},KQ=function(t){function e(){return an(this,e),ii(this,e,arguments)}return ni(e,t),on(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.segments,o=i.slotMetrics.slots,s=i.className,l=1;return D.createElement("div",{className:Pr(s,"rbc-row")},a.reduce(function(c,d,f){var h=d.event,p=d.left,m=d.right,g=d.span,v="_lvl_"+f,y=p-l,x=wa.renderEvent(n.props,h);return y&&c.push(wa.renderSpan(o,y,"".concat(v,"_gap"))),c.push(wa.renderSpan(o,g,v,x)),l=m+1,c},[]))}}])}(D.Component);KQ.defaultProps=Lt({},wa.defaultProps);function YQ(t){var e=t.dateRange,r=t.unit,n=r===void 0?"day":r,i=t.localizer;return{first:e[0],last:i.add(e[e.length-1],1,n)}}function m9e(t,e,r,n){var i=YQ({dateRange:e,localizer:n}),a=i.first,o=i.last,s=n.diff(a,o,"day"),l=n.max(n.startOf(r.start(t),"day"),a),c=n.min(n.ceil(r.end(t),"day"),o),d=EDe(e,function(h){return n.isSameDate(h,l)}),f=n.diff(l,c,"day");return f=Math.min(f,s),f=Math.max(f-n.segmentOffset,1),{event:t,span:f,left:d+1,right:Math.max(d+f,1)}}function sN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,i,a=[],o=[];for(r=0;r<t.length;r++){for(i=t[r],n=0;n<a.length&&g9e(i,a[n]);n++);n>=e?o.push(i):(a[n]||(a[n]=[])).push(i)}for(r=0;r<a.length;r++)a[r].sort(function(s,l){return s.left-l.left});return{levels:a,extra:o}}function uv(t,e,r,n,i){var a={start:n.start(t),end:n.end(t)},o={start:e,end:r};return i.inEventRange({event:a,range:o})}function g9e(t,e){return e.some(function(r){return r.left<=t.right&&r.right>=t.left})}function v9e(t,e,r){var n=H1(t),i=[],a=[];n.forEach(function(l){var c=e.start(l),d=e.end(l);r.daySpan(c,d)>1?i.push(l):a.push(l)});var o=i.sort(function(l,c){return lN(l,c,e,r)}),s=a.sort(function(l,c){return lN(l,c,e,r)});return[].concat(H1(o),H1(s))}function lN(t,e,r,n){var i={start:r.start(t),end:r.end(t),allDay:r.allDay(t)},a={start:r.start(e),end:r.end(e),allDay:r.allDay(e)};return n.sortEvents({evtA:i,evtB:a})}var cN=function(e,r){return e.left<=r&&e.right>=r},qE=function(e,r){return e.filter(function(n){return cN(n,r)}).map(function(n){return n.event})},XQ=function(t){function e(){return an(this,e),ii(this,e,arguments)}return ni(e,t),on(e,[{key:"render",value:function(){for(var n=this.props,i=n.segments,a=n.slotMetrics.slots,o=sN(i).levels[0],s=1,l=1,c=[];s<=a;){var d="_lvl_"+s,f=o.filter(function(S){return cN(S,s)})[0]||{},h=f.event,p=f.left,m=f.right,g=f.span;if(!h){var v=this.getHiddenEventsForSlot(i,s);if(v.length>0){var y=s-l;y&&c.push(wa.renderSpan(a,y,d+"_gap")),c.push(wa.renderSpan(a,1,d,this.renderShowMore(i,s))),l=s=s+1;continue}s++;continue}var x=Math.max(0,p-l);if(this.canRenderSlotEvent(p,g)){var w=wa.renderEvent(this.props,h);x&&c.push(wa.renderSpan(a,x,d+"_gap")),c.push(wa.renderSpan(a,g,d,w)),l=s=m+1}else x&&c.push(wa.renderSpan(a,x,d+"_gap")),c.push(wa.renderSpan(a,1,d,this.renderShowMore(i,s))),l=s=s+1}return D.createElement("div",{className:"rbc-row"},c)}},{key:"getHiddenEventsForSlot",value:function(n,i){var a=qE(n,i),o=sN(n).levels[0],s=o.filter(function(l){return cN(l,i)}).map(function(l){return l.event});return a.filter(function(l){return!s.some(function(c){return c===l})})}},{key:"canRenderSlotEvent",value:function(n,i){var a=this.props.segments;return cv(n,n+i).every(function(o){var s=qE(a,o).length;return s===1})}},{key:"renderShowMore",value:function(n,i){var a=this,o=this.props,s=o.localizer,l=o.slotMetrics,c=o.components,d=l.getEventsForSlot(i),f=qE(n,i),h=f.length;if(c!=null&&c.showMore){var p=c.showMore,m=l.getDateForSlot(i-1);return h?D.createElement(p,{localizer:s,slotDate:m,slot:i,count:h,events:d,remainingEvents:f}):!1}return h?D.createElement("button",{type:"button",key:"sm_"+i,className:Pr("rbc-button-link","rbc-show-more"),onClick:function(v){return a.showMore(i,v)}},s.messages.showMore(h,f,d)):!1}},{key:"showMore",value:function(n,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(n,i.target)}}])}(D.Component);XQ.defaultProps=Lt({},wa.defaultProps);var y9e=function(e){var r=e.children;return D.createElement("div",{className:"rbc-row-content-scroll-container"},r)},x9e=function(e,r){return e.left<=r&&e.right>=r},w9e=function(e,r){return e[0].range===r[0].range&&e[0].events===r[0].events};function QQ(){return wQ(function(t){for(var e=t.range,r=t.events,n=t.maxRows,i=t.minRows,a=t.accessors,o=t.localizer,s=YQ({dateRange:e,localizer:o}),l=s.first,c=s.last,d=r.map(function(g){return m9e(g,e,a,o)}),f=sN(d,Math.max(n-1,1)),h=f.levels,p=f.extra,m=p.length>0?i-1:i;h.length<m;)h.push([]);return{first:l,last:c,levels:h,extra:p,range:e,slots:e.length,clone:function(v){var y=QQ();return y(Lt(Lt({},t),v))},getDateForSlot:function(v){return e[v]},getSlotForDate:function(v){return e.find(function(y){return o.isSameDate(y,v)})},getEventsForSlot:function(v){return d.filter(function(y){return x9e(y,v)}).map(function(y){return y.event})},continuesPrior:function(v){return o.continuesPrior(a.start(v),l)},continuesAfter:function(v){var y=a.start(v),x=a.end(v);return o.continuesAfter(y,x,c)}}},w9e)}var dv=function(t){function e(){var r;an(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ii(this,e,[].concat(i)),r.handleSelectSlot=function(o){var s=r.props,l=s.range,c=s.onSelectSlot;c(l.slice(o.start,o.end+1),o)},r.handleShowMore=function(o,s){var l=r.props,c=l.range,d=l.onShowMore,f=r.slotMetrics(r.props),h=RNe(r.containerRef.current,".rbc-row-bg")[0],p;h&&(p=h.children[o-1]);var m=f.getEventsForSlot(o);d(m,c[o-1],p,o,s)},r.getContainer=function(){var o=r.props.container;return o?o():r.containerRef.current},r.renderHeadingCell=function(o,s){var l=r.props,c=l.renderHeader,d=l.getNow,f=l.localizer;return c({date:o,key:"header_".concat(s),className:Pr("rbc-date-cell",f.isSameDate(o,d())&&"rbc-now")})},r.renderDummy=function(){var o=r.props,s=o.className,l=o.range,c=o.renderHeader,d=o.showAllEvents;return D.createElement("div",{className:s,ref:r.containerRef},D.createElement("div",{className:Pr("rbc-row-content",d&&"rbc-row-content-scrollable")},c&&D.createElement("div",{className:"rbc-row",ref:r.headingRowRef},l.map(r.renderHeadingCell)),D.createElement("div",{className:"rbc-row",ref:r.eventRowRef},D.createElement("div",{className:"rbc-row-segment"},D.createElement("div",{className:"rbc-event"},D.createElement("div",{className:"rbc-event-content"}," "))))))},r.containerRef=_.createRef(),r.headingRowRef=_.createRef(),r.eventRowRef=_.createRef(),r.slotMetrics=QQ(),r}return ni(e,t),on(e,[{key:"getRowLimit",value:function(){var n,i=WE(this.eventRowRef.current),a=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?WE(this.headingRowRef.current):0,o=WE(this.containerRef.current)-a;return Math.max(Math.floor(o/i),1)}},{key:"render",value:function(){var n=this.props,i=n.date,a=n.rtl,o=n.range,s=n.className,l=n.selected,c=n.selectable,d=n.renderForMeasure,f=n.accessors,h=n.getters,p=n.components,m=n.getNow,g=n.renderHeader,v=n.onSelect,y=n.localizer,x=n.onSelectStart,w=n.onSelectEnd,S=n.onDoubleClick,E=n.onKeyPress,T=n.resourceId,A=n.longPressThreshold,C=n.isAllDay,N=n.resizable,I=n.showAllEvents;if(d)return this.renderDummy();var P=this.slotMetrics(this.props),k=P.levels,O=P.extra,L=I?y9e:No,z=p.weekWrapper,M={selected:l,accessors:f,getters:h,localizer:y,components:p,onSelect:v,onDoubleClick:S,onKeyPress:E,resourceId:T,slotMetrics:P,resizable:N};return D.createElement("div",{className:s,role:"rowgroup",ref:this.containerRef},D.createElement(p9e,{localizer:y,date:i,getNow:m,rtl:a,range:o,selectable:c,container:this.getContainer,getters:h,onSelectStart:x,onSelectEnd:w,onSelectSlot:this.handleSelectSlot,components:p,longPressThreshold:A,resourceId:T}),D.createElement("div",{className:Pr("rbc-row-content",I&&"rbc-row-content-scrollable"),role:"row"},g&&D.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),D.createElement(L,null,D.createElement(z,Object.assign({isAllDay:C},M,{rtl:this.props.rtl}),k.map(function(W,$){return D.createElement(KQ,Object.assign({key:$,segments:W},M))}),!!O.length&&D.createElement(XQ,Object.assign({segments:O,onShowMore:this.handleShowMore},M))))))}}])}(D.Component);dv.defaultProps={minRows:0,maxRows:1/0};var Fk=function(e){var r=e.label;return D.createElement("span",{role:"columnheader","aria-sort":"none"},r)},b9e=function(e){var r=e.label,n=e.drilldownView,i=e.onDrillDown;return n?D.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},r):D.createElement("span",null,r)},_9e=["date","className"],S9e=function(e,r,n,i,a){return e.filter(function(o){return uv(o,r,n,i,a)})},d_=function(t){function e(){var r;an(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ii(this,e,[].concat(i)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(o,s){var l=r.props,c=l.events,d=l.components,f=l.selectable,h=l.getNow,p=l.selected,m=l.date,g=l.localizer,v=l.longPressThreshold,y=l.accessors,x=l.getters,w=l.showAllEvents,S=r.state,E=S.needLimitMeasure,T=S.rowLimit,A=S9e(H1(c),o[0],o[o.length-1],y,g),C=v9e(A,y,g);return D.createElement(dv,{key:s,ref:s===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:h,date:m,range:o,events:C,maxRows:w?1/0:T,selected:p,selectable:f,components:d,accessors:y,getters:x,localizer:g,renderHeader:r.readerDateHeading,renderForMeasure:E,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:v,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:w})},r.readerDateHeading=function(o){var s=o.date,l=o.className,c=Jo(o,_9e),d=r.props,f=d.date,h=d.getDrilldownView,p=d.localizer,m=p.neq(f,s,"month"),g=p.isSameDate(s,f),v=h(s),y=p.format(s,"dateFormat"),x=r.props.components.dateHeader||b9e;return D.createElement("div",Object.assign({},c,{className:Pr(l,m&&"rbc-off-range",g&&"rbc-current"),role:"cell"}),D.createElement(x,{label:y,date:s,drilldownView:v,isOffRange:m,onDrillDown:function(S){return r.handleHeadingClick(s,v,S)}}))},r.handleSelectSlot=function(o,s){r._pendingSelection=r._pendingSelection.concat(o),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(s)})},r.handleHeadingClick=function(o,s,l){l.preventDefault(),r.clearSelection(),Zt(r.props.onDrillDown,[o,s])},r.handleSelectEvent=function(){r.clearSelection();for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];Zt(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];Zt(r.props.onDoubleClickEvent,s)},r.handleKeyPressEvent=function(){r.clearSelection();for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];Zt(r.props.onKeyPressEvent,s)},r.handleShowMore=function(o,s,l,c,d){var f=r.props,h=f.popup,p=f.onDrillDown,m=f.onShowMore,g=f.getDrilldownView,v=f.doShowMoreDrillDown;if(r.clearSelection(),h){var y=FX(l,r.containerRef.current);r.setState({overlay:{date:s,events:o,position:y,target:d}})}else v&&Zt(p,[s,g(s)||pi.DAY]);Zt(m,[o,s,c])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=_.createRef(),r.slotRowRef=_.createRef(),r._bgRows=[],r._pendingSelection=[],r}return ni(e,t),on(e,[{key:"componentDidMount",value:function(){var n=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||BX(function(){i=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,i=n.date,a=n.localizer,o=n.className,s=a.visibleDays(i,a),l=yNe(s,7);return this._weekCount=l.length,D.createElement("div",{className:Pr("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},D.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var i=this.props,a=i.localizer,o=i.components,s=n[0],l=n[n.length-1],c=o.header||Fk;return a.range(s,l,"day").map(function(d,f){return D.createElement("div",{key:"header_"+f,className:"rbc-header"},D.createElement(c,{date:d,localizer:a,label:a.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,i,a=this,o=(n=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&n!==void 0?n:{},s=this.props,l=s.accessors,c=s.localizer,d=s.components,f=s.getters,h=s.selected,p=s.popupOffset,m=s.handleDragStart,g=function(){return a.setState({overlay:null})};return D.createElement($k,{overlay:o,accessors:l,localizer:c,components:d,getters:f,selected:h,popupOffset:p,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:m,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(s,l){return+s-+l});var a=new Date(i[0]),o=new Date(i[i.length-1]);o.setDate(i[i.length-1].getDate()+1),Zt(this.props.onSelectSlot,{slots:i,start:a,end:o,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,i){var a=n.date,o=n.localizer;return{date:a,needLimitMeasure:o.neq(a,i.date,"month")}}}])}(D.Component);d_.range=function(t,e){var r=e.localizer,n=r.firstVisibleDay(t,r),i=r.lastVisibleDay(t,r);return{start:n,end:i}};d_.navigate=function(t,e,r){var n=r.localizer;switch(e){case zi.PREVIOUS:return n.add(t,-1,"month");case zi.NEXT:return n.add(t,1,"month");default:return t}};d_.title=function(t,e){var r=e.localizer;return r.format(t,"monthHeaderFormat")};var pL=function(e){var r=e.min,n=e.max,i=e.step,a=e.slots,o=e.localizer;return"".concat(+o.startOf(r,"minutes"))+"".concat(+o.startOf(n,"minutes"))+"".concat(i,"-").concat(a)};function Bk(t){for(var e=t.min,r=t.max,n=t.step,i=t.timeslots,a=t.localizer,o=pL({step:n,localizer:a}),s=1+a.getTotalMin(e,r),l=a.getMinutesFromMidnight(e),c=Math.ceil((s-1)/(n*i)),d=c*i,f=new Array(c),h=new Array(d),p=0;p<c;p++){f[p]=new Array(i);for(var m=0;m<i;m++){var g=p*i+m,v=g*n;h[g]=f[p][m]=a.getSlotDate(e,l,v)}}var y=h.length*n;h.push(a.getSlotDate(e,l,y));function x(w){var S=a.diff(e,w,"minutes")+a.getDstOffset(e,w);return Math.min(S,s)}return{groups:f,update:function(S){return pL(S)!==o?Bk(S):this},dateIsInGroup:function(S,E){var T=f[E+1];return a.inRange(S,f[E][0],T?T[0]:r,"minutes")},nextSlot:function(S){var E=h[Math.min(h.findIndex(function(T){return T===S||a.eq(T,S)})+1,h.length-1)];return a.eq(E,S)&&(E=a.add(S,n,"minutes")),E},closestSlotToPosition:function(S){var E=Math.min(h.length-1,Math.max(0,Math.floor(S*d)));return h[E]},closestSlotFromPoint:function(S,E){var T=Math.abs(E.top-E.bottom);return this.closestSlotToPosition((S.y-E.top)/T)},closestSlotFromDate:function(S){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(a.lt(S,e,"minutes"))return h[0];if(a.gt(S,r,"minutes"))return h[h.length-1];var T=a.diff(e,S,"minutes");return h[(T-T%n)/n+E]},startsBeforeDay:function(S){return a.lt(S,e,"day")},startsAfterDay:function(S){return a.gt(S,r,"day")},startsBefore:function(S){return a.lt(a.merge(e,S),e,"minutes")},startsAfter:function(S){return a.gt(a.merge(r,S),r,"minutes")},getRange:function(S,E,T,A){T||(S=a.min(r,a.max(e,S))),A||(E=a.min(r,a.max(e,E)));var C=x(S),N=x(E),I=N>n*d&&!a.eq(r,E)?(C-n)/(n*d)*100:C/(n*d)*100;return{top:I,height:N/(n*d)*100-I,start:x(S),startDate:S,end:x(E),endDate:E}},getCurrentTimePosition:function(S){var E=x(S),T=E/(n*d)*100;return T}}}var E9e=function(){function t(e,r){var n=r.accessors,i=r.slotMetrics;an(this,t);var a=i.getRange(n.start(e),n.end(e)),o=a.start,s=a.startDate,l=a.end,c=a.endDate,d=a.top,f=a.height;this.start=o,this.end=l,this.startMs=+s,this.endMs=+c,this.top=d,this.height=f,this.data=e}return on(t,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(i,a){return Math.max(i,a.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var i=this.row.leaves,a=i.indexOf(this);return a===i.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,i=r.xOffset,a=r._width,o=n.indexOf(this)+1;return i+o*a}}])}();function A9e(t,e,r){return Math.abs(e.start-t.start)<r||e.start>t.start&&e.start<t.end}function C9e(t){for(var e=s_(t,["startMs",function(s){return-s.endMs}]),r=[];e.length>0;){var n=e.shift();r.push(n);for(var i=0;i<e.length;i++){var a=e[i];if(!(n.endMs>a.startMs)){if(i>0){var o=e.splice(i,1)[0];r.push(o)}break}}}return r}function ZQ(t){for(var e=t.events,r=t.minimumStartDifference,n=t.slotMetrics,i=t.accessors,a=e.map(function(d){return new E9e(d,{slotMetrics:n,accessors:i})}),o=C9e(a),s=[],l=function(){var f=o[c],h=s.find(function(g){return g.end>f.start||Math.abs(f.start-g.start)<r});if(!h)return f.rows=[],s.push(f),1;f.container=h;for(var p=null,m=h.rows.length-1;!p&&m>=0;m--)A9e(h.rows[m],f,r)&&(p=h.rows[m]);p?(p.leaves.push(f),f.row=p):(f.leaves=[],h.rows.push(f))},c=0;c<o.length;c++)l();return o.map(function(d){return{event:d.data,style:{top:d.top,height:d.height,width:d.width,xOffset:Math.max(0,d.xOffset)}}})}function JQ(t,e,r){for(var n=0;n<t.friends.length;++n)if(!(r.indexOf(t.friends[n])>-1)){e=e>t.friends[n].idx?e:t.friends[n].idx,r.push(t.friends[n]);var i=JQ(t.friends[n],e,r);e=e>i?e:i}return e}function T9e(t){var e=t.events,r=t.minimumStartDifference,n=t.slotMetrics,i=t.accessors,a=ZQ({events:e,minimumStartDifference:r,slotMetrics:n,accessors:i});a.sort(function(z,M){return z=z.style,M=M.style,z.top!==M.top?z.top>M.top?1:-1:z.height!==M.height?z.top+z.height<M.top+M.height?1:-1:0});for(var o=0;o<a.length;++o)a[o].friends=[],delete a[o].style.left,delete a[o].style.left,delete a[o].idx,delete a[o].size;for(var s=0;s<a.length-1;++s)for(var l=a[s],c=l.style.top,d=l.style.top+l.style.height,f=s+1;f<a.length;++f){var h=a[f],p=h.style.top,m=h.style.top+h.style.height;(p>=c&&m<=d||m>c&&m<=d||p>=c&&p<d)&&(l.friends.push(h),h.friends.push(l))}for(var g=0;g<a.length;++g){for(var v=a[g],y=[],x=0;x<100;++x)y.push(1);for(var w=0;w<v.friends.length;++w)v.friends[w].idx!==void 0&&(y[v.friends[w].idx]=0);v.idx=y.indexOf(1)}for(var S=0;S<a.length;++S){var E=0;if(!a[S].size){var T=[],A=JQ(a[S],0,T);E=100/(A+1),a[S].size=E;for(var C=0;C<T.length;++C)T[C].size=E}}for(var N=0;N<a.length;++N){var I=a[N];I.style.left=I.idx*I.size;for(var P=0,k=0;k<I.friends.length;++k){var O=I.friends[k].idx;P=P>O?P:O}P<=I.idx&&(I.size=100-I.idx*I.size);var L=I.idx===0?0:3;I.style.width="calc(".concat(I.size,"% - ").concat(L,"px)"),I.style.height="calc(".concat(I.style.height,"% - 2px)"),I.style.xOffset="calc(".concat(I.style.left,"% + ").concat(L,"px)")}return a}var mL={overlap:ZQ,"no-overlap":T9e};function N9e(t){return!!(t&&t.constructor&&t.call&&t.apply)}function I9e(t){t.events,t.minimumStartDifference,t.slotMetrics,t.accessors;var e=t.dayLayoutAlgorithm,r=e;return e in mL&&(r=mL[e]),N9e(r)?r.apply(this,arguments):[]}var eZ=function(t){function e(){return an(this,e),ii(this,e,arguments)}return ni(e,t),on(e,[{key:"render",value:function(){var n=this.props,i=n.renderSlot,a=n.resource,o=n.group,s=n.getters,l=n.components,c=l===void 0?{}:l,d=c.timeSlotWrapper,f=d===void 0?No:d,h=s?s.slotGroupProp(o):{};return D.createElement("div",Object.assign({className:"rbc-timeslot-group"},h),o.map(function(p,m){var g=s?s.slotProp(p,a):{};return D.createElement(f,{key:m,value:p,resource:a},D.createElement("div",Object.assign({},g,{className:Pr("rbc-time-slot",g.className)}),i&&i(p,m)))}))}}])}(_.Component);function Yy(t){return typeof t=="string"?t:t+"%"}function P9e(t){var e=t.style,r=t.className,n=t.event,i=t.accessors,a=t.rtl,o=t.selected,s=t.label,l=t.continuesPrior,c=t.continuesAfter,d=t.getters,f=t.onClick,h=t.onDoubleClick,p=t.isBackgroundEvent,m=t.onKeyPress,g=t.components,v=g.event,y=g.eventWrapper,x=i.title(n),w=i.tooltip(n),S=i.end(n),E=i.start(n),T=d.eventProp(n,E,S,o),A=[D.createElement("div",{key:"1",className:"rbc-event-label"},s),D.createElement("div",{key:"2",className:"rbc-event-content"},v?D.createElement(v,{event:n,title:x}):x)],C=e.height,N=e.top,I=e.width,P=e.xOffset,k=Lt(Lt({},T.style),{},lu({top:Yy(N),height:Yy(C),width:Yy(I)},a?"right":"left",Yy(P)));return D.createElement(y,Object.assign({type:"time"},t),D.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:h,style:k,onKeyDown:m,title:w?(typeof s=="string"?s+": ":"")+w:void 0,className:Pr(p?"rbc-background-event":"rbc-event",r,T.className,{"rbc-selected":o,"rbc-event-continues-earlier":l,"rbc-event-continues-later":c})},A))}var O9e=function(e){var r=e.children,n=e.className,i=e.style,a=e.innerRef;return D.createElement("div",{className:n,style:i,ref:a},r)},j9e=D.forwardRef(function(t,e){return D.createElement(O9e,Object.assign({},t,{innerRef:e}))}),k9e=["dayProp"],R9e=["eventContainerWrapper","timeIndicatorWrapper"],tZ=function(t){function e(){var r;an(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ii(this,e,[].concat(i)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(o){var s=o.events,l=o.isBackgroundEvent,c=r.props,d=c.rtl,f=c.selected,h=c.accessors,p=c.localizer,m=c.getters,g=c.components,v=c.step,y=c.timeslots,x=c.dayLayoutAlgorithm,w=c.resizable,S=r,E=S.slotMetrics,T=p.messages,A=I9e({events:s,accessors:h,slotMetrics:E,minimumStartDifference:Math.ceil(v*y/2),dayLayoutAlgorithm:x});return A.map(function(C,N){var I,P=C.event,k=C.style,O=h.end(P),L=h.start(P),z=(I=h.eventId(P))!==null&&I!==void 0?I:"evt_"+N,M="eventTimeRangeFormat",W,$=E.startsBeforeDay(L),B=E.startsAfterDay(O);$?M="eventTimeRangeEndFormat":B&&(M="eventTimeRangeStartFormat"),$&&B?W=T.allDay:W=p.format({start:L,end:O},M);var G=$||E.startsBefore(L),X=B||E.startsAfter(O);return D.createElement(P9e,{style:k,event:P,label:W,key:z,getters:m,rtl:d,components:g,continuesPrior:G,continuesAfter:X,accessors:h,resource:r.props.resource,selected:u_(P,f),onClick:function(ee){return r._select(Lt(Lt(Lt({},P),r.props.resource&&{sourceResource:r.props.resource}),l&&{isBackgroundEvent:!0}),ee)},onDoubleClick:function(ee){return r._doubleClick(P,ee)},isBackgroundEvent:l,onKeyPress:function(ee){return r._keyPress(P,ee)},resizable:w})})},r._selectable=function(){var o=r.containerRef.current,s=r.props,l=s.longPressThreshold,c=s.localizer,d=r._selector=new qQ(function(){return o},{longPressThreshold:l}),f=function(g){var v=r.props.onSelecting,y=r.state||{},x=h(g),w=x.startDate,S=x.endDate;v&&(c.eq(y.startDate,w,"minutes")&&c.eq(y.endDate,S,"minutes")||v({start:w,end:S,resourceId:r.props.resource})===!1)||(r.state.start!==x.start||r.state.end!==x.end||r.state.selecting!==x.selecting)&&r.setState(x)},h=function(g){var v=r.slotMetrics.closestSlotFromPoint(g,Zu(o));r.state.selecting||(r._initialSlot=v);var y=r._initialSlot;c.lte(y,v)?v=r.slotMetrics.nextSlot(v):c.gt(y,v)&&(y=r.slotMetrics.nextSlot(y));var x=r.slotMetrics.getRange(c.min(y,v),c.max(y,v));return Lt(Lt({},x),{},{selecting:!0,top:"".concat(x.top,"%"),height:"".concat(x.height,"%")})},p=function(g,v){if(!Cw(r.containerRef.current,g)){var y=h(g),x=y.startDate,w=y.endDate;r._selectSlot({startDate:x,endDate:w,action:v,box:g})}r.setState({selecting:!1})};d.on("selecting",f),d.on("selectStart",f),d.on("beforeSelect",function(m){if(r.props.selectable==="ignoreEvents")return!Cw(r.containerRef.current,m)}),d.on("click",function(m){return p(m,"click")}),d.on("doubleClick",function(m){return p(m,"doubleClick")}),d.on("select",function(m){r.state.selecting&&(r._selectSlot(Lt(Lt({},r.state),{},{action:"select",bounds:m})),r.setState({selecting:!1}))}),d.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(o){for(var s=o.startDate,l=o.endDate,c=o.action,d=o.bounds,f=o.box,h=s,p=[];r.props.localizer.lte(h,l);)p.push(h),h=new Date(+h+r.props.step*60*1e3);Zt(r.props.onSelectSlot,{slots:p,start:s,end:l,resourceId:r.props.resource,action:c,bounds:d,box:f})},r._select=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];Zt(r.props.onSelectEvent,s)},r._doubleClick=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];Zt(r.props.onDoubleClickEvent,s)},r._keyPress=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];Zt(r.props.onKeyPressEvent,s)},r.slotMetrics=Bk(r.props),r.containerRef=_.createRef(),r}return ni(e,t),on(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,i){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var a=this.props,o=a.getNow,s=a.isNow,l=a.localizer,c=a.date,d=a.min,f=a.max,h=l.neq(n.getNow(),o(),"minutes");if(n.isNow!==s||h){if(this.clearTimeIndicatorInterval(),s){var p=!h&&l.eq(n.date,c,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(p)}}else s&&(l.neq(n.min,d,"minutes")||l.neq(n.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,i=n.min,a=n.max,o=n.getNow,s=o();if(s>=i&&s<=a){var l=this.slotMetrics.getCurrentTimePosition(s);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,i=n.date,a=n.max,o=n.rtl,s=n.isNow,l=n.resource,c=n.accessors,d=n.localizer,f=n.getters,h=f.dayProp,p=Jo(f,k9e),m=n.components,g=m.eventContainerWrapper,v=m.timeIndicatorWrapper,y=Jo(m,R9e);this.slotMetrics=this.slotMetrics.update(this.props);var x=this.slotMetrics,w=this.state,S=w.selecting,E=w.top,T=w.height,A=w.startDate,C=w.endDate,N={start:A,end:C},I=h(a,l),P=I.className,k=I.style,O={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},L=y.dayColumnWrapper||j9e;return D.createElement(L,{ref:this.containerRef,date:i,style:k,className:Pr(P,"rbc-day-slot","rbc-time-column",s&&"rbc-now",s&&"rbc-today",S&&"rbc-slot-selecting"),slotMetrics:x,resource:l},x.groups.map(function(z,M){return D.createElement(eZ,{key:M,group:z,resource:l,getters:p,components:y})}),D.createElement(g,{localizer:d,resource:l,accessors:c,getters:p,components:y,slotMetrics:x},D.createElement("div",{className:Pr("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),S&&D.createElement("div",{className:"rbc-slot-selection",style:{top:E,height:T}},D.createElement("span",null,d.format(N,"selectRangeFormat"))),s&&this.intervalTriggered&&D.createElement(v,O,D.createElement("div",O)))}}])}(D.Component);tZ.defaultProps={dragThroughEvents:!0,timeslots:2};var rZ=function(e){var r=e.label;return D.createElement(D.Fragment,null,r)},D9e=function(t){function e(){var r;an(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ii(this,e,[].concat(i)),r.handleHeaderClick=function(o,s,l){l.preventDefault(),Zt(r.props.onDrillDown,[o,s])},r.renderRow=function(o){var s=r.props,l=s.events,c=s.rtl,d=s.selectable,f=s.getNow,h=s.range,p=s.getters,m=s.localizer,g=s.accessors,v=s.components,y=s.resizable,x=g.resourceId(o),w=o?l.filter(function(S){return g.resource(S)===x}):l;return D.createElement(dv,{isAllDay:!0,rtl:c,getNow:f,minRows:2,maxRows:r.props.allDayMaxRows+1,range:h,events:w,resourceId:x,className:"rbc-allday-cell",selectable:d,selected:r.props.selected,components:v,accessors:g,getters:p,localizer:m,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:y})},r}return ni(e,t),on(e,[{key:"renderHeaderCells",value:function(n){var i=this,a=this.props,o=a.localizer,s=a.getDrilldownView,l=a.getNow,c=a.getters.dayProp,d=a.components.header,f=d===void 0?Fk:d,h=l();return n.map(function(p,m){var g=s(p),v=o.format(p,"dayFormat"),y=c(p),x=y.className,w=y.style,S=D.createElement(f,{date:p,label:v,localizer:o});return D.createElement("div",{key:m,style:w,className:Pr("rbc-header",x,o.isSameDate(p,h)&&"rbc-today")},g?D.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(T){return i.handleHeaderClick(p,g,T)}},S):D.createElement("span",null,S))})}},{key:"render",value:function(){var n=this,i=this.props,a=i.width,o=i.rtl,s=i.resources,l=i.range,c=i.events,d=i.getNow,f=i.accessors,h=i.selectable,p=i.components,m=i.getters,g=i.scrollRef,v=i.localizer,y=i.isOverflowing,x=i.components,w=x.timeGutterHeader,S=x.resourceHeader,E=S===void 0?rZ:S,T=i.resizable,A={};y&&(A[o?"marginLeft":"marginRight"]="".concat(gk()-1,"px"));var C=s.groupEvents(c);return D.createElement("div",{style:A,ref:g,className:Pr("rbc-time-header",y&&"rbc-overflowing")},D.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},w&&D.createElement(w,null)),s.map(function(N,I){var P=Hu(N,2),k=P[0],O=P[1];return D.createElement("div",{className:"rbc-time-header-content",key:k||I},O&&D.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(I)},D.createElement("div",{className:"rbc-header"},D.createElement(E,{index:I,label:f.resourceTitle(O),resource:O}))),D.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(l)),D.createElement(dv,{isAllDay:!0,rtl:o,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:l,events:C.get(k)||[],resourceId:O&&k,className:"rbc-allday-cell",selectable:h,selected:n.props.selected,components:p,accessors:f,getters:m,localizer:v,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:T}))}))}}])}(D.Component),M9e=function(t){function e(){var r;an(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ii(this,e,[].concat(i)),r.handleHeaderClick=function(o,s,l){l.preventDefault(),Zt(r.props.onDrillDown,[o,s])},r}return ni(e,t),on(e,[{key:"renderHeaderCells",value:function(n){var i=this,a=this.props,o=a.localizer,s=a.getDrilldownView,l=a.getNow,c=a.getters.dayProp,d=a.components,f=d.header,h=f===void 0?Fk:f,p=d.resourceHeader,m=p===void 0?rZ:p,g=a.resources,v=a.accessors,y=a.events,x=a.rtl,w=a.selectable,S=a.components,E=a.getters,T=a.resizable,A=l(),C=g.groupEvents(y);return n.map(function(N,I){var P=s(N),k=o.format(N,"dayFormat"),O=c(N),L=O.className,z=O.style,M=D.createElement(h,{date:N,label:k,localizer:o});return D.createElement("div",{key:I,className:"rbc-time-header-content rbc-resource-grouping"},D.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},D.createElement("div",{style:z,className:Pr("rbc-header",L,o.isSameDate(N,A)&&"rbc-today")},P?D.createElement("button",{type:"button",className:"rbc-button-link",onClick:function($){return i.handleHeaderClick(N,P,$)}},M):D.createElement("span",null,M))),D.createElement("div",{className:"rbc-row"},g.map(function(W,$){var B=Hu(W,2),G=B[0],X=B[1];return D.createElement("div",{key:"resource_".concat(G,"_").concat($),className:Pr("rbc-header",L,o.isSameDate(N,A)&&"rbc-today")},D.createElement(m,{index:$,label:v.resourceTitle(X),resource:X}))})),D.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},g.map(function(W,$){var B=Hu(W,2),G=B[0],X=B[1],Y=(C.get(G)||[]).filter(function(ee){return o.isSameDate(ee.start,N)||o.isSameDate(ee.end,N)});return D.createElement(dv,{key:"resource_".concat(G,"_").concat($),isAllDay:!0,rtl:x,getNow:l,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[N],events:Y,resourceId:X&&G,className:"rbc-allday-cell",selectable:w,selected:i.props.selected,components:S,accessors:v,getters:E,localizer:o,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:T})})))})}},{key:"render",value:function(){var n=this.props,i=n.width,a=n.rtl,o=n.range,s=n.scrollRef,l=n.isOverflowing,c=n.components.timeGutterHeader,d={};return l&&(d[a?"marginLeft":"marginRight"]="".concat(gk()-1,"px")),D.createElement("div",{style:d,ref:s,className:Pr("rbc-time-header",l&&"rbc-overflowing")},D.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},c&&D.createElement(c,null)),this.renderHeaderCells(o))}}])}(D.Component);function L9e(t){var e=t.min,r=t.max,n=t.localizer;return n.getTimezoneOffset(e)!==n.getTimezoneOffset(r)?{start:n.add(e,-1,"day"),end:n.add(r,-1,"day")}:{start:e,end:r}}var $9e=function(e){var r=e.min,n=e.max,i=e.timeslots,a=e.step,o=e.localizer,s=e.getNow,l=e.resource,c=e.components,d=e.getters,f=e.gutterRef,h=c.timeGutterWrapper,p=_.useMemo(function(){return L9e({min:r,max:n,localizer:o})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),o]),m=p.start,g=p.end,v=_.useState(Bk({min:m,max:g,timeslots:i,step:a,localizer:o})),y=Hu(v,2),x=y[0],w=y[1];_.useEffect(function(){x&&w(x.update({min:m,max:g,timeslots:i,step:a,localizer:o}))},[m==null?void 0:m.toISOString(),g==null?void 0:g.toISOString(),i,a]);var S=_.useCallback(function(E,T){if(T)return null;var A=x.dateIsInGroup(s(),T);return D.createElement("span",{className:Pr("rbc-label",A&&"rbc-now")},o.format(E,"timeGutterFormat"))},[x,o,s]);return D.createElement(h,{slotMetrics:x},D.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},x.groups.map(function(E,T){return D.createElement(eZ,{key:T,group:E,resource:l,components:c,renderSlot:S,getters:d})})))},F9e=D.forwardRef(function(t,e){return D.createElement($9e,Object.assign({gutterRef:e},t))}),KE={};function B9e(t,e){return{map:function(n){return t?t.map(function(i,a){return n([e.resourceId(i),i],a)}):[n([KE,null],0)]},groupEvents:function(n){var i=new Map;return t?(n.forEach(function(a){var o=e.resource(a)||KE;if(Array.isArray(o))o.forEach(function(l){var c=i.get(l)||[];c.push(a),i.set(l,c)});else{var s=i.get(o)||[];s.push(a),i.set(o,s)}}),i):(i.set(KE,n),i)}}}var dp=function(t){function e(r){var n;return an(this,e),n=ii(this,e,[r]),n.handleScroll=function(i){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=i.target.scrollLeft)},n.handleResize=function(){t5(n.rafHandle),n.rafHandle=BX(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];Zt(n.props.onKeyPressEvent,a)},n.handleSelectEvent=function(){n.clearSelection();for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];Zt(n.props.onSelectEvent,a)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];Zt(n.props.onDoubleClickEvent,a)},n.handleShowMore=function(i,a,o,s,l){var c=n.props,d=c.popup,f=c.onDrillDown,h=c.onShowMore,p=c.getDrilldownView,m=c.doShowMoreDrillDown;if(n.clearSelection(),d){var g=FX(o,n.containerRef.current);n.setState({overlay:{date:a,events:i,position:Lt(Lt({},g),{},{width:"200px"}),target:l}})}else m&&Zt(f,[a,p(a)||pi.DAY]);Zt(h,[i,a,s])},n.handleSelectAllDaySlot=function(i,a){var o=n.props.onSelectSlot,s=new Date(i[0]),l=new Date(i[i.length-1]);l.setDate(i[i.length-1].getDate()+1),Zt(o,{slots:i,start:s,end:l,action:a.action,resourceId:a.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var i=n.contentRef.current;if(i!=null&&i.scrollHeight){var a=i.scrollHeight>i.clientHeight;n.state.isOverflowing!==a&&(n._updatingOverflow=!0,n.setState({isOverflowing:a},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=wQ(function(i,a){return B9e(i,a)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=D.createRef(),n.contentRef=D.createRef(),n.containerRef=D.createRef(),n._scrollRatio=null,n.gutterRef=_.createRef(),n}return ni(e,t),on(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),t5(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,i,a,o,s,l,c,d,f,h){var p=this.props,m=p.min,g=p.max,v=(o.get(i)||[]).filter(function(x){return l.inRange(n,c.start(x),c.end(x),"day")}),y=(s.get(i)||[]).filter(function(x){return l.inRange(n,c.start(x),c.end(x),"day")});return D.createElement(tZ,Object.assign({},this.props,{localizer:l,min:l.merge(n,m),max:l.merge(n,g),resource:a&&i,components:d,isNow:l.isSameDate(n,h),key:"".concat(i,"-").concat(n),date:n,events:v,backgroundEvents:y,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(n,i,a,o,s,l,c,d,f){var h=this;return i.map(function(p){var m=Hu(p,2),g=m[0],v=m[1];return n.map(function(y){return h.renderDayColumn(y,g,v,a,o,s,l,d,f,c)})})}},{key:"renderRangeFirst",value:function(n,i,a,o,s,l,c,d,f){var h=this;return n.map(function(p){return D.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:p},i.map(function(m){var g=Hu(m,2),v=g[0],y=g[1];return D.createElement("div",{style:{flex:1},key:l.resourceId(y)},h.renderDayColumn(p,v,y,a,o,s,l,d,f,c))}))})}},{key:"renderEvents",value:function(n,i,a,o){var s=this.props,l=s.accessors,c=s.localizer,d=s.resourceGroupingLayout,f=s.components,h=s.dayLayoutAlgorithm,p=this.memoizedResources(this.props.resources,l),m=p.groupEvents(i),g=p.groupEvents(a);return d?this.renderRangeFirst(n,p,m,g,c,l,o,f,h):this.renderResourcesFirst(n,p,m,g,c,l,o,f,h)}},{key:"render",value:function(){var n,i=this.props,a=i.events,o=i.backgroundEvents,s=i.range,l=i.width,c=i.rtl,d=i.selected,f=i.getNow,h=i.resources,p=i.components,m=i.accessors,g=i.getters,v=i.localizer,y=i.min,x=i.max,w=i.showMultiDayTimes,S=i.longPressThreshold,E=i.resizable,T=i.resourceGroupingLayout;l=l||this.state.gutterWidth;var A=s[0],C=s[s.length-1];this.slots=s.length;var N=[],I=[],P=[];a.forEach(function(O){if(uv(O,A,C,m,v)){var L=m.start(O),z=m.end(O);m.allDay(O)||v.startAndEndAreDateOnly(L,z)||!w&&!v.isSameDate(L,z)?N.push(O):I.push(O)}}),o.forEach(function(O){uv(O,A,C,m,v)&&P.push(O)}),N.sort(function(O,L){return lN(O,L,m,v)});var k={range:s,events:N,width:l,rtl:c,getNow:f,localizer:v,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(h,m),selectable:this.props.selectable,accessors:m,getters:g,components:p,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:S,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:E};return D.createElement("div",{className:Pr("rbc-time-view",h&&"rbc-time-view-resources"),ref:this.containerRef},h&&h.length>1&&T?D.createElement(M9e,k):D.createElement(D9e,k),this.props.popup&&this.renderOverlay(),D.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},D.createElement(F9e,{date:A,ref:this.gutterRef,localizer:v,min:v.merge(A,y),max:v.merge(A,x),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:p,className:"rbc-time-gutter",getters:g}),this.renderEvents(s,I,P,f())))}},{key:"renderOverlay",value:function(){var n,i,a=this,o=(n=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&n!==void 0?n:{},s=this.props,l=s.accessors,c=s.localizer,d=s.components,f=s.getters,h=s.selected,p=s.popupOffset,m=s.handleDragStart,g=function(){return a.setState({overlay:null})};return D.createElement($k,{overlay:o,accessors:l,localizer:c,components:d,getters:f,selected:h,popupOffset:p,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:m,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,a=(i=n.gutterRef)!==null&&i!==void 0&&i.current?aN(n.gutterRef.current):void 0;a&&n.state.gutterWidth!==a&&n.setState({gutterWidth:a})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=n.min,a=n.max,o=n.scrollToTime,s=n.localizer,l=s.diff(s.merge(o,i),o,"milliseconds"),c=s.diff(i,a,"milliseconds");this._scrollRatio=l/c}}])}(_.Component);dp.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var U9e=["date","localizer","min","max","scrollToTime","enableAutoScroll"],f_=function(t){function e(){return an(this,e),ii(this,e,arguments)}return ni(e,t),on(e,[{key:"render",value:function(){var n=this.props,i=n.date,a=n.localizer,o=n.min,s=o===void 0?a.startOf(new Date,"day"):o,l=n.max,c=l===void 0?a.endOf(new Date,"day"):l,d=n.scrollToTime,f=d===void 0?a.startOf(new Date,"day"):d,h=n.enableAutoScroll,p=h===void 0?!0:h,m=Jo(n,U9e),g=e.range(i,{localizer:a});return D.createElement(dp,Object.assign({},m,{range:g,eventOffset:10,localizer:a,min:s,max:c,scrollToTime:f,enableAutoScroll:p}))}}])}(D.Component);f_.range=function(t,e){var r=e.localizer;return[r.startOf(t,"day")]};f_.navigate=function(t,e,r){var n=r.localizer;switch(e){case zi.PREVIOUS:return n.add(t,-1,"day");case zi.NEXT:return n.add(t,1,"day");default:return t}};f_.title=function(t,e){var r=e.localizer;return r.format(t,"dayHeaderFormat")};var V9e=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Sc=function(t){function e(){return an(this,e),ii(this,e,arguments)}return ni(e,t),on(e,[{key:"render",value:function(){var n=this.props,i=n.date,a=n.localizer,o=n.min,s=o===void 0?a.startOf(new Date,"day"):o,l=n.max,c=l===void 0?a.endOf(new Date,"day"):l,d=n.scrollToTime,f=d===void 0?a.startOf(new Date,"day"):d,h=n.enableAutoScroll,p=h===void 0?!0:h,m=Jo(n,V9e),g=e.range(i,this.props);return D.createElement(dp,Object.assign({},m,{range:g,eventOffset:15,localizer:a,min:s,max:c,scrollToTime:f,enableAutoScroll:p}))}}])}(D.Component);Sc.defaultProps=dp.defaultProps;Sc.navigate=function(t,e,r){var n=r.localizer;switch(e){case zi.PREVIOUS:return n.add(t,-1,"week");case zi.NEXT:return n.add(t,1,"week");default:return t}};Sc.range=function(t,e){var r=e.localizer,n=r.startOfWeek(),i=r.startOf(t,"week",n),a=r.endOf(t,"week",n);return r.range(i,a)};Sc.title=function(t,e){var r=e.localizer,n=Sc.range(t,{localizer:r}),i=TQ(n),a=i[0],o=i.slice(1);return r.format({start:a,end:o.pop()},"dayRangeHeaderFormat")};var z9e=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function Uk(t,e){return Sc.range(t,e).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var M0=function(t){function e(){return an(this,e),ii(this,e,arguments)}return ni(e,t),on(e,[{key:"render",value:function(){var n=this.props,i=n.date,a=n.localizer,o=n.min,s=o===void 0?a.startOf(new Date,"day"):o,l=n.max,c=l===void 0?a.endOf(new Date,"day"):l,d=n.scrollToTime,f=d===void 0?a.startOf(new Date,"day"):d,h=n.enableAutoScroll,p=h===void 0?!0:h,m=Jo(n,z9e),g=Uk(i,this.props);return D.createElement(dp,Object.assign({},m,{range:g,eventOffset:15,localizer:a,min:s,max:c,scrollToTime:f,enableAutoScroll:p}))}}])}(D.Component);M0.defaultProps=dp.defaultProps;M0.range=Uk;M0.navigate=Sc.navigate;M0.title=function(t,e){var r=e.localizer,n=Uk(t,{localizer:r}),i=TQ(n),a=i[0],o=i.slice(1);return r.format({start:a,end:o.pop()},"dayRangeHeaderFormat")};var h_=30;function p_(t){var e=t.accessors,r=t.components,n=t.date,i=t.events,a=t.getters,o=t.length,s=o===void 0?h_:o,l=t.localizer,c=t.onDoubleClickEvent,d=t.onSelectEvent,f=t.selected,h=_.useRef(null),p=_.useRef(null),m=_.useRef(null),g=_.useRef(null),v=_.useRef(null);_.useEffect(function(){w()});var y=function(C,N,I){var P=r.event,k=r.date;return N=N.filter(function(O){return uv(O,l.startOf(C,"day"),l.endOf(C,"day"),e,l)}),N.map(function(O,L){var z=e.title(O),M=e.end(O),W=e.start(O),$=a.eventProp(O,W,M,u_(O,f)),B=L===0&&l.format(C,"agendaDateFormat"),G=L===0?D.createElement("td",{rowSpan:N.length,className:"rbc-agenda-date-cell"},k?D.createElement(k,{day:C,label:B}):B):!1;return D.createElement("tr",{key:I+"_"+L,className:$.className,style:$.style},G,D.createElement("td",{className:"rbc-agenda-time-cell"},x(C,O)),D.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(Y){return d&&d(O,Y)},onDoubleClick:function(Y){return c&&c(O,Y)}},P?D.createElement(P,{event:O,title:z}):z))},[])},x=function(C,N){var I="",P=r.time,k=l.messages.allDay,O=e.end(N),L=e.start(N);return e.allDay(N)||(l.eq(L,O)?k=l.format(L,"agendaTimeFormat"):l.isSameDate(L,O)?k=l.format({start:L,end:O},"agendaTimeRangeFormat"):l.isSameDate(C,L)?k=l.format(L,"agendaTimeFormat"):l.isSameDate(C,O)&&(k=l.format(O,"agendaTimeFormat"))),l.gt(C,L,"day")&&(I="rbc-continues-prior"),l.lt(C,O,"day")&&(I+=" rbc-continues-after"),D.createElement("span",{className:I.trim()},P?D.createElement(P,{event:N,day:C,label:k}):k)},w=function(){if(v.current){var C=h.current,N=v.current.firstChild;if(N){var I=g.current.scrollHeight>g.current.clientHeight,P=[],k=P;P=[aN(N.children[0]),aN(N.children[1])],(k[0]!==P[0]||k[1]!==P[1])&&(p.current.style.width=P[0]+"px",m.current.style.width=P[1]+"px"),I?(aPe(C,"rbc-header-overflowing"),C.style.marginRight=gk()+"px"):oPe(C,"rbc-header-overflowing")}}},S=l.messages,E=l.add(n,s,"day"),T=l.range(n,E,"day");return i=i.filter(function(A){return uv(A,l.startOf(n,"day"),l.endOf(E,"day"),e,l)}),i.sort(function(A,C){return+e.start(A)-+e.start(C)}),D.createElement("div",{className:"rbc-agenda-view"},i.length!==0?D.createElement(D.Fragment,null,D.createElement("table",{ref:h,className:"rbc-agenda-table"},D.createElement("thead",null,D.createElement("tr",null,D.createElement("th",{className:"rbc-header",ref:p},S.date),D.createElement("th",{className:"rbc-header",ref:m},S.time),D.createElement("th",{className:"rbc-header"},S.event)))),D.createElement("div",{className:"rbc-agenda-content",ref:g},D.createElement("table",{className:"rbc-agenda-table"},D.createElement("tbody",{ref:v},T.map(function(A,C){return y(A,i,C)}))))):D.createElement("span",{className:"rbc-agenda-empty"},S.noEventsInRange))}p_.range=function(t,e){var r=e.length,n=r===void 0?h_:r,i=e.localizer,a=i.add(t,n,"day");return{start:t,end:a}};p_.navigate=function(t,e,r){var n=r.length,i=n===void 0?h_:n,a=r.localizer;switch(e){case zi.PREVIOUS:return a.add(t,-i,"day");case zi.NEXT:return a.add(t,i,"day");default:return t}};p_.title=function(t,e){var r=e.length,n=r===void 0?h_:r,i=e.localizer,a=i.add(t,n,"day");return i.format({start:t,end:a},"agendaHeaderFormat")};var K1=lu(lu(lu(lu(lu({},pi.MONTH,d_),pi.WEEK,Sc),pi.WORK_WEEK,M0),pi.DAY,f_),pi.AGENDA,p_),W9e=["action","date","today"];function H9e(t,e){var r=e.action,n=e.date,i=e.today,a=Jo(e,W9e);switch(t=typeof t=="string"?K1[t]:t,r){case zi.TODAY:n=i||new Date;break;case zi.DATE:break;default:Qg(t&&typeof t.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=t.navigate(n,r,a)}return n}function G9e(t,e){var r=null;return typeof e=="function"?r=e(t):typeof e=="string"&&vo(t)==="object"&&t!=null&&e in t&&(r=t[e]),r}var us=function(e){return function(r){return G9e(r,e)}},q9e=["view","date","getNow","onNavigate"],K9e=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function nZ(t){if(Array.isArray(t))return t;for(var e=[],r=0,n=Object.entries(t);r<n.length;r++){var i=Hu(n[r],2),a=i[0],o=i[1];o&&e.push(a)}return e}function Y9e(t,e){var r=e.views,n=nZ(r);return n.indexOf(t)!==-1}var iZ=function(t){function e(){var r;an(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ii(this,e,[].concat(i)),r.getViews=function(){var o=r.props.views;return Array.isArray(o)?A$e(o,function(s,l){return s[l]=K1[l]},{}):vo(o)==="object"?IQ(o,function(s,l){return s===!0?K1[l]:s}):K1},r.getView=function(){var o=r.getViews();return o[r.props.view]},r.getDrilldownView=function(o){var s=r.props,l=s.view,c=s.drilldownView,d=s.getDrilldownView;return d?d(o,l,Object.keys(r.getViews())):c},r.handleRangeChange=function(o,s,l){var c=r.props,d=c.onRangeChange,f=c.localizer;d&&s.range&&d(s.range(o,{localizer:f}),l)},r.handleNavigate=function(o,s){var l=r.props,c=l.view,d=l.date,f=l.getNow,h=l.onNavigate,p=Jo(l,q9e),m=r.getView(),g=f();d=H9e(m,Lt(Lt({},p),{},{action:o,date:s||d||g,today:g})),h(d,c,o),r.handleRangeChange(d,m)},r.handleViewChange=function(o){o!==r.props.view&&Y9e(o,r.props)&&r.props.onView(o);var s=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),s[o],o)},r.handleSelectEvent=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];Zt(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];Zt(r.props.onDoubleClickEvent,s)},r.handleKeyPressEvent=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];Zt(r.props.onKeyPressEvent,s)},r.handleSelectSlot=function(o){Zt(r.props.onSelectSlot,o)},r.handleDrillDown=function(o,s){var l=r.props.onDrillDown;if(l){l(o,s,r.drilldownView);return}s&&r.handleViewChange(s),r.handleNavigate(zi.DATE,o)},r.state={context:e.getContext(r.props)},r}return ni(e,t),on(e,[{key:"render",value:function(){var n=this.props,i=n.view,a=n.toolbar,o=n.events,s=n.backgroundEvents,l=n.resourceGroupingLayout,c=n.style,d=n.className,f=n.elementProps,h=n.date,p=n.getNow,m=n.length,g=n.showMultiDayTimes,v=n.onShowMore,y=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var x=Jo(n,K9e);h=h||p();var w=this.getView(),S=this.state.context,E=S.accessors,T=S.components,A=S.getters,C=S.localizer,N=S.viewNames,I=T.toolbar||Z$e,P=w.title(h,{localizer:C,length:m});return D.createElement("div",Object.assign({},f,{className:Pr(d,"rbc-calendar",x.rtl&&"rbc-rtl"),style:c}),a&&D.createElement(I,{date:h,view:i,views:N,label:P,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:C}),D.createElement(w,Object.assign({},x,{events:o,backgroundEvents:s,date:h,getNow:p,length:m,localizer:C,getters:A,components:T,accessors:E,showMultiDayTimes:g,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:v,doShowMoreDrillDown:y,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:e.getContext(n)}}},{key:"getContext",value:function(n){var i=n.startAccessor,a=n.endAccessor,o=n.allDayAccessor,s=n.tooltipAccessor,l=n.titleAccessor,c=n.resourceAccessor,d=n.resourceIdAccessor,f=n.resourceTitleAccessor,h=n.eventIdAccessor,p=n.eventPropGetter,m=n.backgroundEventPropGetter,g=n.slotPropGetter,v=n.slotGroupPropGetter,y=n.dayPropGetter,x=n.view,w=n.views,S=n.localizer,E=n.culture,T=n.messages,A=T===void 0?{}:T,C=n.components,N=C===void 0?{}:C,I=n.formats,P=I===void 0?{}:I,k=nZ(w),O=e9e(A);return{viewNames:k,localizer:Q$e(S,E,P,O),getters:{eventProp:function(){return p&&p.apply(void 0,arguments)||{}},backgroundEventProp:function(){return m&&m.apply(void 0,arguments)||{}},slotProp:function(){return g&&g.apply(void 0,arguments)||{}},slotGroupProp:function(){return v&&v.apply(void 0,arguments)||{}},dayProp:function(){return y&&y.apply(void 0,arguments)||{}}},components:x6e(N[x]||{},f$e(N,k),{eventWrapper:No,backgroundEventWrapper:No,eventContainerWrapper:No,dateCellWrapper:No,weekWrapper:No,timeSlotWrapper:No,timeGutterWrapper:No,timeIndicatorWrapper:No}),accessors:{start:us(i),end:us(a),allDay:us(o),tooltip:us(s),title:us(l),resource:us(c),resourceId:us(d),resourceTitle:us(f),eventId:us(h)}}}}])}(D.Component);iZ.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:pi.MONTH,views:[pi.MONTH,pi.WEEK,pi.DAY,pi.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:pi.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var X9e=xX(iZ,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),Q9e=function(e,r,n){var i=e.start,a=e.end;return"".concat(n.format(i,"P",r)," – ").concat(n.format(a,"P",r))},YE=function(e,r,n){var i=e.start,a=e.end;return"".concat(n.format(i,"p",r)," – ").concat(n.format(a,"p",r))},Z9e=function(e,r,n){var i=e.start;return"".concat(n.format(i,"h:mma",r)," – ")},J9e=function(e,r,n){var i=e.end;return" – ".concat(n.format(i,"h:mma",r))},eFe=function(e,r,n){var i=e.start,a=e.end;return"".concat(n.format(i,"MMMM dd",r)," – ").concat(n.format(a,Xh(i,a,"month")?"dd":"MMMM dd",r))},tFe={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:YE,eventTimeRangeFormat:YE,eventTimeRangeStartFormat:Z9e,eventTimeRangeEndFormat:J9e,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:eFe,agendaHeaderFormat:Q9e,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:YE},rFe=function(e){var r=e.startOfWeek,n=e.getDay,i=e.format,a=e.locales;return new X$e({formats:tFe,firstOfWeek:function(s){return n(r(new Date,{locale:a[s]}))},format:function(s,l,c){return i(new Date(s),l,{locale:a[c]})}})};const nFe=oY,iFe=sY,aZ=_.forwardRef(({className:t,...e},r)=>u.jsx(F2,{className:Pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));aZ.displayName=F2.displayName;const aFe=g0("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),oZ=_.forwardRef(({side:t="right",className:e,children:r,...n},i)=>u.jsxs(iFe,{children:[u.jsx(aZ,{}),u.jsxs(B2,{ref:i,className:Pe(aFe({side:t}),e),...n,children:[r,u.jsxs(lY,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[u.jsx(ra,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));oZ.displayName=B2.displayName;const sZ=({className:t,...e})=>u.jsx("div",{className:Pe("flex flex-col space-y-2 text-center sm:text-left",t),...e});sZ.displayName="SheetHeader";const lZ=_.forwardRef(({className:t,...e},r)=>u.jsx(U2,{ref:r,className:Pe("text-lg font-semibold text-foreground",t),...e}));lZ.displayName=U2.displayName;const cZ=_.forwardRef(({className:t,...e},r)=>u.jsx(V2,{ref:r,className:Pe("text-sm text-muted-foreground",t),...e}));cZ.displayName=V2.displayName;function oFe(t,e){return _.useReducer((r,n)=>e[r][n]??r,t)}var Vk="ScrollArea",[uZ,gst]=bo(Vk),[sFe,Fa]=uZ(Vk),dZ=_.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...o}=t,[s,l]=_.useState(null),[c,d]=_.useState(null),[f,h]=_.useState(null),[p,m]=_.useState(null),[g,v]=_.useState(null),[y,x]=_.useState(0),[w,S]=_.useState(0),[E,T]=_.useState(!1),[A,C]=_.useState(!1),N=Ze(e,P=>l(P)),I=b0(i);return u.jsx(sFe,{scope:r,type:n,dir:I,scrollHideDelay:a,scrollArea:s,viewport:c,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:m,scrollbarXEnabled:E,onScrollbarXEnabledChange:T,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:A,onScrollbarYEnabledChange:C,onCornerWidthChange:x,onCornerHeightChange:S,children:u.jsx(Me.div,{dir:I,...o,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});dZ.displayName=Vk;var fZ="ScrollAreaViewport",hZ=_.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,asChild:i,nonce:a,...o}=t,s=Fa(fZ,r),l=_.useRef(null),c=Ze(e,l,s.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),u.jsx(Me.div,{"data-radix-scroll-area-viewport":"",...o,asChild:i,ref:c,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:vFe({asChild:i,children:n},d=>u.jsx("div",{"data-radix-scroll-area-content":"",ref:s.onContentChange,style:{minWidth:s.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});hZ.displayName=fZ;var as="ScrollAreaScrollbar",zk=_.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Fa(as,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,s=t.orientation==="horizontal";return _.useEffect(()=>(s?a(!0):o(!0),()=>{s?a(!1):o(!1)}),[s,a,o]),i.type==="hover"?u.jsx(lFe,{...n,ref:e,forceMount:r}):i.type==="scroll"?u.jsx(cFe,{...n,ref:e,forceMount:r}):i.type==="auto"?u.jsx(pZ,{...n,ref:e,forceMount:r}):i.type==="always"?u.jsx(Wk,{...n,ref:e}):null});zk.displayName=as;var lFe=_.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Fa(as,t.__scopeScrollArea),[a,o]=_.useState(!1);return _.useEffect(()=>{const s=i.scrollArea;let l=0;if(s){const c=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",c),s.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",c),s.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),u.jsx(Rn,{present:r||a,children:u.jsx(pZ,{"data-state":a?"visible":"hidden",...n,ref:e})})}),cFe=_.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Fa(as,t.__scopeScrollArea),a=t.orientation==="horizontal",o=g_(()=>l("SCROLL_END"),100),[s,l]=oFe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return _.useEffect(()=>{if(s==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[s,i.scrollHideDelay,l]),_.useEffect(()=>{const c=i.viewport,d=a?"scrollLeft":"scrollTop";if(c){let f=c[d];const h=()=>{const p=c[d];f!==p&&(l("SCROLL"),o()),f=p};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,a,l,o]),u.jsx(Rn,{present:r||s!=="hidden",children:u.jsx(Wk,{"data-state":s==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:Te(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Te(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),pZ=_.forwardRef((t,e)=>{const r=Fa(as,t.__scopeScrollArea),{forceMount:n,...i}=t,[a,o]=_.useState(!1),s=t.orientation==="horizontal",l=g_(()=>{if(r.viewport){const c=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(s?c:d)}},10);return lh(r.viewport,l),lh(r.content,l),u.jsx(Rn,{present:n||a,children:u.jsx(Wk,{"data-state":a?"visible":"hidden",...i,ref:e})})}),Wk=_.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,i=Fa(as,t.__scopeScrollArea),a=_.useRef(null),o=_.useRef(0),[s,l]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=xZ(s.viewport,s.content),d={...n,sizes:s,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return mFe(h,o.current,s,p)}return r==="horizontal"?u.jsx(uFe,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollLeft,p=gL(h,s,i.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):r==="vertical"?u.jsx(dFe,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollTop,p=gL(h,s);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),uFe=_.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,a=Fa(as,t.__scopeScrollArea),[o,s]=_.useState(),l=_.useRef(null),c=Ze(e,l,a.onScrollbarXChange);return _.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),u.jsx(gZ,{"data-orientation":"horizontal",...i,ref:c,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":m_(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),bZ(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Nw(o.paddingLeft),paddingEnd:Nw(o.paddingRight)}})}})}),dFe=_.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,a=Fa(as,t.__scopeScrollArea),[o,s]=_.useState(),l=_.useRef(null),c=Ze(e,l,a.onScrollbarYChange);return _.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),u.jsx(gZ,{"data-orientation":"vertical",...i,ref:c,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":m_(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),bZ(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Nw(o.paddingTop),paddingEnd:Nw(o.paddingBottom)}})}})}),[fFe,mZ]=uZ(as),gZ=_.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:f,...h}=t,p=Fa(as,r),[m,g]=_.useState(null),v=Ze(e,N=>g(N)),y=_.useRef(null),x=_.useRef(""),w=p.viewport,S=n.content-n.viewport,E=zr(d),T=zr(l),A=g_(f,10);function C(N){if(y.current){const I=N.clientX-y.current.left,P=N.clientY-y.current.top;c({x:I,y:P})}}return _.useEffect(()=>{const N=I=>{const P=I.target;(m==null?void 0:m.contains(P))&&E(I,S)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[w,m,S,E]),_.useEffect(T,[n,T]),lh(m,A),lh(p.content,A),u.jsx(fFe,{scope:r,scrollbar:m,hasThumb:i,onThumbChange:zr(a),onThumbPointerUp:zr(o),onThumbPositionChange:T,onThumbPointerDown:zr(s),children:u.jsx(Me.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:Te(t.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),y.current=m.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),C(N))}),onPointerMove:Te(t.onPointerMove,C),onPointerUp:Te(t.onPointerUp,N=>{const I=N.target;I.hasPointerCapture(N.pointerId)&&I.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),Tw="ScrollAreaThumb",vZ=_.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=mZ(Tw,t.__scopeScrollArea);return u.jsx(Rn,{present:r||i.hasThumb,children:u.jsx(hFe,{ref:e,...n})})}),hFe=_.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...i}=t,a=Fa(Tw,r),o=mZ(Tw,r),{onThumbPositionChange:s}=o,l=Ze(e,f=>o.onThumbChange(f)),c=_.useRef(),d=g_(()=>{c.current&&(c.current(),c.current=void 0)},100);return _.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!c.current){const p=gFe(f,s);c.current=p,s()}};return s(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,s]),u.jsx(Me.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Te(t.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),m=f.clientX-p.left,g=f.clientY-p.top;o.onThumbPointerDown({x:m,y:g})}),onPointerUp:Te(t.onPointerUp,o.onThumbPointerUp)})});vZ.displayName=Tw;var Hk="ScrollAreaCorner",yZ=_.forwardRef((t,e)=>{const r=Fa(Hk,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?u.jsx(pFe,{...t,ref:e}):null});yZ.displayName=Hk;var pFe=_.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,i=Fa(Hk,r),[a,o]=_.useState(0),[s,l]=_.useState(0),c=!!(a&&s);return lh(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),lh(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),o(d)}),c?u.jsx(Me.div,{...n,ref:e,style:{width:a,height:s,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Nw(t){return t?parseInt(t,10):0}function xZ(t,e){const r=t/e;return isNaN(r)?0:r}function m_(t){const e=xZ(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function mFe(t,e,r,n="ltr"){const i=m_(r),a=i/2,o=e||a,s=i-o,l=r.scrollbar.paddingStart+o,c=r.scrollbar.size-r.scrollbar.paddingEnd-s,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return wZ([l,c],f)(t)}function gL(t,e,r="ltr"){const n=m_(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,o=e.content-e.viewport,s=a-n,l=r==="ltr"?[0,o]:[o*-1,0],c=UT(t,l);return wZ([0,o],[0,s])(c)}function wZ(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function bZ(t,e){return t>0&&t<e}var gFe=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function i(){const a={left:t.scrollLeft,top:t.scrollTop},o=r.left!==a.left,s=r.top!==a.top;(o||s)&&e(),r=a,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function g_(t,e){const r=zr(t),n=_.useRef(0);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),_.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function lh(t,e){const r=zr(e);xn(()=>{let n=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(t),()=>{window.cancelAnimationFrame(n),i.unobserve(t)}}},[t,r])}function vFe(t,e){const{asChild:r,children:n}=t;if(!r)return typeof e=="function"?e(n):e;const i=_.Children.only(n);return _.cloneElement(i,{children:typeof e=="function"?e(i.props.children):e})}var _Z=dZ,yFe=hZ,xFe=yZ;const SZ=_.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(_Z,{ref:n,className:Pe("relative overflow-hidden",t),...r,children:[u.jsx(yFe,{className:"h-full w-full rounded-[inherit]",children:e}),u.jsx(EZ,{}),u.jsx(xFe,{})]}));SZ.displayName=_Z.displayName;const EZ=_.forwardRef(({className:t,orientation:e="vertical",...r},n)=>u.jsx(zk,{ref:n,orientation:e,className:Pe("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:u.jsx(vZ,{className:"relative flex-1 rounded-full bg-border"})}));EZ.displayName=zk.displayName;var wFe="Separator",vL="horizontal",bFe=["horizontal","vertical"],AZ=_.forwardRef((t,e)=>{const{decorative:r,orientation:n=vL,...i}=t,a=_Fe(n)?n:vL,s=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return u.jsx(Me.div,{"data-orientation":a,...s,...i,ref:e})});AZ.displayName=wFe;function _Fe(t){return bFe.includes(t)}var CZ=AZ;const TZ=_.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>u.jsx(CZ,{ref:i,decorative:r,orientation:e,className:Pe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));TZ.displayName=CZ.displayName;const SFe={"en-US":JO},EFe=rFe({format:er,startOfWeek:fH,getDay:Mye,locales:SFe}),AFe=({event:t,onClick:e})=>{const r=t.resource,n=r.items.length,i=r.items.filter(a=>!a.checked).length;return u.jsxs("div",{className:"p-1 overflow-hidden cursor-pointer hover:opacity-90",onClick:()=>e(t),children:[u.jsx("div",{className:"font-medium truncate",children:r.store}),u.jsxs("div",{className:"text-xs flex items-center gap-1 flex-wrap",children:[u.jsx(lt,{variant:"outline",className:r.status==="completed"?"bg-green-100 text-green-800":r.status==="shopping"?"bg-blue-100 text-blue-800":r.status==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800",children:r.status}),u.jsxs("span",{children:[n," items"]}),i>0&&u.jsxs("span",{className:"text-amber-600",children:["(",i," pending)"]})]})]})},CFe=t=>{if(typeof t!="string"||!t.includes(":"))return 12*60;const[e,r]=t.split(":").map(Number);return(e||0)*60+(r||0)};function TFe({isOpen:t,onClose:e}){const{trips:r,addTrip:n,updateTrip:i}=yo(),{user:a}=xr(),[o,s]=_.useState("month"),[l,c]=_.useState(new Date),[d,f]=_.useState(null),[h,p]=_.useState(!1),[m,g]=_.useState({name:"",quantity:"1",notes:""}),v=_.useCallback(T=>{c(T)},[]),y=_.useCallback(T=>{s(T)},[]),x=_.useCallback(T=>{f(T.resource)},[]),w=_.useCallback(()=>{if(!d||!m.name)return;const T={...d,items:[...d.items,{id:Date.now().toString(),name:m.name,quantity:parseInt(m.quantity)||1,notes:m.notes,checked:!1,addedBy:{name:(a==null?void 0:a.name)||"User",id:"current-user",avatar:(a==null?void 0:a.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((a==null?void 0:a.name)||"User")}&background=random`},addedAt:new Date().toISOString()}]};i(d.id,T),f(T),g({name:"",quantity:"1",notes:""}),p(!1),oX({title:"Item Added",description:`${m.name} has been added to your trip.`,variant:"default"})},[d,m,i,a]),S=r.map(T=>{const A=Hf(T.date),C=CFe(T.time);A.setHours(Math.floor(C/60)),A.setMinutes(C%60);let N=1;return T.eta&&(T.eta.includes("min")?N=parseInt(T.eta)/60:T.eta.includes("hour")&&(N=parseFloat(T.eta))),{id:T.id,title:`Shopping at ${T.store}`,start:A,end:v0e(A,N),resource:T,allDay:!1}}),E=({onNavigate:T,onView:A,date:C,view:N})=>u.jsxs("div",{className:"flex justify-between items-center mb-4 p-2",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx(q,{variant:"outline",size:"sm",onClick:()=>T("PREV"),children:u.jsx(b2,{className:"h-4 w-4"})}),u.jsx(q,{variant:"outline",size:"sm",onClick:()=>T("TODAY"),children:"Today"}),u.jsx(q,{variant:"outline",size:"sm",onClick:()=>T("NEXT"),children:u.jsx(p0,{className:"h-4 w-4"})})]}),u.jsx("h2",{className:"text-lg font-semibold",children:er(C,"MMMM yyyy")}),u.jsx("div",{className:"flex gap-2",children:["month","week","day"].map(I=>u.jsx(q,{variant:N===I?"default":"outline",size:"sm",onClick:()=>A(I),children:I.charAt(0).toUpperCase()+I.slice(1)},I))})]});return u.jsxs(cr,{open:t,onOpenChange:e,children:[u.jsxs(rr,{className:"max-w-4xl h-[80vh]",children:[u.jsx(nr,{children:u.jsx(ir,{children:"Shopping Trip Calendar"})}),u.jsx("div",{className:"flex-1 mt-4",children:u.jsx(X9e,{localizer:EFe,events:S,startAccessor:"start",endAccessor:"end",style:{height:"calc(80vh - 100px)"},views:{month:!0,week:!0,day:!0},view:o,date:l,onNavigate:v,onView:y,components:{event:T=>u.jsx(AFe,{...T,onClick:x}),toolbar:E},eventPropGetter:T=>{const A=T.resource;let C="#60A5FA";switch(A.status){case"completed":C="#34D399";break;case"shopping":C="#60A5FA";break;case"cancelled":C="#F87171";break;default:C="#9CA3AF"}return{style:{backgroundColor:C,border:"none",borderRadius:"4px"}}}})})]}),u.jsx(nFe,{open:d!==null,onOpenChange:()=>f(null),children:u.jsxs(oZ,{className:"w-[400px] sm:w-[540px]",children:[u.jsxs(sZ,{children:[u.jsxs(lZ,{className:"flex items-center justify-between",children:[u.jsx("span",{children:d==null?void 0:d.store}),u.jsx(q,{variant:"ghost",size:"icon",onClick:()=>f(null),children:u.jsx(ra,{className:"h-4 w-4"})})]}),u.jsx(cZ,{children:u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx(qf,{className:"h-4 w-4"}),d&&er(Hf(d.date),"PPP")," at ",d==null?void 0:d.time]})})]}),u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-sm font-medium",children:"Items"}),u.jsxs(q,{variant:"outline",size:"sm",onClick:()=>p(!0),children:[u.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),h?u.jsxs("div",{className:"space-y-4 mb-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"itemName",children:"Item Name"}),u.jsx(De,{id:"itemName",value:m.name,onChange:T=>g(A=>({...A,name:T.target.value})),placeholder:"Enter item name"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"quantity",children:"Quantity"}),u.jsx(De,{id:"quantity",type:"number",min:"1",value:m.quantity,onChange:T=>g(A=>({...A,quantity:T.target.value}))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"notes",children:"Notes (optional)"}),u.jsx(De,{id:"notes",value:m.notes,onChange:T=>g(A=>({...A,notes:T.target.value})),placeholder:"Add any notes"})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(q,{variant:"outline",onClick:()=>{p(!1),g({name:"",quantity:"1",notes:""})},children:"Cancel"}),u.jsx(q,{onClick:w,children:"Add Item"})]})]}):u.jsx(SZ,{className:"h-[300px] pr-4",children:d==null?void 0:d.items.map((T,A)=>u.jsxs("div",{className:"flex items-center justify-between py-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:T.checked,onChange:()=>{if(!d)return;const C=[...d.items];C[A]={...T,checked:!T.checked};const N={...d,items:C};i(d.id,N),f(N)},className:"rounded border-gray-300"}),u.jsx("span",{className:T.checked?"line-through text-gray-500":"",children:T.name})]}),u.jsx("span",{className:"text-sm text-gray-500",children:T.quantity>1?`×${T.quantity}`:""})]},T.id))}),u.jsx(TZ,{className:"my-4"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Status"}),u.jsx(lt,{variant:"outline",className:(d==null?void 0:d.status)==="completed"?"bg-green-100 text-green-800":(d==null?void 0:d.status)==="shopping"?"bg-blue-100 text-blue-800":(d==null?void 0:d.status)==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800",children:d==null?void 0:d.status})]}),(d==null?void 0:d.eta)&&u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Duration"}),u.jsx("span",{children:d.eta})]}),(d==null?void 0:d.budget)&&u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Budget"}),u.jsxs("span",{children:["$",d.budget]})]})]})]})]})})]})}function NFe({isOpen:t,onClose:e,currentBudget:r,onSave:n}){const[i,a]=_.useState(r),{toast:o}=Mc(),s=()=>{if(i<0){o({title:"Invalid Budget",description:"Budget cannot be negative.",variant:"destructive"});return}n(i),e(),o({title:"Budget Updated",description:"Your monthly budget has been updated successfully."})};return u.jsx(cr,{open:t,onOpenChange:e,children:u.jsxs(rr,{className:"sm:max-w-[425px]",children:[u.jsxs(nr,{children:[u.jsx(ir,{children:"Adjust Monthly Budget"}),u.jsx(xi,{children:"Set your monthly shopping budget. This helps you track and manage your spending."})]}),u.jsx("div",{className:"grid gap-4 py-4",children:u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(oe,{htmlFor:"budget",className:"text-right",children:"Budget"}),u.jsxs("div",{className:"col-span-3 relative",children:[u.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:"$"}),u.jsx(De,{id:"budget",type:"number",value:i,onChange:l=>a(Number(l.target.value)),className:"pl-7",min:"0",step:"0.01"})]})]})}),u.jsxs(Jn,{children:[u.jsx(q,{variant:"outline",onClick:e,children:"Cancel"}),u.jsx(q,{onClick:s,children:"Save Changes"})]})]})})}const XE=new Set;function NZ(t){return new Promise((e,r)=>{if(XE.has(t)){e();return}if(document.querySelector(`script[src="${t}"]`)){XE.add(t),e();return}const i=document.createElement("script");i.src=t,i.async=!0,i.defer=!0,i.onload=()=>{XE.add(t),e()},i.onerror=a=>{console.error("Failed to load script:",t,a),r(new Error(`Failed to load script: ${t}`))},document.head.appendChild(i)})}const uN="AIzaSyCC9n6z-koJp5qiyOOPRRag3qudrcfOeK8",QE=new Set;let yL=!1;async function IFe(t){if(window.google&&window.google.maps&&yL&&(a=>{switch(a){case"places":return!!window.google.maps.places;case"geometry":return!!window.google.maps.geometry;case"core":return!!window.google.maps.DirectionsService;default:return!1}})(t)){QE.add(t);return}const e=new Set([...QE,t]),r=Array.from(e).filter(i=>i!=="core"),n=r.length>0?r.join(","):"";try{const i=n?`https://maps.googleapis.com/maps/api/js?key=${uN}&libraries=${n}`:`https://maps.googleapis.com/maps/api/js?key=${uN}`;await NZ(i),await new Promise((a,o)=>{let s=0;const l=100,c=()=>{if(s++,window.google&&window.google.maps&&(f=>{switch(f){case"places":return!!window.google.maps.places;case"geometry":return!!window.google.maps.geometry;case"core":return!!window.google.maps.DirectionsService;default:return!0}})(t)){yL=!0,e.forEach(f=>QE.add(f)),console.log(`Google Maps API loaded successfully with ${t} library`),a();return}if(s>=l){o(new Error("Google Maps API failed to load within 10 seconds"));return}setTimeout(c,100)};c()})}catch(i){throw console.error("Failed to load Google Maps API:",i),i}}const PFe=()=>IFe("places"),OFe=async()=>{if(console.log("Loading Google Maps API..."),window.google&&window.google.maps&&window.google.maps.DirectionsService){console.log("Google Maps API already loaded");return}try{const t=`https://maps.googleapis.com/maps/api/js?key=${uN}`;console.log("Loading Google Maps script..."),await NZ(t),console.log("Script loaded, waiting for Google Maps to initialize..."),await new Promise((e,r)=>{let n=0;const i=100,a=()=>{if(n++,window.google&&window.google.maps&&window.google.maps.DirectionsService){console.log("Google Maps API loaded successfully"),e();return}if(n>=i){console.error("Google Maps API failed to load within 10 seconds"),r(new Error("Google Maps API failed to load within 10 seconds. This usually indicates an invalid API key or billing issue."));return}setTimeout(a,100)};a()})}catch(t){throw console.error("Failed to load Google Maps API:",t),new Error("Failed to load Google Maps API. Please check your API key and billing settings.")}};function jFe({open:t,onOpenChange:e}){const[r,n]=_.useState(""),[i,a]=_.useState(),[o,s]=_.useState(""),[l,c]=_.useState(""),[d,f]=_.useState(""),[h,p]=_.useState(""),[m,g]=_.useState(null),[v,y]=_.useState(!1),[x,w]=_.useState([]),[S,E]=_.useState(!1),[T,A]=_.useState(),C=_.useRef(null),N=_.useRef(),{addTrip:I}=yo(),{user:P,isAdmin:k}=xr();_.useEffect(()=>(t&&PFe().catch($=>{console.error("Failed to initialize Google Maps:",$)}),()=>{N.current&&clearTimeout(N.current)}),[t]);const O=$=>{var B,G;if(n($),g(null),E(!0),!T&&((G=(B=window.google)==null?void 0:B.maps)!=null&&G.places)&&A(new google.maps.places.AutocompleteSessionToken),N.current&&clearTimeout(N.current),!$.trim()){w([]);return}N.current=setTimeout(async()=>{var X,Y;if(!((Y=(X=window.google)==null?void 0:X.maps)!=null&&Y.places)){w([]);return}try{const ee={input:$,includedPrimaryTypes:["establishment"],sessionToken:T},{suggestions:ce}=await google.maps.places.AutocompleteSuggestion.fetchAutocompleteSuggestions(ee);w(ce)}catch(ee){console.error("Error fetching autocomplete suggestions:",ee),w([])}},300)},L=async $=>{var B;if($.placePrediction){n($.placePrediction.text.text),E(!1),(B=C.current)==null||B.blur();try{const G=new google.maps.places.Place({id:$.placePrediction.placeId});await G.fetchFields({fields:["location","formattedAddress","displayName"]}),G.location&&(g({lat:G.location.lat(),lng:G.location.lng()}),n(G.displayName||$.placePrediction.text.text))}catch(G){console.error("Error fetching place details:",G),console.error("Could not fetch place details.")}finally{A(void 0)}}},z=()=>{n(""),a(void 0),s(""),c(""),f(""),p(""),g(null),y(!1),w([]),E(!1),A(void 0)},M=$=>{$||z(),e($)},W=async $=>{$.preventDefault();const B=[];if(r.trim()||B.push("Store Location"),i||B.push("Date"),o||B.push("Time"),B.length>0){console.error(`Missing required fields: ${B.join(", ")}`);return}y(!0);try{let G,X;G=[{id:(P==null?void 0:P.id)||"1",name:(P==null?void 0:P.name)||"User",avatar:(P==null?void 0:P.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((P==null?void 0:P.name)||"User")}&background=random`}],X={name:(P==null?void 0:P.name)||"User",avatar:(P==null?void 0:P.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((P==null?void 0:P.name)||"User")}&background=random`};const Y={store:r,date:i.toISOString(),time:o,notes:h,budget:d?parseFloat(d):void 0,eta:l,location:"",coordinates:m||{lat:0,lng:0},participants:G,shopper:X,items:[]};I(Y),console.log("Trip created successfully"),M(!1)}catch(G){console.error("Failed to create trip:",G),console.error("Failed to create trip. Please try again.")}finally{y(!1)}};return u.jsx(cr,{open:t,onOpenChange:M,children:u.jsxs(rr,{className:"sm:max-w-[425px]",children:[u.jsxs(nr,{children:[u.jsx(ir,{children:"Add New Shopping Trip"}),u.jsx(xi,{children:"Fill in the details below to add a new shopping trip. Search for a store to get started."})]}),u.jsxs("form",{onSubmit:W,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"store",children:"Store Location*"}),u.jsxs("div",{className:"relative",children:[u.jsx(De,{id:"store",ref:C,value:r,onChange:$=>O($.target.value),onFocus:()=>E(!0),onBlur:()=>setTimeout(()=>E(!1),200),placeholder:"Search for a store",className:`pr-8 ${r.trim()?"":"border-red-300 dark:border-red-600"}`,autoComplete:"off"}),r&&u.jsx("button",{type:"button",onClick:()=>{var $;n(""),g(null),w([]),($=C.current)==null||$.focus()},className:"absolute right-8 top-1/2 -translate-y-1/2",children:u.jsx(ra,{className:"h-4 w-4 text-gray-500 hover:text-gray-700"})}),u.jsx(Bi,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),S&&x.length>0&&u.jsx("div",{className:"absolute z-10 w-full mt-1 bg-background border rounded-md shadow-lg",children:u.jsx("ul",{className:"py-1",children:x.map($=>{if(!$.placePrediction)return null;const[B,...G]=$.placePrediction.text.text.split(","),X=G.join(",").trim();return u.jsx("li",{onMouseDown:()=>L($),className:"px-3 py-2 text-sm cursor-pointer hover:bg-accent",children:u.jsxs("div",{className:"flex items-start",children:[u.jsx(Bi,{className:"h-4 w-4 mt-0.5 mr-2 flex-shrink-0"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold",children:B}),u.jsx("p",{className:"text-xs text-muted-foreground",children:X})]})]})},$.placePrediction.placeId)})})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{children:"Date*"}),u.jsxs(Yg,{children:[u.jsx(Xg,{asChild:!0,children:u.jsxs(q,{variant:"outline",className:Pe("w-full justify-start text-left font-normal",!i&&"text-muted-foreground border-red-300 dark:border-red-600"),children:[u.jsx(Vu,{className:"mr-2 h-4 w-4"}),i?er(i,"PPP"):"Select a date"]})}),u.jsx(eh,{className:"w-auto p-0",align:"start",children:u.jsx(z2,{mode:"single",selected:i,onSelect:a,initialFocus:!0,disabled:$=>$<new Date(new Date().setHours(0,0,0,0)),className:"rounded-md border"})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{children:"Time*"}),u.jsxs(Rt,{value:o,onValueChange:s,children:[u.jsx(Nt,{className:o?"":"border-red-300 dark:border-red-600",children:u.jsx(Dt,{placeholder:"Select a time"})}),u.jsx(It,{children:Array.from({length:24}).flatMap(($,B)=>{const G=B,X=G===0?12:G>12?G-12:G,Y=G<12?"AM":"PM",ee=G.toString().padStart(2,"0");return[u.jsx(we,{value:`${ee}:00`,children:`${X}:00 ${Y}`},`${G}:00`),u.jsx(we,{value:`${ee}:30`,children:`${X}:30 ${Y}`},`${G}:30`)]})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{children:"Estimated Duration"}),u.jsxs(Rt,{value:l,onValueChange:c,children:[u.jsx(Nt,{children:u.jsx(Dt,{placeholder:"Select duration"})}),u.jsxs(It,{children:[u.jsx(we,{value:"15 min",children:"15 minutes"}),u.jsx(we,{value:"30 min",children:"30 minutes"}),u.jsx(we,{value:"45 min",children:"45 minutes"}),u.jsx(we,{value:"1 hour",children:"1 hour"}),u.jsx(we,{value:"1.5 hours",children:"1.5 hours"}),u.jsx(we,{value:"2 hours",children:"2 hours"}),u.jsx(we,{value:"2.5 hours",children:"2.5 hours"}),u.jsx(we,{value:"3 hours",children:"3 hours"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"budget",children:"Budget"}),u.jsx(De,{id:"budget",type:"number",value:d,onChange:$=>f($.target.value),placeholder:"Enter budget amount",min:"0",step:"0.01"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"notes",children:"Notes"}),u.jsx(De,{id:"notes",value:h,onChange:$=>p($.target.value),placeholder:"Add any notes about this trip"})]}),u.jsxs(Jn,{children:[u.jsx(q,{type:"button",variant:"outline",onClick:()=>M(!1),disabled:v,children:"Cancel"}),u.jsx(q,{type:"submit",disabled:v,children:v?"Creating...":"Create Trip"})]})]})]})})}var Gk="Checkbox",[kFe,vst]=bo(Gk),[RFe,DFe]=kFe(Gk),IZ=_.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:l="on",onCheckedChange:c,form:d,...f}=t,[h,p]=_.useState(null),m=Ze(e,S=>p(S)),g=_.useRef(!1),v=h?d||!!h.closest("form"):!0,[y=!1,x]=Us({prop:i,defaultProp:a,onChange:c}),w=_.useRef(y);return _.useEffect(()=>{const S=h==null?void 0:h.form;if(S){const E=()=>x(w.current);return S.addEventListener("reset",E),()=>S.removeEventListener("reset",E)}},[h,x]),u.jsxs(RFe,{scope:r,state:y,disabled:s,children:[u.jsx(Me.button,{type:"button",role:"checkbox","aria-checked":ec(y)?"mixed":y,"aria-required":o,"data-state":jZ(y),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:m,onKeyDown:Te(t.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:Te(t.onClick,S=>{x(E=>ec(E)?!0:!E),v&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})}),v&&u.jsx(MFe,{control:h,bubbles:!g.current,name:n,value:l,checked:y,required:o,disabled:s,form:d,style:{transform:"translateX(-100%)"},defaultChecked:ec(a)?!1:a})]})});IZ.displayName=Gk;var PZ="CheckboxIndicator",OZ=_.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,a=DFe(PZ,r);return u.jsx(Rn,{present:n||ec(a.state)||a.state===!0,children:u.jsx(Me.span,{"data-state":jZ(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});OZ.displayName=PZ;var MFe=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:i,...a}=t,o=_.useRef(null),s=Zj(r),l=YP(e);_.useEffect(()=>{const d=o.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(s!==r&&p){const m=new Event("click",{bubbles:n});d.indeterminate=ec(r),p.call(d,ec(r)?!1:r),d.dispatchEvent(m)}},[s,r,n]);const c=_.useRef(ec(r)?!1:r);return u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??c.current,...a,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ec(t){return t==="indeterminate"}function jZ(t){return ec(t)?"indeterminate":t?"checked":"unchecked"}var kZ=IZ,LFe=OZ;const Ec=_.forwardRef(({className:t,...e},r)=>u.jsx(kZ,{ref:r,className:Pe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:u.jsx(LFe,{className:Pe("flex items-center justify-center text-current"),children:u.jsx(ki,{className:"h-4 w-4"})})}));Ec.displayName=kZ.displayName;const ch=_.forwardRef(({className:t,...e},r)=>u.jsx("textarea",{className:Pe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));ch.displayName="Textarea";const $Fe=g0("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),RZ=_.forwardRef(({className:t,variant:e,...r},n)=>u.jsx("div",{ref:n,role:"alert",className:Pe($Fe({variant:e}),t),...r}));RZ.displayName="Alert";const FFe=_.forwardRef(({className:t,...e},r)=>u.jsx("h5",{ref:r,className:Pe("mb-1 font-medium leading-none tracking-tight",t),...e}));FFe.displayName="AlertTitle";const DZ=_.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Pe("text-sm [&_p]:leading-relaxed",t),...e}));DZ.displayName="AlertDescription";const BFe=({isOpen:t,onClose:e,onAddItems:r})=>{const{toast:n}=Mc(),[i,a]=_.useState(""),[o,s]=_.useState([]),[l,c]=_.useState(!1),[d,f]=_.useState(!1),[h,p]=_.useState(!1),[m,g]=_.useState("input"),{user:v}=xr(),y=`#taska
You are helping me create a structured grocery list from a block of unstructured text.

Here's how it works:
1. I will paste a recipe, list of meals, event plan, or raw text containing food or product needs.
2. You will:
  - Parse what items I might need.
  - Extract quantities if mentioned.
  - Infer appropriate items from context.

Output Format Instructions (CRITICAL):
- Respond ONLY with the formatted grocery list - no introduction, explanation, or additional text.
- Use EXACTLY this format:

🛒 Grocery List
- [Item name] ([quantity] [unit])
- [Item name]
- ...

Example of a correct response:
🛒 Grocery List
- Milk (1 gallon)
- Eggs (12)
- Bread (1 loaf)

Make sure the list is:
- In plain, copy-friendly text
- Organized and clean (no duplicates)
- Ready for direct copy/paste into the app

Now, here is the text I want to base my grocery list on:

${i}`,x=()=>{navigator.clipboard.writeText(y),f(!0),n({title:"Prompt copied to clipboard",description:"Now paste it into ChatGPT to generate your list"}),setTimeout(()=>f(!1),2e3)},w=A=>{try{console.log("Parsing input:",A);const C=A.split(`
`);console.log(`Processing ${C.length} lines`);const N=[];for(const I of C){const P=I.trim();if(!P){console.log("Skipping empty line");continue}console.log("Processing line:",P);const k=P.includes("🛒 Grocery List"),O=P.startsWith("-");if(k){console.log("Skipping header line:",P);continue}let L=P;O&&(L=P.substring(1).trim(),console.log("Removed bullet point, processing:",L));let z=!1;const M=L.match(/^(.*?)\s*\(([^)]+)\)$/);if(M){z=!0,console.log("Found structured format match:",M);const W=M[1].trim(),$=M[2].trim(),B=$.match(/^(\d+(?:\.\d+)?)/);let G=1,X="";B?(G=parseFloat(B[1]),X=$.substring(B[0].length).trim(),console.log(`Extracted quantity: ${G}, unit: ${X}`)):(X=$,console.log(`No numeric quantity found, using as unit: ${X}`));const Y={name:W,quantity:G,unit:X,checked:!1,addedBy:{name:(v==null?void 0:v.name)||"User",avatar:(v==null?void 0:v.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((v==null?void 0:v.name)||"User")}&background=random`},isRecurring:!1,recurrenceFrequency:null};console.log("Adding structured item:",Y),N.push(Y)}if(!z){const W=L.match(/^(.*?)\s+(\d+(?:\.\d+)?)(?:\s+(\w+))?$/);if(W){z=!0,console.log("Found simple format match:",W);const $=W[1].trim(),B=parseFloat(W[2]),G=W[3]?W[3].trim():"",X={name:$,quantity:B,unit:G,checked:!1,addedBy:{name:(v==null?void 0:v.name)||"User",avatar:(v==null?void 0:v.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((v==null?void 0:v.name)||"User")}&background=random`},isRecurring:!1,recurrenceFrequency:null};console.log("Adding simple format item:",X),N.push(X)}}if(!z){const W=L.match(/^(.*?)\s+-\s+(\d+(?:\.\d+)?)(?:\s+(\w+))?$/);if(W){z=!0,console.log("Found dash format match:",W);const $=W[1].trim(),B=parseFloat(W[2]),G=W[3]?W[3].trim():"",X={name:$,quantity:B,unit:G,checked:!1,addedBy:{name:(v==null?void 0:v.name)||"User",avatar:(v==null?void 0:v.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((v==null?void 0:v.name)||"User")}&background=random`},isRecurring:!1,recurrenceFrequency:null};console.log("Adding dash format item:",X),N.push(X)}}if(!z){console.log("No format match, treating as plain item:",L);const W={name:L,quantity:1,unit:"",checked:!1,addedBy:{name:(v==null?void 0:v.name)||"User",avatar:(v==null?void 0:v.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((v==null?void 0:v.name)||"User")}&background=random`},isRecurring:!1,recurrenceFrequency:null};console.log("Adding plain item:",W),N.push(W)}}return console.log("Final parsed items:",N),N}catch(C){return console.error("Error parsing output:",C),[]}},S=()=>{if(!i.trim()){n({title:"Empty input",description:"Please paste the AI-generated grocery list",variant:"destructive"});return}c(!0);const A=w(i);setTimeout(()=>{s(A),c(!1),g("output"),A.length===0&&n({title:"Parsing failed",description:"Could not identify any items in the format. Please make sure it follows the proper format.",variant:"destructive"})},1e3)},E=()=>{if(o.length===0){n({title:"No items",description:"No items to add to your trip",variant:"destructive"});return}r(o),n({title:"Items added",description:`${o.length} items added to your trip`}),a(""),s([]),g("input"),e()},T=()=>{g("input"),a(""),s([])};return u.jsx(cr,{open:t,onOpenChange:e,children:u.jsxs(rr,{className:"sm:max-w-md md:max-w-lg max-h-[80vh] overflow-y-auto",children:[u.jsxs(nr,{children:[u.jsxs(ir,{className:"flex items-center gap-2 bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-green-500",children:[u.jsx(G1e,{className:"h-5 w-5 text-blue-500"}),"Smart List Parser"]}),u.jsx(xi,{children:"Turn unstructured text into an organized grocery list using AI."})]}),u.jsxs("div",{className:"pt-4 space-y-4",children:[m==="input"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs(oe,{className:"flex items-center",children:[u.jsx($1e,{className:"h-4 w-4 mr-2 text-blue-500"}),"Step 1: Copy this prompt to ChatGPT"]}),u.jsxs("div",{className:"relative bg-gray-100 dark:bg-gray-800 rounded-md p-3 mt-1 text-sm text-gray-700 dark:text-gray-300",children:[u.jsx("div",{className:"absolute top-2 right-2",children:u.jsx(q,{variant:"ghost",size:"icon",onClick:x,className:"h-6 w-6",children:d?u.jsx(ki,{className:"h-3 w-3"}):u.jsx(C1e,{className:"h-3 w-3"})})}),u.jsx("div",{className:"pr-6 max-h-32 overflow-y-auto font-mono",children:u.jsx("pre",{className:"whitespace-pre-wrap",children:y})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(oe,{htmlFor:"output",className:"flex items-center",children:[u.jsx(A1e,{className:"h-4 w-4 mr-2 text-blue-500"}),"Step 2: Paste AI-generated grocery list here or type items directly (e.g., milk 1 gallon, bread - 2 loaves)"]}),u.jsx(ch,{id:"output",value:i,onChange:A=>a(A.target.value),placeholder:"Paste list here or type items directly (e.g., milk 1 gallon, bread - 2 loaves)",className:"min-h-[150px]"})]}),u.jsxs(RZ,{className:"bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 border-blue-200 dark:border-blue-900",children:[u.jsx(RH,{className:"h-4 w-4"}),u.jsx(DZ,{children:'Use ChatGPT to convert recipes, meal plans, or any food-related text into a structured grocery list, then paste it here. Or simply type items directly, one per line, like "milk 1 gallon" or "bread - 2 loaves" to add with quantities.'})]}),u.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[u.jsx(q,{variant:"outline",onClick:e,children:"Cancel"}),u.jsxs(q,{onClick:S,className:"bg-gradient-to-r from-blue-500 to-green-500 text-white hover:from-blue-600 hover:to-green-600",children:[u.jsx(R1e,{className:"h-4 w-4 mr-2"}),"Process List"]})]})]}),m==="output"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs(oe,{className:"flex items-center",children:[u.jsx(lr,{className:"h-4 w-4 mr-2 text-blue-500"}),"Parsed Items (",o.length,")"]}),u.jsxs(lt,{variant:"outline",className:"font-normal",children:[o.length," items"]})]}),u.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-md p-4 max-h-[300px] overflow-y-auto",children:o.length>0?u.jsx("ul",{className:"space-y-2",children:o.map((A,C)=>u.jsxs(Tn.li,{className:"flex justify-between items-center p-2 bg-white dark:bg-gray-700 rounded-md border border-gray-200 dark:border-gray-600",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:C*.05},children:[u.jsx("span",{children:A.name}),u.jsxs(lt,{variant:"secondary",className:"text-xs",children:[A.quantity," ",A.unit]})]},C))}):u.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No items could be parsed from the input"})})]}),u.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[u.jsx(q,{variant:"outline",onClick:T,children:"Back"}),u.jsxs(q,{onClick:E,disabled:o.length===0,className:"bg-gradient-to-r from-blue-500 to-green-500 text-white hover:from-blue-600 hover:to-green-600",children:[u.jsx(lr,{className:"h-4 w-4 mr-2"}),"Add to Trip"]})]})]})]})]})})},ZE=[{barcode:"0123456789012",name:"Organic Milk",defaultPrice:3.99,defaultCategory:"Dairy",unit:"gal"},{barcode:"5901234123457",name:"Whole Wheat Bread",defaultPrice:2.49,defaultCategory:"Bakery",unit:"ea"},{barcode:"9780201379624",name:"Organic Bananas",defaultPrice:1.99,defaultCategory:"Produce",unit:"lb"},{barcode:"4006381333931",name:"Extra Virgin Olive Oil",defaultPrice:8.99,defaultCategory:"Oils & Vinegars",unit:"floz"},{barcode:"8410154011417",name:"Cereal",defaultPrice:4.29,defaultCategory:"Breakfast",unit:"box"},{barcode:"3800020430781",name:"Pasta Sauce",defaultPrice:3.49,defaultCategory:"Canned Goods",unit:"can"},{barcode:"7622210100221",name:"Chocolate Bar",defaultPrice:2.25,defaultCategory:"Snacks",unit:"ea"},{barcode:"5449000000996",name:"Coca-Cola",defaultPrice:1.79,defaultCategory:"Beverages",unit:"bottle"},{barcode:"8000500310427",name:"Nutella",defaultPrice:4.99,defaultCategory:"Spreads",unit:"jar"}],UFe=t=>{const e=ZE.findIndex(r=>r.barcode===t.barcode);e>=0?ZE[e]=t:ZE.push(t),console.log("Product saved:",t)},v_=[{id:"g",name:"Gram",abbreviation:"g",type:"weight",system:"metric",conversionFactor:1,commonItems:["spices","flour","sugar"]},{id:"kg",name:"Kilogram",abbreviation:"kg",type:"weight",system:"metric",conversionFactor:1e3,commonItems:["potatoes","rice","onions"]},{id:"oz",name:"Ounce",abbreviation:"oz",type:"weight",system:"imperial",conversionFactor:28.35,commonItems:["meat","cheese"]},{id:"lb",name:"Pound",abbreviation:"lb",type:"weight",system:"imperial",conversionFactor:453.59,commonItems:["meat","fruits","vegetables"]},{id:"ml",name:"Milliliter",abbreviation:"ml",type:"volume",system:"metric",conversionFactor:1,commonItems:["sauce","oil"]},{id:"l",name:"Liter",abbreviation:"L",type:"volume",system:"metric",conversionFactor:1e3,commonItems:["milk","juice","water"]},{id:"floz",name:"Fluid Ounce",abbreviation:"fl oz",type:"volume",system:"imperial",conversionFactor:29.57,commonItems:["beverages"]},{id:"cup",name:"Cup",abbreviation:"cup",type:"volume",system:"imperial",conversionFactor:236.59,commonItems:["flour","sugar","rice"]},{id:"pt",name:"Pint",abbreviation:"pt",type:"volume",system:"imperial",conversionFactor:473.18,commonItems:["berries","ice cream"]},{id:"qt",name:"Quart",abbreviation:"qt",type:"volume",system:"imperial",conversionFactor:946.35,commonItems:["milk"]},{id:"gal",name:"Gallon",abbreviation:"gal",type:"volume",system:"imperial",conversionFactor:3785.41,commonItems:["milk","water"]},{id:"ea",name:"Each",abbreviation:"ea",type:"quantity",system:"universal",conversionFactor:1,commonItems:["eggs","fruit","canned goods"]},{id:"pc",name:"Piece",abbreviation:"pc",type:"quantity",system:"universal",conversionFactor:1,commonItems:["fruit","bread","cheese"]},{id:"dz",name:"Dozen",abbreviation:"dz",type:"quantity",system:"universal",conversionFactor:12,commonItems:["eggs","pastries","donuts"]},{id:"pack",name:"Package",abbreviation:"pack",type:"package",system:"universal",conversionFactor:1,commonItems:["pasta","bacon","cheese","snacks"]},{id:"box",name:"Box",abbreviation:"box",type:"package",system:"universal",conversionFactor:1,commonItems:["cereal","crackers"]},{id:"can",name:"Can",abbreviation:"can",type:"package",system:"universal",conversionFactor:1,commonItems:["soup","beans","tomatoes","soda"]},{id:"bottle",name:"Bottle",abbreviation:"btl",type:"package",system:"universal",conversionFactor:1,commonItems:["soda","wine","oils","water","juice"]},{id:"bunch",name:"Bunch",abbreviation:"bunch",type:"quantity",system:"universal",conversionFactor:1,commonItems:["bananas","grapes","carrots","herbs"]},{id:"jar",name:"Jar",abbreviation:"jar",type:"package",system:"universal",conversionFactor:1,commonItems:["sauces","pickles","jam","peanut butter"]}],gs=v_.reduce((t,e)=>({...t,[e.id]:e}),{}),VFe=(t,e,r)=>{const n=gs[e],i=gs[r];return!n||!i||n.type!==i.type?null:t*n.conversionFactor/i.conversionFactor},xL=t=>v_.filter(e=>e.type===t),MZ=t=>{const e=t.toLowerCase().trim();return v_.filter(r=>{var n;return(n=r.commonItems)==null?void 0:n.some(i=>e.includes(i)||i.includes(e))})},Iw=t=>{const e=MZ(t);if(e.length===0)return gs.ea;const r=["quantity","weight","volume","package"];for(const n of r){const i=e.find(a=>a.type===n);if(i)return i}return e[0]};function zFe(t){return"value"in t&&"onChange"in t}const WFe=t=>{if(zFe(t)){const{value:x,onChange:w,className:S=""}=t;return u.jsx("div",{className:S,children:u.jsxs(Rt,{value:x,onValueChange:w,children:[u.jsx(Nt,{children:u.jsx(Dt,{placeholder:"Select unit"})}),u.jsx(It,{children:v_.map(E=>u.jsxs(we,{value:E.id,children:[E.name," (",E.abbreviation,")"]},E.id))})]})})}const{itemName:e,quantity:r,unit:n,onQuantityChange:i,onUnitChange:a,className:o="",showConversion:s=!1,compact:l=!1}=t,[c,d]=_.useState(n?gs[n]:Iw(e)),[f,h]=_.useState([]),[p,m]=_.useState((c==null?void 0:c.type)||"quantity");_.useEffect(()=>{const x=MZ(e);if(x.length>0){if(h(x),!n&&!x.some(w=>w.id===(c==null?void 0:c.id))){const w=Iw(e);d(w),m(w.type),a(w.id)}}else h(xL("quantity"))},[e]),_.useEffect(()=>{n&&gs[n]&&(d(gs[n]),m(gs[n].type))},[n]);const g=x=>{m(x);const w=xL(x);if(h(w),w.length>0){const S=w[0];d(S),a(S.id)}},v=x=>{if(!x||!gs[x])return;const w=gs[x];if(d(w),a(x),c&&w.type===c.type&&s){const S=VFe(r,c.id,w.id);S!==null&&i(Math.round(S*100)/100)}},y=[{type:"quantity",label:"Qty"},{type:"weight",label:"Weight"},{type:"volume",label:"Volume"},{type:"package",label:"Package"}];return l?u.jsx("div",{className:o,children:u.jsxs(Yg,{children:[u.jsx(Xg,{asChild:!0,children:u.jsxs(q,{variant:"outline",size:"sm",className:"h-10 px-2 flex items-center justify-between rounded-l-none border-l-0","aria-label":`Current unit: ${(c==null?void 0:c.abbreviation)||"each"}`,"aria-haspopup":"true",children:[u.jsx("span",{children:(c==null?void 0:c.abbreviation)||"ea"}),u.jsx(tw,{className:"h-3.5 w-3.5 ml-1 opacity-50"})]})}),u.jsx(eh,{className:"w-[240px] p-2",children:u.jsxs("div",{className:"flex flex-col space-y-2",children:[u.jsx(oe,{htmlFor:"unit-type",className:"text-xs pl-1",children:"Measurement Type"}),u.jsx("div",{className:"grid grid-cols-4 gap-1",children:y.map(x=>u.jsx(q,{variant:p===x.type?"default":"outline",size:"sm",className:"h-8 text-xs",onClick:()=>g(x.type),"aria-label":`Select ${x.label} measurement type`,"aria-pressed":p===x.type,children:x.label},x.type))}),u.jsx(oe,{htmlFor:"unit",className:"text-xs mt-2 pl-1",children:"Unit"}),u.jsx("div",{className:"grid grid-cols-3 gap-1",children:f.filter(x=>x.type===p).map(x=>u.jsx(q,{variant:(c==null?void 0:c.id)===x.id?"default":"outline",size:"sm",className:"h-8 text-xs",onClick:()=>v(x.id),"aria-label":`Select ${x.name} (${x.abbreviation})`,"aria-pressed":(c==null?void 0:c.id)===x.id,children:x.abbreviation},x.id))})]})})]})}):u.jsxs("div",{className:`flex items-center space-x-2 ${o}`,children:[u.jsxs(Yg,{children:[u.jsx(Xg,{asChild:!0,children:u.jsxs(q,{variant:"outline",size:"sm",className:"h-9 px-2 flex items-center justify-between",children:[u.jsx("span",{className:"mr-1",children:(c==null?void 0:c.abbreviation)||"ea"}),u.jsx(tw,{className:"h-3.5 w-3.5 opacity-50"})]})}),u.jsx(eh,{className:"w-[240px] p-2",children:u.jsxs("div",{className:"flex flex-col space-y-2",children:[u.jsx(oe,{htmlFor:"unit-type",className:"text-xs pl-1",children:"Measurement Type"}),u.jsx("div",{className:"grid grid-cols-4 gap-1",children:y.map(x=>u.jsx(q,{variant:p===x.type?"default":"outline",size:"sm",className:"h-8 text-xs",onClick:()=>g(x.type),"aria-label":`Select ${x.label} measurement type`,"aria-pressed":p===x.type,children:x.label},x.type))}),u.jsx(oe,{htmlFor:"unit",className:"text-xs mt-2 pl-1",children:"Unit"}),u.jsx("div",{className:"grid grid-cols-3 gap-1",children:f.filter(x=>x.type===p).map(x=>u.jsx(q,{variant:(c==null?void 0:c.id)===x.id?"default":"outline",size:"sm",className:"h-8 text-xs",onClick:()=>v(x.id),"aria-label":`Select ${x.name} (${x.abbreviation})`,"aria-pressed":(c==null?void 0:c.id)===x.id,children:x.abbreviation},x.id))})]})})]}),u.jsx(De,{type:"number",min:"0.01",step:"0.01",value:r,onChange:x=>i(parseFloat(x.target.value)||0),className:"h-9 w-20"})]})},HFe=({barcode:t,isOpen:e,onClose:r,onSave:n})=>{const[i,a]=_.useState(""),[o,s]=_.useState(void 0),[l,c]=_.useState(""),[d,f]=_.useState(1),[h,p]=_.useState("ea"),{toast:m}=Mc(),g=y=>{if(y.trim()){const x=Iw(y);p(x.id)}},v=()=>{if(!i.trim()){m({title:"Product name required",description:"Please enter a name for this product",variant:"destructive"});return}const y={barcode:t,name:i,defaultPrice:o,defaultCategory:l||void 0,unit:h};UFe(y),n(y),a(""),s(void 0),c(""),f(1),p("ea"),r(),m({title:"Product saved",description:`"${i}" has been added to the product database`})};return u.jsx(cr,{open:e,onOpenChange:y=>{y||r()},children:u.jsxs(rr,{className:"sm:max-w-md",children:[u.jsxs(nr,{children:[u.jsxs(ir,{className:"flex items-center gap-2",children:[u.jsx(y1e,{className:"h-5 w-5"}),"Save New Product"]}),u.jsx(xi,{children:"Save this product to your database for future scans."})]}),u.jsxs("div",{className:"grid gap-4 py-2",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(oe,{htmlFor:"barcode",children:"Barcode"}),u.jsx(De,{id:"barcode",value:t,readOnly:!0,className:"bg-muted"})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(oe,{htmlFor:"productName",children:"Product Name*"}),u.jsx(De,{id:"productName",value:i,onChange:y=>{a(y.target.value),g(y.target.value)},placeholder:"Enter product name",autoFocus:!0})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(oe,{htmlFor:"productPrice",children:"Default Price (optional)"}),u.jsx(De,{id:"productPrice",type:"number",step:"0.01",min:"0",value:o===void 0?"":o,onChange:y=>{const x=y.target.value?parseFloat(y.target.value):void 0;s(x)},placeholder:"0.00"})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(oe,{htmlFor:"productCategory",children:"Category (optional)"}),u.jsx(De,{id:"productCategory",value:l,onChange:y=>c(y.target.value),placeholder:"Enter category"})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(oe,{htmlFor:"productUnit",children:"Unit"}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx(WFe,{itemName:i,quantity:d,unit:h,onQuantityChange:f,onUnitChange:p,showConversion:!1}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Suggested based on product name"})]})]})]}),u.jsxs(Jn,{children:[u.jsx(q,{variant:"outline",onClick:r,children:"Cancel"}),u.jsx(q,{onClick:v,children:"Save Product"})]})]})})},GFe=({suggestion:t,isOpen:e,onClose:r,onAddAnyway:n,onMergeItems:i,onUpdate:a})=>{if(!t)return null;const{type:o,newItemName:s,existingItem:l,confidence:c,message:d}=t,f=o==="duplicate",h=()=>{n(),r()},p=()=>{i(l,1),r()},m=()=>{a(l),r()};return u.jsx(cr,{open:e,onOpenChange:r,children:u.jsxs(rr,{className:"sm:max-w-md",children:[u.jsxs(nr,{children:[u.jsxs(ir,{className:"flex items-center gap-2",children:[u.jsx(xo,{className:"h-5 w-5 text-amber-500"}),f?"Duplicate Item":"Similar Item Found"]}),u.jsx(xi,{children:d})]}),u.jsxs("div",{className:"p-4 border rounded-md bg-amber-50 dark:bg-amber-900/20",children:[u.jsxs("div",{className:"mb-2",children:[u.jsx("span",{className:"text-sm font-medium",children:"New item:"})," ",u.jsx("span",{className:"text-sm",children:s})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-sm font-medium",children:"Existing item:"})," ",u.jsx("span",{className:"text-sm",children:l.name}),u.jsxs("div",{className:"flex items-center mt-1 gap-2",children:[u.jsxs(lt,{variant:"outline",className:"text-xs",children:["Qty: ",l.quantity]}),l.price&&u.jsxs(lt,{variant:"outline",className:"text-xs",children:["$",l.price.toFixed(2)]}),!f&&u.jsxs(lt,{variant:"outline",className:`text-xs ${c>85?"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400":c>75?"bg-amber-50 text-amber-700 dark:bg-amber-900/20 dark:text-amber-400":"bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400"}`,children:[c,"% match"]})]})]})]}),u.jsx(Jn,{className:"gap-2 sm:gap-0",children:u.jsxs("div",{className:"flex flex-col gap-2 w-full sm:flex-row sm:justify-end",children:[u.jsx(q,{type:"button",variant:"outline",onClick:h,className:"sm:w-auto w-full",children:"Add Anyway"}),u.jsx(q,{type:"button",variant:"secondary",onClick:p,className:"sm:w-auto w-full",children:"Increase Quantity (+1)"}),!f&&u.jsx(q,{type:"button",variant:"default",onClick:m,className:"sm:w-auto w-full",children:"Update Existing"})]})})]})})},qFe=(t,e)=>{try{const r=`tripSplit_${t}`;localStorage.setItem(r,JSON.stringify(e))}catch(r){console.error("Failed to save split configuration:",r)}},dN=t=>{try{const e=`tripSplit_${t}`,r=localStorage.getItem(e);if(r)return JSON.parse(r)}catch(e){console.error("Failed to load split configuration:",e)}return[]},KFe=(t,e)=>{if(!Array.isArray(e)||e.length===0)return{itemId:t,splitType:"equal",details:[]};const r=e.filter(i=>i&&i.id&&i.name);if(r.length===0)return{itemId:t,splitType:"equal",details:[]};const n=100/r.length;return{itemId:t,splitType:"equal",details:r.map(i=>({userId:i.id,userName:i.name,share:n}))}},JE=(t,e,r,n)=>{const i=t.findIndex(a=>a.itemId===e);if(i>=0){const a=[...t];return a[i]={itemId:e,splitType:r,details:n},a}else return[...t,{itemId:e,splitType:r,details:n}]},YFe=(t,e,r)=>{if(!Array.isArray(r))return[];const n=r.filter(s=>s&&s.id&&s.name);if(n.length===0)return[];const i=dN(t),a=n.map(s=>({userId:s.id,userName:s.name,totalAmount:0,itemCount:0})),o=n.find(s=>s.name==="You");return e.forEach(s=>{if(s.price===void 0)return;const l=i.find(d=>d.itemId===s.id),c=s.price*s.quantity;if(l)if(l.splitType==="equal"){if(l.details.length===0)return;const d=c/l.details.length;l.details.forEach(f=>{const h=a.find(p=>p.userId===f.userId);h&&(h.totalAmount+=d,h.itemCount+=1)})}else l.splitType==="percentage"?l.details.forEach(d=>{const f=a.find(h=>h.userId===d.userId);f&&(f.totalAmount+=c*d.share/100,f.itemCount+=1)}):l.splitType==="person"&&l.details.forEach(d=>{const f=a.find(h=>h.userId===d.userId);f&&(f.totalAmount+=d.share,f.itemCount+=1)});else{const d=c/n.length;n.forEach(f=>{const h=a.find(p=>p.userId===f.id);h&&(h.totalAmount+=d,h.itemCount+=1)})}}),o&&(e.reduce((s,l)=>s+(l.price||0)*l.quantity,0),a.find(s=>s.userId===o.id)),a.forEach(s=>{s.totalAmount=Math.round(s.totalAmount*100)/100}),a};let fN=null;const LZ=()=>fN?`taska_ledger_transactions_${fN}`:"taska_ledger_transactions",XFe=t=>{fN=t},y_=()=>{try{const t=localStorage.getItem(LZ());if(t)return JSON.parse(t)}catch(t){console.error("Failed to load ledger transactions:",t)}return[]},$Z=t=>{try{localStorage.setItem(LZ(),JSON.stringify(t))}catch(e){console.error("Failed to save ledger transactions:",e)}},FZ=t=>{const e=y_(),r={...t,id:Date.now().toString()};return e.push(r),$Z(e),r},qk=(t,e)=>{const r=y_(),n=r.findIndex(a=>a.id===t);if(n===-1)return null;const i={...r[n],...e};return r[n]=i,$Z(r),i},BZ=()=>{const t=y_(),e=new Map;return t.forEach(r=>{if(r.status!=="completed")return;e.has(r.fromUserId)||e.set(r.fromUserId,{userId:r.fromUserId,userName:r.fromUserName,totalSpent:0,owesAmount:0,owedAmount:0,netBalance:0}),e.has(r.toUserId)||e.set(r.toUserId,{userId:r.toUserId,userName:r.toUserName,totalSpent:0,owesAmount:0,owedAmount:0,netBalance:0});const n=e.get(r.fromUserId),i=e.get(r.toUserId);if(r.type==="expense")if(r.isSplit){i.totalSpent+=r.amount;const a=r.amount/2;n.owesAmount+=a,i.owedAmount+=a}else i.totalSpent+=r.amount,n.owesAmount+=r.amount,i.owedAmount+=r.amount;else r.type==="payment"&&(n.totalSpent+=r.amount,n.owedAmount+=r.amount,i.owesAmount+=r.amount)}),e.forEach(r=>{r.netBalance=r.owedAmount-r.owesAmount}),Array.from(e.values())},QFe=()=>{const t=BZ(),e=t.filter(o=>o.netBalance<0).sort((o,s)=>o.netBalance-s.netBalance),r=t.filter(o=>o.netBalance>0).sort((o,s)=>s.netBalance-o.netBalance),n=[];let i=0,a=0;for(;i<e.length&&a<r.length;){const o=e[i],s=r[a],l=Math.min(Math.abs(o.netBalance),s.netBalance);l>0&&n.push({from:o,to:s,amount:Math.round(l*100)/100}),o.netBalance+=l,s.netBalance-=l,Math.abs(o.netBalance)<.01&&i++,Math.abs(s.netBalance)<.01&&a++}return n},ZFe=(t,e,r,n,i,a,o,s=!0,l="other")=>FZ({tripId:t,timestamp:Date.now(),amount:o,type:"expense",fromUserId:r,fromUserName:n,toUserId:i,toUserName:a,description:`Expenses from trip to ${e}`,status:"completed",isSplit:s,category:l}),JFe=(t,e,r,n,i,a="Payment",o)=>FZ({timestamp:Date.now(),amount:i,type:"payment",fromUserId:t,fromUserName:e,toUserId:r,toUserName:n,description:a,status:"pending",category:o}),e7e=t=>qk(t,{status:"completed"}),t7e=t=>qk(t,{status:"cancelled"}),hN=()=>[{id:"food",label:"Food & Dining",icon:"utensils"},{id:"groceries",label:"Groceries",icon:"shopping-cart"},{id:"household",label:"Household",icon:"home"},{id:"utilities",label:"Utilities",icon:"bolt"},{id:"rent",label:"Rent & Mortgage",icon:"building"},{id:"transportation",label:"Transportation",icon:"car"},{id:"entertainment",label:"Entertainment",icon:"film"},{id:"personal",label:"Personal",icon:"user"},{id:"medical",label:"Medical",icon:"stethoscope"},{id:"other",label:"Other",icon:"circle"}],r7e=(t,e)=>qk(t,{category:e}),UZ=({tripId:t=`trip-${Date.now()}`,tripName:e="Shopping Trip",items:r,participants:n,onSettleUp:i,onSplitUpdated:a})=>{const[o,s]=_.useState([]),[l,c]=_.useState(0),[d,f]=_.useState(!1),[h,p]=_.useState(!1),[m,g]=_.useState(!1),[v,y]=_.useState("equal"),[x,w]=_.useState([]),[S,E]=_.useState([]),[T,A]=_.useState(""),[C,N]=_.useState(""),[I,P]=_.useState([]),{toast:k}=Mc(),{inviteForExpense:O}=rj(),{user:L}=xr();_.useEffect(()=>{const V=r.reduce((ve,fe)=>ve+(fe.price||0)*fe.quantity,0);c(V);const Q=YFe(t,r,n);s(Q);const H=dN(t);f(H.length>0)},[t,r,n]),_.useEffect(()=>{if(h){const V=n.map(ve=>ve.id);E(V);const Q=100/V.length,H=V.map(ve=>{const fe=n.find(te=>te.id===ve);return{userId:ve,userName:(fe==null?void 0:fe.name)||"Unknown",share:Q}});w(H),y("equal")}},[h,n]),_.useEffect(()=>{if(m){const V=r.filter(H=>H.price!==void 0&&H.price>0).map(H=>H.id);P(V);const Q=r.filter(H=>V.includes(H.id)).reduce((H,ve)=>H+(ve.price||0)*ve.quantity,0);if(Q>0){const H=`I'd like to split some expenses from our ${e||"shopping trip"} with you!

Total amount: $${Q.toFixed(2)}
Your share: $${(Q/2).toFixed(2)} (split equally)

Download TaskaLoop to easily split expenses and track payments!`;N(H)}else{const H=`I'd like to invite you to join our ${e||"shopping trip"} on TaskaLoop!

TaskaLoop helps us coordinate shopping trips, split expenses, and manage household tasks together.

Download TaskaLoop to get started!`;N(H)}}},[m,r,e]);const z=o.find(V=>V.userName==="You"),M=o.filter(V=>V.userName!=="You"),W=r.filter(V=>V.price!==void 0).length,$=()=>{k({title:"Share split summary",description:"This feature is coming soon!"})},B=()=>{k({title:"Export to CSV",description:"This feature is coming soon!"})},G=async()=>{if(!T.trim()){k({title:"Email required",description:"Please enter an email address to send the invitation",variant:"destructive"});return}try{const V=r.filter(Q=>I.includes(Q.id)).reduce((Q,H)=>Q+(H.price||0)*H.quantity,0);if(V>0){const Q=r.filter(ve=>I.includes(ve.id)).map(ve=>ve.name).join(", "),H=Q.length>50?`${Q.substring(0,50)}...`:Q;await O(T,V,H,t,e),k({title:"Expense split invitation sent!",description:`Invitation to split $${V.toFixed(2)} sent to ${T}`})}else await Gf.sendAppDownloadInvite({email:T,message:C||void 0,fromUser:{id:(L==null?void 0:L.id)||"current-user",name:(L==null?void 0:L.name)||"Someone",email:(L==null?void 0:L.email)||""}}),k({title:"Invitation sent!",description:`App invitation sent to ${T}`});g(!1),A(""),N(""),P([])}catch(V){console.error("Error sending invitation:",V),k({title:"Failed to send invitation",description:"Please try again later",variant:"destructive"})}},X=V=>{if(!z||!i)return;const Q=o.find(H=>H.userId===V);Q&&(ZFe(t,e,z.userId,z.userName,Q.userId,Q.userName,Q.totalAmount),i(Q.totalAmount,V,z.userId),k({title:"Payment recorded",description:`Payment of $${Q.totalAmount.toFixed(2)} to ${Q.userName} has been recorded in the ledger`}))},Y=()=>"You",ee=V=>{if(S.includes(V)){const H=S.filter(fe=>fe!==V);E(H);const ve=x.filter(fe=>fe.userId!==V);if(H.length>0){if(v==="equal"){const fe=100/H.length;ve.forEach(te=>te.share=fe)}else if(v==="percentage"){const fe=ve.reduce((te,re)=>te+re.share,0);if(fe>0){const te=100/fe;ve.forEach(re=>re.share=re.share*te)}}}w(ve)}else{const H=[...S,V];E(H);const ve=n.find(te=>te.id===V);if(!ve)return;let fe=0;if(v==="equal"){fe=100/H.length;const te=[...x.map(re=>({...re,share:fe})),{userId:V,userName:ve.name,share:fe}];w(te)}else if(v==="percentage"){const te=[...x,{userId:V,userName:ve.name,share:0}];w(te)}else if(v==="person"){const te=[...x,{userId:V,userName:ve.name,share:0}];w(te)}}},ce=V=>{const Q=V;if(y(Q),Q==="equal"){const H=100/S.length,ve=S.map(fe=>{const te=n.find(re=>re.id===fe);return{userId:fe,userName:(te==null?void 0:te.name)||"Unknown",share:H}});w(ve)}else if(Q==="percentage"){const H=100/S.length,ve=S.map(fe=>{const te=n.find(re=>re.id===fe);return{userId:fe,userName:(te==null?void 0:te.name)||"Unknown",share:H}});w(ve)}else if(Q==="person"){const H=l/S.length,ve=S.map(fe=>{const te=n.find(re=>re.id===fe);return{userId:fe,userName:(te==null?void 0:te.name)||"Unknown",share:H}});w(ve)}},de=(V,Q)=>{const H=parseFloat(Q);if(isNaN(H))return;const ve=x.map(fe=>fe.userId===V?{...fe,share:H}:fe);w(ve)},_e=v==="percentage"?x.reduce((V,Q)=>V+Q.share,0):100,ge=v==="person"?x.reduce((V,Q)=>V+Q.share,0):0,Se=v!=="person"||Math.abs(ge-l)<.01,se=()=>{if(v==="percentage"&&Math.abs(_e-100)>.01){k({title:"Percentages must sum to 100%",variant:"destructive"});return}if(v==="person"&&!Se){k({title:`Amounts must sum to ${l.toFixed(2)}`,variant:"destructive"});return}const V=r.filter(H=>H.price!==void 0);if(V.length===0){k({title:"No items to split",description:"Add prices to items before splitting costs",variant:"destructive"});return}let Q=dN(t);for(const H of V)if(v==="equal"){const ve=KFe(H.id,n.filter(fe=>S.includes(fe.id)));Q=JE(Q,H.id,v,ve.details)}else if(v==="percentage")Q=JE(Q,H.id,v,x);else if(v==="person"&&H.price){const fe=H.price*(H.quantity||1)/l,te=x.map(re=>({...re,share:re.share*fe}));Q=JE(Q,H.id,v,te)}qFe(t,Q),k({title:"Bulk split applied",description:`Split applied to ${V.length} items`}),p(!1),a&&a()};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs(Ne,{children:[u.jsxs(Fe,{className:"pb-3",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx(Be,{className:"text-lg",children:"Split Summary"}),u.jsx(lt,{variant:d?"secondary":"outline",children:d?"Custom Split":"Equal Split"})]}),u.jsxs(st,{children:[r.length," items with a total of $",l.toFixed(2)]})]}),u.jsxs(Ie,{className:"pb-3",children:[u.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trip Cost"}),u.jsxs("div",{className:"text-xl font-bold flex items-center",children:[u.jsx(zo,{className:"h-4 w-4 mr-1"}),l.toFixed(2)]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-sm text-muted-foreground",children:"Items with prices"}),u.jsxs("div",{className:"text-base",children:[W," of ",r.length," items"]})]})]}),u.jsx("div",{className:"space-y-3",children:o.map(V=>u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg border bg-card",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(pn,{className:"h-8 w-8",children:u.jsx(mn,{className:"text-xs",children:V.userName.charAt(0)})}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:V.userName}),u.jsxs("div",{className:"text-xs text-muted-foreground",children:[V.itemCount," items"]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"font-medium",children:["$",V.totalAmount.toFixed(2)]}),u.jsxs("div",{className:"text-xs text-muted-foreground",children:[(V.totalAmount/l*100).toFixed(0),"% of total"]})]})]},V.userId))}),n.length===0&&u.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[u.jsx(xo,{className:"h-8 w-8 mx-auto mb-2"}),u.jsx("p",{children:"No participants added yet."})]}),u.jsxs("div",{className:"mt-4 space-y-2",children:[u.jsxs(cr,{open:h,onOpenChange:p,children:[u.jsx(gw,{asChild:!0,children:u.jsxs(q,{variant:"outline",className:"w-full",children:[u.jsx(q1e,{className:"h-4 w-4 mr-2"}),"Customize Split"]})}),u.jsxs(rr,{className:"max-h-[90vh] overflow-y-auto",children:[u.jsx(nr,{children:u.jsx(ir,{children:"Customize Cost Split"})}),u.jsxs("div",{className:"space-y-4 py-2",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{children:"Split Type"}),u.jsxs(Rt,{value:v,onValueChange:V=>ce(V),children:[u.jsx(Nt,{children:u.jsx(Dt,{placeholder:"Select split type"})}),u.jsxs(It,{children:[u.jsx(we,{value:"equal",children:"Equal Split"}),u.jsx(we,{value:"percentage",children:"Percentage"}),u.jsx(we,{value:"person",children:"Custom Amount"})]})]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:[v==="equal"&&"Split the cost equally among selected participants",v==="percentage"&&"Assign a percentage of the total to each participant",v==="person"&&"Specify exact amounts for each participant"]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{children:"Select Participants"}),u.jsx("div",{className:"grid grid-cols-1 gap-2",children:n.map(V=>{var Q;return u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Ec,{id:`participant-${V.id}`,checked:S.includes(V.id),onCheckedChange:()=>ee(V.id)}),u.jsxs(oe,{htmlFor:`participant-${V.id}`,className:"flex items-center cursor-pointer",children:[u.jsx(pn,{className:"h-6 w-6 mr-2",children:u.jsx(mn,{className:"text-xs",children:V.name.charAt(0)})}),u.jsx("span",{children:V.name})]}),S.includes(V.id)&&u.jsx("div",{className:"ml-auto flex items-center space-x-2",children:u.jsx(De,{type:v==="person"?"number":"text",step:v==="person"?"0.01":void 0,min:"0",placeholder:v==="percentage"?"%":v==="person"?"$":"Equal",className:"w-20 h-8 text-sm",value:v==="equal"?(100/S.length).toFixed(0)+"%":((Q=x.find(H=>H.userId===V.id))==null?void 0:Q.share.toFixed(v==="percentage"?0:2))+(v==="percentage"?"%":""),onChange:H=>de(V.id,H.target.value),disabled:v==="equal"})})]},V.id)})})]})]}),u.jsxs(Jn,{children:[u.jsx(q,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),u.jsx(q,{onClick:se,children:"Apply Split"})]})]})]}),u.jsxs(cr,{open:m,onOpenChange:g,children:[u.jsx(gw,{asChild:!0,children:u.jsxs(q,{variant:"outline",className:"w-full",children:[u.jsx(Zl,{className:"h-4 w-4 mr-2"}),r.filter(V=>V.price!==void 0&&V.price>0).length>0?"Invite Someone to Split":"Invite Someone to TaskaLoop"]})}),u.jsxs(rr,{className:"max-h-[90vh] overflow-y-auto",children:[u.jsx(nr,{children:u.jsx(ir,{children:r.filter(V=>V.price!==void 0&&V.price>0).length>0?"Invite Someone to Split Expenses":"Invite Someone to TaskaLoop"})}),u.jsxs("div",{className:"space-y-4 py-2",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"invite-email",children:"Email Address"}),u.jsx(De,{id:"invite-email",type:"email",placeholder:"Enter their email address",value:T,onChange:V=>A(V.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{children:"Select items to split"}),r.filter(V=>V.price!==void 0&&V.price>0).length>0?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:r.filter(V=>V.price!==void 0&&V.price>0).map(V=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Ec,{id:`expense-item-${V.id}`,checked:I.includes(V.id),onCheckedChange:Q=>{P(Q?H=>[...H,V.id]:H=>H.filter(ve=>ve!==V.id))}}),u.jsxs(oe,{htmlFor:`expense-item-${V.id}`,className:"flex-1 cursor-pointer",children:[V.name," - $",((V.price||0)*V.quantity).toFixed(2)]})]},V.id))}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:["Selected total: $",r.filter(V=>I.includes(V.id)).reduce((V,Q)=>V+(Q.price||0)*Q.quantity,0).toFixed(2)]})]}):u.jsxs("div",{className:"p-4 border border-dashed rounded-lg text-center",children:[u.jsx(xo,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No items with prices found in this trip."}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"You can still invite someone to join TaskaLoop and coordinate future trips together!"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"invite-message",children:"Custom Message (optional)"}),u.jsx(ch,{id:"invite-message",placeholder:"Add a personal message...",value:C,onChange:V=>N(V.target.value),rows:4})]})]}),u.jsxs(Jn,{children:[u.jsx(q,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),u.jsxs(q,{onClick:G,children:[u.jsx(Ja,{className:"h-4 w-4 mr-2"}),"Send Invitation"]})]})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(q,{variant:"outline",onClick:$,className:"flex-1",children:[u.jsx(W1e,{className:"h-4 w-4 mr-2"}),"Share"]}),u.jsxs(q,{variant:"outline",onClick:B,className:"flex-1",children:[u.jsx(OH,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})]})]}),z&&u.jsxs(Ne,{children:[u.jsx(Fe,{className:"pb-3",children:u.jsx(Be,{className:"text-lg",children:"Your Summary"})}),u.jsxs(Ie,{className:"pb-3",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-muted-foreground",children:"You owe"}),u.jsxs("div",{className:"text-xl font-bold",children:["$",z.totalAmount.toFixed(2)]})]}),u.jsxs(lt,{variant:"outline",className:"text-xs",children:[z.itemCount," items"]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-sm font-medium",children:"Settle up with:"}),M.map(V=>u.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg border bg-card",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(pn,{className:"h-8 w-8",children:u.jsx(mn,{className:"text-xs",children:V.userName.charAt(0)})}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:V.userName}),u.jsx("div",{className:"text-xs text-muted-foreground",children:Y()===V.userName?"Paid for this trip":"Sharing cost"})]})]}),u.jsxs(q,{variant:"outline",size:"sm",onClick:()=>X(V.userId),disabled:!i,children:[u.jsx(LH,{className:"h-3.5 w-3.5 mr-2"}),"Pay $",V.totalAmount.toFixed(2)]})]},V.userId)),M.length===0&&u.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[u.jsx(Hi,{className:"h-8 w-8 mx-auto mb-2"}),u.jsx("p",{children:"No other participants to settle with."})]})]})]})]})]})},VZ=({suggestions:t,value:e,onChange:r,onSelect:n,placeholder:i})=>{const[a,o]=_.useState([]),[s,l]=_.useState(!1),c=_.useRef(null);_.useEffect(()=>{if(e){const f=t.filter(h=>h.toLowerCase().indexOf(e.toLowerCase())>-1);o(f),l(!0)}else o([]),l(!1)},[e,t]),_.useEffect(()=>{const f=h=>{c.current&&!c.current.contains(h.target)&&l(!1)};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[]);const d=f=>{n(f),l(!1)};return u.jsxs("div",{ref:c,className:"relative w-full",children:[u.jsx(De,{type:"text",value:e,onChange:f=>r(f.target.value),placeholder:i}),s&&a.length>0&&u.jsx(Ne,{className:"absolute z-10 w-full mt-1 overflow-hidden rounded-md shadow-lg",children:u.jsx(Ie,{className:"p-2 max-h-60 overflow-y-auto",children:u.jsx("ul",{className:"space-y-1",children:a.map((f,h)=>u.jsx("li",{onClick:()=>d(f),className:"px-3 py-2 text-sm rounded-md cursor-pointer hover:bg-accent",children:f},h))})})})]})},fv=t=>t.toLowerCase().trim(),n7e=t=>fv(t),i7e=()=>{try{const t=localStorage.getItem("priceHistory");if(t)return JSON.parse(t)}catch(t){console.error("Failed to load price history:",t)}return{}},a7e=t=>{try{localStorage.setItem("priceHistory",JSON.stringify(t))}catch(e){console.error("Failed to save price history:",e)}},o7e=(t,e,r,n=1,i)=>{const a=i7e(),o=n7e(t),s={itemName:t,price:e,store:r,date:new Date().toISOString(),quantity:n,unit:i};a[o]||(a[o]=[]),a[o].push(s),a[o].length>10&&(a[o]=a[o].slice(-10)),a7e(a)},s7e=(t,e)=>{const r=fv(t);return e.find(i=>fv(i.name)===r)||null},l7e=(t,e,r=.75)=>{const n=fv(t),i=n.split(" ");return n.length<3||i.length===0?[]:e.map(o=>{const s=fv(o.name),l=s.split(" ");if(s.length<3||l.length===0)return{item:o,confidence:0};let c=0;for(const p of i)p.length<=2||l.some(m=>m.includes(p)||p.includes(m))&&c++;const d=c/Math.max(i.length,l.length),f=1-u7e(n,s)/Math.max(n.length,s.length),h=d*.7+f*.3;return{item:o,confidence:h}}).filter(o=>o.confidence>=r).sort((o,s)=>s.confidence-o.confidence)},c7e=(t,e)=>{const r=s7e(t,e);if(r)return{type:"duplicate",newItemName:t,existingItem:r,confidence:100,message:`"${r.name}" is already on your list (${r.quantity}x)`};const n=l7e(t,e);if(n.length>0){const i=n[0],a=Math.round(i.confidence*100);return{type:"similar",newItemName:t,existingItem:i.item,confidence:a,message:`"${t}" might be similar to "${i.item.name}" already on your list (${a}% match)`}}return null};function u7e(t,e){const r=Array(e.length+1).fill(null).map(()=>Array(t.length+1).fill(null));for(let n=0;n<=t.length;n+=1)r[0][n]=n;for(let n=0;n<=e.length;n+=1)r[n][0]=n;for(let n=1;n<=e.length;n+=1)for(let i=1;i<=t.length;i+=1){const a=t[i-1]===e[n-1]?0:1;r[n][i]=Math.min(r[n][i-1]+1,r[n-1][i]+1,r[n-1][i-1]+a)}return r[e.length][t.length]}const zZ=["Apple","Banana","Orange","Grape","Strawberry","Blueberry","Raspberry","Blackberry","Watermelon","Cantaloupe","Honeydew","Pineapple","Mango","Peach","Nectarine","Plum","Cherry","Pear","Kiwi","Lemon","Lime","Grapefruit","Pomegranate","Avocado","Coconut","Fig","Guava","Papaya","Passion Fruit","Apricot"],WZ=["Carrot","Broccoli","Spinach","Kale","Arugula","Potato","Sweet Potato","Onion","Garlic","Bell Pepper","Tomato","Cucumber","Zucchini","Eggplant","Cabbage","Lettuce","Celery","Mushroom","Asparagus","Cauliflower","Green Beans","Peas","Corn","Radish","Beet","Artichoke","Leek","Scallion","Ginger","Turnip","Collard Greens","Swiss Chard","Bok Choy","Okra","Pumpkin","Squash","Brussels Sprouts","Fennel","Kohlrabi","Parsnip"],d7e=[{id:"ea",name:"Each"},{id:"kg",name:"Kilograms"},{id:"g",name:"Grams"},{id:"lb",name:"Pounds"},{id:"oz",name:"Ounces"},{id:"l",name:"Liters"},{id:"ml",name:"Milliliters"},{id:"pkg",name:"Package"},{id:"box",name:"Box"},{id:"can",name:"Can"},{id:"bottle",name:"Bottle"}],f7e=[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"bi-weekly",label:"Bi-weekly"},{value:"monthly",label:"Monthly"}],h7e=({isOpen:t,onClose:e,trip:r,onAddItem:n,onRemoveItem:i,onToggleItemCheck:a,onInviteParticipant:o,onCompleteTrip:s,onReactivateTrip:l,onUpdateItemPrice:c,onSettleUp:d,onUpdateItemUnit:f})=>{const[h,p]=_.useState(""),[m,g]=_.useState(1),[v,y]=_.useState(void 0),[x,w]=_.useState("ea"),[S,E]=_.useState("items"),[T,A]=_.useState(!1),[C,N]=_.useState(""),[I,P]=_.useState(null),[k,O]=_.useState(!1),[L,z]=_.useState(null),[M,W]=_.useState(!1),[$,B]=_.useState(void 0),[G,X]=_.useState(!1),{pantryItems:Y}=nj(),[ee,ce]=_.useState(""),{toast:de}=Mc(),_e=_.useMemo(()=>{const te=Y.map(re=>re.name);return Array.from(new Set([...zZ,...WZ,...te]))},[Y]);_.useEffect(()=>{t&&(p(""),g(1),y(void 0),w("ea"),W(!1),B(void 0),E("items"))},[t]),_.useEffect(()=>{if(h.trim()){const te=Iw(h);w(te.id)}},[h]);const ge=te=>{if(te.preventDefault(),!r||!h.trim())return;M&&$&&pT(new Date,$);const re={name:h,quantity:m,price:v,unit:x,checked:!1,addedBy:{name:"You",avatar:"https://example.com/you.jpg"},isRecurring:M,recurrenceFrequency:M?$:void 0},K=c7e(h,r.items);if(K){P(K),O(!0),z(re);return}Se(re)},Se=te=>{r&&(n(r.id,te),te.price&&o7e(te.name,te.price,r.store,te.quantity),p(""),g(1),y(void 0),w("ea"),W(!1),B(void 0),navigator.vibrate&&navigator.vibrate(50),de({title:"Item Added",description:`"${te.name}" has been added to the trip.`}))},se=()=>{L&&(Se(L),z(null))},V=(te,re)=>{r&&(r.items.map(K=>K.id===te.id?{...K,quantity:K.quantity+re}:K),p(""),g(1),y(void 0),z(null))},Q=te=>{p(te.name),g(te.quantity),y(te.price),z(null)},H=te=>{p(te.name),te.defaultPrice&&y(te.defaultPrice);const re={name:te.name,quantity:1,price:te.defaultPrice,unit:te.unit||"ea",checked:!1,addedBy:{name:"You",avatar:"https://example.com/you.jpg"},isRecurring:!1,recurrenceFrequency:void 0};r&&(n(r.id,re),p(""),g(1),y(void 0),w("ea"),A(!1))},ve=te=>{if(!r||(console.log("Received items from parser:",te),te.length===0))return;const re=[];te.forEach(K=>{r.items.some(pe=>pe.name.toLowerCase()===K.name.toLowerCase())||re.push(K)}),re.length>0&&(console.log("Adding non-duplicate items to trip:",re),re.forEach(K=>{n(r.id,K)}))},fe=te=>{if(!r)return;if(r.items.find(le=>le.name.toLowerCase()===te.name.toLowerCase())){de({title:"Item Already Added",description:`"${te.name}" is already in this trip.`,variant:"destructive"});return}const K={name:te.name,quantity:1,unit:"ea",checked:!1,addedBy:{name:"You",avatar:"https://example.com/you.jpg"}};n(r.id,K),de({title:"Added from Pantry",description:`"${te.name}" has been added to your trip.`}),navigator.vibrate&&navigator.vibrate(50)};return r?(r.shopper&&r.shopper.name,r.items.reduce((te,re)=>te+(re.price||0),0),r.participants.map(te=>({...te,avatar:te.avatar||`https://api.dicebear.com/7.x/avatars/svg?seed=${te.id}`})),u.jsxs(cr,{open:t,onOpenChange:e,children:[u.jsxs(rr,{className:"max-w-4xl h-[90vh] bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[u.jsx(nr,{className:"animate-fade-in",children:u.jsxs(ir,{className:"flex items-center gap-2",children:[u.jsx(rw,{})," ",r.store]})}),u.jsxs(bc,{value:S,onValueChange:E,className:"mt-4 animate-slide-up",children:[u.jsxs(Gs,{className:"dark:bg-slate-800",children:[u.jsx(Jt,{value:"items",children:"Items"}),u.jsx(Jt,{value:"pantry",children:"Add from Pantry"}),u.jsx(Jt,{value:"details",children:"Details"}),u.jsx(Jt,{value:"cost",children:"Cost Split"})]}),u.jsx(Ir,{value:"items",className:"mt-4",children:u.jsx("div",{className:"bg-gradient-to-br from-blue-100 via-indigo-100 to-purple-100 dark:from-blue-900/50 dark:via-indigo-900/50 dark:to-purple-900/50 rounded-xl p-6 border-2 border-blue-200 dark:border-blue-700/50 shadow-lg",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:u.jsxs("div",{className:"animate-slide-in",children:[u.jsx("h3",{className:"text-lg font-medium dark:text-slate-200 mb-4",children:"Add Item"}),u.jsxs("form",{onSubmit:ge,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"name",className:"dark:text-slate-300",children:"Item Name"}),u.jsx(VZ,{suggestions:_e,value:h,onChange:p,onSelect:p,placeholder:"Enter item name"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"quantity",className:"dark:text-slate-300",children:"Quantity"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(De,{id:"quantity",type:"number",value:m,onChange:te=>g(Number(te.target.value)),min:1,className:"w-24 dark:bg-slate-800 dark:border-slate-700"}),u.jsxs(Rt,{value:x,onValueChange:w,children:[u.jsx(Nt,{className:"w-24 dark:bg-slate-800 dark:border-slate-700",children:u.jsx(Dt,{placeholder:"Unit"})}),u.jsx(It,{className:"dark:bg-slate-800 dark:border-slate-700",children:d7e.map(te=>u.jsx(we,{value:te.id,children:te.name},te.id))})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"price",className:"dark:text-slate-300",children:"Price (optional)"}),u.jsx(De,{id:"price",type:"number",value:v||"",onChange:te=>y(Number(te.target.value)),placeholder:"0.00",step:"0.01",min:"0",className:"dark:bg-slate-800 dark:border-slate-700"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ec,{id:"recurring",checked:M,onCheckedChange:te=>W(te)}),u.jsx(oe,{htmlFor:"recurring",className:"dark:text-slate-300",children:"Add to recurring items"})]}),M&&u.jsxs("div",{className:"space-y-2 animate-fade-in",children:[u.jsx(oe,{htmlFor:"frequency",className:"dark:text-slate-300",children:"Recurrence Frequency"}),u.jsxs(Rt,{value:$||"",onValueChange:te=>B(te),children:[u.jsx(Nt,{className:"dark:bg-slate-800 dark:border-slate-700",children:u.jsx(Dt,{placeholder:"Select frequency"})}),u.jsx(It,{className:"dark:bg-slate-800 dark:border-slate-700",children:f7e.map(te=>u.jsx(we,{value:te.value,children:te.label},te.value))})]})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsxs(q,{type:"button",variant:"outline",onClick:()=>X(!0),className:"hover:scale-105 transition-transform duration-200 dark:border-slate-600 dark:text-slate-300",children:[u.jsx(D1e,{className:"h-4 w-4 mr-2"}),"Smart Add"]}),u.jsxs(q,{type:"submit",className:"hover:scale-105 transition-transform duration-200",children:[u.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Add Item"]})]})]})]})})})}),u.jsx(Ir,{value:"pantry",className:"mt-4",children:u.jsxs("div",{className:"bg-gradient-to-br from-emerald-100 via-green-100 to-teal-100 dark:from-emerald-900/50 dark:via-green-900/50 dark:to-teal-900/50 rounded-xl p-6 border-2 border-emerald-200 dark:border-emerald-700/50 shadow-lg",children:[u.jsx("h3",{className:"text-lg font-medium dark:text-slate-200 mb-4",children:"Add from Pantry"}),u.jsx(De,{type:"search",placeholder:"Search pantry items...",value:ee,onChange:te=>ce(te.target.value),className:"mb-4 dark:bg-slate-800 dark:border-slate-700"}),u.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:(()=>{const te=Y.filter(re=>re.name.toLowerCase().includes(ee.toLowerCase())&&!r.items.some(K=>K.name.toLowerCase()===re.name.toLowerCase()));return Y.length===0?u.jsxs("div",{className:"text-center py-8 animate-fade-in",children:[u.jsx(Wn,{className:"h-12 w-12 mx-auto text-emerald-400 dark:text-emerald-500 mb-4"}),u.jsx("h4",{className:"text-lg font-medium text-slate-700 dark:text-slate-300 mb-2",children:"No Pantry Items"}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"You don't have any items in your pantry yet."}),u.jsxs(q,{variant:"outline",onClick:()=>window.open("/pantry","_blank"),className:"hover:scale-105 transition-transform duration-200",children:[u.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Add Items to Pantry"]})]}):te.length===0?u.jsxs("div",{className:"text-center py-8 animate-fade-in",children:[u.jsx(S2,{className:"h-12 w-12 mx-auto text-emerald-400 dark:text-emerald-500 mb-4"}),u.jsx("h4",{className:"text-lg font-medium text-slate-700 dark:text-slate-300 mb-2",children:ee?"No Matching Items":"All Items Already Added"}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:ee?`No pantry items match "${ee}"`:"All your pantry items are already in this trip"}),ee&&u.jsxs(q,{variant:"outline",onClick:()=>ce(""),className:"hover:scale-105 transition-transform duration-200",children:[u.jsx(ra,{className:"h-4 w-4 mr-2"}),"Clear Search"]})]}):u.jsx("div",{className:"space-y-2",children:te.map((re,K)=>u.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-white/50 dark:hover:bg-slate-800/50 rounded-lg border border-emerald-200/50 dark:border-emerald-700/30 transition-all duration-200 animate-slide-in",style:{animationDelay:`${K*50}ms`},children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-200",children:re.name}),u.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[u.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["In stock: ",u.jsx("span",{className:"font-medium",children:re.quantity})]}),re.category&&u.jsx(lt,{variant:"secondary",className:"text-xs",children:re.category}),re.lowStock&&u.jsx(lt,{variant:"destructive",className:"text-xs",children:"Low Stock"})]})]}),u.jsxs(q,{size:"sm",variant:"outline",onClick:()=>fe(re),className:"hover:scale-105 transition-transform duration-200 border-emerald-300 hover:border-emerald-400 hover:bg-emerald-50 dark:border-emerald-600 dark:hover:border-emerald-500 dark:hover:bg-emerald-900/20",children:[u.jsx(Nr,{className:"h-4 w-4 mr-2"})," Add"]})]},re.id))})})()})]})}),u.jsx(Ir,{value:"details",className:"mt-4",children:u.jsxs("div",{className:"bg-gradient-to-br from-amber-100 via-orange-100 to-red-100 dark:from-amber-900/50 dark:via-orange-900/50 dark:to-red-900/50 rounded-xl p-6 border-2 border-amber-200 dark:border-amber-700/50 shadow-lg",children:[u.jsx("h3",{className:"text-lg font-medium dark:text-slate-200 mb-4",children:"Trip Details"}),u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:"Store"}),u.jsx("p",{className:"text-lg font-semibold",children:r.store})]}),u.jsxs("div",{children:[u.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:"Status"}),u.jsx(lt,{variant:r.status==="completed"?"success":"default",className:"ml-2",children:r.status})]}),u.jsxs("div",{children:[u.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:"Date"}),u.jsx("p",{className:"text-lg",children:er(new Date(r.date),"PPP")})]}),u.jsxs("div",{children:[u.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:"ETA"}),u.jsx("p",{className:"text-lg",children:r.eta})]})]})})]})}),u.jsx(Ir,{value:"cost",className:"mt-4",children:u.jsxs("div",{className:"bg-gradient-to-br from-violet-100 via-purple-100 to-fuchsia-100 dark:from-violet-900/50 dark:via-purple-900/50 dark:to-fuchsia-900/50 rounded-xl p-6 border-2 border-violet-200 dark:border-violet-700/50 shadow-lg",children:[u.jsx("h3",{className:"text-lg font-medium dark:text-slate-200 mb-4",children:"Cost Split"}),u.jsx(UZ,{items:r.items,participants:r.participants})]})})]})]}),u.jsx(HFe,{isOpen:T,onClose:()=>A(!1),barcode:C,onSave:H}),u.jsx(GFe,{isOpen:k,onClose:()=>O(!1),suggestion:I,onAddAnyway:se,onMergeItems:V,onUpdate:Q}),u.jsx(BFe,{isOpen:G,onClose:()=>X(!1),onAddItems:ve})]})):null};function p7e(){const t=Si(),{trips:e}=yo(),[r,n]=_.useState("active"),[i,a]=_.useState(""),[o,s]=_.useState(!1),[l,c]=_.useState(!1),[d,f]=_.useState(500),{updateBudget:h}=yo(),[p,m]=_.useState(!1),[g,v]=_.useState(null),[y,x]=_.useState(!1),[w,S]=_.useState(!1),E=_.useMemo(()=>e.filter(P=>P.status!=="completed"&&P.status!=="cancelled"&&(i?P.store.toLowerCase().includes(i.toLowerCase()):!0)),[e,i]),T=e.filter(P=>(P.status==="completed"||P.status==="cancelled")&&(i?P.store.toLowerCase().includes(i.toLowerCase()):!0)),A=P=>{a(P.target.value)},C=P=>{f(P),h(P),c(!1)},N=P=>{t(`/trip/${P}`)},I=P=>{const k=new Date(P),O=new Date,L=new Date;return L.setDate(O.getDate()+1),k.toDateString()===O.toDateString()?"Today":k.toDateString()===L.toDateString()?"Tomorrow":k.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})};return u.jsx(ca,{children:u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800",children:[u.jsxs("div",{className:"max-w-2xl mx-auto p-4 space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-semibold text-gray-900 dark:text-gray-100",children:"Trips"}),u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[E.length," active ",E.length===1?"trip":"trips"]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(q,{variant:"ghost",size:"sm",onClick:()=>S(!w),className:"text-gray-500 hover:text-gray-700 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:bg-gray-800",children:u.jsx(m0,{className:"h-4 w-4"})}),u.jsxs(q,{onClick:()=>m(!0),className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-lg shadow-blue-500/25 border-0",children:[u.jsx(Nr,{className:"h-4 w-4 mr-2"}),"New Trip"]})]})]}),w&&u.jsx(Ne,{className:"border border-gray-200 dark:border-gray-700 bg-white/80 backdrop-blur-sm dark:bg-gray-800/80 shadow-lg",children:u.jsx(Ie,{className:"p-4",children:u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[u.jsxs(q,{variant:"outline",size:"sm",onClick:()=>s(!0),className:"flex items-center justify-center border-gray-200 hover:bg-blue-50 hover:border-blue-300 dark:border-gray-600 dark:hover:bg-gray-700",children:[u.jsx(qf,{className:"h-4 w-4 mr-2"}),"Calendar"]}),u.jsxs(q,{variant:"outline",size:"sm",onClick:()=>c(!0),className:"flex items-center justify-center border-gray-200 hover:bg-green-50 hover:border-green-300 dark:border-gray-600 dark:hover:bg-gray-700",children:[u.jsx(b1e,{className:"h-4 w-4 mr-2"}),"Budget"]}),u.jsxs(q,{variant:"outline",size:"sm",onClick:()=>t("/map"),className:"flex items-center justify-center border-gray-200 hover:bg-purple-50 hover:border-purple-300 dark:border-gray-600 dark:hover:bg-gray-700",children:[u.jsx(Bi,{className:"h-4 w-4 mr-2"}),"Map View"]})]})})}),u.jsx("div",{className:"relative",children:u.jsx(De,{type:"text",placeholder:"Add a trip to...",className:"w-full py-3 text-base border-gray-200 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400 rounded-xl shadow-sm bg-white dark:bg-gray-800 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500",onKeyDown:P=>{P.key==="Enter"&&P.currentTarget.value.trim()&&(m(!0),P.currentTarget.value="")},onClick:()=>m(!0)})}),u.jsxs("div",{className:"relative",children:[u.jsx(S2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 dark:text-gray-500"}),u.jsx(De,{type:"search",placeholder:"Search trips...",className:"pl-10 py-2 border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500",value:i,onChange:A})]}),u.jsxs(bc,{value:r,onValueChange:n,className:"w-full",children:[u.jsxs(Gs,{className:"grid w-full grid-cols-2 mb-6 bg-gray-100 dark:bg-gray-800 p-1",children:[u.jsx(Jt,{value:"active",className:"data-[state=active]:bg-white data-[state=active]:text-gray-900 dark:data-[state=active]:bg-gray-700 dark:data-[state=active]:text-gray-100",children:"Active"}),u.jsx(Jt,{value:"completed",className:"data-[state=active]:bg-white data-[state=active]:text-gray-900 dark:data-[state=active]:bg-gray-700 dark:data-[state=active]:text-gray-100",children:"Completed"})]}),u.jsx(Ir,{value:"active",className:"space-y-2",children:E.length>0?u.jsx("div",{className:"space-y-3",children:E.map(P=>u.jsxs("div",{className:"group flex items-center p-4 rounded-xl bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-750 transition-all duration-200 border border-gray-100 dark:border-gray-700 shadow-sm hover:shadow-md",children:[u.jsx("div",{className:"flex-shrink-0 mr-4",children:u.jsxs("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${P.status==="completed"?"bg-emerald-500 border-emerald-500 shadow-sm":P.status==="shopping"?"bg-blue-500 border-blue-500 shadow-sm":"border-gray-300 dark:border-gray-600 hover:border-blue-400 dark:hover:border-blue-500"}`,children:[P.status==="completed"&&u.jsx(ki,{className:"h-4 w-4 text-white"}),P.status==="shopping"&&u.jsx(wT,{className:"h-4 w-4 text-white"})]})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 truncate",children:P.store})}),u.jsxs("div",{className:"flex items-center mt-1 text-sm text-gray-500 dark:text-gray-400 space-x-4",children:[u.jsx("span",{className:"font-medium",children:I(P.date)}),P.time&&u.jsx("span",{children:P.time}),u.jsxs("span",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full text-xs",children:[P.items.filter(k=>k.checked).length,"/",P.items.length," items"]})]}),P.items.length>0&&u.jsx("div",{className:"mt-3 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:u.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${P.items.filter(k=>k.checked).length/P.items.length*100}%`}})})]}),u.jsx(q,{variant:"outline",size:"sm",className:"ml-4 border-blue-200 text-blue-600 hover:bg-blue-50 hover:border-blue-300 dark:border-blue-800 dark:text-blue-400 dark:hover:bg-blue-900/20",onClick:k=>{k.stopPropagation(),N(P.id)},children:"Open"})]},P.id))}):u.jsxs("div",{className:"text-center py-16 bg-white dark:bg-gray-800 rounded-xl border border-gray-100 dark:border-gray-700",children:[u.jsx(lr,{className:"h-16 w-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6 text-lg",children:"No active trips"}),u.jsxs(q,{onClick:()=>m(!0),className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-lg",children:[u.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Create your first trip"]})]})}),u.jsx(Ir,{value:"completed",className:"space-y-2",children:T.length>0?u.jsx("div",{className:"space-y-3",children:T.map(P=>u.jsxs("div",{className:"group flex items-center p-4 rounded-xl bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-750 transition-all duration-200 border border-gray-100 dark:border-gray-700 shadow-sm opacity-75",children:[u.jsx("div",{className:"flex-shrink-0 mr-4",children:u.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-500 border-2 border-emerald-500 flex items-center justify-center shadow-sm",children:u.jsx(ki,{className:"h-4 w-4 text-white"})})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 truncate line-through",children:P.store})}),u.jsxs("div",{className:"flex items-center mt-1 text-sm text-gray-500 dark:text-gray-400 space-x-4",children:[u.jsx("span",{className:"font-medium",children:I(P.date)}),P.actualSpent&&u.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:["$",P.actualSpent.toFixed(2)," spent"]}),u.jsxs("span",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full text-xs",children:[P.items.filter(k=>k.checked).length,"/",P.items.length," items"]})]})]})]},P.id))}):u.jsxs("div",{className:"text-center py-16 bg-white dark:bg-gray-800 rounded-xl border border-gray-100 dark:border-gray-700",children:[u.jsx(ki,{className:"h-16 w-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"No completed trips"})]})})]})]}),u.jsx(TFe,{isOpen:o,onClose:()=>s(!1)}),u.jsx(NFe,{isOpen:l,onClose:()=>c(!1),currentBudget:d,onSave:C}),u.jsx(jFe,{open:p,onOpenChange:m}),g&&u.jsx(h7e,{isOpen:y,onClose:()=>x(!1),trip:g,onAddItem:()=>{},onRemoveItem:()=>{},onToggleItemCheck:()=>{},onInviteParticipant:()=>{},onCompleteTrip:()=>{}})]})})}const wL=t=>{const e={high:3,medium:2,low:1},r=new Date().getTime(),n=t.dueDate?new Date(t.dueDate).getTime():r+7*24*60*60*1e3,i=Math.max(1,(n-r)/(1e3*60*60*24));return e[t.priority]*(1+1/i)},m7e=(t,e)=>{var r,n;return{startLocation:{lat:t.start_location.lat(),lng:t.start_location.lng()},endLocation:{lat:t.end_location.lat(),lng:t.end_location.lng()},distance:((r=t.distance)==null?void 0:r.text)||"0 km",duration:((n=t.duration)==null?void 0:n.text)||"0 mins",priority:e}},g7e=async(t,e,r)=>{const n=new google.maps.DirectionsService,i=[...e].sort((s,l)=>wL(l)-wL(s)),a=r.maxStops?i.slice(0,r.maxStops):i,o=a.map(s=>({location:new google.maps.LatLng(s.location.lat,s.location.lng),stopover:!0}));try{const s=await n.route({origin:t,destination:r.returnToStart?t:o[o.length-1].location,waypoints:r.returnToStart?o:o.slice(0,-1),optimizeWaypoints:!0,travelMode:google.maps.TravelMode[r.transportMode||"DRIVING"],avoidHighways:r.avoidHighways,avoidTolls:r.avoidTolls,drivingOptions:r.considerTraffic?{departureTime:new Date,trafficModel:google.maps.TrafficModel.BEST_GUESS}:void 0});if(!s.routes[0])throw new Error("No route found");const l=s.routes[0],c=[];let d=0,f=0;return l.legs.forEach((p,m)=>{var v,y;const g=a[m];c.push(m7e(p,(g==null?void 0:g.priority)||"medium")),d+=((v=p.distance)==null?void 0:v.value)||0,f+=((y=p.duration)==null?void 0:y.value)||0}),{waypoints:o.map(p=>({location:{lat:p.location.lat(),lng:p.location.lng()},stopover:p.stopover})),totalDistance:d,totalDuration:f,segments:c,alternativeRoutes:l.legs.length>1?[]:void 0}}catch(s){throw console.error("Error calculating optimal route:",s),s}};var Kk="Switch",[v7e,yst]=bo(Kk),[y7e,x7e]=v7e(Kk),HZ=_.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:l="on",onCheckedChange:c,form:d,...f}=t,[h,p]=_.useState(null),m=Ze(e,w=>p(w)),g=_.useRef(!1),v=h?d||!!h.closest("form"):!0,[y=!1,x]=Us({prop:i,defaultProp:a,onChange:c});return u.jsxs(y7e,{scope:r,checked:y,disabled:s,children:[u.jsx(Me.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":KZ(y),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:m,onClick:Te(t.onClick,w=>{x(S=>!S),v&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),v&&u.jsx(w7e,{control:h,bubbles:!g.current,name:n,value:l,checked:y,required:o,disabled:s,form:d,style:{transform:"translateX(-100%)"}})]})});HZ.displayName=Kk;var GZ="SwitchThumb",qZ=_.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=x7e(GZ,r);return u.jsx(Me.span,{"data-state":KZ(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});qZ.displayName=GZ;var w7e=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,a=_.useRef(null),o=Zj(r),s=YP(e);return _.useEffect(()=>{const l=a.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(l,r),l.dispatchEvent(h)}},[o,r,n]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...t.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function KZ(t){return t?"checked":"unchecked"}var YZ=HZ,b7e=qZ;const Ti=_.forwardRef(({className:t,onCheckedChange:e,...r},n)=>{const i=a=>{a?ms.success():ms.light(),e&&e(a)};return u.jsx(YZ,{className:Pe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),onCheckedChange:i,...r,ref:n,children:u.jsx(b7e,{className:Pe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});Ti.displayName=YZ.displayName;const _7e=({preferences:t,onPreferencesChange:e})=>{const r=(i,a)=>{e({...t,[i]:a})},n={DRIVING:u.jsx(ew,{className:"h-4 w-4"}),WALKING:u.jsx(B1e,{className:"h-4 w-4"}),TRANSIT:u.jsx(K1e,{className:"h-4 w-4"}),BICYCLING:u.jsx(w1e,{className:"h-4 w-4"})};return u.jsxs("div",{className:"space-y-4 p-4 premium-card rounded-lg",children:[u.jsx("h3",{className:"font-semibold mb-3",children:"Route Preferences"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{children:"Transport Mode"}),u.jsxs(Rt,{value:t.transportMode||"DRIVING",onValueChange:i=>r("transportMode",i),children:[u.jsx(Nt,{className:"w-full",children:u.jsx(Dt,{})}),u.jsx(It,{children:Object.entries(n).map(([i,a])=>u.jsx(we,{value:i,children:u.jsxs("div",{className:"flex items-center gap-2",children:[a,u.jsx("span",{children:i.charAt(0)+i.slice(1).toLowerCase()})]})},i))})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(oe,{htmlFor:"avoid-highways",children:"Avoid Highways"}),u.jsx(Ti,{id:"avoid-highways",checked:t.avoidHighways,onCheckedChange:i=>r("avoidHighways",i)})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(oe,{htmlFor:"avoid-tolls",children:"Avoid Tolls"}),u.jsx(Ti,{id:"avoid-tolls",checked:t.avoidTolls,onCheckedChange:i=>r("avoidTolls",i)})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(oe,{htmlFor:"return-start",children:"Return to Start"}),u.jsx(Ti,{id:"return-start",checked:t.returnToStart,onCheckedChange:i=>r("returnToStart",i)})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(oe,{htmlFor:"consider-traffic",children:"Consider Traffic"}),u.jsx(Ti,{id:"consider-traffic",checked:t.considerTraffic,onCheckedChange:i=>r("considerTraffic",i)})]})]})]})]})},S7e=()=>{const[t,e]=_.useState({isMobile:!1,isTablet:!1,isDesktop:!0,screenWidth:1920,screenHeight:1080,userAgent:""});return _.useEffect(()=>{const r=()=>{const n=navigator.userAgent||"",i=window.innerWidth,a=window.innerHeight,s=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(n),c=/iPad|Android(?=.*Tablet)|Windows NT.*Touch/i.test(n),d=i<=768,f=i>768&&i<=1024,h=s||d&&!c,p=c||f&&!s;e({isMobile:h,isTablet:p,isDesktop:!h&&!p,screenWidth:i,screenHeight:a,userAgent:n})};return r(),window.addEventListener("resize",r),window.addEventListener("orientationchange",()=>{setTimeout(r,100)}),()=>{window.removeEventListener("resize",r),window.removeEventListener("orientationchange",r)}},[]),t};function E7e(){const{tasks:t,trips:e,addTask:r}=yo(),{isMobile:n,isTablet:i,screenWidth:a}=S7e(),[o,s]=_.useState({lat:39.9789,lng:-82.8677}),[l,c]=_.useState(!0),[d,f]=_.useState(null),[h,p]=_.useState(!1),[m,g]=_.useState({avoidHighways:!1,avoidTolls:!1,transportMode:"DRIVING",returnToStart:!0,considerTraffic:!0,maxStops:void 0}),[v,y]=_.useState(null),[x,w]=_.useState(!1),[S,E]=_.useState(!n),T=_.useRef(null),A=_.useRef(null),C=_.useRef([]),N=_.useRef(null),I=_.useRef(null),P=_.useRef(!1);_.useEffect(()=>{if(console.log("Initializing geolocation..."),P.current)return;P.current=!0;const M=setTimeout(()=>{console.log("Geolocation timed out, using default location"),c(!1)},5e3);return navigator.geolocation?navigator.geolocation.getCurrentPosition(W=>{console.log("Successfully got user location"),clearTimeout(M),s({lat:W.coords.latitude,lng:W.coords.longitude}),c(!1)},W=>{console.log("Geolocation error:",W.message),clearTimeout(M),c(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):(console.log("Geolocation not supported, using default location"),clearTimeout(M),c(!1)),()=>clearTimeout(M)},[]),_.useEffect(()=>{if(l)return;(async()=>{if(!T.current){console.error("Map container not ready");return}if(A.current){console.log("Map already initialized");return}try{console.log("Initializing Google Maps..."),await OFe(),console.log("Creating map instance..."),A.current=new google.maps.Map(T.current,{center:o,zoom:12,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,zoomControl:!0,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]}),N.current=new google.maps.InfoWindow,console.log("Adding markers..."),k(),console.log("Map loaded successfully.")}catch(W){console.error("Failed to initialize map:",W),console.error("Map loading failed. Please try again.")}})()},[l,o]);const k=()=>{if(!A.current||!window.google)return;C.current.forEach($=>$.setMap(null)),C.current=[];let M=1;const W=new google.maps.Marker({position:{lat:o.lat,lng:o.lng},map:A.current,title:"Your Location",label:{text:"A",color:"white",fontSize:"14px",fontWeight:"bold"},icon:{path:google.maps.SymbolPath.CIRCLE,scale:12,fillColor:"#2563EB",fillOpacity:1,strokeColor:"white",strokeWeight:2}});C.current.push(W),t.filter($=>$.coordinates&&!(Math.abs($.coordinates.lat-o.lat)<1e-4&&Math.abs($.coordinates.lng-o.lng)<1e-4)).forEach($=>{const B=String.fromCharCode(65+M),G=new google.maps.Marker({position:{lat:$.coordinates.lat,lng:$.coordinates.lng},map:A.current,title:$.title,label:{text:B,color:"white",fontSize:"14px",fontWeight:"bold"},icon:{path:google.maps.SymbolPath.CIRCLE,scale:12,fillColor:"#DC2626",fillOpacity:1,strokeColor:"white",strokeWeight:2}});C.current.push(G),M++}),e.filter($=>$.coordinates&&$.status!=="completed"&&$.status!=="cancelled"&&!(Math.abs($.coordinates.lat-o.lat)<1e-4&&Math.abs($.coordinates.lng-o.lng)<1e-4)).forEach($=>{const B=String.fromCharCode(65+M),G=new google.maps.Marker({position:{lat:$.coordinates.lat,lng:$.coordinates.lng},map:A.current,title:$.store,label:{text:B,color:"white",fontSize:"14px",fontWeight:"bold"},icon:{path:google.maps.SymbolPath.CIRCLE,scale:12,fillColor:"#2563EB",fillOpacity:1,strokeColor:"white",strokeWeight:2}});C.current.push(G),M++})};_.useEffect(()=>{v||k()},[t,e,o]);const O=M=>{g(M)},L=async()=>{if(!A.current||!window.google)return;const M=t.filter(B=>B.coordinates&&!(Math.abs(B.coordinates.lat-o.lat)<1e-4&&Math.abs(B.coordinates.lng-o.lng)<1e-4)).map(B=>({location:{lat:B.coordinates.lat,lng:B.coordinates.lng},priority:B.priority,dueDate:new Date(B.dueDate)})),W=e.filter(B=>B.coordinates&&B.status!=="completed"&&B.status!=="cancelled"&&!(Math.abs(B.coordinates.lat-o.lat)<1e-4&&Math.abs(B.coordinates.lng-o.lng)<1e-4)).map(B=>({location:{lat:B.coordinates.lat,lng:B.coordinates.lng},priority:"medium",dueDate:new Date(B.date)})),$=[...M,...W];if($.length===0){console.log("No locations to optimize. Add some tasks or trips with locations.");return}try{const B=new google.maps.LatLng(o.lat,o.lng),G=await g7e(B,$,m);y(G),I.current&&I.current.setMap(null),I.current=new google.maps.DirectionsRenderer({draggable:!1,suppressMarkers:!0,polylineOptions:{strokeColor:"#2563EB",strokeWeight:4,strokeOpacity:.8}}),I.current.setMap(A.current);const X=G.waypoints.map(_e=>({location:new google.maps.LatLng(_e.location.lat,_e.location.lng),stopover:!0})),Y=new google.maps.DirectionsService,ee=m.returnToStart?B:X.length>0?X[X.length-1].location:B,ce=m.returnToStart?X:X.slice(0,-1),de={origin:B,destination:ee,waypoints:ce,travelMode:google.maps.TravelMode.DRIVING,optimizeWaypoints:!1,avoidHighways:m.avoidHighways,avoidTolls:m.avoidTolls};Y.route(de,(_e,ge)=>{var Se;ge===google.maps.DirectionsStatus.OK&&_e?((Se=I.current)==null||Se.setDirections(_e),console.log(`Optimized route with ${$.length} stops. Total distance: ${(G.totalDistance/1609.34).toFixed(1)} miles, time: ${Math.round(G.totalDuration/60)} minutes.`)):(console.error("Directions request failed:",ge),console.error("Route optimization failed. Unable to calculate the optimal route."))})}catch(B){console.error("Route optimization error:",B),console.error("Route optimization failed. There was an error calculating the route.")}},z=M=>{r(M),console.log("Task created successfully."),w(!1)};return u.jsxs("div",{className:"w-full h-full",children:[u.jsx("div",{className:"h-full flex flex-col",children:l?u.jsx("div",{className:"flex items-center justify-center flex-1",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):u.jsxs("div",{className:`flex ${n?"flex-col":"flex-row"} flex-1 gap-2 ${n?"p-2":"p-4"}`,children:[u.jsxs("div",{className:`${n?"w-full":"w-80"} flex-shrink-0 flex flex-col gap-2`,children:[u.jsxs(Ne,{className:"shadow-md flex-shrink-0",children:[u.jsx(Fe,{className:`${n?"py-2":"py-3"}`,children:u.jsx(Be,{className:`${n?"text-xs":"text-sm"}`,children:"Route Options"})}),u.jsx(Ie,{className:`${n?"p-2":"p-4"}`,children:u.jsxs("div",{className:`flex ${n?"flex-col gap-1":"flex-wrap gap-2"}`,children:[u.jsxs(q,{onClick:L,disabled:t.filter(M=>M.coordinates).length===0&&e.filter(M=>M.coordinates&&M.status!=="completed"&&M.status!=="cancelled").length===0,className:`bg-primary text-white hover:bg-primary/90 ${n?"text-xs py-2 h-8":"flex-1 min-w-[120px]"}`,children:[u.jsx(F1e,{className:`${n?"h-3 w-3 mr-1":"h-4 w-4 mr-2"}`}),n?"Optimize":"Optimize Route"]}),u.jsxs(q,{variant:"outline",onClick:()=>p(!0),className:`${n?"text-xs py-2 h-8":"flex-1 min-w-[120px]"}`,children:[u.jsx(m0,{className:`${n?"h-3 w-3 mr-1":"h-4 w-4 mr-2"}`}),n?"Settings":"Preferences"]}),u.jsxs(q,{variant:"outline",onClick:()=>{const M=t.filter(G=>G.coordinates&&!(Math.abs(G.coordinates.lat-o.lat)<1e-4&&Math.abs(G.coordinates.lng-o.lng)<1e-4)),W=e.filter(G=>G.coordinates&&G.status!=="completed"&&G.status!=="cancelled"&&!(Math.abs(G.coordinates.lat-o.lat)<1e-4&&Math.abs(G.coordinates.lng-o.lng)<1e-4)),$=[...M,...W];if($.length===0){console.log("No locations to view. Add some tasks or trips with locations first.");return}let B=`https://www.google.com/maps/dir/${o.lat},${o.lng}`;$.forEach(G=>{G.coordinates&&(B+=`/${G.coordinates.lat},${G.coordinates.lng}`)}),window.open(B,"_blank"),console.log(`Opening Google Maps to show route from your location to ${$.length} destinations.`)},disabled:t.filter(M=>M.coordinates).length===0&&e.filter(M=>M.coordinates&&M.status!=="completed"&&M.status!=="cancelled").length===0,className:`${n?"text-xs py-2 h-8":"flex-1 min-w-[120px]"}`,children:[u.jsx(jH,{className:`${n?"h-3 w-3 mr-1":"h-4 w-4 mr-2"}`}),n?"Maps":"View on Google Maps"]})]})})]}),(!n||S)&&u.jsxs(Ne,{className:`shadow-md ${n?"max-h-64":"flex-1 min-h-0"}`,children:[u.jsx(Fe,{className:`${n?"py-2":"py-3"} flex-shrink-0`,children:u.jsxs(Be,{className:"flex items-center justify-between",children:[u.jsx("span",{className:`${n?"text-xs":"text-sm"}`,children:"Locations"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:`${n?"text-xs":"text-sm"} text-gray-500`,children:[t.filter(M=>M.coordinates).length+e.filter(M=>M.coordinates&&M.status!=="completed"&&M.status!=="cancelled").length+1," total"]}),n&&u.jsx(q,{variant:"ghost",size:"sm",onClick:()=>E(!1),className:"h-6 w-6 p-0",children:"×"})]})]})}),u.jsx(Ie,{className:"flex-1 overflow-hidden p-0",children:u.jsx("div",{className:`h-full overflow-y-auto ${n?"px-2 pb-2":"px-6 pb-6"}`,children:t.filter(M=>M.coordinates).length>0||e.filter(M=>M.coordinates&&M.status!=="completed"&&M.status!=="cancelled").length>0?u.jsxs("div",{className:`space-y-${n?"1":"2"}`,children:[u.jsx("div",{className:`${n?"p-2":"p-3"} border rounded-md bg-blue-50 border-blue-200`,children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:`${n?"w-5 h-5":"w-6 h-6"} bg-blue-600 rounded-full flex items-center justify-center`,children:u.jsx("span",{className:"text-white text-xs font-bold",children:"A"})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("h4",{className:`font-medium ${n?"text-xs":"text-sm"}`,children:"Your Location"}),u.jsx("p",{className:"text-xs text-gray-600",children:"Starting point"})]})]})}),t.filter(M=>M.coordinates).map((M,W)=>{const $=String.fromCharCode(66+W);return u.jsx("div",{className:`${n?"p-2":"p-3"} border rounded-md bg-gray-50 transition-colors`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:`${n?"w-5 h-5":"w-6 h-6"} bg-red-500 rounded-full flex items-center justify-center`,children:u.jsx("span",{className:"text-white text-xs font-bold",children:$})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("h4",{className:`font-medium ${n?"text-xs":"text-sm"} truncate`,children:M.title}),u.jsx("p",{className:"text-xs text-gray-500 truncate",children:M.location})]})]}),u.jsxs("div",{className:"text-right flex-shrink-0",children:[u.jsx("p",{className:"text-xs text-gray-500",children:er(new Date(M.dueDate),"MMM d")}),u.jsx("span",{className:`${n?"text-xs px-1 py-0.5":"text-xs px-2 py-1"} rounded ${M.priority==="high"?"bg-red-100 text-red-800":M.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:M.priority})]})]})},`task-${M.id}`)}),e.filter(M=>M.coordinates&&M.status!=="completed"&&M.status!=="cancelled").map((M,W)=>{const $=String.fromCharCode(66+t.filter(B=>B.coordinates).length+W);return u.jsx("div",{className:`${n?"p-2":"p-3"} border rounded-md bg-gray-50 transition-colors`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:`${n?"w-5 h-5":"w-6 h-6"} bg-blue-500 rounded-full flex items-center justify-center`,children:u.jsx("span",{className:"text-white text-xs font-bold",children:$})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("h4",{className:`font-medium ${n?"text-xs":"text-sm"} truncate`,children:M.store}),u.jsxs("p",{className:"text-xs text-gray-500",children:[M.items.length," items"]})]})]}),u.jsxs("div",{className:"text-right flex-shrink-0",children:[u.jsxs("p",{className:"text-xs text-gray-500",children:["ETA: ",M.eta]}),u.jsx("span",{className:`${n?"text-xs px-1 py-0.5":"text-xs px-2 py-1"} rounded ${M.status==="shopping"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:M.status})]})]})},`trip-${M.id}`)})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-8",children:[u.jsx(Bi,{className:`${n?"h-8 w-8":"h-12 w-12"} text-gray-300 mb-3`}),u.jsx("p",{className:`${n?"text-xs":"text-sm"} text-gray-500 font-medium`,children:"No locations to display"}),u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Add tasks or trips with locations to see them here"})]})})})]}),n&&!S&&u.jsxs(q,{variant:"outline",onClick:()=>E(!0),className:"text-xs py-2 h-8",children:[u.jsx(Bi,{className:"h-3 w-3 mr-1"}),"Show Locations (",t.filter(M=>M.coordinates).length+e.filter(M=>M.coordinates&&M.status!=="completed"&&M.status!=="cancelled").length+1,")"]}),v&&u.jsxs(Ne,{className:"shadow-md flex-shrink-0",children:[u.jsx(Fe,{className:`${n?"py-2":"py-3"}`,children:u.jsx(Be,{className:`${n?"text-xs":"text-sm"}`,children:"Route Details"})}),u.jsx(Ie,{className:`${n?"p-2":"p-4"}`,children:u.jsxs("div",{className:`space-y-2 ${n?"max-h-32":"max-h-64"} overflow-y-auto`,children:[v.segments.map((M,W)=>{const $=W===0?"A":String.fromCharCode(65+W),B=String.fromCharCode(65+W+1),G=1+v.waypoints.length;return W+1>=G?null:u.jsxs("div",{className:`flex items-center justify-between ${n?"p-1":"p-2"} bg-gray-50 rounded`,children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("span",{className:"text-xs font-medium text-gray-600",children:[$," → ",B]}),u.jsx("span",{className:"text-xs text-gray-500",children:M.distance})]}),u.jsx("span",{className:"text-xs text-gray-500",children:M.duration})]},W)}),u.jsx("div",{className:`border-t ${n?"pt-1 mt-1":"pt-2 mt-2"}`,children:u.jsxs("div",{className:`flex justify-between ${n?"text-xs":"text-sm"} font-medium`,children:[u.jsx("span",{children:"Total:"}),u.jsxs("span",{children:[(v.totalDistance/1609.34).toFixed(1)," mi • ",Math.round(v.totalDuration/60)," min"]})]})})]})})]})]}),u.jsx("div",{className:`flex-1 min-w-0 ${n?"h-64":""}`,children:u.jsx("div",{ref:T,className:"w-full h-full rounded-lg border shadow-sm"})})]})}),d&&u.jsxs(Tn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"absolute bottom-4 left-4 right-4 bg-white rounded-lg shadow-lg p-4 border",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"font-medium",children:d.title}),u.jsx(q,{variant:"ghost",size:"sm",onClick:()=>f(null),children:"×"})]}),u.jsxs("div",{className:"mt-2 space-y-2",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Bi,{className:"h-4 w-4 text-gray-400"}),u.jsx("span",{className:"text-sm",children:d.location})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Tr,{className:"h-4 w-4 text-gray-400"}),u.jsxs("span",{className:"text-sm",children:["Due: ",er(new Date(d.dueDate),"PPP")]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("span",{className:`text-sm px-2 py-1 rounded ${d.priority==="high"?"bg-red-100 text-red-800":d.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[d.priority," priority"]}),d.completed&&u.jsx("span",{className:"text-sm px-2 py-1 rounded bg-green-100 text-green-800",children:"Completed"})]})]}),u.jsx("div",{className:"mt-3 flex justify-end",children:u.jsx(q,{size:"sm",className:"bg-primary text-white hover:bg-primary/90",onClick:()=>{if(d.coordinates){const M=`https://www.google.com/maps/dir/?api=1&destination=${d.coordinates.lat},${d.coordinates.lng}`;window.open(M,"_blank")}},children:"Get Directions"})})]}),u.jsx(cr,{open:h,onOpenChange:p,children:u.jsxs(rr,{children:[u.jsxs(nr,{children:[u.jsx(ir,{children:"Route Preferences"}),u.jsx(xi,{children:"Customize how your route is calculated"})]}),u.jsx(_7e,{preferences:m,onPreferencesChange:O}),u.jsx(Jn,{children:u.jsx(q,{onClick:()=>p(!1),children:"Save Preferences"})})]})}),u.jsx(ek,{isOpen:x,onClose:()=>w(!1),onSubmit:z})]})}const eA=["Trader Joe's","Kroger","Walmart","Target","Costco","Whole Foods","Aldi"],A7e=({isOpen:t,onClose:e,onSubmit:r})=>{const[n,i]=_.useState(""),[a,o]=_.useState("20"),[s,l]=_.useState(new Date),[c,d]=_.useState({}),[f,h]=_.useState(!1),[p,m]=_.useState(!1),[g,v]=_.useState(eA);_.useEffect(()=>{t&&(i(""),o("20"),d({}),m(!1),l(new Date))},[t]),_.useEffect(()=>{const S={};n.trim()||(S.store="Store name is required");const E=parseInt(a);isNaN(E)||E<5?S.eta="ETA must be at least 5 minutes":E>120&&(S.eta="ETA cannot exceed 120 minutes"),d(S),h(Object.keys(S).length===0)},[n,a]),_.useEffect(()=>{if(n.trim()){const S=eA.filter(E=>E.toLowerCase().includes(n.toLowerCase()));v(S)}else v(eA)},[n]);const y=S=>{if(S.preventDefault(),!f){console.log("Cannot broadcast trip: Form is invalid.");return}const E=sCe(n),T=E?{lat:E.lat,lng:E.lng}:{lat:39.9622,lng:-83.0007};r({store:n,eta:a,date:s.toISOString(),coordinates:T}),i(""),o("20"),l(new Date),e()},x=S=>{i(S.target.value),m(!0)},w=S=>{i(S),m(!1)};return u.jsx(cr,{open:t,onOpenChange:e,children:u.jsxs(rr,{className:"sm:max-w-md",children:[u.jsxs(nr,{children:[u.jsxs(ir,{className:"flex items-center gap-2 bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-green-500",children:[u.jsx(lr,{className:"h-5 w-5 text-blue-500"}),"I'm heading to..."]}),u.jsx(xi,{children:"Let others know you're making a shopping trip and they can request items."})]}),u.jsxs("form",{onSubmit:y,className:"space-y-4 pt-4",children:[u.jsxs("div",{className:"space-y-2 relative",children:[u.jsxs(oe,{htmlFor:"store",className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(rw,{className:"h-4 w-4 text-blue-500"}),u.jsx("span",{children:"Store"})]}),c.store&&u.jsxs("span",{className:"text-xs text-destructive flex items-center",children:[u.jsx(xo,{className:"h-3 w-3 mr-1"}),c.store]})]}),u.jsx(De,{id:"store",placeholder:"e.g. Trader Joe's, Costco, Target",value:n,onChange:x,onFocus:()=>m(!0),onBlur:()=>{setTimeout(()=>m(!1),200)},className:`premium-card ${c.store?"border-destructive":""}`}),u.jsx(LT,{children:p&&g.length>0&&u.jsx(Tn.div,{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:u.jsx("ul",{className:"py-1",children:g.map((S,E)=>u.jsxs(Tn.li,{className:"px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer text-sm flex items-center",onClick:()=>w(S),whileHover:{x:5},children:[u.jsx(rw,{className:"h-3 w-3 mr-2 text-blue-500"}),S]},E))})})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(oe,{htmlFor:"eta",className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Tr,{className:"h-4 w-4 mr-1 text-blue-500"}),"Time until arrival"]}),c.eta&&u.jsxs("span",{className:"text-xs text-destructive flex items-center",children:[u.jsx(xo,{className:"h-3 w-3 mr-1"}),c.eta]})]}),u.jsxs("div",{className:"flex gap-3 items-center",children:[u.jsx(De,{id:"eta",type:"number",min:"5",max:"120",value:a,onChange:S=>o(S.target.value),className:`w-24 premium-card ${c.eta?"border-destructive":""}`}),u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"minutes"})]}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center",children:[u.jsx(RH,{className:"h-3 w-3 mr-1"}),"Let others know when you expect to arrive at the store"]})]}),u.jsxs("div",{children:[u.jsx(oe,{children:"Date"}),u.jsxs(Yg,{children:[u.jsx(Xg,{asChild:!0,children:u.jsxs(q,{variant:"outline",className:Pe("w-full justify-start text-left font-normal",!s&&"text-muted-foreground"),children:[u.jsx(Vu,{className:"mr-2 h-4 w-4"}),s?er(s,"PPP"):u.jsx("span",{children:"Pick a date"})]})}),u.jsx(eh,{className:"w-auto p-0",align:"start",children:u.jsx(z2,{mode:"single",selected:s,onSelect:S=>l(S||new Date),initialFocus:!0})})]})]}),u.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[u.jsx(q,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),u.jsx(q,{type:"submit",disabled:!f,className:"bg-gradient-to-r from-blue-500 to-green-500 text-white hover:from-blue-600 hover:to-green-600",children:"Create Trip"})]})]})]})})};function C7e(){const{tasks:t,trips:e,addTask:r,addTrip:n}=yo(),{isAdmin:i}=xr(),{currentTier:a,limits:o,checkLimit:s}=h0(),[l,c]=_.useState(!1),[d,f]=_.useState(!1),[h,p]=_.useState(null),m=t.filter(E=>!E.completed).length,g=i||s("maxActiveTasks",m),v=t.filter(E=>E.coordinates).length,y=e.filter(E=>E.coordinates&&E.status!=="completed"&&E.status!=="cancelled").length,x=v+y+1,w=E=>{if(!g){console.warn(`You've reached the limit of ${o.maxActiveTasks} active tasks on your ${a} plan. Upgrade required.`);return}r(E),console.log("Task created successfully!"),c(!1)},S=E=>{n({store:E.store,location:E.store,coordinates:E.coordinates,eta:E.eta,date:E.date,participants:[],shopper:{name:"You",avatar:"https://example.com/avatar.jpg"},items:[]}),console.log("Trip created:",E),f(!1)};return u.jsxs(ca,{children:[u.jsxs("div",{className:"p-4 md:p-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[u.jsx(Bi,{className:"w-6 h-6"}),"Map & Routes",!i&&u.jsx(lt,{variant:a==="free"?"destructive":a==="plus"?"secondary":"default",className:"text-xs",children:a==="free"?"🔒 FREE PLAN":a==="plus"?"⭐ PLUS PLAN":"👑 PREMIUM PLAN"})]}),u.jsxs("p",{className:"text-slate-500",children:["View your tasks and trips on the map, and optimize your routes",!i&&a==="free"&&u.jsxs("span",{className:"text-red-600 font-medium",children:[" • Limited to ",o.maxActiveTasks," tasks"]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(q,{size:"sm",onClick:()=>f(!0),children:[u.jsx(lr,{className:"w-4 h-4 mr-2"}),"New Trip"]}),u.jsxs(q,{variant:"outline",size:"sm",onClick:()=>g?c(!0):console.warn("Task limit reached"),disabled:!g,className:g?"":"border-red-500 text-red-600 bg-red-50",children:[u.jsx(Nr,{className:"w-4 h-4 mr-2"}),g?"Add Task":"🔒 Task Limit Reached",!i&&u.jsxs("span",{className:`ml-2 text-xs px-2 py-1 rounded ${g?"bg-gray-100":"bg-red-200 text-red-800"}`,children:[m,"/",o.maxActiveTasks===1/0?"∞":o.maxActiveTasks]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[u.jsx(Ne,{className:"border-none shadow-sm",children:u.jsx(Ie,{className:"p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:u.jsx(Bi,{className:"w-5 h-5 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-slate-500",children:"Total Locations"}),u.jsx("p",{className:"text-2xl font-bold",children:x})]})]})})}),u.jsx(Ne,{className:"border-none shadow-sm",children:u.jsx(Ie,{className:"p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:u.jsx(z1e,{className:"w-5 h-5 text-green-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-slate-500",children:"Tasks"}),u.jsx("p",{className:"text-2xl font-bold",children:v})]})]})})}),u.jsx(Ne,{className:"border-none shadow-sm",children:u.jsx(Ie,{className:"p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:u.jsx(lr,{className:"w-5 h-5 text-purple-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-slate-500",children:"Trips"}),u.jsx("p",{className:"text-2xl font-bold",children:y})]})]})})})]}),x===0?u.jsx(Ne,{className:"border-none shadow-sm",children:u.jsx(Ie,{className:"p-8",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Bi,{className:"w-8 h-8 text-slate-400"})}),u.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:"No locations to display"}),u.jsx("p",{className:"text-slate-500 mb-6",children:"Add tasks with locations or create shopping trips to see them on the map"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[u.jsxs(q,{variant:"outline",onClick:()=>g?c(!0):console.warn("Task limit reached"),disabled:!g,className:g?"":"border-red-500 text-red-600 bg-red-50",children:[u.jsx(Nr,{className:"w-4 h-4 mr-2"}),g?"Add Task":"🔒 Task Limit Reached",!i&&u.jsxs("span",{className:`ml-2 text-xs px-2 py-1 rounded ${g?"bg-gray-100":"bg-red-200 text-red-800"}`,children:[m,"/",o.maxActiveTasks===1/0?"∞":o.maxActiveTasks]})]}),u.jsxs(q,{onClick:()=>f(!0),children:[u.jsx(lr,{className:"w-4 h-4 mr-2"}),"Create Trip"]})]})]})})}):u.jsx("div",{className:"w-full h-[600px]",children:u.jsx(E7e,{})})]}),u.jsx(ek,{isOpen:l,onClose:()=>c(!1),onSubmit:w}),u.jsx(A7e,{isOpen:d,onClose:()=>f(!1),onSubmit:S})]})}function T7e(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function N7e(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var I7e=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),P7e=function(t){I7e(e,t);function e(r,n){var i=this.constructor,a=t.call(this,r,n)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),T7e(a,i.prototype),N7e(a),a}return e}(Error),O7e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qi=function(t){O7e(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(P7e),j7e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ka=function(t){j7e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(qi),k7e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ue=function(t){k7e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(qi),R7e=function(){function t(e){if(this.binarizer=e,e===null)throw new Ue("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var a=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(a))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),D7e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gn=function(t){D7e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(qi),M7e=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),zt=function(){function t(){}return t.arraycopy=function(e,r,n,i,a){for(;a--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),L7e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yk=function(t){L7e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(qi),$7e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bL=function(t){$7e(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(Yk),F7e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Jr=function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var a=r;a<n;a++)e[a]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new Ue("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new bL(r);if(n>e)throw new bL(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var a=F7e(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=31*i+s}}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,a=new Int32Array(i);return zt.arraycopy(e,r,a,0,i),a},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,s=n(r,e[o]);if(s>0)i=o+1;else if(s<0)a=o-1;else return o}return-i-1},t.numberComparator=function(e,r){return e-r},t}(),et=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),vn=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);zt.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=n[i]}var s=i*32+et.numberOfTrailingZeros(a);return s>r?r:s},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=~n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=~n[i]}var s=i*32+et.numberOfTrailingZeros(a);return s>r?r:s},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new Ue;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),a=this.bits,o=n;o<=i;o++){var s=o>n?0:e&31,l=o<i?31:r&31,c=(2<<l)-(1<<s);a[o]|=c}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new Ue;if(r===e)return!0;r--;for(var i=Math.floor(e/32),a=Math.floor(r/32),o=this.bits,s=i;s<=a;s++){var l=s>i?0:e&31,c=s<a?31:r&31,d=(2<<c)-(1<<l)&4294967295;if((o[s]&d)!==(n?d:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new Ue("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new Ue("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var a=0;a<i;a++){for(var o=0,s=0;s<8;s++)this.get(e)&&(o|=1<<7-s),e++;r[n+a]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,a=0;a<n;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[r-a]=o}if(this.size!==n*32){for(var s=n*32-this.size,l=e[0]>>>s,a=1;a<n;a++){var c=e[a];l|=c<<32-s,e[a-1]=l,l=c>>>s}e[n-1]=l}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&Jr.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+Jr.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t}(),pN;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(pN||(pN={}));const ar=pN;var B7e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ee=function(t){B7e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(qi),U7e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},At;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(At||(At={}));var Qr=function(){function t(e,r,n){for(var i,a,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var l=this.values,c=0,d=l.length;c!==d;c++){var f=l[c];t.VALUES_TO_ECI.set(f,this)}try{for(var h=U7e(o),p=h.next();!p.done;p=h.next()){var m=p.value;t.NAME_TO_ECI.set(m,this)}}catch(g){i={error:g}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new Ee("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new Ee("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new Ee("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(At.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(At.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(At.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(At.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(At.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(At.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(At.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(At.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(At.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(At.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(At.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(At.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(At.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(At.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(At.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(At.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(At.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(At.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(At.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(At.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(At.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(At.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(At.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(At.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(At.Big5,28,"Big5"),t.GB18030=new t(At.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(At.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),V7e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Y1=function(t){V7e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(qi),Pa=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof Qr?e:Qr.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",a=0,o=e.length;a<o;a++){var s=e[a].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(n.equals(Qr.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Y1("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(Qr.UTF8)||e.equals(Qr.ISO8859_1)||e.equals(Qr.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],a=0;a<n.length;a++)i.push(n[a].charCodeAt(0));return new Uint8Array(i)},t}(),ht=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return Pa.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(ar.CHARACTER_SET)!==void 0)return r.get(ar.CHARACTER_SET).toString();for(var n=e.length,i=!0,a=!0,o=!0,s=0,l=0,c=0,d=0,f=0,h=0,p=0,m=0,g=0,v=0,y=0,x=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,w=0;w<n&&(i||a||o);w++){var S=e[w]&255;o&&(s>0?S&128?s--:o=!1:S&128&&(S&64?(s++,S&32?(s++,S&16?(s++,S&8?o=!1:d++):c++):l++):o=!1)),i&&(S>127&&S<160?i=!1:S>159&&(S<192||S===215||S===247)&&y++),a&&(f>0?S<64||S===127||S>252?a=!1:f--:S===128||S===160||S>239?a=!1:S>160&&S<224?(h++,m=0,p++,p>g&&(g=p)):S>127?(f++,p=0,m++,m>v&&(v=m)):(p=0,m=0))}return o&&s>0&&(o=!1),a&&f>0&&(a=!1),o&&(x||l+c+d>0)?t.UTF8:a&&(t.ASSUME_SHIFT_JIS||g>=3||v>=3)?t.SHIFT_JIS:i&&a?g===2&&h===2||y*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:a?t.SHIFT_JIS:o?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function a(s,l,c,d,f,h){if(s==="%%")return"%";if(r[++i]!==void 0){s=d?parseInt(d.substr(1)):void 0;var p=f?parseInt(f.substr(1)):void 0,m;switch(h){case"s":m=r[i];break;case"c":m=r[i][0];break;case"f":m=parseFloat(r[i]).toFixed(s);break;case"p":m=parseFloat(r[i]).toPrecision(s);break;case"e":m=parseFloat(r[i]).toExponential(s);break;case"x":m=parseInt(r[i]).toString(p||16);break;case"d":m=parseFloat(parseInt(r[i],p||10).toPrecision(s)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(p);for(var g=parseInt(c),v=c&&c[0]+""=="0"?"0":" ";m.length<g;)m=l!==void 0?m+v:v+m;return m}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},t.getBytes=function(e,r){return Pa.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=Qr.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=Qr.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=Qr.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),Qe=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ht.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t}(),es=function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new Ue("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),a=0;a<r;a++)for(var o=e[a],s=0;s<n;s++)o[s]&&i.set(s,a);return i},t.parseFromString=function(e,r,n){if(e===null)throw new Ue("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,s=-1,l=0,c=0;c<e.length;)if(e.charAt(c)===`
`||e.charAt(c)==="\r"){if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new Ue("row lengths do not match");o=a,l++}c++}else if(e.substring(c,c+r.length)===r)c+=r.length,i[a]=!0,a++;else if(e.substring(c,c+n.length)===n)c+=n.length,i[a]=!1,a++;else throw new Ue("illegal character encountered: "+e.substring(c));if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new Ue("row lengths do not match");l++}for(var d=new t(s,l),f=0;f<a;f++)i[f]&&d.set(Math.floor(f%s),Math.floor(f/s));return d},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Ue("input matrix dimensions do not match");for(var r=new vn(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var s=a*n,l=e.getRow(a,r).getBitArray(),c=0;c<n;c++)i[s+c]^=l[c]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new Ue("Left and top must be nonnegative");if(i<1||n<1)throw new Ue("Height and width must be at least 1");var a=e+n,o=r+i;if(o>this.height||a>this.width)throw new Ue("The region must fit inside the matrix");for(var s=this.rowSize,l=this.bits,c=r;c<o;c++)for(var d=c*s,f=e;f<a;f++)l[d+Math.floor(f/32)]|=1<<(f&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new vn(this.width):r.clear();for(var n=this.rowSize,i=this.bits,a=e*n,o=0;o<n;o++)r.setBulk(o*32,i[a+o]);return r},t.prototype.setRow=function(e,r){zt.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new vn(e),i=new vn(e),a=0,o=Math.floor((r+1)/2);a<o;a++)n=this.getRow(a,n),i=this.getRow(r-1-a,i),n.reverse(),i.reverse(),this.setRow(a,i),this.setRow(r-1-a,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,a=e,o=r,s=-1,l=-1,c=0;c<r;c++)for(var d=0;d<n;d++){var f=i[c*n+d];if(f!==0){if(c<o&&(o=c),c>l&&(l=c),d*32<a){for(var h=0;!(f<<31-h&4294967295);)h++;d*32+h<a&&(a=d*32+h)}if(d*32+31>s){for(var h=31;!(f>>>h);)h--;d*32+h>s&&(s=d*32+h)}}}return s<a||l<o?null:Int32Array.from([a,o,s-a+1,l-o+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,a=n%e*32,o=r[n],s=0;!(o<<31-s&4294967295);)s++;return a+=s,Int32Array.from([a,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),a=Math.floor(n%e)*32,o=r[n],s=31;!(o>>>s);)s--;return a+=s,Int32Array.from([a,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&Jr.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Jr.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new Qe,a=0,o=this.height;a<o;a++){for(var s=0,l=this.width;s<l;s++)i.append(this.get(s,a)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),z7e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ie=function(t){z7e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(qi),W7e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),H7e=function(t){W7e(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),a=i.getWidth();n==null||n.getSize()<a?n=new vn(a):n.clear(),this.initArrays(a);for(var o=i.getRow(r,this.luminances),s=this.buckets,l=0;l<a;l++)s[(o[l]&255)>>e.LUMINANCE_SHIFT]++;var c=e.estimateBlackPoint(s);if(a<3)for(var l=0;l<a;l++)(o[l]&255)<c&&n.set(l);else for(var d=o[0]&255,f=o[1]&255,l=1;l<a-1;l++){var h=o[l+1]&255;(f*4-d-h)/2<c&&n.set(l),d=f,f=h}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),a=new es(n,i);this.initArrays(n);for(var o=this.buckets,s=1;s<5;s++)for(var l=Math.floor(i*s/5),c=r.getRow(l,this.luminances),d=Math.floor(n*4/5),f=Math.floor(n/5);f<d;f++){var h=c[f]&255;o[h>>e.LUMINANCE_SHIFT]++}for(var p=e.estimateBlackPoint(o),m=r.getMatrix(),s=0;s<i;s++)for(var g=s*n,f=0;f<n;f++){var h=m[g+f]&255;h<p&&a.set(f,s)}return a},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,a=0,o=0,s=0;s<n;s++)r[s]>o&&(a=s,o=r[s]),r[s]>i&&(i=r[s]);for(var l=0,c=0,s=0;s<n;s++){var d=s-a,f=r[s]*d*d;f>c&&(l=s,c=f)}if(a>l){var h=a;a=l,l=h}if(l-a<=n/16)throw new ie;for(var p=l-1,m=-1,s=l-1;s>a;s--){var g=s-a,f=g*g*(l-s)*(i-r[s]);f>m&&(p=s,m=f)}return p<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(M7e),G7e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),q7e=function(t){G7e(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=r.getMatrix(),o=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&o++;var s=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&s++;var l=e.calculateBlackPoints(a,o,s,n,i),c=new es(n,i);e.calculateThresholdForBlock(a,o,s,n,i,l,c),this.matrix=c}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,a,o,s,l){for(var c=o-e.BLOCK_SIZE,d=a-e.BLOCK_SIZE,f=0;f<i;f++){var h=f<<e.BLOCK_SIZE_POWER;h>c&&(h=c);for(var p=e.cap(f,2,i-3),m=0;m<n;m++){var g=m<<e.BLOCK_SIZE_POWER;g>d&&(g=d);for(var v=e.cap(m,2,n-3),y=0,x=-2;x<=2;x++){var w=s[p+x];y+=w[v-2]+w[v-1]+w[v]+w[v+1]+w[v+2]}var S=y/25;e.thresholdBlock(r,g,h,S,a,l)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,a,o,s){for(var l=0,c=i*o+n;l<e.BLOCK_SIZE;l++,c+=o)for(var d=0;d<e.BLOCK_SIZE;d++)(r[c+d]&255)<=a&&s.set(n+d,i+l)},e.calculateBlackPoints=function(r,n,i,a,o){for(var s=o-e.BLOCK_SIZE,l=a-e.BLOCK_SIZE,c=new Array(i),d=0;d<i;d++){c[d]=new Int32Array(n);var f=d<<e.BLOCK_SIZE_POWER;f>s&&(f=s);for(var h=0;h<n;h++){var p=h<<e.BLOCK_SIZE_POWER;p>l&&(p=l);for(var m=0,g=255,v=0,y=0,x=f*a+p;y<e.BLOCK_SIZE;y++,x+=a){for(var w=0;w<e.BLOCK_SIZE;w++){var S=r[x+w]&255;m+=S,S<g&&(g=S),S>v&&(v=S)}if(v-g>e.MIN_DYNAMIC_RANGE)for(y++,x+=a;y<e.BLOCK_SIZE;y++,x+=a)for(var w=0;w<e.BLOCK_SIZE;w++)m+=r[x+w]&255}var E=m>>e.BLOCK_SIZE_POWER*2;if(v-g<=e.MIN_DYNAMIC_RANGE&&(E=g/2,d>0&&h>0)){var T=(c[d-1][h]+2*c[d][h-1]+c[d-1][h-1])/4;g<T&&(E=T)}c[d][h]=E}}return c},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(H7e),x_=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new Y1("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new Y1("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new Y1("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new Qe,n=0;n<this.height;n++){for(var i=this.getRow(n,e),a=0;a<this.width;a++){var o=i[a]&255,s=void 0;o<64?s="#":o<128?s="+":o<192?s=".":s=" ",r.append(s)}r.append(`
`)}return r.toString()},t}(),K7e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xk=function(t){K7e(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),a=0;a<n;a++)i[a]=255-(r[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,a){return new e(this.delegate.crop(r,n,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(x_),Y7e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),X7e=function(t){Y7e(e,t);function e(r,n){n===void 0&&(n=!1);var i=t.call(this,r.width,r.height)||this;return i.canvas=r,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(r,n),i}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var i=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,i,a){a===void 0&&(a=!1);var o=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var s=0,l=0,c=r.length;s<c;s+=4,l++){var d=void 0,f=r[s+3];if(f===0)d=255;else{var h=r[s],p=r[s+1],m=r[s+2];d=306*h+601*p+117*m+512>>10}o[l]=d}else for(var s=0,l=0,g=r.length;s<g;s+=4,l++){var d=void 0,f=r[s+3];if(f===0)d=255;else{var h=r[s],p=r[s+1],m=r[s+2];d=306*h+601*p+117*m+512>>10}o[l]=255-d}return o},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Ue("Requested row is outside the image: "+r);var i=this.getWidth(),a=r*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return t.prototype.crop.call(this,r,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),a=r*e.DEGREE_TO_RADIANS,o=this.canvas.width,s=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*s),c=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*s);return n.width=l,n.height=c,i.translate(l/2,c/2),i.rotate(a),i.drawImage(this.canvas,o/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new Xk(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(x_),Q7e=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),si=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((n=n.apply(t,e||[])).next())})},li=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(d){c=[6,d],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Z7e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fp=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return si(this,void 0,void 0,function(){var e,r,n,i,a,o,s,l,c,d,f,h;return li(this,function(p){switch(p.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=p.sent(),r=[];try{for(n=Z7e(e),i=n.next();!i.done;i=n.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(s=a.deviceId||a.id,l=a.label||"Video device "+(r.length+1),c=a.groupId,d={deviceId:s,label:l,kind:o,groupId:c},r.push(d))}catch(m){f={error:m}}finally{try{i&&!i.done&&(h=n.return)&&h.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return si(this,void 0,void 0,function(){var e;return li(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new Q7e(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return si(this,void 0,void 0,function(){var r;return li(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return si(this,void 0,void 0,function(){return li(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return si(this,void 0,void 0,function(){var n,i;return li(this,function(a){switch(a.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return si(this,void 0,void 0,function(){var n;return li(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return si(this,void 0,void 0,function(){var n,i;return li(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=a.sent(),[4,this.decodeOnce(n)];case 2:return i=a.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return si(this,void 0,void 0,function(){return li(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return si(this,void 0,void 0,function(){var i,a;return li(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return si(this,void 0,void 0,function(){var i;return li(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,a.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return si(this,void 0,void 0,function(){var i;return li(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,a.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return si(this,void 0,void 0,function(){var n;return li(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return si(this,void 0,void 0,function(){return li(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new Ka("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new Ka("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new Ka("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new Ka("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new Ka("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new Ka("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Ka("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new Ka("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Ka("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new Ka("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return si(this,void 0,void 0,function(){return li(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return si(this,void 0,void 0,function(){return li(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var a=function(o,s){if(i._stopAsyncDecode){s(new ie("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var l=i.decode(e);o(l)}catch(h){var c=r&&h instanceof ie,d=h instanceof gn||h instanceof Ee,f=d&&n;if(c||f)return setTimeout(a,i._timeBetweenDecodingAttempts,o,s);s(h)}};return new Promise(function(o,s){return a(o,s)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var a=n.decode(e);r(a,null),setTimeout(i,n.timeBetweenScansMillis)}catch(l){r(null,l);var o=l instanceof gn||l instanceof Ee,s=l instanceof ie;(o||s)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new X7e(n,r),a=new q7e(i);return new R7e(a)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),oi=function(){function t(e,r,n,i,a,o){n===void 0&&(n=r==null?0:8*r.length),o===void 0&&(o=zt.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=zt.currentTimeMillis():this.timestamp=o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);zt.arraycopy(r,0,n,0,r.length),zt.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),mN;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(mN||(mN={}));const $e=mN;var gN;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(gN||(gN={}));const Nn=gN;var w_=function(){function t(e,r,n,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),Pm=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Ue;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),tc=function(){function t(e,r){if(r.length===0)throw new Ue;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),zt.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,a=r.length;i!==a;i++){var o=r[i];n=Pm.addOrSubtract(n,o)}return n}n=r[0];for(var s=r.length,l=this.field,i=1;i<s;i++)n=Pm.addOrSubtract(l.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Ue("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;zt.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=Pm.addOrSubtract(r[s-o],n[s]);return new t(this.field,a)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Ue("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=this.field,l=0;l<n;l++)for(var c=r[l],d=0;d<a;d++)o[l+d]=Pm.addOrSubtract(o[l+d],s.multiply(c,i[d]));return new t(s,o)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),a=this.coefficients,o=0;o<r;o++)i[o]=n.multiply(a[o],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Ue;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+e),o=this.field,s=0;s<i;s++)a[s]=o.multiply(n[s],r);return new t(o,a)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Ue("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Ue("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=r.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var s=i.getDegree()-e.getDegree(),l=r.multiply(i.getCoefficient(i.getDegree()),o),c=e.multiplyByMonomial(s,l),d=r.buildMonomial(s,l);n=n.addOrSubtract(d),i=i.addOrSubtract(c)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),J7e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),XZ=function(t){J7e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(qi),eBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Oi=function(t){eBe(e,t);function e(r,n,i){var a=t.call(this)||this;a.primitive=r,a.size=n,a.generatorBase=i;for(var o=new Int32Array(n),s=1,l=0;l<n;l++)o[l]=s,s*=2,s>=n&&(s^=r,s&=n-1);a.expTable=o;for(var c=new Int32Array(n),l=0;l<n-1;l++)c[o[l]]=l;return a.logTable=c,a.zero=new tc(a,Int32Array.from([0])),a.one=new tc(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Ue;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new tc(this,i)},e.prototype.inverse=function(r){if(r===0)throw new XZ;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+et.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(Pm),tBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xy=function(t){tBe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(qi),rBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),L0=function(t){rBe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(qi),b_=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new tc(n,e),a=new Int32Array(r),o=!0,s=0;s<r;s++){var l=i.evaluateAt(n.exp(s+n.getGeneratorBase()));a[a.length-1-s]=l,l!==0&&(o=!1)}if(!o)for(var c=new tc(n,a),d=this.runEuclideanAlgorithm(n.buildMonomial(r,1),c,r),f=d[0],h=d[1],p=this.findErrorLocations(f),m=this.findErrorMagnitudes(h,p),s=0;s<p.length;s++){var g=e.length-1-n.log(p[s]);if(g<0)throw new Xy("Bad error location");e[g]=Oi.addOrSubtract(e[g],m[s])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=this.field,o=e,s=r,l=a.getZero(),c=a.getOne();s.getDegree()>=(n/2|0);){var d=o,f=l;if(o=s,l=c,o.isZero())throw new Xy("r_{i-1} was zero");s=d;for(var h=a.getZero(),p=o.getCoefficient(o.getDegree()),m=a.inverse(p);s.getDegree()>=o.getDegree()&&!s.isZero();){var g=s.getDegree()-o.getDegree(),v=a.multiply(s.getCoefficient(s.getDegree()),m);h=h.addOrSubtract(a.buildMonomial(g,v)),s=s.addOrSubtract(o.multiplyByMonomial(g,v))}if(c=h.multiply(l).addOrSubtract(f),s.getDegree()>=o.getDegree())throw new L0("Division algorithm failed to reduce polynomial?")}var y=c.getCoefficient(0);if(y===0)throw new Xy("sigmaTilde(0) was zero");var x=a.inverse(y),w=c.multiplyScalar(x),S=s.multiplyScalar(x);return[w,S]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,a=this.field,o=1;o<a.getSize()&&i<r;o++)e.evaluateAt(o)===0&&(n[i]=a.inverse(o),i++);if(i!==r)throw new Xy("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),a=this.field,o=0;o<n;o++){for(var s=a.inverse(r[o]),l=1,c=0;c<n;c++)if(o!==c){var d=a.multiply(r[c],s),f=d&1?d&-2:d|1;l=a.multiply(l,f)}i[o]=a.multiply(e.evaluateAt(s),a.inverse(l)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],s))}return i},t}(),_n;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(_n||(_n={}));var _L=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),a=t.convertBoolArrayToByteArray(i),o=t.getEncodedData(i),s=new w_(a,o,null,null);return s.setNumBits(i.length),s},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=_n.UPPER,i=_n.UPPER,a="",o=0;o<r;)if(i===_n.BINARY){if(r-o<5)break;var s=t.readCode(e,o,5);if(o+=5,s===0){if(r-o<11)break;s=t.readCode(e,o,11)+31,o+=11}for(var l=0;l<s;l++){if(r-o<8){o=r;break}var c=t.readCode(e,o,8);a+=ht.castAsNonUtf8Char(c),o+=8}i=n}else{var d=i===_n.DIGIT?4:5;if(r-o<d)break;var c=t.readCode(e,o,d);o+=d;var f=t.getCharacter(i,c);f.startsWith("CTRL_")?(n=i,i=t.getTable(f.charAt(5)),f.charAt(6)==="L"&&(n=i)):(a+=f,i=n)}return a},t.getTable=function(e){switch(e){case"L":return _n.LOWER;case"P":return _n.PUNCT;case"M":return _n.MIXED;case"D":return _n.DIGIT;case"B":return _n.BINARY;case"U":default:return _n.UPPER}},t.getCharacter=function(e,r){switch(e){case _n.UPPER:return t.UPPER_TABLE[r];case _n.LOWER:return t.LOWER_TABLE[r];case _n.MIXED:return t.MIXED_TABLE[r];case _n.PUNCT:return t.PUNCT_TABLE[r];case _n.DIGIT:return t.DIGIT_TABLE[r];default:throw new L0("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=Oi.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=Oi.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=Oi.AZTEC_DATA_10):(n=12,r=Oi.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/n;if(a<i)throw new Ee;for(var o=e.length%n,s=new Int32Array(a),l=0;l<a;l++,o+=n)s[l]=t.readCode(e,o,n);try{var c=new b_(r);c.decode(s,a-i)}catch(v){throw new Ee(v)}for(var d=(1<<n)-1,f=0,l=0;l<i;l++){var h=s[l];if(h===0||h===d)throw new Ee;(h===1||h===d-1)&&f++}for(var p=new Array(i*n-f),m=0,l=0;l<i;l++){var h=s[l];if(h===1||h===d-1)p.fill(h>1,m,m+n-1),m+=n-1;else for(var g=n-1;g>=0;--g)p[m++]=(h&1<<g)!==0}return p},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(n,r));if(r)for(var s=0;s<a.length;s++)a[s]=s;else for(var l=i+1+2*et.truncDivision(et.truncDivision(i,2)-1,15),c=i/2,d=et.truncDivision(l,2),s=0;s<c;s++){var f=s+et.truncDivision(s,15);a[c-s-1]=d-f-1,a[c+s]=d+f+1}for(var s=0,h=0;s<n;s++){for(var p=(n-s)*4+(r?9:12),m=s*2,g=i-1-m,v=0;v<p;v++)for(var y=v*2,x=0;x<2;x++)o[h+y+x]=e.get(a[m+x],a[m+v]),o[h+2*p+y+x]=e.get(a[m+v],a[g-x]),o[h+4*p+y+x]=e.get(a[g-x],a[g-v]),o[h+6*p+y+x]=e.get(a[g-v],a[m+x]);h+=p*8}return o},t.readCode=function(e,r,n){for(var i=0,a=r;a<r+n;a++)i<<=1,e[a]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),wt=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var a=e-n,o=r-i;return Math.sqrt(a*a+o*o)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var a=e[n];r+=a}return r},t}(),vN=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),Re=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*vN.floatToIntBits(this.x)+vN.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,s;if(n>=r&&n>=i?(o=e[0],a=e[1],s=e[2]):i>=n&&i>=r?(o=e[1],a=e[0],s=e[2]):(o=e[2],a=e[0],s=e[1]),this.crossProductZ(a,o,s)<0){var l=a;a=s,s=l}e[0]=a,e[1]=o,e[2]=s},t.distance=function(e,r){return wt.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,a=r.y;return(n.x-i)*(e.y-a)-(n.y-a)*(e.x-i)},t}(),Qk=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),nBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),iBe=function(t){nBe(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n)||this;return s.compact=i,s.nbDatablocks=a,s.nbLayers=o,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(Qk),yN=function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=r/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ie}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,a=!1,o=!0,s=!1,l=!1,c=!1,d=!1,f=!1,h=this.width,p=this.height;o;){o=!1;for(var m=!0;(m||!l)&&r<h;)m=this.containsBlackPoint(n,i,r,!1),m?(r++,o=!0,l=!0):l||r++;if(r>=h){a=!0;break}for(var g=!0;(g||!c)&&i<p;)g=this.containsBlackPoint(e,r,i,!0),g?(i++,o=!0,c=!0):c||i++;if(i>=p){a=!0;break}for(var v=!0;(v||!d)&&e>=0;)v=this.containsBlackPoint(n,i,e,!1),v?(e--,o=!0,d=!0):d||e--;if(e<0){a=!0;break}for(var y=!0;(y||!f)&&n>=0;)y=this.containsBlackPoint(e,r,n,!0),y?(n--,o=!0,f=!0):f||n--;if(n<0){a=!0;break}o&&(s=!0)}if(!a&&s){for(var x=r-e,w=null,S=1;w===null&&S<x;S++)w=this.getBlackPointOnSegment(e,i-S,e+S,i);if(w==null)throw new ie;for(var E=null,S=1;E===null&&S<x;S++)E=this.getBlackPointOnSegment(e,n+S,e+S,n);if(E==null)throw new ie;for(var T=null,S=1;T===null&&S<x;S++)T=this.getBlackPointOnSegment(r,n+S,r-S,n);if(T==null)throw new ie;for(var A=null,S=1;A===null&&S<x;S++)A=this.getBlackPointOnSegment(r,i-S,r-S,i);if(A==null)throw new ie;return this.centerEdges(A,w,T,E)}else throw new ie},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var a=wt.round(wt.distance(e,r,n,i)),o=(n-e)/a,s=(i-r)/a,l=this.image,c=0;c<a;c++){var d=wt.round(e+c*o),f=wt.round(r+c*s);if(l.get(d,f))return new Re(d,f)}return null},t.prototype.centerEdges=function(e,r,n,i){var a=e.getX(),o=e.getY(),s=r.getX(),l=r.getY(),c=n.getX(),d=n.getY(),f=i.getX(),h=i.getY(),p=t.CORR;return a<this.width/2?[new Re(f-p,h+p),new Re(s+p,l+p),new Re(c-p,d-p),new Re(a+p,o-p)]:[new Re(f+p,h+p),new Re(s+p,l-p),new Re(c-p,d+p),new Re(a-p,o-p)]},t.prototype.containsBlackPoint=function(e,r,n,i){var a=this.image;if(i){for(var o=e;o<=r;o++)if(a.get(o,n))return!0}else for(var s=e;s<=r;s++)if(a.get(n,s))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),SL=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<r.length&&a;o+=2){var s=Math.floor(r[o]),l=Math.floor(r[o+1]);if(s<-1||s>n||l<-1||l>i)throw new ie;a=!1,s===-1?(r[o]=0,a=!0):s===n&&(r[o]=n-1,a=!0),l===-1?(r[o+1]=0,a=!0):l===i&&(r[o+1]=i-1,a=!0)}a=!0;for(var o=r.length-2;o>=0&&a;o-=2){var s=Math.floor(r[o]),l=Math.floor(r[o+1]);if(s<-1||s>n||l<-1||l>i)throw new ie;a=!1,s===-1?(r[o]=0,a=!0):s===n&&(r[o]=n-1,a=!0),l===-1?(r[o+1]=0,a=!0):l===i&&(r[o+1]=i-1,a=!0)}},t}(),QZ=function(){function t(e,r,n,i,a,o,s,l,c){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=a,this.a32=o,this.a13=s,this.a23=l,this.a33=c}return t.quadrilateralToQuadrilateral=function(e,r,n,i,a,o,s,l,c,d,f,h,p,m,g,v){var y=t.quadrilateralToSquare(e,r,n,i,a,o,s,l),x=t.squareToQuadrilateral(c,d,f,h,p,m,g,v);return x.times(y)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,l=this.a23,c=this.a31,d=this.a32,f=this.a33,h=0;h<r;h+=2){var p=e[h],m=e[h+1],g=a*p+l*m+f;e[h]=(n*p+o*m+c)/g,e[h+1]=(i*p+s*m+d)/g}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,l=this.a23,c=this.a31,d=this.a32,f=this.a33,h=e.length,p=0;p<h;p++){var m=e[p],g=r[p],v=a*m+l*g+f;e[p]=(n*m+o*g+c)/v,r[p]=(i*m+s*g+d)/v}},t.squareToQuadrilateral=function(e,r,n,i,a,o,s,l){var c=e-n+a-s,d=r-i+o-l;if(c===0&&d===0)return new t(n-e,a-n,e,i-r,o-i,r,0,0,1);var f=n-a,h=s-a,p=i-o,m=l-o,g=f*m-h*p,v=(c*m-h*d)/g,y=(f*d-c*p)/g;return new t(n-e+v*n,s-e+y*s,e,i-r+v*i,l-r+y*l,r,v,y,1)},t.quadrilateralToSquare=function(e,r,n,i,a,o,s,l){return t.squareToQuadrilateral(e,r,n,i,a,o,s,l).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),aBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oBe=function(t){aBe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,a,o,s,l,c,d,f,h,p,m,g,v,y,x,w,S){var E=QZ.quadrilateralToQuadrilateral(a,o,s,l,c,d,f,h,p,m,g,v,y,x,w,S);return this.sampleGridWithTransform(r,n,i,E)},e.prototype.sampleGridWithTransform=function(r,n,i,a){if(n<=0||i<=0)throw new ie;for(var o=new es(n,i),s=new Float32Array(2*n),l=0;l<i;l++){for(var c=s.length,d=l+.5,f=0;f<c;f+=2)s[f]=f/2+.5,s[f+1]=d;a.transformPoints(s),SL.checkAndNudgePoints(r,s);try{for(var f=0;f<c;f+=2)r.get(Math.floor(s[f]),Math.floor(s[f+1]))&&o.set(f/2,l)}catch{throw new ie}}return o},e}(SL),Zk=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new oBe,t}(),Ai=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new Re(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),sBe=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new iBe(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new ie;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,a=0;a<4;a++){var o=n[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(a,o,s){var l=(a>>r-2<<1)+(a&1);n=(n<<3)+l}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(et.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new ie},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var a=n-i,o=new Int32Array(n),s=n-1;s>=0;--s)o[s]=e&15,e>>=4;try{var l=new b_(Oi.AZTEC_PARAM);l.decode(o,a)}catch{throw new ie}for(var c=0,s=0;s<i;s++)c=(c<<4)+o[s];return c},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(r,o,1,-1),l=this.getFirstDifferent(n,o,1,1),c=this.getFirstDifferent(i,o,-1,1),d=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(d,s)*this.nbCenterLayers/(this.distancePoint(a,r)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(s,l,c,d))break}r=s,n=l,i=c,a=d,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ie;this.compact=this.nbCenterLayers===5;var h=new Re(r.getX()+.5,r.getY()-.5),p=new Re(n.getX()+.5,n.getY()+.5),m=new Re(i.getX()-.5,i.getY()+.5),g=new Re(a.getX()-.5,a.getY()-.5);return this.expandSquare([h,p,m,g],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var a=new yN(this.image).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new Ai(o+7,s-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Ai(o+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Ai(o-7,s+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Ai(o-7,s-7),!1,-1,-1).toResultPoint()}var l=wt.round((e.getX()+i.getX()+r.getX()+n.getX())/4),c=wt.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var a=new yN(this.image,15,l,c).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{e=this.getFirstDifferent(new Ai(l+7,c-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Ai(l+7,c+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Ai(l-7,c+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Ai(l-7,c-7),!1,-1,-1).toResultPoint()}return l=wt.round((e.getX()+i.getX()+r.getX()+n.getX())/4),c=wt.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new Ai(l,c)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,a){var o=Zk.getInstance(),s=this.getDimension(),l=s/2-this.nbCenterLayers,c=s/2+this.nbCenterLayers;return o.sampleGrid(e,s,s,l,l,c,l,c,c,l,c,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,a=this.distanceResultPoint(e,r),o=a/n,s=e.getX(),l=e.getY(),c=o*(r.getX()-e.getX())/a,d=o*(r.getY()-e.getY())/a,f=0;f<n;f++)this.image.get(wt.round(s+f*c),wt.round(l+f*d))&&(i|=1<<n-f-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var a=3;e=new Ai(e.getX()-a,e.getY()+a),r=new Ai(r.getX()-a,r.getY()-a),n=new Ai(n.getX()+a,n.getY()-a),i=new Ai(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var s=this.getColor(e,r);return s!==o||(s=this.getColor(r,n),s!==o)?!1:(s=this.getColor(n,i),s===o)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,a=(r.getY()-e.getY())/n,o=0,s=e.getX(),l=e.getY(),c=this.image.get(e.getX(),e.getY()),d=Math.ceil(n),f=0;f<d;f++)s+=i,l+=a,this.image.get(wt.round(s),wt.round(l))!==c&&o++;var h=o/n;return h>.1&&h<.9?0:h<=.1===c?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var a=e.getX()+n,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n,o+=i;for(a-=n,o-=i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n;for(a-=n;this.isValid(a,o)&&this.image.get(a,o)===r;)o+=i;return o-=i,new Ai(a,o)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,l=(e[0].getY()+e[2].getY())/2,c=new Re(s+i*a,l+i*o),d=new Re(s-i*a,l-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,l=(e[1].getY()+e[3].getY())/2;var f=new Re(s+i*a,l+i*o),h=new Re(s-i*a,l-i*o),p=[c,f,d,h];return p},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=wt.round(e.getX()),n=wt.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return wt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return wt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(et.truncDivision(this.nbLayers-4,8)+1)+15},t}(),xN=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new sBe(e.getBlackMatrix()),a=null,o=null;try{var s=i.detectMirror(!1);a=s.getPoints(),this.reportFoundResultPoints(r,a),o=new _L().decode(s)}catch(f){n=f}if(o==null)try{var s=i.detectMirror(!0);a=s.getPoints(),this.reportFoundResultPoints(r,a),o=new _L().decode(s)}catch(f){throw n??f}var l=new oi(o.getText(),o.getRawBytes(),o.getNumBits(),a,$e.AZTEC,zt.currentTimeMillis()),c=o.getByteSegments();c!=null&&l.putMetadata(Nn.BYTE_SEGMENTS,c);var d=o.getECLevel();return d!=null&&l.putMetadata(Nn.ERROR_CORRECTION_LEVEL,d),l},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(ar.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,a,o){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t}(),lBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){lBe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new xN,r)||this}return e})(fp);var tn=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(ar.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,r),o=a.getResultMetadata(),s=270;o!==null&&o.get(Nn.ORIENTATION)===!0&&(s=s+o.get(Nn.ORIENTATION)%360),a.putMetadata(Nn.ORIENTATION,s);var l=a.getResultPoints();if(l!==null)for(var c=i.getHeight(),d=0;d<l.length;d++)l[d]=new Re(c-l[d].getY()-1,l[d].getX());return a}else throw new ie}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),a=new vn(n),o=r&&r.get(ar.TRY_HARDER)===!0,s=Math.max(1,i>>(o?8:5)),l;o?l=i:l=15;for(var c=Math.trunc(i/2),d=0;d<l;d++){var f=Math.trunc((d+1)/2),h=(d&1)===0,p=c+s*(h?f:-f);if(p<0||p>=i)break;try{a=e.getBlackRow(p,a)}catch{continue}for(var m=function(x){if(x===1&&(a.reverse(),r&&r.get(ar.NEED_RESULT_POINT_CALLBACK)===!0)){var w=new Map;r.forEach(function(T,A){return w.set(A,T)}),w.delete(ar.NEED_RESULT_POINT_CALLBACK),r=w}try{var S=g.decodeRow(p,a,r);if(x===1){S.putMetadata(Nn.ORIENTATION,180);var E=S.getResultPoints();E!==null&&(E[0]=new Re(n-E[0].getX()-1,E[0].getY()),E[1]=new Re(n-E[1].getX()-1,E[1].getY()))}return{value:S}}catch{}},g=this,v=0;v<2;v++){var y=m(v);if(typeof y=="object")return y.value}}throw new ie},t.recordPattern=function(e,r,n){for(var i=n.length,a=0;a<i;a++)n[a]=0;var o=e.getSize();if(r>=o)throw new ie;for(var s=!e.get(r),l=0,c=r;c<o;){if(e.get(c)!==s)n[l]++;else{if(++l===i)break;n[l]=1,s=!s}c++}if(!(l===i||l===i-1&&c===o))throw new ie},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,a=e.get(r);r>0&&i>=0;)e.get(--r)!==a&&(i--,a=!a);if(i>=0)throw new ie;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=r[s];if(a<o)return Number.POSITIVE_INFINITY;var l=a/o;n*=l;for(var c=0,d=0;d<i;d++){var f=e[d],h=r[d]*l,p=f>h?f-h:h-f;if(p>n)return Number.POSITIVE_INFINITY;c+=p}return c/a},t}(),cBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),EL=function(t){cBe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),s=i,l=!1,c=6,d=i;d<n;d++)if(r.get(d)!==l)o[a]++;else{if(a===c-1){for(var f=e.MAX_AVG_VARIANCE,h=-1,p=e.CODE_START_A;p<=e.CODE_START_C;p++){var m=tn.patternMatchVariance(o,e.CODE_PATTERNS[p],e.MAX_INDIVIDUAL_VARIANCE);m<f&&(f=m,h=p)}if(h>=0&&r.isRange(Math.max(0,s-(d-s)/2),s,!1))return Int32Array.from([s,d,h]);s+=o[0]+o[1],o=o.slice(2,o.length),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,l=!l}throw new ie},e.decodeCode=function(r,n,i){tn.recordPattern(r,i,n);for(var a=e.MAX_AVG_VARIANCE,o=-1,s=0;s<e.CODE_PATTERNS.length;s++){var l=e.CODE_PATTERNS[s],c=this.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);c<a&&(a=c,o=s)}if(o>=0)return o;throw new ie},e.prototype.decodeRow=function(r,n,i){var a=i&&i.get(ar.ASSUME_GS1)===!0,o=e.findStartPattern(n),s=o[2],l=0,c=new Uint8Array(20);c[l++]=s;var d;switch(s){case e.CODE_START_A:d=e.CODE_CODE_A;break;case e.CODE_START_B:d=e.CODE_CODE_B;break;case e.CODE_START_C:d=e.CODE_CODE_C;break;default:throw new Ee}for(var f=!1,h=!1,p="",m=o[0],g=o[1],v=Int32Array.from([0,0,0,0,0,0]),y=0,x=0,w=s,S=0,E=!0,T=!1,A=!1;!f;){var C=h;switch(h=!1,y=x,x=e.decodeCode(n,v,g),c[l++]=x,x!==e.CODE_STOP&&(E=!0),x!==e.CODE_STOP&&(S++,w+=S*x),m=g,g+=v.reduce(function(W,$){return W+$},0),x){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new Ee}switch(d){case e.CODE_CODE_A:if(x<64)A===T?p+=String.fromCharCode(32+x):p+=String.fromCharCode(32+x+128),A=!1;else if(x<96)A===T?p+=String.fromCharCode(x-64):p+=String.fromCharCode(x+64),A=!1;else switch(x!==e.CODE_STOP&&(E=!1),x){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!T&&A?(T=!0,A=!1):T&&A?(T=!1,A=!1):A=!0;break;case e.CODE_SHIFT:h=!0,d=e.CODE_CODE_B;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_B:if(x<96)A===T?p+=String.fromCharCode(32+x):p+=String.fromCharCode(32+x+128),A=!1;else switch(x!==e.CODE_STOP&&(E=!1),x){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!T&&A?(T=!0,A=!1):T&&A?(T=!1,A=!1):A=!0;break;case e.CODE_SHIFT:h=!0,d=e.CODE_CODE_A;break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_C:if(x<100)x<10&&(p+="0"),p+=x;else switch(x!==e.CODE_STOP&&(E=!1),x){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+="");break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_STOP:f=!0;break}break}C&&(d=d===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var N=g-m;if(g=n.getNextUnset(g),!n.isRange(g,Math.min(n.getSize(),g+(g-m)/2),!1))throw new ie;if(w-=S*y,w%103!==y)throw new gn;var I=p.length;if(I===0)throw new ie;I>0&&E&&(d===e.CODE_CODE_C?p=p.substring(0,I-2):p=p.substring(0,I-1));for(var P=(o[1]+o[0])/2,k=m+N/2,O=c.length,L=new Uint8Array(O),z=0;z<O;z++)L[z]=c[z];var M=[new Re(P,r),new Re(k,r)];return new oi(p,L,0,M,$e.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(tn),uBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},AL=function(t){uBe(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var a,o,s,l,c=this.counters;c.fill(0),this.decodeRowResult="";var d=e.findAsteriskPattern(n,c),f=n.getNextSet(d[1]),h=n.getSize(),p,m;do{e.recordPattern(n,f,c);var g=e.toNarrowWidePattern(c);if(g<0)throw new ie;p=e.patternToChar(g),this.decodeRowResult+=p,m=f;try{for(var v=(a=void 0,tA(c)),y=v.next();!y.done;y=v.next()){var x=y.value;f+=x}}catch(O){a={error:O}}finally{try{y&&!y.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}f=n.getNextSet(f)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var S=tA(c),E=S.next();!E.done;E=S.next()){var x=E.value;w+=x}}catch(O){s={error:O}}finally{try{E&&!E.done&&(l=S.return)&&l.call(S)}finally{if(s)throw s.error}}var T=f-m-w;if(f!==h&&T*2<w)throw new ie;if(this.usingCheckDigit){for(var A=this.decodeRowResult.length-1,C=0,N=0;N<A;N++)C+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(N));if(this.decodeRowResult.charAt(A)!==e.ALPHABET_STRING.charAt(C%43))throw new gn;this.decodeRowResult=this.decodeRowResult.substring(0,A)}if(this.decodeRowResult.length===0)throw new ie;var I;this.extendedMode?I=e.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;var P=(d[1]+d[0])/2,k=m+w/2;return new oi(I,null,0,[new Re(P,r),new Re(k,r)],$e.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),a=r.getNextSet(0),o=0,s=a,l=!1,c=n.length,d=a;d<i;d++)if(r.get(d)!==l)n[o]++;else{if(o===c-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,s-Math.floor((d-s)/2)),s,!1))return[s,d];s+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,l=!l}throw new ie},e.toNarrowWidePattern=function(r){var n,i,a=r.length,o=0,s;do{var l=2147483647;try{for(var c=(n=void 0,tA(r)),d=c.next();!d.done;d=c.next()){var f=d.value;f<l&&f>o&&(l=f)}}catch(g){n={error:g}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}o=l,s=0;for(var h=0,p=0,m=0;m<a;m++){var f=r[m];f>o&&(p|=1<<a-1-m,s++,h+=f)}if(s===3){for(var m=0;m<a&&s>0;m++){var f=r[m];if(f>o&&(s--,f*2>=h))return-1}return p}}while(s>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new ie},e.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var s=r.charAt(a+1),l="\0";switch(o){case"+":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new Ee;break;case"$":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new Ee;break;case"%":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s==="X"||s==="Y"||s==="Z")l="";else throw new Ee;break;case"/":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new Ee;break}i+=l,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(tn),dBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},CL=function(t){dBe(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,i){var a,o,s,l,c=this.findAsteriskPattern(n),d=n.getNextSet(c[1]),f=n.getSize(),h=this.counters;h.fill(0),this.decodeRowResult="";var p,m;do{e.recordPattern(n,d,h);var g=this.toPattern(h);if(g<0)throw new ie;p=this.patternToChar(g),this.decodeRowResult+=p,m=d;try{for(var v=(a=void 0,rA(h)),y=v.next();!y.done;y=v.next()){var x=y.value;d+=x}}catch(N){a={error:N}}finally{try{y&&!y.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}d=n.getNextSet(d)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var S=rA(h),E=S.next();!E.done;E=S.next()){var x=E.value;w+=x}}catch(N){s={error:N}}finally{try{E&&!E.done&&(l=S.return)&&l.call(S)}finally{if(s)throw s.error}}if(d===f||!n.get(d))throw new ie;if(this.decodeRowResult.length<2)throw new ie;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var T=this.decodeExtended(this.decodeRowResult),A=(c[1]+c[0])/2,C=m+w/2;return new oi(T,null,0,[new Re(A,r),new Re(C,r)],$e.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),i=r.getNextSet(0);this.counters.fill(0);for(var a=this.counters,o=i,s=!1,l=a.length,c=0,d=i;d<n;d++)if(r.get(d)!==s)a[c]++;else{if(c===l-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([o,d]);o+=a[0]+a[1],a.copyWithin(0,2,2+c-1),a[c-1]=0,a[c]=0,c--}else c++;a[c]=1,s=!s}throw new ie},e.prototype.toPattern=function(r){var n,i,a=0;try{for(var o=rA(r),s=o.next();!s.done;s=o.next()){var l=s.value;a+=l}}catch(m){n={error:m}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}for(var c=0,d=r.length,f=0;f<d;f++){var h=Math.round(r[f]*9/a);if(h<1||h>4)return-1;if(f&1)c<<=h;else for(var p=0;p<h;p++)c=c<<1|1}return c},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new ie},e.prototype.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o>="a"&&o<="d"){if(a>=n-1)throw new Ee;var s=r.charAt(a+1),l="\0";switch(o){case"d":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new Ee;break;case"a":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new Ee;break;case"b":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s>="X"&&s<="Z")l="";else throw new Ee;break;case"c":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new Ee;break}i+=l,a++}else i+=o}return i},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,i){for(var a=1,o=0,s=n-1;s>=0;s--)o+=a*e.ALPHABET_STRING.indexOf(r.charAt(s)),++a>i&&(a=1);if(r.charAt(n)!==e.ALPHABET_STRING[o%47])throw new gn},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(tn),fBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),hBe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TL=function(t){fBe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var a,o,s=this.decodeStart(n),l=this.decodeEnd(n),c=new Qe;e.decodeMiddle(n,s[1],l[0],c);var d=c.toString(),f=null;i!=null&&(f=i.get(ar.ALLOWED_LENGTHS)),f==null&&(f=e.DEFAULT_ALLOWED_LENGTHS);var h=d.length,p=!1,m=0;try{for(var g=hBe(f),v=g.next();!v.done;v=g.next()){var y=v.value;if(h===y){p=!0;break}y>m&&(m=y)}}catch(S){a={error:S}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}if(!p&&h>m&&(p=!0),!p)throw new Ee;var x=[new Re(s[1],r),new Re(l[0],r)],w=new oi(d,null,0,x,$e.ITF,new Date().getTime());return w},e.decodeMiddle=function(r,n,i,a){var o=new Int32Array(10),s=new Int32Array(5),l=new Int32Array(5);for(o.fill(0),s.fill(0),l.fill(0);n<i;){tn.recordPattern(r,n,o);for(var c=0;c<5;c++){var d=2*c;s[c]=o[d],l[c]=o[d+1]}var f=e.decodeDigit(s);a.append(f.toString()),f=this.decodeDigit(l),a.append(f.toString()),o.forEach(function(h){n+=h})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var a=n-1;i>0&&a>=0&&!r.get(a);a--)i--;if(i!==0)throw new ie},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new ie;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof ie&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var a=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-a,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var a=i.length,o=new Int32Array(a),s=r.getSize(),l=!1,c=0,d=n;o.fill(0);for(var f=n;f<s;f++)if(r.get(f)!==l)o[c]++;else{if(c===a-1){if(tn.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[d,f];d+=o[0]+o[1],zt.arraycopy(o,2,o,0,c-1),o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,l=!l}throw new ie},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var s=e.PATTERNS[o],l=tn.patternMatchVariance(r,s,e.MAX_INDIVIDUAL_VARIANCE);l<n?(n=l,i=o):l===n&&(i=-1)}if(i>=0)return i%10;throw new ie},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(tn),pBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uh=function(t){pBe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,a=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,a,!1,this.START_END_PATTERN,o);var s=i[0];a=i[1];var l=s-(a-s);l>=0&&(n=r.isRange(l,s,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new Ee;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new Ee;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,a){return this.findGuardPattern(r,n,i,a,new Int32Array(a.length))},e.findGuardPattern=function(r,n,i,a,o){var s=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var l=0,c=n,d=a.length,f=i,h=n;h<s;h++)if(r.get(h)!==f)o[l]++;else{if(l===d-1){if(tn.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([c,h]);c+=o[0]+o[1];for(var p=o.slice(2,o.length),m=0;m<l-1;m++)o[m]=p[m];o[l-1]=0,o[l]=0,l--}else l++;o[l]=1,f=!f}throw new ie},e.decodeDigit=function(r,n,i,a){this.recordPattern(r,i,n);for(var o=this.MAX_AVG_VARIANCE,s=-1,l=a.length,c=0;c<l;c++){var d=a[c],f=tn.patternMatchVariance(n,d,e.MAX_INDIVIDUAL_VARIANCE);f<o&&(o=f,s=c)}if(s>=0)return s;throw new ie},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(tn),mBe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gBe=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),s=t.parseExtensionString(o),l=[new Re((n[0]+n[1])/2,e),new Re(a,e)],c=new oi(o,null,0,l,$e.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&c.putAllMetadata(s),c},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),l=r[1],c=0,d=0;d<5&&l<s;d++){var f=uh.decodeDigit(e,o,l,uh.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var h=(i=void 0,mBe(o)),p=h.next();!p.done;p=h.next()){var m=p.value;l+=m}}catch(v){i={error:v}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}f>=10&&(c|=1<<4-d),d!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==5)throw new ie;var g=this.determineCheckDigit(c);if(t.extensionChecksum(n.toString())!==g)throw new ie;return l},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new ie},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[Nn.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),a=n%100,o=a<10?"0"+a:a.toString();return r+i+"."+o},t}(),vBe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yBe=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),s=t.parseExtensionString(o),l=[new Re((n[0]+n[1])/2,e),new Re(a,e)],c=new oi(o,null,0,l,$e.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&c.putAllMetadata(s),c},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),l=r[1],c=0,d=0;d<2&&l<s;d++){var f=uh.decodeDigit(e,o,l,uh.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var h=(i=void 0,vBe(o)),p=h.next();!p.done;p=h.next()){var m=p.value;l+=m}}catch(g){i={error:g}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}f>=10&&(c|=1<<1-d),d!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==2)throw new ie;if(parseInt(n.toString())%4!==c)throw new ie;return l},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[Nn.ISSUE_NUMBER,parseInt(e)]])},t}(),xBe=function(){function t(){}return t.decodeRow=function(e,r,n){var i=uh.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new gBe;return a.decodeRow(e,r,i)}catch{var o=new yBe;return o.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),wBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xr=function(t){wBe(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[n]=a}return r}return e.prototype.decodeRow=function(r,n,i){var a=e.findStartGuardPattern(n),o=i==null?null:i.get(ar.NEED_RESULT_POINT_CALLBACK);if(o!=null){var s=new Re((a[0]+a[1])/2,r);o.foundPossibleResultPoint(s)}var l=this.decodeMiddle(n,a,this.decodeRowStringBuffer),c=l.rowOffset,d=l.resultString;if(o!=null){var f=new Re(c,r);o.foundPossibleResultPoint(f)}var h=e.decodeEnd(n,c);if(o!=null){var p=new Re((h[0]+h[1])/2,r);o.foundPossibleResultPoint(p)}var m=h[1],g=m+(m-h[0]);if(g>=n.getSize()||!n.isRange(m,g,!1))throw new ie;var v=d.toString();if(v.length<8)throw new Ee;if(!e.checkChecksum(v))throw new gn;var y=(a[1]+a[0])/2,x=(h[1]+h[0])/2,w=this.getBarcodeFormat(),S=[new Re(y,r),new Re(x,r)],E=new oi(v,null,0,S,w,new Date().getTime()),T=0;try{var A=xBe.decodeRow(r,n,h[1]);E.putMetadata(Nn.UPC_EAN_EXTENSION,A.getText()),E.putAllMetadata(A.getResultMetadata()),E.addResultPoints(A.getResultPoints()),T=A.getText().length}catch{}var C=i==null?null:i.get(ar.ALLOWED_EAN_EXTENSIONS);if(C!=null){var N=!1;for(var I in C)if(T.toString()===I){N=!0;break}if(!N)throw new ie}return w===$e.EAN_13||$e.UPC_A,E},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new Ee;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new Ee;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(uh),bBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),NL=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wN=function(t){bBe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var d=r.getSize(),f=n[1],h=0,p=0;p<6&&f<d;p++){var m=Xr.decodeDigit(r,c,f,Xr.L_AND_G_PATTERNS);i+=String.fromCharCode(48+m%10);try{for(var g=(a=void 0,NL(c)),v=g.next();!v.done;v=g.next()){var y=v.value;f+=y}}catch(E){a={error:E}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}m>=10&&(h|=1<<5-p)}i=e.determineFirstDigit(i,h);var x=Xr.findGuardPattern(r,f,!0,Xr.MIDDLE_PATTERN,new Int32Array(Xr.MIDDLE_PATTERN.length).fill(0));f=x[1];for(var p=0;p<6&&f<d;p++){var m=Xr.decodeDigit(r,c,f,Xr.L_PATTERNS);i+=String.fromCharCode(48+m);try{for(var w=(s=void 0,NL(c)),S=w.next();!S.done;S=w.next()){var y=S.value;f+=y}}catch(A){s={error:A}}finally{try{S&&!S.done&&(l=w.return)&&l.call(w)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return $e.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode(48+i)+r,r;throw new ie},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(Xr),_Be=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),IL=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},PL=function(t){_Be(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var d=r.getSize(),f=n[1],h=0;h<4&&f<d;h++){var p=Xr.decodeDigit(r,c,f,Xr.L_PATTERNS);i+=String.fromCharCode(48+p);try{for(var m=(a=void 0,IL(c)),g=m.next();!g.done;g=m.next()){var v=g.value;f+=v}}catch(S){a={error:S}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}}var y=Xr.findGuardPattern(r,f,!0,Xr.MIDDLE_PATTERN,new Int32Array(Xr.MIDDLE_PATTERN.length).fill(0));f=y[1];for(var h=0;h<4&&f<d;h++){var p=Xr.decodeDigit(r,c,f,Xr.L_PATTERNS);i+=String.fromCharCode(48+p);try{for(var x=(s=void 0,IL(c)),w=x.next();!w.done;w=x.next()){var v=w.value;f+=v}}catch(T){s={error:T}}finally{try{w&&!w.done&&(l=x.return)&&l.call(x)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return $e.EAN_8},e}(Xr),SBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),OL=function(t){SBe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new wN,r}return e.prototype.getBarcodeFormat=function(){return $e.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new oi(n.substring(1),null,null,r.getResultPoints(),$e.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new ie},e.prototype.reset=function(){this.ean13Reader.reset()},e}(Xr),EBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ABe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jL=function(t){EBe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s=this.decodeMiddleCounters.map(function(v){return v});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var l=r.getSize(),c=n[1],d=0,f=0;f<6&&c<l;f++){var h=e.decodeDigit(r,s,c,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+h%10);try{for(var p=(a=void 0,ABe(s)),m=p.next();!m.done;m=p.next()){var g=m.value;c+=g}}catch(v){a={error:v}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}h>=10&&(d|=1<<5-f)}return e.determineNumSysAndCheckDigit(new Qe(i),d),c},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return Xr.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){r.insert(0,"0"+i),r.append("0"+a);return}throw ie.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return $e.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new Qe;i.append(r.charAt(0));var a=n[5];switch(a){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(a),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(a);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(Xr),CBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kL=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nA=function(t){CBe(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(ar.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf($e.EAN_13)>-1&&a.push(new wN),i.indexOf($e.UPC_A)>-1&&a.push(new OL),i.indexOf($e.EAN_8)>-1&&a.push(new PL),i.indexOf($e.UPC_E)>-1&&a.push(new jL)),a.length===0&&(a.push(new wN),a.push(new OL),a.push(new PL),a.push(new jL)),n.readers=a,n}return e.prototype.decodeRow=function(r,n,i){var a,o;try{for(var s=kL(this.readers),l=s.next();!l.done;l=s.next()){var c=l.value;try{var d=c.decodeRow(r,n,i),f=d.getBarcodeFormat()===$e.EAN_13&&d.getText().charAt(0)==="0",h=i==null?null:i.get(ar.POSSIBLE_FORMATS),p=h==null||h.includes($e.UPC_A);if(f&&p){var m=d.getRawBytes(),g=new oi(d.getText().substring(1),m,m?m.length:null,d.getResultPoints(),$e.UPC_A);return g.putAllMetadata(d.getResultMetadata()),g}return d}catch{}}}catch(v){a={error:v}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(a)throw a.error}}throw new ie},e.prototype.reset=function(){var r,n;try{for(var i=kL(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e}(tn),TBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),NBe=function(t){TBe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,i){var a=this.getValidRowData(n);if(!a)throw new ie;var o=this.codaBarDecodeRow(a.row);if(!o)throw new ie;return new oi(o,null,0,[new Re(a.left,r),new Re(a.right,r)],$e.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),i=n.indexOf(!0);if(i===-1)return null;var a=n.lastIndexOf(!0);if(a<=i)return null;n=n.slice(i,a+1);for(var o=[],s=n[0],l=1,c=1;c<n.length;c++)n[c]===s?l++:(s=n[c],o.push(l),l=1);return o.push(l),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:i,right:a}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],i=Math.ceil(r.reduce(function(l,c){return(l+c)/2},0));r.length>0;){var a=r.splice(0,8).splice(0,7),o=a.map(function(l){return l<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[o])}var s=n.join("");return this.validCodaBarString(s)?s:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e}(tn),IBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),PBe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},au=function(t){IBe(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(tn.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new ie},e.count=function(r){return wt.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]>a&&(a=n[o],i=o);r[i]++},e.decrement=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]<a&&(a=n[o],i=o);r[i]--},e.isFinderPattern=function(r){var n,i,a=r[0]+r[1],o=a+r[2]+r[3],s=a/o;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;try{for(var d=PBe(r),f=d.next();!f.done;f=d.next()){var h=f.value;h>c&&(c=h),h<l&&(l=h)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}return c<10*l}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(tn),Pw=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),ZZ=function(){function t(e,r,n,i,a){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Re(n,a)),this.resultPoints.push(new Re(i,a))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),OBe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nf=function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,a,o=0;try{for(var s=OBe(e),l=s.next();!l.done;l=s.next()){var c=l.value;o+=c}}catch(x){i={error:x}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}for(var d=0,f=0,h=e.length,p=0;p<h-1;p++){var m=void 0;for(m=1,f|=1<<p;m<e[p];m++,f&=~(1<<p)){var g=t.combins(o-m-1,h-p-2);if(n&&f===0&&o-m-(h-p-1)>=h-p-1&&(g-=t.combins(o-m-(h-p),h-p-2)),h-p-1>1){for(var v=0,y=o-m-(h-p-2);y>r;y--)v+=t.combins(o-m-y-1,h-p-3);g-=v*(h-1-p)}else o-m>r&&g--;d+=g}o-=m}return d},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var a=1,o=1,s=e;s>n;s--)a*=s,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},t}(),jBe=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new vn(n),a=0,o=e[0],s=o.getRightChar().getValue(),l=11;l>=0;--l)s&1<<l&&i.set(a),a++;for(var l=1;l<e.length;++l){for(var c=e[l],d=c.getLeftChar().getValue(),f=11;f>=0;--f)d&1<<f&&i.set(a),a++;if(c.getRightChar()!==null)for(var h=c.getRightChar().getValue(),f=11;f>=0;--f)h&1<<f&&i.set(a),a++}return i},t}(),Kc=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),Jk=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),kBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ha=function(t){kBe(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(Jk),RBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yc=function(t){RBe(e,t);function e(r,n,i){var a=t.call(this,r)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(Jk),DBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Id=function(t){DBe(e,t);function e(r,n,i){var a=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new Ee;return a.firstDigit=n,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(Jk),Qy=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},MBe=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,a,o,s,l,c;if(!e)return null;if(e.length<2)throw new ie;var d=e.substring(0,2);try{for(var f=Qy(t.TWO_DIGIT_DATA_LENGTH),h=f.next();!h.done;h=f.next()){var p=h.value;if(p[0]===d)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,p[2],e):t.processFixedAI(2,p[1],e)}}catch(T){r={error:T}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(e.length<3)throw new ie;var m=e.substring(0,3);try{for(var g=Qy(t.THREE_DIGIT_DATA_LENGTH),v=g.next();!v.done;v=g.next()){var p=v.value;if(p[0]===m)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,p[2],e):t.processFixedAI(3,p[1],e)}}catch(T){i={error:T}}finally{try{v&&!v.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}try{for(var y=Qy(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),x=y.next();!x.done;x=y.next()){var p=x.value;if(p[0]===m)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(T){o={error:T}}finally{try{x&&!x.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}if(e.length<4)throw new ie;var w=e.substring(0,4);try{for(var S=Qy(t.FOUR_DIGIT_DATA_LENGTH),E=S.next();!E.done;E=S.next()){var p=E.value;if(p[0]===w)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(T){l={error:T}}finally{try{E&&!E.done&&(c=S.return)&&c.call(S)}finally{if(l)throw l.error}}throw new ie},t.processFixedAI=function(e,r,n){if(n.length<e)throw new ie;var i=n.substring(0,e);if(n.length<e+r)throw new ie;var a=n.substring(e,e+r),o=n.substring(e+r),s="("+i+")"+a,l=t.parseFieldsInGeneralPurpose(o);return l==null?s:s+l},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),a;n.length<e+r?a=n.length:a=e+r;var o=n.substring(e,a),s=n.substring(a),l="("+i+")"+o,c=t.parseFieldsInGeneralPurpose(s);return c==null?l:l+c},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),X1=function(){function t(e){this.buffer=new Qe,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var a=this.decodeGeneralPurposeField(n,i),o=MBe.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,n===a.getNewPosition())break;n=a.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new Id(this.information.getSize(),Id.FNC1,Id.FNC1):new Id(this.information.getSize(),r-1,Id.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,a=(n-8)%11;return new Id(e+7,i,a)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,a=0;a<n;++a)e.get(r+a)&&(i|=1<<n-a-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new Yc(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Yc(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new Yc(this.current.getPosition(),this.buffer.toString()):r=new Yc(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Kc(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new Yc(this.current.getPosition(),this.buffer.toString());return new Kc(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Kc(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Yc(this.current.getPosition(),this.buffer.toString());return new Kc(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Kc(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Yc(this.current.getPosition(),this.buffer.toString());return new Kc(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Kc(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Ha(e+5,Ha.FNC1);if(r>=5&&r<15)return new Ha(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Ha(e+7,""+(n+1));if(n>=90&&n<116)return new Ha(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new Ee}return new Ha(e+8,a)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Ha(e+5,Ha.FNC1);if(r>=5&&r<15)return new Ha(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Ha(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new L0("Decoding invalid alphanumeric value: "+n)}return new Ha(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),JZ=function(){function t(e){this.information=e,this.generalDecoder=new X1(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),LBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ro=function(t){LBe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);o/100===0&&r.append("0"),o/10===0&&r.append("0"),r.append(o)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,a=0;a<13;a++){var o=r.charAt(a+n).charCodeAt(0)-48;i+=a&1?o:3*o}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e}(JZ),$Be=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),FBe=function(t){$Be(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Qe;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(ro),BBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),UBe=function(t){BBe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Qe;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(JZ),VBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Q1=function(t){VBe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,a);for(var o=this.checkWeight(a),s=1e5,l=0;l<5;++l)o/s===0&&r.append("0"),s/=10;r.append(o)},e}(ro),zBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),eJ=function(t){zBe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Q1.GTIN_SIZE+e.WEIGHT_SIZE)throw new ie;var r=new Qe;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+Q1.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(Q1),WBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),HBe=function(t){WBe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(eJ),GBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qBe=function(t){GBe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(eJ),KBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),YBe=function(t){KBe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+ro.GTIN_SIZE)throw new ie;var r=new Qe;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ro.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+ro.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(ro),XBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),QBe=function(t){XBe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+ro.GTIN_SIZE)throw new ie;var r=new Qe;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ro.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ro.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&r.append("0"),i/10===0&&r.append("0"),r.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+ro.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(ro),ZBe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ml=function(t){ZBe(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.dateCode=i,a.firstAIdigits=n,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new ie;var r=new Qe;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){r.append("("),r.append(this.dateCode),r.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var s=i;s/10===0&&r.append("0"),r.append(s),o/10===0&&r.append("0"),r.append(o),a/10===0&&r.append("0"),r.append(a)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(Q1);function JBe(t){try{if(t.get(1))return new FBe(t);if(!t.get(2))return new UBe(t);var e=X1.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new HBe(t);case 5:return new qBe(t)}var r=X1.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new YBe(t);case 13:return new QBe(t)}var n=X1.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new ml(t,"310","11");case 57:return new ml(t,"320","11");case 58:return new ml(t,"310","13");case 59:return new ml(t,"320","13");case 60:return new ml(t,"310","15");case 61:return new ml(t,"320","15");case 62:return new ml(t,"310","17");case 63:return new ml(t,"320","17")}}catch(i){throw console.log(i),new L0("unknown decoder: "+t)}}var RL=function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),eUe=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,a){r.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),tUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gl=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rUe=function(t){tUe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(s){if(s instanceof ie){if(!this.pairs.length)throw new ie;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(r,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new ie},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,a,o=n;o<this.rows.length;o++){var s=this.rows[o];this.pairs.length=0;try{for(var l=(i=void 0,gl(r)),c=l.next();!c.done;c=l.next()){var d=c.value;this.pairs.push(d.getPairs())}}catch(h){i={error:h}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(r);f.push(s);try{return this.checkRows(f,o+1)}catch(h){console.log(h)}}}throw new ie},e.isValidSequence=function(r){var n,i;try{for(var a=gl(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var s=o.value;if(!(r.length>s.length)){for(var l=!0,c=0;c<r.length;c++)if(r[c].getFinderPattern().getValue()!==s[c]){l=!1;break}if(l)return!0}}}catch(d){n={error:d}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,a=!1,o=!1;i<this.rows.length;){var s=this.rows[i];if(s.getRowNumber()>r){o=s.isEquivalent(this.pairs);break}a=s.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new eUe(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,a,o,s,l,c;try{for(var d=gl(n),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.getPairs().length!==r.length){var p=!0;try{for(var m=(o=void 0,gl(h.getPairs())),g=m.next();!g.done;g=m.next()){var v=g.value,y=!1;try{for(var x=(l=void 0,gl(r)),w=x.next();!w.done;w=x.next()){var S=w.value;if(RL.equals(v,S)){y=!0;break}}}catch(E){l={error:E}}finally{try{w&&!w.done&&(c=x.return)&&c.call(x)}finally{if(l)throw l.error}}y||(p=!1)}}catch(E){o={error:E}}finally{try{g&&!g.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}}}}catch(E){i={error:E}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,a,o,s,l,c;try{for(var d=gl(n),f=d.next();!f.done;f=d.next()){var h=f.value,p=!0;try{for(var m=(o=void 0,gl(r)),g=m.next();!g.done;g=m.next()){var v=g.value,y=!1;try{for(var x=(l=void 0,gl(h.getPairs())),w=x.next();!w.done;w=x.next()){var S=w.value;if(v.equals(S)){y=!0;break}}}catch(E){l={error:E}}finally{try{w&&!w.done&&(c=x.return)&&c.call(x)}finally{if(l)throw l.error}}if(!y){p=!1;break}}}catch(E){o={error:E}}finally{try{g&&!g.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}if(p)return!0}}catch(E){i={error:E}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=jBe.buildBitArray(r),i=JBe(n),a=i.parseInformation(),o=r[0].getFinderPattern().getResultPoints(),s=r[r.length-1].getFinderPattern().getResultPoints(),l=[o[0],o[1],s[0],s[1]];return new oi(a,null,null,l,$e.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),o=2,s=1;s<this.pairs.size();++s){var l=this.pairs.get(s);a+=l.getLeftChar().getChecksumPortion(),o++;var c=l.getRightChar();c!=null&&(a+=c.getChecksumPortion(),o++)}a%=211;var d=211*(o-4)+a;return d===n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var a=n.length%2===0;this.startFromEven&&(a=!a);var o,s=!0,l=-1;do this.findNextPair(r,n,l),o=this.parseFoundFinderPattern(r,i,a),o===null?l=e.getNextSecondBar(r,this.startEnd[0]):s=!1;while(s);var c=this.decodeDataCharacter(r,o,a,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new ie;var d;try{d=this.decodeDataCharacter(r,o,a,!1)}catch(f){d=null,console.log(f)}return new RL(c,d,o,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=r.getSize(),s;if(i>=0)s=i;else if(this.isEmptyPair(n))s=0;else{var l=n[n.length-1];s=l.getFinderPattern().getStartEnd()[1]}var c=n.length%2!==0;this.startFromEven&&(c=!c);for(var d=!1;s<o&&(d=!r.get(s),!!d);)s++;for(var f=0,h=s,p=s;p<o;p++)if(r.get(p)!==d)a[f]++;else{if(f===3){if(c&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=h,this.startEnd[1]=p;return}c&&e.reverseCounters(a),h+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,f--}else f++;a[f]=1,d=!d}throw new ie},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var a=r[i];r[i]=r[n-i-1],r[n-i-1]=a}},e.prototype.parseFoundFinderPattern=function(r,n,i){var a,o,s;if(i){for(var l=this.startEnd[0]-1;l>=0&&!r.get(l);)l--;l++,a=this.startEnd[0]-l,o=l,s=this.startEnd[1]}else o=this.startEnd[0],s=r.getNextUnset(this.startEnd[1]+1),a=s-this.startEnd[1];var c=this.getDecodeFinderCounters();zt.arraycopy(c,0,c,1,c.length-1),c[0]=a;var d;try{d=this.parseFinderValue(c,e.FINDER_PATTERNS)}catch{return null}return new ZZ(d,[o,s],o,s,n)},e.prototype.decodeDataCharacter=function(r,n,i,a){for(var o=this.getDataCharacterCounters(),s=0;s<o.length;s++)o[s]=0;if(a)e.recordPatternInReverse(r,n.getStartEnd()[0],o);else{e.recordPattern(r,n.getStartEnd()[1],o);for(var l=0,c=o.length-1;l<c;l++,c--){var d=o[l];o[l]=o[c],o[c]=d}}var f=17,h=wt.sum(new Int32Array(o))/f,p=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(h-p)/p>.3)throw new ie;for(var m=this.getOddCounts(),g=this.getEvenCounts(),v=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors(),l=0;l<o.length;l++){var x=1*o[l]/h,w=x+.5;if(w<1){if(x<.3)throw new ie;w=1}else if(w>8){if(x>8.7)throw new ie;w=8}var S=l/2;l&1?(g[S]=w,y[S]=x-w):(m[S]=w,v[S]=x-w)}this.adjustOddEvenCounts(f);for(var E=4*n.getValue()+(i?0:2)+(a?0:1)-1,T=0,A=0,l=m.length-1;l>=0;l--){if(e.isNotA1left(n,i,a)){var C=e.WEIGHTS[E][2*l];A+=m[l]*C}T+=m[l]}for(var N=0,l=g.length-1;l>=0;l--)if(e.isNotA1left(n,i,a)){var C=e.WEIGHTS[E][2*l+1];N+=g[l]*C}var I=A+N;if(T&1||T>13||T<4)throw new ie;var P=(13-T)/2,k=e.SYMBOL_WIDEST[P],O=9-k,L=nf.getRSSvalue(m,k,!0),z=nf.getRSSvalue(g,O,!1),M=e.EVEN_TOTAL_SUBSET[P],W=e.GSUM[P],$=L*M+z+W;return new Pw($,I)},e.isNotA1left=function(r,n,i){return!(r.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=wt.sum(new Int32Array(this.getOddCounts())),i=wt.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;n>13?o=!0:n<4&&(a=!0);var s=!1,l=!1;i>13?l=!0:i<4&&(s=!0);var c=n+i-r,d=(n&1)===1,f=(i&1)===0;if(c===1)if(d){if(f)throw new ie;o=!0}else{if(!f)throw new ie;l=!0}else if(c===-1)if(d){if(f)throw new ie;a=!0}else{if(!f)throw new ie;s=!0}else if(c===0){if(d){if(!f)throw new ie;n<i?(a=!0,l=!0):(o=!0,s=!0)}else if(f)throw new ie}else throw new ie;if(a){if(o)throw new ie;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(l)throw new ie;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(au),nUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),iUe=function(t){nUe(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(Pw),aUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),iA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},DL=function(t){aUe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var a,o,s,l,c=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,c),n.reverse();var d=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,d),n.reverse();try{for(var f=iA(this.possibleLeftPairs),h=f.next();!h.done;h=f.next()){var p=h.value;if(p.getCount()>1)try{for(var m=(s=void 0,iA(this.possibleRightPairs)),g=m.next();!g.done;g=m.next()){var v=g.value;if(v.getCount()>1&&e.checkChecksum(p,v))return e.constructResult(p,v)}}catch(y){s={error:y}}finally{try{g&&!g.done&&(l=m.return)&&l.call(m)}finally{if(s)throw s.error}}}}catch(y){a={error:y}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(a)throw a.error}}throw new ie},e.addOrTally=function(r,n){var i,a;if(n!=null){var o=!1;try{for(var s=iA(r),l=s.next();!l.done;l=s.next()){var c=l.value;if(c.getValue()===n.getValue()){c.incrementCount(),o=!0;break}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}o||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),a=new String(i).toString(),o=new Qe,s=13-a.length;s>0;s--)o.append("0");o.append(a);for(var l=0,s=0;s<13;s++){var c=o.charAt(s).charCodeAt(0)-48;l+=s&1?c:3*c}l=10-l%10,l===10&&(l=0),o.append(l.toString());var d=r.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new oi(o.toString(),null,0,[d[0],d[1],f[0],f[1]],$e.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,a=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(r,n,i,a){try{var o=this.findFinderPattern(r,n),s=this.parseFoundFinderPattern(r,i,n,o),l=a==null?null:a.get(ar.NEED_RESULT_POINT_CALLBACK);if(l!=null){var c=(o[0]+o[1])/2;n&&(c=r.getSize()-1-c),l.foundPossibleResultPoint(new Re(c,i))}var d=this.decodeDataCharacter(r,s,!0),f=this.decodeDataCharacter(r,s,!1);return new iUe(1597*d.getValue()+f.getValue(),d.getChecksumPortion()+4*f.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)tn.recordPatternInReverse(r,n.getStartEnd()[0],a);else{tn.recordPattern(r,n.getStartEnd()[1]+1,a);for(var s=0,l=a.length-1;s<l;s++,l--){var c=a[s];a[s]=a[l],a[l]=c}}for(var d=i?16:15,f=wt.sum(new Int32Array(a))/d,h=this.getOddCounts(),p=this.getEvenCounts(),m=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors(),s=0;s<a.length;s++){var v=a[s]/f,y=Math.floor(v+.5);y<1?y=1:y>8&&(y=8);var x=Math.floor(s/2);s&1?(p[x]=y,g[x]=v-y):(h[x]=y,m[x]=v-y)}this.adjustOddEvenCounts(i,d);for(var w=0,S=0,s=h.length-1;s>=0;s--)S*=9,S+=h[s],w+=h[s];for(var E=0,T=0,s=p.length-1;s>=0;s--)E*=9,E+=p[s],T+=p[s];var A=S+3*E;if(i){if(w&1||w>12||w<4)throw new ie;var C=(12-w)/2,N=e.OUTSIDE_ODD_WIDEST[C],I=9-N,P=nf.getRSSvalue(h,N,!1),k=nf.getRSSvalue(p,I,!0),O=e.OUTSIDE_EVEN_TOTAL_SUBSET[C],L=e.OUTSIDE_GSUM[C];return new Pw(P*O+k+L,A)}else{if(T&1||T>10||T<4)throw new ie;var C=(10-T)/2,N=e.INSIDE_ODD_WIDEST[C],I=9-N,P=nf.getRSSvalue(h,N,!0),k=nf.getRSSvalue(p,I,!1),z=e.INSIDE_ODD_TOTAL_SUBSET[C],L=e.INSIDE_GSUM[C];return new Pw(k*z+P+L,A)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=r.getSize(),o=!1,s=0;s<a&&(o=!r.get(s),n!==o);)s++;for(var l=0,c=s,d=s;d<a;d++)if(r.get(d)!==o)i[l]++;else{if(l===3){if(au.isFinderPattern(i))return[c,d];c+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,l--}else l++;i[l]=1,o=!o}throw new ie},e.prototype.parseFoundFinderPattern=function(r,n,i,a){for(var o=r.get(a[0]),s=a[0]-1;s>=0&&o!==r.get(s);)s--;s++;var l=a[0]-s,c=this.getDecodeFinderCounters(),d=new Int32Array(c.length);zt.arraycopy(c,0,d,1,c.length-1),d[0]=l;var f=this.parseFinderValue(d,e.FINDER_PATTERNS),h=s,p=a[1];return i&&(h=r.getSize()-1-h,p=r.getSize()-1-p),new ZZ(f,[s,a[1]],h,p,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=wt.sum(new Int32Array(this.getOddCounts())),a=wt.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1,l=!1,c=!1;r?(i>12?s=!0:i<4&&(o=!0),a>12?c=!0:a<4&&(l=!0)):(i>11?s=!0:i<5&&(o=!0),a>10?c=!0:a<4&&(l=!0));var d=i+a-n,f=(i&1)===(r?1:0),h=(a&1)===1;if(d===1)if(f){if(h)throw new ie;s=!0}else{if(!h)throw new ie;c=!0}else if(d===-1)if(f){if(h)throw new ie;o=!0}else{if(!h)throw new ie;l=!0}else if(d===0){if(f){if(!h)throw new ie;i<a?(o=!0,c=!0):(s=!0,l=!0)}else if(h)throw new ie}else throw new ie;if(o){if(s)throw new ie;au.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&au.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new ie;au.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&au.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(au),oUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Om=function(t){oUe(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(ar.POSSIBLE_FORMATS):null,a=r&&r.get(ar.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=r&&r.get(ar.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes($e.EAN_13)||i.includes($e.UPC_A)||i.includes($e.EAN_8)||i.includes($e.UPC_E))&&n.readers.push(new nA(r)),i.includes($e.CODE_39)&&n.readers.push(new AL(a,o)),i.includes($e.CODE_93)&&n.readers.push(new CL),i.includes($e.CODE_128)&&n.readers.push(new EL),i.includes($e.ITF)&&n.readers.push(new TL),i.includes($e.CODABAR)&&n.readers.push(new NBe),i.includes($e.RSS_14)&&n.readers.push(new DL),i.includes($e.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new rUe))),n.readers.length===0&&(n.readers.push(new nA(r)),n.readers.push(new AL),n.readers.push(new CL),n.readers.push(new nA(r)),n.readers.push(new EL),n.readers.push(new TL),n.readers.push(new DL)),n}return e.prototype.decodeRow=function(r,n,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(r,n,i)}catch{}throw new ie},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(tn),sUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){sUe(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new Om(n),r,n)||this}return e})(fp);var ML=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Et=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),_t=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),lUe=function(){function t(e,r,n,i,a,o){var s,l;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var c=0,d=o.getECCodewords(),f=o.getECBlocks();try{for(var h=ML(f),p=h.next();!p.done;p=h.next()){var m=p.value;c+=m.getCount()*(m.getDataCodewords()+d)}}catch(g){s={error:g}}finally{try{p&&!p.done&&(l=h.return)&&l.call(h)}finally{if(s)throw s.error}}this.totalCodewords=c}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if(e&1||r&1)throw new Ee;try{for(var a=ML(t.VERSIONS),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===r)return s}}catch(l){n={error:l}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}throw new Ee},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new Et(5,new _t(1,3))),new t(2,12,12,10,10,new Et(7,new _t(1,5))),new t(3,14,14,12,12,new Et(10,new _t(1,8))),new t(4,16,16,14,14,new Et(12,new _t(1,12))),new t(5,18,18,16,16,new Et(14,new _t(1,18))),new t(6,20,20,18,18,new Et(18,new _t(1,22))),new t(7,22,22,20,20,new Et(20,new _t(1,30))),new t(8,24,24,22,22,new Et(24,new _t(1,36))),new t(9,26,26,24,24,new Et(28,new _t(1,44))),new t(10,32,32,14,14,new Et(36,new _t(1,62))),new t(11,36,36,16,16,new Et(42,new _t(1,86))),new t(12,40,40,18,18,new Et(48,new _t(1,114))),new t(13,44,44,20,20,new Et(56,new _t(1,144))),new t(14,48,48,22,22,new Et(68,new _t(1,174))),new t(15,52,52,24,24,new Et(42,new _t(2,102))),new t(16,64,64,14,14,new Et(56,new _t(2,140))),new t(17,72,72,16,16,new Et(36,new _t(4,92))),new t(18,80,80,18,18,new Et(48,new _t(4,114))),new t(19,88,88,20,20,new Et(56,new _t(4,144))),new t(20,96,96,22,22,new Et(68,new _t(4,174))),new t(21,104,104,24,24,new Et(56,new _t(6,136))),new t(22,120,120,18,18,new Et(68,new _t(6,175))),new t(23,132,132,20,20,new Et(62,new _t(8,163))),new t(24,144,144,22,22,new Et(62,new _t(8,156),new _t(2,155))),new t(25,8,18,6,16,new Et(7,new _t(1,5))),new t(26,8,32,6,14,new Et(11,new _t(1,10))),new t(27,12,26,10,24,new Et(14,new _t(1,16))),new t(28,12,36,10,16,new Et(18,new _t(1,22))),new t(29,16,36,14,16,new Et(24,new _t(1,32))),new t(30,16,48,14,22,new Et(28,new _t(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),cUe=function(){function t(e){var r=e.getHeight();if(r<8||r>144||r&1)throw new Ee;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new es(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return lUe.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),s=!1,l=!1,c=!1,d=!1;do if(n===a&&i===0&&!s)e[r++]=this.readCorner1(a,o)&255,n-=2,i+=2,s=!0;else if(n===a-2&&i===0&&o&3&&!l)e[r++]=this.readCorner2(a,o)&255,n-=2,i+=2,l=!0;else if(n===a+4&&i===2&&!(o&7)&&!c)e[r++]=this.readCorner3(a,o)&255,n-=2,i+=2,c=!0;else if(n===a-2&&i===0&&(o&7)===4&&!d)e[r++]=this.readCorner4(a,o)&255,n-=2,i+=2,d=!0;else{do n<a&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n-=2,i+=2;while(n>=0&&i<o);n+=1,i+=3;do n>=0&&i<o&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n+=2,i-=2;while(n<a&&i>=0);n+=3,i+=1}while(n<a||i<o);if(r!==this.version.getTotalCodewords())throw new Ee;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var a=0;return this.readModule(e-2,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-2,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r,n,i)&&(a|=1),a<<=1,this.readModule(e,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e,r,n,i)&&(a|=1),a},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new Ue("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=r/i|0,s=n/a|0,l=o*i,c=s*a,d=new es(c,l),f=0;f<o;++f)for(var h=f*i,p=0;p<s;++p)for(var m=p*a,g=0;g<i;++g)for(var v=f*(i+2)+1+g,y=h+g,x=0;x<a;++x){var w=p*(a+2)+1+x;if(e.get(w,v)){var S=m+x;d.set(S,y)}}return d},t}(),LL=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uUe=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,a,o,s=r.getECBlocks(),l=0,c=s.getECBlocks();try{for(var d=LL(c),f=d.next();!f.done;f=d.next()){var h=f.value;l+=h.getCount()}}catch(L){n={error:L}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}var p=new Array(l),m=0;try{for(var g=LL(c),v=g.next();!v.done;v=g.next())for(var h=v.value,y=0;y<h.getCount();y++){var x=h.getDataCodewords(),w=s.getECCodewords()+x;p[m++]=new t(x,new Uint8Array(w))}}catch(L){a={error:L}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}for(var S=p[0].codewords.length,E=S-s.getECCodewords(),T=E-1,A=0,y=0;y<T;y++)for(var C=0;C<m;C++)p[C].codewords[y]=e[A++];for(var N=r.getVersionNumber()===24,I=N?8:m,C=0;C<I;C++)p[C].codewords[E-1]=e[A++];for(var P=p[0].codewords.length,y=E;y<P;y++)for(var C=0;C<m;C++){var k=N?(C+8)%m:C,O=N&&k>7?y-1:y;p[k].codewords[O]=e[A++]}if(A!==e.length)throw new Ue;return p},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),tJ=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Ue(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,a=this.bytes;if(n>0){var o=8-n,s=e<o?e:o,l=o-s,c=255>>8-s<<l;r=(a[i]&c)>>l,e-=s,n+=s,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|a[i]&255,i++,e-=8;if(e>0){var l=8-e,c=255>>l<<l;r=r<<e|(a[i]&c)>>l,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),Gr;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(Gr||(Gr={}));var dUe=function(){function t(){}return t.decode=function(e){var r=new tJ(e),n=new Qe,i=new Qe,a=new Array,o=Gr.ASCII_ENCODE;do if(o===Gr.ASCII_ENCODE)o=this.decodeAsciiSegment(r,n,i);else{switch(o){case Gr.C40_ENCODE:this.decodeC40Segment(r,n);break;case Gr.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case Gr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case Gr.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case Gr.BASE256_ENCODE:this.decodeBase256Segment(r,n,a);break;default:throw new Ee}o=Gr.ASCII_ENCODE}while(o!==Gr.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new w_(e,n.toString(),a.length===0?null:a,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var a=e.readBits(8);if(a===0)throw new Ee;if(a<=128)return i&&(a+=128),r.append(String.fromCharCode(a-1)),Gr.ASCII_ENCODE;if(a===129)return Gr.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&r.append("0"),r.append(""+o)}else switch(a){case 230:return Gr.C40_ENCODE;case 231:return Gr.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return Gr.ANSIX12_ENCODE;case 239:return Gr.TEXT_ENCODE;case 240:return Gr.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new Ee;break}}while(e.available()>0);return Gr.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var l=i[s];switch(a){case 0:if(l<3)a=l+1;else if(l<this.C40_BASIC_SET_CHARS.length){var c=this.C40_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else throw new Ee;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),a=0;break;case 2:if(l<this.C40_SHIFT2_SET_CHARS.length){var c=this.C40_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else switch(l){case 27:r.append("");break;case 30:n=!0;break;default:throw new Ee}a=0;break;case 3:n?(r.append(String.fromCharCode(l+224)),n=!1):r.append(String.fromCharCode(l+96)),a=0;break;default:throw new Ee}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var l=i[s];switch(a){case 0:if(l<3)a=l+1;else if(l<this.TEXT_BASIC_SET_CHARS.length){var c=this.TEXT_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else throw new Ee;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),a=0;break;case 2:if(l<this.TEXT_SHIFT2_SET_CHARS.length){var c=this.TEXT_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else switch(l){case 27:r.append("");break;case 30:n=!0;break;default:throw new Ee}a=0;break;case 3:if(l<this.TEXT_SHIFT3_SET_CHARS.length){var c=this.TEXT_SHIFT3_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c),a=0}else throw new Ee;break;default:throw new Ee}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var a=0;a<3;a++){var o=n[a];switch(o){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(o<14)r.append(String.fromCharCode(o+44));else if(o<40)r.append(String.fromCharCode(o+51));else throw new Ee;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,a=Math.floor(i/1600);n[0]=a,i-=a*1600,a=Math.floor(i/40),n[1]=a,n[2]=i-a*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}i&32||(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new Ee;for(var s=new Uint8Array(o),l=0;l<o;l++){if(e.available()<8)throw new Ee;s[l]=this.unrandomize255State(e.readBits(8),i++)}n.push(s);try{r.append(Pa.decode(s,ht.ISO88591))}catch(c){throw new L0("Platform does not support required encoding: "+c.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t}(),fUe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hUe=function(){function t(){this.rsDecoder=new b_(Oi.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new cUe(e),a=i.getVersion(),o=i.readCodewords(),s=uUe.getDataBlocks(o,a),l=0;try{for(var c=fUe(s),d=c.next();!d.done;d=c.next()){var f=d.value;l+=f.getNumDataCodewords()}}catch(w){r={error:w}}finally{try{d&&!d.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}for(var h=new Uint8Array(l),p=s.length,m=0;m<p;m++){var g=s[m],v=g.getCodewords(),y=g.getNumDataCodewords();this.correctErrors(v,y);for(var x=0;x<y;x++)h[x*p+m]=v[x]}return dUe.decode(h)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new gn}for(var i=0;i<r;i++)e[i]=n[i]},t}(),pUe=function(){function t(e){this.image=e,this.rectangleDetector=new yN(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new ie;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],a=r[2],o=r[3],s=this.transitionsBetween(n,o)+1,l=this.transitionsBetween(a,o)+1;(s&1)===1&&(s+=1),(l&1)===1&&(l+=1),4*s<7*l&&4*l<7*s&&(s=l=Math.max(s,l));var c=t.sampleGrid(this.image,n,i,a,o,s,l);return new Qk(c,[n,i,a,o])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),a=(r.getY()-e.getY())/(n+1);return new Re(e.getX()+i,e.getY()+a)},t.moveAway=function(e,r,n){var i=e.getX(),a=e.getY();return i<r?i-=1:i+=1,a<n?a-=1:a+=1,new Re(i,a)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],a=e[2],o=this.transitionsBetween(r,n),s=this.transitionsBetween(n,i),l=this.transitionsBetween(i,a),c=this.transitionsBetween(a,r),d=o,f=[a,r,n,i];return d>s&&(d=s,f[0]=r,f[1]=n,f[2]=i,f[3]=a),d>l&&(d=l,f[0]=n,f[1]=i,f[2]=a,f[3]=r),d>c&&(f[0]=i,f[1]=a,f[2]=r,f[3]=n),f},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),s=t.shiftPoint(n,i,(o+1)*4),l=t.shiftPoint(i,n,(o+1)*4),c=this.transitionsBetween(s,r),d=this.transitionsBetween(l,a);return c<d?(e[0]=r,e[1]=n,e[2]=i,e[3]=a):(e[0]=n,e[1]=i,e[2]=a,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),s=this.transitionsBetween(n,a),l=t.shiftPoint(r,n,(s+1)*4),c=t.shiftPoint(i,n,(o+1)*4);o=this.transitionsBetween(l,a),s=this.transitionsBetween(c,a);var d=new Re(a.getX()+(i.getX()-n.getX())/(o+1),a.getY()+(i.getY()-n.getY())/(o+1)),f=new Re(a.getX()+(r.getX()-n.getX())/(s+1),a.getY()+(r.getY()-n.getY())/(s+1));if(!this.isValid(d))return this.isValid(f)?f:null;if(!this.isValid(f))return d;var h=this.transitionsBetween(l,d)+this.transitionsBetween(c,d),p=this.transitionsBetween(l,f)+this.transitionsBetween(c,f);return h>p?d:f},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a)+1,s=this.transitionsBetween(i,a)+1,l=t.shiftPoint(r,n,s*4),c=t.shiftPoint(i,n,o*4);o=this.transitionsBetween(l,a)+1,s=this.transitionsBetween(c,a)+1,(o&1)===1&&(o+=1),(s&1)===1&&(s+=1);var d=(r.getX()+n.getX()+i.getX()+a.getX())/4,f=(r.getY()+n.getY()+i.getY()+a.getY())/4;r=t.moveAway(r,d,f),n=t.moveAway(n,d,f),i=t.moveAway(i,d,f),a=t.moveAway(a,d,f);var h,p;return l=t.shiftPoint(r,n,s*4),l=t.shiftPoint(l,a,o*4),h=t.shiftPoint(n,r,s*4),h=t.shiftPoint(h,i,o*4),c=t.shiftPoint(i,a,s*4),c=t.shiftPoint(c,n,o*4),p=t.shiftPoint(a,i,s*4),p=t.shiftPoint(p,r,o*4),[l,h,c,p]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,a,o,s){var l=Zk.getInstance();return l.sampleGrid(e,o,s,.5,.5,o-.5,.5,o-.5,s-.5,.5,s-.5,r.getX(),r.getY(),a.getX(),a.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(r.getX()),o=Math.trunc(r.getY()),s=Math.abs(o-i)>Math.abs(a-n);if(s){var l=n;n=i,i=l,l=a,a=o,o=l}for(var c=Math.abs(a-n),d=Math.abs(o-i),f=-c/2,h=i<o?1:-1,p=n<a?1:-1,m=0,g=this.image.get(s?i:n,s?n:i),v=n,y=i;v!==a;v+=p){var x=this.image.get(s?y:v,s?v:y);if(x!==g&&(m++,g=x),f+=d,f>0){if(y===o)break;y+=h,f-=c}}return m},t}(),bN=function(){function t(){this.decoder=new hUe}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(ar.PURE_BARCODE)){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(a),i=t.NO_POINTS}else{var o=new pUe(e.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),i=o.getPoints()}var s=n.getRawBytes(),l=new oi(n.getText(),s,8*s.length,i,$e.DATA_MATRIX,zt.currentTimeMillis()),c=n.getByteSegments();c!=null&&l.putMetadata(Nn.BYTE_SEGMENTS,c);var d=n.getECLevel();return d!=null&&l.putMetadata(Nn.ERROR_CORRECTION_LEVEL,d),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new ie;var i=this.moduleSize(r,e),a=r[1],o=n[1],s=r[0],l=n[0],c=(l-s+1)/i,d=(o-a+1)/i;if(c<=0||d<=0)throw new ie;var f=i/2;a+=f,s+=f;for(var h=new es(c,d),p=0;p<d;p++)for(var m=a+p*i,g=0;g<c;g++)e.get(s+g*i,m)&&h.set(g,p);return h},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],a=e[1];i<n&&r.get(i,a);)i++;if(i===n)throw new ie;var o=i-e[0];if(o===0)throw new ie;return o},t.NO_POINTS=[],t}(),mUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){mUe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new bN,r)||this}return e})(fp);var af;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(af||(af={}));var gUe=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new Ka(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new Ue;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(af.L,"L",1),t.M=new t(af.M,"M",0),t.Q=new t(af.Q,"Q",3),t.H=new t(af.H,"H",2),t}(),vUe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rJ=function(){function t(e){this.errorCorrectionLevel=gUe.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return et.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var s=vUe(t.FORMAT_INFO_DECODE_LOOKUP),l=s.next();!l.done;l=s.next()){var c=l.value,d=c[0];if(d===e||d===r)return new t(c[1]);var f=t.numBitsDiffering(e,d);f<a&&(o=c[1],a=f),e!==r&&(f=t.numBitsDiffering(r,d),f<a&&(o=c[1],a=f))}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a<=3?new t(o):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),yUe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},J=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var a=yUe(i),o=a.next();!o.done;o=a.next()){var s=o.value;n+=s.getCount()}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),U=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),xUe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Nu=function(){function t(e,r){for(var n,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=a;var s=0,l=a[0].getECCodewordsPerBlock(),c=a[0].getECBlocks();try{for(var d=xUe(c),f=d.next();!f.done;f=d.next()){var h=f.value;s+=h.getCount()*(h.getDataCodewords()+l)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}this.totalCodewords=s}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new Ee;try{return this.getVersionForNumber((e-17)/4)}catch{throw new Ee}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new Ue;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var a=t.VERSION_DECODE_INFO[i];if(a===e)return t.getVersionForNumber(i+7);var o=rJ.numBitsDiffering(e,a);o<r&&(n=i+7,r=o)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new es(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<n;o++)i===0&&(o===0||o===n-1)||i===n-1&&o===0||r.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new J(7,new U(1,19)),new J(10,new U(1,16)),new J(13,new U(1,13)),new J(17,new U(1,9))),new t(2,Int32Array.from([6,18]),new J(10,new U(1,34)),new J(16,new U(1,28)),new J(22,new U(1,22)),new J(28,new U(1,16))),new t(3,Int32Array.from([6,22]),new J(15,new U(1,55)),new J(26,new U(1,44)),new J(18,new U(2,17)),new J(22,new U(2,13))),new t(4,Int32Array.from([6,26]),new J(20,new U(1,80)),new J(18,new U(2,32)),new J(26,new U(2,24)),new J(16,new U(4,9))),new t(5,Int32Array.from([6,30]),new J(26,new U(1,108)),new J(24,new U(2,43)),new J(18,new U(2,15),new U(2,16)),new J(22,new U(2,11),new U(2,12))),new t(6,Int32Array.from([6,34]),new J(18,new U(2,68)),new J(16,new U(4,27)),new J(24,new U(4,19)),new J(28,new U(4,15))),new t(7,Int32Array.from([6,22,38]),new J(20,new U(2,78)),new J(18,new U(4,31)),new J(18,new U(2,14),new U(4,15)),new J(26,new U(4,13),new U(1,14))),new t(8,Int32Array.from([6,24,42]),new J(24,new U(2,97)),new J(22,new U(2,38),new U(2,39)),new J(22,new U(4,18),new U(2,19)),new J(26,new U(4,14),new U(2,15))),new t(9,Int32Array.from([6,26,46]),new J(30,new U(2,116)),new J(22,new U(3,36),new U(2,37)),new J(20,new U(4,16),new U(4,17)),new J(24,new U(4,12),new U(4,13))),new t(10,Int32Array.from([6,28,50]),new J(18,new U(2,68),new U(2,69)),new J(26,new U(4,43),new U(1,44)),new J(24,new U(6,19),new U(2,20)),new J(28,new U(6,15),new U(2,16))),new t(11,Int32Array.from([6,30,54]),new J(20,new U(4,81)),new J(30,new U(1,50),new U(4,51)),new J(28,new U(4,22),new U(4,23)),new J(24,new U(3,12),new U(8,13))),new t(12,Int32Array.from([6,32,58]),new J(24,new U(2,92),new U(2,93)),new J(22,new U(6,36),new U(2,37)),new J(26,new U(4,20),new U(6,21)),new J(28,new U(7,14),new U(4,15))),new t(13,Int32Array.from([6,34,62]),new J(26,new U(4,107)),new J(22,new U(8,37),new U(1,38)),new J(24,new U(8,20),new U(4,21)),new J(22,new U(12,11),new U(4,12))),new t(14,Int32Array.from([6,26,46,66]),new J(30,new U(3,115),new U(1,116)),new J(24,new U(4,40),new U(5,41)),new J(20,new U(11,16),new U(5,17)),new J(24,new U(11,12),new U(5,13))),new t(15,Int32Array.from([6,26,48,70]),new J(22,new U(5,87),new U(1,88)),new J(24,new U(5,41),new U(5,42)),new J(30,new U(5,24),new U(7,25)),new J(24,new U(11,12),new U(7,13))),new t(16,Int32Array.from([6,26,50,74]),new J(24,new U(5,98),new U(1,99)),new J(28,new U(7,45),new U(3,46)),new J(24,new U(15,19),new U(2,20)),new J(30,new U(3,15),new U(13,16))),new t(17,Int32Array.from([6,30,54,78]),new J(28,new U(1,107),new U(5,108)),new J(28,new U(10,46),new U(1,47)),new J(28,new U(1,22),new U(15,23)),new J(28,new U(2,14),new U(17,15))),new t(18,Int32Array.from([6,30,56,82]),new J(30,new U(5,120),new U(1,121)),new J(26,new U(9,43),new U(4,44)),new J(28,new U(17,22),new U(1,23)),new J(28,new U(2,14),new U(19,15))),new t(19,Int32Array.from([6,30,58,86]),new J(28,new U(3,113),new U(4,114)),new J(26,new U(3,44),new U(11,45)),new J(26,new U(17,21),new U(4,22)),new J(26,new U(9,13),new U(16,14))),new t(20,Int32Array.from([6,34,62,90]),new J(28,new U(3,107),new U(5,108)),new J(26,new U(3,41),new U(13,42)),new J(30,new U(15,24),new U(5,25)),new J(28,new U(15,15),new U(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new J(28,new U(4,116),new U(4,117)),new J(26,new U(17,42)),new J(28,new U(17,22),new U(6,23)),new J(30,new U(19,16),new U(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new J(28,new U(2,111),new U(7,112)),new J(28,new U(17,46)),new J(30,new U(7,24),new U(16,25)),new J(24,new U(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new J(30,new U(4,121),new U(5,122)),new J(28,new U(4,47),new U(14,48)),new J(30,new U(11,24),new U(14,25)),new J(30,new U(16,15),new U(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new J(30,new U(6,117),new U(4,118)),new J(28,new U(6,45),new U(14,46)),new J(30,new U(11,24),new U(16,25)),new J(30,new U(30,16),new U(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new J(26,new U(8,106),new U(4,107)),new J(28,new U(8,47),new U(13,48)),new J(30,new U(7,24),new U(22,25)),new J(30,new U(22,15),new U(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new J(28,new U(10,114),new U(2,115)),new J(28,new U(19,46),new U(4,47)),new J(28,new U(28,22),new U(6,23)),new J(30,new U(33,16),new U(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new J(30,new U(8,122),new U(4,123)),new J(28,new U(22,45),new U(3,46)),new J(30,new U(8,23),new U(26,24)),new J(30,new U(12,15),new U(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new J(30,new U(3,117),new U(10,118)),new J(28,new U(3,45),new U(23,46)),new J(30,new U(4,24),new U(31,25)),new J(30,new U(11,15),new U(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new J(30,new U(7,116),new U(7,117)),new J(28,new U(21,45),new U(7,46)),new J(30,new U(1,23),new U(37,24)),new J(30,new U(19,15),new U(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new J(30,new U(5,115),new U(10,116)),new J(28,new U(19,47),new U(10,48)),new J(30,new U(15,24),new U(25,25)),new J(30,new U(23,15),new U(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new J(30,new U(13,115),new U(3,116)),new J(28,new U(2,46),new U(29,47)),new J(30,new U(42,24),new U(1,25)),new J(30,new U(23,15),new U(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new J(30,new U(17,115)),new J(28,new U(10,46),new U(23,47)),new J(30,new U(10,24),new U(35,25)),new J(30,new U(19,15),new U(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new J(30,new U(17,115),new U(1,116)),new J(28,new U(14,46),new U(21,47)),new J(30,new U(29,24),new U(19,25)),new J(30,new U(11,15),new U(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new J(30,new U(13,115),new U(6,116)),new J(28,new U(14,46),new U(23,47)),new J(30,new U(44,24),new U(7,25)),new J(30,new U(59,16),new U(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new J(30,new U(12,121),new U(7,122)),new J(28,new U(12,47),new U(26,48)),new J(30,new U(39,24),new U(14,25)),new J(30,new U(22,15),new U(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new J(30,new U(6,121),new U(14,122)),new J(28,new U(6,47),new U(34,48)),new J(30,new U(46,24),new U(10,25)),new J(30,new U(2,15),new U(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new J(30,new U(17,122),new U(4,123)),new J(28,new U(29,46),new U(14,47)),new J(30,new U(49,24),new U(10,25)),new J(30,new U(24,15),new U(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new J(30,new U(4,122),new U(18,123)),new J(28,new U(13,46),new U(32,47)),new J(30,new U(48,24),new U(14,25)),new J(30,new U(42,15),new U(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new J(30,new U(20,117),new U(4,118)),new J(28,new U(40,47),new U(7,48)),new J(30,new U(43,24),new U(22,25)),new J(30,new U(10,15),new U(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new J(30,new U(19,118),new U(6,119)),new J(28,new U(18,47),new U(31,48)),new J(30,new U(34,24),new U(34,25)),new J(30,new U(20,15),new U(61,16)))],t}(),cn;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(cn||(cn={}));var $L=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[cn.DATA_MASK_000,new t(cn.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[cn.DATA_MASK_001,new t(cn.DATA_MASK_001,function(e,r){return(e&1)===0})],[cn.DATA_MASK_010,new t(cn.DATA_MASK_010,function(e,r){return r%3===0})],[cn.DATA_MASK_011,new t(cn.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[cn.DATA_MASK_100,new t(cn.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[cn.DATA_MASK_101,new t(cn.DATA_MASK_101,function(e,r){return e*r%6===0})],[cn.DATA_MASK_110,new t(cn.DATA_MASK_110,function(e,r){return e*r%6<3})],[cn.DATA_MASK_111,new t(cn.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),wUe=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new Ee;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,n=i-1;n>=o;n--)a=this.copyBit(8,n,a);for(var r=i-8;r<i;r++)a=this.copyBit(r,8,a);if(this.parsedFormatInfo=rJ.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Ee},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Nu.getVersionForNumber(r);for(var n=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(o,a,n);var s=Nu.decodeVersionInformation(n);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;n=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(o,a,n);if(s=Nu.decodeVersionInformation(n),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new Ee},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=$L.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var a=r.buildFunctionPattern(),o=!0,s=new Uint8Array(r.getTotalCodewords()),l=0,c=0,d=0,f=i-1;f>0;f-=2){f===6&&f--;for(var h=0;h<i;h++)for(var p=o?i-1-h:h,m=0;m<2;m++)a.get(f-m,p)||(d++,c<<=1,this.bitMatrix.get(f-m,p)&&(c|=1),d===8&&(s[l++]=c,d=0,c=0));o=!o}if(l!==r.getTotalCodewords())throw new Ee;return s},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=$L.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,a=e.getHeight();i<a;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t}(),FL=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bUe=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,a,o,s;if(e.length!==r.getTotalCodewords())throw new Ue;var l=r.getECBlocksForLevel(n),c=0,d=l.getECBlocks();try{for(var f=FL(d),h=f.next();!h.done;h=f.next()){var p=h.value;c+=p.getCount()}}catch(O){i={error:O}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}var m=new Array(c),g=0;try{for(var v=FL(d),y=v.next();!y.done;y=v.next())for(var p=y.value,x=0;x<p.getCount();x++){var w=p.getDataCodewords(),S=l.getECCodewordsPerBlock()+w;m[g++]=new t(w,new Uint8Array(S))}}catch(O){o={error:O}}finally{try{y&&!y.done&&(s=v.return)&&s.call(v)}finally{if(o)throw o.error}}for(var E=m[0].codewords.length,T=m.length-1;T>=0;){var A=m[T].codewords.length;if(A===E)break;T--}T++;for(var C=E-l.getECCodewordsPerBlock(),N=0,x=0;x<C;x++)for(var I=0;I<g;I++)m[I].codewords[x]=e[N++];for(var I=T;I<g;I++)m[I].codewords[C]=e[N++];for(var P=m[0].codewords.length,x=C;x<P;x++)for(var I=0;I<g;I++){var k=I<T?x:x+1;m[I].codewords[k]=e[N++]}return m},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),xa;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(xa||(xa={}));var Xt=function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new Ue;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(xa.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(xa.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(xa.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(xa.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(xa.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(xa.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(xa.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(xa.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(xa.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(xa.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),_Ue=function(){function t(){}return t.decode=function(e,r,n,i){var a=new tJ(e),o=new Qe,s=new Array,l=-1,c=-1;try{var d=null,f=!1,h=void 0;do{if(a.available()<4)h=Xt.TERMINATOR;else{var p=a.readBits(4);h=Xt.forBits(p)}switch(h){case Xt.TERMINATOR:break;case Xt.FNC1_FIRST_POSITION:case Xt.FNC1_SECOND_POSITION:f=!0;break;case Xt.STRUCTURED_APPEND:if(a.available()<16)throw new Ee;l=a.readBits(8),c=a.readBits(8);break;case Xt.ECI:var m=t.parseECIValue(a);if(d=Qr.getCharacterSetECIByValue(m),d===null)throw new Ee;break;case Xt.HANZI:var g=a.readBits(4),v=a.readBits(h.getCharacterCountBits(r));g===t.GB2312_SUBSET&&t.decodeHanziSegment(a,o,v);break;default:var y=a.readBits(h.getCharacterCountBits(r));switch(h){case Xt.NUMERIC:t.decodeNumericSegment(a,o,y);break;case Xt.ALPHANUMERIC:t.decodeAlphanumericSegment(a,o,y,f);break;case Xt.BYTE:t.decodeByteSegment(a,o,y,d,s,i);break;case Xt.KANJI:t.decodeKanjiSegment(a,o,y);break;default:throw new Ee}break}}while(h!==Xt.TERMINATOR)}catch{throw new Ee}return new w_(e,o.toString(),s.length===0?null:s,n===null?null:n.toString(),l,c)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new Ee;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/96<<8&4294967295|o%96;s<959?s+=41377:s+=42657,i[a]=s>>8&255,i[a+1]=s&255,a+=2,n--}try{r.append(Pa.decode(i,ht.GB2312))}catch(l){throw new Ee(l)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new Ee;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/192<<8&4294967295|o%192;s<7936?s+=33088:s+=49472,i[a]=s>>8,i[a+1]=s,a+=2,n--}try{r.append(Pa.decode(i,ht.SHIFT_JIS))}catch(l){throw new Ee(l)}},t.decodeByteSegment=function(e,r,n,i,a,o){if(8*n>e.available())throw new Ee;for(var s=new Uint8Array(n),l=0;l<n;l++)s[l]=e.readBits(8);var c;i===null?c=ht.guessEncoding(s,o):c=i.getName();try{r.append(Pa.decode(s,c))}catch(d){throw new Ee(d)}a.push(s)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new Ee;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var a=r.length();n>1;){if(e.available()<11)throw new Ee;var o=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(o/45))),r.append(t.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(e.available()<6)throw new Ee;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=a;s<r.length();s++)r.charAt(s)==="%"&&(s<r.length()-1&&r.charAt(s+1)==="%"?r.deleteCharAt(s+1):r.setCharAt(s,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new Ee;var i=e.readBits(10);if(i>=1e3)throw new Ee;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new Ee;var a=e.readBits(7);if(a>=100)throw new Ee;r.append(t.toAlphaNumericChar(Math.floor(a/10))),r.append(t.toAlphaNumericChar(a%10))}else if(n===1){if(e.available()<4)throw new Ee;var o=e.readBits(4);if(o>=10)throw new Ee;r.append(t.toAlphaNumericChar(o))}},t.parseECIValue=function(e){var r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new Ee},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),nJ=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),BL=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},SUe=function(){function t(){this.rsDecoder=new b_(Oi.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(es.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new wUe(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(o){i=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,r);return a.setOther(new nJ(!0)),a}catch(o){throw i!==null?i:o}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,a,o,s=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),c=e.readCodewords(),d=bUe.getDataBlocks(c,s,l),f=0;try{for(var h=BL(d),p=h.next();!p.done;p=h.next()){var m=p.value;f+=m.getNumDataCodewords()}}catch(T){n={error:T}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}var g=new Uint8Array(f),v=0;try{for(var y=BL(d),x=y.next();!x.done;x=y.next()){var m=x.value,w=m.getCodewords(),S=m.getNumDataCodewords();this.correctErrors(w,S);for(var E=0;E<S;E++)g[v++]=w[E]}}catch(T){a={error:T}}finally{try{x&&!x.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}return _Ue.decode(g,s,l,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new gn}for(var i=0;i<r;i++)e[i]=n[i]},t}(),EUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),AUe=function(t){EUe(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=(this.getX()+n)/2,o=(this.getY()+r)/2,s=(this.estimatedModuleSize+i)/2;return new e(a,o,s)},e}(Re),CUe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TUe=function(){function t(e,r,n,i,a,o,s){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,a=this.startY+r/2,o=new Int32Array(3),s=this.image,l=0;l<r;l++){var c=a+(l&1?-Math.floor((l+1)/2):Math.floor((l+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var d=e;d<i&&!s.get(d,c);)d++;for(var f=0;d<i;){if(s.get(d,c))if(f===1)o[1]++;else if(f===2){if(this.foundPatternCross(o)){var h=this.handlePossibleCenter(o,c,d);if(h!==null)return h}o[0]=o[2],o[1]=1,o[2]=0,f=1}else o[++f]++;else f===1&&f++,o[f]++;d++}if(this.foundPatternCross(o)){var h=this.handlePossibleCenter(o,c,i);if(h!==null)return h}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ie},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var a=this.image,o=a.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var l=e;l>=0&&a.get(r,l)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&!a.get(r,l)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(r,l)&&s[1]<=n;)s[1]++,l++;if(l===o||s[1]>n)return NaN;for(;l<o&&!a.get(r,l)&&s[2]<=n;)s[2]++,l++;if(s[2]>n)return NaN;var c=s[0]+s[1]+s[2];return 5*Math.abs(c-i)>=2*i?NaN:this.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,a,o=e[0]+e[1]+e[2],s=t.centerFromEnd(e,n),l=this.crossCheckVertical(r,s,2*e[1],o);if(!isNaN(l)){var c=(e[0]+e[1]+e[2])/3;try{for(var d=CUe(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.aboutEquals(c,l,s))return h.combineEstimate(l,s,c)}}catch(m){i={error:m}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}var p=new AUe(s,l,c);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null},t}(),NUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),IUe=function(t){NUe(e,t);function e(r,n,i,a){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=this.count+1,o=(this.count*this.getX()+n)/a,s=(this.count*this.getY()+r)/a,l=(this.count*this.estimatedModuleSize+i)/a;return new e(o,s,l,a)},e}(Re),PUe=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),nm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},OUe=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(ar.TRY_HARDER)!==void 0,n=e!=null&&e.get(ar.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),s=Math.floor(3*a/(4*t.MAX_MODULES));(s<t.MIN_SKIP||r)&&(s=t.MIN_SKIP);for(var l=!1,c=new Int32Array(5),d=s-1;d<a&&!l;d+=s){c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0;for(var f=0,h=0;h<o;h++)if(i.get(h,d))(f&1)===1&&f++,c[f]++;else if(f&1)c[f]++;else if(f===4)if(t.foundPatternCross(c)){var p=this.handlePossibleCenter(c,d,h,n);if(p===!0)if(s=2,this.hasSkipped===!0)l=this.haveMultiplyConfirmedCenters();else{var m=this.findRowSkip();m>c[2]&&(d+=m-c[2]-s,h=o-1)}else{c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,f=3;continue}f=0,c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0}else c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,f=3;else c[++f]++;if(t.foundPatternCross(c)){var p=this.handlePossibleCenter(c,d,o,n);p===!0&&(s=c[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}}var g=this.selectBestPatterns();return Re.orderBestPatterns(g),new PUe(g)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var a=r/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var a=this.getCrossCheckStateCount(),o=0,s=this.image;e>=o&&r>=o&&s.get(r-o,e-o);)a[2]++,o++;if(e<o||r<o)return!1;for(;e>=o&&r>=o&&!s.get(r-o,e-o)&&a[1]<=n;)a[1]++,o++;if(e<o||r<o||a[1]>n)return!1;for(;e>=o&&r>=o&&s.get(r-o,e-o)&&a[0]<=n;)a[0]++,o++;if(a[0]>n)return!1;var l=s.getHeight(),c=s.getWidth();for(o=1;e+o<l&&r+o<c&&s.get(r+o,e+o);)a[2]++,o++;if(e+o>=l||r+o>=c)return!1;for(;e+o<l&&r+o<c&&!s.get(r+o,e+o)&&a[3]<n;)a[3]++,o++;if(e+o>=l||r+o>=c||a[3]>=n)return!1;for(;e+o<l&&r+o<c&&s.get(r+o,e+o)&&a[4]<n;)a[4]++,o++;if(a[4]>=n)return!1;var d=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(d-i)<2*i&&t.foundPatternCross(a)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var a=this.image,o=a.getHeight(),s=this.getCrossCheckStateCount(),l=e;l>=0&&a.get(r,l);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!a.get(r,l)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&a.get(r,l)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(r,l);)s[2]++,l++;if(l===o)return NaN;for(;l<o&&!a.get(r,l)&&s[3]<n;)s[3]++,l++;if(l===o||s[3]>=n)return NaN;for(;l<o&&a.get(r,l)&&s[4]<n;)s[4]++,l++;if(s[4]>=n)return NaN;var c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-i)>=2*i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var a=this.image,o=a.getWidth(),s=this.getCrossCheckStateCount(),l=e;l>=0&&a.get(l,r);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!a.get(l,r)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&a.get(l,r)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(l,r);)s[2]++,l++;if(l===o)return NaN;for(;l<o&&!a.get(l,r)&&s[3]<n;)s[3]++,l++;if(l===o||s[3]>=n)return NaN;for(;l<o&&a.get(l,r)&&s[4]<n;)s[4]++,l++;if(s[4]>=n)return NaN;var c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-i)>=i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=t.centerFromEnd(e,n),s=this.crossCheckVertical(r,Math.floor(o),e[2],a);if(!isNaN(s)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(s),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(o),e[2],a)))){for(var l=a/7,c=!1,d=this.possibleCenters,f=0,h=d.length;f<h;f++){var p=d[f];if(p.aboutEquals(l,s,o)){d[f]=p.combineEstimate(s,o,l),c=!0;break}}if(!c){var m=new IUe(o,s,l);d.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var a=nm(this.possibleCenters),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.getCount()>=t.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,a=0,o=0,s=this.possibleCenters.length;try{for(var l=nm(this.possibleCenters),c=l.next();!c.done;c=l.next()){var d=c.value;d.getCount()>=t.CENTER_QUORUM&&(a++,o+=d.getEstimatedModuleSize())}}catch(g){e={error:g}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}if(a<3)return!1;var f=o/s,h=0;try{for(var p=nm(this.possibleCenters),m=p.next();!m.done;m=p.next()){var d=m.value;h+=Math.abs(d.getEstimatedModuleSize()-f)}}catch(g){n={error:g}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}return h<=.05*o},t.prototype.selectBestPatterns=function(){var e,r,n,i,a=this.possibleCenters.length;if(a<3)throw new ie;var o=this.possibleCenters,s;if(a>3){var l=0,c=0;try{for(var d=nm(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value,p=h.getEstimatedModuleSize();l+=p,c+=p*p}}catch(E){e={error:E}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}s=l/a;var m=Math.sqrt(c/a-s*s);o.sort(function(E,T){var A=Math.abs(T.getEstimatedModuleSize()-s),C=Math.abs(E.getEstimatedModuleSize()-s);return A<C?-1:A>C?1:0});for(var g=Math.max(.2*s,m),v=0;v<o.length&&o.length>3;v++){var y=o[v];Math.abs(y.getEstimatedModuleSize()-s)>g&&(o.splice(v,1),v--)}}if(o.length>3){var l=0;try{for(var x=nm(o),w=x.next();!w.done;w=x.next()){var S=w.value;l+=S.getEstimatedModuleSize()}}catch(T){n={error:T}}finally{try{w&&!w.done&&(i=x.return)&&i.call(x)}finally{if(n)throw n.error}}s=l/o.length,o.sort(function(T,A){if(A.getCount()===T.getCount()){var C=Math.abs(A.getEstimatedModuleSize()-s),N=Math.abs(T.getEstimatedModuleSize()-s);return C<N?1:C>N?-1:0}else return A.getCount()-T.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),jUe=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(ar.NEED_RESULT_POINT_CALLBACK);var r=new OUe(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(r,n,i);if(a<1)throw new ie("No pattern found in proccess finder.");var o=t.computeDimension(r,n,i,a),s=Nu.getProvisionalVersionForDimension(o),l=s.getDimensionForVersion()-7,c=null;if(s.getAlignmentPatternCenters().length>0)for(var d=n.getX()-r.getX()+i.getX(),f=n.getY()-r.getY()+i.getY(),h=1-3/l,p=Math.floor(r.getX()+h*(d-r.getX())),m=Math.floor(r.getY()+h*(f-r.getY())),g=4;g<=16;g<<=1)try{c=this.findAlignmentInRegion(a,p,m,g);break}catch(w){if(!(w instanceof ie))throw w}var v=t.createTransform(r,n,i,c,o),y=t.sampleGrid(this.image,v,o),x;return c===null?x=[i,r,n]:x=[i,r,n,c],new Qk(y,x)},t.createTransform=function(e,r,n,i,a){var o=a-3.5,s,l,c,d;return i!==null?(s=i.getX(),l=i.getY(),c=o-3,d=c):(s=r.getX()-e.getX()+n.getX(),l=r.getY()-e.getY()+n.getY(),c=o,d=o),QZ.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,c,d,3.5,o,e.getX(),e.getY(),r.getX(),r.getY(),s,l,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=Zk.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var a=wt.round(Re.distance(e,r)/i),o=wt.round(Re.distance(e,n)/i),s=Math.floor((a+o)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new ie("Dimensions could be not found.")}return s},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var a=this.sizeOfBlackWhiteBlackRun(e,r,n,i),o=1,s=e-(n-e);s<0?(o=e/(e-s),s=0):s>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var l=Math.floor(r-(i-r)*o);return o=1,l<0?(o=r/(r-l),l=0):l>=this.image.getHeight()&&(o=(this.image.getHeight()-1-r)/(l-r),l=this.image.getHeight()-1),s=Math.floor(e+(s-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,r,s,l),a-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var a=Math.abs(i-r)>Math.abs(n-e);if(a){var o=e;e=r,r=o,o=n,n=i,i=o}for(var s=Math.abs(n-e),l=Math.abs(i-r),c=-s/2,d=e<n?1:-1,f=r<i?1:-1,h=0,p=n+d,m=e,g=r;m!==p;m+=d){var v=a?g:m,y=a?m:g;if(h===1===this.image.get(v,y)){if(h===2)return wt.distance(m,g,e,r);h++}if(c+=l,c>0){if(g===i)break;g+=f,c-=s}}return h===2?wt.distance(n+d,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var a=Math.floor(i*e),o=Math.max(0,r-a),s=Math.min(this.image.getWidth()-1,r+a);if(s-o<e*3)throw new ie("Alignment top exceeds estimated module size.");var l=Math.max(0,n-a),c=Math.min(this.image.getHeight()-1,n+a);if(c-l<e*3)throw new ie("Alignment bottom exceeds estimated module size.");var d=new TUe(this.image,o,l,s-o,c-l,e,this.resultPointCallback);return d.find()},t}(),_N=function(){function t(){this.decoder=new SUe}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(ar.PURE_BARCODE)!==void 0){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,r),i=t.NO_POINTS}else{var o=new jUe(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(o.getBits(),r),i=o.getPoints()}n.getOther()instanceof nJ&&n.getOther().applyMirroredCorrection(i);var s=new oi(n.getText(),n.getRawBytes(),void 0,i,$e.QR_CODE,void 0),l=n.getByteSegments();l!==null&&s.putMetadata(Nn.BYTE_SEGMENTS,l);var c=n.getECLevel();return c!==null&&s.putMetadata(Nn.ERROR_CORRECTION_LEVEL,c),n.hasStructuredAppend()&&(s.putMetadata(Nn.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(Nn.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new ie;var i=this.moduleSize(r,e),a=r[1],o=n[1],s=r[0],l=n[0];if(s>=l||a>=o)throw new ie;if(o-a!==l-s&&(l=s+(o-a),l>=e.getWidth()))throw new ie;var c=Math.round((l-s+1)/i),d=Math.round((o-a+1)/i);if(c<=0||d<=0)throw new ie;if(d!==c)throw new ie;var f=Math.floor(i/2);a+=f,s+=f;var h=s+Math.floor((c-1)*i)-l;if(h>0){if(h>f)throw new ie;s-=h}var p=a+Math.floor((d-1)*i)-o;if(p>0){if(p>f)throw new ie;a-=p}for(var m=new es(c,d),g=0;g<d;g++)for(var v=a+Math.floor(g*i),y=0;y<c;y++)e.get(s+Math.floor(y*i),v)&&m.set(y,g);return m},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),a=e[0],o=e[1],s=!0,l=0;a<i&&o<n;){if(s!==r.get(a,o)){if(++l===5)break;s=!s}a++,o++}if(a===i||o===n)throw new ie;return(a-e[0])/7},t.NO_POINTS=new Array,t}(),kUe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gt=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return wt.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=kUe(e),s=o.next();!s.done;s=o.next()){var l=s.value;i[a++]=l}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=Jr.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),RUe=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),DUe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},MUe=function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),a=t.detect(n,i);return a.length||(i=i.clone(),i.rotate180(),a=t.detect(n,i)),new RUe(i,a)},t.detect=function(e,r){for(var n,i,a=new Array,o=0,s=0,l=!1;o<r.getHeight();){var c=t.findVertices(r,o,s);if(c[0]==null&&c[3]==null){if(!l)break;l=!1,s=0;try{for(var d=(n=void 0,DUe(a)),f=d.next();!f.done;f=d.next()){var h=f.value;h[1]!=null&&(o=Math.trunc(Math.max(o,h[1].getY()))),h[3]!=null&&(o=Math.max(o,Math.trunc(h[3].getY())))}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}o+=t.ROW_STEP;continue}if(l=!0,a.push(c),!e)break;c[2]!=null?(s=Math.trunc(c[2].getX()),o=Math.trunc(c[2].getY())):(s=Math.trunc(c[4].getX()),o=Math.trunc(c[4].getY()))}return a},t.findVertices=function(e,r,n){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),r=Math.trunc(o[4].getY())),t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),o},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,a,o){for(var s=new Array(4),l=!1,c=new Int32Array(o.length);i<r;i+=t.ROW_STEP){var d=t.findGuardPattern(e,a,i,n,!1,o,c);if(d!=null){for(;i>0;){var f=t.findGuardPattern(e,a,--i,n,!1,o,c);if(f!=null)d=f;else{i++;break}}s[0]=new Re(d[0],i),s[1]=new Re(d[1],i),l=!0;break}}var h=i+1;if(l){for(var p=0,f=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);h<r;h++){var d=t.findGuardPattern(e,f[0],h,n,!1,o,c);if(d!=null&&Math.abs(f[0]-d[0])<t.MAX_PATTERN_DRIFT&&Math.abs(f[1]-d[1])<t.MAX_PATTERN_DRIFT)f=d,p=0;else{if(p>t.SKIPPED_ROW_COUNT_MAX)break;p++}}h-=p+1,s[2]=new Re(f[0],h),s[3]=new Re(f[1],h)}return h-i<t.BARCODE_MIN_HEIGHT&&Jr.fill(s,null),s},t.findGuardPattern=function(e,r,n,i,a,o,s){Jr.fillWithin(s,0,s.length,0);for(var l=r,c=0;e.get(l,n)&&l>0&&c++<t.MAX_PIXEL_DRIFT;)l--;for(var d=l,f=0,h=o.length,p=a;d<i;d++){var m=e.get(d,n);if(m!==p)s[f]++;else{if(f===h-1){if(t.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([l,d]);l+=s[0]+s[1],zt.arraycopy(s,2,s,0,f-1),s[f-1]=0,s[f]=0,f--}else f++;s[f]=1,p=!p}}return f===h-1&&t.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([l,d-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=r[s];if(a<o)return 1/0;var l=a/o;n*=l;for(var c=0,d=0;d<i;d++){var f=e[d],h=r[d]*l,p=f>h?f-h:h-f;if(p>n)return 1/0;c+=p}return c/a},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),LUe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gu=function(){function t(e,r){if(r.length===0)throw new Ue;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),zt.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=LUe(this.coefficients),o=a.next();!o.done;o=a.next()){var s=o.value;i=this.field.add(i,s)}}catch(f){r={error:f}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}for(var l=this.coefficients[0],c=this.coefficients.length,d=1;d<c;d++)l=this.field.add(this.field.multiply(e,l),this.coefficients[d]);return l},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new Ue("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;zt.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=this.field.add(r[s-o],n[s]);return new t(this.field,a)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Ue("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Ue("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=0;s<n;s++)for(var l=r[s],c=0;c<a;c++)o[s+c]=this.field.add(o[s+c],this.field.multiply(l,i[c]));return new t(this.field,o)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Ue;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),a=0;a<n;a++)i[a]=this.field.multiply(this.coefficients[a],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new Qe,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),$Ue=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Ue;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new XZ;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),FUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),BUe=function(t){FUe(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var a=1,o=0;o<r;o++)i.expTable[o]=a,a=a*n%r;for(var o=0;o<r-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new gu(i,new Int32Array([0])),i.one=new gu(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Ue;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new gu(this,i)},e.PDF417_GF=new e(gt.NUMBER_OF_CODEWORDS,3),e}($Ue),UUe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},VUe=function(){function t(){this.field=BUe.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,a,o=new gu(this.field,e),s=new Int32Array(r),l=!1,c=r;c>0;c--){var d=o.evaluateAt(this.field.exp(c));s[r-c]=d,d!==0&&(l=!0)}if(!l)return 0;var f=this.field.getOne();if(n!=null)try{for(var h=UUe(n),p=h.next();!p.done;p=h.next()){var m=p.value,g=this.field.exp(e.length-1-m),v=new gu(this.field,new Int32Array([this.field.subtract(0,g),1]));f=f.multiply(v)}}catch(C){i={error:C}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}for(var y=new gu(this.field,s),x=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),y,r),w=x[0],S=x[1],E=this.findErrorLocations(w),T=this.findErrorMagnitudes(S,w,E),c=0;c<E.length;c++){var A=e.length-1-this.field.log(E[c]);if(A<0)throw gn.getChecksumInstance();e[A]=this.field.subtract(e[A],T[c])}return E.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=e,o=r,s=this.field.getZero(),l=this.field.getOne();o.getDegree()>=Math.round(n/2);){var c=a,d=s;if(a=o,s=l,a.isZero())throw gn.getChecksumInstance();o=c;for(var f=this.field.getZero(),h=a.getCoefficient(a.getDegree()),p=this.field.inverse(h);o.getDegree()>=a.getDegree()&&!o.isZero();){var m=o.getDegree()-a.getDegree(),g=this.field.multiply(o.getCoefficient(o.getDegree()),p);f=f.add(this.field.buildMonomial(m,g)),o=o.subtract(a.multiplyByMonomial(m,g))}l=f.multiply(s).subtract(d).negative()}var v=l.getCoefficient(0);if(v===0)throw gn.getChecksumInstance();var y=this.field.inverse(v),x=l.multiply(y),w=o.multiply(y);return[x,w]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,a=1;a<this.field.getSize()&&i<r;a++)e.evaluateAt(a)===0&&(n[i]=this.field.inverse(a),i++);if(i!==r)throw gn.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,r.getCoefficient(o));for(var s=new gu(this.field,a),l=n.length,c=new Int32Array(l),o=0;o<l;o++){var d=this.field.inverse(n[o]),f=this.field.subtract(0,e.evaluateAt(d)),h=this.field.inverse(s.evaluateAt(d));c[o]=this.field.multiply(f,h)}return c},t}(),SN=function(){function t(e,r,n,i,a){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,a)}return t.prototype.constructor_1=function(e,r,n,i,a){var o=r==null||n==null,s=i==null||a==null;if(o&&s)throw new ie;o?(r=new Re(0,i.getY()),n=new Re(0,a.getY())):s&&(i=new Re(e.getWidth()-1,r.getY()),a=new Re(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,s=this.bottomRight;if(e>0){var l=n?this.topLeft:this.topRight,c=Math.trunc(l.getY()-e);c<0&&(c=0);var d=new Re(l.getX(),c);n?i=d:o=d}if(r>0){var f=n?this.bottomLeft:this.bottomRight,h=Math.trunc(f.getY()+r);h>=this.image.getHeight()&&(h=this.image.getHeight()-1);var p=new Re(f.getX(),h);n?a=p:s=p}return new t(this.image,i,a,o,s)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),zUe=function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),e3=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(o,s,l,c,d,f){if(o==="%%")return"%";if(r[++n]!==void 0){o=c?parseInt(c.substr(1)):void 0;var h=d?parseInt(d.substr(1)):void 0,p;switch(f){case"s":p=r[n];break;case"c":p=r[n][0];break;case"f":p=parseFloat(r[n]).toFixed(o);break;case"p":p=parseFloat(r[n]).toPrecision(o);break;case"e":p=parseFloat(r[n]).toExponential(o);break;case"x":p=parseInt(r[n]).toString(h||16);break;case"d":p=parseFloat(parseInt(r[n],h||10).toPrecision(o)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(h);for(var m=parseInt(l),g=l&&l[0]+""=="0"?"0":" ";p.length<m;)p=s!==void 0?p+g:g+p;return p}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),WUe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iJ=function(){function t(e){this.boundingBox=new SN(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new e3,i=0;try{for(var a=WUe(this.codewords),o=a.next();!o.done;o=a.next()){var s=o.value;if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),HUe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},GUe=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},jm=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,a=function(f,h){var p={getKey:function(){return f},getValue:function(){return h}};p.getValue()>n?(n=p.getValue(),i=[],i.push(p.getKey())):p.getValue()===n&&i.push(p.getKey())};try{for(var o=HUe(this.values.entries()),s=o.next();!s.done;s=o.next()){var l=GUe(s.value,2),c=l[0],d=l[1];a(c,d)}}catch(f){e={error:f}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return gt.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),qUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),aA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UL=function(t){qUe(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=aA(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o!=null&&o.setRowNumberAsRowIndicatorColumn()}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),c=-1,d=1,f=0,h=s;h<l;h++)if(n[h]!=null){var p=n[h],m=p.getRowNumber()-c;if(m===0)f++;else if(m===1)d=Math.max(d,f),f=1,c=p.getRowNumber();else if(m<0||p.getRowNumber()>=r.getRowCount()||m>h)n[h]=null;else{var g=void 0;d>2?g=(d-2)*m:g=m;for(var v=g>=h,y=1;y<=g&&!v;y++)v=n[h-y]!=null;v?n[h]=null:(c=p.getRowNumber(),f=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=aA(this.getCodewords()),s=o.next();!s.done;s=o.next()){var l=s.value;if(l!=null){var c=l.getRowNumber();if(c>=a.length)continue;a[c]++}}}catch(d){r={error:d}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.getCodewords(),c=-1,d=o;d<s;d++)if(l[d]!=null){var f=l[d];f.setRowNumberAsRowIndicatorColumn();var h=f.getRowNumber()-c;h===0||(h===1?c=f.getRowNumber():f.getRowNumber()>=r.getRowCount()?l[d]=null:c=f.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),a=new jm,o=new jm,s=new jm,l=new jm;try{for(var c=aA(i),d=c.next();!d.done;d=c.next()){var f=d.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var h=f.getValue()%30,p=f.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:o.setValue(h*3+1);break;case 1:l.setValue(h/3),s.setValue(h%3);break;case 2:a.setValue(h+1);break}}}}catch(g){r={error:g}}finally{try{d&&!d.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}if(a.getValue().length===0||o.getValue().length===0||s.getValue().length===0||l.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+s.getValue()[0]<gt.MIN_ROWS_IN_BARCODE||o.getValue()[0]+s.getValue()[0]>gt.MAX_ROWS_IN_BARCODE)return null;var m=new zUe(a.getValue()[0],o.getValue()[0],s.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(i,m),m},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var a=r[i];if(r[i]!=null){var o=a.getValue()%30,s=a.getRowNumber();if(s>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:o+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(iJ),KUe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},YUe=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=gt.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[n];a!=null&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=t.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=t.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=n[r],s=this.detectionResultColumns[e-1].getCodewords(),l=s;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());var c=new Array(14);c[2]=s[r],c[3]=l[r],r>0&&(c[0]=n[r-1],c[4]=s[r-1],c[5]=l[r-1]),r>1&&(c[8]=n[r-2],c[10]=s[r-2],c[11]=l[r-2]),r<n.length-1&&(c[1]=n[r+1],c[6]=s[r+1],c[7]=l[r+1]),r<n.length-2&&(c[9]=n[r+2],c[12]=s[r+2],c[13]=l[r+2]);try{for(var d=KUe(c),f=d.next();!f.done;f=d.next()){var h=f.value;if(t.adjustRowNumber(o,h))return}}catch(p){i={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new e3,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[n];if(a==null){r.format("    |   ");continue}r.format(" %3d|%3d",a.getRowNumber(),a.getValue())}r.format("%n")}return r.toString()},t}(),XUe=function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),QUe=function(){function t(){}return t.initialize=function(){for(var e=0;e<gt.SYMBOL_TABLE.length;e++)for(var r=gt.SYMBOL_TABLE[e],n=r&1,i=0;i<gt.BARS_IN_MODULE;i++){for(var a=0;(r&1)===n;)a+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(gt.BARS_IN_MODULE)),t.RATIOS_TABLE[e][gt.BARS_IN_MODULE-i-1]=Math.fround(a/gt.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=wt.sum(e),n=new Int32Array(gt.BARS_IN_MODULE),i=0,a=0,o=0;o<gt.MODULES_IN_CODEWORD;o++){var s=r/(2*gt.MODULES_IN_CODEWORD)+o*r/gt.MODULES_IN_CODEWORD;a+e[i]<=s&&(a+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return gt.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=wt.sum(e),n=new Array(gt.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var a=vN.MAX_VALUE,o=-1;this.bSymbolTableReady||t.initialize();for(var s=0;s<t.RATIOS_TABLE.length;s++){for(var l=0,c=t.RATIOS_TABLE[s],d=0;d<gt.BARS_IN_MODULE;d++){var f=Math.fround(c[d]-n[d]);if(l+=Math.fround(f*f),l>=a)break}l<a&&(a=l,o=gt.SYMBOL_TABLE[s])}return o},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(gt.SYMBOL_TABLE.length).map(function(e){return new Array(gt.BARS_IN_MODULE)}),t}(),ZUe=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),VL=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),JUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),eVe=function(t){JUe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(qi),tVe=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new eVe;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new Yk;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),rVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),nVe=function(t){rVe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(qi),iVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),aVe=function(t){iVe(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new Ue("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new nVe;i=et.MAX_VALUE}this.buf=Jr.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new Yk;this.ensureCapacity(this.count+i),zt.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Jr.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(tVe),jt;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(jt||(jt={}));function aJ(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var Zy;function Sl(t){if(typeof Zy>"u"&&(Zy=aJ()),Zy===null)throw new Error("BigInt is not supported!");return Zy(t)}function oVe(){var t=[];t[0]=Sl(1);var e=Sl(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var sVe=function(){function t(){}return t.decode=function(e,r){var n=new Qe(""),i=Qr.ISO8859_1;n.enableDecoding(i);for(var a=1,o=e[a++],s=new ZUe;a<e[0];){switch(o){case t.TEXT_COMPACTION_MODE_LATCH:a=t.textCompaction(e,a,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:a=t.byteCompaction(o,e,i,a,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:a=t.numericCompaction(e,a,n);break;case t.ECI_CHARSET:Qr.getCharacterSetECIByValue(e[a++]);break;case t.ECI_GENERAL_PURPOSE:a+=2;break;case t.ECI_USER_DEFINED:a++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=t.decodeMacroBlock(e,a,s);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new Ee;default:a--,a=t.textCompaction(e,a,n);break}if(a<e.length)o=e[a++];else throw Ee.getFormatInstance()}if(n.length()===0)throw Ee.getFormatInstance();var l=new w_(null,n.toString(),null,r);return l.setOther(s),l},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw Ee.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<t.NUMBER_OF_SEQUENCE_CODEWORDS;a++,r++)i[a]=e[r];n.setSegmentIndex(et.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new Qe;r=t.textCompaction(e,r,o),n.setFileId(o.toString());var s=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new Qe;r=t.textCompaction(e,r+1,l),n.setFileName(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var c=new Qe;r=t.textCompaction(e,r+1,c),n.setSender(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new Qe;r=t.textCompaction(e,r+1,d),n.setAddressee(d.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new Qe;r=t.numericCompaction(e,r+1,f),n.setSegmentCount(et.parseInt(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var h=new Qe;r=t.numericCompaction(e,r+1,h),n.setTimestamp(VL.parseLong(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var p=new Qe;r=t.numericCompaction(e,r+1,p),n.setChecksum(et.parseInt(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var m=new Qe;r=t.numericCompaction(e,r+1,m),n.setFileSize(VL.parseLong(m.toString()));break;default:throw Ee.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw Ee.getFormatInstance()}if(s!==-1){var g=r-s;n.isLastSegment()&&g--,n.setOptionalData(Jr.copyOfRange(e,s,s+g))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),a=new Int32Array((e[0]-r)*2),o=0,s=!1;r<e[0]&&!s;){var l=e[r++];if(l<t.TEXT_COMPACTION_MODE_LATCH)i[o]=l/30,i[o+1]=l%30,o+=2;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:i[o++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,s=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=e[r++],a[o]=l,o++;break}}return t.decodeTextCompaction(i,a,o,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var a=jt.ALPHA,o=jt.ALPHA,s=0;s<n;){var l=e[s],c="";switch(a){case jt.ALPHA:if(l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case t.LL:a=jt.LOWER;break;case t.ML:a=jt.MIXED;break;case t.PS:o=a,a=jt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=jt.ALPHA;break}break;case jt.LOWER:if(l<26)c=String.fromCharCode(97+l);else switch(l){case 26:c=" ";break;case t.AS:o=a,a=jt.ALPHA_SHIFT;break;case t.ML:a=jt.MIXED;break;case t.PS:o=a,a=jt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=jt.ALPHA;break}break;case jt.MIXED:if(l<t.PL)c=t.MIXED_CHARS[l];else switch(l){case t.PL:a=jt.PUNCT;break;case 26:c=" ";break;case t.LL:a=jt.LOWER;break;case t.AL:a=jt.ALPHA;break;case t.PS:o=a,a=jt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=jt.ALPHA;break}break;case jt.PUNCT:if(l<t.PAL)c=t.PUNCT_CHARS[l];else switch(l){case t.PAL:a=jt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=jt.ALPHA;break}break;case jt.ALPHA_SHIFT:if(a=o,l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:a=jt.ALPHA;break}break;case jt.PUNCT_SHIFT:if(a=o,l<t.PAL)c=t.PUNCT_CHARS[l];else switch(l){case t.PAL:a=jt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=jt.ALPHA;break}break}c!==""&&i.append(c),s++}},t.byteCompaction=function(e,r,n,i,a){var o=new aVe,s=0,l=0,c=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),f=r[i++];i<r[0]&&!c;)switch(d[s++]=f,l=900*l+f,f=r[i++],f){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,c=!0;break;default:if(s%5===0&&s>0){for(var h=0;h<6;++h)o.write(Number(Sl(l)>>Sl(8*(5-h))));l=0,s=0}break}i===r[0]&&f<t.TEXT_COMPACTION_MODE_LATCH&&(d[s++]=f);for(var p=0;p<s;p++)o.write(d[p]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!c;){var m=r[i++];if(m<t.TEXT_COMPACTION_MODE_LATCH)s++,l=900*l+m;else switch(m){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,c=!0;break}if(s%5===0&&s>0){for(var h=0;h<6;++h)o.write(Number(Sl(l)>>Sl(8*(5-h))));l=0,s=0}}break}return a.append(Pa.decode(o.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,a=!1,o=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!a;){var s=e[r++];if(r===e[0]&&(a=!0),s<t.TEXT_COMPACTION_MODE_LATCH)o[i]=s,i++;else switch(s){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,a=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||s===t.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(n.append(t.decodeBase900toBase10(o,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=Sl(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*Sl(e[i]);var a=n.toString();if(a.charAt(0)!=="1")throw new Ee;return a.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=aJ()?oVe():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),im=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lVe=function(){function t(){}return t.decode=function(e,r,n,i,a,o,s){for(var l=new SN(e,r,n,i,a),c=null,d=null,f,h=!0;;h=!1){if(r!=null&&(c=t.getRowIndicatorColumn(e,l,r,!0,o,s)),i!=null&&(d=t.getRowIndicatorColumn(e,l,i,!1,o,s)),f=t.merge(c,d),f==null)throw ie.getNotFoundInstance();var p=f.getBoundingBox();if(h&&p!=null&&(p.getMinY()<l.getMinY()||p.getMaxY()>l.getMaxY()))l=p;else break}f.setBoundingBox(l);var m=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,c),f.setDetectionResultColumn(m,d);for(var g=c!=null,v=1;v<=m;v++){var y=g?v:m-v;if(f.getDetectionResultColumn(y)===void 0){var x=void 0;y===0||y===m?x=new UL(l,y===0):x=new iJ(l),f.setDetectionResultColumn(y,x);for(var w=-1,S=w,E=l.getMinY();E<=l.getMaxY();E++){if(w=t.getStartColumn(f,y,E,g),w<0||w>l.getMaxX()){if(S===-1)continue;w=S}var T=t.detectCodeword(e,l.getMinX(),l.getMaxX(),g,w,E,o,s);T!=null&&(x.setCodeword(E,T),S=w,o=Math.min(o,T.getWidth()),s=Math.max(s,T.getWidth()))}}}return t.createDecoderResult(f)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=SN.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new YUe(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=t.getMax(i),o=0;try{for(var s=im(i),l=s.next();!l.done;l=s.next()){var c=l.value;if(o+=a-c,c>0)break}}catch(p){r={error:p}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}for(var d=e.getCodewords(),f=0;o>0&&d[f]==null;f++)o--;for(var h=0,f=i.length-1;f>=0&&(h+=a-i[f],!(i[f]>0));f--);for(var f=d.length-1;h>0&&d[f]==null;f--)h--;return e.getBoundingBox().addMissingRows(o,h,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var a=im(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=Math.max(i,s)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,a,o){for(var s=new UL(r,i),l=0;l<2;l++)for(var c=l===0?1:-1,d=Math.trunc(Math.trunc(n.getX())),f=Math.trunc(Math.trunc(n.getY()));f<=r.getMaxY()&&f>=r.getMinY();f+=c){var h=t.detectCodeword(e,0,e.getWidth(),i,d,f,a,o);h!=null&&(s.setCodeword(f,h),i?d=h.getStartX():d=h.getEndX())}return s},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>gt.MAX_CODEWORDS_IN_BARCODE)throw ie.getNotFoundInstance();n.setValue(a)}else i[0]!==a&&n.setValue(a)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var l=0;l<e.getBarcodeColumnCount();l++){var c=r[s][l+1].getValue(),d=s*e.getBarcodeColumnCount()+l;c.length===0?n.push(d):c.length===1?i[d]=c[0]:(o.push(d),a.push(c))}for(var f=new Array(a.length),h=0;h<f.length;h++)f[h]=a[h];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,gt.toIntArray(n),gt.toIntArray(o),f)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,a){for(var o=new Int32Array(i.length),s=100;s-- >0;){for(var l=0;l<o.length;l++)r[i[l]]=a[l][o[l]];try{return t.decodeCodewords(r,e,n)}catch(d){var c=d instanceof gn;if(!c)throw d}if(o.length===0)throw gn.getChecksumInstance();for(var l=0;l<o.length;l++)if(o[l]<a[l].length-1){o[l]++;break}else if(o[l]=0,l===o.length-1)throw gn.getChecksumInstance()}throw gn.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<o.length;s++)for(var l=0;l<o[s].length;l++)o[s][l]=new jm;var c=0;try{for(var d=im(e.getDetectionResultColumns()),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)try{for(var p=(i=void 0,im(h.getCodewords())),m=p.next();!m.done;m=p.next()){var g=m.value;if(g!=null){var v=g.getRowNumber();if(v>=0){if(v>=o.length)continue;o[v][c].setValue(g.getValue())}}}}catch(y){i={error:y}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}c++}}catch(y){r={error:y}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}return o},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var a,o,s=i?1:-1,l=null;if(t.isValidBarcodeColumn(e,r-s)&&(l=e.getDetectionResultColumn(r-s).getCodeword(n)),l!=null)return i?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(r).getCodewordNearby(n),l!=null)return i?l.getStartX():l.getEndX();if(t.isValidBarcodeColumn(e,r-s)&&(l=e.getDetectionResultColumn(r-s).getCodewordNearby(n)),l!=null)return i?l.getEndX():l.getStartX();for(var c=0;t.isValidBarcodeColumn(e,r-s);){r-=s;try{for(var d=(a=void 0,im(e.getDetectionResultColumn(r).getCodewords())),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)return(i?h.getEndX():h.getStartX())+s*c*(h.getEndX()-h.getStartX())}}catch(p){a={error:p}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}c++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,a,o,s,l){a=t.adjustCodewordStartColumn(e,r,n,i,a,o);var c=t.getModuleBitCount(e,r,n,i,a,o);if(c==null)return null;var d,f=wt.sum(c);if(i)d=a+f;else{for(var h=0;h<c.length/2;h++){var p=c[h];c[h]=c[c.length-1-h],c[c.length-1-h]=p}d=a,a=d-f}if(!t.checkCodewordSkew(f,s,l))return null;var m=QUe.getDecodedValue(c),g=gt.getCodeword(m);return g===-1?null:new XUe(a,d,t.getCodewordBucketNumber(m),g)},t.getModuleBitCount=function(e,r,n,i,a,o){for(var s=a,l=new Int32Array(8),c=0,d=i?1:-1,f=i;(i?s<n:s>=r)&&c<l.length;)e.get(s,o)===f?(l[c]++,s+=d):(c++,f=!f);return c===l.length||s===(i?n:r)&&c===l.length-1?l:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,a,o){for(var s=a,l=i?-1:1,c=0;c<2;c++){for(;(i?s>=r:s<n)&&i===e.get(s,o);){if(Math.abs(a-s)>t.CODEWORD_SKEW_SIZE)return a;s+=l}l=-l,i=!i}return s},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw Ee.getFormatInstance();var i=1<<r+1,a=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var o=sVe.decode(e,""+r);return o.setErrorsCorrected(a),o.setErasures(n.length),o},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw gn.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw Ee.getFormatInstance();var n=e[0];if(n>e.length)throw Ee.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw Ee.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new e3,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var a=e[n][i];a.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new VUe,t}(),cVe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},EN=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw ie.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof Ee||n instanceof gn?ie.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,a,o=new Array,s=MUe.detectMultiple(e,r,n);try{for(var l=cVe(s.getPoints()),c=l.next();!c.done;c=l.next()){var d=c.value,f=lVe.decode(s.getBits(),d[4],d[5],d[6],d[7],t.getMinCodewordWidth(d),t.getMaxCodewordWidth(d)),h=new oi(f.getText(),f.getRawBytes(),void 0,d,$e.PDF_417);h.putMetadata(Nn.ERROR_CORRECTION_LEVEL,f.getECLevel());var p=f.getOther();p!=null&&h.putMetadata(Nn.PDF417_EXTRA_METADATA,p),o.push(h)}}catch(m){i={error:m}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return o.map(function(m){return m})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?et.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*gt.MODULES_IN_CODEWORD/gt.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*gt.MODULES_IN_CODEWORD/gt.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*gt.MODULES_IN_CODEWORD/gt.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*gt.MODULES_IN_CODEWORD/gt.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),uVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),zL=function(t){uVe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(qi),WL=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dVe=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(ar.TRY_HARDER)!==void 0,n=e==null?null:e.get(ar.POSSIBLE_FORMATS),i=new Array;if(n!=null){var a=n.some(function(o){return o===$e.UPC_A||o===$e.UPC_E||o===$e.EAN_13||o===$e.EAN_8||o===$e.CODABAR||o===$e.CODE_39||o===$e.CODE_93||o===$e.CODE_128||o===$e.ITF||o===$e.RSS_14||o===$e.RSS_EXPANDED});a&&!r&&i.push(new Om(e)),n.includes($e.QR_CODE)&&i.push(new _N),n.includes($e.DATA_MATRIX)&&i.push(new bN),n.includes($e.AZTEC)&&i.push(new xN),n.includes($e.PDF_417)&&i.push(new EN),a&&r&&i.push(new Om(e))}i.length===0&&(r||i.push(new Om(e)),i.push(new _N),i.push(new bN),i.push(new xN),i.push(new EN),r&&i.push(new Om(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=WL(this.readers),i=n.next();!i.done;i=n.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new zL("No readers where selected, nothing can be read.");try{for(var i=WL(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(s){if(s instanceof zL)continue}}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new ie("No MultiFormat Readers were able to detect the code.")},t}(),fVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),hVe=function(t){fVe(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,a=new dVe;return a.setHints(r),i=t.call(this,a,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e}(fp),pVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){pVe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new EN,r)||this}return e})(fp);var mVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){mVe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new _N,r)||this}return e})(fp);var AN;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(AN||(AN={}));const Jy=AN;var oJ=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new tc(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,a=r.length;a<=e;a++){var o=n.multiply(new tc(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));r.push(o),n=o}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new Ue("No error correction bytes");var n=e.length-r;if(n<=0)throw new Ue("No data bytes provided");var i=this.buildGenerator(r),a=new Int32Array(n);zt.arraycopy(e,0,a,0,n);var o=new tc(this.field,a);o=o.multiplyByMonomial(r,1);for(var s=o.divide(i)[1],l=s.getCoefficients(),c=r-l.length,d=0;d<c;d++)e[n+d]=0;zt.arraycopy(l,0,e,n+c,l.length)},t}(),km=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var s=n[o],l=0;l<i-1;l++){var c=s[l];c===s[l+1]&&c===n[o+1][l]&&c===n[o+1][l+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=0;s<i;s++){var l=n[o];s+6<i&&l[s]===1&&l[s+1]===0&&l[s+2]===1&&l[s+3]===1&&l[s+4]===1&&l[s+5]===0&&l[s+6]===1&&(t.isWhiteHorizontal(l,s-4,s)||t.isWhiteHorizontal(l,s+7,s+11))&&r++,o+6<a&&n[o][s]===1&&n[o+1][s]===0&&n[o+2][s]===1&&n[o+3][s]===1&&n[o+4][s]===1&&n[o+5][s]===0&&n[o+6][s]===1&&(t.isWhiteVertical(n,s,o-4,o)||t.isWhiteVertical(n,s,o+7,o+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var a=n;a<i;a++)if(e[a][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=n[o],l=0;l<i;l++)s[l]===1&&r++;var c=e.getHeight()*e.getWidth(),d=Math.floor(Math.abs(r*2-c)*10/c);return d*t.N4},t.getDataMaskBit=function(e,r,n){var i,a;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:a=n*r,i=(a&1)+a%3;break;case 6:a=n*r,i=(a&1)+a%3&1;break;case 7:a=n*r,i=a%3+(n+r&1)&1;break;default:throw new Ue("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),a=r?e.getWidth():e.getHeight(),o=e.getArray(),s=0;s<i;s++){for(var l=0,c=-1,d=0;d<a;d++){var f=r?o[s][d]:o[d][s];f===c?l++:(l>=5&&(n+=t.N1+(l-5)),l=1,c=f)}l>=5&&(n+=t.N1+(l-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),gVe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vVe=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=gVe(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;Jr.fill(o,e)}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var a=this.bytes[n],o=r.bytes[n],s=0,l=this.width;s<l;++s)if(a[s]!==o[s])return!1;return!0},t.prototype.toString=function(){for(var e=new Qe,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),CN=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new Qe;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),yVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kt=function(t){yVe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(qi),HL=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,a){t.clearMatrix(a),t.embedBasicPatterns(n,a),t.embedTypeInfo(r,i,a),t.maybeEmbedVersionInfo(n,a),t.embedDataBits(e,i,a)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new vn;t.makeTypeInfoBits(e,r,i);for(var a=0,o=i.getSize();a<o;++a){var s=i.get(i.getSize()-1-a),l=t.TYPE_INFO_COORDINATES[a],c=l[0],d=l[1];if(n.setBoolean(c,d,s),a<8){var f=n.getWidth()-a-1,h=8;n.setBoolean(f,h,s)}else{var f=8,h=n.getHeight()-7+(a-8);n.setBoolean(f,h,s)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new vn;t.makeVersionInfoBits(e,n);for(var i=6*3-1,a=0;a<6;++a)for(var o=0;o<3;++o){var s=n.get(i);i--,r.setBoolean(a,r.getHeight()-11+o,s),r.setBoolean(r.getHeight()-11+o,a,s)}}},t.embedDataBits=function(e,r,n){for(var i=0,a=-1,o=n.getWidth()-1,s=n.getHeight()-1;o>0;){for(o===6&&(o-=1);s>=0&&s<n.getHeight();){for(var l=0;l<2;++l){var c=o-l;if(t.isEmpty(n.get(c,s))){var d=void 0;i<e.getSize()?(d=e.get(i),++i):d=!1,r!==255&&km.getDataMaskBit(r,c,s)&&(d=!d),n.setBoolean(c,s,d)}}s+=a}a=-a,s+=a,o-=2}if(i!==e.getSize())throw new Kt("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-et.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new Ue("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!CN.isValidMaskPattern(r))throw new Kt("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var a=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(a,10);var o=new vn;if(o.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new Kt("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new Kt("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Kt;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new Kt;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new Kt;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var a=t.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var a=t.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],a=0,o=i.length;a!==o;a++){var s=i[a];if(s>=0)for(var l=0;l!==o;l++){var c=i[l];c>=0&&t.isEmpty(r.get(c,s))&&t.embedPositionAdjustmentPattern(c-2,s-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),xVe=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),GL=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return km.applyMaskPenaltyRule1(e)+km.applyMaskPenaltyRule2(e)+km.applyMaskPenaltyRule3(e)+km.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,a=n!==null&&n.get(Jy.CHARACTER_SET)!==void 0;a&&(i=n.get(Jy.CHARACTER_SET).toString());var o=this.chooseMode(e,i),s=new vn;if(o===Xt.BYTE&&(a||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var l=Qr.getCharacterSetECIByName(i);l!==void 0&&this.appendECI(l,s)}this.appendModeInfo(o,s);var c=new vn;this.appendBytes(e,o,c,i);var d;if(n!==null&&n.get(Jy.QR_VERSION)!==void 0){var f=Number.parseInt(n.get(Jy.QR_VERSION).toString(),10);d=Nu.getVersionForNumber(f);var h=this.calculateBitsNeeded(o,s,c,d);if(!this.willFit(h,d,r))throw new Kt("Data too big for requested version")}else d=this.recommendVersion(r,o,s,c);var p=new vn;p.appendBitArray(s);var m=o===Xt.BYTE?c.getSizeInBytes():e.length;this.appendLengthInfo(m,d,o,p),p.appendBitArray(c);var g=d.getECBlocksForLevel(r),v=d.getTotalCodewords()-g.getTotalECCodewords();this.terminateBits(v,p);var y=this.interleaveWithECBytes(p,d.getTotalCodewords(),v,g.getNumBlocks()),x=new CN;x.setECLevel(r),x.setMode(o),x.setVersion(d);var w=d.getDimensionForVersion(),S=new vVe(w,w),E=this.chooseMaskPattern(y,r,d,S);return x.setMaskPattern(E),HL.buildMatrix(y,r,d,E,S),x.setMatrix(S),x},t.recommendVersion=function(e,r,n,i){var a=this.calculateBitsNeeded(r,n,i,Nu.getVersionForNumber(1)),o=this.chooseVersion(a,e),s=this.calculateBitsNeeded(r,n,i,o);return this.chooseVersion(s,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),Qr.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Xt.KANJI;for(var n=!1,i=!1,a=0,o=e.length;a<o;++a){var s=e.charAt(a);if(t.isDigit(s))n=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)i=!0;else return Xt.BYTE}return i?Xt.ALPHANUMERIC:n?Xt.NUMERIC:Xt.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=Pa.encode(e,Qr.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var a=r[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,s=0;s<CN.NUM_MASK_PATTERNS;s++){HL.buildMatrix(e,r,n,s,i);var l=this.calculateMaskPenalty(i);l<a&&(a=l,o=s)}return o},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=Nu.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new Kt("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),a=r.getECBlocksForLevel(n),o=a.getTotalECCodewords(),s=i-o,l=(e+7)/8;return s>=l},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new Kt("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var a=r.getSize()&7;if(a>0)for(var i=a;i<8;i++)r.appendBit(!1);for(var o=e-r.getSizeInBytes(),i=0;i<o;++i)r.appendBits(i&1?17:236,8);if(r.getSize()!==n)throw new Kt("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,a,o){if(i>=n)throw new Kt("Block ID too large");var s=e%n,l=n-s,c=Math.floor(e/n),d=c+1,f=Math.floor(r/n),h=f+1,p=c-f,m=d-h;if(p!==m)throw new Kt("EC bytes mismatch");if(n!==l+s)throw new Kt("RS blocks mismatch");if(e!==(f+p)*l+(h+m)*s)throw new Kt("Total bytes mismatch");i<l?(a[0]=f,o[0]=p):(a[0]=h,o[0]=m)},t.interleaveWithECBytes=function(e,r,n,i){var a,o,s,l;if(e.getSizeInBytes()!==n)throw new Kt("Number of bits and data bytes does not match");for(var c=0,d=0,f=0,h=new Array,p=0;p<i;++p){var m=new Int32Array(1),g=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,p,m,g);var v=m[0],y=new Uint8Array(v);e.toBytes(8*c,y,0,v);var x=t.generateECBytes(y,g[0]);h.push(new xVe(y,x)),d=Math.max(d,v),f=Math.max(f,x.length),c+=m[0]}if(n!==c)throw new Kt("Data bytes does not match offset");for(var w=new vn,p=0;p<d;++p)try{for(var S=(a=void 0,GL(h)),E=S.next();!E.done;E=S.next()){var T=E.value,y=T.getDataBytes();p<y.length&&w.appendBits(y[p],8)}}catch(I){a={error:I}}finally{try{E&&!E.done&&(o=S.return)&&o.call(S)}finally{if(a)throw a.error}}for(var p=0;p<f;++p)try{for(var A=(s=void 0,GL(h)),C=A.next();!C.done;C=A.next()){var T=C.value,x=T.getErrorCorrectionBytes();p<x.length&&w.appendBits(x[p],8)}}catch(I){s={error:I}}finally{try{C&&!C.done&&(l=A.return)&&l.call(A)}finally{if(s)throw s.error}}if(r!==w.getSizeInBytes())throw new Kt("Interleaving error: "+r+" and "+w.getSizeInBytes()+" differ.");return w},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),a=0;a<n;a++)i[a]=e[a]&255;new oJ(Oi.QR_CODE_FIELD_256).encode(i,r);for(var o=new Uint8Array(r),a=0;a<r;a++)o[a]=i[n+a];return o},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var a=n.getCharacterCountBits(r);if(e>=1<<a)throw new Kt(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},t.appendBytes=function(e,r,n,i){switch(r){case Xt.NUMERIC:t.appendNumericBytes(e,n);break;case Xt.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case Xt.BYTE:t.append8BitBytes(e,n,i);break;case Xt.KANJI:t.appendKanjiBytes(e,n);break;default:throw new Kt("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getDigit(e.charAt(i));if(i+2<n){var o=t.getDigit(e.charAt(i+1)),s=t.getDigit(e.charAt(i+2));r.appendBits(a*100+o*10+s,10),i+=3}else if(i+1<n){var o=t.getDigit(e.charAt(i+1));r.appendBits(a*10+o,7),i+=2}else r.appendBits(a,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new Kt;if(i+1<n){var o=t.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new Kt;r.appendBits(a*45+o,11),i+=2}else r.appendBits(a,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=Pa.encode(e,n)}catch(l){throw new Kt(l)}for(var a=0,o=i.length;a!==o;a++){var s=i[a];r.appendBits(s,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=Pa.encode(e,Qr.SJIS)}catch(f){throw new Kt(f)}for(var i=n.length,a=0;a<i;a+=2){var o=n[a]&255,s=n[a+1]&255,l=o<<8&4294967295|s,c=-1;if(l>=33088&&l<=40956?c=l-33088:l>=57408&&l<=60351&&(c=l-49472),c===-1)throw new Kt("Invalid byte sequence");var d=(c>>8)*192+(c&255);r.appendBits(d,13)}},t.appendECI=function(e,r){r.appendBits(Xt.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=Qr.UTF8.getName(),t})();var wVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){wVe(e,t);function e(r,n,i,a,o,s,l,c){var d=t.call(this,s,l)||this;if(d.yuvData=r,d.dataWidth=n,d.dataHeight=i,d.left=a,d.top=o,a+s>n||o+l>i)throw new Ue("Crop rectangle does not fit within image data.");return c&&d.reverseHorizontal(s,l),d}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Ue("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return zt.arraycopy(this.yuvData,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return zt.arraycopy(this.yuvData,o,a,0,i),a;for(var s=0;s<n;s++){var l=s*r;zt.arraycopy(this.yuvData,o,a,l,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,a,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),a=this.yuvData,o=this.top*this.dataWidth+this.left,s=0;s<n;s++){for(var l=s*r,c=0;c<r;c++){var d=a[o+c*e.THUMBNAIL_SCALE_FACTOR]&255;i[l+c]=4278190080|d*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<n;a++,o+=this.dataWidth)for(var s=o+r/2,l=o,c=o+r-1;l<s;l++,c--){var d=i[l];i[l]=i[c],i[c]=d}},e.prototype.invert=function(){return new Xk(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(x_);var bVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){bVe(e,t);function e(r,n,i,a,o,s,l){var c=t.call(this,n,i)||this;if(c.dataWidth=a,c.dataHeight=o,c.left=s,c.top=l,r.BYTES_PER_ELEMENT===4){for(var d=n*i,f=new Uint8ClampedArray(d),h=0;h<d;h++){var p=r[h],m=p>>16&255,g=p>>7&510,v=p&255;f[h]=(m+g+v)/4&255}c.luminances=f}else c.luminances=r;if(a===void 0&&(c.dataWidth=n),o===void 0&&(c.dataHeight=i),s===void 0&&(c.left=0),l===void 0&&(c.top=0),c.left+n>c.dataWidth||c.top+i>c.dataHeight)throw new Ue("Crop rectangle does not fit within image data.");return c}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Ue("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return zt.arraycopy(this.luminances,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return zt.arraycopy(this.luminances,o,a,0,i),a;for(var s=0;s<n;s++){var l=s*r;zt.arraycopy(this.luminances,o,a,l,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new Xk(this)},e})(x_);var _Ve=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),SVe=function(t){_Ve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(Qr),EVe=function(){function t(){}return t.ISO_8859_1=Qr.ISO8859_1,t}(),TN,AVe=301,CVe=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=AVe);return{LOG:t,ALOG:e}};TN=CVe([],[]),TN.LOG;TN.ALOG;var qL;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(qL||(qL={}));var KL=129,sJ=230,TVe=231,NVe=235,IVe=236,PVe=237,OVe=238,jVe=239,kVe=240,oA=254,RVe=254,YL="[)>05",XL="[)>06",QL="",Ct=0,Sn=1,ui=2,qr=3,un=4,Vn=5,DVe=function(){function t(){}return t.prototype.getEncodingMode=function(){return Ct},t.prototype.encode=function(e){var r=no.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=no.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Vn:e.writeCodeword(TVe),e.signalEncoderChange(Vn);return;case Sn:e.writeCodeword(sJ),e.signalEncoderChange(Sn);return;case qr:e.writeCodeword(OVe),e.signalEncoderChange(qr);break;case ui:e.writeCodeword(jVe),e.signalEncoderChange(ui);break;case un:e.writeCodeword(kVe),e.signalEncoderChange(un);break;default:throw new Error("Illegal mode: "+i)}else no.isExtendedASCII(n)?(e.writeCodeword(NVe),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(no.isDigit(e)&&no.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t}(),MVe=function(){function t(){}return t.prototype.getEncodingMode=function(){return Vn},t.prototype.encode=function(e){var r=new Qe;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var i=no.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(Ct);break}}var a=r.length()-1,o=1,s=e.getCodewordCount()+a+o;e.updateSymbolInfo(s);var l=e.getSymbolInfo().getDataCapacity()-s>0;if(e.hasMoreCharacters()||l)if(a<=249)r.setCharAt(0,ht.getCharAt(a));else if(a<=1555)r.setCharAt(0,ht.getCharAt(Math.floor(a/250)+249)),r.insert(1,ht.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var c=0,n=r.length();c<n;c++)e.writeCodeword(this.randomize255State(r.charAt(c).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,i=e+n;return i<=255?i:i-256},t}(),t3=function(){function t(){}return t.prototype.getEncodingMode=function(){return Sn},t.prototype.encodeMaximal=function(e){for(var r=new Qe,n=0,i=e.pos,a=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,n=this.encodeChar(o,r),r.length()%3===0&&(i=e.pos,a=r.length())}if(a!==r.length()){var s=Math.floor(r.length()/3*2),l=Math.floor(e.getCodewordCount()+s+1);e.updateSymbolInfo(l);var c=e.getSymbolInfo().getDataCapacity()-l,d=Math.floor(r.length()%3);(d===2&&c!==2||d===1&&(n>3||c!==1))&&(e.pos=i)}r.length()>0&&e.writeCodeword(sJ),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new Qe;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,r),a=Math.floor(r.length()/3)*2,o=e.getCodewordCount()+a;e.updateSymbolInfo(o);var s=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var l=new Qe;for(r.length()%3===2&&s!==2&&(i=this.backtrackOneCharacter(e,r,l,i));r.length()%3===1&&(i>3||s!==1);)i=this.backtrackOneCharacter(e,r,l,i);break}var c=r.length();if(c%3===0){var d=no.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){e.signalEncoderChange(Ct);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,i){var a=r.length(),o=r.toString().substring(0,a-i);r.setLengthToZero(),r.append(o),e.pos--;var s=e.getCurrentChar();return i=this.encodeChar(s,n),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),i=r.length()%3,a=e.getCodewordCount()+n;e.updateSymbolInfo(a);var o=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(oA)}else if(o===1&&i===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(oA),e.pos--}else if(i===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(o>0||e.hasMoreCharacters())&&e.writeCodeword(oA)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Ct)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,i=r%256,a=new Qe;return a.append(n),a.append(i),a.toString()},t}(),LVe=function(){function t(){}return t.prototype.getEncodingMode=function(){return un},t.prototype.encode=function(e){for(var r=new Qe;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var i=r.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var a=r.toString().substring(4);r.setLengthToZero(),r.append(a);var o=no.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(Ct);break}}}r.append(ht.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var o=n-1,s=this.encodeToCodewords(r.toString()),l=!e.hasMoreCharacters(),c=l&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(c=!1,e.updateSymbolInfo(e.getCodewordCount()+s.length))}c?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(s)}finally{e.signalEncoderChange(Ct)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(ht.getCharAt(e-64)):no.illegalCharacter(ht.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=r>=2?e.charAt(1).charCodeAt(0):0,a=r>=3?e.charAt(2).charCodeAt(0):0,o=r>=4?e.charAt(3).charCodeAt(0):0,s=(n<<18)+(i<<12)+(a<<6)+o,l=s>>16&255,c=s>>8&255,d=s&255,f=new Qe;return f.append(l),r>=2&&f.append(c),r>=3&&f.append(d),f.toString()},t}(),$Ve=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),FVe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},St=function(){function t(e,r,n,i,a,o,s,l){s===void 0&&(s=0),l===void 0&&(l=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=o,this.rsBlockData=s,this.rsBlockError=l}return t.lookup=function(e,r,n,i,a){var o,s;r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var l=FVe(UVe),c=l.next();!c.done;c=l.next()){var d=c.value;if(!(r===1&&d.rectangular)&&!(r===2&&!d.rectangular)&&!(n!=null&&(d.getSymbolWidth()<n.getWidth()||d.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(d.getSymbolWidth()>i.getWidth()||d.getSymbolHeight()>i.getHeight()))&&e<=d.dataCapacity)return d}}catch(f){o={error:f}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),BVe=function(t){$Ve(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e}(St),UVe=[new St(!1,3,5,8,8,1),new St(!1,5,7,10,10,1),new St(!0,5,7,16,6,1),new St(!1,8,10,12,12,1),new St(!0,10,11,14,6,2),new St(!1,12,12,14,14,1),new St(!0,16,14,24,10,1),new St(!1,18,14,16,16,1),new St(!1,22,18,18,18,1),new St(!0,22,18,16,10,2),new St(!1,30,20,20,20,1),new St(!0,32,24,16,14,2),new St(!1,36,24,22,22,1),new St(!1,44,28,24,24,1),new St(!0,49,28,22,14,2),new St(!1,62,36,14,14,4),new St(!1,86,42,16,16,4),new St(!1,114,48,18,18,4),new St(!1,144,56,20,20,4),new St(!1,174,68,22,22,4),new St(!1,204,84,24,24,4,102,42),new St(!1,280,112,14,14,16,140,56),new St(!1,368,144,16,16,16,92,36),new St(!1,456,192,18,18,16,114,48),new St(!1,576,224,20,20,16,144,56),new St(!1,696,272,22,22,16,174,68),new St(!1,816,336,24,24,16,136,56),new St(!1,1050,408,18,18,36,175,68),new St(!1,1304,496,20,20,36,163,62),new BVe],VVe=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(s){return s.charCodeAt(0)}),n=new Qe,i=0,a=r.length;i<a;i++){var o=String.fromCharCode(r[i]&255);if(o==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(o)}this.msg=n.toString(),this.shape=0,this.codewords=new Qe,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=St.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),zVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),WVe=function(t){zVe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return qr},e.prototype.encode=function(r){for(var n=new Qe;r.hasMoreCharacters();){var i=r.getCurrentChar();r.pos++,this.encodeChar(i,n);var a=n.length();if(a%3===0){this.writeNextTriplet(r,n);var o=no.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){r.signalEncoderChange(Ct);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):no.illegalCharacter(ht.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var i=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),a=n.length();r.pos-=a,(r.getRemainingCharacters()>1||i>1||r.getRemainingCharacters()!==i)&&r.writeCodeword(RVe),r.getNewEncoding()<0&&r.signalEncoderChange(Ct)},e}(t3),HVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),GVe=function(t){HVe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return ui},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(r-128,n),i},e}(t3),no=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=KL+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,i,a){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!1);var o=new t3,s=[new DVe,o,new GVe,new WVe,new LVe,new MVe],l=new VVe(e);l.setSymbolShape(r),l.setSizeConstraints(n,i),e.startsWith(YL)&&e.endsWith(QL)?(l.writeCodeword(IVe),l.setSkipAtEnd(2),l.pos+=YL.length):e.startsWith(XL)&&e.endsWith(QL)&&(l.writeCodeword(PVe),l.setSkipAtEnd(2),l.pos+=XL.length);var c=Ct;for(a&&(o.encodeMaximal(l),c=l.getNewEncoding(),l.resetEncoderSignal());l.hasMoreCharacters();)s[c].encode(l),l.getNewEncoding()>=0&&(c=l.getNewEncoding(),l.resetEncoderSignal());var d=l.getCodewordCount();l.updateSymbolInfo();var f=l.getSymbolInfo().getDataCapacity();d<f&&c!==Ct&&c!==Vn&&c!==un&&l.writeCodeword("þ");var h=l.getCodewords();for(h.length()<f&&h.append(KL);h.length()<f;)h.append(this.randomize253State(h.length()+1));return l.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var i=this.lookAheadTestIntern(e,r,n);if(n===qr&&i===qr){for(var a=Math.min(r+3,e.length),o=r;o<a;o++)if(!this.isNativeX12(e.charCodeAt(o)))return Ct}else if(n===un&&i===un){for(var a=Math.min(r+4,e.length),o=r;o<a;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return Ct}return i},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var i;n===Ct?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var a=0,o=new Uint8Array(6),s=[];;){if(r+a===e.length){Jr.fill(o,0),Jr.fill(s,0);var l=this.findMinimums(i,s,et.MAX_VALUE,o),c=this.getMinimumCount(o);if(s[Ct]===l)return Ct;if(c===1){if(o[Vn]>0)return Vn;if(o[un]>0)return un;if(o[ui]>0)return ui;if(o[qr]>0)return qr}return Sn}var d=e.charCodeAt(r+a);if(a++,this.isDigit(d)?i[Ct]+=.5:this.isExtendedASCII(d)?(i[Ct]=Math.ceil(i[Ct]),i[Ct]+=2):(i[Ct]=Math.ceil(i[Ct]),i[Ct]++),this.isNativeC40(d)?i[Sn]+=2/3:this.isExtendedASCII(d)?i[Sn]+=8/3:i[Sn]+=4/3,this.isNativeText(d)?i[ui]+=2/3:this.isExtendedASCII(d)?i[ui]+=8/3:i[ui]+=4/3,this.isNativeX12(d)?i[qr]+=2/3:this.isExtendedASCII(d)?i[qr]+=13/3:i[qr]+=10/3,this.isNativeEDIFACT(d)?i[un]+=3/4:this.isExtendedASCII(d)?i[un]+=17/4:i[un]+=13/4,this.isSpecialB256(d)?i[Vn]+=4:i[Vn]++,a>=4){if(Jr.fill(o,0),Jr.fill(s,0),this.findMinimums(i,s,et.MAX_VALUE,o),s[Ct]<this.min(s[Vn],s[Sn],s[ui],s[qr],s[un]))return Ct;if(s[Vn]<s[Ct]||s[Vn]+1<this.min(s[Sn],s[ui],s[qr],s[un]))return Vn;if(s[un]+1<this.min(s[Vn],s[Sn],s[ui],s[qr],s[Ct]))return un;if(s[ui]+1<this.min(s[Vn],s[Sn],s[un],s[qr],s[Ct]))return ui;if(s[qr]+1<this.min(s[Vn],s[Sn],s[un],s[ui],s[Ct]))return qr;if(s[Sn]+1<this.min(s[Ct],s[Vn],s[un],s[ui])){if(s[Sn]<s[qr])return Sn;if(s[Sn]===s[qr]){for(var f=r+a+1;f<e.length;){var h=e.charCodeAt(f);if(this.isX12TermSep(h))return qr;if(!this.isNativeX12(h))break;f++}return Sn}}}}},t.min=function(e,r,n,i,a){var o=Math.min(e,Math.min(r,Math.min(n,i)));return a===void 0?o:Math.min(o,a)},t.findMinimums=function(e,r,n,i){for(var a=0;a<6;a++){var o=r[a]=Math.ceil(e[a]);n>o&&(n=o,Jr.fill(i,0)),n===o&&(i[a]=i[a]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,i=r;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-r},t.illegalCharacter=function(e){var r=et.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t}(),sA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZL=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return Pa.encode(e,this.charset)!=null}catch{return!1}},t}(),qVe=function(){function t(e,r,n){var i,a,o,s,l,c;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(N){return new ZL(SVe.forName(N))}),this.encoders=[];var d=[];d.push(new ZL(EVe.ISO_8859_1));for(var f=r!=null&&r.name.startsWith("UTF"),h=0;h<e.length;h++){var p=!1;try{for(var m=(i=void 0,sA(d)),g=m.next();!g.done;g=m.next()){var v=g.value,y=e.charAt(h),x=y.charCodeAt(0);if(x===n||v.canEncode(y)){p=!0;break}}}catch(N){i={error:N}}finally{try{g&&!g.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}if(!p)try{for(var w=(o=void 0,sA(this.ENCODERS)),S=w.next();!S.done;S=w.next()){var v=S.value;if(v.canEncode(e.charAt(h))){d.push(v),p=!0;break}}}catch(N){o={error:N}}finally{try{S&&!S.done&&(s=w.return)&&s.call(w)}finally{if(o)throw o.error}}p||(f=!0)}if(d.length===1&&!f)this.encoders=[d[0]];else{this.encoders=[];var E=0;try{for(var T=sA(d),A=T.next();!A.done;A=T.next()){var v=A.value;this.encoders[E++]=v}}catch(N){l={error:N}}finally{try{A&&!A.done&&(c=T.return)&&c.call(T)}finally{if(l)throw l.error}}}var C=-1;if(r!=null){for(var h=0;h<this.encoders.length;h++)if(this.encoders[h]!=null&&r.name===this.encoders[h].name){C=h;break}}this.priorityEncoderIndex=C}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return Pa.encode(ht.getCharAt(e),this.encoders[r].name)},t}(),KVe=3,YVe=function(){function t(e,r,n){this.fnc1=n;var i=new qVe(e,r,n);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var o=e.charAt(a).charCodeAt(0);this.bytes[a]=o===n?1e3:o}else this.bytes=this.encodeMinimally(e,i,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new Qe,i=e;i<r;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,i,a,o){var s=e.charAt(i).charCodeAt(0),l=0,c=r.length();r.getPriorityEncoderIndex()>=0&&(s===o||r.canEncode(s,r.getPriorityEncoderIndex()))&&(l=r.getPriorityEncoderIndex(),c=l+1);for(var d=l;d<c;d++)(s===o||r.canEncode(s,d))&&this.addEdge(n,i+1,new JL(s,r,d,a,o))},t.prototype.encodeMinimally=function(e,r,n){var i=e.length,a=new JL[i+1][r.length()];this.addEdges(e,r,a,0,null,n);for(var o=1;o<=i;o++){for(var s=0;s<r.length();s++)a[o][s]!=null&&o<i&&this.addEdges(e,r,a,o,a[o][s],n);for(var s=0;s<r.length();s++)a[o-1][s]=null}for(var l=-1,c=et.MAX_VALUE,s=0;s<r.length();s++)if(a[i][s]!=null){var d=a[i][s];d.cachedTotalSize<c&&(c=d.cachedTotalSize,l=s)}if(l<0)throw new Error('Failed to encode "'+e+'"');for(var f=[],h=a[i][l];h!=null;){if(h.isFNC1())f.unshift(1e3);else for(var p=r.encode(h.c,h.encoderIndex),o=p.length-1;o>=0;o--)f.unshift(p[o]&255);var m=h.previous===null?0:h.previous.encoderIndex;m!==h.encoderIndex&&f.unshift(256+r.getECIValue(h.encoderIndex)),h=h.previous}for(var g=[],o=0;o<g.length;o++)g[o]=f[o];return g},t}(),JL=function(){function t(e,r,n,i,a){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var o=this.isFNC1()?1:r.encode(e,n).length,s=i===null?0:i.encoderIndex;s!==n&&(o+=KVe),i!=null&&(o+=i.cachedTotalSize),this.cachedTotalSize=o}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),XVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var e$;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(e$||(e$={}));(function(t){XVe(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n,i)||this;return s.shape=a,s.macroId=o,s}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(YVe);var QVe=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),t$=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),ZVe=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),JVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),r3=function(t){JVe(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.value=n,a.bitCount=i,a}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+et.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(ZVe),eze=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tze=function(t){eze(e,t);function e(r,n,i){var a=t.call(this,r,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(r3);function rze(t,e,r){return new tze(t,e,r)}function am(t,e,r){return new r3(t,e,r)}var nze=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],rc=0,Ow=1,Aa=2,lJ=3,Do=4,ize=new r3(null,0,0),lA=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],aze=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function oze(t){var e,r;try{for(var n=aze(t),i=n.next();!i.done;i=n.next()){var a=i.value;Jr.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[rc][Do]=0,t[Ow][Do]=0,t[Ow][rc]=28,t[lJ][Do]=0,t[Aa][Do]=0,t[Aa][rc]=15,t}var cJ=oze(Jr.createInt32Array(6,6)),sze=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lze=function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var a=lA[this.mode][e];i=am(i,a&65535,a>>16),n+=a>>16}var o=e===Aa?4:5;return i=am(i,r,o),new t(i,e,0,n+o)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===Aa?4:5;return n=am(n,cJ[this.mode][e],i),n=am(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===Do||this.mode===Aa){var a=lA[n][rc];r=am(r,a&65535,a>>16),i+=a>>16,n=rc}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new t(r,n,this.binaryShiftByteCount+1,i+o);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(e+1)),s},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=rze(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(lA[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var o=new vn;try{for(var s=sze(i),l=s.next();!l.done;l=s.next()){var c=l.value;c.appendTo(o,e)}}catch(d){r={error:d}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},t.prototype.toString=function(){return ht.format("%s bits=%d bytes=%d",nze[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(ize,rc,0,0),t}();function cze(t){var e=ht.getCharCode(" "),r=ht.getCharCode("."),n=ht.getCharCode(",");t[rc][e]=1;for(var i=ht.getCharCode("Z"),a=ht.getCharCode("A"),o=a;o<=i;o++)t[rc][o]=o-a+2;t[Ow][e]=1;for(var s=ht.getCharCode("z"),l=ht.getCharCode("a"),o=l;o<=s;o++)t[Ow][o]=o-l+2;t[Aa][e]=1;for(var c=ht.getCharCode("9"),d=ht.getCharCode("0"),o=d;o<=c;o++)t[Aa][o]=o-d+2;t[Aa][n]=12,t[Aa][r]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],h=0;h<f.length;h++)t[lJ][ht.getCharCode(f[h])]=h;for(var p=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],h=0;h<p.length;h++)ht.getCharCode(p[h])>0&&(t[Do][ht.getCharCode(p[h])]=h);return t}var cA=cze(Jr.createInt32Array(5,256)),e1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uze=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=ht.getCharCode(" "),r=ht.getCharCode(`
`),n=t$.singletonList(lze.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case ht.getCharCode("\r"):a=o===r?2:0;break;case ht.getCharCode("."):a=o===e?3:0;break;case ht.getCharCode(","):a=o===e?4:0;break;case ht.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(n=t.updateStateListForPair(n,i,a),i++):n=this.updateStateListForChar(n,i)}var s=t$.min(n,function(l,c){return l.getBitCount()-c.getBitCount()});return s.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,a=[];try{for(var o=e1(e),s=o.next();!s.done;s=o.next()){var l=s.value;this.updateStateForChar(l,r,a)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return t.simplifyStates(a)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,a=cA[e.getMode()][i]>0,o=null,s=0;s<=Do;s++){var l=cA[s][i];if(l>0){if(o==null&&(o=e.endBinaryShift(r)),!a||s===e.getMode()||s===Aa){var c=o.latchAndAppend(s,l);n.push(c)}if(!a&&cJ[e.getMode()][s]>=0){var d=o.shiftAndAppend(s,l);n.push(d)}}}if(e.getBinaryShiftByteCount()>0||cA[e.getMode()][i]===0){var f=e.addBinaryShiftChar(r);n.push(f)}},t.updateStateListForPair=function(e,r,n){var i,a,o=[];try{for(var s=e1(e),l=s.next();!l.done;l=s.next()){var c=l.value;this.updateStateForPair(c,r,n,o)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return this.simplifyStates(o)},t.updateStateForPair=function(e,r,n,i){var a=e.endBinaryShift(r);if(i.push(a.latchAndAppend(Do,n)),e.getMode()!==Do&&i.push(a.shiftAndAppend(Do,n)),n===3||n===4){var o=a.latchAndAppend(Aa,16-n).latchAndAppend(Aa,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(s)}},t.simplifyStates=function(e){var r,n,i,a,o=[];try{for(var s=e1(e),l=s.next();!l.done;l=s.next()){var c=l.value,d=!0,f=function(v){if(v.isBetterThanOrEqualTo(c))return d=!1,"break";c.isBetterThanOrEqualTo(v)&&(o=o.filter(function(y){return y!==v}))};try{for(var h=(i=void 0,e1(o)),p=h.next();!p.done;p=h.next()){var m=p.value,g=f(m);if(g==="break")break}}catch(v){i={error:v}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}d&&o.push(c)}}catch(v){r={error:v}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},t}(),dze=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new uze(e).encode(),a=et.truncDivision(i.getSize()*r,100)+11,o=i.getSize()+a,s,l,c,d,f;if(n!==t.DEFAULT_AZTEC_LAYERS){if(s=n<0,l=Math.abs(n),l>(s?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new Ue(ht.format("Illegal value %s for layers",n));c=t.totalBitsInLayer(l,s),d=t.WORD_SIZE[l];var h=c-c%d;if(f=t.stuffBits(i,d),f.getSize()+a>h)throw new Ue("Data to large for user specified layer");if(s&&f.getSize()>d*64)throw new Ue("Data to large for user specified layer")}else{d=0,f=null;for(var p=0;;p++){if(p>t.MAX_NB_BITS)throw new Ue("Data too large for an Aztec code");if(s=p<=3,l=s?p+1:p,c=t.totalBitsInLayer(l,s),!(o>c)){(f==null||d!==t.WORD_SIZE[l])&&(d=t.WORD_SIZE[l],f=t.stuffBits(i,d));var h=c-c%d;if(!(s&&f.getSize()>d*64)&&f.getSize()+a<=h)break}}}var m=t.generateCheckWords(f,c,d),g=f.getSize()/d,v=t.generateModeMessage(s,l,g),y=(s?11:14)+l*4,x=new Int32Array(y),w;if(s){w=y;for(var p=0;p<x.length;p++)x[p]=p}else{w=y+1+2*et.truncDivision(et.truncDivision(y,2)-1,15);for(var S=et.truncDivision(y,2),E=et.truncDivision(w,2),p=0;p<S;p++){var T=p+et.truncDivision(p,15);x[S-p-1]=E-T-1,x[S+p]=E+T+1}}for(var A=new es(w),p=0,C=0;p<l;p++){for(var N=(l-p)*4+(s?9:12),I=0;I<N;I++)for(var P=I*2,k=0;k<2;k++)m.get(C+P+k)&&A.set(x[p*2+k],x[p*2+I]),m.get(C+N*2+P+k)&&A.set(x[p*2+I],x[y-1-p*2-k]),m.get(C+N*4+P+k)&&A.set(x[y-1-p*2-k],x[y-1-p*2-I]),m.get(C+N*6+P+k)&&A.set(x[y-1-p*2-I],x[p*2+k]);C+=N*8}if(t.drawModeMessage(A,s,w,v),s)t.drawBullsEye(A,et.truncDivision(w,2),5);else{t.drawBullsEye(A,et.truncDivision(w,2),7);for(var p=0,I=0;p<et.truncDivision(y,2)-1;p+=15,I+=16)for(var k=et.truncDivision(w,2)&1;k<w;k+=2)A.set(et.truncDivision(w,2)-I,k),A.set(et.truncDivision(w,2)+I,k),A.set(k,et.truncDivision(w,2)-I),A.set(k,et.truncDivision(w,2)+I)}var O=new QVe;return O.setCompact(s),O.setSize(w),O.setLayers(l),O.setCodeWords(g),O.setMatrix(A),O},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var a=r-i;a<=r+i;a++)e.set(a,r-i),e.set(a,r+i),e.set(r-i,a),e.set(r+i,a);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new vn;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var a=et.truncDivision(n,2);if(r)for(var o=0;o<7;o++){var s=a-3+o;i.get(o)&&e.set(s,a-5),i.get(o+7)&&e.set(a+5,s),i.get(20-o)&&e.set(s,a+5),i.get(27-o)&&e.set(a-5,s)}else for(var o=0;o<10;o++){var s=a-5+o+et.truncDivision(o,5);i.get(o)&&e.set(s,a-7),i.get(o+10)&&e.set(a+7,s),i.get(29-o)&&e.set(s,a+7),i.get(39-o)&&e.set(a-7,s)}},t.generateCheckWords=function(e,r,n){var i,a,o=e.getSize()/n,s=new oJ(t.getGF(n)),l=et.truncDivision(r,n),c=t.bitsToWords(e,n,l);s.encode(c,l-o);var d=r%n,f=new vn;f.appendBits(0,d);try{for(var h=dze(Array.from(c)),p=h.next();!p.done;p=h.next()){var m=p.value;f.appendBits(m,n)}}catch(g){i={error:g}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return f},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),a,o;for(a=0,o=e.getSize()/r;a<o;a++){for(var s=0,l=0;l<r;l++)s|=e.get(a*r+l)?1<<r-l-1:0;i[a]=s}return i},t.getGF=function(e){switch(e){case 4:return Oi.AZTEC_PARAM;case 6:return Oi.AZTEC_DATA_6;case 8:return Oi.AZTEC_DATA_8;case 10:return Oi.AZTEC_DATA_10;case 12:return Oi.AZTEC_DATA_12;default:throw new Ue("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new vn,i=e.getSize(),a=(1<<r)-2,o=0;o<i;o+=r){for(var s=0,l=0;l<r;l++)(o+l>=i||e.get(o+l))&&(s|=1<<r-1-l);(s&a)===a?(n.appendBits(s&a,r),o--):s&a?n.appendBits(s,r):(n.appendBits(s|1,r),o--)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var uJ={exports:{}};(function(t,e){(function(n,i){t.exports=i(_)})(ea,function(r){return function(n){var i={};function a(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=i,a.d=function(o,s,l){a.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,s){if(s&1&&(o=a(o)),s&8||s&4&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),s&2&&typeof o!="string")for(var c in o)a.d(l,c,(function(d){return o[d]}).bind(null,c));return l},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="",a(a.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(n,i,a){a.r(i);var o=a("react"),s=function(){var h=function(p,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var y in v)v.hasOwnProperty(y)&&(g[y]=v[y])},h(p,m)};return function(p,m){h(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),l=function(){return l=Object.assign||function(h){for(var p,m=1,g=arguments.length;m<g;m++){p=arguments[m];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(h[v]=p[v])}return h},l.apply(this,arguments)},c=function(h,p){var m={};for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&p.indexOf(g)<0&&(m[g]=h[g]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,g=Object.getOwnPropertySymbols(h);v<g.length;v++)p.indexOf(g[v])<0&&Object.prototype.propertyIsEnumerable.call(h,g[v])&&(m[g[v]]=h[g[v]]);return m};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(p){var m=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return m?new Promise(function(g,v){m.call(navigator,p,g,v)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function d(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var f=function(h){s(p,h);function p(m){var g=h.call(this,m)||this;return g.canvas=null,g.ctx=null,g.requestUserMediaId=0,g.unmounted=!1,g.state={hasUserMedia:!1},g}return p.prototype.componentDidMount=function(){var m=this,g=m.state,v=m.props;if(this.unmounted=!1,!d()){v.onUserMediaError("getUserMedia not supported");return}g.hasUserMedia||this.requestUserMedia(),v.children&&typeof v.children!="function"&&console.warn("children must be a function")},p.prototype.componentDidUpdate=function(m){var g=this.props;if(!d()){g.onUserMediaError("getUserMedia not supported");return}var v=JSON.stringify(m.audioConstraints)!==JSON.stringify(g.audioConstraints),y=JSON.stringify(m.videoConstraints)!==JSON.stringify(g.videoConstraints),x=m.minScreenshotWidth!==g.minScreenshotWidth,w=m.minScreenshotHeight!==g.minScreenshotHeight;(y||x||w)&&(this.canvas=null,this.ctx=null),(v||y)&&(this.stopAndCleanup(),this.requestUserMedia())},p.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},p.stopMediaStream=function(m){m&&(m.getVideoTracks&&m.getAudioTracks?(m.getVideoTracks().map(function(g){m.removeTrack(g),g.stop()}),m.getAudioTracks().map(function(g){m.removeTrack(g),g.stop()})):m.stop())},p.prototype.stopAndCleanup=function(){var m=this.state;m.hasUserMedia&&(p.stopMediaStream(this.stream),m.src&&window.URL.revokeObjectURL(m.src))},p.prototype.getScreenshot=function(m){var g=this,v=g.state,y=g.props;if(!v.hasUserMedia)return null;var x=this.getCanvas(m);return x&&x.toDataURL(y.screenshotFormat,y.screenshotQuality)},p.prototype.getCanvas=function(m){var g=this,v=g.state,y=g.props;if(!this.video||!v.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var x=this.video.videoWidth,w=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var S=x/w;x=y.minScreenshotWidth||this.video.clientWidth,w=x/S,y.minScreenshotHeight&&w<y.minScreenshotHeight&&(w=y.minScreenshotHeight,x=w*S)}this.canvas=document.createElement("canvas"),this.canvas.width=(m==null?void 0:m.width)||x,this.canvas.height=(m==null?void 0:m.height)||w,this.ctx=this.canvas.getContext("2d")}var E=this,T=E.ctx,A=E.canvas;return T&&A&&(A.width=(m==null?void 0:m.width)||A.width,A.height=(m==null?void 0:m.height)||A.height,y.mirrored&&(T.translate(A.width,0),T.scale(-1,1)),T.imageSmoothingEnabled=y.imageSmoothing,T.drawImage(this.video,0,0,(m==null?void 0:m.width)||A.width,(m==null?void 0:m.height)||A.height),y.mirrored&&(T.scale(-1,1),T.translate(-A.width,0))),A},p.prototype.requestUserMedia=function(){var m=this,g=this.props,v=function(w,S){var E={video:typeof S<"u"?S:!0};g.audio&&(E.audio=typeof w<"u"?w:!0),m.requestUserMediaId++;var T=m.requestUserMediaId;navigator.mediaDevices.getUserMedia(E).then(function(A){m.unmounted||T!==m.requestUserMediaId?p.stopMediaStream(A):m.handleUserMedia(null,A)}).catch(function(A){m.handleUserMedia(A)})};if("mediaDevices"in navigator)v(g.audioConstraints,g.videoConstraints);else{var y=function(w){return{optional:[{sourceId:w}]}},x=function(w){var S=w.deviceId;return typeof S=="string"?S:Array.isArray(S)&&S.length>0?S[0]:typeof S=="object"&&S.ideal?S.ideal:null};MediaStreamTrack.getSources(function(w){var S=null,E=null;w.forEach(function(C){C.kind==="audio"?S=C.id:C.kind==="video"&&(E=C.id)});var T=x(g.audioConstraints);T&&(S=T);var A=x(g.videoConstraints);A&&(E=A),v(y(S),y(E))})}},p.prototype.handleUserMedia=function(m,g){var v=this.props;if(m||!g){this.setState({hasUserMedia:!1}),v.onUserMediaError(m);return}this.stream=g;try{this.video&&(this.video.srcObject=g),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(g)})}v.onUserMedia(g)},p.prototype.render=function(){var m=this,g=this,v=g.state,y=g.props,x=y.audio;y.forceScreenshotSourceSize;var w=y.disablePictureInPicture;y.onUserMedia,y.onUserMediaError,y.screenshotFormat,y.screenshotQuality,y.minScreenshotWidth,y.minScreenshotHeight,y.audioConstraints,y.videoConstraints,y.imageSmoothing;var S=y.mirrored,E=y.style,T=E===void 0?{}:E,A=y.children,C=c(y,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),N=S?l(l({},T),{transform:(T.transform||"")+" scaleX(-1)"}):T,I={getScreenshot:this.getScreenshot.bind(this)};return o.createElement(o.Fragment,null,o.createElement("video",l({autoPlay:!0,disablePictureInPicture:w,src:v.src,muted:!x,playsInline:!0,ref:function(P){m.video=P},style:N},C)),A&&A(I))},p.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},p}(o.Component);i.default=f},react:function(n,i){n.exports=r}}).default})})(uJ);var fze=uJ.exports;const hze=ct(fze),pze=({onUpdate:t,onError:e,width:r="100%",height:n="100%",facingMode:i="environment",torch:a,delay:o=500,videoConstraints:s,stopStream:l,formats:c})=>{const d=_.useRef(null),f=_.useCallback(()=>{var m;const h=new hVe(new Map([[ar.POSSIBLE_FORMATS,c==null?void 0:c.map(g=>typeof g=="string"?$e[g]:g)]])),p=(m=d==null?void 0:d.current)==null?void 0:m.getScreenshot();p&&h.decodeFromImage(void 0,p).then(g=>{t(null,g)}).catch(g=>{t(g)})},[t,c]);return _.useEffect(()=>{var h,p,m;if(typeof a=="boolean"&&((h=navigator==null?void 0:navigator.mediaDevices)==null?void 0:h.getSupportedConstraints()).torch){const g=(m=(p=d==null?void 0:d.current)==null?void 0:p.video)==null?void 0:m.srcObject,v=g==null?void 0:g.getVideoTracks()[0];v&&v.getCapabilities().torch&&v.applyConstraints({advanced:[{torch:a}]}).catch(y=>t(y))}},[a,t]),_.useEffect(()=>{var h,p;if(l){let m=(p=(h=d==null?void 0:d.current)==null?void 0:h.video)==null?void 0:p.srcObject;m&&(m.getTracks().forEach(g=>{m==null||m.removeTrack(g),g.stop()}),m=null)}},[l]),_.useEffect(()=>{const h=setInterval(f,o);return()=>{clearInterval(h)}},[f,o]),u.jsx(hze,{width:r,height:n,ref:d,screenshotFormat:"image/jpeg",videoConstraints:s||{facingMode:i},audio:!1,onUserMediaError:e})};var r$;(function(t){t.AZTEC="AZTEC",t.CODABAR="CODABAR",t.CODE_39="CODE_39",t.CODE_93="CODE_93",t.CODE_128="CODE_128",t.DATA_MATRIX="DATA_MATRIX",t.EAN_8="EAN_8",t.EAN_13="EAN_13",t.ITF="ITF",t.MAXICODE="MAXICODE",t.PDF_417="PDF_417",t.QR_CODE="QR_CODE",t.RSS_14="RSS_14",t.RSS_EXPANDED="RSS_EXPANDED",t.UPC_A="UPC_A",t.UPC_E="UPC_E",t.UPC_EAN_EXTENSION="UPC_EAN_EXTENSION"})(r$||(r$={}));const dJ=()=>!!(navigator.mediaDevices&&typeof navigator.mediaDevices.getUserMedia=="function"),mze=async()=>{try{return navigator.permissions&&navigator.permissions.query?(await navigator.permissions.query({name:"camera"})).state==="granted":!1}catch(t){return console.warn("Could not check camera permissions:",t),!1}},gze=async(t={facingMode:"environment",width:{ideal:1280},height:{ideal:720}},e=1e4)=>{try{if(!dJ())return{stream:null,error:"Your browser doesn't support camera access. Try using a modern browser like Chrome, Firefox, or Safari."};const r=await mze();console.log(`Camera permission status: ${r?"granted":"not granted"}`);const n=(async()=>{const o={facingMode:{exact:t.facingMode||"environment"}};t.width&&(o.width=t.width),t.height&&(o.height=t.height),t.frameRate&&(o.frameRate=t.frameRate);try{return console.log("Attempting to access camera with constraints:",o),await navigator.mediaDevices.getUserMedia({video:o,audio:!1})}catch(s){return console.warn("Failed with exact constraints, trying with more flexible settings:",s),await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1})}})(),i=new Promise((o,s)=>{setTimeout(()=>s(new Error("Camera access timeout")),e)});return{stream:await Promise.race([n,i]),error:null}}catch(r){console.error("Camera access error:",r);let n="Failed to access camera";const i=r.message||r.name||String(r);switch(r.name){case"NotAllowedError":n="Camera access was denied. Please grant camera permissions in your browser settings and try again.";break;case"NotFoundError":n="No camera found on your device.";break;case"NotReadableError":case"AbortError":n="The camera is already in use by another application or tab. Please close other applications using the camera and try again.";break;case"SecurityError":n="Camera access is blocked by your browser's security settings.";break;case"OverconstrainedError":n="Could not access the camera with the requested settings. Try using different settings.";break;case"TypeError":n="Invalid camera constraints. Please try again with different settings.";break;default:r.message==="Camera access timeout"?n="Camera access timed out. This often happens on mobile devices. Please try again or check your device settings.":n=`Camera error: ${i}`}return console.error(`Camera error details - Name: ${r.name}, Message: ${r.message}`),{stream:null,error:n}}},vze=async(t=3)=>{const e=[{facingMode:"environment",width:{ideal:1280},height:{ideal:720}},{facingMode:"environment",width:{ideal:640},height:{ideal:480}},{facingMode:"environment"}];let r=null;for(let n=0;n<Math.min(t,e.length);n++)try{console.log(`Camera access attempt ${n+1}/${t} with constraints:`,e[n]);const i=await gze(e[n]);if(i.stream)return i;r=i.error,console.warn(`Attempt ${n+1} failed: ${r}`)}catch(i){r=`Unexpected error: ${i}`,console.error(`Attempt ${n+1} error:`,i)}return{stream:null,error:`Failed after ${t} attempts. ${r}`}},n$=t=>{if(t)try{t.getTracks().forEach(e=>{try{e.stop()}catch(r){console.warn("Error stopping media track:",r)}})}catch(e){console.error("Error stopping media stream:",e)}},yze=async(t,e)=>{try{const r=t.getVideoTracks()[0];if(!r)return!1;const n=r.getCapabilities();return!n||typeof n.torch!="boolean"?!1:(await r.applyConstraints({advanced:[{torch:e}]}),!0)}catch(r){return console.error("Error toggling torch:",r),!1}},fJ={corsAnywhere:{url:"https://cors-anywhere.herokuapp.com/",headers:{Origin:typeof window<"u"?window.location.origin:"","X-Requested-With":"XMLHttpRequest"}},allOrigins:{url:"https://api.allorigins.win/raw?url=",headers:{}}};async function hJ(t,e={},r="direct"){const n=Sze(r);let i=null;for(const a of n)try{const o=await xze(t,e,a);if(o)return console.log(`[Proxy] Successfully fetched with ${a} strategy`),o}catch(o){console.error(`[Proxy] ${a} strategy failed:`,o),i=o}return console.error("[Proxy] All strategies failed. Last error:",i),null}async function xze(t,e={},r){switch(console.log(`[Proxy] Attempting ${r} strategy for: ${t}`),r){case"direct":return wze(t,e);case"corsAnywhere":return bze(t,e);case"allOrigins":return _ze(t,e);case"jsonp":throw new Error("JSONP strategy not implemented yet");default:throw new Error(`Unknown proxy strategy: ${r}`)}}async function wze(t,e={}){const r=await fetch(t,e);if(!r.ok)throw console.error(`[Proxy] Direct fetch failed with status: ${r.status}`),new Error(`HTTP error: ${r.status}`);return await r.json()}async function bze(t,e={}){const r=fJ.corsAnywhere,n=`${r.url}${t}`,i=await fetch(n,{...e,headers:{...e.headers,...r.headers}});if(!i.ok)throw console.error(`[Proxy] CORS Anywhere fetch failed with status: ${i.status}`),new Error(`HTTP error: ${i.status}`);return await i.json()}async function _ze(t,e={}){const r=fJ.allOrigins,n=`${r.url}${encodeURIComponent(t)}`,i=await fetch(n,{...e,headers:{...e.headers,...r.headers}});if(!i.ok)throw console.error(`[Proxy] AllOrigins fetch failed with status: ${i.status}`),new Error(`HTTP error: ${i.status}`);return await i.json()}function Sze(t){const e=["direct","corsAnywhere","allOrigins"];if(t==="direct")return e;const r=e.filter(n=>n!==t&&n!=="direct");return["direct",t,...r]}const Eze="Taska-Loop",Aze="1.0",Cze="vanold101@gmail.com",Tze="https://world.openfoodfacts.org/api/v2";async function Nze(t){try{console.log(`[OpenFoodFacts] Fetching data for barcode: ${t}`);const e=t.replace(/^0+/,""),r=`${Tze}/product/${e}.json`;console.log(`[OpenFoodFacts] API URL: ${r}`);const n={headers:{"User-Agent":`${Eze}/${Aze} (${Cze})`}},i=await hJ(r,n,"direct");if(!i)return console.error("[OpenFoodFacts] Failed to fetch data"),null;if(console.log(`[OpenFoodFacts] API response status: ${i.status} (${i.status_verbose})`),i.product?(console.log(`[OpenFoodFacts] Product found: ${i.product.product_name||"Unknown product"}`),console.log(`[OpenFoodFacts] Brand: ${i.product.brands||"Unknown brand"}`)):console.log("[OpenFoodFacts] Full response:",JSON.stringify(i).substring(0,200)+"..."),i.status===0||!i.product)return console.log("[OpenFoodFacts] Product not found",i),null;const a={name:i.product.product_name||"",brand:i.product.brands||"",image:i.product.image_front_url||i.product.image_url||"",category:i.product.categories||"",ingredients:i.product.ingredients_text||"",quantity:i.product.quantity||"",nutriscore:i.product.nutriscore_grade||"",ecoscore:i.product.ecoscore_grade||"",novaGroup:i.product.nova_group,stores:i.product.stores||""};return console.log("[OpenFoodFacts] Successfully extracted product details:",a),a}catch(e){return console.error("[OpenFoodFacts] Error fetching from Open Food Facts API:",e),null}}async function Ize(t){try{console.log(`[UPCItemDB] Fetching data for barcode: ${t}`);const e=`https://api.upcitemdb.com/prod/trial/lookup?upc=${t}`;console.log(`[UPCItemDB] API URL: ${e}`);const r=await hJ(e,{},"allOrigins");if(!r)return console.error("[UPCItemDB] Failed to fetch data"),null;if(console.log(`[UPCItemDB] API response code: ${r.code}`),r.code==="OK"&&r.items&&r.items.length>0){const n=r.items[0];console.log(`[UPCItemDB] Product found: ${n.title||"Unknown title"}`);const i={name:n.title,brand:n.brand,image:n.images&&n.images.length>0?n.images[0]:void 0};return console.log("[UPCItemDB] Successfully extracted product details:",i),i}return console.log("[UPCItemDB] No items found or error in response",r),null}catch(e){return console.error("[UPCItemDB] Error fetching from UPCItemDB:",e),null}}const Pze=({onItemScanned:t,onScan:e,buttonText:r="Scan Barcode",buttonVariant:n="outline",buttonSize:i="sm",className:a="",tripId:o})=>{const[s,l]=_.useState(!1),[c,d]=_.useState(!1),[f,h]=_.useState(null),[p,m]=_.useState(!1),[g,v]=_.useState(!1),[y,x]=_.useState(!1),[w,S]=_.useState(!0),[E,T]=_.useState("Waiting for barcode..."),[A,C]=_.useState(null),[N,I]=_.useState("none"),[P,k]=_.useState(0),[O,L]=_.useState(0),[z,M]=_.useState(""),[W,$]=_.useState(!1),[B,G]=_.useState(!1),[X,Y]=_.useState(0),ee=_.useRef(null),ce=_.useRef(null),{toast:de}=Mc();_.useEffect(()=>()=>{var re;(re=ee.current)!=null&&re.srcObject&&n$(ee.current.srcObject),ce.current&&clearInterval(ce.current)},[]),_.useEffect(()=>{if(s&&!c){const re=setTimeout(()=>{_e()},100);return()=>{clearTimeout(re),ce.current&&clearInterval(ce.current)}}else!s&&c&&(d(!1),m(!1),L(0),h(null),ce.current&&clearInterval(ce.current))},[s]);const _e=async()=>{if(!B)try{G(!0),h(null),T("Initializing camera...");const{stream:re,error:K}=await vze();if(K){console.error("Camera initialization failed:",K),h(K),T("Camera access failed"),d(!1);return}re&&(d(!0),T("Waiting for barcode..."),ce.current&&clearInterval(ce.current),ce.current=setInterval(()=>{L(le=>{const pe=le+1;return pe%5===0&&T("Still searching for barcode... Please ensure good lighting and hold steady."),pe})},2e3))}catch(re){console.error("Error initializing camera:",re),h(`Error accessing camera: ${re}`),T("Camera initialization failed")}finally{G(!1)}},ge=async(re,K)=>{if(y)return;const le=Date.now();if(K&&le-P>3e3){k(le),x(!0),T("Barcode detected! Processing..."),C(K.text),I("detected"),ce.current&&clearInterval(ce.current);const pe=K.text;if(console.log(`[Scanner] Barcode detected: ${pe}`),de({title:"Barcode Detected",description:`UPC: ${pe}. Fetching details...`}),e){console.log(`[Scanner] Using onScan callback with barcode: ${pe}`),e(pe),Q();return}t&&Se(pe)}},Se=async re=>{if(!(!re||re.trim()==="")){x(!0),T("Processing barcode...");try{console.log(`[Scanner] Looking up product details for UPC: ${re}`);let K=await Nze(re);if(K&&Object.keys(K).length>0){console.log(`[Scanner] Found product in Open Food Facts: ${K.name||"Unknown"}`),t==null||t({upc:re,...K}),de({title:"Product Found",description:`Found: ${K.name||re} in Open Food Facts database.`}),Q();return}console.log("[Scanner] Product not found in Open Food Facts, trying UPCItemDB...");const le=await Ize(re);if(le){console.log(`[Scanner] Found product in UPCItemDB: ${le.name||"Unknown"}`),t==null||t({upc:re,...le}),de({title:"Product Found",description:`Found: ${le.name||re} in UPCItemDB.`}),Q();return}console.log("[Scanner] Product not found in any database"),I("not_in_db"),t==null||t({upc:re,name:`Item (${re})`}),de({title:"Limited Information",description:"Product not found in database. Added with barcode only.",variant:"default"}),Q()}catch(K){console.error("[Scanner] Error looking up product:",K),I("error"),t==null||t({upc:re,name:`Item (${re})`}),de({title:"Error Looking Up Product",description:"Added with barcode only. Network issue or database limitation.",variant:"destructive"}),Q()}}},se=re=>{console.error("Camera error in scanner component:",re),d(!1),h(re.toString()),T("Camera access failed. You can try again or enter a barcode manually."),$(!0),de({title:"Camera Error",description:"Could not access camera. You can enter a barcode manually or retry.",variant:"destructive"})},V=()=>{Y(re=>re+1),h(null),_e()},Q=()=>{var re;(re=ee.current)!=null&&re.srcObject&&n$(ee.current.srcObject),ce.current&&clearInterval(ce.current),d(!1),x(!1),I("none"),C(null),L(0),h(null),$(!1),M(""),l(!1)},H=async()=>{var le;if(!((le=ee.current)!=null&&le.srcObject))return;const re=!p;await yze(ee.current.srcObject,re)?m(re):de({title:"Torch Unavailable",description:"Your device doesn't support flash/torch control.",variant:"destructive"})},ve=async()=>{const re=dJ();S(re),re||($(!0),h("Your browser doesn't support camera access. Please enter the barcode manually.")),l(!0)},fe=re=>{if(re.preventDefault(),z.trim()===""){de({title:"Invalid Barcode",description:"Please enter a valid barcode.",variant:"destructive"});return}Se(z)},te=()=>{$(!W)};return _.useEffect(()=>{c&&(async()=>{var K;if((K=ee.current)!=null&&K.srcObject)try{const le=ee.current.srcObject.getVideoTracks()[0];if(le){const pe=le.getCapabilities();v(pe.torch===!0)}}catch(le){console.warn("Failed to check flash capabilities:",le),v(!1)}})()},[c]),u.jsxs(u.Fragment,{children:[u.jsxs(q,{variant:n,size:i,onClick:ve,className:a,"aria-label":r||"Scan Barcode",children:[r&&u.jsx("span",{className:"mr-2",children:r}),u.jsx(Am,{className:"h-4 w-4"})]}),u.jsx(cr,{open:s,onOpenChange:re=>!re&&Q(),children:u.jsxs(rr,{className:"sm:max-w-md",children:[u.jsx(nr,{children:u.jsx(ir,{className:"text-center",children:f?"Camera Error":A?"Barcode Detected!":"Scan Barcode"})}),!f&&c&&u.jsxs("div",{className:"relative overflow-hidden w-full aspect-square max-h-80 bg-muted rounded-md",children:[u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"w-full h-full",children:u.jsx(pze,{width:"100%",height:"100%",onUpdate:ge,onError:se,torch:p})})}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"w-5/6 h-1/4 border-2 border-white rounded-lg bg-transparent",children:u.jsx("div",{className:"absolute inset-0 flex items-start justify-center mt-1",children:u.jsx("div",{className:"bg-black/40 text-white px-2 py-1 text-xs rounded",children:E})})})}),g&&u.jsx(q,{size:"sm",variant:"outline",className:"absolute bottom-4 left-4 bg-white/80",onClick:H,children:p?"Torch Off":"Torch On"}),u.jsx(q,{size:"sm",variant:"outline",className:"absolute bottom-4 right-4 bg-white/80",onClick:Q,children:"Close"})]}),f&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-destructive/10 p-4 rounded-md text-destructive flex items-start",children:[u.jsx(xo,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-medium",children:"Camera Error"}),u.jsx("p",{className:"text-sm",children:f})]})]}),u.jsx(q,{variant:"outline",onClick:V,className:"w-full",disabled:B,children:B?"Initializing...":"Retry Camera"})]}),(W||f)&&u.jsx("form",{onSubmit:fe,className:"space-y-4",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{htmlFor:"manual-barcode",className:"text-sm font-medium",children:"Enter barcode manually"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(De,{id:"manual-barcode",placeholder:"e.g., 1234567890",value:z,onChange:re=>M(re.target.value),className:"flex-1"}),u.jsxs(q,{type:"submit",size:"sm",children:[u.jsx(Nr,{className:"h-4 w-4 mr-1"}),"Add"]})]})]})}),c&&!W&&!f&&u.jsx("div",{className:"text-center",children:u.jsx("button",{onClick:te,className:"text-sm text-blue-600 hover:text-blue-800 underline",children:"Enter barcode manually"})}),u.jsx("div",{className:"text-center text-xs text-muted-foreground mt-2",children:"Scan any product barcode to get information"})]})})]})},i$=({onAddPantryItem:t})=>{const[e,r]=_.useState(null),n=i=>{const a={name:i.name||`Product (${i.upc})`,quantity:1,expiry:new Date(Date.now()+12096e5).toISOString().split("T")[0],category:i.category||"Pantry",lowStock:!1};t(a),r(a.name),oX({title:"✅ Item Added Successfully!",description:`${a.name} has been added to your pantry`}),setTimeout(()=>r(null),3e3)};return u.jsxs("div",{className:"space-y-3",children:[u.jsx(Pze,{onItemScanned:n,buttonText:"📱 Scan Barcode",buttonVariant:"default",buttonSize:"lg",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg shadow-md transition-all duration-200 hover:shadow-lg"}),e&&u.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:[u.jsx(Gn,{className:"h-4 w-4 text-green-600"}),u.jsxs("span",{className:"text-sm text-green-800 font-medium",children:["Just added: ",e]})]})]})},Oze=["Dairy","Meat","Seafood","Produce","Bakery","Pantry","Snacks","Beverages","Frozen","Household"],a$={Dairy:u.jsx(Wn,{className:"h-4 w-4 text-blue-500"}),Bakery:u.jsx(Wn,{className:"h-4 w-4 text-amber-600"}),Produce:u.jsx(Wn,{className:"h-4 w-4 text-green-500"}),Pantry:u.jsx(Wn,{className:"h-4 w-4 text-orange-500"}),Meat:u.jsx(Wn,{className:"h-4 w-4 text-red-500"}),Seafood:u.jsx(Wn,{className:"h-4 w-4 text-blue-400"}),Snacks:u.jsx(Wn,{className:"h-4 w-4 text-purple-500"}),Beverages:u.jsx(Wn,{className:"h-4 w-4 text-cyan-500"}),Frozen:u.jsx(Wn,{className:"h-4 w-4 text-blue-300"}),Household:u.jsx(Wn,{className:"h-4 w-4 text-gray-500"})};function jze(){const t=Si(),{pantryItems:e,addPantryItem:r,updatePantryItem:n,removePantryItem:i}=nj(),{trips:a,addTrip:o}=yo(),{user:s,isAdmin:l}=xr(),{currentTier:c,limits:d,checkLimit:f}=h0(),[h,p]=_.useState("all"),[m,g]=_.useState(""),[v,y]=_.useState("name"),[x,w]=_.useState(!1),[S,E]=_.useState({name:"",quantity:1,category:""}),[T,A]=_.useState(!1),[C,N]=_.useState(!1),[I,P]=_.useState(null),[k,O]=_.useState({}),[L,z]=_.useState(""),[M,W]=_.useState(!0),[$,B]=_.useState(!1),[G,X]=_.useState(!1),[Y,ee]=_.useState(!1),[ce,de]=_.useState(!1),[_e,ge]=_.useState(""),[Se,se]=_.useState(new Set),[V,Q]=_.useState(7),[H,ve]=_.useState("asc"),[fe,te]=_.useState("name"),[re,K]=_.useState("default"),[le,pe]=_.useState(1),[ut,Wt]=_.useState(""),wr=()=>{A(!0)},dr=()=>{w(!0)},Dn=()=>{B(!0)},pa=me=>{de(!0)},Or=()=>{X(!0)},$r=me=>{te(me)},os=me=>{const Ke=e.find(at=>at.id===me);Ke&&(E({name:Ke.name,quantity:Ke.quantity,category:Ke.category,expiry:Ke.expiry}),w(!0))},xp=me=>{i(me),console.log("Item removed from pantry")},W0=()=>{w(!1),E({name:"",quantity:1,category:""})},iS=me=>{if(me.preventDefault(),!f("maxPantryItems",e.length)){console.warn(`You've reached the limit of ${d.maxPantryItems} pantry items on your ${c} plan. Upgrade required.`);return}const Ke={name:S.name,quantity:S.quantity,category:S.category,expiry:S.expiry||void 0,lowStock:S.quantity<=1};r(Ke),console.log("Item added to pantry"),E({name:"",quantity:1,category:"",expiry:""}),w(!1)},Va=me=>{if(!me)return null;const Ke=new Date,at=new Date(me);if(isNaN(at.getTime()))return null;const br=at.getTime()-Ke.getTime();return Math.ceil(br/(1e3*60*60*24))},H0=e.filter(me=>me.lowStock),wp=e.filter(me=>{const Ke=Va(me.expiry);return Ke!==null&&Ke>=0&&Ke<=7}),yd=e.slice(0,3),G0=me=>{const Ke=e.find(at=>at.id===me);Ke&&n(me,{quantity:Ke.quantity+1,lowStock:Ke.quantity+1<=1})},q0=me=>{const Ke=e.find(at=>at.id===me);Ke&&Ke.quantity>1&&n(me,{quantity:Ke.quantity-1,lowStock:Ke.quantity-1<=1})},bp=me=>{z(me.target.value)},_p=e.filter(me=>{const Ke=L.toLowerCase(),at=me.name.toLowerCase().includes(Ke)||me.category.toLowerCase().includes(Ke),br=h==="all"||h==="food"&&["Dairy","Meat","Seafood","Produce","Bakery","Pantry","Snacks","Beverages","Frozen"].includes(me.category)||h==="household"&&me.category==="Household"||h==="low-stock"&&me.lowStock;return at&&br}),Sp=me=>[...me].sort((Ke,at)=>{if(fe==="expiry"){if(!Ke.expiry&&!at.expiry)return 0;if(!Ke.expiry)return 1;if(!at.expiry)return-1;const zc=new Date(Ke.expiry).getTime(),_r=new Date(at.expiry).getTime();return H==="asc"?zc-_r:_r-zc}const br=Ke[fe],ln=at[fe];return br<ln?H==="asc"?-1:1:br>ln?H==="asc"?1:-1:0}),al=Sp(_p),xd=()=>{const me=Array.from(Se).map(Ke=>{const at=e.find(br=>br.id===Ke);return at==null?void 0:at.name}).filter(Boolean);if(me.length===0){console.error("Please select items to add to your shopping list.");return}console.log(`${Se.size} items have been added to your shopping list: ${me.join(", ")}`),t("/trips?action=bulk-add&items="+encodeURIComponent(me.join(","))),se(new Set)},Ep=_p.reduce((me,Ke)=>{const{category:at}=Ke;return me[at]||(me[at]=[]),me[at].push(Ke),me},{});return M?u.jsxs(ca,{children:[u.jsxs("div",{className:"flex-1 space-y-4 p-4 md:p-8 pt-6",children:[u.jsxs("div",{className:"flex items-center justify-between space-y-2",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:["Pantry",!l&&u.jsx(lt,{variant:c==="free"?"destructive":c==="plus"?"secondary":"default",className:"text-xs",children:c==="free"?"🔒 FREE PLAN":c==="plus"?"⭐ PLUS PLAN":"👑 PREMIUM PLAN"})]}),u.jsxs("p",{className:"text-muted-foreground",children:["Track and manage your household inventory",!l&&c==="free"&&u.jsxs("span",{className:"text-red-600 font-medium",children:[" • Limited to ",d.maxPantryItems," items • No barcode scanning"]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs(q,{variant:"outline",onClick:wr,children:[u.jsx(_2,{className:"mr-2 h-4 w-4"})," Update Inventory"]}),u.jsxs(q,{onClick:dr,children:[u.jsx(Nr,{className:"mr-2 h-4 w-4"})," Add Item"]})]})]}),f("hasBarcodeScanning")?u.jsxs(Ne,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:[u.jsxs(Fe,{children:[u.jsxs(Be,{className:"flex items-center gap-2 text-blue-800",children:[u.jsx(Am,{className:"h-5 w-5"}),"Quick Add with Barcode Scanner"]}),u.jsx(st,{className:"text-blue-600",children:"Scan any product barcode to instantly add it to your pantry with product details"})]}),u.jsx(Ie,{children:u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[u.jsx("div",{className:"flex-1",children:u.jsx(i$,{onAddPantryItem:me=>{r(me)}})}),u.jsxs("div",{className:"text-sm text-blue-600 max-w-xs",children:[u.jsx("p",{className:"font-medium mb-1",children:"How it works:"}),u.jsxs("ul",{className:"text-xs space-y-1",children:[u.jsx("li",{children:"• Click scan and point camera at barcode"}),u.jsx("li",{children:"• Product info is automatically fetched"}),u.jsx("li",{children:"• Item is added to your pantry instantly"})]})]})]})})]}):u.jsxs(Ne,{className:"bg-gradient-to-r from-red-50 to-orange-50 border-red-200",children:[u.jsxs(Fe,{children:[u.jsxs(Be,{className:"flex items-center gap-2 text-red-700",children:[u.jsx(Am,{className:"h-5 w-5"}),"🔒 Barcode Scanner - LOCKED",u.jsx(lt,{variant:"destructive",className:"text-xs",children:"Plus & Premium Only"})]}),u.jsx(st,{className:"text-red-600",children:"⚠️ This feature requires a Plus ($3.99/month) or Premium ($8.99/month) subscription"})]}),u.jsx(Ie,{children:u.jsx("div",{className:"flex flex-col gap-4",children:u.jsxs("div",{className:"flex-1 text-center py-8 bg-white/50 rounded-lg border-2 border-dashed border-red-300",children:[u.jsx(Am,{className:"h-16 w-16 mx-auto text-red-400 mb-4"}),u.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:"Barcode Scanning Disabled"}),u.jsxs("p",{className:"text-sm text-red-700 mb-4 max-w-md mx-auto",children:["You're currently on the ",u.jsx("strong",{children:"Free plan"}),". Upgrade to scan product barcodes and automatically add items with product details, nutrition info, and more."]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-red-600 mb-4",children:[u.jsxs("div",{className:"p-2 bg-red-100 rounded",children:[u.jsx("strong",{children:"Plus ($3.99/month)"}),u.jsx("br",{}),"✓ Barcode scanning",u.jsx("br",{}),"✓ Household sharing",u.jsx("br",{}),"✓ Unlimited items"]}),u.jsxs("div",{className:"p-2 bg-red-100 rounded",children:[u.jsx("strong",{children:"Premium ($8.99/month)"}),u.jsx("br",{}),"✓ Everything in Plus",u.jsx("br",{}),"✓ Receipt scanning",u.jsx("br",{}),"✓ Advanced analytics"]})]}),u.jsx(q,{onClick:()=>console.log("Upgrade to access barcode scanning"),className:"bg-red-600 hover:bg-red-700 text-white font-semibold",size:"lg",children:"🚀 Upgrade Now to Unlock Barcode Scanning"})]})})})]}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[u.jsxs(Ne,{className:"bg-teal-500 text-white",children:[u.jsxs(Fe,{children:[u.jsx(Be,{children:"Inventory Summary"}),u.jsxs(st,{className:"text-teal-100",children:["You have ",e.length," items in your pantry"]})]}),u.jsxs(Ie,{children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Low Stock"}),u.jsxs("span",{children:[H0.length," items"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Expiring Soon"}),u.jsxs("span",{children:[wp.length," items"]})]})]}),u.jsx(hr,{children:u.jsx(q,{variant:"secondary",className:"w-full",onClick:Dn,children:"View All Items"})})]}),u.jsxs(Ne,{children:[u.jsxs(Fe,{children:[u.jsx(Be,{children:"Most Used Items"}),u.jsx(st,{children:"Based on your shopping history"})]}),u.jsx(Ie,{children:u.jsx("ul",{className:"space-y-2",children:yd.map(me=>u.jsxs("li",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[a$[me.category],u.jsx("span",{className:"ml-2",children:me.name})]}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Bought 8 times"})]},me.id))})}),u.jsx(hr,{children:u.jsxs(q,{variant:"outline",className:"w-full",onClick:()=>yd.forEach(pa),children:[u.jsx(lr,{className:"mr-2 h-4 w-4"})," Add to Shopping List"]})})]}),u.jsxs(Ne,{children:[u.jsxs(Fe,{children:[u.jsx(Be,{children:"Expiring Soon"}),u.jsxs(st,{children:["Items to use in the next ",V," days"]})]}),u.jsx(Ie,{children:u.jsx("ul",{className:"space-y-2",children:wp.map(me=>u.jsxs("li",{className:"flex items-center justify-between",children:[u.jsx("span",{children:me.name}),u.jsxs("span",{className:"text-red-500",children:["Expires in ",Va(me.expiry)," days"]})]},me.id))})}),u.jsx(hr,{children:u.jsxs(q,{variant:"outline",className:"w-full",onClick:Or,children:[u.jsx(Tr,{className:"mr-2 h-4 w-4"})," View All Expiring"]})})]})]}),u.jsxs(Ne,{children:[u.jsx(Fe,{children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx(Be,{children:"All Items"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(De,{placeholder:"Search pantry...",value:L,onChange:bp,className:"max-w-sm"}),u.jsxs(Rt,{onValueChange:me=>$r(me),defaultValue:fe,children:[u.jsx(Nt,{className:"w-[180px]",children:u.jsx(Dt,{placeholder:"Sort by"})}),u.jsxs(It,{children:[u.jsx(we,{value:"name",children:"Name"}),u.jsx(we,{value:"expiry",children:"Expiry Date"}),u.jsx(we,{value:"quantity",children:"Quantity"})]})]}),u.jsx(q,{variant:"ghost",onClick:()=>ve(H==="asc"?"desc":"asc"),children:H==="asc"?"↑":"↓"})]})]})}),u.jsx(Ie,{children:al.length>0?u.jsx("ul",{className:"space-y-4",children:al.map(me=>u.jsxs("li",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ec,{checked:Se.has(me.id),onCheckedChange:Ke=>{const at=new Set(Se);Ke?at.add(me.id):at.delete(me.id),se(at)}}),u.jsxs("div",{className:"ml-4",children:[u.jsx("div",{className:"font-medium",children:me.name}),me.expiry&&u.jsxs("div",{className:"text-sm text-muted-foreground",children:["Expires in ",Va(me.expiry)," days"]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(q,{variant:"outline",size:"icon",onClick:()=>q0(me.id),children:u.jsx(vE,{className:"h-4 w-4"})}),u.jsx("span",{children:me.quantity}),u.jsx(q,{variant:"outline",size:"icon",onClick:()=>G0(me.id),children:u.jsx(Nr,{className:"h-4 w-4"})}),u.jsx(q,{variant:"ghost",size:"icon",onClick:()=>pa(),children:u.jsx(lr,{className:"h-4 w-4"})}),u.jsxs(Gg,{children:[u.jsx(qg,{asChild:!0,children:u.jsx(q,{variant:"ghost",size:"icon",children:u.jsx(_f,{className:"h-4 w-4"})})}),u.jsxs(Zf,{align:"end",children:[u.jsx(hi,{onClick:()=>os(me.id),children:"Edit"}),u.jsx(hi,{onClick:()=>xp(me.id),children:"Remove"})]})]})]})]},me.id))}):u.jsxs("div",{className:"text-center py-10",children:[u.jsx(Wn,{className:"h-12 w-12 mx-auto text-muted-foreground"}),u.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No items found"}),u.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Your pantry is empty or no items match your search."}),u.jsxs(q,{className:"mt-4",onClick:dr,children:[u.jsx(Nr,{className:"mr-2 h-4 w-4"})," Add your first item"]})]})}),u.jsx(hr,{children:u.jsxs("div",{className:"flex justify-between items-center w-full",children:[u.jsxs("div",{className:"text-sm text-muted-foreground",children:[Se.size," of ",e.length," items selected."]}),u.jsxs(q,{onClick:xd,disabled:Se.size===0,children:[u.jsx(lr,{className:"mr-2 h-4 w-4"}),"Add Selected to Cart"]})]})})]})]}),u.jsx(cr,{open:x,onOpenChange:W0,children:u.jsxs(rr,{children:[u.jsxs(nr,{children:[u.jsx(ir,{children:"Add New Item"}),u.jsx(xi,{children:"Enter the details of the new item to add to your pantry."})]}),u.jsxs("form",{onSubmit:iS,children:[u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(oe,{htmlFor:"name",className:"text-right",children:"Name"}),u.jsx(De,{id:"name",value:S.name,onChange:me=>E({...S,name:me.target.value}),className:"col-span-3",required:!0})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(oe,{htmlFor:"quantity",className:"text-right",children:"Quantity"}),u.jsx(De,{id:"quantity",type:"number",value:S.quantity,onChange:me=>E({...S,quantity:parseInt(me.target.value)||1}),className:"col-span-3",required:!0,min:"1"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(oe,{htmlFor:"category",className:"text-right",children:"Category"}),u.jsxs(Rt,{onValueChange:me=>E({...S,category:me}),value:S.category,children:[u.jsx(Nt,{className:"col-span-3",children:u.jsx(Dt,{placeholder:"Select a category"})}),u.jsx(It,{children:Oze.map(me=>u.jsx(we,{value:me,children:me},me))})]})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(oe,{htmlFor:"expiry",className:"text-right",children:"Expiry Date"}),u.jsx(De,{id:"expiry",type:"date",value:S.expiry||"",onChange:me=>E({...S,expiry:me.target.value}),className:"col-span-3"})]})]}),u.jsx(Jn,{children:u.jsx(q,{type:"submit",children:"Add Item"})})]})]})}),u.jsx(cr,{open:T,onOpenChange:A,children:u.jsxs(rr,{children:[u.jsxs(nr,{children:[u.jsx(ir,{children:"Update Inventory"}),u.jsx(xi,{children:"Scan items or manually update quantities"})]}),f("hasBarcodeScanning")?u.jsx("div",{className:"mb-4",children:u.jsx(i$,{onAddPantryItem:me=>{r(me)}})}):u.jsxs("div",{className:"mb-4 text-center py-6 bg-red-50 rounded-lg border-2 border-dashed border-red-300",children:[u.jsx(Am,{className:"h-12 w-12 mx-auto text-red-400 mb-3"}),u.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"🔒 Barcode Scanning Locked"}),u.jsxs("p",{className:"text-sm text-red-700 mb-3",children:[u.jsx("strong",{children:"Free Plan:"})," Barcode scanning requires Plus ($3.99/month) or Premium ($8.99/month)"]}),u.jsx(q,{size:"sm",className:"bg-red-600 hover:bg-red-700 text-white",onClick:()=>console.log("Upgrade to unlock barcode scanning"),children:"Upgrade to Unlock"})]}),u.jsx("div",{className:"text-center text-sm text-muted-foreground mb-4",children:"- or update quantities manually -"}),u.jsx("div",{className:"space-y-4 py-4",children:e.map(me=>u.jsxs("div",{className:"flex items-center justify-between gap-4 p-2 rounded-lg hover:bg-slate-50",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:me.name}),u.jsx("p",{className:"text-sm text-slate-500",children:me.category})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(q,{type:"button",variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>q0(me.id),children:u.jsx(vE,{className:"h-4 w-4"})}),u.jsx("span",{className:"w-8 text-center",children:me.quantity}),u.jsx(q,{type:"button",variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>G0(me.id),children:u.jsx(Nr,{className:"h-4 w-4"})})]})]},me.id))}),u.jsx(Jn,{children:u.jsx(q,{variant:"outline",onClick:()=>A(!1),children:"Done"})})]})}),u.jsx(cr,{open:G,onOpenChange:X,children:u.jsxs(rr,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[u.jsxs(nr,{children:[u.jsx(ir,{children:"Expiring Items"}),u.jsxs("div",{className:"flex items-center justify-between mt-4",children:[u.jsxs(Rt,{value:V.toString(),onValueChange:me=>Q(parseInt(me)),children:[u.jsx(Nt,{className:"w-[150px]",children:u.jsx(Dt,{placeholder:"Timeframe"})}),u.jsxs(It,{children:[u.jsx(we,{value:"1",children:"Within 24 hours"}),u.jsx(we,{value:"3",children:"Within 3 days"}),u.jsx(we,{value:"7",children:"Within a week"}),u.jsx(we,{value:"14",children:"Within 2 weeks"})]})]}),u.jsxs(q,{variant:"outline",size:"sm",onClick:xd,disabled:Se.size===0,children:[u.jsx(lr,{className:"h-4 w-4 mr-2"}),"Add Selected to Cart"]})]})]}),u.jsx("div",{className:"space-y-4",children:Object.entries(Ep).map(([me,Ke])=>{const at=Ke.filter(br=>{const ln=Va(br.expiry);return ln!==null&&ln<=V&&ln>0});return at.length===0?null:u.jsxs("div",{children:[u.jsxs("h3",{className:"font-semibold text-lg mb-2 flex items-center gap-2",children:[a$[me],me,u.jsx(lt,{variant:"outline",children:at.length})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Sp(at).map(br=>{const ln=Va(br.expiry);return u.jsx(Ne,{className:`shadow-sm ${Se.has(br.id)?"ring-2 ring-primary":""}`,children:u.jsx(Ie,{className:"p-4",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Ec,{checked:Se.has(br.id),onCheckedChange:zc=>{const _r=new Set(Se);zc?_r.add(br.id):_r.delete(br.id),se(_r)}}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium",children:br.name}),u.jsxs("p",{className:`text-sm ${ln!==null&&ln<=1?"text-red-500":ln!==null&&ln<=3?"text-amber-500":"text-muted-foreground"}`,children:["Expires in ",ln," days"]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(q,{variant:"outline",size:"sm",onClick:()=>pa(),children:[u.jsx(lr,{className:"h-4 w-4 mr-2"}),"Add to List"]}),u.jsx(q,{variant:"outline",size:"sm",onClick:()=>xp(br.id),children:"Used"})]})]})})},br.id)})})]},me)})})]})}),u.jsx(cr,{open:ce,onOpenChange:de,children:u.jsxs(rr,{children:[u.jsxs(nr,{children:[u.jsx(ir,{children:"Add to Shopping List"}),u.jsx(xi,{children:"Customize your shopping list items"})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{children:"Shopping List"}),u.jsxs(Rt,{value:re,onValueChange:K,children:[u.jsx(Nt,{children:u.jsx(Dt,{placeholder:"Choose a list"})}),u.jsxs(It,{children:[u.jsx(we,{value:"default",children:"Default List"}),u.jsx(we,{value:"weekly",children:"Weekly Shopping"}),u.jsx(we,{value:"monthly",children:"Monthly Stock-up"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{children:"Quantity to Add"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(q,{variant:"outline",size:"sm",onClick:()=>pe(Math.max(1,le-1)),children:u.jsx(vE,{className:"h-4 w-4"})}),u.jsx(De,{type:"number",min:"1",value:le,onChange:me=>pe(Math.max(1,parseInt(me.target.value)||1)),className:"w-20 text-center"}),u.jsx(q,{variant:"outline",size:"sm",onClick:()=>pe(le+1),children:u.jsx(Nr,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{children:"Notes (Optional)"}),u.jsx(De,{value:ut,onChange:me=>Wt(me.target.value),placeholder:"e.g., Prefer organic, specific brand, etc."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{children:"Priority"}),u.jsxs(Rt,{defaultValue:"normal",children:[u.jsx(Nt,{children:u.jsx(Dt,{placeholder:"Select priority"})}),u.jsxs(It,{children:[u.jsx(we,{value:"high",children:"High - Need ASAP"}),u.jsx(we,{value:"normal",children:"Normal"}),u.jsx(we,{value:"low",children:"Low - When convenient"})]})]})]})]}),u.jsxs(Jn,{children:[u.jsx(q,{variant:"outline",onClick:()=>de(!1),children:"Cancel"}),u.jsx(q,{onClick:()=>{de(!1),console.log(`${le} items added to ${re} list`)},children:"Add to List"})]})]})})]}):u.jsx("div",{children:"Loading..."})}const kze=()=>{const{recurringTemplates:t,addRecurringTemplate:e,updateRecurringTemplate:r,removeRecurringTemplate:n,processRecurringItemsNow:i}=yo(),{toast:a}=Mc(),[o,s]=_.useState(!1),[l,c]=_.useState(!1),[d,f]=_.useState(null),[h,p]=_.useState(!1),[m,g]=_.useState({name:"",quantity:1,unit:"ea",price:"",category:"",notes:"",recurrenceFrequency:"weekly",preferredStores:[]}),v=[{value:"ea",label:"Each"},{value:"kg",label:"Kilograms"},{value:"g",label:"Grams"},{value:"lb",label:"Pounds"},{value:"oz",label:"Ounces"},{value:"l",label:"Liters"},{value:"ml",label:"Milliliters"},{value:"pkg",label:"Package"},{value:"box",label:"Box"},{value:"can",label:"Can"},{value:"bottle",label:"Bottle"}],y=[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"bi-weekly",label:"Bi-weekly"},{value:"monthly",label:"Monthly"}],x=["Trader Joe's","Whole Foods","Costco","Kroger","Target","Walmart","Safeway","Publix"],w=()=>{g({name:"",quantity:1,unit:"ea",price:"",category:"",notes:"",recurrenceFrequency:"weekly",preferredStores:[]})},S=()=>{if(!m.name.trim()){a({title:"Name Required",description:"Please enter a name for the recurring item.",variant:"destructive"});return}const O={name:m.name,quantity:m.quantity,unit:m.unit,price:m.price?parseFloat(m.price):void 0,category:m.category||void 0,notes:m.notes||void 0,checked:!1,isRecurringTemplate:!0,isRecurring:!0,recurrenceFrequency:m.recurrenceFrequency,nextDueDate:new Date().toISOString(),preferredStores:m.preferredStores.length>0?m.preferredStores:void 0,addedBy:{name:"You",avatar:"https://example.com/you.jpg"}};e(O),w(),s(!1),a({title:"Recurring Item Created",description:`${O.name} will be added to your shopping lists ${O.recurrenceFrequency}.`})},E=O=>{var L;f(O),g({name:O.name,quantity:O.quantity,unit:O.unit||"ea",price:((L=O.price)==null?void 0:L.toString())||"",category:O.category||"",notes:O.notes||"",recurrenceFrequency:O.recurrenceFrequency,preferredStores:O.preferredStores||[]}),c(!0)},T=()=>{if(!d)return;const O={name:m.name,quantity:m.quantity,unit:m.unit,price:m.price?parseFloat(m.price):void 0,category:m.category||void 0,notes:m.notes||void 0,recurrenceFrequency:m.recurrenceFrequency,preferredStores:m.preferredStores.length>0?m.preferredStores:void 0};r(d.id,O),w(),c(!1),f(null),a({title:"Template Updated",description:"Your recurring item template has been updated."})},A=(O,L)=>{n(O),a({title:"Template Deleted",description:`${L} recurring template has been removed.`})},C=async()=>{p(!0);try{const O=i();O.itemsProcessed>0?a({title:"Recurring Items Processed",description:`Added ${O.itemsProcessed} items to ${O.tripsUpdated} existing trips and created ${O.newTripsCreated} new trips.`}):a({title:"No Items Due",description:"No recurring items are due to be added at this time."}),O.errors.length>0&&console.error("Processing errors:",O.errors)}catch{a({title:"Processing Failed",description:"There was an error processing recurring items.",variant:"destructive"})}finally{p(!1)}},N=O=>{switch(O){case"daily":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";case"weekly":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300";case"bi-weekly":return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-300";case"monthly":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}},I=O=>O.nextDueDate?Hf(O.nextDueDate)<=new Date:!1,P=t.filter(I),k=Po.getStatistics();return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Recurring Items"}),u.jsx("p",{className:"text-muted-foreground",children:"Manage items that automatically get added to your shopping lists"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(q,{onClick:C,disabled:h,variant:"outline",className:"flex items-center gap-2",children:[h?u.jsx(_2,{className:"h-4 w-4 animate-spin"}):u.jsx(sj,{className:"h-4 w-4"}),"Process Now"]}),u.jsxs(cr,{open:o,onOpenChange:s,children:[u.jsx(gw,{asChild:!0,children:u.jsxs(q,{className:"flex items-center gap-2",children:[u.jsx(Nr,{className:"h-4 w-4"}),"Add Recurring Item"]})}),u.jsxs(rr,{className:"max-w-md",children:[u.jsxs(nr,{children:[u.jsx(ir,{children:"Create Recurring Item"}),u.jsx(xi,{children:"Add an item that will automatically be added to your shopping lists"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(oe,{htmlFor:"name",children:"Item Name"}),u.jsx(De,{id:"name",value:m.name,onChange:O=>g(L=>({...L,name:O.target.value})),placeholder:"e.g., Milk, Bread, Bananas"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(oe,{htmlFor:"quantity",children:"Quantity"}),u.jsx(De,{id:"quantity",type:"number",min:"1",value:m.quantity,onChange:O=>g(L=>({...L,quantity:parseInt(O.target.value)||1}))})]}),u.jsxs("div",{children:[u.jsx(oe,{htmlFor:"unit",children:"Unit"}),u.jsxs(Rt,{value:m.unit,onValueChange:O=>g(L=>({...L,unit:O})),children:[u.jsx(Nt,{children:u.jsx(Dt,{})}),u.jsx(It,{children:v.map(O=>u.jsx(we,{value:O.value,children:O.label},O.value))})]})]})]}),u.jsxs("div",{children:[u.jsx(oe,{htmlFor:"frequency",children:"Frequency"}),u.jsxs(Rt,{value:m.recurrenceFrequency,onValueChange:O=>g(L=>({...L,recurrenceFrequency:O})),children:[u.jsx(Nt,{children:u.jsx(Dt,{})}),u.jsx(It,{children:y.map(O=>u.jsx(we,{value:O.value,children:O.label},O.value))})]})]}),u.jsxs("div",{children:[u.jsx(oe,{htmlFor:"price",children:"Estimated Price (optional)"}),u.jsx(De,{id:"price",type:"number",step:"0.01",min:"0",value:m.price,onChange:O=>g(L=>({...L,price:O.target.value})),placeholder:"0.00"})]}),u.jsxs("div",{children:[u.jsx(oe,{children:"Preferred Stores (optional)"}),u.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:x.map(O=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Ec,{id:O,checked:m.preferredStores.includes(O),onCheckedChange:L=>{g(L?z=>({...z,preferredStores:[...z.preferredStores,O]}):z=>({...z,preferredStores:z.preferredStores.filter(M=>M!==O)}))}}),u.jsx(oe,{htmlFor:O,className:"text-sm",children:O})]},O))})]})]}),u.jsxs(Jn,{children:[u.jsx(q,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),u.jsx(q,{onClick:S,children:"Create Template"})]})]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsx(Ne,{children:u.jsx(Ie,{className:"p-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(v1e,{className:"h-4 w-4 text-blue-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Templates"}),u.jsx("p",{className:"text-2xl font-bold",children:k.totalTemplates})]})]})})}),u.jsx(Ne,{children:u.jsx(Ie,{className:"p-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(xo,{className:"h-4 w-4 text-orange-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Due Today"}),u.jsx("p",{className:"text-2xl font-bold",children:k.dueToday})]})]})})}),u.jsx(Ne,{children:u.jsx(Ie,{className:"p-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Tr,{className:"h-4 w-4 text-green-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Next Processing"}),u.jsx("p",{className:"text-sm font-medium",children:"Tomorrow 8:00 AM"})]})]})})}),u.jsx(Ne,{children:u.jsx(Ie,{className:"p-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(zo,{className:"h-4 w-4 text-purple-500"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Est. Monthly"}),u.jsxs("p",{className:"text-2xl font-bold",children:["$",t.reduce((O,L)=>O+(L.price||0),0).toFixed(0)]})]})]})})})]}),P.length>0&&u.jsx(Ne,{className:"border-orange-200 bg-orange-50 dark:border-orange-800 dark:bg-orange-900/20",children:u.jsxs(Ie,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(xo,{className:"h-5 w-5 text-orange-600"}),u.jsxs("h3",{className:"font-semibold text-orange-800 dark:text-orange-200",children:[P.length," Item",P.length>1?"s":""," Due"]})]}),u.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300 mb-3",children:"The following recurring items are ready to be added to your shopping lists."}),u.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:P.map(O=>u.jsx(lt,{variant:"outline",className:"text-orange-800 border-orange-300",children:O.name},O.id))}),u.jsx(q,{onClick:C,disabled:h,size:"sm",className:"bg-orange-600 hover:bg-orange-700",children:h?"Processing...":"Add to Shopping Lists"})]})}),u.jsxs(Ne,{children:[u.jsx(Fe,{children:u.jsx(Be,{children:"Your Recurring Items"})}),u.jsx(Ie,{children:t.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx(Vu,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Recurring Items"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Create recurring items to automatically add them to your shopping lists"}),u.jsxs(q,{onClick:()=>s(!0),children:[u.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Add Your First Item"]})]}):u.jsx("div",{className:"space-y-3",children:t.map(O=>u.jsx("div",{className:`p-4 border rounded-lg ${I(O)?"border-orange-200 bg-orange-50 dark:border-orange-800 dark:bg-orange-900/20":""}`,children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("h3",{className:"font-semibold",children:O.name}),u.jsx(lt,{className:N(O.recurrenceFrequency),children:O.recurrenceFrequency}),I(O)&&u.jsx(lt,{variant:"outline",className:"text-orange-600 border-orange-300",children:"Due"})]}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[u.jsxs("span",{children:[O.quantity," ",O.unit]}),O.price&&u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(zo,{className:"h-3 w-3"}),O.price.toFixed(2)]}),O.preferredStores&&O.preferredStores.length>0&&u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(rw,{className:"h-3 w-3"}),O.preferredStores.join(", ")]})]}),O.nextDueDate&&u.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Next due: ",er(Hf(O.nextDueDate),"PPP")]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(q,{variant:"ghost",size:"sm",onClick:()=>E(O),children:u.jsx(oj,{className:"h-4 w-4"})}),u.jsx(q,{variant:"ghost",size:"sm",onClick:()=>A(O.id,O.name),children:u.jsx(cj,{className:"h-4 w-4"})})]})]})},O.id))})})]}),u.jsx(cr,{open:l,onOpenChange:c,children:u.jsxs(rr,{className:"max-w-md",children:[u.jsxs(nr,{children:[u.jsx(ir,{children:"Edit Recurring Item"}),u.jsx(xi,{children:"Update your recurring item template"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(oe,{htmlFor:"edit-name",children:"Item Name"}),u.jsx(De,{id:"edit-name",value:m.name,onChange:O=>g(L=>({...L,name:O.target.value}))})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(oe,{htmlFor:"edit-quantity",children:"Quantity"}),u.jsx(De,{id:"edit-quantity",type:"number",min:"1",value:m.quantity,onChange:O=>g(L=>({...L,quantity:parseInt(O.target.value)||1}))})]}),u.jsxs("div",{children:[u.jsx(oe,{htmlFor:"edit-unit",children:"Unit"}),u.jsxs(Rt,{value:m.unit,onValueChange:O=>g(L=>({...L,unit:O})),children:[u.jsx(Nt,{children:u.jsx(Dt,{})}),u.jsx(It,{children:v.map(O=>u.jsx(we,{value:O.value,children:O.label},O.value))})]})]})]}),u.jsxs("div",{children:[u.jsx(oe,{htmlFor:"edit-frequency",children:"Frequency"}),u.jsxs(Rt,{value:m.recurrenceFrequency,onValueChange:O=>g(L=>({...L,recurrenceFrequency:O})),children:[u.jsx(Nt,{children:u.jsx(Dt,{})}),u.jsx(It,{children:y.map(O=>u.jsx(we,{value:O.value,children:O.label},O.value))})]})]}),u.jsxs("div",{children:[u.jsx(oe,{htmlFor:"edit-price",children:"Estimated Price"}),u.jsx(De,{id:"edit-price",type:"number",step:"0.01",min:"0",value:m.price,onChange:O=>g(L=>({...L,price:O.target.value}))})]})]}),u.jsxs(Jn,{children:[u.jsx(q,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),u.jsx(q,{onClick:T,children:"Update Template"})]})]})})]})};function Rze(){return u.jsx(ca,{children:u.jsx("div",{className:"flex-1 space-y-4 p-4 md:p-8 pt-6",children:u.jsx(kze,{})})})}function uA(){var y,x,w,S,E,T;const{user:t,logout:e,isAdmin:r}=xr(),{currentTier:n,limits:i}=h0(),{startTutorial:a}=tj(),o=Si(),[s,l]=_.useState(!1),[c,d]=_.useState(!1),[f,h]=_.useState(!1);_.useEffect(()=>{h(S_e()==="dark")},[]);const p=()=>{const A=__e();h(A==="dark"),console.log(A==="dark"?"Dark mode enabled":"Light mode enabled")},m=async()=>{try{l(!0),await e(),console.log("Successfully signed out"),o("/")}catch(A){console.error("Sign out failed:",A),console.error("There was a problem signing you out. Please try again.")}finally{l(!1)}},v=(()=>{switch(n){case"free":return{name:"TaskaLoop Basic",price:"Free",icon:u.jsx(Hi,{className:"h-5 w-5"}),color:"bg-gray-500",badgeColor:"bg-gray-100 text-gray-800"};case"plus":return{name:"TaskaLoop Plus",price:"$4.99/month",icon:u.jsx(Zm,{className:"h-5 w-5"}),color:"bg-blue-500",badgeColor:"bg-blue-100 text-blue-800"};case"premium":return{name:"TaskaLoop Premium",price:"$8.99/month",icon:u.jsx(aj,{className:"h-5 w-5"}),color:"bg-purple-500",badgeColor:"bg-purple-100 text-purple-800"};default:return{name:"TaskaLoop Free",price:"$0/month",icon:u.jsx(Yf,{className:"h-5 w-5"}),color:"bg-gray-500",badgeColor:"bg-gray-100 text-gray-800"}}})();return u.jsx(ca,{children:u.jsxs("div",{className:"p-4 md:p-8",children:[u.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Profile Settings"}),u.jsx("p",{className:"text-slate-500",children:"Manage your account settings and preferences"})]})}),u.jsxs(bc,{defaultValue:"account",className:"w-full",children:[u.jsxs(Gs,{className:"grid w-full md:w-auto grid-cols-4 md:inline-flex mb-6",children:[u.jsx(Jt,{value:"account",children:"Account"}),u.jsx(Jt,{value:"security",children:"Security"}),u.jsx(Jt,{value:"notifications",children:"Notifications"}),u.jsx(Jt,{value:"billing",children:"Billing"})]}),u.jsxs(Ir,{value:"account",className:"space-y-6",children:[u.jsxs(Ne,{className:"border-none shadow-sm",children:[u.jsxs(Fe,{children:[u.jsx(Be,{children:"Profile Information"}),u.jsx(st,{children:"Update your personal information"})]}),u.jsx(Ie,{className:"space-y-6",children:u.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsxs(pn,{className:"h-24 w-24",children:[u.jsx(_0,{src:t==null?void 0:t.avatar}),u.jsx(mn,{className:"text-2xl bg-teal-100 text-teal-700",children:((x=(y=t==null?void 0:t.name)==null?void 0:y.charAt(0))==null?void 0:x.toUpperCase())||((S=(w=t==null?void 0:t.email)==null?void 0:w.charAt(0))==null?void 0:S.toUpperCase())||"U"})]}),u.jsx(q,{variant:"outline",className:"border-slate-200",children:"Change Avatar"})]}),u.jsxs("div",{className:"flex-1 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"firstName",children:"First Name"}),u.jsx(De,{id:"firstName",defaultValue:((E=t==null?void 0:t.name)==null?void 0:E.split(" ")[0])||"",placeholder:"Enter your first name"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"lastName",children:"Last Name"}),u.jsx(De,{id:"lastName",defaultValue:((T=t==null?void 0:t.name)==null?void 0:T.split(" ").slice(1).join(" "))||"",placeholder:"Enter your last name"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"email",children:"Email Address"}),u.jsx(De,{id:"email",type:"email",defaultValue:(t==null?void 0:t.email)||"",placeholder:"Enter your email",disabled:!0}),u.jsx("p",{className:"text-xs text-slate-500",children:"Email cannot be changed as it's linked to your Google account"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"phone",children:"Phone Number"}),u.jsx(De,{id:"phone",type:"tel",placeholder:"Enter your phone number"})]})]})]})}),u.jsx(hr,{className:"flex justify-end",children:u.jsxs(q,{className:"bg-teal-600 hover:bg-teal-700",children:[u.jsx(b6,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]}),u.jsxs(Ne,{className:"border-none shadow-sm",children:[u.jsxs(Fe,{children:[u.jsx(Be,{children:"Preferences"}),u.jsx(st,{children:"Customize your app experience"})]}),u.jsxs(Ie,{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"language",children:"Language"}),u.jsxs(Rt,{defaultValue:"en",children:[u.jsx(Nt,{id:"language",className:"w-full md:w-[240px]",children:u.jsx(Dt,{placeholder:"Select language"})}),u.jsxs(It,{children:[u.jsx(we,{value:"en",children:"English"}),u.jsx(we,{value:"es",children:"Spanish"}),u.jsx(we,{value:"fr",children:"French"}),u.jsx(we,{value:"de",children:"German"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"timezone",children:"Timezone"}),u.jsxs(Rt,{defaultValue:"america_los_angeles",children:[u.jsx(Nt,{id:"timezone",className:"w-full md:w-[240px]",children:u.jsx(Dt,{placeholder:"Select timezone"})}),u.jsxs(It,{children:[u.jsx(we,{value:"america_los_angeles",children:"Pacific Time (US & Canada)"}),u.jsx(we,{value:"america_denver",children:"Mountain Time (US & Canada)"}),u.jsx(we,{value:"america_chicago",children:"Central Time (US & Canada)"}),u.jsx(we,{value:"america_new_york",children:"Eastern Time (US & Canada)"})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-0.5",children:[u.jsx(oe,{htmlFor:"darkMode",children:"Dark Mode"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Enable dark mode for the application"})]}),u.jsx(Ti,{id:"darkMode",checked:f,onCheckedChange:p})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-0.5",children:[u.jsx(oe,{htmlFor:"compactView",children:"Compact View"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Use a more compact layout for lists"})]}),u.jsx(Ti,{id:"compactView"})]})]})]}),u.jsx(hr,{className:"flex justify-end",children:u.jsxs(q,{className:"bg-teal-600 hover:bg-teal-700",children:[u.jsx(b6,{className:"h-4 w-4 mr-2"}),"Save Preferences"]})})]})]}),u.jsxs(Ir,{value:"security",className:"space-y-6",children:[u.jsxs(Ne,{className:"border-none shadow-sm",children:[u.jsxs(Fe,{children:[u.jsx(Be,{children:"Change Password"}),u.jsx(st,{children:"Update your password to keep your account secure"})]}),u.jsxs(Ie,{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"currentPassword",children:"Current Password"}),u.jsx(De,{id:"currentPassword",type:"password"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"newPassword",children:"New Password"}),u.jsx(De,{id:"newPassword",type:"password"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"confirmPassword",children:"Confirm New Password"}),u.jsx(De,{id:"confirmPassword",type:"password"})]})]}),u.jsx(hr,{className:"flex justify-end",children:u.jsxs(q,{className:"bg-teal-600 hover:bg-teal-700",children:[u.jsx(k1e,{className:"h-4 w-4 mr-2"}),"Update Password"]})})]}),u.jsxs(Ne,{className:"border-none shadow-sm",children:[u.jsxs(Fe,{children:[u.jsx(Be,{children:"Two-Factor Authentication"}),u.jsx(st,{children:"Add an extra layer of security to your account"})]}),u.jsx(Ie,{className:"space-y-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-0.5",children:[u.jsx("h4",{className:"font-medium text-slate-800",children:"Enable Two-Factor Authentication"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Protect your account with an additional security layer"})]}),u.jsx(Ti,{id:"twoFactor"})]})}),u.jsxs(hr,{className:"flex justify-between",children:[u.jsxs(q,{variant:"outline",className:"border-slate-200",children:[u.jsx(kH,{className:"h-4 w-4 mr-2"}),"Learn More"]}),u.jsxs(q,{className:"bg-teal-600 hover:bg-teal-700",children:[u.jsx(_6,{className:"h-4 w-4 mr-2"}),"Setup 2FA"]})]})]}),u.jsxs(Ne,{className:"border-none shadow-sm",children:[u.jsxs(Fe,{children:[u.jsx(Be,{children:"Connected Accounts"}),u.jsx(st,{children:"Manage accounts connected to your profile"})]}),u.jsx(Ie,{className:"space-y-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:u.jsx(O1e,{className:"h-5 w-5 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-slate-800",children:"Google"}),u.jsxs("p",{className:"text-sm text-slate-500",children:["Connected as ",(t==null?void 0:t.email)||"Not connected"]})]})]}),u.jsx(q,{variant:"outline",className:"border-slate-200",disabled:!0,children:"Connected"})]})})]})]}),u.jsx(Ir,{value:"notifications",className:"space-y-6",children:u.jsxs(Ne,{className:"border-none shadow-sm",children:[u.jsxs(Fe,{children:[u.jsx(Be,{children:"Notification Preferences"}),u.jsx(st,{children:"Manage how you receive notifications"})]}),u.jsxs(Ie,{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"font-medium text-slate-800",children:"Email Notifications"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-0.5",children:[u.jsx(oe,{htmlFor:"emailShoppingReminders",children:"Shopping Reminders"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Receive reminders about your shopping lists"})]}),u.jsx(Ti,{id:"emailShoppingReminders",defaultChecked:!0})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-0.5",children:[u.jsx(oe,{htmlFor:"emailExpenseAlerts",children:"Expense Alerts"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Get notified about new expenses and payments"})]}),u.jsx(Ti,{id:"emailExpenseAlerts",defaultChecked:!0})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-0.5",children:[u.jsx(oe,{htmlFor:"emailWeeklyDigest",children:"Weekly Digest"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Receive a weekly summary of your activities"})]}),u.jsx(Ti,{id:"emailWeeklyDigest"})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"font-medium text-slate-800",children:"Push Notifications"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-0.5",children:[u.jsx(oe,{htmlFor:"pushShoppingReminders",children:"Shopping Reminders"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Receive reminders about your shopping lists"})]}),u.jsx(Ti,{id:"pushShoppingReminders",defaultChecked:!0})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-0.5",children:[u.jsx(oe,{htmlFor:"pushExpenseAlerts",children:"Expense Alerts"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Get notified about new expenses and payments"})]}),u.jsx(Ti,{id:"pushExpenseAlerts",defaultChecked:!0})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-0.5",children:[u.jsx(oe,{htmlFor:"pushLocationReminders",children:"Location-based Reminders"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Get reminded when you're near a store on your list"})]}),u.jsx(Ti,{id:"pushLocationReminders",defaultChecked:!0})]})]})]})]}),u.jsx(hr,{className:"flex justify-end",children:u.jsxs(q,{className:"bg-teal-600 hover:bg-teal-700",children:[u.jsx(x1e,{className:"h-4 w-4 mr-2"}),"Save Notification Settings"]})})]})}),u.jsxs(Ir,{value:"billing",className:"space-y-6",children:[!r&&u.jsxs(u.Fragment,{children:[u.jsxs(Ne,{className:"border-none shadow-sm",children:[u.jsxs(Fe,{children:[u.jsx(Be,{children:"Current Subscription"}),u.jsx(st,{children:"Your current plan and features"})]}),u.jsx(Ie,{className:"space-y-6",children:u.jsxs("div",{className:`${v.color==="bg-gray-500"?"bg-gray-50 border-gray-200":v.color==="bg-blue-500"?"bg-blue-50 border-blue-200":"bg-purple-50 border-purple-200"} border rounded-lg p-6`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`${v.color} rounded-full p-2 text-white`,children:v.icon}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-slate-800",children:v.name}),u.jsx("p",{className:"text-sm text-slate-600",children:v.price})]})]}),u.jsx(lt,{className:v.badgeColor,children:"Active"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h5",{className:"font-medium text-slate-700",children:"Current Usage & Limits"}),u.jsxs("div",{className:"space-y-1 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-slate-600",children:"Active Trips:"}),u.jsx("span",{className:"font-medium",children:i.maxActiveTrips===1/0?"Unlimited":`${i.maxActiveTrips} max`})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-slate-600",children:"Active Tasks:"}),u.jsx("span",{className:"font-medium",children:i.maxActiveTasks===1/0?"Unlimited":`${i.maxActiveTasks} max`})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-slate-600",children:"Pantry Items:"}),u.jsx("span",{className:"font-medium",children:i.maxPantryItems===1/0?"Unlimited":`${i.maxPantryItems} max`})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-slate-600",children:"Household Members:"}),u.jsx("span",{className:"font-medium",children:i.maxHouseholdMembers===1/0?"Unlimited":`${i.maxHouseholdMembers} max`})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h5",{className:"font-medium text-slate-700",children:"Features Included"}),u.jsxs("div",{className:"space-y-1 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[i.hasReceiptScanning?u.jsx(ki,{className:"h-3 w-3 text-green-600"}):u.jsx("span",{className:"w-3 h-3 text-red-400",children:"×"}),u.jsx("span",{className:i.hasReceiptScanning?"text-slate-700":"text-slate-400",children:"Receipt Scanning"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[i.hasAIFeatures?u.jsx(ki,{className:"h-3 w-3 text-green-600"}):u.jsx("span",{className:"w-3 h-3 text-red-400",children:"×"}),u.jsx("span",{className:i.hasAIFeatures?"text-slate-700":"text-slate-400",children:"AI-Powered Features"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[i.hasRecurringItems?u.jsx(ki,{className:"h-3 w-3 text-green-600"}):u.jsx("span",{className:"w-3 h-3 text-red-400",children:"×"}),u.jsx("span",{className:i.hasRecurringItems?"text-slate-700":"text-slate-400",children:"Recurring Items"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[i.hasAdvancedAnalytics?u.jsx(ki,{className:"h-3 w-3 text-green-600"}):u.jsx("span",{className:"w-3 h-3 text-red-400",children:"×"}),u.jsx("span",{className:i.hasAdvancedAnalytics?"text-slate-700":"text-slate-400",children:"Advanced Analytics"})]})]})]})]}),n!=="premium"&&u.jsxs(q,{onClick:()=>d(!0),className:"w-full bg-blue-600 hover:bg-blue-700",children:[u.jsx(Bg,{className:"h-4 w-4 mr-2"}),"Upgrade Plan"]})]})})]}),n!=="free"&&u.jsxs(Ne,{className:"border-none shadow-sm",children:[u.jsxs(Fe,{children:[u.jsx(Be,{children:"Billing & Payments"}),u.jsx(st,{children:"Manage your subscription billing"})]}),u.jsx(Ie,{children:ng.isConfigured()?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(yT,{className:"h-5 w-5 text-blue-600"}),u.jsx("span",{className:"font-medium text-blue-800",children:"Stripe Customer Portal"})]}),u.jsx("p",{className:"text-sm text-blue-700",children:"Manage your subscription, payment methods, and billing history through our secure portal powered by Stripe."})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs(q,{variant:"outline",onClick:async()=>{try{await ng.openCustomerPortal("cus_demo_customer_id")}catch{console.error("Failed to open customer portal. Please try again.")}},children:[u.jsx(jH,{className:"h-4 w-4 mr-2"}),"Manage Billing"]}),u.jsxs(q,{variant:"outline",children:[u.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Download Invoices"]})]})]}):u.jsxs("div",{className:"text-center py-6",children:[u.jsx(yT,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),u.jsx("h3",{className:"font-semibold mb-2",children:"Stripe Configuration Required"}),u.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Stripe is not configured. Please add your Stripe keys to enable billing features."}),u.jsx(q,{variant:"outline",disabled:!0,children:"Manage Billing"})]})})]})]}),r&&u.jsxs(Ne,{className:"border-none shadow-sm",children:[u.jsxs(Fe,{children:[u.jsx(Be,{children:"Admin Account"}),u.jsx(st,{children:"You have an admin account with full access to all features"})]}),u.jsxs(Ie,{children:[u.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(_6,{className:"h-5 w-5 text-green-600"}),u.jsx("span",{className:"font-medium text-green-800",children:"Admin Access"})]}),u.jsx("p",{className:"text-sm text-green-700 mt-1",children:"All premium features are enabled for testing and development purposes."})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-0.5",children:[u.jsx("h4",{className:"font-medium text-slate-800",children:"Welcome Tutorial"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Restart the welcome tutorial to see the feature overview"})]}),u.jsxs(q,{variant:"outline",className:"border-slate-200",onClick:()=>{t&&(localStorage.removeItem(`tutorial_completed_${t.id}`),a(),console.log("The welcome tutorial has been restarted."))},children:[u.jsx(sj,{className:"h-4 w-4 mr-2"}),"Restart Tutorial"]})]})]})]})]})]}),u.jsx("div",{className:"mt-8 space-y-4",children:u.jsxs(Ne,{className:"border-none shadow-sm",children:[u.jsxs(Fe,{children:[u.jsx(Be,{children:"Account Actions"}),u.jsx(st,{children:"Manage your account status"})]}),u.jsxs(Ie,{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-0.5",children:[u.jsx("h4",{className:"font-medium text-slate-800",children:"Export Your Data"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Download a copy of your data"})]}),u.jsx(q,{variant:"outline",className:"border-slate-200",children:"Export Data"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-0.5",children:[u.jsx("h4",{className:"font-medium text-red-600",children:"Delete Account"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Permanently delete your account and all data"})]}),u.jsx(q,{variant:"destructive",children:"Delete Account"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-0.5",children:[u.jsx("h4",{className:"font-medium text-slate-800",children:"Sign Out"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Sign out from your account"})]}),u.jsxs(q,{variant:"outline",className:"border-slate-200",onClick:m,disabled:s,children:[u.jsx(DH,{className:"h-4 w-4 mr-2"}),s?"Signing Out...":"Sign Out"]})]})]})]})}),!r&&u.jsx(fX,{isOpen:c,onClose:()=>d(!1),showUpgradeOnly:n!=="free"})]})})}const Dze=()=>{const{user:t,updateChorePreferences:e,isLoading:r,isAdmin:n}=xr(),{startTutorial:i}=tj(),{tasks:a}=yo(),{toast:o}=oCe(),[s,l]=_.useState([]);_.useEffect(()=>{t&&t.chorePreferences&&l(t.chorePreferences)},[t]);const c=D.useMemo(()=>{if(!a)return[];const m=new Set;return a.forEach(g=>m.add(g.title)),Array.from(m).map(g=>({id:g,name:g}))},[a]),d=(m,g)=>{l(v=>{const y=v.findIndex(x=>x.choreId===m);if(y>-1){const x=[...v];return x[y]={...x[y],preference:g},x}return[...v,{choreId:m,preference:g}]})},f=async()=>{if(!t){o({title:"Error",description:"You must be logged in to save preferences.",variant:"destructive"});return}try{await e(s),o({title:"Preferences Saved",description:"Your chore preferences have been updated."})}catch(m){o({title:"Save Failed",description:"Could not save your chore preferences. Please try again.",variant:"destructive"}),console.error("Failed to save chore preferences:",m)}},h=()=>{t&&(localStorage.removeItem(`tutorial_completed_${t.id}`),i(),o({title:"Tutorial Started",description:"The welcome tutorial has been restarted."}))};if(r)return u.jsx(ca,{children:u.jsx("div",{className:"p-4",children:"Loading settings..."})});const p=m=>{const g=s.find(v=>v.choreId===m);return g?g.preference:"neutral"};return u.jsx(ca,{children:u.jsx("div",{className:"p-4 md:p-8",children:u.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[u.jsx(m0,{className:"w-6 h-6"}),"Settings"]}),u.jsx("p",{className:"text-slate-500",children:"Manage your application settings and preferences"})]}),u.jsxs(Ne,{className:"border-none shadow-sm",children:[u.jsxs(Fe,{children:[u.jsxs(Be,{className:"flex items-center gap-2",children:[u.jsx(kH,{className:"w-5 h-5 text-blue-500"}),"Welcome Tutorial"]}),u.jsx(st,{children:"Take a tour of TaskaLoop's features with our interactive tutorial"})]}),u.jsx(Ie,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("h4",{className:"font-medium text-slate-800",children:"Restart Tutorial"}),u.jsx("p",{className:"text-sm text-slate-500",children:"See the welcome tutorial again to learn about all features"})]}),u.jsxs(q,{variant:"outline",onClick:h,className:"flex items-center gap-2",children:[u.jsx(sj,{className:"w-4 h-4"}),"Start Tutorial"]})]})})]}),u.jsxs(Ne,{className:"border-none shadow-sm",children:[u.jsxs(Fe,{children:[u.jsxs(Be,{className:"flex items-center gap-2",children:[u.jsx(j1e,{className:"w-5 h-5 text-red-500"}),"Chore Preferences"]}),u.jsx(st,{children:"Let us know which chores you like or dislike. This can help with future chore assignments."})]}),u.jsxs(Ie,{className:"space-y-4",children:[c.length===0&&!r&&u.jsxs("div",{className:"text-center py-8 text-slate-500",children:[u.jsx("p",{children:"No chores available to set preferences for yet."}),u.jsx("p",{className:"text-sm mt-1",children:"Add some tasks first to set your preferences!"})]}),c.map(m=>u.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-lg hover:border-slate-300 transition-colors",children:[u.jsx(oe,{htmlFor:`pref-${m.id}`,className:"flex-grow pr-4 font-medium",children:m.name}),u.jsxs(Rt,{value:p(m.id),onValueChange:g=>d(m.id,g),children:[u.jsx(Nt,{id:`pref-${m.id}`,className:"w-[150px]",children:u.jsx(Dt,{placeholder:"Set preference"})}),u.jsxs(It,{children:[u.jsx(we,{value:"liked",children:"😊 Liked"}),u.jsx(we,{value:"neutral",children:"😐 Neutral"}),u.jsx(we,{value:"disliked",children:"😕 Disliked"})]})]})]},m.id)),c.length>0&&u.jsx("div",{className:"pt-4",children:u.jsx(q,{onClick:f,disabled:r,className:"w-full sm:w-auto",children:r?"Saving...":"Save Chore Preferences"})})]})]}),u.jsxs(Ne,{className:"border-none shadow-sm",children:[u.jsxs(Fe,{children:[u.jsx(Be,{children:"Additional Settings"}),u.jsx(st,{children:"More settings and preferences will be available here in future updates"})]}),u.jsx(Ie,{children:u.jsx("div",{className:"text-center py-8 text-slate-500",children:u.jsx("p",{children:"More settings coming soon..."})})})]})]})})})},pJ=t=>{if(!t)return"Uncategorized";const r=hN().find(n=>n.id===t);return r?r.label:"Uncategorized"},NN=({category:t,className:e="h-4 w-4"})=>{switch(t){case"food":return u.jsx(ST,{className:e});case"utilities":return u.jsx(Bg,{className:e});case"rent":return u.jsx(gT,{className:e});case"entertainment":return u.jsx(xT,{className:e});case"transportation":return u.jsx(ew,{className:e});case"groceries":return u.jsx(lr,{className:e});case"household":return u.jsx(Kf,{className:e});case"personal":return u.jsx(Yf,{className:e});case"medical":return u.jsx(bT,{className:e});case"other":default:return u.jsx(vT,{className:e})}},o$=({category:t})=>{if(!t)return null;const e=()=>{switch(t){case"food":return"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-300";case"utilities":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300";case"rent":return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-300";case"entertainment":return"bg-pink-100 text-pink-800 dark:bg-pink-900/20 dark:text-pink-300";case"transportation":return"bg-cyan-100 text-cyan-800 dark:bg-cyan-900/20 dark:text-cyan-300";case"groceries":return"bg-lime-100 text-lime-800 dark:bg-lime-900/20 dark:text-lime-300";case"household":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/20 dark:text-indigo-300";case"personal":return"bg-amber-100 text-amber-800 dark:bg-amber-900/20 dark:text-amber-300";case"medical":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";case"other":return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}};return u.jsxs("div",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${e()}`,children:[u.jsx(NN,{category:t,className:"h-3 w-3 mr-1"}),u.jsx("span",{children:pJ(t)})]})},Mze=()=>{const{user:t}=xr(),{members:e}=rj(),[r,n]=_.useState("balances"),[i,a]=_.useState([]),[o,s]=_.useState([]),[l,c]=_.useState([]),[d,f]=_.useState(!1),[h,p]=_.useState(""),[m,g]=_.useState(""),[v,y]=_.useState(""),[x,w]=_.useState(""),[S,E]=_.useState(!1),[T,A]=_.useState("all"),[C,N]=_.useState("all"),[I,P]=_.useState("all"),[k,O]=_.useState("all"),[L,z]=_.useState(void 0),[M,W]=_.useState(null);_.useEffect(()=>{XFe((t==null?void 0:t.id)||null)},[t]),_.useEffect(()=>{if(M){const K=le=>{le.target.closest(".category-menu-container")||W(null)};return document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}}},[M]),_.useEffect(()=>{$()},[]);const $=()=>{const K=y_();a(K);const le=BZ();s(le);const pe=QFe();c(pe)},B=K=>{const le=e.find(pe=>pe.name===K.to.userName);le&&y(le.id),p(K.amount.toFixed(2)),g(`Payment from ${K.from.userName} to ${K.to.userName}`),f(!0)},G=K=>{try{e7e(K),$(),console.log("Payment confirmed")}catch(le){console.error("Error confirming payment:",le)}},X=K=>{try{t7e(K),$(),console.log("Payment cancelled")}catch(le){console.error("Error cancelling payment:",le)}},Y=()=>{const K=parseFloat(h);if(isNaN(K)||K<=0){console.error("Invalid amount");return}if(!m.trim()){console.error("Description required");return}if(!v){console.error("Recipient required");return}const le=e.find(pe=>pe.id===v);if(!le){console.error("Recipient not found");return}try{JFe((t==null?void 0:t.id)||"current-user",(t==null?void 0:t.name)||"You",v,le.name,K,m,L),p(""),g(""),y(""),z(void 0),f(!1),$(),console.log("Payment recorded")}catch(pe){console.error("Error recording payment:",pe)}},ee=()=>{const K=e.filter(le=>le.id!==(t==null?void 0:t.id));if(K.length===0){console.error("No household members - Invite someone to your household to send them payments.");return}y(K[0].id),p(""),g(""),f(!0)},ce=o.find(K=>K.userName==="You"),de=(ce==null?void 0:ce.netBalance)&&ce.netBalance>0,_e=(ce==null?void 0:ce.netBalance)&&ce.netBalance<0,ge=l.filter(K=>K.from.userName==="You"||K.to.userName==="You"),Se=i.filter(K=>K.status==="pending");i.filter(K=>K.status==="completed");const se=i.filter(K=>{if(T!=="all"&&K.status!==T||C!=="all"&&K.type!==C||k!=="all"&&K.category!==k)return!1;if(I!=="all"){if(I==="sent"&&K.fromUserName!=="You")return!1;if(I==="received"&&K.toUserName!=="You")return!1}if(x.trim()){const le=x.toLowerCase();return K.description.toLowerCase().includes(le)||K.fromUserName.toLowerCase().includes(le)||K.toUserName.toLowerCase().includes(le)||`$${K.amount.toFixed(2)}`.includes(le)||K.category&&K.category.toLowerCase().includes(le)}return!0}),V=Se.filter(K=>{if(T!=="all"&&T!=="pending"||C!=="all"&&K.type!==C||k!=="all"&&K.category!==k)return!1;if(I!=="all"){if(I==="sent"&&K.fromUserName!=="You")return!1;if(I==="received"&&K.toUserName!=="You")return!1}if(x.trim()){const le=x.toLowerCase();return K.description.toLowerCase().includes(le)||K.fromUserName.toLowerCase().includes(le)||K.toUserName.toLowerCase().includes(le)||`$${K.amount.toFixed(2)}`.includes(le)||K.category&&K.category.toLowerCase().includes(le)}return!0}),Q=se.reduce((K,le)=>{const pe=new Date(le.timestamp).toDateString();return K[pe]||(K[pe]=[]),K[pe].push(le),K},{}),H=Object.keys(Q).sort((K,le)=>new Date(le).getTime()-new Date(K).getTime()),ve=V.length>0?{"Pending Transactions":V}:{},fe=()=>{w(""),A("all"),N("all"),P("all"),O("all"),E(!1)},te=()=>{if(i.length===0){console.log("No transactions to export");return}try{const pe=[["Date","Description","From","To","Amount","Status","Category"].join(","),...i.map(dr=>[er(new Date(dr.timestamp),"yyyy-MM-dd"),`"${dr.description.replace(/"/g,'""')}"`,dr.fromUserName,dr.toUserName,dr.amount.toFixed(2),dr.status,pJ(dr.category)].join(","))].join(`
`),ut=new Blob([pe],{type:"text/csv;charset=utf-8;"}),Wt=URL.createObjectURL(ut),wr=document.createElement("a");wr.href=Wt,wr.setAttribute("download",`ledger-transactions-${er(new Date,"yyyy-MM-dd")}.csv`),document.body.appendChild(wr),wr.click(),document.body.removeChild(wr),console.log("Export successful - Your transactions have been exported to CSV.")}catch(K){console.error("Export failed - There was a problem exporting your transactions.",K)}};o.filter(K=>K.userName!=="You");const re=(K,le)=>{try{r7e(K,le),W(null),$(),console.log("Category updated")}catch(pe){console.error("Error updating category",pe)}};return u.jsxs(ca,{children:[u.jsxs("div",{className:"px-[5vw] md:px-[8vw] lg:px-[10vw] py-6 md:py-8 pb-20 md:pb-24",children:[u.jsxs("header",{className:"mb-6 md:mb-8",children:[u.jsx("h1",{className:"text-[clamp(1.875rem,4vw,2.5rem)] font-bold mb-2 bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-green-600 dark:from-blue-400 dark:to-green-400",children:"Ledger"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Track expenses and settle debts with your household"})]}),u.jsx(Ne,{className:"mb-6 border border-gray-200 dark:border-gray-700 shadow-sm overflow-hidden",children:u.jsx(Ie,{className:"p-6",children:u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Your Balance"}),(ce==null?void 0:ce.netBalance)===0?u.jsxs("div",{className:"relative",children:[u.jsxs(Tn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,type:"spring"},className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:"$0.00"}),u.jsx(Tn.div,{initial:{opacity:0,scale:0,rotate:-45},animate:{opacity:1,scale:1,rotate:0},transition:{delay:.3,duration:.5,type:"spring"},className:"bg-green-500 dark:bg-green-600 text-white rounded-full p-1",children:u.jsx(ki,{className:"h-4 w-4"})})]}),u.jsx(Tn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5,duration:.3},className:"text-sm text-green-600 dark:text-green-400 mt-1",children:"All settled up! 🎉"})]}):u.jsxs("div",{className:"flex items-baseline",children:[u.jsx("span",{className:`text-2xl font-bold ${de?"text-green-600 dark:text-green-400":_e?"text-red-600 dark:text-red-400":"text-gray-800 dark:text-gray-200"}`,children:ce!=null&&ce.netBalance?`$${Math.abs(ce.netBalance).toFixed(2)}`:"$0.00"}),u.jsx("span",{className:"ml-2 text-sm text-gray-500",children:de?"owed to you":_e?"you owe":""})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(q,{onClick:ee,className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white",children:[u.jsx(Ja,{className:"mr-2 h-4 w-4"}),"Send Money"]}),u.jsx(q,{onClick:$,variant:"outline",className:"border-gray-200 dark:border-gray-700",children:u.jsx(_2,{className:"h-4 w-4"})})]})]})})}),ge.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h2",{className:"text-xl font-semibold mb-3 bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-green-500",children:"Recommended Payments"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-5",children:ge.map((K,le)=>u.jsxs(Ne,{className:"border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-shadow duration-200 flex flex-col overflow-hidden",children:[u.jsx("div",{className:`h-2 w-full ${K.from.userName==="You"?"bg-gradient-to-r from-amber-400 to-red-400":"bg-gradient-to-r from-green-400 to-teal-400"}`}),u.jsxs(Fe,{className:"p-4 pb-2",children:[u.jsxs(Be,{className:"text-lg font-semibold flex items-center justify-between",children:[K.from.userName==="You"?"You should pay":"Incoming payment",u.jsx(lt,{variant:K.from.userName==="You"?"destructive":"secondary",className:"ml-2",children:K.from.userName==="You"?"Outgoing":"Incoming"})]}),u.jsx(st,{className:"text-sm text-gray-500 dark:text-gray-400",children:K.from.userName==="You"?`You owe ${K.to.userName} money`:`${K.from.userName} owes you money`})]}),u.jsx(Ie,{className:"p-4 pt-2 flex-grow",children:u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(pn,{className:"h-8 w-8",children:u.jsx(mn,{className:`${K.from.userName==="You"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300"}`,children:K.from.userName==="You"?"Y":K.from.userName.charAt(0)})}),u.jsx(ij,{className:"h-4 w-4 mx-1 text-gray-400"}),u.jsx(pn,{className:"h-8 w-8",children:u.jsx(mn,{className:`${K.to.userName==="You"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300"}`,children:K.to.userName==="You"?"Y":K.to.userName.charAt(0)})})]}),u.jsxs("div",{className:"text-xl font-bold",children:["$",K.amount.toFixed(2)]})]})}),u.jsx(hr,{className:"p-3 pt-0 flex gap-2 justify-end border-t border-gray-100 dark:border-gray-800",children:K.from.userName==="You"?u.jsxs(u.Fragment,{children:[u.jsxs(q,{variant:"outline",size:"sm",className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",onClick:()=>{console.log("Reminder added")},children:[u.jsx(Tr,{className:"h-4 w-4 mr-1"}),"Remind me"]}),u.jsxs(q,{onClick:()=>B(K),size:"sm",className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white",children:[u.jsx(Ja,{className:"h-4 w-4 mr-1"}),"Pay now"]})]}):u.jsxs(q,{variant:"outline",size:"sm",className:"border-green-500 text-green-500 hover:bg-green-50 dark:hover:bg-green-900/20",onClick:()=>{console.log("Payment request sent")},children:[u.jsx(Ja,{className:"h-4 w-4 mr-1"}),"Request payment"]})})]},le))})]}),u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Transaction History"}),i.length>0&&u.jsxs(q,{variant:"outline",size:"sm",className:"h-8 text-xs border-gray-200 dark:border-gray-700",onClick:te,children:[u.jsx(OH,{className:"h-4 w-4 mr-1.5"}),"Export Transactions"]})]}),u.jsxs(bc,{value:r,onValueChange:n,children:[u.jsxs(Gs,{className:"bg-gray-100/50 dark:bg-gray-800/50 p-1 mb-4",children:[u.jsx(Jt,{value:"balances",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm",children:"Balances"}),u.jsxs(Jt,{value:"transactions",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm relative",children:["Transactions",V.length>0&&u.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 min-w-5 items-center justify-center rounded-full bg-yellow-500 dark:bg-yellow-600 text-[10px] text-white px-1 font-semibold",children:V.length})]})]}),u.jsx(Ir,{value:"balances",className:"mt-0",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:o.length>0?o.map(K=>u.jsx(Ne,{className:"border border-gray-200 dark:border-gray-700 shadow-sm flex flex-col",children:u.jsx(Ie,{className:"p-4 flex-grow",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(pn,{className:"h-10 w-10",children:u.jsx(mn,{className:`${K.userName==="You"?"bg-gradient-to-br from-blue-500 to-green-500 text-white":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}`,children:K.userName.charAt(0)})}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:K.userName}),u.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:K.userName==="You"?de?"Others owe you":_e?"You owe others":"All settled up":K.netBalance>0?`Owes you $${K.netBalance.toFixed(2)}`:K.netBalance<0?`You owe $${Math.abs(K.netBalance).toFixed(2)}`:"All settled up"})]})]}),u.jsx("div",{className:`text-lg font-semibold ${K.userName!=="You"&&K.netBalance>0?"text-green-600 dark:text-green-400":K.userName!=="You"&&K.netBalance<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-300"}`,children:K.userName!=="You"&&K.netBalance!==0&&`${K.netBalance>0?"+":""}$${K.netBalance.toFixed(2)}`})]})})},K.userId)):u.jsx(Ne,{className:"border border-dashed border-gray-200 dark:border-gray-700",children:u.jsxs(Ie,{className:"p-6 text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500/20 to-green-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:u.jsx(LH,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),u.jsx("h3",{className:"text-lg font-medium mb-2",children:"No balance information"}),u.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:"Start making transactions to track balances"})]})})})}),u.jsxs(Ir,{value:"transactions",className:"mt-0",children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"relative mb-3",children:[u.jsx(S2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),u.jsx(De,{placeholder:"Search transactions...",value:x,onChange:K=>w(K.target.value),className:"pl-9 pr-12"}),x&&u.jsx("button",{className:"absolute right-12 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>w(""),children:u.jsx(ra,{className:"h-4 w-4"})}),u.jsx("button",{className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${S?"text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>E(!S),children:u.jsx(H1e,{className:"h-4 w-4"})})]}),S&&u.jsx(Ne,{className:"mb-4 border border-gray-200 dark:border-gray-700 shadow-sm",children:u.jsxs(Ie,{className:"p-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-3",children:[u.jsx("h3",{className:"text-sm font-medium",children:"Filters"}),u.jsxs(q,{variant:"ghost",size:"sm",className:"text-xs h-7 px-2 text-blue-600 dark:text-blue-400",onClick:fe,children:[u.jsx(P1e,{className:"h-3.5 w-3.5 mr-1"}),"Reset filters"]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[u.jsxs("div",{children:[u.jsx(oe,{htmlFor:"status-filter",className:"text-xs mb-1.5",children:"Status"}),u.jsxs(Rt,{value:T,onValueChange:A,children:[u.jsx(Nt,{id:"status-filter",className:"h-8 text-xs",children:u.jsx(Dt,{placeholder:"Filter by status"})}),u.jsxs(It,{children:[u.jsx(we,{value:"all",children:"All Statuses"}),u.jsx(we,{value:"pending",children:"Pending"}),u.jsx(we,{value:"completed",children:"Completed"}),u.jsx(we,{value:"cancelled",children:"Cancelled"})]})]})]}),u.jsxs("div",{children:[u.jsx(oe,{htmlFor:"type-filter",className:"text-xs mb-1.5",children:"Type"}),u.jsxs(Rt,{value:C,onValueChange:N,children:[u.jsx(Nt,{id:"type-filter",className:"h-8 text-xs",children:u.jsx(Dt,{placeholder:"Filter by type"})}),u.jsxs(It,{children:[u.jsx(we,{value:"all",children:"All Types"}),u.jsx(we,{value:"payment",children:"Payments"}),u.jsx(we,{value:"expense",children:"Expenses"})]})]})]}),u.jsxs("div",{children:[u.jsx(oe,{htmlFor:"user-filter",className:"text-xs mb-1.5",children:"Direction"}),u.jsxs(Rt,{value:I,onValueChange:P,children:[u.jsx(Nt,{id:"user-filter",className:"h-8 text-xs",children:u.jsx(Dt,{placeholder:"Filter by user"})}),u.jsxs(It,{children:[u.jsx(we,{value:"all",children:"All Transactions"}),u.jsx(we,{value:"sent",children:"Sent by You"}),u.jsx(we,{value:"received",children:"Received by You"})]})]})]}),u.jsxs("div",{children:[u.jsx(oe,{htmlFor:"category-filter",className:"text-xs mb-1.5",children:"Category"}),u.jsxs(Rt,{value:k,onValueChange:O,children:[u.jsx(Nt,{id:"category-filter",className:"h-8 text-xs",children:u.jsx(Dt,{placeholder:"Filter by category"})}),u.jsxs(It,{children:[u.jsx(we,{value:"all",children:"All Categories"}),u.jsxs(we,{value:"food",className:"flex items-center",children:[u.jsx(ST,{className:"h-3.5 w-3.5 mr-2"}),u.jsx("span",{children:"Food & Dining"})]}),u.jsxs(we,{value:"groceries",className:"flex items-center",children:[u.jsx(lr,{className:"h-3.5 w-3.5 mr-2"}),u.jsx("span",{children:"Groceries"})]}),u.jsxs(we,{value:"household",className:"flex items-center",children:[u.jsx(Kf,{className:"h-3.5 w-3.5 mr-2"}),u.jsx("span",{children:"Household"})]}),u.jsxs(we,{value:"utilities",className:"flex items-center",children:[u.jsx(Bg,{className:"h-3.5 w-3.5 mr-2"}),u.jsx("span",{children:"Utilities"})]}),u.jsxs(we,{value:"rent",className:"flex items-center",children:[u.jsx(gT,{className:"h-3.5 w-3.5 mr-2"}),u.jsx("span",{children:"Rent & Mortgage"})]}),u.jsxs(we,{value:"transportation",className:"flex items-center",children:[u.jsx(ew,{className:"h-3.5 w-3.5 mr-2"}),u.jsx("span",{children:"Transportation"})]}),u.jsxs(we,{value:"entertainment",className:"flex items-center",children:[u.jsx(xT,{className:"h-3.5 w-3.5 mr-2"}),u.jsx("span",{children:"Entertainment"})]}),u.jsxs(we,{value:"personal",className:"flex items-center",children:[u.jsx(Yf,{className:"h-3.5 w-3.5 mr-2"}),u.jsx("span",{children:"Personal"})]}),u.jsxs(we,{value:"medical",className:"flex items-center",children:[u.jsx(bT,{className:"h-3.5 w-3.5 mr-2"}),u.jsx("span",{children:"Medical"})]}),u.jsxs(we,{value:"other",className:"flex items-center",children:[u.jsx(vT,{className:"h-3.5 w-3.5 mr-2"}),u.jsx("span",{children:"Other"})]})]})]})]})]})]})})]}),V.length>0&&u.jsx("div",{className:"mb-6 rounded-lg border border-yellow-200 dark:border-yellow-800 bg-yellow-50 dark:bg-yellow-900/20 p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-full bg-yellow-100 dark:bg-yellow-900/50",children:u.jsx(Tr,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium",children:"Pending Payments"}),u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["You have ",V.length," pending payment",V.length!==1?"s":""," that ",V.length!==1?"need":"needs"," attention"]})]})]})})]}),H.length>0||Se.length>0?u.jsxs("div",{className:"space-y-6",children:[Object.entries(ve).map(([K,le])=>u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-semibold mb-3 sticky top-0 bg-opacity-80 backdrop-blur-sm py-2 px-1 -mx-1 z-10 bg-gradient-to-r from-yellow-500/10 via-yellow-500/20 to-yellow-500/10 dark:from-yellow-900/20 dark:via-yellow-900/30 dark:to-yellow-900/20 border-b border-yellow-200 dark:border-yellow-800/50",children:[K," (",le.length,")"]}),u.jsx("div",{className:"space-y-3",children:le.map(pe=>u.jsxs(Ne,{className:`border shadow-sm ${pe.status==="pending"?"border-yellow-500/50 dark:border-yellow-400/40 ring-1 ring-yellow-400/30 dark:ring-yellow-500/30":"border-gray-200 dark:border-gray-700"} flex flex-col`,children:[pe.status==="pending"&&u.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-yellow-400 to-yellow-500"}),u.jsx(Ie,{className:`p-4 flex-grow ${pe.status==="pending"?"bg-yellow-50/50 dark:bg-yellow-900/10":""}`,children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:`p-2 rounded-full ${pe.type==="payment"?pe.status==="pending"?"bg-yellow-100 dark:bg-yellow-900/30":"bg-blue-100 dark:bg-blue-900/30":pe.type==="expense"?"bg-amber-100 dark:bg-amber-900/30":"bg-green-100 dark:bg-green-900/30"}`,children:pe.status==="pending"&&pe.type==="payment"?u.jsx(Tr,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"}):pe.type==="payment"?u.jsx(Ja,{className:`h-5 w-5 ${pe.fromUserName==="You"?"text-blue-600 dark:text-blue-400":"text-green-600 dark:text-green-400"}`}):pe.type==="expense"?u.jsx(w6,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"}):u.jsx(zo,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:pe.description}),u.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 mt-1",children:[u.jsx(Vu,{className:"h-3.5 w-3.5 mr-1"}),u.jsxs("span",{children:[er(new Date(pe.timestamp),"MMM d, yyyy")," · ",y6(new Date(pe.timestamp))," ago"]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[u.jsxs("div",{className:"flex items-center text-sm",children:[u.jsx("span",{className:"font-medium mr-1",children:"From:"}),u.jsx(pn,{className:"h-5 w-5 mr-1",children:u.jsx(mn,{className:"text-xs",children:pe.fromUserName.charAt(0)})}),u.jsx("span",{children:pe.fromUserName})]}),u.jsxs("div",{className:"flex items-center text-sm",children:[u.jsx("span",{className:"font-medium mr-1",children:"To:"}),u.jsx(pn,{className:"h-5 w-5 mr-1",children:u.jsx(mn,{className:"text-xs",children:pe.toUserName.charAt(0)})}),u.jsx("span",{children:pe.toUserName})]})]}),u.jsx("div",{className:"mt-2 flex items-center",children:u.jsxs("div",{className:"relative inline-block category-menu-container",children:[pe.category?u.jsx("div",{className:"cursor-pointer",onClick:ut=>{ut.stopPropagation(),W(M===pe.id?null:pe.id)},children:u.jsx(o$,{category:pe.category})}):u.jsxs(q,{variant:"outline",size:"sm",className:"h-6 px-2 text-xs",onClick:ut=>{ut.stopPropagation(),W(M===pe.id?null:pe.id)},children:[u.jsx(S6,{className:"h-3 w-3 mr-1"}),"Categorize"]}),M===pe.id&&u.jsxs("div",{className:"absolute top-full left-0 mt-1 z-50 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 p-2 w-48 category-menu-container",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2 px-2",children:[u.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Select a category"}),u.jsx("button",{onClick:ut=>{ut.stopPropagation(),W(null)},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:u.jsx(ra,{className:"h-3 w-3"})})]}),hN().map(ut=>u.jsxs("button",{className:"flex items-center gap-2 w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",onClick:Wt=>{Wt.stopPropagation(),re(pe.id,ut.id)},children:[u.jsx(NN,{category:ut.id,className:"h-3.5 w-3.5"}),u.jsx("span",{children:ut.label})]},ut.id))]})]})}),pe.status==="pending"&&pe.type==="payment"&&u.jsx("div",{className:"flex gap-2 mt-3",children:pe.fromUserName==="You"?u.jsxs(lt,{variant:"outline",className:"bg-yellow-50 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300",children:[u.jsx(Tr,{className:"h-3 w-3 mr-1"}),"Awaiting confirmation"]}):u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(q,{size:"sm",variant:"outline",className:"h-7 px-2 border-red-200 hover:border-red-300 dark:border-red-900 dark:hover:border-red-800",onClick:()=>X(pe.id),children:[u.jsx(ra,{className:"h-3 w-3 mr-1 text-red-600 dark:text-red-400"}),u.jsx("span",{className:"text-xs text-red-600 dark:text-red-400",children:"Decline"})]}),u.jsxs(q,{size:"sm",className:"h-7 px-2 bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white",onClick:()=>G(pe.id),children:[u.jsx(ki,{className:"h-3 w-3 mr-1"}),u.jsx("span",{className:"text-xs",children:"Confirm"})]})]})})]})]}),u.jsxs("div",{className:"flex flex-col items-end",children:[u.jsx("span",{className:`font-semibold ${pe.fromUserName==="You"?"text-red-600 dark:text-red-400":pe.toUserName==="You"?"text-green-600 dark:text-green-400":"text-gray-800 dark:text-gray-200"}`,children:pe.fromUserName==="You"?`-$${pe.amount.toFixed(2)}`:pe.toUserName==="You"?`+$${pe.amount.toFixed(2)}`:`$${pe.amount.toFixed(2)}`}),u.jsx(lt,{className:`mt-1 ${pe.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":pe.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300"}`,children:pe.status.charAt(0).toUpperCase()+pe.status.slice(1)})]})]})})]},pe.id))})]},K)),H.map(K=>u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-3 sticky top-0 bg-opacity-80 backdrop-blur-sm py-2 px-1 -mx-1 z-10 bg-gradient-to-r from-blue-500/5 via-green-500/5 to-blue-500/5 dark:from-blue-900/20 dark:via-green-900/20 dark:to-blue-900/20",children:er(new Date(K),"MMMM d, yyyy")}),u.jsx("div",{className:"space-y-3",children:Q[K].filter(le=>le.status!=="pending").map(le=>u.jsx(Ne,{className:"border shadow-sm border-gray-200 dark:border-gray-700 flex flex-col",children:u.jsx(Ie,{className:"p-4 flex-grow",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:`p-2 rounded-full ${le.type==="payment"?"bg-blue-100 dark:bg-blue-900/30":le.type==="expense"?"bg-amber-100 dark:bg-amber-900/30":"bg-green-100 dark:bg-green-900/30"}`,children:le.type==="payment"?u.jsx(Ja,{className:`h-5 w-5 ${le.fromUserName==="You"?"text-blue-600 dark:text-blue-400":"text-green-600 dark:text-green-400"}`}):le.type==="expense"?u.jsx(w6,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"}):u.jsx(zo,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:le.description}),u.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 mt-1",children:[u.jsx(Vu,{className:"h-3.5 w-3.5 mr-1"}),u.jsxs("span",{children:[er(new Date(le.timestamp),"MMM d, yyyy")," · ",y6(new Date(le.timestamp))," ago"]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[u.jsxs("div",{className:"flex items-center text-sm",children:[u.jsx("span",{className:"font-medium mr-1",children:"From:"}),u.jsx(pn,{className:"h-5 w-5 mr-1",children:u.jsx(mn,{className:"text-xs",children:le.fromUserName.charAt(0)})}),u.jsx("span",{children:le.fromUserName})]}),u.jsxs("div",{className:"flex items-center text-sm",children:[u.jsx("span",{className:"font-medium mr-1",children:"To:"}),u.jsx(pn,{className:"h-5 w-5 mr-1",children:u.jsx(mn,{className:"text-xs",children:le.toUserName.charAt(0)})}),u.jsx("span",{children:le.toUserName})]})]}),u.jsx("div",{className:"mt-2 flex items-center",children:u.jsxs("div",{className:"relative inline-block category-menu-container",children:[le.category?u.jsx("div",{className:"cursor-pointer",onClick:pe=>{pe.stopPropagation(),W(M===le.id?null:le.id)},children:u.jsx(o$,{category:le.category})}):u.jsxs(q,{variant:"outline",size:"sm",className:"h-6 px-2 text-xs",onClick:pe=>{pe.stopPropagation(),W(M===le.id?null:le.id)},children:[u.jsx(S6,{className:"h-3 w-3 mr-1"}),"Categorize"]}),M===le.id&&u.jsxs("div",{className:"absolute top-full left-0 mt-1 z-50 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 p-2 w-48 category-menu-container",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2 px-2",children:[u.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Select a category"}),u.jsx("button",{onClick:pe=>{pe.stopPropagation(),W(null)},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:u.jsx(ra,{className:"h-3 w-3"})})]}),hN().map(pe=>u.jsxs("button",{className:"flex items-center gap-2 w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",onClick:ut=>{ut.stopPropagation(),re(le.id,pe.id)},children:[u.jsx(NN,{category:pe.id,className:"h-3.5 w-3.5"}),u.jsx("span",{children:pe.label})]},pe.id))]})]})})]})]}),u.jsxs("div",{className:"flex flex-col items-end",children:[u.jsx("span",{className:`font-semibold ${le.fromUserName==="You"?"text-red-600 dark:text-red-400":le.toUserName==="You"?"text-green-600 dark:text-green-400":"text-gray-800 dark:text-gray-200"}`,children:le.fromUserName==="You"?`-$${le.amount.toFixed(2)}`:le.toUserName==="You"?`+$${le.amount.toFixed(2)}`:`$${le.amount.toFixed(2)}`}),u.jsx(lt,{className:`mt-1 ${le.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":le.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300"}`,children:le.status.charAt(0).toUpperCase()+le.status.slice(1)})]})]})})},le.id))})]},K))]}):u.jsx(Ne,{className:"border border-dashed border-gray-200 dark:border-gray-700",children:u.jsxs(Ie,{className:"p-6 text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500/20 to-green-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:u.jsx(I1e,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),u.jsx("h3",{className:"text-lg font-medium mb-2",children:"No transactions yet"}),u.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:"Start making payments or logging expenses"}),u.jsxs(q,{onClick:ee,className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white",children:[u.jsx(Ja,{className:"mr-2 h-4 w-4"}),"Send Money"]})]})})]})]})]}),u.jsx(cr,{open:d,onOpenChange:f,children:u.jsxs(rr,{className:"sm:max-w-md",children:[u.jsxs(nr,{children:[u.jsx(ir,{children:"Send Payment"}),u.jsx(xi,{children:"Create a payment to settle your balance."})]}),u.jsxs("div",{className:"space-y-4 py-2",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"recipient",children:"Recipient"}),u.jsxs(Rt,{value:v,onValueChange:y,children:[u.jsx(Nt,{children:u.jsx(Dt,{placeholder:"Select recipient"})}),u.jsx(It,{children:e.filter(K=>K.id!==(t==null?void 0:t.id)).length>0?e.filter(K=>K.id!==(t==null?void 0:t.id)).map(K=>u.jsx(we,{value:K.id,children:K.name},K.id)):u.jsxs("div",{className:"p-2 text-center text-sm text-muted-foreground",children:["No household members found.",u.jsx(q,{variant:"link",className:"p-0 h-auto font-normal text-blue-600 dark:text-blue-400",onClick:()=>{f(!1),window.location.href="#/profile"},children:"Invite someone to your household"})]})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"amount",children:"Amount"}),u.jsxs("div",{className:"relative",children:[u.jsx(zo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),u.jsx(De,{id:"amount",value:h,onChange:K=>p(K.target.value),className:"pl-9",placeholder:"0.00"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"description",children:"Description (optional)"}),u.jsx(De,{id:"description",value:m,onChange:K=>g(K.target.value),placeholder:"Payment for groceries, etc."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"category",children:"Category (optional)"}),u.jsxs(Rt,{value:L,onValueChange:K=>z(K),children:[u.jsx(Nt,{id:"category",className:"w-full",children:u.jsx(Dt,{placeholder:"Select a category"})}),u.jsxs(It,{children:[u.jsxs(we,{value:"food",className:"flex items-center gap-2",children:[u.jsx(ST,{className:"h-4 w-4"}),u.jsx("span",{children:"Food & Dining"})]}),u.jsxs(we,{value:"groceries",className:"flex items-center gap-2",children:[u.jsx(lr,{className:"h-4 w-4"}),u.jsx("span",{children:"Groceries"})]}),u.jsxs(we,{value:"household",className:"flex items-center gap-2",children:[u.jsx(Kf,{className:"h-4 w-4"}),u.jsx("span",{children:"Household"})]}),u.jsxs(we,{value:"utilities",className:"flex items-center gap-2",children:[u.jsx(Bg,{className:"h-4 w-4"}),u.jsx("span",{children:"Utilities"})]}),u.jsxs(we,{value:"rent",className:"flex items-center gap-2",children:[u.jsx(gT,{className:"h-4 w-4"}),u.jsx("span",{children:"Rent & Mortgage"})]}),u.jsxs(we,{value:"transportation",className:"flex items-center gap-2",children:[u.jsx(ew,{className:"h-4 w-4"}),u.jsx("span",{children:"Transportation"})]}),u.jsxs(we,{value:"entertainment",className:"flex items-center gap-2",children:[u.jsx(xT,{className:"h-4 w-4"}),u.jsx("span",{children:"Entertainment"})]}),u.jsxs(we,{value:"personal",className:"flex items-center gap-2",children:[u.jsx(Yf,{className:"h-4 w-4"}),u.jsx("span",{children:"Personal"})]}),u.jsxs(we,{value:"medical",className:"flex items-center gap-2",children:[u.jsx(bT,{className:"h-4 w-4"}),u.jsx("span",{children:"Medical"})]}),u.jsxs(we,{value:"other",className:"flex items-center gap-2",children:[u.jsx(vT,{className:"h-4 w-4"}),u.jsx("span",{children:"Other"})]})]})]})]})]}),u.jsxs(Jn,{className:"flex justify-between sm:justify-between gap-2",children:[u.jsx(q,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),u.jsxs(q,{onClick:Y,className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white",children:[u.jsx(Ja,{className:"mr-2 h-4 w-4"}),"Send Payment"]})]})]})})]})},Lze=()=>{const t=ns();return _.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),u.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function $ze(t){return t==null}var Fze=$ze;const dt=ct(Fze);var Bze=rl,Uze=ai,Vze=Eo,zze="[object String]";function Wze(t){return typeof t=="string"||!Uze(t)&&Vze(t)&&Bze(t)==zze}var Hze=Wze;const Ju=ct(Hze);var mJ={exports:{}},Ot={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n3=Symbol.for("react.element"),i3=Symbol.for("react.portal"),__=Symbol.for("react.fragment"),S_=Symbol.for("react.strict_mode"),E_=Symbol.for("react.profiler"),A_=Symbol.for("react.provider"),C_=Symbol.for("react.context"),Gze=Symbol.for("react.server_context"),T_=Symbol.for("react.forward_ref"),N_=Symbol.for("react.suspense"),I_=Symbol.for("react.suspense_list"),P_=Symbol.for("react.memo"),O_=Symbol.for("react.lazy"),qze=Symbol.for("react.offscreen"),gJ;gJ=Symbol.for("react.module.reference");function Ba(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case n3:switch(t=t.type,t){case __:case E_:case S_:case N_:case I_:return t;default:switch(t=t&&t.$$typeof,t){case Gze:case C_:case T_:case O_:case P_:case A_:return t;default:return e}}case i3:return e}}}Ot.ContextConsumer=C_;Ot.ContextProvider=A_;Ot.Element=n3;Ot.ForwardRef=T_;Ot.Fragment=__;Ot.Lazy=O_;Ot.Memo=P_;Ot.Portal=i3;Ot.Profiler=E_;Ot.StrictMode=S_;Ot.Suspense=N_;Ot.SuspenseList=I_;Ot.isAsyncMode=function(){return!1};Ot.isConcurrentMode=function(){return!1};Ot.isContextConsumer=function(t){return Ba(t)===C_};Ot.isContextProvider=function(t){return Ba(t)===A_};Ot.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===n3};Ot.isForwardRef=function(t){return Ba(t)===T_};Ot.isFragment=function(t){return Ba(t)===__};Ot.isLazy=function(t){return Ba(t)===O_};Ot.isMemo=function(t){return Ba(t)===P_};Ot.isPortal=function(t){return Ba(t)===i3};Ot.isProfiler=function(t){return Ba(t)===E_};Ot.isStrictMode=function(t){return Ba(t)===S_};Ot.isSuspense=function(t){return Ba(t)===N_};Ot.isSuspenseList=function(t){return Ba(t)===I_};Ot.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===__||t===E_||t===S_||t===N_||t===I_||t===qze||typeof t=="object"&&t!==null&&(t.$$typeof===O_||t.$$typeof===P_||t.$$typeof===A_||t.$$typeof===C_||t.$$typeof===T_||t.$$typeof===gJ||t.getModuleId!==void 0)};Ot.typeOf=Ba;mJ.exports=Ot;var Kze=mJ.exports,Yze=rl,Xze=Eo,Qze="[object Number]";function Zze(t){return typeof t=="number"||Xze(t)&&Yze(t)==Qze}var vJ=Zze;const Jze=ct(vJ);var eWe=vJ;function tWe(t){return eWe(t)&&t!=+t}var rWe=tWe;const hp=ct(rWe);var so=function(e){return e===0?0:e>0?1:-1},vu=function(e){return Ju(e)&&e.indexOf("%")===e.length-1},be=function(e){return Jze(e)&&!hp(e)},rn=function(e){return be(e)||Ju(e)},nWe=0,$0=function(e){var r=++nWe;return"".concat(e||"").concat(r)},ed=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!be(e)&&!Ju(e))return n;var a;if(vu(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return hp(a)&&(a=n),i&&a>r&&(a=r),a},Pl=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},iWe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Sa=function(e,r){return be(e)&&be(r)?function(n){return e+n*(r-e)}:function(){return r}};function jw(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Ia(n,e))===r})}var aWe=function(e,r){return be(e)&&be(r)?e-r:Ju(e)&&Ju(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Ef(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function IN(t){"@babel/helpers - typeof";return IN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IN(t)}var oWe=["viewBox","children"],sWe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],s$=["points","pathLength"],dA={svg:oWe,polygon:s$,polyline:s$},a3=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],kw=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(_.isValidElement(e)&&(n=e.props),!ep(n))return null;var i={};return Object.keys(n).forEach(function(a){a3.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},lWe=function(e,r,n){return function(i){return e(r,n,i),null}},Rw=function(e,r,n){if(!ep(e)||IN(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];a3.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=lWe(o,r,n))}),i},cWe=["children"],uWe=["children"];function l$(t,e){if(t==null)return{};var r=dWe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dWe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function PN(t){"@babel/helpers - typeof";return PN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PN(t)}var c$={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Os=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},u$=null,fA=null,o3=function t(e){if(e===u$&&Array.isArray(fA))return fA;var r=[];return _.Children.forEach(e,function(n){dt(n)||(Kze.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),fA=r,u$=e,r};function ho(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Os(i)}):n=[Os(e)],o3(t).forEach(function(i){var a=Ia(i,"type.displayName")||Ia(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Qi(t,e){var r=ho(t,e);return r&&r[0]}var d$=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!be(n)||n<=0||!be(i)||i<=0)},fWe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],hWe=function(e){return e&&e.type&&Ju(e.type)&&fWe.indexOf(e.type)>=0},pWe=function(e){return e&&PN(e)==="object"&&"clipDot"in e},mWe=function(e,r,n,i){var a,o=(a=dA==null?void 0:dA[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Xe(e)&&(i&&o.includes(r)||sWe.includes(r))||n&&a3.includes(r)},rt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(_.isValidElement(e)&&(i=e.props),!ep(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;mWe((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},ON=function t(e,r){if(e===r)return!0;var n=_.Children.count(e);if(n!==_.Children.count(r))return!1;if(n===0)return!0;if(n===1)return f$(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!f$(a,o))return!1}return!0},f$=function(e,r){if(dt(e)&&dt(r))return!0;if(!dt(e)&&!dt(r)){var n=e.props||{},i=n.children,a=l$(n,cWe),o=r.props||{},s=o.children,l=l$(o,uWe);return i&&s?Ef(a,l)&&ON(i,s):!i&&!s?Ef(a,l):!1}return!1},h$=function(e,r){var n=[],i={};return o3(e).forEach(function(a,o){if(hWe(a))n.push(a);else if(a){var s=Os(a.type),l=r[s]||{},c=l.handler,d=l.once;if(c&&(!d||!i[s])){var f=c(a,s,o);n.push(f),i[s]=!0}}}),n},gWe=function(e){var r=e&&e.type;return r&&c$[r]?c$[r]:null},vWe=function(e,r){return o3(r).indexOf(e)},yWe=["children","width","height","viewBox","className","style","title","desc"];function jN(){return jN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jN.apply(this,arguments)}function xWe(t,e){if(t==null)return{};var r=wWe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wWe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function kN(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,c=xWe(t,yWe),d=i||{width:r,height:n,x:0,y:0},f=pt("recharts-surface",a);return D.createElement("svg",jN({},rt(c,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),D.createElement("title",null,s),D.createElement("desc",null,l),e)}var bWe=["children","className"];function RN(){return RN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RN.apply(this,arguments)}function _We(t,e){if(t==null)return{};var r=SWe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function SWe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var mr=D.forwardRef(function(t,e){var r=t.children,n=t.className,i=_We(t,bWe),a=pt("recharts-layer",n);return D.createElement("g",RN({className:a},rt(i,!0),{ref:e}),r)}),js=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},EWe=nk;function AWe(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:EWe(t,e,r)}var CWe=AWe,TWe="\\ud800-\\udfff",NWe="\\u0300-\\u036f",IWe="\\ufe20-\\ufe2f",PWe="\\u20d0-\\u20ff",OWe=NWe+IWe+PWe,jWe="\\ufe0e\\ufe0f",kWe="\\u200d",RWe=RegExp("["+kWe+TWe+OWe+jWe+"]");function DWe(t){return RWe.test(t)}var yJ=DWe;function MWe(t){return t.split("")}var LWe=MWe,xJ="\\ud800-\\udfff",$We="\\u0300-\\u036f",FWe="\\ufe20-\\ufe2f",BWe="\\u20d0-\\u20ff",UWe=$We+FWe+BWe,VWe="\\ufe0e\\ufe0f",zWe="["+xJ+"]",DN="["+UWe+"]",MN="\\ud83c[\\udffb-\\udfff]",WWe="(?:"+DN+"|"+MN+")",wJ="[^"+xJ+"]",bJ="(?:\\ud83c[\\udde6-\\uddff]){2}",_J="[\\ud800-\\udbff][\\udc00-\\udfff]",HWe="\\u200d",SJ=WWe+"?",EJ="["+VWe+"]?",GWe="(?:"+HWe+"(?:"+[wJ,bJ,_J].join("|")+")"+EJ+SJ+")*",qWe=EJ+SJ+GWe,KWe="(?:"+[wJ+DN+"?",DN,bJ,_J,zWe].join("|")+")",YWe=RegExp(MN+"(?="+MN+")|"+KWe+qWe,"g");function XWe(t){return t.match(YWe)||[]}var QWe=XWe,ZWe=LWe,JWe=yJ,eHe=QWe;function tHe(t){return JWe(t)?eHe(t):ZWe(t)}var rHe=tHe,nHe=CWe,iHe=yJ,aHe=rHe,oHe=vQ;function sHe(t){return function(e){e=oHe(e);var r=iHe(e)?aHe(e):void 0,n=r?r[0]:e.charAt(0),i=r?nHe(r,1).join(""):e.slice(1);return n[t]()+i}}var lHe=sHe,cHe=lHe,uHe=cHe("toUpperCase"),dHe=uHe;const j_=ct(dHe);function Bt(t){return function(){return t}}const AJ=Math.cos,Dw=Math.sin,Ao=Math.sqrt,Mw=Math.PI,k_=2*Mw,LN=Math.PI,$N=2*LN,ou=1e-6,fHe=$N-ou;function CJ(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function hHe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return CJ;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class pHe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?CJ:hHe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-e,c=i-r,d=o-e,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>ou)if(!(Math.abs(f*l-c*d)>ou)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,m=i-s,g=l*l+c*c,v=p*p+m*m,y=Math.sqrt(g),x=Math.sqrt(h),w=a*Math.tan((LN-Math.acos((g+h-v)/(2*y*x)))/2),S=w/x,E=w/y;Math.abs(S-1)>ou&&this._append`L${e+S*d},${r+S*f}`,this._append`A${a},${a},0,0,${+(f*p>d*m)},${this._x1=e+E*l},${this._y1=r+E*c}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),c=e+s,d=r+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>ou||Math.abs(this._y1-d)>ou)&&this._append`L${c},${d}`,n&&(h<0&&(h=h%$N+$N),h>fHe?this._append`A${n},${n},0,1,${f},${e-s},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=d}`:h>ou&&this._append`A${n},${n},0,${+(h>=LN)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function s3(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new pHe(e)}function l3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function TJ(t){this._context=t}TJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function R_(t){return new TJ(t)}function NJ(t){return t[0]}function IJ(t){return t[1]}function PJ(t,e){var r=Bt(!0),n=null,i=R_,a=null,o=s3(s);t=typeof t=="function"?t:t===void 0?NJ:Bt(t),e=typeof e=="function"?e:e===void 0?IJ:Bt(e);function s(l){var c,d=(l=l3(l)).length,f,h=!1,p;for(n==null&&(a=i(p=o())),c=0;c<=d;++c)!(c<d&&r(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,c,l),+e(f,c,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Bt(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Bt(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Bt(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function t1(t,e,r){var n=null,i=Bt(!0),a=null,o=R_,s=null,l=s3(c);t=typeof t=="function"?t:t===void 0?NJ:Bt(+t),e=typeof e=="function"?e:Bt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?IJ:Bt(+r);function c(f){var h,p,m,g=(f=l3(f)).length,v,y=!1,x,w=new Array(g),S=new Array(g);for(a==null&&(s=o(x=l())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===y)if(y=!y)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(w[m],S[m]);s.lineEnd(),s.areaEnd()}y&&(w[h]=+t(v,h,f),S[h]=+e(v,h,f),s.point(n?+n(v,h,f):w[h],r?+r(v,h,f):S[h]))}if(x)return s=null,x+""||null}function d(){return PJ().defined(i).curve(o).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Bt(+f),n=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Bt(+f),c):t},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Bt(+f),c):n},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Bt(+f),r=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Bt(+f),c):e},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Bt(+f),c):r},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(r)},c.lineX1=function(){return d().x(n).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Bt(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),c):o},c.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),c):a},c}class OJ{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function mHe(t){return new OJ(t,!0)}function gHe(t){return new OJ(t,!1)}const c3={draw(t,e){const r=Ao(e/Mw);t.moveTo(r,0),t.arc(0,0,r,0,k_)}},vHe={draw(t,e){const r=Ao(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},jJ=Ao(1/3),yHe=jJ*2,xHe={draw(t,e){const r=Ao(e/yHe),n=r*jJ;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},wHe={draw(t,e){const r=Ao(e),n=-r/2;t.rect(n,n,r,r)}},bHe=.8908130915292852,kJ=Dw(Mw/10)/Dw(7*Mw/10),_He=Dw(k_/10)*kJ,SHe=-AJ(k_/10)*kJ,EHe={draw(t,e){const r=Ao(e*bHe),n=_He*r,i=SHe*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=k_*a/5,s=AJ(o),l=Dw(o);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},hA=Ao(3),AHe={draw(t,e){const r=-Ao(e/(hA*3));t.moveTo(0,r*2),t.lineTo(-hA*r,-r),t.lineTo(hA*r,-r),t.closePath()}},ga=-.5,va=Ao(3)/2,FN=1/Ao(12),CHe=(FN/2+1)*3,THe={draw(t,e){const r=Ao(e/CHe),n=r/2,i=r*FN,a=n,o=r*FN+r,s=-a,l=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(ga*n-va*i,va*n+ga*i),t.lineTo(ga*a-va*o,va*a+ga*o),t.lineTo(ga*s-va*l,va*s+ga*l),t.lineTo(ga*n+va*i,ga*i-va*n),t.lineTo(ga*a+va*o,ga*o-va*a),t.lineTo(ga*s+va*l,ga*l-va*s),t.closePath()}};function NHe(t,e){let r=null,n=s3(i);t=typeof t=="function"?t:Bt(t||c3),e=typeof e=="function"?e:Bt(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Bt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Bt(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Lw(){}function $w(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function RJ(t){this._context=t}RJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$w(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$w(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function IHe(t){return new RJ(t)}function DJ(t){this._context=t}DJ.prototype={areaStart:Lw,areaEnd:Lw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:$w(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function PHe(t){return new DJ(t)}function MJ(t){this._context=t}MJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:$w(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function OHe(t){return new MJ(t)}function LJ(t){this._context=t}LJ.prototype={areaStart:Lw,areaEnd:Lw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function jHe(t){return new LJ(t)}function p$(t){return t<0?-1:1}function m$(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(p$(a)+p$(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function g$(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function pA(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function Fw(t){this._context=t}Fw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pA(this,this._t0,g$(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,pA(this,g$(this,r=m$(this,t,e)),r);break;default:pA(this,this._t0,r=m$(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function $J(t){this._context=new FJ(t)}($J.prototype=Object.create(Fw.prototype)).point=function(t,e){Fw.prototype.point.call(this,e,t)};function FJ(t){this._context=t}FJ.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function kHe(t){return new Fw(t)}function RHe(t){return new $J(t)}function BJ(t){this._context=t}BJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=v$(t),i=v$(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function v$(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function DHe(t){return new BJ(t)}function D_(t,e){this._context=t,this._t=e}D_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function MHe(t){return new D_(t,.5)}function LHe(t){return new D_(t,0)}function $He(t){return new D_(t,1)}function dh(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function BN(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function FHe(t,e){return t[e]}function BHe(t){const e=[];return e.key=t,e}function UHe(){var t=Bt([]),e=BN,r=dh,n=FHe;function i(a){var o=Array.from(t.apply(this,arguments),BHe),s,l=o.length,c=-1,d;for(const f of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(f,o[s].key,c,a)]).data=f;for(s=0,d=l3(e(o));s<l;++s)o[d[s]].index=s;return r(o,d),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Bt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Bt(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?BN:typeof a=="function"?a:Bt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??dh,i):r},i}function VHe(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}dh(t,e)}}function zHe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}dh(t,e)}}function WHe(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,c=0;s<o;++s){for(var d=t[e[s]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,m=0;m<s;++m){var g=t[e[m]],v=g[n][1]||0,y=g[n-1][1]||0;p+=v-y}l+=f,c+=p*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,dh(t,e)}}function hv(t){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hv(t)}var HHe=["type","size","sizeType"];function UN(){return UN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UN.apply(this,arguments)}function y$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function x$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y$(Object(r),!0).forEach(function(n){GHe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GHe(t,e,r){return e=qHe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qHe(t){var e=KHe(t,"string");return hv(e)=="symbol"?e:e+""}function KHe(t,e){if(hv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YHe(t,e){if(t==null)return{};var r=XHe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function XHe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var UJ={symbolCircle:c3,symbolCross:vHe,symbolDiamond:xHe,symbolSquare:wHe,symbolStar:EHe,symbolTriangle:AHe,symbolWye:THe},QHe=Math.PI/180,ZHe=function(e){var r="symbol".concat(j_(e));return UJ[r]||c3},JHe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*QHe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},eGe=function(e,r){UJ["symbol".concat(j_(e))]=r},u3=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=YHe(e,HHe),c=x$(x$({},l),{},{type:n,size:a,sizeType:s}),d=function(){var v=ZHe(n),y=NHe().type(v).size(JHe(a,s,n));return y()},f=c.className,h=c.cx,p=c.cy,m=rt(c,!0);return h===+h&&p===+p&&a===+a?D.createElement("path",UN({},m,{className:pt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};u3.registerSymbol=eGe;function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function VN(){return VN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},VN.apply(this,arguments)}function w$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tGe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w$(Object(r),!0).forEach(function(n){pv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nGe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zJ(n.key),n)}}function iGe(t,e,r){return e&&nGe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aGe(t,e,r){return e=Bw(e),oGe(t,VJ()?Reflect.construct(e,r||[],Bw(t).constructor):e.apply(t,r))}function oGe(t,e){if(e&&(fh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sGe(t)}function sGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VJ=function(){return!!t})()}function Bw(t){return Bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bw(t)}function lGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zN(t,e)}function zN(t,e){return zN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zN(t,e)}function pv(t,e,r){return e=zJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zJ(t){var e=cGe(t,"string");return fh(e)=="symbol"?e:e+""}function cGe(t,e){if(fh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ga=32,d3=function(t){function e(){return rGe(this,e),aGe(this,e,arguments)}return lGe(e,t),iGe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Ga/2,o=Ga/6,s=Ga/3,l=n.inactive?i:n.color;if(n.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Ga,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Ga,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return D.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ga/8,"h").concat(Ga,"v").concat(Ga*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(D.isValidElement(n.legendIcon)){var c=tGe({},n);return delete c.legendIcon,D.cloneElement(n.legendIcon,c)}return D.createElement(u3,{fill:l,cx:a,cy:a,size:Ga,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:Ga,height:Ga},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,m){var g=p.formatter||l,v=pt(pv(pv({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Xe(p.value)?null:p.value;js(!Xe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?c:p.color;return D.createElement("li",VN({className:v,style:f,key:"legend-item-".concat(m)},Rw(n.props,p,m)),D.createElement(kN,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},g?g(y,p,m):y))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(_.PureComponent);pv(d3,"displayName","Legend");pv(d3,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function uGe(t){return t!==t}var dGe=uGe;function fGe(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var hGe=fGe,pGe=dQ,mGe=dGe,gGe=hGe;function vGe(t,e,r){return e===e?gGe(t,e,r):pGe(t,mGe,r)}var yGe=vGe,xGe=yGe;function wGe(t,e){var r=t==null?0:t.length;return!!r&&xGe(t,e,0)>-1}var bGe=wGe;function _Ge(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var SGe=_Ge;function EGe(){}var AGe=EGe,mA=sQ,CGe=AGe,TGe=bk,NGe=1/0,IGe=mA&&1/TGe(new mA([,-0]))[1]==NGe?function(t){return new mA(t)}:CGe,PGe=IGe,OGe=XX,jGe=bGe,kGe=SGe,RGe=ZX,DGe=PGe,MGe=bk,LGe=200;function $Ge(t,e,r){var n=-1,i=jGe,a=t.length,o=!0,s=[],l=s;if(r)o=!1,i=kGe;else if(a>=LGe){var c=e?null:DGe(t);if(c)return MGe(c);o=!1,i=RGe,l=new OGe}else l=e?[]:s;e:for(;++n<a;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(d)}else i(l,f,r)||(l!==s&&l.push(f),s.push(d))}return s}var FGe=$Ge,BGe=nl,UGe=FGe;function VGe(t,e){return t&&t.length?UGe(t,BGe(e)):[]}var zGe=VGe;const b$=ct(zGe);function WJ(t,e,r){return e===!0?b$(t,r):Xe(e)?b$(t,e):t}function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}var WGe=["ref"];function _$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ds(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_$(Object(r),!0).forEach(function(n){M_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GJ(n.key),n)}}function GGe(t,e,r){return e&&S$(t.prototype,e),r&&S$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qGe(t,e,r){return e=Uw(e),KGe(t,HJ()?Reflect.construct(e,r||[],Uw(t).constructor):e.apply(t,r))}function KGe(t,e){if(e&&(hh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YGe(t)}function YGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HJ=function(){return!!t})()}function Uw(t){return Uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uw(t)}function XGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WN(t,e)}function WN(t,e){return WN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WN(t,e)}function M_(t,e,r){return e=GJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GJ(t){var e=QGe(t,"string");return hh(e)=="symbol"?e:e+""}function QGe(t,e){if(hh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ZGe(t,e){if(t==null)return{};var r=JGe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JGe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eqe(t){return t.value}function tqe(t,e){if(D.isValidElement(t))return D.cloneElement(t,e);if(typeof t=="function")return D.createElement(t,e);e.ref;var r=ZGe(e,WGe);return D.createElement(d3,r)}var E$=1,Af=function(t){function e(){var r;HGe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=qGe(this,e,[].concat(i)),M_(r,"lastBoundingBox",{width:-1,height:-1}),r}return XGe(e,t),GGe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>E$||Math.abs(i.height-this.lastBoundingBox.height)>E$)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ds({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ds(ds({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,f=ds(ds({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return D.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},tqe(a,ds(ds({},this.props),{},{payload:WJ(d,c,eqe)})))}}],[{key:"getWithHeight",value:function(n,i){var a=ds(ds({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&be(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(_.PureComponent);M_(Af,"displayName","Legend");M_(Af,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});function mv(t){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mv(t)}function HN(){return HN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HN.apply(this,arguments)}function rqe(t,e){return oqe(t)||aqe(t,e)||iqe(t,e)||nqe()}function nqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iqe(t,e){if(t){if(typeof t=="string")return A$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A$(t,e)}}function A$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function aqe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function oqe(t){if(Array.isArray(t))return t}function C$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C$(Object(r),!0).forEach(function(n){sqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sqe(t,e,r){return e=lqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lqe(t){var e=cqe(t,"string");return mv(e)=="symbol"?e:e+""}function cqe(t,e){if(mv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uqe(t){return Array.isArray(t)&&rn(t[0])&&rn(t[1])?t.join(" ~ "):t}var dqe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,v=e.labelFormatter,y=e.accessibilityLayer,x=y===void 0?!1:y,w=function(){if(d&&d.length){var k={padding:0,margin:0},O=(h?s_(d,h):d).map(function(L,z){if(L.type==="none")return null;var M=gA({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},s),W=L.formatter||f||uqe,$=L.value,B=L.name,G=$,X=B;if(W&&G!=null&&X!=null){var Y=W($,B,L,z,d);if(Array.isArray(Y)){var ee=rqe(Y,2);G=ee[0],X=ee[1]}else G=Y}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:M},rn(X)?D.createElement("span",{className:"recharts-tooltip-item-name"},X):null,rn(X)?D.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,D.createElement("span",{className:"recharts-tooltip-item-value"},G),D.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:k},O)}return null},S=gA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=gA({margin:0},c),T=!dt(g),A=T?g:"",C=pt("recharts-default-tooltip",p),N=pt("recharts-tooltip-label",m);T&&v&&d!==void 0&&d!==null&&(A=v(g,d));var I=x?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",HN({className:C,style:S},I),D.createElement("p",{className:N,style:E},D.isValidElement(A)?A:"".concat(A)),w())};function gv(t){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gv(t)}function r1(t,e,r){return e=fqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fqe(t){var e=hqe(t,"string");return gv(e)=="symbol"?e:e+""}function hqe(t,e){if(gv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var om="recharts-tooltip-wrapper",pqe={visibility:"hidden"};function mqe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return pt(om,r1(r1(r1(r1({},"".concat(om,"-right"),be(r)&&e&&be(e.x)&&r>=e.x),"".concat(om,"-left"),be(r)&&e&&be(e.x)&&r<e.x),"".concat(om,"-bottom"),be(n)&&e&&be(e.y)&&n>=e.y),"".concat(om,"-top"),be(n)&&e&&be(e.y)&&n<e.y))}function T$(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&be(a[n]))return a[n];var d=r[n]-s-i,f=r[n]+i;if(e[n])return o[n]?d:f;if(o[n]){var h=d,p=l[n];return h<p?Math.max(f,l[n]):Math.max(d,l[n])}var m=f+s,g=l[n]+c;return m>g?Math.max(d,l[n]):Math.max(f,l[n])}function gqe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function vqe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,d,f;return o.height>0&&o.width>0&&r?(d=T$({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=T$({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=gqe({translateX:d,translateY:f,useTranslate3d:s})):c=pqe,{cssProperties:c,cssClasses:mqe({translateX:d,translateY:f,coordinate:r})}}function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function N$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function I$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N$(Object(r),!0).forEach(function(n){qN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xqe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KJ(n.key),n)}}function wqe(t,e,r){return e&&xqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bqe(t,e,r){return e=Vw(e),_qe(t,qJ()?Reflect.construct(e,r||[],Vw(t).constructor):e.apply(t,r))}function _qe(t,e){if(e&&(ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sqe(t)}function Sqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qJ=function(){return!!t})()}function Vw(t){return Vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vw(t)}function Eqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GN(t,e)}function GN(t,e){return GN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GN(t,e)}function qN(t,e,r){return e=KJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KJ(t){var e=Aqe(t,"string");return ph(e)=="symbol"?e:e+""}function Aqe(t,e){if(ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var P$=1,Cqe=function(t){function e(){var r;yqe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=bqe(this,e,[].concat(i)),qN(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),qN(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),r}return Eqe(e,t),wqe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>P$||Math.abs(n.height-this.state.lastBoundingBox.height)>P$)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,v=i.useTranslate3d,y=i.viewBox,x=i.wrapperStyle,w=vqe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),S=w.cssClasses,E=w.cssProperties,T=I$(I$({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return D.createElement("div",{tabIndex:-1,className:S,style:T,ref:function(C){n.wrapperNode=C}},c)}}])}(_.PureComponent),Tqe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},pp={isSsr:Tqe()};function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function O$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function j$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O$(Object(r),!0).forEach(function(n){f3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iqe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XJ(n.key),n)}}function Pqe(t,e,r){return e&&Iqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oqe(t,e,r){return e=zw(e),jqe(t,YJ()?Reflect.construct(e,r||[],zw(t).constructor):e.apply(t,r))}function jqe(t,e){if(e&&(mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kqe(t)}function kqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YJ=function(){return!!t})()}function zw(t){return zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zw(t)}function Rqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KN(t,e)}function KN(t,e){return KN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KN(t,e)}function f3(t,e,r){return e=XJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XJ(t){var e=Dqe(t,"string");return mh(e)=="symbol"?e:e+""}function Dqe(t,e){if(mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Mqe(t){return t.dataKey}function Lqe(t,e){return D.isValidElement(t)?D.cloneElement(t,e):typeof t=="function"?D.createElement(t,e):D.createElement(dqe,e)}var Oo=function(t){function e(){return Nqe(this,e),Oqe(this,e,arguments)}return Rqe(e,t),Pqe(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,v=i.position,y=i.reverseDirection,x=i.useTranslate3d,w=i.viewBox,S=i.wrapperStyle,E=m??[];f&&E.length&&(E=WJ(m.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),g,Mqe));var T=E.length>0;return D.createElement(Cqe,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:d,hasPayload:T,offset:p,position:v,reverseDirection:y,useTranslate3d:x,viewBox:w,wrapperStyle:S},Lqe(c,j$(j$({},this.props),{},{payload:E})))}}])}(_.PureComponent);f3(Oo,"displayName","Tooltip");f3(Oo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!pp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var $qe=So,Fqe=function(){return $qe.Date.now()},Bqe=Fqe,Uqe=$a,vA=Bqe,k$=kX,Vqe="Expected a function",zqe=Math.max,Wqe=Math.min;function Hqe(t,e,r){var n,i,a,o,s,l,c=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Vqe);e=k$(e)||0,Uqe(r)&&(d=!!r.leading,f="maxWait"in r,a=f?zqe(k$(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function p(T){var A=n,C=i;return n=i=void 0,c=T,o=t.apply(C,A),o}function m(T){return c=T,s=setTimeout(y,e),d?p(T):o}function g(T){var A=T-l,C=T-c,N=e-A;return f?Wqe(N,a-C):N}function v(T){var A=T-l,C=T-c;return l===void 0||A>=e||A<0||f&&C>=a}function y(){var T=vA();if(v(T))return x(T);s=setTimeout(y,g(T))}function x(T){return s=void 0,h&&n?p(T):(n=i=void 0,o)}function w(){s!==void 0&&clearTimeout(s),c=0,n=l=i=s=void 0}function S(){return s===void 0?o:x(vA())}function E(){var T=vA(),A=v(T);if(n=arguments,i=this,l=T,A){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(y,e),p(l)}return s===void 0&&(s=setTimeout(y,e)),o}return E.cancel=w,E.flush=S,E}var Gqe=Hqe,qqe=Gqe,Kqe=$a,Yqe="Expected a function";function Xqe(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(Yqe);return Kqe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),qqe(t,e,{leading:n,maxWait:e,trailing:i})}var Qqe=Xqe;const QJ=ct(Qqe);function vv(t){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vv(t)}function R$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function n1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R$(Object(r),!0).forEach(function(n){Zqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zqe(t,e,r){return e=Jqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jqe(t){var e=eKe(t,"string");return vv(e)=="symbol"?e:e+""}function eKe(t,e){if(vv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tKe(t,e){return aKe(t)||iKe(t,e)||nKe(t,e)||rKe()}function rKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nKe(t,e){if(t){if(typeof t=="string")return D$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D$(t,e)}}function D$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iKe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function aKe(t){if(Array.isArray(t))return t}var oKe=_.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,d=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,v=t.id,y=t.className,x=t.onResize,w=t.style,S=w===void 0?{}:w,E=_.useRef(null),T=_.useRef();T.current=x,_.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var A=_.useState({containerWidth:i.width,containerHeight:i.height}),C=tKe(A,2),N=C[0],I=C[1],P=_.useCallback(function(O,L){I(function(z){var M=Math.round(O),W=Math.round(L);return z.containerWidth===M&&z.containerHeight===W?z:{containerWidth:M,containerHeight:W}})},[]);_.useEffect(function(){var O=function(B){var G,X=B[0].contentRect,Y=X.width,ee=X.height;P(Y,ee),(G=T.current)===null||G===void 0||G.call(T,Y,ee)};g>0&&(O=QJ(O,g,{trailing:!0,leading:!1}));var L=new ResizeObserver(O),z=E.current.getBoundingClientRect(),M=z.width,W=z.height;return P(M,W),L.observe(E.current),function(){L.disconnect()}},[P,g]);var k=_.useMemo(function(){var O=N.containerWidth,L=N.containerHeight;if(O<0||L<0)return null;js(vu(o)||vu(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),js(!r||r>0,"The aspect(%s) must be greater than zero.",r);var z=vu(o)?O:o,M=vu(l)?L:l;r&&r>0&&(z?M=z/r:M&&(z=M*r),h&&M>h&&(M=h)),js(z>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,M,o,l,d,f,r);var W=!Array.isArray(p)&&Os(p.type).endsWith("Chart");return D.Children.map(p,function($){return D.isValidElement($)?_.cloneElement($,n1({width:z,height:M},W?{style:n1({height:"100%",width:"100%",maxHeight:M,maxWidth:z},$.props.style)}:{})):$})},[r,p,l,h,f,d,N,o]);return D.createElement("div",{id:v?"".concat(v):void 0,className:pt("recharts-responsive-container",y),style:n1(n1({},S),{},{width:o,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:E},k)}),ZJ=function(e){return null};ZJ.displayName="Cell";function yv(t){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yv(t)}function M$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M$(Object(r),!0).forEach(function(n){sKe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sKe(t,e,r){return e=lKe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lKe(t){var e=cKe(t,"string");return yv(e)=="symbol"?e:e+""}function cKe(t,e){if(yv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pd={widthCache:{},cacheCount:0},uKe=2e3,dKe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},L$="recharts_measurement_span";function fKe(t){var e=YN({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var og=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||pp.isSsr)return{width:0,height:0};var n=fKe(r),i=JSON.stringify({text:e,copyStyle:n});if(Pd.widthCache[i])return Pd.widthCache[i];try{var a=document.getElementById(L$);a||(a=document.createElement("span"),a.setAttribute("id",L$),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=YN(YN({},dKe),n);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Pd.widthCache[i]=l,++Pd.cacheCount>uKe&&(Pd.cacheCount=0,Pd.widthCache={}),l}catch{return{width:0,height:0}}},hKe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function xv(t){"@babel/helpers - typeof";return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xv(t)}function Ww(t,e){return vKe(t)||gKe(t,e)||mKe(t,e)||pKe()}function pKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mKe(t,e){if(t){if(typeof t=="string")return $$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $$(t,e)}}function $$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gKe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function vKe(t){if(Array.isArray(t))return t}function yKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wKe(n.key),n)}}function xKe(t,e,r){return e&&F$(t.prototype,e),r&&F$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wKe(t){var e=bKe(t,"string");return xv(e)=="symbol"?e:e+""}function bKe(t,e){if(xv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var B$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,U$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_Ke=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,SKe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,JJ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},EKe=Object.keys(JJ),of="NaN";function AKe(t,e){return t*JJ[e]}var i1=function(){function t(e,r){yKe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!_Ke.test(r)&&(this.num=NaN,this.unit=""),EKe.includes(r)&&(this.num=AKe(e,r),this.unit="px")}return xKe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=SKe.exec(r))!==null&&n!==void 0?n:[],a=Ww(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function eee(t){if(t.includes(of))return of;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=B$.exec(e))!==null&&r!==void 0?r:[],i=Ww(n,4),a=i[1],o=i[2],s=i[3],l=i1.parse(a??""),c=i1.parse(s??""),d=o==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return of;e=e.replace(B$,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=U$.exec(e))!==null&&f!==void 0?f:[],p=Ww(h,4),m=p[1],g=p[2],v=p[3],y=i1.parse(m??""),x=i1.parse(v??""),w=g==="+"?y.add(x):y.subtract(x);if(w.isNaN())return of;e=e.replace(U$,w.toString())}return e}var V$=/\(([^()]*)\)/;function CKe(t){for(var e=t;e.includes("(");){var r=V$.exec(e),n=Ww(r,2),i=n[1];e=e.replace(V$,eee(i))}return e}function TKe(t){var e=t.replace(/\s+/g,"");return e=CKe(e),e=eee(e),e}function NKe(t){try{return TKe(t)}catch{return of}}function yA(t){var e=NKe(t.slice(5,-1));return e===of?"":e}var IKe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],PKe=["dx","dy","angle","className","breakAll"];function XN(){return XN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XN.apply(this,arguments)}function z$(t,e){if(t==null)return{};var r=OKe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function OKe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function W$(t,e){return DKe(t)||RKe(t,e)||kKe(t,e)||jKe()}function jKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kKe(t,e){if(t){if(typeof t=="string")return H$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H$(t,e)}}function H$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function RKe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function DKe(t){if(Array.isArray(t))return t}var tee=/[ \f\n\r\t\v\u2028\u2029]+/,ree=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];dt(r)||(n?a=r.toString().split(""):a=r.toString().split(tee));var o=a.map(function(l){return{word:l,width:og(l,i).width}}),s=n?0:og(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},MKe=function(e,r,n,i,a){var o=e.maxLines,s=e.children,l=e.style,c=e.breakAll,d=be(o),f=s,h=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(M,W){var $=W.word,B=W.width,G=M[M.length-1];if(G&&(i==null||a||G.width+B+n<Number(i)))G.words.push($),G.width+=B+n;else{var X={words:[$],width:B};M.push(X)}return M},[])},p=h(r),m=function(z){return z.reduce(function(M,W){return M.width>W.width?M:W})};if(!d)return p;for(var g="…",v=function(z){var M=f.slice(0,z),W=ree({breakAll:c,style:l,children:M+g}).wordsWithComputedWidth,$=h(W),B=$.length>o||m($).width>Number(i);return[B,$]},y=0,x=f.length-1,w=0,S;y<=x&&w<=f.length-1;){var E=Math.floor((y+x)/2),T=E-1,A=v(T),C=W$(A,2),N=C[0],I=C[1],P=v(E),k=W$(P,1),O=k[0];if(!N&&!O&&(y=E+1),N&&O&&(x=E-1),!N&&O){S=I;break}w++}return S||p},G$=function(e){var r=dt(e)?[]:e.toString().split(tee);return[{words:r}]},LKe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((r||n)&&!pp.isSsr){var l,c,d=ree({breakAll:o,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,c=h}else return G$(i);return MKe({breakAll:o,children:i,maxLines:s,style:a},l,c,r,n)}return G$(i)},q$="#808080",Hw=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,m=e.verticalAnchor,g=m===void 0?"end":m,v=e.fill,y=v===void 0?q$:v,x=z$(e,IKe),w=_.useMemo(function(){return LKe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),S=x.dx,E=x.dy,T=x.angle,A=x.className,C=x.breakAll,N=z$(x,PKe);if(!rn(n)||!rn(a))return null;var I=n+(be(S)?S:0),P=a+(be(E)?E:0),k;switch(g){case"start":k=yA("calc(".concat(c,")"));break;case"middle":k=yA("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:k=yA("calc(".concat(w.length-1," * -").concat(s,")"));break}var O=[];if(f){var L=w[0].width,z=x.width;O.push("scale(".concat((be(z)?z/L:1)/L,")"))}return T&&O.push("rotate(".concat(T,", ").concat(I,", ").concat(P,")")),O.length&&(N.transform=O.join(" ")),D.createElement("text",XN({},rt(N,!0),{x:I,y:P,className:pt("recharts-text",A),textAnchor:p,fill:y.includes("url")?q$:y}),w.map(function(M,W){var $=M.words.join(C?"":" ");return D.createElement("tspan",{x:I,dy:W===0?k:s,key:"".concat($,"-").concat(W)},$)}))};function nc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $Ke(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function h3(t){let e,r,n;t.length!==2?(e=nc,r=(s,l)=>nc(t(s),l),n=(s,l)=>t(s)-l):(e=t===nc||t===$Ke?t:FKe,r=t,n=t);function i(s,l,c=0,d=s.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;r(s[f],l)<0?c=f+1:d=f}while(c<d)}return c}function a(s,l,c=0,d=s.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;r(s[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function o(s,l,c=0,d=s.length){const f=i(s,l,c,d-1);return f>c&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function FKe(){return 0}function nee(t){return t===null?NaN:+t}function*BKe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const UKe=h3(nc),F0=UKe.right;h3(nee).center;class K$ extends Map{constructor(e,r=WKe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(Y$(this,e))}has(e){return super.has(Y$(this,e))}set(e,r){return super.set(VKe(this,e),r)}delete(e){return super.delete(zKe(this,e))}}function Y$({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function VKe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function zKe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function WKe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function HKe(t=nc){if(t===nc)return iee;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function iee(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const GKe=Math.sqrt(50),qKe=Math.sqrt(10),KKe=Math.sqrt(2);function Gw(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=GKe?10:a>=qKe?5:a>=KKe?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=r&&r<2?Gw(t,e,r*2):[s,l,c]}function QN(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?Gw(e,t,r):Gw(t,e,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function ZN(t,e,r){return e=+e,t=+t,r=+r,Gw(t,e,r)[2]}function JN(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?ZN(e,t,r):ZN(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function X$(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Q$(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function aee(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?iee:HKe(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(e-c*f/l+h)),m=Math.min(n,Math.floor(e+(l-c)*f/l+h));aee(t,e,p,m,i)}const a=t[e];let o=r,s=n;for(sm(t,r,e),i(t[n],a)>0&&sm(t,r,n);o<s;){for(sm(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?sm(t,r,s):(++s,sm(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function sm(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function YKe(t,e,r){if(t=Float64Array.from(BKe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return Q$(t);if(e>=1)return X$(t);var n,i=(n-1)*e,a=Math.floor(i),o=X$(aee(t,a).subarray(0,a+1)),s=Q$(t.subarray(a+1));return o+(s-o)*(i-a)}}function XKe(t,e,r=nee){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function QKe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Ua(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function il(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const eI=Symbol("implicit");function p3(){var t=new K$,e=[],r=[],n=eI;function i(a){let o=t.get(a);if(o===void 0){if(n!==eI)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new K$;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return p3(e,r).unknown(n)},Ua.apply(i,arguments),i}function wv(){var t=p3().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,l=0,c=0,d=.5;delete t.unknown;function f(){var h=e().length,p=i<n,m=p?i:n,g=p?n:i;a=(g-m)/Math.max(1,h-l+c*2),s&&(a=Math.floor(a)),m+=(g-m-a*(h-l))*d,o=a*(1-l),s&&(m=Math.round(m),o=Math.round(o));var v=QKe(h).map(function(y){return m+a*y});return r(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return wv(e(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(d)},Ua.apply(f(),arguments)}function oee(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return oee(e())},t}function sg(){return oee(wv.apply(null,arguments).paddingInner(1))}function m3(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function see(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function B0(){}var bv=.7,qw=1/bv,Cf="\\s*([+-]?\\d+)\\s*",_v="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ZKe=/^#([0-9a-f]{3,8})$/,JKe=new RegExp(`^rgb\\(${Cf},${Cf},${Cf}\\)$`),eYe=new RegExp(`^rgb\\(${qo},${qo},${qo}\\)$`),tYe=new RegExp(`^rgba\\(${Cf},${Cf},${Cf},${_v}\\)$`),rYe=new RegExp(`^rgba\\(${qo},${qo},${qo},${_v}\\)$`),nYe=new RegExp(`^hsl\\(${_v},${qo},${qo}\\)$`),iYe=new RegExp(`^hsla\\(${_v},${qo},${qo},${_v}\\)$`),Z$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};m3(B0,Sv,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:J$,formatHex:J$,formatHex8:aYe,formatHsl:oYe,formatRgb:e9,toString:e9});function J$(){return this.rgb().formatHex()}function aYe(){return this.rgb().formatHex8()}function oYe(){return lee(this).formatHsl()}function e9(){return this.rgb().formatRgb()}function Sv(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=ZKe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?t9(e):r===3?new Ri(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?a1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?a1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=JKe.exec(t))?new Ri(e[1],e[2],e[3],1):(e=eYe.exec(t))?new Ri(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=tYe.exec(t))?a1(e[1],e[2],e[3],e[4]):(e=rYe.exec(t))?a1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=nYe.exec(t))?i9(e[1],e[2]/100,e[3]/100,1):(e=iYe.exec(t))?i9(e[1],e[2]/100,e[3]/100,e[4]):Z$.hasOwnProperty(t)?t9(Z$[t]):t==="transparent"?new Ri(NaN,NaN,NaN,0):null}function t9(t){return new Ri(t>>16&255,t>>8&255,t&255,1)}function a1(t,e,r,n){return n<=0&&(t=e=r=NaN),new Ri(t,e,r,n)}function sYe(t){return t instanceof B0||(t=Sv(t)),t?(t=t.rgb(),new Ri(t.r,t.g,t.b,t.opacity)):new Ri}function tI(t,e,r,n){return arguments.length===1?sYe(t):new Ri(t,e,r,n??1)}function Ri(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}m3(Ri,tI,see(B0,{brighter(t){return t=t==null?qw:Math.pow(qw,t),new Ri(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?bv:Math.pow(bv,t),new Ri(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ri(Iu(this.r),Iu(this.g),Iu(this.b),Kw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:r9,formatHex:r9,formatHex8:lYe,formatRgb:n9,toString:n9}));function r9(){return`#${yu(this.r)}${yu(this.g)}${yu(this.b)}`}function lYe(){return`#${yu(this.r)}${yu(this.g)}${yu(this.b)}${yu((isNaN(this.opacity)?1:this.opacity)*255)}`}function n9(){const t=Kw(this.opacity);return`${t===1?"rgb(":"rgba("}${Iu(this.r)}, ${Iu(this.g)}, ${Iu(this.b)}${t===1?")":`, ${t})`}`}function Kw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Iu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function yu(t){return t=Iu(t),(t<16?"0":"")+t.toString(16)}function i9(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new io(t,e,r,n)}function lee(t){if(t instanceof io)return new io(t.h,t.s,t.l,t.opacity);if(t instanceof B0||(t=Sv(t)),!t)return new io;if(t instanceof io)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new io(o,s,l,t.opacity)}function cYe(t,e,r,n){return arguments.length===1?lee(t):new io(t,e,r,n??1)}function io(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}m3(io,cYe,see(B0,{brighter(t){return t=t==null?qw:Math.pow(qw,t),new io(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?bv:Math.pow(bv,t),new io(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Ri(xA(t>=240?t-240:t+120,i,n),xA(t,i,n),xA(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new io(a9(this.h),o1(this.s),o1(this.l),Kw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Kw(this.opacity);return`${t===1?"hsl(":"hsla("}${a9(this.h)}, ${o1(this.s)*100}%, ${o1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function a9(t){return t=(t||0)%360,t<0?t+360:t}function o1(t){return Math.max(0,Math.min(1,t||0))}function xA(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const g3=t=>()=>t;function uYe(t,e){return function(r){return t+r*e}}function dYe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function fYe(t){return(t=+t)==1?cee:function(e,r){return r-e?dYe(e,r,t):g3(isNaN(e)?r:e)}}function cee(t,e){var r=e-t;return r?uYe(t,r):g3(isNaN(t)?e:t)}const o9=function t(e){var r=fYe(e);function n(i,a){var o=r((i=tI(i)).r,(a=tI(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),c=cee(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=s(d),i.b=l(d),i.opacity=c(d),i+""}}return n.gamma=t,n}(1);function hYe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function pYe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function mYe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=mp(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function gYe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Yw(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function vYe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=mp(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var rI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wA=new RegExp(rI.source,"g");function yYe(t){return function(){return t}}function xYe(t){return function(e){return t(e)+""}}function wYe(t,e){var r=rI.lastIndex=wA.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(n=rI.exec(t))&&(i=wA.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Yw(n,i)})),r=wA.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?xYe(l[0].x):yYe(e):(e=l.length,function(c){for(var d=0,f;d<e;++d)s[(f=l[d]).i]=f.x(c);return s.join("")})}function mp(t,e){var r=typeof e,n;return e==null||r==="boolean"?g3(e):(r==="number"?Yw:r==="string"?(n=Sv(e))?(e=n,o9):wYe:e instanceof Sv?o9:e instanceof Date?gYe:pYe(e)?hYe:Array.isArray(e)?mYe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?vYe:Yw)(t,e)}function v3(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function bYe(t,e){e===void 0&&(e=t,t=mp);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function _Ye(t){return function(){return t}}function Xw(t){return+t}var s9=[0,1];function gi(t){return t}function nI(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:_Ye(isNaN(e)?NaN:.5)}function SYe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function EYe(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=nI(i,n),a=r(o,a)):(n=nI(n,i),a=r(a,o)),function(s){return a(n(s))}}function AYe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=nI(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var l=F0(t,s,1,n)-1;return a[l](i[l](s))}}function U0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function L_(){var t=s9,e=s9,r=mp,n,i,a,o=gi,s,l,c;function d(){var h=Math.min(t.length,e.length);return o!==gi&&(o=SYe(t[0],t[h-1])),s=h>2?AYe:EYe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(n),e,r)))(n(o(h)))}return f.invert=function(h){return o(i((c||(c=s(e,t.map(n),Yw)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Xw),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=v3,d()},f.clamp=function(h){return arguments.length?(o=h?!0:gi,d()):o!==gi},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,i=p,d()}}function y3(){return L_()(gi,gi)}function CYe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Qw(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function gh(t){return t=Qw(Math.abs(t)),t?t[1]:NaN}function TYe(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function NYe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var IYe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ev(t){if(!(e=IYe.exec(t)))throw new Error("invalid format: "+t);var e;return new x3({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ev.prototype=x3.prototype;function x3(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}x3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function PYe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var uee;function OYe(t,e){var r=Qw(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(uee=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Qw(t,Math.max(0,e+a-1))[0]}function l9(t,e){var r=Qw(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const c9={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:CYe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>l9(t*100,e),r:l9,s:OYe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function u9(t){return t}var d9=Array.prototype.map,f9=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function jYe(t){var e=t.grouping===void 0||t.thousands===void 0?u9:TYe(d9.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?u9:NYe(d9.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=Ev(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,v=f.zero,y=f.width,x=f.comma,w=f.precision,S=f.trim,E=f.type;E==="n"?(x=!0,E="g"):c9[E]||(w===void 0&&(w=12),S=!0,E="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var T=g==="$"?r:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",A=g==="$"?n:/[%p]/.test(E)?o:"",C=c9[E],N=/[defgprs%]/.test(E);w=w===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function I(P){var k=T,O=A,L,z,M;if(E==="c")O=C(P)+O,P="";else{P=+P;var W=P<0||1/P<0;if(P=isNaN(P)?l:C(Math.abs(P),w),S&&(P=PYe(P)),W&&+P==0&&m!=="+"&&(W=!1),k=(W?m==="("?m:s:m==="-"||m==="("?"":m)+k,O=(E==="s"?f9[8+uee/3]:"")+O+(W&&m==="("?")":""),N){for(L=-1,z=P.length;++L<z;)if(M=P.charCodeAt(L),48>M||M>57){O=(M===46?i+P.slice(L+1):P.slice(L))+O,P=P.slice(0,L);break}}}x&&!v&&(P=e(P,1/0));var $=k.length+P.length+O.length,B=$<y?new Array(y-$+1).join(h):"";switch(x&&v&&(P=e(B+P,B.length?y-O.length:1/0),B=""),p){case"<":P=k+P+O+B;break;case"=":P=k+B+P+O;break;case"^":P=B.slice(0,$=B.length>>1)+k+P+O+B.slice($);break;default:P=B+k+P+O;break}return a(P)}return I.toString=function(){return f+""},I}function d(f,h){var p=c((f=Ev(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(gh(h)/3)))*3,g=Math.pow(10,-m),v=f9[8+m/3];return function(y){return p(g*y)+v}}return{format:c,formatPrefix:d}}var s1,w3,dee;kYe({thousands:",",grouping:[3],currency:["$",""]});function kYe(t){return s1=jYe(t),w3=s1.format,dee=s1.formatPrefix,s1}function RYe(t){return Math.max(0,-gh(Math.abs(t)))}function DYe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gh(e)/3)))*3-gh(Math.abs(t)))}function MYe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,gh(e)-gh(t))+1}function fee(t,e,r,n){var i=JN(t,e,r),a;switch(n=Ev(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=DYe(i,o))&&(n.precision=a),dee(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=MYe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=RYe(i))&&(n.precision=a-(n.type==="%")*2);break}}return w3(n)}function Fc(t){var e=t.domain;return t.ticks=function(r){var n=e();return QN(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return fee(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],l,c,d=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);d-- >0;){if(c=ZN(o,s,r),c===l)return n[i]=o,n[a]=s,e(n);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function Zw(){var t=y3();return t.copy=function(){return U0(t,Zw())},Ua.apply(t,arguments),Fc(t)}function hee(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Xw),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return hee(t).unknown(e)},t=arguments.length?Array.from(t,Xw):[0,1],Fc(r)}function pee(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function h9(t){return Math.log(t)}function p9(t){return Math.exp(t)}function LYe(t){return-Math.log(-t)}function $Ye(t){return-Math.exp(-t)}function FYe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function BYe(t){return t===10?FYe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function UYe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function m9(t){return(e,r)=>-t(-e,r)}function b3(t){const e=t(h9,p9),r=e.domain;let n=10,i,a;function o(){return i=UYe(n),a=BYe(n),r()[0]<0?(i=m9(i),a=m9(a),t(LYe,$Ye)):t(h9,p9),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const l=r();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),p=i(d),m,g;const v=s==null?10:+s;let y=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(g=h<0?m/a(-h):m*a(h),!(g<c)){if(g>d)break;y.push(g)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<c)){if(g>d)break;y.push(g)}y.length*2<v&&(y=QN(c,d,v))}else y=QN(h,p,Math.min(p-h,v)).map(a);return f?y.reverse():y},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Ev(l)).precision==null&&(l.trim=!0),l=w3(l)),s===1/0)return l;const c=Math.max(1,n*s/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=c?l(d):""}},e.nice=()=>r(pee(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function mee(){const t=b3(L_()).domain([1,10]);return t.copy=()=>U0(t,mee()).base(t.base()),Ua.apply(t,arguments),t}function g9(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function v9(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function _3(t){var e=1,r=t(g9(e),v9(e));return r.constant=function(n){return arguments.length?t(g9(e=+n),v9(e)):e},Fc(r)}function gee(){var t=_3(L_());return t.copy=function(){return U0(t,gee()).constant(t.constant())},Ua.apply(t,arguments)}function y9(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function VYe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function zYe(t){return t<0?-t*t:t*t}function S3(t){var e=t(gi,gi),r=1;function n(){return r===1?t(gi,gi):r===.5?t(VYe,zYe):t(y9(r),y9(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Fc(e)}function E3(){var t=S3(L_());return t.copy=function(){return U0(t,E3()).exponent(t.exponent())},Ua.apply(t,arguments),t}function WYe(){return E3.apply(null,arguments).exponent(.5)}function x9(t){return Math.sign(t)*t*t}function HYe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function vee(){var t=y3(),e=[0,1],r=!1,n;function i(a){var o=HYe(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(x9(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Xw)).map(x9)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return vee(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Ua.apply(i,arguments),Fc(i)}function yee(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=XKe(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[F0(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(nc),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return yee().domain(t).range(e).unknown(n)},Ua.apply(a,arguments)}function xee(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[F0(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return xee().domain([t,e]).range(i).unknown(a)},Ua.apply(Fc(o),arguments)}function wee(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[F0(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return wee().domain(t).range(e).unknown(r)},Ua.apply(i,arguments)}const bA=new Date,_A=new Date;function sn(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),e(a,s),t(a);while(c<a&&a<o);return l},i.filter=a=>sn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(bA.setTime(+a),_A.setTime(+o),t(bA),t(_A),Math.floor(r(bA,_A))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Jw=sn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Jw.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?sn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Jw);Jw.range;const Ss=1e3,Ca=Ss*60,Es=Ca*60,Ks=Es*24,A3=Ks*7,w9=Ks*30,SA=Ks*365,xu=sn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ss)},(t,e)=>(e-t)/Ss,t=>t.getUTCSeconds());xu.range;const C3=sn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ss)},(t,e)=>{t.setTime(+t+e*Ca)},(t,e)=>(e-t)/Ca,t=>t.getMinutes());C3.range;const T3=sn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ca)},(t,e)=>(e-t)/Ca,t=>t.getUTCMinutes());T3.range;const N3=sn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ss-t.getMinutes()*Ca)},(t,e)=>{t.setTime(+t+e*Es)},(t,e)=>(e-t)/Es,t=>t.getHours());N3.range;const I3=sn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Es)},(t,e)=>(e-t)/Es,t=>t.getUTCHours());I3.range;const V0=sn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ca)/Ks,t=>t.getDate()-1);V0.range;const $_=sn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ks,t=>t.getUTCDate()-1);$_.range;const bee=sn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ks,t=>Math.floor(t/Ks));bee.range;function md(t){return sn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Ca)/A3)}const F_=md(0),eb=md(1),GYe=md(2),qYe=md(3),vh=md(4),KYe=md(5),YYe=md(6);F_.range;eb.range;GYe.range;qYe.range;vh.range;KYe.range;YYe.range;function gd(t){return sn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/A3)}const B_=gd(0),tb=gd(1),XYe=gd(2),QYe=gd(3),yh=gd(4),ZYe=gd(5),JYe=gd(6);B_.range;tb.range;XYe.range;QYe.range;yh.range;ZYe.range;JYe.range;const P3=sn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());P3.range;const O3=sn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());O3.range;const Ys=sn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ys.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:sn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Ys.range;const Xs=sn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Xs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:sn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Xs.range;function _ee(t,e,r,n,i,a){const o=[[xu,1,Ss],[xu,5,5*Ss],[xu,15,15*Ss],[xu,30,30*Ss],[a,1,Ca],[a,5,5*Ca],[a,15,15*Ca],[a,30,30*Ca],[i,1,Es],[i,3,3*Es],[i,6,6*Es],[i,12,12*Es],[n,1,Ks],[n,2,2*Ks],[r,1,A3],[e,1,w9],[e,3,3*w9],[t,1,SA]];function s(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const p=f&&typeof f.range=="function"?f:l(c,d,f),m=p?p.range(c,+d+1):[];return h?m.reverse():m}function l(c,d,f){const h=Math.abs(d-c)/f,p=h3(([,,v])=>v).right(o,h);if(p===o.length)return t.every(JN(c/SA,d/SA,f));if(p===0)return Jw.every(Math.max(JN(c,d,f),1));const[m,g]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return m.every(g)}return[s,l]}const[eXe,tXe]=_ee(Xs,O3,B_,bee,I3,T3),[rXe,nXe]=_ee(Ys,P3,F_,V0,N3,C3);function EA(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function AA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function lm(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function iXe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,c=cm(i),d=um(i),f=cm(a),h=um(a),p=cm(o),m=um(o),g=cm(s),v=um(s),y=cm(l),x=um(l),w={a:W,A:$,b:B,B:G,c:null,d:C9,e:C9,f:TXe,g:LXe,G:FXe,H:EXe,I:AXe,j:CXe,L:See,m:NXe,M:IXe,p:X,q:Y,Q:I9,s:P9,S:PXe,u:OXe,U:jXe,V:kXe,w:RXe,W:DXe,x:null,X:null,y:MXe,Y:$Xe,Z:BXe,"%":N9},S={a:ee,A:ce,b:de,B:_e,c:null,d:T9,e:T9,f:WXe,g:eQe,G:rQe,H:UXe,I:VXe,j:zXe,L:Aee,m:HXe,M:GXe,p:ge,q:Se,Q:I9,s:P9,S:qXe,u:KXe,U:YXe,V:XXe,w:QXe,W:ZXe,x:null,X:null,y:JXe,Y:tQe,Z:nQe,"%":N9},E={a:I,A:P,b:k,B:O,c:L,d:E9,e:E9,f:wXe,g:S9,G:_9,H:A9,I:A9,j:gXe,L:xXe,m:mXe,M:vXe,p:N,q:pXe,Q:_Xe,s:SXe,S:yXe,u:cXe,U:uXe,V:dXe,w:lXe,W:fXe,x:z,X:M,y:S9,Y:_9,Z:hXe,"%":bXe};w.x=T(r,w),w.X=T(n,w),w.c=T(e,w),S.x=T(r,S),S.X=T(n,S),S.c=T(e,S);function T(se,V){return function(Q){var H=[],ve=-1,fe=0,te=se.length,re,K,le;for(Q instanceof Date||(Q=new Date(+Q));++ve<te;)se.charCodeAt(ve)===37&&(H.push(se.slice(fe,ve)),(K=b9[re=se.charAt(++ve)])!=null?re=se.charAt(++ve):K=re==="e"?" ":"0",(le=V[re])&&(re=le(Q,K)),H.push(re),fe=ve+1);return H.push(se.slice(fe,ve)),H.join("")}}function A(se,V){return function(Q){var H=lm(1900,void 0,1),ve=C(H,se,Q+="",0),fe,te;if(ve!=Q.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(V&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(fe=AA(lm(H.y,0,1)),te=fe.getUTCDay(),fe=te>4||te===0?tb.ceil(fe):tb(fe),fe=$_.offset(fe,(H.V-1)*7),H.y=fe.getUTCFullYear(),H.m=fe.getUTCMonth(),H.d=fe.getUTCDate()+(H.w+6)%7):(fe=EA(lm(H.y,0,1)),te=fe.getDay(),fe=te>4||te===0?eb.ceil(fe):eb(fe),fe=V0.offset(fe,(H.V-1)*7),H.y=fe.getFullYear(),H.m=fe.getMonth(),H.d=fe.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),te="Z"in H?AA(lm(H.y,0,1)).getUTCDay():EA(lm(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(te+5)%7:H.w+H.U*7-(te+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,AA(H)):EA(H)}}function C(se,V,Q,H){for(var ve=0,fe=V.length,te=Q.length,re,K;ve<fe;){if(H>=te)return-1;if(re=V.charCodeAt(ve++),re===37){if(re=V.charAt(ve++),K=E[re in b9?V.charAt(ve++):re],!K||(H=K(se,Q,H))<0)return-1}else if(re!=Q.charCodeAt(H++))return-1}return H}function N(se,V,Q){var H=c.exec(V.slice(Q));return H?(se.p=d.get(H[0].toLowerCase()),Q+H[0].length):-1}function I(se,V,Q){var H=p.exec(V.slice(Q));return H?(se.w=m.get(H[0].toLowerCase()),Q+H[0].length):-1}function P(se,V,Q){var H=f.exec(V.slice(Q));return H?(se.w=h.get(H[0].toLowerCase()),Q+H[0].length):-1}function k(se,V,Q){var H=y.exec(V.slice(Q));return H?(se.m=x.get(H[0].toLowerCase()),Q+H[0].length):-1}function O(se,V,Q){var H=g.exec(V.slice(Q));return H?(se.m=v.get(H[0].toLowerCase()),Q+H[0].length):-1}function L(se,V,Q){return C(se,e,V,Q)}function z(se,V,Q){return C(se,r,V,Q)}function M(se,V,Q){return C(se,n,V,Q)}function W(se){return o[se.getDay()]}function $(se){return a[se.getDay()]}function B(se){return l[se.getMonth()]}function G(se){return s[se.getMonth()]}function X(se){return i[+(se.getHours()>=12)]}function Y(se){return 1+~~(se.getMonth()/3)}function ee(se){return o[se.getUTCDay()]}function ce(se){return a[se.getUTCDay()]}function de(se){return l[se.getUTCMonth()]}function _e(se){return s[se.getUTCMonth()]}function ge(se){return i[+(se.getUTCHours()>=12)]}function Se(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var V=T(se+="",w);return V.toString=function(){return se},V},parse:function(se){var V=A(se+="",!1);return V.toString=function(){return se},V},utcFormat:function(se){var V=T(se+="",S);return V.toString=function(){return se},V},utcParse:function(se){var V=A(se+="",!0);return V.toString=function(){return se},V}}}var b9={"-":"",_:" ",0:"0"},wn=/^\s*\d+/,aXe=/^%/,oXe=/[\\^$*+?|[\]().{}]/g;function bt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function sXe(t){return t.replace(oXe,"\\$&")}function cm(t){return new RegExp("^(?:"+t.map(sXe).join("|")+")","i")}function um(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function lXe(t,e,r){var n=wn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function cXe(t,e,r){var n=wn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function uXe(t,e,r){var n=wn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function dXe(t,e,r){var n=wn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function fXe(t,e,r){var n=wn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function _9(t,e,r){var n=wn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function S9(t,e,r){var n=wn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function hXe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function pXe(t,e,r){var n=wn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function mXe(t,e,r){var n=wn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function E9(t,e,r){var n=wn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function gXe(t,e,r){var n=wn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function A9(t,e,r){var n=wn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function vXe(t,e,r){var n=wn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function yXe(t,e,r){var n=wn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function xXe(t,e,r){var n=wn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function wXe(t,e,r){var n=wn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function bXe(t,e,r){var n=aXe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function _Xe(t,e,r){var n=wn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function SXe(t,e,r){var n=wn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function C9(t,e){return bt(t.getDate(),e,2)}function EXe(t,e){return bt(t.getHours(),e,2)}function AXe(t,e){return bt(t.getHours()%12||12,e,2)}function CXe(t,e){return bt(1+V0.count(Ys(t),t),e,3)}function See(t,e){return bt(t.getMilliseconds(),e,3)}function TXe(t,e){return See(t,e)+"000"}function NXe(t,e){return bt(t.getMonth()+1,e,2)}function IXe(t,e){return bt(t.getMinutes(),e,2)}function PXe(t,e){return bt(t.getSeconds(),e,2)}function OXe(t){var e=t.getDay();return e===0?7:e}function jXe(t,e){return bt(F_.count(Ys(t)-1,t),e,2)}function Eee(t){var e=t.getDay();return e>=4||e===0?vh(t):vh.ceil(t)}function kXe(t,e){return t=Eee(t),bt(vh.count(Ys(t),t)+(Ys(t).getDay()===4),e,2)}function RXe(t){return t.getDay()}function DXe(t,e){return bt(eb.count(Ys(t)-1,t),e,2)}function MXe(t,e){return bt(t.getFullYear()%100,e,2)}function LXe(t,e){return t=Eee(t),bt(t.getFullYear()%100,e,2)}function $Xe(t,e){return bt(t.getFullYear()%1e4,e,4)}function FXe(t,e){var r=t.getDay();return t=r>=4||r===0?vh(t):vh.ceil(t),bt(t.getFullYear()%1e4,e,4)}function BXe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+bt(e/60|0,"0",2)+bt(e%60,"0",2)}function T9(t,e){return bt(t.getUTCDate(),e,2)}function UXe(t,e){return bt(t.getUTCHours(),e,2)}function VXe(t,e){return bt(t.getUTCHours()%12||12,e,2)}function zXe(t,e){return bt(1+$_.count(Xs(t),t),e,3)}function Aee(t,e){return bt(t.getUTCMilliseconds(),e,3)}function WXe(t,e){return Aee(t,e)+"000"}function HXe(t,e){return bt(t.getUTCMonth()+1,e,2)}function GXe(t,e){return bt(t.getUTCMinutes(),e,2)}function qXe(t,e){return bt(t.getUTCSeconds(),e,2)}function KXe(t){var e=t.getUTCDay();return e===0?7:e}function YXe(t,e){return bt(B_.count(Xs(t)-1,t),e,2)}function Cee(t){var e=t.getUTCDay();return e>=4||e===0?yh(t):yh.ceil(t)}function XXe(t,e){return t=Cee(t),bt(yh.count(Xs(t),t)+(Xs(t).getUTCDay()===4),e,2)}function QXe(t){return t.getUTCDay()}function ZXe(t,e){return bt(tb.count(Xs(t)-1,t),e,2)}function JXe(t,e){return bt(t.getUTCFullYear()%100,e,2)}function eQe(t,e){return t=Cee(t),bt(t.getUTCFullYear()%100,e,2)}function tQe(t,e){return bt(t.getUTCFullYear()%1e4,e,4)}function rQe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?yh(t):yh.ceil(t),bt(t.getUTCFullYear()%1e4,e,4)}function nQe(){return"+0000"}function N9(){return"%"}function I9(t){return+t}function P9(t){return Math.floor(+t/1e3)}var Od,Tee,Nee;iQe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iQe(t){return Od=iXe(t),Tee=Od.format,Od.parse,Nee=Od.utcFormat,Od.utcParse,Od}function aQe(t){return new Date(t)}function oQe(t){return t instanceof Date?+t:+new Date(+t)}function j3(t,e,r,n,i,a,o,s,l,c){var d=y3(),f=d.invert,h=d.domain,p=c(".%L"),m=c(":%S"),g=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),x=c("%b %d"),w=c("%B"),S=c("%Y");function E(T){return(l(T)<T?p:s(T)<T?m:o(T)<T?g:a(T)<T?v:n(T)<T?i(T)<T?y:x:r(T)<T?w:S)(T)}return d.invert=function(T){return new Date(f(T))},d.domain=function(T){return arguments.length?h(Array.from(T,oQe)):h().map(aQe)},d.ticks=function(T){var A=h();return t(A[0],A[A.length-1],T??10)},d.tickFormat=function(T,A){return A==null?E:c(A)},d.nice=function(T){var A=h();return(!T||typeof T.range!="function")&&(T=e(A[0],A[A.length-1],T??10)),T?h(pee(A,T)):d},d.copy=function(){return U0(d,j3(t,e,r,n,i,a,o,s,l,c))},d}function sQe(){return Ua.apply(j3(rXe,nXe,Ys,P3,F_,V0,N3,C3,xu,Tee).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lQe(){return Ua.apply(j3(eXe,tXe,Xs,O3,B_,$_,I3,T3,xu,Nee).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function U_(){var t=0,e=1,r,n,i,a,o=gi,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-r)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,o=f(p,m),c):[o(0),o(1)]}}return c.range=d(mp),c.rangeRound=d(v3),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),c}}function Bc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Iee(){var t=Fc(U_()(gi));return t.copy=function(){return Bc(t,Iee())},il.apply(t,arguments)}function Pee(){var t=b3(U_()).domain([1,10]);return t.copy=function(){return Bc(t,Pee()).base(t.base())},il.apply(t,arguments)}function Oee(){var t=_3(U_());return t.copy=function(){return Bc(t,Oee()).constant(t.constant())},il.apply(t,arguments)}function k3(){var t=S3(U_());return t.copy=function(){return Bc(t,k3()).exponent(t.exponent())},il.apply(t,arguments)}function cQe(){return k3.apply(null,arguments).exponent(.5)}function jee(){var t=[],e=gi;function r(n){if(n!=null&&!isNaN(n=+n))return e((F0(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(nc),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>YKe(t,a/n))},r.copy=function(){return jee(e).domain(t)},il.apply(r,arguments)}function V_(){var t=0,e=.5,r=1,n=1,i,a,o,s,l,c=gi,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(n*g<n*a?s:l),c(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,r]=g,i=d(t=+t),a=d(e=+e),o=d(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p):[t,e,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(c=g,p):c};function m(g){return function(v){var y,x,w;return arguments.length?([y,x,w]=v,c=bYe(g,[y,x,w]),p):[c(0),c(.5),c(1)]}}return p.range=m(mp),p.rangeRound=m(v3),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,i=g(t),a=g(e),o=g(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function kee(){var t=Fc(V_()(gi));return t.copy=function(){return Bc(t,kee())},il.apply(t,arguments)}function Ree(){var t=b3(V_()).domain([.1,1,10]);return t.copy=function(){return Bc(t,Ree()).base(t.base())},il.apply(t,arguments)}function Dee(){var t=_3(V_());return t.copy=function(){return Bc(t,Dee()).constant(t.constant())},il.apply(t,arguments)}function R3(){var t=S3(V_());return t.copy=function(){return Bc(t,R3()).exponent(t.exponent())},il.apply(t,arguments)}function uQe(){return R3.apply(null,arguments).exponent(.5)}const O9=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:wv,scaleDiverging:kee,scaleDivergingLog:Ree,scaleDivergingPow:R3,scaleDivergingSqrt:uQe,scaleDivergingSymlog:Dee,scaleIdentity:hee,scaleImplicit:eI,scaleLinear:Zw,scaleLog:mee,scaleOrdinal:p3,scalePoint:sg,scalePow:E3,scaleQuantile:yee,scaleQuantize:xee,scaleRadial:vee,scaleSequential:Iee,scaleSequentialLog:Pee,scaleSequentialPow:k3,scaleSequentialQuantile:jee,scaleSequentialSqrt:cQe,scaleSequentialSymlog:Oee,scaleSqrt:WYe,scaleSymlog:gee,scaleThreshold:wee,scaleTime:sQe,scaleUtc:lQe,tickFormat:fee},Symbol.toStringTag,{value:"Module"}));var dQe=np;function fQe(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],o=e(a);if(o!=null&&(s===void 0?o===o&&!dQe(o):r(o,s)))var s=o,l=a}return l}var Mee=fQe;function hQe(t,e){return t>e}var pQe=hQe,mQe=Mee,gQe=pQe,vQe=up;function yQe(t){return t&&t.length?mQe(t,vQe,gQe):void 0}var xQe=yQe;const Ml=ct(xQe);function wQe(t,e){return t<e}var bQe=wQe,_Qe=Mee,SQe=bQe,EQe=up;function AQe(t){return t&&t.length?_Qe(t,EQe,SQe):void 0}var CQe=AQe;const z_=ct(CQe);var TQe=i_,NQe=nl,IQe=_Q,PQe=ai;function OQe(t,e){var r=PQe(t)?TQe:IQe;return r(t,NQe(e))}var jQe=OQe,kQe=Ok,RQe=jQe;function DQe(t,e){return kQe(RQe(t,e),1)}var MQe=DQe;const LQe=ct(MQe);var gp=1e9,$Qe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},M3,ur=!0,Ma="[DecimalError] ",Pu=Ma+"Invalid argument: ",D3=Ma+"Exponent out of range: ",vp=Math.floor,su=Math.pow,FQe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ji,fn=1e7,Qt=7,Lee=9007199254740991,rb=vp(Lee/Qt),ke={};ke.absoluteValue=ke.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ke.comparedTo=ke.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Qt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ke.dividedBy=ke.div=function(t){return ks(this,new this.constructor(t))};ke.dividedToIntegerBy=ke.idiv=function(t){var e=this,r=e.constructor;return $t(ks(e,new r(t),0,1),r.precision)};ke.equals=ke.eq=function(t){return!this.cmp(t)};ke.exponent=function(){return Wr(this)};ke.greaterThan=ke.gt=function(t){return this.cmp(t)>0};ke.greaterThanOrEqualTo=ke.gte=function(t){return this.cmp(t)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(t){return this.cmp(t)<0};ke.lessThanOrEqualTo=ke.lte=function(t){return this.cmp(t)<1};ke.logarithm=ke.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Ji))throw Error(Ma+"NaN");if(r.s<1)throw Error(Ma+(r.s?"NaN":"-Infinity"));return r.eq(Ji)?new n(0):(ur=!1,e=ks(Av(r,a),Av(t,a),a),ur=!0,$t(e,i))};ke.minus=ke.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Bee(e,t):$ee(e,(t.s=-t.s,t))};ke.modulo=ke.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Ma+"NaN");return r.s?(ur=!1,e=ks(r,t,0,1).times(t),ur=!0,r.minus(e)):$t(new n(r),i)};ke.naturalExponential=ke.exp=function(){return Fee(this)};ke.naturalLogarithm=ke.ln=function(){return Av(this)};ke.negated=ke.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ke.plus=ke.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$ee(e,t):Bee(e,(t.s=-t.s,t))};ke.precision=ke.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Pu+t);if(e=Wr(i)+1,n=i.d.length-1,r=n*Qt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ke.squareRoot=ke.sqrt=function(){var t,e,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Ma+"NaN")}for(t=Wr(s),ur=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Mo(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=vp((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(ks(s,a,o+2)).times(.5),Mo(a.d).slice(0,o)===(e=Mo(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if($t(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return ur=!0,$t(n,r)};ke.times=ke.mul=function(t){var e,r,n,i,a,o,s,l,c,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,o=l,l=c,c=o),a=[],o=l+c,n=o;n--;)a.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)s=a[i]+p[n]*h[i-n-1]+e,a[i--]=s%fn|0,e=s/fn|0;a[i]=(a[i]+e)%fn|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,ur?$t(t,f.precision):t};ke.toDecimalPlaces=ke.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ts(t,0,gp),e===void 0?e=n.rounding:ts(e,0,8),$t(r,t+Wr(r)+1,e))};ke.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=td(n,!0):(ts(t,0,gp),e===void 0?e=i.rounding:ts(e,0,8),n=$t(new i(n),t+1,e),r=td(n,!0,t+1)),r};ke.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?td(i):(ts(t,0,gp),e===void 0?e=a.rounding:ts(e,0,8),n=$t(new a(i),t+Wr(i)+1,e),r=td(n.abs(),!1,t+Wr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ke.toInteger=ke.toint=function(){var t=this,e=t.constructor;return $t(new e(t),Wr(t)+1,e.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(t){var e,r,n,i,a,o,s=this,l=s.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(Ji);if(s=new l(s),!s.s){if(t.s<1)throw Error(Ma+"Infinity");return s}if(s.eq(Ji))return s;if(n=l.precision,t.eq(Ji))return $t(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=d<0?-d:d)<=Lee){for(i=new l(Ji),e=Math.ceil(n/Qt+4),ur=!1;r%2&&(i=i.times(s),k9(i.d,e)),r=vp(r/2),r!==0;)s=s.times(s),k9(s.d,e);return ur=!0,t.s<0?new l(Ji).div(i):$t(i,n)}}else if(a<0)throw Error(Ma+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,ur=!1,i=t.times(Av(s,n+c)),ur=!0,i=Fee(i),i.s=a,i};ke.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Wr(i),n=td(i,r<=a.toExpNeg||r>=a.toExpPos)):(ts(t,1,gp),e===void 0?e=a.rounding:ts(e,0,8),i=$t(new a(i),t,e),r=Wr(i),n=td(i,t<=r||r<=a.toExpNeg,t)),n};ke.toSignificantDigits=ke.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ts(t,1,gp),e===void 0?e=n.rounding:ts(e,0,8)),$t(new n(r),t,e)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Wr(t),r=t.constructor;return td(t,e<=r.toExpNeg||e>=r.toExpPos)};function $ee(t,e){var r,n,i,a,o,s,l,c,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),ur?$t(e,f):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=c.length):(n=c,i=o,s=l.length),o=Math.ceil(f/Qt),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/fn|0,l[a]%=fn;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,ur?$t(e,f):e}function ts(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Pu+t)}function Mo(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=Qt-n.length,r&&(a+=El(r)),a+=n;o=t[e],n=o+"",r=Qt-n.length,r&&(a+=El(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ks=function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%fn|0,o=a/fn|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*fn+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,c,d,f,h,p,m,g,v,y,x,w,S,E,T,A,C,N=n.constructor,I=n.s==i.s?1:-1,P=n.d,k=i.d;if(!n.s)return new N(n);if(!i.s)throw Error(Ma+"Division by zero");for(l=n.e-i.e,A=k.length,E=P.length,p=new N(I),m=p.d=[],c=0;k[c]==(P[c]||0);)++c;if(k[c]>(P[c]||0)&&--l,a==null?x=a=N.precision:o?x=a+(Wr(n)-Wr(i))+1:x=a,x<0)return new N(0);if(x=x/Qt+2|0,c=0,A==1)for(d=0,k=k[0],x++;(c<E||d)&&x--;c++)w=d*fn+(P[c]||0),m[c]=w/k|0,d=w%k|0;else{for(d=fn/(k[0]+1)|0,d>1&&(k=t(k,d),P=t(P,d),A=k.length,E=P.length),S=A,g=P.slice(0,A),v=g.length;v<A;)g[v++]=0;C=k.slice(),C.unshift(0),T=k[0],k[1]>=fn/2&&++T;do d=0,s=e(k,g,A,v),s<0?(y=g[0],A!=v&&(y=y*fn+(g[1]||0)),d=y/T|0,d>1?(d>=fn&&(d=fn-1),f=t(k,d),h=f.length,v=g.length,s=e(f,g,h,v),s==1&&(d--,r(f,A<h?C:k,h))):(d==0&&(s=d=1),f=k.slice()),h=f.length,h<v&&f.unshift(0),r(g,f,v),s==-1&&(v=g.length,s=e(k,g,A,v),s<1&&(d++,r(g,A<v?C:k,v))),v=g.length):s===0&&(d++,g=[0]),m[c++]=d,s&&g[0]?g[v++]=P[S]||0:(g=[P[S]],v=1);while((S++<E||g[0]!==void 0)&&x--)}return m[0]||m.shift(),p.e=l,$t(p,o?a+Wr(p)+1:a)}}();function Fee(t,e){var r,n,i,a,o,s,l=0,c=0,d=t.constructor,f=d.precision;if(Wr(t)>16)throw Error(D3+Wr(t));if(!t.s)return new d(Ji);for(ur=!1,s=f,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(n=Math.log(su(2,c))/Math.LN10*2+5|0,s+=n,r=i=a=new d(Ji),d.precision=s;;){if(i=$t(i.times(t),s),r=r.times(++l),o=a.plus(ks(i,r,s)),Mo(o.d).slice(0,s)===Mo(a.d).slice(0,s)){for(;c--;)a=$t(a.times(a),s);return d.precision=f,e==null?(ur=!0,$t(a,f)):a}a=o}}function Wr(t){for(var e=t.e*Qt,r=t.d[0];r>=10;r/=10)e++;return e}function CA(t,e,r){if(e>t.LN10.sd())throw ur=!0,r&&(t.precision=r),Error(Ma+"LN10 precision limit exceeded");return $t(new t(t.LN10),e)}function El(t){for(var e="";t--;)e+="0";return e}function Av(t,e){var r,n,i,a,o,s,l,c,d,f=1,h=10,p=t,m=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(Ma+(p.s?"NaN":"-Infinity"));if(p.eq(Ji))return new g(0);if(e==null?(ur=!1,c=v):c=e,p.eq(10))return e==null&&(ur=!0),CA(g,c);if(c+=h,g.precision=c,r=Mo(m),n=r.charAt(0),a=Wr(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Mo(p.d),n=r.charAt(0),f++;a=Wr(p),n>1?(p=new g("0."+r),a++):p=new g(n+"."+r.slice(1))}else return l=CA(g,c+2,v).times(a+""),p=Av(new g(n+"."+r.slice(1)),c-h).plus(l),g.precision=v,e==null?(ur=!0,$t(p,v)):p;for(s=o=p=ks(p.minus(Ji),p.plus(Ji),c),d=$t(p.times(p),c),i=3;;){if(o=$t(o.times(d),c),l=s.plus(ks(o,new g(i),c)),Mo(l.d).slice(0,c)===Mo(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(CA(g,c+2,v).times(a+""))),s=ks(s,new g(f),c),g.precision=v,e==null?(ur=!0,$t(s,v)):s;s=l,i+=2}}function j9(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=vp(r/Qt),t.d=[],n=(r+1)%Qt,r<0&&(n+=Qt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Qt;n<i;)t.d.push(+e.slice(n,n+=Qt));e=e.slice(n),n=Qt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),ur&&(t.e>rb||t.e<-rb))throw Error(D3+r)}else t.s=0,t.e=0,t.d=[0];return t}function $t(t,e,r){var n,i,a,o,s,l,c,d,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=Qt,i=e,c=f[d=0];else{if(d=Math.ceil((n+1)/Qt),a=f.length,d>=a)return t;for(c=a=f[d],o=1;a>=10;a/=10)o++;n%=Qt,i=n-Qt+o}if(r!==void 0&&(a=su(10,o-i-1),s=c/a%10|0,l=e<0||f[d+1]!==void 0||c%a,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?c/su(10,o-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=Wr(t),f.length=1,e=e-a-1,f[0]=su(10,(Qt-e%Qt)%Qt),t.e=vp(-e/Qt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=su(10,Qt-n),f[d]=i>0?(c/su(10,o-i)%su(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==fn&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=fn)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(ur&&(t.e>rb||t.e<-rb))throw Error(D3+Wr(t));return t}function Bee(t,e){var r,n,i,a,o,s,l,c,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),ur?$t(e,p):e;if(l=t.d,f=e.d,n=e.e,c=t.e,l=l.slice(),o=c-n,o){for(d=o<0,d?(r=l,o=-o,s=f.length):(r=f,n=c,s=l.length),i=Math.max(Math.ceil(p/Qt),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}o=0}for(d&&(r=l,l=f,f=r,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=fn-1;--l[a],l[i]+=fn}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,ur?$t(e,p):e):new h(0)}function td(t,e,r){var n,i=Wr(t),a=Mo(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+El(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+El(-i-1)+a,r&&(n=r-o)>0&&(a+=El(n))):i>=o?(a+=El(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+El(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=El(n))),t.s<0?"-"+a:a}function k9(t,e){if(t.length>e)return t.length=e,!0}function Uee(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Pu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return j9(o,a.toString())}else if(typeof a!="string")throw Error(Pu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,FQe.test(a))j9(o,a);else throw Error(Pu+a)}if(i.prototype=ke,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Uee,i.config=i.set=BQe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function BQe(t){if(!t||typeof t!="object")throw Error(Ma+"Object expected");var e,r,n,i=["precision",1,gp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(vp(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Pu+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Pu+r+": "+n);return this}var M3=Uee($Qe);Ji=new M3(1);const kt=M3;function UQe(t){return HQe(t)||WQe(t)||zQe(t)||VQe()}function VQe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zQe(t,e){if(t){if(typeof t=="string")return iI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iI(t,e)}}function WQe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function HQe(t){if(Array.isArray(t))return iI(t)}function iI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var GQe=function(e){return e},Vee={},zee=function(e){return e===Vee},R9=function(e){return function r(){return arguments.length===0||arguments.length===1&&zee(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},qQe=function t(e,r){return e===1?r:R9(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==Vee}).length;return o>=e?r.apply(void 0,i):t(e-o,R9(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var d=i.map(function(f){return zee(f)?l.shift():f});return r.apply(void 0,UQe(d).concat(l))}))})},W_=function(e){return qQe(e.length,e)},aI=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},KQe=W_(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),YQe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return GQe;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},oI=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Wee=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function XQe(t){var e;return t===0?e=1:e=Math.floor(new kt(t).abs().log(10).toNumber())+1,e}function QQe(t,e,r){for(var n=new kt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var ZQe=W_(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),JQe=W_(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),eZe=W_(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const H_={rangeStep:QQe,getDigitCount:XQe,interpolateNumber:ZQe,uninterpolateNumber:JQe,uninterpolateTruncation:eZe};function sI(t){return nZe(t)||rZe(t)||Hee(t)||tZe()}function tZe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rZe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function nZe(t){if(Array.isArray(t))return lI(t)}function Cv(t,e){return oZe(t)||aZe(t,e)||Hee(t,e)||iZe()}function iZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hee(t,e){if(t){if(typeof t=="string")return lI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lI(t,e)}}function lI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function aZe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function oZe(t){if(Array.isArray(t))return t}function Gee(t){var e=Cv(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function qee(t,e,r){if(t.lte(0))return new kt(0);var n=H_.getDigitCount(t.toNumber()),i=new kt(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new kt(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return e?l:new kt(Math.ceil(l))}function sZe(t,e,r){var n=1,i=new kt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new kt(10).pow(H_.getDigitCount(t)-1),i=new kt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new kt(Math.floor(t)))}else t===0?i=new kt(Math.floor((e-1)/2)):r||(i=new kt(Math.floor(t)));var o=Math.floor((e-1)/2),s=YQe(KQe(function(l){return i.add(new kt(l-o).mul(n)).toNumber()}),aI);return s(0,e)}function Kee(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new kt(0),tickMin:new kt(0),tickMax:new kt(0)};var a=qee(new kt(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new kt(0):(o=new kt(t).add(e).div(2),o=o.sub(new kt(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new kt(e).sub(o).div(a).toNumber()),c=s+l+1;return c>r?Kee(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,s=e>0?s:s+(r-c)),{step:a,tickMin:o.sub(new kt(s).mul(a)),tickMax:o.add(new kt(l).mul(a))})}function lZe(t){var e=Cv(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=Gee([r,n]),l=Cv(s,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(sI(aI(0,i-1).map(function(){return 1/0}))):[].concat(sI(aI(0,i-1).map(function(){return-1/0})),[d]);return r>n?oI(f):f}if(c===d)return sZe(c,i,a);var h=Kee(c,d,o,a),p=h.step,m=h.tickMin,g=h.tickMax,v=H_.rangeStep(m,g.add(new kt(.1).mul(p)),p);return r>n?oI(v):v}function cZe(t,e){var r=Cv(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Gee([n,i]),s=Cv(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var d=Math.max(e,2),f=qee(new kt(c).sub(l).div(d-1),a,0),h=[].concat(sI(H_.rangeStep(new kt(l),new kt(c).sub(new kt(.99).mul(f)),f)),[c]);return n>i?oI(h):h}var uZe=Wee(lZe),dZe=Wee(cZe),fZe="Invariant failed";function rd(t,e){throw new Error(fZe)}var hZe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function nb(){return nb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nb.apply(this,arguments)}function pZe(t,e){return yZe(t)||vZe(t,e)||gZe(t,e)||mZe()}function mZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gZe(t,e){if(t){if(typeof t=="string")return D9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D9(t,e)}}function D9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vZe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function yZe(t){if(Array.isArray(t))return t}function xZe(t,e){if(t==null)return{};var r=wZe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wZe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Ze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qee(n.key),n)}}function SZe(t,e,r){return e&&_Ze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function EZe(t,e,r){return e=ib(e),AZe(t,Yee()?Reflect.construct(e,r||[],ib(t).constructor):e.apply(t,r))}function AZe(t,e){if(e&&(xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CZe(t)}function CZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yee=function(){return!!t})()}function ib(t){return ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ib(t)}function TZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cI(t,e)}function cI(t,e){return cI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cI(t,e)}function Xee(t,e,r){return e=Qee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qee(t){var e=NZe(t,"string");return xh(e)=="symbol"?e:e+""}function NZe(t,e){if(xh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var G_=function(t){function e(){return bZe(this,e),EZe(this,e,arguments)}return TZe(e,t),SZe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=xZe(n,hZe),p=rt(h,!1);this.props.direction==="x"&&d.type!=="number"&&rd();var m=l.map(function(g){var v=c(g,s),y=v.x,x=v.y,w=v.value,S=v.errorVal;if(!S)return null;var E=[],T,A;if(Array.isArray(S)){var C=pZe(S,2);T=C[0],A=C[1]}else T=A=S;if(a==="vertical"){var N=d.scale,I=x+i,P=I+o,k=I-o,O=N(w-T),L=N(w+A);E.push({x1:L,y1:P,x2:L,y2:k}),E.push({x1:O,y1:I,x2:L,y2:I}),E.push({x1:O,y1:P,x2:O,y2:k})}else if(a==="horizontal"){var z=f.scale,M=y+i,W=M-o,$=M+o,B=z(w-T),G=z(w+A);E.push({x1:W,y1:G,x2:$,y2:G}),E.push({x1:M,y1:B,x2:M,y2:G}),E.push({x1:W,y1:B,x2:$,y2:B})}return D.createElement(mr,nb({className:"recharts-errorBar",key:"bar-".concat(E.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},p),E.map(function(X){return D.createElement("line",nb({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return D.createElement(mr,{className:"recharts-errorBars"},m)}}])}(D.Component);Xee(G_,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Xee(G_,"displayName","ErrorBar");function Tv(t){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tv(t)}function M9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M9(Object(r),!0).forEach(function(n){IZe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IZe(t,e,r){return e=PZe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PZe(t){var e=OZe(t,"string");return Tv(e)=="symbol"?e:e+""}function OZe(t,e){if(Tv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zee=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Qi(r,Af);if(!o)return null;var s=Af.defaultProps,l=s!==void 0?Xc(Xc({},s),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:a==="children"?c=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Xc(Xc({},h),f.props):{},m=p.dataKey,g=p.name,v=p.legendType,y=p.hide;return{inactive:y,dataKey:m,type:l.iconType||v||"square",color:L3(f),value:g||m,payload:p}}),Xc(Xc(Xc({},l),Af.getWithHeight(o,i)),{},{payload:c,item:o})};function Nv(t){"@babel/helpers - typeof";return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nv(t)}function L9(t){return DZe(t)||RZe(t)||kZe(t)||jZe()}function jZe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kZe(t,e){if(t){if(typeof t=="string")return uI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uI(t,e)}}function RZe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DZe(t){if(Array.isArray(t))return uI(t)}function uI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$9(Object(r),!0).forEach(function(n){Tf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tf(t,e,r){return e=MZe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MZe(t){var e=LZe(t,"string");return Nv(e)=="symbol"?e:e+""}function LZe(t,e){if(Nv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function da(t,e,r){return dt(t)||dt(e)?r:rn(e)?Ia(t,e,r):Xe(e)?e(t):r}function lg(t,e,r,n){var i=LQe(t,function(s){return da(s,e)});if(r==="number"){var a=i.filter(function(s){return be(s)||parseFloat(s)});return a.length?[z_(a),Ml(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!dt(s)}):i;return o.map(function(s){return rn(s)||s instanceof Date?s:""})}var $Ze=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<s;c++){var d=c>0?i[c-1].coordinate:i[s-1].coordinate,f=i[c].coordinate,h=c>=s-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(so(f-d)!==so(h-f)){var m=[];if(so(h-f)===so(l[1]-l[0])){p=h;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+d)/2),m[1]=Math.max(g,(g+d)/2)}else{p=d;var v=h+l[1]-l[0];m[0]=Math.min(f,(v+f)/2),m[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>y[0]&&e<=y[1]||e>=m[0]&&e<=m[1]){o=i[c].index;break}}else{var x=Math.min(d,h),w=Math.max(d,h);if(e>(x+f)/2&&e<=(w+f)/2){o=i[c].index;break}}}else for(var S=0;S<s;S++)if(S===0&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<s-1&&e>(n[S].coordinate+n[S-1].coordinate)/2&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S===s-1&&e>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},L3=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Cr(Cr({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},FZe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,c=s.length;l<c;l++)for(var d=a[s[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],g=m.items,v=m.cateAxisId,y=g.filter(function(A){return Os(A.type).indexOf("Bar")>=0});if(y&&y.length){var x=y[0].type.defaultProps,w=x!==void 0?Cr(Cr({},x),y[0].props):y[0].props,S=w.barSize,E=w[v];o[E]||(o[E]=[]);var T=dt(S)?r:S;o[E].push({item:y[0],stackList:y.slice(1),barSize:dt(T)?void 0:ed(T,n,0)})}}return o},BZe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var c=ed(r,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/l,m=o.reduce(function(S,E){return S+E.barSize||0},0);m+=(l-1)*c,m>=i&&(m-=(l-1)*c,c=0),m>=i&&p>0&&(h=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,v={offset:g-c,size:0};d=o.reduce(function(S,E){var T={item:E.item,position:{offset:v.offset+v.size+c,size:h?p:E.barSize}},A=[].concat(L9(S),[T]);return v=A[A.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(C){A.push({item:C,position:v})}),A},f)}else{var y=ed(n,i,0,!0);i-2*y-(l-1)*c<=0&&(c=0);var x=(i-2*y-(l-1)*c)/l;x>1&&(x>>=0);var w=s===+s?Math.min(x,s):x;d=o.reduce(function(S,E,T){var A=[].concat(L9(S),[{item:E.item,position:{offset:y+(x+c)*T+(x-w)/2,size:w}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(C){A.push({item:C,position:A[A.length-1].position})}),A},f)}return d},UZe=function(e,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),c=Zee({children:a,legendWidth:l});if(c){var d=i||{},f=d.width,h=d.height,p=c.align,m=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&be(e[p]))return Cr(Cr({},e),{},Tf({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&be(e[m]))return Cr(Cr({},e),{},Tf({},m,e[m]+(h||0)))}return e},VZe=function(e,r,n){return dt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Jee=function(e,r,n,i,a){var o=r.props.children,s=ho(o,G_).filter(function(c){return VZe(i,a,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var f=da(d,n);if(dt(f))return c;var h=Array.isArray(f)?[z_(f),Ml(f)]:[f,f],p=l.reduce(function(m,g){var v=da(d,g,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),x=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,m[0]),Math.max(x,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},zZe=function(e,r,n,i,a){var o=r.map(function(s){return Jee(e,s,n,a,i)}).filter(function(s){return!dt(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},ete=function(e,r,n,i,a){var o=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&Jee(e,l,c,i)||lg(e,c,n,a)});if(n==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)s[c[d]]||(s[c[d]]=!0,l.push(c[d]));return l},[])},tte=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},rte=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(o=!0),l.coordinate});return a||s.push(r),o||s.push(n),s},As=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?so(s[0]-s[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return d.filter(function(f){return!hp(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:a?a[f]:f,index:h,offset:c}})},TA=new WeakMap,l1=function(e,r){if(typeof r!="function")return e;TA.has(e)||TA.set(e,new WeakMap);var n=TA.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},WZe=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:wv(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Zw(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:sg(),realScaleType:"point"}:a==="category"?{scale:wv(),realScaleType:"band"}:{scale:Zw(),realScaleType:"linear"};if(Ju(i)){var l="scale".concat(j_(i));return{scale:(O9[l]||sg)(),realScaleType:O9[l]?l:"point"}}return Xe(i)?{scale:i}:{scale:sg(),realScaleType:"point"}},F9=1e-4,HZe=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-F9,o=Math.max(i[0],i[1])+F9,s=e(r[0]),l=e(r[n-1]);(s<a||s>o||l<a||l>o)&&e.domain([r[0],r[n-1]])}},GZe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},qZe=function(e,r){if(!r||r.length!==2||!be(r[0])||!be(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!be(e[0])||e[0]<n)&&(a[0]=n),(!be(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},KZe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=hp(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1])}},YZe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=hp(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},XZe={sign:KZe,expand:VHe,none:dh,silhouette:zHe,wiggle:WHe,positive:YZe},QZe=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),a=XZe[n],o=UHe().keys(i).value(function(s,l){return+da(s,l,0)}).order(BN).offset(a);return o(e)},ZZe=function(e,r,n,i,a,o){if(!e)return null;var s=o?r.reverse():r,l={},c=s.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Cr(Cr({},h.type.defaultProps),h.props):h.props,g=m.stackId,v=m.hide;if(v)return f;var y=m[n],x=f[y]||{hasStack:!1,stackGroups:{}};if(rn(g)){var w=x.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(h),x.hasStack=!0,x.stackGroups[g]=w}else x.stackGroups[$0("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return Cr(Cr({},f),{},Tf({},y,x))},l),d={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var y=p.stackGroups[v];return Cr(Cr({},g),{},Tf({},v,{numericAxisId:n,cateAxisId:i,items:y.items,stackedData:QZe(e,y.items,a)}))},m)}return Cr(Cr({},f),{},Tf({},h,p))},d)},JZe=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=uZe(c,a,s);return e.domain([z_(d),Ml(d)]),{niceTicks:d}}if(a&&i==="number"){var f=e.domain(),h=dZe(f,a,s);return{niceTicks:h}}return null};function B9(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!dt(i[e.dataKey])){var s=jw(r,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=da(i,dt(o)?e.dataKey:o);return dt(l)?null:e.scale(l)}var U9=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=da(o,r.dataKey,r.domain[s]);return dt(l)?null:r.scale(l)-a/2+i},eJe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},tJe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Cr(Cr({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(rn(a)){var o=r[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},rJe=function(e){return e.reduce(function(r,n){return[z_(n.concat([r[0]]).filter(be)),Ml(n.concat([r[1]]).filter(be))]},[1/0,-1/0])},nte=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(c,d){var f=rJe(d.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},V9=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,z9=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dI=function(e,r,n){if(Xe(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(be(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(V9.test(e[0])){var a=+V9.exec(e[0])[1];i[0]=r[0]-a}else Xe(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(be(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(z9.test(e[1])){var o=+z9.exec(e[1])[1];i[1]=r[1]+o}else Xe(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},ab=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=s_(r,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var c=a[s],d=a[s-1];o=Math.min((c.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},W9=function(e,r,n){return!e||!e.length||sh(e,Ia(n,"type.defaultProps.domain"))?r:e},ite=function(e,r){var n=e.type.defaultProps?Cr(Cr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,d=n.hide;return Cr(Cr({},rt(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:L3(e),value:da(r,i),type:l,payload:r,chartType:c,hide:d})};function Iv(t){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iv(t)}function H9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function G9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H9(Object(r),!0).forEach(function(n){nJe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nJe(t,e,r){return e=iJe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iJe(t){var e=aJe(t,"string");return Iv(e)=="symbol"?e:e+""}function aJe(t,e){if(Iv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ob=Math.PI/180,oJe=function(e){return e*180/Math.PI},In=function(e,r,n,i){return{x:e+Math.cos(-ob*i)*n,y:r+Math.sin(-ob*i)*n}},sJe=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},lJe=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,s=sJe({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:s,angle:oJe(c),angleInRadian:c}},cJe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},uJe=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},q9=function(e,r){var n=e.x,i=e.y,a=lJe({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,c=r.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var d=cJe(r),f=d.startAngle,h=d.endAngle,p=s,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?G9(G9({},r),{},{radius:o,angle:uJe(p,r)}):null};function Pv(t){"@babel/helpers - typeof";return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pv(t)}var dJe=["offset"];function fJe(t){return gJe(t)||mJe(t)||pJe(t)||hJe()}function hJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pJe(t,e){if(t){if(typeof t=="string")return fI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fI(t,e)}}function mJe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gJe(t){if(Array.isArray(t))return fI(t)}function fI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vJe(t,e){if(t==null)return{};var r=yJe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yJe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function K9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K9(Object(r),!0).forEach(function(n){xJe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xJe(t,e,r){return e=wJe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wJe(t){var e=bJe(t,"string");return Pv(e)=="symbol"?e:e+""}function bJe(t,e){if(Pv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ov(){return Ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ov.apply(this,arguments)}var _Je=function(e){var r=e.value,n=e.formatter,i=dt(e.children)?r:e.children;return Xe(n)?n(i):i},SJe=function(e,r){var n=so(r-e),i=Math.min(Math.abs(r-e),360);return n*i},EJe=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,c=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,v=(f+h)/2,y=SJe(p,m),x=y>=0?1:-1,w,S;i==="insideStart"?(w=p+x*o,S=g):i==="insideEnd"?(w=m-x*o,S=!g):i==="end"&&(w=m+x*o,S=g),S=y<=0?S:!S;var E=In(c,d,v,w),T=In(c,d,v,w+(S?1:-1)*359),A="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(T.x,",").concat(T.y),C=dt(e.id)?$0("recharts-radial-line-"):e.id;return D.createElement("text",Ov({},n,{dominantBaseline:"central",className:pt("recharts-radial-bar-label",s)}),D.createElement("defs",null,D.createElement("path",{id:C,d:A})),D.createElement("textPath",{xlinkHref:"#".concat(C)},r))},AJe=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,c=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var p=In(o,s,c+n,h),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,y=In(o,s,v,h),x=y.x,w=y.y;return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},CJe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,s=o.x,l=o.y,c=o.width,d=o.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=c>=0?1:-1,v=g*i,y=g>0?"end":"start",x=g>0?"start":"end";if(a==="top"){var w={x:s+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Hr(Hr({},w),n?{height:Math.max(l-n.y,0),width:c}:{})}if(a==="bottom"){var S={x:s+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:m};return Hr(Hr({},S),n?{height:Math.max(n.y+n.height-(l+d),0),width:c}:{})}if(a==="left"){var E={x:s-v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return Hr(Hr({},E),n?{width:Math.max(E.x-n.x,0),height:d}:{})}if(a==="right"){var T={x:s+c+v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return Hr(Hr({},T),n?{width:Math.max(n.x+n.width-T.x,0),height:d}:{})}var A=n?{width:c,height:d}:{};return a==="insideLeft"?Hr({x:s+v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},A):a==="insideRight"?Hr({x:s+c-v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},A):a==="insideTop"?Hr({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},A):a==="insideBottom"?Hr({x:s+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},A):a==="insideTopLeft"?Hr({x:s+v,y:l+h,textAnchor:x,verticalAnchor:m},A):a==="insideTopRight"?Hr({x:s+c-v,y:l+h,textAnchor:y,verticalAnchor:m},A):a==="insideBottomLeft"?Hr({x:s+v,y:l+d-h,textAnchor:x,verticalAnchor:p},A):a==="insideBottomRight"?Hr({x:s+c-v,y:l+d-h,textAnchor:y,verticalAnchor:p},A):ep(a)&&(be(a.x)||vu(a.x))&&(be(a.y)||vu(a.y))?Hr({x:s+ed(a.x,c),y:l+ed(a.y,d),textAnchor:"end",verticalAnchor:"end"},A):Hr({x:s+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},TJe=function(e){return"cx"in e&&be(e.cx)};function Xn(t){var e=t.offset,r=e===void 0?5:e,n=vJe(t,dJe),i=Hr({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,c=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||dt(s)&&dt(l)&&!_.isValidElement(c)&&!Xe(c))return null;if(_.isValidElement(c))return _.cloneElement(c,i);var p;if(Xe(c)){if(p=_.createElement(c,i),_.isValidElement(p))return p}else p=_Je(i);var m=TJe(a),g=rt(i,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return EJe(i,p,g);var v=m?AJe(i):CJe(i);return D.createElement(Hw,Ov({className:pt("recharts-label",f)},g,v,{breakAll:h}),p)}Xn.displayName="Label";var ate=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,p=e.top,m=e.left,g=e.width,v=e.height,y=e.clockWise,x=e.labelViewBox;if(x)return x;if(be(g)&&be(v)){if(be(f)&&be(h))return{x:f,y:h,width:g,height:v};if(be(p)&&be(m))return{x:p,y:m,width:g,height:v}}return be(f)&&be(h)?{x:f,y:h,width:0,height:0}:be(r)&&be(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:d||l||s||0,clockWise:y}:e.viewBox?e.viewBox:{}},NJe=function(e,r){return e?e===!0?D.createElement(Xn,{key:"label-implicit",viewBox:r}):rn(e)?D.createElement(Xn,{key:"label-implicit",viewBox:r,value:e}):_.isValidElement(e)?e.type===Xn?_.cloneElement(e,{key:"label-implicit",viewBox:r}):D.createElement(Xn,{key:"label-implicit",content:e,viewBox:r}):Xe(e)?D.createElement(Xn,{key:"label-implicit",content:e,viewBox:r}):ep(e)?D.createElement(Xn,Ov({viewBox:r},e,{key:"label-implicit"})):null:null},IJe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=ate(e),o=ho(i,Xn).map(function(l,c){return _.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)})});if(!n)return o;var s=NJe(e.label,r||a);return[s].concat(fJe(o))};Xn.parseViewBox=ate;Xn.renderCallByParent=IJe;function jv(t){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jv(t)}var PJe=["valueAccessor"],OJe=["data","dataKey","clockWise","id","textBreakAll"];function jJe(t){return MJe(t)||DJe(t)||RJe(t)||kJe()}function kJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RJe(t,e){if(t){if(typeof t=="string")return hI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hI(t,e)}}function DJe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MJe(t){if(Array.isArray(t))return hI(t)}function hI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sb(){return sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sb.apply(this,arguments)}function Y9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function X9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y9(Object(r),!0).forEach(function(n){LJe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LJe(t,e,r){return e=$Je(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Je(t){var e=FJe(t,"string");return jv(e)=="symbol"?e:e+""}function FJe(t,e){if(jv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q9(t,e){if(t==null)return{};var r=BJe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function BJe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var UJe=function(e){return Array.isArray(e.value)?bLe(e.value):e.value};function ic(t){var e=t.valueAccessor,r=e===void 0?UJe:e,n=Q9(t,PJe),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,c=Q9(n,OJe);return!i||!i.length?null:D.createElement(mr,{className:"recharts-label-list"},i.map(function(d,f){var h=dt(a)?r(d,f):da(d&&d.payload,a),p=dt(s)?{}:{id:"".concat(s,"-").concat(f)};return D.createElement(Xn,sb({},rt(d,!0),c,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:Xn.parseViewBox(dt(o)?d:X9(X9({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}ic.displayName="LabelList";function VJe(t,e){return t?t===!0?D.createElement(ic,{key:"labelList-implicit",data:e}):D.isValidElement(t)||Xe(t)?D.createElement(ic,{key:"labelList-implicit",data:e,content:t}):ep(t)?D.createElement(ic,sb({data:e},t,{key:"labelList-implicit"})):null:null}function zJe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=ho(n,ic).map(function(o,s){return _.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var a=VJe(t.label,e);return[a].concat(jJe(i))}ic.renderCallByParent=zJe;function kv(t){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kv(t)}function pI(){return pI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pI.apply(this,arguments)}function Z9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function J9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z9(Object(r),!0).forEach(function(n){WJe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WJe(t,e,r){return e=HJe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HJe(t){var e=GJe(t,"string");return kv(e)=="symbol"?e:e+""}function GJe(t,e){if(kv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qJe=function(e,r){var n=so(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},c1=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(s?1:-1)+i,f=Math.asin(l/d)/ob,h=c?a:a+o*f,p=In(r,n,d,h),m=In(r,n,i,h),g=c?a-o*f:a,v=In(r,n,d*Math.cos(f*ob),g);return{center:p,circleTangency:m,lineTangency:v,theta:f}},ote=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=qJe(o,s),c=o+l,d=In(r,n,a,o),f=In(r,n,a,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=In(r,n,i,o),m=In(r,n,i,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},KJe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,f=so(d-c),h=c1({cx:r,cy:n,radius:a,angle:c,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,g=h.theta,v=c1({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),y=v.circleTangency,x=v.lineTangency,w=v.theta,S=l?Math.abs(c-d):Math.abs(c-d)-g-w;if(S<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):ote({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d});var E="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var T=c1({cx:r,cy:n,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),A=T.circleTangency,C=T.lineTangency,N=T.theta,I=c1({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),P=I.circleTangency,k=I.lineTangency,O=I.theta,L=l?Math.abs(c-d):Math.abs(c-d)-N-O;if(L<0&&o===0)return"".concat(E,"L").concat(r,",").concat(n,"Z");E+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else E+="L".concat(r,",").concat(n,"Z");return E},YJe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ste=function(e){var r=J9(J9({},YJe),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<a||d===f)return null;var p=pt("recharts-sector",h),m=o-a,g=ed(s,m,0,!0),v;return g>0&&Math.abs(d-f)<360?v=KJe({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):v=ote({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),D.createElement("path",pI({},rt(r,!0),{className:p,d:v,role:"img"}))};function Rv(t){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rv(t)}function mI(){return mI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mI.apply(this,arguments)}function eF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eF(Object(r),!0).forEach(function(n){XJe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XJe(t,e,r){return e=QJe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QJe(t){var e=ZJe(t,"string");return Rv(e)=="symbol"?e:e+""}function ZJe(t,e){if(Rv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rF={curveBasisClosed:PHe,curveBasisOpen:OHe,curveBasis:IHe,curveBumpX:mHe,curveBumpY:gHe,curveLinearClosed:jHe,curveLinear:R_,curveMonotoneX:kHe,curveMonotoneY:RHe,curveNatural:DHe,curveStep:MHe,curveStepAfter:$He,curveStepBefore:LHe},u1=function(e){return e.x===+e.x&&e.y===+e.y},dm=function(e){return e.x},fm=function(e){return e.y},JJe=function(e,r){if(Xe(e))return e;var n="curve".concat(j_(e));return(n==="curveMonotone"||n==="curveBump")&&r?rF["".concat(n).concat(r==="vertical"?"Y":"X")]:rF[n]||R_},eet=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=JJe(n,s),f=c?a.filter(function(g){return u1(g)}):a,h;if(Array.isArray(o)){var p=c?o.filter(function(g){return u1(g)}):o,m=f.map(function(g,v){return tF(tF({},g),{},{base:p[v]})});return s==="vertical"?h=t1().y(fm).x1(dm).x0(function(g){return g.base.x}):h=t1().x(dm).y1(fm).y0(function(g){return g.base.y}),h.defined(u1).curve(d),h(m)}return s==="vertical"&&be(o)?h=t1().y(fm).x1(dm).x0(o):be(o)?h=t1().x(dm).y1(fm).y0(o):h=PJ().x(dm).y(fm),h.defined(u1).curve(d),h(f)},cg=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?eet(e):i;return D.createElement("path",mI({},rt(e,!1),kw(e),{className:pt("recharts-curve",r),d:o,ref:a}))},tet=Object.getOwnPropertyNames,ret=Object.getOwnPropertySymbols,net=Object.prototype.hasOwnProperty;function nF(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function d1(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function iF(t){return tet(t).concat(ret(t))}var iet=Object.hasOwn||function(t,e){return net.call(t,e)};function vd(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var aet="__v",oet="__o",set="_owner",aF=Object.getOwnPropertyDescriptor,oF=Object.keys;function cet(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function uet(t,e){return vd(t.getTime(),e.getTime())}function det(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function fet(t,e){return t===e}function sF(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var c=e.entries(),d=!1,f=0;(s=c.next())&&!s.done;){if(i[f]){f++;continue}var h=o.value,p=s.value;if(r.equals(h[0],p[0],l,f,t,e,r)&&r.equals(h[1],p[1],h[0],p[0],t,e,r)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var het=vd;function pet(t,e,r){var n=oF(t),i=n.length;if(oF(e).length!==i)return!1;for(;i-- >0;)if(!lte(t,e,r,n[i]))return!1;return!0}function hm(t,e,r){var n=iF(t),i=n.length;if(iF(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!lte(t,e,r,a)||(o=aF(t,a),s=aF(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function met(t,e){return vd(t.valueOf(),e.valueOf())}function get(t,e){return t.source===e.source&&t.flags===e.flags}function lF(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),c=!1,d=0;(s=l.next())&&!s.done;){if(!i[d]&&r.equals(o.value,s.value,o.value,s.value,t,e,r)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function vet(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function yet(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function lte(t,e,r,n){return(n===set||n===oet||n===aet)&&(t.$$typeof||e.$$typeof)?!0:iet(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var xet="[object Arguments]",wet="[object Boolean]",bet="[object Date]",_et="[object Error]",Eet="[object Map]",Aet="[object Number]",Cet="[object Object]",Tet="[object RegExp]",Net="[object Set]",Iet="[object String]",Pet="[object URL]",Oet=Array.isArray,cF=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,uF=Object.assign,jet=Object.prototype.toString.call.bind(Object.prototype.toString);function ket(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(m,g,v){if(m===g)return!0;if(m==null||g==null)return!1;var y=typeof m;if(y!==typeof g)return!1;if(y!=="object")return y==="number"?o(m,g,v):y==="function"?i(m,g,v):!1;var x=m.constructor;if(x!==g.constructor)return!1;if(x===Object)return s(m,g,v);if(Oet(m))return e(m,g,v);if(cF!=null&&cF(m))return f(m,g,v);if(x===Date)return r(m,g,v);if(x===RegExp)return c(m,g,v);if(x===Map)return a(m,g,v);if(x===Set)return d(m,g,v);var w=jet(m);return w===bet?r(m,g,v):w===Tet?c(m,g,v):w===Eet?a(m,g,v):w===Net?d(m,g,v):w===Cet?typeof m.then!="function"&&typeof g.then!="function"&&s(m,g,v):w===Pet?h(m,g,v):w===_et?n(m,g,v):w===xet?s(m,g,v):w===wet||w===Aet||w===Iet?l(m,g,v):!1}}function Ret(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?hm:cet,areDatesEqual:uet,areErrorsEqual:det,areFunctionsEqual:fet,areMapsEqual:n?nF(sF,hm):sF,areNumbersEqual:het,areObjectsEqual:n?hm:pet,arePrimitiveWrappersEqual:met,areRegExpsEqual:get,areSetsEqual:n?nF(lF,hm):lF,areTypedArraysEqual:n?hm:vet,areUrlsEqual:yet};if(r&&(i=uF({},i,r(i))),e){var a=d1(i.areArraysEqual),o=d1(i.areMapsEqual),s=d1(i.areObjectsEqual),l=d1(i.areSetsEqual);i=uF({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function Det(t){return function(e,r,n,i,a,o,s){return t(e,r,s)}}function Met(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,c){var d=n(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return r(l,c,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return r(l,c,o)}}var Let=Uc();Uc({strict:!0});Uc({circular:!0});Uc({circular:!0,strict:!0});Uc({createInternalComparator:function(){return vd}});Uc({strict:!0,createInternalComparator:function(){return vd}});Uc({circular:!0,createInternalComparator:function(){return vd}});Uc({circular:!0,createInternalComparator:function(){return vd},strict:!0});function Uc(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=Ret(t),l=ket(s),c=n?n(l):Det(l);return Met({circular:r,comparator:l,createState:i,equals:c,strict:o})}function $et(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function dF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):$et(i)};requestAnimationFrame(n)}function gI(t){"@babel/helpers - typeof";return gI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gI(t)}function Fet(t){return zet(t)||Vet(t)||Uet(t)||Bet()}function Bet(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uet(t,e){if(t){if(typeof t=="string")return fF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fF(t,e)}}function fF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vet(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zet(t){if(Array.isArray(t))return t}function Wet(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=Fet(o),l=s[0],c=s.slice(1);if(typeof l=="number"){dF(i.bind(null,c),l);return}i(l),dF(i.bind(null,c));return}gI(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Dv(t){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(t)}function hF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hF(Object(r),!0).forEach(function(n){cte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cte(t,e,r){return e=Het(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Het(t){var e=Get(t,"string");return Dv(e)==="symbol"?e:String(e)}function Get(t,e){if(Dv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qet=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Ket=function(e){return e},Yet=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ug=function(e,r){return Object.keys(r).reduce(function(n,i){return pF(pF({},n),{},cte({},i,e(i,r[i])))},{})},mF=function(e,r,n){return e.map(function(i){return"".concat(Yet(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Xet(t,e){return Jet(t)||Zet(t,e)||ute(t,e)||Qet()}function Qet(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zet(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Jet(t){if(Array.isArray(t))return t}function ett(t){return ntt(t)||rtt(t)||ute(t)||ttt()}function ttt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ute(t,e){if(t){if(typeof t=="string")return vI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vI(t,e)}}function rtt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ntt(t){if(Array.isArray(t))return vI(t)}function vI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var lb=1e-4,dte=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},fte=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},gF=function(e,r){return function(n){var i=dte(e,r);return fte(i,n)}},itt=function(e,r){return function(n){var i=dte(e,r),a=[].concat(ett(i.map(function(o,s){return o*s}).slice(1)),[0]);return fte(a,n)}},vF=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=Xet(c,4);i=d[0],a=d[1],o=d[2],s=d[3]}}}var f=gF(i,o),h=gF(a,s),p=itt(i,o),m=function(y){return y>1?1:y<0?0:y},g=function(y){for(var x=y>1?1:y,w=x,S=0;S<8;++S){var E=f(w)-x,T=p(w);if(Math.abs(E-x)<lb||T<lb)return h(w);w=m(w-E/T)}return h(w)};return g.isStepper=!1,g},att=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(d,f,h){var p=-(d-f)*n,m=h*a,g=h+(p-m)*s/1e3,v=h*s/1e3+d;return Math.abs(v-f)<lb&&Math.abs(g)<lb?[f,0]:[v,g]};return l.isStepper=!0,l.dt=s,l},ott=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return vF(i);case"spring":return att();default:if(i.split("(")[0]==="cubic-bezier")return vF(i)}return typeof i=="function"?i:null};function Mv(t){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mv(t)}function yF(t){return ctt(t)||ltt(t)||hte(t)||stt()}function stt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ltt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ctt(t){if(Array.isArray(t))return xI(t)}function xF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function En(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xF(Object(r),!0).forEach(function(n){yI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yI(t,e,r){return e=utt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function utt(t){var e=dtt(t,"string");return Mv(e)==="symbol"?e:String(e)}function dtt(t,e){if(Mv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ftt(t,e){return mtt(t)||ptt(t,e)||hte(t,e)||htt()}function htt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hte(t,e){if(t){if(typeof t=="string")return xI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xI(t,e)}}function xI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ptt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function mtt(t){if(Array.isArray(t))return t}var cb=function(e,r,n){return e+(r-e)*n},wI=function(e){var r=e.from,n=e.to;return r!==n},gtt=function t(e,r,n){var i=ug(function(a,o){if(wI(o)){var s=e(o.from,o.to,o.velocity),l=ftt(s,2),c=l[0],d=l[1];return En(En({},o),{},{from:c,velocity:d})}return o},r);return n<1?ug(function(a,o){return wI(o)?En(En({},o),{},{velocity:cb(o.velocity,i[a].velocity,n),from:cb(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const vtt=function(t,e,r,n,i){var a=qet(t,e),o=a.reduce(function(v,y){return En(En({},v),{},yI({},y,[t[y],e[y]]))},{}),s=a.reduce(function(v,y){return En(En({},v),{},yI({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,c,d,f=function(){return null},h=function(){return ug(function(y,x){return x.from},s)},p=function(){return!Object.values(s).filter(wI).length},m=function(y){c||(c=y);var x=y-c,w=x/r.dt;s=gtt(r,s,w),i(En(En(En({},t),e),h())),c=y,p()||(l=requestAnimationFrame(f))},g=function(y){d||(d=y);var x=(y-d)/n,w=ug(function(E,T){return cb.apply(void 0,yF(T).concat([r(x)]))},o);if(i(En(En(En({},t),e),w)),x<1)l=requestAnimationFrame(f);else{var S=ug(function(E,T){return cb.apply(void 0,yF(T).concat([r(1)]))},o);i(En(En(En({},t),e),S))}};return f=r.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}var ytt=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function xtt(t,e){if(t==null)return{};var r=wtt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wtt(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function NA(t){return Ett(t)||Stt(t)||_tt(t)||btt()}function btt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _tt(t,e){if(t){if(typeof t=="string")return bI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bI(t,e)}}function Stt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ett(t){if(Array.isArray(t))return bI(t)}function bI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wF(Object(r),!0).forEach(function(n){Rm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rm(t,e,r){return e=pte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Att(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ctt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pte(n.key),n)}}function Ttt(t,e,r){return e&&Ctt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pte(t){var e=Ntt(t,"string");return wh(e)==="symbol"?e:String(e)}function Ntt(t,e){if(wh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Itt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_I(t,e)}function _I(t,e){return _I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_I(t,e)}function Ptt(t){var e=Ott();return function(){var n=ub(t),i;if(e){var a=ub(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return SI(this,i)}}function SI(t,e){if(e&&(wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EI(t)}function EI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ott(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ub(t){return ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ub(t)}var Qs=function(t){Itt(r,t);var e=Ptt(r);function r(n,i){var a;Att(this,r),a=e.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,c=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(EI(a)),a.changeStyle=a.changeStyle.bind(EI(a)),!s||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),SI(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof h=="function")return a.state={style:c},SI(a);a.state={style:l?Rm({},l,c):c}}else a.state={style:{}};return a}return Ttt(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(s){if(!o){var p={style:l?Rm({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(Let(i.to,d)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||c?f:i.to;if(this.state&&h){var v={style:l?Rm({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(v)}this.runAnimation(qa(qa({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,c=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=vtt(o,s,ott(c),l,this.changeStyle),m=function(){a.stopJSAnimation=p()};this.manager.start([h,d,m,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,c=o[0],d=c.style,f=c.duration,h=f===void 0?0:f,p=function(g,v,y){if(y===0)return g;var x=v.duration,w=v.easing,S=w===void 0?"ease":w,E=v.style,T=v.properties,A=v.onAnimationEnd,C=y>0?o[y-1]:v,N=T||Object.keys(E);if(typeof S=="function"||S==="spring")return[].concat(NA(g),[a.runJSAnimation.bind(a,{from:C.style,to:E,duration:x,easing:S}),x]);var I=mF(N,x,S),P=qa(qa(qa({},C.style),E),{},{transition:I});return[].concat(NA(g),[P,x,A]).filter(Ket)};return this.manager.start([l].concat(NA(o.reduce(p,[d,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Wet());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=s?Rm({},s,l):l,v=mF(Object.keys(g),o,c);m.start([d,a,qa(qa({},g),{},{transition:v}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=xtt(i,ytt),c=_.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!s||c===0||o<=0)return a;var f=function(p){var m=p.props,g=m.style,v=g===void 0?{}:g,y=m.className,x=_.cloneElement(p,qa(qa({},l),{},{style:qa(qa({},v),d),className:y}));return x};return c===1?f(_.Children.only(a)):D.createElement("div",null,_.Children.map(a,function(h){return f(h)}))}}]),r}(_.PureComponent);Qs.displayName="Animate";Qs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Qs.propTypes={from:ue.oneOfType([ue.object,ue.string]),to:ue.oneOfType([ue.object,ue.string]),attributeName:ue.string,duration:ue.number,begin:ue.number,easing:ue.oneOfType([ue.string,ue.func]),steps:ue.arrayOf(ue.shape({duration:ue.number.isRequired,style:ue.object.isRequired,easing:ue.oneOfType([ue.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ue.func]),properties:ue.arrayOf("string"),onAnimationEnd:ue.func})),children:ue.oneOfType([ue.node,ue.func]),isActive:ue.bool,canBegin:ue.bool,onAnimationEnd:ue.func,shouldReAnimate:ue.bool,onAnimationStart:ue.func,onAnimationReStart:ue.func};function Lv(t){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lv(t)}function db(){return db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},db.apply(this,arguments)}function jtt(t,e){return Mtt(t)||Dtt(t,e)||Rtt(t,e)||ktt()}function ktt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rtt(t,e){if(t){if(typeof t=="string")return bF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bF(t,e)}}function bF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Dtt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Mtt(t){if(Array.isArray(t))return t}function _F(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_F(Object(r),!0).forEach(function(n){Ltt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_F(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ltt(t,e,r){return e=$tt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $tt(t){var e=Ftt(t,"string");return Lv(e)=="symbol"?e:e+""}function Ftt(t,e){if(Lv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EF=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>o?o:a[h];d="M".concat(e,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(r)),d+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+s*f[1])),d+="L ".concat(e+n,",").concat(r+i-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),d+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-s*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var m=Math.min(o,a);d="M ".concat(e,",").concat(r+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(r,`
            L `).concat(e+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+n,",").concat(r+s*m,`
            L `).concat(e+n,",").concat(r+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+n-l*m,",").concat(r+i,`
            L `).concat(e+l*m,",").concat(r+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(r+i-s*m," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},Btt=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(a,a+s),d=Math.max(a,a+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return n>=c&&n<=d&&i>=f&&i<=h}return!1},Utt={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$3=function(e){var r=SF(SF({},Utt),e),n=_.useRef(),i=_.useState(-1),a=jtt(i,2),o=a[0],s=a[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,c=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,g=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,x=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var w=pt("recharts-rectangle",p);return x?D.createElement(Qs,{canBegin:o>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:g,animationEasing:m,isActive:x},function(S){var E=S.width,T=S.height,A=S.x,C=S.y;return D.createElement(Qs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:y,easing:m},D.createElement("path",db({},rt(r,!0),{className:w,d:EF(A,C,E,T,h),ref:n})))}):D.createElement("path",db({},rt(r,!0),{className:w,d:EF(l,c,d,f,h)}))};function AI(){return AI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},AI.apply(this,arguments)}var F3=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=pt("recharts-dot",a);return r===+r&&n===+n&&i===+i?D.createElement("circle",AI({},rt(e,!1),kw(e),{className:o,cx:r,cy:n,r:i})):null};function $v(t){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$v(t)}var Vtt=["x","y","top","left","width","height","className"];function CI(){return CI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CI.apply(this,arguments)}function AF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ztt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AF(Object(r),!0).forEach(function(n){Wtt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wtt(t,e,r){return e=Htt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Htt(t){var e=Gtt(t,"string");return $v(e)=="symbol"?e:e+""}function Gtt(t,e){if($v(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qtt(t,e){if(t==null)return{};var r=Ktt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ktt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ytt=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},Xtt=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,c=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,p=h===void 0?0:h,m=e.className,g=qtt(e,Vtt),v=ztt({x:n,y:a,top:s,left:c,width:f,height:p},g);return!be(n)||!be(a)||!be(f)||!be(p)||!be(s)||!be(c)?null:D.createElement("path",CI({},rt(v,!0),{className:pt("recharts-cross",m),d:Ytt(n,a,f,p,s,c)}))},Qtt=rl,Ztt=Eo,Jtt="[object Boolean]";function ert(t){return t===!0||t===!1||Ztt(t)&&Qtt(t)==Jtt}var trt=ert;const rrt=ct(trt);function Fv(t){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fv(t)}function fb(){return fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fb.apply(this,arguments)}function nrt(t,e){return srt(t)||ort(t,e)||art(t,e)||irt()}function irt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function art(t,e){if(t){if(typeof t=="string")return CF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CF(t,e)}}function CF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ort(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function srt(t){if(Array.isArray(t))return t}function TF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TF(Object(r),!0).forEach(function(n){lrt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lrt(t,e,r){return e=crt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function crt(t){var e=urt(t,"string");return Fv(e)=="symbol"?e:e+""}function urt(t,e){if(Fv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IF=function(e,r,n,i,a){var o=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-o/2,",").concat(r+a),s+="L ".concat(e+n-o/2-i,",").concat(r+a),s+="L ".concat(e,",").concat(r," Z"),s},drt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},frt=function(e){var r=NF(NF({},drt),e),n=_.useRef(),i=_.useState(-1),a=nrt(i,2),o=a[0],s=a[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&s(w)}catch{}},[]);var l=r.x,c=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,g=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=pt("recharts-trapezoid",p);return y?D.createElement(Qs,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:c},duration:g,animationEasing:m,isActive:y},function(w){var S=w.upperWidth,E=w.lowerWidth,T=w.height,A=w.x,C=w.y;return D.createElement(Qs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:m},D.createElement("path",fb({},rt(r,!0),{className:x,d:IF(A,C,S,E,T),ref:n})))}):D.createElement("g",null,D.createElement("path",fb({},rt(r,!0),{className:x,d:IF(l,c,d,f,h)})))},hrt=["option","shapeType","propTransformer","activeClassName","isActive"];function Bv(t){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bv(t)}function prt(t,e){if(t==null)return{};var r=mrt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mrt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function PF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PF(Object(r),!0).forEach(function(n){grt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function grt(t,e,r){return e=vrt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vrt(t){var e=yrt(t,"string");return Bv(e)=="symbol"?e:e+""}function yrt(t,e){if(Bv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xrt(t,e){return hb(hb({},e),t)}function wrt(t,e){return t==="symbols"}function OF(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return D.createElement($3,r);case"trapezoid":return D.createElement(frt,r);case"sector":return D.createElement(ste,r);case"symbols":if(wrt(e))return D.createElement(u3,r);break;default:return null}}function brt(t){return _.isValidElement(t)?t.props:t}function _rt(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?xrt:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=prt(t,hrt),c;if(_.isValidElement(e))c=_.cloneElement(e,hb(hb({},l),brt(e)));else if(Xe(e))c=e(l);else if(ULe(e)&&!rrt(e)){var d=i(e,l);c=D.createElement(OF,{shapeType:r,elementProps:d})}else{var f=l;c=D.createElement(OF,{shapeType:r,elementProps:f})}return s?D.createElement(mr,{className:o},c):c}function q_(t,e){return e!=null&&"trapezoids"in t.props}function K_(t,e){return e!=null&&"sectors"in t.props}function Uv(t,e){return e!=null&&"points"in t.props}function Srt(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Ert(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Art(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Crt(t,e){var r;return q_(t,e)?r=Srt:K_(t,e)?r=Ert:Uv(t,e)&&(r=Art),r}function Trt(t,e){var r;return q_(t,e)?r="trapezoids":K_(t,e)?r="sectors":Uv(t,e)&&(r="points"),r}function Nrt(t,e){if(q_(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(K_(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Uv(t,e)?e.payload:{}}function Irt(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Trt(r,e),a=Nrt(r,e),o=n.filter(function(l,c){var d=sh(a,l),f=r.props[i].filter(function(m){var g=Crt(r,e);return g(m,e)}),h=r.props[i].indexOf(f[f.length-1]),p=c===h;return d&&p}),s=n.indexOf(o[o.length-1]);return s}function Vv(t){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vv(t)}function jF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jF(Object(r),!0).forEach(function(n){mte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mte(t,e,r){return e=Prt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Prt(t){var e=Ort(t,"string");return Vv(e)=="symbol"?e:e+""}function Ort(t,e){if(Vv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jrt=["Webkit","Moz","O","ms"],krt=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=jrt.reduce(function(a,o){return kF(kF({},a),{},mte({},o+n,r))},{});return i[e]=r,i};function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function pb(){return pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pb.apply(this,arguments)}function RF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RF(Object(r),!0).forEach(function(n){Yi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rrt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vte(n.key),n)}}function Drt(t,e,r){return e&&DF(t.prototype,e),r&&DF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mrt(t,e,r){return e=mb(e),Lrt(t,gte()?Reflect.construct(e,r||[],mb(t).constructor):e.apply(t,r))}function Lrt(t,e){if(e&&(bh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $rt(t)}function $rt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gte=function(){return!!t})()}function mb(t){return mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mb(t)}function Frt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TI(t,e)}function TI(t,e){return TI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TI(t,e)}function Yi(t,e,r){return e=vte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vte(t){var e=Brt(t,"string");return bh(e)=="symbol"?e:e+""}function Brt(t,e){if(bh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Urt=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=sg().domain(cv(0,l)).range([a,a+o-s]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:d}},MF=function(e){return e.changedTouches&&!!e.changedTouches.length},_h=function(t){function e(r){var n;return Rrt(this,e),n=Mrt(this,e,[r]),Yi(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Yi(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Yi(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),Yi(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Yi(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Yi(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Yi(n,"handleSlideDragStart",function(i){var a=MF(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Frt(e,t),Drt(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,d=c.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(o,f),m=e.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:m===d?d:m-m%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=da(a[n],s,n);return Xe(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,g=n.pageX-a;g>0?g=Math.min(g,c+d-f-s,c+d-f-o):g<0&&(g=Math.max(g,c-o,c-s));var v=this.getIndex({startX:o+g,endX:s+g});(v.startIndex!==h||v.endIndex!==p)&&m&&m(v),this.setState({startX:o+g,endX:s+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=MF(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,g=d.gap,v=d.data,y={startX:this.state.startX,endX:this.state.endX},x=n.pageX-a;x>0?x=Math.min(x,f+h-p-c):x<0&&(x=Math.max(x,f-c)),y[o]=c+x;var w=this.getIndex(y),S=w.startIndex,E=w.endIndex,T=function(){var C=v.length-1;return o==="startX"&&(s>l?S%g===0:E%g===0)||s<l&&E===C||o==="endX"&&(s>l?E%g===0:S%g===0)||s>l&&E===C};this.setState(Yi(Yi({},o,c+x),"brushMoveStartX",n.pageX),function(){m&&T()&&m(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,d=this.state[i],f=s.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(Yi({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,c=n.stroke;return D.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,c=n.children,d=n.padding,f=_.Children.only(c);return f?D.cloneElement(f,{x:i,y:a,width:o,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,v=l.endIndex,y=Math.max(n,this.props.x),x=IA(IA({},rt(this.props,!1)),{},{x:y,y:c,width:d,height:f}),w=p||"Min value: ".concat((a=m[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=m[v])===null||o===void 0?void 0:o.name);return D.createElement(mr,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),s.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,c=a.travellerWidth,d=Math.min(n,i)+c,f=Math.max(Math.abs(i-n)-c,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:c};return D.createElement(mr,{className:"recharts-brush-texts"},D.createElement(Hw,pb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+s/2},m),this.getTextOfTick(i)),D.createElement(Hw,pb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+s/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,c=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,g=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!be(s)||!be(l)||!be(c)||!be(d)||c<=0||d<=0)return null;var w=pt("recharts-brush",a),S=D.Children.count(o)===1,E=krt("userSelect","none");return D.createElement(mr,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||v||y||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,c=Math.floor(a+s/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),D.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return D.isValidElement(n)?a=D.cloneElement(n,i):Xe(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return IA({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},a&&a.length?Urt({data:a,width:o,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}])}(_.PureComponent);Yi(_h,"displayName","Brush");Yi(_h,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Vrt=kk;function zrt(t,e){var r;return Vrt(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var Wrt=zrt,Hrt=QX,Grt=nl,qrt=Wrt,Krt=ai,Yrt=rp;function Xrt(t,e,r){var n=Krt(t)?Hrt:qrt;return r&&Yrt(t,e,r)&&(e=void 0),n(t,Grt(e))}var Qrt=Xrt;const Zrt=ct(Qrt);var Ko=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r};function Jrt(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var ent=Jrt,tnt=kk;function rnt(t,e){var r=!0;return tnt(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var nnt=rnt,int=ent,ant=nnt,ont=nl,snt=ai,lnt=rp;function cnt(t,e,r){var n=snt(t)?int:ant;return r&&lnt(t,e,r)&&(e=void 0),n(t,ont(e))}var unt=cnt;const yte=ct(unt);var dnt=["x","y"];function zv(t){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zv(t)}function NI(){return NI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NI.apply(this,arguments)}function LF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LF(Object(r),!0).forEach(function(n){fnt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fnt(t,e,r){return e=hnt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hnt(t){var e=pnt(t,"string");return zv(e)=="symbol"?e:e+""}function pnt(t,e){if(zv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mnt(t,e){if(t==null)return{};var r=gnt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gnt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vnt(t,e){var r=t.x,n=t.y,i=mnt(t,dnt),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),c="".concat(e.height||i.height),d=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return pm(pm(pm(pm(pm({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function $F(t){return D.createElement(_rt,NI({shapeType:"rectangle",propTransformer:vnt,activeClassName:"recharts-active-bar"},t))}var ynt=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=typeof n=="number";return a?e(n,i):(a||rd(),r)}},xnt=["value","background"],xte;function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function wnt(t,e){if(t==null)return{};var r=bnt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bnt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gb(){return gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gb.apply(this,arguments)}function FF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ur(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FF(Object(r),!0).forEach(function(n){Ll(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bte(n.key),n)}}function Snt(t,e,r){return e&&BF(t.prototype,e),r&&BF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ent(t,e,r){return e=vb(e),Ant(t,wte()?Reflect.construct(e,r||[],vb(t).constructor):e.apply(t,r))}function Ant(t,e){if(e&&(Sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cnt(t)}function Cnt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wte=function(){return!!t})()}function vb(t){return vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vb(t)}function Tnt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&II(t,e)}function II(t,e){return II=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},II(t,e)}function Ll(t,e,r){return e=bte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bte(t){var e=Nnt(t,"string");return Sh(e)=="symbol"?e:e+""}function Nnt(t,e){if(Sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var z0=function(t){function e(){var r;_nt(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ent(this,e,[].concat(i)),Ll(r,"state",{isAnimationFinished:!1}),Ll(r,"id",$0("recharts-bar-")),Ll(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ll(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Tnt(e,t),Snt(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,c=a.activeBar,d=rt(this.props,!1);return n&&n.map(function(f,h){var p=h===l,m=p?c:o,g=Ur(Ur(Ur({},d),f),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return D.createElement(mr,gb({className:"recharts-bar-rectangle"},Rw(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),D.createElement($F,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return D.createElement(Qs,{begin:l,duration:c,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=a.map(function(v,y){var x=h&&h[y];if(x){var w=Sa(x.x,v.x),S=Sa(x.y,v.y),E=Sa(x.width,v.width),T=Sa(x.height,v.height);return Ur(Ur({},v),{},{x:w(m),y:S(m),width:E(m),height:T(m)})}if(o==="horizontal"){var A=Sa(0,v.height),C=A(m);return Ur(Ur({},v),{},{y:v.y+v.height-C,height:C})}var N=Sa(0,v.width),I=N(m);return Ur(Ur({},v),{},{width:I})});return D.createElement(mr,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!sh(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=rt(this.props.background,!1);return a.map(function(c,d){c.value;var f=c.background,h=wnt(c,xnt);if(!f)return null;var p=Ur(Ur(Ur(Ur(Ur({},h),{},{fill:"#eee"},f),l),Rw(n.props,c,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return D.createElement($F,gb({key:"background-bar-".concat(d),option:n.props.background,isActive:d===s},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,c=a.layout,d=a.children,f=ho(d,G_);if(!f)return null;var h=c==="vertical"?o[0].height/2:o[0].width/2,p=function(v,y){var x=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:x,errorVal:da(v,y)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return D.createElement(mr,m,f.map(function(g){return D.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,c=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,m=n.background,g=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,y=pt("recharts-bar",o),x=s&&s.allowDataOverflow,w=l&&l.allowDataOverflow,S=x||w,E=dt(g)?this.id:g;return D.createElement(mr,{className:y},x||w?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(E)},D.createElement("rect",{x:x?c:c-f/2,y:w?d:d-h/2,width:x?f:f*2,height:w?h:h*2}))):null,D.createElement(mr,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(E,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,E),(!p||v)&&ic.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(_.PureComponent);xte=z0;Ll(z0,"displayName","Bar");Ll(z0,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!pp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ll(z0,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=GZe(n,r);if(!p)return null;var m=e.layout,g=r.type.defaultProps,v=g!==void 0?Ur(Ur({},g),r.props):r.props,y=v.dataKey,x=v.children,w=v.minPointSize,S=m==="horizontal"?o:a,E=c?S.scale.domain():null,T=eJe({numericAxis:S}),A=ho(x,ZJ),C=f.map(function(N,I){var P,k,O,L,z,M;c?P=qZe(c[d+I],E):(P=da(N,y),Array.isArray(P)||(P=[T,P]));var W=ynt(w,xte.defaultProps.minPointSize)(P[1],I);if(m==="horizontal"){var $,B=[o.scale(P[0]),o.scale(P[1])],G=B[0],X=B[1];k=U9({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:N,index:I}),O=($=X??G)!==null&&$!==void 0?$:void 0,L=p.size;var Y=G-X;if(z=Number.isNaN(Y)?0:Y,M={x:k,y:o.y,width:L,height:o.height},Math.abs(W)>0&&Math.abs(z)<Math.abs(W)){var ee=so(z||W)*(Math.abs(W)-Math.abs(z));O-=ee,z+=ee}}else{var ce=[a.scale(P[0]),a.scale(P[1])],de=ce[0],_e=ce[1];if(k=de,O=U9({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:N,index:I}),L=_e-de,z=p.size,M={x:a.x,y:O,width:a.width,height:z},Math.abs(W)>0&&Math.abs(L)<Math.abs(W)){var ge=so(L||W)*(Math.abs(W)-Math.abs(L));L+=ge}}return Ur(Ur(Ur({},N),{},{x:k,y:O,width:L,height:z,value:c?P:P[1],payload:N,background:M},A&&A[I]&&A[I].props),{},{tooltipPayload:[ite(r,N)],tooltipPosition:{x:k+L/2,y:O+z/2}})});return Ur({data:C,layout:m},h)});function Wv(t){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wv(t)}function Int(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_te(n.key),n)}}function Pnt(t,e,r){return e&&UF(t.prototype,e),r&&UF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function VF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VF(Object(r),!0).forEach(function(n){Y_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y_(t,e,r){return e=_te(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _te(t){var e=Ont(t,"string");return Wv(e)=="symbol"?e:e+""}function Ont(t,e){if(Wv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jnt=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.layout,c=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!Qi(c,z0);return d.reduce(function(p,m){var g=r[m],v=g.orientation,y=g.domain,x=g.padding,w=x===void 0?{}:x,S=g.mirror,E=g.reversed,T="".concat(v).concat(S?"Mirror":""),A,C,N,I,P;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var k=y[1]-y[0],O=1/0,L=g.categoricalDomain.sort(aWe);if(L.forEach(function(ce,de){de>0&&(O=Math.min((ce||0)-(L[de-1]||0),O))}),Number.isFinite(O)){var z=O/k,M=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(A=z*M/2),g.padding==="no-gap"){var W=ed(e.barCategoryGap,z*M),$=z*M/2;A=$-W-($-W)/M*W}}}i==="xAxis"?C=[n.left+(w.left||0)+(A||0),n.left+n.width-(w.right||0)-(A||0)]:i==="yAxis"?C=l==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(A||0),n.top+n.height-(w.bottom||0)-(A||0)]:C=g.range,E&&(C=[C[1],C[0]]);var B=WZe(g,a,h),G=B.scale,X=B.realScaleType;G.domain(y).range(C),HZe(G);var Y=JZe(G,eo(eo({},g),{},{realScaleType:X}));i==="xAxis"?(P=v==="top"&&!S||v==="bottom"&&S,N=n.left,I=f[T]-P*g.height):i==="yAxis"&&(P=v==="left"&&!S||v==="right"&&S,N=f[T]-P*g.width,I=n.top);var ee=eo(eo(eo({},g),Y),{},{realScaleType:X,x:N,y:I,scale:G,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return ee.bandSize=ab(ee,Y),!g.hide&&i==="xAxis"?f[T]+=(P?-1:1)*ee.height:g.hide||(f[T]+=(P?-1:1)*ee.width),eo(eo({},p),{},Y_({},m,ee))},{})},Ste=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},knt=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return Ste({x:r,y:n},{x:i,y:a})},Ete=function(){function t(e){Int(this,t),this.scale=e}return Pnt(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();Y_(Ete,"EPS",1e-4);var B3=function(e){var r=Object.keys(e).reduce(function(n,i){return eo(eo({},n),{},Y_({},i,Ete.create(e[i])))},{});return eo(eo({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return IQ(i,function(l,c){return r[c].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return yte(i,function(a,o){return r[o].isInRange(a)})}})};function Rnt(t){return(t%180+180)%180}var Dnt=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Rnt(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},Mnt=nl,Lnt=tp,$nt=lp;function Fnt(t){return function(e,r,n){var i=Object(e);if(!Lnt(e)){var a=Mnt(r);e=$nt(e),r=function(s){return a(i[s],s,i)}}var o=t(e,r,n);return o>-1?i[a?e[o]:o]:void 0}}var Bnt=Fnt,Unt=Bnt,Vnt=xQ,znt=Unt(Vnt),Wnt=znt;const Hnt=ct(Wnt);var Gnt=tRe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),U3=_.createContext(void 0),V3=_.createContext(void 0),Ate=_.createContext(void 0),Cte=_.createContext({}),Tte=_.createContext(void 0),Nte=_.createContext(0),Ite=_.createContext(0),zF=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,s=e.children,l=e.width,c=e.height,d=Gnt(a);return D.createElement(U3.Provider,{value:n},D.createElement(V3.Provider,{value:i},D.createElement(Cte.Provider,{value:a},D.createElement(Ate.Provider,{value:d},D.createElement(Tte.Provider,{value:o},D.createElement(Nte.Provider,{value:c},D.createElement(Ite.Provider,{value:l},s)))))))},qnt=function(){return _.useContext(Tte)},Pte=function(e){var r=_.useContext(U3);r==null&&rd();var n=r[e];return n==null&&rd(),n},Knt=function(){var e=_.useContext(U3);return Pl(e)},Ynt=function(){var e=_.useContext(V3),r=Hnt(e,function(n){return yte(n.domain,Number.isFinite)});return r||Pl(e)},Ote=function(e){var r=_.useContext(V3);r==null&&rd();var n=r[e];return n==null&&rd(),n},Xnt=function(){var e=_.useContext(Ate);return e},Qnt=function(){return _.useContext(Cte)},z3=function(){return _.useContext(Ite)},W3=function(){return _.useContext(Nte)};function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function Znt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jnt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kte(n.key),n)}}function eit(t,e,r){return e&&Jnt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tit(t,e,r){return e=yb(e),rit(t,jte()?Reflect.construct(e,r||[],yb(t).constructor):e.apply(t,r))}function rit(t,e){if(e&&(Eh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nit(t)}function nit(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jte=function(){return!!t})()}function yb(t){return yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yb(t)}function iit(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PI(t,e)}function PI(t,e){return PI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},PI(t,e)}function WF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WF(Object(r),!0).forEach(function(n){H3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function H3(t,e,r){return e=kte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kte(t){var e=ait(t,"string");return Eh(e)=="symbol"?e:e+""}function ait(t,e){if(Eh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function oit(t,e){return uit(t)||cit(t,e)||lit(t,e)||sit()}function sit(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lit(t,e){if(t){if(typeof t=="string")return GF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GF(t,e)}}function GF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cit(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function uit(t){if(Array.isArray(t))return t}function OI(){return OI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},OI.apply(this,arguments)}var dit=function(e,r){var n;return D.isValidElement(e)?n=D.cloneElement(e,r):Xe(e)?n=e(r):n=D.createElement("line",OI({},r,{className:"recharts-reference-line-line"})),n},fit=function(e,r,n,i,a,o,s,l,c){var d=a.x,f=a.y,h=a.width,p=a.height;if(n){var m=c.y,g=e.y.apply(m,{position:o});if(Ko(c,"discard")&&!e.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?v.reverse():v}if(r){var y=c.x,x=e.x.apply(y,{position:o});if(Ko(c,"discard")&&!e.x.isInRange(x))return null;var w=[{x,y:f+p},{x,y:f}];return s==="top"?w.reverse():w}if(i){var S=c.segment,E=S.map(function(T){return e.apply(T,{position:o})});return Ko(c,"discard")&&Zrt(E,function(T){return!e.isInRange(T)})?null:E}return null};function hit(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,c=qnt(),d=Pte(i),f=Ote(a),h=Xnt();if(!c||!h)return null;js(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=B3({x:d.scale,y:f.scale}),m=rn(e),g=rn(r),v=n&&n.length===2,y=fit(p,m,g,v,h,t.position,d.orientation,f.orientation,t);if(!y)return null;var x=oit(y,2),w=x[0],S=w.x,E=w.y,T=x[1],A=T.x,C=T.y,N=Ko(t,"hidden")?"url(#".concat(c,")"):void 0,I=HF(HF({clipPath:N},rt(t,!0)),{},{x1:S,y1:E,x2:A,y2:C});return D.createElement(mr,{className:pt("recharts-reference-line",s)},dit(o,I),Xn.renderCallByParent(t,knt({x1:S,y1:E,x2:A,y2:C})))}var G3=function(t){function e(){return Znt(this,e),tit(this,e,arguments)}return iit(e,t),eit(e,[{key:"render",value:function(){return D.createElement(hit,this.props)}}])}(D.Component);H3(G3,"displayName","ReferenceLine");H3(G3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function jI(){return jI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jI.apply(this,arguments)}function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function qF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function KF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qF(Object(r),!0).forEach(function(n){X_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mit(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dte(n.key),n)}}function git(t,e,r){return e&&mit(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vit(t,e,r){return e=xb(e),yit(t,Rte()?Reflect.construct(e,r||[],xb(t).constructor):e.apply(t,r))}function yit(t,e){if(e&&(Ah(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xit(t)}function xit(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rte=function(){return!!t})()}function xb(t){return xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xb(t)}function wit(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kI(t,e)}function kI(t,e){return kI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kI(t,e)}function X_(t,e,r){return e=Dte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dte(t){var e=bit(t,"string");return Ah(e)=="symbol"?e:e+""}function bit(t,e){if(Ah(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _it=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=B3({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return Ko(e,"discard")&&!o.isInRange(s)?null:s},Q_=function(t){function e(){return pit(this,e),vit(this,e,arguments)}return wit(e,t),git(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,c=rn(i),d=rn(a);if(js(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=_it(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,g=m.shape,v=m.className,y=Ko(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=KF(KF({clipPath:y},rt(this.props,!0)),{},{cx:h,cy:p});return D.createElement(mr,{className:pt("recharts-reference-dot",v)},e.renderDot(g,x),Xn.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(D.Component);X_(Q_,"displayName","ReferenceDot");X_(Q_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});X_(Q_,"renderDot",function(t,e){var r;return D.isValidElement(t)?r=D.cloneElement(t,e):Xe(t)?r=t(e):r=D.createElement(F3,jI({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function RI(){return RI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RI.apply(this,arguments)}function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function YF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YF(Object(r),!0).forEach(function(n){Z_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eit(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lte(n.key),n)}}function Ait(t,e,r){return e&&Eit(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cit(t,e,r){return e=wb(e),Tit(t,Mte()?Reflect.construct(e,r||[],wb(t).constructor):e.apply(t,r))}function Tit(t,e){if(e&&(Ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nit(t)}function Nit(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mte=function(){return!!t})()}function wb(t){return wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wb(t)}function Iit(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DI(t,e)}function DI(t,e){return DI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DI(t,e)}function Z_(t,e,r){return e=Lte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lte(t){var e=Pit(t,"string");return Ch(e)=="symbol"?e:e+""}function Pit(t,e){if(Ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Oit=function(e,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,c=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=B3({x:d.scale,y:f.scale}),p={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Ko(a,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:Ste(p,m)},J_=function(t){function e(){return Sit(this,e),Cit(this,e,arguments)}return Iit(e,t),Ait(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,d=n.clipPathId;js(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=rn(i),h=rn(a),p=rn(o),m=rn(s),g=this.props.shape;if(!f&&!h&&!p&&!m&&!g)return null;var v=Oit(f,h,p,m,this.props);if(!v&&!g)return null;var y=Ko(this.props,"hidden")?"url(#".concat(d,")"):void 0;return D.createElement(mr,{className:pt("recharts-reference-area",l)},e.renderRect(g,XF(XF({clipPath:y},rt(this.props,!0)),v)),Xn.renderCallByParent(this.props,v))}}])}(D.Component);Z_(J_,"displayName","ReferenceArea");Z_(J_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Z_(J_,"renderRect",function(t,e){var r;return D.isValidElement(t)?r=D.cloneElement(t,e):Xe(t)?r=t(e):r=D.createElement($3,RI({},e,{className:"recharts-reference-area-rect"})),r});function $te(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function jit(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Dnt(n,r)}function kit(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function bb(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Rit(t,e){return $te(t,e+1)}function Dit(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,s=e.end,l=0,c=1,d=o,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:$te(n,c)};var g=l,v,y=function(){return v===void 0&&(v=r(m,g)),v},x=m.coordinate,w=l===0||bb(t,x,y,d,s);w||(l=0,d=o,c+=1),w&&(d=x+t*(y()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function Hv(t){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hv(t)}function QF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QF(Object(r),!0).forEach(function(n){Mit(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mit(t,e,r){return e=Lit(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lit(t){var e=$it(t,"string");return Hv(e)=="symbol"?e:e+""}function $it(t,e){if(Hv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fit(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=e.start,l=e.end,c=function(h){var p=a[h],m,g=function(){return m===void 0&&(m=r(p,h)),m};if(h===o-1){var v=t*(p.coordinate+t*g()/2-l);a[h]=p=Hn(Hn({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else a[h]=p=Hn(Hn({},p),{},{tickCoord:p.coordinate});var y=bb(t,p.tickCoord,g,s,l);y&&(l=p.tickCoord-t*(g()/2+i),a[h]=Hn(Hn({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)c(d);return a}function Bit(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=e.start,c=e.end;if(a){var d=n[s-1],f=r(d,s-1),h=t*(d.coordinate+t*f/2-c);o[s-1]=d=Hn(Hn({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var p=bb(t,d.tickCoord,function(){return f},l,c);p&&(c=d.tickCoord-t*(f/2+i),o[s-1]=Hn(Hn({},d),{},{isShow:!0}))}for(var m=a?s-1:s,g=function(x){var w=o[x],S,E=function(){return S===void 0&&(S=r(w,x)),S};if(x===0){var T=t*(w.coordinate-t*E()/2-l);o[x]=w=Hn(Hn({},w),{},{tickCoord:T<0?w.coordinate-T*t:w.coordinate})}else o[x]=w=Hn(Hn({},w),{},{tickCoord:w.coordinate});var A=bb(t,w.tickCoord,E,l,c);A&&(l=w.tickCoord+t*(E()/2+i),o[x]=Hn(Hn({},w),{},{isShow:!0}))},v=0;v<m;v++)g(v);return o}function q3(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(be(l)||pp.isSsr)return Rit(i,typeof l=="number"&&be(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=d&&p==="width"?og(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(w,S){var E=Xe(c)?c(w.value,S):w.value;return p==="width"?jit(og(E,{fontSize:e,letterSpacing:r}),m,f):og(E,{fontSize:e,letterSpacing:r})[p]},v=i.length>=2?so(i[1].coordinate-i[0].coordinate):1,y=kit(a,v,p);return l==="equidistantPreserveStart"?Dit(v,y,g,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=Bit(v,y,g,i,o,l==="preserveStartEnd"):h=Fit(v,y,g,i,o),h.filter(function(x){return x.isShow}))}var Uit=["viewBox"],Vit=["viewBox"],zit=["ticks"];function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function sf(){return sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sf.apply(this,arguments)}function ZF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ci(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZF(Object(r),!0).forEach(function(n){K3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PA(t,e){if(t==null)return{};var r=Wit(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wit(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Hit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bte(n.key),n)}}function Git(t,e,r){return e&&JF(t.prototype,e),r&&JF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qit(t,e,r){return e=_b(e),Kit(t,Fte()?Reflect.construct(e,r||[],_b(t).constructor):e.apply(t,r))}function Kit(t,e){if(e&&(Th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yit(t)}function Yit(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fte=function(){return!!t})()}function _b(t){return _b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_b(t)}function Xit(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MI(t,e)}function MI(t,e){return MI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},MI(t,e)}function K3(t,e,r){return e=Bte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bte(t){var e=Qit(t,"string");return Th(e)=="symbol"?e:e+""}function Qit(t,e){if(Th(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yp=function(t){function e(r){var n;return Hit(this,e),n=qit(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Xit(e,t),Git(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=PA(n,Uit),s=this.props,l=s.viewBox,c=PA(s,Vit);return!Ef(a,l)||!Ef(o,c)||!Ef(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,c=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,m,g,v,y,x,w=f?-1:1,S=n.tickSize||d,E=be(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=m=n.coordinate,v=o+ +!f*l,g=v-w*S,x=g-w*h,y=E;break;case"left":g=v=n.coordinate,m=a+ +!f*s,p=m-w*S,y=p-w*h,x=E;break;case"right":g=v=n.coordinate,m=a+ +f*s,p=m+w*S,y=p+w*h,x=E;break;default:p=m=n.coordinate,v=o+ +f*l,g=v+w*S,x=g+w*h,y=E;break}return{line:{x1:p,y1:g,x2:m,y2:v},tick:{x:y,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,c=n.mirror,d=n.axisLine,f=ci(ci(ci({},rt(this.props,!1)),rt(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=ci(ci({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=ci(ci({},f),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return D.createElement("line",sf({},f,{className:pt("recharts-cartesian-axis-line",Ia(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,c=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,p=q3(ci(ci({},this.props),{},{ticks:n}),i,a),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=rt(this.props,!1),y=rt(d,!1),x=ci(ci({},v),{},{fill:"none"},rt(l,!1)),w=p.map(function(S,E){var T=o.getTickLineCoord(S),A=T.line,C=T.tick,N=ci(ci(ci(ci({textAnchor:m,verticalAnchor:g},v),{},{stroke:"none",fill:c},y),C),{},{index:E,payload:S,visibleTicksCount:p.length,tickFormatter:f});return D.createElement(mr,sf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Rw(o.props,S,E)),l&&D.createElement("line",sf({},x,A,{className:pt("recharts-cartesian-axis-tick-line",Ia(l,"className"))})),d&&e.renderTickItem(d,N,"".concat(Xe(f)?f(S.value,E):S.value).concat(h||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=PA(f,zit),m=h;return Xe(l)&&(m=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!m||!m.length?null:D.createElement(mr,{className:pt("recharts-cartesian-axis",c),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Xn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return D.isValidElement(n)?o=D.cloneElement(n,i):Xe(n)?o=n(i):o=D.createElement(Hw,sf({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(_.Component);K3(yp,"displayName","CartesianAxis");K3(yp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Zit=["x1","y1","x2","y2","key"],Jit=["offset"];function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function e7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e7(Object(r),!0).forEach(function(n){eat(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eat(t,e,r){return e=tat(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tat(t){var e=rat(t,"string");return nd(e)=="symbol"?e:e+""}function rat(t,e){if(nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wu(){return wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wu.apply(this,arguments)}function t7(t,e){if(t==null)return{};var r=nat(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nat(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var iat=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return D.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Ute(t,e){var r;if(D.isValidElement(t))r=D.cloneElement(t,e);else if(Xe(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=t7(e,Zit),c=rt(l,!1);c.offset;var d=t7(c,Jit);r=D.createElement("line",wu({},d,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function aat(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=Qn(Qn({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(l),index:l});return Ute(i,c)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function oat(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=Qn(Qn({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(l),index:l});return Ute(i,c)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function sat(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var d=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?i+o-h:d[p+1]-h;if(g<=0)return null;var v=p%e.length;return D.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:g,width:a,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function lat(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var d=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?a+s-h:d[p+1]-h;if(g<=0)return null;var v=p%n.length;return D.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:g,height:l,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var cat=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return rte(q3(Qn(Qn(Qn({},yp.defaultProps),n),{},{ticks:As(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},uat=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return rte(q3(Qn(Qn(Qn({},yp.defaultProps),n),{},{ticks:As(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},jd={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Vte(t){var e,r,n,i,a,o,s=z3(),l=W3(),c=Qnt(),d=Qn(Qn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:jd.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:jd.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:jd.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:jd.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:jd.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:jd.verticalFill,x:be(t.x)?t.x:c.left,y:be(t.y)?t.y:c.top,width:be(t.width)?t.width:c.width,height:be(t.height)?t.height:c.height}),f=d.x,h=d.y,p=d.width,m=d.height,g=d.syncWithTicks,v=d.horizontalValues,y=d.verticalValues,x=Knt(),w=Ynt();if(!be(p)||p<=0||!be(m)||m<=0||!be(f)||f!==+f||!be(h)||h!==+h)return null;var S=d.verticalCoordinatesGenerator||cat,E=d.horizontalCoordinatesGenerator||uat,T=d.horizontalPoints,A=d.verticalPoints;if((!T||!T.length)&&Xe(E)){var C=v&&v.length,N=E({yAxis:w?Qn(Qn({},w),{},{ticks:C?v:w.ticks}):void 0,width:s,height:l,offset:c},C?!0:g);js(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(nd(N),"]")),Array.isArray(N)&&(T=N)}if((!A||!A.length)&&Xe(S)){var I=y&&y.length,P=S({xAxis:x?Qn(Qn({},x),{},{ticks:I?y:x.ticks}):void 0,width:s,height:l,offset:c},I?!0:g);js(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(nd(P),"]")),Array.isArray(P)&&(A=P)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(iat,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),D.createElement(aat,wu({},d,{offset:c,horizontalPoints:T,xAxis:x,yAxis:w})),D.createElement(oat,wu({},d,{offset:c,verticalPoints:A,xAxis:x,yAxis:w})),D.createElement(sat,wu({},d,{horizontalPoints:T})),D.createElement(lat,wu({},d,{verticalPoints:A})))}Vte.displayName="CartesianGrid";var dat=["layout","type","stroke","connectNulls","isRange","ref"],fat=["key"],zte;function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function Wte(t,e){if(t==null)return{};var r=hat(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hat(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bu(){return bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bu.apply(this,arguments)}function r7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r7(Object(r),!0).forEach(function(n){Lo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gte(n.key),n)}}function mat(t,e,r){return e&&n7(t.prototype,e),r&&n7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gat(t,e,r){return e=Sb(e),vat(t,Hte()?Reflect.construct(e,r||[],Sb(t).constructor):e.apply(t,r))}function vat(t,e){if(e&&(Nh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yat(t)}function yat(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hte=function(){return!!t})()}function Sb(t){return Sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sb(t)}function xat(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LI(t,e)}function LI(t,e){return LI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},LI(t,e)}function Lo(t,e,r){return e=Gte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gte(t){var e=wat(t,"string");return Nh(e)=="symbol"?e:e+""}function wat(t,e){if(Nh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vc=function(t){function e(){var r;pat(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=gat(this,e,[].concat(i)),Lo(r,"state",{isAnimationFinished:!0}),Lo(r,"id",$0("recharts-area-")),Lo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Xe(o)&&o()}),Lo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Xe(o)&&o()}),r}return xat(e,t),mat(e,[{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,c=l.dot,d=l.points,f=l.dataKey,h=rt(this.props,!1),p=rt(c,!0),m=d.map(function(v,y){var x=xl(xl(xl({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return e.renderDotItem(c,x)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return D.createElement(mr,bu({className:"recharts-area-dots"},g),m)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].x,c=o[o.length-1].x,d=n*Math.abs(l-c),f=Ml(o.map(function(h){return h.y||0}));return be(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Ml(a.map(function(h){return h.y||0})),f)),be(f)?D.createElement("rect",{x:l<c?l:l-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].y,c=o[o.length-1].y,d=n*Math.abs(l-c),f=Ml(o.map(function(h){return h.x||0}));return be(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Ml(a.map(function(h){return h.x||0})),f)),be(f)?D.createElement("rect",{x:0,y:l<c?l:l-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,o){var s=this.props,l=s.layout,c=s.type,d=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var p=Wte(s,dat);return D.createElement(mr,{clipPath:a?"url(#clipPath-".concat(o,")"):null},D.createElement(cg,bu({},rt(p,!0),{points:n,connectNulls:f,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&D.createElement(cg,bu({},rt(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&D.createElement(cg,bu({},rt(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,l=o.baseLine,c=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,m=this.state,g=m.prevPoints,v=m.prevBaseLine;return D.createElement(Qs,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var x=y.t;if(g){var w=g.length/s.length,S=s.map(function(C,N){var I=Math.floor(N*w);if(g[I]){var P=g[I],k=Sa(P.x,C.x),O=Sa(P.y,C.y);return xl(xl({},C),{},{x:k(x),y:O(x)})}return C}),E;if(be(l)&&typeof l=="number"){var T=Sa(v,l);E=T(x)}else if(dt(l)||hp(l)){var A=Sa(v,0);E=A(x)}else E=l.map(function(C,N){var I=Math.floor(N*w);if(v[I]){var P=v[I],k=Sa(P.x,C.x),O=Sa(P.y,C.y);return xl(xl({},C),{},{x:k(x),y:O(x)})}return C});return a.renderAreaStatically(S,E,n,i)}return D.createElement(mr,null,D.createElement("defs",null,D.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(x))),D.createElement(mr,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,l,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,o=a.points,s=a.baseLine,l=a.isAnimationActive,c=this.state,d=c.prevPoints,f=c.prevBaseLine,h=c.totalLength;return l&&o&&o.length&&(!d&&h>0||!sh(d,o)||!sh(f,s))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,c=i.top,d=i.left,f=i.xAxis,h=i.yAxis,p=i.width,m=i.height,g=i.isAnimationActive,v=i.id;if(a||!s||!s.length)return null;var y=this.state.isAnimationFinished,x=s.length===1,w=pt("recharts-area",l),S=f&&f.allowDataOverflow,E=h&&h.allowDataOverflow,T=S||E,A=dt(v)?this.id:v,C=(n=rt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},N=C.r,I=N===void 0?3:N,P=C.strokeWidth,k=P===void 0?2:P,O=pWe(o)?o:{},L=O.clipDot,z=L===void 0?!0:L,M=I*2+k;return D.createElement(mr,{className:w},S||E?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(A)},D.createElement("rect",{x:S?d:d-p/2,y:E?c:c-m/2,width:S?p:p*2,height:E?m:m*2})),!z&&D.createElement("clipPath",{id:"clipPath-dots-".concat(A)},D.createElement("rect",{x:d-M/2,y:c-M/2,width:p+M,height:m+M}))):null,x?null:this.renderArea(T,A),(o||x)&&this.renderDots(T,z,A),(!g||y)&&ic.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(_.PureComponent);zte=Vc;Lo(Vc,"displayName","Area");Lo(Vc,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!pp.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Lo(Vc,"getBaseValue",function(t,e,r,n){var i=t.layout,a=t.baseValue,o=e.props.baseValue,s=o??a;if(be(s)&&typeof s=="number")return s;var l=i==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var d=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return s==="dataMin"?f:s==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});Lo(Vc,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,s=t.bandSize,l=t.dataKey,c=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=e.layout,m=c&&c.length,g=zte.getBaseValue(e,r,n,i),v=p==="horizontal",y=!1,x=f.map(function(S,E){var T;m?T=c[d+E]:(T=da(S,l),Array.isArray(T)?y=!0:T=[g,T]);var A=T[1]==null||m&&da(S,l)==null;return v?{x:B9({axis:n,ticks:a,bandSize:s,entry:S,index:E}),y:A?null:i.scale(T[1]),value:T,payload:S}:{x:A?null:n.scale(T[1]),y:B9({axis:i,ticks:o,bandSize:s,entry:S,index:E}),value:T,payload:S}}),w;return m||y?w=x.map(function(S){var E=Array.isArray(S.value)?S.value[0]:null;return v?{x:S.x,y:E!=null&&S.y!=null?i.scale(E):null}:{x:E!=null?n.scale(E):null,y:S.y}}):w=v?i.scale(g):n.scale(g),xl({points:x,baseLine:w,layout:p,isRange:y},h)});Lo(Vc,"renderDotItem",function(t,e){var r;if(D.isValidElement(t))r=D.cloneElement(t,e);else if(Xe(t))r=t(e);else{var n=pt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=Wte(e,fat);r=D.createElement(F3,bu({},a,{key:i,className:n}))}return r});function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function bat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _at(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Yte(n.key),n)}}function Sat(t,e,r){return e&&_at(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eat(t,e,r){return e=Eb(e),Aat(t,qte()?Reflect.construct(e,r||[],Eb(t).constructor):e.apply(t,r))}function Aat(t,e){if(e&&(Ih(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cat(t)}function Cat(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qte=function(){return!!t})()}function Eb(t){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eb(t)}function Tat(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$I(t,e)}function $I(t,e){return $I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$I(t,e)}function Kte(t,e,r){return e=Yte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yte(t){var e=Nat(t,"string");return Ih(e)=="symbol"?e:e+""}function Nat(t,e){if(Ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function FI(){return FI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FI.apply(this,arguments)}function Iat(t){var e=t.xAxisId,r=z3(),n=W3(),i=Pte(e);return i==null?null:D.createElement(yp,FI({},i,{className:pt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return As(o,!0)}}))}var eS=function(t){function e(){return bat(this,e),Eat(this,e,arguments)}return Tat(e,t),Sat(e,[{key:"render",value:function(){return D.createElement(Iat,this.props)}}])}(D.Component);Kte(eS,"displayName","XAxis");Kte(eS,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function Pat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oat(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zte(n.key),n)}}function jat(t,e,r){return e&&Oat(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kat(t,e,r){return e=Ab(e),Rat(t,Xte()?Reflect.construct(e,r||[],Ab(t).constructor):e.apply(t,r))}function Rat(t,e){if(e&&(Ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dat(t)}function Dat(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xte=function(){return!!t})()}function Ab(t){return Ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ab(t)}function Mat(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BI(t,e)}function BI(t,e){return BI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BI(t,e)}function Qte(t,e,r){return e=Zte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zte(t){var e=Lat(t,"string");return Ph(e)=="symbol"?e:e+""}function Lat(t,e){if(Ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function UI(){return UI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UI.apply(this,arguments)}var $at=function(e){var r=e.yAxisId,n=z3(),i=W3(),a=Ote(r);return a==null?null:D.createElement(yp,UI({},a,{className:pt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return As(s,!0)}}))},tS=function(t){function e(){return Pat(this,e),kat(this,e,arguments)}return Mat(e,t),jat(e,[{key:"render",value:function(){return D.createElement($at,this.props)}}])}(D.Component);Qte(tS,"displayName","YAxis");Qte(tS,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function i7(t){return Vat(t)||Uat(t)||Bat(t)||Fat()}function Fat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bat(t,e){if(t){if(typeof t=="string")return VI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VI(t,e)}}function Uat(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vat(t){if(Array.isArray(t))return VI(t)}function VI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var zI=function(e,r,n,i,a){var o=ho(e,G3),s=ho(e,Q_),l=[].concat(i7(o),i7(s)),c=ho(e,J_),d="".concat(i,"Id"),f=i[0],h=r;if(l.length&&(h=l.reduce(function(g,v){if(v.props[d]===n&&Ko(v.props,"extendDomain")&&be(v.props[f])){var y=v.props[f];return[Math.min(g[0],y),Math.max(g[1],y)]}return g},h)),c.length){var p="".concat(f,"1"),m="".concat(f,"2");h=c.reduce(function(g,v){if(v.props[d]===n&&Ko(v.props,"extendDomain")&&be(v.props[p])&&be(v.props[m])){var y=v.props[p],x=v.props[m];return[Math.min(g[0],y,x),Math.max(g[1],y,x)]}return g},h)}return a&&a.length&&(h=a.reduce(function(g,v){return be(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},Jte={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function a(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},s.prototype.listeners=function(c){var d=r?r+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},s.prototype.listenerCount=function(c){var d=r?r+c:c,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,d,f,h,p,m){var g=r?r+c:c;if(!this._events[g])return!1;var v=this._events[g],y=arguments.length,x,w;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,m),!0}for(w=1,x=new Array(y-1);w<y;w++)x[w-1]=arguments[w];v.fn.apply(v.context,x)}else{var S=v.length,E;for(w=0;w<S;w++)switch(v[w].once&&this.removeListener(c,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!x)for(E=1,x=new Array(y-1);E<y;E++)x[E-1]=arguments[E];v[w].fn.apply(v[w].context,x)}}return!0},s.prototype.on=function(c,d,f){return a(this,c,d,f,!1)},s.prototype.once=function(c,d,f){return a(this,c,d,f,!0)},s.prototype.removeListener=function(c,d,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!d)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&o(this,p);else{for(var g=0,v=[],y=m.length;g<y;g++)(m[g].fn!==d||h&&!m[g].once||f&&m[g].context!==f)&&v.push(m[g]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},s.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(Jte);var zat=Jte.exports;const Wat=ct(zat);var OA=new Wat,jA="recharts.syncMouseEvents";function Gv(t){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gv(t)}function Hat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gat(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ere(n.key),n)}}function qat(t,e,r){return e&&Gat(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kA(t,e,r){return e=ere(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ere(t){var e=Kat(t,"string");return Gv(e)=="symbol"?e:e+""}function Kat(t,e){if(Gv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yat=function(){function t(){Hat(this,t),kA(this,"activeIndex",0),kA(this,"coordinateList",[]),kA(this,"layout","horizontal")}return qat(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,c=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+c,h=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Xat(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&be(n)&&be(i))return!0}return!1}function Qat(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function tre(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=In(e,r,n,i),s=In(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function Zat(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,f=e.angle,h=In(s,l,c,f),p=In(s,l,d,f);n=h.x,i=h.y,a=p.x,o=p.y}else return tre(e);return[{x:n,y:i},{x:a,y:o}]}function qv(t){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(t)}function a7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function f1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a7(Object(r),!0).forEach(function(n){Jat(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jat(t,e,r){return e=eot(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eot(t){var e=tot(t,"string");return qv(e)=="symbol"?e:e+""}function tot(t,e){if(qv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rot(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var m,g=cg;if(h==="ScatterChart")m=o,g=Xtt;else if(h==="BarChart")m=Qat(f,o,l,d),g=$3;else if(f==="radial"){var v=tre(o),y=v.cx,x=v.cy,w=v.radius,S=v.startAngle,E=v.endAngle;m={cx:y,cy:x,startAngle:S,endAngle:E,innerRadius:w,outerRadius:w},g=ste}else m={points:Zat(f,o,l)},g=cg;var T=f1(f1(f1(f1({stroke:"#ccc",pointerEvents:"none"},l),m),rt(p,!1)),{},{payload:s,payloadIndex:c,className:pt("recharts-tooltip-cursor",p.className)});return _.isValidElement(p)?_.cloneElement(p,T):_.createElement(g,T)}var not=["item"],iot=["children","className","width","height","style","compact","title","desc"];function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function lf(){return lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lf.apply(this,arguments)}function o7(t,e){return sot(t)||oot(t,e)||nre(t,e)||aot()}function aot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oot(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function sot(t){if(Array.isArray(t))return t}function s7(t,e){if(t==null)return{};var r=lot(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lot(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function cot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uot(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ire(n.key),n)}}function dot(t,e,r){return e&&uot(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fot(t,e,r){return e=Cb(e),hot(t,rre()?Reflect.construct(e,r||[],Cb(t).constructor):e.apply(t,r))}function hot(t,e){if(e&&(Oh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pot(t)}function pot(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rre=function(){return!!t})()}function Cb(t){return Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cb(t)}function mot(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WI(t,e)}function WI(t,e){return WI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WI(t,e)}function jh(t){return yot(t)||vot(t)||nre(t)||got()}function got(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nre(t,e){if(t){if(typeof t=="string")return HI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HI(t,e)}}function vot(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yot(t){if(Array.isArray(t))return HI(t)}function HI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l7(Object(r),!0).forEach(function(n){ze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ze(t,e,r){return e=ire(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ire(t){var e=xot(t,"string");return Oh(e)=="symbol"?e:e+""}function xot(t,e){if(Oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wot={xAxis:["bottom","top"],yAxis:["left","right"]},bot={width:"100%",height:"100%"},are={x:0,y:0};function h1(t){return t}var _ot=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Sot=function(e,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return ae(ae(ae({},i),In(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,c=i.angle;return ae(ae(ae({},i),In(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return are},rS=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(jh(s),jh(c)):s},[]);return o.length>0?o:e&&e.length&&be(i)&&be(a)?e.slice(i,a+1):[]};function ore(t){return t==="number"?[0,"auto"]:void 0}var GI=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,s=rS(r,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;h=jw(p,o.dataKey,i)}else h=f&&f[n]||s[n];return h?[].concat(jh(l),[ite(c,h)]):l},[])},c7=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=_ot(a,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=$Ze(o,s,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,h=GI(e,r,d,f),p=Sot(n,s,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},Eot=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,p=tte(d,a);return n.reduce(function(m,g){var v,y=g.type.defaultProps!==void 0?ae(ae({},g.type.defaultProps),g.props):g.props,x=y.type,w=y.dataKey,S=y.allowDataOverflow,E=y.allowDuplicatedCategory,T=y.scale,A=y.ticks,C=y.includeHidden,N=y[o];if(m[N])return m;var I=rS(e.data,{graphicalItems:i.filter(function(Y){var ee,ce=o in Y.props?Y.props[o]:(ee=Y.type.defaultProps)===null||ee===void 0?void 0:ee[o];return ce===N}),dataStartIndex:l,dataEndIndex:c}),P=I.length,k,O,L;Xat(y.domain,S,x)&&(k=dI(y.domain,null,S),p&&(x==="number"||T!=="auto")&&(L=lg(I,w,"category")));var z=ore(x);if(!k||k.length===0){var M,W=(M=y.domain)!==null&&M!==void 0?M:z;if(w){if(k=lg(I,w,x),x==="category"&&p){var $=iWe(k);E&&$?(O=k,k=cv(0,P)):E||(k=W9(W,k,g).reduce(function(Y,ee){return Y.indexOf(ee)>=0?Y:[].concat(jh(Y),[ee])},[]))}else if(x==="category")E?k=k.filter(function(Y){return Y!==""&&!dt(Y)}):k=W9(W,k,g).reduce(function(Y,ee){return Y.indexOf(ee)>=0||ee===""||dt(ee)?Y:[].concat(jh(Y),[ee])},[]);else if(x==="number"){var B=zZe(I,i.filter(function(Y){var ee,ce,de=o in Y.props?Y.props[o]:(ee=Y.type.defaultProps)===null||ee===void 0?void 0:ee[o],_e="hide"in Y.props?Y.props.hide:(ce=Y.type.defaultProps)===null||ce===void 0?void 0:ce.hide;return de===N&&(C||!_e)}),w,a,d);B&&(k=B)}p&&(x==="number"||T!=="auto")&&(L=lg(I,w,"category"))}else p?k=cv(0,P):s&&s[N]&&s[N].hasStack&&x==="number"?k=h==="expand"?[0,1]:nte(s[N].stackGroups,l,c):k=ete(I,i.filter(function(Y){var ee=o in Y.props?Y.props[o]:Y.type.defaultProps[o],ce="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return ee===N&&(C||!ce)}),x,d,!0);if(x==="number")k=zI(f,k,N,a,A),W&&(k=dI(W,k,S));else if(x==="category"&&W){var G=W,X=k.every(function(Y){return G.indexOf(Y)>=0});X&&(k=G)}}return ae(ae({},m),{},ze({},N,ae(ae({},y),{},{axisType:a,domain:k,categoricalDomain:L,duplicateDomain:O,originalDomain:(v=y.domain)!==null&&v!==void 0?v:z,isCategorical:p,layout:d})))},{})},Aot=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=e.layout,f=e.children,h=rS(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=tte(d,a),g=-1;return n.reduce(function(v,y){var x=y.type.defaultProps!==void 0?ae(ae({},y.type.defaultProps),y.props):y.props,w=x[o],S=ore("number");if(!v[w]){g++;var E;return m?E=cv(0,p):s&&s[w]&&s[w].hasStack?(E=nte(s[w].stackGroups,l,c),E=zI(f,E,w,a)):(E=dI(S,ete(h,n.filter(function(T){var A,C,N=o in T.props?T.props[o]:(A=T.type.defaultProps)===null||A===void 0?void 0:A[o],I="hide"in T.props?T.props.hide:(C=T.type.defaultProps)===null||C===void 0?void 0:C.hide;return N===w&&!I}),"number",d),i.defaultProps.allowDataOverflow),E=zI(f,E,w,a)),ae(ae({},v),{},ze({},w,ae(ae({axisType:a},i.defaultProps),{},{hide:!0,orientation:Ia(wot,"".concat(a,".").concat(g%2),null),domain:E,originalDomain:S,isCategorical:m,layout:d})))}return v},{})},Cot=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=ho(d,a),p={};return h&&h.length?p=Eot(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(p=Aot(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},Tot=function(e){var r=Pl(e),n=As(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:s_(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ab(r,n)}},u7=function(e){var r=e.children,n=e.defaultShowTooltip,i=Qi(r,_h),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Not=function(e){return!e||!e.length?!1:e.some(function(r){var n=Os(r&&r.type);return n&&n.indexOf("Bar")>=0})},d7=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Iot=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,c=n.width,d=n.height,f=n.children,h=n.margin||{},p=Qi(f,_h),m=Qi(f,Af),g=Object.keys(l).reduce(function(E,T){var A=l[T],C=A.orientation;return!A.mirror&&!A.hide?ae(ae({},E),{},ze({},C,E[C]+A.width)):E},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(E,T){var A=o[T],C=A.orientation;return!A.mirror&&!A.hide?ae(ae({},E),{},ze({},C,Ia(E,"".concat(C))+A.height)):E},{top:h.top||0,bottom:h.bottom||0}),y=ae(ae({},v),g),x=y.bottom;p&&(y.bottom+=p.props.height||_h.defaultProps.height),m&&r&&(y=UZe(y,i,n,r));var w=c-y.left-y.right,S=d-y.top-y.bottom;return ae(ae({brushBottom:x},y),{},{width:Math.max(w,0),height:Math.max(S,0)})},Pot=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Oot=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(y,x){var w=x.graphicalItems,S=x.stackGroups,E=x.offset,T=x.updateId,A=x.dataStartIndex,C=x.dataEndIndex,N=y.barSize,I=y.layout,P=y.barGap,k=y.barCategoryGap,O=y.maxBarSize,L=d7(I),z=L.numericAxisName,M=L.cateAxisName,W=Not(w),$=[];return w.forEach(function(B,G){var X=rS(y.data,{graphicalItems:[B],dataStartIndex:A,dataEndIndex:C}),Y=B.type.defaultProps!==void 0?ae(ae({},B.type.defaultProps),B.props):B.props,ee=Y.dataKey,ce=Y.maxBarSize,de=Y["".concat(z,"Id")],_e=Y["".concat(M,"Id")],ge={},Se=l.reduce(function(Wt,wr){var dr=x["".concat(wr.axisType,"Map")],Dn=Y["".concat(wr.axisType,"Id")];dr&&dr[Dn]||wr.axisType==="zAxis"||rd();var pa=dr[Dn];return ae(ae({},Wt),{},ze(ze({},wr.axisType,pa),"".concat(wr.axisType,"Ticks"),As(pa)))},ge),se=Se[M],V=Se["".concat(M,"Ticks")],Q=S&&S[de]&&S[de].hasStack&&tJe(B,S[de].stackGroups),H=Os(B.type).indexOf("Bar")>=0,ve=ab(se,V),fe=[],te=W&&FZe({barSize:N,stackGroups:S,totalSize:Pot(Se,M)});if(H){var re,K,le=dt(ce)?O:ce,pe=(re=(K=ab(se,V,!0))!==null&&K!==void 0?K:le)!==null&&re!==void 0?re:0;fe=BZe({barGap:P,barCategoryGap:k,bandSize:pe!==ve?pe:ve,sizeList:te[_e],maxBarSize:le}),pe!==ve&&(fe=fe.map(function(Wt){return ae(ae({},Wt),{},{position:ae(ae({},Wt.position),{},{offset:Wt.position.offset-pe/2})})}))}var ut=B&&B.type&&B.type.getComposedData;ut&&$.push({props:ae(ae({},ut(ae(ae({},Se),{},{displayedData:X,props:y,dataKey:ee,item:B,bandSize:ve,barPosition:fe,offset:E,stackedData:Q,layout:I,dataStartIndex:A,dataEndIndex:C}))),{},ze(ze(ze({key:B.key||"item-".concat(G)},z,Se[z]),M,Se[M]),"animationId",T)),childIndex:vWe(B,y.children),item:B})}),$},p=function(y,x){var w=y.props,S=y.dataStartIndex,E=y.dataEndIndex,T=y.updateId;if(!d$({props:w}))return null;var A=w.children,C=w.layout,N=w.stackOffset,I=w.data,P=w.reverseStackOrder,k=d7(C),O=k.numericAxisName,L=k.cateAxisName,z=ho(A,n),M=ZZe(I,z,"".concat(O,"Id"),"".concat(L,"Id"),N,P),W=l.reduce(function(Y,ee){var ce="".concat(ee.axisType,"Map");return ae(ae({},Y),{},ze({},ce,Cot(w,ae(ae({},ee),{},{graphicalItems:z,stackGroups:ee.axisType===O&&M,dataStartIndex:S,dataEndIndex:E}))))},{}),$=Iot(ae(ae({},W),{},{props:w,graphicalItems:z}),x==null?void 0:x.legendBBox);Object.keys(W).forEach(function(Y){W[Y]=d(w,W[Y],$,Y.replace("Map",""),r)});var B=W["".concat(L,"Map")],G=Tot(B),X=h(w,ae(ae({},W),{},{dataStartIndex:S,dataEndIndex:E,updateId:T,graphicalItems:z,stackGroups:M,offset:$}));return ae(ae({formattedGraphicalItems:X,graphicalItems:z,offset:$,stackGroups:M},G),W)},m=function(v){function y(x){var w,S,E;return cot(this,y),E=fot(this,y,[x]),ze(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ze(E,"accessibilityManager",new Yat),ze(E,"handleLegendBBoxUpdate",function(T){if(T){var A=E.state,C=A.dataStartIndex,N=A.dataEndIndex,I=A.updateId;E.setState(ae({legendBBox:T},p({props:E.props,dataStartIndex:C,dataEndIndex:N,updateId:I},ae(ae({},E.state),{},{legendBBox:T}))))}}),ze(E,"handleReceiveSyncEvent",function(T,A,C){if(E.props.syncId===T){if(C===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(A)}}),ze(E,"handleBrushChange",function(T){var A=T.startIndex,C=T.endIndex;if(A!==E.state.dataStartIndex||C!==E.state.dataEndIndex){var N=E.state.updateId;E.setState(function(){return ae({dataStartIndex:A,dataEndIndex:C},p({props:E.props,dataStartIndex:A,dataEndIndex:C,updateId:N},E.state))}),E.triggerSyncEvent({dataStartIndex:A,dataEndIndex:C})}}),ze(E,"handleMouseEnter",function(T){var A=E.getMouseInfo(T);if(A){var C=ae(ae({},A),{},{isTooltipActive:!0});E.setState(C),E.triggerSyncEvent(C);var N=E.props.onMouseEnter;Xe(N)&&N(C,T)}}),ze(E,"triggeredAfterMouseMove",function(T){var A=E.getMouseInfo(T),C=A?ae(ae({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(C),E.triggerSyncEvent(C);var N=E.props.onMouseMove;Xe(N)&&N(C,T)}),ze(E,"handleItemMouseEnter",function(T){E.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),ze(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),ze(E,"handleMouseMove",function(T){T.persist(),E.throttleTriggeredAfterMouseMove(T)}),ze(E,"handleMouseLeave",function(T){E.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};E.setState(A),E.triggerSyncEvent(A);var C=E.props.onMouseLeave;Xe(C)&&C(A,T)}),ze(E,"handleOuterEvent",function(T){var A=gWe(T),C=Ia(E.props,"".concat(A));if(A&&Xe(C)){var N,I;/.*touch.*/i.test(A)?I=E.getMouseInfo(T.changedTouches[0]):I=E.getMouseInfo(T),C((N=I)!==null&&N!==void 0?N:{},T)}}),ze(E,"handleClick",function(T){var A=E.getMouseInfo(T);if(A){var C=ae(ae({},A),{},{isTooltipActive:!0});E.setState(C),E.triggerSyncEvent(C);var N=E.props.onClick;Xe(N)&&N(C,T)}}),ze(E,"handleMouseDown",function(T){var A=E.props.onMouseDown;if(Xe(A)){var C=E.getMouseInfo(T);A(C,T)}}),ze(E,"handleMouseUp",function(T){var A=E.props.onMouseUp;if(Xe(A)){var C=E.getMouseInfo(T);A(C,T)}}),ze(E,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),ze(E,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&E.handleMouseDown(T.changedTouches[0])}),ze(E,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&E.handleMouseUp(T.changedTouches[0])}),ze(E,"handleDoubleClick",function(T){var A=E.props.onDoubleClick;if(Xe(A)){var C=E.getMouseInfo(T);A(C,T)}}),ze(E,"handleContextMenu",function(T){var A=E.props.onContextMenu;if(Xe(A)){var C=E.getMouseInfo(T);A(C,T)}}),ze(E,"triggerSyncEvent",function(T){E.props.syncId!==void 0&&OA.emit(jA,E.props.syncId,T,E.eventEmitterSymbol)}),ze(E,"applySyncEvent",function(T){var A=E.props,C=A.layout,N=A.syncMethod,I=E.state.updateId,P=T.dataStartIndex,k=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)E.setState(ae({dataStartIndex:P,dataEndIndex:k},p({props:E.props,dataStartIndex:P,dataEndIndex:k,updateId:I},E.state)));else if(T.activeTooltipIndex!==void 0){var O=T.chartX,L=T.chartY,z=T.activeTooltipIndex,M=E.state,W=M.offset,$=M.tooltipTicks;if(!W)return;if(typeof N=="function")z=N($,T);else if(N==="value"){z=-1;for(var B=0;B<$.length;B++)if($[B].value===T.activeLabel){z=B;break}}var G=ae(ae({},W),{},{x:W.left,y:W.top}),X=Math.min(O,G.x+G.width),Y=Math.min(L,G.y+G.height),ee=$[z]&&$[z].value,ce=GI(E.state,E.props.data,z),de=$[z]?{x:C==="horizontal"?$[z].coordinate:X,y:C==="horizontal"?Y:$[z].coordinate}:are;E.setState(ae(ae({},T),{},{activeLabel:ee,activeCoordinate:de,activePayload:ce,activeTooltipIndex:z}))}else E.setState(T)}),ze(E,"renderCursor",function(T){var A,C=E.state,N=C.isTooltipActive,I=C.activeCoordinate,P=C.activePayload,k=C.offset,O=C.activeTooltipIndex,L=C.tooltipAxisBandSize,z=E.getTooltipEventType(),M=(A=T.props.active)!==null&&A!==void 0?A:N,W=E.props.layout,$=T.key||"_recharts-cursor";return D.createElement(rot,{key:$,activeCoordinate:I,activePayload:P,activeTooltipIndex:O,chartName:r,element:T,isActive:M,layout:W,offset:k,tooltipAxisBandSize:L,tooltipEventType:z})}),ze(E,"renderPolarAxis",function(T,A,C){var N=Ia(T,"type.axisType"),I=Ia(E.state,"".concat(N,"Map")),P=T.type.defaultProps,k=P!==void 0?ae(ae({},P),T.props):T.props,O=I&&I[k["".concat(N,"Id")]];return _.cloneElement(T,ae(ae({},O),{},{className:pt(N,O.className),key:T.key||"".concat(A,"-").concat(C),ticks:As(O,!0)}))}),ze(E,"renderPolarGrid",function(T){var A=T.props,C=A.radialLines,N=A.polarAngles,I=A.polarRadius,P=E.state,k=P.radiusAxisMap,O=P.angleAxisMap,L=Pl(k),z=Pl(O),M=z.cx,W=z.cy,$=z.innerRadius,B=z.outerRadius;return _.cloneElement(T,{polarAngles:Array.isArray(N)?N:As(z,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(I)?I:As(L,!0).map(function(G){return G.coordinate}),cx:M,cy:W,innerRadius:$,outerRadius:B,key:T.key||"polar-grid",radialLines:C})}),ze(E,"renderLegend",function(){var T=E.state.formattedGraphicalItems,A=E.props,C=A.children,N=A.width,I=A.height,P=E.props.margin||{},k=N-(P.left||0)-(P.right||0),O=Zee({children:C,formattedGraphicalItems:T,legendWidth:k,legendContent:c});if(!O)return null;var L=O.item,z=s7(O,not);return _.cloneElement(L,ae(ae({},z),{},{chartWidth:N,chartHeight:I,margin:P,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),ze(E,"renderTooltip",function(){var T,A=E.props,C=A.children,N=A.accessibilityLayer,I=Qi(C,Oo);if(!I)return null;var P=E.state,k=P.isTooltipActive,O=P.activeCoordinate,L=P.activePayload,z=P.activeLabel,M=P.offset,W=(T=I.props.active)!==null&&T!==void 0?T:k;return _.cloneElement(I,{viewBox:ae(ae({},M),{},{x:M.left,y:M.top}),active:W,label:z,payload:W?L:[],coordinate:O,accessibilityLayer:N})}),ze(E,"renderBrush",function(T){var A=E.props,C=A.margin,N=A.data,I=E.state,P=I.offset,k=I.dataStartIndex,O=I.dataEndIndex,L=I.updateId;return _.cloneElement(T,{key:T.key||"_recharts-brush",onChange:l1(E.handleBrushChange,T.props.onChange),data:N,x:be(T.props.x)?T.props.x:P.left,y:be(T.props.y)?T.props.y:P.top+P.height+P.brushBottom-(C.bottom||0),width:be(T.props.width)?T.props.width:P.width,startIndex:k,endIndex:O,updateId:"brush-".concat(L)})}),ze(E,"renderReferenceElement",function(T,A,C){if(!T)return null;var N=E,I=N.clipPathId,P=E.state,k=P.xAxisMap,O=P.yAxisMap,L=P.offset,z=T.type.defaultProps||{},M=T.props,W=M.xAxisId,$=W===void 0?z.xAxisId:W,B=M.yAxisId,G=B===void 0?z.yAxisId:B;return _.cloneElement(T,{key:T.key||"".concat(A,"-").concat(C),xAxis:k[$],yAxis:O[G],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:I})}),ze(E,"renderActivePoints",function(T){var A=T.item,C=T.activePoint,N=T.basePoint,I=T.childIndex,P=T.isRange,k=[],O=A.props.key,L=A.item.type.defaultProps!==void 0?ae(ae({},A.item.type.defaultProps),A.item.props):A.item.props,z=L.activeDot,M=L.dataKey,W=ae(ae({index:I,dataKey:M,cx:C.x,cy:C.y,r:4,fill:L3(A.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},rt(z,!1)),kw(z));return k.push(y.renderActiveDot(z,W,"".concat(O,"-activePoint-").concat(I))),N?k.push(y.renderActiveDot(z,ae(ae({},W),{},{cx:N.x,cy:N.y}),"".concat(O,"-basePoint-").concat(I))):P&&k.push(null),k}),ze(E,"renderGraphicChild",function(T,A,C){var N=E.filterFormatItem(T,A,C);if(!N)return null;var I=E.getTooltipEventType(),P=E.state,k=P.isTooltipActive,O=P.tooltipAxis,L=P.activeTooltipIndex,z=P.activeLabel,M=E.props.children,W=Qi(M,Oo),$=N.props,B=$.points,G=$.isRange,X=$.baseLine,Y=N.item.type.defaultProps!==void 0?ae(ae({},N.item.type.defaultProps),N.item.props):N.item.props,ee=Y.activeDot,ce=Y.hide,de=Y.activeBar,_e=Y.activeShape,ge=!!(!ce&&k&&W&&(ee||de||_e)),Se={};I!=="axis"&&W&&W.props.trigger==="click"?Se={onClick:l1(E.handleItemMouseEnter,T.props.onClick)}:I!=="axis"&&(Se={onMouseLeave:l1(E.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:l1(E.handleItemMouseEnter,T.props.onMouseEnter)});var se=_.cloneElement(T,ae(ae({},N.props),Se));function V(wr){return typeof O.dataKey=="function"?O.dataKey(wr.payload):null}if(ge)if(L>=0){var Q,H;if(O.dataKey&&!O.allowDuplicatedCategory){var ve=typeof O.dataKey=="function"?V:"payload.".concat(O.dataKey.toString());Q=jw(B,ve,z),H=G&&X&&jw(X,ve,z)}else Q=B==null?void 0:B[L],H=G&&X&&X[L];if(_e||de){var fe=T.props.activeIndex!==void 0?T.props.activeIndex:L;return[_.cloneElement(T,ae(ae(ae({},N.props),Se),{},{activeIndex:fe})),null,null]}if(!dt(Q))return[se].concat(jh(E.renderActivePoints({item:N,activePoint:Q,basePoint:H,childIndex:L,isRange:G})))}else{var te,re=(te=E.getItemByXY(E.state.activeCoordinate))!==null&&te!==void 0?te:{graphicalItem:se},K=re.graphicalItem,le=K.item,pe=le===void 0?T:le,ut=K.childIndex,Wt=ae(ae(ae({},N.props),Se),{},{activeIndex:ut});return[_.cloneElement(pe,Wt),null,null]}return G?[se,null,null]:[se,null]}),ze(E,"renderCustomized",function(T,A,C){return _.cloneElement(T,ae(ae({key:"recharts-customized-".concat(C)},E.props),E.state))}),ze(E,"renderMap",{CartesianGrid:{handler:h1,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:h1},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:h1},YAxis:{handler:h1},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((w=x.id)!==null&&w!==void 0?w:$0("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=QJ(E.triggeredAfterMouseMove,(S=x.throttleDelay)!==null&&S!==void 0?S:1e3/60),E.state={},E}return mot(y,v),dot(y,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,E=w.data,T=w.height,A=w.layout,C=Qi(S,Oo);if(C){var N=C.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,P=GI(this.state,E,N,I),k=this.state.tooltipTicks[N].coordinate,O=(this.state.offset.top+T)/2,L=A==="horizontal",z=L?{x:k,y:O}:{y:k,x:O},M=this.state.formattedGraphicalItems.find(function($){var B=$.item;return B.type.name==="Scatter"});M&&(z=ae(ae({},z),M.props.points[N].tooltipPosition),P=M.props.points[N].tooltipPayload);var W={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:I,activePayload:P,activeCoordinate:z};this.setState(W),this.renderCursor(C),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var E,T;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(w){ON([Qi(w.children,Oo)],[Qi(this.props.children,Oo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Qi(this.props.children,Oo);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return s.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,E=S.getBoundingClientRect(),T=hKe(E),A={chartX:Math.round(w.pageX-T.left),chartY:Math.round(w.pageY-T.top)},C=E.width/S.offsetWidth||1,N=this.inRange(A.chartX,A.chartY,C);if(!N)return null;var I=this.state,P=I.xAxisMap,k=I.yAxisMap,O=this.getTooltipEventType(),L=c7(this.state,this.props.data,this.props.layout,N);if(O!=="axis"&&P&&k){var z=Pl(P).scale,M=Pl(k).scale,W=z&&z.invert?z.invert(A.chartX):null,$=M&&M.invert?M.invert(A.chartY):null;return ae(ae({},A),{},{xValue:W,yValue:$},L)}return L?ae(ae({},A),L):null}},{key:"inRange",value:function(w,S){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,A=w/E,C=S/E;if(T==="horizontal"||T==="vertical"){var N=this.state.offset,I=A>=N.left&&A<=N.left+N.width&&C>=N.top&&C<=N.top+N.height;return I?{x:A,y:C}:null}var P=this.state,k=P.angleAxisMap,O=P.radiusAxisMap;if(k&&O){var L=Pl(k);return q9({x:A,y:C},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),E=Qi(w,Oo),T={};E&&S==="axis"&&(E.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=kw(this.props,this.handleOuterEvent);return ae(ae({},A),T)}},{key:"addListener",value:function(){OA.on(jA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){OA.removeListener(jA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,E){for(var T=this.state.formattedGraphicalItems,A=0,C=T.length;A<C;A++){var N=T[A];if(N.item===w||N.props.key===w.key||S===Os(N.item.type)&&E===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,E=S.left,T=S.top,A=S.height,C=S.width;return D.createElement("defs",null,D.createElement("clipPath",{id:w},D.createElement("rect",{x:E,y:T,height:A,width:C})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,E){var T=o7(E,2),A=T[0],C=T[1];return ae(ae({},S),{},ze({},A,C.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,E){var T=o7(E,2),A=T[0],C=T[1];return ae(ae({},S),{},ze({},A,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,E=S.formattedGraphicalItems,T=S.activeItem;if(E&&E.length)for(var A=0,C=E.length;A<C;A++){var N=E[A],I=N.props,P=N.item,k=P.type.defaultProps!==void 0?ae(ae({},P.type.defaultProps),P.props):P.props,O=Os(P.type);if(O==="Bar"){var L=(I.data||[]).find(function($){return Btt(w,$)});if(L)return{graphicalItem:N,payload:L}}else if(O==="RadialBar"){var z=(I.data||[]).find(function($){return q9(w,$)});if(z)return{graphicalItem:N,payload:z}}else if(q_(N,T)||K_(N,T)||Uv(N,T)){var M=Irt({graphicalItem:N,activeTooltipItem:T,itemData:k.data}),W=k.activeIndex===void 0?M:k.activeIndex;return{graphicalItem:ae(ae({},N),{},{childIndex:W}),payload:Uv(N,T)?k.data[M]:N.props.data[M]}}}return null}},{key:"render",value:function(){var w=this;if(!d$(this))return null;var S=this.props,E=S.children,T=S.className,A=S.width,C=S.height,N=S.style,I=S.compact,P=S.title,k=S.desc,O=s7(S,iot),L=rt(O,!1);if(I)return D.createElement(zF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(kN,lf({},L,{width:A,height:C,title:P,desc:k}),this.renderClipPath(),h$(E,this.renderMap)));if(this.props.accessibilityLayer){var z,M;L.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,L.role=(M=this.props.role)!==null&&M!==void 0?M:"application",L.onKeyDown=function($){w.accessibilityManager.keyboardEvent($)},L.onFocus=function(){w.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return D.createElement(zF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",lf({className:pt("recharts-wrapper",T),style:ae({position:"relative",cursor:"default",width:A,height:C},N)},W,{ref:function(B){w.container=B}}),D.createElement(kN,lf({},L,{width:A,height:C,title:P,desc:k,style:bot}),this.renderClipPath(),h$(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(_.Component);ze(m,"displayName",r),ze(m,"defaultProps",ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ze(m,"getDerivedStateFromProps",function(v,y){var x=v.dataKey,w=v.data,S=v.children,E=v.width,T=v.height,A=v.layout,C=v.stackOffset,N=v.margin,I=y.dataStartIndex,P=y.dataEndIndex;if(y.updateId===void 0){var k=u7(v);return ae(ae(ae({},k),{},{updateId:0},p(ae(ae({props:v},k),{},{updateId:0}),y)),{},{prevDataKey:x,prevData:w,prevWidth:E,prevHeight:T,prevLayout:A,prevStackOffset:C,prevMargin:N,prevChildren:S})}if(x!==y.prevDataKey||w!==y.prevData||E!==y.prevWidth||T!==y.prevHeight||A!==y.prevLayout||C!==y.prevStackOffset||!Ef(N,y.prevMargin)){var O=u7(v),L={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},z=ae(ae({},c7(y,w,A)),{},{updateId:y.updateId+1}),M=ae(ae(ae({},O),L),z);return ae(ae(ae({},M),p(ae({props:v},M),y)),{},{prevDataKey:x,prevData:w,prevWidth:E,prevHeight:T,prevLayout:A,prevStackOffset:C,prevMargin:N,prevChildren:S})}if(!ON(S,y.prevChildren)){var W,$,B,G,X=Qi(S,_h),Y=X&&(W=($=X.props)===null||$===void 0?void 0:$.startIndex)!==null&&W!==void 0?W:I,ee=X&&(B=(G=X.props)===null||G===void 0?void 0:G.endIndex)!==null&&B!==void 0?B:P,ce=Y!==I||ee!==P,de=!dt(w),_e=de&&!ce?y.updateId:y.updateId+1;return ae(ae({updateId:_e},p(ae(ae({props:v},y),{},{updateId:_e,dataStartIndex:Y,dataEndIndex:ee}),y)),{},{prevChildren:S,dataStartIndex:Y,dataEndIndex:ee})}return null}),ze(m,"renderActiveDot",function(v,y,x){var w;return _.isValidElement(v)?w=_.cloneElement(v,y):Xe(v)?w=v(y):w=D.createElement(F3,y),D.createElement(mr,{className:"recharts-active-dot",key:x},w)});var g=_.forwardRef(function(y,x){return D.createElement(m,lf({},y,{ref:x}))});return g.displayName=m.displayName,g},jot=Oot({chartName:"AreaChart",GraphicalChild:Vc,axisComponents:[{axisType:"xAxis",AxisComp:eS},{axisType:"yAxis",AxisComp:tS}],formatAxisMap:jnt});const kot=()=>{const{trips:t}=u1e(),[e,r]=_.useState([]),[n,i]=_.useState({total:0,percentageChange:0}),a=_.useMemo(()=>{const c=new Map;return t.forEach(d=>{if(d.status==="completed"){const f=new Date(d.createdAt),h=er(f,"MMM yyyy"),p=d.items.reduce((g,v)=>g+(v.price||0)*v.quantity,0);c.has(h)||c.set(h,{total:0,count:0,byCategory:{}});const m=c.get(h);m.total+=p,m.count+=1,d.items.forEach(g=>{g.category&&(m.byCategory[g.category]=(m.byCategory[g.category]||0)+(g.price||0)*g.quantity)})}}),Array.from(c.entries()).map(([d,f])=>({month:d,total:Number(f.total.toFixed(2)),average:Number((f.total/f.count).toFixed(2)),...f.byCategory})).sort((d,f)=>{const h=new Date(d.month),p=new Date(f.month);return h.getTime()-p.getTime()})},[t]),o=_.useMemo(()=>{const c=er(new Date,"MMM yyyy"),d=a.find(m=>m.month===c),f=er(new Date(new Date().setMonth(new Date().getMonth()-1)),"MMM yyyy"),h=a.find(m=>m.month===f),p=h&&d?(d.total-h.total)/h.total*100:0;return{total:(d==null?void 0:d.total)||0,percentageChange:Number(p.toFixed(1))}},[a]);_.useMemo(()=>{const c=er(new Date,"MMM yyyy"),d=a.find(f=>f.month===c);return d?Object.entries(d).filter(([f])=>!["month","total","average"].includes(f)).map(([f,h])=>({category:f,amount:typeof h=="number"?Number(h.toFixed(2)):0,percentage:typeof h=="number"?Number((h/d.total*100).toFixed(1)):0})).sort((f,h)=>h.amount-f.amount):[]},[a]);const s=_.useMemo(()=>t.filter(c=>c.status==="open"||c.status==="shopping").length,[t]),l=_.useMemo(()=>t.filter(c=>c.status==="completed").sort((c,d)=>new Date(d.createdAt).getTime()-new Date(c.createdAt).getTime()).slice(0,5),[t]);return _.useEffect(()=>{r(a),i(o)},[a,o]),u.jsx(ca,{children:u.jsxs("div",{className:"p-4 md:p-8 space-y-8",children:[u.jsx("h1",{className:"text-4xl font-bold text-blue-600",children:"Dashboard"}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs(Ne,{className:"bg-white",children:[u.jsxs(Fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsx(Be,{className:"text-sm font-medium",children:"Total Spent (This Month)"}),u.jsxs(lt,{variant:n.percentageChange>=0?"default":"destructive",children:[n.percentageChange>=0?"+":"",n.percentageChange,"%"]})]}),u.jsxs(Ie,{children:[u.jsxs("div",{className:"text-2xl font-bold",children:["$",n.total.toFixed(2)]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.percentageChange>=0?"Increase":"Decrease"," from last month"]})]})]}),u.jsxs(Ne,{className:"bg-white",children:[u.jsx(Fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:u.jsx(Be,{className:"text-sm font-medium",children:"Active Trips"})}),u.jsxs(Ie,{children:[u.jsx("div",{className:"text-2xl font-bold",children:s}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Open or in progress"})]})]})]}),u.jsx(Ne,{className:"bg-white",children:u.jsxs(Ie,{className:"p-6",children:[u.jsx("h2",{className:"text-lg font-medium text-gray-600 mb-4",children:"Recent Activity"}),u.jsx("div",{className:"space-y-4",children:l.map((c,d)=>{const f=c.items.reduce((h,p)=>h+(p.price||0)*p.quantity,0);return u.jsxs("div",{className:"flex items-center justify-between py-2",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:u.jsx(wT,{className:"h-4 w-4 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:c.name}),u.jsx("p",{className:"text-sm text-gray-500",children:new Date(c.createdAt).toLocaleDateString()})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"font-medium",children:["$",f.toFixed(2)]}),u.jsxs("p",{className:"text-sm text-gray-500",children:[c.items.length," items"]})]})]},c.id)})})]})}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsx(Ne,{className:"bg-white",children:u.jsxs(Ie,{className:"p-6",children:[u.jsx("h2",{className:"text-lg font-medium text-gray-600 mb-4",children:"Spending Analysis"}),u.jsxs(bc,{defaultValue:"trend",className:"w-full",children:[u.jsxs(Gs,{children:[u.jsx(Jt,{value:"trend",className:"flex-1",children:"Trend"}),u.jsx(Jt,{value:"categories",className:"flex-1",children:"Categories"})]}),u.jsx(Ir,{value:"trend",children:u.jsx("div",{className:"h-[300px] w-full",children:u.jsx(oKe,{width:"100%",height:"100%",children:u.jsxs(jot,{data:a,children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"total",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#0ea5e9",stopOpacity:.3}),u.jsx("stop",{offset:"95%",stopColor:"#0ea5e9",stopOpacity:0})]})}),u.jsx(Vte,{strokeDasharray:"3 3",className:"stroke-muted"}),u.jsx(eS,{dataKey:"month"}),u.jsx(tS,{}),u.jsx(Oo,{content:({active:c,payload:d})=>c&&d&&d.length?u.jsx("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[0.70rem] uppercase text-muted-foreground",children:"Month"}),u.jsx("span",{className:"font-bold text-muted-foreground",children:d[0].payload.month})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-[0.70rem] uppercase text-muted-foreground",children:"Total"}),u.jsxs("span",{className:"font-bold",children:["$",d[0].value]})]})]})}):null}),u.jsx(Vc,{type:"monotone",dataKey:"total",stroke:"#0ea5e9",fillOpacity:1,fill:"url(#total)"})]})})})}),u.jsx(Ir,{value:"categories",children:u.jsx("div",{className:"text-center text-gray-500 py-8",children:"Category breakdown coming soon"})})]})]})}),u.jsx(Ne,{className:"bg-white",children:u.jsxs(Ie,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(wT,{className:"h-5 w-5"}),u.jsx("h2",{className:"text-lg font-medium text-gray-600",children:"Shopping Insights"})]}),u.jsxs(bc,{defaultValue:"hotspots",className:"w-full",children:[u.jsxs(Gs,{className:"mb-4",children:[u.jsx(Jt,{value:"hotspots",className:"flex-1",children:"My List Hotspots"}),u.jsx(Jt,{value:"overview",className:"flex-1",children:"Store Overview"}),u.jsx(Jt,{value:"dive",className:"flex-1",children:"Item Deep Dive"}),u.jsx(Jt,{value:"visits",className:"flex-1",children:"Recent Visits"})]}),u.jsx(Ir,{value:"hotspots",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 border rounded-lg",children:[u.jsx("h3",{className:"font-medium mb-2",children:"Milk"}),u.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[u.jsx(Tr,{className:"h-4 w-4"}),u.jsx("span",{children:"No purchase frequency data yet."})]}),u.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2 mt-1",children:[u.jsx(zo,{className:"h-4 w-4"}),u.jsx("span",{children:"No pricing data to determine cheapest store."})]})]}),u.jsxs("div",{className:"p-4 border rounded-lg",children:[u.jsx("h3",{className:"font-medium mb-2",children:"Eggs"}),u.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[u.jsx(Tr,{className:"h-4 w-4"}),u.jsx("span",{children:"No purchase frequency data yet."})]}),u.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2 mt-1",children:[u.jsx(zo,{className:"h-4 w-4"}),u.jsx("span",{children:"No pricing data to determine cheapest store."})]})]})]})})]})]})})]})]})})},Rot=()=>{var A,C;const{loginWithGoogle:t,loginWithEmail:e,registerWithEmail:r,isLoading:n,error:i,user:a}=xr(),o=Si(),s=ns(),[l,c]=_.useState(null),[d,f]=_.useState(!1),[h,p]=_.useState(!1),[m,g]=_.useState(!1),[v,y]=_.useState({email:"",password:"",name:"",confirmPassword:""}),x=((C=(A=s.state)==null?void 0:A.from)==null?void 0:C.pathname)||"/home",w=async()=>{c(null);try{await t()}catch(N){c("Login failed. Please try again."),console.error("Login failed on page:",N)}},S=async N=>{if(N.preventDefault(),c(null),!v.email||!v.password){c("Please fill in all required fields.");return}if(d){if(!v.name){c("Please enter your name.");return}if(v.password!==v.confirmPassword){c("Passwords do not match.");return}if(v.password.length<6){c("Password must be at least 6 characters long.");return}}try{d?await r(v.email,v.password,v.name):await e(v.email,v.password)}catch{}},E=()=>{f(!d),c(null),y({email:"",password:"",name:"",confirmPassword:""})},T=()=>{p(!h),c(null),y({email:"",password:"",name:"",confirmPassword:""})};return D.useEffect(()=>{a&&o(x,{replace:!0})},[a,o,x]),u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 via-purple-100 to-teal-100 flex items-center justify-center p-4",children:[u.jsx("div",{className:"absolute top-6 left-6",children:u.jsxs(T1,{to:"/",className:"flex items-center gap-2 text-teal-600 hover:text-teal-700 transition-colors",children:[u.jsx(w2,{className:"h-5 w-5"}),u.jsx("span",{className:"font-medium",children:"Back to Home"})]})}),u.jsxs(Ne,{className:"w-full max-w-md border-none shadow-lg",children:[u.jsxs(Fe,{className:"space-y-1 text-center",children:[u.jsx("div",{className:"flex justify-center mb-2",children:u.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-50 flex items-center justify-center",children:u.jsx(lj,{className:"h-8 w-8 text-blue-500"})})}),u.jsx(Be,{className:"text-2xl font-bold text-slate-800",children:h&&d?"Create Account":"Welcome Back!"}),u.jsx(st,{className:"text-slate-600",children:h&&d?"Sign up to get started with TaskaLoop.":"Sign in to continue to TaskaLoop."})]}),u.jsxs(Ie,{className:"space-y-4",children:[(i||l)&&u.jsx("p",{className:"text-center text-red-500 dark:text-red-400 bg-red-500/10 p-3 rounded-md",children:i||l}),h?u.jsxs("form",{onSubmit:S,className:"space-y-4",children:[d&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"name",children:"Full Name"}),u.jsx(De,{id:"name",type:"text",placeholder:"Enter your full name",value:v.name,onChange:N=>y({...v,name:N.target.value}),required:d})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"email",children:"Email"}),u.jsx(De,{id:"email",type:"email",placeholder:"Enter your email",value:v.email,onChange:N=>y({...v,email:N.target.value}),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"password",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(De,{id:"password",type:m?"text":"password",placeholder:"Enter your password",value:v.password,onChange:N=>y({...v,password:N.target.value}),required:!0,minLength:6}),u.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700",onClick:()=>g(!m),children:m?u.jsx(T1e,{className:"h-4 w-4"}):u.jsx(N1e,{className:"h-4 w-4"})})]})]}),d&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"confirmPassword",children:"Confirm Password"}),u.jsx(De,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:v.confirmPassword,onChange:N=>y({...v,confirmPassword:N.target.value}),required:d})]}),u.jsxs(q,{type:"submit",className:"w-full py-6 bg-gradient-to-r from-blue-500 to-teal-500 hover:from-blue-600 hover:to-teal-600 text-white",disabled:n,children:[n?u.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,d?"Create Account":"Sign In"]}),u.jsx("div",{className:"flex items-center justify-center space-x-2",children:u.jsx(q,{type:"button",variant:"ghost",onClick:E,className:"text-sm text-slate-600 hover:text-slate-800",children:d?"Already have an account? Sign in":"Need an account? Sign up"})}),u.jsx(q,{type:"button",variant:"ghost",onClick:T,className:"w-full text-sm text-slate-500 hover:text-slate-700",children:"← Back to other options"})]}):u.jsxs(u.Fragment,{children:[u.jsxs(q,{className:"w-full py-6 bg-gradient-to-r from-blue-500 to-teal-500 hover:from-blue-600 hover:to-teal-600 text-white",onClick:w,disabled:n,children:[n?u.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):u.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[u.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),u.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),u.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),u.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),u.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]}),"Sign in with Google"]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("span",{className:"w-full border-t border-gray-200"})}),u.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:u.jsx("span",{className:"bg-white px-2 text-slate-500",children:"Or continue with"})})]}),u.jsxs(q,{variant:"outline",className:"w-full py-6 border-slate-300 text-slate-700 hover:bg-slate-50",onClick:T,disabled:n,children:[u.jsx(Zl,{className:"mr-2 h-4 w-4"}),"Sign in with Email"]})]})]}),u.jsxs(hr,{className:"flex flex-col space-y-4",children:[u.jsxs("p",{className:"text-center text-sm text-slate-500",children:["By signing in, you agree to our"," ",u.jsx(T1,{to:"#",className:"text-teal-600 hover:text-teal-700 underline underline-offset-4",children:"Terms of Service"})," ","and"," ",u.jsx(T1,{to:"#",className:"text-teal-600 hover:text-teal-700 underline underline-offset-4",children:"Privacy Policy"}),"."]}),!h&&u.jsx("p",{className:"text-center text-sm text-slate-500",children:"Don't have an account? It will be created automatically."})]})]})]})};function Dot(){const t=Si(),[e,r]=_.useState(null),[n,i]=_.useState(!1),a="May",o=2025,s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],l={20:[{id:1,title:"Grocery Shopping",time:"3:30 PM",type:"shopping",location:"Trader Joe's",description:"Weekly grocery shopping for household items",status:"scheduled"},{id:2,title:"Dinner with Alex",time:"7:00 PM",type:"social",location:"Italian Restaurant",description:"Catch up dinner with Alex",status:"scheduled"}],22:[{id:3,title:"Pay Internet Bill",time:"All day",type:"task",description:"Monthly internet bill payment",status:"pending"}],25:[{id:4,title:"Household Supplies",time:"11:00 AM",type:"shopping",location:"Target",description:"Buy cleaning supplies and toiletries",status:"scheduled"}]},c=Array.from({length:35},(m,g)=>{const v=g-3;return{date:v<=0?`Apr ${30+v}`:v>31?`Jun ${v-31}`:`May ${v}`,day:v,isCurrentMonth:v>0&&v<=31,hasEvents:[1,5,10,15,20,22,25].includes(v),events:l[v]||[]}}),d=m=>{r(m),i(!0)},f=m=>{m.type==="shopping"?t("/trips"):console.log("Edit event:",m)},h=m=>{console.log("Complete task:",m),i(!1)},p=m=>{console.log("Delete event:",m),i(!1)};return u.jsxs("div",{className:"min-h-screen bg-slate-50",children:[u.jsx(zK,{}),u.jsx("main",{className:"md:pl-64 pb-16 md:pb-0",children:u.jsxs("div",{className:"p-4 md:p-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Calendar"}),u.jsx("p",{className:"text-slate-500",children:"Plan and manage your schedule"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"flex items-center border border-slate-200 rounded-md",children:[u.jsx(q,{variant:"ghost",size:"icon",className:"h-9 w-9 text-slate-500",children:u.jsx(b2,{className:"h-4 w-4"})}),u.jsxs("div",{className:"px-2 font-medium",children:[a," ",o]}),u.jsx(q,{variant:"ghost",size:"icon",className:"h-9 w-9 text-slate-500",children:u.jsx(p0,{className:"h-4 w-4"})})]}),u.jsxs(Rt,{defaultValue:"month",children:[u.jsx(Nt,{className:"w-[120px] border-slate-200",children:u.jsx(Dt,{placeholder:"View"})}),u.jsxs(It,{children:[u.jsx(we,{value:"day",children:"Day"}),u.jsx(we,{value:"week",children:"Week"}),u.jsx(we,{value:"month",children:"Month"}),u.jsx(we,{value:"agenda",children:"Agenda"})]})]}),u.jsxs(q,{className:"bg-teal-600 hover:bg-teal-700",children:[u.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Add Event"]})]})]}),u.jsx(Ne,{className:"border-none shadow-sm",children:u.jsxs(Ie,{className:"p-0",children:[u.jsx("div",{className:"grid grid-cols-7 border-b border-slate-200",children:s.map((m,g)=>u.jsx("div",{className:`py-2 text-center text-sm font-medium ${g===0||g===6?"text-red-500":"text-slate-700"}`,children:m},m))}),u.jsx("div",{className:"grid grid-cols-7 grid-rows-5 divide-x divide-y divide-slate-200",children:c.map((m,g)=>u.jsxs("div",{className:`min-h-[120px] p-2 ${m.isCurrentMonth?"bg-white":"bg-slate-50"} hover:bg-slate-50 transition-colors`,children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsx("span",{className:`text-sm font-medium ${m.isCurrentMonth?m.date.includes("May 20")?"bg-teal-100 text-teal-800 w-6 h-6 rounded-full flex items-center justify-center":"text-slate-700":"text-slate-400"}`,children:m.day<=0?30+m.day:m.day>31?m.day-31:m.day}),m.hasEvents&&u.jsx("div",{className:"flex",children:u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-teal-500"})})]}),u.jsx("div",{className:"mt-1 space-y-1",children:m.events.map((v,y)=>u.jsxs("div",{className:`text-xs p-1 rounded truncate cursor-pointer hover:opacity-80 transition-opacity ${v.type==="shopping"?"bg-blue-100 text-blue-800":v.type==="social"?"bg-purple-100 text-purple-800":"bg-amber-100 text-amber-800"}`,onClick:()=>d(v),children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Tr,{className:"h-3 w-3"}),u.jsx("span",{children:v.time})]}),u.jsx("div",{className:"truncate font-medium",children:v.title})]},y))})]},g))})]})}),u.jsxs("div",{className:"mt-8",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Upcoming Events"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs(Ne,{className:"border-none shadow-sm",children:[u.jsx(Fe,{className:"pb-2",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx(Be,{children:"Today, May 20"}),u.jsx(st,{children:"2 events scheduled"})]}),u.jsx(lt,{className:"bg-teal-100 text-teal-800 hover:bg-teal-100",children:"Today"})]})}),u.jsx(Ie,{className:"pb-2",children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-blue-50 border border-blue-100 cursor-pointer hover:bg-blue-100 transition-colors",onClick:()=>d(l[20][0]),children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:u.jsx(lr,{className:"h-5 w-5 text-blue-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-medium text-slate-800",children:"Grocery Shopping"}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx(Tr,{className:"h-3.5 w-3.5 text-slate-500"}),u.jsx("span",{className:"text-sm text-slate-500",children:"3:30 PM"})]}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx(Bi,{className:"h-3.5 w-3.5 text-slate-500"}),u.jsx("span",{className:"text-sm text-slate-500",children:"Trader Joe's"})]})]}),u.jsxs(Gg,{children:[u.jsx(qg,{asChild:!0,children:u.jsx(q,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400",onClick:m=>m.stopPropagation(),children:u.jsx(_f,{className:"h-4 w-4"})})}),u.jsxs(Zf,{align:"end",children:[u.jsx(hi,{onClick:()=>f(l[20][0]),children:"Edit Event"}),u.jsx(hi,{onClick:()=>t("/trips"),children:"View Shopping List"}),u.jsx(Kg,{}),u.jsx(hi,{className:"text-red-600",onClick:()=>p(l[20][0]),children:"Cancel"})]})]})]}),u.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-purple-50 border border-purple-100 cursor-pointer hover:bg-purple-100 transition-colors",onClick:()=>d(l[20][1]),children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center flex-shrink-0",children:u.jsx(Hi,{className:"h-5 w-5 text-purple-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-medium text-slate-800",children:"Dinner with Alex"}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx(Tr,{className:"h-3.5 w-3.5 text-slate-500"}),u.jsx("span",{className:"text-sm text-slate-500",children:"7:00 PM"})]}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx(Bi,{className:"h-3.5 w-3.5 text-slate-500"}),u.jsx("span",{className:"text-sm text-slate-500",children:"Italian Restaurant"})]})]}),u.jsxs(Gg,{children:[u.jsx(qg,{asChild:!0,children:u.jsx(q,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400",onClick:m=>m.stopPropagation(),children:u.jsx(_f,{className:"h-4 w-4"})})}),u.jsxs(Zf,{align:"end",children:[u.jsx(hi,{onClick:()=>f(l[20][1]),children:"Edit Event"}),u.jsx(hi,{children:"Send Message"}),u.jsx(Kg,{}),u.jsx(hi,{className:"text-red-600",onClick:()=>p(l[20][1]),children:"Cancel"})]})]})]})]})})]}),u.jsxs(Ne,{className:"border-none shadow-sm",children:[u.jsx(Fe,{className:"pb-2",children:u.jsx("div",{className:"flex justify-between items-start",children:u.jsxs("div",{children:[u.jsx(Be,{children:"Upcoming"}),u.jsx(st,{children:"Events in the next 7 days"})]})})}),u.jsx(Ie,{className:"pb-2",children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>d(l[22][0]),children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center flex-shrink-0",children:u.jsx(Ql,{className:"h-5 w-5 text-amber-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-medium text-slate-800",children:"Pay Internet Bill"}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx(qf,{className:"h-3.5 w-3.5 text-slate-500"}),u.jsx("span",{className:"text-sm text-slate-500",children:"May 22, 2025"})]}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx(Tr,{className:"h-3.5 w-3.5 text-slate-500"}),u.jsx("span",{className:"text-sm text-slate-500",children:"All day"})]})]}),u.jsx(q,{variant:"outline",size:"sm",className:"border-slate-200",onClick:m=>m.stopPropagation(),children:"Remind Me"})]}),u.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>d(l[25][0]),children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:u.jsx(lr,{className:"h-5 w-5 text-blue-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-medium text-slate-800",children:"Household Supplies"}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx(qf,{className:"h-3.5 w-3.5 text-slate-500"}),u.jsx("span",{className:"text-sm text-slate-500",children:"May 25, 2025"})]}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx(Tr,{className:"h-3.5 w-3.5 text-slate-500"}),u.jsx("span",{className:"text-sm text-slate-500",children:"11:00 AM"})]})]}),u.jsx(q,{variant:"outline",size:"sm",className:"border-slate-200",onClick:m=>m.stopPropagation(),children:"Remind Me"})]})]})}),u.jsx(hr,{className:"pt-2",children:u.jsx(q,{variant:"ghost",className:"w-full text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:"View All Events"})})]})]})]})]})}),u.jsx(cr,{open:n,onOpenChange:i,children:u.jsxs(rr,{className:"max-w-md",children:[u.jsx(nr,{children:u.jsxs(ir,{className:"flex items-center gap-2",children:[(e==null?void 0:e.type)==="shopping"&&u.jsx(lr,{className:"h-5 w-5"}),(e==null?void 0:e.type)==="social"&&u.jsx(Hi,{className:"h-5 w-5"}),(e==null?void 0:e.type)==="task"&&u.jsx(Ql,{className:"h-5 w-5"}),"Event Details"]})}),e&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:"Title"}),u.jsx("p",{className:"text-lg font-semibold",children:e.title})]}),u.jsxs("div",{children:[u.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:"Time"}),u.jsxs("p",{className:"text-sm flex items-center gap-2",children:[u.jsx(Tr,{className:"h-4 w-4"}),e.time]})]}),e.location&&u.jsxs("div",{children:[u.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:"Location"}),u.jsxs("p",{className:"text-sm flex items-center gap-2",children:[u.jsx(Bi,{className:"h-4 w-4"}),e.location]})]}),e.description&&u.jsxs("div",{children:[u.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:"Description"}),u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:e.description})]}),u.jsxs("div",{children:[u.jsx(oe,{className:"text-sm font-medium text-muted-foreground",children:"Type"}),u.jsx(lt,{variant:e.type==="shopping"?"default":e.type==="social"?"secondary":"outline",children:e.type})]}),u.jsxs("div",{className:"flex gap-2 pt-4",children:[e.type==="task"&&u.jsxs(q,{variant:"outline",size:"sm",onClick:()=>h(e),className:"flex-1",children:[u.jsx(Gn,{className:"h-4 w-4 mr-2"}),"Mark Complete"]}),u.jsx(q,{variant:"outline",size:"sm",onClick:()=>{i(!1),f(e)},children:u.jsx(oj,{className:"h-4 w-4"})}),u.jsx(q,{variant:"outline",size:"sm",onClick:()=>p(e),children:u.jsx(cj,{className:"h-4 w-4"})})]})]})]})})]})}const Mot=async(t,e)=>{try{if(!Kr||!yc)return console.error("Firebase services not available for admin login"),null;const r=Kr,n=yc,a=(await wW(r,t,e)).user.uid,o=await Xz(Wz(n,"admins",a));return o.exists()?{...o.data(),id:a}:(console.error("User is not an admin"),await r.signOut(),null)}catch(r){return console.error("Admin login error:",r),null}},sre=async()=>{try{if(!Kr||!yc)return console.warn("Firebase services not available for admin check"),!1;const t=Kr,e=yc,r=t.currentUser;return r?(await Xz(Wz(e,"admins",r.uid))).exists():!1}catch(t){return console.error("Error checking admin status:",t),!1}},Lot=async()=>{try{const e=(await SM(yM(yc,"users"))).docs.map(i=>({id:i.id,...i.data()})),n=(await SM(yM(yc,"admins"))).docs.map(i=>i.id);return e.filter(i=>!n.includes(i.id))}catch(t){return console.error("Error fetching users:",t),[]}},$ot=({onSuccess:t})=>{const[e,r]=_.useState(""),[n,i]=_.useState(""),[a,o]=_.useState(!1),[s,l]=_.useState(null),c=Si(),d=async f=>{f.preventDefault(),l(null),o(!0);try{const h=await Mot(e,n);h?(localStorage.setItem("adminUser",JSON.stringify(h)),t&&t(h),c("/admin/dashboard")):l("Invalid admin credentials. Please try again.")}catch(h){console.error("Admin login error:",h),l("Login failed. Please check your credentials and try again.")}finally{o(!1)}};return u.jsxs(Ne,{className:"w-full max-w-md mx-auto",children:[u.jsxs(Fe,{className:"space-y-1",children:[u.jsx("div",{className:"flex items-center justify-center mb-4",children:u.jsx(lj,{className:"h-12 w-12 text-primary"})}),u.jsx(Be,{className:"text-2xl text-center",children:"Admin Login"}),u.jsx(st,{className:"text-center",children:"Enter your admin credentials to access the dashboard"})]}),u.jsx(Ie,{children:u.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s&&u.jsx("div",{className:"p-3 text-sm bg-destructive/10 text-destructive rounded-md",children:s}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"email",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:u.jsx(Zl,{className:"h-5 w-5 text-gray-400"})}),u.jsx(De,{id:"email",type:"email",placeholder:"admin@example.com",value:e,onChange:f=>r(f.target.value),className:"pl-10",required:!0})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"password",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:u.jsx(M1e,{className:"h-5 w-5 text-gray-400"})}),u.jsx(De,{id:"password",type:"password",value:n,onChange:f=>i(f.target.value),className:"pl-10",required:!0})]})]}),u.jsx(q,{type:"submit",className:"w-full",disabled:a,children:a?"Logging in...":"Login as Admin"})]})}),u.jsx(hr,{className:"flex justify-center",children:u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Not an admin? ",u.jsx("a",{href:"/login",className:"underline text-primary",children:"User Login"})]})})]})},Fot=()=>{const t=Si();_.useEffect(()=>{(async()=>{if(localStorage.getItem("adminUser"))try{await sre()?(console.log("Welcome back, admin!"),t("/admin/dashboard")):localStorage.removeItem("adminUser")}catch(i){console.error("Error checking admin status:",i),localStorage.removeItem("adminUser")}})()},[t]);const e=r=>{console.log("Successfully logged in as admin!")};return u.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:u.jsx("div",{className:"max-w-md w-full",children:u.jsx($ot,{onSuccess:e})})})},lre=_.forwardRef(({className:t,...e},r)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:r,className:Pe("w-full caption-bottom text-sm",t),...e})}));lre.displayName="Table";const cre=_.forwardRef(({className:t,...e},r)=>u.jsx("thead",{ref:r,className:Pe("[&_tr]:border-b",t),...e}));cre.displayName="TableHeader";const ure=_.forwardRef(({className:t,...e},r)=>u.jsx("tbody",{ref:r,className:Pe("[&_tr:last-child]:border-0",t),...e}));ure.displayName="TableBody";const Bot=_.forwardRef(({className:t,...e},r)=>u.jsx("tfoot",{ref:r,className:Pe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Bot.displayName="TableFooter";const Z1=_.forwardRef(({className:t,...e},r)=>u.jsx("tr",{ref:r,className:Pe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Z1.displayName="TableRow";const Dm=_.forwardRef(({className:t,...e},r)=>u.jsx("th",{ref:r,className:Pe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Dm.displayName="TableHead";const $d=_.forwardRef(({className:t,...e},r)=>u.jsx("td",{ref:r,className:Pe("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));$d.displayName="TableCell";const Uot=_.forwardRef(({className:t,...e},r)=>u.jsx("caption",{ref:r,className:Pe("mt-4 text-sm text-muted-foreground",t),...e}));Uot.displayName="TableCaption";Array(12).fill(0);D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"}));D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"}));D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"}));D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}));var qI=1,Vot=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:qI++,a=this.toasts.find(s=>s.id===i),o=t.dismissible===void 0?!0:t.dismissible;return a?this.toasts=this.toasts.map(s=>s.id===i?(this.publish({...s,...t,id:i,title:r}),{...s,...t,id:i,dismissible:o,title:r}):s):this.addToast({title:r,...n,dismissible:o,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=r!==void 0;return n.then(async a=>{if(Wot(a)&&!a.ok){i=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${a.status}`):e.error,s=typeof e.description=="function"?await e.description(`HTTP error! status: ${a.status}`):e.description;this.create({id:r,type:"error",message:o,description:s})}else if(e.success!==void 0){i=!1;let o=typeof e.success=="function"?await e.success(a):e.success,s=typeof e.description=="function"?await e.description(a):e.description;this.create({id:r,type:"success",message:o,description:s})}}).catch(async a=>{if(e.error!==void 0){i=!1;let o=typeof e.error=="function"?await e.error(a):e.error,s=typeof e.description=="function"?await e.description(a):e.description;this.create({id:r,type:"error",message:o,description:s})}}).finally(()=>{var a;i&&(this.dismiss(r),r=void 0),(a=e.finally)==null||a.call(e)}),r},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||qI++;return this.create({jsx:t(r),id:r,...e}),r},this.subscribers=[],this.toasts=[]}},Xa=new Vot,zot=(t,e)=>{let r=(e==null?void 0:e.id)||qI++;return Xa.addToast({title:t,...e,id:r}),r},Wot=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Hot=zot,Got=()=>Xa.toasts,RA=Object.assign(Hot,{success:Xa.success,info:Xa.info,warning:Xa.warning,error:Xa.error,custom:Xa.custom,message:Xa.message,promise:Xa.promise,dismiss:Xa.dismiss,loading:Xa.loading},{getHistory:Got});function qot(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}qot(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);const Kot=()=>{const[t,e]=_.useState([]),[r,n]=_.useState(!0),[i,a]=_.useState(null),o=Si();_.useEffect(()=>{if(!localStorage.getItem("adminUser")||!Kr.currentUser){RA.error("Please login as admin to access this page"),o("/admin/login");return}s()},[o]);const s=async()=>{try{n(!0);const h=await Lot();e(h)}catch(h){console.error("Error fetching users:",h),a("Failed to load users. Please try again.")}finally{n(!1)}},l=async()=>{try{await Kr.signOut(),localStorage.removeItem("adminUser"),RA.success("Successfully logged out"),o("/admin/login")}catch(h){console.error("Error signing out:",h),RA.error("Failed to log out. Please try again.")}},c=h=>{try{const p=localStorage.getItem(`tasks_${h}`);return p?JSON.parse(p):[]}catch(p){return console.error("Error loading user tasks:",p),[]}},d=()=>{try{let h=0;return t.forEach(p=>{const m=c(p.id);h+=m.length}),h}catch{return 0}},f=()=>{try{let h=0;return t.forEach(p=>{try{const m=localStorage.getItem(`trips_${p.id}`);if(m){const g=JSON.parse(m);h+=g.length}}catch{}}),h}catch{return 0}};return u.jsx("div",{className:"min-h-screen bg-background p-6",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(lj,{className:"h-10 w-10 text-primary"}),u.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"})]}),u.jsxs(q,{variant:"outline",onClick:l,children:[u.jsx(DH,{className:"h-4 w-4 mr-2"}),"Logout"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[u.jsxs(Ne,{children:[u.jsx(Fe,{className:"pb-2",children:u.jsx(Be,{className:"text-sm font-medium",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Hi,{className:"h-4 w-4"}),"Total Users"]})})}),u.jsx(Ie,{children:u.jsx("div",{className:"text-3xl font-bold",children:t.length})})]}),u.jsxs(Ne,{children:[u.jsx(Fe,{className:"pb-2",children:u.jsx(Be,{className:"text-sm font-medium",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(E1e,{className:"h-4 w-4"}),"Total Tasks"]})})}),u.jsx(Ie,{children:u.jsx("div",{className:"text-3xl font-bold",children:d()})})]}),u.jsxs(Ne,{children:[u.jsx(Fe,{className:"pb-2",children:u.jsx(Be,{className:"text-sm font-medium",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(lr,{className:"h-4 w-4"}),"Shopping Trips"]})})}),u.jsx(Ie,{children:u.jsx("div",{className:"text-3xl font-bold",children:f()})})]})]}),u.jsxs(Ne,{className:"mb-8",children:[u.jsx(Fe,{children:u.jsx(Be,{children:"User Management"})}),u.jsx(Ie,{children:r?u.jsx("div",{className:"text-center py-4",children:"Loading users..."}):i?u.jsx("div",{className:"text-center text-red-500 py-4",children:i}):u.jsxs(lre,{children:[u.jsx(cre,{children:u.jsxs(Z1,{children:[u.jsx(Dm,{children:"Name"}),u.jsx(Dm,{children:"Email"}),u.jsx(Dm,{children:"Tasks"}),u.jsx(Dm,{children:"Actions"})]})}),u.jsx(ure,{children:t.length>0?t.map(h=>{const p=c(h.id);return u.jsxs(Z1,{children:[u.jsx($d,{className:"font-medium",children:h.name}),u.jsx($d,{children:h.email||"N/A"}),u.jsx($d,{children:p.length}),u.jsx($d,{children:u.jsx(q,{variant:"outline",size:"sm",children:"View Details"})})]},h.id)}):u.jsx(Z1,{children:u.jsx($d,{colSpan:4,className:"text-center",children:"No users found."})})})]})})]})]})})};function Yot(){const t=Si(),{user:e,isAdmin:r}=xr(),{members:n,currentHousehold:i,inviteMember:a,removeMember:o,updateMember:s}=rj(),[l,c]=_.useState(""),[d,f]=_.useState(""),[h,p]=_.useState(""),[m,g]=_.useState(!1),[v,y]=_.useState("email"),[x,w]=_.useState([]);_.useEffect(()=>{(async()=>{if(e)try{const I=await Gf.getSentInvitations(e.id);w(I)}catch(I){console.error("Error loading sent invitations:",I)}})()},[e]);const S=async N=>{if(N.preventDefault(),!l.trim()){console.log("Email required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)){console.log("Invalid email");return}try{g(!0),await a(l,h||void 0),console.log(`Invitation sent to ${l}. Check the browser console to see the invitation details (demo mode).`),c(""),p("");const P=await Gf.getSentInvitations((e==null?void 0:e.id)||"");w(P)}catch{console.error("Failed to send invitation")}finally{g(!1)}},E=async N=>{if(N.preventDefault(),!d.trim()){console.log("Phone number required");return}console.log("Phone invites coming soon!"),console.log("SMS invitations are not yet available. Please use email invitations for now.")},T=async(N,I)=>{if(N===(e==null?void 0:e.id)){console.log("Cannot remove yourself");return}try{o(N),console.log(`${I} has been removed from your household.`)}catch{console.error("Failed to remove member")}},A=N=>{switch(N){case"owner":return u.jsx(aj,{className:"h-4 w-4 text-yellow-600"});case"admin":return u.jsx(m0,{className:"h-4 w-4 text-blue-600"});default:return u.jsx(Yf,{className:"h-4 w-4 text-gray-600"})}},C=N=>{switch(N){case"owner":return"bg-yellow-100 text-yellow-800";case"admin":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return u.jsx(ca,{children:u.jsxs("div",{className:"p-4 md:p-8",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[u.jsx(q,{variant:"ghost",size:"icon",onClick:()=>t("/profile"),children:u.jsx(w2,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Manage Household"}),u.jsx("p",{className:"text-slate-500",children:"Invite people to join your household and manage shared expenses"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsxs(Ne,{children:[u.jsxs(Fe,{children:[u.jsxs(Be,{className:"flex items-center gap-2",children:[u.jsx(Hi,{className:"h-5 w-5"}),"Current Members"]}),u.jsxs(st,{children:[i==null?void 0:i.name," • ",n.length," member",n.length!==1?"s":""]})]}),u.jsx(Ie,{children:u.jsx("div",{className:"space-y-4",children:n.map(N=>u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs(pn,{children:[u.jsx(_0,{src:N.avatar}),u.jsx(mn,{className:"bg-teal-100 text-teal-700",children:N.name.charAt(0).toUpperCase()})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-medium",children:N.name}),N.id===(e==null?void 0:e.id)&&u.jsx(lt,{variant:"outline",className:"text-xs",children:"You"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[A(N.role),u.jsx("span",{className:"capitalize",children:N.role}),N.email&&u.jsxs("span",{children:["• ",N.email]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(lt,{className:C(N.role),children:N.role}),N.id!==(e==null?void 0:e.id)&&N.role!=="owner"&&u.jsx(q,{variant:"ghost",size:"sm",onClick:()=>T(N.id,N.name),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:u.jsx(ra,{className:"h-4 w-4"})})]})]},N.id))})})]}),u.jsxs(Ne,{children:[u.jsxs(Fe,{children:[u.jsxs(Be,{className:"flex items-center gap-2",children:[u.jsx(_T,{className:"h-5 w-5"}),"Invite New Members"]}),u.jsx(st,{children:"Send invitations to join your household"})]}),u.jsx(Ie,{children:u.jsxs(bc,{value:v,onValueChange:y,children:[u.jsxs(Gs,{className:"grid w-full grid-cols-2",children:[u.jsxs(Jt,{value:"email",className:"flex items-center gap-2",children:[u.jsx(Zl,{className:"h-4 w-4"}),"Email"]}),u.jsxs(Jt,{value:"phone",className:"flex items-center gap-2",children:[u.jsx(U1e,{className:"h-4 w-4"}),"Phone"]})]}),u.jsx(Ir,{value:"email",className:"space-y-4",children:u.jsxs("form",{onSubmit:S,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"email",children:"Email Address"}),u.jsx(De,{id:"email",type:"email",placeholder:"friend@example.com",value:l,onChange:N=>c(N.target.value),disabled:m})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"message",children:"Custom Message (optional)"}),u.jsx(ch,{id:"message",placeholder:"Join our household on TaskaLoop to coordinate shopping trips and split expenses...",value:h,onChange:N=>p(N.target.value),rows:4,disabled:m})]}),u.jsx(q,{type:"submit",disabled:m,className:"w-full",children:m?"Sending...":u.jsxs(u.Fragment,{children:[u.jsx(Ja,{className:"h-4 w-4 mr-2"}),"Send Email Invitation"]})})]})}),u.jsx(Ir,{value:"phone",className:"space-y-4",children:u.jsxs("form",{onSubmit:E,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"phone",children:"Phone Number"}),u.jsx(De,{id:"phone",type:"tel",placeholder:"+1 (555) 123-4567",value:d,onChange:N=>f(N.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"sms-message",children:"Custom Message (optional)"}),u.jsx(ch,{id:"sms-message",placeholder:"Join our household on TaskaLoop...",value:h,onChange:N=>p(N.target.value),rows:3})]}),u.jsxs(q,{type:"submit",className:"w-full",variant:"outline",children:[u.jsx(Ja,{className:"h-4 w-4 mr-2"}),"Send SMS Invitation (Coming Soon)"]})]})})]})})]})]}),u.jsxs(Ne,{className:"mt-8",children:[u.jsx(Fe,{children:u.jsx(Be,{children:"How it works"})}),u.jsx(Ie,{children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-3",children:u.jsx(Zl,{className:"h-6 w-6 text-blue-600"})}),u.jsx("h3",{className:"font-semibold mb-1",children:"Send Invitation"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Enter their email or phone number and send an invitation"})]}),u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-3",children:u.jsx(_T,{className:"h-6 w-6 text-green-600"})}),u.jsx("h3",{className:"font-semibold mb-1",children:"They Join"}),u.jsx("p",{className:"text-sm text-slate-600",children:"They'll receive instructions to download TaskaLoop and join your household"})]}),u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mb-3",children:u.jsx(Hi,{className:"h-6 w-6 text-purple-600"})}),u.jsx("h3",{className:"font-semibold mb-1",children:"Start Collaborating"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Share shopping lists, split expenses, and coordinate household tasks"})]})]})})]}),x.length>0&&u.jsxs(Ne,{className:"mt-8",children:[u.jsxs(Fe,{children:[u.jsxs(Be,{className:"flex items-center gap-2",children:[u.jsx(Ja,{className:"h-5 w-5"}),"Recent Invitations"]}),u.jsx(st,{children:"Invitations you've sent recently"})]}),u.jsxs(Ie,{children:[u.jsx("div",{className:"space-y-3",children:x.slice(0,5).map(N=>u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:u.jsx(Zl,{className:"h-5 w-5 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:N.toEmail}),u.jsxs("div",{className:"text-sm text-slate-500 flex items-center gap-2",children:[u.jsx(Tr,{className:"h-3 w-3"}),new Date(N.createdAt).toLocaleDateString()]})]})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs(lt,{variant:N.status==="pending"?"default":N.status==="accepted"?"success":"destructive",className:"flex items-center gap-1",children:[N.status==="pending"&&u.jsx(Tr,{className:"h-3 w-3"}),N.status==="accepted"&&u.jsx(Gn,{className:"h-3 w-3"}),N.status==="rejected"&&u.jsx(xo,{className:"h-3 w-3"}),N.status.charAt(0).toUpperCase()+N.status.slice(1)]})})]},N.id))}),u.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx(xo,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),u.jsxs("div",{className:"text-sm text-blue-800",children:[u.jsx("strong",{children:"Demo Mode:"})," Invitations are currently simulated. Check the browser console (Developer Tools) to see the invitation details and links. In production, these would be sent as real emails."]})]})})]})]})]})})}const Ci=({children:t})=>{const{user:e,isLoading:r}=xr(),n=ns();return r?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-500/40 via-green-500/40 to-blue-500/40 dark:from-blue-700/50 dark:via-green-700/50 dark:to-blue-700/50",children:u.jsxs("svg",{className:"animate-spin h-10 w-10 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):e?u.jsx(u.Fragment,{children:t}):u.jsx(oO,{to:"/login",state:{from:n},replace:!0})},Xot=({children:t})=>{const[e,r]=_.useState(null),[n,i]=_.useState(!0),a=ns();return _.useEffect(()=>{(async()=>{try{if(i(!0),!Kr.currentUser){r(!1);return}const s=await sre();r(s)}catch(s){console.error("Error checking admin status:",s),r(!1)}finally{i(!1)}})()},[]),n?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsxs("svg",{className:"animate-spin h-10 w-10 text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):e?u.jsx(u.Fragment,{children:t}):u.jsx(oO,{to:"/admin/login",state:{from:a},replace:!0})},Qot=()=>{const{id:t}=lle(),e=Si(),{trips:r,updateTrip:n}=yo(),{pantryItems:i}=nj(),{user:a}=xr(),[o,s]=_.useState(null),[l,c]=_.useState(""),[d,f]=_.useState(!1),[h,p]=_.useState(""),[m,g]=_.useState("");_.useEffect(()=>{const C=r.find(N=>N.id===t);C&&s(C)},[t,r]),_.useEffect(()=>{if(d&&o){const C=`Hi! I'm organizing a shopping trip to ${o.store} and would love for you to join me.

We can coordinate our shopping list together and split any shared costs when we're done. TaskaLoop makes it easy!

Trip Details:
• Store: ${o.store}
• Date: ${new Date(o.date).toLocaleDateString()}

Download TaskaLoop to join the trip!`;g(C)}},[d,o]);const v=_.useMemo(()=>{const C=i.map(N=>N.name);return Array.from(new Set([...zZ,...WZ,...C]))},[i]),y=()=>{if(!o||!l.trim())return;const C={name:l,quantity:1,checked:!1,addedBy:{name:"You",avatar:""}},N={...o,items:[...o.items,{...C,id:Date.now().toString()}]};n(o.id,N),c(""),console.log(`Item Added: ${l}`)},x=C=>{if(!o)return;const N=o.items.map(I=>I.id===C?{...I,checked:!I.checked}:I);n(o.id,{...o,items:N})},w=C=>{if(!o)return;const N=o.items.filter(I=>I.id!==C);n(o.id,{...o,items:N})},S=()=>{e("/trips")},E=C=>{if(!o)return;const N={name:C,quantity:1,checked:!1,addedBy:{name:"You",avatar:""}},I={...o,items:[...o.items,{...N,id:Date.now().toString()}]};n(o.id,I),console.log(`Item Added from Pantry: ${C}`)},T=async()=>{if(!o||!a||!h.trim()){console.error("Error sending invite: Email or trip not found.");return}try{await Gf.sendTripInvite({email:h,message:m||void 0,tripId:o.id,tripName:o.store,fromUser:{id:a.id||"",name:a.name||"User",email:a.email||""}}),console.log(`Invite Sent to: ${h}`),p(""),g(""),f(!1)}catch(C){console.error("Error sending invite:",C),console.error("Failed to send invite. Please try again.")}};if(!o)return u.jsx(ca,{children:u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800",children:u.jsx("div",{className:"p-4 md:p-8",children:u.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:"Trip not found."})})})});const A=o.items.length>0?o.items.filter(C=>C.checked).length/o.items.length*100:0;return u.jsx(ca,{children:u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800",children:u.jsxs("div",{className:"p-4 md:p-8 space-y-6",children:[u.jsx("div",{className:"flex justify-end",children:u.jsxs(q,{variant:"outline",onClick:S,className:"border-gray-200 hover:bg-gray-50 hover:border-gray-300 dark:border-gray-600 dark:hover:bg-gray-700 dark:text-gray-100",children:[u.jsx(w2,{className:"h-4 w-4 mr-2"}),"Back to Trips"]})}),u.jsxs(Ne,{className:"border border-gray-200 dark:border-gray-700 bg-white/90 backdrop-blur-sm dark:bg-gray-800/90 shadow-lg",children:[u.jsx(Fe,{children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx(Be,{className:"text-3xl font-semibold text-gray-900 dark:text-gray-100",children:o.store}),u.jsxs(st,{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[u.jsx(Tr,{className:"h-4 w-4"}),new Date(o.date).toLocaleDateString()]})]}),u.jsx(lt,{variant:o.status==="shopping"?"default":"outline",className:o.status==="shopping"?"bg-blue-500 text-white":"border-gray-300 text-gray-700 dark:border-gray-600 dark:text-gray-300",children:o.status})]})}),u.jsxs(Ie,{children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[u.jsx(Hi,{className:"h-4 w-4 mr-2"}),u.jsxs("span",{children:[o.participants.length," participants"]})]}),u.jsx("div",{className:"flex -space-x-2",children:o.participants.map(C=>u.jsxs(pn,{className:"h-8 w-8 border-2 border-white dark:border-gray-800",children:[u.jsx(_0,{src:C.avatar}),u.jsx(mn,{className:"bg-blue-500 text-white text-xs",children:C.name[0]})]},C.id))})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx(oe,{className:"text-gray-700 dark:text-gray-300",children:"Progress"}),u.jsx(fw,{value:A,className:"mt-2 h-3"}),u.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[o.items.filter(C=>C.checked).length," of ",o.items.length," items completed"]})]})]}),u.jsxs(hr,{className:"flex gap-2",children:[u.jsxs(q,{className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white shadow-lg",children:[u.jsx(Gn,{className:"h-4 w-4 mr-2"}),"Complete Trip"]}),u.jsxs(cr,{open:d,onOpenChange:f,children:[u.jsx(gw,{asChild:!0,children:u.jsxs(q,{variant:"outline",className:"border-gray-200 hover:bg-gray-50 dark:border-gray-600 dark:hover:bg-gray-700",children:[u.jsx(_T,{className:"h-4 w-4 mr-2"}),"Invite"]})}),u.jsxs(rr,{className:"sm:max-w-[425px]",children:[u.jsx(nr,{children:u.jsxs(ir,{className:"flex items-center gap-2",children:[u.jsx(Zl,{className:"h-5 w-5"}),"Invite to Trip"]})}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"invite-email",children:"Email Address"}),u.jsx(De,{id:"invite-email",type:"email",placeholder:"Enter email address",value:h,onChange:C=>p(C.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(oe,{htmlFor:"invite-message",children:"Custom Message (Optional)"}),u.jsx(ch,{id:"invite-message",placeholder:"Add a personal message...",value:m,onChange:C=>g(C.target.value),className:"min-h-[100px]"})]})]}),u.jsxs(Jn,{children:[u.jsx(q,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),u.jsxs(q,{onClick:T,disabled:!h.trim(),children:[u.jsx(Zl,{className:"h-4 w-4 mr-2"}),"Send Invite"]})]})]})]})]})]}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"md:col-span-2 space-y-6",children:[u.jsxs(Ne,{className:"border border-gray-200 dark:border-gray-700 bg-white/90 backdrop-blur-sm dark:bg-gray-800/90 shadow-lg",children:[u.jsx(Fe,{children:u.jsx(Be,{className:"text-xl text-gray-900 dark:text-gray-100",children:"Shopping List"})}),u.jsxs(Ie,{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx(VZ,{suggestions:v,value:l,onChange:c,onSelect:c,placeholder:"Add an item..."}),u.jsxs(q,{onClick:y,className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-lg",children:[u.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Add"]})]}),u.jsx("ul",{className:"space-y-3",children:o.items.map(C=>u.jsxs("li",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-xl bg-gray-50 dark:bg-gray-700/50 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Ec,{checked:C.checked,onCheckedChange:()=>x(C.id),className:"data-[state=checked]:bg-blue-500 data-[state=checked]:border-blue-500"}),u.jsx("span",{className:`text-lg ${C.checked?"line-through text-gray-500 dark:text-gray-400":"text-gray-900 dark:text-gray-100"}`,children:C.name})]}),u.jsx(q,{variant:"ghost",size:"icon",onClick:()=>w(C.id),className:"text-gray-500 hover:text-red-600 hover:bg-red-50 dark:text-gray-400 dark:hover:text-red-400 dark:hover:bg-red-900/20",children:u.jsx(cj,{className:"h-4 w-4"})})]},C.id))})]})]}),u.jsxs(Ne,{className:"border border-gray-200 dark:border-gray-700 bg-white/90 backdrop-blur-sm dark:bg-gray-800/90 shadow-lg",children:[u.jsx(Fe,{children:u.jsx(Be,{className:"text-xl text-gray-900 dark:text-gray-100",children:"Cost Summary"})}),u.jsx(Ie,{children:u.jsx(UZ,{tripId:o.id,tripName:o.store,items:o.items,participants:o.participants})})]})]}),u.jsx("div",{className:"space-y-6",children:u.jsxs(Ne,{className:"border border-gray-200 dark:border-gray-700 bg-white/90 backdrop-blur-sm dark:bg-gray-800/90 shadow-lg",children:[u.jsx(Fe,{children:u.jsx(Be,{className:"text-xl text-gray-900 dark:text-gray-100",children:"Add from Pantry"})}),u.jsx(Ie,{children:u.jsx("ul",{className:"space-y-3",children:i.map(C=>u.jsxs("li",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-700/50 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[u.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:C.name}),u.jsx(q,{variant:"outline",size:"icon",onClick:()=>E(C.name),className:"border-blue-200 text-blue-600 hover:bg-blue-50 hover:border-blue-300 dark:border-blue-800 dark:text-blue-400 dark:hover:bg-blue-900/20",children:u.jsx(Nr,{className:"h-4 w-4"})})]},C.id))})})]})})]})]})})})},Zot=()=>(_.useEffect(()=>{b_e()},[]),u.jsx(Ose,{children:u.jsx(m0e,{children:u.jsx(s1e,{children:u.jsx(l1e,{children:u.jsx(a1e,{children:u.jsx(c1e,{children:u.jsx(d1e,{children:u.jsx(h1e,{children:u.jsx(p1e,{children:u.jsx(Nle,{children:u.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[u.jsx("div",{className:"pattern-overlay"}),u.jsx(X1e,{}),u.jsxs(_le,{children:[u.jsx(jr,{path:"/",element:u.jsx(E_e,{})}),u.jsx(jr,{path:"/login",element:u.jsx(Rot,{})}),u.jsx(jr,{path:"/admin/login",element:u.jsx(Fot,{})}),u.jsx(jr,{path:"/admin/dashboard",element:u.jsx(Xot,{children:u.jsx(Kot,{})})}),u.jsx(jr,{path:"/home",element:u.jsx(Ci,{children:u.jsx(CCe,{})})}),u.jsx(jr,{path:"/dashboard",element:u.jsx(Ci,{children:u.jsx(kot,{})})}),u.jsx(jr,{path:"/map",element:u.jsx(Ci,{children:u.jsx(C7e,{})})}),u.jsx(jr,{path:"/trips",element:u.jsx(Ci,{children:u.jsx(p7e,{})})}),u.jsx(jr,{path:"/trip/:id",element:u.jsx(Ci,{children:u.jsx(Qot,{})})}),u.jsx(jr,{path:"/ledger",element:u.jsx(Ci,{children:u.jsx(Mze,{})})}),u.jsx(jr,{path:"/pantry",element:u.jsx(Ci,{children:u.jsx(jze,{})})}),u.jsx(jr,{path:"/calendar",element:u.jsx(Ci,{children:u.jsx(Dot,{})})}),u.jsx(jr,{path:"/profile",element:u.jsx(Ci,{children:u.jsx(uA,{})})}),u.jsx(jr,{path:"/invite-household",element:u.jsx(Ci,{children:u.jsx(Yot,{})})}),u.jsx(jr,{path:"/household",element:u.jsx(Ci,{children:u.jsx(uA,{})})}),u.jsx(jr,{path:"/roommates",element:u.jsx(Ci,{children:u.jsx(uA,{})})}),u.jsx(jr,{path:"/settings",element:u.jsx(Ci,{children:u.jsx(Dze,{})})}),u.jsx(jr,{path:"/history",element:u.jsx(oO,{to:"/trips?view=past",replace:!0})}),u.jsx(jr,{path:"/recurring-items",element:u.jsx(Ci,{children:u.jsx(Rze,{})})}),u.jsx(jr,{path:"*",element:u.jsx(Lze,{})})]}),u.jsx(w_e,{})]})})})})})})})})})})})),Y3=document.createElement("meta");Y3.name="viewport";Y3.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover";document.getElementsByTagName("head")[0].appendChild(Y3);const nS=document.createElement("meta");nS.name="theme-color";nS.content="#F0F9FF";document.getElementsByTagName("head")[0].appendChild(nS);const f7=localStorage.getItem("theme");f7==="dark"?(document.documentElement.classList.add("dark"),nS.content="#0F172A"):(document.documentElement.classList.remove("dark"),f7||localStorage.setItem("theme","light"));CU(document.getElementById("root")).render(u.jsx(Zot,{}));
