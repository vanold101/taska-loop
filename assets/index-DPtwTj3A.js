function xne(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var ia=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var O7={exports:{}},Ib={},j7={exports:{}},ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0=Symbol.for("react.element"),wne=Symbol.for("react.portal"),bne=Symbol.for("react.fragment"),_ne=Symbol.for("react.strict_mode"),Sne=Symbol.for("react.profiler"),Ene=Symbol.for("react.provider"),Ane=Symbol.for("react.context"),Cne=Symbol.for("react.forward_ref"),Tne=Symbol.for("react.suspense"),Nne=Symbol.for("react.memo"),Ine=Symbol.for("react.lazy"),QR=Symbol.iterator;function Pne(t){return t===null||typeof t!="object"?null:(t=QR&&t[QR]||t["@@iterator"],typeof t=="function"?t:null)}var k7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R7=Object.assign,D7={};function $h(t,e,r){this.props=t,this.context=e,this.refs=D7,this.updater=r||k7}$h.prototype.isReactComponent={};$h.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$h.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function M7(){}M7.prototype=$h.prototype;function nP(t,e,r){this.props=t,this.context=e,this.refs=D7,this.updater=r||k7}var iP=nP.prototype=new M7;iP.constructor=nP;R7(iP,$h.prototype);iP.isPureReactComponent=!0;var ZR=Array.isArray,L7=Object.prototype.hasOwnProperty,aP={current:null},$7={key:!0,ref:!0,__self:!0,__source:!0};function F7(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)L7.call(e,n)&&!$7.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:t0,type:t,key:a,ref:o,props:i,_owner:aP.current}}function One(t,e){return{$$typeof:t0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function oP(t){return typeof t=="object"&&t!==null&&t.$$typeof===t0}function jne(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var JR=/\/+/g;function bS(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jne(""+t.key):e.toString(36)}function v1(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case t0:case wne:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+bS(o,0):n,ZR(i)?(r="",t!=null&&(r=t.replace(JR,"$&/")+"/"),v1(i,e,r,"",function(u){return u})):i!=null&&(oP(i)&&(i=One(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(JR,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",ZR(t))for(var s=0;s<t.length;s++){a=t[s];var l=n+bS(a,s);o+=v1(a,e,r,l,i)}else if(l=Pne(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=n+bS(a,s++),o+=v1(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ly(t,e,r){if(t==null)return t;var n=[],i=0;return v1(t,n,"","",function(a){return e.call(r,a,i++)}),n}function kne(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ai={current:null},y1={transition:null},Rne={ReactCurrentDispatcher:Ai,ReactCurrentBatchConfig:y1,ReactCurrentOwner:aP};function B7(){throw Error("act(...) is not supported in production builds of React.")}ct.Children={map:ly,forEach:function(t,e,r){ly(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ly(t,function(){e++}),e},toArray:function(t){return ly(t,function(e){return e})||[]},only:function(t){if(!oP(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ct.Component=$h;ct.Fragment=bne;ct.Profiler=Sne;ct.PureComponent=nP;ct.StrictMode=_ne;ct.Suspense=Tne;ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rne;ct.act=B7;ct.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=R7({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=aP.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)L7.call(e,l)&&!$7.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:t0,type:t.type,key:i,ref:a,props:n,_owner:o}};ct.createContext=function(t){return t={$$typeof:Ane,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ene,_context:t},t.Consumer=t};ct.createElement=F7;ct.createFactory=function(t){var e=F7.bind(null,t);return e.type=t,e};ct.createRef=function(){return{current:null}};ct.forwardRef=function(t){return{$$typeof:Cne,render:t}};ct.isValidElement=oP;ct.lazy=function(t){return{$$typeof:Ine,_payload:{_status:-1,_result:t},_init:kne}};ct.memo=function(t,e){return{$$typeof:Nne,type:t,compare:e===void 0?null:e}};ct.startTransition=function(t){var e=y1.transition;y1.transition={};try{t()}finally{y1.transition=e}};ct.unstable_act=B7;ct.useCallback=function(t,e){return Ai.current.useCallback(t,e)};ct.useContext=function(t){return Ai.current.useContext(t)};ct.useDebugValue=function(){};ct.useDeferredValue=function(t){return Ai.current.useDeferredValue(t)};ct.useEffect=function(t,e){return Ai.current.useEffect(t,e)};ct.useId=function(){return Ai.current.useId()};ct.useImperativeHandle=function(t,e,r){return Ai.current.useImperativeHandle(t,e,r)};ct.useInsertionEffect=function(t,e){return Ai.current.useInsertionEffect(t,e)};ct.useLayoutEffect=function(t,e){return Ai.current.useLayoutEffect(t,e)};ct.useMemo=function(t,e){return Ai.current.useMemo(t,e)};ct.useReducer=function(t,e,r){return Ai.current.useReducer(t,e,r)};ct.useRef=function(t){return Ai.current.useRef(t)};ct.useState=function(t){return Ai.current.useState(t)};ct.useSyncExternalStore=function(t,e,r){return Ai.current.useSyncExternalStore(t,e,r)};ct.useTransition=function(){return Ai.current.useTransition()};ct.version="18.3.1";j7.exports=ct;var b=j7.exports;const D=dt(b),U7=xne({__proto__:null,default:D},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dne=b,Mne=Symbol.for("react.element"),Lne=Symbol.for("react.fragment"),$ne=Object.prototype.hasOwnProperty,Fne=Dne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bne={key:!0,ref:!0,__self:!0,__source:!0};function V7(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)$ne.call(e,n)&&!Bne.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Mne,type:t,key:a,ref:o,props:i,_owner:Fne.current}}Ib.Fragment=Lne;Ib.jsx=V7;Ib.jsxs=V7;O7.exports=Ib;var c=O7.exports,z7={exports:{}},ga={},W7={exports:{}},H7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,U){var X=$.length;$.push(U);e:for(;0<X;){var H=X-1>>>1,Y=$[H];if(0<i(Y,U))$[H]=U,$[X]=Y,X=H;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var U=$[0],X=$.pop();if(X!==U){$[0]=X;e:for(var H=0,Y=$.length,Q=Y>>>1;H<Q;){var ue=2*(H+1)-1,de=$[ue],he=ue+1,pe=$[he];if(0>i(de,X))he<Y&&0>i(pe,de)?($[H]=pe,$[he]=X,H=he):($[H]=de,$[ue]=X,H=ue);else if(he<Y&&0>i(pe,X))$[H]=pe,$[he]=X,H=he;else break e}}return U}function i($,U){var X=$.sortIndex-U.sortIndex;return X!==0?X:$.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w($){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=$)n(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=r(u)}}function S($){if(g=!1,w($),!m)if(r(l)!==null)m=!0,B(E);else{var U=r(u);U!==null&&W(S,U.startTime-$)}}function E($,U){m=!1,g&&(g=!1,x(T),T=-1),p=!0;var X=h;try{for(w(U),f=r(l);f!==null&&(!(f.expirationTime>U)||$&&!j());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var Y=H(f.expirationTime<=U);U=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===r(l)&&n(l),w(U)}else n(l);f=r(l)}if(f!==null)var Q=!0;else{var ue=r(u);ue!==null&&W(S,ue.startTime-U),Q=!1}return Q}finally{f=null,h=X,p=!1}}var C=!1,A=null,T=-1,N=5,I=-1;function j(){return!(t.unstable_now()-I<N)}function O(){if(A!==null){var $=t.unstable_now();I=$;var U=!0;try{U=A(!0,$)}finally{U?P():(C=!1,A=null)}}else C=!1}var P;if(typeof y=="function")P=function(){y(O)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,F=M.port2;M.port1.onmessage=O,P=function(){F.postMessage(null)}}else P=function(){v(O,0)};function B($){A=$,C||(C=!0,P())}function W($,U){T=v(function(){$(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,B(E))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var X=h;h=U;try{return $()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,U){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var X=h;h=$;try{return U()}finally{h=X}},t.unstable_scheduleCallback=function($,U,X){var H=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?H+X:H):X=H,$){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=X+Y,$={id:d++,callback:U,priorityLevel:$,startTime:X,expirationTime:Y,sortIndex:-1},X>H?($.sortIndex=X,e(u,$),r(l)===null&&$===r(u)&&(g?(x(T),T=-1):g=!0,W(S,X-H))):($.sortIndex=Y,e(l,$),m||p||(m=!0,B(E))),$},t.unstable_shouldYield=j,t.unstable_wrapCallback=function($){var U=h;return function(){var X=h;h=U;try{return $.apply(this,arguments)}finally{h=X}}}})(H7);W7.exports=H7;var Une=W7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vne=b,ua=Une;function we(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var G7=new Set,fg={};function fd(t,e){Lf(t,e),Lf(t+"Capture",e)}function Lf(t,e){for(fg[t]=e,t=0;t<e.length;t++)G7.add(e[t])}var zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),BA=Object.prototype.hasOwnProperty,zne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,e4={},t4={};function Wne(t){return BA.call(t4,t)?!0:BA.call(e4,t)?!1:zne.test(t)?t4[t]=!0:(e4[t]=!0,!1)}function Hne(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Gne(t,e,r,n){if(e===null||typeof e>"u"||Hne(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ci(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rn[t]=new Ci(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rn[e]=new Ci(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rn[t]=new Ci(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rn[t]=new Ci(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rn[t]=new Ci(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rn[t]=new Ci(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rn[t]=new Ci(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rn[t]=new Ci(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rn[t]=new Ci(t,5,!1,t.toLowerCase(),null,!1,!1)});var sP=/[\-:]([a-z])/g;function lP(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(sP,lP);Rn[e]=new Ci(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(sP,lP);Rn[e]=new Ci(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(sP,lP);Rn[e]=new Ci(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rn[t]=new Ci(t,1,!1,t.toLowerCase(),null,!1,!1)});Rn.xlinkHref=new Ci("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rn[t]=new Ci(t,1,!1,t.toLowerCase(),null,!0,!0)});function cP(t,e,r,n){var i=Rn.hasOwnProperty(e)?Rn[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Gne(e,r,i,n)&&(r=null),n||i===null?Wne(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ol=Vne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cy=Symbol.for("react.element"),qd=Symbol.for("react.portal"),Kd=Symbol.for("react.fragment"),uP=Symbol.for("react.strict_mode"),UA=Symbol.for("react.profiler"),q7=Symbol.for("react.provider"),K7=Symbol.for("react.context"),dP=Symbol.for("react.forward_ref"),VA=Symbol.for("react.suspense"),zA=Symbol.for("react.suspense_list"),fP=Symbol.for("react.memo"),Nl=Symbol.for("react.lazy"),Y7=Symbol.for("react.offscreen"),r4=Symbol.iterator;function Mp(t){return t===null||typeof t!="object"?null:(t=r4&&t[r4]||t["@@iterator"],typeof t=="function"?t:null)}var Ar=Object.assign,_S;function mm(t){if(_S===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);_S=e&&e[1]||""}return`
`+_S+t}var SS=!1;function ES(t,e){if(!t||SS)return"";SS=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{SS=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?mm(t):""}function qne(t){switch(t.tag){case 5:return mm(t.type);case 16:return mm("Lazy");case 13:return mm("Suspense");case 19:return mm("SuspenseList");case 0:case 2:case 15:return t=ES(t.type,!1),t;case 11:return t=ES(t.type.render,!1),t;case 1:return t=ES(t.type,!0),t;default:return""}}function WA(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Kd:return"Fragment";case qd:return"Portal";case UA:return"Profiler";case uP:return"StrictMode";case VA:return"Suspense";case zA:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case K7:return(t.displayName||"Context")+".Consumer";case q7:return(t._context.displayName||"Context")+".Provider";case dP:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fP:return e=t.displayName||null,e!==null?e:WA(t.type)||"Memo";case Nl:e=t._payload,t=t._init;try{return WA(t(e))}catch{}}return null}function Kne(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return WA(e);case 8:return e===uP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function X7(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Yne(t){var e=X7(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function uy(t){t._valueTracker||(t._valueTracker=Yne(t))}function Q7(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=X7(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function nx(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function HA(t,e){var r=e.checked;return Ar({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function n4(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=hc(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Z7(t,e){e=e.checked,e!=null&&cP(t,"checked",e,!1)}function GA(t,e){Z7(t,e);var r=hc(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qA(t,e.type,r):e.hasOwnProperty("defaultValue")&&qA(t,e.type,hc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function i4(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function qA(t,e,r){(e!=="number"||nx(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var gm=Array.isArray;function vf(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+hc(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function KA(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(we(91));return Ar({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function a4(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(we(92));if(gm(r)){if(1<r.length)throw Error(we(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:hc(r)}}function J7(t,e){var r=hc(e.value),n=hc(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function o4(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function eB(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function YA(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?eB(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dy,tB=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dy=dy||document.createElement("div"),dy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dy.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hg(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Dm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xne=["Webkit","ms","Moz","O"];Object.keys(Dm).forEach(function(t){Xne.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Dm[e]=Dm[t]})});function rB(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Dm.hasOwnProperty(t)&&Dm[t]?(""+e).trim():e+"px"}function nB(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=rB(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Qne=Ar({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function XA(t,e){if(e){if(Qne[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(we(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(we(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(we(61))}if(e.style!=null&&typeof e.style!="object")throw Error(we(62))}}function QA(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ZA=null;function hP(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var JA=null,yf=null,xf=null;function s4(t){if(t=i0(t)){if(typeof JA!="function")throw Error(we(280));var e=t.stateNode;e&&(e=Rb(e),JA(t.stateNode,t.type,e))}}function iB(t){yf?xf?xf.push(t):xf=[t]:yf=t}function aB(){if(yf){var t=yf,e=xf;if(xf=yf=null,s4(t),e)for(t=0;t<e.length;t++)s4(e[t])}}function oB(t,e){return t(e)}function sB(){}var AS=!1;function lB(t,e,r){if(AS)return t(e,r);AS=!0;try{return oB(t,e,r)}finally{AS=!1,(yf!==null||xf!==null)&&(sB(),aB())}}function pg(t,e){var r=t.stateNode;if(r===null)return null;var n=Rb(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(we(231,e,typeof r));return r}var eC=!1;if(zs)try{var Lp={};Object.defineProperty(Lp,"passive",{get:function(){eC=!0}}),window.addEventListener("test",Lp,Lp),window.removeEventListener("test",Lp,Lp)}catch{eC=!1}function Zne(t,e,r,n,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Mm=!1,ix=null,ax=!1,tC=null,Jne={onError:function(t){Mm=!0,ix=t}};function eie(t,e,r,n,i,a,o,s,l){Mm=!1,ix=null,Zne.apply(Jne,arguments)}function tie(t,e,r,n,i,a,o,s,l){if(eie.apply(this,arguments),Mm){if(Mm){var u=ix;Mm=!1,ix=null}else throw Error(we(198));ax||(ax=!0,tC=u)}}function hd(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function cB(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function l4(t){if(hd(t)!==t)throw Error(we(188))}function rie(t){var e=t.alternate;if(!e){if(e=hd(t),e===null)throw Error(we(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return l4(i),t;if(a===n)return l4(i),e;a=a.sibling}throw Error(we(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(we(189))}}if(r.alternate!==n)throw Error(we(190))}if(r.tag!==3)throw Error(we(188));return r.stateNode.current===r?t:e}function uB(t){return t=rie(t),t!==null?dB(t):null}function dB(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dB(t);if(e!==null)return e;t=t.sibling}return null}var fB=ua.unstable_scheduleCallback,c4=ua.unstable_cancelCallback,nie=ua.unstable_shouldYield,iie=ua.unstable_requestPaint,Mr=ua.unstable_now,aie=ua.unstable_getCurrentPriorityLevel,pP=ua.unstable_ImmediatePriority,hB=ua.unstable_UserBlockingPriority,ox=ua.unstable_NormalPriority,oie=ua.unstable_LowPriority,pB=ua.unstable_IdlePriority,Pb=null,Wo=null;function sie(t){if(Wo&&typeof Wo.onCommitFiberRoot=="function")try{Wo.onCommitFiberRoot(Pb,t,void 0,(t.current.flags&128)===128)}catch{}}var go=Math.clz32?Math.clz32:uie,lie=Math.log,cie=Math.LN2;function uie(t){return t>>>=0,t===0?32:31-(lie(t)/cie|0)|0}var fy=64,hy=4194304;function vm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sx(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=vm(s):(a&=o,a!==0&&(n=vm(a)))}else o=r&~i,o!==0?n=vm(o):a!==0&&(n=vm(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-go(e),i=1<<r,n|=t[r],e&=~i;return n}function die(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fie(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-go(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=die(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function rC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mB(){var t=fy;return fy<<=1,!(fy&4194240)&&(fy=64),t}function CS(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function r0(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-go(e),t[e]=r}function hie(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-go(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function mP(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-go(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var kt=0;function gB(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var vB,gP,yB,xB,wB,nC=!1,py=[],ql=null,Kl=null,Yl=null,mg=new Map,gg=new Map,kl=[],pie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function u4(t,e){switch(t){case"focusin":case"focusout":ql=null;break;case"dragenter":case"dragleave":Kl=null;break;case"mouseover":case"mouseout":Yl=null;break;case"pointerover":case"pointerout":mg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gg.delete(e.pointerId)}}function $p(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=i0(e),e!==null&&gP(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function mie(t,e,r,n,i){switch(e){case"focusin":return ql=$p(ql,t,e,r,n,i),!0;case"dragenter":return Kl=$p(Kl,t,e,r,n,i),!0;case"mouseover":return Yl=$p(Yl,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return mg.set(a,$p(mg.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,gg.set(a,$p(gg.get(a)||null,t,e,r,n,i)),!0}return!1}function bB(t){var e=mu(t.target);if(e!==null){var r=hd(e);if(r!==null){if(e=r.tag,e===13){if(e=cB(r),e!==null){t.blockedOn=e,wB(t.priority,function(){yB(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function x1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=iC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ZA=n,r.target.dispatchEvent(n),ZA=null}else return e=i0(r),e!==null&&gP(e),t.blockedOn=r,!1;e.shift()}return!0}function d4(t,e,r){x1(t)&&r.delete(e)}function gie(){nC=!1,ql!==null&&x1(ql)&&(ql=null),Kl!==null&&x1(Kl)&&(Kl=null),Yl!==null&&x1(Yl)&&(Yl=null),mg.forEach(d4),gg.forEach(d4)}function Fp(t,e){t.blockedOn===e&&(t.blockedOn=null,nC||(nC=!0,ua.unstable_scheduleCallback(ua.unstable_NormalPriority,gie)))}function vg(t){function e(i){return Fp(i,t)}if(0<py.length){Fp(py[0],t);for(var r=1;r<py.length;r++){var n=py[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ql!==null&&Fp(ql,t),Kl!==null&&Fp(Kl,t),Yl!==null&&Fp(Yl,t),mg.forEach(e),gg.forEach(e),r=0;r<kl.length;r++)n=kl[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<kl.length&&(r=kl[0],r.blockedOn===null);)bB(r),r.blockedOn===null&&kl.shift()}var wf=ol.ReactCurrentBatchConfig,lx=!0;function vie(t,e,r,n){var i=kt,a=wf.transition;wf.transition=null;try{kt=1,vP(t,e,r,n)}finally{kt=i,wf.transition=a}}function yie(t,e,r,n){var i=kt,a=wf.transition;wf.transition=null;try{kt=4,vP(t,e,r,n)}finally{kt=i,wf.transition=a}}function vP(t,e,r,n){if(lx){var i=iC(t,e,r,n);if(i===null)MS(t,e,n,cx,r),u4(t,n);else if(mie(i,t,e,r,n))n.stopPropagation();else if(u4(t,n),e&4&&-1<pie.indexOf(t)){for(;i!==null;){var a=i0(i);if(a!==null&&vB(a),a=iC(t,e,r,n),a===null&&MS(t,e,n,cx,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else MS(t,e,n,null,r)}}var cx=null;function iC(t,e,r,n){if(cx=null,t=hP(n),t=mu(t),t!==null)if(e=hd(t),e===null)t=null;else if(r=e.tag,r===13){if(t=cB(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cx=t,null}function _B(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aie()){case pP:return 1;case hB:return 4;case ox:case oie:return 16;case pB:return 536870912;default:return 16}default:return 16}}var Fl=null,yP=null,w1=null;function SB(){if(w1)return w1;var t,e=yP,r=e.length,n,i="value"in Fl?Fl.value:Fl.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return w1=i.slice(t,1<n?1-n:void 0)}function b1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function my(){return!0}function f4(){return!1}function va(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?my:f4,this.isPropagationStopped=f4,this}return Ar(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=my)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=my)},persist:function(){},isPersistent:my}),e}var Fh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xP=va(Fh),n0=Ar({},Fh,{view:0,detail:0}),xie=va(n0),TS,NS,Bp,Ob=Ar({},n0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wP,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bp&&(Bp&&t.type==="mousemove"?(TS=t.screenX-Bp.screenX,NS=t.screenY-Bp.screenY):NS=TS=0,Bp=t),TS)},movementY:function(t){return"movementY"in t?t.movementY:NS}}),h4=va(Ob),wie=Ar({},Ob,{dataTransfer:0}),bie=va(wie),_ie=Ar({},n0,{relatedTarget:0}),IS=va(_ie),Sie=Ar({},Fh,{animationName:0,elapsedTime:0,pseudoElement:0}),Eie=va(Sie),Aie=Ar({},Fh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cie=va(Aie),Tie=Ar({},Fh,{data:0}),p4=va(Tie),Nie={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pie={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oie(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Pie[t])?!!e[t]:!1}function wP(){return Oie}var jie=Ar({},n0,{key:function(t){if(t.key){var e=Nie[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=b1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iie[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wP,charCode:function(t){return t.type==="keypress"?b1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?b1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kie=va(jie),Rie=Ar({},Ob,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),m4=va(Rie),Die=Ar({},n0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wP}),Mie=va(Die),Lie=Ar({},Fh,{propertyName:0,elapsedTime:0,pseudoElement:0}),$ie=va(Lie),Fie=Ar({},Ob,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Bie=va(Fie),Uie=[9,13,27,32],bP=zs&&"CompositionEvent"in window,Lm=null;zs&&"documentMode"in document&&(Lm=document.documentMode);var Vie=zs&&"TextEvent"in window&&!Lm,EB=zs&&(!bP||Lm&&8<Lm&&11>=Lm),g4=" ",v4=!1;function AB(t,e){switch(t){case"keyup":return Uie.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CB(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yd=!1;function zie(t,e){switch(t){case"compositionend":return CB(e);case"keypress":return e.which!==32?null:(v4=!0,g4);case"textInput":return t=e.data,t===g4&&v4?null:t;default:return null}}function Wie(t,e){if(Yd)return t==="compositionend"||!bP&&AB(t,e)?(t=SB(),w1=yP=Fl=null,Yd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return EB&&e.locale!=="ko"?null:e.data;default:return null}}var Hie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Hie[t.type]:e==="textarea"}function TB(t,e,r,n){iB(n),e=ux(e,"onChange"),0<e.length&&(r=new xP("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var $m=null,yg=null;function Gie(t){$B(t,0)}function jb(t){var e=Zd(t);if(Q7(e))return t}function qie(t,e){if(t==="change")return e}var NB=!1;if(zs){var PS;if(zs){var OS="oninput"in document;if(!OS){var x4=document.createElement("div");x4.setAttribute("oninput","return;"),OS=typeof x4.oninput=="function"}PS=OS}else PS=!1;NB=PS&&(!document.documentMode||9<document.documentMode)}function w4(){$m&&($m.detachEvent("onpropertychange",IB),yg=$m=null)}function IB(t){if(t.propertyName==="value"&&jb(yg)){var e=[];TB(e,yg,t,hP(t)),lB(Gie,e)}}function Kie(t,e,r){t==="focusin"?(w4(),$m=e,yg=r,$m.attachEvent("onpropertychange",IB)):t==="focusout"&&w4()}function Yie(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jb(yg)}function Xie(t,e){if(t==="click")return jb(e)}function Qie(t,e){if(t==="input"||t==="change")return jb(e)}function Zie(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bo=typeof Object.is=="function"?Object.is:Zie;function xg(t,e){if(bo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!BA.call(e,i)||!bo(t[i],e[i]))return!1}return!0}function b4(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _4(t,e){var r=b4(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=b4(r)}}function PB(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?PB(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function OB(){for(var t=window,e=nx();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=nx(t.document)}return e}function _P(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Jie(t){var e=OB(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&PB(r.ownerDocument.documentElement,r)){if(n!==null&&_P(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=_4(r,a);var o=_4(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var eae=zs&&"documentMode"in document&&11>=document.documentMode,Xd=null,aC=null,Fm=null,oC=!1;function S4(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;oC||Xd==null||Xd!==nx(n)||(n=Xd,"selectionStart"in n&&_P(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Fm&&xg(Fm,n)||(Fm=n,n=ux(aC,"onSelect"),0<n.length&&(e=new xP("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Xd)))}function gy(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Qd={animationend:gy("Animation","AnimationEnd"),animationiteration:gy("Animation","AnimationIteration"),animationstart:gy("Animation","AnimationStart"),transitionend:gy("Transition","TransitionEnd")},jS={},jB={};zs&&(jB=document.createElement("div").style,"AnimationEvent"in window||(delete Qd.animationend.animation,delete Qd.animationiteration.animation,delete Qd.animationstart.animation),"TransitionEvent"in window||delete Qd.transitionend.transition);function kb(t){if(jS[t])return jS[t];if(!Qd[t])return t;var e=Qd[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in jB)return jS[t]=e[r];return t}var kB=kb("animationend"),RB=kb("animationiteration"),DB=kb("animationstart"),MB=kb("transitionend"),LB=new Map,E4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jc(t,e){LB.set(t,e),fd(e,[t])}for(var kS=0;kS<E4.length;kS++){var RS=E4[kS],tae=RS.toLowerCase(),rae=RS[0].toUpperCase()+RS.slice(1);jc(tae,"on"+rae)}jc(kB,"onAnimationEnd");jc(RB,"onAnimationIteration");jc(DB,"onAnimationStart");jc("dblclick","onDoubleClick");jc("focusin","onFocus");jc("focusout","onBlur");jc(MB,"onTransitionEnd");Lf("onMouseEnter",["mouseout","mouseover"]);Lf("onMouseLeave",["mouseout","mouseover"]);Lf("onPointerEnter",["pointerout","pointerover"]);Lf("onPointerLeave",["pointerout","pointerover"]);fd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fd("onBeforeInput",["compositionend","keypress","textInput","paste"]);fd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ym="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nae=new Set("cancel close invalid load scroll toggle".split(" ").concat(ym));function A4(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,tie(n,e,void 0,t),t.currentTarget=null}function $B(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;A4(i,s,u),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;A4(i,s,u),a=l}}}if(ax)throw t=tC,ax=!1,tC=null,t}function tr(t,e){var r=e[dC];r===void 0&&(r=e[dC]=new Set);var n=t+"__bubble";r.has(n)||(FB(e,t,2,!1),r.add(n))}function DS(t,e,r){var n=0;e&&(n|=4),FB(r,t,n,e)}var vy="_reactListening"+Math.random().toString(36).slice(2);function wg(t){if(!t[vy]){t[vy]=!0,G7.forEach(function(r){r!=="selectionchange"&&(nae.has(r)||DS(r,!1,t),DS(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vy]||(e[vy]=!0,DS("selectionchange",!1,e))}}function FB(t,e,r,n){switch(_B(e)){case 1:var i=vie;break;case 4:i=yie;break;default:i=vP}r=i.bind(null,e,r,t),i=void 0,!eC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function MS(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=mu(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}lB(function(){var u=a,d=hP(r),f=[];e:{var h=LB.get(t);if(h!==void 0){var p=xP,m=t;switch(t){case"keypress":if(b1(r)===0)break e;case"keydown":case"keyup":p=kie;break;case"focusin":m="focus",p=IS;break;case"focusout":m="blur",p=IS;break;case"beforeblur":case"afterblur":p=IS;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=h4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=bie;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Mie;break;case kB:case RB:case DB:p=Eie;break;case MB:p=$ie;break;case"scroll":p=xie;break;case"wheel":p=Bie;break;case"copy":case"cut":case"paste":p=Cie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=m4}var g=(e&4)!==0,v=!g&&t==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,w;y!==null;){w=y;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,x!==null&&(S=pg(y,x),S!=null&&g.push(bg(y,S,w)))),v)break;y=y.return}0<g.length&&(h=new p(h,m,null,r,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==ZA&&(m=r.relatedTarget||r.fromElement)&&(mu(m)||m[Ws]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?mu(m):null,m!==null&&(v=hd(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=h4,S="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=m4,S="onPointerLeave",x="onPointerEnter",y="pointer"),v=p==null?h:Zd(p),w=m==null?h:Zd(m),h=new g(S,y+"leave",p,r,d),h.target=v,h.relatedTarget=w,S=null,mu(d)===u&&(g=new g(x,y+"enter",m,r,d),g.target=w,g.relatedTarget=v,S=g),v=S,p&&m)t:{for(g=p,x=m,y=0,w=g;w;w=jd(w))y++;for(w=0,S=x;S;S=jd(S))w++;for(;0<y-w;)g=jd(g),y--;for(;0<w-y;)x=jd(x),w--;for(;y--;){if(g===x||x!==null&&g===x.alternate)break t;g=jd(g),x=jd(x)}g=null}else g=null;p!==null&&C4(f,h,p,g,!1),m!==null&&v!==null&&C4(f,v,m,g,!0)}}e:{if(h=u?Zd(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=qie;else if(y4(h))if(NB)E=Qie;else{E=Yie;var C=Kie}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=Xie);if(E&&(E=E(t,u))){TB(f,E,r,d);break e}C&&C(t,h,u),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&qA(h,"number",h.value)}switch(C=u?Zd(u):window,t){case"focusin":(y4(C)||C.contentEditable==="true")&&(Xd=C,aC=u,Fm=null);break;case"focusout":Fm=aC=Xd=null;break;case"mousedown":oC=!0;break;case"contextmenu":case"mouseup":case"dragend":oC=!1,S4(f,r,d);break;case"selectionchange":if(eae)break;case"keydown":case"keyup":S4(f,r,d)}var A;if(bP)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Yd?AB(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(EB&&r.locale!=="ko"&&(Yd||T!=="onCompositionStart"?T==="onCompositionEnd"&&Yd&&(A=SB()):(Fl=d,yP="value"in Fl?Fl.value:Fl.textContent,Yd=!0)),C=ux(u,T),0<C.length&&(T=new p4(T,t,null,r,d),f.push({event:T,listeners:C}),A?T.data=A:(A=CB(r),A!==null&&(T.data=A)))),(A=Vie?zie(t,r):Wie(t,r))&&(u=ux(u,"onBeforeInput"),0<u.length&&(d=new p4("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=A))}$B(f,e)})}function bg(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ux(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=pg(t,r),a!=null&&n.unshift(bg(t,a,i)),a=pg(t,e),a!=null&&n.push(bg(t,a,i))),t=t.return}return n}function jd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function C4(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=pg(r,a),l!=null&&o.unshift(bg(r,l,s))):i||(l=pg(r,a),l!=null&&o.push(bg(r,l,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var iae=/\r\n?/g,aae=/\u0000|\uFFFD/g;function T4(t){return(typeof t=="string"?t:""+t).replace(iae,`
`).replace(aae,"")}function yy(t,e,r){if(e=T4(e),T4(t)!==e&&r)throw Error(we(425))}function dx(){}var sC=null,lC=null;function cC(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var uC=typeof setTimeout=="function"?setTimeout:void 0,oae=typeof clearTimeout=="function"?clearTimeout:void 0,N4=typeof Promise=="function"?Promise:void 0,sae=typeof queueMicrotask=="function"?queueMicrotask:typeof N4<"u"?function(t){return N4.resolve(null).then(t).catch(lae)}:uC;function lae(t){setTimeout(function(){throw t})}function LS(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),vg(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);vg(e)}function Xl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function I4(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Bh=Math.random().toString(36).slice(2),$o="__reactFiber$"+Bh,_g="__reactProps$"+Bh,Ws="__reactContainer$"+Bh,dC="__reactEvents$"+Bh,cae="__reactListeners$"+Bh,uae="__reactHandles$"+Bh;function mu(t){var e=t[$o];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ws]||r[$o]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=I4(t);t!==null;){if(r=t[$o])return r;t=I4(t)}return e}t=r,r=t.parentNode}return null}function i0(t){return t=t[$o]||t[Ws],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(we(33))}function Rb(t){return t[_g]||null}var fC=[],Jd=-1;function kc(t){return{current:t}}function cr(t){0>Jd||(t.current=fC[Jd],fC[Jd]=null,Jd--)}function Kt(t,e){Jd++,fC[Jd]=t.current,t.current=e}var pc={},ei=kc(pc),$i=kc(!1),Lu=pc;function $f(t,e){var r=t.type.contextTypes;if(!r)return pc;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Fi(t){return t=t.childContextTypes,t!=null}function fx(){cr($i),cr(ei)}function P4(t,e,r){if(ei.current!==pc)throw Error(we(168));Kt(ei,e),Kt($i,r)}function BB(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(we(108,Kne(t)||"Unknown",i));return Ar({},r,n)}function hx(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pc,Lu=ei.current,Kt(ei,t),Kt($i,$i.current),!0}function O4(t,e,r){var n=t.stateNode;if(!n)throw Error(we(169));r?(t=BB(t,e,Lu),n.__reactInternalMemoizedMergedChildContext=t,cr($i),cr(ei),Kt(ei,t)):cr($i),Kt($i,r)}var _s=null,Db=!1,$S=!1;function UB(t){_s===null?_s=[t]:_s.push(t)}function dae(t){Db=!0,UB(t)}function Rc(){if(!$S&&_s!==null){$S=!0;var t=0,e=kt;try{var r=_s;for(kt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}_s=null,Db=!1}catch(i){throw _s!==null&&(_s=_s.slice(t+1)),fB(pP,Rc),i}finally{kt=e,$S=!1}}return null}var ef=[],tf=0,px=null,mx=0,Ca=[],Ta=0,$u=null,Cs=1,Ts="";function nu(t,e){ef[tf++]=mx,ef[tf++]=px,px=t,mx=e}function VB(t,e,r){Ca[Ta++]=Cs,Ca[Ta++]=Ts,Ca[Ta++]=$u,$u=t;var n=Cs;t=Ts;var i=32-go(n)-1;n&=~(1<<i),r+=1;var a=32-go(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Cs=1<<32-go(e)+i|r<<i|n,Ts=a+t}else Cs=1<<a|r<<i|n,Ts=t}function SP(t){t.return!==null&&(nu(t,1),VB(t,1,0))}function EP(t){for(;t===px;)px=ef[--tf],ef[tf]=null,mx=ef[--tf],ef[tf]=null;for(;t===$u;)$u=Ca[--Ta],Ca[Ta]=null,Ts=Ca[--Ta],Ca[Ta]=null,Cs=Ca[--Ta],Ca[Ta]=null}var oa=null,aa=null,dr=!1,oo=null;function zB(t,e){var r=Ia(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function j4(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,oa=t,aa=Xl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,oa=t,aa=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=$u!==null?{id:Cs,overflow:Ts}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ia(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,oa=t,aa=null,!0):!1;default:return!1}}function hC(t){return(t.mode&1)!==0&&(t.flags&128)===0}function pC(t){if(dr){var e=aa;if(e){var r=e;if(!j4(t,e)){if(hC(t))throw Error(we(418));e=Xl(r.nextSibling);var n=oa;e&&j4(t,e)?zB(n,r):(t.flags=t.flags&-4097|2,dr=!1,oa=t)}}else{if(hC(t))throw Error(we(418));t.flags=t.flags&-4097|2,dr=!1,oa=t}}}function k4(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;oa=t}function xy(t){if(t!==oa)return!1;if(!dr)return k4(t),dr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!cC(t.type,t.memoizedProps)),e&&(e=aa)){if(hC(t))throw WB(),Error(we(418));for(;e;)zB(t,e),e=Xl(e.nextSibling)}if(k4(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(we(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){aa=Xl(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}aa=null}}else aa=oa?Xl(t.stateNode.nextSibling):null;return!0}function WB(){for(var t=aa;t;)t=Xl(t.nextSibling)}function Ff(){aa=oa=null,dr=!1}function AP(t){oo===null?oo=[t]:oo.push(t)}var fae=ol.ReactCurrentBatchConfig;function Up(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(we(309));var n=r.stateNode}if(!n)throw Error(we(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(we(284));if(!r._owner)throw Error(we(290,t))}return t}function wy(t,e){throw t=Object.prototype.toString.call(e),Error(we(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function R4(t){var e=t._init;return e(t._payload)}function HB(t){function e(x,y){if(t){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function r(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(x,y){return x=ec(x,y),x.index=0,x.sibling=null,x}function a(x,y,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function s(x,y,w,S){return y===null||y.tag!==6?(y=HS(w,x.mode,S),y.return=x,y):(y=i(y,w),y.return=x,y)}function l(x,y,w,S){var E=w.type;return E===Kd?d(x,y,w.props.children,S,w.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Nl&&R4(E)===y.type)?(S=i(y,w.props),S.ref=Up(x,y,w),S.return=x,S):(S=N1(w.type,w.key,w.props,null,x.mode,S),S.ref=Up(x,y,w),S.return=x,S)}function u(x,y,w,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=GS(w,x.mode,S),y.return=x,y):(y=i(y,w.children||[]),y.return=x,y)}function d(x,y,w,S,E){return y===null||y.tag!==7?(y=Iu(w,x.mode,S,E),y.return=x,y):(y=i(y,w),y.return=x,y)}function f(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=HS(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case cy:return w=N1(y.type,y.key,y.props,null,x.mode,w),w.ref=Up(x,null,y),w.return=x,w;case qd:return y=GS(y,x.mode,w),y.return=x,y;case Nl:var S=y._init;return f(x,S(y._payload),w)}if(gm(y)||Mp(y))return y=Iu(y,x.mode,w,null),y.return=x,y;wy(x,y)}return null}function h(x,y,w,S){var E=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:s(x,y,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case cy:return w.key===E?l(x,y,w,S):null;case qd:return w.key===E?u(x,y,w,S):null;case Nl:return E=w._init,h(x,y,E(w._payload),S)}if(gm(w)||Mp(w))return E!==null?null:d(x,y,w,S,null);wy(x,w)}return null}function p(x,y,w,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(w)||null,s(y,x,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case cy:return x=x.get(S.key===null?w:S.key)||null,l(y,x,S,E);case qd:return x=x.get(S.key===null?w:S.key)||null,u(y,x,S,E);case Nl:var C=S._init;return p(x,y,w,C(S._payload),E)}if(gm(S)||Mp(S))return x=x.get(w)||null,d(y,x,S,E,null);wy(y,S)}return null}function m(x,y,w,S){for(var E=null,C=null,A=y,T=y=0,N=null;A!==null&&T<w.length;T++){A.index>T?(N=A,A=null):N=A.sibling;var I=h(x,A,w[T],S);if(I===null){A===null&&(A=N);break}t&&A&&I.alternate===null&&e(x,A),y=a(I,y,T),C===null?E=I:C.sibling=I,C=I,A=N}if(T===w.length)return r(x,A),dr&&nu(x,T),E;if(A===null){for(;T<w.length;T++)A=f(x,w[T],S),A!==null&&(y=a(A,y,T),C===null?E=A:C.sibling=A,C=A);return dr&&nu(x,T),E}for(A=n(x,A);T<w.length;T++)N=p(A,x,T,w[T],S),N!==null&&(t&&N.alternate!==null&&A.delete(N.key===null?T:N.key),y=a(N,y,T),C===null?E=N:C.sibling=N,C=N);return t&&A.forEach(function(j){return e(x,j)}),dr&&nu(x,T),E}function g(x,y,w,S){var E=Mp(w);if(typeof E!="function")throw Error(we(150));if(w=E.call(w),w==null)throw Error(we(151));for(var C=E=null,A=y,T=y=0,N=null,I=w.next();A!==null&&!I.done;T++,I=w.next()){A.index>T?(N=A,A=null):N=A.sibling;var j=h(x,A,I.value,S);if(j===null){A===null&&(A=N);break}t&&A&&j.alternate===null&&e(x,A),y=a(j,y,T),C===null?E=j:C.sibling=j,C=j,A=N}if(I.done)return r(x,A),dr&&nu(x,T),E;if(A===null){for(;!I.done;T++,I=w.next())I=f(x,I.value,S),I!==null&&(y=a(I,y,T),C===null?E=I:C.sibling=I,C=I);return dr&&nu(x,T),E}for(A=n(x,A);!I.done;T++,I=w.next())I=p(A,x,T,I.value,S),I!==null&&(t&&I.alternate!==null&&A.delete(I.key===null?T:I.key),y=a(I,y,T),C===null?E=I:C.sibling=I,C=I);return t&&A.forEach(function(O){return e(x,O)}),dr&&nu(x,T),E}function v(x,y,w,S){if(typeof w=="object"&&w!==null&&w.type===Kd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case cy:e:{for(var E=w.key,C=y;C!==null;){if(C.key===E){if(E=w.type,E===Kd){if(C.tag===7){r(x,C.sibling),y=i(C,w.props.children),y.return=x,x=y;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Nl&&R4(E)===C.type){r(x,C.sibling),y=i(C,w.props),y.ref=Up(x,C,w),y.return=x,x=y;break e}r(x,C);break}else e(x,C);C=C.sibling}w.type===Kd?(y=Iu(w.props.children,x.mode,S,w.key),y.return=x,x=y):(S=N1(w.type,w.key,w.props,null,x.mode,S),S.ref=Up(x,y,w),S.return=x,x=S)}return o(x);case qd:e:{for(C=w.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(x,y.sibling),y=i(y,w.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else e(x,y);y=y.sibling}y=GS(w,x.mode,S),y.return=x,x=y}return o(x);case Nl:return C=w._init,v(x,y,C(w._payload),S)}if(gm(w))return m(x,y,w,S);if(Mp(w))return g(x,y,w,S);wy(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(x,y.sibling),y=i(y,w),y.return=x,x=y):(r(x,y),y=HS(w,x.mode,S),y.return=x,x=y),o(x)):r(x,y)}return v}var Bf=HB(!0),GB=HB(!1),gx=kc(null),vx=null,rf=null,CP=null;function TP(){CP=rf=vx=null}function NP(t){var e=gx.current;cr(gx),t._currentValue=e}function mC(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function bf(t,e){vx=t,CP=rf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Di=!0),t.firstContext=null)}function Ma(t){var e=t._currentValue;if(CP!==t)if(t={context:t,memoizedValue:e,next:null},rf===null){if(vx===null)throw Error(we(308));rf=t,vx.dependencies={lanes:0,firstContext:t}}else rf=rf.next=t;return e}var gu=null;function IP(t){gu===null?gu=[t]:gu.push(t)}function qB(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,IP(e)):(r.next=i.next,i.next=r),e.interleaved=r,Hs(t,n)}function Hs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Il=!1;function PP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KB(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ds(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ql(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,wt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Hs(t,r)}return i=n.interleaved,i===null?(e.next=e,IP(n)):(e.next=i.next,i.next=e),n.interleaved=e,Hs(t,r)}function _1(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,mP(t,r)}}function D4(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function yx(t,e,r,n){var i=t.updateQueue;Il=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,d=u=l=null,s=a;do{var h=s.lane,p=s.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=t,g=s;switch(h=e,p=r,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Ar({},f,h);break e;case 2:Il=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Bu|=o,t.lanes=o,t.memoizedState=f}}function M4(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(we(191,i));i.call(n)}}}var a0={},Ho=kc(a0),Sg=kc(a0),Eg=kc(a0);function vu(t){if(t===a0)throw Error(we(174));return t}function OP(t,e){switch(Kt(Eg,e),Kt(Sg,t),Kt(Ho,a0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:YA(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=YA(e,t)}cr(Ho),Kt(Ho,e)}function Uf(){cr(Ho),cr(Sg),cr(Eg)}function YB(t){vu(Eg.current);var e=vu(Ho.current),r=YA(e,t.type);e!==r&&(Kt(Sg,t),Kt(Ho,r))}function jP(t){Sg.current===t&&(cr(Ho),cr(Sg))}var xr=kc(0);function xx(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var FS=[];function kP(){for(var t=0;t<FS.length;t++)FS[t]._workInProgressVersionPrimary=null;FS.length=0}var S1=ol.ReactCurrentDispatcher,BS=ol.ReactCurrentBatchConfig,Fu=0,Sr=null,Zr=null,vn=null,wx=!1,Bm=!1,Ag=0,hae=0;function Fn(){throw Error(we(321))}function RP(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!bo(t[r],e[r]))return!1;return!0}function DP(t,e,r,n,i,a){if(Fu=a,Sr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,S1.current=t===null||t.memoizedState===null?vae:yae,t=r(n,i),Bm){a=0;do{if(Bm=!1,Ag=0,25<=a)throw Error(we(301));a+=1,vn=Zr=null,e.updateQueue=null,S1.current=xae,t=r(n,i)}while(Bm)}if(S1.current=bx,e=Zr!==null&&Zr.next!==null,Fu=0,vn=Zr=Sr=null,wx=!1,e)throw Error(we(300));return t}function MP(){var t=Ag!==0;return Ag=0,t}function ko(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Sr.memoizedState=vn=t:vn=vn.next=t,vn}function La(){if(Zr===null){var t=Sr.alternate;t=t!==null?t.memoizedState:null}else t=Zr.next;var e=vn===null?Sr.memoizedState:vn.next;if(e!==null)vn=e,Zr=t;else{if(t===null)throw Error(we(310));Zr=t,t={memoizedState:Zr.memoizedState,baseState:Zr.baseState,baseQueue:Zr.baseQueue,queue:Zr.queue,next:null},vn===null?Sr.memoizedState=vn=t:vn=vn.next=t}return vn}function Cg(t,e){return typeof e=="function"?e(t):e}function US(t){var e=La(),r=e.queue;if(r===null)throw Error(we(311));r.lastRenderedReducer=t;var n=Zr,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,u=a;do{var d=u.lane;if((Fu&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=n):l=l.next=f,Sr.lanes|=d,Bu|=d}u=u.next}while(u!==null&&u!==a);l===null?o=n:l.next=s,bo(n,e.memoizedState)||(Di=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,Sr.lanes|=a,Bu|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function VS(t){var e=La(),r=e.queue;if(r===null)throw Error(we(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);bo(a,e.memoizedState)||(Di=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function XB(){}function QB(t,e){var r=Sr,n=La(),i=e(),a=!bo(n.memoizedState,i);if(a&&(n.memoizedState=i,Di=!0),n=n.queue,LP(eU.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||vn!==null&&vn.memoizedState.tag&1){if(r.flags|=2048,Tg(9,JB.bind(null,r,n,i,e),void 0,null),wn===null)throw Error(we(349));Fu&30||ZB(r,e,i)}return i}function ZB(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Sr.updateQueue,e===null?(e={lastEffect:null,stores:null},Sr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function JB(t,e,r,n){e.value=r,e.getSnapshot=n,tU(e)&&rU(t)}function eU(t,e,r){return r(function(){tU(e)&&rU(t)})}function tU(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!bo(t,r)}catch{return!0}}function rU(t){var e=Hs(t,1);e!==null&&vo(e,t,1,-1)}function L4(t){var e=ko();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cg,lastRenderedState:t},e.queue=t,t=t.dispatch=gae.bind(null,Sr,t),[e.memoizedState,t]}function Tg(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Sr.updateQueue,e===null?(e={lastEffect:null,stores:null},Sr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function nU(){return La().memoizedState}function E1(t,e,r,n){var i=ko();Sr.flags|=t,i.memoizedState=Tg(1|e,r,void 0,n===void 0?null:n)}function Mb(t,e,r,n){var i=La();n=n===void 0?null:n;var a=void 0;if(Zr!==null){var o=Zr.memoizedState;if(a=o.destroy,n!==null&&RP(n,o.deps)){i.memoizedState=Tg(e,r,a,n);return}}Sr.flags|=t,i.memoizedState=Tg(1|e,r,a,n)}function $4(t,e){return E1(8390656,8,t,e)}function LP(t,e){return Mb(2048,8,t,e)}function iU(t,e){return Mb(4,2,t,e)}function aU(t,e){return Mb(4,4,t,e)}function oU(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sU(t,e,r){return r=r!=null?r.concat([t]):null,Mb(4,4,oU.bind(null,e,t),r)}function $P(){}function lU(t,e){var r=La();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&RP(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function cU(t,e){var r=La();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&RP(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function uU(t,e,r){return Fu&21?(bo(r,e)||(r=mB(),Sr.lanes|=r,Bu|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Di=!0),t.memoizedState=r)}function pae(t,e){var r=kt;kt=r!==0&&4>r?r:4,t(!0);var n=BS.transition;BS.transition={};try{t(!1),e()}finally{kt=r,BS.transition=n}}function dU(){return La().memoizedState}function mae(t,e,r){var n=Jl(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},fU(t))hU(e,r);else if(r=qB(t,e,r,n),r!==null){var i=wi();vo(r,t,n,i),pU(r,e,n)}}function gae(t,e,r){var n=Jl(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(fU(t))hU(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,bo(s,o)){var l=e.interleaved;l===null?(i.next=i,IP(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=qB(t,e,i,n),r!==null&&(i=wi(),vo(r,t,n,i),pU(r,e,n))}}function fU(t){var e=t.alternate;return t===Sr||e!==null&&e===Sr}function hU(t,e){Bm=wx=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function pU(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,mP(t,r)}}var bx={readContext:Ma,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useInsertionEffect:Fn,useLayoutEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useMutableSource:Fn,useSyncExternalStore:Fn,useId:Fn,unstable_isNewReconciler:!1},vae={readContext:Ma,useCallback:function(t,e){return ko().memoizedState=[t,e===void 0?null:e],t},useContext:Ma,useEffect:$4,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,E1(4194308,4,oU.bind(null,e,t),r)},useLayoutEffect:function(t,e){return E1(4194308,4,t,e)},useInsertionEffect:function(t,e){return E1(4,2,t,e)},useMemo:function(t,e){var r=ko();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ko();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=mae.bind(null,Sr,t),[n.memoizedState,t]},useRef:function(t){var e=ko();return t={current:t},e.memoizedState=t},useState:L4,useDebugValue:$P,useDeferredValue:function(t){return ko().memoizedState=t},useTransition:function(){var t=L4(!1),e=t[0];return t=pae.bind(null,t[1]),ko().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Sr,i=ko();if(dr){if(r===void 0)throw Error(we(407));r=r()}else{if(r=e(),wn===null)throw Error(we(349));Fu&30||ZB(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,$4(eU.bind(null,n,a,t),[t]),n.flags|=2048,Tg(9,JB.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=ko(),e=wn.identifierPrefix;if(dr){var r=Ts,n=Cs;r=(n&~(1<<32-go(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ag++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=hae++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},yae={readContext:Ma,useCallback:lU,useContext:Ma,useEffect:LP,useImperativeHandle:sU,useInsertionEffect:iU,useLayoutEffect:aU,useMemo:cU,useReducer:US,useRef:nU,useState:function(){return US(Cg)},useDebugValue:$P,useDeferredValue:function(t){var e=La();return uU(e,Zr.memoizedState,t)},useTransition:function(){var t=US(Cg)[0],e=La().memoizedState;return[t,e]},useMutableSource:XB,useSyncExternalStore:QB,useId:dU,unstable_isNewReconciler:!1},xae={readContext:Ma,useCallback:lU,useContext:Ma,useEffect:LP,useImperativeHandle:sU,useInsertionEffect:iU,useLayoutEffect:aU,useMemo:cU,useReducer:VS,useRef:nU,useState:function(){return VS(Cg)},useDebugValue:$P,useDeferredValue:function(t){var e=La();return Zr===null?e.memoizedState=t:uU(e,Zr.memoizedState,t)},useTransition:function(){var t=VS(Cg)[0],e=La().memoizedState;return[t,e]},useMutableSource:XB,useSyncExternalStore:QB,useId:dU,unstable_isNewReconciler:!1};function ro(t,e){if(t&&t.defaultProps){e=Ar({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function gC(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ar({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Lb={isMounted:function(t){return(t=t._reactInternals)?hd(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=wi(),i=Jl(t),a=Ds(n,i);a.payload=e,r!=null&&(a.callback=r),e=Ql(t,a,i),e!==null&&(vo(e,t,i,n),_1(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=wi(),i=Jl(t),a=Ds(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Ql(t,a,i),e!==null&&(vo(e,t,i,n),_1(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=wi(),n=Jl(t),i=Ds(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ql(t,i,n),e!==null&&(vo(e,t,n,r),_1(e,t,n))}};function F4(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!xg(r,n)||!xg(i,a):!0}function mU(t,e,r){var n=!1,i=pc,a=e.contextType;return typeof a=="object"&&a!==null?a=Ma(a):(i=Fi(e)?Lu:ei.current,n=e.contextTypes,a=(n=n!=null)?$f(t,i):pc),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lb,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function B4(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Lb.enqueueReplaceState(e,e.state,null)}function vC(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},PP(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Ma(a):(a=Fi(e)?Lu:ei.current,i.context=$f(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(gC(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Lb.enqueueReplaceState(i,i.state,null),yx(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Vf(t,e){try{var r="",n=e;do r+=qne(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function zS(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function yC(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var wae=typeof WeakMap=="function"?WeakMap:Map;function gU(t,e,r){r=Ds(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Sx||(Sx=!0,NC=n),yC(t,e)},r}function vU(t,e,r){r=Ds(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){yC(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){yC(t,e),typeof n!="function"&&(Zl===null?Zl=new Set([this]):Zl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function U4(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new wae;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=Rae.bind(null,t,e,r),e.then(t,t))}function V4(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function z4(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ds(-1,1),e.tag=2,Ql(r,e,1))),r.lanes|=1),t)}var bae=ol.ReactCurrentOwner,Di=!1;function mi(t,e,r,n){e.child=t===null?GB(e,null,r,n):Bf(e,t.child,r,n)}function W4(t,e,r,n,i){r=r.render;var a=e.ref;return bf(e,i),n=DP(t,e,r,n,a,i),r=MP(),t!==null&&!Di?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gs(t,e,i)):(dr&&r&&SP(e),e.flags|=1,mi(t,e,n,i),e.child)}function H4(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!GP(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,yU(t,e,a,n,i)):(t=N1(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:xg,r(o,n)&&t.ref===e.ref)return Gs(t,e,i)}return e.flags|=1,t=ec(a,n),t.ref=e.ref,t.return=e,e.child=t}function yU(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(xg(a,n)&&t.ref===e.ref)if(Di=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Di=!0);else return e.lanes=t.lanes,Gs(t,e,i)}return xC(t,e,r,n,i)}function xU(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kt(af,ea),ea|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Kt(af,ea),ea|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Kt(af,ea),ea|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Kt(af,ea),ea|=n;return mi(t,e,i,r),e.child}function wU(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function xC(t,e,r,n,i){var a=Fi(r)?Lu:ei.current;return a=$f(e,a),bf(e,i),r=DP(t,e,r,n,a,i),n=MP(),t!==null&&!Di?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gs(t,e,i)):(dr&&n&&SP(e),e.flags|=1,mi(t,e,r,i),e.child)}function G4(t,e,r,n,i){if(Fi(r)){var a=!0;hx(e)}else a=!1;if(bf(e,i),e.stateNode===null)A1(t,e),mU(e,r,n),vC(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ma(u):(u=Fi(r)?Lu:ei.current,u=$f(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==u)&&B4(e,o,n,u),Il=!1;var h=e.memoizedState;o.state=h,yx(e,n,o,i),l=e.memoizedState,s!==n||h!==l||$i.current||Il?(typeof d=="function"&&(gC(e,r,d,n),l=e.memoizedState),(s=Il||F4(e,r,s,n,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,KB(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:ro(e.type,s),o.props=u,f=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ma(l):(l=Fi(r)?Lu:ei.current,l=$f(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&B4(e,o,n,l),Il=!1,h=e.memoizedState,o.state=h,yx(e,n,o,i);var m=e.memoizedState;s!==f||h!==m||$i.current||Il?(typeof p=="function"&&(gC(e,r,p,n),m=e.memoizedState),(u=Il||F4(e,r,u,n,h,m,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),o.props=n,o.state=m,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return wC(t,e,r,n,a,i)}function wC(t,e,r,n,i,a){wU(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&O4(e,r,!1),Gs(t,e,a);n=e.stateNode,bae.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Bf(e,t.child,null,a),e.child=Bf(e,null,s,a)):mi(t,e,s,a),e.memoizedState=n.state,i&&O4(e,r,!0),e.child}function bU(t){var e=t.stateNode;e.pendingContext?P4(t,e.pendingContext,e.pendingContext!==e.context):e.context&&P4(t,e.context,!1),OP(t,e.containerInfo)}function q4(t,e,r,n,i){return Ff(),AP(i),e.flags|=256,mi(t,e,r,n),e.child}var bC={dehydrated:null,treeContext:null,retryLane:0};function _C(t){return{baseLanes:t,cachePool:null,transitions:null}}function _U(t,e,r){var n=e.pendingProps,i=xr.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Kt(xr,i&1),t===null)return pC(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Bb(o,n,0,null),t=Iu(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=_C(r),e.memoizedState=bC,t):FP(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return _ae(t,e,o,n,s,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=ec(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=ec(s,a):(a=Iu(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?_C(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=bC,n}return a=t.child,t=a.sibling,n=ec(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function FP(t,e){return e=Bb({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function by(t,e,r,n){return n!==null&&AP(n),Bf(e,t.child,null,r),t=FP(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _ae(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=zS(Error(we(422))),by(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Bb({mode:"visible",children:n.children},i,0,null),a=Iu(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Bf(e,t.child,null,o),e.child.memoizedState=_C(o),e.memoizedState=bC,a);if(!(e.mode&1))return by(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(we(419)),n=zS(a,n,void 0),by(t,e,o,n)}if(s=(o&t.childLanes)!==0,Di||s){if(n=wn,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Hs(t,i),vo(n,t,i,-1))}return HP(),n=zS(Error(we(421))),by(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Dae.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,aa=Xl(i.nextSibling),oa=e,dr=!0,oo=null,t!==null&&(Ca[Ta++]=Cs,Ca[Ta++]=Ts,Ca[Ta++]=$u,Cs=t.id,Ts=t.overflow,$u=e),e=FP(e,n.children),e.flags|=4096,e)}function K4(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),mC(t.return,e,r)}function WS(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function SU(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(mi(t,e,n.children,r),n=xr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&K4(t,r,e);else if(t.tag===19)K4(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Kt(xr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&xx(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),WS(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xx(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}WS(e,!0,r,null,a);break;case"together":WS(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function A1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Bu|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(we(153));if(e.child!==null){for(t=e.child,r=ec(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ec(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Sae(t,e,r){switch(e.tag){case 3:bU(e),Ff();break;case 5:YB(e);break;case 1:Fi(e.type)&&hx(e);break;case 4:OP(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Kt(gx,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Kt(xr,xr.current&1),e.flags|=128,null):r&e.child.childLanes?_U(t,e,r):(Kt(xr,xr.current&1),t=Gs(t,e,r),t!==null?t.sibling:null);Kt(xr,xr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return SU(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Kt(xr,xr.current),n)break;return null;case 22:case 23:return e.lanes=0,xU(t,e,r)}return Gs(t,e,r)}var EU,SC,AU,CU;EU=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};SC=function(){};AU=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,vu(Ho.current);var a=null;switch(r){case"input":i=HA(t,i),n=HA(t,n),a=[];break;case"select":i=Ar({},i,{value:void 0}),n=Ar({},n,{value:void 0}),a=[];break;case"textarea":i=KA(t,i),n=KA(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=dx)}XA(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fg.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fg.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&tr("scroll",t),a||s===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};CU=function(t,e,r,n){r!==n&&(e.flags|=4)};function Vp(t,e){if(!dr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Bn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Eae(t,e,r){var n=e.pendingProps;switch(EP(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bn(e),null;case 1:return Fi(e.type)&&fx(),Bn(e),null;case 3:return n=e.stateNode,Uf(),cr($i),cr(ei),kP(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(xy(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,oo!==null&&(OC(oo),oo=null))),SC(t,e),Bn(e),null;case 5:jP(e);var i=vu(Eg.current);if(r=e.type,t!==null&&e.stateNode!=null)AU(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(we(166));return Bn(e),null}if(t=vu(Ho.current),xy(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[$o]=e,n[_g]=a,t=(e.mode&1)!==0,r){case"dialog":tr("cancel",n),tr("close",n);break;case"iframe":case"object":case"embed":tr("load",n);break;case"video":case"audio":for(i=0;i<ym.length;i++)tr(ym[i],n);break;case"source":tr("error",n);break;case"img":case"image":case"link":tr("error",n),tr("load",n);break;case"details":tr("toggle",n);break;case"input":n4(n,a),tr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},tr("invalid",n);break;case"textarea":a4(n,a),tr("invalid",n)}XA(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&yy(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&yy(n.textContent,s,t),i=["children",""+s]):fg.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&tr("scroll",n)}switch(r){case"input":uy(n),i4(n,a,!0);break;case"textarea":uy(n),o4(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=dx)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=eB(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[$o]=e,t[_g]=n,EU(t,e,!1,!1),e.stateNode=t;e:{switch(o=QA(r,n),r){case"dialog":tr("cancel",t),tr("close",t),i=n;break;case"iframe":case"object":case"embed":tr("load",t),i=n;break;case"video":case"audio":for(i=0;i<ym.length;i++)tr(ym[i],t);i=n;break;case"source":tr("error",t),i=n;break;case"img":case"image":case"link":tr("error",t),tr("load",t),i=n;break;case"details":tr("toggle",t),i=n;break;case"input":n4(t,n),i=HA(t,n),tr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Ar({},n,{value:void 0}),tr("invalid",t);break;case"textarea":a4(t,n),i=KA(t,n),tr("invalid",t);break;default:i=n}XA(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?nB(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&tB(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&hg(t,l):typeof l=="number"&&hg(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(fg.hasOwnProperty(a)?l!=null&&a==="onScroll"&&tr("scroll",t):l!=null&&cP(t,a,l,o))}switch(r){case"input":uy(t),i4(t,n,!1);break;case"textarea":uy(t),o4(t);break;case"option":n.value!=null&&t.setAttribute("value",""+hc(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?vf(t,!!n.multiple,a,!1):n.defaultValue!=null&&vf(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=dx)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Bn(e),null;case 6:if(t&&e.stateNode!=null)CU(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(we(166));if(r=vu(Eg.current),vu(Ho.current),xy(e)){if(n=e.stateNode,r=e.memoizedProps,n[$o]=e,(a=n.nodeValue!==r)&&(t=oa,t!==null))switch(t.tag){case 3:yy(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yy(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[$o]=e,e.stateNode=n}return Bn(e),null;case 13:if(cr(xr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dr&&aa!==null&&e.mode&1&&!(e.flags&128))WB(),Ff(),e.flags|=98560,a=!1;else if(a=xy(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(we(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(we(317));a[$o]=e}else Ff(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Bn(e),a=!1}else oo!==null&&(OC(oo),oo=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||xr.current&1?nn===0&&(nn=3):HP())),e.updateQueue!==null&&(e.flags|=4),Bn(e),null);case 4:return Uf(),SC(t,e),t===null&&wg(e.stateNode.containerInfo),Bn(e),null;case 10:return NP(e.type._context),Bn(e),null;case 17:return Fi(e.type)&&fx(),Bn(e),null;case 19:if(cr(xr),a=e.memoizedState,a===null)return Bn(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Vp(a,!1);else{if(nn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xx(t),o!==null){for(e.flags|=128,Vp(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Kt(xr,xr.current&1|2),e.child}t=t.sibling}a.tail!==null&&Mr()>zf&&(e.flags|=128,n=!0,Vp(a,!1),e.lanes=4194304)}else{if(!n)if(t=xx(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Vp(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!dr)return Bn(e),null}else 2*Mr()-a.renderingStartTime>zf&&r!==1073741824&&(e.flags|=128,n=!0,Vp(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Mr(),e.sibling=null,r=xr.current,Kt(xr,n?r&1|2:r&1),e):(Bn(e),null);case 22:case 23:return WP(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ea&1073741824&&(Bn(e),e.subtreeFlags&6&&(e.flags|=8192)):Bn(e),null;case 24:return null;case 25:return null}throw Error(we(156,e.tag))}function Aae(t,e){switch(EP(e),e.tag){case 1:return Fi(e.type)&&fx(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Uf(),cr($i),cr(ei),kP(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jP(e),null;case 13:if(cr(xr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(we(340));Ff()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return cr(xr),null;case 4:return Uf(),null;case 10:return NP(e.type._context),null;case 22:case 23:return WP(),null;case 24:return null;default:return null}}var _y=!1,Yn=!1,Cae=typeof WeakSet=="function"?WeakSet:Set,Re=null;function nf(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Tr(t,e,n)}else r.current=null}function EC(t,e,r){try{r()}catch(n){Tr(t,e,n)}}var Y4=!1;function Tae(t,e){if(sC=lx,t=OB(),_P(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(s=o+i),f!==a||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++u===i&&(s=o),h===a&&++d===n&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(lC={focusedElem:t,selectionRange:r},lx=!1,Re=e;Re!==null;)if(e=Re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Re=t;else for(;Re!==null;){e=Re;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:ro(e.type,g),v);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(we(163))}}catch(S){Tr(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Re=t;break}Re=e.return}return m=Y4,Y4=!1,m}function Um(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&EC(e,r,a)}i=i.next}while(i!==n)}}function $b(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function AC(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function TU(t){var e=t.alternate;e!==null&&(t.alternate=null,TU(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$o],delete e[_g],delete e[dC],delete e[cae],delete e[uae])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function NU(t){return t.tag===5||t.tag===3||t.tag===4}function X4(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||NU(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function CC(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=dx));else if(n!==4&&(t=t.child,t!==null))for(CC(t,e,r),t=t.sibling;t!==null;)CC(t,e,r),t=t.sibling}function TC(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(TC(t,e,r),t=t.sibling;t!==null;)TC(t,e,r),t=t.sibling}var Nn=null,no=!1;function yl(t,e,r){for(r=r.child;r!==null;)IU(t,e,r),r=r.sibling}function IU(t,e,r){if(Wo&&typeof Wo.onCommitFiberUnmount=="function")try{Wo.onCommitFiberUnmount(Pb,r)}catch{}switch(r.tag){case 5:Yn||nf(r,e);case 6:var n=Nn,i=no;Nn=null,yl(t,e,r),Nn=n,no=i,Nn!==null&&(no?(t=Nn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Nn.removeChild(r.stateNode));break;case 18:Nn!==null&&(no?(t=Nn,r=r.stateNode,t.nodeType===8?LS(t.parentNode,r):t.nodeType===1&&LS(t,r),vg(t)):LS(Nn,r.stateNode));break;case 4:n=Nn,i=no,Nn=r.stateNode.containerInfo,no=!0,yl(t,e,r),Nn=n,no=i;break;case 0:case 11:case 14:case 15:if(!Yn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&EC(r,e,o),i=i.next}while(i!==n)}yl(t,e,r);break;case 1:if(!Yn&&(nf(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Tr(r,e,s)}yl(t,e,r);break;case 21:yl(t,e,r);break;case 22:r.mode&1?(Yn=(n=Yn)||r.memoizedState!==null,yl(t,e,r),Yn=n):yl(t,e,r);break;default:yl(t,e,r)}}function Q4(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Cae),e.forEach(function(n){var i=Mae.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Xa(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:Nn=s.stateNode,no=!1;break e;case 3:Nn=s.stateNode.containerInfo,no=!0;break e;case 4:Nn=s.stateNode.containerInfo,no=!0;break e}s=s.return}if(Nn===null)throw Error(we(160));IU(a,o,i),Nn=null,no=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Tr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)PU(e,t),e=e.sibling}function PU(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xa(e,t),jo(t),n&4){try{Um(3,t,t.return),$b(3,t)}catch(g){Tr(t,t.return,g)}try{Um(5,t,t.return)}catch(g){Tr(t,t.return,g)}}break;case 1:Xa(e,t),jo(t),n&512&&r!==null&&nf(r,r.return);break;case 5:if(Xa(e,t),jo(t),n&512&&r!==null&&nf(r,r.return),t.flags&32){var i=t.stateNode;try{hg(i,"")}catch(g){Tr(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&Z7(i,a),QA(s,o);var u=QA(s,a);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?nB(i,f):d==="dangerouslySetInnerHTML"?tB(i,f):d==="children"?hg(i,f):cP(i,d,f,u)}switch(s){case"input":GA(i,a);break;case"textarea":J7(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?vf(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?vf(i,!!a.multiple,a.defaultValue,!0):vf(i,!!a.multiple,a.multiple?[]:"",!1))}i[_g]=a}catch(g){Tr(t,t.return,g)}}break;case 6:if(Xa(e,t),jo(t),n&4){if(t.stateNode===null)throw Error(we(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){Tr(t,t.return,g)}}break;case 3:if(Xa(e,t),jo(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{vg(e.containerInfo)}catch(g){Tr(t,t.return,g)}break;case 4:Xa(e,t),jo(t);break;case 13:Xa(e,t),jo(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(VP=Mr())),n&4&&Q4(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Yn=(u=Yn)||d,Xa(e,t),Yn=u):Xa(e,t),jo(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Re=t,d=t.child;d!==null;){for(f=Re=d;Re!==null;){switch(h=Re,p=h.child,h.tag){case 0:case 11:case 14:case 15:Um(4,h,h.return);break;case 1:nf(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Tr(n,r,g)}}break;case 5:nf(h,h.return);break;case 22:if(h.memoizedState!==null){J4(f);continue}}p!==null?(p.return=h,Re=p):J4(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=rB("display",o))}catch(g){Tr(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Tr(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Xa(e,t),jo(t),n&4&&Q4(t);break;case 21:break;default:Xa(e,t),jo(t)}}function jo(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(NU(r)){var n=r;break e}r=r.return}throw Error(we(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(hg(i,""),n.flags&=-33);var a=X4(t);TC(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=X4(t);CC(t,s,o);break;default:throw Error(we(161))}}catch(l){Tr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Nae(t,e,r){Re=t,OU(t)}function OU(t,e,r){for(var n=(t.mode&1)!==0;Re!==null;){var i=Re,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||_y;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Yn;s=_y;var u=Yn;if(_y=o,(Yn=l)&&!u)for(Re=i;Re!==null;)o=Re,l=o.child,o.tag===22&&o.memoizedState!==null?eD(i):l!==null?(l.return=o,Re=l):eD(i);for(;a!==null;)Re=a,OU(a),a=a.sibling;Re=i,_y=s,Yn=u}Z4(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Re=a):Z4(t)}}function Z4(t){for(;Re!==null;){var e=Re;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yn||$b(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Yn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ro(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&M4(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}M4(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&vg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(we(163))}Yn||e.flags&512&&AC(e)}catch(h){Tr(e,e.return,h)}}if(e===t){Re=null;break}if(r=e.sibling,r!==null){r.return=e.return,Re=r;break}Re=e.return}}function J4(t){for(;Re!==null;){var e=Re;if(e===t){Re=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Re=r;break}Re=e.return}}function eD(t){for(;Re!==null;){var e=Re;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{$b(4,e)}catch(l){Tr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Tr(e,i,l)}}var a=e.return;try{AC(e)}catch(l){Tr(e,a,l)}break;case 5:var o=e.return;try{AC(e)}catch(l){Tr(e,o,l)}}}catch(l){Tr(e,e.return,l)}if(e===t){Re=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Re=s;break}Re=e.return}}var Iae=Math.ceil,_x=ol.ReactCurrentDispatcher,BP=ol.ReactCurrentOwner,ja=ol.ReactCurrentBatchConfig,wt=0,wn=null,Hr=null,kn=0,ea=0,af=kc(0),nn=0,Ng=null,Bu=0,Fb=0,UP=0,Vm=null,ji=null,VP=0,zf=1/0,ws=null,Sx=!1,NC=null,Zl=null,Sy=!1,Bl=null,Ex=0,zm=0,IC=null,C1=-1,T1=0;function wi(){return wt&6?Mr():C1!==-1?C1:C1=Mr()}function Jl(t){return t.mode&1?wt&2&&kn!==0?kn&-kn:fae.transition!==null?(T1===0&&(T1=mB()),T1):(t=kt,t!==0||(t=window.event,t=t===void 0?16:_B(t.type)),t):1}function vo(t,e,r,n){if(50<zm)throw zm=0,IC=null,Error(we(185));r0(t,r,n),(!(wt&2)||t!==wn)&&(t===wn&&(!(wt&2)&&(Fb|=r),nn===4&&Rl(t,kn)),Bi(t,n),r===1&&wt===0&&!(e.mode&1)&&(zf=Mr()+500,Db&&Rc()))}function Bi(t,e){var r=t.callbackNode;fie(t,e);var n=sx(t,t===wn?kn:0);if(n===0)r!==null&&c4(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&c4(r),e===1)t.tag===0?dae(tD.bind(null,t)):UB(tD.bind(null,t)),sae(function(){!(wt&6)&&Rc()}),r=null;else{switch(gB(n)){case 1:r=pP;break;case 4:r=hB;break;case 16:r=ox;break;case 536870912:r=pB;break;default:r=ox}r=FU(r,jU.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function jU(t,e){if(C1=-1,T1=0,wt&6)throw Error(we(327));var r=t.callbackNode;if(_f()&&t.callbackNode!==r)return null;var n=sx(t,t===wn?kn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Ax(t,n);else{e=n;var i=wt;wt|=2;var a=RU();(wn!==t||kn!==e)&&(ws=null,zf=Mr()+500,Nu(t,e));do try{jae();break}catch(s){kU(t,s)}while(!0);TP(),_x.current=a,wt=i,Hr!==null?e=0:(wn=null,kn=0,e=nn)}if(e!==0){if(e===2&&(i=rC(t),i!==0&&(n=i,e=PC(t,i))),e===1)throw r=Ng,Nu(t,0),Rl(t,n),Bi(t,Mr()),r;if(e===6)Rl(t,n);else{if(i=t.current.alternate,!(n&30)&&!Pae(i)&&(e=Ax(t,n),e===2&&(a=rC(t),a!==0&&(n=a,e=PC(t,a))),e===1))throw r=Ng,Nu(t,0),Rl(t,n),Bi(t,Mr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(we(345));case 2:iu(t,ji,ws);break;case 3:if(Rl(t,n),(n&130023424)===n&&(e=VP+500-Mr(),10<e)){if(sx(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){wi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=uC(iu.bind(null,t,ji,ws),e);break}iu(t,ji,ws);break;case 4:if(Rl(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-go(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=Mr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Iae(n/1960))-n,10<n){t.timeoutHandle=uC(iu.bind(null,t,ji,ws),n);break}iu(t,ji,ws);break;case 5:iu(t,ji,ws);break;default:throw Error(we(329))}}}return Bi(t,Mr()),t.callbackNode===r?jU.bind(null,t):null}function PC(t,e){var r=Vm;return t.current.memoizedState.isDehydrated&&(Nu(t,e).flags|=256),t=Ax(t,e),t!==2&&(e=ji,ji=r,e!==null&&OC(e)),t}function OC(t){ji===null?ji=t:ji.push.apply(ji,t)}function Pae(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!bo(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rl(t,e){for(e&=~UP,e&=~Fb,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-go(e),n=1<<r;t[r]=-1,e&=~n}}function tD(t){if(wt&6)throw Error(we(327));_f();var e=sx(t,0);if(!(e&1))return Bi(t,Mr()),null;var r=Ax(t,e);if(t.tag!==0&&r===2){var n=rC(t);n!==0&&(e=n,r=PC(t,n))}if(r===1)throw r=Ng,Nu(t,0),Rl(t,e),Bi(t,Mr()),r;if(r===6)throw Error(we(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,iu(t,ji,ws),Bi(t,Mr()),null}function zP(t,e){var r=wt;wt|=1;try{return t(e)}finally{wt=r,wt===0&&(zf=Mr()+500,Db&&Rc())}}function Uu(t){Bl!==null&&Bl.tag===0&&!(wt&6)&&_f();var e=wt;wt|=1;var r=ja.transition,n=kt;try{if(ja.transition=null,kt=1,t)return t()}finally{kt=n,ja.transition=r,wt=e,!(wt&6)&&Rc()}}function WP(){ea=af.current,cr(af)}function Nu(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,oae(r)),Hr!==null)for(r=Hr.return;r!==null;){var n=r;switch(EP(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&fx();break;case 3:Uf(),cr($i),cr(ei),kP();break;case 5:jP(n);break;case 4:Uf();break;case 13:cr(xr);break;case 19:cr(xr);break;case 10:NP(n.type._context);break;case 22:case 23:WP()}r=r.return}if(wn=t,Hr=t=ec(t.current,null),kn=ea=e,nn=0,Ng=null,UP=Fb=Bu=0,ji=Vm=null,gu!==null){for(e=0;e<gu.length;e++)if(r=gu[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}gu=null}return t}function kU(t,e){do{var r=Hr;try{if(TP(),S1.current=bx,wx){for(var n=Sr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}wx=!1}if(Fu=0,vn=Zr=Sr=null,Bm=!1,Ag=0,BP.current=null,r===null||r.return===null){nn=1,Ng=e,Hr=null;break}e:{var a=t,o=r.return,s=r,l=e;if(e=kn,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=V4(o);if(p!==null){p.flags&=-257,z4(p,o,s,a,e),p.mode&1&&U4(a,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){U4(a,u,e),HP();break e}l=Error(we(426))}}else if(dr&&s.mode&1){var v=V4(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),z4(v,o,s,a,e),AP(Vf(l,s));break e}}a=l=Vf(l,s),nn!==4&&(nn=2),Vm===null?Vm=[a]:Vm.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var x=gU(a,l,e);D4(a,x);break e;case 1:s=l;var y=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Zl===null||!Zl.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var S=vU(a,s,e);D4(a,S);break e}}a=a.return}while(a!==null)}MU(r)}catch(E){e=E,Hr===r&&r!==null&&(Hr=r=r.return);continue}break}while(!0)}function RU(){var t=_x.current;return _x.current=bx,t===null?bx:t}function HP(){(nn===0||nn===3||nn===2)&&(nn=4),wn===null||!(Bu&268435455)&&!(Fb&268435455)||Rl(wn,kn)}function Ax(t,e){var r=wt;wt|=2;var n=RU();(wn!==t||kn!==e)&&(ws=null,Nu(t,e));do try{Oae();break}catch(i){kU(t,i)}while(!0);if(TP(),wt=r,_x.current=n,Hr!==null)throw Error(we(261));return wn=null,kn=0,nn}function Oae(){for(;Hr!==null;)DU(Hr)}function jae(){for(;Hr!==null&&!nie();)DU(Hr)}function DU(t){var e=$U(t.alternate,t,ea);t.memoizedProps=t.pendingProps,e===null?MU(t):Hr=e,BP.current=null}function MU(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Aae(r,e),r!==null){r.flags&=32767,Hr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nn=6,Hr=null;return}}else if(r=Eae(r,e,ea),r!==null){Hr=r;return}if(e=e.sibling,e!==null){Hr=e;return}Hr=e=t}while(e!==null);nn===0&&(nn=5)}function iu(t,e,r){var n=kt,i=ja.transition;try{ja.transition=null,kt=1,kae(t,e,r,n)}finally{ja.transition=i,kt=n}return null}function kae(t,e,r,n){do _f();while(Bl!==null);if(wt&6)throw Error(we(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(we(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(hie(t,a),t===wn&&(Hr=wn=null,kn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Sy||(Sy=!0,FU(ox,function(){return _f(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ja.transition,ja.transition=null;var o=kt;kt=1;var s=wt;wt|=4,BP.current=null,Tae(t,r),PU(r,t),Jie(lC),lx=!!sC,lC=sC=null,t.current=r,Nae(r),iie(),wt=s,kt=o,ja.transition=a}else t.current=r;if(Sy&&(Sy=!1,Bl=t,Ex=i),a=t.pendingLanes,a===0&&(Zl=null),sie(r.stateNode),Bi(t,Mr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Sx)throw Sx=!1,t=NC,NC=null,t;return Ex&1&&t.tag!==0&&_f(),a=t.pendingLanes,a&1?t===IC?zm++:(zm=0,IC=t):zm=0,Rc(),null}function _f(){if(Bl!==null){var t=gB(Ex),e=ja.transition,r=kt;try{if(ja.transition=null,kt=16>t?16:t,Bl===null)var n=!1;else{if(t=Bl,Bl=null,Ex=0,wt&6)throw Error(we(331));var i=wt;for(wt|=4,Re=t.current;Re!==null;){var a=Re,o=a.child;if(Re.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Re=u;Re!==null;){var d=Re;switch(d.tag){case 0:case 11:case 15:Um(8,d,a)}var f=d.child;if(f!==null)f.return=d,Re=f;else for(;Re!==null;){d=Re;var h=d.sibling,p=d.return;if(TU(d),d===u){Re=null;break}if(h!==null){h.return=p,Re=h;break}Re=p}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}Re=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Re=o;else e:for(;Re!==null;){if(a=Re,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Um(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,Re=x;break e}Re=a.return}}var y=t.current;for(Re=y;Re!==null;){o=Re;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Re=w;else e:for(o=y;Re!==null;){if(s=Re,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:$b(9,s)}}catch(E){Tr(s,s.return,E)}if(s===o){Re=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,Re=S;break e}Re=s.return}}if(wt=i,Rc(),Wo&&typeof Wo.onPostCommitFiberRoot=="function")try{Wo.onPostCommitFiberRoot(Pb,t)}catch{}n=!0}return n}finally{kt=r,ja.transition=e}}return!1}function rD(t,e,r){e=Vf(r,e),e=gU(t,e,1),t=Ql(t,e,1),e=wi(),t!==null&&(r0(t,1,e),Bi(t,e))}function Tr(t,e,r){if(t.tag===3)rD(t,t,r);else for(;e!==null;){if(e.tag===3){rD(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zl===null||!Zl.has(n))){t=Vf(r,t),t=vU(e,t,1),e=Ql(e,t,1),t=wi(),e!==null&&(r0(e,1,t),Bi(e,t));break}}e=e.return}}function Rae(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=wi(),t.pingedLanes|=t.suspendedLanes&r,wn===t&&(kn&r)===r&&(nn===4||nn===3&&(kn&130023424)===kn&&500>Mr()-VP?Nu(t,0):UP|=r),Bi(t,e)}function LU(t,e){e===0&&(t.mode&1?(e=hy,hy<<=1,!(hy&130023424)&&(hy=4194304)):e=1);var r=wi();t=Hs(t,e),t!==null&&(r0(t,e,r),Bi(t,r))}function Dae(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),LU(t,r)}function Mae(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(we(314))}n!==null&&n.delete(e),LU(t,r)}var $U;$U=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||$i.current)Di=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Di=!1,Sae(t,e,r);Di=!!(t.flags&131072)}else Di=!1,dr&&e.flags&1048576&&VB(e,mx,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;A1(t,e),t=e.pendingProps;var i=$f(e,ei.current);bf(e,r),i=DP(null,e,n,t,i,r);var a=MP();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fi(n)?(a=!0,hx(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,PP(e),i.updater=Lb,e.stateNode=i,i._reactInternals=e,vC(e,n,t,r),e=wC(null,e,n,!0,a,r)):(e.tag=0,dr&&a&&SP(e),mi(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(A1(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=$ae(n),t=ro(n,t),i){case 0:e=xC(null,e,n,t,r);break e;case 1:e=G4(null,e,n,t,r);break e;case 11:e=W4(null,e,n,t,r);break e;case 14:e=H4(null,e,n,ro(n.type,t),r);break e}throw Error(we(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ro(n,i),xC(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ro(n,i),G4(t,e,n,i,r);case 3:e:{if(bU(e),t===null)throw Error(we(387));n=e.pendingProps,a=e.memoizedState,i=a.element,KB(t,e),yx(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Vf(Error(we(423)),e),e=q4(t,e,n,r,i);break e}else if(n!==i){i=Vf(Error(we(424)),e),e=q4(t,e,n,r,i);break e}else for(aa=Xl(e.stateNode.containerInfo.firstChild),oa=e,dr=!0,oo=null,r=GB(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ff(),n===i){e=Gs(t,e,r);break e}mi(t,e,n,r)}e=e.child}return e;case 5:return YB(e),t===null&&pC(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,cC(n,i)?o=null:a!==null&&cC(n,a)&&(e.flags|=32),wU(t,e),mi(t,e,o,r),e.child;case 6:return t===null&&pC(e),null;case 13:return _U(t,e,r);case 4:return OP(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Bf(e,null,n,r):mi(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ro(n,i),W4(t,e,n,i,r);case 7:return mi(t,e,e.pendingProps,r),e.child;case 8:return mi(t,e,e.pendingProps.children,r),e.child;case 12:return mi(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Kt(gx,n._currentValue),n._currentValue=o,a!==null)if(bo(a.value,o)){if(a.children===i.children&&!$i.current){e=Gs(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Ds(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),mC(a.return,r,e),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(we(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),mC(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}mi(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,bf(e,r),i=Ma(i),n=n(i),e.flags|=1,mi(t,e,n,r),e.child;case 14:return n=e.type,i=ro(n,e.pendingProps),i=ro(n.type,i),H4(t,e,n,i,r);case 15:return yU(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ro(n,i),A1(t,e),e.tag=1,Fi(n)?(t=!0,hx(e)):t=!1,bf(e,r),mU(e,n,i),vC(e,n,i,r),wC(null,e,n,!0,t,r);case 19:return SU(t,e,r);case 22:return xU(t,e,r)}throw Error(we(156,e.tag))};function FU(t,e){return fB(t,e)}function Lae(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ia(t,e,r,n){return new Lae(t,e,r,n)}function GP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $ae(t){if(typeof t=="function")return GP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dP)return 11;if(t===fP)return 14}return 2}function ec(t,e){var r=t.alternate;return r===null?(r=Ia(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function N1(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")GP(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Kd:return Iu(r.children,i,a,e);case uP:o=8,i|=8;break;case UA:return t=Ia(12,r,e,i|2),t.elementType=UA,t.lanes=a,t;case VA:return t=Ia(13,r,e,i),t.elementType=VA,t.lanes=a,t;case zA:return t=Ia(19,r,e,i),t.elementType=zA,t.lanes=a,t;case Y7:return Bb(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q7:o=10;break e;case K7:o=9;break e;case dP:o=11;break e;case fP:o=14;break e;case Nl:o=16,n=null;break e}throw Error(we(130,t==null?t:typeof t,""))}return e=Ia(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Iu(t,e,r,n){return t=Ia(7,t,n,e),t.lanes=r,t}function Bb(t,e,r,n){return t=Ia(22,t,n,e),t.elementType=Y7,t.lanes=r,t.stateNode={isHidden:!1},t}function HS(t,e,r){return t=Ia(6,t,null,e),t.lanes=r,t}function GS(t,e,r){return e=Ia(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Fae(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=CS(0),this.expirationTimes=CS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=CS(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qP(t,e,r,n,i,a,o,s,l){return t=new Fae(t,e,r,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ia(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},PP(a),t}function Bae(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qd,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function BU(t){if(!t)return pc;t=t._reactInternals;e:{if(hd(t)!==t||t.tag!==1)throw Error(we(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(we(171))}if(t.tag===1){var r=t.type;if(Fi(r))return BB(t,r,e)}return e}function UU(t,e,r,n,i,a,o,s,l){return t=qP(r,n,!0,t,i,a,o,s,l),t.context=BU(null),r=t.current,n=wi(),i=Jl(r),a=Ds(n,i),a.callback=e??null,Ql(r,a,i),t.current.lanes=i,r0(t,i,n),Bi(t,n),t}function Ub(t,e,r,n){var i=e.current,a=wi(),o=Jl(i);return r=BU(r),e.context===null?e.context=r:e.pendingContext=r,e=Ds(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ql(i,e,o),t!==null&&(vo(t,i,o,a),_1(t,i,o)),o}function Cx(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nD(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function KP(t,e){nD(t,e),(t=t.alternate)&&nD(t,e)}function Uae(){return null}var VU=typeof reportError=="function"?reportError:function(t){console.error(t)};function YP(t){this._internalRoot=t}Vb.prototype.render=YP.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(we(409));Ub(t,e,null,null)};Vb.prototype.unmount=YP.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Uu(function(){Ub(null,t,null,null)}),e[Ws]=null}};function Vb(t){this._internalRoot=t}Vb.prototype.unstable_scheduleHydration=function(t){if(t){var e=xB();t={blockedOn:null,target:t,priority:e};for(var r=0;r<kl.length&&e!==0&&e<kl[r].priority;r++);kl.splice(r,0,t),r===0&&bB(t)}};function XP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function iD(){}function Vae(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Cx(o);a.call(u)}}var o=UU(e,n,t,0,null,!1,!1,"",iD);return t._reactRootContainer=o,t[Ws]=o.current,wg(t.nodeType===8?t.parentNode:t),Uu(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=Cx(l);s.call(u)}}var l=qP(t,0,!1,null,null,!1,!1,"",iD);return t._reactRootContainer=l,t[Ws]=l.current,wg(t.nodeType===8?t.parentNode:t),Uu(function(){Ub(e,l,r,n)}),l}function Wb(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Cx(o);s.call(l)}}Ub(e,o,t,i)}else o=Vae(r,e,t,i,n);return Cx(o)}vB=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=vm(e.pendingLanes);r!==0&&(mP(e,r|1),Bi(e,Mr()),!(wt&6)&&(zf=Mr()+500,Rc()))}break;case 13:Uu(function(){var n=Hs(t,1);if(n!==null){var i=wi();vo(n,t,1,i)}}),KP(t,1)}};gP=function(t){if(t.tag===13){var e=Hs(t,134217728);if(e!==null){var r=wi();vo(e,t,134217728,r)}KP(t,134217728)}};yB=function(t){if(t.tag===13){var e=Jl(t),r=Hs(t,e);if(r!==null){var n=wi();vo(r,t,e,n)}KP(t,e)}};xB=function(){return kt};wB=function(t,e){var r=kt;try{return kt=t,e()}finally{kt=r}};JA=function(t,e,r){switch(e){case"input":if(GA(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Rb(n);if(!i)throw Error(we(90));Q7(n),GA(n,i)}}}break;case"textarea":J7(t,r);break;case"select":e=r.value,e!=null&&vf(t,!!r.multiple,e,!1)}};oB=zP;sB=Uu;var zae={usingClientEntryPoint:!1,Events:[i0,Zd,Rb,iB,aB,zP]},zp={findFiberByHostInstance:mu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wae={bundleType:zp.bundleType,version:zp.version,rendererPackageName:zp.rendererPackageName,rendererConfig:zp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ol.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uB(t),t===null?null:t.stateNode},findFiberByHostInstance:zp.findFiberByHostInstance||Uae,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ey=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ey.isDisabled&&Ey.supportsFiber)try{Pb=Ey.inject(Wae),Wo=Ey}catch{}}ga.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zae;ga.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!XP(e))throw Error(we(200));return Bae(t,e,null,r)};ga.createRoot=function(t,e){if(!XP(t))throw Error(we(299));var r=!1,n="",i=VU;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qP(t,1,!1,null,null,r,!1,n,i),t[Ws]=e.current,wg(t.nodeType===8?t.parentNode:t),new YP(e)};ga.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(we(188)):(t=Object.keys(t).join(","),Error(we(268,t)));return t=uB(e),t=t===null?null:t.stateNode,t};ga.flushSync=function(t){return Uu(t)};ga.hydrate=function(t,e,r){if(!zb(e))throw Error(we(200));return Wb(null,t,e,!0,r)};ga.hydrateRoot=function(t,e,r){if(!XP(t))throw Error(we(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=VU;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=UU(e,null,t,1,r??null,i,!1,a,o),t[Ws]=e.current,wg(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Vb(e)};ga.render=function(t,e,r){if(!zb(e))throw Error(we(200));return Wb(null,t,e,!1,r)};ga.unmountComponentAtNode=function(t){if(!zb(t))throw Error(we(40));return t._reactRootContainer?(Uu(function(){Wb(null,null,t,!1,function(){t._reactRootContainer=null,t[Ws]=null})}),!0):!1};ga.unstable_batchedUpdates=zP;ga.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!zb(r))throw Error(we(200));if(t==null||t._reactInternals===void 0)throw Error(we(38));return Wb(t,e,r,!1,n)};ga.version="18.3.1-next-f1338f8080-20240426";function zU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zU)}catch(t){console.error(t)}}zU(),z7.exports=ga;var pd=z7.exports;const Hb=dt(pd);var WU,aD=pd;WU=aD.createRoot,aD.hydrateRoot;const Hae=5,Gae=1e6,Ns={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let qS=0;function qae(){return qS=(qS+1)%Number.MAX_VALUE,qS.toString()}const KS=new Map,oD=t=>{if(KS.has(t))return;const e=setTimeout(()=>{KS.delete(t),Wm({type:Ns.REMOVE_TOAST,toastId:t})},Gae);KS.set(t,e)},Kae=(t,e)=>{switch(e.type){case Ns.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,Hae)};case Ns.UPDATE_TOAST:return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case Ns.DISMISS_TOAST:{const{toastId:r}=e;return r?oD(r):t.toasts.forEach(n=>{oD(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case Ns.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},I1=[];let P1={toasts:[]};function Wm(t){P1=Kae(P1,t),I1.forEach(e=>{e(P1)})}function Ul({...t}){const e=qae(),r=i=>Wm({type:Ns.UPDATE_TOAST,toast:{...i,id:e}}),n=()=>Wm({type:Ns.DISMISS_TOAST,toastId:e});return Wm({type:Ns.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function cn(){const[t,e]=b.useState(P1);return b.useEffect(()=>(I1.push(e),()=>{const r=I1.indexOf(e);r>-1&&I1.splice(r,1)}),[t]),{...t,toast:Ul,dismiss:r=>Wm({type:Ns.DISMISS_TOAST,toastId:r})}}function be(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Yae(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Gb(...t){return e=>t.forEach(r=>Yae(r,e))}function et(...t){return b.useCallback(Gb(...t),t)}function Xae(t,e=[]){let r=[];function n(a,o){const s=b.createContext(o),l=r.length;r=[...r,o];function u(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||s,v=b.useMemo(()=>m,Object.values(m));return c.jsx(g.Provider,{value:v,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||s,m=b.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const i=()=>{const a=r.map(o=>b.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return b.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,Qae(i,...e)]}function Qae(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:u})=>{const f=l(a)[`__scope${u}`];return{...s,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var qs=b.forwardRef((t,e)=>{const{children:r,...n}=t,i=b.Children.toArray(r),a=i.find(Zae);if(a){const o=a.props.children,s=i.map(l=>l===a?b.Children.count(o)>1?b.Children.only(null):b.isValidElement(o)?o.props.children:null:l);return c.jsx(jC,{...n,ref:e,children:b.isValidElement(o)?b.cloneElement(o,void 0,s):null})}return c.jsx(jC,{...n,ref:e,children:r})});qs.displayName="Slot";var jC=b.forwardRef((t,e)=>{const{children:r,...n}=t;if(b.isValidElement(r)){const i=eoe(r);return b.cloneElement(r,{...Jae(n,r.props),ref:e?Gb(e,i):i})}return b.Children.count(r)>1?b.Children.only(null):null});jC.displayName="SlotClone";var HU=({children:t})=>c.jsx(c.Fragment,{children:t});function Zae(t){return b.isValidElement(t)&&t.type===HU}function Jae(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...s)=>{a(...s),i(...s)}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function eoe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function qb(t){const e=t+"CollectionProvider",[r,n]=Xae(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:m,children:g}=p,v=D.useRef(null),x=D.useRef(new Map).current;return c.jsx(i,{scope:m,itemMap:x,collectionRef:v,children:g})};o.displayName=e;const s=t+"CollectionSlot",l=D.forwardRef((p,m)=>{const{scope:g,children:v}=p,x=a(s,g),y=et(m,x.collectionRef);return c.jsx(qs,{ref:y,children:v})});l.displayName=s;const u=t+"CollectionItemSlot",d="data-radix-collection-item",f=D.forwardRef((p,m)=>{const{scope:g,children:v,...x}=p,y=D.useRef(null),w=et(m,y),S=a(u,g);return D.useEffect(()=>(S.itemMap.set(y,{ref:y,...x}),()=>void S.itemMap.delete(y))),c.jsx(qs,{[d]:"",ref:w,children:v})});f.displayName=u;function h(p){const m=a(t+"CollectionConsumer",p);return D.useCallback(()=>{const v=m.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(m.itemMap.values()).sort((S,E)=>x.indexOf(S.ref.current)-x.indexOf(E.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},h,n]}function toe(t,e){const r=b.createContext(e),n=a=>{const{children:o,...s}=a,l=b.useMemo(()=>s,Object.values(s));return c.jsx(r.Provider,{value:l,children:o})};n.displayName=t+"Provider";function i(a){const o=b.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function Va(t,e=[]){let r=[];function n(a,o){const s=b.createContext(o),l=r.length;r=[...r,o];const u=f=>{var x;const{scope:h,children:p,...m}=f,g=((x=h==null?void 0:h[t])==null?void 0:x[l])||s,v=b.useMemo(()=>m,Object.values(m));return c.jsx(g.Provider,{value:v,children:p})};u.displayName=a+"Provider";function d(f,h){var g;const p=((g=h==null?void 0:h[t])==null?void 0:g[l])||s,m=b.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(o=>b.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return b.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,roe(i,...e)]}function roe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:u})=>{const f=l(a)[`__scope${u}`];return{...s,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var noe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Le=noe.reduce((t,e)=>{const r=b.forwardRef((n,i)=>{const{asChild:a,...o}=n,s=a?qs:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(s,{...o,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function QP(t,e){t&&pd.flushSync(()=>t.dispatchEvent(e))}function hr(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function ioe(t,e=globalThis==null?void 0:globalThis.document){const r=hr(t);b.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var aoe="DismissableLayer",kC="dismissableLayer.update",ooe="dismissableLayer.pointerDownOutside",soe="dismissableLayer.focusOutside",sD,GU=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),md=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=t,u=b.useContext(GU),[d,f]=b.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=b.useState({}),m=et(e,A=>f(A)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(v),y=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=y>=x,E=coe(A=>{const T=A.target,N=[...u.branches].some(I=>I.contains(T));!S||N||(i==null||i(A),o==null||o(A),A.defaultPrevented||s==null||s())},h),C=uoe(A=>{const T=A.target;[...u.branches].some(I=>I.contains(T))||(a==null||a(A),o==null||o(A),A.defaultPrevented||s==null||s())},h);return ioe(A=>{y===u.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&s&&(A.preventDefault(),s()))},h),b.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(sD=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),lD(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=sD)}},[d,h,r,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),lD())},[d,u]),b.useEffect(()=>{const A=()=>p({});return document.addEventListener(kC,A),()=>document.removeEventListener(kC,A)},[]),c.jsx(Le.div,{...l,ref:m,style:{pointerEvents:w?S?"auto":"none":void 0,...t.style},onFocusCapture:be(t.onFocusCapture,C.onFocusCapture),onBlurCapture:be(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:be(t.onPointerDownCapture,E.onPointerDownCapture)})});md.displayName=aoe;var loe="DismissableLayerBranch",qU=b.forwardRef((t,e)=>{const r=b.useContext(GU),n=b.useRef(null),i=et(e,n);return b.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),c.jsx(Le.div,{...t,ref:i})});qU.displayName=loe;function coe(t,e=globalThis==null?void 0:globalThis.document){const r=hr(t),n=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const a=s=>{if(s.target&&!n.current){let l=function(){KU(ooe,r,u,{discrete:!0})};const u={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function uoe(t,e=globalThis==null?void 0:globalThis.document){const r=hr(t),n=b.useRef(!1);return b.useEffect(()=>{const i=a=>{a.target&&!n.current&&KU(soe,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function lD(){const t=new CustomEvent(kC);document.dispatchEvent(t)}function KU(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?QP(i,a):i.dispatchEvent(a)}var doe=md,foe=qU,ln=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},hoe="Portal",Uh=b.forwardRef((t,e)=>{var s;const{container:r,...n}=t,[i,a]=b.useState(!1);ln(()=>a(!0),[]);const o=r||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return o?Hb.createPortal(c.jsx(Le.div,{...n,ref:e}),o):null});Uh.displayName=hoe;function poe(t,e){return b.useReducer((r,n)=>e[r][n]??r,t)}var bn=t=>{const{present:e,children:r}=t,n=moe(e),i=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),a=et(n.ref,goe(i));return typeof r=="function"||n.isPresent?b.cloneElement(i,{ref:a}):null};bn.displayName="Presence";function moe(t){const[e,r]=b.useState(),n=b.useRef({}),i=b.useRef(t),a=b.useRef("none"),o=t?"mounted":"unmounted",[s,l]=poe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Ay(n.current);a.current=s==="mounted"?u:"none"},[s]),ln(()=>{const u=n.current,d=i.current;if(d!==t){const h=a.current,p=Ay(u);t?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),ln(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=p=>{const g=Ay(n.current).includes(p.animationName);if(p.target===e&&g&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},h=p=>{p.target===e&&(a.current=Ay(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:b.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Ay(t){return(t==null?void 0:t.animationName)||"none"}function goe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function ts({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=voe({defaultProp:e,onChange:r}),a=t!==void 0,o=a?t:n,s=hr(r),l=b.useCallback(u=>{if(a){const f=typeof u=="function"?u(t):u;f!==t&&s(f)}else i(u)},[a,t,i,s]);return[o,l]}function voe({defaultProp:t,onChange:e}){const r=b.useState(t),[n]=r,i=b.useRef(n),a=hr(e);return b.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}var yoe="VisuallyHidden",o0=b.forwardRef((t,e)=>c.jsx(Le.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));o0.displayName=yoe;var xoe=o0,ZP="ToastProvider",[JP,woe,boe]=qb("Toast"),[YU,Ilt]=Va("Toast",[boe]),[_oe,Kb]=YU(ZP),XU=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=t,[s,l]=b.useState(null),[u,d]=b.useState(0),f=b.useRef(!1),h=b.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${ZP}\`. Expected non-empty \`string\`.`),c.jsx(JP.Provider,{scope:e,children:c.jsx(_oe,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:s,onViewportChange:l,onToastAdd:b.useCallback(()=>d(p=>p+1),[]),onToastRemove:b.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};XU.displayName=ZP;var QU="ToastViewport",Soe=["F8"],RC="toast.viewportPause",DC="toast.viewportResume",ZU=b.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=Soe,label:i="Notifications ({hotkey})",...a}=t,o=Kb(QU,r),s=woe(r),l=b.useRef(null),u=b.useRef(null),d=b.useRef(null),f=b.useRef(null),h=et(e,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=o.toastCount>0;b.useEffect(()=>{const v=x=>{var w;n.length!==0&&n.every(S=>x[S]||x.code===S)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),b.useEffect(()=>{const v=l.current,x=f.current;if(m&&v&&x){const y=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(RC);x.dispatchEvent(C),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(DC);x.dispatchEvent(C),o.isClosePausedRef.current=!1}},S=C=>{!v.contains(C.relatedTarget)&&w()},E=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",y),v.addEventListener("focusout",S),v.addEventListener("pointermove",y),v.addEventListener("pointerleave",E),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",y),v.removeEventListener("focusout",S),v.removeEventListener("pointermove",y),v.removeEventListener("pointerleave",E),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[m,o.isClosePausedRef]);const g=b.useCallback(({tabbingDirection:v})=>{const y=s().map(w=>{const S=w.ref.current,E=[S,...Moe(S)];return v==="forwards"?E:E.reverse()});return(v==="forwards"?y.reverse():y).flat()},[s]);return b.useEffect(()=>{const v=f.current;if(v){const x=y=>{var E,C,A;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const T=document.activeElement,N=y.shiftKey;if(y.target===v&&N){(E=u.current)==null||E.focus();return}const O=g({tabbingDirection:N?"backwards":"forwards"}),P=O.findIndex(M=>M===T);YS(O.slice(P+1))?y.preventDefault():N?(C=u.current)==null||C.focus():(A=d.current)==null||A.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[s,g]),c.jsxs(foe,{ref:l,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&c.jsx(MC,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});YS(v)}}),c.jsx(JP.Slot,{scope:r,children:c.jsx(Le.ol,{tabIndex:-1,...a,ref:h})}),m&&c.jsx(MC,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});YS(v)}})]})});ZU.displayName=QU;var JU="ToastFocusProxy",MC=b.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,a=Kb(JU,r);return c.jsx(o0,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const s=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(s))&&n()}})});MC.displayName=JU;var Yb="Toast",Eoe="toast.swipeStart",Aoe="toast.swipeMove",Coe="toast.swipeCancel",Toe="toast.swipeEnd",eV=b.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...o}=t,[s=!0,l]=ts({prop:n,defaultProp:i,onChange:a});return c.jsx(bn,{present:r||s,children:c.jsx(Poe,{open:s,...o,ref:e,onClose:()=>l(!1),onPause:hr(t.onPause),onResume:hr(t.onResume),onSwipeStart:be(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:be(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:be(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:be(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});eV.displayName=Yb;var[Noe,Ioe]=YU(Yb,{onClose(){}}),Poe=b.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:s,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...m}=t,g=Kb(Yb,r),[v,x]=b.useState(null),y=et(e,M=>x(M)),w=b.useRef(null),S=b.useRef(null),E=i||g.duration,C=b.useRef(0),A=b.useRef(E),T=b.useRef(0),{onToastAdd:N,onToastRemove:I}=g,j=hr(()=>{var F;(v==null?void 0:v.contains(document.activeElement))&&((F=g.viewport)==null||F.focus()),o()}),O=b.useCallback(M=>{!M||M===1/0||(window.clearTimeout(T.current),C.current=new Date().getTime(),T.current=window.setTimeout(j,M))},[j]);b.useEffect(()=>{const M=g.viewport;if(M){const F=()=>{O(A.current),u==null||u()},B=()=>{const W=new Date().getTime()-C.current;A.current=A.current-W,window.clearTimeout(T.current),l==null||l()};return M.addEventListener(RC,B),M.addEventListener(DC,F),()=>{M.removeEventListener(RC,B),M.removeEventListener(DC,F)}}},[g.viewport,E,l,u,O]),b.useEffect(()=>{a&&!g.isClosePausedRef.current&&O(E)},[a,E,g.isClosePausedRef,O]),b.useEffect(()=>(N(),()=>I()),[N,I]);const P=b.useMemo(()=>v?sV(v):null,[v]);return g.viewport?c.jsxs(c.Fragment,{children:[P&&c.jsx(Ooe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),c.jsx(Noe,{scope:r,onClose:j,children:pd.createPortal(c.jsx(JP.ItemSlot,{scope:r,children:c.jsx(doe,{asChild:!0,onEscapeKeyDown:be(s,()=>{g.isFocusedToastEscapeKeyDownRef.current||j(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(Le.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...m,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:be(t.onKeyDown,M=>{M.key==="Escape"&&(s==null||s(M.nativeEvent),M.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:be(t.onPointerDown,M=>{M.button===0&&(w.current={x:M.clientX,y:M.clientY})}),onPointerMove:be(t.onPointerMove,M=>{if(!w.current)return;const F=M.clientX-w.current.x,B=M.clientY-w.current.y,W=!!S.current,$=["left","right"].includes(g.swipeDirection),U=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,X=$?U(0,F):0,H=$?0:U(0,B),Y=M.pointerType==="touch"?10:2,Q={x:X,y:H},ue={originalEvent:M,delta:Q};W?(S.current=Q,Cy(Aoe,f,ue,{discrete:!1})):cD(Q,g.swipeDirection,Y)?(S.current=Q,Cy(Eoe,d,ue,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(F)>Y||Math.abs(B)>Y)&&(w.current=null)}),onPointerUp:be(t.onPointerUp,M=>{const F=S.current,B=M.target;if(B.hasPointerCapture(M.pointerId)&&B.releasePointerCapture(M.pointerId),S.current=null,w.current=null,F){const W=M.currentTarget,$={originalEvent:M,delta:F};cD(F,g.swipeDirection,g.swipeThreshold)?Cy(Toe,p,$,{discrete:!0}):Cy(Coe,h,$,{discrete:!0}),W.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Ooe=t=>{const{__scopeToast:e,children:r,...n}=t,i=Kb(Yb,e),[a,o]=b.useState(!1),[s,l]=b.useState(!1);return Roe(()=>o(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),s?null:c.jsx(Uh,{asChild:!0,children:c.jsx(o0,{...n,children:a&&c.jsxs(c.Fragment,{children:[i.label," ",r]})})})},joe="ToastTitle",tV=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return c.jsx(Le.div,{...n,ref:e})});tV.displayName=joe;var koe="ToastDescription",rV=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return c.jsx(Le.div,{...n,ref:e})});rV.displayName=koe;var nV="ToastAction",iV=b.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?c.jsx(oV,{altText:r,asChild:!0,children:c.jsx(eO,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${nV}\`. Expected non-empty \`string\`.`),null)});iV.displayName=nV;var aV="ToastClose",eO=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=Ioe(aV,r);return c.jsx(oV,{asChild:!0,children:c.jsx(Le.button,{type:"button",...n,ref:e,onClick:be(t.onClick,i.onClose)})})});eO.displayName=aV;var oV=b.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return c.jsx(Le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function sV(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),Doe(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...sV(n))}}),e}function Cy(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?QP(i,a):i.dispatchEvent(a)}var cD=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),a=n>i;return e==="left"||e==="right"?a&&n>r:!a&&i>r};function Roe(t=()=>{}){const e=hr(t);ln(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function Doe(t){return t.nodeType===t.ELEMENT_NODE}function Moe(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function YS(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var Loe=XU,lV=ZU,cV=eV,uV=tV,dV=rV,fV=iV,hV=eO;function pV(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=pV(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function gt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=pV(t))&&(n&&(n+=" "),n+=e);return n}const uD=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,dD=gt,Vh=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return dD(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=uD(d)||uD(f);return i[u][h]}),s=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(m=>{let[g,v]=m;return Array.isArray(v)?v.includes({...a,...s}[g]):{...a,...s}[g]===v})?[...u,f,h]:u},[]);return dD(t,o,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $oe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Foe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),_e=(t,e)=>{const r=b.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:s="",children:l,...u},d)=>b.createElement("svg",{ref:d,...$oe,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${Foe(t)}`,s].join(" "),...u},[...e.map(([f,h])=>b.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=_e("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boe=_e("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=_e("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Voe=_e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zoe=_e("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=_e("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Woe=_e("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=_e("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=_e("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=_e("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=_e("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=_e("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hoe=_e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=_e("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Goe=_e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qoe=_e("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Koe=_e("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yoe=_e("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=_e("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=_e("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=_e("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xoe=_e("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qoe=_e("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zoe=_e("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Joe=_e("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=_e("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ese=_e("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tse=_e("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rse=_e("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=_e("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=_e("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=_e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nse=_e("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ise=_e("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ase=_e("ListPlus",[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=_e("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ose=_e("LockKeyhole",[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=_e("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sse=_e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lse=_e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=_e("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=_e("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cse=_e("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=_e("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=_e("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const use=_e("PersonStanding",[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["path",{d:"m9 20 3-6 3 6",key:"se2kox"}],["path",{d:"m6 8 6 2 6-2",key:"4o3us4"}],["path",{d:"M12 10v4",key:"1kjpxc"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dse=_e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fse=_e("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=_e("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=_e("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=_e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=_e("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=_e("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=_e("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=_e("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=_e("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=_e("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=_e("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=_e("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=_e("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pse=_e("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mse=_e("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=_e("SplitSquareVertical",[["path",{d:"M5 8V5c0-1 1-2 2-2h10c1 0 2 1 2 2v3",key:"1pi83i"}],["path",{d:"M19 16v3c0 1-1 2-2 2H7c-1 0-2-1-2-2v-3",key:"ido5k7"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=_e("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=_e("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=_e("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=_e("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=_e("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vse=_e("TramFront",[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h0",key:"q9eq1f"}],["path",{d:"M16 15h0",key:"pzrbjg"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=_e("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=_e("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=_e("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=_e("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),cO="-",yse=t=>{const e=wse(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const s=o.split(cO);return s[0]===""&&s.length!==1&&s.shift(),EV(s,e)||xse(o)},getConflictingClassGroupIds:(o,s)=>{const l=r[o]||[];return s&&n[o]?[...l,...n[o]]:l}}},EV=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?EV(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(cO);return(o=e.validators.find(({validator:s})=>s(a)))==null?void 0:o.classGroupId},gD=/^\[(.+)\]$/,xse=t=>{if(gD.test(t)){const e=gD.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},wse=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return _se(Object.entries(t.classGroups),r).forEach(([a,o])=>{HC(o,n,a,e)}),n},HC=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:vD(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(bse(i)){HC(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{HC(o,vD(e,a),r,n)})})},vD=(t,e)=>{let r=t;return e.split(cO).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},bse=t=>t.isThemeGetter,_se=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,s])=>[e+o,s])):a);return[r,i]}):t,Sse=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},AV="!",Ese=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,o=s=>{const l=[];let u=0,d=0,f;for(let v=0;v<s.length;v++){let x=s[v];if(u===0){if(x===i&&(n||s.slice(v,v+a)===e)){l.push(s.slice(d,v)),d=v+a;continue}if(x==="/"){f=v;continue}}x==="["?u++:x==="]"&&u--}const h=l.length===0?s:s.substring(d),p=h.startsWith(AV),m=p?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}};return r?s=>r({className:s,parseClassName:o}):o},Ase=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},Cse=t=>({cache:Sse(t.cacheSize),parseClassName:Ese(t),...yse(t)}),Tse=/\s+/,Nse=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(Tse);let s="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let m=!!p,g=n(m?h.substring(0,p):h);if(!g){if(!m){s=u+(s.length>0?" "+s:s);continue}if(g=n(h),!g){s=u+(s.length>0?" "+s:s);continue}m=!1}const v=Ase(d).join(":"),x=f?v+AV:v,y=x+g;if(a.includes(y))continue;a.push(y);const w=i(g,m);for(let S=0;S<w.length;++S){const E=w[S];a.push(x+E)}s=u+(s.length>0?" "+s:s)}return s};function Ise(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=CV(e))&&(n&&(n+=" "),n+=r);return n}const CV=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=CV(t[n]))&&(r&&(r+=" "),r+=e);return r};function Pse(t,...e){let r,n,i,a=o;function o(l){const u=e.reduce((d,f)=>f(d),t());return r=Cse(u),n=r.cache.get,i=r.cache.set,a=s,s(l)}function s(l){const u=n(l);if(u)return u;const d=Nse(l,r);return i(l,d),d}return function(){return a(Ise.apply(null,arguments))}}const er=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},TV=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ose=/^\d+\/\d+$/,jse=new Set(["px","full","screen"]),kse=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Rse=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Dse=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Mse=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Lse=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vs=t=>Af(t)||jse.has(t)||Ose.test(t),xl=t=>zh(t,"length",Hse),Af=t=>!!t&&!Number.isNaN(Number(t)),QS=t=>zh(t,"number",Af),Wp=t=>!!t&&Number.isInteger(Number(t)),$se=t=>t.endsWith("%")&&Af(t.slice(0,-1)),Ze=t=>TV.test(t),wl=t=>kse.test(t),Fse=new Set(["length","size","percentage"]),Bse=t=>zh(t,Fse,NV),Use=t=>zh(t,"position",NV),Vse=new Set(["image","url"]),zse=t=>zh(t,Vse,qse),Wse=t=>zh(t,"",Gse),Hp=()=>!0,zh=(t,e,r)=>{const n=TV.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},Hse=t=>Rse.test(t)&&!Dse.test(t),NV=()=>!1,Gse=t=>Mse.test(t),qse=t=>Lse.test(t),Kse=()=>{const t=er("colors"),e=er("spacing"),r=er("blur"),n=er("brightness"),i=er("borderColor"),a=er("borderRadius"),o=er("borderSpacing"),s=er("borderWidth"),l=er("contrast"),u=er("grayscale"),d=er("hueRotate"),f=er("invert"),h=er("gap"),p=er("gradientColorStops"),m=er("gradientColorStopPositions"),g=er("inset"),v=er("margin"),x=er("opacity"),y=er("padding"),w=er("saturate"),S=er("scale"),E=er("sepia"),C=er("skew"),A=er("space"),T=er("translate"),N=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",Ze,e],O=()=>[Ze,e],P=()=>["",vs,xl],M=()=>["auto",Af,Ze],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",Ze],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Af,Ze];return{cacheSize:500,separator:":",theme:{colors:[Hp],spacing:[vs,xl],blur:["none","",wl,Ze],brightness:H(),borderColor:[t],borderRadius:["none","","full",wl,Ze],borderSpacing:O(),borderWidth:P(),contrast:H(),grayscale:U(),hueRotate:H(),invert:U(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[$se,xl],inset:j(),margin:j(),opacity:H(),padding:O(),saturate:H(),scale:H(),sepia:U(),skew:H(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ze]}],container:["container"],columns:[{columns:[wl]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),Ze]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wp,Ze]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ze]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Wp,Ze]}],"grid-cols":[{"grid-cols":[Hp]}],"col-start-end":[{col:["auto",{span:["full",Wp,Ze]},Ze]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Hp]}],"row-start-end":[{row:["auto",{span:[Wp,Ze]},Ze]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ze]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ze,e]}],"min-w":[{"min-w":[Ze,e,"min","max","fit"]}],"max-w":[{"max-w":[Ze,e,"none","full","min","max","fit","prose",{screen:[wl]},wl]}],h:[{h:[Ze,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ze,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ze,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ze,e,"auto","min","max","fit"]}],"font-size":[{text:["base",wl,xl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",QS]}],"font-family":[{font:[Hp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ze]}],"line-clamp":[{"line-clamp":["none",Af,QS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vs,Ze]}],"list-image":[{"list-image":["none",Ze]}],"list-style-type":[{list:["none","disc","decimal",Ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vs,xl]}],"underline-offset":[{"underline-offset":["auto",vs,Ze]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),Use]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Bse]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zse]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:B()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[vs,Ze]}],"outline-w":[{outline:[vs,xl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[vs,xl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",wl,Wse]}],"shadow-color":[{shadow:[Hp]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",wl,Ze]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ze]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",Ze]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Wp,Ze]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ze]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ze]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ze]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[vs,xl,QS]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Yse=Pse(Kse);function je(...t){return Yse(gt(t))}const Ss={light:()=>{navigator.vibrate&&navigator.vibrate(25)},medium:()=>{navigator.vibrate&&navigator.vibrate(50)},heavy:()=>{navigator.vibrate&&navigator.vibrate(75)},success:()=>{navigator.vibrate&&navigator.vibrate([25,50,75])},error:()=>{navigator.vibrate&&navigator.vibrate([75,50,75])},warning:()=>{navigator.vibrate&&navigator.vibrate([50,30,50])},notification:()=>{navigator.vibrate&&navigator.vibrate([25,50,25])},longPress:()=>{navigator.vibrate&&navigator.vibrate([30,30,60])},custom:t=>{navigator.vibrate&&navigator.vibrate(t)}},Xse=Loe,IV=b.forwardRef(({className:t,...e},r)=>c.jsx(lV,{ref:r,className:je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));IV.displayName=lV.displayName;const Qse=Vh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),PV=b.forwardRef(({className:t,variant:e,...r},n)=>c.jsx(cV,{ref:n,className:je(Qse({variant:e}),t),...r}));PV.displayName=cV.displayName;const Zse=b.forwardRef(({className:t,...e},r)=>c.jsx(fV,{ref:r,className:je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Zse.displayName=fV.displayName;const OV=b.forwardRef(({className:t,...e},r)=>c.jsx(hV,{ref:r,className:je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(Mi,{className:"h-4 w-4"})}));OV.displayName=hV.displayName;const jV=b.forwardRef(({className:t,...e},r)=>c.jsx(uV,{ref:r,className:je("text-sm font-semibold",t),...e}));jV.displayName=uV.displayName;const kV=b.forwardRef(({className:t,...e},r)=>c.jsx(dV,{ref:r,className:je("text-sm opacity-90",t),...e}));kV.displayName=dV.displayName;function Jse(){const{toasts:t}=cn();return c.jsxs(Xse,{children:[t.map(function({id:e,title:r,description:n,action:i,...a}){return c.jsxs(PV,{...a,children:[c.jsxs("div",{className:"grid gap-1",children:[r&&c.jsx(jV,{children:r}),n&&c.jsx(kV,{children:n})]}),i,c.jsx(OV,{})]},e)}),c.jsx(IV,{})]})}var ele=t=>{switch(t){case"success":return nle;case"info":return ale;case"warning":return ile;case"error":return ole;default:return null}},tle=Array(12).fill(0),rle=({visible:t})=>D.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},D.createElement("div",{className:"sonner-spinner"},tle.map((e,r)=>D.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),nle=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ile=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ale=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ole=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),sle=()=>{let[t,e]=D.useState(document.hidden);return D.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},GC=1,lle=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;let{message:n,...i}=e,a=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:GC++,o=this.toasts.find(l=>l.id===a),s=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:n}),{...l,...e,id:a,dismissible:s,title:n}):l):this.addToast({title:n,...i,dismissible:s,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:e,dismiss:!0})),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let i=e instanceof Promise?e:e(),a=n!==void 0;return i.then(async o=>{if(ule(o)&&!o.ok){a=!1;let s=typeof r.error=="function"?await r.error(`HTTP error! status: ${o.status}`):r.error,l=typeof r.description=="function"?await r.description(`HTTP error! status: ${o.status}`):r.description;this.create({id:n,type:"error",message:s,description:l})}else if(r.success!==void 0){a=!1;let s=typeof r.success=="function"?await r.success(o):r.success,l=typeof r.description=="function"?await r.description(o):r.description;this.create({id:n,type:"success",message:s,description:l})}}).catch(async o=>{if(r.error!==void 0){a=!1;let s=typeof r.error=="function"?await r.error(o):r.error,l=typeof r.description=="function"?await r.description(o):r.description;this.create({id:n,type:"error",message:s,description:l})}}).finally(()=>{var o;a&&(this.dismiss(n),n=void 0),(o=r.finally)==null||o.call(r)}),n},this.custom=(e,r)=>{let n=(r==null?void 0:r.id)||GC++;return this.create({jsx:e(n),id:n,...r}),n},this.subscribers=[],this.toasts=[]}},Ji=new lle,cle=(t,e)=>{let r=(e==null?void 0:e.id)||GC++;return Ji.addToast({title:t,...e,id:r}),r},ule=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",dle=cle,fle=()=>Ji.toasts,Gm=Object.assign(dle,{success:Ji.success,info:Ji.info,warning:Ji.warning,error:Ji.error,custom:Ji.custom,message:Ji.message,promise:Ji.promise,dismiss:Ji.dismiss,loading:Ji.loading},{getHistory:fle});function hle(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}hle(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ty(t){return t.label!==void 0}var ple=3,mle="32px",gle=4e3,vle=356,yle=14,xle=20,wle=200;function ble(...t){return t.filter(Boolean).join(" ")}var _le=t=>{var e,r,n,i,a,o,s,l,u,d;let{invert:f,toast:h,unstyled:p,interacting:m,setHeights:g,visibleToasts:v,heights:x,index:y,toasts:w,expanded:S,removeToast:E,defaultRichColors:C,closeButton:A,style:T,cancelButtonStyle:N,actionButtonStyle:I,className:j="",descriptionClassName:O="",duration:P,position:M,gap:F,loadingIcon:B,expandByDefault:W,classNames:$,icons:U,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:H,cn:Y}=t,[Q,ue]=D.useState(!1),[de,he]=D.useState(!1),[pe,J]=D.useState(!1),[re,L]=D.useState(!1),[q,G]=D.useState(0),[ye,me]=D.useState(0),ie=D.useRef(null),ne=D.useRef(null),Oe=y===0,Z=y+1<=v,le=h.type,xe=h.dismissible!==!1,it=h.className||"",yr=h.descriptionClassName||"",Wt=D.useMemo(()=>x.findIndex(Ae=>Ae.toastId===h.id)||0,[x,h.id]),Ht=D.useMemo(()=>{var Ae;return(Ae=h.closeButton)!=null?Ae:A},[h.closeButton,A]),Sn=D.useMemo(()=>h.duration||P||gle,[h.duration,P]),Zt=D.useRef(0),Dt=D.useRef(0),Xi=D.useRef(0),ya=D.useRef(null),[hl,Ep]=M.split("-"),Ka=D.useMemo(()=>x.reduce((Ae,$e,qe)=>qe>=Wt?Ae:Ae+$e.height,0),[x,Wt]),pl=sle(),Yc=h.invert||f,Oo=le==="loading";Dt.current=D.useMemo(()=>Wt*F+Ka,[Wt,Ka]),D.useEffect(()=>{ue(!0)},[]),D.useLayoutEffect(()=>{if(!Q)return;let Ae=ne.current,$e=Ae.style.height;Ae.style.height="auto";let qe=Ae.getBoundingClientRect().height;Ae.style.height=$e,me(qe),g(Tt=>Tt.find(Kr=>Kr.toastId===h.id)?Tt.map(Kr=>Kr.toastId===h.id?{...Kr,height:qe}:Kr):[{toastId:h.id,height:qe,position:h.position},...Tt])},[Q,h.title,h.description,g,h.id]);let xa=D.useCallback(()=>{he(!0),G(Dt.current),g(Ae=>Ae.filter($e=>$e.toastId!==h.id)),setTimeout(()=>{E(h)},wle)},[h,E,g,Dt]);D.useEffect(()=>{if(h.promise&&le==="loading"||h.duration===1/0||h.type==="loading")return;let Ae,$e=Sn;return S||m||H&&pl?(()=>{if(Xi.current<Zt.current){let qe=new Date().getTime()-Zt.current;$e=$e-qe}Xi.current=new Date().getTime()})():$e!==1/0&&(Zt.current=new Date().getTime(),Ae=setTimeout(()=>{var qe;(qe=h.onAutoClose)==null||qe.call(h,h),xa()},$e)),()=>clearTimeout(Ae)},[S,m,W,h,Sn,xa,h.promise,le,H,pl]),D.useEffect(()=>{let Ae=ne.current;if(Ae){let $e=Ae.getBoundingClientRect().height;return me($e),g(qe=>[{toastId:h.id,height:$e,position:h.position},...qe]),()=>g(qe=>qe.filter(Tt=>Tt.toastId!==h.id))}},[g,h.id]),D.useEffect(()=>{h.delete&&xa()},[xa,h.delete]);function ve(){return U!=null&&U.loading?D.createElement("div",{className:"sonner-loader","data-visible":le==="loading"},U.loading):B?D.createElement("div",{className:"sonner-loader","data-visible":le==="loading"},B):D.createElement(rle,{visible:le==="loading"})}return D.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ne,className:Y(j,it,$==null?void 0:$.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,$==null?void 0:$.default,$==null?void 0:$[le],(r=h==null?void 0:h.classNames)==null?void 0:r[le]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:C,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":Q,"data-promise":!!h.promise,"data-removed":de,"data-visible":Z,"data-y-position":hl,"data-x-position":Ep,"data-index":y,"data-front":Oe,"data-swiping":pe,"data-dismissible":xe,"data-type":le,"data-invert":Yc,"data-swipe-out":re,"data-expanded":!!(S||W&&Q),style:{"--index":y,"--toasts-before":y,"--z-index":w.length-y,"--offset":`${de?q:Dt.current}px`,"--initial-height":W?"auto":`${ye}px`,...T,...h.style},onPointerDown:Ae=>{Oo||!xe||(ie.current=new Date,G(Dt.current),Ae.target.setPointerCapture(Ae.pointerId),Ae.target.tagName!=="BUTTON"&&(J(!0),ya.current={x:Ae.clientX,y:Ae.clientY}))},onPointerUp:()=>{var Ae,$e,qe,Tt;if(re||!xe)return;ya.current=null;let Kr=Number(((Ae=ne.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount").replace("px",""))||0),li=new Date().getTime()-(($e=ie.current)==null?void 0:$e.getTime()),ps=Math.abs(Kr)/li;if(Math.abs(Kr)>=xle||ps>.11){G(Dt.current),(qe=h.onDismiss)==null||qe.call(h,h),xa(),L(!0);return}(Tt=ne.current)==null||Tt.style.setProperty("--swipe-amount","0px"),J(!1)},onPointerMove:Ae=>{var $e;if(!ya.current||!xe)return;let qe=Ae.clientY-ya.current.y,Tt=Ae.clientX-ya.current.x,Kr=(hl==="top"?Math.min:Math.max)(0,qe),li=Ae.pointerType==="touch"?10:2;Math.abs(Kr)>li?($e=ne.current)==null||$e.style.setProperty("--swipe-amount",`${qe}px`):Math.abs(Tt)>li&&(ya.current=null)}},Ht&&!h.jsx?D.createElement("button",{"aria-label":X,"data-disabled":Oo,"data-close-button":!0,onClick:Oo||!xe?()=>{}:()=>{var Ae;xa(),(Ae=h.onDismiss)==null||Ae.call(h,h)},className:Y($==null?void 0:$.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},D.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),D.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||D.isValidElement(h.title)?h.jsx||h.title:D.createElement(D.Fragment,null,le||h.icon||h.promise?D.createElement("div",{"data-icon":"",className:Y($==null?void 0:$.icon,(a=h==null?void 0:h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||ve():null,h.type!=="loading"?h.icon||(U==null?void 0:U[le])||ele(le):null):null,D.createElement("div",{"data-content":"",className:Y($==null?void 0:$.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},D.createElement("div",{"data-title":"",className:Y($==null?void 0:$.title,(s=h==null?void 0:h.classNames)==null?void 0:s.title)},h.title),h.description?D.createElement("div",{"data-description":"",className:Y(O,yr,$==null?void 0:$.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),D.isValidElement(h.cancel)?h.cancel:h.cancel&&Ty(h.cancel)?D.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||N,onClick:Ae=>{var $e,qe;Ty(h.cancel)&&xe&&((qe=($e=h.cancel).onClick)==null||qe.call($e,Ae),xa())},className:Y($==null?void 0:$.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,D.isValidElement(h.action)?h.action:h.action&&Ty(h.action)?D.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||I,onClick:Ae=>{var $e,qe;Ty(h.action)&&(Ae.defaultPrevented||((qe=($e=h.action).onClick)==null||qe.call($e,Ae),xa()))},className:Y($==null?void 0:$.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function yD(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var Sle=t=>{let{invert:e,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:i,closeButton:a,className:o,offset:s,theme:l="light",richColors:u,duration:d,style:f,visibleToasts:h=ple,toastOptions:p,dir:m=yD(),gap:g=yle,loadingIcon:v,icons:x,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:w,cn:S=ble}=t,[E,C]=D.useState([]),A=D.useMemo(()=>Array.from(new Set([r].concat(E.filter(H=>H.position).map(H=>H.position)))),[E,r]),[T,N]=D.useState([]),[I,j]=D.useState(!1),[O,P]=D.useState(!1),[M,F]=D.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=D.useRef(null),W=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=D.useRef(null),U=D.useRef(!1),X=D.useCallback(H=>{var Y;(Y=E.find(Q=>Q.id===H.id))!=null&&Y.delete||Ji.dismiss(H.id),C(Q=>Q.filter(({id:ue})=>ue!==H.id))},[E]);return D.useEffect(()=>Ji.subscribe(H=>{if(H.dismiss){C(Y=>Y.map(Q=>Q.id===H.id?{...Q,delete:!0}:Q));return}setTimeout(()=>{Hb.flushSync(()=>{C(Y=>{let Q=Y.findIndex(ue=>ue.id===H.id);return Q!==-1?[...Y.slice(0,Q),{...Y[Q],...H},...Y.slice(Q+1)]:[H,...Y]})})})}),[]),D.useEffect(()=>{if(l!=="system"){F(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:H})=>{F(H?"dark":"light")})},[l]),D.useEffect(()=>{E.length<=1&&j(!1)},[E]),D.useEffect(()=>{let H=Y=>{var Q,ue;n.every(de=>Y[de]||Y.code===de)&&(j(!0),(Q=B.current)==null||Q.focus()),Y.code==="Escape"&&(document.activeElement===B.current||(ue=B.current)!=null&&ue.contains(document.activeElement))&&j(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[n]),D.useEffect(()=>{if(B.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,U.current=!1)}},[B.current]),E.length?D.createElement("section",{"aria-label":`${y} ${W}`,tabIndex:-1},A.map((H,Y)=>{var Q;let[ue,de]=H.split("-");return D.createElement("ol",{key:H,dir:m==="auto"?yD():m,tabIndex:-1,ref:B,className:o,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":ue,"data-x-position":de,style:{"--front-toast-height":`${((Q=T[0])==null?void 0:Q.height)||0}px`,"--offset":typeof s=="number"?`${s}px`:s||mle,"--width":`${vle}px`,"--gap":`${g}px`,...f},onBlur:he=>{U.current&&!he.currentTarget.contains(he.relatedTarget)&&(U.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||U.current||(U.current=!0,$.current=he.relatedTarget)},onMouseEnter:()=>j(!0),onMouseMove:()=>j(!0),onMouseLeave:()=>{O||j(!1)},onPointerDown:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},E.filter(he=>!he.position&&Y===0||he.position===H).map((he,pe)=>{var J,re;return D.createElement(_le,{key:he.id,icons:x,index:pe,toast:he,defaultRichColors:u,duration:(J=p==null?void 0:p.duration)!=null?J:d,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:e,visibleToasts:h,closeButton:(re=p==null?void 0:p.closeButton)!=null?re:a,interacting:O,position:H,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:X,toasts:E.filter(L=>L.position==he.position),heights:T.filter(L=>L.position==he.position),setHeights:N,expandByDefault:i,gap:g,loadingIcon:v,expanded:I,pauseWhenPageIsHidden:w,cn:S})}))})):null};const Ele=({...t})=>{const[e,r]=b.useState("system");return b.useEffect(()=>{const n=document.documentElement.classList.contains("dark"),i=window.matchMedia("(prefers-color-scheme: dark)").matches;r(n||i?"dark":"light")},[]),c.jsx(Sle,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Ale=U7.useId||(()=>{}),Cle=0;function yo(t){const[e,r]=b.useState(Ale());return ln(()=>{r(n=>n??String(Cle++))},[t]),e?`radix-${e}`:""}const Tle=["top","right","bottom","left"],mc=Math.min,ra=Math.max,Ix=Math.round,Ny=Math.floor,gc=t=>({x:t,y:t}),Nle={left:"right",right:"left",bottom:"top",top:"bottom"},Ile={start:"end",end:"start"};function qC(t,e,r){return ra(t,mc(e,r))}function Ks(t,e){return typeof t=="function"?t(e):t}function Ys(t){return t.split("-")[0]}function Wh(t){return t.split("-")[1]}function uO(t){return t==="x"?"y":"x"}function dO(t){return t==="y"?"height":"width"}function vc(t){return["top","bottom"].includes(Ys(t))?"y":"x"}function fO(t){return uO(vc(t))}function Ple(t,e,r){r===void 0&&(r=!1);const n=Wh(t),i=fO(t),a=dO(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=Px(o)),[o,Px(o)]}function Ole(t){const e=Px(t);return[KC(t),e,KC(e)]}function KC(t){return t.replace(/start|end/g,e=>Ile[e])}function jle(t,e,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?a:o;default:return[]}}function kle(t,e,r,n){const i=Wh(t);let a=jle(Ys(t),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(KC)))),a}function Px(t){return t.replace(/left|right|bottom|top/g,e=>Nle[e])}function Rle(t){return{top:0,right:0,bottom:0,left:0,...t}}function RV(t){return typeof t!="number"?Rle(t):{top:t,right:t,bottom:t,left:t}}function Ox(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function xD(t,e,r){let{reference:n,floating:i}=t;const a=vc(e),o=fO(e),s=dO(o),l=Ys(e),u=a==="y",d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,h=n[s]/2-i[s]/2;let p;switch(l){case"top":p={x:d,y:n.y-i.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-i.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Wh(e)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const Dle=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=xD(u,n,l),h=n,p={},m=0;for(let g=0;g<s.length;g++){const{name:v,fn:x}=s[g],{x:y,y:w,data:S,reset:E}=await x({x:d,y:f,initialPlacement:n,placement:h,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});d=y??d,f=w??f,p={...p,[v]:{...p[v],...S}},E&&m<=50&&(m++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:d,y:f}=xD(u,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function jg(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:o,elements:s,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Ks(e,t),m=RV(p),v=s[h?f==="floating"?"reference":"floating":f],x=Ox(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:u,rootBoundary:d,strategy:l})),y=f==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),S=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},E=Ox(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:w,strategy:l}):y);return{top:(x.top-E.top+m.top)/S.y,bottom:(E.bottom-x.bottom+m.bottom)/S.y,left:(x.left-E.left+m.left)/S.x,right:(E.right-x.right+m.right)/S.x}}const Mle=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=e,{element:u,padding:d=0}=Ks(t,e)||{};if(u==null)return{};const f=RV(d),h={x:r,y:n},p=fO(i),m=dO(p),g=await o.getDimensions(u),v=p==="y",x=v?"top":"left",y=v?"bottom":"right",w=v?"clientHeight":"clientWidth",S=a.reference[m]+a.reference[p]-h[p]-a.floating[m],E=h[p]-a.reference[p],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let A=C?C[w]:0;(!A||!await(o.isElement==null?void 0:o.isElement(C)))&&(A=s.floating[w]||a.floating[m]);const T=S/2-E/2,N=A/2-g[m]/2-1,I=mc(f[x],N),j=mc(f[y],N),O=I,P=A-g[m]-j,M=A/2-g[m]/2+T,F=qC(O,M,P),B=!l.arrow&&Wh(i)!=null&&M!==F&&a.reference[m]/2-(M<O?I:j)-g[m]/2<0,W=B?M<O?M-O:M-P:0;return{[p]:h[p]+W,data:{[p]:F,centerOffset:M-F-W,...B&&{alignmentOffset:W}},reset:B}}}),Lle=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...v}=Ks(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const x=Ys(i),y=vc(s),w=Ys(s)===s,S=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=h||(w||!g?[Px(s)]:Ole(s)),C=m!=="none";!h&&C&&E.push(...kle(s,g,m,S));const A=[s,...E],T=await jg(e,v),N=[];let I=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&N.push(T[x]),f){const M=Ple(i,o,S);N.push(T[M[0]],T[M[1]])}if(I=[...I,{placement:i,overflows:N}],!N.every(M=>M<=0)){var j,O;const M=(((j=a.flip)==null?void 0:j.index)||0)+1,F=A[M];if(F)return{data:{index:M,overflows:I},reset:{placement:F}};let B=(O=I.filter(W=>W.overflows[0]<=0).sort((W,$)=>W.overflows[1]-$.overflows[1])[0])==null?void 0:O.placement;if(!B)switch(p){case"bestFit":{var P;const W=(P=I.filter($=>{if(C){const U=vc($.placement);return U===y||U==="y"}return!0}).map($=>[$.placement,$.overflows.filter(U=>U>0).reduce((U,X)=>U+X,0)]).sort(($,U)=>$[1]-U[1])[0])==null?void 0:P[0];W&&(B=W);break}case"initialPlacement":B=s;break}if(i!==B)return{reset:{placement:B}}}return{}}}};function wD(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function bD(t){return Tle.some(e=>t[e]>=0)}const $le=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Ks(t,e);switch(n){case"referenceHidden":{const a=await jg(e,{...i,elementContext:"reference"}),o=wD(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:bD(o)}}}case"escaped":{const a=await jg(e,{...i,altBoundary:!0}),o=wD(a,r.floating);return{data:{escapedOffsets:o,escaped:bD(o)}}}default:return{}}}}};async function Fle(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Ys(r),s=Wh(r),l=vc(r)==="y",u=["left","top"].includes(o)?-1:1,d=a&&l?-1:1,f=Ks(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof m=="number"&&(p=s==="end"?m*-1:m),l?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const Ble=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:o,middlewareData:s}=e,l=await Fle(e,t);return o===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},Ule=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:v=>{let{x,y}=v;return{x,y}}},...l}=Ks(t,e),u={x:r,y:n},d=await jg(e,l),f=vc(Ys(i)),h=uO(f);let p=u[h],m=u[f];if(a){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=p+d[v],w=p-d[x];p=qC(y,p,w)}if(o){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=m+d[v],w=m-d[x];m=qC(y,m,w)}const g=s.fn({...e,[h]:p,[f]:m});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:a,[f]:o}}}}}},Vle=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=e,{offset:s=0,mainAxis:l=!0,crossAxis:u=!0}=Ks(t,e),d={x:r,y:n},f=vc(i),h=uO(f);let p=d[h],m=d[f];const g=Ks(s,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const w=h==="y"?"height":"width",S=a.reference[h]-a.floating[w]+v.mainAxis,E=a.reference[h]+a.reference[w]-v.mainAxis;p<S?p=S:p>E&&(p=E)}if(u){var x,y;const w=h==="y"?"width":"height",S=["top","left"].includes(Ys(i)),E=a.reference[f]-a.floating[w]+(S&&((x=o.offset)==null?void 0:x[f])||0)+(S?0:v.crossAxis),C=a.reference[f]+a.reference[w]+(S?0:((y=o.offset)==null?void 0:y[f])||0)-(S?v.crossAxis:0);m<E?m=E:m>C&&(m=C)}return{[h]:p,[f]:m}}}},zle=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:o,elements:s}=e,{apply:l=()=>{},...u}=Ks(t,e),d=await jg(e,u),f=Ys(i),h=Wh(i),p=vc(i)==="y",{width:m,height:g}=a.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(x=f,v=h==="end"?"top":"bottom");const y=g-d.top-d.bottom,w=m-d.left-d.right,S=mc(g-d[v],y),E=mc(m-d[x],w),C=!e.middlewareData.shift;let A=S,T=E;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(T=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(A=y),C&&!h){const I=ra(d.left,0),j=ra(d.right,0),O=ra(d.top,0),P=ra(d.bottom,0);p?T=m-2*(I!==0||j!==0?I+j:ra(d.left,d.right)):A=g-2*(O!==0||P!==0?O+P:ra(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:A});const N=await o.getDimensions(s.floating);return m!==N.width||g!==N.height?{reset:{rects:!0}}:{}}}};function Jb(){return typeof window<"u"}function Hh(t){return DV(t)?(t.nodeName||"").toLowerCase():"#document"}function la(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function us(t){var e;return(e=(DV(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function DV(t){return Jb()?t instanceof Node||t instanceof la(t).Node:!1}function So(t){return Jb()?t instanceof Element||t instanceof la(t).Element:!1}function rs(t){return Jb()?t instanceof HTMLElement||t instanceof la(t).HTMLElement:!1}function _D(t){return!Jb()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof la(t).ShadowRoot}function l0(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Eo(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function Wle(t){return["table","td","th"].includes(Hh(t))}function e2(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function hO(t){const e=pO(),r=So(t)?Eo(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Hle(t){let e=yc(t);for(;rs(e)&&!Hf(e);){if(hO(e))return e;if(e2(e))return null;e=yc(e)}return null}function pO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Hf(t){return["html","body","#document"].includes(Hh(t))}function Eo(t){return la(t).getComputedStyle(t)}function t2(t){return So(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function yc(t){if(Hh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||_D(t)&&t.host||us(t);return _D(e)?e.host:e}function MV(t){const e=yc(t);return Hf(e)?t.ownerDocument?t.ownerDocument.body:t.body:rs(e)&&l0(e)?e:MV(e)}function kg(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=MV(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),o=la(i);if(a){const s=YC(o);return e.concat(o,o.visualViewport||[],l0(i)?i:[],s&&r?kg(s):[])}return e.concat(i,kg(i,[],r))}function YC(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function LV(t){const e=Eo(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=rs(t),a=i?t.offsetWidth:r,o=i?t.offsetHeight:n,s=Ix(r)!==a||Ix(n)!==o;return s&&(r=a,n=o),{width:r,height:n,$:s}}function mO(t){return So(t)?t:t.contextElement}function Cf(t){const e=mO(t);if(!rs(e))return gc(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=LV(e);let o=(a?Ix(r.width):r.width)/n,s=(a?Ix(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const Gle=gc(0);function $V(t){const e=la(t);return!pO()||!e.visualViewport?Gle:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function qle(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==la(t)?!1:e}function Wu(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=mO(t);let o=gc(1);e&&(n?So(n)&&(o=Cf(n)):o=Cf(t));const s=qle(a,r,n)?$V(a):gc(0);let l=(i.left+s.x)/o.x,u=(i.top+s.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(a){const h=la(a),p=n&&So(n)?la(n):n;let m=h,g=YC(m);for(;g&&n&&p!==m;){const v=Cf(g),x=g.getBoundingClientRect(),y=Eo(g),w=x.left+(g.clientLeft+parseFloat(y.paddingLeft))*v.x,S=x.top+(g.clientTop+parseFloat(y.paddingTop))*v.y;l*=v.x,u*=v.y,d*=v.x,f*=v.y,l+=w,u+=S,m=la(g),g=YC(m)}}return Ox({width:d,height:f,x:l,y:u})}function Kle(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",o=us(n),s=e?e2(e.floating):!1;if(n===o||s&&a)return r;let l={scrollLeft:0,scrollTop:0},u=gc(1);const d=gc(0),f=rs(n);if((f||!f&&!a)&&((Hh(n)!=="body"||l0(o))&&(l=t2(n)),rs(n))){const h=Wu(n);u=Cf(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x,y:r.y*u.y-l.scrollTop*u.y+d.y}}function Yle(t){return Array.from(t.getClientRects())}function XC(t,e){const r=t2(t).scrollLeft;return e?e.left+r:Wu(us(t)).left+r}function Xle(t){const e=us(t),r=t2(t),n=t.ownerDocument.body,i=ra(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=ra(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+XC(t);const s=-r.scrollTop;return Eo(n).direction==="rtl"&&(o+=ra(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:s}}function Qle(t,e){const r=la(t),n=us(t),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const u=pO();(!u||u&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}function Zle(t,e){const r=Wu(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=rs(t)?Cf(t):gc(1),o=t.clientWidth*a.x,s=t.clientHeight*a.y,l=i*a.x,u=n*a.y;return{width:o,height:s,x:l,y:u}}function SD(t,e,r){let n;if(e==="viewport")n=Qle(t,r);else if(e==="document")n=Xle(us(t));else if(So(e))n=Zle(e,r);else{const i=$V(t);n={...e,x:e.x-i.x,y:e.y-i.y}}return Ox(n)}function FV(t,e){const r=yc(t);return r===e||!So(r)||Hf(r)?!1:Eo(r).position==="fixed"||FV(r,e)}function Jle(t,e){const r=e.get(t);if(r)return r;let n=kg(t,[],!1).filter(s=>So(s)&&Hh(s)!=="body"),i=null;const a=Eo(t).position==="fixed";let o=a?yc(t):t;for(;So(o)&&!Hf(o);){const s=Eo(o),l=hO(o);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||l0(o)&&!l&&FV(t,o))?n=n.filter(d=>d!==o):i=s,o=yc(o)}return e.set(t,n),n}function ece(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?e2(e)?[]:Jle(e,this._c):[].concat(r),n],s=o[0],l=o.reduce((u,d)=>{const f=SD(e,d,i);return u.top=ra(f.top,u.top),u.right=mc(f.right,u.right),u.bottom=mc(f.bottom,u.bottom),u.left=ra(f.left,u.left),u},SD(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function tce(t){const{width:e,height:r}=LV(t);return{width:e,height:r}}function rce(t,e,r){const n=rs(e),i=us(e),a=r==="fixed",o=Wu(t,!0,a,e);let s={scrollLeft:0,scrollTop:0};const l=gc(0);if(n||!n&&!a)if((Hh(e)!=="body"||l0(i))&&(s=t2(e)),n){const p=Wu(e,!0,a,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&(l.x=XC(i));let u=0,d=0;if(i&&!n&&!a){const p=i.getBoundingClientRect();d=p.top+s.scrollTop,u=p.left+s.scrollLeft-XC(i,p)}const f=o.left+s.scrollLeft-l.x-u,h=o.top+s.scrollTop-l.y-d;return{x:f,y:h,width:o.width,height:o.height}}function ZS(t){return Eo(t).position==="static"}function ED(t,e){if(!rs(t)||Eo(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return us(t)===r&&(r=r.ownerDocument.body),r}function BV(t,e){const r=la(t);if(e2(t))return r;if(!rs(t)){let i=yc(t);for(;i&&!Hf(i);){if(So(i)&&!ZS(i))return i;i=yc(i)}return r}let n=ED(t,e);for(;n&&Wle(n)&&ZS(n);)n=ED(n,e);return n&&Hf(n)&&ZS(n)&&!hO(n)?r:n||Hle(t)||r}const nce=async function(t){const e=this.getOffsetParent||BV,r=this.getDimensions,n=await r(t.floating);return{reference:rce(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function ice(t){return Eo(t).direction==="rtl"}const ace={convertOffsetParentRelativeRectToViewportRelativeRect:Kle,getDocumentElement:us,getClippingRect:ece,getOffsetParent:BV,getElementRects:nce,getClientRects:Yle,getDimensions:tce,getScale:Cf,isElement:So,isRTL:ice};function oce(t,e){let r=null,n;const i=us(t);function a(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const{left:u,top:d,width:f,height:h}=t.getBoundingClientRect();if(s||e(),!f||!h)return;const p=Ny(d),m=Ny(i.clientWidth-(u+f)),g=Ny(i.clientHeight-(d+h)),v=Ny(u),y={rootMargin:-p+"px "+-m+"px "+-g+"px "+-v+"px",threshold:ra(0,mc(1,l))||1};let w=!0;function S(E){const C=E[0].intersectionRatio;if(C!==l){if(!w)return o();C?o(!1,C):n=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(S,{...y,root:i.ownerDocument})}catch{r=new IntersectionObserver(S,y)}r.observe(t)}return o(!0),a}function sce(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=mO(t),d=i||a?[...u?kg(u):[],...kg(e)]:[];d.forEach(x=>{i&&x.addEventListener("scroll",r,{passive:!0}),a&&x.addEventListener("resize",r)});const f=u&&s?oce(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(e)})),r()}),u&&!l&&p.observe(u),p.observe(e));let m,g=l?Wu(t):null;l&&v();function v(){const x=Wu(t);g&&(x.x!==g.x||x.y!==g.y||x.width!==g.width||x.height!==g.height)&&r(),g=x,m=requestAnimationFrame(v)}return r(),()=>{var x;d.forEach(y=>{i&&y.removeEventListener("scroll",r),a&&y.removeEventListener("resize",r)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const lce=Ble,cce=Ule,uce=Lle,dce=zle,fce=$le,AD=Mle,hce=Vle,pce=(t,e,r)=>{const n=new Map,i={platform:ace,...r},a={...i.platform,_c:n};return Dle(t,e,{...i,platform:a})};var O1=typeof document<"u"?b.useLayoutEffect:b.useEffect;function jx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!jx(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!jx(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function UV(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function CD(t,e){const r=UV(t);return Math.round(e*r)/r}function JS(t){const e=b.useRef(t);return O1(()=>{e.current=t}),e}function mce(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:l,open:u}=t,[d,f]=b.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=b.useState(n);jx(h,n)||p(n);const[m,g]=b.useState(null),[v,x]=b.useState(null),y=b.useCallback($=>{$!==C.current&&(C.current=$,g($))},[]),w=b.useCallback($=>{$!==A.current&&(A.current=$,x($))},[]),S=a||m,E=o||v,C=b.useRef(null),A=b.useRef(null),T=b.useRef(d),N=l!=null,I=JS(l),j=JS(i),O=JS(u),P=b.useCallback(()=>{if(!C.current||!A.current)return;const $={placement:e,strategy:r,middleware:h};j.current&&($.platform=j.current),pce(C.current,A.current,$).then(U=>{const X={...U,isPositioned:O.current!==!1};M.current&&!jx(T.current,X)&&(T.current=X,pd.flushSync(()=>{f(X)}))})},[h,e,r,j,O]);O1(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f($=>({...$,isPositioned:!1})))},[u]);const M=b.useRef(!1);O1(()=>(M.current=!0,()=>{M.current=!1}),[]),O1(()=>{if(S&&(C.current=S),E&&(A.current=E),S&&E){if(I.current)return I.current(S,E,P);P()}},[S,E,P,I,N]);const F=b.useMemo(()=>({reference:C,floating:A,setReference:y,setFloating:w}),[y,w]),B=b.useMemo(()=>({reference:S,floating:E}),[S,E]),W=b.useMemo(()=>{const $={position:r,left:0,top:0};if(!B.floating)return $;const U=CD(B.floating,d.x),X=CD(B.floating,d.y);return s?{...$,transform:"translate("+U+"px, "+X+"px)",...UV(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:U,top:X}},[r,s,B.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:P,refs:F,elements:B,floatingStyles:W}),[d,P,F,B,W])}const gce=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?AD({element:n.current,padding:i}).fn(r):{}:n?AD({element:n,padding:i}).fn(r):{}}}},vce=(t,e)=>({...lce(t),options:[t,e]}),yce=(t,e)=>({...cce(t),options:[t,e]}),xce=(t,e)=>({...hce(t),options:[t,e]}),wce=(t,e)=>({...uce(t),options:[t,e]}),bce=(t,e)=>({...dce(t),options:[t,e]}),_ce=(t,e)=>({...fce(t),options:[t,e]}),Sce=(t,e)=>({...gce(t),options:[t,e]});var Ece="Arrow",VV=b.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return c.jsx(Le.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});VV.displayName=Ece;var Ace=VV;function Cce(t,e=[]){let r=[];function n(a,o){const s=b.createContext(o),l=r.length;r=[...r,o];function u(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||s,v=b.useMemo(()=>m,Object.values(m));return c.jsx(g.Provider,{value:v,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||s,m=b.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const i=()=>{const a=r.map(o=>b.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return b.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,Tce(i,...e)]}function Tce(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:u})=>{const f=l(a)[`__scope${u}`];return{...s,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function gO(t){const[e,r]=b.useState(void 0);return ln(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,s;if("borderBoxSize"in a){const l=a.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,s=u.blockSize}else o=t.offsetWidth,s=t.offsetHeight;r({width:o,height:s})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var vO="Popper",[zV,Dc]=Cce(vO),[Nce,WV]=zV(vO),HV=t=>{const{__scopePopper:e,children:r}=t,[n,i]=b.useState(null);return c.jsx(Nce,{scope:e,anchor:n,onAnchorChange:i,children:r})};HV.displayName=vO;var GV="PopperAnchor",qV=b.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=WV(GV,r),o=b.useRef(null),s=et(e,o);return b.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:c.jsx(Le.div,{...i,ref:s})});qV.displayName=GV;var yO="PopperContent",[Ice,Pce]=zV(yO),KV=b.forwardRef((t,e)=>{var pe,J,re,L,q,G;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:m,...g}=t,v=WV(yO,r),[x,y]=b.useState(null),w=et(e,ye=>y(ye)),[S,E]=b.useState(null),C=gO(S),A=(C==null?void 0:C.width)??0,T=(C==null?void 0:C.height)??0,N=n+(a!=="center"?"-"+a:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},j=Array.isArray(u)?u:[u],O=j.length>0,P={padding:I,boundary:j.filter(jce),altBoundary:O},{refs:M,floatingStyles:F,placement:B,isPositioned:W,middlewareData:$}=mce({strategy:"fixed",placement:N,whileElementsMounted:(...ye)=>sce(...ye,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[vce({mainAxis:i+T,alignmentAxis:o}),l&&yce({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?xce():void 0,...P}),l&&wce({...P}),bce({...P,apply:({elements:ye,rects:me,availableWidth:ie,availableHeight:ne})=>{const{width:Oe,height:Z}=me.reference,le=ye.floating.style;le.setProperty("--radix-popper-available-width",`${ie}px`),le.setProperty("--radix-popper-available-height",`${ne}px`),le.setProperty("--radix-popper-anchor-width",`${Oe}px`),le.setProperty("--radix-popper-anchor-height",`${Z}px`)}}),S&&Sce({element:S,padding:s}),kce({arrowWidth:A,arrowHeight:T}),h&&_ce({strategy:"referenceHidden",...P})]}),[U,X]=QV(B),H=hr(m);ln(()=>{W&&(H==null||H())},[W,H]);const Y=(pe=$.arrow)==null?void 0:pe.x,Q=(J=$.arrow)==null?void 0:J.y,ue=((re=$.arrow)==null?void 0:re.centerOffset)!==0,[de,he]=b.useState();return ln(()=>{x&&he(window.getComputedStyle(x).zIndex)},[x]),c.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:W?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[(L=$.transformOrigin)==null?void 0:L.x,(q=$.transformOrigin)==null?void 0:q.y].join(" "),...((G=$.hide)==null?void 0:G.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(Ice,{scope:r,placedSide:U,onArrowChange:E,arrowX:Y,arrowY:Q,shouldHideArrow:ue,children:c.jsx(Le.div,{"data-side":U,"data-align":X,...g,ref:w,style:{...g.style,animation:W?void 0:"none"}})})})});KV.displayName=yO;var YV="PopperArrow",Oce={top:"bottom",right:"left",bottom:"top",left:"right"},XV=b.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=Pce(YV,n),o=Oce[a.placedSide];return c.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:c.jsx(Ace,{...i,ref:r,style:{...i.style,display:"block"}})})});XV.displayName=YV;function jce(t){return t!==null}var kce=t=>({name:"transformOrigin",options:t,fn(e){var v,x,y;const{placement:r,rects:n,middlewareData:i}=e,o=((v=i.arrow)==null?void 0:v.centerOffset)!==0,s=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=QV(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=i.arrow)==null?void 0:x.x)??0)+s/2,p=(((y=i.arrow)==null?void 0:y.y)??0)+l/2;let m="",g="";return u==="bottom"?(m=o?f:`${h}px`,g=`${-l}px`):u==="top"?(m=o?f:`${h}px`,g=`${n.floating.height+l}px`):u==="right"?(m=`${-l}px`,g=o?f:`${p}px`):u==="left"&&(m=`${n.floating.width+l}px`,g=o?f:`${p}px`),{data:{x:m,y:g}}}});function QV(t){const[e,r="center"]=t.split("-");return[e,r]}var xO=HV,c0=qV,r2=KV,n2=XV,[i2,Olt]=Va("Tooltip",[Dc]),wO=Dc(),ZV="TooltipProvider",Rce=700,TD="tooltip.open",[Dce,JV]=i2(ZV),ez=t=>{const{__scopeTooltip:e,delayDuration:r=Rce,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=t,[o,s]=b.useState(!0),l=b.useRef(!1),u=b.useRef(0);return b.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),c.jsx(Dce,{scope:e,isOpenDelayed:o,delayDuration:r,onOpen:b.useCallback(()=>{window.clearTimeout(u.current),s(!1)},[]),onClose:b.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>s(!0),n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};ez.displayName=ZV;var tz="Tooltip",[jlt,a2]=i2(tz),QC="TooltipTrigger",Mce=b.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=a2(QC,r),a=JV(QC,r),o=wO(r),s=b.useRef(null),l=et(e,s,i.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),f=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(c0,{asChild:!0,...o,children:c.jsx(Le.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:be(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:be(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:be(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:be(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:be(t.onBlur,i.onClose),onClick:be(t.onClick,i.onClose)})})});Mce.displayName=QC;var Lce="TooltipPortal",[klt,$ce]=i2(Lce,{forceMount:void 0}),Gf="TooltipContent",rz=b.forwardRef((t,e)=>{const r=$ce(Gf,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=t,o=a2(Gf,t.__scopeTooltip);return c.jsx(bn,{present:n||o.open,children:o.disableHoverableContent?c.jsx(nz,{side:i,...a,ref:e}):c.jsx(Fce,{side:i,...a,ref:e})})}),Fce=b.forwardRef((t,e)=>{const r=a2(Gf,t.__scopeTooltip),n=JV(Gf,t.__scopeTooltip),i=b.useRef(null),a=et(e,i),[o,s]=b.useState(null),{trigger:l,onClose:u}=r,d=i.current,{onPointerInTransitChange:f}=n,h=b.useCallback(()=>{s(null),f(!1)},[f]),p=b.useCallback((m,g)=>{const v=m.currentTarget,x={x:m.clientX,y:m.clientY},y=zce(x,v.getBoundingClientRect()),w=Wce(x,y),S=Hce(g.getBoundingClientRect()),E=qce([...w,...S]);s(E),f(!0)},[f]);return b.useEffect(()=>()=>h(),[h]),b.useEffect(()=>{if(l&&d){const m=v=>p(v,d),g=v=>p(v,l);return l.addEventListener("pointerleave",m),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",m),d.removeEventListener("pointerleave",g)}}},[l,d,p,h]),b.useEffect(()=>{if(o){const m=g=>{const v=g.target,x={x:g.clientX,y:g.clientY},y=(l==null?void 0:l.contains(v))||(d==null?void 0:d.contains(v)),w=!Gce(x,o);y?h():w&&(h(),u())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,d,o,u,h]),c.jsx(nz,{...t,ref:a})}),[Bce,Uce]=i2(tz,{isInside:!1}),nz=b.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...s}=t,l=a2(Gf,r),u=wO(r),{onClose:d}=l;return b.useEffect(()=>(document.addEventListener(TD,d),()=>document.removeEventListener(TD,d)),[d]),b.useEffect(()=>{if(l.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),c.jsx(md,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:c.jsxs(r2,{"data-state":l.stateAttribute,...u,...s,ref:e,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(HU,{children:n}),c.jsx(Bce,{scope:r,isInside:!0,children:c.jsx(xoe,{id:l.contentId,role:"tooltip",children:i||n})})]})})});rz.displayName=Gf;var iz="TooltipArrow",Vce=b.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=wO(r);return Uce(iz,r).isInside?null:c.jsx(n2,{...i,...n,ref:e})});Vce.displayName=iz;function zce(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Wce(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function Hce(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function Gce(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const s=e[a].x,l=e[a].y,u=e[o].x,d=e[o].y;l>n!=d>n&&r<(u-s)*(n-l)/(d-l)+s&&(i=!i)}return i}function qce(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Kce(e)}function Kce(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Yce=ez,az=rz;const Xce=Yce,Qce=b.forwardRef(({className:t,sideOffset:e=4,...r},n)=>c.jsx(az,{ref:n,sideOffset:e,className:je("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));Qce.displayName=az.displayName;/**
 * @remix-run/router v1.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rg(){return Rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rg.apply(this,arguments)}var Vl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vl||(Vl={}));const ND="popstate";function Zce(t){t===void 0&&(t={});function e(i,a){let{pathname:o="/",search:s="",hash:l=""}=gd(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),ZC("",{pathname:o,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let o=i.document.querySelector("base"),s="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");s=u===-1?l:l.slice(0,u)}return s+"#"+(typeof a=="string"?a:kx(a))}function n(i,a){o2(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return eue(e,r,n,t)}function $r(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function o2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jce(){return Math.random().toString(36).substr(2,8)}function ID(t,e){return{usr:t.state,key:t.key,idx:e}}function ZC(t,e,r,n){return r===void 0&&(r=null),Rg({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?gd(e):e,{state:r,key:e&&e.key||n||Jce()})}function kx(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function gd(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function eue(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s=Vl.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Rg({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){s=Vl.Pop;let v=d(),x=v==null?null:v-u;u=v,l&&l({action:s,location:g.location,delta:x})}function h(v,x){s=Vl.Push;let y=ZC(g.location,v,x);r&&r(y,v),u=d()+1;let w=ID(y,u),S=g.createHref(y);try{o.pushState(w,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(S)}a&&l&&l({action:s,location:g.location,delta:1})}function p(v,x){s=Vl.Replace;let y=ZC(g.location,v,x);r&&r(y,v),u=d();let w=ID(y,u),S=g.createHref(y);o.replaceState(w,"",S),a&&l&&l({action:s,location:g.location,delta:0})}function m(v){let x=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof v=="string"?v:kx(v);return $r(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let g={get action(){return s},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ND,f),l=v,()=>{i.removeEventListener(ND,f),l=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let x=m(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(v){return o.go(v)}};return g}var PD;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(PD||(PD={}));function tue(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?gd(e):e,i=bO(n.pathname||"/",r);if(i==null)return null;let a=oz(t);rue(a);let o=null;for(let s=0;o==null&&s<a.length;++s)o=due(a[s],pue(i));return o}function oz(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&($r(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=rc([n,l.relativePath]),d=r.concat(l);a.children&&a.children.length>0&&($r(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),oz(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:cue(u,a.index),routesMeta:d})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of sz(a.path))i(a,o,l)}),e}function sz(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=sz(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function rue(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:uue(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const nue=/^:\w+$/,iue=3,aue=2,oue=1,sue=10,lue=-2,OD=t=>t==="*";function cue(t,e){let r=t.split("/"),n=r.length;return r.some(OD)&&(n+=lue),e&&(n+=aue),r.filter(i=>!OD(i)).reduce((i,a)=>i+(nue.test(a)?iue:a===""?oue:sue),n)}function uue(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function due(t,e){let{routesMeta:r}=t,n={},i="/",a=[];for(let o=0;o<r.length;++o){let s=r[o],l=o===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=fue({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!d)return null;Object.assign(n,d.params);let f=s.route;a.push({params:n,pathname:rc([i,d.pathname]),pathnameBase:xue(rc([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=rc([i,d.pathnameBase]))}return a}function fue(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=hue(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=s[f]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=s[f];return p&&!m?u[h]=void 0:u[h]=mue(m||"",h),u},{}),pathname:a,pathnameBase:o,pattern:t}}function hue(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),o2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function pue(t){try{return decodeURI(t)}catch(e){return o2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function mue(t,e){try{return decodeURIComponent(t)}catch(r){return o2(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function bO(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function gue(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?gd(t):t;return{pathname:r?r.startsWith("/")?r:vue(r,e):e,search:wue(n),hash:bue(i)}}function vue(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function eE(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yue(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function _O(t){return yue(t).map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function SO(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=gd(t):(i=Rg({},t),$r(!i.pathname||!i.pathname.includes("?"),eE("?","pathname","search",i)),$r(!i.pathname||!i.pathname.includes("#"),eE("#","pathname","hash",i)),$r(!i.search||!i.search.includes("#"),eE("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else if(n){let f=e[e.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f.pop();i.pathname=h.join("/")}s="/"+f.join("/")}else{let f=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=gue(i,s),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const rc=t=>t.join("/").replace(/\/\/+/g,"/"),xue=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wue=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bue=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _ue(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const lz=["post","put","patch","delete"];new Set(lz);const Sue=["get",...lz];new Set(Sue);/**
 * React Router v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rx(){return Rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rx.apply(this,arguments)}const EO=b.createContext(null),Eue=b.createContext(null),Gh=b.createContext(null),s2=b.createContext(null),sl=b.createContext({outlet:null,matches:[],isDataRoute:!1}),cz=b.createContext(null);function Aue(t,e){let{relative:r}=e===void 0?{}:e;qh()||$r(!1);let{basename:n,navigator:i}=b.useContext(Gh),{hash:a,pathname:o,search:s}=dz(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:rc([n,o])),i.createHref({pathname:l,search:s,hash:a})}function qh(){return b.useContext(s2)!=null}function ds(){return qh()||$r(!1),b.useContext(s2).location}function uz(t){b.useContext(Gh).static||b.useLayoutEffect(t)}function Ki(){let{isDataRoute:t}=b.useContext(sl);return t?Fue():Cue()}function Cue(){qh()||$r(!1);let t=b.useContext(EO),{basename:e,navigator:r}=b.useContext(Gh),{matches:n}=b.useContext(sl),{pathname:i}=ds(),a=JSON.stringify(_O(n)),o=b.useRef(!1);return uz(()=>{o.current=!0}),b.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){r.go(l);return}let d=SO(l,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:rc([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,a,i,t])}function Tue(){let{matches:t}=b.useContext(sl),e=t[t.length-1];return e?e.params:{}}function dz(t,e){let{relative:r}=e===void 0?{}:e,{matches:n}=b.useContext(sl),{pathname:i}=ds(),a=JSON.stringify(_O(n));return b.useMemo(()=>SO(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function Nue(t,e){return Iue(t,e)}function Iue(t,e,r){qh()||$r(!1);let{navigator:n}=b.useContext(Gh),{matches:i}=b.useContext(sl),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let s=a?a.pathnameBase:"/";a&&a.route;let l=ds(),u;if(e){var d;let g=typeof e=="string"?gd(e):e;s==="/"||(d=g.pathname)!=null&&d.startsWith(s)||$r(!1),u=g}else u=l;let f=u.pathname||"/",h=s==="/"?f:f.slice(s.length)||"/",p=tue(t,{pathname:h}),m=Rue(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:rc([s,n.encodeLocation?n.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?s:rc([s,n.encodeLocation?n.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r);return e&&m?b.createElement(s2.Provider,{value:{location:Rx({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Vl.Pop}},m):m}function Pue(){let t=$ue(),e=_ue(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),r?b.createElement("pre",{style:i},r):null,null)}const Oue=b.createElement(Pue,null);class jue extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?b.createElement(sl.Provider,{value:this.props.routeContext},b.createElement(cz.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kue(t){let{routeContext:e,match:r,children:n}=t,i=b.useContext(EO);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(sl.Provider,{value:e},n)}function Rue(t,e,r){var n;if(e===void 0&&(e=[]),r===void 0&&(r=null),t==null){var i;if((i=r)!=null&&i.errors)t=r.matches;else return null}let a=t,o=(n=r)==null?void 0:n.errors;if(o!=null){let s=a.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));s>=0||$r(!1),a=a.slice(0,Math.min(a.length,s+1))}return a.reduceRight((s,l,u)=>{let d=l.route.id?o==null?void 0:o[l.route.id]:null,f=null;r&&(f=l.route.errorElement||Oue);let h=e.concat(a.slice(0,u+1)),p=()=>{let m;return d?m=f:l.route.Component?m=b.createElement(l.route.Component,null):l.route.element?m=l.route.element:m=s,b.createElement(kue,{match:l,routeContext:{outlet:s,matches:h,isDataRoute:r!=null},children:m})};return r&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?b.createElement(jue,{location:r.location,revalidation:r.revalidation,component:f,error:d,children:p(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):p()},null)}var fz=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fz||{}),hz=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(hz||{});function Due(t){let e=b.useContext(EO);return e||$r(!1),e}function Mue(t){let e=b.useContext(Eue);return e||$r(!1),e}function Lue(t){let e=b.useContext(sl);return e||$r(!1),e}function pz(t){let e=Lue(),r=e.matches[e.matches.length-1];return r.route.id||$r(!1),r.route.id}function $ue(){var t;let e=b.useContext(cz),r=Mue(),n=pz();return e||((t=r.errors)==null?void 0:t[n])}function Fue(){let{router:t}=Due(fz.UseNavigateStable),e=pz(hz.UseNavigateStable),r=b.useRef(!1);return uz(()=>{r.current=!0}),b.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Rx({fromRouteId:e},a)))},[t,e])}function AO(t){let{to:e,replace:r,state:n,relative:i}=t;qh()||$r(!1);let{matches:a}=b.useContext(sl),{pathname:o}=ds(),s=Ki(),l=SO(e,_O(a),o,i==="path"),u=JSON.stringify(l);return b.useEffect(()=>s(JSON.parse(u),{replace:r,state:n,relative:i}),[s,u,i,r,n]),null}function Rr(t){$r(!1)}function Bue(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Vl.Pop,navigator:a,static:o=!1}=t;qh()&&$r(!1);let s=e.replace(/^\/*/,"/"),l=b.useMemo(()=>({basename:s,navigator:a,static:o}),[s,a,o]);typeof n=="string"&&(n=gd(n));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:p="default"}=n,m=b.useMemo(()=>{let g=bO(u,s);return g==null?null:{location:{pathname:g,search:d,hash:f,state:h,key:p},navigationType:i}},[s,u,d,f,h,p,i]);return m==null?null:b.createElement(Gh.Provider,{value:l},b.createElement(s2.Provider,{children:r,value:m}))}function Uue(t){let{children:e,location:r}=t;return Nue(JC(e),r)}new Promise(()=>{});function JC(t,e){e===void 0&&(e=[]);let r=[];return b.Children.forEach(t,(n,i)=>{if(!b.isValidElement(n))return;let a=[...e,i];if(n.type===b.Fragment){r.push.apply(r,JC(n.props.children,a));return}n.type!==Rr&&$r(!1),!n.props.index||!n.props.children||$r(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=JC(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eT(){return eT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eT.apply(this,arguments)}function Vue(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function zue(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Wue(t,e){return t.button===0&&(!e||e==="_self")&&!zue(t)}const Hue=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Gue="startTransition",jD=U7[Gue];function que(t){let{basename:e,children:r,future:n,window:i}=t,a=b.useRef();a.current==null&&(a.current=Zce({window:i,v5Compat:!0}));let o=a.current,[s,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=b.useCallback(f=>{u&&jD?jD(()=>l(f)):l(f)},[l,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.createElement(Bue,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:o})}const Kue=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Yue=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,j1=b.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:u,preventScrollReset:d,unstable_viewTransition:f}=e,h=Vue(e,Hue),{basename:p}=b.useContext(Gh),m,g=!1;if(typeof u=="string"&&Yue.test(u)&&(m=u,Kue))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),E=bO(S.pathname,p);S.origin===w.origin&&E!=null?u=E+S.search+S.hash:g=!0}catch{}let v=Aue(u,{relative:i}),x=Xue(u,{replace:o,state:s,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:f});function y(w){n&&n(w),w.defaultPrevented||x(w)}return b.createElement("a",eT({},h,{href:m||v,onClick:g||a?n:y,ref:r,target:l}))});var kD;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(kD||(kD={}));var RD;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(RD||(RD={}));function Xue(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:s}=e===void 0?{}:e,l=Ki(),u=ds(),d=dz(t,{relative:o});return b.useCallback(f=>{if(Wue(f,r)){f.preventDefault();let h=n!==void 0?n:kx(u)===kx(d);l(t,{replace:h,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:s})}},[u,l,d,n,i,r,t,a,o,s])}const Que=()=>{};var DD={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},Zue=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],s=t[r++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},gz={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=a>>2,f=(a&3)<<4|s>>4;let h=(s&15)<<2|u>>6,p=u&63;l||(p=64,o||(h=64)),n.push(r[d],r[f],r[h],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mz(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Zue(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],s=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||s==null||u==null||f==null)throw new Jue;const h=a<<2|s>>4;if(n.push(h),u!==64){const p=s<<4&240|u>>2;if(n.push(p),f!==64){const m=u<<6&192|f;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Jue extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ede=function(t){const e=mz(t);return gz.encodeByteArray(e,!0)},Dx=function(t){return ede(t).replace(/\./g,"")},vz=function(t){try{return gz.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tde(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rde=()=>tde().__FIREBASE_DEFAULTS__,nde=()=>{if(typeof process>"u"||typeof DD>"u")return;const t=DD.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ide=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vz(t[1]);return e&&JSON.parse(e)},l2=()=>{try{return Que()||rde()||nde()||ide()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yz=t=>{var e,r;return(r=(e=l2())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},xz=t=>{const e=yz(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},wz=()=>{var t;return(t=l2())===null||t===void 0?void 0:t.config},bz=t=>{var e;return(e=l2())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ade{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(t){return t.endsWith(".cloudworkstations.dev")}async function CO(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _z(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dx(JSON.stringify(r)),Dx(JSON.stringify(o)),""].join(".")}const qm={};function ode(){const t={prod:[],emulator:[]};for(const e of Object.keys(qm))qm[e]?t.emulator.push(e):t.prod.push(e);return t}function sde(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let MD=!1;function Yh(t,e){if(typeof window>"u"||typeof document>"u"||!Kh(window.location.host)||qm[t]===e||qm[t]||MD)return;qm[t]=e;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",a=ode().prod.length>0;function o(){const h=document.getElementById(n);h&&h.remove()}function s(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{MD=!0,o()},h}function d(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=sde(n),p=r("text"),m=document.getElementById(p)||document.createElement("span"),g=r("learnmore"),v=document.getElementById(g)||document.createElement("a"),x=r("preprendIcon"),y=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;s(w),d(v,g);const S=u();l(y,x),w.append(y,m,v,S),document.body.appendChild(w)}a?(m.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lde(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ri())}function cde(){var t;const e=(t=l2())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ude(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Sz(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dde(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fde(){const t=ri();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hde(){return!cde()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TO(){try{return typeof indexedDB=="object"}catch{return!1}}function NO(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}function Ez(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pde="FirebaseError";class za extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=pde,Object.setPrototypeOf(this,za.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mc.prototype.create)}}class Mc{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?mde(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new za(i,s,n)}}function mde(t,e){return t.replace(gde,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const gde=/\{\$([^}]+)}/g;function vde(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xc(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(LD(a)&&LD(o)){if(!xc(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function LD(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function xm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function wm(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function yde(t,e){const r=new xde(t,e);return r.subscribe.bind(r)}class xde{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");wde(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=tE),i.error===void 0&&(i.error=tE),i.complete===void 0&&(i.complete=tE);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wde(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function tE(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bde=1e3,_de=2,Sde=4*60*60*1e3,Ede=.5;function $D(t,e=bde,r=_de){const n=e*Math.pow(r,t),i=Math.round(Ede*n*(Math.random()-.5)*2);return Math.min(Sde,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(t){return t&&t._delegate?t._delegate:t}class Gi{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ade{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new ade;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Tde(e))try{this.getOrInitializeService({instanceIdentifier:au})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=au){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=au){return this.instances.has(e)}getOptions(e=au){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Cde(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=au){return this.component?this.component.multipleInstances?e:au:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Cde(t){return t===au?void 0:t}function Tde(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nde{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Ade(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ut||(ut={}));const Ide={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},Pde=ut.INFO,Ode={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},jde=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=Ode[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class c2{constructor(e){this.name=e,this._logLevel=Pde,this._logHandler=jde,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ide[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}const kde=(t,e)=>e.some(r=>t instanceof r);let FD,BD;function Rde(){return FD||(FD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dde(){return BD||(BD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Az=new WeakMap,tT=new WeakMap,Cz=new WeakMap,rE=new WeakMap,IO=new WeakMap;function Mde(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(Ms(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&Az.set(r,t)}).catch(()=>{}),IO.set(e,t),e}function Lde(t){if(tT.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});tT.set(t,e)}let rT={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return tT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Cz.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ms(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $de(t){rT=t(rT)}function Fde(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(nE(this),e,...r);return Cz.set(n,e.sort?e.sort():[e]),Ms(n)}:Dde().includes(t)?function(...e){return t.apply(nE(this),e),Ms(Az.get(this))}:function(...e){return Ms(t.apply(nE(this),e))}}function Bde(t){return typeof t=="function"?Fde(t):(t instanceof IDBTransaction&&Lde(t),kde(t,Rde())?new Proxy(t,rT):t)}function Ms(t){if(t instanceof IDBRequest)return Mde(t);if(rE.has(t))return rE.get(t);const e=Bde(t);return e!==t&&(rE.set(t,e),IO.set(e,t)),e}const nE=t=>IO.get(t);function u2(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=Ms(o);return n&&o.addEventListener("upgradeneeded",l=>{n(Ms(o.result),l.oldVersion,l.newVersion,Ms(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}function iE(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",n=>e(n.oldVersion,n)),Ms(r).then(()=>{})}const Ude=["get","getKey","getAll","getAllKeys","count"],Vde=["put","add","delete","clear"],aE=new Map;function UD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(aE.get(e))return aE.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=Vde.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Ude.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(s.shift())),(await Promise.all([u[r](...s),i&&l.done]))[0]};return aE.set(e,a),a}$de(t=>({...t,get:(e,r,n)=>UD(e,r)||t.get(e,r,n),has:(e,r)=>!!UD(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zde{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Wde(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Wde(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nT="@firebase/app",VD="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new c2("@firebase/app"),Hde="@firebase/app-compat",Gde="@firebase/analytics-compat",qde="@firebase/analytics",Kde="@firebase/app-check-compat",Yde="@firebase/app-check",Xde="@firebase/auth",Qde="@firebase/auth-compat",Zde="@firebase/database",Jde="@firebase/data-connect",efe="@firebase/database-compat",tfe="@firebase/functions",rfe="@firebase/functions-compat",nfe="@firebase/installations",ife="@firebase/installations-compat",afe="@firebase/messaging",ofe="@firebase/messaging-compat",sfe="@firebase/performance",lfe="@firebase/performance-compat",cfe="@firebase/remote-config",ufe="@firebase/remote-config-compat",dfe="@firebase/storage",ffe="@firebase/storage-compat",hfe="@firebase/firestore",pfe="@firebase/vertexai",mfe="@firebase/firestore-compat",gfe="firebase",vfe="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="[DEFAULT]",yfe={[nT]:"fire-core",[Hde]:"fire-core-compat",[qde]:"fire-analytics",[Gde]:"fire-analytics-compat",[Yde]:"fire-app-check",[Kde]:"fire-app-check-compat",[Xde]:"fire-auth",[Qde]:"fire-auth-compat",[Zde]:"fire-rtdb",[Jde]:"fire-data-connect",[efe]:"fire-rtdb-compat",[tfe]:"fire-fn",[rfe]:"fire-fn-compat",[nfe]:"fire-iid",[ife]:"fire-iid-compat",[afe]:"fire-fcm",[ofe]:"fire-fcm-compat",[sfe]:"fire-perf",[lfe]:"fire-perf-compat",[cfe]:"fire-rc",[ufe]:"fire-rc-compat",[dfe]:"fire-gcs",[ffe]:"fire-gcs-compat",[hfe]:"fire-fst",[mfe]:"fire-fst-compat",[pfe]:"fire-vertex","fire-js":"fire-js",[gfe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=new Map,xfe=new Map,aT=new Map;function zD(t,e){try{t.container.addComponent(e)}catch(r){Xs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function da(t){const e=t.name;if(aT.has(e))return Xs.debug(`There were multiple attempts to register component ${e}.`),!1;aT.set(e,t);for(const r of Mx.values())zD(r,t);for(const r of xfe.values())zD(r,t);return!0}function ll(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ki(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wfe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nc=new Mc("app","Firebase",wfe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bfe{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=vfe;function Tz(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:iT,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw nc.create("bad-app-name",{appName:String(i)});if(r||(r=wz()),!r)throw nc.create("no-options");const a=Mx.get(i);if(a){if(xc(r,a.options)&&xc(n,a.config))return a;throw nc.create("duplicate-app",{appName:i})}const o=new Nde(i);for(const l of aT.values())o.addComponent(l);const s=new bfe(r,n,o);return Mx.set(i,s),s}function d0(t=iT){const e=Mx.get(t);if(!e&&t===iT&&wz())return Tz();if(!e)throw nc.create("no-app",{appName:t});return e}function Jn(t,e,r){var n;let i=(n=yfe[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xs.warn(s.join(" "));return}da(new Gi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _fe="firebase-heartbeat-database",Sfe=1,Dg="firebase-heartbeat-store";let oE=null;function Nz(){return oE||(oE=u2(_fe,Sfe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Dg)}catch(r){console.warn(r)}}}}).catch(t=>{throw nc.create("idb-open",{originalErrorMessage:t.message})})),oE}async function Efe(t){try{const r=(await Nz()).transaction(Dg),n=await r.objectStore(Dg).get(Iz(t));return await r.done,n}catch(e){if(e instanceof za)Xs.warn(e.message);else{const r=nc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xs.warn(r.message)}}}async function WD(t,e){try{const n=(await Nz()).transaction(Dg,"readwrite");await n.objectStore(Dg).put(e,Iz(t)),await n.done}catch(r){if(r instanceof za)Xs.warn(r.message);else{const n=nc.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Xs.warn(n.message)}}}function Iz(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Afe=1024,Cfe=30;class Tfe{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Ife(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=HD();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Cfe){const o=Pfe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Xs.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=HD(),{heartbeatsToSend:n,unsentEntries:i}=Nfe(this._heartbeatsCache.heartbeats),a=Dx(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Xs.warn(r),""}}}function HD(){return new Date().toISOString().substring(0,10)}function Nfe(t,e=Afe){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),GD(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),GD(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Ife{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TO()?NO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Efe(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return WD(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return WD(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function GD(t){return Dx(JSON.stringify({version:2,heartbeats:t})).length}function Pfe(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ofe(t){da(new Gi("platform-logger",e=>new zde(e),"PRIVATE")),da(new Gi("heartbeat",e=>new Tfe(e),"PRIVATE")),Jn(nT,VD,t),Jn(nT,VD,"esm2017"),Jn("fire-js","")}Ofe("");var jfe="firebase",kfe="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jn(jfe,kfe,"app");var qD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ic,Pz;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,T){function N(){}N.prototype=T.prototype,A.D=T.prototype,A.prototype=new N,A.prototype.constructor=A,A.C=function(I,j,O){for(var P=Array(arguments.length-2),M=2;M<arguments.length;M++)P[M-2]=arguments[M];return T.prototype[j].apply(I,P)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,T,N){N||(N=0);var I=Array(16);if(typeof T=="string")for(var j=0;16>j;++j)I[j]=T.charCodeAt(N++)|T.charCodeAt(N++)<<8|T.charCodeAt(N++)<<16|T.charCodeAt(N++)<<24;else for(j=0;16>j;++j)I[j]=T[N++]|T[N++]<<8|T[N++]<<16|T[N++]<<24;T=A.g[0],N=A.g[1],j=A.g[2];var O=A.g[3],P=T+(O^N&(j^O))+I[0]+3614090360&4294967295;T=N+(P<<7&4294967295|P>>>25),P=O+(j^T&(N^j))+I[1]+3905402710&4294967295,O=T+(P<<12&4294967295|P>>>20),P=j+(N^O&(T^N))+I[2]+606105819&4294967295,j=O+(P<<17&4294967295|P>>>15),P=N+(T^j&(O^T))+I[3]+3250441966&4294967295,N=j+(P<<22&4294967295|P>>>10),P=T+(O^N&(j^O))+I[4]+4118548399&4294967295,T=N+(P<<7&4294967295|P>>>25),P=O+(j^T&(N^j))+I[5]+1200080426&4294967295,O=T+(P<<12&4294967295|P>>>20),P=j+(N^O&(T^N))+I[6]+2821735955&4294967295,j=O+(P<<17&4294967295|P>>>15),P=N+(T^j&(O^T))+I[7]+4249261313&4294967295,N=j+(P<<22&4294967295|P>>>10),P=T+(O^N&(j^O))+I[8]+1770035416&4294967295,T=N+(P<<7&4294967295|P>>>25),P=O+(j^T&(N^j))+I[9]+2336552879&4294967295,O=T+(P<<12&4294967295|P>>>20),P=j+(N^O&(T^N))+I[10]+4294925233&4294967295,j=O+(P<<17&4294967295|P>>>15),P=N+(T^j&(O^T))+I[11]+2304563134&4294967295,N=j+(P<<22&4294967295|P>>>10),P=T+(O^N&(j^O))+I[12]+1804603682&4294967295,T=N+(P<<7&4294967295|P>>>25),P=O+(j^T&(N^j))+I[13]+4254626195&4294967295,O=T+(P<<12&4294967295|P>>>20),P=j+(N^O&(T^N))+I[14]+2792965006&4294967295,j=O+(P<<17&4294967295|P>>>15),P=N+(T^j&(O^T))+I[15]+1236535329&4294967295,N=j+(P<<22&4294967295|P>>>10),P=T+(j^O&(N^j))+I[1]+4129170786&4294967295,T=N+(P<<5&4294967295|P>>>27),P=O+(N^j&(T^N))+I[6]+3225465664&4294967295,O=T+(P<<9&4294967295|P>>>23),P=j+(T^N&(O^T))+I[11]+643717713&4294967295,j=O+(P<<14&4294967295|P>>>18),P=N+(O^T&(j^O))+I[0]+3921069994&4294967295,N=j+(P<<20&4294967295|P>>>12),P=T+(j^O&(N^j))+I[5]+3593408605&4294967295,T=N+(P<<5&4294967295|P>>>27),P=O+(N^j&(T^N))+I[10]+38016083&4294967295,O=T+(P<<9&4294967295|P>>>23),P=j+(T^N&(O^T))+I[15]+3634488961&4294967295,j=O+(P<<14&4294967295|P>>>18),P=N+(O^T&(j^O))+I[4]+3889429448&4294967295,N=j+(P<<20&4294967295|P>>>12),P=T+(j^O&(N^j))+I[9]+568446438&4294967295,T=N+(P<<5&4294967295|P>>>27),P=O+(N^j&(T^N))+I[14]+3275163606&4294967295,O=T+(P<<9&4294967295|P>>>23),P=j+(T^N&(O^T))+I[3]+4107603335&4294967295,j=O+(P<<14&4294967295|P>>>18),P=N+(O^T&(j^O))+I[8]+1163531501&4294967295,N=j+(P<<20&4294967295|P>>>12),P=T+(j^O&(N^j))+I[13]+2850285829&4294967295,T=N+(P<<5&4294967295|P>>>27),P=O+(N^j&(T^N))+I[2]+4243563512&4294967295,O=T+(P<<9&4294967295|P>>>23),P=j+(T^N&(O^T))+I[7]+1735328473&4294967295,j=O+(P<<14&4294967295|P>>>18),P=N+(O^T&(j^O))+I[12]+2368359562&4294967295,N=j+(P<<20&4294967295|P>>>12),P=T+(N^j^O)+I[5]+4294588738&4294967295,T=N+(P<<4&4294967295|P>>>28),P=O+(T^N^j)+I[8]+2272392833&4294967295,O=T+(P<<11&4294967295|P>>>21),P=j+(O^T^N)+I[11]+1839030562&4294967295,j=O+(P<<16&4294967295|P>>>16),P=N+(j^O^T)+I[14]+4259657740&4294967295,N=j+(P<<23&4294967295|P>>>9),P=T+(N^j^O)+I[1]+2763975236&4294967295,T=N+(P<<4&4294967295|P>>>28),P=O+(T^N^j)+I[4]+1272893353&4294967295,O=T+(P<<11&4294967295|P>>>21),P=j+(O^T^N)+I[7]+4139469664&4294967295,j=O+(P<<16&4294967295|P>>>16),P=N+(j^O^T)+I[10]+3200236656&4294967295,N=j+(P<<23&4294967295|P>>>9),P=T+(N^j^O)+I[13]+681279174&4294967295,T=N+(P<<4&4294967295|P>>>28),P=O+(T^N^j)+I[0]+3936430074&4294967295,O=T+(P<<11&4294967295|P>>>21),P=j+(O^T^N)+I[3]+3572445317&4294967295,j=O+(P<<16&4294967295|P>>>16),P=N+(j^O^T)+I[6]+76029189&4294967295,N=j+(P<<23&4294967295|P>>>9),P=T+(N^j^O)+I[9]+3654602809&4294967295,T=N+(P<<4&4294967295|P>>>28),P=O+(T^N^j)+I[12]+3873151461&4294967295,O=T+(P<<11&4294967295|P>>>21),P=j+(O^T^N)+I[15]+530742520&4294967295,j=O+(P<<16&4294967295|P>>>16),P=N+(j^O^T)+I[2]+3299628645&4294967295,N=j+(P<<23&4294967295|P>>>9),P=T+(j^(N|~O))+I[0]+4096336452&4294967295,T=N+(P<<6&4294967295|P>>>26),P=O+(N^(T|~j))+I[7]+1126891415&4294967295,O=T+(P<<10&4294967295|P>>>22),P=j+(T^(O|~N))+I[14]+2878612391&4294967295,j=O+(P<<15&4294967295|P>>>17),P=N+(O^(j|~T))+I[5]+4237533241&4294967295,N=j+(P<<21&4294967295|P>>>11),P=T+(j^(N|~O))+I[12]+1700485571&4294967295,T=N+(P<<6&4294967295|P>>>26),P=O+(N^(T|~j))+I[3]+2399980690&4294967295,O=T+(P<<10&4294967295|P>>>22),P=j+(T^(O|~N))+I[10]+4293915773&4294967295,j=O+(P<<15&4294967295|P>>>17),P=N+(O^(j|~T))+I[1]+2240044497&4294967295,N=j+(P<<21&4294967295|P>>>11),P=T+(j^(N|~O))+I[8]+1873313359&4294967295,T=N+(P<<6&4294967295|P>>>26),P=O+(N^(T|~j))+I[15]+4264355552&4294967295,O=T+(P<<10&4294967295|P>>>22),P=j+(T^(O|~N))+I[6]+2734768916&4294967295,j=O+(P<<15&4294967295|P>>>17),P=N+(O^(j|~T))+I[13]+1309151649&4294967295,N=j+(P<<21&4294967295|P>>>11),P=T+(j^(N|~O))+I[4]+4149444226&4294967295,T=N+(P<<6&4294967295|P>>>26),P=O+(N^(T|~j))+I[11]+3174756917&4294967295,O=T+(P<<10&4294967295|P>>>22),P=j+(T^(O|~N))+I[2]+718787259&4294967295,j=O+(P<<15&4294967295|P>>>17),P=N+(O^(j|~T))+I[9]+3951481745&4294967295,A.g[0]=A.g[0]+T&4294967295,A.g[1]=A.g[1]+(j+(P<<21&4294967295|P>>>11))&4294967295,A.g[2]=A.g[2]+j&4294967295,A.g[3]=A.g[3]+O&4294967295}n.prototype.u=function(A,T){T===void 0&&(T=A.length);for(var N=T-this.blockSize,I=this.B,j=this.h,O=0;O<T;){if(j==0)for(;O<=N;)i(this,A,O),O+=this.blockSize;if(typeof A=="string"){for(;O<T;)if(I[j++]=A.charCodeAt(O++),j==this.blockSize){i(this,I),j=0;break}}else for(;O<T;)if(I[j++]=A[O++],j==this.blockSize){i(this,I),j=0;break}}this.h=j,this.o+=T},n.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var T=1;T<A.length-8;++T)A[T]=0;var N=8*this.o;for(T=A.length-8;T<A.length;++T)A[T]=N&255,N/=256;for(this.u(A),A=Array(16),T=N=0;4>T;++T)for(var I=0;32>I;I+=8)A[N++]=this.g[T]>>>I&255;return A};function a(A,T){var N=s;return Object.prototype.hasOwnProperty.call(N,A)?N[A]:N[A]=T(A)}function o(A,T){this.h=T;for(var N=[],I=!0,j=A.length-1;0<=j;j--){var O=A[j]|0;I&&O==T||(N[j]=O,I=!1)}this.g=N}var s={};function l(A){return-128<=A&&128>A?a(A,function(T){return new o([T|0],0>T?-1:0)}):new o([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return v(u(-A));for(var T=[],N=1,I=0;A>=N;I++)T[I]=A/N|0,N*=4294967296;return new o(T,0)}function d(A,T){if(A.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(A.charAt(0)=="-")return v(d(A.substring(1),T));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=u(Math.pow(T,8)),I=f,j=0;j<A.length;j+=8){var O=Math.min(8,A.length-j),P=parseInt(A.substring(j,j+O),T);8>O?(O=u(Math.pow(T,O)),I=I.j(O).add(u(P))):(I=I.j(N),I=I.add(u(P)))}return I}var f=l(0),h=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-v(this).m();for(var A=0,T=1,N=0;N<this.g.length;N++){var I=this.i(N);A+=(0<=I?I:4294967296+I)*T,T*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(m(this))return"0";if(g(this))return"-"+v(this).toString(A);for(var T=u(Math.pow(A,6)),N=this,I="";;){var j=S(N,T).g;N=x(N,j.j(T));var O=((0<N.g.length?N.g[0]:N.h)>>>0).toString(A);if(N=j,m(N))return O+I;for(;6>O.length;)O="0"+O;I=O+I}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function m(A){if(A.h!=0)return!1;for(var T=0;T<A.g.length;T++)if(A.g[T]!=0)return!1;return!0}function g(A){return A.h==-1}t.l=function(A){return A=x(this,A),g(A)?-1:m(A)?0:1};function v(A){for(var T=A.g.length,N=[],I=0;I<T;I++)N[I]=~A.g[I];return new o(N,~A.h).add(h)}t.abs=function(){return g(this)?v(this):this},t.add=function(A){for(var T=Math.max(this.g.length,A.g.length),N=[],I=0,j=0;j<=T;j++){var O=I+(this.i(j)&65535)+(A.i(j)&65535),P=(O>>>16)+(this.i(j)>>>16)+(A.i(j)>>>16);I=P>>>16,O&=65535,P&=65535,N[j]=P<<16|O}return new o(N,N[N.length-1]&-2147483648?-1:0)};function x(A,T){return A.add(v(T))}t.j=function(A){if(m(this)||m(A))return f;if(g(this))return g(A)?v(this).j(v(A)):v(v(this).j(A));if(g(A))return v(this.j(v(A)));if(0>this.l(p)&&0>A.l(p))return u(this.m()*A.m());for(var T=this.g.length+A.g.length,N=[],I=0;I<2*T;I++)N[I]=0;for(I=0;I<this.g.length;I++)for(var j=0;j<A.g.length;j++){var O=this.i(I)>>>16,P=this.i(I)&65535,M=A.i(j)>>>16,F=A.i(j)&65535;N[2*I+2*j]+=P*F,y(N,2*I+2*j),N[2*I+2*j+1]+=O*F,y(N,2*I+2*j+1),N[2*I+2*j+1]+=P*M,y(N,2*I+2*j+1),N[2*I+2*j+2]+=O*M,y(N,2*I+2*j+2)}for(I=0;I<T;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=T;I<2*T;I++)N[I]=0;return new o(N,0)};function y(A,T){for(;(A[T]&65535)!=A[T];)A[T+1]+=A[T]>>>16,A[T]&=65535,T++}function w(A,T){this.g=A,this.h=T}function S(A,T){if(m(T))throw Error("division by zero");if(m(A))return new w(f,f);if(g(A))return T=S(v(A),T),new w(v(T.g),v(T.h));if(g(T))return T=S(A,v(T)),new w(v(T.g),T.h);if(30<A.g.length){if(g(A)||g(T))throw Error("slowDivide_ only works with positive integers.");for(var N=h,I=T;0>=I.l(A);)N=E(N),I=E(I);var j=C(N,1),O=C(I,1);for(I=C(I,2),N=C(N,2);!m(I);){var P=O.add(I);0>=P.l(A)&&(j=j.add(N),O=P),I=C(I,1),N=C(N,1)}return T=x(A,j.j(T)),new w(j,T)}for(j=f;0<=A.l(T);){for(N=Math.max(1,Math.floor(A.m()/T.m())),I=Math.ceil(Math.log(N)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),O=u(N),P=O.j(T);g(P)||0<P.l(A);)N-=I,O=u(N),P=O.j(T);m(O)&&(O=h),j=j.add(O),A=x(A,P)}return new w(j,A)}t.A=function(A){return S(this,A).h},t.and=function(A){for(var T=Math.max(this.g.length,A.g.length),N=[],I=0;I<T;I++)N[I]=this.i(I)&A.i(I);return new o(N,this.h&A.h)},t.or=function(A){for(var T=Math.max(this.g.length,A.g.length),N=[],I=0;I<T;I++)N[I]=this.i(I)|A.i(I);return new o(N,this.h|A.h)},t.xor=function(A){for(var T=Math.max(this.g.length,A.g.length),N=[],I=0;I<T;I++)N[I]=this.i(I)^A.i(I);return new o(N,this.h^A.h)};function E(A){for(var T=A.g.length+1,N=[],I=0;I<T;I++)N[I]=A.i(I)<<1|A.i(I-1)>>>31;return new o(N,A.h)}function C(A,T){var N=T>>5;T%=32;for(var I=A.g.length-N,j=[],O=0;O<I;O++)j[O]=0<T?A.i(O+N)>>>T|A.i(O+N+1)<<32-T:A.i(O+N);return new o(j,A.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Pz=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,ic=o}).apply(typeof qD<"u"?qD:typeof self<"u"?self:typeof window<"u"?window:{});var Iy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Oz,bm,jz,k1,oT,kz,Rz,Dz;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,k,R){return _==Array.prototype||_==Object.prototype||(_[k]=R.value),_};function r(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof Iy=="object"&&Iy];for(var k=0;k<_.length;++k){var R=_[k];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var n=r(this);function i(_,k){if(k)e:{var R=n;_=_.split(".");for(var V=0;V<_.length-1;V++){var ee=_[V];if(!(ee in R))break e;R=R[ee]}_=_[_.length-1],V=R[_],k=k(V),k!=V&&k!=null&&e(R,_,{configurable:!0,writable:!0,value:k})}}function a(_,k){_ instanceof String&&(_+="");var R=0,V=!1,ee={next:function(){if(!V&&R<_.length){var ae=R++;return{value:k(ae,_[ae]),done:!1}}return V=!0,{done:!0,value:void 0}}};return ee[Symbol.iterator]=function(){return ee},ee}i("Array.prototype.values",function(_){return _||function(){return a(this,function(k,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(_){var k=typeof _;return k=k!="object"?k:_?Array.isArray(_)?"array":k:"null",k=="array"||k=="object"&&typeof _.length=="number"}function u(_){var k=typeof _;return k=="object"&&_!=null||k=="function"}function d(_,k,R){return _.call.apply(_.bind,arguments)}function f(_,k,R){if(!_)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ee,V),_.apply(k,ee)}}return function(){return _.apply(k,arguments)}}function h(_,k,R){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function p(_,k){var R=Array.prototype.slice.call(arguments,1);return function(){var V=R.slice();return V.push.apply(V,arguments),_.apply(this,V)}}function m(_,k){function R(){}R.prototype=k.prototype,_.aa=k.prototype,_.prototype=new R,_.prototype.constructor=_,_.Qb=function(V,ee,ae){for(var Ie=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)Ie[Ut-2]=arguments[Ut];return k.prototype[ee].apply(V,Ie)}}function g(_){const k=_.length;if(0<k){const R=Array(k);for(let V=0;V<k;V++)R[V]=_[V];return R}return[]}function v(_,k){for(let R=1;R<arguments.length;R++){const V=arguments[R];if(l(V)){const ee=_.length||0,ae=V.length||0;_.length=ee+ae;for(let Ie=0;Ie<ae;Ie++)_[ee+Ie]=V[Ie]}else _.push(V)}}class x{constructor(k,R){this.i=k,this.j=R,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function y(_){return/^[\s\xa0]*$/.test(_)}function w(){var _=s.navigator;return _&&(_=_.userAgent)?_:""}function S(_){return S[" "](_),_}S[" "]=function(){};var E=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function C(_,k,R){for(const V in _)k.call(R,_[V],V,_)}function A(_,k){for(const R in _)k.call(void 0,_[R],R,_)}function T(_){const k={};for(const R in _)k[R]=_[R];return k}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(_,k){let R,V;for(let ee=1;ee<arguments.length;ee++){V=arguments[ee];for(R in V)_[R]=V[R];for(let ae=0;ae<N.length;ae++)R=N[ae],Object.prototype.hasOwnProperty.call(V,R)&&(_[R]=V[R])}}function j(_){var k=1;_=_.split(":");const R=[];for(;0<k&&_.length;)R.push(_.shift()),k--;return _.length&&R.push(_.join(":")),R}function O(_){s.setTimeout(()=>{throw _},0)}function P(){var _=U;let k=null;return _.g&&(k=_.g,_.g=_.g.next,_.g||(_.h=null),k.next=null),k}class M{constructor(){this.h=this.g=null}add(k,R){const V=F.get();V.set(k,R),this.h?this.h.next=V:this.g=V,this.h=V}}var F=new x(()=>new B,_=>_.reset());class B{constructor(){this.next=this.g=this.h=null}set(k,R){this.h=k,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let W,$=!1,U=new M,X=()=>{const _=s.Promise.resolve(void 0);W=()=>{_.then(H)}};var H=()=>{for(var _;_=P();){try{_.h.call(_.g)}catch(R){O(R)}var k=F;k.j(_),100>k.h&&(k.h++,_.next=k.g,k.g=_)}$=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(_,k){this.type=_,this.g=this.target=k,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var _=!1,k=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const R=()=>{};s.addEventListener("test",R,k),s.removeEventListener("test",R,k)}catch{}return _}();function de(_,k){if(Q.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var R=this.type=_.type,V=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=k,k=_.relatedTarget){if(E){e:{try{S(k.nodeName);var ee=!0;break e}catch{}ee=!1}ee||(k=null)}}else R=="mouseover"?k=_.fromElement:R=="mouseout"&&(k=_.toElement);this.relatedTarget=k,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:he[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&de.aa.h.call(this)}}m(de,Q);var he={2:"touch",3:"pen",4:"mouse"};de.prototype.h=function(){de.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),J=0;function re(_,k,R,V,ee){this.listener=_,this.proxy=null,this.src=k,this.type=R,this.capture=!!V,this.ha=ee,this.key=++J,this.da=this.fa=!1}function L(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function q(_){this.src=_,this.g={},this.h=0}q.prototype.add=function(_,k,R,V,ee){var ae=_.toString();_=this.g[ae],_||(_=this.g[ae]=[],this.h++);var Ie=ye(_,k,V,ee);return-1<Ie?(k=_[Ie],R||(k.fa=!1)):(k=new re(k,this.src,ae,!!V,ee),k.fa=R,_.push(k)),k};function G(_,k){var R=k.type;if(R in _.g){var V=_.g[R],ee=Array.prototype.indexOf.call(V,k,void 0),ae;(ae=0<=ee)&&Array.prototype.splice.call(V,ee,1),ae&&(L(k),_.g[R].length==0&&(delete _.g[R],_.h--))}}function ye(_,k,R,V){for(var ee=0;ee<_.length;++ee){var ae=_[ee];if(!ae.da&&ae.listener==k&&ae.capture==!!R&&ae.ha==V)return ee}return-1}var me="closure_lm_"+(1e6*Math.random()|0),ie={};function ne(_,k,R,V,ee){if(Array.isArray(k)){for(var ae=0;ae<k.length;ae++)ne(_,k[ae],R,V,ee);return null}return R=Sn(R),_&&_[pe]?_.K(k,R,u(V)?!!V.capture:!1,ee):Oe(_,k,R,!1,V,ee)}function Oe(_,k,R,V,ee,ae){if(!k)throw Error("Invalid event type");var Ie=u(ee)?!!ee.capture:!!ee,Ut=Wt(_);if(Ut||(_[me]=Ut=new q(_)),R=Ut.add(k,R,V,Ie,ae),R.proxy)return R;if(V=Z(),R.proxy=V,V.src=_,V.listener=R,_.addEventListener)ue||(ee=Ie),ee===void 0&&(ee=!1),_.addEventListener(k.toString(),V,ee);else if(_.attachEvent)_.attachEvent(it(k.toString()),V);else if(_.addListener&&_.removeListener)_.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Z(){function _(R){return k.call(_.src,_.listener,R)}const k=yr;return _}function le(_,k,R,V,ee){if(Array.isArray(k))for(var ae=0;ae<k.length;ae++)le(_,k[ae],R,V,ee);else V=u(V)?!!V.capture:!!V,R=Sn(R),_&&_[pe]?(_=_.i,k=String(k).toString(),k in _.g&&(ae=_.g[k],R=ye(ae,R,V,ee),-1<R&&(L(ae[R]),Array.prototype.splice.call(ae,R,1),ae.length==0&&(delete _.g[k],_.h--)))):_&&(_=Wt(_))&&(k=_.g[k.toString()],_=-1,k&&(_=ye(k,R,V,ee)),(R=-1<_?k[_]:null)&&xe(R))}function xe(_){if(typeof _!="number"&&_&&!_.da){var k=_.src;if(k&&k[pe])G(k.i,_);else{var R=_.type,V=_.proxy;k.removeEventListener?k.removeEventListener(R,V,_.capture):k.detachEvent?k.detachEvent(it(R),V):k.addListener&&k.removeListener&&k.removeListener(V),(R=Wt(k))?(G(R,_),R.h==0&&(R.src=null,k[me]=null)):L(_)}}}function it(_){return _ in ie?ie[_]:ie[_]="on"+_}function yr(_,k){if(_.da)_=!0;else{k=new de(k,this);var R=_.listener,V=_.ha||_.src;_.fa&&xe(_),_=R.call(V,k)}return _}function Wt(_){return _=_[me],_ instanceof q?_:null}var Ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sn(_){return typeof _=="function"?_:(_[Ht]||(_[Ht]=function(k){return _.handleEvent(k)}),_[Ht])}function Zt(){Y.call(this),this.i=new q(this),this.M=this,this.F=null}m(Zt,Y),Zt.prototype[pe]=!0,Zt.prototype.removeEventListener=function(_,k,R,V){le(this,_,k,R,V)};function Dt(_,k){var R,V=_.F;if(V)for(R=[];V;V=V.F)R.push(V);if(_=_.M,V=k.type||k,typeof k=="string")k=new Q(k,_);else if(k instanceof Q)k.target=k.target||_;else{var ee=k;k=new Q(V,_),I(k,ee)}if(ee=!0,R)for(var ae=R.length-1;0<=ae;ae--){var Ie=k.g=R[ae];ee=Xi(Ie,V,!0,k)&&ee}if(Ie=k.g=_,ee=Xi(Ie,V,!0,k)&&ee,ee=Xi(Ie,V,!1,k)&&ee,R)for(ae=0;ae<R.length;ae++)Ie=k.g=R[ae],ee=Xi(Ie,V,!1,k)&&ee}Zt.prototype.N=function(){if(Zt.aa.N.call(this),this.i){var _=this.i,k;for(k in _.g){for(var R=_.g[k],V=0;V<R.length;V++)L(R[V]);delete _.g[k],_.h--}}this.F=null},Zt.prototype.K=function(_,k,R,V){return this.i.add(String(_),k,!1,R,V)},Zt.prototype.L=function(_,k,R,V){return this.i.add(String(_),k,!0,R,V)};function Xi(_,k,R,V){if(k=_.i.g[String(k)],!k)return!0;k=k.concat();for(var ee=!0,ae=0;ae<k.length;++ae){var Ie=k[ae];if(Ie&&!Ie.da&&Ie.capture==R){var Ut=Ie.listener,En=Ie.ha||Ie.src;Ie.fa&&G(_.i,Ie),ee=Ut.call(En,V)!==!1&&ee}}return ee&&!V.defaultPrevented}function ya(_,k,R){if(typeof _=="function")R&&(_=h(_,R));else if(_&&typeof _.handleEvent=="function")_=h(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:s.setTimeout(_,k||0)}function hl(_){_.g=ya(()=>{_.g=null,_.i&&(_.i=!1,hl(_))},_.l);const k=_.h;_.h=null,_.m.apply(null,k)}class Ep extends Y{constructor(k,R){super(),this.m=k,this.l=R,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:hl(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ka(_){Y.call(this),this.h=_,this.g={}}m(Ka,Y);var pl=[];function Yc(_){C(_.g,function(k,R){this.g.hasOwnProperty(R)&&xe(k)},_),_.g={}}Ka.prototype.N=function(){Ka.aa.N.call(this),Yc(this)},Ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oo=s.JSON.stringify,xa=s.JSON.parse,ve=class{stringify(_){return s.JSON.stringify(_,void 0)}parse(_){return s.JSON.parse(_,void 0)}};function Ae(){}Ae.prototype.h=null;function $e(_){return _.h||(_.h=_.i())}function qe(){}var Tt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kr(){Q.call(this,"d")}m(Kr,Q);function li(){Q.call(this,"c")}m(li,Q);var ps={},lR=null;function q0(){return lR=lR||new Zt}ps.La="serverreachability";function cR(_){Q.call(this,ps.La,_)}m(cR,Q);function Ap(_){const k=q0();Dt(k,new cR(k))}ps.STAT_EVENT="statevent";function uR(_,k){Q.call(this,ps.STAT_EVENT,_),this.stat=k}m(uR,Q);function ci(_){const k=q0();Dt(k,new uR(k,_))}ps.Ma="timingevent";function dR(_,k){Q.call(this,ps.Ma,_),this.size=k}m(dR,Q);function Cp(_,k){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){_()},k)}function Tp(){this.g=!0}Tp.prototype.xa=function(){this.g=!1};function Xre(_,k,R,V,ee,ae){_.info(function(){if(_.g)if(ae)for(var Ie="",Ut=ae.split("&"),En=0;En<Ut.length;En++){var bt=Ut[En].split("=");if(1<bt.length){var Ln=bt[0];bt=bt[1];var $n=Ln.split("_");Ie=2<=$n.length&&$n[1]=="type"?Ie+(Ln+"="+bt+"&"):Ie+(Ln+"=redacted&")}}else Ie=null;else Ie=ae;return"XMLHTTP REQ ("+V+") [attempt "+ee+"]: "+k+`
`+R+`
`+Ie})}function Qre(_,k,R,V,ee,ae,Ie){_.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+ee+"]: "+k+`
`+R+`
`+ae+" "+Ie})}function Nd(_,k,R,V){_.info(function(){return"XMLHTTP TEXT ("+k+"): "+Jre(_,R)+(V?" "+V:"")})}function Zre(_,k){_.info(function(){return"TIMEOUT: "+k})}Tp.prototype.info=function(){};function Jre(_,k){if(!_.g)return k;if(!k)return null;try{var R=JSON.parse(k);if(R){for(_=0;_<R.length;_++)if(Array.isArray(R[_])){var V=R[_];if(!(2>V.length)){var ee=V[1];if(Array.isArray(ee)&&!(1>ee.length)){var ae=ee[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var Ie=1;Ie<ee.length;Ie++)ee[Ie]=""}}}}return Oo(R)}catch{return k}}var K0={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fR={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cS;function Y0(){}m(Y0,Ae),Y0.prototype.g=function(){return new XMLHttpRequest},Y0.prototype.i=function(){return{}},cS=new Y0;function ml(_,k,R,V){this.j=_,this.i=k,this.l=R,this.R=V||1,this.U=new Ka(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hR}function hR(){this.i=null,this.g="",this.h=!1}var pR={},uS={};function dS(_,k,R){_.L=1,_.v=J0(ms(k)),_.m=R,_.P=!0,mR(_,null)}function mR(_,k){_.F=Date.now(),X0(_),_.A=ms(_.v);var R=_.A,V=_.R;Array.isArray(V)||(V=[String(V)]),IR(R.i,"t",V),_.C=0,R=_.j.J,_.h=new hR,_.g=qR(_.j,R?k:null,!_.m),0<_.O&&(_.M=new Ep(h(_.Y,_,_.g),_.O)),k=_.U,R=_.g,V=_.ca;var ee="readystatechange";Array.isArray(ee)||(ee&&(pl[0]=ee.toString()),ee=pl);for(var ae=0;ae<ee.length;ae++){var Ie=ne(R,ee[ae],V||k.handleEvent,!1,k.h||k);if(!Ie)break;k.g[Ie.key]=Ie}k=_.H?T(_.H):{},_.m?(_.u||(_.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,k)):(_.u="GET",_.g.ea(_.A,_.u,null,k)),Ap(),Xre(_.i,_.u,_.A,_.l,_.R,_.m)}ml.prototype.ca=function(_){_=_.target;const k=this.M;k&&gs(_)==3?k.j():this.Y(_)},ml.prototype.Y=function(_){try{if(_==this.g)e:{const $n=gs(this.g);var k=this.g.Ba();const Od=this.g.Z();if(!(3>$n)&&($n!=3||this.g&&(this.h.h||this.g.oa()||MR(this.g)))){this.J||$n!=4||k==7||(k==8||0>=Od?Ap(3):Ap(2)),fS(this);var R=this.g.Z();this.X=R;t:if(gR(this)){var V=MR(this.g);_="";var ee=V.length,ae=gs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xc(this),Np(this);var Ie="";break t}this.h.i=new s.TextDecoder}for(k=0;k<ee;k++)this.h.h=!0,_+=this.h.i.decode(V[k],{stream:!(ae&&k==ee-1)});V.length=0,this.h.g+=_,this.C=0,Ie=this.h.g}else Ie=this.g.oa();if(this.o=R==200,Qre(this.i,this.u,this.A,this.l,this.R,$n,R),this.o){if(this.T&&!this.K){t:{if(this.g){var Ut,En=this.g;if((Ut=En.g?En.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ut)){var bt=Ut;break t}}bt=null}if(R=bt)Nd(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hS(this,R);else{this.o=!1,this.s=3,ci(12),Xc(this),Np(this);break e}}if(this.P){R=!0;let Ya;for(;!this.J&&this.C<Ie.length;)if(Ya=ene(this,Ie),Ya==uS){$n==4&&(this.s=4,ci(14),R=!1),Nd(this.i,this.l,null,"[Incomplete Response]");break}else if(Ya==pR){this.s=4,ci(15),Nd(this.i,this.l,Ie,"[Invalid Chunk]"),R=!1;break}else Nd(this.i,this.l,Ya,null),hS(this,Ya);if(gR(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$n!=4||Ie.length!=0||this.h.h||(this.s=1,ci(16),R=!1),this.o=this.o&&R,!R)Nd(this.i,this.l,Ie,"[Invalid Chunked Response]"),Xc(this),Np(this);else if(0<Ie.length&&!this.W){this.W=!0;var Ln=this.j;Ln.g==this&&Ln.ba&&!Ln.M&&(Ln.j.info("Great, no buffering proxy detected. Bytes received: "+Ie.length),xS(Ln),Ln.M=!0,ci(11))}}else Nd(this.i,this.l,Ie,null),hS(this,Ie);$n==4&&Xc(this),this.o&&!this.J&&($n==4?zR(this.j,this):(this.o=!1,X0(this)))}else vne(this.g),R==400&&0<Ie.indexOf("Unknown SID")?(this.s=3,ci(12)):(this.s=0,ci(13)),Xc(this),Np(this)}}}catch{}finally{}};function gR(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function ene(_,k){var R=_.C,V=k.indexOf(`
`,R);return V==-1?uS:(R=Number(k.substring(R,V)),isNaN(R)?pR:(V+=1,V+R>k.length?uS:(k=k.slice(V,V+R),_.C=V+R,k)))}ml.prototype.cancel=function(){this.J=!0,Xc(this)};function X0(_){_.S=Date.now()+_.I,vR(_,_.I)}function vR(_,k){if(_.B!=null)throw Error("WatchDog timer not null");_.B=Cp(h(_.ba,_),k)}function fS(_){_.B&&(s.clearTimeout(_.B),_.B=null)}ml.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(Zre(this.i,this.A),this.L!=2&&(Ap(),ci(17)),Xc(this),this.s=2,Np(this)):vR(this,this.S-_)};function Np(_){_.j.G==0||_.J||zR(_.j,_)}function Xc(_){fS(_);var k=_.M;k&&typeof k.ma=="function"&&k.ma(),_.M=null,Yc(_.U),_.g&&(k=_.g,_.g=null,k.abort(),k.ma())}function hS(_,k){try{var R=_.j;if(R.G!=0&&(R.g==_||pS(R.h,_))){if(!_.K&&pS(R.h,_)&&R.G==3){try{var V=R.Da.g.parse(k)}catch{V=null}if(Array.isArray(V)&&V.length==3){var ee=V;if(ee[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<_.F)ay(R),ny(R);else break e;yS(R),ci(18)}}else R.za=ee[1],0<R.za-R.T&&37500>ee[2]&&R.F&&R.v==0&&!R.C&&(R.C=Cp(h(R.Za,R),6e3));if(1>=wR(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else Zc(R,11)}else if((_.K||R.g==_)&&ay(R),!y(k))for(ee=R.Da.g.parse(k),k=0;k<ee.length;k++){let bt=ee[k];if(R.T=bt[0],bt=bt[1],R.G==2)if(bt[0]=="c"){R.K=bt[1],R.ia=bt[2];const Ln=bt[3];Ln!=null&&(R.la=Ln,R.j.info("VER="+R.la));const $n=bt[4];$n!=null&&(R.Aa=$n,R.j.info("SVER="+R.Aa));const Od=bt[5];Od!=null&&typeof Od=="number"&&0<Od&&(V=1.5*Od,R.L=V,R.j.info("backChannelRequestTimeoutMs_="+V)),V=R;const Ya=_.g;if(Ya){const sy=Ya.g?Ya.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sy){var ae=V.h;ae.g||sy.indexOf("spdy")==-1&&sy.indexOf("quic")==-1&&sy.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(mS(ae,ae.h),ae.h=null))}if(V.D){const wS=Ya.g?Ya.g.getResponseHeader("X-HTTP-Session-Id"):null;wS&&(V.ya=wS,Jt(V.I,V.D,wS))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-_.F,R.j.info("Handshake RTT: "+R.R+"ms")),V=R;var Ie=_;if(V.qa=GR(V,V.J?V.ia:null,V.W),Ie.K){bR(V.h,Ie);var Ut=Ie,En=V.L;En&&(Ut.I=En),Ut.B&&(fS(Ut),X0(Ut)),V.g=Ie}else UR(V);0<R.i.length&&iy(R)}else bt[0]!="stop"&&bt[0]!="close"||Zc(R,7);else R.G==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?Zc(R,7):vS(R):bt[0]!="noop"&&R.l&&R.l.ta(bt),R.v=0)}}Ap(4)}catch{}}var tne=class{constructor(_,k){this.g=_,this.map=k}};function yR(_){this.l=_||10,s.PerformanceNavigationTiming?(_=s.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xR(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function wR(_){return _.h?1:_.g?_.g.size:0}function pS(_,k){return _.h?_.h==k:_.g?_.g.has(k):!1}function mS(_,k){_.g?_.g.add(k):_.h=k}function bR(_,k){_.h&&_.h==k?_.h=null:_.g&&_.g.has(k)&&_.g.delete(k)}yR.prototype.cancel=function(){if(this.i=_R(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function _R(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let k=_.i;for(const R of _.g.values())k=k.concat(R.D);return k}return g(_.i)}function rne(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(l(_)){for(var k=[],R=_.length,V=0;V<R;V++)k.push(_[V]);return k}k=[],R=0;for(V in _)k[R++]=_[V];return k}function nne(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(l(_)||typeof _=="string"){var k=[];_=_.length;for(var R=0;R<_;R++)k.push(R);return k}k=[],R=0;for(const V in _)k[R++]=V;return k}}}function SR(_,k){if(_.forEach&&typeof _.forEach=="function")_.forEach(k,void 0);else if(l(_)||typeof _=="string")Array.prototype.forEach.call(_,k,void 0);else for(var R=nne(_),V=rne(_),ee=V.length,ae=0;ae<ee;ae++)k.call(void 0,V[ae],R&&R[ae],_)}var ER=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ine(_,k){if(_){_=_.split("&");for(var R=0;R<_.length;R++){var V=_[R].indexOf("="),ee=null;if(0<=V){var ae=_[R].substring(0,V);ee=_[R].substring(V+1)}else ae=_[R];k(ae,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function Qc(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof Qc){this.h=_.h,Q0(this,_.j),this.o=_.o,this.g=_.g,Z0(this,_.s),this.l=_.l;var k=_.i,R=new Op;R.i=k.i,k.g&&(R.g=new Map(k.g),R.h=k.h),AR(this,R),this.m=_.m}else _&&(k=String(_).match(ER))?(this.h=!1,Q0(this,k[1]||"",!0),this.o=Ip(k[2]||""),this.g=Ip(k[3]||"",!0),Z0(this,k[4]),this.l=Ip(k[5]||"",!0),AR(this,k[6]||"",!0),this.m=Ip(k[7]||"")):(this.h=!1,this.i=new Op(null,this.h))}Qc.prototype.toString=function(){var _=[],k=this.j;k&&_.push(Pp(k,CR,!0),":");var R=this.g;return(R||k=="file")&&(_.push("//"),(k=this.o)&&_.push(Pp(k,CR,!0),"@"),_.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&_.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&_.push("/"),_.push(Pp(R,R.charAt(0)=="/"?sne:one,!0))),(R=this.i.toString())&&_.push("?",R),(R=this.m)&&_.push("#",Pp(R,cne)),_.join("")};function ms(_){return new Qc(_)}function Q0(_,k,R){_.j=R?Ip(k,!0):k,_.j&&(_.j=_.j.replace(/:$/,""))}function Z0(_,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);_.s=k}else _.s=null}function AR(_,k,R){k instanceof Op?(_.i=k,une(_.i,_.h)):(R||(k=Pp(k,lne)),_.i=new Op(k,_.h))}function Jt(_,k,R){_.i.set(k,R)}function J0(_){return Jt(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function Ip(_,k){return _?k?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function Pp(_,k,R){return typeof _=="string"?(_=encodeURI(_).replace(k,ane),R&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function ane(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var CR=/[#\/\?@]/g,one=/[#\?:]/g,sne=/[#\?]/g,lne=/[#\?@]/g,cne=/#/g;function Op(_,k){this.h=this.g=null,this.i=_||null,this.j=!!k}function gl(_){_.g||(_.g=new Map,_.h=0,_.i&&ine(_.i,function(k,R){_.add(decodeURIComponent(k.replace(/\+/g," ")),R)}))}t=Op.prototype,t.add=function(_,k){gl(this),this.i=null,_=Id(this,_);var R=this.g.get(_);return R||this.g.set(_,R=[]),R.push(k),this.h+=1,this};function TR(_,k){gl(_),k=Id(_,k),_.g.has(k)&&(_.i=null,_.h-=_.g.get(k).length,_.g.delete(k))}function NR(_,k){return gl(_),k=Id(_,k),_.g.has(k)}t.forEach=function(_,k){gl(this),this.g.forEach(function(R,V){R.forEach(function(ee){_.call(k,ee,V,this)},this)},this)},t.na=function(){gl(this);const _=Array.from(this.g.values()),k=Array.from(this.g.keys()),R=[];for(let V=0;V<k.length;V++){const ee=_[V];for(let ae=0;ae<ee.length;ae++)R.push(k[V])}return R},t.V=function(_){gl(this);let k=[];if(typeof _=="string")NR(this,_)&&(k=k.concat(this.g.get(Id(this,_))));else{_=Array.from(this.g.values());for(let R=0;R<_.length;R++)k=k.concat(_[R])}return k},t.set=function(_,k){return gl(this),this.i=null,_=Id(this,_),NR(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[k]),this.h+=1,this},t.get=function(_,k){return _?(_=this.V(_),0<_.length?String(_[0]):k):k};function IR(_,k,R){TR(_,k),0<R.length&&(_.i=null,_.g.set(Id(_,k),g(R)),_.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],k=Array.from(this.g.keys());for(var R=0;R<k.length;R++){var V=k[R];const ae=encodeURIComponent(String(V)),Ie=this.V(V);for(V=0;V<Ie.length;V++){var ee=ae;Ie[V]!==""&&(ee+="="+encodeURIComponent(String(Ie[V]))),_.push(ee)}}return this.i=_.join("&")};function Id(_,k){return k=String(k),_.j&&(k=k.toLowerCase()),k}function une(_,k){k&&!_.j&&(gl(_),_.i=null,_.g.forEach(function(R,V){var ee=V.toLowerCase();V!=ee&&(TR(this,V),IR(this,ee,R))},_)),_.j=k}function dne(_,k){const R=new Tp;if(s.Image){const V=new Image;V.onload=p(vl,R,"TestLoadImage: loaded",!0,k,V),V.onerror=p(vl,R,"TestLoadImage: error",!1,k,V),V.onabort=p(vl,R,"TestLoadImage: abort",!1,k,V),V.ontimeout=p(vl,R,"TestLoadImage: timeout",!1,k,V),s.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=_}else k(!1)}function fne(_,k){const R=new Tp,V=new AbortController,ee=setTimeout(()=>{V.abort(),vl(R,"TestPingServer: timeout",!1,k)},1e4);fetch(_,{signal:V.signal}).then(ae=>{clearTimeout(ee),ae.ok?vl(R,"TestPingServer: ok",!0,k):vl(R,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(ee),vl(R,"TestPingServer: error",!1,k)})}function vl(_,k,R,V,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),V(R)}catch{}}function hne(){this.g=new ve}function pne(_,k,R){const V=R||"";try{SR(_,function(ee,ae){let Ie=ee;u(ee)&&(Ie=Oo(ee)),k.push(V+ae+"="+encodeURIComponent(Ie))})}catch(ee){throw k.push(V+"type="+encodeURIComponent("_badmap")),ee}}function ey(_){this.l=_.Ub||null,this.j=_.eb||!1}m(ey,Ae),ey.prototype.g=function(){return new ty(this.l,this.j)},ey.prototype.i=function(_){return function(){return _}}({});function ty(_,k){Zt.call(this),this.D=_,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(ty,Zt),t=ty.prototype,t.open=function(_,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=k,this.readyState=1,kp(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(k.body=_),(this.D||s).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jp(this)),this.readyState=0},t.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,kp(this)),this.g&&(this.readyState=3,kp(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;PR(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function PR(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}t.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var k=_.value?_.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!_.done}))&&(this.response=this.responseText+=k)}_.done?jp(this):kp(this),this.readyState==3&&PR(this)}},t.Ra=function(_){this.g&&(this.response=this.responseText=_,jp(this))},t.Qa=function(_){this.g&&(this.response=_,jp(this))},t.ga=function(){this.g&&jp(this)};function jp(_){_.readyState=4,_.l=null,_.j=null,_.v=null,kp(_)}t.setRequestHeader=function(_,k){this.u.append(_,k)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],k=this.h.entries();for(var R=k.next();!R.done;)R=R.value,_.push(R[0]+": "+R[1]),R=k.next();return _.join(`\r
`)};function kp(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(ty.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function OR(_){let k="";return C(_,function(R,V){k+=V,k+=":",k+=R,k+=`\r
`}),k}function gS(_,k,R){e:{for(V in R){var V=!1;break e}V=!0}V||(R=OR(R),typeof _=="string"?R!=null&&encodeURIComponent(String(R)):Jt(_,k,R))}function Cr(_){Zt.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(Cr,Zt);var mne=/^https?$/i,gne=["POST","PUT"];t=Cr.prototype,t.Ha=function(_){this.J=_},t.ea=function(_,k,R,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);k=k?k.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cS.g(),this.v=this.o?$e(this.o):$e(cS),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(k,String(_),!0),this.B=!1}catch(ae){jR(this,ae);return}if(_=R||"",R=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var ee in V)R.set(ee,V[ee]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const ae of V.keys())R.set(ae,V.get(ae));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(R.keys()).find(ae=>ae.toLowerCase()=="content-type"),ee=s.FormData&&_ instanceof s.FormData,!(0<=Array.prototype.indexOf.call(gne,k,void 0))||V||ee||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,Ie]of R)this.g.setRequestHeader(ae,Ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{DR(this),this.u=!0,this.g.send(_),this.u=!1}catch(ae){jR(this,ae)}};function jR(_,k){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=k,_.m=5,kR(_),ry(_)}function kR(_){_.A||(_.A=!0,Dt(_,"complete"),Dt(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,Dt(this,"complete"),Dt(this,"abort"),ry(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ry(this,!0)),Cr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?RR(this):this.bb())},t.bb=function(){RR(this)};function RR(_){if(_.h&&typeof o<"u"&&(!_.v[1]||gs(_)!=4||_.Z()!=2)){if(_.u&&gs(_)==4)ya(_.Ea,0,_);else if(Dt(_,"readystatechange"),gs(_)==4){_.h=!1;try{const Ie=_.Z();e:switch(Ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var R;if(!(R=k)){var V;if(V=Ie===0){var ee=String(_.D).match(ER)[1]||null;!ee&&s.self&&s.self.location&&(ee=s.self.location.protocol.slice(0,-1)),V=!mne.test(ee?ee.toLowerCase():"")}R=V}if(R)Dt(_,"complete"),Dt(_,"success");else{_.m=6;try{var ae=2<gs(_)?_.g.statusText:""}catch{ae=""}_.l=ae+" ["+_.Z()+"]",kR(_)}}finally{ry(_)}}}}function ry(_,k){if(_.g){DR(_);const R=_.g,V=_.v[0]?()=>{}:null;_.g=null,_.v=null,k||Dt(_,"ready");try{R.onreadystatechange=V}catch{}}}function DR(_){_.I&&(s.clearTimeout(_.I),_.I=null)}t.isActive=function(){return!!this.g};function gs(_){return _.g?_.g.readyState:0}t.Z=function(){try{return 2<gs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(_){if(this.g){var k=this.g.responseText;return _&&k.indexOf(_)==0&&(k=k.substring(_.length)),xa(k)}};function MR(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function vne(_){const k={};_=(_.g&&2<=gs(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<_.length;V++){if(y(_[V]))continue;var R=j(_[V]);const ee=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const ae=k[ee]||[];k[ee]=ae,ae.push(R)}A(k,function(V){return V.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rp(_,k,R){return R&&R.internalChannelParams&&R.internalChannelParams[_]||k}function LR(_){this.Aa=0,this.i=[],this.j=new Tp,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rp("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rp("baseRetryDelayMs",5e3,_),this.cb=Rp("retryDelaySeedMs",1e4,_),this.Wa=Rp("forwardChannelMaxRetries",2,_),this.wa=Rp("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new yR(_&&_.concurrentRequestLimit),this.Da=new hne,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=LR.prototype,t.la=8,t.G=1,t.connect=function(_,k,R,V){ci(0),this.W=_,this.H=k||{},R&&V!==void 0&&(this.H.OSID=R,this.H.OAID=V),this.F=this.X,this.I=GR(this,null,this.W),iy(this)};function vS(_){if($R(_),_.G==3){var k=_.U++,R=ms(_.I);if(Jt(R,"SID",_.K),Jt(R,"RID",k),Jt(R,"TYPE","terminate"),Dp(_,R),k=new ml(_,_.j,k),k.L=2,k.v=J0(ms(R)),R=!1,s.navigator&&s.navigator.sendBeacon)try{R=s.navigator.sendBeacon(k.v.toString(),"")}catch{}!R&&s.Image&&(new Image().src=k.v,R=!0),R||(k.g=qR(k.j,null),k.g.ea(k.v)),k.F=Date.now(),X0(k)}HR(_)}function ny(_){_.g&&(xS(_),_.g.cancel(),_.g=null)}function $R(_){ny(_),_.u&&(s.clearTimeout(_.u),_.u=null),ay(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&s.clearTimeout(_.s),_.s=null)}function iy(_){if(!xR(_.h)&&!_.s){_.s=!0;var k=_.Ga;W||X(),$||(W(),$=!0),U.add(k,_),_.B=0}}function yne(_,k){return wR(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=k.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=Cp(h(_.Ga,_,k),WR(_,_.B)),_.B++,!0)}t.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const ee=new ml(this,this.j,_);let ae=this.o;if(this.S&&(ae?(ae=T(ae),I(ae,this.S)):ae=this.S),this.m!==null||this.O||(ee.H=ae,ae=null),this.P)e:{for(var k=0,R=0;R<this.i.length;R++){t:{var V=this.i[R];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(k+=V,4096<k){k=R;break e}if(k===4096||R===this.i.length-1){k=R+1;break e}}k=1e3}else k=1e3;k=BR(this,ee,k),R=ms(this.I),Jt(R,"RID",_),Jt(R,"CVER",22),this.D&&Jt(R,"X-HTTP-Session-Id",this.D),Dp(this,R),ae&&(this.O?k="headers="+encodeURIComponent(String(OR(ae)))+"&"+k:this.m&&gS(R,this.m,ae)),mS(this.h,ee),this.Ua&&Jt(R,"TYPE","init"),this.P?(Jt(R,"$req",k),Jt(R,"SID","null"),ee.T=!0,dS(ee,R,null)):dS(ee,R,k),this.G=2}}else this.G==3&&(_?FR(this,_):this.i.length==0||xR(this.h)||FR(this))};function FR(_,k){var R;k?R=k.l:R=_.U++;const V=ms(_.I);Jt(V,"SID",_.K),Jt(V,"RID",R),Jt(V,"AID",_.T),Dp(_,V),_.m&&_.o&&gS(V,_.m,_.o),R=new ml(_,_.j,R,_.B+1),_.m===null&&(R.H=_.o),k&&(_.i=k.D.concat(_.i)),k=BR(_,R,1e3),R.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),mS(_.h,R),dS(R,V,k)}function Dp(_,k){_.H&&C(_.H,function(R,V){Jt(k,V,R)}),_.l&&SR({},function(R,V){Jt(k,V,R)})}function BR(_,k,R){R=Math.min(_.i.length,R);var V=_.l?h(_.l.Na,_.l,_):null;e:{var ee=_.i;let ae=-1;for(;;){const Ie=["count="+R];ae==-1?0<R?(ae=ee[0].g,Ie.push("ofs="+ae)):ae=0:Ie.push("ofs="+ae);let Ut=!0;for(let En=0;En<R;En++){let bt=ee[En].g;const Ln=ee[En].map;if(bt-=ae,0>bt)ae=Math.max(0,ee[En].g-100),Ut=!1;else try{pne(Ln,Ie,"req"+bt+"_")}catch{V&&V(Ln)}}if(Ut){V=Ie.join("&");break e}}}return _=_.i.splice(0,R),k.D=_,V}function UR(_){if(!_.g&&!_.u){_.Y=1;var k=_.Fa;W||X(),$||(W(),$=!0),U.add(k,_),_.v=0}}function yS(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=Cp(h(_.Fa,_),WR(_,_.v)),_.v++,!0)}t.Fa=function(){if(this.u=null,VR(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=Cp(h(this.ab,this),_)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ci(10),ny(this),VR(this))};function xS(_){_.A!=null&&(s.clearTimeout(_.A),_.A=null)}function VR(_){_.g=new ml(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var k=ms(_.qa);Jt(k,"RID","rpc"),Jt(k,"SID",_.K),Jt(k,"AID",_.T),Jt(k,"CI",_.F?"0":"1"),!_.F&&_.ja&&Jt(k,"TO",_.ja),Jt(k,"TYPE","xmlhttp"),Dp(_,k),_.m&&_.o&&gS(k,_.m,_.o),_.L&&(_.g.I=_.L);var R=_.g;_=_.ia,R.L=1,R.v=J0(ms(k)),R.m=null,R.P=!0,mR(R,_)}t.Za=function(){this.C!=null&&(this.C=null,ny(this),yS(this),ci(19))};function ay(_){_.C!=null&&(s.clearTimeout(_.C),_.C=null)}function zR(_,k){var R=null;if(_.g==k){ay(_),xS(_),_.g=null;var V=2}else if(pS(_.h,k))R=k.D,bR(_.h,k),V=1;else return;if(_.G!=0){if(k.o)if(V==1){R=k.m?k.m.length:0,k=Date.now()-k.F;var ee=_.B;V=q0(),Dt(V,new dR(V,R)),iy(_)}else UR(_);else if(ee=k.s,ee==3||ee==0&&0<k.X||!(V==1&&yne(_,k)||V==2&&yS(_)))switch(R&&0<R.length&&(k=_.h,k.i=k.i.concat(R)),ee){case 1:Zc(_,5);break;case 4:Zc(_,10);break;case 3:Zc(_,6);break;default:Zc(_,2)}}}function WR(_,k){let R=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(R*=2),R*k}function Zc(_,k){if(_.j.info("Error code "+k),k==2){var R=h(_.fb,_),V=_.Xa;const ee=!V;V=new Qc(V||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Q0(V,"https"),J0(V),ee?dne(V.toString(),R):fne(V.toString(),R)}else ci(2);_.G=0,_.l&&_.l.sa(k),HR(_),$R(_)}t.fb=function(_){_?(this.j.info("Successfully pinged google.com"),ci(2)):(this.j.info("Failed to ping google.com"),ci(1))};function HR(_){if(_.G=0,_.ka=[],_.l){const k=_R(_.h);(k.length!=0||_.i.length!=0)&&(v(_.ka,k),v(_.ka,_.i),_.h.i.length=0,g(_.i),_.i.length=0),_.l.ra()}}function GR(_,k,R){var V=R instanceof Qc?ms(R):new Qc(R);if(V.g!="")k&&(V.g=k+"."+V.g),Z0(V,V.s);else{var ee=s.location;V=ee.protocol,k=k?k+"."+ee.hostname:ee.hostname,ee=+ee.port;var ae=new Qc(null);V&&Q0(ae,V),k&&(ae.g=k),ee&&Z0(ae,ee),R&&(ae.l=R),V=ae}return R=_.D,k=_.ya,R&&k&&Jt(V,R,k),Jt(V,"VER",_.la),Dp(_,V),V}function qR(_,k,R){if(k&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=_.Ca&&!_.pa?new Cr(new ey({eb:R})):new Cr(_.pa),k.Ha(_.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function KR(){}t=KR.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function oy(){}oy.prototype.g=function(_,k){return new Qi(_,k)};function Qi(_,k){Zt.call(this),this.g=new LR(k),this.l=_,this.h=k&&k.messageUrlParams||null,_=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(_?_["X-WebChannel-Content-Type"]=k.messageContentType:_={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(_?_["X-WebChannel-Client-Profile"]=k.va:_={"X-WebChannel-Client-Profile":k.va}),this.g.S=_,(_=k&&k.Sb)&&!y(_)&&(this.g.m=_),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!y(k)&&(this.g.D=k,_=this.h,_!==null&&k in _&&(_=this.h,k in _&&delete _[k])),this.j=new Pd(this)}m(Qi,Zt),Qi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qi.prototype.close=function(){vS(this.g)},Qi.prototype.o=function(_){var k=this.g;if(typeof _=="string"){var R={};R.__data__=_,_=R}else this.u&&(R={},R.__data__=Oo(_),_=R);k.i.push(new tne(k.Ya++,_)),k.G==3&&iy(k)},Qi.prototype.N=function(){this.g.l=null,delete this.j,vS(this.g),delete this.g,Qi.aa.N.call(this)};function YR(_){Kr.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var k=_.__sm__;if(k){e:{for(const R in k){_=R;break e}_=void 0}(this.i=_)&&(_=this.i,k=k!==null&&_ in k?k[_]:void 0),this.data=k}else this.data=_}m(YR,Kr);function XR(){li.call(this),this.status=1}m(XR,li);function Pd(_){this.g=_}m(Pd,KR),Pd.prototype.ua=function(){Dt(this.g,"a")},Pd.prototype.ta=function(_){Dt(this.g,new YR(_))},Pd.prototype.sa=function(_){Dt(this.g,new XR)},Pd.prototype.ra=function(){Dt(this.g,"b")},oy.prototype.createWebChannel=oy.prototype.g,Qi.prototype.send=Qi.prototype.o,Qi.prototype.open=Qi.prototype.m,Qi.prototype.close=Qi.prototype.close,Dz=function(){return new oy},Rz=function(){return q0()},kz=ps,oT={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},K0.NO_ERROR=0,K0.TIMEOUT=8,K0.HTTP_ERROR=6,k1=K0,fR.COMPLETE="complete",jz=fR,qe.EventType=Tt,Tt.OPEN="a",Tt.CLOSE="b",Tt.ERROR="c",Tt.MESSAGE="d",Zt.prototype.listen=Zt.prototype.K,bm=qe,Cr.prototype.listenOnce=Cr.prototype.L,Cr.prototype.getLastError=Cr.prototype.Ka,Cr.prototype.getLastErrorCode=Cr.prototype.Ba,Cr.prototype.getStatus=Cr.prototype.Z,Cr.prototype.getResponseJson=Cr.prototype.Oa,Cr.prototype.getResponseText=Cr.prototype.oa,Cr.prototype.send=Cr.prototype.ea,Cr.prototype.setWithCredentials=Cr.prototype.Ha,Oz=Cr}).apply(typeof Iy<"u"?Iy:typeof self<"u"?self:typeof window<"u"?window:{});const KD="@firebase/firestore",YD="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kn.UNAUTHENTICATED=new Kn(null),Kn.GOOGLE_CREDENTIALS=new Kn("google-credentials-uid"),Kn.FIRST_PARTY=new Kn("first-party-uid"),Kn.MOCK_USER=new Kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=new c2("@firebase/firestore");function Ud(){return Hu.logLevel}function ke(t,...e){if(Hu.logLevel<=ut.DEBUG){const r=e.map(PO);Hu.debug(`Firestore (${Xh}): ${t}`,...r)}}function Qs(t,...e){if(Hu.logLevel<=ut.ERROR){const r=e.map(PO);Hu.error(`Firestore (${Xh}): ${t}`,...r)}}function qf(t,...e){if(Hu.logLevel<=ut.WARN){const r=e.map(PO);Hu.warn(`Firestore (${Xh}): ${t}`,...r)}}function PO(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,Mz(t,n,r)}function Mz(t,e,r){let n=`FIRESTORE (${Xh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Qs(n),new Error(n)}function Er(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||Mz(e,i,n)}function vt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends za{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rfe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Kn.UNAUTHENTICATED))}shutdown(){}}class Dfe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Mfe{constructor(e){this.t=e,this.currentUser=Kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Er(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new ac;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ac,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ac)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Er(typeof n.accessToken=="string",31837,{l:n}),new Lz(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Er(e===null||typeof e=="string",2055,{h:e}),new Kn(e)}}class Lfe{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Kn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $fe{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Lfe(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class XD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ffe{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ki(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Er(this.o===void 0,3512);const n=a=>{a.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,ke("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new XD(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Er(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new XD(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bfe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $z(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=Bfe(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function ot(t,e){return t<e?-1:t>e?1:0}function sT(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),i=e.codePointAt(r);if(n!==i){if(n<128&&i<128)return ot(n,i);{const a=$z(),o=Ufe(a.encode(QD(t,r)),a.encode(QD(e,r)));return o!==0?o:ot(n,i)}}r+=n>65535?2:1}return ot(t.length,e.length)}function QD(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Ufe(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return ot(t[r],e[r]);return ot(t.length,e.length)}function Kf(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=-62135596800,JD=1e6;class Ui{static now(){return Ui.fromMillis(Date.now())}static fromDate(e){return Ui.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*JD);return new Ui(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ve(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ve(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<ZD)throw new Ve(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/JD}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ZD;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new Ui(0,0))}static max(){return new Xe(new Ui(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="__name__";class Do{constructor(e,r,n){r===void 0?r=0:r>e.length&&Qe(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&Qe(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Do.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Do?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=Do.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return ot(e.length,r.length)}static compareSegments(e,r){const n=Do.isNumericId(e),i=Do.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Do.extractNumericId(e).compare(Do.extractNumericId(r)):sT(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ic.fromString(e.substring(4,e.length-2))}}class fr extends Do{construct(e,r,n){return new fr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ve(Pe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new fr(r)}static emptyPath(){return new fr([])}}const Vfe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yi extends Do{construct(e,r,n){return new yi(e,r,n)}static isValidIdentifier(e){return Vfe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eM}static keyField(){return new yi([eM])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Ve(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new Ve(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ve(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new Ve(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yi(r)}static emptyPath(){return new yi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.path=e}static fromPath(e){return new He(fr.fromString(e))}static fromName(e){return new He(fr.fromString(e).popFirst(5))}static empty(){return new He(fr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&fr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return fr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new fr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg=-1;function zfe(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Xe.fromTimestamp(n===1e9?new Ui(r+1,0):new Ui(r,n));return new wc(i,He.empty(),e)}function Wfe(t){return new wc(t.readTime,t.key,Mg)}class wc{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new wc(Xe.min(),He.empty(),Mg)}static max(){return new wc(Xe.max(),He.empty(),Mg)}}function Hfe(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=He.comparator(t.documentKey,e.documentKey),r!==0?r:ot(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gfe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qfe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d2(t){if(t.code!==Pe.FAILED_PRECONDITION||t.message!==Gfe)throw t;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ge((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ge?r:ge.resolve(r)}catch(r){return ge.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ge.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ge.reject(r)}static resolve(e){return new ge((r,n)=>{r(e)})}static reject(e){return new ge((r,n)=>{n(e)})}static waitFor(e){return new ge((r,n)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&r()},l=>n(l))}),o=!0,a===i&&r()})}static or(e){let r=ge.resolve(!1);for(const n of e)r=r.next(i=>i?ge.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new ge((n,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;r(e[u]).next(d=>{o[u]=d,++s,s===a&&n(o)},d=>i(d))}})}static doWhile(e,r){return new ge((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function Kfe(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Qh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}f2.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yfe=-1;function h2(t){return t==null}function lT(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz="";function Xfe(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=tM(e)),e=Qfe(t.get(r),e);return tM(e)}function Qfe(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case Bz:r+="";break;default:r+=a}}return r}function tM(t){return t+Bz+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function f0(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function Zfe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,r){this.comparator=e,this.root=r||In.EMPTY}insert(e,r){return new Fr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new Fr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Py(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Py(this.root,e,this.comparator,!1)}getReverseIterator(){return new Py(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Py(this.root,e,this.comparator,!0)}}class Py{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??In.RED,this.left=i??In.EMPTY,this.right=a??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new In(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return In.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Qe(27949);return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe(57766)}get value(){throw Qe(16141)}get color(){throw Qe(16727)}get left(){throw Qe(29726)}get right(){throw Qe(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new In(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.comparator=e,this.data=new Fr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new nM(this.data.getIterator())}getIteratorFrom(e){return new nM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new sn(this.comparator);return r.data=e,r}}class nM{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this.fields=e,e.sort(yi.comparator)}static empty(){return new zl([])}unionWith(e){let r=new sn(yi.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new zl(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Kf(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Uz("Invalid base64 string: "+a):a}}(e);return new Dn(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new Dn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dn.EMPTY_BYTE_STRING=new Dn("");const Jfe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bc(t){if(Er(!!t,39018),typeof t=="string"){let e=0;const r=Jfe.exec(t);if(Er(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Dr(t.seconds),nanos:Dr(t.nanos)}}function Dr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _c(t){return typeof t=="string"?Dn.fromBase64String(t):Dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz="server_timestamp",zz="__type__",Wz="__previous_value__",Hz="__local_write_time__";function OO(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[zz])===null||r===void 0?void 0:r.stringValue)===Vz}function p2(t){const e=t.mapValue.fields[Wz];return OO(e)?p2(e):e}function Lg(t){const e=bc(t.mapValue.fields[Hz].timestampValue);return new Ui(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ehe{constructor(e,r,n,i,a,o,s,l,u,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const Lx="(default)";class $g{constructor(e,r){this.projectId=e,this.database=r||Lx}static empty(){return new $g("","")}get isDefaultDatabase(){return this.database===Lx}isEqual(e){return e instanceof $g&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const the="__type__",rhe="__max__",Oy={mapValue:{}},nhe="__vector__",cT="value";function Sc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?OO(t)?4:ahe(t)?9007199254740991:ihe(t)?10:11:Qe(28295,{value:t})}function ns(t,e){if(t===e)return!0;const r=Sc(t);if(r!==Sc(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lg(t).isEqual(Lg(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=bc(i.timestampValue),s=bc(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return _c(i.bytesValue).isEqual(_c(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Dr(i.geoPointValue.latitude)===Dr(a.geoPointValue.latitude)&&Dr(i.geoPointValue.longitude)===Dr(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Dr(i.integerValue)===Dr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Dr(i.doubleValue),s=Dr(a.doubleValue);return o===s?lT(o)===lT(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Kf(t.arrayValue.values||[],e.arrayValue.values||[],ns);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(rM(o)!==rM(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!ns(o[l],s[l])))return!1;return!0}(t,e);default:return Qe(52216,{left:t})}}function Fg(t,e){return(t.values||[]).find(r=>ns(r,e))!==void 0}function Yf(t,e){if(t===e)return 0;const r=Sc(t),n=Sc(e);if(r!==n)return ot(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return ot(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=Dr(a.integerValue||a.doubleValue),l=Dr(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return iM(t.timestampValue,e.timestampValue);case 4:return iM(Lg(t),Lg(e));case 5:return sT(t.stringValue,e.stringValue);case 6:return function(a,o){const s=_c(a),l=_c(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const d=ot(s[u],l[u]);if(d!==0)return d}return ot(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=ot(Dr(a.latitude),Dr(o.latitude));return s!==0?s:ot(Dr(a.longitude),Dr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return aM(t.arrayValue,e.arrayValue);case 10:return function(a,o){var s,l,u,d;const f=a.fields||{},h=o.fields||{},p=(s=f[cT])===null||s===void 0?void 0:s.arrayValue,m=(l=h[cT])===null||l===void 0?void 0:l.arrayValue,g=ot(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((d=m==null?void 0:m.values)===null||d===void 0?void 0:d.length)||0);return g!==0?g:aM(p,m)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Oy.mapValue&&o===Oy.mapValue)return 0;if(a===Oy.mapValue)return 1;if(o===Oy.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=sT(l[f],d[f]);if(h!==0)return h;const p=Yf(s[l[f]],u[d[f]]);if(p!==0)return p}return ot(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Qe(23264,{Pe:r})}}function iM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ot(t,e);const r=bc(t),n=bc(e),i=ot(r.seconds,n.seconds);return i!==0?i:ot(r.nanos,n.nanos)}function aM(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Yf(r[i],n[i]);if(a)return a}return ot(r.length,n.length)}function Xf(t){return uT(t)}function uT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=bc(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return _c(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return He.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=uT(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${uT(r.fields[o])}`;return i+"}"}(t.mapValue):Qe(61005,{value:t})}function R1(t){switch(Sc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=p2(t);return e?16+R1(e):16;case 5:return 2*t.stringValue.length;case 6:return _c(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+R1(a),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return f0(n.fields,(a,o)=>{i+=a.length+R1(o)}),i}(t.mapValue);default:throw Qe(13486,{value:t})}}function dT(t){return!!t&&"integerValue"in t}function jO(t){return!!t&&"arrayValue"in t}function oM(t){return!!t&&"nullValue"in t}function sM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sE(t){return!!t&&"mapValue"in t}function ihe(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[the])===null||r===void 0?void 0:r.stringValue)===nhe}function Km(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return f0(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Km(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Km(t.arrayValue.values[r]);return e}return Object.assign({},t)}function ahe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===rhe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.value=e}static empty(){return new Fo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!sE(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Km(r)}setAll(e){let r=yi.emptyPath(),n={},i=[];e.forEach((o,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}o?n[s.lastSegment()]=Km(o):i.push(s.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());sE(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ns(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];sE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){f0(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new Fo(Km(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,r,n,i,a,o,s){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Xn(e,0,Xe.min(),Xe.min(),Xe.min(),Fo.empty(),0)}static newFoundDocument(e,r,n,i){return new Xn(e,1,r,Xe.min(),n,i,0)}static newNoDocument(e,r){return new Xn(e,2,r,Xe.min(),Xe.min(),Fo.empty(),0)}static newUnknownDocument(e,r){return new Xn(e,3,r,Xe.min(),Xe.min(),Fo.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,r){this.position=e,this.inclusive=r}}function lM(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=He.comparator(He.fromName(o.referenceValue),r.key):n=Yf(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function cM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ns(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,r="asc"){this.field=e,this.dir=r}}function ohe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{}class tn extends Gz{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new lhe(e,r,n):r==="array-contains"?new dhe(e,n):r==="in"?new fhe(e,n):r==="not-in"?new hhe(e,n):r==="array-contains-any"?new phe(e,n):new tn(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new che(e,n):new uhe(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Yf(r,this.value)):r!==null&&Sc(this.value)===Sc(r)&&this.matchesComparison(Yf(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class is extends Gz{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new is(e,r)}matches(e){return qz(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function qz(t){return t.op==="and"}function Kz(t){return she(t)&&qz(t)}function she(t){for(const e of t.filters)if(e instanceof is)return!1;return!0}function fT(t){if(t instanceof tn)return t.field.canonicalString()+t.op.toString()+Xf(t.value);if(Kz(t))return t.filters.map(e=>fT(e)).join(",");{const e=t.filters.map(r=>fT(r)).join(",");return`${t.op}(${e})`}}function Yz(t,e){return t instanceof tn?function(n,i){return i instanceof tn&&n.op===i.op&&n.field.isEqual(i.field)&&ns(n.value,i.value)}(t,e):t instanceof is?function(n,i){return i instanceof is&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,s)=>a&&Yz(o,i.filters[s]),!0):!1}(t,e):void Qe(19439)}function Xz(t){return t instanceof tn?function(r){return`${r.field.canonicalString()} ${r.op} ${Xf(r.value)}`}(t):t instanceof is?function(r){return r.op.toString()+" {"+r.getFilters().map(Xz).join(" ,")+"}"}(t):"Filter"}class lhe extends tn{constructor(e,r,n){super(e,r,n),this.key=He.fromName(n.referenceValue)}matches(e){const r=He.comparator(e.key,this.key);return this.matchesComparison(r)}}class che extends tn{constructor(e,r){super(e,"in",r),this.keys=Qz("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class uhe extends tn{constructor(e,r){super(e,"not-in",r),this.keys=Qz("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Qz(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>He.fromName(n.referenceValue))}class dhe extends tn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return jO(r)&&Fg(r.arrayValue,this.value)}}class fhe extends tn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Fg(this.value.arrayValue,r)}}class hhe extends tn{constructor(e,r){super(e,"not-in",r)}matches(e){if(Fg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Fg(this.value.arrayValue,r)}}class phe extends tn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!jO(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Fg(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mhe{constructor(e,r=null,n=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Ie=null}}function uM(t,e=null,r=[],n=[],i=null,a=null,o=null){return new mhe(t,e,r,n,i,a,o)}function kO(t){const e=vt(t);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>fT(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),h2(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Xf(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Xf(n)).join(",")),e.Ie=r}return e.Ie}function RO(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!ohe(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!Yz(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cM(t.startAt,e.startAt)&&cM(t.endAt,e.endAt)}function hT(t){return He.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,r=null,n=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function ghe(t,e,r,n,i,a,o,s){return new m2(t,e,r,n,i,a,o,s)}function DO(t){return new m2(t)}function dM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vhe(t){return t.collectionGroup!==null}function Ym(t){const e=vt(t);if(e.Ee===null){e.Ee=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new sn(yi.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Fx(a,n))}),r.has(yi.keyField().canonicalString())||e.Ee.push(new Fx(yi.keyField(),n))}return e.Ee}function qo(t){const e=vt(t);return e.de||(e.de=yhe(e,Ym(t))),e.de}function yhe(t,e){if(t.limitType==="F")return uM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Fx(i.field,a)});const r=t.endAt?new $x(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new $x(t.startAt.position,t.startAt.inclusive):null;return uM(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function pT(t,e,r){return new m2(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function g2(t,e){return RO(qo(t),qo(e))&&t.limitType===e.limitType}function Zz(t){return`${kO(qo(t))}|lt:${t.limitType}`}function Vd(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>Xz(i)).join(", ")}]`),h2(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Xf(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Xf(i)).join(",")),`Target(${n})`}(qo(t))}; limitType=${t.limitType})`}function v2(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):He.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of Ym(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,s,l){const u=lM(o,s,l);return o.inclusive?u<=0:u<0}(n.startAt,Ym(n),i)||n.endAt&&!function(o,s,l){const u=lM(o,s,l);return o.inclusive?u>=0:u>0}(n.endAt,Ym(n),i))}(t,e)}function xhe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Jz(t){return(e,r)=>{let n=!1;for(const i of Ym(t)){const a=whe(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function whe(t,e,r){const n=t.field.isKeyField()?He.comparator(e.key,r.key):function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?Yf(l,u):Qe(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Qe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){f0(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return Zfe(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bhe=new Fr(He.comparator);function Ec(){return bhe}const eW=new Fr(He.comparator);function _m(...t){let e=eW;for(const r of t)e=e.insert(r.key,r);return e}function _he(t){let e=eW;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function yu(){return Xm()}function tW(){return Xm()}function Xm(){return new yd(t=>t.toString(),(t,e)=>t.isEqual(e))}const She=new sn(He.comparator);function xt(...t){let e=She;for(const r of t)e=e.add(r);return e}const Ehe=new sn(ot);function Ahe(){return Ehe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Che(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lT(e)?"-0":e}}function The(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this._=void 0}}function Nhe(t,e,r){return t instanceof mT?function(i,a){const o={fields:{[zz]:{stringValue:Vz},[Hz]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&OO(a)&&(a=p2(a)),a&&(o.fields[Wz]=a),{mapValue:o}}(r,e):t instanceof Bx?rW(t,e):t instanceof Ux?nW(t,e):function(i,a){const o=Phe(i,a),s=fM(o)+fM(i.Re);return dT(o)&&dT(i.Re)?The(s):Che(i.serializer,s)}(t,e)}function Ihe(t,e,r){return t instanceof Bx?rW(t,e):t instanceof Ux?nW(t,e):r}function Phe(t,e){return t instanceof gT?function(n){return dT(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class mT extends y2{}class Bx extends y2{constructor(e){super(),this.elements=e}}function rW(t,e){const r=iW(e);for(const n of t.elements)r.some(i=>ns(i,n))||r.push(n);return{arrayValue:{values:r}}}class Ux extends y2{constructor(e){super(),this.elements=e}}function nW(t,e){let r=iW(e);for(const n of t.elements)r=r.filter(i=>!ns(i,n));return{arrayValue:{values:r}}}class gT extends y2{constructor(e,r){super(),this.serializer=e,this.Re=r}}function fM(t){return Dr(t.integerValue||t.doubleValue)}function iW(t){return jO(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Ohe(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Bx&&i instanceof Bx||n instanceof Ux&&i instanceof Ux?Kf(n.elements,i.elements,ns):n instanceof gT&&i instanceof gT?ns(n.Re,i.Re):n instanceof mT&&i instanceof mT}(t.transform,e.transform)}class Pu{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Pu}static exists(e){return new Pu(void 0,e)}static updateTime(e){return new Pu(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function D1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class MO{}function aW(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new khe(t.key,Pu.none()):new LO(t.key,t.data,Pu.none());{const r=t.data,n=Fo.empty();let i=new sn(yi.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new x2(t.key,n,new zl(i.toArray()),Pu.none())}}function jhe(t,e,r){t instanceof LO?function(i,a,o){const s=i.value.clone(),l=pM(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,r):t instanceof x2?function(i,a,o){if(!D1(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=pM(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(oW(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function Qm(t,e,r,n){return t instanceof LO?function(a,o,s,l){if(!D1(a.precondition,o))return s;const u=a.value.clone(),d=mM(a.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof x2?function(a,o,s,l){if(!D1(a.precondition,o))return s;const u=mM(a.fieldTransforms,l,o),d=o.data;return d.setAll(oW(a)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(a,o,s){return D1(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,r)}function hM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Kf(n,i,(a,o)=>Ohe(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class LO extends MO{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class x2 extends MO{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function oW(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function pM(t,e,r){const n=new Map;Er(t.length===r.length,32656,{Ve:r.length,me:t.length});for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);n.set(a.field,Ihe(o,s,r[i]))}return n}function mM(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,Nhe(a,o,e))}return n}class khe extends MO{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rhe{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&jhe(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Qm(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Qm(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=tW();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=r.has(i.key)?null:s;const l=aW(o,s);l!==null&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Xe.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),xt())}isEqual(e){return this.batchId===e.batchId&&Kf(this.mutations,e.mutations,(r,n)=>hM(r,n))&&Kf(this.baseMutations,e.baseMutations,(r,n)=>hM(r,n))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dhe=class{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mhe{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Br,ht;function sW(t){if(t===void 0)return Qs("GRPC error has no .code"),Pe.UNKNOWN;switch(t){case Br.OK:return Pe.OK;case Br.CANCELLED:return Pe.CANCELLED;case Br.UNKNOWN:return Pe.UNKNOWN;case Br.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case Br.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case Br.INTERNAL:return Pe.INTERNAL;case Br.UNAVAILABLE:return Pe.UNAVAILABLE;case Br.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case Br.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case Br.NOT_FOUND:return Pe.NOT_FOUND;case Br.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case Br.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case Br.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case Br.ABORTED:return Pe.ABORTED;case Br.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case Br.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case Br.DATA_LOSS:return Pe.DATA_LOSS;default:return Qe(39323,{code:t})}}(ht=Br||(Br={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lhe=new ic([4294967295,4294967295],0);function gM(t){const e=$z().encode(t),r=new Pz;return r.update(e),new Uint8Array(r.digest())}function vM(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ic([r,n],0),new ic([i,a],0)]}class $O{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Sm(`Invalid padding: ${r}`);if(n<0)throw new Sm(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Sm(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Sm(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*e.length-r,this.ye=ic.fromNumber(this.pe)}we(e,r,n){let i=e.add(r.multiply(ic.fromNumber(n)));return i.compare(Lhe)===1&&(i=new ic([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const r=gM(e),[n,i]=vM(r);for(let a=0;a<this.hashCount;a++){const o=this.we(n,i,a);if(!this.be(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new $O(a,i,r);return n.forEach(s=>o.insert(s)),o}insert(e){if(this.pe===0)return;const r=gM(e),[n,i]=vM(r);for(let a=0;a<this.hashCount;a++){const o=this.we(n,i,a);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Sm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,h0.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new w2(Xe.min(),i,new Fr(ot),Ec(),xt())}}class h0{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new h0(n,r,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,r,n,i){this.De=e,this.removedTargetIds=r,this.key=n,this.ve=i}}class lW{constructor(e,r){this.targetId=e,this.Ce=r}}class cW{constructor(e,r,n=Dn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class yM{constructor(){this.Fe=0,this.Me=xM(),this.xe=Dn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=xt(),r=xt(),n=xt();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Qe(38017,{changeType:a})}}),new h0(this.xe,this.Oe,e,r,n)}Qe(){this.Ne=!1,this.Me=xM()}$e(e,r){this.Ne=!0,this.Me=this.Me.insert(e,r)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Er(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class $he{constructor(e){this.ze=e,this.je=new Map,this.He=Ec(),this.Je=jy(),this.Ye=jy(),this.Ze=new Fr(ot)}Xe(e){for(const r of e.De)e.ve&&e.ve.isFoundDocument()?this.et(r,e.ve):this.tt(r,e.key,e.ve);for(const r of e.removedTargetIds)this.tt(r,e.key,e.ve)}nt(e){this.forEachTarget(e,r=>{const n=this.rt(r);switch(e.state){case 0:this.it(r)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(r);break;case 3:this.it(r)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(r)&&(this.st(r),n.ke(e.resumeToken));break;default:Qe(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.je.forEach((n,i)=>{this.it(i)&&r(i)})}ot(e){const r=e.targetId,n=e.Ce.count,i=this._t(r);if(i){const a=i.target;if(hT(a))if(n===0){const o=new He(a.path);this.tt(r,o,Xn.newNoDocument(o,Xe.min()))}else Er(n===1,20013,{expectedCount:n});else{const o=this.ut(r);if(o!==n){const s=this.ct(e),l=s?this.lt(s,e,o):1;if(l!==0){this.st(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,u)}}}}}ct(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,s;try{o=_c(n).toUint8Array()}catch(l){if(l instanceof Uz)return qf("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new $O(o,i,a)}catch(l){return qf(l instanceof Sm?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.pe===0?null:s}lt(e,r,n){return r.Ce.count===n-this.Tt(e,r.targetId)?0:2}Tt(e,r){const n=this.ze.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.ze.Pt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.tt(r,a,null),i++)}),i}It(e){const r=new Map;this.je.forEach((a,o)=>{const s=this._t(o);if(s){if(a.current&&hT(s.target)){const l=new He(s.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,Xn.newNoDocument(l,e))}a.Le&&(r.set(o,a.qe()),a.Qe())}});let n=xt();this.Ye.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(a))}),this.He.forEach((a,o)=>o.setReadTime(e));const i=new w2(e,r,this.Ze,this.He,n);return this.He=Ec(),this.Je=jy(),this.Ye=jy(),this.Ze=new Fr(ot),i}et(e,r){if(!this.it(e))return;const n=this.dt(e,r.key)?2:0;this.rt(e).$e(r.key,n),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(e)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(e))}tt(e,r,n){if(!this.it(e))return;const i=this.rt(e);this.dt(e,r)?i.$e(r,1):i.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(e)),this.Ye=this.Ye.insert(r,this.At(r).add(e)),n&&(this.He=this.He.insert(r,n))}removeTarget(e){this.je.delete(e)}ut(e){const r=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let r=this.je.get(e);return r||(r=new yM,this.je.set(e,r)),r}At(e){let r=this.Ye.get(e);return r||(r=new sn(ot),this.Ye=this.Ye.insert(e,r)),r}Et(e){let r=this.Je.get(e);return r||(r=new sn(ot),this.Je=this.Je.insert(e,r)),r}it(e){const r=this._t(e)!==null;return r||ke("WatchChangeAggregator","Detected inactive target",e),r}_t(e){const r=this.je.get(e);return r&&r.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new yM),this.ze.getRemoteKeysForTarget(e).forEach(r=>{this.tt(e,r,null)})}dt(e,r){return this.ze.getRemoteKeysForTarget(e).has(r)}}function jy(){return new Fr(He.comparator)}function xM(){return new Fr(He.comparator)}const Fhe={asc:"ASCENDING",desc:"DESCENDING"},Bhe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uhe={and:"AND",or:"OR"};class Vhe{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function vT(t,e){return t.useProto3Json||h2(e)?e:{value:e}}function zhe(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Whe(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Tf(t){return Er(!!t,49232),Xe.fromTimestamp(function(r){const n=bc(r);return new Ui(n.seconds,n.nanos)}(t))}function Hhe(t,e){return yT(t,e).canonicalString()}function yT(t,e){const r=function(i){return new fr(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function uW(t){const e=fr.fromString(t);return Er(mW(e),10190,{key:e.toString()}),e}function lE(t,e){const r=uW(e);if(r.get(1)!==t.databaseId.projectId)throw new Ve(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ve(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new He(fW(r))}function dW(t,e){return Hhe(t.databaseId,e)}function Ghe(t){const e=uW(t);return e.length===4?fr.emptyPath():fW(e)}function wM(t){return new fr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fW(t){return Er(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function qhe(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Qe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,d){return u.useProto3Json?(Er(d===void 0||typeof d=="string",58123),Dn.fromBase64String(d||"")):(Er(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Dn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(u){const d=u.code===void 0?Pe.UNKNOWN:sW(u.code);return new Ve(d,u.message||"")}(o);r=new cW(n,i,a,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=lE(t,n.document.name),a=Tf(n.document.updateTime),o=n.document.createTime?Tf(n.document.createTime):Xe.min(),s=new Fo({mapValue:{fields:n.document.fields}}),l=Xn.newFoundDocument(i,a,o,s),u=n.targetIds||[],d=n.removedTargetIds||[];r=new M1(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=lE(t,n.document),a=n.readTime?Tf(n.readTime):Xe.min(),o=Xn.newNoDocument(i,a),s=n.removedTargetIds||[];r=new M1([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=lE(t,n.document),a=n.removedTargetIds||[];r=new M1([],a,i,null)}else{if(!("filter"in e))return Qe(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new Mhe(i,a),s=n.targetId;r=new lW(s,o)}}return r}function Khe(t,e){return{documents:[dW(t,e.path)]}}function Yhe(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=dW(t,i);const a=function(u){if(u.length!==0)return pW(is.create(u,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:zd(h.field),direction:Zhe(h.dir)}}(d))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const s=vT(t,e.limit);return s!==null&&(r.structuredQuery.limit=s),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:r,parent:i}}function Xhe(t){let e=Ghe(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Er(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];r.where&&(a=function(f){const h=hW(f);return h instanceof is&&Kz(h)?h.getFilters():[h]}(r.where));let o=[];r.orderBy&&(o=function(f){return f.map(h=>function(m){return new Fx(Wd(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(r.orderBy));let s=null;r.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,h2(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new $x(p,h)}(r.startAt));let u=null;return r.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new $x(p,h)}(r.endAt)),ghe(e,i,o,a,s,"F",l,u)}function Qhe(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qe(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function hW(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Wd(r.unaryFilter.field);return tn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Wd(r.unaryFilter.field);return tn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Wd(r.unaryFilter.field);return tn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Wd(r.unaryFilter.field);return tn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Qe(61313);default:return Qe(60726)}}(t):t.fieldFilter!==void 0?function(r){return tn.create(Wd(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Qe(58110);default:return Qe(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return is.create(r.compositeFilter.filters.map(n=>hW(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Qe(1026)}}(r.compositeFilter.op))}(t):Qe(30097,{filter:t})}function Zhe(t){return Fhe[t]}function Jhe(t){return Bhe[t]}function epe(t){return Uhe[t]}function zd(t){return{fieldPath:t.canonicalString()}}function Wd(t){return yi.fromServerFormat(t.fieldPath)}function pW(t){return t instanceof tn?function(r){if(r.op==="=="){if(sM(r.value))return{unaryFilter:{field:zd(r.field),op:"IS_NAN"}};if(oM(r.value))return{unaryFilter:{field:zd(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(sM(r.value))return{unaryFilter:{field:zd(r.field),op:"IS_NOT_NAN"}};if(oM(r.value))return{unaryFilter:{field:zd(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zd(r.field),op:Jhe(r.op),value:r.value}}}(t):t instanceof is?function(r){const n=r.getFilters().map(i=>pW(i));return n.length===1?n[0]:{compositeFilter:{op:epe(r.op),filters:n}}}(t):Qe(54877,{filter:t})}function mW(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,r,n,i,a=Xe.min(),o=Xe.min(),s=Dn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Wl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Wl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tpe{constructor(e){this.wt=e}}function rpe(t){const e=Xhe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?pT(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class npe{constructor(){this.yn=new ipe}addToCollectionParentIndex(e,r){return this.yn.add(r),ge.resolve()}getCollectionParents(e,r){return ge.resolve(this.yn.getEntries(r))}addFieldIndex(e,r){return ge.resolve()}deleteFieldIndex(e,r){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,r){return ge.resolve()}getDocumentsMatchingTarget(e,r){return ge.resolve(null)}getIndexType(e,r){return ge.resolve(0)}getFieldIndexes(e,r){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,r){return ge.resolve(wc.min())}getMinOffsetFromCollectionGroup(e,r){return ge.resolve(wc.min())}updateCollectionGroup(e,r,n){return ge.resolve()}updateIndexEntries(e,r){return ge.resolve()}}class ipe{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new sn(fr.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new sn(fr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gW=41943040;class Oi{static withCacheSize(e){return new Oi(e,Oi.DEFAULT_COLLECTION_PERCENTILE,Oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oi.DEFAULT_COLLECTION_PERCENTILE=10,Oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oi.DEFAULT=new Oi(gW,Oi.DEFAULT_COLLECTION_PERCENTILE,Oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oi.DISABLED=new Oi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Qf(0)}static ir(){return new Qf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M="LruGarbageCollector",ape=1048576;function SM([t,e],[r,n]){const i=ot(t,r);return i===0?ot(e,n):i}class ope{constructor(e){this.cr=e,this.buffer=new sn(SM),this.lr=0}hr(){return++this.lr}Pr(e){const r=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();SM(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class spe{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ke(_M,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Qh(r)?ke(_M,"Ignoring IndexedDB error during garbage collection: ",r):await d2(r)}await this.Ir(3e5)})}}class lpe{constructor(e,r){this.Er=e,this.params=r}calculateTargetCount(e,r){return this.Er.dr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return ge.resolve(f2.le);const n=new ope(r);return this.Er.forEachTarget(e,i=>n.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>n.Pr(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.Er.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Er.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(bM)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bM):this.Rr(e,r))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,r){let n,i,a,o,s,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(n=f,s=Date.now(),this.removeTargets(e,n,r))).next(f=>(a=f,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(f=>(u=Date.now(),Ud()<=ut.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(l-s)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function cpe(t,e){return new lpe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class upe{constructor(){this.changes=new yd(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Xn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ge.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dpe{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fpe{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Qm(n.mutation,i,zl.empty(),Ui.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,xt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=xt()){const i=yu();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let o=_m();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=yu();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,xt()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{r.set(o,s)})})}computeViews(e,r,n,i){let a=Ec();const o=Xm(),s=function(){return Xm()}();return r.forEach((l,u)=>{const d=n.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof x2)?a=a.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Qm(d.mutation,u,d.mutation.getFieldMask(),Ui.now())):o.set(u.key,zl.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,d)=>o.set(u,d)),r.forEach((u,d)=>{var f;return s.set(u,new dpe(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,r){const n=Xm();let i=new Fr((o,s)=>o-s),a=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const s of o)s.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let d=n.get(l)||zl.empty();d=s.applyToLocalView(u,d),n.set(l,d);const f=(i.get(s.batchId)||xt()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,d=l.value,f=tW();d.forEach(h=>{if(!a.has(h)){const p=aW(r.get(h),n.get(h));p!==null&&f.set(h,p),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ge.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return He.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):vhe(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):ge.resolve(yu());let s=Mg,l=a;return o.next(u=>ge.forEach(u,(d,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),a.get(d)?ge.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,xt())).next(d=>({batchId:s,changes:_he(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new He(r)).next(n=>{let i=_m();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=_m();return this.indexManager.getCollectionParents(e,a).next(s=>ge.forEach(s,l=>{const u=function(f,h){return new m2(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(o=>{a.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Xn.newInvalidDocument(d)))});let s=_m();return o.forEach((l,u)=>{const d=a.get(l);d!==void 0&&Qm(d.mutation,u,zl.empty(),Ui.now()),v2(r,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hpe{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,r){return ge.resolve(this.Fr.get(r))}saveBundleMetadata(e,r){return this.Fr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Tf(i.createTime)}}(r)),ge.resolve()}getNamedQuery(e,r){return ge.resolve(this.Mr.get(r))}saveNamedQuery(e,r){return this.Mr.set(r.name,function(i){return{name:i.name,query:rpe(i.bundledQuery),readTime:Tf(i.readTime)}}(r)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ppe{constructor(){this.overlays=new Fr(He.comparator),this.Or=new Map}getOverlay(e,r){return ge.resolve(this.overlays.get(r))}getOverlays(e,r){const n=yu();return ge.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.St(e,r,a)}),ge.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Or.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(n)),ge.resolve()}getOverlaysForCollection(e,r,n){const i=yu(),a=r.length+1,o=new He(r.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return ge.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Fr((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=a.get(u.largestBatchId);d===null&&(d=yu(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const s=yu(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>s.set(u,d)),!(s.size()>=i)););return ge.resolve(s)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Or.get(i.largestBatchId).delete(n.key);this.Or.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new Dhe(r,n));let a=this.Or.get(r);a===void 0&&(a=xt(),this.Or.set(r,a)),this.Or.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mpe{constructor(){this.sessionToken=Dn.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(){this.Nr=new sn(mn.Br),this.Lr=new sn(mn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,r){const n=new mn(e,r);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Qr(new mn(e,r))}$r(e,r){e.forEach(n=>this.removeReference(n,r))}Ur(e){const r=new He(new fr([])),n=new mn(r,e),i=new mn(r,e+1),a=[];return this.Lr.forEachInRange([n,i],o=>{this.Qr(o),a.push(o.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const r=new He(new fr([])),n=new mn(r,e),i=new mn(r,e+1);let a=xt();return this.Lr.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new mn(e,0),n=this.Nr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class mn{constructor(e,r){this.key=e,this.Gr=r}static Br(e,r){return He.comparator(e.key,r.key)||ot(e.Gr,r.Gr)}static kr(e,r){return ot(e.Gr,r.Gr)||He.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gpe{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new sn(mn.Br)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Rhe(a,r,n,i);this.mutationQueue.push(o);for(const s of i)this.zr=this.zr.add(new mn(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return ge.resolve(o)}lookupMutationBatch(e,r){return ge.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.Hr(n),a=i<0?0:i;return ge.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?Yfe:this.Jn-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new mn(r,0),i=new mn(r,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([n,i],o=>{const s=this.jr(o.Gr);a.push(s)}),ge.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new sn(ot);return r.forEach(i=>{const a=new mn(i,0),o=new mn(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,o],s=>{n=n.add(s.Gr)})}),ge.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;He.isDocumentKey(a)||(a=a.child(""));const o=new mn(new He(a),0);let s=new sn(ot);return this.zr.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.Gr)),!0)},o),ge.resolve(this.Jr(s))}Jr(e){const r=[];return e.forEach(n=>{const i=this.jr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Er(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.zr;return ge.forEach(r.mutations,i=>{const a=new mn(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=n})}Xn(e){}containsKey(e,r){const n=new mn(r,0),i=this.zr.firstAfterOrEqual(n);return ge.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}Yr(e,r){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const r=this.Hr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vpe{constructor(e){this.Zr=e,this.docs=function(){return new Fr(He.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.Zr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ge.resolve(n?n.document.mutableCopy():Xn.newInvalidDocument(r))}getEntries(e,r){let n=Ec();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Xn.newInvalidDocument(i))}),ge.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Ec();const o=r.path,s=new He(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Hfe(Wfe(d),n)<=0||(i.has(d.key)||v2(r,d))&&(a=a.insert(d.key,d.mutableCopy()))}return ge.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Qe(9500)}Xr(e,r){return ge.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new ype(this)}getSize(e){return ge.resolve(this.size)}}class ype extends upe{constructor(e){super(),this.vr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.vr.addEntry(e,i)):this.vr.removeEntry(n)}),ge.waitFor(r)}getFromCache(e,r){return this.vr.getEntry(e,r)}getAllFromCache(e,r){return this.vr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xpe{constructor(e){this.persistence=e,this.ei=new yd(r=>kO(r),RO),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.ti=0,this.ni=new FO,this.targetCount=0,this.ri=Qf.rr()}forEachTarget(e,r){return this.ei.forEach((n,i)=>r(i)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ti&&(this.ti=r),ge.resolve()}ar(e){this.ei.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ri=new Qf(r),this.highestTargetId=r),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,r){return this.ar(r),this.targetCount+=1,ge.resolve()}updateTargetData(e,r){return this.ar(r),ge.resolve()}removeTargetData(e,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.ei.forEach((o,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.ei.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),ge.waitFor(a).next(()=>i)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,r){const n=this.ei.get(r)||null;return ge.resolve(n)}addMatchingKeys(e,r,n){return this.ni.qr(r,n),ge.resolve()}removeMatchingKeys(e,r,n){this.ni.$r(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),ge.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.ni.Ur(r),ge.resolve()}getMatchingKeysForTargetId(e,r){const n=this.ni.Wr(r);return ge.resolve(n)}containsKey(e,r){return ge.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(e,r){this.ii={},this.overlays={},this.si=new f2(0),this.oi=!1,this.oi=!0,this._i=new mpe,this.referenceDelegate=e(this),this.ai=new xpe(this),this.indexManager=new npe,this.remoteDocumentCache=function(i){return new vpe(i)}(n=>this.referenceDelegate.ui(n)),this.serializer=new tpe(r),this.ci=new hpe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new ppe,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ii[e.toKey()];return n||(n=new gpe(r,this.referenceDelegate),this.ii[e.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,r,n){ke("MemoryPersistence","Starting transaction:",e);const i=new wpe(this.si.next());return this.referenceDelegate.li(),n(i).next(a=>this.referenceDelegate.hi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Pi(e,r){return ge.or(Object.values(this.ii).map(n=>()=>n.containsKey(e,r)))}}class wpe extends qfe{constructor(e){super(),this.currentSequenceNumber=e}}class BO{constructor(e){this.persistence=e,this.Ti=new FO,this.Ii=null}static Ei(e){return new BO(e)}get di(){if(this.Ii)return this.Ii;throw Qe(60996)}addReference(e,r,n){return this.Ti.addReference(n,r),this.di.delete(n.toString()),ge.resolve()}removeReference(e,r,n){return this.Ti.removeReference(n,r),this.di.add(n.toString()),ge.resolve()}markPotentiallyOrphaned(e,r){return this.di.add(r.toString()),ge.resolve()}removeTarget(e,r){this.Ti.Ur(r.targetId).forEach(i=>this.di.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}li(){this.Ii=new Set}hi(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.di,n=>{const i=He.fromPath(n);return this.Ai(e,i).next(a=>{a||r.removeEntry(i,Xe.min())})}).next(()=>(this.Ii=null,r.apply(e)))}updateLimboDocument(e,r){return this.Ai(e,r).next(n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(e){return 0}Ai(e,r){return ge.or([()=>ge.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Pi(e,r)])}}class Vx{constructor(e,r){this.persistence=e,this.Ri=new yd(n=>Xfe(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=cpe(this,r)}static Ei(e,r){return new Vx(e,r)}li(){}hi(e){return ge.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}dr(e){const r=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}Vr(e){let r=0;return this.Ar(e,n=>{r++}).next(()=>r)}Ar(e,r){return ge.forEach(this.Ri,(n,i)=>this.gr(e,n,i).next(a=>a?ge.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.Xr(e,o=>this.gr(e,o,r).next(s=>{s||(n++,a.removeEntry(o,Xe.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.Ri.set(r,e.currentSequenceNumber),ge.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.Ri.set(n,e.currentSequenceNumber),ge.resolve()}removeReference(e,r,n){return this.Ri.set(n,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,r){return this.Ri.set(r,e.currentSequenceNumber),ge.resolve()}ui(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=R1(e.data.value)),r}gr(e,r,n){return ge.or([()=>this.persistence.Pi(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.Ri.get(r);return ge.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.ls=n,this.hs=i}static Ps(e,r){let n=xt(),i=xt();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new UO(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bpe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _pe{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return hde()?8:Kfe(ri())>0?6:4}()}initialize(e,r){this.As=e,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Rs(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Vs(e,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new bpe;return this.fs(e,r,o).next(s=>{if(a.result=s,this.Is)return this.gs(e,r,o,s.size)})}).next(()=>a.result)}gs(e,r,n,i){return n.documentReadCount<this.Es?(Ud()<=ut.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",Vd(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ge.resolve()):(Ud()<=ut.DEBUG&&ke("QueryEngine","Query:",Vd(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ds*i?(Ud()<=ut.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",Vd(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qo(r))):ge.resolve())}Rs(e,r){if(dM(r))return ge.resolve(null);let n=qo(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=pT(r,null,"F"),n=qo(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=xt(...a);return this.As.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.ps(r,s);return this.ys(r,u,o,l.readTime)?this.Rs(e,pT(r,null,"F")):this.ws(e,u,r,l)}))})))}Vs(e,r,n,i){return dM(r)||i.isEqual(Xe.min())?ge.resolve(null):this.As.getDocuments(e,n).next(a=>{const o=this.ps(r,a);return this.ys(r,o,n,i)?ge.resolve(null):(Ud()<=ut.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vd(r)),this.ws(e,o,r,zfe(i,Mg)).next(s=>s))})}ps(e,r){let n=new sn(Jz(e));return r.forEach((i,a)=>{v2(e,a)&&(n=n.add(a))}),n}ys(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}fs(e,r,n){return Ud()<=ut.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",Vd(r)),this.As.getDocumentsMatchingQuery(e,r,wc.min(),n)}ws(e,r,n,i){return this.As.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="LocalStore",Spe=3e8;class Epe{constructor(e,r,n,i){this.persistence=e,this.bs=r,this.serializer=i,this.Ss=new Fr(ot),this.Ds=new yd(a=>kO(a),RO),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(n)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fpe(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ss))}}function Ape(t,e,r,n){return new Epe(t,e,r,n)}async function yW(t,e){const r=vt(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Fs(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],s=[];let l=xt();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of a){s.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return r.localDocuments.getDocuments(n,l).next(u=>({Ms:u,removedBatchIds:o,addedBatchIds:s}))})})}function xW(t){const e=vt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.ai.getLastRemoteSnapshotVersion(r))}function Cpe(t,e){const r=vt(t),n=e.snapshotVersion;let i=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.Cs.newChangeBuffer({trackRemovals:!0});i=r.Ss;const s=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;s.push(r.ai.removeMatchingKeys(a,d.removedDocuments,f).next(()=>r.ai.addMatchingKeys(a,d.addedDocuments,f)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Dn.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,n)),i=i.insert(f,p),function(g,v,x){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=Spe?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,p,d)&&s.push(r.ai.updateTargetData(a,p))});let l=Ec(),u=xt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(a,d))}),s.push(Tpe(a,o,e.documentUpdates).next(d=>{l=d.xs,u=d.Os})),!n.isEqual(Xe.min())){const d=r.ai.getLastRemoteSnapshotVersion(a).next(f=>r.ai.setTargetsMetadata(a,a.currentSequenceNumber,n));s.push(d)}return ge.waitFor(s).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(r.Ss=i,a))}function Tpe(t,e,r){let n=xt(),i=xt();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=Ec();return r.forEach((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(Xe.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):ke(VO,"Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{xs:o,Os:i}})}function Npe(t,e){const r=vt(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.ai.getTargetData(n,e).next(a=>a?(i=a,ge.resolve(i)):r.ai.allocateTargetId(n).next(o=>(i=new Wl(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.ai.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ss.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(n.targetId,n),r.Ds.set(e,n.targetId)),n})}async function xT(t,e,r){const n=vt(t),i=n.Ss.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Qh(o))throw o;ke(VO,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ss=n.Ss.remove(e),n.Ds.delete(i.target)}function EM(t,e,r){const n=vt(t);let i=Xe.min(),a=xt();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const f=vt(l),h=f.Ds.get(d);return h!==void 0?ge.resolve(f.Ss.get(h)):f.ai.getTargetData(u,d)}(n,o,qo(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.ai.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>n.bs.getDocumentsMatchingQuery(o,e,r?i:Xe.min(),r?a:xt())).next(s=>(Ipe(n,xhe(e),s),{documents:s,Ns:a})))}function Ipe(t,e,r){let n=t.vs.get(e)||Xe.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.vs.set(e,n)}class AM{constructor(){this.activeTargetIds=Ahe()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ppe{constructor(){this.So=new AM,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,r,n){this.Do[e]=r}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new AM,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ope{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM="ConnectivityMonitor";class TM{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ke(CM,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ke(CM,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ky=null;function wT(){return ky===null?ky=function(){return 268435456+Math.round(2147483648*Math.random())}():ky++,"0x"+ky.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="RestConnection",jpe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kpe{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+e.host,this.ko=`projects/${n}/databases/${i}`,this.qo=this.databaseId.database===Lx?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Qo(e,r,n,i,a){const o=wT(),s=this.$o(e,r.toUriEncodedString());ke(cE,`Sending RPC '${e}' ${o}:`,s,n);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,i,a);const{host:u}=new URL(s),d=Kh(u);return this.Ko(e,s,l,n,d).then(f=>(ke(cE,`Received RPC '${e}' ${o}: `,f),f),f=>{throw qf(cE,`RPC '${e}' ${o} failed with error: `,f,"url: ",s,"request:",n),f})}Wo(e,r,n,i,a,o){return this.Qo(e,r,n,i,a)}Uo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}$o(e,r){const n=jpe[e];return`${this.Lo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rpe{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="WebChannelConnection";class Dpe extends kpe{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,r,n,i,a){const o=wT();return new Promise((s,l)=>{const u=new Oz;u.setWithCredentials(!0),u.listenOnce(jz.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case k1.NO_ERROR:const f=u.getResponseJson();ke(Un,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case k1.TIMEOUT:ke(Un,`RPC '${e}' ${o} timed out`),l(new Ve(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case k1.HTTP_ERROR:const h=u.getStatus();if(ke(Un,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const g=function(x){const y=x.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(y)>=0?y:Pe.UNKNOWN}(m.status);l(new Ve(g,m.message))}else l(new Ve(Pe.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Ve(Pe.UNAVAILABLE,"Connection failed."));break;default:Qe(9055,{s_:e,streamId:o,o_:u.getLastErrorCode(),__:u.getLastError()})}}finally{ke(Un,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);ke(Un,`RPC '${e}' ${o} sending request:`,i),u.send(r,"POST",d,n,15)})}a_(e,r,n){const i=wT(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Dz(),s=Rz(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const d=a.join("");ke(Un,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);let h=!1,p=!1;const m=new Rpe({Go:v=>{p?ke(Un,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(ke(Un,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ke(Un,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},zo:()=>f.close()}),g=(v,x,y)=>{v.listen(x,w=>{try{y(w)}catch(S){setTimeout(()=>{throw S},0)}})};return g(f,bm.EventType.OPEN,()=>{p||(ke(Un,`RPC '${e}' stream ${i} transport opened.`),m.t_())}),g(f,bm.EventType.CLOSE,()=>{p||(p=!0,ke(Un,`RPC '${e}' stream ${i} transport closed`),m.r_())}),g(f,bm.EventType.ERROR,v=>{p||(p=!0,qf(Un,`RPC '${e}' stream ${i} transport errored. Name:`,v.name,"Message:",v.message),m.r_(new Ve(Pe.UNAVAILABLE,"The operation could not be completed")))}),g(f,bm.EventType.MESSAGE,v=>{var x;if(!p){const y=v.data[0];Er(!!y,16349);const w=y,S=(w==null?void 0:w.error)||((x=w[0])===null||x===void 0?void 0:x.error);if(S){ke(Un,`RPC '${e}' stream ${i} received error:`,S);const E=S.status;let C=function(N){const I=Br[N];if(I!==void 0)return sW(I)}(E),A=S.message;C===void 0&&(C=Pe.INTERNAL,A="Unknown error status: "+E+" with message "+S.message),p=!0,m.r_(new Ve(C,A)),f.close()}else ke(Un,`RPC '${e}' stream ${i} received:`,y),m.i_(y)}}),g(s,kz.STAT_EVENT,v=>{v.stat===oT.PROXY?ke(Un,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===oT.NOPROXY&&ke(Un,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.n_()},0),m}}function uE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wW(t){return new Vhe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bW{constructor(e,r,n=1e3,i=1.5,a=6e4){this.bi=e,this.timerId=r,this.u_=n,this.c_=i,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const r=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),i=Math.max(0,r-n);i>0&&ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="PersistentStream";class Mpe{constructor(e,r,n,i,a,o,s,l){this.bi=e,this.R_=n,this.V_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new bW(e,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():r&&r.code===Pe.RESOURCE_EXHAUSTED?(Qs(r.toString()),Qs("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===Pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.m_===r&&this.B_(n,i)},n=>{e(()=>{const i=new Ve(Pe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.L_(i)})})}B_(e,r){const n=this.N_(this.m_);this.stream=this.k_(e,r),this.stream.jo(()=>{n(()=>this.listener.jo())}),this.stream.Jo(()=>{n(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{n(()=>this.L_(i))}),this.stream.onMessage(i=>{n(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ke(NM,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return r=>{this.bi.enqueueAndForget(()=>this.m_===e?r():(ke(NM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lpe extends Mpe{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}k_(e,r){return this.connection.a_("Listen",e,r)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const r=qhe(this.serializer,e),n=function(a){if(!("targetChange"in a))return Xe.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Xe.min():o.readTime?Tf(o.readTime):Xe.min()}(e);return this.listener.Q_(r,n)}U_(e){const r={};r.database=wM(this.serializer),r.addTarget=function(a,o){let s;const l=o.target;if(s=hT(l)?{documents:Khe(a,l)}:{query:Yhe(a,l).gt},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=Whe(a,o.resumeToken);const u=vT(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(Xe.min())>0){s.readTime=zhe(a,o.snapshotVersion.toTimestamp());const u=vT(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const n=Qhe(this.serializer,e);n&&(r.labels=n),this.F_(r)}K_(e){const r={};r.database=wM(this.serializer),r.removeTarget=e,this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $pe{}class Fpe extends $pe{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new Ve(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,r,n,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Qo(e,yT(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ve(Pe.UNKNOWN,a.toString())})}Wo(e,r,n,i,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,yT(r,n),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ve(Pe.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class Bpe{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Qs(r),this.ea=!1):ke("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="RemoteStore";class Upe{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(o=>{n.enqueueAndForget(async()=>{m0(this)&&(ke(Zf,"Restarting streams for network reachability change."),await async function(l){const u=vt(l);u.aa.add(4),await p0(u),u.la.set("Unknown"),u.aa.delete(4),await b2(u)}(this))})}),this.la=new Bpe(n,i)}}async function b2(t){if(m0(t))for(const e of t.ua)await e(!0)}async function p0(t){for(const e of t.ua)await e(!1)}function _W(t,e){const r=vt(t);r._a.has(e.targetId)||(r._a.set(e.targetId,e),GO(r)?HO(r):Zh(r).b_()&&WO(r,e))}function zO(t,e){const r=vt(t),n=Zh(r);r._a.delete(e),n.b_()&&SW(r,e),r._a.size===0&&(n.b_()?n.v_():m0(r)&&r.la.set("Unknown"))}function WO(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Zh(t).U_(e)}function SW(t,e){t.ha.Ke(e),Zh(t).K_(e)}function HO(t){t.ha=new $he({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Zh(t).start(),t.la.ta()}function GO(t){return m0(t)&&!Zh(t).w_()&&t._a.size>0}function m0(t){return vt(t).aa.size===0}function EW(t){t.ha=void 0}async function Vpe(t){t.la.set("Online")}async function zpe(t){t._a.forEach((e,r)=>{WO(t,e)})}async function Wpe(t,e){EW(t),GO(t)?(t.la.ia(e),HO(t)):t.la.set("Unknown")}async function Hpe(t,e,r){if(t.la.set("Online"),e instanceof cW&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i._a.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i._a.delete(s),i.ha.removeTarget(s))}(t,e)}catch(n){ke(Zf,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await IM(t,n)}else if(e instanceof M1?t.ha.Xe(e):e instanceof lW?t.ha.ot(e):t.ha.nt(e),!r.isEqual(Xe.min()))try{const n=await xW(t.localStore);r.compareTo(n)>=0&&await function(a,o){const s=a.ha.It(o);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=a._a.get(u);d&&a._a.set(u,d.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,u)=>{const d=a._a.get(l);if(!d)return;a._a.set(l,d.withResumeToken(Dn.EMPTY_BYTE_STRING,d.snapshotVersion)),SW(a,l);const f=new Wl(d.target,l,u,d.sequenceNumber);WO(a,f)}),a.remoteSyncer.applyRemoteEvent(s)}(t,r)}catch(n){ke(Zf,"Failed to raise snapshot:",n),await IM(t,n)}}async function IM(t,e,r){if(!Qh(e))throw e;t.aa.add(1),await p0(t),t.la.set("Offline"),r||(r=()=>xW(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ke(Zf,"Retrying IndexedDB access"),await r(),t.aa.delete(1),await b2(t)})}async function PM(t,e){const r=vt(t);r.asyncQueue.verifyOperationInProgress(),ke(Zf,"RemoteStore received new credentials");const n=m0(r);r.aa.add(3),await p0(r),n&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.aa.delete(3),await b2(r)}async function Gpe(t,e){const r=vt(t);e?(r.aa.delete(2),await b2(r)):e||(r.aa.add(2),await p0(r),r.la.set("Unknown"))}function Zh(t){return t.Pa||(t.Pa=function(r,n,i){const a=vt(r);return a.Y_(),new Lpe(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{jo:Vpe.bind(null,t),Jo:zpe.bind(null,t),Zo:Wpe.bind(null,t),Q_:Hpe.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),GO(t)?HO(t):t.la.set("Unknown")):(await t.Pa.stop(),EW(t))})),t.Pa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new ac,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,s=new qO(e,r,o,i,a);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ve(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function AW(t,e){if(Qs("AsyncQueue",`${e}: ${t}`),Qh(t))return new Ve(Pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{static emptySet(e){return new Nf(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||He.comparator(r.key,n.key):(r,n)=>He.comparator(r.key,n.key),this.keyedMap=_m(),this.sortedSet=new Fr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Nf)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Nf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.Ia=new Fr(He.comparator)}track(e){const r=e.doc.key,n=this.Ia.get(r);n?e.type!==0&&n.type===3?this.Ia=this.Ia.insert(r,e):e.type===3&&n.type!==1?this.Ia=this.Ia.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Ia=this.Ia.remove(r):e.type===1&&n.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:e.doc}):Qe(63341,{Vt:e,Ea:n}):this.Ia=this.Ia.insert(r,e)}da(){const e=[];return this.Ia.inorderTraversal((r,n)=>{e.push(n)}),e}}class Jf{constructor(e,r,n,i,a,o,s,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach(s=>{o.push({type:0,doc:s})}),new Jf(e,r,Nf.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&g2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qpe{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class Kpe{constructor(){this.queries=jM(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,n){const i=vt(r),a=i.queries;i.queries=jM(),a.forEach((o,s)=>{for(const l of s.Ra)l.onError(n)})})(this,new Ve(Pe.ABORTED,"Firestore shutting down"))}}function jM(){return new yd(t=>Zz(t),g2)}async function CW(t,e){const r=vt(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.Va()&&e.ma()&&(n=2):(a=new qpe,n=e.ma()?0:1);try{switch(n){case 0:a.Aa=await r.onListen(i,!0);break;case 1:a.Aa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const s=AW(o,`Initialization of query '${Vd(e.query)}' failed`);return void e.onError(s)}r.queries.set(i,a),a.Ra.push(e),e.ga(r.onlineState),a.Aa&&e.pa(a.Aa)&&KO(r)}async function TW(t,e){const r=vt(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.Ra.indexOf(e);o>=0&&(a.Ra.splice(o,1),a.Ra.length===0?i=e.ma()?0:1:!a.Va()&&e.ma()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Ype(t,e){const r=vt(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const s of o.Ra)s.pa(i)&&(n=!0);o.Aa=i}}n&&KO(r)}function Xpe(t,e,r){const n=vt(t),i=n.queries.get(e);if(i)for(const a of i.Ra)a.onError(r);n.queries.delete(e)}function KO(t){t.fa.forEach(e=>{e.next()})}var bT,kM;(kM=bT||(bT={})).ya="default",kM.Cache="cache";class NW{constructor(e,r,n){this.query=e,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Jf(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ba?this.Da(e)&&(this.wa.next(e),r=!0):this.va(e,this.onlineState)&&(this.Ca(e),r=!0),this.Sa=e,r}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),r=!0),r}va(e,r){if(!e.fromCache||!this.ma())return!0;const n=r!=="Offline";return(!this.options.Fa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(e){e=Jf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==bT.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{constructor(e){this.key=e}}class PW{constructor(e){this.key=e}}class Qpe{constructor(e,r){this.query=e,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=xt(),this.mutatedKeys=xt(),this.Ua=Jz(e),this.Ka=new Nf(this.Ua)}get Wa(){return this.qa}Ga(e,r){const n=r?r.za:new OM,i=r?r.Ka:this.Ka;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),p=v2(this.query,f)?f:null,m=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?m!==g&&(n.track({type:3,doc:p}),v=!0):this.ja(h,p)||(n.track({type:2,doc:p}),v=!0,(l&&this.Ua(p,l)>0||u&&this.Ua(p,u)<0)&&(s=!0)):!h&&p?(n.track({type:0,doc:p}),v=!0):h&&!p&&(n.track({type:1,doc:h}),v=!0,(l||u)&&(s=!0)),v&&(p?(o=o.add(p),a=g?a.add(d):a.delete(d)):(o=o.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),a=a.delete(d.key),n.track({type:1,doc:d})}return{Ka:o,za:n,ys:s,mutatedKeys:a}}ja(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((d,f)=>function(p,m){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe(20277,{Vt:v})}};return g(p)-g(m)}(d.type,f.type)||this.Ua(d.doc,f.doc)),this.Ha(n),i=i!=null&&i;const s=r&&!i?this.Ja():[],l=this.$a.size===0&&this.current&&!i?1:0,u=l!==this.Qa;return this.Qa=l,o.length!==0||u?{snapshot:new Jf(this.query,e.Ka,a,o,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:s}:{Ya:s}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new OM,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=xt(),this.Ka.forEach(n=>{this.Za(n.key)&&(this.$a=this.$a.add(n.key))});const r=[];return e.forEach(n=>{this.$a.has(n)||r.push(new PW(n))}),this.$a.forEach(n=>{e.has(n)||r.push(new IW(n))}),r}Xa(e){this.qa=e.Ns,this.$a=xt();const r=this.Ga(e.documents);return this.applyChanges(r,!0)}eu(){return Jf.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const YO="SyncEngine";class Zpe{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Jpe{constructor(e){this.key=e,this.tu=!1}}class eme{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new yd(s=>Zz(s),g2),this.iu=new Map,this.su=new Set,this.ou=new Fr(He.comparator),this._u=new Map,this.au=new FO,this.uu={},this.cu=new Map,this.lu=Qf.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function tme(t,e,r=!0){const n=DW(t);let i;const a=n.ru.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.eu()):i=await OW(n,e,r,!0),i}async function rme(t,e){const r=DW(t);await OW(r,e,!0,!1)}async function OW(t,e,r,n){const i=await Npe(t.localStore,qo(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let s;return n&&(s=await nme(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&_W(t.remoteStore,i),s}async function nme(t,e,r,n,i){t.Pu=(f,h,p)=>async function(g,v,x,y){let w=v.view.Ga(x);w.ys&&(w=await EM(g.localStore,v.query,!1).then(({documents:A})=>v.view.Ga(A,w)));const S=y&&y.targetChanges.get(v.targetId),E=y&&y.targetMismatches.get(v.targetId)!=null,C=v.view.applyChanges(w,g.isPrimaryClient,S,E);return DM(g,v.targetId,C.Ya),C.snapshot}(t,f,h,p);const a=await EM(t.localStore,e,!0),o=new Qpe(e,a.Ns),s=o.Ga(a.documents),l=h0.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=o.applyChanges(s,t.isPrimaryClient,l);DM(t,r,u.Ya);const d=new Zpe(e,r,o);return t.ru.set(e,d),t.iu.has(r)?t.iu.get(r).push(e):t.iu.set(r,[e]),u.snapshot}async function ime(t,e,r){const n=vt(t),i=n.ru.get(e),a=n.iu.get(i.targetId);if(a.length>1)return n.iu.set(i.targetId,a.filter(o=>!g2(o,e))),void n.ru.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await xT(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&zO(n.remoteStore,i.targetId),_T(n,i.targetId)}).catch(d2)):(_T(n,i.targetId),await xT(n.localStore,i.targetId,!0))}async function ame(t,e){const r=vt(t),n=r.ru.get(e),i=r.iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),zO(r.remoteStore,n.targetId))}async function jW(t,e){const r=vt(t);try{const n=await Cpe(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r._u.get(a);o&&(Er(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.tu=!0:i.modifiedDocuments.size>0?Er(o.tu,14607):i.removedDocuments.size>0&&(Er(o.tu,42227),o.tu=!1))}),await RW(r,n,e)}catch(n){await d2(n)}}function RM(t,e,r){const n=vt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.ru.forEach((a,o)=>{const s=o.view.ga(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=vt(o);l.onlineState=s;let u=!1;l.queries.forEach((d,f)=>{for(const h of f.Ra)h.ga(s)&&(u=!0)}),u&&KO(l)}(n.eventManager,e),i.length&&n.nu.Q_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function ome(t,e,r){const n=vt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n._u.get(e),a=i&&i.key;if(a){let o=new Fr(He.comparator);o=o.insert(a,Xn.newNoDocument(a,Xe.min()));const s=xt().add(a),l=new w2(Xe.min(),new Map,new Fr(ot),o,s);await jW(n,l),n.ou=n.ou.remove(a),n._u.delete(e),XO(n)}else await xT(n.localStore,e,!1).then(()=>_T(n,e,r)).catch(d2)}function _T(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.iu.get(e))t.ru.delete(n),r&&t.nu.Tu(n,r);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(n=>{t.au.containsKey(n)||kW(t,n)})}function kW(t,e){t.su.delete(e.path.canonicalString());const r=t.ou.get(e);r!==null&&(zO(t.remoteStore,r),t.ou=t.ou.remove(e),t._u.delete(r),XO(t))}function DM(t,e,r){for(const n of r)n instanceof IW?(t.au.addReference(n.key,e),sme(t,n)):n instanceof PW?(ke(YO,"Document no longer in limbo: "+n.key),t.au.removeReference(n.key,e),t.au.containsKey(n.key)||kW(t,n.key)):Qe(19791,{Iu:n})}function sme(t,e){const r=e.key,n=r.path.canonicalString();t.ou.get(r)||t.su.has(n)||(ke(YO,"New document in limbo: "+r),t.su.add(n),XO(t))}function XO(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const r=new He(fr.fromString(e)),n=t.lu.next();t._u.set(n,new Jpe(r)),t.ou=t.ou.insert(r,n),_W(t.remoteStore,new Wl(qo(DO(r.path)),n,"TargetPurposeLimboResolution",f2.le))}}async function RW(t,e,r){const n=vt(t),i=[],a=[],o=[];n.ru.isEmpty()||(n.ru.forEach((s,l)=>{o.push(n.Pu(l,e,r).then(u=>{var d;if((u||r)&&n.isPrimaryClient){const f=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=UO.Ps(l.targetId,u);a.push(f)}}))}),await Promise.all(o),n.nu.Q_(i),await async function(l,u){const d=vt(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ge.forEach(u,h=>ge.forEach(h.ls,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>ge.forEach(h.hs,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Qh(f))throw f;ke(VO,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.Ss.get(h),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);d.Ss=d.Ss.insert(h,g)}}}(n.localStore,a))}async function lme(t,e){const r=vt(t);if(!r.currentUser.isEqual(e)){ke(YO,"User change. New user:",e.toKey());const n=await yW(r.localStore,e);r.currentUser=e,function(a,o){a.cu.forEach(s=>{s.forEach(l=>{l.reject(new Ve(Pe.CANCELLED,o))})}),a.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await RW(r,n.Ms)}}function cme(t,e){const r=vt(t),n=r._u.get(e);if(n&&n.tu)return xt().add(n.key);{let i=xt();const a=r.iu.get(e);if(!a)return i;for(const o of a){const s=r.ru.get(o);i=i.unionWith(s.view.Wa)}return i}}function DW(t){const e=vt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jW.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cme.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ome.bind(null,e),e.nu.Q_=Ype.bind(null,e.eventManager),e.nu.Tu=Xpe.bind(null,e.eventManager),e}class zx{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wW(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,r){return null}fu(e,r){return null}Vu(e){return Ape(this.persistence,new _pe,e.initialUser,this.serializer)}Ru(e){return new vW(BO.Ei,this.serializer)}Au(e){return new Ppe}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zx.provider={build:()=>new zx};class ume extends zx{constructor(e){super(),this.cacheSizeBytes=e}mu(e,r){Er(this.persistence.referenceDelegate instanceof Vx,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new spe(n,e.asyncQueue,r)}Ru(e){const r=this.cacheSizeBytes!==void 0?Oi.withCacheSize(this.cacheSizeBytes):Oi.DEFAULT;return new vW(n=>Vx.Ei(n,r),this.serializer)}}class ST{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>RM(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=lme.bind(null,this.syncEngine),await Gpe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Kpe}()}createDatastore(e){const r=wW(e.databaseInfo.databaseId),n=function(a){return new Dpe(a)}(e.databaseInfo);return function(a,o,s,l){return new Fpe(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,o,s){return new Upe(n,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,r=>RM(this.syncEngine,r,0),function(){return TM.C()?new TM:new Ope}())}createSyncEngine(e,r){return function(i,a,o,s,l,u,d){const f=new eme(i,a,o,s,l,u);return d&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=vt(i);ke(Zf,"RemoteStore shutting down."),a.aa.add(5),await p0(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}ST.provider={build:()=>new ST};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Qs("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac="FirestoreClient";class dme{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Kn.UNAUTHENTICATED,this.clientId=Fz.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{ke(Ac,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(ke(Ac,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ac;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=AW(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function dE(t,e){t.asyncQueue.verifyOperationInProgress(),ke(Ac,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await yW(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function MM(t,e){t.asyncQueue.verifyOperationInProgress();const r=await fme(t);ke(Ac,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>PM(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>PM(e.remoteStore,i)),t._onlineComponents=e}async function fme(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ke(Ac,"Using user provided OfflineComponentProvider");try{await dE(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===Pe.FAILED_PRECONDITION||i.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;qf("Error using user provided cache. Falling back to memory cache: "+r),await dE(t,new zx)}}else ke(Ac,"Using default OfflineComponentProvider"),await dE(t,new ume(void 0));return t._offlineComponents}async function hme(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ke(Ac,"Using user provided OnlineComponentProvider"),await MM(t,t._uninitializedComponentsProvider._online)):(ke(Ac,"Using default OnlineComponentProvider"),await MM(t,new ST))),t._onlineComponents}async function LW(t){const e=await hme(t),r=e.eventManager;return r.onListen=tme.bind(null,e.syncEngine),r.onUnlisten=ime.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=rme.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=ame.bind(null,e.syncEngine),r}function pme(t,e,r={}){const n=new ac;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const d=new MW({next:h=>{d.yu(),o.enqueueAndForget(()=>TW(a,f));const p=h.docs.has(s);!p&&h.fromCache?u.reject(new Ve(Pe.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new Ve(Pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new NW(DO(s.path),d,{includeMetadataChanges:!0,Fa:!0});return CW(a,f)}(await LW(t),t.asyncQueue,e,r,n)),n.promise}function mme(t,e,r={}){const n=new ac;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const d=new MW({next:h=>{d.yu(),o.enqueueAndForget(()=>TW(a,f)),h.fromCache&&l.source==="server"?u.reject(new Ve(Pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new NW(s,d,{includeMetadataChanges:!0,Fa:!0});return CW(a,f)}(await LW(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $W(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FW(t,e,r){if(!r)throw new Ve(Pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function gme(t,e,r,n){if(e===!0&&n===!0)throw new Ve(Pe.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function $M(t){if(!He.isDocumentKey(t))throw new Ve(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function FM(t){if(He.isDocumentKey(t))throw new Ve(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vme(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Qe(12329,{type:typeof t})}function Bg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ve(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=vme(t);throw new Ve(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BW="firestore.googleapis.com",BM=!0;class UM{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ve(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BW,this.ssl=BM}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:BM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gW;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ape)throw new Ve(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gme("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$W((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ve(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ve(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ve(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _2{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UM({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ve(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ve(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UM(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Rfe;switch(n.type){case"firstParty":return new $fe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ve(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Yh("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=LM.get(r);n&&(ke("ComponentProvider","Removing Datastore"),LM.delete(r),n.terminate())}(this),Promise.resolve()}}function yme(t,e,r,n={}){var i;t=Bg(t,_2);const a=Kh(e),o=t._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${r}`;o.host!==BW&&o.host!==l&&qf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:a,emulatorOptions:n});if(!xc(u,s)&&(t._setSettings(u),a&&(CO(`https://${l}`),Yh("Firestore",!0)),n.mockUserToken)){let d,f;if(typeof n.mockUserToken=="string")d=n.mockUserToken,f=Kn.MOCK_USER;else{d=_z(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Ve(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Kn(h)}t._authCredentials=new Dfe(new Lz(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new S2(this.firestore,e,this._query)}}class Ko{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ko(this.firestore,e,this._key)}}class oc extends S2{constructor(e,r,n){super(e,r,DO(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ko(this.firestore,null,new He(e))}withConverter(e){return new oc(this.firestore,e,this._path)}}function VM(t,e,...r){if(t=ni(t),FW("collection","path",e),t instanceof _2){const n=fr.fromString(e,...r);return FM(n),new oc(t,null,n)}{if(!(t instanceof Ko||t instanceof oc))throw new Ve(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(fr.fromString(e,...r));return FM(n),new oc(t.firestore,null,n)}}function UW(t,e,...r){if(t=ni(t),arguments.length===1&&(e=Fz.newId()),FW("doc","path",e),t instanceof _2){const n=fr.fromString(e,...r);return $M(n),new Ko(t,null,new He(n))}{if(!(t instanceof Ko||t instanceof oc))throw new Ve(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(fr.fromString(e,...r));return $M(n),new Ko(t.firestore,t instanceof oc?t.converter:null,new He(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM="AsyncQueue";class WM{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new bW(this,"async_queue_retry"),this.ju=()=>{const n=uE();n&&ke(zM,"Visibility state changed to "+n.visibilityState),this.y_.A_()},this.Hu=e;const r=uE();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const r=uE();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new ac;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Qh(e))throw e;ke(zM,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const r=this.Hu.then(()=>(this.Wu=!0,e().catch(n=>{throw this.Ku=n,this.Wu=!1,Qs("INTERNAL UNHANDLED ERROR: ",HM(n)),n}).then(n=>(this.Wu=!1,n))));return this.Hu=r,r}enqueueAfterDelay(e,r,n){this.Ju(),this.zu.indexOf(e)>-1&&(r=0);const i=qO.createAndSchedule(this,e,r,n,a=>this.Xu(a));return this.Uu.push(i),i}Ju(){this.Ku&&Qe(47125,{ec:HM(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const r of this.Uu)if(r.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const r=this.Uu.indexOf(e);this.Uu.splice(r,1)}}function HM(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class QO extends _2{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new WM,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WM(e),this._firestoreClient=void 0,await e}}}function xme(t,e){const r=typeof t=="object"?t:d0(),n=typeof t=="string"?t:Lx,i=ll(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=xz("firestore");a&&yme(i,...a)}return i}function VW(t){if(t._terminated)throw new Ve(Pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||wme(t),t._firestoreClient}function wme(t){var e,r,n;const i=t._freezeSettings(),a=function(s,l,u,d){return new ehe(s,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,$W(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new dme(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wx(Dn.fromBase64String(e))}catch(r){throw new Ve(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Wx(Dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ve(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bme{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ve(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ve(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _me{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}const Sme=new RegExp("[~\\*/\\[\\]]");function Eme(t,e,r){if(e.search(Sme)>=0)throw GM(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new zW(...e.split("."))._internalPath}catch{throw GM(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function GM(t,e,r,n,i){let a=`Function ${e}() called with invalid data`;a+=". ";let o="";return new Ve(Pe.INVALID_ARGUMENT,a+t+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ko(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ame(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(HW("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Ame extends WW{data(){return super.data()}}function HW(t,e){return typeof e=="string"?Eme(t,e):e instanceof zW?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cme(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ve(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tme{convertValue(e,r="none"){switch(Sc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(_c(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Qe(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return f0(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r[cT].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>Dr(o.doubleValue));return new _me(a)}convertGeoPoint(e){return new bme(Dr(e.latitude),Dr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=p2(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Lg(e));default:return null}}convertTimestamp(e){const r=bc(e);return new Ui(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=fr.fromString(e);Er(mW(n),9688,{name:e});const i=new $g(n.get(1),n.get(3)),a=new He(n.popFirst(5));return i.isEqual(r)||Qs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class GW extends WW{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new L1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(HW("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class L1 extends GW{data(e={}){return super.data(e)}}class Nme{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Em(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new L1(this._firestore,this._userDataWriter,n.key,n,new Em(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ve(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new L1(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Em(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new L1(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Em(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),d=o.indexOf(s.doc.key)),{type:Ime(s.type),doc:l,oldIndex:u,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Ime(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qW(t){t=Bg(t,Ko);const e=Bg(t.firestore,QO);return pme(VW(e),t._key).then(r=>Pme(e,t,r))}class KW extends Tme{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wx(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ko(this.firestore,null,r)}}function qM(t){t=Bg(t,S2);const e=Bg(t.firestore,QO),r=VW(e),n=new KW(e);return Cme(t._query),mme(r,t._query).then(i=>new Nme(e,n,t,i))}function Pme(t,e,r){const n=r.docs.get(e._key),i=new KW(t);return new GW(t,i,e._key,n,new Em(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){Xh=i})(vd),da(new Gi("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),s=new QO(new Mfe(n.getProvider("auth-internal")),new Ffe(o,n.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ve(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $g(u.options.projectId,d)}(o,i),o);return a=Object.assign({useFetchStreams:r},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),Jn(KD,YD,e),Jn(KD,YD,"esm2017")})();var Bo=function(){return Bo=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Bo.apply(this,arguments)};function g0(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Ome(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function YW(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jme=YW,XW=new Mc("auth","Firebase",YW());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=new c2("@firebase/auth");function kme(t,...e){Hx.logLevel<=ut.WARN&&Hx.warn(`Auth (${vd}): ${t}`,...e)}function $1(t,...e){Hx.logLevel<=ut.ERROR&&Hx.error(`Auth (${vd}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(t,...e){throw JO(t,...e)}function xo(t,...e){return JO(t,...e)}function ZO(t,e,r){const n=Object.assign(Object.assign({},jme()),{[e]:r});return new Mc("auth","Firebase",n).create(e,{appName:t.name})}function Ls(t){return ZO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rme(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&$a(t,"argument-error"),ZO(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function JO(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return XW.create(t,...e)}function Ye(t,e,...r){if(!t)throw JO(e,...r)}function Is(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $1(e),new Error(e)}function Zs(t,e){t||Is(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Dme(){return KM()==="http:"||KM()==="https:"}function KM(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mme(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Dme()||Sz()||"connection"in navigator)?navigator.onLine:!0}function Lme(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,r){this.shortDelay=e,this.longDelay=r,Zs(r>e,"Short delay should be less than long delay!"),this.isMobile=lde()||dde()}get(){return Mme()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(t,e){Zs(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $me={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fme=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Bme=new v0(3e4,6e4);function Lc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function cl(t,e,r,n,i={}){return ZW(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const s=u0(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},a);return ude()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Kh(t.emulatorConfig.host)&&(u.credentials="include"),QW.fetch()(await JW(t,t.config.apiHost,r,s),u)})}async function ZW(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},$me),e);try{const i=new Vme(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Ry(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ry(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ry(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ry(t,"user-disabled",o);const d=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw ZO(t,d,u);$a(t,d)}}catch(i){if(i instanceof za)throw i;$a(t,"network-request-failed",{message:String(i)})}}async function y0(t,e,r,n,i={}){const a=await cl(t,e,r,n,i);return"mfaPendingCredential"in a&&$a(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function JW(t,e,r,n){const i=`${e}${r}?${n}`,a=t,o=a.config.emulator?ej(t.config,i):`${t.config.apiScheme}://${i}`;return Fme.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function Ume(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Vme{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(xo(this.auth,"network-request-failed")),Bme.get())})}}function Ry(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=xo(t,e,n);return i.customData._tokenResponse=r,i}function YM(t){return t!==void 0&&t.enterprise!==void 0}class zme{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return Ume(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Wme(t,e){return cl(t,"GET","/v2/recaptchaConfig",Lc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hme(t,e){return cl(t,"POST","/v1/accounts:delete",e)}async function Gx(t,e){return cl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Gme(t,e=!1){const r=ni(t),n=await r.getIdToken(e),i=tj(n);Ye(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Zm(fE(i.auth_time)),issuedAtTime:Zm(fE(i.iat)),expirationTime:Zm(fE(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function fE(t){return Number(t)*1e3}function tj(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return $1("JWT malformed, contained fewer than 3 sections"),null;try{const i=vz(r);return i?JSON.parse(i):($1("Failed to decode base64 JWT payload"),null)}catch(i){return $1("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function XM(t){const e=tj(t);return Ye(e,"internal-error"),Ye(typeof e.exp<"u","internal-error"),Ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof za&&qme(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function qme({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kme{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zm(this.lastLoginAt),this.creationTime=Zm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(t){var e;const r=t.auth,n=await t.getIdToken(),i=await eh(t,Gx(r,{idToken:n}));Ye(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?eH(a.providerUserInfo):[],s=Xme(t.providerData,o),l=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),d=l?u:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new AT(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function Yme(t){const e=ni(t);await qx(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Xme(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function eH(t){return t.map(e=>{var{providerId:r}=e,n=g0(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qme(t,e){const r=await ZW(t,{},async()=>{const n=u0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await JW(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",QW.fetch()(o,{method:"POST",headers:s,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function Zme(t,e){return cl(t,"POST","/v2/accounts:revokeToken",Lc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ye(e.idToken,"internal-error"),Ye(typeof e.idToken<"u","internal-error"),Ye(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ye(e.length!==0,"internal-error");const r=XM(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await Qme(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new If;return n&&(Ye(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(Ye(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Ye(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new If,this.toJSON())}_performRefresh(){return Is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(t,e){Ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ho{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=g0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kme(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new AT(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await eh(this,this.stsTokenManager.getToken(this.auth,e));return Ye(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Gme(this,e)}reload(){return Yme(this)}_assign(e){this!==e&&(Ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ho(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await qx(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ki(this.auth.app))return Promise.reject(Ls(this.auth));const e=await this.getIdToken();return await eh(this,Hme(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,o,s,l,u,d;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,h=(i=r.email)!==null&&i!==void 0?i:void 0,p=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,m=(o=r.photoURL)!==null&&o!==void 0?o:void 0,g=(s=r.tenantId)!==null&&s!==void 0?s:void 0,v=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=r.createdAt)!==null&&u!==void 0?u:void 0,y=(d=r.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:S,isAnonymous:E,providerData:C,stsTokenManager:A}=r;Ye(w&&A,e,"internal-error");const T=If.fromJSON(this.name,A);Ye(typeof w=="string",e,"internal-error"),bl(f,e.name),bl(h,e.name),Ye(typeof S=="boolean",e,"internal-error"),Ye(typeof E=="boolean",e,"internal-error"),bl(p,e.name),bl(m,e.name),bl(g,e.name),bl(v,e.name),bl(x,e.name),bl(y,e.name);const N=new ho({uid:w,auth:e,email:h,emailVerified:S,displayName:f,isAnonymous:E,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:T,createdAt:x,lastLoginAt:y});return C&&Array.isArray(C)&&(N.providerData=C.map(I=>Object.assign({},I))),v&&(N._redirectEventId=v),N}static async _fromIdTokenResponse(e,r,n=!1){const i=new If;i.updateFromServerResponse(r);const a=new ho({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await qx(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ye(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?eH(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new If;s.updateFromIdToken(n);const l=new ho({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new AT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=new Map;function Ps(t){Zs(t instanceof Function,"Expected a class definition");let e=QM.get(t);return e?(Zs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,QM.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}tH.type="NONE";const ZM=tH;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(t,e,r){return`firebase:${t}:${e}:${r}`}class Pf{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=F1(this.userKey,i.apiKey,a),this.fullPersistenceKey=F1("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Gx(this.auth,{idToken:e}).catch(()=>{});return r?ho._fromGetAccountInfoResponse(this.auth,r,e):null}return ho._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Pf(Ps(ZM),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Ps(ZM);const o=F1(n,e.config.apiKey,e.name);let s=null;for(const u of r)try{const d=await u._get(o);if(d){let f;if(typeof d=="string"){const h=await Gx(e,{idToken:d}).catch(()=>{});if(!h)break;f=await ho._fromGetAccountInfoResponse(e,h,d)}else f=ho._fromJSON(e,d);u!==a&&(s=f),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Pf(a,e,n):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new Pf(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aH(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rH(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sH(e))return"Blackberry";if(lH(e))return"Webos";if(nH(e))return"Safari";if((e.includes("chrome/")||iH(e))&&!e.includes("edge/"))return"Chrome";if(oH(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function rH(t=ri()){return/firefox\//i.test(t)}function nH(t=ri()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iH(t=ri()){return/crios\//i.test(t)}function aH(t=ri()){return/iemobile/i.test(t)}function oH(t=ri()){return/android/i.test(t)}function sH(t=ri()){return/blackberry/i.test(t)}function lH(t=ri()){return/webos/i.test(t)}function rj(t=ri()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Jme(t=ri()){var e;return rj(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ege(){return fde()&&document.documentMode===10}function cH(t=ri()){return rj(t)||oH(t)||lH(t)||sH(t)||/windows phone/i.test(t)||aH(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uH(t,e=[]){let r;switch(t){case"Browser":r=JM(ri());break;case"Worker":r=`${JM(ri())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${vd}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tge{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rge(t,e={}){return cl(t,"GET","/v2/passwordPolicy",Lc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nge=6;class ige{constructor(e){var r,n,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:nge,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class age{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e6(this),this.idTokenSubscription=new e6(this),this.beforeStateQueue=new tge(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XW,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Ps(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await Pf.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Gx(this,{idToken:e}),n=await ho._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(ki(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await qx(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Lme()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ki(this.app))return Promise.reject(Ls(this));const r=e?ni(e):null;return r&&Ye(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ki(this.app)?Promise.reject(Ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ki(this.app)?Promise.reject(Ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rge(this),r=new ige(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mc("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await Zme(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Ps(e)||this._popupRedirectResolver;Ye(r,this,"argument-error"),this.redirectPersistenceManager=await Pf.create(this,[Ps(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ye(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{o=!0,l()}}else{const l=e.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uH(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;if(ki(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&kme(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function $c(t){return ni(t)}class e6{constructor(e){this.auth=e,this.observer=null,this.addObserver=yde(r=>this.observer=r)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let E2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oge(t){E2=t}function dH(t){return E2.loadJS(t)}function sge(){return E2.recaptchaEnterpriseScript}function lge(){return E2.gapiScript}function cge(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class uge{constructor(){this.enterprise=new dge}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class dge{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const fge="recaptcha-enterprise",fH="NO_RECAPTCHA";class hge{constructor(e){this.type=fge,this.auth=$c(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{Wme(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new zme(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;YM(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(u=>{o(u)}).catch(()=>{o(fH)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uge().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(s=>{if(!r&&YM(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=sge();l.length!==0&&(l+=s),dH(l).then(()=>{i(s,a,o)}).catch(u=>{o(u)})}}).catch(s=>{o(s)})})}}async function t6(t,e,r,n=!1,i=!1){const a=new hge(t);let o;if(i)o=fH;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const s=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const l=s.phoneEnrollmentInfo.phoneNumber,u=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const l=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return n?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function CT(t,e,r,n,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await t6(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await t6(t,e,r,r==="getOobCode");return n(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pge(t,e){const r=ll(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(xc(a,e??{}))return i;$a(i,"already-initialized")}return r.initialize({options:e})}function mge(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Ps);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function gge(t,e,r){const n=$c(t);Ye(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!!(r!=null&&r.disableWarnings),a=hH(e),{host:o,port:s}=vge(e),l=s===null?"":`:${s}`,u={url:`${a}//${o}${l}/`},d=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Ye(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Ye(xc(u,n.config.emulator)&&xc(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,Kh(o)?(Yh("Auth",!0),CO(`${a}//${o}${l}`)):i||yge()}function hH(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vge(t){const e=hH(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:r6(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:r6(o)}}}function r6(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function yge(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Is("not implemented")}_getIdTokenResponse(e){return Is("not implemented")}_linkToIdToken(e,r){return Is("not implemented")}_getReauthenticationResolver(e){return Is("not implemented")}}async function xge(t,e){return cl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wge(t,e){return y0(t,"POST","/v1/accounts:signInWithPassword",Lc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bge(t,e){return y0(t,"POST","/v1/accounts:signInWithEmailLink",Lc(t,e))}async function _ge(t,e){return y0(t,"POST","/v1/accounts:signInWithEmailLink",Lc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug extends nj{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Ug(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Ug(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return CT(e,r,"signInWithPassword",wge);case"emailLink":return bge(e,{email:this._email,oobCode:this._password});default:$a(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return CT(e,n,"signUpPassword",xge);case"emailLink":return _ge(e,{idToken:r,email:this._email,oobCode:this._password});default:$a(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Of(t,e){return y0(t,"POST","/v1/accounts:signInWithIdp",Lc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sge="http://localhost";class Gu extends nj{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Gu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):$a("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=g0(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new Gu(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Of(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Of(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Of(e,r)}buildRequest(){const e={requestUri:Sge,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=u0(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ege(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Age(t){const e=xm(wm(t)).link,r=e?xm(wm(e)).deep_link_id:null,n=xm(wm(t)).deep_link_id;return(n?xm(wm(n)).link:null)||n||r||e||t}class ij{constructor(e){var r,n,i,a,o,s;const l=xm(wm(e)),u=(r=l.apiKey)!==null&&r!==void 0?r:null,d=(n=l.oobCode)!==null&&n!==void 0?n:null,f=Ege((i=l.mode)!==null&&i!==void 0?i:null);Ye(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const r=Age(e);try{return new ij(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this.providerId=Jh.PROVIDER_ID}static credential(e,r){return Ug._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=ij.parseLink(r);return Ye(n,"argument-error"),Ug._fromEmailAndCode(e,n.code,n.tenantId)}}Jh.PROVIDER_ID="password";Jh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0 extends aj{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends x0{constructor(){super("facebook.com")}static credential(e){return Gu._fromParams({providerId:Dl.PROVIDER_ID,signInMethod:Dl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dl.credentialFromTaggedObject(e)}static credentialFromError(e){return Dl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dl.credential(e.oauthAccessToken)}catch{return null}}}Dl.FACEBOOK_SIGN_IN_METHOD="facebook.com";Dl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends x0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Gu._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return As.credential(r,n)}catch{return null}}}As.GOOGLE_SIGN_IN_METHOD="google.com";As.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends x0{constructor(){super("github.com")}static credential(e){return Gu._fromParams({providerId:Ml.PROVIDER_ID,signInMethod:Ml.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ml.credentialFromTaggedObject(e)}static credentialFromError(e){return Ml.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ml.credential(e.oauthAccessToken)}catch{return null}}}Ml.GITHUB_SIGN_IN_METHOD="github.com";Ml.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends x0{constructor(){super("twitter.com")}static credential(e,r){return Gu._fromParams({providerId:Ll.PROVIDER_ID,signInMethod:Ll.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Ll.credentialFromTaggedObject(e)}static credentialFromError(e){return Ll.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Ll.credential(r,n)}catch{return null}}}Ll.TWITTER_SIGN_IN_METHOD="twitter.com";Ll.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cge(t,e){return y0(t,"POST","/v1/accounts:signUp",Lc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await ho._fromIdTokenResponse(e,n,i),o=n6(n);return new qu({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=n6(n);return new qu({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function n6(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx extends za{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Kx.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Kx(e,r,n,i)}}function pH(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Kx._fromErrorAndOperation(t,a,e,n):a})}async function Tge(t,e,r=!1){const n=await eh(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return qu._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nge(t,e,r=!1){const{auth:n}=t;if(ki(n.app))return Promise.reject(Ls(n));const i="reauthenticate";try{const a=await eh(t,pH(n,i,e,t),r);Ye(a.idToken,n,"internal-error");const o=tj(a.idToken);Ye(o,n,"internal-error");const{sub:s}=o;return Ye(t.uid===s,n,"user-mismatch"),qu._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&$a(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mH(t,e,r=!1){if(ki(t.app))return Promise.reject(Ls(t));const n="signIn",i=await pH(t,n,e),a=await qu._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function Ige(t,e){return mH($c(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gH(t){const e=$c(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Pge(t,e,r){if(ki(t.app))return Promise.reject(Ls(t));const n=$c(t),o=await CT(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Cge).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&gH(t),l}),s=await qu._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(s.user),s}function vH(t,e,r){return ki(t.app)?Promise.reject(Ls(t)):Ige(ni(t),Jh.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&gH(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oge(t,e){return cl(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jge(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=ni(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await eh(n,Oge(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const s=n.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=n.displayName,s.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function kge(t,e,r,n){return ni(t).onIdTokenChanged(e,r,n)}function Rge(t,e,r){return ni(t).beforeAuthStateChanged(e,r)}function Dge(t,e,r,n){return ni(t).onAuthStateChanged(e,r,n)}function Mge(t){return ni(t).signOut()}const Yx="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Yx,"1"),this.storage.removeItem(Yx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lge=1e3,$ge=10;class xH extends yH{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cH(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);ege()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$ge):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Lge)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}xH.type="LOCAL";const Fge=xH;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH extends yH{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}wH.type="SESSION";const bH=wH;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bge(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new A2(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map(async u=>u(r.origin,a)),l=await Bge(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}A2.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uge{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const u=oj("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(h.data.response);break;default:clearTimeout(d),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(){return window}function Vge(t){Yo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _H(){return typeof Yo().WorkerGlobalScope<"u"&&typeof Yo().importScripts=="function"}async function zge(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Wge(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Hge(){return _H()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SH="firebaseLocalStorageDb",Gge=1,Xx="firebaseLocalStorage",EH="fbase_key";class w0{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function C2(t,e){return t.transaction([Xx],e?"readwrite":"readonly").objectStore(Xx)}function qge(){const t=indexedDB.deleteDatabase(SH);return new w0(t).toPromise()}function TT(){const t=indexedDB.open(SH,Gge);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Xx,{keyPath:EH})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Xx)?e(n):(n.close(),await qge(),e(await TT()))})})}async function i6(t,e,r){const n=C2(t,!0).put({[EH]:e,value:r});return new w0(n).toPromise()}async function Kge(t,e){const r=C2(t,!1).get(e),n=await new w0(r).toPromise();return n===void 0?null:n.value}function a6(t,e){const r=C2(t,!0).delete(e);return new w0(r).toPromise()}const Yge=800,Xge=3;class AH{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await TT(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Xge)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _H()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=A2._getInstance(Hge()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await zge(),!this.activeServiceWorker)return;this.sender=new Uge(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Wge()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await TT();return await i6(e,Yx,"1"),await a6(e,Yx),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>i6(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Kge(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>a6(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=C2(i,!1).getAll();return new w0(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Yge)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AH.type="LOCAL";const Qge=AH;new v0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CH(t,e){return e?Ps(e):(Ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj extends nj{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Of(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Of(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Of(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Zge(t){return mH(t.auth,new sj(t),t.bypassAuthState)}function Jge(t){const{auth:e,user:r}=t;return Ye(r,e,"internal-error"),Nge(r,new sj(t),t.bypassAuthState)}async function eve(t){const{auth:e,user:r}=t;return Ye(r,e,"internal-error"),Tge(r,new sj(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zge;case"linkViaPopup":case"linkViaRedirect":return eve;case"reauthViaPopup":case"reauthViaRedirect":return Jge;default:$a(this.auth,"internal-error")}}resolve(e){Zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tve=new v0(2e3,1e4);async function rve(t,e,r){if(ki(t.app))return Promise.reject(xo(t,"operation-not-supported-in-this-environment"));const n=$c(t);Rme(t,e,aj);const i=CH(n,r);return new xu(n,"signInViaPopup",e,i).executeNotNull()}class xu extends TH{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,xu.currentPopupAction&&xu.currentPopupAction.cancel(),xu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ye(e,this.auth,"internal-error"),e}async onExecution(){Zs(this.filter.length===1,"Popup operations only handle one event");const e=oj();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(xo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(xo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tve.get())};e()}}xu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nve="pendingRedirect",B1=new Map;class ive extends TH{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=B1.get(this.auth._key());if(!e){try{const n=await ave(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}B1.set(this.auth._key(),e)}return this.bypassAuthState||B1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ave(t,e){const r=lve(e),n=sve(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function ove(t,e){B1.set(t._key(),e)}function sve(t){return Ps(t._redirectPersistence)}function lve(t){return F1(nve,t.config.apiKey,t.name)}async function cve(t,e,r=!1){if(ki(t.app))return Promise.reject(Ls(t));const n=$c(t),i=CH(n,e),o=await new ive(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uve=10*60*1e3;class dve{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fve(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!NH(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(xo(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uve&&this.cachedEventUids.clear(),this.cachedEventUids.has(o6(e))}saveEventToCache(e){this.cachedEventUids.add(o6(e)),this.lastProcessedEventTime=Date.now()}}function o6(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function NH({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fve(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NH(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hve(t,e={}){return cl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pve=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mve=/^https?/;async function gve(t){if(t.config.emulator)return;const{authorizedDomains:e}=await hve(t);for(const r of e)try{if(vve(r))return}catch{}$a(t,"unauthorized-domain")}function vve(t){const e=ET(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!mve.test(r))return!1;if(pve.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yve=new v0(3e4,6e4);function s6(){const t=Yo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function xve(t){return new Promise((e,r)=>{var n,i,a;function o(){s6(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s6(),r(xo(t,"network-request-failed"))},timeout:yve.get()})}if(!((i=(n=Yo().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Yo().gapi)===null||a===void 0)&&a.load)o();else{const s=cge("iframefcb");return Yo()[s]=()=>{gapi.load?o():r(xo(t,"network-request-failed"))},dH(`${lge()}?onload=${s}`).catch(l=>r(l))}}).catch(e=>{throw U1=null,e})}let U1=null;function wve(t){return U1=U1||xve(t),U1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bve=new v0(5e3,15e3),_ve="__/auth/iframe",Sve="emulator/auth/iframe",Eve={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ave=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cve(t){const e=t.config;Ye(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?ej(e,Sve):`https://${t.config.authDomain}/${_ve}`,n={apiKey:e.apiKey,appName:t.name,v:vd},i=Ave.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${u0(n).slice(1)}`}async function Tve(t){const e=await wve(t),r=Yo().gapi;return Ye(r,t,"internal-error"),e.open({where:document.body,url:Cve(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Eve,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=xo(t,"network-request-failed"),s=Yo().setTimeout(()=>{a(o)},bve.get());function l(){Yo().clearTimeout(s),i(n)}n.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nve={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ive=500,Pve=600,Ove="_blank",jve="http://localhost";class l6{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kve(t,e,r,n=Ive,i=Pve){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l=Object.assign(Object.assign({},Nve),{width:n.toString(),height:i.toString(),top:a,left:o}),u=ri().toLowerCase();r&&(s=iH(u)?Ove:r),rH(u)&&(e=e||jve,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(Jme(u)&&s!=="_self")return Rve(e||"",s),new l6(null);const f=window.open(e||"",s,d);Ye(f,t,"popup-blocked");try{f.focus()}catch{}return new l6(f)}function Rve(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dve="__/auth/handler",Mve="emulator/auth/handler",Lve=encodeURIComponent("fac");async function c6(t,e,r,n,i,a){Ye(t.config.authDomain,t,"auth-domain-config-required"),Ye(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:vd,eventId:i};if(e instanceof aj){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",vde(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof x0){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const d of Object.keys(s))s[d]===void 0&&delete s[d];const l=await t._getAppCheckToken(),u=l?`#${Lve}=${encodeURIComponent(l)}`:"";return`${$ve(t)}?${u0(s).slice(1)}${u}`}function $ve({config:t}){return t.emulator?ej(t,Mve):`https://${t.authDomain}/${Dve}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="webStorageSupport";class Fve{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bH,this._completeRedirectFn=cve,this._overrideRedirectResult=ove}async _openPopup(e,r,n,i){var a;Zs((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await c6(e,r,n,ET(),i);return kve(e,o,oj())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await c6(e,r,n,ET(),i);return Vge(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Zs(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await Tve(e),n=new dve(e);return r.register("authEvent",i=>(Ye(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(hE,{type:hE},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[hE];o!==void 0&&r(!!o),$a(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=gve(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return cH()||nH()||rj()}}const Bve=Fve;var u6="@firebase/auth",d6="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uve{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vve(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zve(t){da(new Gi("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;Ye(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uH(t)},u=new age(n,i,a,l);return mge(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),da(new Gi("auth-internal",e=>{const r=$c(e.getProvider("auth").getImmediate());return(n=>new Uve(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jn(u6,d6,Vve(t)),Jn(u6,d6,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wve=5*60,Hve=bz("authIdTokenMaxAge")||Wve;let f6=null;const Gve=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Hve)return;const i=r==null?void 0:r.token;f6!==i&&(f6=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function qve(t=d0()){const e=ll(t,"auth");if(e.isInitialized())return e.getImmediate();const r=pge(t,{popupRedirectResolver:Bve,persistence:[Qge,Fge,bH]}),n=bz("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=Gve(a.toString());Rge(r,o,()=>o(r.currentUser)),kge(r,s=>o(s))}}const i=yz("auth");return i?gge(r,`http://${i}`):Yh("Auth",!1),r}function Kve(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}oge({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=xo("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",Kve().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zve("Browser");const IH="@firebase/installations",lj="0.6.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH=1e4,OH=`w:${lj}`,jH="FIS_v2",Yve="https://firebaseinstallations.googleapis.com/v1",Xve=60*60*1e3,Qve="installations",Zve="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jve={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ku=new Mc(Qve,Zve,Jve);function kH(t){return t instanceof za&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RH({projectId:t}){return`${Yve}/projects/${t}/installations`}function DH(t){return{token:t.token,requestStatus:2,expiresIn:t0e(t.expiresIn),creationTime:Date.now()}}async function MH(t,e){const n=(await e.json()).error;return Ku.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function LH({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function e0e(t,{refreshToken:e}){const r=LH(t);return r.append("Authorization",r0e(e)),r}async function $H(t){const e=await t();return e.status>=500&&e.status<600?t():e}function t0e(t){return Number(t.replace("s","000"))}function r0e(t){return`${jH} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n0e({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=RH(t),i=LH(t),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:r,authVersion:jH,appId:t.appId,sdkVersion:OH},s={method:"POST",headers:i,body:JSON.stringify(o)},l=await $H(()=>fetch(n,s));if(l.ok){const u=await l.json();return{fid:u.fid||r,registrationStatus:2,refreshToken:u.refreshToken,authToken:DH(u.authToken)}}else throw await MH("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FH(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0e(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0e=/^[cdef][\w-]{21}$/,NT="";function o0e(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=s0e(t);return a0e.test(r)?r:NT}catch{return NT}}function s0e(t){return i0e(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH=new Map;function UH(t,e){const r=T2(t);VH(r,e),l0e(r,e)}function VH(t,e){const r=BH.get(t);if(r)for(const n of r)n(e)}function l0e(t,e){const r=c0e();r&&r.postMessage({key:t,fid:e}),u0e()}let wu=null;function c0e(){return!wu&&"BroadcastChannel"in self&&(wu=new BroadcastChannel("[Firebase] FID Change"),wu.onmessage=t=>{VH(t.data.key,t.data.fid)}),wu}function u0e(){BH.size===0&&wu&&(wu.close(),wu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0e="firebase-installations-database",f0e=1,Yu="firebase-installations-store";let pE=null;function cj(){return pE||(pE=u2(d0e,f0e,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Yu)}}})),pE}async function Qx(t,e){const r=T2(t),i=(await cj()).transaction(Yu,"readwrite"),a=i.objectStore(Yu),o=await a.get(r);return await a.put(e,r),await i.done,(!o||o.fid!==e.fid)&&UH(t,e.fid),e}async function zH(t){const e=T2(t),n=(await cj()).transaction(Yu,"readwrite");await n.objectStore(Yu).delete(e),await n.done}async function N2(t,e){const r=T2(t),i=(await cj()).transaction(Yu,"readwrite"),a=i.objectStore(Yu),o=await a.get(r),s=e(o);return s===void 0?await a.delete(r):await a.put(s,r),await i.done,s&&(!o||o.fid!==s.fid)&&UH(t,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uj(t){let e;const r=await N2(t.appConfig,n=>{const i=h0e(n),a=p0e(t,i);return e=a.registrationPromise,a.installationEntry});return r.fid===NT?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function h0e(t){const e=t||{fid:o0e(),registrationStatus:0};return WH(e)}function p0e(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ku.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=m0e(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:g0e(t)}:{installationEntry:e}}async function m0e(t,e){try{const r=await n0e(t,e);return Qx(t.appConfig,r)}catch(r){throw kH(r)&&r.customData.serverCode===409?await zH(t.appConfig):await Qx(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function g0e(t){let e=await h6(t.appConfig);for(;e.registrationStatus===1;)await FH(100),e=await h6(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await uj(t);return n||r}return e}function h6(t){return N2(t,e=>{if(!e)throw Ku.create("installation-not-found");return WH(e)})}function WH(t){return v0e(t)?{fid:t.fid,registrationStatus:0}:t}function v0e(t){return t.registrationStatus===1&&t.registrationTime+PH<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y0e({appConfig:t,heartbeatServiceProvider:e},r){const n=x0e(t,r),i=e0e(t,r),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:OH,appId:t.appId}},s={method:"POST",headers:i,body:JSON.stringify(o)},l=await $H(()=>fetch(n,s));if(l.ok){const u=await l.json();return DH(u)}else throw await MH("Generate Auth Token",l)}function x0e(t,{fid:e}){return`${RH(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dj(t,e=!1){let r;const n=await N2(t.appConfig,a=>{if(!HH(a))throw Ku.create("not-registered");const o=a.authToken;if(!e&&_0e(o))return a;if(o.requestStatus===1)return r=w0e(t,e),a;{if(!navigator.onLine)throw Ku.create("app-offline");const s=E0e(a);return r=b0e(t,s),s}});return r?await r:n.authToken}async function w0e(t,e){let r=await p6(t.appConfig);for(;r.authToken.requestStatus===1;)await FH(100),r=await p6(t.appConfig);const n=r.authToken;return n.requestStatus===0?dj(t,e):n}function p6(t){return N2(t,e=>{if(!HH(e))throw Ku.create("not-registered");const r=e.authToken;return A0e(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function b0e(t,e){try{const r=await y0e(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await Qx(t.appConfig,n),r}catch(r){if(kH(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await zH(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Qx(t.appConfig,n)}throw r}}function HH(t){return t!==void 0&&t.registrationStatus===2}function _0e(t){return t.requestStatus===2&&!S0e(t)}function S0e(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Xve}function E0e(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function A0e(t){return t.requestStatus===1&&t.requestTime+PH<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C0e(t){const e=t,{installationEntry:r,registrationPromise:n}=await uj(e);return n?n.catch(console.error):dj(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T0e(t,e=!1){const r=t;return await N0e(r),(await dj(r,e)).token}async function N0e(t){const{registrationPromise:e}=await uj(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0e(t){if(!t||!t.options)throw mE("App Configuration");if(!t.name)throw mE("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw mE(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function mE(t){return Ku.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GH="installations",P0e="installations-internal",O0e=t=>{const e=t.getProvider("app").getImmediate(),r=I0e(e),n=ll(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},j0e=t=>{const e=t.getProvider("app").getImmediate(),r=ll(e,GH).getImmediate();return{getId:()=>C0e(r),getToken:i=>T0e(r,i)}};function k0e(){da(new Gi(GH,O0e,"PUBLIC")),da(new Gi(P0e,j0e,"PRIVATE"))}k0e();Jn(IH,lj);Jn(IH,lj,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="analytics",R0e="firebase_id",D0e="origin",M0e=60*1e3,L0e="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",fj="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new c2("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0e={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ca=new Mc("analytics","Analytics",$0e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0e(t){if(!t.startsWith(fj)){const e=ca.create("invalid-gtag-resource",{gtagURL:t});return Vi.warn(e.message),""}return t}function qH(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function B0e(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function U0e(t,e){const r=B0e("firebase-js-sdk-policy",{createScriptURL:F0e}),n=document.createElement("script"),i=`${fj}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function V0e(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function z0e(t,e,r,n,i,a){const o=n[i];try{if(o)await e[o];else{const l=(await qH(r)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(s){Vi.error(s)}t("config",i,a)}async function W0e(t,e,r,n,i){try{let a=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const s=await qH(r);for(const l of o){const u=s.find(f=>f.measurementId===l),d=u&&e[u.appId];if(d)a.push(d);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",n,i||{})}catch(a){Vi.error(a)}}function H0e(t,e,r,n){async function i(a,...o){try{if(a==="event"){const[s,l]=o;await W0e(t,e,r,s,l)}else if(a==="config"){const[s,l]=o;await z0e(t,e,r,n,s,l)}else if(a==="consent"){const[s,l]=o;t("consent",s,l)}else if(a==="get"){const[s,l,u]=o;t("get",s,l,u)}else if(a==="set"){const[s]=o;t("set",s)}else t(a,...o)}catch(s){Vi.error(s)}}return i}function G0e(t,e,r,n,i){let a=function(...o){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=H0e(a,t,e,r),{gtagCore:a,wrappedGtag:window[i]}}function q0e(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(fj)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0e=30,Y0e=1e3;class X0e{constructor(e={},r=Y0e){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const KH=new X0e;function Q0e(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Z0e(t){var e;const{appId:r,apiKey:n}=t,i={method:"GET",headers:Q0e(n)},a=L0e.replace("{app-id}",r),o=await fetch(a,i);if(o.status!==200&&o.status!==304){let s="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(s=l.error.message)}catch{}throw ca.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s})}return o.json()}async function J0e(t,e=KH,r){const{appId:n,apiKey:i,measurementId:a}=t.options;if(!n)throw ca.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:n};throw ca.create("no-api-key")}const o=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new rye;return setTimeout(async()=>{s.abort()},M0e),YH({appId:n,apiKey:i,measurementId:a},o,s,e)}async function YH(t,{throttleEndTimeMillis:e,backoffCount:r},n,i=KH){var a;const{appId:o,measurementId:s}=t;try{await eye(n,e)}catch(l){if(s)return Vi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:s};throw l}try{const l=await Z0e(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!tye(u)){if(i.deleteThrottleMetadata(o),s)return Vi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:s};throw l}const d=Number((a=u==null?void 0:u.customData)===null||a===void 0?void 0:a.httpStatus)===503?$D(r,i.intervalMillis,K0e):$D(r,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:r+1};return i.setThrottleMetadata(o,f),Vi.debug(`Calling attemptFetch again in ${d} millis`),YH(t,f,n,i)}}function eye(t,e){return new Promise((r,n)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(r,i);t.addEventListener(()=>{clearTimeout(a),n(ca.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function tye(t){if(!(t instanceof za)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class rye{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function nye(t,e,r,n,i){if(i&&i.global){t("event",r,n);return}else{const a=await e,o=Object.assign(Object.assign({},n),{send_to:a});t("event",r,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iye(){if(TO())try{await NO()}catch(t){return Vi.warn(ca.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Vi.warn(ca.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function aye(t,e,r,n,i,a,o){var s;const l=J0e(t);l.then(p=>{r[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Vi.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Vi.error(p)),e.push(l);const u=iye().then(p=>{if(p)return n.getId()}),[d,f]=await Promise.all([l,u]);q0e(a)||U0e(a,d.measurementId),i("js",new Date);const h=(s=o==null?void 0:o.config)!==null&&s!==void 0?s:{};return h[D0e]="firebase",h.update=!0,f!=null&&(h[R0e]=f),i("config",d.measurementId,h),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oye{constructor(e){this.app=e}_delete(){return delete Jm[this.app.options.appId],Promise.resolve()}}let Jm={},m6=[];const g6={};let gE="dataLayer",sye="gtag",v6,XH,y6=!1;function lye(){const t=[];if(Sz()&&t.push("This is a browser extension environment."),Ez()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=ca.create("invalid-analytics-context",{errorInfo:e});Vi.warn(r.message)}}function cye(t,e,r){lye();const n=t.options.appId;if(!n)throw ca.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Vi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ca.create("no-api-key");if(Jm[n]!=null)throw ca.create("already-exists",{id:n});if(!y6){V0e(gE);const{wrappedGtag:a,gtagCore:o}=G0e(Jm,m6,g6,gE,sye);XH=a,v6=o,y6=!0}return Jm[n]=aye(t,m6,g6,e,v6,gE,r),new oye(t)}function uye(t=d0()){t=ni(t);const e=ll(t,Zx);return e.isInitialized()?e.getImmediate():dye(t)}function dye(t,e={}){const r=ll(t,Zx);if(r.isInitialized()){const i=r.getImmediate();if(xc(e,r.getOptions()))return i;throw ca.create("already-initialized")}return r.initialize({options:e})}function fye(t,e,r,n){t=ni(t),nye(XH,Jm[t.app.options.appId],e,r,n).catch(i=>Vi.error(i))}const x6="@firebase/analytics",w6="0.10.15";function hye(){da(new Gi(Zx,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return cye(n,i,r)},"PUBLIC")),da(new Gi("analytics-internal",t,"PRIVATE")),Jn(x6,w6),Jn(x6,w6,"esm2017");function t(e){try{const r=e.getProvider(Zx).getImmediate();return{logEvent:(n,i,a)=>fye(r,n,i,a)}}catch(r){throw ca.create("interop-component-reg-failed",{reason:r})}}}hye();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pye="/firebase-messaging-sw.js",mye="/firebase-cloud-messaging-push-scope",QH="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",gye="https://fcmregistrations.googleapis.com/v1",ZH="google.c.a.c_id",vye="google.c.a.c_l",yye="google.c.a.ts",xye="google.c.a.e",b6=1e4;var _6;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(_6||(_6={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Vg;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Vg||(Vg={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wye(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),i=new Uint8Array(n.length);for(let a=0;a<n.length;++a)i[a]=n.charCodeAt(a);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="fcm_token_details_db",bye=5,S6="fcm_token_object_Store";async function _ye(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(a=>a.name).includes(vE))return null;let e=null;return(await u2(vE,bye,{upgrade:async(n,i,a,o)=>{var s;if(i<2||!n.objectStoreNames.contains(S6))return;const l=o.objectStore(S6),u=await l.index("fcmSenderId").get(t);if(await l.clear(),!!u){if(i===2){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:(s=d.createTime)!==null&&s!==void 0?s:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:bs(d.vapidKey)}}}else if(i===3){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:bs(d.auth),p256dh:bs(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:bs(d.vapidKey)}}}else if(i===4){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:bs(d.auth),p256dh:bs(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:bs(d.vapidKey)}}}}}})).close(),await iE(vE),await iE("fcm_vapid_details_db"),await iE("undefined"),Sye(e)?e:null}function Sye(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eye="firebase-messaging-database",Aye=1,zg="firebase-messaging-store";let yE=null;function JH(){return yE||(yE=u2(Eye,Aye,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(zg)}}})),yE}async function Cye(t){const e=eG(t),n=await(await JH()).transaction(zg).objectStore(zg).get(e);if(n)return n;{const i=await _ye(t.appConfig.senderId);if(i)return await hj(t,i),i}}async function hj(t,e){const r=eG(t),i=(await JH()).transaction(zg,"readwrite");return await i.objectStore(zg).put(e,r),await i.done,e}function eG({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tye={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},bi=new Mc("messaging","Messaging",Tye);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nye(t,e){const r=await mj(t),n=tG(e),i={method:"POST",headers:r,body:JSON.stringify(n)};let a;try{a=await(await fetch(pj(t.appConfig),i)).json()}catch(o){throw bi.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(a.error){const o=a.error.message;throw bi.create("token-subscribe-failed",{errorInfo:o})}if(!a.token)throw bi.create("token-subscribe-no-token");return a.token}async function Iye(t,e){const r=await mj(t),n=tG(e.subscriptionOptions),i={method:"PATCH",headers:r,body:JSON.stringify(n)};let a;try{a=await(await fetch(`${pj(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw bi.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(a.error){const o=a.error.message;throw bi.create("token-update-failed",{errorInfo:o})}if(!a.token)throw bi.create("token-update-no-token");return a.token}async function Pye(t,e){const n={method:"DELETE",headers:await mj(t)};try{const a=await(await fetch(`${pj(t.appConfig)}/${e}`,n)).json();if(a.error){const o=a.error.message;throw bi.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw bi.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function pj({projectId:t}){return`${gye}/projects/${t}/registrations`}async function mj({appConfig:t,installations:e}){const r=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function tG({p256dh:t,auth:e,endpoint:r,vapidKey:n}){const i={web:{endpoint:r,auth:e,p256dh:t}};return n!==QH&&(i.web.applicationPubKey=n),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oye=7*24*60*60*1e3;async function jye(t){const e=await Rye(t.swRegistration,t.vapidKey),r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:bs(e.getKey("auth")),p256dh:bs(e.getKey("p256dh"))},n=await Cye(t.firebaseDependencies);if(n){if(Dye(n.subscriptionOptions,r))return Date.now()>=n.createTime+Oye?kye(t,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await Pye(t.firebaseDependencies,n.token)}catch(i){console.warn(i)}return E6(t.firebaseDependencies,r)}else return E6(t.firebaseDependencies,r)}async function kye(t,e){try{const r=await Iye(t.firebaseDependencies,e),n=Object.assign(Object.assign({},e),{token:r,createTime:Date.now()});return await hj(t.firebaseDependencies,n),r}catch(r){throw r}}async function E6(t,e){const n={token:await Nye(t,e),createTime:Date.now(),subscriptionOptions:e};return await hj(t,n),n.token}async function Rye(t,e){const r=await t.pushManager.getSubscription();return r||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wye(e)})}function Dye(t,e){const r=e.vapidKey===t.vapidKey,n=e.endpoint===t.endpoint,i=e.auth===t.auth,a=e.p256dh===t.p256dh;return r&&n&&i&&a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return Mye(e,t),Lye(e,t),$ye(e,t),e}function Mye(t,e){if(!e.notification)return;t.notification={};const r=e.notification.title;r&&(t.notification.title=r);const n=e.notification.body;n&&(t.notification.body=n);const i=e.notification.image;i&&(t.notification.image=i);const a=e.notification.icon;a&&(t.notification.icon=a)}function Lye(t,e){e.data&&(t.data=e.data)}function $ye(t,e){var r,n,i,a,o;if(!e.fcmOptions&&!(!((r=e.notification)===null||r===void 0)&&r.click_action))return;t.fcmOptions={};const s=(i=(n=e.fcmOptions)===null||n===void 0?void 0:n.link)!==null&&i!==void 0?i:(a=e.notification)===null||a===void 0?void 0:a.click_action;s&&(t.fcmOptions.link=s);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fye(t){return typeof t=="object"&&!!t&&ZH in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bye(t){if(!t||!t.options)throw xE("App Configuration Object");if(!t.name)throw xE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:r}=t;for(const n of e)if(!r[n])throw xE(n);return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function xE(t){return bi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uye{constructor(e,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=Bye(e);this.firebaseDependencies={app:e,appConfig:i,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vye(t){try{t.swRegistration=await navigator.serviceWorker.register(pye,{scope:mye}),t.swRegistration.update().catch(()=>{}),await zye(t.swRegistration)}catch(e){throw bi.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function zye(t){return new Promise((e,r)=>{const n=setTimeout(()=>r(new Error(`Service worker not registered after ${b6} ms`)),b6),i=t.installing||t.waiting;t.active?(clearTimeout(n),e()):i?i.onstatechange=a=>{var o;((o=a.target)===null||o===void 0?void 0:o.state)==="activated"&&(i.onstatechange=null,clearTimeout(n),e())}:(clearTimeout(n),r(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wye(t,e){if(!e&&!t.swRegistration&&await Vye(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw bi.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hye(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=QH)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gye(t,e){if(!navigator)throw bi.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw bi.create("permission-blocked");return await Hye(t,e==null?void 0:e.vapidKey),await Wye(t,e==null?void 0:e.serviceWorkerRegistration),jye(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qye(t,e,r){const n=Kye(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[ZH],message_name:r[vye],message_time:r[yye],message_device_time:Math.floor(Date.now()/1e3)})}function Kye(t){switch(t){case Vg.NOTIFICATION_CLICKED:return"notification_open";case Vg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yye(t,e){const r=e.data;if(!r.isFirebaseMessaging)return;t.onMessageHandler&&r.messageType===Vg.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(A6(r)):t.onMessageHandler.next(A6(r)));const n=r.data;Fye(n)&&n[xye]==="1"&&await qye(t,r.messageType,n)}const C6="@firebase/messaging",T6="0.12.20";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xye=t=>{const e=new Uye(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>Yye(e,r)),e},Qye=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:n=>Gye(e,n)}};function Zye(){da(new Gi("messaging",Xye,"PUBLIC")),da(new Gi("messaging-internal",Qye,"PRIVATE")),Jn(C6,T6),Jn(C6,T6,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rG(){try{await NO()}catch{return!1}return typeof window<"u"&&TO()&&Ez()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jye(t=d0()){return rG().then(e=>{if(!e)throw bi.create("unsupported-browser")},e=>{throw bi.create("indexed-db-unsupported")}),ll(ni(t),"messaging").getImmediate()}Zye();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nG="firebasestorage.googleapis.com",e1e="storageBucket",t1e=2*60*1e3,r1e=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends za{constructor(e,r,n=0){super(wE(e),`Firebase Storage: ${r} (${wE(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var as;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(as||(as={}));function wE(t){return"storage/"+t}function n1e(){const t="An unknown error occurred, please check the error payload for server response.";return new fs(as.UNKNOWN,t)}function i1e(){return new fs(as.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function a1e(){return new fs(as.CANCELED,"User canceled the upload/download.")}function o1e(t){return new fs(as.INVALID_URL,"Invalid URL '"+t+"'.")}function s1e(t){return new fs(as.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function N6(t){return new fs(as.INVALID_ARGUMENT,t)}function iG(){return new fs(as.APP_DELETED,"The Firebase app was deleted.")}function l1e(t){return new fs(as.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=po.makeFromUrl(e,r)}catch{return new po(e,"")}if(n.path==="")return n;throw s1e(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(S){S.path_=decodeURIComponent(S.path)}const d="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${d}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},g=r===nG?"(?:storage.googleapis.com|storage.cloud.google.com)":r,v="([^?#]*)",x=new RegExp(`^https?://${g}/${i}/${v}`,"i"),w=[{regex:s,indices:l,postModify:a},{regex:p,indices:m,postModify:u},{regex:x,indices:{bucket:1,path:2},postModify:u}];for(let S=0;S<w.length;S++){const E=w[S],C=E.regex.exec(e);if(C){const A=C[E.indices.bucket];let T=C[E.indices.path];T||(T=""),n=new po(A,T),E.postModify(n);break}}if(n==null)throw o1e(e);return n}}class c1e{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1e(t,e,r){let n=1,i=null,a=null,o=!1,s=0;function l(){return s===2}let u=!1;function d(...v){u||(u=!0,e.apply(null,v))}function f(v){i=setTimeout(()=>{i=null,t(p,l())},v)}function h(){a&&clearTimeout(a)}function p(v,...x){if(u){h();return}if(v){h(),d.call(null,v,...x);return}if(l()||o){h(),d.call(null,v,...x);return}n<64&&(n*=2);let w;s===1?(s=2,w=0):w=(n+Math.random())*1e3,f(w)}let m=!1;function g(v){m||(m=!0,h(),!u&&(i!==null?(v||(s=2),clearTimeout(i),f(0)):v||(s=1)))}return f(0),a=setTimeout(()=>{o=!0,g(!0)},r),g}function d1e(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1e(t){return t!==void 0}function I6(t,e,r,n){if(n<e)throw N6(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw N6(`Invalid value for '${t}'. Expected ${r} or less.`)}function h1e(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Jx;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Jx||(Jx={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1e(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1e{constructor(e,r,n,i,a,o,s,l,u,d,f,h=!0,p=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Dy(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const l=s.loaded,u=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===Jx.NO_ERROR,l=a.getStatus();if(!s||p1e(l,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===Jx.ABORT;n(!1,new Dy(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;n(!0,new Dy(u,a))})},r=(n,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());f1e(l)?a(l):a()}catch(l){o(l)}else if(s!==null){const l=n1e();l.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,l)):o(l)}else if(i.canceled){const l=this.appDelete_?iG():a1e();o(l)}else{const l=i1e();o(l)}};this.canceled_?r(!1,new Dy(!1,null,!0)):this.backoffId_=u1e(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&d1e(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dy{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function g1e(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function v1e(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function y1e(t,e){e&&(t["X-Firebase-GMPID"]=e)}function x1e(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function w1e(t,e,r,n,i,a,o=!0,s=!1){const l=h1e(t.urlParams),u=t.url+l,d=Object.assign({},t.headers);return y1e(d,e),g1e(d,r),v1e(d,a),x1e(d,n),new m1e(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1e(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function _1e(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,r){this._service=e,r instanceof po?this._location=r:this._location=po.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new ew(e,r)}get root(){const e=new po(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _1e(this._location.path)}get storage(){return this._service}get parent(){const e=b1e(this._location.path);if(e===null)return null;const r=new po(this._location.bucket,e);return new ew(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw l1e(e)}}function P6(t,e){const r=e==null?void 0:e[e1e];return r==null?null:po.makeFromBucketSpec(r,t)}function S1e(t,e,r,n={}){t.host=`${e}:${r}`;const i=Kh(e);i&&(CO(`https://${t.host}`),Yh("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(t._overrideAuthToken=typeof a=="string"?a:_z(a,t.app.options.projectId))}class E1e{constructor(e,r,n,i,a,o=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=nG,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=t1e,this._maxUploadRetryTime=r1e,this._requests=new Set,i!=null?this._bucket=po.makeFromBucketSpec(i,this._host):this._bucket=P6(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=po.makeFromBucketSpec(this._url,e):this._bucket=P6(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){I6("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){I6("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(ki(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ew(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new c1e(iG());{const o=w1e(e,this._appId,n,i,r,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const O6="@firebase/storage",j6="0.13.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aG="storage";function A1e(t=d0(),e){t=ni(t),Yh("Storage",!1);const n=ll(t,aG).getImmediate({identifier:e}),i=xz("storage");return i&&C1e(n,...i),n}function C1e(t,e,r,n={}){S1e(t,e,r,n)}function T1e(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new E1e(r,n,i,e,vd)}function N1e(){da(new Gi(aG,T1e,"PUBLIC").setMultipleInstances(!0)),Jn(O6,j6,""),Jn(O6,j6,"esm2017")}N1e();const I1e={BASE_URL:"/taska-loop/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADMIN_EMAILS:"",VITE_APP_URL:"https://vanold101.github.io/taska-loop/",VITE_FIREBASE_API_KEY:"",VITE_FIREBASE_APP_ID:"",VITE_FIREBASE_AUTH_DOMAIN:"",VITE_FIREBASE_MEASUREMENT_ID:"",VITE_FIREBASE_MESSAGING_SENDER_ID:"",VITE_FIREBASE_PROJECT_ID:"",VITE_FIREBASE_STORAGE_BUCKET:"",VITE_FIREBASE_VAPID_KEY:"",VITE_GOOGLE_CLIENT_ID:"",VITE_GOOGLE_MAPS_API_KEY:"",VITE_STRIPE_PUBLISHABLE_KEY:""},P1e=()=>{if(typeof window<"u"){const t=window.location.hostname;return t==="localhost"||t==="127.0.0.1"}return!1},oG={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""},O1e=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID"],k6=O1e.filter(t=>!I1e[t]);k6.length>0&&(console.error("Missing required environment variables:",k6),console.error("Please create a .env file with the required Firebase configuration."),console.error("See env.example for the required variables."));const Wg=Tz(oG),tw=xme(Wg),so=qve(Wg),Mlt=A1e(Wg),sG=P1e(),j1e=!1,k1e=!1,R1e=!1;if(sG)try{}catch{console.log("Emulator connection failed, using production services")}let D1e=null,M1e=null;if(typeof window<"u")try{!sG&&oG.measurementId&&(D1e=uye(Wg)),rG().then(t=>{t&&(M1e=Jye(Wg))})}catch(t){console.log("Analytics/Messaging initialization failed:",t)}const lG=b.createContext(void 0),My="authUser",L1e=["devansh.home@gmail.com","admin@taskaloop.com","demo@taskaloop.com","test.admin@gmail.com"],R6=t=>t?L1e.includes(t.toLowerCase()):!1,$1e=({children:t})=>{const[e,r]=b.useState(null),[n,i]=b.useState(!0),[a,o]=b.useState(null);b.useEffect(()=>{i(!0);const p=Dge(so,m=>{if(m){const{uid:g,displayName:v,email:x,photoURL:y}=m,w={id:g,name:v||x||"User",email:x||void 0,avatar:y||`https://ui-avatars.com/api/?name=${v||x||"User"}&background=random`,chorePreferences:[],isAdmin:R6(x||void 0)};r(w),localStorage.setItem(My,JSON.stringify(w))}else r(null),localStorage.removeItem(My);i(!1)});return()=>p()},[]);const h={user:e,isLoading:n,error:a,loginWithGoogle:async()=>{i(!0),o(null);try{const p=new As;p.addScope("profile"),p.addScope("email"),console.log("Attempting Google sign-in...");const m=await rve(so,p);console.log("Google sign-in successful:",m.user)}catch(p){console.error("Login error:",p),p.code==="auth/popup-closed-by-user"?o("Sign-in was cancelled. Please try again."):p.code==="auth/popup-blocked"?o("Pop-up was blocked by your browser. Please allow pop-ups and try again."):p.code==="auth/unauthorized-domain"?o("This domain is not authorized for Google sign-in."):p.code==="auth/configuration-not-found"?o("Firebase Authentication is not configured. Please enable it in Firebase Console: https://console.firebase.google.com/project/taska-9ee86/authentication"):o(`Failed to login: ${p.message}`)}finally{i(!1)}},loginWithEmail:async(p,m)=>{i(!0),o(null);try{console.log("Attempting email sign-in...");const g=await vH(so,p,m);console.log("Email sign-in successful:",g.user)}catch(g){throw console.error("Email login error:",g),g.code==="auth/user-not-found"?o("No account found with this email."):g.code==="auth/wrong-password"?o("Incorrect password."):g.code==="auth/invalid-email"?o("Invalid email address."):o(`Login failed: ${g.message}`),g}finally{i(!1)}},registerWithEmail:async(p,m,g)=>{i(!0),o(null);try{console.log("Attempting email registration...");const v=await Pge(so,p,m);console.log("Email registration successful:",v.user),await jge(v.user,{displayName:g})}catch(v){throw console.error("Email registration error:",v),v.code==="auth/email-already-in-use"?o("This email is already in use."):v.code==="auth/invalid-email"?o("Invalid email address."):v.code==="auth/weak-password"?o("Password is too weak."):o(`Registration failed: ${v.message}`),v}finally{i(!1)}},logout:async()=>{i(!0),o(null);try{await Mge(so),r(null),localStorage.removeItem(My)}catch{o("Failed to logout. Please try again.")}finally{i(!1)}},updateChorePreferences:async p=>{if(e)try{i(!0);const m={...e,chorePreferences:p};r(m),localStorage.setItem(My,JSON.stringify(m))}catch(m){console.error("Error updating preferences:",m),o("Failed to update preferences. Please try again.")}finally{i(!1)}},isAdmin:R6(e==null?void 0:e.email)};return c.jsx(lG.Provider,{value:h,children:t})},qr=()=>{const t=b.useContext(lG);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};function Ao(t){"@babel/helpers - typeof";return Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ao(t)}function Ei(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function nt(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function lt(t){nt(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Ao(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function rw(t,e){nt(2,arguments);var r=lt(t),n=Ei(e);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function gj(t,e){nt(2,arguments);var r=lt(t),n=Ei(e);if(isNaN(n))return new Date(NaN);if(!n)return r;var i=r.getDate(),a=new Date(r.getTime());a.setMonth(r.getMonth()+n+1,0);var o=a.getDate();return i>=o?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}function cG(t,e){nt(2,arguments);var r=lt(t).getTime(),n=Ei(e);return new Date(r+n)}var F1e=36e5;function B1e(t,e){nt(2,arguments);var r=Ei(e);return cG(t,r*F1e)}var U1e={};function xd(){return U1e}function uG(t,e){var r,n,i,a,o,s,l,u;nt(1,arguments);var d=xd(),f=Ei((r=(n=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=lt(t),p=h.getDay(),m=(p<f?7:0)+p-f;return h.setDate(h.getDate()-m),h.setHours(0,0,0,0),h}function IT(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function D6(t){nt(1,arguments);var e=lt(t);return e.setHours(0,0,0,0),e}function M6(t,e){nt(2,arguments);var r=Ei(e),n=r*7;return rw(t,n)}function V1(t,e){nt(2,arguments);var r=lt(t),n=lt(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}var dG=6e4,fG=36e5;function hG(t,e){nt(2,arguments);var r=D6(t),n=D6(e);return r.getTime()===n.getTime()}function V1e(t){return nt(1,arguments),t instanceof Date||Ao(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function z1e(t){if(nt(1,arguments),!V1e(t)&&typeof t!="number")return!1;var e=lt(t);return!isNaN(Number(e))}function W1e(t,e){nt(2,arguments);var r=lt(t),n=lt(e),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function H1e(t,e){return nt(2,arguments),lt(t).getTime()-lt(e).getTime()}var G1e={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},q1e="trunc";function K1e(t){return G1e[q1e]}function Y1e(t){nt(1,arguments);var e=lt(t);return e.setHours(23,59,59,999),e}function pG(t){nt(1,arguments);var e=lt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function X1e(t){nt(1,arguments);var e=lt(t);return Y1e(e).getTime()===pG(e).getTime()}function Q1e(t,e){nt(2,arguments);var r=lt(t),n=lt(e),i=V1(r,n),a=Math.abs(W1e(r,n)),o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*a);var s=V1(r,n)===-i;X1e(lt(t))&&a===1&&V1(t,n)===1&&(s=!1),o=i*(a-Number(s))}return o===0?0:o}function Z1e(t,e,r){nt(2,arguments);var n=H1e(t,e)/1e3;return K1e()(n)}function J1e(t){nt(1,arguments);var e=lt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function exe(t,e){var r,n,i,a,o,s;nt(1,arguments);var l=xd(),u=Ei((r=(n=(i=(a=void 0)!==null&&a!==void 0?a:void 0)!==null&&i!==void 0?i:l.weekStartsOn)!==null&&n!==void 0?n:(o=l.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&r!==void 0?r:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=lt(t),f=d.getDay(),h=(f<u?-7:0)+6-(f-u);return d.setDate(d.getDate()+h),d.setHours(23,59,59,999),d}function txe(t,e){nt(2,arguments);var r=Ei(e);return cG(t,-r)}var rxe=864e5;function nxe(t){nt(1,arguments);var e=lt(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),i=r-n;return Math.floor(i/rxe)+1}function nw(t){nt(1,arguments);var e=1,r=lt(t),n=r.getUTCDay(),i=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}function mG(t){nt(1,arguments);var e=lt(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=nw(n),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var o=nw(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function ixe(t){nt(1,arguments);var e=mG(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var n=nw(r);return n}var axe=6048e5;function oxe(t){nt(1,arguments);var e=lt(t),r=nw(e).getTime()-ixe(e).getTime();return Math.round(r/axe)+1}function iw(t,e){var r,n,i,a,o,s,l,u;nt(1,arguments);var d=xd(),f=Ei((r=(n=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=lt(t),p=h.getUTCDay(),m=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function gG(t,e){var r,n,i,a,o,s,l,u;nt(1,arguments);var d=lt(t),f=d.getUTCFullYear(),h=xd(),p=Ei((r=(n=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(f+1,0,p),m.setUTCHours(0,0,0,0);var g=iw(m,e),v=new Date(0);v.setUTCFullYear(f,0,p),v.setUTCHours(0,0,0,0);var x=iw(v,e);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function sxe(t,e){var r,n,i,a,o,s,l,u;nt(1,arguments);var d=xd(),f=Ei((r=(n=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=gG(t,e),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var m=iw(p,e);return m}var lxe=6048e5;function cxe(t,e){nt(1,arguments);var r=lt(t),n=iw(r,e).getTime()-sxe(r,e).getTime();return Math.round(n/lxe)+1}function Pt(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}var _l={y:function(e,r){var n=e.getUTCFullYear(),i=n>0?n:1-n;return Pt(r==="yy"?i%100:i,r.length)},M:function(e,r){var n=e.getUTCMonth();return r==="M"?String(n+1):Pt(n+1,2)},d:function(e,r){return Pt(e.getUTCDate(),r.length)},a:function(e,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,r){return Pt(e.getUTCHours()%12||12,r.length)},H:function(e,r){return Pt(e.getUTCHours(),r.length)},m:function(e,r){return Pt(e.getUTCMinutes(),r.length)},s:function(e,r){return Pt(e.getUTCSeconds(),r.length)},S:function(e,r){var n=r.length,i=e.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,n-3));return Pt(a,r.length)}},kd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},uxe={G:function(e,r,n){var i=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){var i=e.getUTCFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return _l.y(e,r)},Y:function(e,r,n,i){var a=gG(e,i),o=a>0?a:1-a;if(r==="YY"){var s=o%100;return Pt(s,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):Pt(o,r.length)},R:function(e,r){var n=mG(e);return Pt(n,r.length)},u:function(e,r){var n=e.getUTCFullYear();return Pt(n,r.length)},Q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(i);case"QQ":return Pt(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(i);case"qq":return Pt(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,r,n){var i=e.getUTCMonth();switch(r){case"M":case"MM":return _l.M(e,r);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,r,n){var i=e.getUTCMonth();switch(r){case"L":return String(i+1);case"LL":return Pt(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,r,n,i){var a=cxe(e,i);return r==="wo"?n.ordinalNumber(a,{unit:"week"}):Pt(a,r.length)},I:function(e,r,n){var i=oxe(e);return r==="Io"?n.ordinalNumber(i,{unit:"week"}):Pt(i,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):_l.d(e,r)},D:function(e,r,n){var i=nxe(e);return r==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Pt(i,r.length)},E:function(e,r,n){var i=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,r,n,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return Pt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,r,n,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return Pt(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,r,n){var i=e.getUTCDay(),a=i===0?7:i;switch(r){case"i":return String(a);case"ii":return Pt(a,r.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,r,n){var i=e.getUTCHours(),a=i/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,r,n){var i=e.getUTCHours(),a;switch(i===12?a=kd.noon:i===0?a=kd.midnight:a=i/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,r,n){var i=e.getUTCHours(),a;switch(i>=17?a=kd.evening:i>=12?a=kd.afternoon:i>=4?a=kd.morning:a=kd.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return _l.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):_l.H(e,r)},K:function(e,r,n){var i=e.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Pt(i,r.length)},k:function(e,r,n){var i=e.getUTCHours();return i===0&&(i=24),r==="ko"?n.ordinalNumber(i,{unit:"hour"}):Pt(i,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):_l.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):_l.s(e,r)},S:function(e,r){return _l.S(e,r)},X:function(e,r,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return $6(o);case"XXXX":case"XX":return ou(o);case"XXXXX":case"XXX":default:return ou(o,":")}},x:function(e,r,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(r){case"x":return $6(o);case"xxxx":case"xx":return ou(o);case"xxxxx":case"xxx":default:return ou(o,":")}},O:function(e,r,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+L6(o,":");case"OOOO":default:return"GMT"+ou(o,":")}},z:function(e,r,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+L6(o,":");case"zzzz":default:return"GMT"+ou(o,":")}},t:function(e,r,n,i){var a=i._originalDate||e,o=Math.floor(a.getTime()/1e3);return Pt(o,r.length)},T:function(e,r,n,i){var a=i._originalDate||e,o=a.getTime();return Pt(o,r.length)}};function L6(t,e){var r=t>0?"-":"+",n=Math.abs(t),i=Math.floor(n/60),a=n%60;if(a===0)return r+String(i);var o=e;return r+String(i)+o+Pt(a,2)}function $6(t,e){if(t%60===0){var r=t>0?"-":"+";return r+Pt(Math.abs(t)/60,2)}return ou(t,e)}function ou(t,e){var r=e||"",n=t>0?"-":"+",i=Math.abs(t),a=Pt(Math.floor(i/60),2),o=Pt(i%60,2);return n+a+r+o}var F6=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},vG=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},dxe=function(e,r){var n=e.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return F6(e,r);var o;switch(i){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",F6(i,r)).replace("{{time}}",vG(a,r))},fxe={p:vG,P:dxe},hxe=["D","DD"],pxe=["YY","YYYY"];function mxe(t){return hxe.indexOf(t)!==-1}function gxe(t){return pxe.indexOf(t)!==-1}function B6(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var vxe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},yxe=function(e,r,n){var i,a=vxe[e];return typeof a=="string"?i=a:r===1?i=a.one:i=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function bE(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}var xxe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},wxe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},bxe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_xe={date:bE({formats:xxe,defaultWidth:"full"}),time:bE({formats:wxe,defaultWidth:"full"}),dateTime:bE({formats:bxe,defaultWidth:"full"})},Sxe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Exe=function(e,r,n,i){return Sxe[e]};function Gp(t){return function(e,r){var n=r!=null&&r.context?String(r.context):"standalone",i;if(n==="formatting"&&t.formattingValues){var a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{var s=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[s]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var Axe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Cxe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Txe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Nxe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ixe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Pxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Oxe=function(e,r){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},jxe={ordinalNumber:Oxe,era:Gp({values:Axe,defaultWidth:"wide"}),quarter:Gp({values:Cxe,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Gp({values:Txe,defaultWidth:"wide"}),day:Gp({values:Nxe,defaultWidth:"wide"}),dayPeriod:Gp({values:Ixe,defaultWidth:"wide",formattingValues:Pxe,defaultFormattingWidth:"wide"})};function qp(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;var o=a[0],s=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?Rxe(s,function(f){return f.test(o)}):kxe(s,function(f){return f.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;var d=e.slice(o.length);return{value:u,rest:d}}}function kxe(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function Rxe(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function Dxe(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var i=n[0],a=e.match(t.parsePattern);if(!a)return null;var o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;var s=e.slice(i.length);return{value:o,rest:s}}}var Mxe=/^(\d+)(th|st|nd|rd)?/i,Lxe=/\d+/i,$xe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Fxe={any:[/^b/i,/^(a|c)/i]},Bxe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Uxe={any:[/1/i,/2/i,/3/i,/4/i]},Vxe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},zxe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Wxe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Hxe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Gxe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qxe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Kxe={ordinalNumber:Dxe({matchPattern:Mxe,parsePattern:Lxe,valueCallback:function(e){return parseInt(e,10)}}),era:qp({matchPatterns:$xe,defaultMatchWidth:"wide",parsePatterns:Fxe,defaultParseWidth:"any"}),quarter:qp({matchPatterns:Bxe,defaultMatchWidth:"wide",parsePatterns:Uxe,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:qp({matchPatterns:Vxe,defaultMatchWidth:"wide",parsePatterns:zxe,defaultParseWidth:"any"}),day:qp({matchPatterns:Wxe,defaultMatchWidth:"wide",parsePatterns:Hxe,defaultParseWidth:"any"}),dayPeriod:qp({matchPatterns:Gxe,defaultMatchWidth:"any",parsePatterns:qxe,defaultParseWidth:"any"})},vj={code:"en-US",formatDistance:yxe,formatLong:_xe,formatRelative:Exe,localize:jxe,match:Kxe,options:{weekStartsOn:0,firstWeekContainsDate:1}},Yxe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Xxe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Qxe=/^'([^]*?)'?$/,Zxe=/''/g,Jxe=/[a-zA-Z]/;function Yt(t,e,r){var n,i,a,o,s,l,u,d,f,h,p,m,g,v,x,y,w,S;nt(2,arguments);var E=String(e),C=xd(),A=(n=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:C.locale)!==null&&n!==void 0?n:vj,T=Ei((a=(o=(s=(l=r==null?void 0:r.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(u=r.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&s!==void 0?s:C.firstWeekContainsDate)!==null&&o!==void 0?o:(f=C.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var N=Ei((p=(m=(g=(v=r==null?void 0:r.weekStartsOn)!==null&&v!==void 0?v:r==null||(x=r.locale)===null||x===void 0||(y=x.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&g!==void 0?g:C.weekStartsOn)!==null&&m!==void 0?m:(w=C.locale)===null||w===void 0||(S=w.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&p!==void 0?p:0);if(!(N>=0&&N<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!A.localize)throw new RangeError("locale must contain localize property");if(!A.formatLong)throw new RangeError("locale must contain formatLong property");var I=lt(t);if(!z1e(I))throw new RangeError("Invalid time value");var j=IT(I),O=txe(I,j),P={firstWeekContainsDate:T,weekStartsOn:N,locale:A,_originalDate:I},M=E.match(Xxe).map(function(F){var B=F[0];if(B==="p"||B==="P"){var W=fxe[B];return W(F,A.formatLong)}return F}).join("").match(Yxe).map(function(F){if(F==="''")return"'";var B=F[0];if(B==="'")return ewe(F);var W=uxe[B];if(W)return!(r!=null&&r.useAdditionalWeekYearTokens)&&gxe(F)&&B6(F,e,String(t)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&mxe(F)&&B6(F,e,String(t)),W(O,F,A.localize,P);if(B.match(Jxe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return F}).join("");return M}function ewe(t){var e=t.match(Qxe);return e?e[1].replace(Zxe,"'"):t}function yG(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function twe(t){return yG({},t)}var U6=1440,rwe=2520,_E=43200,nwe=86400;function iwe(t,e,r){var n,i;nt(2,arguments);var a=xd(),o=(n=(i=void 0)!==null&&i!==void 0?i:a.locale)!==null&&n!==void 0?n:vj;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var s=V1(t,e);if(isNaN(s))throw new RangeError("Invalid time value");var l=yG(twe(r),{addSuffix:!1,comparison:s}),u,d;s>0?(u=lt(e),d=lt(t)):(u=lt(t),d=lt(e));var f=Z1e(d,u),h=(IT(d)-IT(u))/1e3,p=Math.round((f-h)/60),m;if(p<2)return p===0?o.formatDistance("lessThanXMinutes",1,l):o.formatDistance("xMinutes",p,l);if(p<45)return o.formatDistance("xMinutes",p,l);if(p<90)return o.formatDistance("aboutXHours",1,l);if(p<U6){var g=Math.round(p/60);return o.formatDistance("aboutXHours",g,l)}else{if(p<rwe)return o.formatDistance("xDays",1,l);if(p<_E){var v=Math.round(p/U6);return o.formatDistance("xDays",v,l)}else if(p<nwe)return m=Math.round(p/_E),o.formatDistance("aboutXMonths",m,l)}if(m=Q1e(d,u),m<12){var x=Math.round(p/_E);return o.formatDistance("xMonths",x,l)}else{var y=m%12,w=Math.floor(m/12);return y<3?o.formatDistance("aboutXYears",w,l):y<9?o.formatDistance("overXYears",w,l):o.formatDistance("almostXYears",w+1,l)}}function V6(t,e){return nt(1,arguments),iwe(t,Date.now(),e)}function awe(t){nt(1,arguments);var e=lt(t),r=e.getDay();return r}function owe(t,e){nt(2,arguments);var r=lt(t),n=lt(e);return r.getTime()>n.getTime()}function PT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function yj(t,e){if(t){if(typeof t=="string")return PT(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?PT(t,e):void 0}}function swe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aw(t,e){return aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},aw(t,e)}function ii(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aw(t,e)}function ow(t){return ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ow(t)}function xG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xG=function(){return!!t})()}function lwe(t,e){if(e&&(Ao(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return swe(t)}function un(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cwe(t,e){if(Ao(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wG(t){var e=cwe(t,"string");return Ao(e)=="symbol"?e:e+""}function z6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wG(n.key),n)}}function dn(t,e,r){return e&&z6(t.prototype,e),r&&z6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pu(t,e,r){return(e=wG(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uwe(t,e){nt(2,arguments);var r=lt(t),n=lt(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function th(t,e){var r;nt(1,arguments);var n=Ei((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=pwe(t),a;if(i.date){var o=mwe(i.date,n);a=gwe(o.restDateString,o.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var s=a.getTime(),l=0,u;if(i.time&&(l=vwe(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=ywe(i.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(s+l),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(s+l+u)}var Ly={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dwe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,fwe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,hwe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function pwe(t){var e={},r=t.split(Ly.dateTimeDelimiter),n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],Ly.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Ly.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){var i=Ly.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function mwe(t,e){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};var i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:t.slice((n[1]||n[2]).length)}}function gwe(t,e){if(e===null)return new Date(NaN);var r=t.match(dwe);if(!r)return new Date(NaN);var n=!!r[4],i=Kp(r[1]),a=Kp(r[2])-1,o=Kp(r[3]),s=Kp(r[4]),l=Kp(r[5])-1;if(n)return Swe(e,s,l)?xwe(e,s,l):new Date(NaN);var u=new Date(0);return!bwe(e,a,o)||!_we(e,i)?new Date(NaN):(u.setUTCFullYear(e,a,Math.max(i,o)),u)}function Kp(t){return t?parseInt(t):1}function vwe(t){var e=t.match(fwe);if(!e)return NaN;var r=SE(e[1]),n=SE(e[2]),i=SE(e[3]);return Ewe(r,n,i)?r*fG+n*dG+i*1e3:NaN}function SE(t){return t&&parseFloat(t.replace(",","."))||0}function ywe(t){if(t==="Z")return 0;var e=t.match(hwe);if(!e)return 0;var r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Awe(n,i)?r*(n*fG+i*dG):NaN}function xwe(t,e,r){var n=new Date(0);n.setUTCFullYear(t,0,4);var i=n.getUTCDay()||7,a=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}var wwe=[31,null,31,30,31,30,31,31,30,31,30,31];function bG(t){return t%400===0||t%4===0&&t%100!==0}function bwe(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(wwe[e]||(bG(t)?29:28))}function _we(t,e){return e>=1&&e<=(bG(t)?366:365)}function Swe(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function Ewe(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function Awe(t,e){return e>=0&&e<=59}function Cwe(t,e){nt(2,arguments);var r=Ei(e);return gj(t,-r)}class of{constructor(){this.templates=[],this.currentUserId=null}static getInstance(){return of.instance||(of.instance=new of),of.instance}setCurrentUser(e){this.currentUserId=e,e?this.loadTemplates():this.templates=[]}getStorageKey(){return this.currentUserId?`recurringItemTemplates_${this.currentUserId}`:"recurringItemTemplates"}loadTemplates(){try{const e=localStorage.getItem(this.getStorageKey());e?this.templates=JSON.parse(e):this.templates=[]}catch(e){console.error("Error loading recurring item templates:",e),this.templates=[]}return this.templates}saveTemplates(){try{localStorage.setItem(this.getStorageKey(),JSON.stringify(this.templates))}catch(e){console.error("Error saving recurring item templates:",e)}}addOrUpdateTemplate(e){const r={...e,id:e.baseItemId||Date.now().toString()+Math.random().toString(36).substring(2),isRecurringTemplate:!0,isRecurring:!0,checked:!1},n=this.templates.findIndex(i=>i.baseItemId===r.baseItemId);return n>=0?this.templates[n]=r:this.templates.push(r),this.saveTemplates(),r}removeTemplate(e){const r=this.templates.length;return this.templates=this.templates.filter(n=>n.id!==e),this.templates.length<r?(this.saveTemplates(),!0):!1}getTemplates(){return[...this.templates]}getDueTemplates(){const e=new Date;return this.templates.filter(r=>{if(!r.nextDueDate)return!1;const n=th(r.nextDueDate);return hG(n,e)||owe(e,n)})}processRecurringItems(e){const r=this.getDueTemplates(),n={itemsToAdd:[],templatesUpdated:[],newTripsToCreate:[]},i=new Date().toISOString();for(const a of r){const o={name:a.name,quantity:a.quantity,unit:a.unit,price:a.averagePrice||a.price,category:a.category,notes:a.notes,checked:!1,baseItemId:a.id,isRecurring:!1,addedBy:a.addedBy||{name:"System",avatar:"https://example.com/system.jpg"}},s=this.findBestTripForItem(a,e);if(s)n.itemsToAdd.push({item:o,targetTripId:s.id});else{const u=this.getSuggestedStore(a);n.itemsToAdd.push({item:o,suggestedStore:u});const d=n.newTripsToCreate.find(f=>f.store===u);d?d.items.push(o):n.newTripsToCreate.push({store:u,items:[o]})}const l={...a,lastAddedToTripDate:i,nextDueDate:OT(i,a.recurrenceFrequency),lastPurchaseDate:i};n.templatesUpdated.push(l)}for(const a of n.templatesUpdated){const o=this.templates.findIndex(s=>s.id===a.id);o>=0&&(this.templates[o]=a)}return this.saveTemplates(),n}findBestTripForItem(e,r){const n=r.filter(i=>i.status==="open"||i.status==="pending");if(n.length===0)return null;if(e.preferredStores&&e.preferredStores.length>0){const i=n.find(a=>e.preferredStores.includes(a.store));if(i)return i}return n[0]}getSuggestedStore(e){if(e.preferredStores&&e.preferredStores.length>0)return e.preferredStores[0];const r=e.name.toLowerCase();return r.includes("organic")||e.category==="Produce"?"Whole Foods":r.includes("bulk")||e.quantity>5?"Costco":"Trader Joe's"}createTemplateFromItem(e,r,n){const i={...e,isRecurringTemplate:!0,isRecurring:!0,recurrenceFrequency:r,nextDueDate:OT(new Date,r),baseItemId:e.id,preferredStores:n,averagePrice:e.price,lastPurchaseDate:new Date().toISOString(),checked:!1};return this.addOrUpdateTemplate(i)}updateTemplatePrice(e,r){const n=this.templates.find(i=>i.id===e);n&&(n.averagePrice?n.averagePrice=(n.averagePrice+r)/2:n.averagePrice=r,n.price=r,this.saveTemplates())}getStatistics(){const e=this.getDueTemplates().length,r=new Map;this.templates.forEach(i=>{const a=`${i.name}-${i.recurrenceFrequency}`,o=r.get(a);o?o.count++:r.set(a,{frequency:i.recurrenceFrequency,count:1})});const n=Array.from(r.entries()).map(([i,a])=>({name:i.split("-")[0],frequency:a.frequency,count:a.count})).sort((i,a)=>a.count-i.count).slice(0,5);return{totalTemplates:this.templates.length,dueToday:e,averageSavings:0,mostFrequentItems:n}}}const Mo=of.getInstance();function OT(t,e){const r=typeof t=="string"?new Date(t):t;let n;switch(e){case"daily":n=rw(r,1);break;case"weekly":n=M6(r,1);break;case"bi-weekly":n=M6(r,2);break;case"monthly":n=gj(r,1);break;default:console.warn("Invalid recurrence frequency:",e),n=rw(r,7);break}return n.toISOString()}function jT(t,e,r,n,i=!1){console.log("Processing recurring items...");try{Mo.loadTemplates();const a=Mo.processRecurringItems(t),o={itemsProcessed:0,tripsUpdated:0,newTripsCreated:0,errors:[]};for(const u of a.itemsToAdd)if(u.targetTripId)try{e(u.targetTripId,{...u.item,id:Date.now().toString()+Math.random().toString(36).substring(2)}),o.itemsProcessed++,o.tripsUpdated++}catch(d){o.errors.push(`Failed to add ${u.item.name} to trip: ${d}`)}let s,l;i?(s=[{id:(n==null?void 0:n.id)||"1",name:(n==null?void 0:n.name)||"You",avatar:(n==null?void 0:n.avatar)||"https://ui-avatars.com/api/?name="+encodeURIComponent((n==null?void 0:n.name)||"You")+"&background=random"},{id:"2",name:"Rachel",avatar:"https://ui-avatars.com/api/?name=Rachel&background=ff6b6b"},{id:"3",name:"Dev",avatar:"https://ui-avatars.com/api/?name=Dev&background=4ecdc4"}],l={name:(n==null?void 0:n.name)||"You",avatar:(n==null?void 0:n.avatar)||"https://ui-avatars.com/api/?name="+encodeURIComponent((n==null?void 0:n.name)||"You")+"&background=random"}):(s=[{id:(n==null?void 0:n.id)||"1",name:(n==null?void 0:n.name)||"User",avatar:(n==null?void 0:n.avatar)||"https://ui-avatars.com/api/?name="+encodeURIComponent((n==null?void 0:n.name)||"User")+"&background=random"}],l={name:(n==null?void 0:n.name)||"User",avatar:(n==null?void 0:n.avatar)||"https://ui-avatars.com/api/?name="+encodeURIComponent((n==null?void 0:n.name)||"User")+"&background=random"});for(const u of a.newTripsToCreate)try{const d={store:u.store,date:new Date().toISOString(),time:"10:00",status:"open",items:u.items.map(f=>({...f,id:Date.now().toString()+Math.random().toString(36).substring(2)})),participants:s,shopper:l,notes:"Auto-created for recurring items"};r(d),o.itemsProcessed+=u.items.length,o.newTripsCreated++}catch(d){o.errors.push(`Failed to create trip for ${u.store}: ${d}`)}return console.log("Recurring items processing completed:",o),o}catch(a){return console.error("Error processing recurring items:",a),{itemsProcessed:0,tripsUpdated:0,newTripsCreated:0,errors:[`Processing failed: ${a}`]}}}function Twe(t,e,r,n,i=!1){console.log("Initializing recurring items processing...");const a=t();jT(a,e,r,n,i);const o=()=>{const l=new Date,u=new Date;u.setDate(l.getDate()+1),u.setHours(8,0,0,0);const d=u.getTime()-l.getTime();return setTimeout(()=>{const f=t();jT(f,e,r,n,i),o()},d)},s=o();return()=>{clearTimeout(s)}}const _G=b.createContext(void 0);function Nwe({children:t}){const{user:e,isAdmin:r}=qr(),[n,i]=b.useState([]),[a,o]=b.useState([]),[s,l]=b.useState(500),[u,d]=b.useState([]),f=I=>e?`${I}_${e.id}`:I;b.useEffect(()=>{(()=>{try{Mo.setCurrentUser((e==null?void 0:e.id)||null);const j=localStorage.getItem(f("tasks"));i(j?JSON.parse(j):[]);const O=localStorage.getItem(f("trips"));o(O?JSON.parse(O):[]);const P=localStorage.getItem(f("budget"));l(P?parseFloat(P):500);const M=Mo.loadTemplates();d(M)}catch(j){console.error("Error loading data from localStorage:",j),i([]),o([]),l(500),d([])}})()},[e]),b.useEffect(()=>a.length===0?void 0:Twe(()=>a,(j,O)=>{var P;x(j,{items:[...((P=a.find(M=>M.id===j))==null?void 0:P.items)||[],{...O,id:Date.now().toString()+Math.random().toString(36).substring(2)}]})},j=>{v(j)},e?{id:e.id,name:e.name,avatar:e.avatar}:void 0,r),[a.length,e,r]);const h=(I,j)=>I==="coordinates"&&j&&typeof j=="object"?{lat:j.lat,lng:j.lng}:j;b.useEffect(()=>{try{localStorage.setItem(f("tasks"),JSON.stringify(n,h))}catch(I){console.error("Error saving tasks to localStorage:",I)}},[n,e]),b.useEffect(()=>{try{localStorage.setItem(f("trips"),JSON.stringify(a,h))}catch(I){console.error("Error saving trips to localStorage:",I)}},[a,e]),b.useEffect(()=>{try{localStorage.setItem(f("budget"),JSON.stringify(s))}catch(I){console.error("Error saving budget to localStorage:",I)}},[s,e]);const p=I=>{const j={...I,id:Date.now().toString()};i(O=>[...O,j])},m=(I,j)=>{i(O=>O.map(P=>P.id===I?{...P,...j}:P))},g=I=>{i(j=>j.filter(O=>O.id!==I))},v=I=>{const j={...I,id:Date.now().toString(),status:"open",items:I.items||[]};o(O=>[...O,j])},x=(I,j)=>{o(O=>O.map(P=>P.id===I?{...P,...j}:P))},y=I=>{o(j=>j.filter(O=>O.id!==I))},w=I=>{const j=Mo.addOrUpdateTemplate(I);d(O=>{const P=O.findIndex(M=>M.baseItemId===j.baseItemId);if(P>=0){const M=[...O];return M[P]=j,M}else return[...O,j]})},S=(I,j)=>{const O=u.find(P=>P.id===I);if(O){const P={...O,...j};Mo.addOrUpdateTemplate(P),d(M=>M.map(F=>F.id===I?P:F))}},E=I=>{Mo.removeTemplate(I)&&d(O=>O.filter(P=>P.id!==I))},C=()=>{const I=jT(a,(O,P)=>{var M;x(O,{items:[...((M=a.find(F=>F.id===O))==null?void 0:M.items)||[],{...P,id:Date.now().toString()+Math.random().toString(36).substring(2)}]})},O=>{v(O)},e?{id:e.id,name:e.name,avatar:e.avatar}:void 0,r),j=Mo.loadTemplates();return d(j),I},A=(I,j,O)=>{const P=Mo.createTemplateFromItem(I,j,O);d(M=>[...M,P])},T=()=>{console.log("Syncing tasks with trips...");const I=n.filter(P=>P.location&&P.coordinates&&P.coordinates.lat!==0&&P.coordinates.lng!==0&&!P.completed&&(P.location.toLowerCase().includes("store")||P.location.toLowerCase().includes("market")||P.location.toLowerCase().includes("shop")||P.location.toLowerCase().includes("mall")||P.location.toLowerCase().includes("walmart")||P.location.toLowerCase().includes("target")||P.location.toLowerCase().includes("kroger")||P.location.toLowerCase().includes("costco")||P.location.toLowerCase().includes("trader")||P.location.toLowerCase().includes("whole foods"))),j={};I.forEach(P=>{const M=P.location.toLowerCase().trim();j[M]||(j[M]=[]),j[M].push(P)});let O={tasksProcessed:0,tripsCreated:0,tripsUpdated:0};return Object.entries(j).forEach(([P,M])=>{const F=a.find(B=>B.status==="open"&&B.store.toLowerCase().includes(P.split(" ")[0]));if(F&&M.length>0){const B=M.map(W=>({id:`task_${W.id}`,name:W.title,quantity:1,checked:W.completed||!1,category:"Task",notes:`From task: ${W.notes||""}`,addedBy:{name:(e==null?void 0:e.name)||"User",avatar:(e==null?void 0:e.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((e==null?void 0:e.name)||"User")}&background=random`}}));x(F.id,{items:[...F.items,...B]}),O.tripsUpdated++,O.tasksProcessed+=M.length}else if(M.length>0){const B=M[0];if(B.coordinates&&B.coordinates.lat!==0&&B.coordinates.lng!==0){const W=M.map(U=>({id:`task_${U.id}`,name:U.title,quantity:1,checked:U.completed||!1,category:"Task",notes:`From task: ${U.notes||""}`,addedBy:{name:(e==null?void 0:e.name)||"User",avatar:(e==null?void 0:e.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((e==null?void 0:e.name)||"User")}&background=random`}})),$={store:B.location,date:new Date().toISOString(),time:"12:00",items:W,notes:`Auto-created from ${M.length} task(s)`,eta:"30 minutes",coordinates:B.coordinates,participants:[{id:(e==null?void 0:e.id)||"1",name:(e==null?void 0:e.name)||"User",avatar:(e==null?void 0:e.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((e==null?void 0:e.name)||"User")}&background=random`}],shopper:{name:(e==null?void 0:e.name)||"User",avatar:(e==null?void 0:e.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((e==null?void 0:e.name)||"User")}&background=random`}};v($),O.tripsCreated++,O.tasksProcessed+=M.length}}}),O},N=I=>{l(I)};return c.jsx(_G.Provider,{value:{tasks:n,trips:a,addTask:p,updateTask:m,deleteTask:g,addTrip:v,updateTrip:x,deleteTrip:y,syncTasksWithTrips:T,budget:s,updateBudget:N,recurringTemplates:u,addRecurringTemplate:w,updateRecurringTemplate:S,removeRecurringTemplate:E,processRecurringItemsNow:C,createRecurringFromItem:A},children:t})}function os(){const t=b.useContext(_G);if(t===void 0)throw new Error("useTaskContext must be used within a TaskProvider");return t}const Iwe={free:{maxActiveTrips:3,maxActiveTasks:25,maxPantryItems:50,maxExpensesPerMonth:10,maxHouseholdMembers:2,maxReceiptScansPerMonth:0,hasReceiptScanning:!1,hasAIFeatures:!1,hasRecurringItems:!1,hasAdvancedExpenseSplitting:!1,hasCalendarIntegration:!1,hasExportFeatures:!1,hasBulkOperations:!1,hasAdvancedAnalytics:!1,hasSmartHomeIntegration:!1,hasPrioritySupport:!1},plus:{maxActiveTrips:1/0,maxActiveTasks:1/0,maxPantryItems:1/0,maxExpensesPerMonth:1/0,maxHouseholdMembers:6,maxReceiptScansPerMonth:20,hasReceiptScanning:!0,hasAIFeatures:!0,hasRecurringItems:!0,hasAdvancedExpenseSplitting:!0,hasCalendarIntegration:!0,hasExportFeatures:!0,hasBulkOperations:!0,hasAdvancedAnalytics:!1,hasSmartHomeIntegration:!1,hasPrioritySupport:!0},family:{maxActiveTrips:1/0,maxActiveTasks:1/0,maxPantryItems:1/0,maxExpensesPerMonth:1/0,maxHouseholdMembers:1/0,maxReceiptScansPerMonth:1/0,hasReceiptScanning:!0,hasAIFeatures:!0,hasRecurringItems:!0,hasAdvancedExpenseSplitting:!0,hasCalendarIntegration:!0,hasExportFeatures:!0,hasBulkOperations:!0,hasAdvancedAnalytics:!0,hasSmartHomeIntegration:!0,hasPrioritySupport:!0}},SG=b.createContext(void 0);function Pwe({children:t}){const{user:e,isAdmin:r}=qr(),[n,i]=b.useState("free"),a=f=>e?`${f}_${e.id}`:f;b.useEffect(()=>{if(e&&!r){const f=localStorage.getItem(a("subscription_tier"));f&&["free","plus","family"].includes(f)&&i(f)}else r&&i("family")},[e,r]),b.useEffect(()=>{e&&!r&&localStorage.setItem(a("subscription_tier"),n)},[n,e,r]);const o=Iwe[n],d={currentTier:r?"family":n,limits:o,isAdmin:r,upgradeTier:f=>{r||i(f)},checkLimit:(f,h)=>{const p=o[f];return typeof p=="boolean"?p:typeof p=="number"&&h!==void 0?h<p:!0},showUpgradePrompt:f=>{console.log(`Upgrade needed for: ${f}`)}};return c.jsx(SG.Provider,{value:d,children:t})}function xj(){const t=b.useContext(SG);if(t===void 0)throw new Error("useSubscription must be used within a SubscriptionProvider");return t}const EG=b.createContext(void 0),wj=()=>{const t=b.useContext(EG);if(!t)throw new Error("useTutorial must be used within a TutorialProvider");return t},Owe=({children:t})=>{const{user:e}=qr(),[r,n]=b.useState(!1),[i,a]=b.useState(0),o=7;b.useEffect(()=>{e&&(localStorage.getItem(`tutorial_completed_${e.id}`)||setTimeout(()=>{n(!0)},1e3))},[e]);const s=()=>{i<o-1?a(p=>p+1):f()},l=()=>{i>0&&a(p=>p-1)},u=()=>{n(!1),a(0),e&&localStorage.setItem(`tutorial_completed_${e.id}`,"true")},d=()=>{n(!0),a(0)},f=()=>{n(!1),a(0),e&&localStorage.setItem(`tutorial_completed_${e.id}`,"true")},h=i/(o-1)*100;return c.jsx(EG.Provider,{value:{isActive:r,currentStep:i,totalSteps:o,nextStep:s,prevStep:l,skipTutorial:u,startTutorial:d,completeTutorial:f,progress:h},children:t})},AG=b.createContext(void 0);function jwe({children:t}){const{user:e}=qr(),[r,n]=b.useState([]),i=f=>e?`${f}_${e.id}`:f;b.useEffect(()=>{const f=localStorage.getItem(i("trips"));n(f?JSON.parse(f):[])},[e]),b.useEffect(()=>{e&&localStorage.setItem(i("trips"),JSON.stringify(r))},[r,e]);const a=f=>{const h={...f,id:Date.now().toString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};n(p=>[...p,h])},o=(f,h)=>{n(p=>p.map(m=>m.id===f?{...m,...h,updatedAt:new Date().toISOString()}:m))},s=f=>{n(h=>h.filter(p=>p.id!==f))},l=(f,h)=>{n(p=>p.map(m=>{if(m.id===f){const g=h.map(x=>({...x,id:Date.now().toString(),addedAt:new Date().toISOString()})),v=m.items.concat(g).reduce((x,y)=>x+(y.price||0)*y.quantity,0);return{...m,items:[...m.items,...g],updatedAt:new Date().toISOString(),totalAmount:Number(v.toFixed(2))}}return m}))},u=(f,h)=>{n(p=>p.map(m=>{if(m.id===f){const g=m.items.filter(x=>x.id!==h),v=g.reduce((x,y)=>x+(y.price||0)*y.quantity,0);return{...m,items:g,updatedAt:new Date().toISOString(),totalAmount:Number(v.toFixed(2))}}return m}))},d=(f,h,p)=>{n(m=>m.map(g=>{if(g.id===f){const v=g.items.map(y=>y.id===h?{...y,...p}:y),x=v.reduce((y,w)=>y+(w.price||0)*w.quantity,0);return{...g,items:v,updatedAt:new Date().toISOString(),totalAmount:Number(x.toFixed(2))}}return g}))};return c.jsx(AG.Provider,{value:{trips:r,addTrip:a,updateTrip:o,deleteTrip:s,addItemToTrip:l,removeItemFromTrip:u,updateTripItem:d},children:t})}function kwe(){const t=b.useContext(AG);if(t===void 0)throw new Error("useTrips must be used within a TripsProvider");return t}class sf{static getInstance(){return sf.instance||(sf.instance=new sf),sf.instance}async sendHouseholdInvite(e){const r=`You've been invited to join "${e.householdName}" on TaskaLoop! 
    
TaskaLoop helps households manage shopping trips, split expenses, and coordinate tasks together. Join us to:
• Share shopping lists and coordinate trips
• Split expenses fairly and track who owes what
• Manage household tasks and chores
• Stay organized together

Click the link below to download TaskaLoop and accept the invitation.`,n={fromUserId:e.fromUser.id,fromUserName:e.fromUser.name,fromUserEmail:e.fromUser.email||"",toEmail:e.email,type:"household",status:"pending",message:e.message||r,data:{householdId:e.householdId,householdName:e.householdName},createdAt:new Date().toISOString(),expiresAt:new Date(Date.now()+7*24*60*60*1e3).toISOString()};return this.saveInvitation(n)}async sendExpenseSplitInvite(e){const r=`${e.fromUser.name} is asking you to split an expense of $${e.expenseAmount.toFixed(2)} for "${e.expenseDescription}".

You can download TaskaLoop to easily split expenses, track who owes what, and manage shared costs with your friends and family.

Payment details:
• Amount: $${e.expenseAmount.toFixed(2)}
• Description: ${e.expenseDescription}
• Your share: $${(e.expenseAmount/2).toFixed(2)} (split equally)

Download TaskaLoop to pay and track shared expenses easily!`,n={fromUserId:e.fromUser.id,fromUserName:e.fromUser.name,fromUserEmail:e.fromUser.email||"",toEmail:e.email,type:"expense_split",status:"pending",message:e.message||r,data:{expenseAmount:e.expenseAmount,expenseDescription:e.expenseDescription,tripId:e.tripId,tripName:e.tripName},createdAt:new Date().toISOString(),expiresAt:new Date(Date.now()+30*24*60*60*1e3).toISOString()};return this.saveInvitation(n)}async sendAppDownloadInvite(e){const r=`${e.fromUser.name} invited you to try TaskaLoop!

TaskaLoop is the easiest way to manage your household:
• Create and share shopping lists
• Split expenses fairly with automatic calculations
• Coordinate trips and tasks with family/roommates
• Track who owes what and settle up easily

Join thousands of households who stay organized with TaskaLoop!

Download the app to get started:`,n={fromUserId:e.fromUser.id,fromUserName:e.fromUser.name,fromUserEmail:e.fromUser.email||"",toEmail:e.email,type:"app_download",status:"pending",message:e.message||r,createdAt:new Date().toISOString(),expiresAt:new Date(Date.now()+90*24*60*60*1e3).toISOString()};return this.saveInvitation(n)}async saveInvitation(e){const r=Date.now().toString()+Math.random().toString(36).substring(2),n={...e,id:r};return this.saveInvitationLocally(n),this.simulateEmailSending(n),n}saveInvitationLocally(e){try{const r=this.getLocalInvitations();r.push(e),localStorage.setItem("taska_invitations",JSON.stringify(r))}catch(r){console.error("Error saving invitation locally:",r)}}getLocalInvitations(){try{const e=localStorage.getItem("taska_invitations");return e?JSON.parse(e):[]}catch(e){return console.error("Error getting local invitations:",e),[]}}simulateEmailSending(e){console.log("📧 INVITATION SENT (Demo Mode):"),console.log("📧 To:",e.toEmail),console.log("📧 From:",e.fromUserName),console.log("📧 Type:",e.type),console.log("📧 ID:",e.id)}updateInvitationLocally(e,r){try{const n=this.getLocalInvitations(),i=n.findIndex(a=>a.id===e);i!==-1&&(n[i]={...n[i],...r},localStorage.setItem("taska_invitations",JSON.stringify(n)))}catch(n){console.error("Error updating invitation locally:",n)}}async acceptInvitation(e){this.updateInvitationLocally(e,{status:"accepted",respondedAt:new Date().toISOString()})}async rejectInvitation(e){this.updateInvitationLocally(e,{status:"rejected",respondedAt:new Date().toISOString()})}async getSentInvitations(e){try{return this.getLocalInvitations().filter(n=>n.fromUserId===e)}catch(r){return console.error("Error getting sent invitations:",r),[]}}async getReceivedInvitations(e){try{return this.getLocalInvitations().filter(n=>n.toEmail===e)}catch(r){return console.error("Error getting received invitations:",r),[]}}}const Hg=sf.getInstance(),CG=b.createContext(void 0);function Rwe({children:t}){const{user:e}=qr(),[r,n]=b.useState([]),[i,a]=b.useState(null),[o,s]=b.useState(!0),l=m=>e?`household_${e.id}_${m}`:`household_${m}`;b.useEffect(()=>{(()=>{try{if(!e){n([]),a(null),s(!1);return}const g={id:e.id,name:`${e.name}'s Household`,ownerId:e.id};a(g);const v=localStorage.getItem(l("members"));if(v)n(JSON.parse(v));else{const x={id:e.id,name:e.name,email:e.email,avatar:e.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(e.name)}&background=random`,role:"owner",joinedAt:new Date().toISOString()};n([x]),localStorage.setItem(l("members"),JSON.stringify([x]))}}catch(g){console.error("Error loading household data:",g),n([])}finally{s(!1)}})()},[e]),b.useEffect(()=>{if(e&&r.length>0)try{localStorage.setItem(l("members"),JSON.stringify(r))}catch(m){console.error("Error saving household members:",m)}},[r,e]);const u=m=>{const g={...m,id:Date.now().toString()+Math.random().toString(36).substring(2),joinedAt:new Date().toISOString()};n(v=>[...v,g])},d=m=>{m!==(e==null?void 0:e.id)&&n(g=>g.filter(v=>v.id!==m))},f=(m,g)=>{n(v=>v.map(x=>x.id===m?{...x,...g}:x))},h=async(m,g)=>{if(!e||!i)throw new Error("User or household not found");try{await Hg.sendHouseholdInvite({email:m,message:g,householdId:i.id,householdName:i.name,fromUser:{id:e.id,name:e.name,email:e.email}})}catch(v){throw console.error("Error sending household invite:",v),v}},p=async(m,g,v,x,y)=>{if(!e)throw new Error("User not found");try{await Hg.sendExpenseSplitInvite({email:m,expenseAmount:g,expenseDescription:v,tripId:x,tripName:y,fromUser:{id:e.id,name:e.name,email:e.email}})}catch(w){throw console.error("Error sending expense split invite:",w),w}};return c.jsx(CG.Provider,{value:{members:r,currentHousehold:i,addMember:u,removeMember:d,updateMember:f,inviteMember:h,inviteForExpense:p,isLoading:o},children:t})}function bj(){const t=b.useContext(CG);if(t===void 0)throw new Error("useHousehold must be used within a HouseholdProvider");return t}const Dwe=b.createContext(void 0),Mwe=({children:t})=>{const[e,r]=b.useState([{id:"1",type:"info",title:"Welcome to Taska-Loop",message:"Your household management companion. Start by creating a shopping trip!",timestamp:new Date,read:!1,actionText:"New Trip",actionUrl:"/trips"}]);b.useEffect(()=>{const l=localStorage.getItem("notifications");if(l)try{const d=JSON.parse(l).map(f=>({...f,timestamp:new Date(f.timestamp)}));r(d)}catch(u){console.error("Failed to parse stored notifications:",u)}},[]),b.useEffect(()=>{localStorage.setItem("notifications",JSON.stringify(e))},[e]);const n=l=>{const u={...l,id:Date.now().toString(),timestamp:new Date};r(d=>[u,...d])},i=l=>{r(u=>u.filter(d=>d.id!==l))},a=l=>{r(u=>u.map(d=>d.id===l?{...d,read:!0}:d))},o=()=>{r(l=>l.map(u=>({...u,read:!0})))},s=()=>{r([])};return c.jsx(Dwe.Provider,{value:{notifications:e,addNotification:n,removeNotification:i,markAsRead:a,markAllAsRead:o,clearAll:s},children:t})},TG=b.createContext(void 0),Lwe=({children:t})=>{const{user:e,isAdmin:r}=qr(),[n,i]=b.useState([]),a=()=>e?`pantry_${e.id}`:"pantry_default";b.useEffect(()=>{if(e){const u=a(),d=localStorage.getItem(u);if(d)try{i(JSON.parse(d))}catch(f){console.error("Error loading pantry items:",f),i([]),localStorage.setItem(u,JSON.stringify([]))}else i([]),localStorage.setItem(u,JSON.stringify([]))}else i([])},[e]),b.useEffect(()=>{if(e){const u=a();localStorage.setItem(u,JSON.stringify(n))}},[n,e]);const o=u=>{const d={...u,id:Date.now().toString()+Math.random().toString(36).substring(2)};i(f=>[...f,d])},s=(u,d)=>{i(f=>f.map(h=>h.id===u?{...h,...d}:h))},l=u=>{i(d=>d.filter(f=>f.id!==u))};return c.jsx(TG.Provider,{value:{pantryItems:n,addPantryItem:o,updatePantryItem:s,removePantryItem:l},children:t})},_j=()=>{const t=b.useContext(TG);if(t===void 0)throw new Error("usePantry must be used within a PantryProvider");return t},z1=Vh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),K=b.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,withHaptics:i=!1,onClick:a,...o},s)=>{const l=n?qs:"button",u=d=>{i&&(i===!0||i==="light"?Ss.light():i==="medium"?Ss.medium():i==="heavy"?Ss.heavy():i==="success"?Ss.success():i==="error"?Ss.error():i==="warning"&&Ss.warning()),a&&a(d)};return c.jsx(l,{className:je(z1({variant:e,size:r,className:t})),ref:s,onClick:u,...o})});K.displayName="Button";const Te=b.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:je("rounded-lg border border-slate-200/30 dark:border-slate-700/30 bg-white/80 dark:bg-slate-800/90 backdrop-blur-sm text-card-foreground shadow-md dark:shadow-lg",t),...e}));Te.displayName="Card";const Fe=b.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:je("flex flex-col space-y-1.5 p-6",t),...e}));Fe.displayName="CardHeader";const Be=b.forwardRef(({className:t,...e},r)=>c.jsx("h3",{ref:r,className:je("text-2xl font-semibold leading-none tracking-tight",t),...e}));Be.displayName="CardTitle";const tt=b.forwardRef(({className:t,...e},r)=>c.jsx("p",{ref:r,className:je("text-sm text-muted-foreground",t),...e}));tt.displayName="CardDescription";const Ne=b.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:je("p-6 pt-0",t),...e}));Ne.displayName="CardContent";const Bt=b.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:je("flex items-center p-6 pt-0",t),...e}));Bt.displayName="CardFooter";const $we=Vh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600"}},defaultVariants:{variant:"default"}});function mt({className:t,variant:e,...r}){return c.jsx("div",{className:je($we({variant:e}),t),...r})}const Fwe=()=>{const{user:t,logout:e,loginWithEmail:r,loginWithGoogle:n}=qr(),[i,a]=b.useState(!1),[o,s]=b.useState(null),[l,u]=b.useState(!1);return cn(),null},NG=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),I2=b.createContext({}),P2=b.createContext(null),O2=typeof document<"u",Sj=O2?b.useLayoutEffect:b.useEffect,IG=b.createContext({strict:!1}),Ej=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Bwe="framerAppearId",PG="data-"+Ej(Bwe);function Uwe(t,e,r,n){const{visualElement:i}=b.useContext(I2),a=b.useContext(IG),o=b.useContext(P2),s=b.useContext(NG).reducedMotion,l=b.useRef();n=n||a.renderer,!l.current&&n&&(l.current=n(t,{visualState:e,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:s}));const u=l.current;b.useInsertionEffect(()=>{u&&u.update(r,o)});const d=b.useRef(!!(r[PG]&&!window.HandoffComplete));return Sj(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),b.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function lf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Vwe(t,e,r){return b.useCallback(n=>{n&&t.mount&&t.mount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):lf(r)&&(r.current=n))},[e])}function Gg(t){return typeof t=="string"||Array.isArray(t)}function j2(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Aj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cj=["initial",...Aj];function k2(t){return j2(t.animate)||Cj.some(e=>Gg(t[e]))}function OG(t){return!!(k2(t)||t.variants)}function zwe(t,e){if(k2(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Gg(r)?r:void 0,animate:Gg(n)?n:void 0}}return t.inherit!==!1?e:{}}function Wwe(t){const{initial:e,animate:r}=zwe(t,b.useContext(I2));return b.useMemo(()=>({initial:e,animate:r}),[W6(e),W6(r)])}function W6(t){return Array.isArray(t)?t.join(" "):t}const H6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qg={};for(const t in H6)qg[t]={isEnabled:e=>H6[t].some(r=>!!e[r])};function Hwe(t){for(const e in t)qg[e]={...qg[e],...t[e]}}const Tj=b.createContext({}),jG=b.createContext({}),Gwe=Symbol.for("motionComponentSymbol");function qwe({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:i}){t&&Hwe(t);function a(s,l){let u;const d={...b.useContext(NG),...s,layoutId:Kwe(s)},{isStatic:f}=d,h=Wwe(s),p=n(s,f);if(!f&&O2){h.visualElement=Uwe(i,p,d,e);const m=b.useContext(jG),g=b.useContext(IG).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,g,t,m))}return b.createElement(I2.Provider,{value:h},u&&h.visualElement?b.createElement(u,{visualElement:h.visualElement,...d}):null,r(i,s,Vwe(p,h.visualElement,l),p,f,h.visualElement))}const o=b.forwardRef(a);return o[Gwe]=i,o}function Kwe({layoutId:t}){const e=b.useContext(Tj).id;return e&&t!==void 0?e+"-"+t:t}function Ywe(t){function e(n,i={}){return qwe(t(n,i))}if(typeof Proxy>"u")return e;const r=new Map;return new Proxy(e,{get:(n,i)=>(r.has(i)||r.set(i,e(i)),r.get(i))})}const Xwe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Nj(t){return typeof t!="string"||t.includes("-")?!1:!!(Xwe.indexOf(t)>-1||/[A-Z]/.test(t))}const sw={};function Qwe(t){Object.assign(sw,t)}const b0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wd=new Set(b0);function kG(t,{layout:e,layoutId:r}){return wd.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!sw[t]||t==="opacity")}const qi=t=>!!(t&&t.getVelocity),Zwe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Jwe=b0.length;function ebe(t,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},n,i){let a="";for(let o=0;o<Jwe;o++){const s=b0[o];if(t[s]!==void 0){const l=Zwe[s]||s;a+=`${l}(${t[s]}) `}}return e&&!t.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(t,n?"":a):r&&n&&(a="none"),a}const RG=t=>e=>typeof e=="string"&&e.startsWith(t),DG=RG("--"),kT=RG("var(--"),tbe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,rbe=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Cc=(t,e,r)=>Math.min(Math.max(r,t),e),bd={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},eg={...bd,transform:t=>Cc(0,1,t)},$y={...bd,default:1},tg=t=>Math.round(t*1e5)/1e5,R2=/(-)?([\d]*\.?[\d])+/g,MG=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,nbe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function _0(t){return typeof t=="string"}const S0=t=>({test:e=>_0(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Al=S0("deg"),Xo=S0("%"),Ke=S0("px"),ibe=S0("vh"),abe=S0("vw"),G6={...Xo,parse:t=>Xo.parse(t)/100,transform:t=>Xo.transform(t*100)},q6={...bd,transform:Math.round},LG={borderWidth:Ke,borderTopWidth:Ke,borderRightWidth:Ke,borderBottomWidth:Ke,borderLeftWidth:Ke,borderRadius:Ke,radius:Ke,borderTopLeftRadius:Ke,borderTopRightRadius:Ke,borderBottomRightRadius:Ke,borderBottomLeftRadius:Ke,width:Ke,maxWidth:Ke,height:Ke,maxHeight:Ke,size:Ke,top:Ke,right:Ke,bottom:Ke,left:Ke,padding:Ke,paddingTop:Ke,paddingRight:Ke,paddingBottom:Ke,paddingLeft:Ke,margin:Ke,marginTop:Ke,marginRight:Ke,marginBottom:Ke,marginLeft:Ke,rotate:Al,rotateX:Al,rotateY:Al,rotateZ:Al,scale:$y,scaleX:$y,scaleY:$y,scaleZ:$y,skew:Al,skewX:Al,skewY:Al,distance:Ke,translateX:Ke,translateY:Ke,translateZ:Ke,x:Ke,y:Ke,z:Ke,perspective:Ke,transformPerspective:Ke,opacity:eg,originX:G6,originY:G6,originZ:Ke,zIndex:q6,fillOpacity:eg,strokeOpacity:eg,numOctaves:q6};function Ij(t,e,r,n){const{style:i,vars:a,transform:o,transformOrigin:s}=t;let l=!1,u=!1,d=!0;for(const f in e){const h=e[f];if(DG(f)){a[f]=h;continue}const p=LG[f],m=rbe(h,p);if(wd.has(f)){if(l=!0,o[f]=m,!d)continue;h!==(p.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,s[f]=m):i[f]=m}if(e.transform||(l||n?i.transform=ebe(t.transform,r,d,n):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:p=0}=s;i.transformOrigin=`${f} ${h} ${p}`}}const Pj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function $G(t,e,r){for(const n in e)!qi(e[n])&&!kG(n,r)&&(t[n]=e[n])}function obe({transformTemplate:t},e,r){return b.useMemo(()=>{const n=Pj();return Ij(n,e,{enableHardwareAcceleration:!r},t),Object.assign({},n.vars,n.style)},[e])}function sbe(t,e,r){const n=t.style||{},i={};return $G(i,n,t),Object.assign(i,obe(t,e,r)),t.transformValues?t.transformValues(i):i}function lbe(t,e,r){const n={},i=sbe(t,e,r);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const cbe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function lw(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||cbe.has(t)}let FG=t=>!lw(t);function ube(t){t&&(FG=e=>e.startsWith("on")?!lw(e):t(e))}try{ube(require("@emotion/is-prop-valid").default)}catch{}function dbe(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(FG(i)||r===!0&&lw(i)||!e&&!lw(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}function K6(t,e,r){return typeof t=="string"?t:Ke.transform(e+r*t)}function fbe(t,e,r){const n=K6(e,t.x,t.width),i=K6(r,t.y,t.height);return`${n} ${i}`}const hbe={offset:"stroke-dashoffset",array:"stroke-dasharray"},pbe={offset:"strokeDashoffset",array:"strokeDasharray"};function mbe(t,e,r=1,n=0,i=!0){t.pathLength=1;const a=i?hbe:pbe;t[a.offset]=Ke.transform(-n);const o=Ke.transform(e),s=Ke.transform(r);t[a.array]=`${o} ${s}`}function Oj(t,{attrX:e,attrY:r,attrScale:n,originX:i,originY:a,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...u},d,f,h){if(Ij(t,u,d,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:g}=t;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(i!==void 0||a!==void 0||m.transform)&&(m.transformOrigin=fbe(g,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(p.x=e),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),o!==void 0&&mbe(p,o,s,l,!1)}const BG=()=>({...Pj(),attrs:{}}),jj=t=>typeof t=="string"&&t.toLowerCase()==="svg";function gbe(t,e,r,n){const i=b.useMemo(()=>{const a=BG();return Oj(a,e,{enableHardwareAcceleration:!1},jj(n),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};$G(a,t.style,t),i.style={...a,...i.style}}return i}function vbe(t=!1){return(r,n,i,{latestValues:a},o)=>{const l=(Nj(r)?gbe:lbe)(n,a,o,r),d={...dbe(n,typeof r=="string",t),...l,ref:i},{children:f}=n,h=b.useMemo(()=>qi(f)?f.get():f,[f]);return b.createElement(r,{...d,children:h})}}function UG(t,{style:e,vars:r},n,i){Object.assign(t.style,e,i&&i.getProjectionStyles(n));for(const a in r)t.style.setProperty(a,r[a])}const VG=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zG(t,e,r,n){UG(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(VG.has(i)?i:Ej(i),e.attrs[i])}function kj(t,e){const{style:r}=t,n={};for(const i in r)(qi(r[i])||e.style&&qi(e.style[i])||kG(i,t))&&(n[i]=r[i]);return n}function WG(t,e){const r=kj(t,e);for(const n in t)if(qi(t[n])||qi(e[n])){const i=b0.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[i]=t[n]}return r}function Rj(t,e,r,n={},i={}){return typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,i)),e}function HG(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const cw=t=>Array.isArray(t),ybe=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),xbe=t=>cw(t)?t[t.length-1]||0:t;function W1(t){const e=qi(t)?t.get():t;return ybe(e)?e.toValue():e}function wbe({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},n,i,a){const o={latestValues:bbe(n,i,a,t),renderState:e()};return r&&(o.mount=s=>r(n,s,o)),o}const GG=t=>(e,r)=>{const n=b.useContext(I2),i=b.useContext(P2),a=()=>wbe(t,e,n,i);return r?a():HG(a)};function bbe(t,e,r,n){const i={},a=n(t,{});for(const h in a)i[h]=W1(a[h]);let{initial:o,animate:s}=t;const l=k2(t),u=OG(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),s===void 0&&(s=e.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?s:o;return f&&typeof f!="boolean"&&!j2(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const m=Rj(t,p);if(!m)return;const{transitionEnd:g,transition:v,...x}=m;for(const y in x){let w=x[y];if(Array.isArray(w)){const S=d?w.length-1:0;w=w[S]}w!==null&&(i[y]=w)}for(const y in g)i[y]=g[y]}),i}const Lr=t=>t;class Y6{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const r=this.order.indexOf(e);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function _be(t){let e=new Y6,r=new Y6,n=0,i=!1,a=!1;const o=new WeakSet,s={schedule:(l,u=!1,d=!1)=>{const f=d&&i,h=f?e:r;return u&&o.add(l),h.add(l)&&f&&i&&(n=e.order.length),l},cancel:l=>{r.remove(l),o.delete(l)},process:l=>{if(i){a=!0;return}if(i=!0,[e,r]=[r,e],r.clear(),n=e.order.length,n)for(let u=0;u<n;u++){const d=e.order[u];d(l),o.has(d)&&(s.schedule(d),t())}i=!1,a&&(a=!1,s.process(l))}};return s}const Fy=["prepare","read","update","preRender","render","postRender"],Sbe=40;function Ebe(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=Fy.reduce((f,h)=>(f[h]=_be(()=>r=!0),f),{}),o=f=>a[f].process(i),s=()=>{const f=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(f-i.timestamp,Sbe),1),i.timestamp=f,i.isProcessing=!0,Fy.forEach(o),i.isProcessing=!1,r&&e&&(n=!1,t(s))},l=()=>{r=!0,n=!0,i.isProcessing||t(s)};return{schedule:Fy.reduce((f,h)=>{const p=a[h];return f[h]=(m,g=!1,v=!1)=>(r||l(),p.schedule(m,g,v)),f},{}),cancel:f=>Fy.forEach(h=>a[h].cancel(f)),state:i,steps:a}}const{schedule:Xt,cancel:Js,state:Wn,steps:EE}=Ebe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Lr,!0),Abe={useVisualState:GG({scrapeMotionValuesFromProps:WG,createRenderState:BG,onMount:(t,e,{renderState:r,latestValues:n})=>{Xt.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Xt.render(()=>{Oj(r,n,{enableHardwareAcceleration:!1},jj(e.tagName),t.transformTemplate),zG(e,r)})}})},Cbe={useVisualState:GG({scrapeMotionValuesFromProps:kj,createRenderState:Pj})};function Tbe(t,{forwardMotionProps:e=!1},r,n){return{...Nj(t)?Abe:Cbe,preloadedFeatures:r,useRender:vbe(e),createVisualElement:n,Component:t}}function Os(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}const qG=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function D2(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const Nbe=t=>e=>qG(e)&&t(e,D2(e));function $s(t,e,r,n){return Os(t,e,Nbe(r),n)}const Ibe=(t,e)=>r=>e(t(r)),sc=(...t)=>t.reduce(Ibe);function KG(t){let e=null;return()=>{const r=()=>{e=null};return e===null?(e=t,r):!1}}const X6=KG("dragHorizontal"),Q6=KG("dragVertical");function YG(t){let e=!1;if(t==="y")e=Q6();else if(t==="x")e=X6();else{const r=X6(),n=Q6();r&&n?e=()=>{r(),n()}:(r&&r(),n&&n())}return e}function XG(){const t=YG(!0);return t?(t(),!1):!0}class Fc{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Z6(t,e){const r="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),i=(a,o)=>{if(a.pointerType==="touch"||XG())return;const s=t.getProps();t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",e),s[n]&&Xt.update(()=>s[n](a,o))};return $s(t.current,r,i,{passive:!t.getProps()[n]})}class Pbe extends Fc{mount(){this.unmount=sc(Z6(this.node,!0),Z6(this.node,!1))}unmount(){}}class Obe extends Fc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sc(Os(this.node.current,"focus",()=>this.onFocus()),Os(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const QG=(t,e)=>e?t===e?!0:QG(t,e.parentElement):!1;function AE(t,e){if(!e)return;const r=new PointerEvent("pointer"+t);e(r,D2(r))}class jbe extends Fc{constructor(){super(...arguments),this.removeStartListeners=Lr,this.removeEndListeners=Lr,this.removeAccessibleListeners=Lr,this.startPointerPress=(e,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),a=$s(window,"pointerup",(s,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();Xt.update(()=>{!f&&!QG(this.node.current,s.target)?d&&d(s,l):u&&u(s,l)})},{passive:!(n.onTap||n.onPointerUp)}),o=$s(window,"pointercancel",(s,l)=>this.cancelPress(s,l),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=sc(a,o),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=s=>{s.key!=="Enter"||!this.checkPressEnd()||AE("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&Xt.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=Os(this.node.current,"keyup",o),AE("down",(s,l)=>{this.startPress(s,l)})},r=Os(this.node.current,"keydown",e),n=()=>{this.isPressing&&AE("cancel",(a,o)=>this.cancelPress(a,o))},i=Os(this.node.current,"blur",n);this.removeAccessibleListeners=sc(r,i)}}startPress(e,r){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Xt.update(()=>n(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!XG()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Xt.update(()=>n(e,r))}mount(){const e=this.node.getProps(),r=$s(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Os(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=sc(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const RT=new WeakMap,CE=new WeakMap,kbe=t=>{const e=RT.get(t.target);e&&e(t)},Rbe=t=>{t.forEach(kbe)};function Dbe({root:t,...e}){const r=t||document;CE.has(r)||CE.set(r,{});const n=CE.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(Rbe,{root:t,...e})),n[i]}function Mbe(t,e,r){const n=Dbe(e);return RT.set(t,r),n.observe(t),()=>{RT.delete(t),n.unobserve(t)}}const Lbe={some:0,all:1};class $be extends Fc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:Lbe[i]},s=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(l)};return Mbe(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Fbe(e,r))&&this.startObserver()}unmount(){}}function Fbe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const Bbe={inView:{Feature:$be},tap:{Feature:jbe},focus:{Feature:Obe},hover:{Feature:Pbe}};function ZG(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Ube(t){const e={};return t.values.forEach((r,n)=>e[n]=r.get()),e}function Vbe(t){const e={};return t.values.forEach((r,n)=>e[n]=r.getVelocity()),e}function M2(t,e,r){const n=t.getProps();return Rj(n,e,r!==void 0?r:n.custom,Ube(t),Vbe(t))}let Dj=Lr;const Ou=t=>t*1e3,Fs=t=>t/1e3,zbe={current:!1},JG=t=>Array.isArray(t)&&typeof t[0]=="number";function eq(t){return!!(!t||typeof t=="string"&&tq[t]||JG(t)||Array.isArray(t)&&t.every(eq))}const Am=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,tq={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Am([0,.65,.55,1]),circOut:Am([.55,0,1,.45]),backIn:Am([.31,.01,.66,-.59]),backOut:Am([.33,1.53,.69,.99])};function rq(t){if(t)return JG(t)?Am(t):Array.isArray(t)?t.map(rq):tq[t]}function Wbe(t,e,r,{delay:n=0,duration:i,repeat:a=0,repeatType:o="loop",ease:s,times:l}={}){const u={[e]:r};l&&(u.offset=l);const d=rq(s);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:n,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function Hbe(t,{repeat:e,repeatType:r="loop"}){const n=e&&r!=="loop"&&e%2===1?0:t.length-1;return t[n]}const nq=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Gbe=1e-7,qbe=12;function Kbe(t,e,r,n,i){let a,o,s=0;do o=e+(r-e)/2,a=nq(o,n,i)-t,a>0?r=o:e=o;while(Math.abs(a)>Gbe&&++s<qbe);return o}function E0(t,e,r,n){if(t===e&&r===n)return Lr;const i=a=>Kbe(a,0,1,t,r);return a=>a===0||a===1?a:nq(i(a),e,n)}const Ybe=E0(.42,0,1,1),Xbe=E0(0,0,.58,1),iq=E0(.42,0,.58,1),Qbe=t=>Array.isArray(t)&&typeof t[0]!="number",aq=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,oq=t=>e=>1-t(1-e),Mj=t=>1-Math.sin(Math.acos(t)),sq=oq(Mj),Zbe=aq(Mj),lq=E0(.33,1.53,.69,.99),Lj=oq(lq),Jbe=aq(Lj),e2e=t=>(t*=2)<1?.5*Lj(t):.5*(2-Math.pow(2,-10*(t-1))),t2e={linear:Lr,easeIn:Ybe,easeInOut:iq,easeOut:Xbe,circIn:Mj,circInOut:Zbe,circOut:sq,backIn:Lj,backInOut:Jbe,backOut:lq,anticipate:e2e},J6=t=>{if(Array.isArray(t)){Dj(t.length===4);const[e,r,n,i]=t;return E0(e,r,n,i)}else if(typeof t=="string")return t2e[t];return t},$j=(t,e)=>r=>!!(_0(r)&&nbe.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),cq=(t,e,r)=>n=>{if(!_0(n))return n;const[i,a,o,s]=n.match(R2);return{[t]:parseFloat(i),[e]:parseFloat(a),[r]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},r2e=t=>Cc(0,255,t),TE={...bd,transform:t=>Math.round(r2e(t))},bu={test:$j("rgb","red"),parse:cq("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+TE.transform(t)+", "+TE.transform(e)+", "+TE.transform(r)+", "+tg(eg.transform(n))+")"};function n2e(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const DT={test:$j("#"),parse:n2e,transform:bu.transform},cf={test:$j("hsl","hue"),parse:cq("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Xo.transform(tg(e))+", "+Xo.transform(tg(r))+", "+tg(eg.transform(n))+")"},pi={test:t=>bu.test(t)||DT.test(t)||cf.test(t),parse:t=>bu.test(t)?bu.parse(t):cf.test(t)?cf.parse(t):DT.parse(t),transform:t=>_0(t)?t:t.hasOwnProperty("red")?bu.transform(t):cf.transform(t)},wr=(t,e,r)=>-r*t+r*e+t;function NE(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function i2e({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,a=0,o=0;if(!e)i=a=o=r;else{const s=r<.5?r*(1+e):r+e-r*e,l=2*r-s;i=NE(l,s,t+1/3),a=NE(l,s,t),o=NE(l,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}const IE=(t,e,r)=>{const n=t*t;return Math.sqrt(Math.max(0,r*(e*e-n)+n))},a2e=[DT,bu,cf],o2e=t=>a2e.find(e=>e.test(t));function e8(t){const e=o2e(t);let r=e.parse(t);return e===cf&&(r=i2e(r)),r}const uq=(t,e)=>{const r=e8(t),n=e8(e),i={...r};return a=>(i.red=IE(r.red,n.red,a),i.green=IE(r.green,n.green,a),i.blue=IE(r.blue,n.blue,a),i.alpha=wr(r.alpha,n.alpha,a),bu.transform(i))};function s2e(t){var e,r;return isNaN(t)&&_0(t)&&(((e=t.match(R2))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(MG))===null||r===void 0?void 0:r.length)||0)>0}const dq={regex:tbe,countKey:"Vars",token:"${v}",parse:Lr},fq={regex:MG,countKey:"Colors",token:"${c}",parse:pi.parse},hq={regex:R2,countKey:"Numbers",token:"${n}",parse:bd.parse};function PE(t,{regex:e,countKey:r,token:n,parse:i}){const a=t.tokenised.match(e);a&&(t["num"+r]=a.length,t.tokenised=t.tokenised.replace(e,n),t.values.push(...a.map(i)))}function uw(t){const e=t.toString(),r={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&PE(r,dq),PE(r,fq),PE(r,hq),r}function pq(t){return uw(t).values}function mq(t){const{values:e,numColors:r,numVars:n,tokenised:i}=uw(t),a=e.length;return o=>{let s=i;for(let l=0;l<a;l++)l<n?s=s.replace(dq.token,o[l]):l<n+r?s=s.replace(fq.token,pi.transform(o[l])):s=s.replace(hq.token,tg(o[l]));return s}}const l2e=t=>typeof t=="number"?0:t;function c2e(t){const e=pq(t);return mq(t)(e.map(l2e))}const Tc={test:s2e,parse:pq,createTransformer:mq,getAnimatableNone:c2e},gq=(t,e)=>r=>`${r>0?e:t}`;function vq(t,e){return typeof t=="number"?r=>wr(t,e,r):pi.test(t)?uq(t,e):t.startsWith("var(")?gq(t,e):xq(t,e)}const yq=(t,e)=>{const r=[...t],n=r.length,i=t.map((a,o)=>vq(a,e[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}},u2e=(t,e)=>{const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=vq(t[i],e[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}},xq=(t,e)=>{const r=Tc.createTransformer(e),n=uw(t),i=uw(e);return n.numVars===i.numVars&&n.numColors===i.numColors&&n.numNumbers>=i.numNumbers?sc(yq(n.values,i.values),r):gq(t,e)},Kg=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},t8=(t,e)=>r=>wr(t,e,r);function d2e(t){return typeof t=="number"?t8:typeof t=="string"?pi.test(t)?uq:xq:Array.isArray(t)?yq:typeof t=="object"?u2e:t8}function f2e(t,e,r){const n=[],i=r||d2e(t[0]),a=t.length-1;for(let o=0;o<a;o++){let s=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Lr:e;s=sc(l,s)}n.push(s)}return n}function wq(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const a=t.length;if(Dj(a===e.length),a===1)return()=>e[0];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=f2e(e,n,i),s=o.length,l=u=>{let d=0;if(s>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const f=Kg(t[d],t[d+1],u);return o[d](f)};return r?u=>l(Cc(t[0],t[a-1],u)):l}function h2e(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=Kg(0,e,n);t.push(wr(r,1,i))}}function p2e(t){const e=[0];return h2e(e,t.length-1),e}function m2e(t,e){return t.map(r=>r*e)}function g2e(t,e){return t.map(()=>e||iq).splice(0,t.length-1)}function dw({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=Qbe(n)?n.map(J6):J6(n),a={done:!1,value:e[0]},o=m2e(r&&r.length===e.length?r:p2e(e),t),s=wq(o,e,{ease:Array.isArray(i)?i:g2e(e,i)});return{calculatedDuration:t,next:l=>(a.value=s(l),a.done=l>=t,a)}}function bq(t,e){return e?t*(1e3/e):0}const v2e=5;function _q(t,e,r){const n=Math.max(e-v2e,0);return bq(r-t(n),e-n)}const r8=.001,y2e=.01,x2e=10,w2e=.05,b2e=1;function _2e({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let i,a,o=1-e;o=Cc(w2e,b2e,o),t=Cc(y2e,x2e,Fs(t)),o<1?(i=u=>{const d=u*o,f=d*t,h=d-r,p=MT(u,o),m=Math.exp(-f);return r8-h/p*m},a=u=>{const f=u*o*t,h=f*r+r,p=Math.pow(o,2)*Math.pow(u,2)*t,m=Math.exp(-f),g=MT(Math.pow(u,2),o);return(-i(u)+r8>0?-1:1)*((h-p)*m)/g}):(i=u=>{const d=Math.exp(-u*t),f=(u-r)*t+1;return-.001+d*f},a=u=>{const d=Math.exp(-u*t),f=(r-u)*(t*t);return d*f});const s=5/t,l=E2e(i,a,s);if(t=Ou(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const S2e=12;function E2e(t,e,r){let n=r;for(let i=1;i<S2e;i++)n=n-t(n)/e(n);return n}function MT(t,e){return t*Math.sqrt(1-e*e)}const A2e=["duration","bounce"],C2e=["stiffness","damping","mass"];function n8(t,e){return e.some(r=>t[r]!==void 0)}function T2e(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!n8(t,C2e)&&n8(t,A2e)){const r=_2e(t);e={...e,...r,mass:1},e.isResolvedFromDuration=!0}return e}function Sq({keyframes:t,restDelta:e,restSpeed:r,...n}){const i=t[0],a=t[t.length-1],o={done:!1,value:i},{stiffness:s,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=T2e({...n,velocity:-Fs(n.velocity||0)}),p=f||0,m=l/(2*Math.sqrt(s*u)),g=a-i,v=Fs(Math.sqrt(s/u)),x=Math.abs(g)<5;r||(r=x?.01:2),e||(e=x?.005:.5);let y;if(m<1){const w=MT(v,m);y=S=>{const E=Math.exp(-m*v*S);return a-E*((p+m*v*g)/w*Math.sin(w*S)+g*Math.cos(w*S))}}else if(m===1)y=w=>a-Math.exp(-v*w)*(g+(p+v*g)*w);else{const w=v*Math.sqrt(m*m-1);y=S=>{const E=Math.exp(-m*v*S),C=Math.min(w*S,300);return a-E*((p+m*v*g)*Math.sinh(C)+w*g*Math.cosh(C))/w}}return{calculatedDuration:h&&d||null,next:w=>{const S=y(w);if(h)o.done=w>=d;else{let E=p;w!==0&&(m<1?E=_q(y,w,S):E=0);const C=Math.abs(E)<=r,A=Math.abs(a-S)<=e;o.done=C&&A}return o.value=o.done?a:S,o}}}function i8({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:l,restDelta:u=.5,restSpeed:d}){const f=t[0],h={done:!1,value:f},p=T=>s!==void 0&&T<s||l!==void 0&&T>l,m=T=>s===void 0?l:l===void 0||Math.abs(s-T)<Math.abs(l-T)?s:l;let g=r*e;const v=f+g,x=o===void 0?v:o(v);x!==v&&(g=x-f);const y=T=>-g*Math.exp(-T/n),w=T=>x+y(T),S=T=>{const N=y(T),I=w(T);h.done=Math.abs(N)<=u,h.value=h.done?x:I};let E,C;const A=T=>{p(h.value)&&(E=T,C=Sq({keyframes:[h.value,m(h.value)],velocity:_q(w,T,h.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return A(0),{calculatedDuration:null,next:T=>{let N=!1;return!C&&E===void 0&&(N=!0,S(T),A(T)),E!==void 0&&T>E?C.next(T-E):(!N&&S(T),h)}}}const N2e=t=>{const e=({timestamp:r})=>t(r);return{start:()=>Xt.update(e,!0),stop:()=>Js(e),now:()=>Wn.isProcessing?Wn.timestamp:performance.now()}},a8=2e4;function o8(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<a8;)e+=r,n=t.next(e);return e>=a8?1/0:e}const I2e={decay:i8,inertia:i8,tween:dw,keyframes:dw,spring:Sq};function fw({autoplay:t=!0,delay:e=0,driver:r=N2e,keyframes:n,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:s="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:f,...h}){let p=1,m=!1,g,v;const x=()=>{v=new Promise(H=>{g=H})};x();let y;const w=I2e[i]||dw;let S;w!==dw&&typeof n[0]!="number"&&(S=wq([0,100],n,{clamp:!1}),n=[0,100]);const E=w({...h,keyframes:n});let C;s==="mirror"&&(C=w({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let A="idle",T=null,N=null,I=null;E.calculatedDuration===null&&a&&(E.calculatedDuration=o8(E));const{calculatedDuration:j}=E;let O=1/0,P=1/0;j!==null&&(O=j+o,P=O*(a+1)-o);let M=0;const F=H=>{if(N===null)return;p>0&&(N=Math.min(N,H)),p<0&&(N=Math.min(H-P/p,N)),T!==null?M=T:M=Math.round(H-N)*p;const Y=M-e*(p>=0?1:-1),Q=p>=0?Y<0:Y>P;M=Math.max(Y,0),A==="finished"&&T===null&&(M=P);let ue=M,de=E;if(a){const re=Math.min(M,P)/O;let L=Math.floor(re),q=re%1;!q&&re>=1&&(q=1),q===1&&L--,L=Math.min(L,a+1),!!(L%2)&&(s==="reverse"?(q=1-q,o&&(q-=o/O)):s==="mirror"&&(de=C)),ue=Cc(0,1,q)*O}const he=Q?{done:!1,value:n[0]}:de.next(ue);S&&(he.value=S(he.value));let{done:pe}=he;!Q&&j!==null&&(pe=p>=0?M>=P:M<=0);const J=T===null&&(A==="finished"||A==="running"&&pe);return f&&f(he.value),J&&$(),he},B=()=>{y&&y.stop(),y=void 0},W=()=>{A="idle",B(),g(),x(),N=I=null},$=()=>{A="finished",d&&d(),B(),g()},U=()=>{if(m)return;y||(y=r(F));const H=y.now();l&&l(),T!==null?N=H-T:(!N||A==="finished")&&(N=H),A==="finished"&&x(),I=N,T=null,A="running",y.start()};t&&U();const X={then(H,Y){return v.then(H,Y)},get time(){return Fs(M)},set time(H){H=Ou(H),M=H,T!==null||!y||p===0?T=H:N=y.now()-H/p},get duration(){const H=E.calculatedDuration===null?o8(E):E.calculatedDuration;return Fs(H)},get speed(){return p},set speed(H){H===p||!y||(p=H,X.time=Fs(M))},get state(){return A},play:U,pause:()=>{A="paused",T=M},stop:()=>{m=!0,A!=="idle"&&(A="idle",u&&u(),W())},cancel:()=>{I!==null&&F(I),W()},complete:()=>{A="finished"},sample:H=>(N=0,F(H))};return X}function P2e(t){let e;return()=>(e===void 0&&(e=t()),e)}const O2e=P2e(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),j2e=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),By=10,k2e=2e4,R2e=(t,e)=>e.type==="spring"||t==="backgroundColor"||!eq(e.ease);function D2e(t,e,{onUpdate:r,onComplete:n,...i}){if(!(O2e()&&j2e.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,s,l,u=!1;const d=()=>{l=new Promise(w=>{s=w})};d();let{keyframes:f,duration:h=300,ease:p,times:m}=i;if(R2e(e,i)){const w=fw({...i,repeat:0,delay:0});let S={done:!1,value:f[0]};const E=[];let C=0;for(;!S.done&&C<k2e;)S=w.sample(C),E.push(S.value),C+=By;m=void 0,f=E,h=C-By,p="linear"}const g=Wbe(t.owner.current,e,f,{...i,duration:h,ease:p,times:m}),v=()=>{u=!1,g.cancel()},x=()=>{u=!0,Xt.update(v),s(),d()};return g.onfinish=()=>{u||(t.set(Hbe(f,i)),n&&n(),x())},{then(w,S){return l.then(w,S)},attachTimeline(w){return g.timeline=w,g.onfinish=null,Lr},get time(){return Fs(g.currentTime||0)},set time(w){g.currentTime=Ou(w)},get speed(){return g.playbackRate},set speed(w){g.playbackRate=w},get duration(){return Fs(h)},play:()=>{o||(g.play(),Js(v))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:w}=g;if(w){const S=fw({...i,autoplay:!1});t.setWithVelocity(S.sample(w-By).value,S.sample(w).value,By)}x()},complete:()=>{u||g.finish()},cancel:x}}function M2e({keyframes:t,delay:e,onUpdate:r,onComplete:n}){const i=()=>(r&&r(t[t.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Lr,pause:Lr,stop:Lr,then:a=>(a(),Promise.resolve()),cancel:Lr,complete:Lr});return e?fw({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const L2e={type:"spring",stiffness:500,damping:25,restSpeed:10},$2e=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),F2e={type:"keyframes",duration:.8},B2e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},U2e=(t,{keyframes:e})=>e.length>2?F2e:wd.has(t)?t.startsWith("scale")?$2e(e[1]):L2e:B2e,LT=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Tc.test(e)||e==="0")&&!e.startsWith("url(")),V2e=new Set(["brightness","contrast","saturate","opacity"]);function z2e(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(R2)||[];if(!n)return t;const i=r.replace(n,"");let a=V2e.has(e)?1:0;return n!==r&&(a*=100),e+"("+a+i+")"}const W2e=/([a-z-]*)\(.*?\)/g,$T={...Tc,getAnimatableNone:t=>{const e=t.match(W2e);return e?e.map(z2e).join(" "):t}},H2e={...LG,color:pi,backgroundColor:pi,outlineColor:pi,fill:pi,stroke:pi,borderColor:pi,borderTopColor:pi,borderRightColor:pi,borderBottomColor:pi,borderLeftColor:pi,filter:$T,WebkitFilter:$T},Fj=t=>H2e[t];function Eq(t,e){let r=Fj(t);return r!==$T&&(r=Tc),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Aq=t=>/^0[^.\s]+$/.test(t);function G2e(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||Aq(t)}function q2e(t,e,r,n){const i=LT(e,r);let a;Array.isArray(r)?a=[...r]:a=[null,r];const o=n.from!==void 0?n.from:t.get();let s;const l=[];for(let u=0;u<a.length;u++)a[u]===null&&(a[u]=u===0?o:a[u-1]),G2e(a[u])&&l.push(u),typeof a[u]=="string"&&a[u]!=="none"&&a[u]!=="0"&&(s=a[u]);if(i&&l.length&&s)for(let u=0;u<l.length;u++){const d=l[u];a[d]=Eq(e,s)}return a}function K2e({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function Bj(t,e){return t[e]||t.default||t}const Y2e={skipAnimations:!1},Uj=(t,e,r,n={})=>i=>{const a=Bj(n,t)||{},o=a.delay||n.delay||0;let{elapsed:s=0}=n;s=s-Ou(o);const l=q2e(e,t,r,a),u=l[0],d=l[l.length-1],f=LT(t,u),h=LT(t,d);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-s,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(K2e(a)||(p={...p,...U2e(t,p)}),p.duration&&(p.duration=Ou(p.duration)),p.repeatDelay&&(p.repeatDelay=Ou(p.repeatDelay)),!f||!h||zbe.current||a.type===!1||Y2e.skipAnimations)return M2e(p);if(!n.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const m=D2e(e,t,p);if(m)return m}return fw(p)};function hw(t){return!!(qi(t)&&t.add)}const Cq=t=>/^\-?\d*\.?\d+$/.test(t);function Vj(t,e){t.indexOf(e)===-1&&t.push(e)}function zj(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}let Wj=class{constructor(){this.subscriptions=[]}add(e){return Vj(this.subscriptions,e),()=>zj(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};const X2e=t=>!isNaN(parseFloat(t));class Q2e{constructor(e,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:a,timestamp:o}=Wn;this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o,Xt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Xt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=X2e(this.current),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Wj);const n=this.events[e].add(r);return e==="change"?()=>{n(),Xt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?bq(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rh(t,e){return new Q2e(t,e)}const Tq=t=>e=>e.test(t),Z2e={test:t=>t==="auto",parse:t=>t},Nq=[bd,Ke,Xo,Al,abe,ibe,Z2e],Yp=t=>Nq.find(Tq(t)),J2e=[...Nq,pi,Tc],e_e=t=>J2e.find(Tq(t));function t_e(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,rh(r))}function r_e(t,e){const r=M2(t,e);let{transitionEnd:n={},transition:i={},...a}=r?t.makeTargetAnimatable(r,!1):{};a={...a,...n};for(const o in a){const s=xbe(a[o]);t_e(t,o,s)}}function n_e(t,e,r){var n,i;const a=Object.keys(e).filter(s=>!t.hasValue(s)),o=a.length;if(o)for(let s=0;s<o;s++){const l=a[s],u=e[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(n=r[l])!==null&&n!==void 0?n:t.readValue(l))!==null&&i!==void 0?i:e[l]),d!=null&&(typeof d=="string"&&(Cq(d)||Aq(d))?d=parseFloat(d):!e_e(d)&&Tc.test(u)&&(d=Eq(l,u)),t.addValue(l,rh(d,{owner:t})),r[l]===void 0&&(r[l]=d),d!==null&&t.setBaseTarget(l,d))}}function i_e(t,e){return e?(e[t]||e.default||e).from:void 0}function a_e(t,e,r){const n={};for(const i in t){const a=i_e(i,e);if(a!==void 0)n[i]=a;else{const o=r.getValue(i);o&&(n[i]=o.get())}}return n}function o_e({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function s_e(t,e){const r=t.get();if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(e[n]!==r)return!0}else return r!==e}function Iq(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...s}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");n&&(a=n);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in s){const h=t.getValue(f),p=s[f];if(!h||p===void 0||d&&o_e(d,f))continue;const m={delay:r,elapsed:0,...Bj(a||{},f)};if(window.HandoffAppearAnimations){const x=t.getProps()[PG];if(x){const y=window.HandoffAppearAnimations(x,f,h,Xt);y!==null&&(m.elapsed=y,m.isHandoff=!0)}}let g=!m.isHandoff&&!s_e(h,p);if(m.type==="spring"&&(h.getVelocity()||m.velocity)&&(g=!1),h.animation&&(g=!1),g)continue;h.start(Uj(f,h,p,t.shouldReduceMotion&&wd.has(f)?{type:!1}:m));const v=h.animation;hw(l)&&(l.add(f),v.then(()=>l.remove(f))),u.push(v)}return o&&Promise.all(u).then(()=>{o&&r_e(t,o)}),u}function FT(t,e,r={}){const n=M2(t,e,r.custom);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const a=n?()=>Promise.all(Iq(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=i;return l_e(t,e,u+l,d,f,r)}:()=>Promise.resolve(),{when:s}=i;if(s){const[l,u]=s==="beforeChildren"?[a,o]:[o,a];return l().then(()=>u())}else return Promise.all([a(),o(r.delay)])}function l_e(t,e,r=0,n=0,i=1,a){const o=[],s=(t.variantChildren.size-1)*n,l=i===1?(u=0)=>u*n:(u=0)=>s-u*n;return Array.from(t.variantChildren).sort(c_e).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(FT(u,e,{...a,delay:r+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function c_e(t,e){return t.sortNodePosition(e)}function u_e(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(a=>FT(t,a,r));n=Promise.all(i)}else if(typeof e=="string")n=FT(t,e,r);else{const i=typeof e=="function"?M2(t,e,r.custom):e;n=Promise.all(Iq(t,i,r))}return n.then(()=>t.notify("AnimationComplete",e))}const d_e=[...Aj].reverse(),f_e=Aj.length;function h_e(t){return e=>Promise.all(e.map(({animation:r,options:n})=>u_e(t,r,n)))}function p_e(t){let e=h_e(t);const r=g_e();let n=!0;const i=(l,u)=>{const d=M2(t,u);if(d){const{transition:f,transitionEnd:h,...p}=d;l={...l,...p,...h}}return l};function a(l){e=l(t)}function o(l,u){const d=t.getProps(),f=t.getVariantContext(!0)||{},h=[],p=new Set;let m={},g=1/0;for(let x=0;x<f_e;x++){const y=d_e[x],w=r[y],S=d[y]!==void 0?d[y]:f[y],E=Gg(S),C=y===u?w.isActive:null;C===!1&&(g=x);let A=S===f[y]&&S!==d[y]&&E;if(A&&n&&t.manuallyAnimateOnMount&&(A=!1),w.protectedKeys={...m},!w.isActive&&C===null||!S&&!w.prevProp||j2(S)||typeof S=="boolean")continue;let N=m_e(w.prevProp,S)||y===u&&w.isActive&&!A&&E||x>g&&E,I=!1;const j=Array.isArray(S)?S:[S];let O=j.reduce(i,{});C===!1&&(O={});const{prevResolvedValues:P={}}=w,M={...P,...O},F=B=>{N=!0,p.has(B)&&(I=!0,p.delete(B)),w.needsAnimating[B]=!0};for(const B in M){const W=O[B],$=P[B];if(m.hasOwnProperty(B))continue;let U=!1;cw(W)&&cw($)?U=!ZG(W,$):U=W!==$,U?W!==void 0?F(B):p.add(B):W!==void 0&&p.has(B)?F(B):w.protectedKeys[B]=!0}w.prevProp=S,w.prevResolvedValues=O,w.isActive&&(m={...m,...O}),n&&t.blockInitialAnimation&&(N=!1),N&&(!A||I)&&h.push(...j.map(B=>({animation:B,options:{type:y,...l}})))}if(p.size){const x={};p.forEach(y=>{const w=t.getBaseTarget(y);w!==void 0&&(x[y]=w)}),h.push({animation:x})}let v=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(v=!1),n=!1,v?e(h):Promise.resolve()}function s(l,u,d){var f;if(r[l].isActive===u)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),r[l].isActive=u;const h=o(d,l);for(const p in r)r[p].protectedKeys={};return h}return{animateChanges:o,setActive:s,setAnimateFunction:a,getState:()=>r}}function m_e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ZG(e,t):!1}function Jc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function g_e(){return{animate:Jc(!0),whileInView:Jc(),whileHover:Jc(),whileTap:Jc(),whileDrag:Jc(),whileFocus:Jc(),exit:Jc()}}class v_e extends Fc{constructor(e){super(e),e.animationState||(e.animationState=p_e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),j2(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let y_e=0;class x_e extends Fc{constructor(){super(...arguments),this.id=y_e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});r&&!e&&a.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const w_e={animation:{Feature:v_e},exit:{Feature:x_e}},s8=(t,e)=>Math.abs(t-e);function b_e(t,e){const r=s8(t.x,e.x),n=s8(t.y,e.y);return Math.sqrt(r**2+n**2)}class Pq{constructor(e,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=jE(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=b_e(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:m}=f,{timestamp:g}=Wn;this.history.push({...m,timestamp:g});const{onStart:v,onMove:x}=this.handlers;h||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=OE(h,this.transformPagePoint),Xt.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=jE(f.type==="pointercancel"?this.lastMoveEventInfo:OE(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,v),m&&m(f,v)},!qG(e))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const o=D2(e),s=OE(o,this.transformPagePoint),{point:l}=s,{timestamp:u}=Wn;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=r;d&&d(e,jE(s,this.history)),this.removeListeners=sc($s(this.contextWindow,"pointermove",this.handlePointerMove),$s(this.contextWindow,"pointerup",this.handlePointerUp),$s(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Js(this.updatePoint)}}function OE(t,e){return e?{point:e(t.point)}:t}function l8(t,e){return{x:t.x-e.x,y:t.y-e.y}}function jE({point:t},e){return{point:t,delta:l8(t,Oq(e)),offset:l8(t,__e(e)),velocity:S_e(e,.1)}}function __e(t){return t[0]}function Oq(t){return t[t.length-1]}function S_e(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=Oq(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Ou(e)));)r--;if(!n)return{x:0,y:0};const a=Fs(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function fa(t){return t.max-t.min}function BT(t,e=0,r=.01){return Math.abs(t-e)<=r}function c8(t,e,r,n=.5){t.origin=n,t.originPoint=wr(e.min,e.max,t.origin),t.scale=fa(r)/fa(e),(BT(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=wr(r.min,r.max,t.origin)-t.originPoint,(BT(t.translate)||isNaN(t.translate))&&(t.translate=0)}function rg(t,e,r,n){c8(t.x,e.x,r.x,n?n.originX:void 0),c8(t.y,e.y,r.y,n?n.originY:void 0)}function u8(t,e,r){t.min=r.min+e.min,t.max=t.min+fa(e)}function E_e(t,e,r){u8(t.x,e.x,r.x),u8(t.y,e.y,r.y)}function d8(t,e,r){t.min=e.min-r.min,t.max=t.min+fa(e)}function ng(t,e,r){d8(t.x,e.x,r.x),d8(t.y,e.y,r.y)}function A_e(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?wr(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?wr(r,t,n.max):Math.min(t,r)),t}function f8(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function C_e(t,{top:e,left:r,bottom:n,right:i}){return{x:f8(t.x,r,i),y:f8(t.y,e,n)}}function h8(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function T_e(t,e){return{x:h8(t.x,e.x),y:h8(t.y,e.y)}}function N_e(t,e){let r=.5;const n=fa(t),i=fa(e);return i>n?r=Kg(e.min,e.max-n,t.min):n>i&&(r=Kg(t.min,t.max-i,e.min)),Cc(0,1,r)}function I_e(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const UT=.35;function P_e(t=UT){return t===!1?t=0:t===!0&&(t=UT),{x:p8(t,"left","right"),y:p8(t,"top","bottom")}}function p8(t,e,r){return{min:m8(t,e),max:m8(t,r)}}function m8(t,e){return typeof t=="number"?t:t[e]||0}const g8=()=>({translate:0,scale:1,origin:0,originPoint:0}),uf=()=>({x:g8(),y:g8()}),v8=()=>({min:0,max:0}),Ur=()=>({x:v8(),y:v8()});function Sa(t){return[t("x"),t("y")]}function jq({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function O_e({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function j_e(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function kE(t){return t===void 0||t===1}function VT({scale:t,scaleX:e,scaleY:r}){return!kE(t)||!kE(e)||!kE(r)}function su(t){return VT(t)||kq(t)||t.z||t.rotate||t.rotateX||t.rotateY}function kq(t){return y8(t.x)||y8(t.y)}function y8(t){return t&&t!=="0%"}function pw(t,e,r){const n=t-r,i=e*n;return r+i}function x8(t,e,r,n,i){return i!==void 0&&(t=pw(t,i,n)),pw(t,r,n)+e}function zT(t,e=0,r=1,n,i){t.min=x8(t.min,e,r,n,i),t.max=x8(t.max,e,r,n,i)}function Rq(t,{x:e,y:r}){zT(t.x,e.translate,e.scale,e.originPoint),zT(t.y,r.translate,r.scale,r.originPoint)}function k_e(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let a,o;for(let s=0;s<i;s++){a=r[s],o=a.projectionDelta;const l=a.instance;l&&l.style&&l.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&df(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Rq(t,o)),n&&su(a.latestValues)&&df(t,a.latestValues))}e.x=w8(e.x),e.y=w8(e.y)}function w8(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Pl(t,e){t.min=t.min+e,t.max=t.max+e}function b8(t,e,[r,n,i]){const a=e[i]!==void 0?e[i]:.5,o=wr(t.min,t.max,a);zT(t,e[r],e[n],o,e.scale)}const R_e=["x","scaleX","originX"],D_e=["y","scaleY","originY"];function df(t,e){b8(t.x,e,R_e),b8(t.y,e,D_e)}function Dq(t,e){return jq(j_e(t.getBoundingClientRect(),e))}function M_e(t,e,r){const n=Dq(t,r),{scroll:i}=e;return i&&(Pl(n.x,i.offset.x),Pl(n.y,i.offset.y)),n}const Mq=({current:t})=>t?t.ownerDocument.defaultView:null,L_e=new WeakMap;class $_e{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ur(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(D2(d,"page").point)},a=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:m}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=YG(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Sa(v=>{let x=this.getAxisMotionValue(v).get()||0;if(Xo.test(x)){const{projection:y}=this.visualElement;if(y&&y.layout){const w=y.layout.layoutBox[v];w&&(x=fa(w)*(parseFloat(x)/100))}}this.originPoint[v]=x}),m&&Xt.update(()=>m(d,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:m,onDrag:g}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:v}=f;if(p&&this.currentDirection===null){this.currentDirection=F_e(v),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),g&&g(d,f)},s=(d,f)=>this.stop(d,f),l=()=>Sa(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Pq(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Mq(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Xt.update(()=>a(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!Uy(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=A_e(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;r&&lf(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=C_e(i.layoutBox,r):this.constraints=!1,this.elastic=P_e(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Sa(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=I_e(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!lf(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=M_e(n,i.root,this.visualElement.getTransformPagePoint());let o=T_e(i.layout.layoutBox,a);if(r){const s=r(O_e(o));this.hasMutatedConstraints=!!s,s&&(o=jq(s))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},u=Sa(d=>{if(!Uy(d,r,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,m={type:"inertia",velocity:n?e[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,m)});return Promise.all(u).then(s)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return n.start(Uj(e,n,0,r))}stopAnimation(){Sa(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Sa(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Sa(r=>{const{drag:n}=this.getProps();if(!Uy(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:s}=i.layout.layoutBox[r];a.set(e[r]-wr(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!lf(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Sa(o=>{const s=this.getAxisMotionValue(o);if(s){const l=s.get();i[o]=N_e({min:l,max:l},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Sa(o=>{if(!Uy(o,e,null))return;const s=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];s.set(wr(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;L_e.set(this.visualElement,this);const e=this.visualElement.current,r=$s(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();lf(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),n();const o=Os(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Sa(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=UT,dragMomentum:s=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:s}}}function Uy(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function F_e(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class B_e extends Fc{constructor(e){super(e),this.removeGroupControls=Lr,this.removeListeners=Lr,this.controls=new $_e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Lr}unmount(){this.removeGroupControls(),this.removeListeners()}}const _8=t=>(e,r)=>{t&&Xt.update(()=>t(e,r))};class U_e extends Fc{constructor(){super(...arguments),this.removePointerDownListener=Lr}onPointerDown(e){this.session=new Pq(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Mq(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:_8(e),onStart:_8(r),onMove:n,onEnd:(a,o)=>{delete this.session,i&&Xt.update(()=>i(a,o))}}}mount(){this.removePointerDownListener=$s(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function V_e(){const t=b.useContext(P2);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:n}=t,i=b.useId();return b.useEffect(()=>n(i),[]),!e&&r?[!1,()=>r&&r(i)]:[!0]}const H1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function S8(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Xp={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ke.test(t))t=parseFloat(t);else return t;const r=S8(t,e.target.x),n=S8(t,e.target.y);return`${r}% ${n}%`}},z_e={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=Tc.parse(t);if(i.length>5)return n;const a=Tc.createTransformer(t),o=typeof i[0]!="number"?1:0,s=r.x.scale*e.x,l=r.y.scale*e.y;i[0+o]/=s,i[1+o]/=l;const u=wr(s,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),a(i)}};class W_e extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=e;Qwe(H_e),a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),H1.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,o=n.projection;return o&&(o.isPresent=a,i||e.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||Xt.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Lq(t){const[e,r]=V_e(),n=b.useContext(Tj);return D.createElement(W_e,{...t,layoutGroup:n,switchLayoutGroup:b.useContext(jG),isPresent:e,safeToRemove:r})}const H_e={borderRadius:{...Xp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xp,borderTopRightRadius:Xp,borderBottomLeftRadius:Xp,borderBottomRightRadius:Xp,boxShadow:z_e},$q=["TopLeft","TopRight","BottomLeft","BottomRight"],G_e=$q.length,E8=t=>typeof t=="string"?parseFloat(t):t,A8=t=>typeof t=="number"||Ke.test(t);function q_e(t,e,r,n,i,a){i?(t.opacity=wr(0,r.opacity!==void 0?r.opacity:1,K_e(n)),t.opacityExit=wr(e.opacity!==void 0?e.opacity:1,0,Y_e(n))):a&&(t.opacity=wr(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<G_e;o++){const s=`border${$q[o]}Radius`;let l=C8(e,s),u=C8(r,s);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||A8(l)===A8(u)?(t[s]=Math.max(wr(E8(l),E8(u),n),0),(Xo.test(u)||Xo.test(l))&&(t[s]+="%")):t[s]=u}(e.rotate||r.rotate)&&(t.rotate=wr(e.rotate||0,r.rotate||0,n))}function C8(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const K_e=Fq(0,.5,sq),Y_e=Fq(.5,.95,Lr);function Fq(t,e,r){return n=>n<t?0:n>e?1:r(Kg(t,e,n))}function T8(t,e){t.min=e.min,t.max=e.max}function wa(t,e){T8(t.x,e.x),T8(t.y,e.y)}function N8(t,e,r,n,i){return t-=e,t=pw(t,1/r,n),i!==void 0&&(t=pw(t,1/i,n)),t}function X_e(t,e=0,r=1,n=.5,i,a=t,o=t){if(Xo.test(e)&&(e=parseFloat(e),e=wr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let s=wr(a.min,a.max,n);t===a&&(s-=e),t.min=N8(t.min,e,r,s,i),t.max=N8(t.max,e,r,s,i)}function I8(t,e,[r,n,i],a,o){X_e(t,e[r],e[n],e[i],e.scale,a,o)}const Q_e=["x","scaleX","originX"],Z_e=["y","scaleY","originY"];function P8(t,e,r,n){I8(t.x,e,Q_e,r?r.x:void 0,n?n.x:void 0),I8(t.y,e,Z_e,r?r.y:void 0,n?n.y:void 0)}function O8(t){return t.translate===0&&t.scale===1}function Bq(t){return O8(t.x)&&O8(t.y)}function J_e(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function Uq(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function j8(t){return fa(t.x)/fa(t.y)}class eSe{constructor(){this.members=[]}add(e){Vj(this.members,e),e.scheduleRender()}remove(e){if(zj(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function k8(t,e,r){let n="";const i=t.x.translate/e.x,a=t.y.translate/e.y;if((i||a)&&(n=`translate3d(${i}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{rotate:l,rotateX:u,rotateY:d}=r;l&&(n+=`rotate(${l}deg) `),u&&(n+=`rotateX(${u}deg) `),d&&(n+=`rotateY(${d}deg) `)}const o=t.x.scale*e.x,s=t.y.scale*e.y;return(o!==1||s!==1)&&(n+=`scale(${o}, ${s})`),n||"none"}const tSe=(t,e)=>t.depth-e.depth;class rSe{constructor(){this.children=[],this.isDirty=!1}add(e){Vj(this.children,e),this.isDirty=!0}remove(e){zj(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tSe),this.isDirty=!1,this.children.forEach(e)}}function nSe(t,e){const r=performance.now(),n=({timestamp:i})=>{const a=i-r;a>=e&&(Js(n),t(a-e))};return Xt.read(n,!0),()=>Js(n)}function iSe(t){window.MotionDebug&&window.MotionDebug.record(t)}function aSe(t){return t instanceof SVGElement&&t.tagName!=="svg"}function oSe(t,e,r){const n=qi(t)?t:rh(t);return n.start(Uj("",n,e,r)),n.animation}const R8=["","X","Y","Z"],sSe={visibility:"hidden"},D8=1e3;let lSe=0;const lu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Vq({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},s=e==null?void 0:e()){this.id=lSe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,lu.totalNodes=lu.resolvedTargetDeltas=lu.recalculatedProjection=0,this.nodes.forEach(dSe),this.nodes.forEach(gSe),this.nodes.forEach(vSe),this.nodes.forEach(fSe),iSe(lu)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new rSe)}addEventListener(o,s){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Wj),this.eventHandlers.get(o).add(s)}notifyListeners(o,...s){const l=this.eventHandlers.get(o);l&&l.notify(...s)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=aSe(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(u||l)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=nSe(h,250),H1.hasAnimatedSinceResize&&(H1.hasAnimatedSinceResize=!1,this.nodes.forEach(L8))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||_Se,{onLayoutAnimationStart:v,onLayoutAnimationComplete:x}=d.getProps(),y=!this.targetLayout||!Uq(this.targetLayout,m)||p,w=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const S={...Bj(g,"layout"),onPlay:v,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||L8(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Js(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ySe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(M8);return}this.isUpdating||this.nodes.forEach(pSe),this.isUpdating=!1,this.nodes.forEach(mSe),this.nodes.forEach(cSe),this.nodes.forEach(uSe),this.clearAllSnapshots();const s=performance.now();Wn.delta=Cc(0,1e3/60,s-Wn.timestamp),Wn.timestamp=s,Wn.isProcessing=!0,EE.update.process(Wn),EE.preRender.process(Wn),EE.render.process(Wn),Wn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(hSe),this.sharedNodes.forEach(xSe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ur(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let s=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(s=!1),s&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,s=this.projectionDelta&&!Bq(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(s||su(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return o&&(l=this.removeTransform(l)),SSe(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ur();const s=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Pl(s.x,l.offset.x),Pl(s.y,l.offset.y)),s}removeElementScroll(o){const s=Ur();wa(s,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){wa(s,o);const{scroll:h}=this.root;h&&(Pl(s.x,-h.offset.x),Pl(s.y,-h.offset.y))}Pl(s.x,d.offset.x),Pl(s.y,d.offset.y)}}return s}applyTransform(o,s=!1){const l=Ur();wa(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!s&&d.options.layoutScroll&&d.scroll&&d!==d.root&&df(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),su(d.latestValues)&&df(l,d.latestValues)}return su(this.latestValues)&&df(l,this.latestValues),l}removeTransform(o){const s=Ur();wa(s,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!su(u.latestValues))continue;VT(u.latestValues)&&u.updateSnapshot();const d=Ur(),f=u.measurePageBox();wa(d,f),P8(s,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return su(this.latestValues)&&P8(s,this.latestValues),s}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var s;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Wn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ur(),this.relativeTargetOrigin=Ur(),ng(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),wa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ur(),this.targetWithTransforms=Ur()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),E_e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wa(this.target,this.layout.layoutBox),Rq(this.target,this.targetDelta)):wa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ur(),this.relativeTargetOrigin=Ur(),ng(this.relativeTargetOrigin,this.target,p.target),wa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}lu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||VT(this.parent.latestValues)||kq(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Wn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;wa(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;k_e(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox);const{target:m}=s;if(!m){this.projectionTransform&&(this.projectionDelta=uf(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=uf(),this.projectionDeltaWithTransform=uf());const g=this.projectionTransform;rg(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=k8(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),lu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const s=this.getStack();s&&s.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,s=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},f=uf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const h=Ur(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=p!==m,v=this.getStack(),x=!v||v.members.length<=1,y=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(bSe));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const E=S/1e3;$8(f.x,o.x,E),$8(f.y,o.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ng(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wSe(this.relativeTarget,this.relativeTargetOrigin,h,E),w&&J_e(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Ur()),wa(w,this.relativeTarget)),g&&(this.animationValues=d,q_e(d,u,this.latestValues,E,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Js(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xt.update(()=>{H1.hasAnimatedSinceResize=!0,this.currentAnimation=oSe(0,D8,{...o,onUpdate:s=>{this.mixTargetDelta(s),o.onUpdate&&o.onUpdate(s)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(D8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:s,target:l,layout:u,latestValues:d}=o;if(!(!s||!l||!u)){if(this!==o&&this.layout&&u&&zq(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Ur();const f=fa(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=fa(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}wa(s,l),df(s,d),rg(this.projectionDeltaWithTransform,this.layoutCorrected,s,d)}}registerSharedNode(o,s){this.sharedNodes.has(o)||this.sharedNodes.set(o,new eSe),this.sharedNodes.get(o).add(s);const u=s.options.initialPromotionConfig;s.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(s):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:s,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let s=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(s=!0),!s)return;const u={};for(let d=0;d<R8.length;d++){const f="rotate"+R8[d];l[f]&&(u[f]=l[f],o.setStaticValue(f,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var s,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return sSe;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=W1(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=W1(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!su(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=k8(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y:m}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(s=h.opacity)!==null&&s!==void 0?s:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in sw){if(h[g]===void 0)continue;const{correct:v,applyTo:x}=sw[g],y=u.transform==="none"?h[g]:v(h[g],f);if(x){const w=x.length;for(let S=0;S<w;S++)u[x[S]]=y}else u[g]=y}return this.options.layoutId&&(u.pointerEvents=f===this?W1(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var s;return(s=o.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(M8),this.root.sharedNodes.clear()}}}function cSe(t){t.updateLayout()}function uSe(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,o=r.source!==t.layout.source;a==="size"?Sa(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=fa(h);h.min=n[f].min,h.max=h.min+p}):zq(a,r.layoutBox,n)&&Sa(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=fa(n[f]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const s=uf();rg(s,n,r.layoutBox);const l=uf();o?rg(l,t.applyTransform(i,!0),r.measuredBox):rg(l,n,r.layoutBox);const u=!Bq(s);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const m=Ur();ng(m,r.layoutBox,h.layoutBox);const g=Ur();ng(g,n,p.layoutBox),Uq(m,g)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=m,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:s,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function dSe(t){lu.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function fSe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function hSe(t){t.clearSnapshot()}function M8(t){t.clearMeasurements()}function pSe(t){t.isLayoutDirty=!1}function mSe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function L8(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function gSe(t){t.resolveTargetDelta()}function vSe(t){t.calcProjection()}function ySe(t){t.resetRotation()}function xSe(t){t.removeLeadSnapshot()}function $8(t,e,r){t.translate=wr(e.translate,0,r),t.scale=wr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function F8(t,e,r,n){t.min=wr(e.min,r.min,n),t.max=wr(e.max,r.max,n)}function wSe(t,e,r,n){F8(t.x,e.x,r.x,n),F8(t.y,e.y,r.y,n)}function bSe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const _Se={duration:.45,ease:[.4,0,.1,1]},B8=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),U8=B8("applewebkit/")&&!B8("chrome/")?Math.round:Lr;function V8(t){t.min=U8(t.min),t.max=U8(t.max)}function SSe(t){V8(t.x),V8(t.y)}function zq(t,e,r){return t==="position"||t==="preserve-aspect"&&!BT(j8(e),j8(r),.2)}const ESe=Vq({attachResizeListener:(t,e)=>Os(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),RE={current:void 0},Wq=Vq({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!RE.current){const t=new ESe({});t.mount(window),t.setOptions({layoutScroll:!0}),RE.current=t}return RE.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ASe={pan:{Feature:U_e},drag:{Feature:B_e,ProjectionNode:Wq,MeasureLayout:Lq}},CSe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function TSe(t){const e=CSe.exec(t);if(!e)return[,];const[,r,n]=e;return[r,n]}function WT(t,e,r=1){const[n,i]=TSe(t);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const o=a.trim();return Cq(o)?parseFloat(o):o}else return kT(i)?WT(i,e,r+1):i}function NSe(t,{...e},r){const n=t.current;if(!(n instanceof Element))return{target:e,transitionEnd:r};r&&(r={...r}),t.values.forEach(i=>{const a=i.get();if(!kT(a))return;const o=WT(a,n);o&&i.set(o)});for(const i in e){const a=e[i];if(!kT(a))continue;const o=WT(a,n);o&&(e[i]=o,r||(r={}),r[i]===void 0&&(r[i]=a))}return{target:e,transitionEnd:r}}const ISe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Hq=t=>ISe.has(t),PSe=t=>Object.keys(t).some(Hq),z8=t=>t===bd||t===Ke,W8=(t,e)=>parseFloat(t.split(", ")[e]),H8=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/);if(i)return W8(i[1],e);{const a=n.match(/^matrix\((.+)\)$/);return a?W8(a[1],t):0}},OSe=new Set(["x","y","z"]),jSe=b0.filter(t=>!OSe.has(t));function kSe(t){const e=[];return jSe.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e.length&&t.render(),e}const nh={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:H8(4,13),y:H8(5,14)};nh.translateX=nh.x;nh.translateY=nh.y;const RSe=(t,e,r)=>{const n=e.measureViewportBox(),i=e.current,a=getComputedStyle(i),{display:o}=a,s={};o==="none"&&e.setStaticValue("display",t.display||"block"),r.forEach(u=>{s[u]=nh[u](n,a)}),e.render();const l=e.measureViewportBox();return r.forEach(u=>{const d=e.getValue(u);d&&d.jump(s[u]),t[u]=nh[u](l,a)}),t},DSe=(t,e,r={},n={})=>{e={...e},n={...n};const i=Object.keys(e).filter(Hq);let a=[],o=!1;const s=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let d=r[l],f=Yp(d);const h=e[l];let p;if(cw(h)){const m=h.length,g=h[0]===null?1:0;d=h[g],f=Yp(d);for(let v=g;v<m&&h[v]!==null;v++)p?Dj(Yp(h[v])===p):p=Yp(h[v])}else p=Yp(h);if(f!==p)if(z8(f)&&z8(p)){const m=u.get();typeof m=="string"&&u.set(parseFloat(m)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&p===Ke&&(e[l]=h.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(d===0||h===0)?d===0?u.set(p.transform(d)):e[l]=f.transform(h):(o||(a=kSe(t),o=!0),s.push(l),n[l]=n[l]!==void 0?n[l]:e[l],u.jump(h))}),s.length){const l=s.indexOf("height")>=0?window.pageYOffset:null,u=RSe(e,t,s);return a.length&&a.forEach(([d,f])=>{t.getValue(d).set(f)}),t.render(),O2&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:n}}else return{target:e,transitionEnd:n}};function MSe(t,e,r,n){return PSe(e)?DSe(t,e,r,n):{target:e,transitionEnd:n}}const LSe=(t,e,r,n)=>{const i=NSe(t,e,n);return e=i.target,n=i.transitionEnd,MSe(t,e,r,n)},HT={current:null},Gq={current:!1};function $Se(){if(Gq.current=!0,!!O2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>HT.current=t.matches;t.addListener(e),e()}else HT.current=!1}function FSe(t,e,r){const{willChange:n}=e;for(const i in e){const a=e[i],o=r[i];if(qi(a))t.addValue(i,a),hw(n)&&n.add(i);else if(qi(o))t.addValue(i,rh(a,{owner:t})),hw(n)&&n.remove(i);else if(o!==a)if(t.hasValue(i)){const s=t.getValue(i);!s.hasAnimated&&s.set(a)}else{const s=t.getStaticValue(i);t.addValue(i,rh(s!==void 0?s:a,{owner:t}))}}for(const i in r)e[i]===void 0&&t.removeValue(i);return e}const G8=new WeakMap,qq=Object.keys(qg),BSe=qq.length,q8=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],USe=Cj.length;class VSe{constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Xt.render(this.render,!1,!0);const{latestValues:s,renderState:l}=a;this.latestValues=s,this.baseTarget={...s},this.initialValues=r.initial?{...s}:{},this.renderState=l,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=k2(r),this.isVariantNode=OG(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{});for(const f in d){const h=d[f];s[f]!==void 0&&qi(h)&&(h.set(s[f],!1),hw(u)&&u.add(f))}}scrapeMotionValuesFromProps(e,r){return{}}mount(e){this.current=e,G8.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Gq.current||$Se(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:HT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){G8.delete(this.current),this.projection&&this.projection.unmount(),Js(this.notifyUpdate),Js(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,r){const n=wd.has(e),i=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Xt.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...r},n,i,a){let o,s;for(let l=0;l<BSe;l++){const u=qq[l],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:p}=qg[u];h&&(o=h),d(r)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),p&&(s=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:p}=r;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||f&&lf(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,layoutScroll:h,layoutRoot:p})}return s}updateFeatures(){for(const e in this.features){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ur()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}makeTargetAnimatable(e,r=!0){return this.makeTargetAnimatableFromInstance(e,this.props,r)}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<q8.length;n++){const i=q8[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=e["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=FSe(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<USe;n++){const i=Cj[n],a=this.props[i];(Gg(a)||a===!1)&&(r[i]=a)}return r}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){r!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,r)),this.values.set(e,r),this.latestValues[e]=r.get()}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=rh(r,{owner:this}),this.addValue(e,n)),n}readValue(e){var r;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props,i=typeof n=="string"||typeof n=="object"?(r=Rj(this.props,n))===null||r===void 0?void 0:r[e]:void 0;if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!qi(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Wj),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class Kq extends VSe{sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:r,...n},{transformValues:i},a){let o=a_e(n,e||{},this);if(i&&(r&&(r=i(r)),n&&(n=i(n)),o&&(o=i(o))),a){n_e(this,n,o);const s=LSe(this,n,o,r);r=s.transitionEnd,n=s.target}return{transition:e,transitionEnd:r,...n}}}function zSe(t){return window.getComputedStyle(t)}class WSe extends Kq{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,r){if(wd.has(r)){const n=Fj(r);return n&&n.default||0}else{const n=zSe(e),i=(DG(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return Dq(e,r)}build(e,r,n,i){Ij(e,r,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,r){return kj(e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qi(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(e,r,n,i){UG(e,r,n,i)}}class HSe extends Kq{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(wd.has(r)){const n=Fj(r);return n&&n.default||0}return r=VG.has(r)?r:Ej(r),e.getAttribute(r)}measureInstanceViewportBox(){return Ur()}scrapeMotionValuesFromProps(e,r){return WG(e,r)}build(e,r,n,i){Oj(e,r,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,r,n,i){zG(e,r,n,i)}mount(e){this.isSVGTag=jj(e.tagName),super.mount(e)}}const GSe=(t,e)=>Nj(t)?new HSe(e,{enableHardwareAcceleration:!1}):new WSe(e,{enableHardwareAcceleration:!0}),qSe={layout:{ProjectionNode:Wq,MeasureLayout:Lq}},KSe={...w_e,...Bbe,...ASe,...qSe},Pn=Ywe((t,e)=>Tbe(t,e,KSe,GSe));function Yq(){const t=b.useRef(!1);return Sj(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function YSe(){const t=Yq(),[e,r]=b.useState(0),n=b.useCallback(()=>{t.current&&r(e+1)},[e]);return[b.useCallback(()=>Xt.postRender(n),[n]),e]}class XSe extends b.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function QSe({children:t,isPresent:e}){const r=b.useId(),n=b.useRef(null),i=b.useRef({width:0,height:0,top:0,left:0});return b.useInsertionEffect(()=>{const{width:a,height:o,top:s,left:l}=i.current;if(e||!n.current||!a||!o)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${s}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),b.createElement(XSe,{isPresent:e,childRef:n,sizeRef:i},b.cloneElement(t,{ref:n}))}const DE=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:o})=>{const s=HG(ZSe),l=b.useId(),u=b.useMemo(()=>({id:l,initial:e,isPresent:r,custom:i,onExitComplete:d=>{s.set(d,!0);for(const f of s.values())if(!f)return;n&&n()},register:d=>(s.set(d,!1),()=>s.delete(d))}),a?void 0:[r]);return b.useMemo(()=>{s.forEach((d,f)=>s.set(f,!1))},[r]),b.useEffect(()=>{!r&&!s.size&&n&&n()},[r]),o==="popLayout"&&(t=b.createElement(QSe,{isPresent:r},t)),b.createElement(P2.Provider,{value:u},t)};function ZSe(){return new Map}function JSe(t){return b.useEffect(()=>()=>t(),[])}const cu=t=>t.key||"";function eEe(t,e){t.forEach(r=>{const n=cu(r);e.set(n,r)})}function tEe(t){const e=[];return b.Children.forEach(t,r=>{b.isValidElement(r)&&e.push(r)}),e}const GT=({children:t,custom:e,initial:r=!0,onExitComplete:n,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const s=b.useContext(Tj).forceRender||YSe()[0],l=Yq(),u=tEe(t);let d=u;const f=b.useRef(new Map).current,h=b.useRef(d),p=b.useRef(new Map).current,m=b.useRef(!0);if(Sj(()=>{m.current=!1,eEe(u,p),h.current=d}),JSe(()=>{m.current=!0,p.clear(),f.clear()}),m.current)return b.createElement(b.Fragment,null,d.map(y=>b.createElement(DE,{key:cu(y),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:a,mode:o},y)));d=[...d];const g=h.current.map(cu),v=u.map(cu),x=g.length;for(let y=0;y<x;y++){const w=g[y];v.indexOf(w)===-1&&!f.has(w)&&f.set(w,void 0)}return o==="wait"&&f.size&&(d=[]),f.forEach((y,w)=>{if(v.indexOf(w)!==-1)return;const S=p.get(w);if(!S)return;const E=g.indexOf(w);let C=y;if(!C){const A=()=>{f.delete(w);const T=Array.from(p.keys()).filter(N=>!v.includes(N));if(T.forEach(N=>p.delete(N)),h.current=u.filter(N=>{const I=cu(N);return I===w||T.includes(I)}),!f.size){if(l.current===!1)return;s(),n&&n()}};C=b.createElement(DE,{key:cu(S),isPresent:!1,onExitComplete:A,custom:e,presenceAffectsLayout:a,mode:o},S),f.set(w,C)}d.splice(E,0,C)}),d=d.map(y=>{const w=y.key;return f.has(w)?y:b.createElement(DE,{key:cu(y),isPresent:!0,presenceAffectsLayout:a,mode:o},y)}),b.createElement(b.Fragment,null,f.size?d:d.map(y=>b.cloneElement(y)))},rEe=()=>{const t=[{icon:ti,label:"Household",color:"text-blue-500"},{icon:lr,label:"Shopping",color:"text-green-500"},{icon:Go,label:"Expenses",color:"text-yellow-500"},{icon:mV,label:"Tasks",color:"text-purple-500"},{icon:Hn,label:"Pantry",color:"text-orange-500"}];return c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[c.jsx(Pn.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.6,type:"spring"},className:"mb-8",children:c.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:c.jsx(Wf,{className:"w-12 h-12 text-white"})})}),c.jsx(Pn.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"text-4xl font-bold text-gray-900 mb-4",children:"Welcome to TaskaLoop"}),c.jsx(Pn.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"text-xl text-gray-600 mb-12 max-w-2xl",children:"Your all-in-one household management platform. Let's take a quick tour of what makes TaskaLoop special."}),c.jsx("div",{className:"grid grid-cols-5 gap-8 mb-12",children:t.map((e,r)=>c.jsxs(Pn.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.7+r*.1,duration:.6},className:"flex flex-col items-center",children:[c.jsx(Pn.div,{animate:{y:[0,-10,0]},transition:{duration:2,repeat:1/0,delay:r*.2},className:`w-16 h-16 rounded-full border-2 border-gray-200 flex items-center justify-center ${e.color} bg-white shadow-lg`,children:c.jsx(e.icon,{className:"w-6 h-6"})}),c.jsx("span",{className:"text-sm text-gray-600 mt-2",children:e.label})]},e.label))}),c.jsx(Pn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5,duration:.6},className:"text-gray-500 text-sm",children:"This quick tour will take about 60 seconds"})]})},nEe=()=>c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-blue-500 rounded-full flex items-center justify-center mb-6",children:c.jsx(ti,{className:"w-10 h-10 text-white"})}),c.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Build Your Household Team"}),c.jsx("p",{className:"text-gray-600 max-w-2xl mb-8",children:"Add household members to start collaborating on everything from shopping lists to expense splitting."}),c.jsx("div",{className:"grid grid-cols-3 gap-4 max-w-xl",children:["You (Admin)","Sarah","Mike"].map((t,e)=>c.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-gray-200 text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-xl mx-auto mb-2",children:["👨‍💼","👩‍🏫","👨‍🔧"][e]}),c.jsx("div",{className:"font-medium",children:t})]},t))})]}),iEe=()=>c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-green-500 rounded-full flex items-center justify-center mb-6",children:c.jsx(lr,{className:"w-10 h-10 text-white"})}),c.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Smart Shopping Lists"}),c.jsx("p",{className:"text-gray-600 max-w-2xl mb-8",children:"Create shared shopping lists that update in real-time. See prices, who added what, and never miss an item."}),c.jsxs("div",{className:"bg-white rounded-lg border-2 border-gray-200 p-6 max-w-md w-full",children:[c.jsx("h4",{className:"font-semibold mb-4",children:"Weekly Groceries"}),[{name:"Milk",price:"$3.99",by:"Sarah"},{name:"Bread",price:"$2.49",by:"Mike"},{name:"Eggs",price:"$4.29",by:"You"}].map(t=>c.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:t.name}),c.jsxs("div",{className:"text-sm text-gray-500",children:["Added by ",t.by]})]}),c.jsx("div",{className:"font-semibold text-green-600",children:t.price})]},t.name))]})]}),aEe=()=>c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-yellow-500 rounded-full flex items-center justify-center mb-6",children:c.jsx(Go,{className:"w-10 h-10 text-white"})}),c.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Automatic Expense Splitting"}),c.jsx("p",{className:"text-gray-600 max-w-2xl mb-8",children:"Upload receipts and automatically split expenses with your household members. No more awkward money conversations."}),c.jsxs("div",{className:"grid grid-cols-3 gap-6 items-center max-w-2xl",children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 mb-2",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:"$63.69"}),c.jsx("div",{className:"text-sm text-gray-500",children:"Grocery Receipt"})]}),c.jsx("div",{className:"text-sm text-gray-600",children:"1. Upload receipt"})]}),c.jsx("div",{className:"text-center",children:c.jsx(rO,{className:"w-8 h-8 text-blue-500 mx-auto"})}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 mb-2",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"$21.23"}),c.jsx("div",{className:"text-sm text-gray-500",children:"per person"})]}),c.jsx("div",{className:"text-sm text-gray-600",children:"2. Auto-split equally"})]})]})]}),oEe=()=>c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-purple-500 rounded-full flex items-center justify-center mb-6",children:c.jsx(mV,{className:"w-10 h-10 text-white"})}),c.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Task Coordination Made Simple"}),c.jsx("p",{className:"text-gray-600 max-w-2xl mb-8",children:"Assign tasks, set due dates, and get notifications. Everyone knows what needs to be done and when."}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-lg w-full",children:[c.jsx("h4",{className:"font-semibold mb-4",children:"Household Tasks"}),[{task:"Take out trash",person:"Mike",due:"Today",priority:"high"},{task:"Grocery shopping",person:"Sarah",due:"Tomorrow",priority:"medium"},{task:"Clean kitchen",person:"You",due:"Friday",priority:"low"}].map(t=>c.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100 last:border-b-0",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:t.task}),c.jsxs("div",{className:"text-sm text-gray-500",children:[t.person," • ",t.due]})]}),c.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${t.priority==="high"?"bg-red-100 text-red-800":t.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:t.priority})]},t.task))]})]}),sEe=()=>c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mb-6",children:c.jsx(Hn,{className:"w-10 h-10 text-white"})}),c.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Smart Pantry Management"}),c.jsx("p",{className:"text-gray-600 max-w-2xl mb-8",children:"Track expiry dates, scan barcodes, and automatically add items to your shopping list when they're running low."}),c.jsxs("div",{className:"grid grid-cols-2 gap-6 max-w-2xl",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4",children:[c.jsx("h5",{className:"font-semibold mb-3",children:"Current Pantry"}),[{name:"Milk",expiry:"Expires in 2 days",status:"warning"},{name:"Bread",expiry:"Expires in 5 days",status:"good"},{name:"Eggs",expiry:"Expired 1 day ago",status:"expired"}].map(t=>c.jsxs("div",{className:"flex justify-between items-center py-2",children:[c.jsx("span",{className:"font-medium",children:t.name}),c.jsx("span",{className:`px-2 py-1 rounded text-xs ${t.status==="expired"?"bg-red-100 text-red-800":t.status==="warning"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:t.expiry})]},t.name))]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[c.jsx("div",{className:"text-2xl mb-2",children:"📷"}),c.jsx("div",{className:"font-medium",children:"Barcode Scanner"}),c.jsx("div",{className:"text-sm text-gray-600",children:"Scan items to add instantly"})]}),c.jsx("div",{className:"bg-orange-50 rounded-lg p-3",children:c.jsx("div",{className:"text-sm text-orange-800",children:"⚠️ Milk expires in 2 days"})})]})]})]}),lEe=()=>c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[c.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-full flex items-center justify-center mb-8",children:c.jsx(Wf,{className:"w-16 h-16 text-white"})}),c.jsx("h3",{className:"text-4xl font-bold text-gray-900 mb-4",children:"🎉 You're All Set!"}),c.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mb-8",children:"Your household management platform is ready to go. Start organizing your life with your family and friends."}),c.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6 max-w-lg",children:[c.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Quick Start Ideas"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 text-left text-sm",children:[c.jsx("div",{children:"• Invite Your Family"}),c.jsx("div",{children:"• Create Shopping List"}),c.jsx("div",{children:"• Assign Tasks"}),c.jsx("div",{children:"• Upload Receipt"})]})]})]}),cEe=()=>{const{isActive:t,currentStep:e,totalSteps:r,nextStep:n,prevStep:i,skipTutorial:a,progress:o}=wj();if(!t)return null;const s=[c.jsx(rEe,{},"welcome"),c.jsx(nEe,{},"household"),c.jsx(iEe,{},"shopping"),c.jsx(aEe,{},"expense"),c.jsx(oEe,{},"task"),c.jsx(sEe,{},"pantry"),c.jsx(lEe,{},"cta")],l=["Welcome to TaskaLoop","Set Up Your Household","Smart Shopping Lists","Expense Splitting","Task Coordination","Pantry Management","You're All Set!"];return c.jsx(GT,{children:c.jsx(Pn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-2 md:p-4",children:c.jsxs(Pn.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative w-full max-w-4xl h-[95vh] bg-white rounded-xl shadow-2xl flex flex-col overflow-hidden",children:[c.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 p-4 md:p-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[c.jsxs("div",{className:"text-sm text-gray-600 whitespace-nowrap",children:["Step ",e+1," of ",r]}),c.jsx("div",{className:"flex-1 max-w-md",children:c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx(Pn.div,{className:"bg-blue-600 h-2 rounded-full",initial:{width:0},animate:{width:`${o}%`},transition:{duration:.5}})})})]}),c.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-full transition-colors ml-4","aria-label":"Close tutorial",children:c.jsx(Mi,{className:"w-5 h-5 text-gray-600"})})]}),c.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 mt-4",children:l[e]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto overscroll-contain",children:c.jsx("div",{className:"p-4 md:p-6",children:c.jsx(GT,{mode:"wait",children:c.jsx(Pn.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"min-h-[400px]",children:s[e]},e)})})}),c.jsx("div",{className:"flex-shrink-0 bg-white border-t border-gray-200 p-4 md:p-6",children:c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsxs(K,{variant:"outline",onClick:i,disabled:e===0,className:"flex items-center space-x-2",children:[c.jsx(tO,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(K,{variant:"outline",onClick:a,className:"text-gray-600 hidden sm:flex",children:"Skip Tutorial"}),c.jsxs(K,{onClick:n,className:"flex items-center space-x-2",children:[c.jsx("span",{children:e===r-1?"Get Started":"Next"}),c.jsx(rO,{className:"w-4 h-4"})]})]})]})})]})})})},uEe=()=>{const t=Ki();return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-teal-50 dark:from-blue-900/30 dark:via-purple-900/20 dark:to-teal-900/30",children:[c.jsx("header",{className:"container mx-auto py-4",children:c.jsxs("nav",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(tc,{className:"h-6 w-6 text-teal-600 dark:text-teal-400"}),c.jsx("span",{className:"text-xl font-bold text-teal-600 dark:text-teal-400",children:"TaskaLoop"})]}),c.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[c.jsx(K,{variant:"ghost",className:"text-teal-700 hover:text-teal-900 hover:bg-teal-50 dark:text-teal-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20",children:"Home"}),c.jsx(K,{variant:"ghost",className:"text-slate-600 hover:text-teal-900 hover:bg-teal-50 dark:text-slate-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20",children:"Features"}),c.jsx(K,{variant:"ghost",className:"text-slate-600 hover:text-teal-900 hover:bg-teal-50 dark:text-slate-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20",children:"About"}),c.jsx(K,{variant:"ghost",className:"text-slate-600 hover:text-teal-900 hover:bg-teal-50 dark:text-slate-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20",children:"Contact"})]}),c.jsx("div",{children:c.jsx(K,{className:"bg-teal-600 hover:bg-teal-700 dark:bg-teal-500 dark:hover:bg-teal-600 text-white",onClick:()=>t("/home"),children:"Get Started"})})]})}),c.jsx("section",{className:"container mx-auto py-16 md:py-24",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-slate-800 dark:text-slate-200 leading-tight",children:["Simplify Your ",c.jsx("span",{className:"text-teal-600 dark:text-teal-400",children:"Daily Tasks"})," With TaskaLoop"]}),c.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 max-w-md",children:"The all-in-one solution for managing shopping lists, splitting expenses, and organizing your daily tasks."}),c.jsxs("div",{className:"flex gap-4 pt-4",children:[c.jsx(K,{className:"bg-teal-600 hover:bg-teal-700 dark:bg-teal-500 dark:hover:bg-teal-600 px-6 py-6 h-auto",onClick:()=>t("/home"),children:"Try It Free"}),c.jsx(K,{variant:"outline",className:"border-teal-600 text-teal-600 hover:bg-teal-50 dark:border-teal-400 dark:text-teal-400 dark:hover:bg-teal-900/20 px-6 py-6 h-auto",children:"Learn More"})]})]}),c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:"relative w-full max-w-md aspect-square bg-gradient-to-br from-teal-200 to-blue-200 dark:from-teal-600/50 dark:to-blue-600/50 rounded-full flex items-center justify-center",children:c.jsx("div",{className:"absolute inset-4 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-full flex items-center justify-center",children:c.jsx(tc,{className:"h-24 w-24 text-teal-600 dark:text-teal-400"})})})})]})}),c.jsxs("section",{className:"container mx-auto py-16",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"All Features in One Place"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400 max-w-2xl mx-auto",children:"TaskaLoop brings together everything you need to organize your shopping and daily activities."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsxs(Te,{className:"border-none shadow-md hover:shadow-lg transition-shadow dark:bg-gray-800/60 backdrop-blur-sm",children:[c.jsxs(Fe,{className:"pb-2",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/50 flex items-center justify-center mb-2",children:c.jsx(lr,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),c.jsx(Be,{className:"text-xl text-slate-800 dark:text-slate-200",children:"Shopping Trips"}),c.jsx(tt,{className:"dark:text-slate-400",children:"Organize your shopping lists by store or trip"})]}),c.jsx(Ne,{children:c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(qn,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Create multiple shopping lists"})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(qn,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Categorize items automatically"})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(qn,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Track prices and budgets"})]})]})}),c.jsx(Bt,{children:c.jsx(K,{variant:"ghost",className:"text-teal-600 hover:text-teal-700 hover:bg-teal-50 dark:text-teal-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20 px-0",children:"Learn more →"})})]}),c.jsxs(Te,{className:"border-none shadow-md hover:shadow-lg transition-shadow dark:bg-gray-800/60 backdrop-blur-sm",children:[c.jsxs(Fe,{className:"pb-2",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-100 dark:bg-purple-900/50 flex items-center justify-center mb-2",children:c.jsx(_V,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),c.jsx(Be,{className:"text-xl text-slate-800 dark:text-slate-200",children:"Cart Splitting"}),c.jsx(tt,{className:"dark:text-slate-400",children:"Easily split expenses with roommates or friends"})]}),c.jsx(Ne,{children:c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(qn,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Assign items to different people"})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(qn,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Calculate individual totals"})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(qn,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Share expense reports"})]})]})}),c.jsx(Bt,{children:c.jsx(K,{variant:"ghost",className:"text-teal-600 hover:text-teal-700 hover:bg-teal-50 dark:text-teal-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20 px-0",children:"Learn more →"})})]}),c.jsxs(Te,{className:"border-none shadow-md hover:shadow-lg transition-shadow dark:bg-gray-800/60 backdrop-blur-sm",children:[c.jsxs(Fe,{className:"pb-2",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-teal-100 dark:bg-teal-900/50 flex items-center justify-center mb-2",children:c.jsx(ti,{className:"h-6 w-6 text-teal-600 dark:text-teal-400"})}),c.jsx(Be,{className:"text-xl text-slate-800 dark:text-slate-200",children:"Group Management"}),c.jsx(tt,{className:"dark:text-slate-400",children:"Collaborate with family and friends"})]}),c.jsx(Ne,{children:c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(qn,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Create household groups"})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(qn,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Share lists with specific people"})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(qn,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Real-time updates for all members"})]})]})}),c.jsx(Bt,{children:c.jsx(K,{variant:"ghost",className:"text-teal-600 hover:text-teal-700 hover:bg-teal-50 dark:text-teal-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20 px-0",children:"Learn more →"})})]})]})]}),c.jsx("section",{className:"container mx-auto py-16 mb-8",children:c.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-blue-500 dark:from-teal-600 dark:to-blue-600 rounded-2xl p-8 md:p-12 text-center text-white",children:[c.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Simplify Your Life?"}),c.jsx("p",{className:"max-w-2xl mx-auto mb-8",children:"Join thousands of users who are already enjoying the benefits of TaskaLoop."}),c.jsx(K,{className:"bg-white text-teal-600 hover:bg-gray-100 dark:hover:bg-gray-200 px-8 py-6 h-auto text-lg",onClick:()=>t("/home"),children:"Get Started for Free"})]})}),c.jsx("footer",{className:"container mx-auto py-8 border-t border-gray-200 dark:border-gray-700",children:c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4 md:mb-0",children:[c.jsx(tc,{className:"h-5 w-5 text-teal-600 dark:text-teal-400"}),c.jsx("span",{className:"text-lg font-semibold text-teal-600 dark:text-teal-400",children:"TaskaLoop"})]}),c.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["© ",new Date().getFullYear()," TaskaLoop. All rights reserved."]})]})})]})};function dEe(t,e=[]){let r=[];function n(a,o){const s=b.createContext(o),l=r.length;r=[...r,o];function u(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||s,v=b.useMemo(()=>m,Object.values(m));return c.jsx(g.Provider,{value:v,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||s,m=b.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const i=()=>{const a=r.map(o=>b.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return b.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,fEe(i,...e)]}function fEe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:u})=>{const f=l(a)[`__scope${u}`];return{...s,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var hEe=b.createContext(void 0);function A0(t){const e=b.useContext(hEe);return t||e||"ltr"}var ME="rovingFocusGroup.onEntryFocus",pEe={bubbles:!1,cancelable:!0},L2="RovingFocusGroup",[qT,Xq,mEe]=qb(L2),[gEe,$2]=dEe(L2,[mEe]),[vEe,yEe]=gEe(L2),Qq=b.forwardRef((t,e)=>c.jsx(qT.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(qT.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(xEe,{...t,ref:e})})}));Qq.displayName=L2;var xEe=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,h=b.useRef(null),p=et(e,h),m=A0(a),[g=null,v]=ts({prop:o,defaultProp:s,onChange:l}),[x,y]=b.useState(!1),w=hr(u),S=Xq(r),E=b.useRef(!1),[C,A]=b.useState(0);return b.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(ME,w),()=>T.removeEventListener(ME,w)},[w]),c.jsx(vEe,{scope:r,orientation:n,dir:m,loop:i,currentTabStopId:g,onItemFocus:b.useCallback(T=>v(T),[v]),onItemShiftTab:b.useCallback(()=>y(!0),[]),onFocusableItemAdd:b.useCallback(()=>A(T=>T+1),[]),onFocusableItemRemove:b.useCallback(()=>A(T=>T-1),[]),children:c.jsx(Le.div,{tabIndex:x||C===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:be(t.onMouseDown,()=>{E.current=!0}),onFocus:be(t.onFocus,T=>{const N=!E.current;if(T.target===T.currentTarget&&N&&!x){const I=new CustomEvent(ME,pEe);if(T.currentTarget.dispatchEvent(I),!I.defaultPrevented){const j=S().filter(B=>B.focusable),O=j.find(B=>B.active),P=j.find(B=>B.id===g),F=[O,P,...j].filter(Boolean).map(B=>B.ref.current);eK(F,d)}}E.current=!1}),onBlur:be(t.onBlur,()=>y(!1))})})}),Zq="RovingFocusGroupItem",Jq=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,...o}=t,s=yo(),l=a||s,u=yEe(Zq,r),d=u.currentTabStopId===l,f=Xq(r),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return b.useEffect(()=>{if(n)return h(),()=>p()},[n,h,p]),c.jsx(qT.ItemSlot,{scope:r,id:l,focusable:n,active:i,children:c.jsx(Le.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:be(t.onMouseDown,m=>{n?u.onItemFocus(l):m.preventDefault()}),onFocus:be(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:be(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){u.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const g=_Ee(m,u.orientation,u.dir);if(g!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let x=f().filter(y=>y.focusable).map(y=>y.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();const y=x.indexOf(m.currentTarget);x=u.loop?SEe(x,y+1):x.slice(y+1)}setTimeout(()=>eK(x))}})})})});Jq.displayName=Zq;var wEe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function bEe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function _Ee(t,e,r){const n=bEe(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return wEe[n]}function eK(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function SEe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var tK=Qq,rK=Jq,Hj="Tabs",[EEe,Flt]=Va(Hj,[$2]),nK=$2(),[AEe,Gj]=EEe(Hj),iK=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:l="automatic",...u}=t,d=A0(s),[f,h]=ts({prop:n,onChange:i,defaultProp:a});return c.jsx(AEe,{scope:r,baseId:yo(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:l,children:c.jsx(Le.div,{dir:d,"data-orientation":o,...u,ref:e})})});iK.displayName=Hj;var aK="TabsList",oK=b.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,a=Gj(aK,r),o=nK(r);return c.jsx(tK,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:c.jsx(Le.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});oK.displayName=aK;var sK="TabsTrigger",lK=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=t,o=Gj(sK,r),s=nK(r),l=dK(o.baseId,n),u=fK(o.baseId,n),d=n===o.value;return c.jsx(rK,{asChild:!0,...s,focusable:!i,active:d,children:c.jsx(Le.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:e,onMouseDown:be(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:be(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:be(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(n)})})})});lK.displayName=sK;var cK="TabsContent",uK=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=t,s=Gj(cK,r),l=dK(s.baseId,n),u=fK(s.baseId,n),d=n===s.value,f=b.useRef(d);return b.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),c.jsx(bn,{present:i||d,children:({present:h})=>c.jsx(Le.div,{"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});uK.displayName=cK;function dK(t,e){return`${t}-trigger-${e}`}function fK(t,e){return`${t}-content-${e}`}var CEe=iK,hK=oK,pK=lK,mK=uK;const Nc=CEe,el=b.forwardRef(({className:t,...e},r)=>c.jsx(hK,{ref:r,className:je("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));el.displayName=hK.displayName;const sr=b.forwardRef(({className:t,onClick:e,...r},n)=>{const i=a=>{Ss.light(),e&&e(a)};return c.jsx(pK,{ref:n,className:je("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),onClick:i,...r})});sr.displayName=pK.displayName;const jr=b.forwardRef(({className:t,...e},r)=>c.jsx(mK,{ref:r,className:je("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));jr.displayName=mK.displayName;var qj="Avatar",[TEe,Blt]=Va(qj),[NEe,gK]=TEe(qj),vK=b.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,a]=b.useState("idle");return c.jsx(NEe,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:c.jsx(Le.span,{...n,ref:e})})});vK.displayName=qj;var yK="AvatarImage",xK=b.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=t,o=gK(yK,r),s=IEe(n,a.referrerPolicy),l=hr(u=>{i(u),o.onImageLoadingStatusChange(u)});return ln(()=>{s!=="idle"&&l(s)},[s,l]),s==="loaded"?c.jsx(Le.img,{...a,ref:e,src:n}):null});xK.displayName=yK;var wK="AvatarFallback",bK=b.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,a=gK(wK,r),[o,s]=b.useState(n===void 0);return b.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>s(!0),n);return()=>window.clearTimeout(l)}},[n]),o&&a.imageLoadingStatus!=="loaded"?c.jsx(Le.span,{...i,ref:e}):null});bK.displayName=wK;function IEe(t,e){const[r,n]=b.useState("idle");return ln(()=>{if(!t){n("error");return}let i=!0;const a=new window.Image,o=s=>()=>{i&&n(s)};return n("loading"),a.onload=o("loaded"),a.onerror=o("error"),a.src=t,e&&(a.referrerPolicy=e),()=>{i=!1}},[t,e]),r}var _K=vK,SK=xK,EK=bK;const zr=b.forwardRef(({className:t,...e},r)=>c.jsx(_K,{ref:r,className:je("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));zr.displayName=_K.displayName;const Xu=b.forwardRef(({className:t,...e},r)=>c.jsx(SK,{ref:r,className:je("aspect-square h-full w-full",t),...e}));Xu.displayName=SK.displayName;const Wr=b.forwardRef(({className:t,...e},r)=>c.jsx(EK,{ref:r,className:je("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Wr.displayName=EK.displayName;function PEe(t,e=[]){let r=[];function n(a,o){const s=b.createContext(o),l=r.length;r=[...r,o];function u(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||s,v=b.useMemo(()=>m,Object.values(m));return c.jsx(g.Provider,{value:v,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||s,m=b.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const i=()=>{const a=r.map(o=>b.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return b.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,OEe(i,...e)]}function OEe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:u})=>{const f=l(a)[`__scope${u}`];return{...s,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Kj="Progress",Yj=100,[jEe,Ult]=PEe(Kj),[kEe,REe]=jEe(Kj),AK=b.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=DEe,...o}=t;(i||i===0)&&!K8(i)&&console.error(MEe(`${i}`,"Progress"));const s=K8(i)?i:Yj;n!==null&&!Y8(n,s)&&console.error(LEe(`${n}`,"Progress"));const l=Y8(n,s)?n:null,u=mw(l)?a(l,s):void 0;return c.jsx(kEe,{scope:r,value:l,max:s,children:c.jsx(Le.div,{"aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":mw(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":NK(l,s),"data-value":l??void 0,"data-max":s,...o,ref:e})})});AK.displayName=Kj;var CK="ProgressIndicator",TK=b.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=REe(CK,r);return c.jsx(Le.div,{"data-state":NK(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});TK.displayName=CK;function DEe(t,e){return`${Math.round(t/e*100)}%`}function NK(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function mw(t){return typeof t=="number"}function K8(t){return mw(t)&&!isNaN(t)&&t>0}function Y8(t,e){return mw(t)&&!isNaN(t)&&t<=e&&t>=0}function MEe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Yj}\`.`}function LEe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Yj} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var IK=AK,$Ee=TK;const Yg=b.forwardRef(({className:t,value:e,...r},n)=>c.jsx(IK,{ref:n,className:je("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:c.jsx($Ee,{className:"h-full w-full flex-1 bg-gradient-to-r from-gloop-primary to-gloop-primary-light transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Yg.displayName=IK.displayName;var LE=0;function F2(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??X8()),document.body.insertAdjacentElement("beforeend",t[1]??X8()),LE++,()=>{LE===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),LE--}},[])}function X8(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var $E="focusScope.autoFocusOnMount",FE="focusScope.autoFocusOnUnmount",Q8={bubbles:!1,cancelable:!0},FEe="FocusScope",C0=b.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[s,l]=b.useState(null),u=hr(i),d=hr(a),f=b.useRef(null),h=et(e,g=>l(g)),p=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(n){let g=function(w){if(p.paused||!s)return;const S=w.target;s.contains(S)?f.current=S:Cl(f.current,{select:!0})},v=function(w){if(p.paused||!s)return;const S=w.relatedTarget;S!==null&&(s.contains(S)||Cl(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const E of w)E.removedNodes.length>0&&Cl(s)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const y=new MutationObserver(x);return s&&y.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),y.disconnect()}}},[n,s,p.paused]),b.useEffect(()=>{if(s){J8.add(p);const g=document.activeElement;if(!s.contains(g)){const x=new CustomEvent($E,Q8);s.addEventListener($E,u),s.dispatchEvent(x),x.defaultPrevented||(BEe(HEe(PK(s)),{select:!0}),document.activeElement===g&&Cl(s))}return()=>{s.removeEventListener($E,u),setTimeout(()=>{const x=new CustomEvent(FE,Q8);s.addEventListener(FE,d),s.dispatchEvent(x),x.defaultPrevented||Cl(g??document.body,{select:!0}),s.removeEventListener(FE,d),J8.remove(p)},0)}}},[s,u,d,p]);const m=b.useCallback(g=>{if(!r&&!n||p.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(v&&x){const y=g.currentTarget,[w,S]=UEe(y);w&&S?!g.shiftKey&&x===S?(g.preventDefault(),r&&Cl(w,{select:!0})):g.shiftKey&&x===w&&(g.preventDefault(),r&&Cl(S,{select:!0})):x===y&&g.preventDefault()}},[r,n,p.paused]);return c.jsx(Le.div,{tabIndex:-1,...o,ref:h,onKeyDown:m})});C0.displayName=FEe;function BEe(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Cl(n,{select:e}),document.activeElement!==r)return}function UEe(t){const e=PK(t),r=Z8(e,t),n=Z8(e.reverse(),t);return[r,n]}function PK(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Z8(t,e){for(const r of t)if(!VEe(r,{upTo:e}))return r}function VEe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function zEe(t){return t instanceof HTMLInputElement&&"select"in t}function Cl(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&zEe(t)&&e&&t.select()}}var J8=WEe();function WEe(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=e5(t,e),t.unshift(e)},remove(e){var r;t=e5(t,e),(r=t[0])==null||r.resume()}}}function e5(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function HEe(t){return t.filter(e=>e.tagName!=="A")}var GEe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Rd=new WeakMap,Vy=new WeakMap,zy={},BE=0,OK=function(t){return t&&(t.host||OK(t.parentNode))},qEe=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=OK(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},KEe=function(t,e,r,n){var i=qEe(e,Array.isArray(t)?t:[t]);zy[r]||(zy[r]=new WeakMap);var a=zy[r],o=[],s=new Set,l=new Set(i),u=function(f){!f||s.has(f)||(s.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(s.has(h))d(h);else try{var p=h.getAttribute(n),m=p!==null&&p!=="false",g=(Rd.get(h)||0)+1,v=(a.get(h)||0)+1;Rd.set(h,g),a.set(h,v),o.push(h),g===1&&m&&Vy.set(h,!0),v===1&&h.setAttribute(r,"true"),m||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(e),s.clear(),BE++,function(){o.forEach(function(f){var h=Rd.get(f)-1,p=a.get(f)-1;Rd.set(f,h),a.set(f,p),h||(Vy.has(f)||f.removeAttribute(n),Vy.delete(f)),p||f.removeAttribute(r)}),BE--,BE||(Rd=new WeakMap,Rd=new WeakMap,Vy=new WeakMap,zy={})}},B2=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=GEe(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),KEe(n,i,r,"aria-hidden")):function(){return null}},G1="right-scroll-bar-position",q1="width-before-scroll-bar",YEe="with-scroll-bars-hidden",XEe="--removed-body-scroll-bar-size";function UE(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function QEe(t,e){var r=b.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var ZEe=typeof window<"u"?b.useLayoutEffect:b.useEffect,t5=new WeakMap;function JEe(t,e){var r=QEe(null,function(n){return t.forEach(function(i){return UE(i,n)})});return ZEe(function(){var n=t5.get(r);if(n){var i=new Set(n),a=new Set(t),o=r.current;i.forEach(function(s){a.has(s)||UE(s,null)}),a.forEach(function(s){i.has(s)||UE(s,o)})}t5.set(r,t)},[t]),r}function eAe(t){return t}function tAe(t,e){e===void 0&&(e=eAe);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var o=e(a,n);return r.push(o),function(){r=r.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(s){return a(s)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var s=r;r=[],s.forEach(a),o=r}var l=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return i}function rAe(t){t===void 0&&(t={});var e=tAe(null);return e.options=Bo({async:!0,ssr:!1},t),e}var jK=function(t){var e=t.sideCar,r=g0(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return b.createElement(n,Bo({},r))};jK.isSideCarExport=!0;function nAe(t,e){return t.useMedium(e),jK}var kK=rAe(),VE=function(){},U2=b.forwardRef(function(t,e){var r=b.useRef(null),n=b.useState({onScrollCapture:VE,onWheelCapture:VE,onTouchMoveCapture:VE}),i=n[0],a=n[1],o=t.forwardProps,s=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,p=t.noIsolation,m=t.inert,g=t.allowPinchZoom,v=t.as,x=v===void 0?"div":v,y=t.gapMode,w=g0(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,E=JEe([r,e]),C=Bo(Bo({},w),i);return b.createElement(b.Fragment,null,d&&b.createElement(S,{sideCar:kK,removeScrollBar:u,shards:f,noIsolation:p,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:r,gapMode:y}),o?b.cloneElement(b.Children.only(s),Bo(Bo({},C),{ref:E})):b.createElement(x,Bo({},C,{className:l,ref:E}),s))});U2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};U2.classNames={fullWidth:q1,zeroRight:G1};var iAe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function aAe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=iAe();return e&&t.setAttribute("nonce",e),t}function oAe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function sAe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var lAe=function(){var t=0,e=null;return{add:function(r){t==0&&(e=aAe())&&(oAe(e,r),sAe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},cAe=function(){var t=lAe();return function(e,r){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},RK=function(){var t=cAe(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},uAe={left:0,top:0,right:0,gap:0},zE=function(t){return parseInt(t||"",10)||0},dAe=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[zE(r),zE(n),zE(i)]},fAe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return uAe;var e=dAe(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},hAe=RK(),jf="data-scroll-locked",pAe=function(t,e,r,n){var i=t.left,a=t.top,o=t.right,s=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(YEe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(jf,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(G1,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(q1,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(G1," .").concat(G1,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(q1," .").concat(q1,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(jf,`] {
    `).concat(XEe,": ").concat(s,`px;
  }
`)},r5=function(){var t=parseInt(document.body.getAttribute(jf)||"0",10);return isFinite(t)?t:0},mAe=function(){b.useEffect(function(){return document.body.setAttribute(jf,(r5()+1).toString()),function(){var t=r5()-1;t<=0?document.body.removeAttribute(jf):document.body.setAttribute(jf,t.toString())}},[])},gAe=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;mAe();var a=b.useMemo(function(){return fAe(i)},[i]);return b.createElement(hAe,{styles:pAe(a,!e,i,r?"":"!important")})},KT=!1;if(typeof window<"u")try{var Wy=Object.defineProperty({},"passive",{get:function(){return KT=!0,!0}});window.addEventListener("test",Wy,Wy),window.removeEventListener("test",Wy,Wy)}catch{KT=!1}var Dd=KT?{passive:!1}:!1,vAe=function(t){return t.tagName==="TEXTAREA"},DK=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!vAe(t)&&r[e]==="visible")},yAe=function(t){return DK(t,"overflowY")},xAe=function(t){return DK(t,"overflowX")},n5=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=MK(t,n);if(i){var a=LK(t,n),o=a[1],s=a[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},wAe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},bAe=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},MK=function(t,e){return t==="v"?yAe(e):xAe(e)},LK=function(t,e){return t==="v"?wAe(e):bAe(e)},_Ae=function(t,e){return t==="h"&&e==="rtl"?-1:1},SAe=function(t,e,r,n,i){var a=_Ae(t,window.getComputedStyle(e).direction),o=a*n,s=r.target,l=e.contains(s),u=!1,d=o>0,f=0,h=0;do{var p=LK(t,s),m=p[0],g=p[1],v=p[2],x=g-v-a*m;(m||x)&&MK(t,s)&&(f+=x,h+=m),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!l&&s!==document.body||l&&(e.contains(s)||e===s));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Hy=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},i5=function(t){return[t.deltaX,t.deltaY]},a5=function(t){return t&&"current"in t?t.current:t},EAe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},AAe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},CAe=0,Md=[];function TAe(t){var e=b.useRef([]),r=b.useRef([0,0]),n=b.useRef(),i=b.useState(CAe++)[0],a=b.useState(RK)[0],o=b.useRef(t);b.useEffect(function(){o.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=Ome([t.lockRef.current],(t.shards||[]).map(a5),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=b.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var x=Hy(g),y=r.current,w="deltaX"in g?g.deltaX:y[0]-x[0],S="deltaY"in g?g.deltaY:y[1]-x[1],E,C=g.target,A=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in g&&A==="h"&&C.type==="range")return!1;var T=n5(A,C);if(!T)return!0;if(T?E=A:(E=A==="v"?"h":"v",T=n5(A,C)),!T)return!1;if(!n.current&&"changedTouches"in g&&(w||S)&&(n.current=E),!E)return!0;var N=n.current||E;return SAe(N,v,g,N==="h"?w:S)},[]),l=b.useCallback(function(g){var v=g;if(!(!Md.length||Md[Md.length-1]!==a)){var x="deltaY"in v?i5(v):Hy(v),y=e.current.filter(function(E){return E.name===v.type&&(E.target===v.target||v.target===E.shadowParent)&&EAe(E.delta,x)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(a5).filter(Boolean).filter(function(E){return E.contains(v.target)}),S=w.length>0?s(v,w[0]):!o.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),u=b.useCallback(function(g,v,x,y){var w={name:g,delta:v,target:x,should:y,shadowParent:NAe(x)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(S){return S!==w})},1)},[]),d=b.useCallback(function(g){r.current=Hy(g),n.current=void 0},[]),f=b.useCallback(function(g){u(g.type,i5(g),g.target,s(g,t.lockRef.current))},[]),h=b.useCallback(function(g){u(g.type,Hy(g),g.target,s(g,t.lockRef.current))},[]);b.useEffect(function(){return Md.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Dd),document.addEventListener("touchmove",l,Dd),document.addEventListener("touchstart",d,Dd),function(){Md=Md.filter(function(g){return g!==a}),document.removeEventListener("wheel",l,Dd),document.removeEventListener("touchmove",l,Dd),document.removeEventListener("touchstart",d,Dd)}},[]);var p=t.removeScrollBar,m=t.inert;return b.createElement(b.Fragment,null,m?b.createElement(a,{styles:AAe(i)}):null,p?b.createElement(gAe,{gapMode:t.gapMode}):null)}function NAe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const IAe=nAe(kK,TAe);var T0=b.forwardRef(function(t,e){return b.createElement(U2,Bo({},t,{ref:e,sideCar:IAe}))});T0.classNames=U2.classNames;var YT=["Enter"," "],PAe=["ArrowDown","PageUp","Home"],$K=["ArrowUp","PageDown","End"],OAe=[...PAe,...$K],jAe={ltr:[...YT,"ArrowRight"],rtl:[...YT,"ArrowLeft"]},kAe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},N0="Menu",[Xg,RAe,DAe]=qb(N0),[_d,FK]=Va(N0,[DAe,Dc,$2]),V2=Dc(),BK=$2(),[MAe,Sd]=_d(N0),[LAe,I0]=_d(N0),UK=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:a,modal:o=!0}=t,s=V2(e),[l,u]=b.useState(null),d=b.useRef(!1),f=hr(a),h=A0(i);return b.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),c.jsx(xO,{...s,children:c.jsx(MAe,{scope:e,open:r,onOpenChange:f,content:l,onContentChange:u,children:c.jsx(LAe,{scope:e,onClose:b.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};UK.displayName=N0;var $Ae="MenuAnchor",Xj=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=V2(r);return c.jsx(c0,{...i,...n,ref:e})});Xj.displayName=$Ae;var Qj="MenuPortal",[FAe,VK]=_d(Qj,{forceMount:void 0}),zK=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,a=Sd(Qj,e);return c.jsx(FAe,{scope:e,forceMount:r,children:c.jsx(bn,{present:r||a.open,children:c.jsx(Uh,{asChild:!0,container:i,children:n})})})};zK.displayName=Qj;var ka="MenuContent",[BAe,Zj]=_d(ka),WK=b.forwardRef((t,e)=>{const r=VK(ka,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=Sd(ka,t.__scopeMenu),o=I0(ka,t.__scopeMenu);return c.jsx(Xg.Provider,{scope:t.__scopeMenu,children:c.jsx(bn,{present:n||a.open,children:c.jsx(Xg.Slot,{scope:t.__scopeMenu,children:o.modal?c.jsx(UAe,{...i,ref:e}):c.jsx(VAe,{...i,ref:e})})})})}),UAe=b.forwardRef((t,e)=>{const r=Sd(ka,t.__scopeMenu),n=b.useRef(null),i=et(e,n);return b.useEffect(()=>{const a=n.current;if(a)return B2(a)},[]),c.jsx(Jj,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:be(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),VAe=b.forwardRef((t,e)=>{const r=Sd(ka,t.__scopeMenu);return c.jsx(Jj,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Jj=b.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:m,...g}=t,v=Sd(ka,r),x=I0(ka,r),y=V2(r),w=BK(r),S=RAe(r),[E,C]=b.useState(null),A=b.useRef(null),T=et(e,A,v.onContentChange),N=b.useRef(0),I=b.useRef(""),j=b.useRef(0),O=b.useRef(null),P=b.useRef("right"),M=b.useRef(0),F=m?T0:b.Fragment,B=m?{as:qs,allowPinchZoom:!0}:void 0,W=U=>{var pe,J;const X=I.current+U,H=S().filter(re=>!re.disabled),Y=document.activeElement,Q=(pe=H.find(re=>re.ref.current===Y))==null?void 0:pe.textValue,ue=H.map(re=>re.textValue),de=eCe(ue,X,Q),he=(J=H.find(re=>re.textValue===de))==null?void 0:J.ref.current;(function re(L){I.current=L,window.clearTimeout(N.current),L!==""&&(N.current=window.setTimeout(()=>re(""),1e3))})(X),he&&setTimeout(()=>he.focus())};b.useEffect(()=>()=>window.clearTimeout(N.current),[]),F2();const $=b.useCallback(U=>{var H,Y;return P.current===((H=O.current)==null?void 0:H.side)&&rCe(U,(Y=O.current)==null?void 0:Y.area)},[]);return c.jsx(BAe,{scope:r,searchRef:I,onItemEnter:b.useCallback(U=>{$(U)&&U.preventDefault()},[$]),onItemLeave:b.useCallback(U=>{var X;$(U)||((X=A.current)==null||X.focus(),C(null))},[$]),onTriggerLeave:b.useCallback(U=>{$(U)&&U.preventDefault()},[$]),pointerGraceTimerRef:j,onPointerGraceIntentChange:b.useCallback(U=>{O.current=U},[]),children:c.jsx(F,{...B,children:c.jsx(C0,{asChild:!0,trapped:i,onMountAutoFocus:be(a,U=>{var X;U.preventDefault(),(X=A.current)==null||X.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:c.jsx(md,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:c.jsx(tK,{asChild:!0,...w,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:E,onCurrentTabStopIdChange:C,onEntryFocus:be(l,U=>{x.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(r2,{role:"menu","aria-orientation":"vertical","data-state":oY(v.open),"data-radix-menu-content":"",dir:x.dir,...y,...g,ref:T,style:{outline:"none",...g.style},onKeyDown:be(g.onKeyDown,U=>{const H=U.target.closest("[data-radix-menu-content]")===U.currentTarget,Y=U.ctrlKey||U.altKey||U.metaKey,Q=U.key.length===1;H&&(U.key==="Tab"&&U.preventDefault(),!Y&&Q&&W(U.key));const ue=A.current;if(U.target!==ue||!OAe.includes(U.key))return;U.preventDefault();const he=S().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);$K.includes(U.key)&&he.reverse(),ZAe(he)}),onBlur:be(t.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(N.current),I.current="")}),onPointerMove:be(t.onPointerMove,Qg(U=>{const X=U.target,H=M.current!==U.clientX;if(U.currentTarget.contains(X)&&H){const Y=U.clientX>M.current?"right":"left";P.current=Y,M.current=U.clientX}}))})})})})})})});WK.displayName=ka;var zAe="MenuGroup",ek=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return c.jsx(Le.div,{role:"group",...n,ref:e})});ek.displayName=zAe;var WAe="MenuLabel",HK=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return c.jsx(Le.div,{...n,ref:e})});HK.displayName=WAe;var gw="MenuItem",o5="menu.itemSelect",z2=b.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,a=b.useRef(null),o=I0(gw,t.__scopeMenu),s=Zj(gw,t.__scopeMenu),l=et(e,a),u=b.useRef(!1),d=()=>{const f=a.current;if(!r&&f){const h=new CustomEvent(o5,{bubbles:!0,cancelable:!0});f.addEventListener(o5,p=>n==null?void 0:n(p),{once:!0}),QP(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return c.jsx(GK,{...i,ref:l,disabled:r,onClick:be(t.onClick,d),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),u.current=!0},onPointerUp:be(t.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:be(t.onKeyDown,f=>{const h=s.searchRef.current!=="";r||h&&f.key===" "||YT.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});z2.displayName=gw;var GK=b.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=t,o=Zj(gw,r),s=BK(r),l=b.useRef(null),u=et(e,l),[d,f]=b.useState(!1),[h,p]=b.useState("");return b.useEffect(()=>{const m=l.current;m&&p((m.textContent??"").trim())},[a.children]),c.jsx(Xg.ItemSlot,{scope:r,disabled:n,textValue:i??h,children:c.jsx(rK,{asChild:!0,...s,focusable:!n,children:c.jsx(Le.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:be(t.onPointerMove,Qg(m=>{n?o.onItemLeave(m):(o.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:be(t.onPointerLeave,Qg(m=>o.onItemLeave(m))),onFocus:be(t.onFocus,()=>f(!0)),onBlur:be(t.onBlur,()=>f(!1))})})})}),HAe="MenuCheckboxItem",qK=b.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return c.jsx(ZK,{scope:t.__scopeMenu,checked:r,children:c.jsx(z2,{role:"menuitemcheckbox","aria-checked":vw(r)?"mixed":r,...i,ref:e,"data-state":rk(r),onSelect:be(i.onSelect,()=>n==null?void 0:n(vw(r)?!0:!r),{checkForDefaultPrevented:!1})})})});qK.displayName=HAe;var KK="MenuRadioGroup",[GAe,qAe]=_d(KK,{value:void 0,onValueChange:()=>{}}),YK=b.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,a=hr(n);return c.jsx(GAe,{scope:t.__scopeMenu,value:r,onValueChange:a,children:c.jsx(ek,{...i,ref:e})})});YK.displayName=KK;var XK="MenuRadioItem",QK=b.forwardRef((t,e)=>{const{value:r,...n}=t,i=qAe(XK,t.__scopeMenu),a=r===i.value;return c.jsx(ZK,{scope:t.__scopeMenu,checked:a,children:c.jsx(z2,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":rk(a),onSelect:be(n.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,r)},{checkForDefaultPrevented:!1})})})});QK.displayName=XK;var tk="MenuItemIndicator",[ZK,KAe]=_d(tk,{checked:!1}),JK=b.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,a=KAe(tk,r);return c.jsx(bn,{present:n||vw(a.checked)||a.checked===!0,children:c.jsx(Le.span,{...i,ref:e,"data-state":rk(a.checked)})})});JK.displayName=tk;var YAe="MenuSeparator",eY=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return c.jsx(Le.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});eY.displayName=YAe;var XAe="MenuArrow",tY=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=V2(r);return c.jsx(n2,{...i,...n,ref:e})});tY.displayName=XAe;var QAe="MenuSub",[Vlt,rY]=_d(QAe),Cm="MenuSubTrigger",nY=b.forwardRef((t,e)=>{const r=Sd(Cm,t.__scopeMenu),n=I0(Cm,t.__scopeMenu),i=rY(Cm,t.__scopeMenu),a=Zj(Cm,t.__scopeMenu),o=b.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:l}=a,u={__scopeMenu:t.__scopeMenu},d=b.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return b.useEffect(()=>d,[d]),b.useEffect(()=>{const f=s.current;return()=>{window.clearTimeout(f),l(null)}},[s,l]),c.jsx(Xj,{asChild:!0,...u,children:c.jsx(GK,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":oY(r.open),...t,ref:Gb(e,i.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:be(t.onPointerMove,Qg(f=>{a.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:be(t.onPointerLeave,Qg(f=>{var p,m;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const g=(m=r.content)==null?void 0:m.dataset.side,v=g==="right",x=v?-5:5,y=h[v?"left":"right"],w=h[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:y,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:y,y:h.bottom}],side:g}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:be(t.onKeyDown,f=>{var p;const h=a.searchRef.current!=="";t.disabled||h&&f.key===" "||jAe[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});nY.displayName=Cm;var iY="MenuSubContent",aY=b.forwardRef((t,e)=>{const r=VK(ka,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=Sd(ka,t.__scopeMenu),o=I0(ka,t.__scopeMenu),s=rY(iY,t.__scopeMenu),l=b.useRef(null),u=et(e,l);return c.jsx(Xg.Provider,{scope:t.__scopeMenu,children:c.jsx(bn,{present:n||a.open,children:c.jsx(Xg.Slot,{scope:t.__scopeMenu,children:c.jsx(Jj,{id:s.contentId,"aria-labelledby":s.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:be(t.onFocusOutside,d=>{d.target!==s.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:be(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:be(t.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=kAe[o.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(p=s.trigger)==null||p.focus(),d.preventDefault())})})})})})});aY.displayName=iY;function oY(t){return t?"open":"closed"}function vw(t){return t==="indeterminate"}function rk(t){return vw(t)?"indeterminate":t?"checked":"unchecked"}function ZAe(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function JAe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function eCe(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=JAe(t,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function tCe(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const s=e[a].x,l=e[a].y,u=e[o].x,d=e[o].y;l>n!=d>n&&r<(u-s)*(n-l)/(d-l)+s&&(i=!i)}return i}function rCe(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return tCe(r,e)}function Qg(t){return e=>e.pointerType==="mouse"?t(e):void 0}var nCe=UK,iCe=Xj,aCe=zK,oCe=WK,sCe=ek,lCe=HK,cCe=z2,uCe=qK,dCe=YK,fCe=QK,hCe=JK,pCe=eY,mCe=tY,gCe=nY,vCe=aY,nk="DropdownMenu",[yCe,zlt]=Va(nk,[FK]),Ti=FK(),[xCe,sY]=yCe(nk),lY=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:o,modal:s=!0}=t,l=Ti(e),u=b.useRef(null),[d=!1,f]=ts({prop:i,defaultProp:a,onChange:o});return c.jsx(xCe,{scope:e,triggerId:yo(),triggerRef:u,contentId:yo(),open:d,onOpenChange:f,onOpenToggle:b.useCallback(()=>f(h=>!h),[f]),modal:s,children:c.jsx(nCe,{...l,open:d,onOpenChange:f,dir:n,modal:s,children:r})})};lY.displayName=nk;var cY="DropdownMenuTrigger",uY=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,a=sY(cY,r),o=Ti(r);return c.jsx(iCe,{asChild:!0,...o,children:c.jsx(Le.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:Gb(e,a.triggerRef),onPointerDown:be(t.onPointerDown,s=>{!n&&s.button===0&&s.ctrlKey===!1&&(a.onOpenToggle(),a.open||s.preventDefault())}),onKeyDown:be(t.onKeyDown,s=>{n||(["Enter"," "].includes(s.key)&&a.onOpenToggle(),s.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});uY.displayName=cY;var wCe="DropdownMenuPortal",dY=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Ti(e);return c.jsx(aCe,{...n,...r})};dY.displayName=wCe;var fY="DropdownMenuContent",hY=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=sY(fY,r),a=Ti(r),o=b.useRef(!1);return c.jsx(oCe,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:e,onCloseAutoFocus:be(t.onCloseAutoFocus,s=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,s.preventDefault()}),onInteractOutside:be(t.onInteractOutside,s=>{const l=s.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});hY.displayName=fY;var bCe="DropdownMenuGroup",_Ce=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ti(r);return c.jsx(sCe,{...i,...n,ref:e})});_Ce.displayName=bCe;var SCe="DropdownMenuLabel",pY=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ti(r);return c.jsx(lCe,{...i,...n,ref:e})});pY.displayName=SCe;var ECe="DropdownMenuItem",mY=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ti(r);return c.jsx(cCe,{...i,...n,ref:e})});mY.displayName=ECe;var ACe="DropdownMenuCheckboxItem",gY=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ti(r);return c.jsx(uCe,{...i,...n,ref:e})});gY.displayName=ACe;var CCe="DropdownMenuRadioGroup",TCe=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ti(r);return c.jsx(dCe,{...i,...n,ref:e})});TCe.displayName=CCe;var NCe="DropdownMenuRadioItem",vY=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ti(r);return c.jsx(fCe,{...i,...n,ref:e})});vY.displayName=NCe;var ICe="DropdownMenuItemIndicator",yY=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ti(r);return c.jsx(hCe,{...i,...n,ref:e})});yY.displayName=ICe;var PCe="DropdownMenuSeparator",xY=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ti(r);return c.jsx(pCe,{...i,...n,ref:e})});xY.displayName=PCe;var OCe="DropdownMenuArrow",jCe=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ti(r);return c.jsx(mCe,{...i,...n,ref:e})});jCe.displayName=OCe;var kCe="DropdownMenuSubTrigger",wY=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ti(r);return c.jsx(gCe,{...i,...n,ref:e})});wY.displayName=kCe;var RCe="DropdownMenuSubContent",bY=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ti(r);return c.jsx(vCe,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bY.displayName=RCe;var DCe=lY,MCe=uY,LCe=dY,_Y=hY,SY=pY,EY=mY,AY=gY,CY=vY,TY=yY,NY=xY,IY=wY,PY=bY;const Zg=DCe,Jg=MCe,$Ce=b.forwardRef(({className:t,inset:e,children:r,...n},i)=>c.jsxs(IY,{ref:i,className:je("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...n,children:[r,c.jsx(s0,{className:"ml-auto h-4 w-4"})]}));$Ce.displayName=IY.displayName;const FCe=b.forwardRef(({className:t,...e},r)=>c.jsx(PY,{ref:r,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));FCe.displayName=PY.displayName;const ih=b.forwardRef(({className:t,sideOffset:e=4,...r},n)=>c.jsx(LCe,{children:c.jsx(_Y,{ref:n,sideOffset:e,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));ih.displayName=_Y.displayName;const gi=b.forwardRef(({className:t,inset:e,...r},n)=>c.jsx(EY,{ref:n,className:je("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...r}));gi.displayName=EY.displayName;const BCe=b.forwardRef(({className:t,children:e,checked:r,...n},i)=>c.jsxs(AY,{ref:i,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(TY,{children:c.jsx(fo,{className:"h-4 w-4"})})}),e]}));BCe.displayName=AY.displayName;const UCe=b.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(CY,{ref:n,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(TY,{children:c.jsx(Goe,{className:"h-2 w-2 fill-current"})})}),e]}));UCe.displayName=CY.displayName;const VCe=b.forwardRef(({className:t,inset:e,...r},n)=>c.jsx(SY,{ref:n,className:je("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));VCe.displayName=SY.displayName;const ev=b.forwardRef(({className:t,...e},r)=>c.jsx(NY,{ref:r,className:je("-mx-1 my-1 h-px bg-muted",t),...e}));ev.displayName=NY.displayName;const OY=b.createContext(void 0);function zCe({children:t}){const[e,r]=b.useState(!0),[n,i]=b.useState(!1);b.useEffect(()=>{const s=()=>{i(window.innerWidth<768),window.innerWidth<768?r(!1):r(!0)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const a=()=>r(!e),o=()=>r(!1);return c.jsx(OY.Provider,{value:{isOpen:e,toggleSidebar:a,closeSidebar:o},children:t})}function jY(){const t=b.useContext(OY);if(t===void 0)throw new Error("useSidebar must be used within a SidebarProvider");return t}const WCe=[{path:"/home",icon:c.jsx(Wf,{className:"h-5 w-5"}),label:"Home"},{path:"/map",icon:c.jsx(sa,{className:"h-5 w-5"}),label:"Map"},{path:"/trips",icon:c.jsx(ti,{className:"h-5 w-5"}),label:"Trips"},{path:"/pantry",icon:c.jsx(Hn,{className:"h-5 w-5"}),label:"Pantry"},{path:"/recurring-items",icon:c.jsx(Qb,{className:"h-5 w-5"}),label:"Recurring Items"},{path:"/ledger",icon:c.jsx(fse,{className:"h-5 w-5"}),label:"Ledger"},{path:"/dashboard",icon:c.jsx(lr,{className:"h-5 w-5"}),label:"Dashboard"},{path:"/profile",icon:c.jsx(Pg,{className:"h-5 w-5"}),label:"Profile"}];function HCe(){const{toggleSidebar:t}=jY();return c.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 h-14 bg-white border-b border-slate-200 z-40 flex items-center px-4",children:[c.jsx(K,{variant:"ghost",size:"icon",onClick:t,children:c.jsx(sse,{className:"h-5 w-5"})}),c.jsxs("div",{className:"flex items-center gap-2 mx-auto",children:[c.jsx(tc,{className:"h-5 w-5 text-teal-600"}),c.jsx("span",{className:"text-lg font-bold text-teal-600",children:"TaskaLoop"})]})]})}function kY(){var d,f,h,p;const t=ds(),e=Ki(),{isOpen:r,closeSidebar:n}=jY(),{user:i,isAdmin:a}=qr(),[o,s]=b.useState(""),l=t.pathname,u=m=>{e(m),window.innerWidth<768&&n()};return c.jsxs(c.Fragment,{children:[r&&c.jsx("div",{className:"md:hidden fixed inset-0 bg-black/30 z-40",onClick:n}),c.jsxs("aside",{className:je("fixed inset-y-0 left-0 w-64 bg-white border-r border-slate-200 z-50 transition-transform duration-300 ease-in-out",r?"translate-x-0":"-translate-x-full md:translate-x-0"),children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(tc,{className:"h-6 w-6 text-teal-600"}),c.jsx("span",{className:"text-xl font-bold text-teal-600",children:"TaskaLoop"})]}),c.jsx(K,{variant:"ghost",size:"icon",className:"md:hidden",onClick:n,children:c.jsx(Mi,{className:"h-5 w-5"})})]}),c.jsxs("nav",{className:"px-2 py-4",children:[c.jsx("div",{className:"px-3 py-2",children:c.jsx("h3",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Main"})}),c.jsx("div",{className:"space-y-1",children:WCe.map(m=>c.jsxs(j1,{to:m.path,className:`flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-md ${l.startsWith(m.path)?"bg-slate-100 text-teal-700":"text-slate-700 hover:bg-slate-100"}`,onClick:()=>u(m.path),children:[m.icon,m.label]},m.path))})]}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-slate-200",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{onClick:()=>u("/profile"),className:"cursor-pointer",children:c.jsxs(zr,{children:[c.jsx(Xu,{src:i==null?void 0:i.avatar}),c.jsx(Wr,{className:"bg-teal-100 text-teal-700",children:((f=(d=i==null?void 0:i.name)==null?void 0:d.charAt(0))==null?void 0:f.toUpperCase())||((p=(h=i==null?void 0:i.email)==null?void 0:h.charAt(0))==null?void 0:p.toUpperCase())||"U"})]})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{onClick:()=>u("/profile"),className:"text-sm font-medium text-slate-700 truncate cursor-pointer hover:underline",children:(i==null?void 0:i.name)||"User"}),c.jsx("p",{className:"text-xs text-slate-500 truncate",children:(i==null?void 0:i.email)||"No email"})]}),c.jsx(K,{variant:"ghost",size:"icon",className:"text-slate-500 hover:text-slate-700",onClick:()=>u("/settings"),children:c.jsx(oO,{className:"h-5 w-5"})})]})})]})]})}function ha({children:t}){return c.jsx(zCe,{children:c.jsxs("div",{className:"flex min-h-screen bg-slate-50",children:[c.jsx(kY,{}),c.jsx(HCe,{}),c.jsx("main",{className:"flex-1 md:pl-64 pb-16 md:pb-0 pt-14 md:pt-0",children:t})]})})}var ik="Dialog",[RY,Wlt]=Va(ik),[GCe,To]=RY(ik),DY=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,s=b.useRef(null),l=b.useRef(null),[u=!1,d]=ts({prop:n,defaultProp:i,onChange:a});return c.jsx(GCe,{scope:e,triggerRef:s,contentRef:l,contentId:yo(),titleId:yo(),descriptionId:yo(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};DY.displayName=ik;var MY="DialogTrigger",LY=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=To(MY,r),a=et(e,i.triggerRef);return c.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":sk(i.open),...n,ref:a,onClick:be(t.onClick,i.onOpenToggle)})});LY.displayName=MY;var ak="DialogPortal",[qCe,$Y]=RY(ak,{forceMount:void 0}),FY=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=To(ak,e);return c.jsx(qCe,{scope:e,forceMount:r,children:b.Children.map(n,o=>c.jsx(bn,{present:r||a.open,children:c.jsx(Uh,{asChild:!0,container:i,children:o})}))})};FY.displayName=ak;var yw="DialogOverlay",BY=b.forwardRef((t,e)=>{const r=$Y(yw,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=To(yw,t.__scopeDialog);return a.modal?c.jsx(bn,{present:n||a.open,children:c.jsx(KCe,{...i,ref:e})}):null});BY.displayName=yw;var KCe=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=To(yw,r);return c.jsx(T0,{as:qs,allowPinchZoom:!0,shards:[i.contentRef],children:c.jsx(Le.div,{"data-state":sk(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Qu="DialogContent",UY=b.forwardRef((t,e)=>{const r=$Y(Qu,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=To(Qu,t.__scopeDialog);return c.jsx(bn,{present:n||a.open,children:a.modal?c.jsx(YCe,{...i,ref:e}):c.jsx(XCe,{...i,ref:e})})});UY.displayName=Qu;var YCe=b.forwardRef((t,e)=>{const r=To(Qu,t.__scopeDialog),n=b.useRef(null),i=et(e,r.contentRef,n);return b.useEffect(()=>{const a=n.current;if(a)return B2(a)},[]),c.jsx(VY,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:be(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&a.preventDefault()}),onFocusOutside:be(t.onFocusOutside,a=>a.preventDefault())})}),XCe=b.forwardRef((t,e)=>{const r=To(Qu,t.__scopeDialog),n=b.useRef(!1),i=b.useRef(!1);return c.jsx(VY,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),VY=b.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,s=To(Qu,r),l=b.useRef(null),u=et(e,l);return F2(),c.jsxs(c.Fragment,{children:[c.jsx(C0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:c.jsx(md,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":sk(s.open),...o,ref:u,onDismiss:()=>s.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(QCe,{titleId:s.titleId}),c.jsx(JCe,{contentRef:l,descriptionId:s.descriptionId})]})]})}),ok="DialogTitle",zY=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=To(ok,r);return c.jsx(Le.h2,{id:i.titleId,...n,ref:e})});zY.displayName=ok;var WY="DialogDescription",HY=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=To(WY,r);return c.jsx(Le.p,{id:i.descriptionId,...n,ref:e})});HY.displayName=WY;var GY="DialogClose",qY=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=To(GY,r);return c.jsx(Le.button,{type:"button",...n,ref:e,onClick:be(t.onClick,()=>i.onOpenChange(!1))})});qY.displayName=GY;function sk(t){return t?"open":"closed"}var KY="DialogTitleWarning",[Hlt,YY]=toe(KY,{contentName:Qu,titleName:ok,docsSlug:"dialog"}),QCe=({titleId:t})=>{const e=YY(KY),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},ZCe="DialogDescriptionWarning",JCe=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${YY(ZCe).contentName}}.`;return b.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},XY=DY,eTe=LY,QY=FY,W2=BY,H2=UY,G2=zY,q2=HY,ZY=qY;const _r=XY,XT=eTe,tTe=QY,JY=b.forwardRef(({className:t,...e},r)=>c.jsx(W2,{ref:r,className:je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));JY.displayName=W2.displayName;const pr=b.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(tTe,{children:[c.jsx(JY,{}),c.jsxs(H2,{ref:n,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,c.jsxs(ZY,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(Mi,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));pr.displayName=H2.displayName;const mr=({className:t,...e})=>c.jsx("div",{className:je("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});mr.displayName="DialogHeader";const _i=({className:t,...e})=>c.jsx("div",{className:je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});_i.displayName="DialogFooter";const gr=b.forwardRef(({className:t,...e},r)=>c.jsx(G2,{ref:r,className:je("text-lg font-semibold leading-none tracking-tight",t),...e}));gr.displayName=G2.displayName;const Si=b.forwardRef(({className:t,...e},r)=>c.jsx(q2,{ref:r,className:je("text-sm text-muted-foreground",t),...e}));Si.displayName=q2.displayName;const Ue=b.forwardRef(({className:t,type:e,...r},n)=>c.jsx("input",{type:e,className:je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Ue.displayName="Input";var rTe="Label",eX=b.forwardRef((t,e)=>c.jsx(Le.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));eX.displayName=rTe;var tX=eX;const nTe=Vh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ce=b.forwardRef(({className:t,...e},r)=>c.jsx(tX,{ref:r,className:je(nTe(),t),...e}));ce.displayName=tX.displayName;function K2({className:t,selected:e,onSelect:r,showOutsideDays:n=!0,...i}){const[a,o]=b.useState(e||new Date),s=()=>{o(x=>{const y=new Date(x);return y.setMonth(y.getMonth()-1),y})},l=()=>{o(x=>{const y=new Date(x);return y.setMonth(y.getMonth()+1),y})},u=(x,y)=>new Date(x,y+1,0).getDate(),d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],f=a.toLocaleString("default",{month:"long"}),h=a.getFullYear(),p=a.getMonth(),m=u(h,p),g=new Date(h,p,1).getDay(),v=[];for(let x=0;x<g;x++)v.push(null);for(let x=1;x<=m;x++)v.push(new Date(h,p,x));return c.jsxs("div",{className:je("p-3",t),children:[c.jsxs("div",{className:"flex justify-center pt-1 relative items-center",children:[c.jsx("button",{onClick:s,className:je(z1({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 absolute left-1"),children:c.jsx(Xb,{className:"h-4 w-4"})}),c.jsxs("div",{className:"text-sm font-medium",children:[f," ",h]}),c.jsx("button",{onClick:l,className:je(z1({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 absolute right-1"),children:c.jsx(s0,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("div",{className:"flex w-full",children:d.map(x=>c.jsx("div",{className:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem] text-center",children:x},x))}),c.jsx("div",{className:"flex flex-wrap mt-2",children:v.map((x,y)=>c.jsx("button",{disabled:!x,className:je(z1({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100",x&&e&&x.toDateString()===e.toDateString()?"bg-primary text-primary-foreground":"",x&&x.toDateString()===new Date().toDateString()?"bg-accent text-accent-foreground":"",x?"":"invisible"),onClick:()=>x&&r&&r(x),children:x?x.getDate():""},y))})]})]})}K2.displayName="Calendar";var lk="Popover",[rX,Glt]=Va(lk,[Dc]),P0=Dc(),[iTe,Bc]=rX(lk),nX=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!1}=t,s=P0(e),l=b.useRef(null),[u,d]=b.useState(!1),[f=!1,h]=ts({prop:n,defaultProp:i,onChange:a});return c.jsx(xO,{...s,children:c.jsx(iTe,{scope:e,contentId:yo(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:b.useCallback(()=>d(!0),[]),onCustomAnchorRemove:b.useCallback(()=>d(!1),[]),modal:o,children:r})})};nX.displayName=lk;var iX="PopoverAnchor",aTe=b.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Bc(iX,r),a=P0(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:s}=i;return b.useEffect(()=>(o(),()=>s()),[o,s]),c.jsx(c0,{...a,...n,ref:e})});aTe.displayName=iX;var aX="PopoverTrigger",oX=b.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Bc(aX,r),a=P0(r),o=et(e,i.triggerRef),s=c.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":dX(i.open),...n,ref:o,onClick:be(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:c.jsx(c0,{asChild:!0,...a,children:s})});oX.displayName=aX;var ck="PopoverPortal",[oTe,sTe]=rX(ck,{forceMount:void 0}),sX=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,a=Bc(ck,e);return c.jsx(oTe,{scope:e,forceMount:r,children:c.jsx(bn,{present:r||a.open,children:c.jsx(Uh,{asChild:!0,container:i,children:n})})})};sX.displayName=ck;var ah="PopoverContent",lX=b.forwardRef((t,e)=>{const r=sTe(ah,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,a=Bc(ah,t.__scopePopover);return c.jsx(bn,{present:n||a.open,children:a.modal?c.jsx(lTe,{...i,ref:e}):c.jsx(cTe,{...i,ref:e})})});lX.displayName=ah;var lTe=b.forwardRef((t,e)=>{const r=Bc(ah,t.__scopePopover),n=b.useRef(null),i=et(e,n),a=b.useRef(!1);return b.useEffect(()=>{const o=n.current;if(o)return B2(o)},[]),c.jsx(T0,{as:qs,allowPinchZoom:!0,children:c.jsx(cX,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),a.current||(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:be(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0,u=s.button===2||l;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:be(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),cTe=b.forwardRef((t,e)=>{const r=Bc(ah,t.__scopePopover),n=b.useRef(!1),i=b.useRef(!1);return c.jsx(cX,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),cX=b.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d,...f}=t,h=Bc(ah,r),p=P0(r);return F2(),c.jsx(C0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:c.jsx(md,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:c.jsx(r2,{"data-state":dX(h.open),role:"dialog",id:h.contentId,...p,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),uX="PopoverClose",uTe=b.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Bc(uX,r);return c.jsx(Le.button,{type:"button",...n,ref:e,onClick:be(t.onClick,()=>i.onOpenChange(!1))})});uTe.displayName=uX;var dTe="PopoverArrow",fTe=b.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=P0(r);return c.jsx(n2,{...i,...n,ref:e})});fTe.displayName=dTe;function dX(t){return t?"open":"closed"}var hTe=nX,pTe=oX,mTe=sX,fX=lX;const tv=hTe,rv=pTe,oh=b.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>c.jsx(mTe,{children:c.jsx(fX,{ref:i,align:e,sideOffset:r,className:je("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));oh.displayName=fX.displayName;function QT(t,[e,r]){return Math.min(r,Math.max(e,t))}function uk(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var gTe=[" ","Enter","ArrowUp","ArrowDown"],vTe=[" ","Enter"],O0="Select",[Y2,X2,yTe]=qb(O0),[ep,qlt]=Va(O0,[yTe,Dc]),Q2=Dc(),[xTe,Uc]=ep(O0),[wTe,bTe]=ep(O0),hX=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:m}=t,g=Q2(e),[v,x]=b.useState(null),[y,w]=b.useState(null),[S,E]=b.useState(!1),C=A0(u),[A=!1,T]=ts({prop:n,defaultProp:i,onChange:a}),[N,I]=ts({prop:o,defaultProp:s,onChange:l}),j=b.useRef(null),O=v?m||!!v.closest("form"):!0,[P,M]=b.useState(new Set),F=Array.from(P).map(B=>B.props.value).join(";");return c.jsx(xO,{...g,children:c.jsxs(xTe,{required:p,scope:e,trigger:v,onTriggerChange:x,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:E,contentId:yo(),value:N,onValueChange:I,open:A,onOpenChange:T,dir:C,triggerPointerDownPosRef:j,disabled:h,children:[c.jsx(Y2.Provider,{scope:e,children:c.jsx(wTe,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(B=>{M(W=>new Set(W).add(B))},[]),onNativeOptionRemove:b.useCallback(B=>{M(W=>{const $=new Set(W);return $.delete(B),$})},[]),children:r})}),O?c.jsxs($X,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:B=>I(B.target.value),disabled:h,form:m,children:[N===void 0?c.jsx("option",{value:""}):null,Array.from(P)]},F):null]})})};hX.displayName=O0;var pX="SelectTrigger",mX=b.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=Q2(r),o=Uc(pX,r),s=o.disabled||n,l=et(e,o.onTriggerChange),u=X2(r),d=b.useRef("touch"),[f,h,p]=FX(g=>{const v=u().filter(w=>!w.disabled),x=v.find(w=>w.value===o.value),y=BX(v,g,x);y!==void 0&&o.onValueChange(y.value)}),m=g=>{s||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return c.jsx(c0,{asChild:!0,...a,children:c.jsx(Le.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":LX(o.value)?"":void 0,...i,ref:l,onClick:be(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&m(g)}),onPointerDown:be(i.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(m(g),g.preventDefault())}),onKeyDown:be(i.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(v&&g.key===" ")&&gTe.includes(g.key)&&(m(),g.preventDefault())})})})});mX.displayName=pX;var gX="SelectValue",vX=b.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...s}=t,l=Uc(gX,r),{onValueNodeHasChildrenChange:u}=l,d=a!==void 0,f=et(e,l.onValueNodeChange);return ln(()=>{u(d)},[u,d]),c.jsx(Le.span,{...s,ref:f,style:{pointerEvents:"none"},children:LX(l.value)?c.jsx(c.Fragment,{children:o}):a})});vX.displayName=gX;var _Te="SelectIcon",yX=b.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return c.jsx(Le.span,{"aria-hidden":!0,...i,ref:e,children:n||"▼"})});yX.displayName=_Te;var STe="SelectPortal",xX=t=>c.jsx(Uh,{asChild:!0,...t});xX.displayName=STe;var Zu="SelectContent",wX=b.forwardRef((t,e)=>{const r=Uc(Zu,t.__scopeSelect),[n,i]=b.useState();if(ln(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?pd.createPortal(c.jsx(bX,{scope:t.__scopeSelect,children:c.jsx(Y2.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),a):null}return c.jsx(_X,{...t,ref:e})});wX.displayName=Zu;var to=10,[bX,Vc]=ep(Zu),ETe="SelectContentImpl",_X=b.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:v,...x}=t,y=Uc(Zu,r),[w,S]=b.useState(null),[E,C]=b.useState(null),A=et(e,pe=>S(pe)),[T,N]=b.useState(null),[I,j]=b.useState(null),O=X2(r),[P,M]=b.useState(!1),F=b.useRef(!1);b.useEffect(()=>{if(w)return B2(w)},[w]),F2();const B=b.useCallback(pe=>{const[J,...re]=O().map(G=>G.ref.current),[L]=re.slice(-1),q=document.activeElement;for(const G of pe)if(G===q||(G==null||G.scrollIntoView({block:"nearest"}),G===J&&E&&(E.scrollTop=0),G===L&&E&&(E.scrollTop=E.scrollHeight),G==null||G.focus(),document.activeElement!==q))return},[O,E]),W=b.useCallback(()=>B([T,w]),[B,T,w]);b.useEffect(()=>{P&&W()},[P,W]);const{onOpenChange:$,triggerPointerDownPosRef:U}=y;b.useEffect(()=>{if(w){let pe={x:0,y:0};const J=L=>{var q,G;pe={x:Math.abs(Math.round(L.pageX)-(((q=U.current)==null?void 0:q.x)??0)),y:Math.abs(Math.round(L.pageY)-(((G=U.current)==null?void 0:G.y)??0))}},re=L=>{pe.x<=10&&pe.y<=10?L.preventDefault():w.contains(L.target)||$(!1),document.removeEventListener("pointermove",J),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",J),document.addEventListener("pointerup",re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",re,{capture:!0})}}},[w,$,U]),b.useEffect(()=>{const pe=()=>$(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[$]);const[X,H]=FX(pe=>{const J=O().filter(q=>!q.disabled),re=J.find(q=>q.ref.current===document.activeElement),L=BX(J,pe,re);L&&setTimeout(()=>L.ref.current.focus())}),Y=b.useCallback((pe,J,re)=>{const L=!F.current&&!re;(y.value!==void 0&&y.value===J||L)&&(N(pe),L&&(F.current=!0))},[y.value]),Q=b.useCallback(()=>w==null?void 0:w.focus(),[w]),ue=b.useCallback((pe,J,re)=>{const L=!F.current&&!re;(y.value!==void 0&&y.value===J||L)&&j(pe)},[y.value]),de=n==="popper"?ZT:SX,he=de===ZT?{side:s,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:v}:{};return c.jsx(bX,{scope:r,content:w,viewport:E,onViewportChange:C,itemRefCallback:Y,selectedItem:T,onItemLeave:Q,itemTextRefCallback:ue,focusSelectedItem:W,selectedItemText:I,position:n,isPositioned:P,searchRef:X,children:c.jsx(T0,{as:qs,allowPinchZoom:!0,children:c.jsx(C0,{asChild:!0,trapped:y.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:be(i,pe=>{var J;(J=y.trigger)==null||J.focus({preventScroll:!0}),pe.preventDefault()}),children:c.jsx(md,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:c.jsx(de,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:pe=>pe.preventDefault(),...x,...he,onPlaced:()=>M(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:be(x.onKeyDown,pe=>{const J=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!J&&pe.key.length===1&&H(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let L=O().filter(q=>!q.disabled).map(q=>q.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(L=L.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const q=pe.target,G=L.indexOf(q);L=L.slice(G+1)}setTimeout(()=>B(L)),pe.preventDefault()}})})})})})})});_X.displayName=ETe;var ATe="SelectItemAlignedPosition",SX=b.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=Uc(Zu,r),o=Vc(Zu,r),[s,l]=b.useState(null),[u,d]=b.useState(null),f=et(e,A=>d(A)),h=X2(r),p=b.useRef(!1),m=b.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:x,focusSelectedItem:y}=o,w=b.useCallback(()=>{if(a.trigger&&a.valueNode&&s&&u&&g&&v&&x){const A=a.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),N=a.valueNode.getBoundingClientRect(),I=x.getBoundingClientRect();if(a.dir!=="rtl"){const q=I.left-T.left,G=N.left-q,ye=A.left-G,me=A.width+ye,ie=Math.max(me,T.width),ne=window.innerWidth-to,Oe=QT(G,[to,Math.max(to,ne-ie)]);s.style.minWidth=me+"px",s.style.left=Oe+"px"}else{const q=T.right-I.right,G=window.innerWidth-N.right-q,ye=window.innerWidth-A.right-G,me=A.width+ye,ie=Math.max(me,T.width),ne=window.innerWidth-to,Oe=QT(G,[to,Math.max(to,ne-ie)]);s.style.minWidth=me+"px",s.style.right=Oe+"px"}const j=h(),O=window.innerHeight-to*2,P=g.scrollHeight,M=window.getComputedStyle(u),F=parseInt(M.borderTopWidth,10),B=parseInt(M.paddingTop,10),W=parseInt(M.borderBottomWidth,10),$=parseInt(M.paddingBottom,10),U=F+B+P+$+W,X=Math.min(v.offsetHeight*5,U),H=window.getComputedStyle(g),Y=parseInt(H.paddingTop,10),Q=parseInt(H.paddingBottom,10),ue=A.top+A.height/2-to,de=O-ue,he=v.offsetHeight/2,pe=v.offsetTop+he,J=F+B+pe,re=U-J;if(J<=ue){const q=j.length>0&&v===j[j.length-1].ref.current;s.style.bottom="0px";const G=u.clientHeight-g.offsetTop-g.offsetHeight,ye=Math.max(de,he+(q?Q:0)+G+W),me=J+ye;s.style.height=me+"px"}else{const q=j.length>0&&v===j[0].ref.current;s.style.top="0px";const ye=Math.max(ue,F+g.offsetTop+(q?Y:0)+he)+re;s.style.height=ye+"px",g.scrollTop=J-ue+g.offsetTop}s.style.margin=`${to}px 0`,s.style.minHeight=X+"px",s.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,s,u,g,v,x,a.dir,n]);ln(()=>w(),[w]);const[S,E]=b.useState();ln(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const C=b.useCallback(A=>{A&&m.current===!0&&(w(),y==null||y(),m.current=!1)},[w,y]);return c.jsx(TTe,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:c.jsx(Le.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});SX.displayName=ATe;var CTe="SelectPopperPosition",ZT=b.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=to,...a}=t,o=Q2(r);return c.jsx(r2,{...o,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ZT.displayName=CTe;var[TTe,dk]=ep(Zu,{}),JT="SelectViewport",EX=b.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=Vc(JT,r),o=dk(JT,r),s=et(e,a.onViewportChange),l=b.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),c.jsx(Y2.Slot,{scope:r,children:c.jsx(Le.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:be(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const m=window.innerHeight-to*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(g,v);if(x<m){const y=x+p,w=Math.min(m,y),S=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});EX.displayName=JT;var AX="SelectGroup",[NTe,ITe]=ep(AX),PTe=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=yo();return c.jsx(NTe,{scope:r,id:i,children:c.jsx(Le.div,{role:"group","aria-labelledby":i,...n,ref:e})})});PTe.displayName=AX;var CX="SelectLabel",TX=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=ITe(CX,r);return c.jsx(Le.div,{id:i.id,...n,ref:e})});TX.displayName=CX;var xw="SelectItem",[OTe,NX]=ep(xw),IX=b.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=t,s=Uc(xw,r),l=Vc(xw,r),u=s.value===n,[d,f]=b.useState(a??""),[h,p]=b.useState(!1),m=et(e,y=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,y,n,i)}),g=yo(),v=b.useRef("touch"),x=()=>{i||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(OTe,{scope:r,value:n,disabled:i,textId:g,isSelected:u,onItemTextChange:b.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:c.jsx(Y2.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:c.jsx(Le.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:m,onFocus:be(o.onFocus,()=>p(!0)),onBlur:be(o.onBlur,()=>p(!1)),onClick:be(o.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:be(o.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:be(o.onPointerDown,y=>{v.current=y.pointerType}),onPointerMove:be(o.onPointerMove,y=>{var w;v.current=y.pointerType,i?(w=l.onItemLeave)==null||w.call(l):v.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:be(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:be(o.onKeyDown,y=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&y.key===" "||(vTe.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});IX.displayName=xw;var Tm="SelectItemText",PX=b.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,o=Uc(Tm,r),s=Vc(Tm,r),l=NX(Tm,r),u=bTe(Tm,r),[d,f]=b.useState(null),h=et(e,x=>f(x),l.onItemTextChange,x=>{var y;return(y=s.itemTextRefCallback)==null?void 0:y.call(s,x,l.value,l.disabled)}),p=d==null?void 0:d.textContent,m=b.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return ln(()=>(g(m),()=>v(m)),[g,v,m]),c.jsxs(c.Fragment,{children:[c.jsx(Le.span,{id:l.textId,...a,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?pd.createPortal(a.children,o.valueNode):null]})});PX.displayName=Tm;var OX="SelectItemIndicator",jX=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return NX(OX,r).isSelected?c.jsx(Le.span,{"aria-hidden":!0,...n,ref:e}):null});jX.displayName=OX;var eN="SelectScrollUpButton",kX=b.forwardRef((t,e)=>{const r=Vc(eN,t.__scopeSelect),n=dk(eN,t.__scopeSelect),[i,a]=b.useState(!1),o=et(e,n.onScrollButtonChange);return ln(()=>{if(r.viewport&&r.isPositioned){let s=function(){const u=l.scrollTop>0;a(u)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?c.jsx(DX,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});kX.displayName=eN;var tN="SelectScrollDownButton",RX=b.forwardRef((t,e)=>{const r=Vc(tN,t.__scopeSelect),n=dk(tN,t.__scopeSelect),[i,a]=b.useState(!1),o=et(e,n.onScrollButtonChange);return ln(()=>{if(r.viewport&&r.isPositioned){let s=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;a(d)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?c.jsx(DX,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});RX.displayName=tN;var DX=b.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=Vc("SelectScrollButton",r),o=b.useRef(null),s=X2(r),l=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>l(),[l]),ln(()=>{var d;const u=s().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[s]),c.jsx(Le.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:be(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:be(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:be(i.onPointerLeave,()=>{l()})})}),jTe="SelectSeparator",MX=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return c.jsx(Le.div,{"aria-hidden":!0,...n,ref:e})});MX.displayName=jTe;var rN="SelectArrow",kTe=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Q2(r),a=Uc(rN,r),o=Vc(rN,r);return a.open&&o.position==="popper"?c.jsx(n2,{...i,...n,ref:e}):null});kTe.displayName=rN;function LX(t){return t===""||t===void 0}var $X=b.forwardRef((t,e)=>{const{value:r,...n}=t,i=b.useRef(null),a=et(e,i),o=uk(r);return b.useEffect(()=>{const s=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(s,r),s.dispatchEvent(f)}},[o,r]),c.jsx(o0,{asChild:!0,children:c.jsx("select",{...n,ref:a,defaultValue:r})})});$X.displayName="BubbleSelect";function FX(t){const e=hr(t),r=b.useRef(""),n=b.useRef(0),i=b.useCallback(o=>{const s=r.current+o;e(s),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(s)},[e]),a=b.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function BX(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=RTe(t,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function RTe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var DTe=hX,UX=mX,MTe=vX,LTe=yX,$Te=xX,VX=wX,FTe=EX,zX=TX,WX=IX,BTe=PX,UTe=jX,HX=kX,GX=RX,qX=MX;const $t=DTe,Ft=MTe,Ot=b.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(UX,{ref:n,className:je("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,c.jsx(LTe,{asChild:!0,children:c.jsx(Nx,{className:"h-4 w-4 opacity-50"})})]}));Ot.displayName=UX.displayName;const KX=b.forwardRef(({className:t,...e},r)=>c.jsx(HX,{ref:r,className:je("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(Hoe,{className:"h-4 w-4"})}));KX.displayName=HX.displayName;const YX=b.forwardRef(({className:t,...e},r)=>c.jsx(GX,{ref:r,className:je("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(Nx,{className:"h-4 w-4"})}));YX.displayName=GX.displayName;const jt=b.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>c.jsx($Te,{children:c.jsxs(VX,{ref:i,className:je("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[c.jsx(KX,{}),c.jsx(FTe,{className:je("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(YX,{})]})}));jt.displayName=VX.displayName;const VTe=b.forwardRef(({className:t,...e},r)=>c.jsx(zX,{ref:r,className:je("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));VTe.displayName=zX.displayName;const Se=b.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(WX,{ref:n,className:je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(UTe,{children:c.jsx(fo,{className:"h-4 w-4"})})}),c.jsx(BTe,{children:e})]}));Se.displayName=WX.displayName;const zTe=b.forwardRef(({className:t,...e},r)=>c.jsx(qX,{ref:r,className:je("-mx-1 my-1 h-px bg-muted",t),...e}));zTe.displayName=qX.displayName;const nN=[{id:"1",name:"Trader Joe's",address:"3888 Townsfair Way, Columbus, OH 43219",lat:39.9789,lng:-82.8677,category:"grocery",hours:"8AM - 9PM",rating:4.7},{id:"2",name:"Whole Foods Market",address:"1555 W Lane Ave, Columbus, OH 43221",lat:40.0065,lng:-83.0537,category:"grocery",hours:"7AM - 10PM",rating:4.5},{id:"3",name:"Target",address:"1892 N High St, Columbus, OH 43201",lat:39.9964,lng:-83.0091,category:"grocery",hours:"8AM - 11PM",rating:4.3},{id:"4",name:"Walgreens",address:"1162 N High St, Columbus, OH 43201",lat:39.9865,lng:-83.0044,category:"pharmacy",hours:"24 hours",rating:4},{id:"5",name:"CVS Pharmacy",address:"2160 N High St, Columbus, OH 43201",lat:40.0046,lng:-83.0104,category:"pharmacy",hours:"24 hours",rating:3.9},{id:"6",name:"Home Depot",address:"2555 Brice Rd, Columbus, OH 43068",lat:39.9259,lng:-82.8369,category:"hardware",hours:"6AM - 9PM",rating:4.2},{id:"7",name:"Kroger",address:"1350 N High St, Columbus, OH 43201",lat:39.9905,lng:-83.0069,category:"grocery",hours:"6AM - 12AM",rating:4.1},{id:"8",name:"Costco",address:"3800 W Dublin Granville Rd, Columbus, OH 43235",lat:40.0909,lng:-83.0763,category:"grocery",hours:"10AM - 8:30PM",rating:4.6},{id:"9",name:"Best Buy",address:"3840 Morse Rd, Columbus, OH 43219",lat:40.0606,lng:-82.9307,category:"electronics",hours:"10AM - 9PM",rating:4.3},{id:"10",name:"Apple Store",address:"4195 The Strand E, Columbus, OH 43219",lat:40.0529,lng:-82.9146,category:"electronics",hours:"10AM - 8PM",rating:4.8},{id:"11",name:"Macy's",address:"1500 Polaris Pkwy, Columbus, OH 43240",lat:40.1452,lng:-82.9823,category:"clothing",hours:"10AM - 9PM",rating:4},{id:"12",name:"Giant Eagle",address:"280 E Whittier St, Columbus, OH 43206",lat:39.9447,lng:-82.9913,category:"grocery",hours:"7AM - 10PM",rating:4.2},{id:"13",name:"Ace Hardware",address:"1305 W Lane Ave, Columbus, OH 43221",lat:40.0057,lng:-83.0491,category:"hardware",hours:"8AM - 8PM",rating:4.5},{id:"14",name:"Lowe's",address:"2345 Silver Dr, Columbus, OH 43211",lat:40.0127,lng:-82.9765,category:"hardware",hours:"6AM - 10PM",rating:4.2},{id:"15",name:"Walmart",address:"3900 Morse Rd, Columbus, OH 43219",lat:40.0602,lng:-82.9339,category:"grocery",hours:"7AM - 11PM",rating:3.8}],WTe=t=>{const e=t.toLowerCase();return nN.find(r=>r.name.toLowerCase().includes(e))},HTe="AIzaSyCC9n6z-koJp5qiyOOPRRag3qudrcfOeK8";function fk({isOpen:t,onClose:e,onSubmit:r,taskToEdit:n,isEditing:i=!1}){const[a,o]=b.useState(""),[s,l]=b.useState(),[u,d]=b.useState("medium"),[f,h]=b.useState(""),[p,m]=b.useState(null),[g,v]=b.useState(!1),[x,y]=b.useState(null),[w,S]=b.useState("Medium"),E=b.useRef(null),C=b.useRef(null),A=b.useRef(null),T=b.useRef(null),N=b.useRef(null),[I,j]=b.useState([]),[O,P]=b.useState(!1),[M,F]=b.useState(!1),[B,W]=b.useState({lat:39.9789,lng:-82.8677}),{toast:$}=cn();b.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(Q=>{W({lat:Q.coords.latitude,lng:Q.coords.longitude})},()=>{console.log("Using default location for place search")})},[]),b.useEffect(()=>{if(!t)return;const Q=()=>{if(window.google&&window.google.maps&&window.google.maps.places){ue();return}const he=document.createElement("script");return he.src=`https://maps.googleapis.com/maps/api/js?key=${HTe}&libraries=places,geometry`,he.async=!0,he.defer=!0,he.onload=ue,document.head.appendChild(he),()=>{document.head.contains(he)&&document.head.removeChild(he)}},ue=()=>{if(!window.google||!window.google.maps||!window.google.maps.places){console.error("Google Maps Places API not available");return}try{const he=document.createElement("div");A.current=new window.google.maps.places.PlacesService(he),T.current=new window.google.maps.places.AutocompleteService,N.current=new window.google.maps.places.AutocompleteSessionToken,E.current&&(C.current=new window.google.maps.places.Autocomplete(E.current,{types:["establishment","address"]}),C.current.addListener("place_changed",()=>{if(!C.current)return;const pe=C.current.getPlace();if(pe&&pe.geometry&&pe.geometry.location){const J=pe.formatted_address||pe.name||"";h(J),m({lat:pe.geometry.location.lat(),lng:pe.geometry.location.lng()}),F(!1)}}))}catch(he){console.error("Error initializing Places services:",he)}},de=Q();return()=>{typeof de=="function"&&de(),C.current=null}},[t]),b.useEffect(()=>{t&&(i&&n?(o(n.title||""),l(n.dueDate?th(n.dueDate):void 0),d(n.priority||"medium"),h(n.location||""),m(n.coordinates||null),v(n.isRotating||!1),y(n.rotationFrequency||null),S(n.difficulty||"Medium")):(o(""),l(void 0),d("medium"),h(""),m(null),v(!1),y(null),S("Medium")),j([]),F(!1))},[t,n,i]);const U=Q=>{if(Q.preventDefault(),!a.trim())return;const ue={...n!=null&&n.id?{id:n.id}:{},title:a,dueDate:Yt(s||new Date,"yyyy-MM-dd"),priority:u,isRotating:g,location:f||void 0,coordinates:p||void 0,rotationFrequency:g?x:null,difficulty:w,...n!=null&&n.assignees?{assignees:n.assignees}:{assignees:[]},...(n==null?void 0:n.completed)!==void 0?{completed:n.completed}:{completed:!1},...n!=null&&n.nextRotationDate?{nextRotationDate:n.nextRotationDate}:{}};r(ue),e()},X=Q=>{if(!Q||Q.length<2){j([]),F(!1);return}const ue=nN.filter(he=>he.name.toLowerCase().includes(Q.toLowerCase())).slice(0,3).map(he=>({description:`${he.name} - ${he.address}`,place_id:`store_${he.id}`,isStore:!0,store:he}));if(ue.length>0){j(ue),F(!0);return}if(!T.current||!N.current)return;P(!0),F(!0);const de={input:Q,types:["establishment","geocode"],componentRestrictions:{country:"us"},location:new google.maps.LatLng(B.lat,B.lng),radius:5e4,sessionToken:N.current};T.current.getPlacePredictions(de,(he,pe)=>{pe===google.maps.places.PlacesServiceStatus.OK&&he&&he.length>0?j(he.map(J=>({description:J.description,place_id:J.place_id}))):j([]),P(!1)})},H=(Q,ue)=>{if(Q.startsWith("store_")){const de=Q.replace("store_",""),he=nN.find(pe=>pe.id===de);if(he){h(he.name),m({lat:he.lat,lng:he.lng}),F(!1);return}}A.current&&A.current.getDetails({placeId:Q,fields:["name","formatted_address","geometry"]},(de,he)=>{var pe;he===google.maps.places.PlacesServiceStatus.OK&&de?(h(de.formatted_address||de.name||ue),(pe=de.geometry)!=null&&pe.location&&m({lat:de.geometry.location.lat(),lng:de.geometry.location.lng()}),j([]),F(!1),N.current=new google.maps.places.AutocompleteSessionToken):$({title:"Error",description:"Couldn't get place details",variant:"destructive"})})},Y=Q=>{const ue=Q.target.value;h(ue),m(null);const de=setTimeout(()=>{X(ue)},300);return()=>clearTimeout(de)};return c.jsx(_r,{open:t,onOpenChange:Q=>!Q&&e(),children:c.jsxs(pr,{className:"sm:max-w-[425px]",children:[c.jsx(mr,{children:c.jsx(gr,{children:i?"Edit Task":"Create Task"})}),c.jsxs("form",{onSubmit:U,children:[c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-2 sm:gap-4",children:[c.jsx(ce,{htmlFor:"title",className:"sm:text-right",children:"Title"}),c.jsx(Ue,{id:"title",value:a,onChange:Q=>o(Q.target.value),className:"sm:col-span-3"})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-2 sm:gap-4",children:[c.jsx(ce,{htmlFor:"date",className:"sm:text-right",children:"Due Date"}),c.jsxs(tv,{children:[c.jsx(rv,{asChild:!0,children:c.jsxs(K,{variant:"outline",className:je("sm:col-span-3 justify-start text-left font-normal",!s&&"text-muted-foreground"),children:[c.jsx(zu,{className:"mr-2 h-4 w-4"}),s?Yt(s,"PPP"):c.jsx("span",{children:"Pick a date"})]})}),c.jsx(oh,{className:"w-auto p-0",children:c.jsx(K2,{mode:"single",selected:s,onSelect:l,initialFocus:!0})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-2 sm:gap-4",children:[c.jsx(ce,{htmlFor:"location",className:"sm:text-right",children:"Location"}),c.jsxs("div",{className:"sm:col-span-3 relative",children:[c.jsx("div",{className:"flex",children:c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Ue,{id:"location",ref:E,placeholder:"Enter a store or location (e.g. Trader Joe's, Walmart)",value:f,onChange:Y,className:"pr-8 relative z-50",onClick:Q=>Q.stopPropagation()}),f?c.jsx("button",{type:"button",onClick:()=>{h(""),m(null)},className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gloop-text-muted hover:text-gloop-text",children:c.jsx(Mi,{className:"h-4 w-4"})}):null,c.jsx(Zb,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gloop-text-muted"})]})}),M&&c.jsx("div",{className:"absolute top-full left-0 right-0 z-10 mt-1 bg-white dark:bg-gray-800 border rounded-md shadow-md max-h-60 overflow-y-auto",children:O?c.jsx("div",{className:"p-2 text-center text-sm text-gray-500",children:"Searching..."}):I.length>0?c.jsx("ul",{className:"py-1",children:I.map(Q=>c.jsx("li",{className:"px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer text-sm",onClick:()=>H(Q.place_id,Q.description),children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(sa,{className:"h-4 w-4 mr-2 mt-0.5 flex-shrink-0"}),c.jsx("span",{children:Q.description})]})},Q.place_id))}):f.length>=2?c.jsx("div",{className:"p-2 text-center text-sm text-gray-500",children:"No places found"}):c.jsx("div",{className:"p-2 text-center text-sm text-gray-500",children:"Type at least 2 characters to search"})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-2 sm:gap-4",children:[c.jsx(ce,{htmlFor:"priority",className:"sm:text-right",children:"Priority"}),c.jsxs($t,{value:u,onValueChange:Q=>d(Q),children:[c.jsx(Ot,{className:"sm:col-span-3",children:c.jsx(Ft,{placeholder:"Select priority"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"low",children:"Low"}),c.jsx(Se,{value:"medium",children:"Medium"}),c.jsx(Se,{value:"high",children:"High"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-2 sm:gap-4",children:[c.jsx(ce,{htmlFor:"difficulty",className:"sm:text-right",children:"Difficulty"}),c.jsxs($t,{value:w,onValueChange:Q=>S(Q),children:[c.jsx(Ot,{className:"sm:col-span-3",children:c.jsx(Ft,{placeholder:"Select difficulty"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"Easy",children:"Easy"}),c.jsx(Se,{value:"Medium",children:"Medium"}),c.jsx(Se,{value:"Hard",children:"Hard"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-2 sm:gap-4",children:[c.jsx(ce,{htmlFor:"rotating",className:"sm:text-right",children:"Rotating"}),c.jsxs("div",{className:"sm:col-span-3 flex items-center",children:[c.jsx("input",{type:"checkbox",id:"rotating",checked:g,onChange:Q=>v(Q.target.checked),className:"mr-2 rounded border-gloop-outline focus:ring-gloop-primary h-4 w-4"}),c.jsx(ce,{htmlFor:"rotating",className:"text-sm",children:"This task rotates between assignees"})]})]})]}),c.jsx(_i,{children:c.jsx(K,{type:"submit",children:i?"Save Changes":"Create Task"})})]})]})})}var GTe="basil",XX="https://js.stripe.com",qTe="".concat(XX,"/").concat(GTe,"/stripe.js"),KTe=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,YTe=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var XTe=function(e){return KTe.test(e)||YTe.test(e)},QTe=function(){for(var e=document.querySelectorAll('script[src^="'.concat(XX,'"]')),r=0;r<e.length;r++){var n=e[r];if(XTe(n.src))return n}return null},s5=function(e){var r="",n=document.createElement("script");n.src="".concat(qTe).concat(r);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(n),n},Qp=null,Gy=null,qy=null,ZTe=function(e){return function(r){e(new Error("Failed to load Stripe.js",{cause:r}))}},JTe=function(e,r){return function(){window.Stripe?e(window.Stripe):r(new Error("Stripe.js not available"))}},eNe=function(e){return Qp!==null?Qp:(Qp=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var i=QTe();if(!(i&&e)){if(!i)i=s5(e);else if(i&&qy!==null&&Gy!==null){var a;i.removeEventListener("load",qy),i.removeEventListener("error",Gy),(a=i.parentNode)===null||a===void 0||a.removeChild(i),i=s5(e)}}qy=JTe(r,n),Gy=ZTe(n),i.addEventListener("load",qy),i.addEventListener("error",Gy)}catch(o){n(o);return}}),Qp.catch(function(r){return Qp=null,Promise.reject(r)}))},Zp,tNe=function(){return Zp||(Zp=eNe(null).catch(function(e){return Zp=null,Promise.reject(e)}),Zp)};Promise.resolve().then(function(){return tNe()}).catch(function(t){console.warn(t)});console.warn("Stripe publishable key not found. Subscription features will be disabled.");const rNe=null,nNe={plus:{priceId:"price_1Otest_plus_monthly",productId:"prod_test_plus",name:"TaskaLoop Plus",price:4.99,interval:"month"},family:{priceId:"price_1Otest_family_monthly",productId:"prod_test_family",name:"TaskaLoop Family",price:8.99,interval:"month"}},iNe=t=>{var e;return((e=nNe[t])==null?void 0:e.priceId)||null},aNe=()=>!1,l5={ACTIVE:"active"};class oNe{constructor(){this.apiUrl="https://vanold101.github.io/taska-loop/"}isConfigured(){return aNe()}async createCheckoutSession(e,r,n){if(!this.isConfigured())throw new Error("Stripe is not properly configured");const i=iNe(e);if(!i)throw new Error(`No price ID found for tier: ${e}`);try{const a=await fetch("/api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:i,userEmail:r,userId:n,tier:e,successUrl:`${this.apiUrl}/subscription-success?session_id={CHECKOUT_SESSION_ID}`,cancelUrl:`${this.apiUrl}/subscription-cancelled`})});if(!a.ok)throw new Error("Failed to create checkout session");return await a.json()}catch(a){return console.error("Error creating checkout session:",a),console.warn("Stripe backend not implemented. Returning mock checkout session."),{sessionId:"cs_test_demo_session_id",url:"#"}}}async redirectToCheckout(e){if(!this.isConfigured())throw new Error("Stripe is not properly configured");const r=await rNe;if(!r)throw new Error("Failed to load Stripe");const{error:n}=await r.redirectToCheckout({sessionId:e});if(n)throw new Error(n.message)}async subscribeTo(e,r,n){try{const i=await this.createCheckoutSession(e,r,n);if(i.sessionId==="cs_test_demo_session_id"){alert(`Demo: Would redirect to Stripe Checkout for ${e} subscription.

In production, this would:
1. Create a Stripe Customer
2. Generate a Checkout Session
3. Redirect to secure Stripe payment page
4. Handle webhooks for subscription updates`);return}await this.redirectToCheckout(i.sessionId)}catch(i){throw console.error("Error in subscription flow:",i),i}}async getCustomerSubscription(e){try{const r=await fetch(`/api/stripe/subscription/${e}`,{headers:{"Content-Type":"application/json"}});if(r.status===404)return null;if(!r.ok)throw new Error("Failed to fetch subscription");return await r.json()}catch(r){return console.error("Error fetching subscription:",r),null}}async cancelSubscription(e){try{if(!(await fetch(`/api/stripe/subscription/${e}/cancel`,{method:"POST",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to cancel subscription")}catch(r){throw console.error("Error cancelling subscription:",r),r}}async createPortalSession(e){try{const r=await fetch("/api/stripe/create-portal-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customerId:e,returnUrl:`${this.apiUrl}/profile`})});if(!r.ok)throw new Error("Failed to create portal session");return await r.json()}catch(r){return console.error("Error creating portal session:",r),{url:"https://billing.stripe.com/session/demo"}}}async openCustomerPortal(e){try{const r=await this.createPortalSession(e);if(r.url==="https://billing.stripe.com/session/demo"){alert(`Demo: Would redirect to Stripe Customer Portal.

In production, this would open a secure portal where customers can:
• Update payment methods
• Download invoices
• Manage subscription
• View billing history`);return}window.open(r.url,"_blank")}catch(r){throw console.error("Error opening customer portal:",r),r}}getSubscriptionTier(e){return!e||e.status!==l5.ACTIVE?"free":e.tier}isSubscriptionActive(e){return(e==null?void 0:e.status)===l5.ACTIVE}}const ig=new oNe,Jp={free:{name:"TaskaLoop Basic",price:"Free",description:"Perfect for individuals and small households getting started",icon:c.jsx(ti,{className:"h-6 w-6"}),color:"bg-gray-500",features:["Up to 3 active shopping trips","Up to 25 active tasks","Basic pantry (50 items)","Manual expense tracking (10/month)","Up to 2 household members","Basic maps integration","Dark mode","Mobile app (PWA)"],limitations:["No receipt scanning","No AI-powered features","No recurring item automation","No advanced analytics","No export capabilities","Equal split only for expenses"]},plus:{name:"TaskaLoop Plus",price:"$4.99",billing:"/month",description:"For active households who want convenience and automation",icon:c.jsx(Hm,{className:"h-6 w-6"}),color:"bg-blue-500",features:["Unlimited shopping lists & tasks","Advanced pantry with alerts","Receipt scanning (20/month)","AI-powered grocery list generation","Basic recurring items","Advanced expense splitting","Expense analytics & reports","Calendar integration","Up to 6 household members","Export data (CSV, PDF)","Priority support","Bulk operations"],popular:!0},family:{name:"TaskaLoop Family",price:"$8.99",billing:"/month",description:"For large households and power users who want everything",icon:c.jsx(nO,{className:"h-6 w-6"}),color:"bg-purple-500",features:["Everything in Plus","Unlimited household members","Unlimited receipt scanning","Advanced AI features","Smart meal planning suggestions","Predictive shopping lists","Price tracking & deal alerts","Complex recurring patterns","Premium analytics dashboard","Smart home integration","Multiple calendar platforms","Premium support (chat & phone)","Early access to new features","Data backup & sync"]}};function QX({isOpen:t,onClose:e,showUpgradeOnly:r=!1}){const{currentTier:n,upgradeTier:i,isAdmin:a}=xj(),{user:o}=qr(),{toast:s}=cn(),[l,u]=b.useState(n),[d,f]=b.useState(!1);if(a)return null;const h=v=>{u(v)},p=async()=>{if(l===n){s({title:"Already subscribed",description:`You're already on the ${Jp[n].name} plan.`});return}if(!(o!=null&&o.email)){s({title:"Authentication required",description:"Please make sure you're logged in to upgrade your subscription.",variant:"destructive"});return}if(l==="free")f(!0),setTimeout(()=>{i(l),f(!1),s({title:"Plan downgraded",description:`You've switched to the ${Jp[l].name} plan.`}),e()},1e3);else{if(!ig.isConfigured()){s({title:"Stripe not configured",description:"Stripe keys are missing. Please check your environment configuration.",variant:"destructive"});return}f(!0);try{await ig.subscribeTo(l,o.email,o.id||"anonymous"),i(l),f(!1),s({title:"Demo: Upgrade successful!",description:`Demo mode: You now have ${Jp[l].name} features enabled.`}),e()}catch(v){f(!1),console.error("Subscription error:",v),s({title:"Subscription failed",description:v instanceof Error?v.message:"Failed to start subscription process.",variant:"destructive"})}}},m=r?["plus","family"]:["free","plus","family"],g=ig.isConfigured();return c.jsx(_r,{open:t,onOpenChange:e,children:c.jsxs(pr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(mr,{children:[c.jsx(gr,{className:"text-2xl font-bold",children:r?"Upgrade Your Plan":"Choose Your Plan"}),c.jsx(Si,{children:r?"Unlock more features with a premium plan":"Select the plan that best fits your household needs"})]}),!g&&c.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(_o,{className:"h-4 w-4 text-amber-600"}),c.jsx("span",{className:"font-medium text-amber-800",children:"Stripe Configuration Required"})]}),c.jsx("p",{className:"text-sm text-amber-700",children:"Stripe is not properly configured. Add your Stripe keys to enable subscription functionality."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:m.map(v=>{const x=Jp[v],y=v===n,w=v===l;return c.jsxs(Te,{className:`relative cursor-pointer transition-all duration-200 ${w?"ring-2 ring-blue-500 shadow-lg scale-105":"hover:shadow-md hover:scale-102"} ${x.popular?"border-blue-500":""}`,onClick:()=>h(v),children:[x.popular&&c.jsx(mt,{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 bg-blue-500",children:"Most Popular"}),y&&c.jsx(mt,{className:"absolute -top-2 right-4 bg-green-500",children:"Current Plan"}),c.jsxs(Fe,{className:"text-center",children:[c.jsx("div",{className:`w-12 h-12 ${x.color} rounded-full flex items-center justify-center text-white mx-auto mb-2`,children:x.icon}),c.jsx(Be,{className:"text-xl",children:x.name}),c.jsxs("div",{className:"text-3xl font-bold",children:[x.price,x.billing&&c.jsx("span",{className:"text-sm text-gray-500 font-normal",children:x.billing})]}),c.jsx(tt,{className:"text-sm",children:x.description})]}),c.jsx(Ne,{children:c.jsxs("ul",{className:"space-y-2",children:[x.features.map((S,E)=>c.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[c.jsx(fo,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),c.jsx("span",{children:S})]},E)),x.limitations&&c.jsx(c.Fragment,{children:c.jsxs("div",{className:"border-t pt-2 mt-3",children:[c.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Limitations:"}),x.limitations.map((S,E)=>c.jsxs("li",{className:"flex items-start gap-2 text-xs text-gray-500",children:[c.jsx("span",{className:"text-red-400",children:"×"}),c.jsx("span",{children:S})]},E))]})})]})}),c.jsx(Bt,{children:c.jsx(K,{variant:w?"default":"outline",className:`w-full ${w?"bg-blue-500 hover:bg-blue-600":""}`,disabled:y,children:y?"Current Plan":w?"Selected":"Select Plan"})})]},v)})}),c.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t",children:[c.jsx(K,{variant:"outline",onClick:e,disabled:d,children:"Cancel"}),c.jsx(K,{onClick:p,disabled:l===n||d||!g&&l!=="free",className:"bg-blue-500 hover:bg-blue-600",children:d?c.jsxs(c.Fragment,{children:[c.jsx(Og,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):l==="free"?"Switch to Free":c.jsxs(c.Fragment,{children:[c.jsx(FC,{className:"h-4 w-4 mr-2"}),n==="free"?"Upgrade":"Switch"," to ",Jp[l].name]})})]}),c.jsx("div",{className:"text-xs text-gray-500 text-center mt-4",children:g?c.jsxs(c.Fragment,{children:[c.jsx("p",{children:"• Secure payment processing via Stripe • Cancel anytime"}),c.jsx("p",{children:"• All prices in USD • 30-day money-back guarantee"})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{children:"• Demo Mode: Stripe integration ready for configuration"}),c.jsx("p",{children:"• Add VITE_STRIPE_PUBLISHABLE_KEY to enable payments"})]})})]})})}function sNe(){var J,re;const t=Ki(),{user:e,isAdmin:r}=qr(),{tasks:n,trips:i,updateTask:a,deleteTask:o,addTask:s}=os(),[l,u]=b.useState("all"),[d,f]=b.useState(new Date),[h,p]=b.useState(!1),[m,g]=b.useState(null),[v,x]=b.useState(null),[y,w]=b.useState(!1),{currentTier:S,limits:E}=xj(),[C,A]=b.useState(!1),T=n.filter(L=>{const q=new Date().toISOString().split("T")[0];return L.dueDate===q}),N=T.filter(L=>L.completed),I=T.length,j=N.length,O=I>0?j/I*100:0,P=i.filter(L=>L.status!=="completed"&&L.status!=="cancelled"),M=b.useMemo(()=>{const L=J1e(d),q=pG(L),G=uG(L),ye=exe(q),me="d",ie=[];let ne=[],Oe=G,Z="";for(;Oe<=ye;){for(let le=0;le<7;le++){Z=Yt(Oe,me);const xe=Yt(Oe,"yyyy-MM-dd"),it=n.filter(Ht=>Ht.dueDate===xe),yr=it.length,Wt=it.filter(Ht=>Ht.completed).length;ne.push({date:Oe,dayOfMonth:Z,isCurrentMonth:uwe(Oe,L),isToday:hG(Oe,new Date),tasksCount:yr,completedCount:Wt,tasks:it}),Oe=rw(Oe,1)}ie.push(ne),ne=[]}return ie},[d,n]),F=()=>{g(null),p(!0)},B=()=>{t("/dashboard")},W=L=>{const q=n.find(G=>G.id===L);q&&a(L,{completed:!q.completed})},$=L=>{const q=n.find(G=>G.id===L);if(q){const G=q.priority==="high"?"medium":"high";a(L,{priority:G})}},U=L=>{n.find(G=>G.id===L)&&o(L)},X=L=>{const q=n.find(G=>G.id===L);q&&(g(q),p(!0))},H=L=>{const q=n.find(G=>G.id===L);q&&(x(q),w(!0))},Y=L=>{const q=n.find(G=>G.id===L);q&&(g(q),p(!0))},Q=()=>{},ue=()=>{f(Cwe(d,1))},de=()=>{f(gj(d,1))},he=L=>{L.tasksCount>0&&(L.tasks.length===1?H(L.tasks[0].id):u("all"))},pe=(L,q)=>{L.stopPropagation(),H(q.id)};return c.jsx(ha,{children:c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[c.jsxs("div",{className:"p-4 md:p-8 animate-fade-in",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8 animate-slide-down",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Home"}),c.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:["Welcome back, ",((J=e==null?void 0:e.name)==null?void 0:J.split(" ")[0])||"User","! Here's what's happening today."]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(K,{variant:"outline",className:"border-slate-200 dark:border-slate-600 dark:text-slate-300 hover:scale-105 transition-transform duration-200",onClick:()=>u("today"),children:[c.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Recent"]}),c.jsxs(K,{className:"bg-teal-600 hover:bg-teal-700 dark:bg-teal-600 dark:hover:bg-teal-700 hover:scale-105 transition-transform duration-200",onClick:F,children:[c.jsx(Or,{className:"h-4 w-4 mr-2"}),"New Task"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 animate-slide-up",children:[c.jsxs(Te,{className:"bg-gradient-to-br from-teal-500 to-teal-600 text-white border-none shadow-md hover:shadow-lg transition-all duration-300 hover:scale-105",children:[c.jsxs(Fe,{className:"pb-2",children:[c.jsx(Be,{className:"text-white",children:"Today's Tasks"}),c.jsxs(tt,{className:"text-teal-100",children:["You have ",I," ",I===1?"task":"tasks"," for today"]})]}),c.jsx(Ne,{children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{children:"Completed"}),c.jsxs("span",{children:[j,"/",I]})]}),c.jsx(Yg,{value:O,className:"h-2 bg-teal-400"})]})}),c.jsx(Bt,{children:c.jsx(K,{variant:"secondary",className:"w-full bg-white/20 hover:bg-white/30 text-white border-none transition-all duration-200",onClick:()=>u("today"),children:"View All Tasks"})})]}),c.jsxs(Te,{className:"border-none shadow-md dark:bg-slate-800 hover:shadow-lg transition-all duration-300 hover:scale-105",children:[c.jsxs(Fe,{className:"pb-2",children:[c.jsx(Be,{className:"dark:text-slate-200",children:"Shopping Lists"}),c.jsxs(tt,{className:"dark:text-slate-400",children:["You have ",P.length," active ",P.length===1?"list":"lists"]})]}),c.jsx(Ne,{children:c.jsx("div",{className:"space-y-2",children:P.length>0?P.slice(0,2).map((L,q)=>{var G,ye,me,ie;return c.jsxs("div",{className:"space-y-1 animate-fade-in",style:{animationDelay:`${q*100}ms`},children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:L.store||"Shopping Trip"}),c.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:[((G=L.items)==null?void 0:G.length)||0," ",(((ye=L.items)==null?void 0:ye.length)||0)===1?"item":"items"]})]}),c.jsx(Yg,{value:((me=L.items)==null?void 0:me.filter(ne=>ne.checked).length)/(((ie=L.items)==null?void 0:ie.length)||1)*100,className:"h-2 dark:bg-slate-700"})]},L.id)}):c.jsx("div",{className:"text-center py-2 text-slate-500 dark:text-slate-400",children:"No active shopping lists"})})}),c.jsx(Bt,{children:c.jsxs(K,{variant:"outline",className:"w-full border-slate-200 dark:border-slate-700 dark:text-slate-300 hover:scale-105 transition-transform duration-200",onClick:()=>t("/trips"),children:[c.jsx(lr,{className:"h-4 w-4 mr-2"}),"View Shopping Lists"]})})]}),c.jsxs(Te,{className:"border-none shadow-md dark:bg-slate-800 hover:shadow-lg transition-all duration-300 hover:scale-105",children:[c.jsxs(Fe,{className:"pb-2",children:[c.jsx(Be,{className:"dark:text-slate-200",children:"Expense Splitting"}),c.jsx(tt,{className:"dark:text-slate-400",children:r?"May expenses with roommates":"Track shared expenses"})]}),c.jsx(Ne,{children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center animate-fade-in",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(zr,{className:"h-6 w-6",children:c.jsx(Wr,{className:"text-xs bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",children:((re=e==null?void 0:e.name)==null?void 0:re.substring(0,2))||"U"})}),c.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"You"})]}),c.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:r?"$63.69":"$0.00"})]}),r?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex justify-between items-center animate-fade-in",style:{animationDelay:"100ms"},children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(zr,{className:"h-6 w-6",children:c.jsx(Wr,{className:"text-xs bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-300",children:"SM"})}),c.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Sam"})]}),c.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:"+$12.45"})]}),c.jsxs("div",{className:"flex justify-between items-center animate-fade-in",style:{animationDelay:"200ms"},children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(zr,{className:"h-6 w-6",children:c.jsx(Wr,{className:"text-xs bg-amber-100 text-amber-700 dark:bg-amber-900 dark:text-amber-300",children:"AL"})}),c.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Alex"})]}),c.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:"-$8.75"})]})]}):c.jsxs("div",{className:"text-center py-4 animate-fade-in",children:[c.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-slate-100 dark:bg-slate-700 rounded-full mx-auto mb-2",children:c.jsx(ti,{className:"h-6 w-6 text-slate-400"})}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2",children:"No household members yet"}),c.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:"Add roommates to start tracking shared expenses"})]})]})}),c.jsx(Bt,{children:c.jsxs(K,{variant:"outline",className:"w-full border-slate-200 dark:border-slate-700 dark:text-slate-300 hover:scale-105 transition-transform duration-200",onClick:()=>t(r?"/ledger":"/invite-household"),children:[c.jsx(_V,{className:"h-4 w-4 mr-2"}),r?"Manage Expenses":"Add Household Members"]})})]})]}),c.jsxs(Nc,{className:"w-full animate-fade-in",value:l,onValueChange:u,children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs(el,{className:"grid w-full md:w-auto grid-cols-4 md:inline-flex dark:bg-slate-800",children:[c.jsx(sr,{value:"all",children:"All Tasks"}),c.jsx(sr,{value:"today",children:"Today"}),c.jsx(sr,{value:"upcoming",children:"Upcoming"}),c.jsx(sr,{value:"calendar",children:"Calendar"})]}),c.jsxs(K,{variant:"ghost",size:"sm",className:"hidden md:flex dark:text-slate-300 hover:scale-105 transition-transform duration-200",onClick:Q,children:[c.jsx(Ef,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),c.jsx(jr,{value:"all",className:"space-y-4",children:c.jsxs(Te,{className:"border-none shadow-sm dark:bg-slate-800 hover:shadow-md transition-shadow duration-300",children:[c.jsx(Ne,{className:"p-0",children:c.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:n.length>0?n.slice(0,5).map((L,q)=>c.jsxs("div",{className:`flex items-center p-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-all duration-200 animate-slide-in ${L.completed?"bg-slate-50/50 dark:bg-slate-700/30":""}`,style:{animationDelay:`${q*50}ms`},children:[c.jsxs("div",{className:"flex items-center flex-1 min-w-0 gap-3",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:`h-5 w-5 rounded-full transition-all duration-200 hover:scale-110 ${L.completed?"bg-teal-500 flex items-center justify-center cursor-pointer text-white":"border-2 border-teal-500 flex items-center justify-center cursor-pointer hover:bg-teal-50 dark:hover:bg-teal-900/30"}`,onClick:()=>W(L.id),children:L.completed&&c.jsx(qn,{className:"h-3 w-3"})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:`text-sm font-medium ${L.completed?"text-slate-500 dark:text-slate-400 line-through":"text-slate-800 dark:text-slate-200"} truncate`,children:L.title}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300",children:L.priority==="high"?"High":L.priority==="medium"?"Medium":"Low"}),c.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center",children:[c.jsx(Pr,{className:"h-3 w-3 mr-1"}),L.dueDate]})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[c.jsx(K,{variant:"ghost",size:"icon",className:`h-8 w-8 transition-all duration-200 hover:scale-110 ${L.priority==="high"?"text-yellow-500 hover:text-yellow-600 dark:text-yellow-400 dark:hover:text-yellow-300":"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300"}`,onClick:()=>$(L.id),children:c.jsx(Hm,{className:"h-4 w-4",fill:L.priority==="high"?"currentColor":"none"})}),c.jsxs(Zg,{children:[c.jsx(Jg,{asChild:!0,children:c.jsx(K,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300 hover:scale-110 transition-transform duration-200",children:c.jsx(Ef,{className:"h-4 w-4"})})}),c.jsxs(ih,{align:"end",children:[c.jsx(gi,{onClick:()=>X(L.id),children:"Edit"}),c.jsx(gi,{onClick:()=>Y(L.id),children:"Reschedule"}),c.jsx(ev,{}),c.jsx(gi,{className:"text-red-600",onClick:()=>U(L.id),children:"Delete"})]})]})]})]},L.id)):c.jsxs("div",{className:"py-8 text-center animate-fade-in",children:[c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No tasks found. Create a new task to get started."}),c.jsxs(K,{className:"mt-4 bg-teal-600 hover:bg-teal-700 hover:scale-105 transition-transform duration-200",onClick:F,children:[c.jsx(Or,{className:"h-4 w-4 mr-2"}),"Create Task"]})]})})}),c.jsx(Bt,{className:"flex justify-center border-t border-slate-100 dark:border-slate-700 p-4",children:c.jsx(K,{variant:"ghost",className:"text-teal-600 hover:text-teal-700 hover:bg-teal-50 dark:text-teal-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20 hover:scale-105 transition-transform duration-200",onClick:B,children:"View All Tasks"})})]})}),c.jsx(jr,{value:"today",className:"space-y-4",children:c.jsx(Te,{className:"border-none shadow-sm dark:bg-slate-800 hover:shadow-md transition-shadow duration-300",children:c.jsx(Ne,{className:"p-6",children:T.length>0?c.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:T.map((L,q)=>c.jsxs("div",{className:`flex items-center p-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-all duration-200 animate-slide-in ${L.completed?"bg-slate-50/50 dark:bg-slate-700/30":""}`,style:{animationDelay:`${q*50}ms`},children:[c.jsxs("div",{className:"flex items-center flex-1 min-w-0 gap-3",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:`h-5 w-5 rounded-full ${L.completed?"bg-teal-500 flex items-center justify-center cursor-pointer text-white":"border-2 border-teal-500 flex items-center justify-center cursor-pointer hover:bg-teal-50 dark:hover:bg-teal-900/30"}`,onClick:()=>W(L.id),children:L.completed&&c.jsx(qn,{className:"h-3 w-3"})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:`text-sm font-medium ${L.completed?"text-slate-500 dark:text-slate-400 line-through":"text-slate-800 dark:text-slate-200"} truncate`,children:L.title}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300",children:L.priority==="high"?"High":L.priority==="medium"?"Medium":"Low"}),c.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center",children:[c.jsx(Pr,{className:"h-3 w-3 mr-1"}),"Today"]})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[c.jsx(K,{variant:"ghost",size:"icon",className:`h-8 w-8 ${L.priority==="high"?"text-yellow-500 hover:text-yellow-600 dark:text-yellow-400 dark:hover:text-yellow-300":"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300"}`,onClick:()=>$(L.id),children:c.jsx(Hm,{className:"h-4 w-4",fill:L.priority==="high"?"currentColor":"none"})}),c.jsxs(Zg,{children:[c.jsx(Jg,{asChild:!0,children:c.jsx(K,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300",children:c.jsx(Ef,{className:"h-4 w-4"})})}),c.jsxs(ih,{align:"end",children:[c.jsx(gi,{onClick:()=>X(L.id),children:"Edit"}),c.jsx(gi,{onClick:()=>Y(L.id),children:"Reschedule"}),c.jsx(ev,{}),c.jsx(gi,{className:"text-red-600",onClick:()=>U(L.id),children:"Delete"})]})]})]})]},L.id))}):c.jsxs("div",{className:"flex flex-col items-center justify-center py-8 animate-fade-in",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-teal-100 dark:bg-teal-900/50 flex items-center justify-center mb-4",children:c.jsx(Vu,{className:"h-8 w-8 text-teal-600 dark:text-teal-400"})}),c.jsx("h3",{className:"text-lg font-medium text-slate-800 dark:text-slate-200 mb-2",children:"No Tasks Today"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center max-w-md mb-6",children:"You don't have any tasks scheduled for today."}),c.jsxs(K,{className:"bg-teal-600 hover:bg-teal-700 hover:scale-105 transition-transform duration-200",onClick:F,children:[c.jsx(Or,{className:"h-4 w-4 mr-2"}),"Create Task"]})]})})})}),c.jsx(jr,{value:"upcoming",className:"space-y-4",children:c.jsx(Te,{className:"border-none shadow-sm dark:bg-slate-800 hover:shadow-md transition-shadow duration-300",children:c.jsx(Ne,{className:"p-6",children:c.jsxs("div",{className:"flex flex-col items-center justify-center py-8 animate-fade-in",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-100 dark:bg-purple-900/50 flex items-center justify-center mb-4",children:c.jsx(Vu,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"})}),c.jsx("h3",{className:"text-lg font-medium text-slate-800 dark:text-slate-200 mb-2",children:"Upcoming Tasks"}),c.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-center max-w-md mb-6",children:["You have ",n.filter(L=>!L.completed&&L.dueDate>new Date().toISOString().split("T")[0]).length," tasks coming up in the next 7 days. Plan ahead to stay organized!"]}),c.jsx(K,{className:"bg-purple-600 hover:bg-purple-700 hover:scale-105 transition-transform duration-200",onClick:B,children:"View Upcoming Tasks"})]})})})}),c.jsx(jr,{value:"calendar",className:"space-y-4",children:c.jsx(Te,{className:"border-none shadow-sm dark:bg-slate-800 hover:shadow-md transition-shadow duration-300",children:c.jsxs(Ne,{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h3",{className:"text-lg font-medium text-slate-800 dark:text-slate-200",children:Yt(d,"MMMM yyyy")}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(K,{variant:"outline",size:"icon",onClick:ue,className:"h-8 w-8 p-0 text-slate-600 dark:text-slate-300 hover:scale-105 transition-transform duration-200",children:c.jsx(Xb,{className:"h-4 w-4"})}),c.jsx(K,{variant:"outline",size:"icon",onClick:de,className:"h-8 w-8 p-0 text-slate-600 dark:text-slate-300 hover:scale-105 transition-transform duration-200",children:c.jsx(s0,{className:"h-4 w-4"})})]})]}),c.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2 text-center",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(L=>c.jsx("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 py-2",children:L},L))}),c.jsx("div",{className:"grid grid-cols-7 gap-1",children:M.map((L,q)=>L.map((G,ye)=>c.jsx("div",{className:`
                            relative p-1 min-h-[80px] border 
                            ${G.isToday?"border-teal-500 bg-teal-50 dark:bg-teal-900/20":G.isCurrentMonth?"border-slate-200 dark:border-slate-700":"border-slate-100 bg-slate-50 dark:border-slate-800 dark:bg-slate-800/30"}
                            ${G.isCurrentMonth?"text-slate-800 dark:text-slate-200":"text-slate-400 dark:text-slate-600"}
                            hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors
                          `,onClick:()=>he(G),children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("span",{className:`
                                text-sm font-medium p-1 rounded-full w-6 h-6 flex items-center justify-center
                                ${G.isToday?"bg-teal-500 text-white":""}
                              `,children:G.dayOfMonth}),G.tasksCount>0&&c.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300 px-1.5 py-0.5 rounded-full",children:G.tasksCount})]}),c.jsxs("div",{className:"flex-1 mt-1 overflow-hidden",children:[G.tasks.slice(0,2).map((me,ie)=>c.jsx("div",{className:`text-xs truncate p-1 mb-0.5 rounded cursor-pointer hover:opacity-80
                                    ${me.completed?"line-through text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-700/30":me.priority==="high"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":me.priority==="medium"?"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"}
                                  `,onClick:ne=>pe(ne,me),children:me.title},me.id)),G.tasksCount>2&&c.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 pl-1",children:["+",G.tasksCount-2," more"]})]})]})},`${q}-${ye}`)))})]})})})]})]}),h&&c.jsx(fk,{isOpen:h,onClose:()=>{p(!1),g(null)},onSubmit:L=>{m?a(m.id,L):s(L),p(!1),g(null)},taskToEdit:m}),y&&c.jsx(_r,{open:y,onOpenChange:w,children:c.jsxs(pr,{className:"max-w-md",children:[c.jsx(mr,{children:c.jsxs(gr,{className:"flex items-center gap-2",children:[c.jsx(tc,{className:"h-5 w-5"}),"Task Details"]})}),v&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Title"}),c.jsx("p",{className:"text-lg font-semibold",children:v.title})]}),v.description&&c.jsxs("div",{children:[c.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Description"}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:v.description})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Priority"}),c.jsx(mt,{variant:v.priority==="high"?"destructive":v.priority==="medium"?"default":"secondary",children:v.priority})]}),c.jsxs("div",{children:[c.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Status"}),c.jsx(mt,{variant:v.completed?"success":"outline",children:v.completed?"Completed":"Pending"})]})]}),c.jsxs("div",{children:[c.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Due Date"}),c.jsxs("p",{className:"text-sm flex items-center gap-2",children:[c.jsx(zu,{className:"h-4 w-4"}),Yt(new Date(v.dueDate),"PPP")]})]}),c.jsxs("div",{className:"flex gap-2 pt-4",children:[c.jsxs(K,{variant:"outline",size:"sm",onClick:()=>{W(v.id),w(!1)},className:"flex-1",children:[c.jsx(qn,{className:"h-4 w-4 mr-2"}),v.completed?"Mark Incomplete":"Mark Complete"]}),c.jsx(K,{variant:"outline",size:"sm",onClick:()=>{w(!1),X(v.id)},children:c.jsx(iO,{className:"h-4 w-4"})}),c.jsx(K,{variant:"outline",size:"sm",onClick:()=>{$(v.id),w(!1)},children:c.jsx(Hm,{className:`h-4 w-4 ${v.priority==="high"?"fill-current text-yellow-500":""}`})})]})]})]})}),!r&&c.jsx(QX,{isOpen:C,onClose:()=>A(!1),showUpgradeOnly:S!=="free"})]})})}function c5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c5(Object(r),!0).forEach(function(n){pu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z2(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function ss(t,e){if(t==null)return{};var r,n,i=Z2(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ai(t,e,r){return e=ow(e),lwe(t,xG()?Reflect.construct(e,r||[],ow(t).constructor):e.apply(t,r))}function ZX(t){if(Array.isArray(t))return t}function lNe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function JX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ju(t,e){return ZX(t)||lNe(t,e)||yj(t,e)||JX()}function eQ(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=eQ(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function kr(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=eQ(t))&&(n&&(n+=" "),n+=e);return n}function Nr(){return Nr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nr.apply(null,arguments)}var cNe=function(t,e,r,n,i,a,o,s){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,i,a,o,s],d=0;l=new Error(e.replace(/%s/g,function(){return u[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},uNe=cNe;const nv=dt(uNe);var dNe=function(){};function fNe(t,e){var r={};return Object.keys(t).forEach(function(n){r[K1(n)]=dNe}),r}function u5(t,e){return t[e]!==void 0}function K1(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function hNe(t){return!!t&&(typeof t!="function"||t.prototype&&t.prototype.isReactComponent)}function pNe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,aw(t,e)}function tQ(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function rQ(t){function e(r){var n=this.constructor.getDerivedStateFromProps(t,r);return n??null}this.setState(e.bind(this))}function nQ(t,e){try{var r=this.props,n=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}tQ.__suppressDeprecationWarning=!0;rQ.__suppressDeprecationWarning=!0;nQ.__suppressDeprecationWarning=!0;function mNe(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var r=null,n=null,i=null;if(typeof e.componentWillMount=="function"?r="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||n!==null||i!==null){var a=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+o+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=tQ,e.componentWillReceiveProps=rQ),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=nQ;var s=e.componentDidUpdate;e.componentDidUpdate=function(u,d,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;s.call(this,u,d,h)}}return t}var gNe="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function iQ(t,e,r){r===void 0&&(r=[]);var n=t.displayName||t.name||"Component",i=hNe(t),a=Object.keys(e),o=a.map(K1);i||!r.length||nv(!1);var s=function(u){pNe(d,u);function d(){for(var h,p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];h=u.call.apply(u,[this].concat(m))||this,h.handlers=Object.create(null),a.forEach(function(x){var y=e[x],w=function(E){if(h.props[y]){var C;h._notifying=!0;for(var A=arguments.length,T=new Array(A>1?A-1:0),N=1;N<A;N++)T[N-1]=arguments[N];(C=h.props)[y].apply(C,[E].concat(T)),h._notifying=!1}h.unmounted||h.setState(function(I){var j,O=I.values;return{values:Nr(Object.create(null),O,(j={},j[x]=E,j))}})};h.handlers[y]=w}),r.length&&(h.attachRef=function(x){h.inner=x});var v=Object.create(null);return a.forEach(function(x){v[x]=h.props[K1(x)]}),h.state={values:v,prevProps:{}},h}var f=d.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},d.getDerivedStateFromProps=function(p,m){var g=m.values,v=m.prevProps,x={values:Nr(Object.create(null),g),prevProps:{}};return a.forEach(function(y){x.prevProps[y]=p[y],!u5(p,y)&&u5(v,y)&&(x.values[y]=p[K1(y)])}),x},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var p=this,m=this.props,g=m.innerRef,v=Z2(m,["innerRef"]);o.forEach(function(y){delete v[y]});var x={};return a.forEach(function(y){var w=p.props[y];x[y]=w!==void 0?w:p.state.values[y]}),D.createElement(t,Nr({},v,x,this.handlers,{ref:g||this.attachRef}))},d}(D.Component);mNe(s),s.displayName="Uncontrolled("+n+")",s.propTypes=Nr({innerRef:function(){}},fNe(e)),r.forEach(function(u){s.prototype[u]=function(){var f;return(f=this.inner)[u].apply(f,arguments)}});var l=s;return D.forwardRef&&(l=D.forwardRef(function(u,d){return D.createElement(s,Nr({},u,{innerRef:d,__source:{fileName:gNe,lineNumber:128},__self:this}))}),l.propTypes=s.propTypes),l.ControlledComponent=t,l.deferControlTo=function(u,d,f){return d===void 0&&(d={}),iQ(u,Nr({},e,d),f)},l}var aQ={exports:{}},vNe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",yNe=vNe,xNe=yNe;function oQ(){}function sQ(){}sQ.resetWarningCache=oQ;var wNe=function(){function t(n,i,a,o,s,l){if(l!==xNe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:sQ,resetWarningCache:oQ};return r.PropTypes=r,r};aQ.exports=wNe();var bNe=aQ.exports;const fe=dt(bNe);var ww="milliseconds",iv="seconds",av="minutes",ov="hours",ed="day",sh="week",sv="month",td="year",rd="decade",nd="century",lQ={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},_Ne={month:1,year:12,decade:10*12,century:100*12};function SNe(t){return[31,ENe(t),31,30,31,30,31,31,30,31,30,31]}function ENe(t){return t%4===0&&t%100!==0||t%400===0?29:28}function Co(t,e,r){switch(t=new Date(t),r){case ww:case iv:case av:case ov:case ed:case sh:return ANe(t,e*lQ[r]);case sv:case td:case rd:case nd:return CNe(t,e*_Ne[r])}throw new TypeError('Invalid units: "'+r+'"')}function ANe(t,e){var r=new Date(+t+e);return TNe(t,r)}function CNe(t,e){var r=t.getFullYear(),n=t.getMonth(),i=t.getDate(),a=r*12+n+e,o=Math.trunc(a/12),s=a%12,l=Math.min(i,SNe(o)[s]),u=new Date(t);return u.setFullYear(o),u.setDate(1),u.setMonth(s),u.setDate(l),u}function TNe(t,e){var r=t.getTimezoneOffset(),n=e.getTimezoneOffset(),i=n-r;return new Date(+e+i*lQ.minutes)}function lv(t,e,r){return Co(t,-e,r)}function Mn(t,e,r){switch(t=new Date(t),e){case nd:case rd:case td:t=_w(t,0);case sv:t=hQ(t,1);case sh:case ed:t=dv(t,0);case ov:t=lh(t,0);case av:t=uv(t,0);case iv:t=cv(t,0)}return e===rd&&(t=lv(t,id(t)%10,"year")),e===nd&&(t=lv(t,id(t)%100,"year")),e===sh&&(t=pQ(t,0,r)),t}function bw(t,e,r){switch(t=new Date(t),t=Mn(t,e,r),e){case nd:case rd:case td:case sv:case sh:t=Co(t,1,e),t=lv(t,1,ed),t.setHours(23,59,59,999);break;case ed:t.setHours(23,59,59,999);break;case ov:case av:case iv:t=Co(t,1,e),t=lv(t,1,ww)}return t}var tp=np(function(t,e){return t===e}),hk=np(function(t,e){return t!==e}),J2=np(function(t,e){return t>e}),j0=np(function(t,e){return t>=e}),pk=np(function(t,e){return t<e}),rp=np(function(t,e){return t<=e});function cQ(){return new Date(Math.min.apply(Math,arguments))}function uQ(){return new Date(Math.max.apply(Math,arguments))}function dQ(t,e,r,n){return n=n||"day",(!e||j0(t,e,n))&&(!r||rp(t,r,n))}var cv=zc("Milliseconds"),uv=zc("Seconds"),lh=zc("Minutes"),dv=zc("Hours"),fQ=zc("Day"),hQ=zc("Date"),_w=zc("Month"),id=zc("FullYear");function NNe(t,e){return e===void 0?id(Mn(t,rd)):Co(t,e+10,td)}function INe(t,e){return e===void 0?id(Mn(t,nd)):Co(t,e+100,td)}function pQ(t,e,r){var n=(fQ(t)+7-(r||0))%7;return e===void 0?n:Co(t,e-n,ed)}function PNe(t,e,r,n){var i,a,o;switch(r){case ww:case iv:case av:case ov:case ed:case sh:i=e.getTime()-t.getTime();break;case sv:case td:case rd:case nd:i=(id(e)-id(t))*12+_w(e)-_w(t);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case ww:a=1;break;case iv:a=1e3;break;case av:a=1e3*60;break;case ov:a=1e3*60*60;break;case ed:a=1e3*60*60*24;break;case sh:a=1e3*60*60*24*7;break;case sv:a=1;break;case td:a=12;break;case rd:a=120;break;case nd:a=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return o=i/a,n?o:Math.round(o)}function zc(t){var e=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(t);return function(r,n){if(n===void 0)return r["get"+t]();var i=new Date(r);return i["set"+t](n),e&&i["get"+t]()!=n&&(t==="Hours"||n>=e&&i.getHours()-r.getHours()<Math.floor(n/e))&&i["set"+t](n+e),i}}function np(t){return function(e,r,n){return t(+Mn(e,n),+Mn(r,n))}}const d5=Object.freeze(Object.defineProperty({__proto__:null,add:Co,century:INe,date:hQ,day:fQ,decade:NNe,diff:PNe,endOf:bw,eq:tp,gt:J2,gte:j0,hours:dv,inRange:dQ,lt:pk,lte:rp,max:uQ,milliseconds:cv,min:cQ,minutes:lh,month:_w,neq:hk,seconds:uv,startOf:Mn,subtract:lv,weekday:pQ,year:id},Symbol.toStringTag,{value:"Module"}));function ONe(t){if(Array.isArray(t))return PT(t)}function mQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y1(t){return ONe(t)||mQ(t)||yj(t)||jNe()}function kNe(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var mk=kNe;function RNe(t,e){return t===e||t!==t&&e!==e}var k0=RNe,DNe=typeof ia=="object"&&ia&&ia.Object===Object&&ia,gQ=DNe,MNe=gQ,LNe=typeof self=="object"&&self&&self.Object===Object&&self,$Ne=MNe||LNe||Function("return this")(),No=$Ne,FNe=No,BNe=FNe.Symbol,ip=BNe,f5=ip,vQ=Object.prototype,UNe=vQ.hasOwnProperty,VNe=vQ.toString,em=f5?f5.toStringTag:void 0;function zNe(t){var e=UNe.call(t,em),r=t[em];try{t[em]=void 0;var n=!0}catch{}var i=VNe.call(t);return n&&(e?t[em]=r:delete t[em]),i}var WNe=zNe,HNe=Object.prototype,GNe=HNe.toString;function qNe(t){return GNe.call(t)}var KNe=qNe,h5=ip,YNe=WNe,XNe=KNe,QNe="[object Null]",ZNe="[object Undefined]",p5=h5?h5.toStringTag:void 0;function JNe(t){return t==null?t===void 0?ZNe:QNe:p5&&p5 in Object(t)?YNe(t):XNe(t)}var ul=JNe;function eIe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Wa=eIe;const ap=dt(Wa);var tIe=ul,rIe=Wa,nIe="[object AsyncFunction]",iIe="[object Function]",aIe="[object GeneratorFunction]",oIe="[object Proxy]";function sIe(t){if(!rIe(t))return!1;var e=tIe(t);return e==iIe||e==aIe||e==nIe||e==oIe}var e_=sIe;const Je=dt(e_);var lIe=9007199254740991;function cIe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=lIe}var gk=cIe,uIe=e_,dIe=gk;function fIe(t){return t!=null&&dIe(t.length)&&!uIe(t)}var op=fIe,hIe=9007199254740991,pIe=/^(?:0|[1-9]\d*)$/;function mIe(t,e){var r=typeof t;return e=e??hIe,!!e&&(r=="number"||r!="symbol"&&pIe.test(t))&&t>-1&&t%1==0&&t<e}var vk=mIe,gIe=k0,vIe=op,yIe=vk,xIe=Wa;function wIe(t,e,r){if(!xIe(r))return!1;var n=typeof e;return(n=="number"?vIe(r)&&yIe(e,r.length):n=="string"&&e in r)?gIe(r[e],t):!1}var sp=wIe,bIe=/\s/;function _Ie(t){for(var e=t.length;e--&&bIe.test(t.charAt(e)););return e}var SIe=_Ie,EIe=SIe,AIe=/^\s+/;function CIe(t){return t&&t.slice(0,EIe(t)+1).replace(AIe,"")}var TIe=CIe;function NIe(t){return t!=null&&typeof t=="object"}var Io=NIe,IIe=ul,PIe=Io,OIe="[object Symbol]";function jIe(t){return typeof t=="symbol"||PIe(t)&&IIe(t)==OIe}var lp=jIe,kIe=TIe,m5=Wa,RIe=lp,g5=NaN,DIe=/^[-+]0x[0-9a-f]+$/i,MIe=/^0b[01]+$/i,LIe=/^0o[0-7]+$/i,$Ie=parseInt;function FIe(t){if(typeof t=="number")return t;if(RIe(t))return g5;if(m5(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=m5(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=kIe(t);var r=MIe.test(t);return r||LIe.test(t)?$Ie(t.slice(2),r?2:8):DIe.test(t)?g5:+t}var yQ=FIe,BIe=yQ,UIe=1/0,VIe=17976931348623157e292;function zIe(t){if(!t)return t===0?t:0;if(t=BIe(t),t===UIe||t===-1/0){var e=t<0?-1:1;return e*VIe}return t===t?t:0}var xQ=zIe,WIe=xQ;function HIe(t){var e=WIe(t),r=e%1;return e===e?r?e-r:e:0}var wQ=HIe,GIe=mk,qIe=sp,KIe=wQ,YIe=Math.ceil,XIe=Math.max;function QIe(t,e,r){(r?qIe(t,e,r):e===void 0)?e=1:e=XIe(KIe(e),0);var n=t==null?0:t.length;if(!n||e<1)return[];for(var i=0,a=0,o=Array(YIe(n/e));i<n;)o[a++]=GIe(t,i,i+=e);return o}var ZIe=QIe;const JIe=dt(ZIe);function R0(t){return t&&t.ownerDocument||document}function ePe(t){var e=R0(t);return e&&e.defaultView||window}function tPe(t,e){return ePe(t).getComputedStyle(t,e)}var rPe=/([A-Z])/g;function nPe(t){return t.replace(rPe,"-$1").toLowerCase()}var iPe=/^ms-/;function Ky(t){return nPe(t).replace(iPe,"-ms-")}var aPe=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function oPe(t){return!!(t&&aPe.test(t))}function Hd(t,e){var r="",n="";if(typeof e=="string")return t.style.getPropertyValue(Ky(e))||tPe(t).getPropertyValue(Ky(e));Object.keys(e).forEach(function(i){var a=e[i];!a&&a!==0?t.style.removeProperty(Ky(i)):oPe(i)?n+=i+"("+a+") ":r+=Ky(i)+": "+a+";"}),n&&(r+="transform: "+n+";"),t.style.cssText+=";"+r}function fv(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function sPe(t){return"nodeType"in t&&t.nodeType===document.DOCUMENT_NODE}function yk(t){return"window"in t&&t.window===t?t:sPe(t)&&t.defaultView||!1}function bQ(t){var e=t==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,i){var a=yk(n);if(i===void 0)return a?a[t]:n[e];a?a.scrollTo(a[t],i):n[e]=i}return r}const _Q=bQ("pageXOffset"),SQ=bQ("pageYOffset");function ju(t){var e=R0(t),r={top:0,left:0,height:0,width:0},n=e&&e.documentElement;return!n||!fv(n,t)||(t.getBoundingClientRect!==void 0&&(r=t.getBoundingClientRect()),r={top:r.top+SQ(n)-(n.clientTop||0),left:r.left+_Q(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var lPe=function(e){return!!e&&"offsetParent"in e};function cPe(t){for(var e=R0(t),r=t&&t.offsetParent;lPe(r)&&r.nodeName!=="HTML"&&Hd(r,"position")==="static";)r=r.offsetParent;return r||e.documentElement}var uPe=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function EQ(t,e){var r={top:0,left:0},n;if(Hd(t,"position")==="fixed")n=t.getBoundingClientRect();else{var i=e||cPe(t);n=ju(t),uPe(i)!=="html"&&(r=ju(i));var a=String(Hd(i,"borderTopWidth")||0);r.top+=parseInt(a,10)-SQ(i)||0;var o=String(Hd(i,"borderLeftWidth")||0);r.left+=parseInt(o,10)-_Q(i)||0}var s=String(Hd(t,"marginTop")||0),l=String(Hd(t,"marginLeft")||0);return Nr({},n,{top:n.top-r.top-(parseInt(s,10)||0),left:n.left-r.left-(parseInt(l,10)||0)})}const xk=!!(typeof window<"u"&&window.document&&window.document.createElement);var v5=new Date().getTime();function dPe(t){var e=new Date().getTime(),r=Math.max(0,16-(e-v5)),n=setTimeout(t,r);return v5=e,n}var fPe=["","webkit","moz","o","ms"],iN="clearTimeout",aN=dPe,y5=function(e,r){return e+(e?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};xk&&fPe.some(function(t){var e=y5(t,"request");return e in window&&(iN=y5(t,"cancel"),aN=function(n){return window[e](n)}),!!aN});var x5=function(e){typeof window[iN]=="function"&&window[iN](e)},AQ=aN,WE;function hPe(t,e){if(!WE){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;WE=function(a,o){return n.call(a,o)}}return WE(t,e)}var pPe=Function.prototype.bind.call(Function.prototype.call,[].slice);function mPe(t,e){return pPe(t.querySelectorAll(e))}var oN=!1,sN=!1;try{var HE={get passive(){return oN=!0},get once(){return sN=oN=!0}};xk&&(window.addEventListener("test",HE,HE),window.removeEventListener("test",HE,!0))}catch{}function gPe(t,e,r,n){if(n&&typeof n!="boolean"&&!sN){var i=n.once,a=n.capture,o=r;!sN&&i&&(o=r.__once||function s(l){this.removeEventListener(e,s,a),r.call(this,l)},r.__once=o),t.addEventListener(e,o,oN?n:a)}t.addEventListener(e,r,n)}function vPe(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t},[t]),e}function w5(t){const e=vPe(t);return b.useCallback(function(...r){return e.current&&e.current(...r)},[e])}function b5(){return b.useState(null)}function yPe(){const t=b.useRef(!0),e=b.useRef(()=>t.current);return b.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function xPe(t){const e=yPe();return[t[0],b.useCallback(r=>{if(e())return t[1](r)},[e,t[1]])]}var zi="top",Fa="bottom",Ba="right",Wi="left",wk="auto",D0=[zi,Fa,Ba,Wi],ch="start",hv="end",wPe="clippingParents",CQ="viewport",tm="popper",bPe="reference",_5=D0.reduce(function(t,e){return t.concat([e+"-"+ch,e+"-"+hv])},[]),bk=[].concat(D0,[wk]).reduce(function(t,e){return t.concat([e,e+"-"+ch,e+"-"+hv])},[]),_Pe="beforeRead",SPe="read",EPe="afterRead",APe="beforeMain",CPe="main",TPe="afterMain",NPe="beforeWrite",IPe="write",PPe="afterWrite",OPe=[_Pe,SPe,EPe,APe,CPe,TPe,NPe,IPe,PPe];function Qo(t){return t.split("-")[0]}function pa(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ad(t){var e=pa(t).Element;return t instanceof e||t instanceof Element}function Zo(t){var e=pa(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function _k(t){if(typeof ShadowRoot>"u")return!1;var e=pa(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var ku=Math.max,Sw=Math.min,uh=Math.round;function lN(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function TQ(){return!/^((?!chrome|android).)*safari/i.test(lN())}function dh(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,a=1;e&&Zo(t)&&(i=t.offsetWidth>0&&uh(n.width)/t.offsetWidth||1,a=t.offsetHeight>0&&uh(n.height)/t.offsetHeight||1);var o=ad(t)?pa(t):window,s=o.visualViewport,l=!TQ()&&r,u=(n.left+(l&&s?s.offsetLeft:0))/i,d=(n.top+(l&&s?s.offsetTop:0))/a,f=n.width/i,h=n.height/a;return{width:f,height:h,top:d,right:u+f,bottom:d+h,left:u,x:u,y:d}}function Sk(t){var e=dh(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function NQ(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&_k(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Ic(t){return t?(t.nodeName||"").toLowerCase():null}function tl(t){return pa(t).getComputedStyle(t)}function jPe(t){return["table","td","th"].indexOf(Ic(t))>=0}function Wc(t){return((ad(t)?t.ownerDocument:t.document)||window.document).documentElement}function t_(t){return Ic(t)==="html"?t:t.assignedSlot||t.parentNode||(_k(t)?t.host:null)||Wc(t)}function S5(t){return!Zo(t)||tl(t).position==="fixed"?null:t.offsetParent}function kPe(t){var e=/firefox/i.test(lN()),r=/Trident/i.test(lN());if(r&&Zo(t)){var n=tl(t);if(n.position==="fixed")return null}var i=t_(t);for(_k(i)&&(i=i.host);Zo(i)&&["html","body"].indexOf(Ic(i))<0;){var a=tl(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function M0(t){for(var e=pa(t),r=S5(t);r&&jPe(r)&&tl(r).position==="static";)r=S5(r);return r&&(Ic(r)==="html"||Ic(r)==="body"&&tl(r).position==="static")?e:r||kPe(t)||e}function Ek(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ag(t,e,r){return ku(t,Sw(e,r))}function RPe(t,e,r){var n=ag(t,e,r);return n>r?r:n}function IQ(){return{top:0,right:0,bottom:0,left:0}}function PQ(t){return Object.assign({},IQ(),t)}function OQ(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var DPe=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,PQ(typeof e!="number"?e:OQ(e,D0))};function MPe(t){var e,r=t.state,n=t.name,i=t.options,a=r.elements.arrow,o=r.modifiersData.popperOffsets,s=Qo(r.placement),l=Ek(s),u=[Wi,Ba].indexOf(s)>=0,d=u?"height":"width";if(!(!a||!o)){var f=DPe(i.padding,r),h=Sk(a),p=l==="y"?zi:Wi,m=l==="y"?Fa:Ba,g=r.rects.reference[d]+r.rects.reference[l]-o[l]-r.rects.popper[d],v=o[l]-r.rects.reference[l],x=M0(a),y=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,w=g/2-v/2,S=f[p],E=y-h[d]-f[m],C=y/2-h[d]/2+w,A=ag(S,C,E),T=l;r.modifiersData[n]=(e={},e[T]=A,e.centerOffset=A-C,e)}}function LPe(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||NQ(e.elements.popper,i)&&(e.elements.arrow=i))}const $Pe={name:"arrow",enabled:!0,phase:"main",fn:MPe,effect:LPe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function fh(t){return t.split("-")[1]}var FPe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function BPe(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:uh(r*i)/i||0,y:uh(n*i)/i||0}}function E5(t){var e,r=t.popper,n=t.popperRect,i=t.placement,a=t.variation,o=t.offsets,s=t.position,l=t.gpuAcceleration,u=t.adaptive,d=t.roundOffsets,f=t.isFixed,h=o.x,p=h===void 0?0:h,m=o.y,g=m===void 0?0:m,v=typeof d=="function"?d({x:p,y:g}):{x:p,y:g};p=v.x,g=v.y;var x=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),w=Wi,S=zi,E=window;if(u){var C=M0(r),A="clientHeight",T="clientWidth";if(C===pa(r)&&(C=Wc(r),tl(C).position!=="static"&&s==="absolute"&&(A="scrollHeight",T="scrollWidth")),C=C,i===zi||(i===Wi||i===Ba)&&a===hv){S=Fa;var N=f&&C===E&&E.visualViewport?E.visualViewport.height:C[A];g-=N-n.height,g*=l?1:-1}if(i===Wi||(i===zi||i===Fa)&&a===hv){w=Ba;var I=f&&C===E&&E.visualViewport?E.visualViewport.width:C[T];p-=I-n.width,p*=l?1:-1}}var j=Object.assign({position:s},u&&FPe),O=d===!0?BPe({x:p,y:g},pa(r)):{x:p,y:g};if(p=O.x,g=O.y,l){var P;return Object.assign({},j,(P={},P[S]=y?"0":"",P[w]=x?"0":"",P.transform=(E.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",P))}return Object.assign({},j,(e={},e[S]=y?g+"px":"",e[w]=x?p+"px":"",e.transform="",e))}function UPe(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,a=r.adaptive,o=a===void 0?!0:a,s=r.roundOffsets,l=s===void 0?!0:s,u={placement:Qo(e.placement),variation:fh(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,E5(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,E5(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const VPe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:UPe,data:{}};var Yy={passive:!0};function zPe(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,a=i===void 0?!0:i,o=n.resize,s=o===void 0?!0:o,l=pa(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&u.forEach(function(d){d.addEventListener("scroll",r.update,Yy)}),s&&l.addEventListener("resize",r.update,Yy),function(){a&&u.forEach(function(d){d.removeEventListener("scroll",r.update,Yy)}),s&&l.removeEventListener("resize",r.update,Yy)}}const WPe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:zPe,data:{}};var HPe={left:"right",right:"left",bottom:"top",top:"bottom"};function X1(t){return t.replace(/left|right|bottom|top/g,function(e){return HPe[e]})}var GPe={start:"end",end:"start"};function A5(t){return t.replace(/start|end/g,function(e){return GPe[e]})}function Ak(t){var e=pa(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Ck(t){return dh(Wc(t)).left+Ak(t).scrollLeft}function qPe(t,e){var r=pa(t),n=Wc(t),i=r.visualViewport,a=n.clientWidth,o=n.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;var u=TQ();(u||!u&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s+Ck(t),y:l}}function KPe(t){var e,r=Wc(t),n=Ak(t),i=(e=t.ownerDocument)==null?void 0:e.body,a=ku(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=ku(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+Ck(t),l=-n.scrollTop;return tl(i||r).direction==="rtl"&&(s+=ku(r.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:l}}function Tk(t){var e=tl(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function jQ(t){return["html","body","#document"].indexOf(Ic(t))>=0?t.ownerDocument.body:Zo(t)&&Tk(t)?t:jQ(t_(t))}function og(t,e){var r;e===void 0&&(e=[]);var n=jQ(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),a=pa(n),o=i?[a].concat(a.visualViewport||[],Tk(n)?n:[]):n,s=e.concat(o);return i?s:s.concat(og(t_(o)))}function cN(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function YPe(t,e){var r=dh(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function C5(t,e,r){return e===CQ?cN(qPe(t,r)):ad(e)?YPe(e,r):cN(KPe(Wc(t)))}function XPe(t){var e=og(t_(t)),r=["absolute","fixed"].indexOf(tl(t).position)>=0,n=r&&Zo(t)?M0(t):t;return ad(n)?e.filter(function(i){return ad(i)&&NQ(i,n)&&Ic(i)!=="body"}):[]}function QPe(t,e,r,n){var i=e==="clippingParents"?XPe(t):[].concat(e),a=[].concat(i,[r]),o=a[0],s=a.reduce(function(l,u){var d=C5(t,u,n);return l.top=ku(d.top,l.top),l.right=Sw(d.right,l.right),l.bottom=Sw(d.bottom,l.bottom),l.left=ku(d.left,l.left),l},C5(t,o,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function kQ(t){var e=t.reference,r=t.element,n=t.placement,i=n?Qo(n):null,a=n?fh(n):null,o=e.x+e.width/2-r.width/2,s=e.y+e.height/2-r.height/2,l;switch(i){case zi:l={x:o,y:e.y-r.height};break;case Fa:l={x:o,y:e.y+e.height};break;case Ba:l={x:e.x+e.width,y:s};break;case Wi:l={x:e.x-r.width,y:s};break;default:l={x:e.x,y:e.y}}var u=i?Ek(i):null;if(u!=null){var d=u==="y"?"height":"width";switch(a){case ch:l[u]=l[u]-(e[d]/2-r[d]/2);break;case hv:l[u]=l[u]+(e[d]/2-r[d]/2);break}}return l}function pv(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,a=r.strategy,o=a===void 0?t.strategy:a,s=r.boundary,l=s===void 0?wPe:s,u=r.rootBoundary,d=u===void 0?CQ:u,f=r.elementContext,h=f===void 0?tm:f,p=r.altBoundary,m=p===void 0?!1:p,g=r.padding,v=g===void 0?0:g,x=PQ(typeof v!="number"?v:OQ(v,D0)),y=h===tm?bPe:tm,w=t.rects.popper,S=t.elements[m?y:h],E=QPe(ad(S)?S:S.contextElement||Wc(t.elements.popper),l,d,o),C=dh(t.elements.reference),A=kQ({reference:C,element:w,placement:i}),T=cN(Object.assign({},w,A)),N=h===tm?T:C,I={top:E.top-N.top+x.top,bottom:N.bottom-E.bottom+x.bottom,left:E.left-N.left+x.left,right:N.right-E.right+x.right},j=t.modifiersData.offset;if(h===tm&&j){var O=j[i];Object.keys(I).forEach(function(P){var M=[Ba,Fa].indexOf(P)>=0?1:-1,F=[zi,Fa].indexOf(P)>=0?"y":"x";I[P]+=O[F]*M})}return I}function ZPe(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,a=r.rootBoundary,o=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?bk:l,d=fh(n),f=d?s?_5:_5.filter(function(m){return fh(m)===d}):D0,h=f.filter(function(m){return u.indexOf(m)>=0});h.length===0&&(h=f);var p=h.reduce(function(m,g){return m[g]=pv(t,{placement:g,boundary:i,rootBoundary:a,padding:o})[Qo(g)],m},{});return Object.keys(p).sort(function(m,g){return p[m]-p[g]})}function JPe(t){if(Qo(t)===wk)return[];var e=X1(t);return[A5(t),e,A5(e)]}function eOe(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,a=i===void 0?!0:i,o=r.altAxis,s=o===void 0?!0:o,l=r.fallbackPlacements,u=r.padding,d=r.boundary,f=r.rootBoundary,h=r.altBoundary,p=r.flipVariations,m=p===void 0?!0:p,g=r.allowedAutoPlacements,v=e.options.placement,x=Qo(v),y=x===v,w=l||(y||!m?[X1(v)]:JPe(v)),S=[v].concat(w).reduce(function(ue,de){return ue.concat(Qo(de)===wk?ZPe(e,{placement:de,boundary:d,rootBoundary:f,padding:u,flipVariations:m,allowedAutoPlacements:g}):de)},[]),E=e.rects.reference,C=e.rects.popper,A=new Map,T=!0,N=S[0],I=0;I<S.length;I++){var j=S[I],O=Qo(j),P=fh(j)===ch,M=[zi,Fa].indexOf(O)>=0,F=M?"width":"height",B=pv(e,{placement:j,boundary:d,rootBoundary:f,altBoundary:h,padding:u}),W=M?P?Ba:Wi:P?Fa:zi;E[F]>C[F]&&(W=X1(W));var $=X1(W),U=[];if(a&&U.push(B[O]<=0),s&&U.push(B[W]<=0,B[$]<=0),U.every(function(ue){return ue})){N=j,T=!1;break}A.set(j,U)}if(T)for(var X=m?3:1,H=function(de){var he=S.find(function(pe){var J=A.get(pe);if(J)return J.slice(0,de).every(function(re){return re})});if(he)return N=he,"break"},Y=X;Y>0;Y--){var Q=H(Y);if(Q==="break")break}e.placement!==N&&(e.modifiersData[n]._skip=!0,e.placement=N,e.reset=!0)}}const tOe={name:"flip",enabled:!0,phase:"main",fn:eOe,requiresIfExists:["offset"],data:{_skip:!1}};function T5(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function N5(t){return[zi,Ba,Fa,Wi].some(function(e){return t[e]>=0})}function rOe(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,o=pv(e,{elementContext:"reference"}),s=pv(e,{altBoundary:!0}),l=T5(o,n),u=T5(s,i,a),d=N5(l),f=N5(u);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const nOe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:rOe};function iOe(t,e,r){var n=Qo(t),i=[Wi,zi].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[Wi,Ba].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}function aOe(t){var e=t.state,r=t.options,n=t.name,i=r.offset,a=i===void 0?[0,0]:i,o=bk.reduce(function(d,f){return d[f]=iOe(f,e.rects,a),d},{}),s=o[e.placement],l=s.x,u=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[n]=o}const oOe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:aOe};function sOe(t){var e=t.state,r=t.name;e.modifiersData[r]=kQ({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const lOe={name:"popperOffsets",enabled:!0,phase:"read",fn:sOe,data:{}};function cOe(t){return t==="x"?"y":"x"}function uOe(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,a=i===void 0?!0:i,o=r.altAxis,s=o===void 0?!1:o,l=r.boundary,u=r.rootBoundary,d=r.altBoundary,f=r.padding,h=r.tether,p=h===void 0?!0:h,m=r.tetherOffset,g=m===void 0?0:m,v=pv(e,{boundary:l,rootBoundary:u,padding:f,altBoundary:d}),x=Qo(e.placement),y=fh(e.placement),w=!y,S=Ek(x),E=cOe(S),C=e.modifiersData.popperOffsets,A=e.rects.reference,T=e.rects.popper,N=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,I=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),j=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,O={x:0,y:0};if(C){if(a){var P,M=S==="y"?zi:Wi,F=S==="y"?Fa:Ba,B=S==="y"?"height":"width",W=C[S],$=W+v[M],U=W-v[F],X=p?-T[B]/2:0,H=y===ch?A[B]:T[B],Y=y===ch?-T[B]:-A[B],Q=e.elements.arrow,ue=p&&Q?Sk(Q):{width:0,height:0},de=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:IQ(),he=de[M],pe=de[F],J=ag(0,A[B],ue[B]),re=w?A[B]/2-X-J-he-I.mainAxis:H-J-he-I.mainAxis,L=w?-A[B]/2+X+J+pe+I.mainAxis:Y+J+pe+I.mainAxis,q=e.elements.arrow&&M0(e.elements.arrow),G=q?S==="y"?q.clientTop||0:q.clientLeft||0:0,ye=(P=j==null?void 0:j[S])!=null?P:0,me=W+re-ye-G,ie=W+L-ye,ne=ag(p?Sw($,me):$,W,p?ku(U,ie):U);C[S]=ne,O[S]=ne-W}if(s){var Oe,Z=S==="x"?zi:Wi,le=S==="x"?Fa:Ba,xe=C[E],it=E==="y"?"height":"width",yr=xe+v[Z],Wt=xe-v[le],Ht=[zi,Wi].indexOf(x)!==-1,Sn=(Oe=j==null?void 0:j[E])!=null?Oe:0,Zt=Ht?yr:xe-A[it]-T[it]-Sn+I.altAxis,Dt=Ht?xe+A[it]+T[it]-Sn-I.altAxis:Wt,Xi=p&&Ht?RPe(Zt,xe,Dt):ag(p?Zt:yr,xe,p?Dt:Wt);C[E]=Xi,O[E]=Xi-xe}e.modifiersData[n]=O}}const dOe={name:"preventOverflow",enabled:!0,phase:"main",fn:uOe,requiresIfExists:["offset"]};function fOe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function hOe(t){return t===pa(t)||!Zo(t)?Ak(t):fOe(t)}function pOe(t){var e=t.getBoundingClientRect(),r=uh(e.width)/t.offsetWidth||1,n=uh(e.height)/t.offsetHeight||1;return r!==1||n!==1}function mOe(t,e,r){r===void 0&&(r=!1);var n=Zo(e),i=Zo(e)&&pOe(e),a=Wc(e),o=dh(t,i,r),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((Ic(e)!=="body"||Tk(a))&&(s=hOe(e)),Zo(e)?(l=dh(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):a&&(l.x=Ck(a))),{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function gOe(t){var e=new Map,r=new Set,n=[];t.forEach(function(a){e.set(a.name,a)});function i(a){r.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(s){if(!r.has(s)){var l=e.get(s);l&&i(l)}}),n.push(a)}return t.forEach(function(a){r.has(a.name)||i(a)}),n}function vOe(t){var e=gOe(t);return OPe.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function yOe(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function xOe(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var I5={placement:"bottom",modifiers:[],strategy:"absolute"};function P5(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function wOe(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,a=i===void 0?I5:i;return function(s,l,u){u===void 0&&(u=a);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},I5,a),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},f=[],h=!1,p={state:d,setOptions:function(x){var y=typeof x=="function"?x(d.options):x;g(),d.options=Object.assign({},a,d.options,y),d.scrollParents={reference:ad(s)?og(s):s.contextElement?og(s.contextElement):[],popper:og(l)};var w=vOe(xOe([].concat(n,d.options.modifiers)));return d.orderedModifiers=w.filter(function(S){return S.enabled}),m(),p.update()},forceUpdate:function(){if(!h){var x=d.elements,y=x.reference,w=x.popper;if(P5(y,w)){d.rects={reference:mOe(y,M0(w),d.options.strategy==="fixed"),popper:Sk(w)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(I){return d.modifiersData[I.name]=Object.assign({},I.data)});for(var S=0;S<d.orderedModifiers.length;S++){if(d.reset===!0){d.reset=!1,S=-1;continue}var E=d.orderedModifiers[S],C=E.fn,A=E.options,T=A===void 0?{}:A,N=E.name;typeof C=="function"&&(d=C({state:d,options:T,name:N,instance:p})||d)}}}},update:yOe(function(){return new Promise(function(v){p.forceUpdate(),v(d)})}),destroy:function(){g(),h=!0}};if(!P5(s,l))return p;p.setOptions(u).then(function(v){!h&&u.onFirstUpdate&&u.onFirstUpdate(v)});function m(){d.orderedModifiers.forEach(function(v){var x=v.name,y=v.options,w=y===void 0?{}:y,S=v.effect;if(typeof S=="function"){var E=S({state:d,name:x,instance:p,options:w}),C=function(){};f.push(E||C)}})}function g(){f.forEach(function(v){return v()}),f=[]}return p}}var bOe=wOe({defaultModifiers:[nOe,lOe,VPe,WPe,oOe,tOe,dOe,$Pe]}),O5=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},_Oe={name:"applyStyles",enabled:!1},SOe={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var r=e.state;return function(){var n=r.elements,i=n.reference,a=n.popper;if("removeAttribute"in i){var o=(i.getAttribute("aria-describedby")||"").split(",").filter(function(s){return s.trim()!==a.id});o.length?i.setAttribute("aria-describedby",o.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(e){var r,n=e.state,i=n.elements,a=i.popper,o=i.reference,s=(r=a.getAttribute("role"))==null?void 0:r.toLowerCase();if(a.id&&s==="tooltip"&&"setAttribute"in o){var l=o.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(a.id)!==-1)return;o.setAttribute("aria-describedby",l?l+","+a.id:a.id)}}},EOe=[];function AOe(t,e,r){var n=r===void 0?{}:r,i=n.enabled,a=i===void 0?!0:i,o=n.placement,s=o===void 0?"bottom":o,l=n.strategy,u=l===void 0?"absolute":l,d=n.modifiers,f=d===void 0?EOe:d,h=Z2(n,["enabled","placement","strategy","modifiers"]),p=b.useRef(),m=b.useCallback(function(){var S;(S=p.current)==null||S.update()},[]),g=b.useCallback(function(){var S;(S=p.current)==null||S.forceUpdate()},[]),v=xPe(b.useState({placement:s,update:m,forceUpdate:g,attributes:{},styles:{popper:O5(u),arrow:{}}})),x=v[0],y=v[1],w=b.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(E){var C=E.state,A={},T={};Object.keys(C.elements).forEach(function(N){A[N]=C.styles[N],T[N]=C.attributes[N]}),y({state:C,styles:A,attributes:T,update:m,forceUpdate:g,placement:C.placement})}}},[m,g,y]);return b.useEffect(function(){!p.current||!a||p.current.setOptions({placement:s,strategy:u,modifiers:[].concat(f,[w,_Oe])})},[u,s,w,a]),b.useEffect(function(){if(!(!a||t==null||e==null))return p.current=bOe(t,e,Nr({},h,{placement:s,strategy:u,modifiers:[].concat(f,[SOe,w])})),function(){p.current!=null&&(p.current.destroy(),p.current=void 0,y(function(S){return Nr({},S,{attributes:{},styles:{popper:O5(u)}})}))}},[a,t,e]),x}function COe(t,e,r,n){var i=n&&typeof n!="boolean"?n.capture:n;t.removeEventListener(e,r,i),r.__once&&t.removeEventListener(e,r.__once,i)}function Nm(t,e,r,n){return gPe(t,e,r,n),function(){COe(t,e,r,n)}}var TOe=function(){},NOe=TOe;const IOe=dt(NOe);function POe(t){return t&&"setState"in t?Hb.findDOMNode(t):t??null}const OOe=function(t){return R0(POe(t))};var jOe=27,j5=function(){};function kOe(t){return t.button===0}function ROe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var k5=function(e){return e&&("current"in e?e.current:e)};function DOe(t,e,r){var n=r===void 0?{}:r,i=n.disabled,a=n.clickTrigger,o=a===void 0?"click":a,s=b.useRef(!1),l=e||j5,u=b.useCallback(function(h){var p,m=k5(t);IOe(!!m,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),s.current=!m||ROe(h)||!kOe(h)||!!fv(m,(p=h.composedPath==null?void 0:h.composedPath()[0])!=null?p:h.target)},[t]),d=w5(function(h){s.current||l(h)}),f=w5(function(h){h.keyCode===jOe&&l(h)});b.useEffect(function(){if(!(i||t==null)){var h=window.event,p=OOe(k5(t)),m=Nm(p,o,u,!0),g=Nm(p,o,function(y){if(y===h){h=void 0;return}d(y)}),v=Nm(p,"keyup",function(y){if(y===h){h=void 0;return}f(y)}),x=[];return"ontouchstart"in p.documentElement&&(x=[].slice.call(p.body.children).map(function(y){return Nm(y,"mousemove",j5)})),function(){m(),g(),v(),x.forEach(function(y){return y()})}}},[t,i,o,u,d,f])}function MOe(t){var e={};return Array.isArray(t)?(t==null||t.forEach(function(r){e[r.name]=r}),e):t||e}function LOe(t){return t===void 0&&(t={}),Array.isArray(t)?t:Object.keys(t).map(function(e){return t[e].name=e,t[e]})}function $Oe(t){var e,r,n,i,a=t.enabled,o=t.enableEvents,s=t.placement,l=t.flip,u=t.offset,d=t.fixed,f=t.containerPadding,h=t.arrowElement,p=t.popperConfig,m=p===void 0?{}:p,g=MOe(m.modifiers);return Nr({},m,{placement:s,enabled:a,strategy:d?"fixed":m.strategy,modifiers:LOe(Nr({},g,{eventListeners:{enabled:o},preventOverflow:Nr({},g.preventOverflow,{options:f?Nr({padding:f},(e=g.preventOverflow)==null?void 0:e.options):(r=g.preventOverflow)==null?void 0:r.options}),offset:{options:Nr({offset:u},(n=g.offset)==null?void 0:n.options)},arrow:Nr({},g.arrow,{enabled:!!h,options:Nr({},(i=g.arrow)==null?void 0:i.options,{element:h})}),flip:Nr({enabled:!!l},g.flip)}))})}function FOe(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function BOe(t,e){t.classList?t.classList.add(e):FOe(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function R5(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function UOe(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=R5(t.className,e):t.setAttribute("class",R5(t.className&&t.className.baseVal||"",e))}var Xy;function Nk(t){if((!Xy&&Xy!==0||t)&&xk){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Xy=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Xy}var GE=function(e){var r;return typeof document>"u"?null:e==null?R0().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(r=e)!=null&&r.nodeType&&e||null)};function D5(t,e){var r=b.useState(function(){return GE(t)}),n=r[0],i=r[1];if(!n){var a=GE(t);a&&i(a)}return b.useEffect(function(){},[e,n]),b.useEffect(function(){var o=GE(t);o!==n&&i(o)},[t,n]),n}const M5=t=>!t||typeof t=="function"?t:e=>{t.current=e};function VOe(t,e){const r=M5(t),n=M5(e);return i=>{r&&r(i),n&&n(i)}}function zOe(t,e){return b.useMemo(()=>VOe(t,e),[t,e])}var Ik=D.forwardRef(function(t,e){var r=t.flip,n=t.offset,i=t.placement,a=t.containerPadding,o=a===void 0?5:a,s=t.popperConfig,l=s===void 0?{}:s,u=t.transition,d=b5(),f=d[0],h=d[1],p=b5(),m=p[0],g=p[1],v=zOe(h,e),x=D5(t.container),y=D5(t.target),w=b.useState(!t.show),S=w[0],E=w[1],C=AOe(y,f,$Oe({placement:i,enableEvents:!!t.show,containerPadding:o||5,flip:r,offset:n,arrowElement:m,popperConfig:l})),A=C.styles,T=C.attributes,N=Z2(C,["styles","attributes"]);t.show?S&&E(!1):!t.transition&&!S&&E(!0);var I=function(){E(!0),t.onExited&&t.onExited.apply(t,arguments)},j=t.show||u&&!S;if(DOe(f,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!j)return null;var O=t.children(Nr({},N,{show:!!t.show,props:Nr({},T.popper,{style:A.popper,ref:v}),arrowProps:Nr({},T.arrow,{style:A.arrow,ref:g})}));if(u){var P=t.onExit,M=t.onExiting,F=t.onEnter,B=t.onEntering,W=t.onEntered;O=D.createElement(u,{in:t.show,appear:!0,onExit:P,onExiting:M,onExited:I,onEnter:F,onEntering:B,onEntered:W},O)}return x?Hb.createPortal(O,x):null});Ik.displayName="Overlay";Ik.propTypes={show:fe.bool,placement:fe.oneOf(bk),target:fe.any,container:fe.any,flip:fe.bool,children:fe.func.isRequired,containerPadding:fe.number,popperConfig:fe.object,rootClose:fe.bool,rootCloseEvent:fe.oneOf(["click","mousedown"]),rootCloseDisabled:fe.bool,onHide:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(e.rootClose){var a;return(a=fe.func).isRequired.apply(a,[e].concat(n))}return fe.func.apply(fe,[e].concat(n))},transition:fe.elementType,onEnter:fe.func,onEntering:fe.func,onEntered:fe.func,onExit:fe.func,onExiting:fe.func,onExited:fe.func};function WOe(){this.__data__=[],this.size=0}var HOe=WOe,GOe=k0;function qOe(t,e){for(var r=t.length;r--;)if(GOe(t[r][0],e))return r;return-1}var r_=qOe,KOe=r_,YOe=Array.prototype,XOe=YOe.splice;function QOe(t){var e=this.__data__,r=KOe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():XOe.call(e,r,1),--this.size,!0}var ZOe=QOe,JOe=r_;function eje(t){var e=this.__data__,r=JOe(e,t);return r<0?void 0:e[r][1]}var tje=eje,rje=r_;function nje(t){return rje(this.__data__,t)>-1}var ije=nje,aje=r_;function oje(t,e){var r=this.__data__,n=aje(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var sje=oje,lje=HOe,cje=ZOe,uje=tje,dje=ije,fje=sje;function cp(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}cp.prototype.clear=lje;cp.prototype.delete=cje;cp.prototype.get=uje;cp.prototype.has=dje;cp.prototype.set=fje;var n_=cp,hje=n_;function pje(){this.__data__=new hje,this.size=0}var mje=pje;function gje(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var vje=gje;function yje(t){return this.__data__.get(t)}var xje=yje;function wje(t){return this.__data__.has(t)}var bje=wje,_je=No,Sje=_je["__core-js_shared__"],Eje=Sje,qE=Eje,L5=function(){var t=/[^.]+$/.exec(qE&&qE.keys&&qE.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Aje(t){return!!L5&&L5 in t}var Cje=Aje,Tje=Function.prototype,Nje=Tje.toString;function Ije(t){if(t!=null){try{return Nje.call(t)}catch{}try{return t+""}catch{}}return""}var RQ=Ije,Pje=e_,Oje=Cje,jje=Wa,kje=RQ,Rje=/[\\^$.*+?()[\]{}|]/g,Dje=/^\[object .+?Constructor\]$/,Mje=Function.prototype,Lje=Object.prototype,$je=Mje.toString,Fje=Lje.hasOwnProperty,Bje=RegExp("^"+$je.call(Fje).replace(Rje,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Uje(t){if(!jje(t)||Oje(t))return!1;var e=Pje(t)?Bje:Dje;return e.test(kje(t))}var Vje=Uje;function zje(t,e){return t==null?void 0:t[e]}var Wje=zje,Hje=Vje,Gje=Wje;function qje(t,e){var r=Gje(t,e);return Hje(r)?r:void 0}var Ed=qje,Kje=Ed,Yje=No,Xje=Kje(Yje,"Map"),Pk=Xje,Qje=Ed,Zje=Qje(Object,"create"),i_=Zje,$5=i_;function Jje(){this.__data__=$5?$5(null):{},this.size=0}var eke=Jje;function tke(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var rke=tke,nke=i_,ike="__lodash_hash_undefined__",ake=Object.prototype,oke=ake.hasOwnProperty;function ske(t){var e=this.__data__;if(nke){var r=e[t];return r===ike?void 0:r}return oke.call(e,t)?e[t]:void 0}var lke=ske,cke=i_,uke=Object.prototype,dke=uke.hasOwnProperty;function fke(t){var e=this.__data__;return cke?e[t]!==void 0:dke.call(e,t)}var hke=fke,pke=i_,mke="__lodash_hash_undefined__";function gke(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=pke&&e===void 0?mke:e,this}var vke=gke,yke=eke,xke=rke,wke=lke,bke=hke,_ke=vke;function up(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}up.prototype.clear=yke;up.prototype.delete=xke;up.prototype.get=wke;up.prototype.has=bke;up.prototype.set=_ke;var Ske=up,F5=Ske,Eke=n_,Ake=Pk;function Cke(){this.size=0,this.__data__={hash:new F5,map:new(Ake||Eke),string:new F5}}var Tke=Cke;function Nke(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Ike=Nke,Pke=Ike;function Oke(t,e){var r=t.__data__;return Pke(e)?r[typeof e=="string"?"string":"hash"]:r.map}var a_=Oke,jke=a_;function kke(t){var e=jke(this,t).delete(t);return this.size-=e?1:0,e}var Rke=kke,Dke=a_;function Mke(t){return Dke(this,t).get(t)}var Lke=Mke,$ke=a_;function Fke(t){return $ke(this,t).has(t)}var Bke=Fke,Uke=a_;function Vke(t,e){var r=Uke(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var zke=Vke,Wke=Tke,Hke=Rke,Gke=Lke,qke=Bke,Kke=zke;function dp(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}dp.prototype.clear=Wke;dp.prototype.delete=Hke;dp.prototype.get=Gke;dp.prototype.has=qke;dp.prototype.set=Kke;var Ok=dp,Yke=n_,Xke=Pk,Qke=Ok,Zke=200;function Jke(t,e){var r=this.__data__;if(r instanceof Yke){var n=r.__data__;if(!Xke||n.length<Zke-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Qke(n)}return r.set(t,e),this.size=r.size,this}var e3e=Jke,t3e=n_,r3e=mje,n3e=vje,i3e=xje,a3e=bje,o3e=e3e;function fp(t){var e=this.__data__=new t3e(t);this.size=e.size}fp.prototype.clear=r3e;fp.prototype.delete=n3e;fp.prototype.get=i3e;fp.prototype.has=a3e;fp.prototype.set=o3e;var jk=fp,s3e="__lodash_hash_undefined__";function l3e(t){return this.__data__.set(t,s3e),this}var c3e=l3e;function u3e(t){return this.__data__.has(t)}var d3e=u3e,f3e=Ok,h3e=c3e,p3e=d3e;function Ew(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new f3e;++e<r;)this.add(t[e])}Ew.prototype.add=Ew.prototype.push=h3e;Ew.prototype.has=p3e;var DQ=Ew;function m3e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var MQ=m3e;function g3e(t,e){return t.has(e)}var LQ=g3e,v3e=DQ,y3e=MQ,x3e=LQ,w3e=1,b3e=2;function _3e(t,e,r,n,i,a){var o=r&w3e,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,p=r&b3e?new v3e:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var m=t[f],g=e[f];if(n)var v=o?n(g,m,f,e,t,a):n(m,g,f,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!y3e(e,function(x,y){if(!x3e(p,y)&&(m===x||i(m,x,r,n,a)))return p.push(y)})){h=!1;break}}else if(!(m===g||i(m,g,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var $Q=_3e,S3e=No,E3e=S3e.Uint8Array,FQ=E3e;function A3e(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var C3e=A3e;function T3e(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var kk=T3e,B5=ip,U5=FQ,N3e=k0,I3e=$Q,P3e=C3e,O3e=kk,j3e=1,k3e=2,R3e="[object Boolean]",D3e="[object Date]",M3e="[object Error]",L3e="[object Map]",$3e="[object Number]",F3e="[object RegExp]",B3e="[object Set]",U3e="[object String]",V3e="[object Symbol]",z3e="[object ArrayBuffer]",W3e="[object DataView]",V5=B5?B5.prototype:void 0,KE=V5?V5.valueOf:void 0;function H3e(t,e,r,n,i,a,o){switch(r){case W3e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case z3e:return!(t.byteLength!=e.byteLength||!a(new U5(t),new U5(e)));case R3e:case D3e:case $3e:return N3e(+t,+e);case M3e:return t.name==e.name&&t.message==e.message;case F3e:case U3e:return t==e+"";case L3e:var s=P3e;case B3e:var l=n&j3e;if(s||(s=O3e),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;n|=k3e,o.set(t,e);var d=I3e(s(t),s(e),n,i,a,o);return o.delete(t),d;case V3e:if(KE)return KE.call(t)==KE.call(e)}return!1}var G3e=H3e;function q3e(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var Rk=q3e,K3e=Array.isArray,oi=K3e,Y3e=Rk,X3e=oi;function Q3e(t,e,r){var n=e(t);return X3e(t)?n:Y3e(n,r(t))}var BQ=Q3e;function Z3e(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var J3e=Z3e;function eRe(){return[]}var UQ=eRe,tRe=J3e,rRe=UQ,nRe=Object.prototype,iRe=nRe.propertyIsEnumerable,z5=Object.getOwnPropertySymbols,aRe=z5?function(t){return t==null?[]:(t=Object(t),tRe(z5(t),function(e){return iRe.call(t,e)}))}:rRe,Dk=aRe;function oRe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var sRe=oRe,lRe=ul,cRe=Io,uRe="[object Arguments]";function dRe(t){return cRe(t)&&lRe(t)==uRe}var fRe=dRe,W5=fRe,hRe=Io,VQ=Object.prototype,pRe=VQ.hasOwnProperty,mRe=VQ.propertyIsEnumerable,gRe=W5(function(){return arguments}())?W5:function(t){return hRe(t)&&pRe.call(t,"callee")&&!mRe.call(t,"callee")},Mk=gRe,Aw={exports:{}};function vRe(){return!1}var yRe=vRe;Aw.exports;(function(t,e){var r=No,n=yRe,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;t.exports=u})(Aw,Aw.exports);var o_=Aw.exports,xRe=ul,wRe=gk,bRe=Io,_Re="[object Arguments]",SRe="[object Array]",ERe="[object Boolean]",ARe="[object Date]",CRe="[object Error]",TRe="[object Function]",NRe="[object Map]",IRe="[object Number]",PRe="[object Object]",ORe="[object RegExp]",jRe="[object Set]",kRe="[object String]",RRe="[object WeakMap]",DRe="[object ArrayBuffer]",MRe="[object DataView]",LRe="[object Float32Array]",$Re="[object Float64Array]",FRe="[object Int8Array]",BRe="[object Int16Array]",URe="[object Int32Array]",VRe="[object Uint8Array]",zRe="[object Uint8ClampedArray]",WRe="[object Uint16Array]",HRe="[object Uint32Array]",nr={};nr[LRe]=nr[$Re]=nr[FRe]=nr[BRe]=nr[URe]=nr[VRe]=nr[zRe]=nr[WRe]=nr[HRe]=!0;nr[_Re]=nr[SRe]=nr[DRe]=nr[ERe]=nr[MRe]=nr[ARe]=nr[CRe]=nr[TRe]=nr[NRe]=nr[IRe]=nr[PRe]=nr[ORe]=nr[jRe]=nr[kRe]=nr[RRe]=!1;function GRe(t){return bRe(t)&&wRe(t.length)&&!!nr[xRe(t)]}var qRe=GRe;function KRe(t){return function(e){return t(e)}}var s_=KRe,Cw={exports:{}};Cw.exports;(function(t,e){var r=gQ,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(Cw,Cw.exports);var Lk=Cw.exports,YRe=qRe,XRe=s_,H5=Lk,G5=H5&&H5.isTypedArray,QRe=G5?XRe(G5):YRe,$k=QRe,ZRe=sRe,JRe=Mk,e4e=oi,t4e=o_,r4e=vk,n4e=$k,i4e=Object.prototype,a4e=i4e.hasOwnProperty;function o4e(t,e){var r=e4e(t),n=!r&&JRe(t),i=!r&&!n&&t4e(t),a=!r&&!n&&!i&&n4e(t),o=r||n||i||a,s=o?ZRe(t.length,String):[],l=s.length;for(var u in t)(e||a4e.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||r4e(u,l)))&&s.push(u);return s}var zQ=o4e,s4e=Object.prototype;function l4e(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||s4e;return t===r}var Fk=l4e;function c4e(t,e){return function(r){return t(e(r))}}var WQ=c4e,u4e=WQ,d4e=u4e(Object.keys,Object),f4e=d4e,h4e=Fk,p4e=f4e,m4e=Object.prototype,g4e=m4e.hasOwnProperty;function v4e(t){if(!h4e(t))return p4e(t);var e=[];for(var r in Object(t))g4e.call(t,r)&&r!="constructor"&&e.push(r);return e}var y4e=v4e,x4e=zQ,w4e=y4e,b4e=op;function _4e(t){return b4e(t)?x4e(t):w4e(t)}var hp=_4e,S4e=BQ,E4e=Dk,A4e=hp;function C4e(t){return S4e(t,A4e,E4e)}var HQ=C4e,q5=HQ,T4e=1,N4e=Object.prototype,I4e=N4e.hasOwnProperty;function P4e(t,e,r,n,i,a){var o=r&T4e,s=q5(t),l=s.length,u=q5(e),d=u.length;if(l!=d&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in e:I4e.call(e,h)))return!1}var p=a.get(t),m=a.get(e);if(p&&m)return p==e&&m==t;var g=!0;a.set(t,e),a.set(e,t);for(var v=o;++f<l;){h=s[f];var x=t[h],y=e[h];if(n)var w=o?n(y,x,h,e,t,a):n(x,y,h,t,e,a);if(!(w===void 0?x===y||i(x,y,r,n,a):w)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var S=t.constructor,E=e.constructor;S!=E&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof E=="function"&&E instanceof E)&&(g=!1)}return a.delete(t),a.delete(e),g}var O4e=P4e,j4e=Ed,k4e=No,R4e=j4e(k4e,"DataView"),D4e=R4e,M4e=Ed,L4e=No,$4e=M4e(L4e,"Promise"),F4e=$4e,B4e=Ed,U4e=No,V4e=B4e(U4e,"Set"),GQ=V4e,z4e=Ed,W4e=No,H4e=z4e(W4e,"WeakMap"),G4e=H4e,uN=D4e,dN=Pk,fN=F4e,hN=GQ,pN=G4e,qQ=ul,pp=RQ,K5="[object Map]",q4e="[object Object]",Y5="[object Promise]",X5="[object Set]",Q5="[object WeakMap]",Z5="[object DataView]",K4e=pp(uN),Y4e=pp(dN),X4e=pp(fN),Q4e=pp(hN),Z4e=pp(pN),uu=qQ;(uN&&uu(new uN(new ArrayBuffer(1)))!=Z5||dN&&uu(new dN)!=K5||fN&&uu(fN.resolve())!=Y5||hN&&uu(new hN)!=X5||pN&&uu(new pN)!=Q5)&&(uu=function(t){var e=qQ(t),r=e==q4e?t.constructor:void 0,n=r?pp(r):"";if(n)switch(n){case K4e:return Z5;case Y4e:return K5;case X4e:return Y5;case Q4e:return X5;case Z4e:return Q5}return e});var l_=uu,YE=jk,J4e=$Q,eDe=G3e,tDe=O4e,J5=l_,eL=oi,tL=o_,rDe=$k,nDe=1,rL="[object Arguments]",nL="[object Array]",Qy="[object Object]",iDe=Object.prototype,iL=iDe.hasOwnProperty;function aDe(t,e,r,n,i,a){var o=eL(t),s=eL(e),l=o?nL:J5(t),u=s?nL:J5(e);l=l==rL?Qy:l,u=u==rL?Qy:u;var d=l==Qy,f=u==Qy,h=l==u;if(h&&tL(t)){if(!tL(e))return!1;o=!0,d=!1}if(h&&!d)return a||(a=new YE),o||rDe(t)?J4e(t,e,r,n,i,a):eDe(t,e,l,r,n,i,a);if(!(r&nDe)){var p=d&&iL.call(t,"__wrapped__"),m=f&&iL.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,v=m?e.value():e;return a||(a=new YE),i(g,v,r,n,a)}}return h?(a||(a=new YE),tDe(t,e,r,n,i,a)):!1}var oDe=aDe,sDe=oDe,aL=Io;function KQ(t,e,r,n,i){return t===e?!0:t==null||e==null||!aL(t)&&!aL(e)?t!==t&&e!==e:sDe(t,e,r,n,KQ,i)}var Bk=KQ,lDe=Bk;function cDe(t,e){return lDe(t,e)}var uDe=cDe;const hh=dt(uDe);function XE(t,e){var r=yk(t);return r?r.innerHeight:ju(t).height}function YQ(t,e,r){t.closest&&!r&&t.closest(e);var n=t;do{if(hPe(n,e))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}function dDe(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var XQ=dDe,fDe=jk,hDe=Bk,pDe=1,mDe=2;function gDe(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var l=s[0],u=t[l],d=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new fDe;if(n)var h=n(u,d,l,t,e,f);if(!(h===void 0?hDe(d,u,pDe|mDe,n,f):h))return!1}}return!0}var vDe=gDe,yDe=Wa;function xDe(t){return t===t&&!yDe(t)}var QQ=xDe,wDe=QQ,bDe=hp;function _De(t){for(var e=bDe(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,wDe(i)]}return e}var SDe=_De;function EDe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var ZQ=EDe,ADe=vDe,CDe=SDe,TDe=ZQ;function NDe(t){var e=CDe(t);return e.length==1&&e[0][2]?TDe(e[0][0],e[0][1]):function(r){return r===t||ADe(r,t,e)}}var IDe=NDe,PDe=oi,ODe=lp,jDe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kDe=/^\w*$/;function RDe(t,e){if(PDe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||ODe(t)?!0:kDe.test(t)||!jDe.test(t)||e!=null&&t in Object(e)}var Uk=RDe,JQ=Ok,DDe="Expected a function";function Vk(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(DDe);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(Vk.Cache||JQ),r}Vk.Cache=JQ;var eZ=Vk;const MDe=dt(eZ);var LDe=eZ,$De=500;function FDe(t){var e=LDe(t,function(n){return r.size===$De&&r.clear(),n}),r=e.cache;return e}var BDe=FDe,UDe=BDe,VDe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zDe=/\\(\\)?/g,WDe=UDe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(VDe,function(r,n,i,a){e.push(i?a.replace(zDe,"$1"):n||r)}),e}),HDe=WDe;function GDe(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var c_=GDe,oL=ip,qDe=c_,KDe=oi,YDe=lp,sL=oL?oL.prototype:void 0,lL=sL?sL.toString:void 0;function tZ(t){if(typeof t=="string")return t;if(KDe(t))return qDe(t,tZ)+"";if(YDe(t))return lL?lL.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var XDe=tZ,QDe=XDe;function ZDe(t){return t==null?"":QDe(t)}var rZ=ZDe,JDe=oi,eMe=Uk,tMe=HDe,rMe=rZ;function nMe(t,e){return JDe(t)?t:eMe(t,e)?[t]:tMe(rMe(t))}var u_=nMe,iMe=lp;function aMe(t){if(typeof t=="string"||iMe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var L0=aMe,oMe=u_,sMe=L0;function lMe(t,e){e=oMe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[sMe(e[r++])];return r&&r==n?t:void 0}var d_=lMe,cMe=d_;function uMe(t,e,r){var n=t==null?void 0:cMe(t,e);return n===void 0?r:n}var nZ=uMe;const Ra=dt(nZ);function dMe(t,e){return t!=null&&e in Object(t)}var fMe=dMe,hMe=u_,pMe=Mk,mMe=oi,gMe=vk,vMe=gk,yMe=L0;function xMe(t,e,r){e=hMe(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=yMe(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&vMe(i)&&gMe(o,i)&&(mMe(t)||pMe(t)))}var wMe=xMe,bMe=fMe,_Me=wMe;function SMe(t,e){return t!=null&&_Me(t,e,bMe)}var EMe=SMe,AMe=Bk,CMe=nZ,TMe=EMe,NMe=Uk,IMe=QQ,PMe=ZQ,OMe=L0,jMe=1,kMe=2;function RMe(t,e){return NMe(t)&&IMe(e)?PMe(OMe(t),e):function(r){var n=CMe(r,t);return n===void 0&&n===e?TMe(r,t):AMe(e,n,jMe|kMe)}}var DMe=RMe;function MMe(t){return t}var mp=MMe;function LMe(t){return function(e){return e==null?void 0:e[t]}}var $Me=LMe,FMe=d_;function BMe(t){return function(e){return FMe(e,t)}}var UMe=BMe,VMe=$Me,zMe=UMe,WMe=Uk,HMe=L0;function GMe(t){return WMe(t)?VMe(HMe(t)):zMe(t)}var qMe=GMe,KMe=IDe,YMe=DMe,XMe=mp,QMe=oi,ZMe=qMe;function JMe(t){return typeof t=="function"?t:t==null?XMe:typeof t=="object"?QMe(t)?YMe(t[0],t[1]):KMe(t):ZMe(t)}var dl=JMe,e6e=XQ,t6e=dl,r6e=wQ,n6e=Math.max;function i6e(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:r6e(r);return i<0&&(i=n6e(n+i,0)),e6e(t,t6e(e),i)}var iZ=i6e;const a6e=dt(iZ);var o6e=Math.ceil,s6e=Math.max;function l6e(t,e,r,n){for(var i=-1,a=s6e(o6e((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var c6e=l6e,u6e=c6e,d6e=sp,QE=xQ;function f6e(t){return function(e,r,n){return n&&typeof n!="number"&&d6e(e,r,n)&&(r=n=void 0),e=QE(e),r===void 0?(r=e,e=0):r=QE(r),n=n===void 0?e<r?1:-1:QE(n),u6e(e,r,n,t)}}var h6e=f6e,p6e=h6e,m6e=p6e(),g6e=m6e;const mv=dt(g6e);var cL=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function v6e(t,e){return!!(t===e||cL(t)&&cL(e))}function y6e(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!v6e(t[r],e[r]))return!1;return!0}function aZ(t,e){e===void 0&&(e=y6e);var r=null;function n(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(r&&r.lastThis===this&&e(i,r.lastArgs))return r.lastResult;var o=t.apply(this,i);return r={lastResult:o,lastArgs:i,lastThis:this},o}return n.clear=function(){r=null},n}function mN(t,e){var r=yk(t);return r?r.innerWidth:ju(t).width}var uL=ip,x6e=Mk,w6e=oi,dL=uL?uL.isConcatSpreadable:void 0;function b6e(t){return w6e(t)||x6e(t)||!!(dL&&t&&t[dL])}var _6e=b6e,S6e=Rk,E6e=_6e;function oZ(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=E6e),i||(i=[]);++a<o;){var s=t[a];e>0&&r(s)?e>1?oZ(s,e-1,r,n,i):S6e(i,s):n||(i[i.length]=s)}return i}var zk=oZ;function A6e(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var l=o[t?s:++i];if(r(a[l],l,a)===!1)break}return e}}var C6e=A6e,T6e=C6e,N6e=T6e(),I6e=N6e,P6e=I6e,O6e=hp;function j6e(t,e){return t&&P6e(t,e,O6e)}var Wk=j6e,k6e=op;function R6e(t,e){return function(r,n){if(r==null)return r;if(!k6e(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var D6e=R6e,M6e=Wk,L6e=D6e,$6e=L6e(M6e),Hk=$6e,F6e=Hk,B6e=op;function U6e(t,e){var r=-1,n=B6e(t)?Array(t.length):[];return F6e(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var sZ=U6e;function V6e(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var z6e=V6e,fL=lp;function W6e(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=fL(t),o=e!==void 0,s=e===null,l=e===e,u=fL(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||n&&o&&l||!r&&l||!i)return 1;if(!n&&!a&&!u&&t<e||u&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!l)return-1}return 0}var H6e=W6e,G6e=H6e;function q6e(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,o=i.length,s=r.length;++n<o;){var l=G6e(i[n],a[n]);if(l){if(n>=s)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return t.index-e.index}var K6e=q6e,ZE=c_,Y6e=d_,X6e=dl,Q6e=sZ,Z6e=z6e,J6e=s_,e8e=K6e,t8e=mp,r8e=oi;function n8e(t,e,r){e.length?e=ZE(e,function(a){return r8e(a)?function(o){return Y6e(o,a.length===1?a[0]:a)}:a}):e=[t8e];var n=-1;e=ZE(e,J6e(X6e));var i=Q6e(t,function(a,o,s){var l=ZE(e,function(u){return u(a)});return{criteria:l,index:++n,value:a}});return Z6e(i,function(a,o){return e8e(a,o,r)})}var i8e=n8e;function a8e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var o8e=a8e,s8e=o8e,hL=Math.max;function l8e(t,e,r){return e=hL(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=hL(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),s8e(t,this,s)}}var lZ=l8e;function c8e(t){return function(){return t}}var u8e=c8e,d8e=Ed,f8e=function(){try{var t=d8e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),cZ=f8e,h8e=u8e,pL=cZ,p8e=mp,m8e=pL?function(t,e){return pL(t,"toString",{configurable:!0,enumerable:!1,value:h8e(e),writable:!0})}:p8e,g8e=m8e,v8e=800,y8e=16,x8e=Date.now;function w8e(t){var e=0,r=0;return function(){var n=x8e(),i=y8e-(n-r);if(r=n,i>0){if(++e>=v8e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var b8e=w8e,_8e=g8e,S8e=b8e,E8e=S8e(_8e),uZ=E8e,A8e=mp,C8e=lZ,T8e=uZ;function N8e(t,e){return T8e(C8e(t,e,A8e),t+"")}var dZ=N8e,I8e=zk,P8e=i8e,O8e=dZ,mL=sp,j8e=O8e(function(t,e){if(t==null)return[];var r=e.length;return r>1&&mL(t,e[0],e[1])?e=[]:r>2&&mL(e[0],e[1],e[2])&&(e=[e[0]]),P8e(t,I8e(e,1),[])}),k8e=j8e;const f_=dt(k8e);function fZ(t){return ZX(t)||mQ(t)||yj(t)||JX()}function R8e(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var D8e=R8e,M8e=Wa,L8e=Fk,$8e=D8e,F8e=Object.prototype,B8e=F8e.hasOwnProperty;function U8e(t){if(!M8e(t))return $8e(t);var e=L8e(t),r=[];for(var n in t)n=="constructor"&&(e||!B8e.call(t,n))||r.push(n);return r}var V8e=U8e,z8e=zQ,W8e=V8e,H8e=op;function G8e(t){return H8e(t)?z8e(t,!0):W8e(t)}var h_=G8e,q8e=dZ,K8e=k0,Y8e=sp,X8e=h_,hZ=Object.prototype,Q8e=hZ.hasOwnProperty,Z8e=q8e(function(t,e){t=Object(t);var r=-1,n=e.length,i=n>2?e[2]:void 0;for(i&&Y8e(e[0],e[1],i)&&(n=1);++r<n;)for(var a=e[r],o=X8e(a),s=-1,l=o.length;++s<l;){var u=o[s],d=t[u];(d===void 0||K8e(d,hZ[u])&&!Q8e.call(t,u))&&(t[u]=a[u])}return t}),J8e=Z8e;const e5e=dt(J8e);var gL=cZ;function t5e(t,e,r){e=="__proto__"&&gL?gL(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Gk=t5e,r5e=Gk,n5e=Wk,i5e=dl;function a5e(t,e){var r={};return e=i5e(e),n5e(t,function(n,i,a){r5e(r,i,e(n,i,a))}),r}var o5e=a5e;const pZ=dt(o5e);function s5e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var mZ=s5e,l5e=Gk,c5e=k0,u5e=Object.prototype,d5e=u5e.hasOwnProperty;function f5e(t,e,r){var n=t[e];(!(d5e.call(t,e)&&c5e(n,r))||r===void 0&&!(e in t))&&l5e(t,e,r)}var gZ=f5e,h5e=gZ,p5e=Gk;function m5e(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],l=n?n(r[s],t[s],s,r,t):void 0;l===void 0&&(l=t[s]),i?p5e(r,s,l):h5e(r,s,l)}return r}var $0=m5e,g5e=$0,v5e=hp;function y5e(t,e){return t&&g5e(e,v5e(e),t)}var x5e=y5e,w5e=$0,b5e=h_;function _5e(t,e){return t&&w5e(e,b5e(e),t)}var S5e=_5e,Tw={exports:{}};Tw.exports;(function(t,e){var r=No,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var f=u.length,h=s?s(f):new u.constructor(f);return u.copy(h),h}t.exports=l})(Tw,Tw.exports);var E5e=Tw.exports;function A5e(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var C5e=A5e,T5e=$0,N5e=Dk;function I5e(t,e){return T5e(t,N5e(t),e)}var P5e=I5e,O5e=WQ,j5e=O5e(Object.getPrototypeOf,Object),p_=j5e,k5e=Rk,R5e=p_,D5e=Dk,M5e=UQ,L5e=Object.getOwnPropertySymbols,$5e=L5e?function(t){for(var e=[];t;)k5e(e,D5e(t)),t=R5e(t);return e}:M5e,vZ=$5e,F5e=$0,B5e=vZ;function U5e(t,e){return F5e(t,B5e(t),e)}var V5e=U5e,z5e=BQ,W5e=vZ,H5e=h_;function G5e(t){return z5e(t,H5e,W5e)}var yZ=G5e,q5e=Object.prototype,K5e=q5e.hasOwnProperty;function Y5e(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&K5e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var X5e=Y5e,vL=FQ;function Q5e(t){var e=new t.constructor(t.byteLength);return new vL(e).set(new vL(t)),e}var qk=Q5e,Z5e=qk;function J5e(t,e){var r=e?Z5e(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var eLe=J5e,tLe=/\w*$/;function rLe(t){var e=new t.constructor(t.source,tLe.exec(t));return e.lastIndex=t.lastIndex,e}var nLe=rLe,yL=ip,xL=yL?yL.prototype:void 0,wL=xL?xL.valueOf:void 0;function iLe(t){return wL?Object(wL.call(t)):{}}var aLe=iLe,oLe=qk;function sLe(t,e){var r=e?oLe(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var lLe=sLe,cLe=qk,uLe=eLe,dLe=nLe,fLe=aLe,hLe=lLe,pLe="[object Boolean]",mLe="[object Date]",gLe="[object Map]",vLe="[object Number]",yLe="[object RegExp]",xLe="[object Set]",wLe="[object String]",bLe="[object Symbol]",_Le="[object ArrayBuffer]",SLe="[object DataView]",ELe="[object Float32Array]",ALe="[object Float64Array]",CLe="[object Int8Array]",TLe="[object Int16Array]",NLe="[object Int32Array]",ILe="[object Uint8Array]",PLe="[object Uint8ClampedArray]",OLe="[object Uint16Array]",jLe="[object Uint32Array]";function kLe(t,e,r){var n=t.constructor;switch(e){case _Le:return cLe(t);case pLe:case mLe:return new n(+t);case SLe:return uLe(t,r);case ELe:case ALe:case CLe:case TLe:case NLe:case ILe:case PLe:case OLe:case jLe:return hLe(t,r);case gLe:return new n;case vLe:case wLe:return new n(t);case yLe:return dLe(t);case xLe:return new n;case bLe:return fLe(t)}}var RLe=kLe,DLe=Wa,bL=Object.create,MLe=function(){function t(){}return function(e){if(!DLe(e))return{};if(bL)return bL(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),xZ=MLe,LLe=xZ,$Le=p_,FLe=Fk;function BLe(t){return typeof t.constructor=="function"&&!FLe(t)?LLe($Le(t)):{}}var ULe=BLe,VLe=l_,zLe=Io,WLe="[object Map]";function HLe(t){return zLe(t)&&VLe(t)==WLe}var GLe=HLe,qLe=GLe,KLe=s_,_L=Lk,SL=_L&&_L.isMap,YLe=SL?KLe(SL):qLe,XLe=YLe,QLe=l_,ZLe=Io,JLe="[object Set]";function e$e(t){return ZLe(t)&&QLe(t)==JLe}var t$e=e$e,r$e=t$e,n$e=s_,EL=Lk,AL=EL&&EL.isSet,i$e=AL?n$e(AL):r$e,a$e=i$e,o$e=jk,s$e=mZ,l$e=gZ,c$e=x5e,u$e=S5e,d$e=E5e,f$e=C5e,h$e=P5e,p$e=V5e,m$e=HQ,g$e=yZ,v$e=l_,y$e=X5e,x$e=RLe,w$e=ULe,b$e=oi,_$e=o_,S$e=XLe,E$e=Wa,A$e=a$e,C$e=hp,T$e=h_,N$e=1,I$e=2,P$e=4,wZ="[object Arguments]",O$e="[object Array]",j$e="[object Boolean]",k$e="[object Date]",R$e="[object Error]",bZ="[object Function]",D$e="[object GeneratorFunction]",M$e="[object Map]",L$e="[object Number]",_Z="[object Object]",$$e="[object RegExp]",F$e="[object Set]",B$e="[object String]",U$e="[object Symbol]",V$e="[object WeakMap]",z$e="[object ArrayBuffer]",W$e="[object DataView]",H$e="[object Float32Array]",G$e="[object Float64Array]",q$e="[object Int8Array]",K$e="[object Int16Array]",Y$e="[object Int32Array]",X$e="[object Uint8Array]",Q$e="[object Uint8ClampedArray]",Z$e="[object Uint16Array]",J$e="[object Uint32Array]",Gt={};Gt[wZ]=Gt[O$e]=Gt[z$e]=Gt[W$e]=Gt[j$e]=Gt[k$e]=Gt[H$e]=Gt[G$e]=Gt[q$e]=Gt[K$e]=Gt[Y$e]=Gt[M$e]=Gt[L$e]=Gt[_Z]=Gt[$$e]=Gt[F$e]=Gt[B$e]=Gt[U$e]=Gt[X$e]=Gt[Q$e]=Gt[Z$e]=Gt[J$e]=!0;Gt[R$e]=Gt[bZ]=Gt[V$e]=!1;function Q1(t,e,r,n,i,a){var o,s=e&N$e,l=e&I$e,u=e&P$e;if(r&&(o=i?r(t,n,i,a):r(t)),o!==void 0)return o;if(!E$e(t))return t;var d=b$e(t);if(d){if(o=y$e(t),!s)return f$e(t,o)}else{var f=v$e(t),h=f==bZ||f==D$e;if(_$e(t))return d$e(t,s);if(f==_Z||f==wZ||h&&!i){if(o=l||h?{}:w$e(t),!s)return l?p$e(t,u$e(o,t)):h$e(t,c$e(o,t))}else{if(!Gt[f])return i?t:{};o=x$e(t,f,s)}}a||(a=new o$e);var p=a.get(t);if(p)return p;a.set(t,o),A$e(t)?t.forEach(function(v){o.add(Q1(v,e,r,v,t,a))}):S$e(t)&&t.forEach(function(v,x){o.set(x,Q1(v,e,r,x,t,a))});var m=u?l?g$e:m$e:l?T$e:C$e,g=d?void 0:m(t);return s$e(g||t,function(v,x){g&&(x=v,v=t[x]),l$e(o,x,Q1(v,e,r,x,t,a))}),o}var eFe=Q1;function tFe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var SZ=tFe;const rFe=dt(SZ);var nFe=d_,iFe=mk;function aFe(t,e){return e.length<2?t:nFe(t,iFe(e,0,-1))}var oFe=aFe,sFe=u_,lFe=SZ,cFe=oFe,uFe=L0;function dFe(t,e){return e=sFe(e,t),t=cFe(t,e),t==null||delete t[uFe(lFe(e))]}var fFe=dFe,hFe=ul,pFe=p_,mFe=Io,gFe="[object Object]",vFe=Function.prototype,yFe=Object.prototype,EZ=vFe.toString,xFe=yFe.hasOwnProperty,wFe=EZ.call(Object);function bFe(t){if(!mFe(t)||hFe(t)!=gFe)return!1;var e=pFe(t);if(e===null)return!0;var r=xFe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&EZ.call(r)==wFe}var AZ=bFe;const _Fe=dt(AZ);var SFe=AZ;function EFe(t){return SFe(t)?void 0:t}var AFe=EFe,CFe=zk;function TFe(t){var e=t==null?0:t.length;return e?CFe(t,1):[]}var NFe=TFe,IFe=NFe,PFe=lZ,OFe=uZ;function jFe(t){return OFe(PFe(t,void 0,IFe),t+"")}var kFe=jFe,RFe=c_,DFe=eFe,MFe=fFe,LFe=u_,$Fe=$0,FFe=AFe,BFe=kFe,UFe=yZ,VFe=1,zFe=2,WFe=4,HFe=BFe(function(t,e){var r={};if(t==null)return r;var n=!1;e=RFe(e,function(a){return a=LFe(a,t),n||(n=a.length>1),a}),$Fe(t,UFe(t),r),n&&(r=DFe(r,VFe|zFe|WFe,FFe));for(var i=e.length;i--;)MFe(r,e[i]);return r}),GFe=HFe;const qFe=dt(GFe);var KFe=mZ,YFe=xZ,XFe=Wk,QFe=dl,ZFe=p_,JFe=oi,e9e=o_,t9e=e_,r9e=Wa,n9e=$k;function i9e(t,e,r){var n=JFe(t),i=n||e9e(t)||n9e(t);if(e=QFe(e),r==null){var a=t&&t.constructor;i?r=n?new a:[]:r9e(t)?r=t9e(a)?YFe(ZFe(t)):{}:r={}}return(i?KFe:XFe)(t,function(o,s,l){return e(r,o,s,l)}),r}var a9e=i9e;const o9e=dt(a9e);var s9e={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ia,function(){return function(r,n,i){n.prototype.isBetween=function(a,o,s,l){var u=i(a),d=i(o),f=(l=l||"()")[0]==="(",h=l[1]===")";return(f?this.isAfter(u,s):!this.isBefore(u,s))&&(h?this.isBefore(d,s):!this.isAfter(d,s))||(f?this.isBefore(u,s):!this.isAfter(u,s))&&(h?this.isAfter(d,s):!this.isBefore(d,s))}}})})(s9e);var l9e={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ia,function(){return function(r,n){n.prototype.isSameOrAfter=function(i,a){return this.isSame(i,a)||this.isAfter(i,a)}}})})(l9e);var c9e={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ia,function(){return function(r,n){n.prototype.isSameOrBefore=function(i,a){return this.isSame(i,a)||this.isBefore(i,a)}}})})(c9e);var u9e={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ia,function(){return function(r,n,i){var a=n.prototype,o=function(f){return f&&(f.indexOf?f:f.s)},s=function(f,h,p,m,g){var v=f.name?f:f.$locale(),x=o(v[h]),y=o(v[p]),w=x||y.map(function(E){return E.slice(0,m)});if(!g)return w;var S=v.weekStart;return w.map(function(E,C){return w[(C+(S||0))%7]})},l=function(){return i.Ls[i.locale()]},u=function(f,h){return f.formats[h]||function(p){return p.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(m,g,v){return g||v.slice(1)})}(f.formats[h.toUpperCase()])},d=function(){var f=this;return{months:function(h){return h?h.format("MMMM"):s(f,"months")},monthsShort:function(h){return h?h.format("MMM"):s(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):s(f,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):s(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):s(f,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return u(f.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return d.bind(this)()},i.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(h){return u(f,h)},meridiem:f.meridiem,ordinal:f.ordinal}},i.months=function(){return s(l(),"months")},i.monthsShort=function(){return s(l(),"monthsShort","months",3)},i.weekdays=function(f){return s(l(),"weekdays",null,null,f)},i.weekdaysShort=function(f){return s(l(),"weekdaysShort","weekdays",3,f)},i.weekdaysMin=function(f){return s(l(),"weekdaysMin","weekdays",2,f)}}})})(u9e);var d9e={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ia,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,i,a){var o=i.prototype,s=o.format;a.en.formats=r,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,d=function(f,h){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(p,m,g){var v=g&&g.toUpperCase();return m||h[g]||r[g]||h[v].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(x,y,w){return y||w.slice(1)})})}(l,u===void 0?{}:u);return s.call(this,d)}}})})(d9e);var f9e={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ia,function(){return function(r,n,i){var a=function(o,s){if(!s||!s.length||s.length===1&&!s[0]||s.length===1&&Array.isArray(s[0])&&!s[0].length)return null;var l;s.length===1&&s[0].length>0&&(s=s[0]),l=(s=s.filter(function(d){return d}))[0];for(var u=1;u<s.length;u+=1)s[u].isValid()&&!s[u][o](l)||(l=s[u]);return l};i.max=function(){var o=[].slice.call(arguments,0);return a("isAfter",o)},i.min=function(){var o=[].slice.call(arguments,0);return a("isBefore",o)}}})})(f9e);var h9e={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ia,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(a,o,s){var l=o.prototype;s.utc=function(g){var v={date:g,utc:!0,args:arguments};return new o(v)},l.utc=function(g){var v=s(this.toDate(),{locale:this.$L,utc:!0});return g?v.add(this.utcOffset(),r):v},l.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),u.call(this,g)};var d=l.init;l.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else d.call(this)};var f=l.utcOffset;l.utcOffset=function(g,v){var x=this.$utils().u;if(x(g))return this.$u?0:x(this.$offset)?f.call(this):this.$offset;if(typeof g=="string"&&(g=function(E){E===void 0&&(E="");var C=E.match(n);if(!C)return null;var A=(""+C[0]).match(i)||["-",0,0],T=A[0],N=60*+A[1]+ +A[2];return N===0?0:T==="+"?N:-N}(g),g===null))return this;var y=Math.abs(g)<=16?60*g:g,w=this;if(v)return w.$offset=y,w.$u=g===0,w;if(g!==0){var S=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(w=this.local().add(y+S,r)).$offset=y,w.$x.$localOffset=S}else w=this.utc();return w};var h=l.format;l.format=function(g){var v=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,v)},l.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var p=l.toDate;l.toDate=function(g){return g==="s"&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var m=l.diff;l.diff=function(g,v,x){if(g&&this.$u===g.$u)return m.call(this,g,v,x);var y=this.local(),w=s(g).local();return m.call(y,w,v,x)}}})})(h9e);var p9e={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ia,function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(p9e);function Ro(t){return t.children}var Hi={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},vi={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},CL=Object.keys(vi).map(function(t){return vi[t]});fe.oneOfType([fe.string,fe.func]);fe.any;fe.func;fe.oneOfType([fe.arrayOf(fe.oneOf(CL)),fe.objectOf(function(t,e){var r=CL.indexOf(e)!==-1&&typeof t[e]=="boolean";if(r)return null;for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];return fe.elementType.apply(fe,[t,e].concat(i))})]);fe.oneOfType([fe.oneOf(["overlap","no-overlap"]),fe.func]);var TL={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function CZ(t,e){var r=Mn(t,"month");return Mn(r,"week",e.startOfWeek())}function TZ(t,e){var r=bw(t,"month");return bw(r,"week",e.startOfWeek())}function m9e(t,e){for(var r=CZ(t,e),n=TZ(t,e),i=[];rp(r,n,"day");)i.push(r),r=Co(r,1,"day");return i}function g9e(t,e){var r=Mn(t,e);return tp(r,t)?r:Co(r,1,e)}function v9e(t,e){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=t,i=[];rp(n,e,r);)i.push(n),n=Co(n,1,r);return i}function y9e(t,e){return e==null&&t==null?null:(e==null&&(e=new Date),t==null&&(t=new Date),t=Mn(t,"day"),t=dv(t,dv(e)),t=lh(t,lh(e)),t=uv(t,uv(e)),cv(t,cv(e)))}function NL(t){return dv(t)===0&&lh(t)===0&&uv(t)===0&&cv(t)===0}function x9e(t,e,r,n){return r==="day"&&(r="date"),Math.abs(d5[r](t,void 0,n)-d5[r](e,void 0,n))}function Kk(t,e,r){return!r||r==="milliseconds"?Math.abs(+t-+e):Math.round(Math.abs(+Mn(t,r)/TL[r]-+Mn(e,r)/TL[r]))}var w9e=fe.oneOfType([fe.string,fe.func]);function b9e(t,e,r,n,i){var a=typeof n=="function"?n(r,i,t):e.call(t,r,n,i);return nv(a==null||typeof a=="string","`localizer format(..)` must return a string, null, or undefined"),a}function _9e(t,e,r){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,e+r,0,0)}function Yk(t,e){return t.getTimezoneOffset()-e.getTimezoneOffset()}function S9e(t,e){return Kk(t,e,"minutes")+Yk(t,e)}function E9e(t){var e=Mn(t,"day");return Kk(e,t,"minutes")+Yk(e,t)}function A9e(t,e){return pk(t,e,"day")}function C9e(t,e,r){var n=tp(t,e,"minutes");return n?j0(e,r,"minutes"):J2(e,r,"minutes")}function gN(t,e){return x9e(t,e,"day")}function T9e(t){var e=t.evtA,r=e.start,n=e.end,i=e.allDay,a=t.evtB,o=a.start,s=a.end,l=a.allDay,u=+Mn(r,"day")-+Mn(o,"day"),d=gN(r,n),f=gN(o,s);return u||f-d||!!l-!!i||+r-+o||+n-+s}function N9e(t){var e=t.event,r=e.start,n=e.end,i=t.range,a=i.start,o=i.end,s=Mn(r,"day"),l=rp(s,o,"day"),u=hk(s,n,"minutes"),d=u?J2(n,a,"minutes"):j0(n,a,"minutes");return l&&d}function I9e(t,e){return tp(t,e,"day")}function P9e(t,e){return NL(t)&&NL(e)}var O9e=dn(function t(e){var r=this;un(this,t),nv(typeof e.format=="function","date localizer `format(..)` must be a function"),nv(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||w9e,this.formats=e.formats,this.format=function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return b9e.apply(void 0,[r,e.format].concat(i))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||y9e,this.inRange=e.inRange||dQ,this.lt=e.lt||pk,this.lte=e.lte||rp,this.gt=e.gt||J2,this.gte=e.gte||j0,this.eq=e.eq||tp,this.neq=e.neq||hk,this.startOf=e.startOf||Mn,this.endOf=e.endOf||bw,this.add=e.add||Co,this.range=e.range||v9e,this.diff=e.diff||Kk,this.ceil=e.ceil||g9e,this.min=e.min||cQ,this.max=e.max||uQ,this.minutes=e.minutes||lh,this.daySpan=e.daySpan||gN,this.firstVisibleDay=e.firstVisibleDay||CZ,this.lastVisibleDay=e.lastVisibleDay||TZ,this.visibleDays=e.visibleDays||m9e,this.getSlotDate=e.getSlotDate||_9e,this.getTimezoneOffset=e.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||Yk,this.getTotalMin=e.getTotalMin||S9e,this.getMinutesFromMidnight=e.getMinutesFromMidnight||E9e,this.continuesPrior=e.continuesPrior||A9e,this.continuesAfter=e.continuesAfter||C9e,this.sortEvents=e.sortEvents||T9e,this.inEventRange=e.inEventRange||N9e,this.isSameDate=e.isSameDate||I9e,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||P9e,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function j9e(t,e,r,n){var i=Vt(Vt({},t.formats),r);return Vt(Vt({},t),{},{messages:n,startOfWeek:function(){return t.startOfWeek(e)},format:function(o,s){return t.format(o,i[s]||s,e)}})}var k9e=function(t){function e(){var r;un(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ai(this,e,[].concat(i)),r.navigate=function(o){r.props.onNavigate(o)},r.view=function(o){r.props.onView(o)},r}return ii(e,t),dn(e,[{key:"render",value:function(){var n=this.props,i=n.localizer.messages,a=n.label;return D.createElement("div",{className:"rbc-toolbar"},D.createElement("span",{className:"rbc-btn-group"},D.createElement("button",{type:"button",onClick:this.navigate.bind(null,Hi.TODAY)},i.today),D.createElement("button",{type:"button",onClick:this.navigate.bind(null,Hi.PREVIOUS)},i.previous),D.createElement("button",{type:"button",onClick:this.navigate.bind(null,Hi.NEXT)},i.next)),D.createElement("span",{className:"rbc-toolbar-label"},a),D.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(n){var i=this,a=this.props.views,o=this.props.view;if(a.length>1)return a.map(function(s){return D.createElement("button",{type:"button",key:s,className:kr({"rbc-active":o===s}),onClick:i.view.bind(null,s)},n[s])})}}])}(D.Component);function or(t,e){t&&t.apply(null,[].concat(e))}var R9e={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function D9e(t){return Vt(Vt({},R9e),t)}function M9e(t){var e=t.ref,r=t.callback;b.useEffect(function(){var n=function(a){e.current&&!e.current.contains(a.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[e,r])}var L9e=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],NZ=function(t){function e(){return un(this,e),ai(this,e,arguments)}return ii(e,t),dn(e,[{key:"render",value:function(){var n=this.props,i=n.style,a=n.className,o=n.event,s=n.selected,l=n.isAllDay,u=n.onSelect,d=n.onDoubleClick,f=n.onKeyPress,h=n.localizer,p=n.continuesPrior,m=n.continuesAfter,g=n.accessors,v=n.getters,x=n.children,y=n.components,w=y.event,S=y.eventWrapper,E=n.slotStart,C=n.slotEnd,A=ss(n,L9e);delete A.resizable;var T=g.title(o),N=g.tooltip(o),I=g.end(o),j=g.start(o),O=g.allDay(o),P=l||O||h.diff(j,h.ceil(I,"day"),"day")>1,M=v.eventProp(o,j,I,s),F=D.createElement("div",{className:"rbc-event-content",title:N||void 0},w?D.createElement(w,{event:o,continuesPrior:p,continuesAfter:m,title:T,isAllDay:O,localizer:h,slotStart:E,slotEnd:C}):T);return D.createElement(S,Object.assign({},this.props,{type:"date"}),D.createElement("div",Object.assign({},A,{style:Vt(Vt({},M.style),i),className:kr("rbc-event",a,M.className,{"rbc-selected":s,"rbc-event-allday":P,"rbc-event-continues-prior":p,"rbc-event-continues-after":m}),onClick:function(W){return u&&u(o,W)},onDoubleClick:function(W){return d&&d(o,W)},onKeyDown:function(W){return f&&f(o,W)}}),typeof x=="function"?x(F):F))}}])}(D.Component);function m_(t,e){return!t||e==null?!1:hh(t,e)}function IZ(t,e){var r=t.right-t.left,n=r/e;return n}function PZ(t,e,r,n){var i=IZ(t,n);return r?n-1-Math.floor((e-t.left)/i):Math.floor((e-t.left)/i)}function $9e(t,e){var r=e.x,n=e.y;return n>=t.top&&n<=t.bottom&&r>=t.left&&r<=t.right}function F9e(t,e,r,n,i){var a=-1,o=-1,s=n-1,l=IZ(e,n),u=PZ(e,r.x,i,n),d=e.top<r.y&&e.bottom>r.y,f=e.top<t.y&&e.bottom>t.y,h=t.y>e.bottom,p=e.top>t.y,m=r.top<e.top&&r.bottom>e.bottom;return m&&(a=0,o=s),d&&(p?(a=0,o=u):h&&(a=u,o=s)),f&&(a=o=i?s-Math.floor((t.x-e.left)/l):Math.floor((t.x-e.left)/l),d?u<a?a=u:o=u:t.y<r.y?o=s:a=0),{startIdx:a,endIdx:o}}function B9e(t){var e=t.target,r=t.offset,n=t.container,i=t.box,a=ju(e),o=a.top,s=a.left,l=a.width,u=a.height,d=ju(n),f=d.top,h=d.left,p=d.width,m=d.height,g=ju(i),v=g.width,x=g.height,y=f+m,w=h+p,S=o+x,E=s+v,C=r.x,A=r.y,T=S>y?o-x-A:o+A+u,N=E>w?s+C-v+l:s+C;return{topOffset:T,leftOffset:N}}function U9e(t){var e=t.containerRef,r=t.accessors,n=t.getters,i=t.selected,a=t.components,o=t.localizer,s=t.position,l=t.show,u=t.events,d=t.slotStart,f=t.slotEnd,h=t.onSelect,p=t.onDoubleClick,m=t.onKeyPress,g=t.handleDragStart,v=t.popperRef,x=t.target,y=t.offset;M9e({ref:v,callback:l}),b.useLayoutEffect(function(){var E=B9e({target:x,offset:y,container:e.current,box:v.current}),C=E.topOffset,A=E.leftOffset;v.current.style.top="".concat(C,"px"),v.current.style.left="".concat(A,"px")},[y.x,y.y,x]);var w=s.width,S={minWidth:w+w/2};return D.createElement("div",{style:S,className:"rbc-overlay",ref:v},D.createElement("div",{className:"rbc-overlay-header"},o.format(d,"dayHeaderFormat")),u.map(function(E,C){return D.createElement(NZ,{key:C,type:"popup",localizer:o,event:E,getters:n,onSelect:h,accessors:r,components:a,onDoubleClick:p,onKeyPress:m,continuesPrior:o.lt(r.end(E),d,"day"),continuesAfter:o.gte(r.start(E),f,"day"),slotStart:d,slotEnd:f,selected:m_(E,i),draggable:!0,onDragStart:function(){return g(E)},onDragEnd:function(){return l()}})}))}var OZ=D.forwardRef(function(t,e){return D.createElement(U9e,Object.assign({},t,{popperRef:e}))});OZ.propTypes={accessors:fe.object.isRequired,getters:fe.object.isRequired,selected:fe.object,components:fe.object.isRequired,localizer:fe.object.isRequired,position:fe.object.isRequired,show:fe.func.isRequired,events:fe.array.isRequired,slotStart:fe.instanceOf(Date).isRequired,slotEnd:fe.instanceOf(Date),onSelect:fe.func,onDoubleClick:fe.func,onKeyPress:fe.func,handleDragStart:fe.func,style:fe.object,offset:fe.shape({x:fe.number,y:fe.number})};function V9e(t){var e=t.containerRef,r=t.popupOffset,n=r===void 0?5:r,i=t.overlay,a=t.accessors,o=t.localizer,s=t.components,l=t.getters,u=t.selected,d=t.handleSelectEvent,f=t.handleDoubleClickEvent,h=t.handleKeyPressEvent,p=t.handleDragStart,m=t.onHide,g=t.overlayDisplay,v=b.useRef(null);if(!i.position)return null;var x=n;isNaN(n)||(x={x:n,y:n});var y=i.position,w=i.events,S=i.date,E=i.end;return D.createElement(Ik,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:m,target:i.target},function(C){var A=C.props;return D.createElement(OZ,Object.assign({},A,{containerRef:e,ref:v,target:i.target,offset:x,accessors:a,getters:l,selected:u,components:s,localizer:o,position:y,show:g,events:w,slotStart:S,slotEnd:E,onSelect:d,onDoubleClick:f,onKeyPress:h,handleDragStart:p}))})}var Xk=D.forwardRef(function(t,e){return D.createElement(V9e,Object.assign({},t,{containerRef:e}))});Xk.propTypes={popupOffset:fe.oneOfType([fe.number,fe.shape({x:fe.number,y:fe.number})]),overlay:fe.shape({position:fe.object,events:fe.array,date:fe.instanceOf(Date),end:fe.instanceOf(Date)}),accessors:fe.object.isRequired,localizer:fe.object.isRequired,components:fe.object.isRequired,getters:fe.object.isRequired,selected:fe.object,handleSelectEvent:fe.func,handleDoubleClickEvent:fe.func,handleKeyPressEvent:fe.func,handleDragStart:fe.func,onHide:fe.func,overlayDisplay:fe.func};function Vn(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Nm(r,t,e,{passive:!1})}function z9e(t,e,r){return!t||fv(t,document.elementFromPoint(e,r))}function W9e(t,e){var r=e.clientX,n=e.clientY,i=document.elementFromPoint(r,n);return YQ(i,".rbc-event",t)}function H9e(t,e){var r=e.clientX,n=e.clientY,i=document.elementFromPoint(r,n);return YQ(i,".rbc-show-more",t)}function Nw(t,e){return!!W9e(t,e)}function G9e(t,e){return!!H9e(t,e)}function rm(t){var e=t;return t.touches&&t.touches.length&&(e=t.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var IL=5,q9e=250,jZ=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,i=n===void 0?!1:n,a=r.longPressThreshold,o=a===void 0?250:a,s=r.validContainers,l=s===void 0?[]:s;un(this,t),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||i,this.longPressThreshold=o,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Vn("touchmove",function(){},window),this._removeKeyDownListener=Vn("keydown",this._keyListener),this._removeKeyUpListener=Vn("keyup",this._keyListener),this._removeDropFromOutsideListener=Vn("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Vn("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return dn(t,[{key:"on",value:function(r,n){var i=this._listeners[r]||(this._listeners[r]=[]);return i.push(n),{remove:function(){var o=i.indexOf(n);o!==-1&&i.splice(o,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var o,s=this._listeners[r]||[];return s.forEach(function(l){o===void 0&&(o=l.apply(void 0,i))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:PL(n,od(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var i=this,a=null,o=null,s=null,l=function(h){a=setTimeout(function(){d(),r(h)},i.longPressThreshold),o=Vn("touchmove",function(){return d()}),s=Vn("touchend",function(){return d()})},u=Vn("touchstart",l),d=function(){a&&clearTimeout(a),o&&o(),s&&s(),a=null,o=null,s=null};return n&&l(n),function(){d(),u()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=Vn("mousedown",function(a){r._removeInitialEventListener(),r._handleInitialEvent(a),r._removeInitialEventListener=Vn("mousedown",r._handleInitialEvent)}),i=Vn("touchstart",function(a){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,a)});this._removeInitialEventListener=function(){n(),i()}}},{key:"_dropFromOutsideListener",value:function(r){var n=rm(r),i=n.pageX,a=n.pageY,o=n.clientX,s=n.clientY;this.emit("dropFromOutside",{x:i,y:a,clientX:o,clientY:s}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=rm(r),i=n.pageX,a=n.pageY,o=n.clientX,s=n.clientY;this.emit("dragOverFromOutside",{x:i,y:a,clientX:o,clientY:s}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=rm(r),i=n.clientX,a=n.clientY,o=n.pageX,s=n.pageY,l=this.container(),u,d;if(!(r.which===3||r.button===2||!z9e(l,i,a))){if(!this.globalMouse&&l&&!fv(l,r.target)){var f=K9e(0),h=f.top,p=f.left,m=f.bottom,g=f.right;if(d=od(l),u=PL({top:d.top-h,left:d.left-p,bottom:d.bottom+m,right:d.right+g},{top:s,left:o}),!u)return}var v=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:o,y:s,clientX:i,clientY:a});if(v!==!1)switch(r.type){case"mousedown":this._removeEndListener=Vn("mouseup",this._handleTerminatingEvent),this._onEscListener=Vn("keydown",this._handleTerminatingEvent),this._removeMoveListener=Vn("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=Vn("touchend",this._handleTerminatingEvent),this._removeMoveListener=Vn("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,i=this.validContainers;return!i||!i.length||!n?!0:i.some(function(a){return!!n.closest(a)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,i=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var a=!this.container||fv(this.container(),r.target),o=this._isWithinValidContainer(r);return r.key==="Escape"||!o?this.emit("reset"):!n&&a?this._handleClickEvent(r):n?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=rm(r),i=n.pageX,a=n.pageY,o=n.clientX,s=n.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<q9e?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:a,clientX:o,clientY:s})):(this._lastClickData={timestamp:l},this.emit("click",{x:i,y:a,clientX:o,clientY:s}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,i=n.x,a=n.y,o=rm(r),s=o.pageX,l=o.pageY,u=Math.abs(i-s),d=Math.abs(a-l),f=Math.min(s,i),h=Math.min(l,a),p=this.selecting,m=this.isClick(s,l);m&&!p&&!(u||d)||(!p&&!m&&this.emit("selectStart",this._initialEventData),m||(this.selecting=!0,this._selectRect={top:h,left:f,x:s,y:l,right:f+u,bottom:h+d},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var i=this._initialEventData,a=i.x,o=i.y,s=i.isTouch;return!s&&Math.abs(r-a)<=IL&&Math.abs(n-o)<=IL}}])}();function K9e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Ao(t)!=="object"&&(t={top:t,left:t,right:t,bottom:t}),t}function PL(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=od(t),i=n.top,a=n.left,o=n.right,s=o===void 0?a:o,l=n.bottom,u=l===void 0?i:l,d=od(e),f=d.top,h=d.left,p=d.right,m=p===void 0?h:p,g=d.bottom,v=g===void 0?f:g;return!(u-r<f||i+r>v||s-r<h||a+r>m)}function od(t){if(!t.getBoundingClientRect)return t;var e=t.getBoundingClientRect(),r=e.left+OL("left"),n=e.top+OL("top");return{top:n,left:r,right:(t.offsetWidth||0)+r,bottom:(t.offsetHeight||0)+n}}function OL(t){if(t==="left")return window.pageXOffset||document.body.scrollLeft||0;if(t==="top")return window.pageYOffset||document.body.scrollTop||0}var Y9e=function(t){function e(r,n){var i;return un(this,e),i=ai(this,e,[r,n]),i.state={selecting:!1},i.containerRef=b.createRef(),i}return ii(e,t),dn(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,i=n.range,a=n.getNow,o=n.getters,s=n.date,l=n.components.dateCellWrapper,u=n.localizer,d=this.state,f=d.selecting,h=d.startIdx,p=d.endIdx,m=a();return D.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(g,v){var x=f&&v>=h&&v<=p,y=o.dayProp(g),w=y.className,S=y.style;return D.createElement(l,{key:v,value:g,range:i},D.createElement("div",{style:S,className:kr("rbc-day-bg",w,x&&"rbc-selected-cell",u.isSameDate(g,m)&&"rbc-today",s&&u.neq(s,g,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,i=this.containerRef.current,a=this._selector=new jZ(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(l,u){if(!Nw(i,l)&&!G9e(i,l)){var d=od(i),f=n.props,h=f.range,p=f.rtl;if($9e(d,l)){var m=PZ(d,l.x,p,h.length);n._selectSlot({startIdx:m,endIdx:m,action:u,box:l})}}n._initial={},n.setState({selecting:!1})};a.on("selecting",function(s){var l=n.props,u=l.range,d=l.rtl,f=-1,h=-1;if(n.state.selecting||(or(n.props.onSelectStart,[s]),n._initial={x:s.x,y:s.y}),a.isSelected(i)){var p=od(i),m=F9e(n._initial,p,s,u.length,d);f=m.startIdx,h=m.endIdx}n.setState({selecting:!0,startIdx:f,endIdx:h})}),a.on("beforeSelect",function(s){if(n.props.selectable==="ignoreEvents")return!Nw(n.containerRef.current,s)}),a.on("click",function(s){return o(s,"click")}),a.on("doubleClick",function(s){return o(s,"doubleClick")}),a.on("select",function(s){n._selectSlot(Vt(Vt({},n.state),{},{action:"select",bounds:s})),n._initial={},n.setState({selecting:!1}),or(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var i=n.endIdx,a=n.startIdx,o=n.action,s=n.bounds,l=n.box;i!==-1&&a!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:a,end:i,action:o,bounds:s,box:l,resourceId:this.props.resourceId})}}])}(D.Component),Aa={propTypes:{slotMetrics:fe.object.isRequired,selected:fe.object,isAllDay:fe.bool,accessors:fe.object.isRequired,localizer:fe.object.isRequired,components:fe.object.isRequired,getters:fe.object.isRequired,onSelect:fe.func,onDoubleClick:fe.func,onKeyPress:fe.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,r){var n=e.selected;e.isAllDay;var i=e.accessors,a=e.getters,o=e.onSelect,s=e.onDoubleClick,l=e.onKeyPress,u=e.localizer,d=e.slotMetrics,f=e.components,h=e.resizable,p=d.continuesPrior(r),m=d.continuesAfter(r);return D.createElement(NZ,{event:r,getters:a,localizer:u,accessors:i,components:f,onSelect:o,onDoubleClick:s,onKeyPress:l,continuesPrior:p,continuesAfter:m,slotStart:d.first,slotEnd:d.last,selected:m_(r,n),resizable:h})},renderSpan:function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",a=Math.abs(r)/e*100+"%";return D.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:a,flexBasis:a,maxWidth:a}},i)}},kZ=function(t){function e(){return un(this,e),ai(this,e,arguments)}return ii(e,t),dn(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.segments,o=i.slotMetrics.slots,s=i.className,l=1;return D.createElement("div",{className:kr(s,"rbc-row")},a.reduce(function(u,d,f){var h=d.event,p=d.left,m=d.right,g=d.span,v="_lvl_"+f,x=p-l,y=Aa.renderEvent(n.props,h);return x&&u.push(Aa.renderSpan(o,x,"".concat(v,"_gap"))),u.push(Aa.renderSpan(o,g,v,y)),l=m+1,u},[]))}}])}(D.Component);kZ.defaultProps=Vt({},Aa.defaultProps);function RZ(t){var e=t.dateRange,r=t.unit,n=r===void 0?"day":r,i=t.localizer;return{first:e[0],last:i.add(e[e.length-1],1,n)}}function X9e(t,e,r,n){var i=RZ({dateRange:e,localizer:n}),a=i.first,o=i.last,s=n.diff(a,o,"day"),l=n.max(n.startOf(r.start(t),"day"),a),u=n.min(n.ceil(r.end(t),"day"),o),d=a6e(e,function(h){return n.isSameDate(h,l)}),f=n.diff(l,u,"day");return f=Math.min(f,s),f=Math.max(f-n.segmentOffset,1),{event:t,span:f,left:d+1,right:Math.max(d+f,1)}}function vN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,i,a=[],o=[];for(r=0;r<t.length;r++){for(i=t[r],n=0;n<a.length&&Q9e(i,a[n]);n++);n>=e?o.push(i):(a[n]||(a[n]=[])).push(i)}for(r=0;r<a.length;r++)a[r].sort(function(s,l){return s.left-l.left});return{levels:a,extra:o}}function gv(t,e,r,n,i){var a={start:n.start(t),end:n.end(t)},o={start:e,end:r};return i.inEventRange({event:a,range:o})}function Q9e(t,e){return e.some(function(r){return r.left<=t.right&&r.right>=t.left})}function Z9e(t,e,r){var n=Y1(t),i=[],a=[];n.forEach(function(l){var u=e.start(l),d=e.end(l);r.daySpan(u,d)>1?i.push(l):a.push(l)});var o=i.sort(function(l,u){return yN(l,u,e,r)}),s=a.sort(function(l,u){return yN(l,u,e,r)});return[].concat(Y1(o),Y1(s))}function yN(t,e,r,n){var i={start:r.start(t),end:r.end(t),allDay:r.allDay(t)},a={start:r.start(e),end:r.end(e),allDay:r.allDay(e)};return n.sortEvents({evtA:i,evtB:a})}var xN=function(e,r){return e.left<=r&&e.right>=r},JE=function(e,r){return e.filter(function(n){return xN(n,r)}).map(function(n){return n.event})},DZ=function(t){function e(){return un(this,e),ai(this,e,arguments)}return ii(e,t),dn(e,[{key:"render",value:function(){for(var n=this.props,i=n.segments,a=n.slotMetrics.slots,o=vN(i).levels[0],s=1,l=1,u=[];s<=a;){var d="_lvl_"+s,f=o.filter(function(S){return xN(S,s)})[0]||{},h=f.event,p=f.left,m=f.right,g=f.span;if(!h){var v=this.getHiddenEventsForSlot(i,s);if(v.length>0){var x=s-l;x&&u.push(Aa.renderSpan(a,x,d+"_gap")),u.push(Aa.renderSpan(a,1,d,this.renderShowMore(i,s))),l=s=s+1;continue}s++;continue}var y=Math.max(0,p-l);if(this.canRenderSlotEvent(p,g)){var w=Aa.renderEvent(this.props,h);y&&u.push(Aa.renderSpan(a,y,d+"_gap")),u.push(Aa.renderSpan(a,g,d,w)),l=s=m+1}else y&&u.push(Aa.renderSpan(a,y,d+"_gap")),u.push(Aa.renderSpan(a,1,d,this.renderShowMore(i,s))),l=s=s+1}return D.createElement("div",{className:"rbc-row"},u)}},{key:"getHiddenEventsForSlot",value:function(n,i){var a=JE(n,i),o=vN(n).levels[0],s=o.filter(function(l){return xN(l,i)}).map(function(l){return l.event});return a.filter(function(l){return!s.some(function(u){return u===l})})}},{key:"canRenderSlotEvent",value:function(n,i){var a=this.props.segments;return mv(n,n+i).every(function(o){var s=JE(a,o).length;return s===1})}},{key:"renderShowMore",value:function(n,i){var a=this,o=this.props,s=o.localizer,l=o.slotMetrics,u=o.components,d=l.getEventsForSlot(i),f=JE(n,i),h=f.length;if(u!=null&&u.showMore){var p=u.showMore,m=l.getDateForSlot(i-1);return h?D.createElement(p,{localizer:s,slotDate:m,slot:i,count:h,events:d,remainingEvents:f}):!1}return h?D.createElement("button",{type:"button",key:"sm_"+i,className:kr("rbc-button-link","rbc-show-more"),onClick:function(v){return a.showMore(i,v)}},s.messages.showMore(h,f,d)):!1}},{key:"showMore",value:function(n,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(n,i.target)}}])}(D.Component);DZ.defaultProps=Vt({},Aa.defaultProps);var J9e=function(e){var r=e.children;return D.createElement("div",{className:"rbc-row-content-scroll-container"},r)},e7e=function(e,r){return e.left<=r&&e.right>=r},t7e=function(e,r){return e[0].range===r[0].range&&e[0].events===r[0].events};function MZ(){return aZ(function(t){for(var e=t.range,r=t.events,n=t.maxRows,i=t.minRows,a=t.accessors,o=t.localizer,s=RZ({dateRange:e,localizer:o}),l=s.first,u=s.last,d=r.map(function(g){return X9e(g,e,a,o)}),f=vN(d,Math.max(n-1,1)),h=f.levels,p=f.extra,m=p.length>0?i-1:i;h.length<m;)h.push([]);return{first:l,last:u,levels:h,extra:p,range:e,slots:e.length,clone:function(v){var x=MZ();return x(Vt(Vt({},t),v))},getDateForSlot:function(v){return e[v]},getSlotForDate:function(v){return e.find(function(x){return o.isSameDate(x,v)})},getEventsForSlot:function(v){return d.filter(function(x){return e7e(x,v)}).map(function(x){return x.event})},continuesPrior:function(v){return o.continuesPrior(a.start(v),l)},continuesAfter:function(v){var x=a.start(v),y=a.end(v);return o.continuesAfter(x,y,u)}}},t7e)}var vv=function(t){function e(){var r;un(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ai(this,e,[].concat(i)),r.handleSelectSlot=function(o){var s=r.props,l=s.range,u=s.onSelectSlot;u(l.slice(o.start,o.end+1),o)},r.handleShowMore=function(o,s){var l=r.props,u=l.range,d=l.onShowMore,f=r.slotMetrics(r.props),h=mPe(r.containerRef.current,".rbc-row-bg")[0],p;h&&(p=h.children[o-1]);var m=f.getEventsForSlot(o);d(m,u[o-1],p,o,s)},r.getContainer=function(){var o=r.props.container;return o?o():r.containerRef.current},r.renderHeadingCell=function(o,s){var l=r.props,u=l.renderHeader,d=l.getNow,f=l.localizer;return u({date:o,key:"header_".concat(s),className:kr("rbc-date-cell",f.isSameDate(o,d())&&"rbc-now")})},r.renderDummy=function(){var o=r.props,s=o.className,l=o.range,u=o.renderHeader,d=o.showAllEvents;return D.createElement("div",{className:s,ref:r.containerRef},D.createElement("div",{className:kr("rbc-row-content",d&&"rbc-row-content-scrollable")},u&&D.createElement("div",{className:"rbc-row",ref:r.headingRowRef},l.map(r.renderHeadingCell)),D.createElement("div",{className:"rbc-row",ref:r.eventRowRef},D.createElement("div",{className:"rbc-row-segment"},D.createElement("div",{className:"rbc-event"},D.createElement("div",{className:"rbc-event-content"}," "))))))},r.containerRef=b.createRef(),r.headingRowRef=b.createRef(),r.eventRowRef=b.createRef(),r.slotMetrics=MZ(),r}return ii(e,t),dn(e,[{key:"getRowLimit",value:function(){var n,i=XE(this.eventRowRef.current),a=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?XE(this.headingRowRef.current):0,o=XE(this.containerRef.current)-a;return Math.max(Math.floor(o/i),1)}},{key:"render",value:function(){var n=this.props,i=n.date,a=n.rtl,o=n.range,s=n.className,l=n.selected,u=n.selectable,d=n.renderForMeasure,f=n.accessors,h=n.getters,p=n.components,m=n.getNow,g=n.renderHeader,v=n.onSelect,x=n.localizer,y=n.onSelectStart,w=n.onSelectEnd,S=n.onDoubleClick,E=n.onKeyPress,C=n.resourceId,A=n.longPressThreshold,T=n.isAllDay,N=n.resizable,I=n.showAllEvents;if(d)return this.renderDummy();var j=this.slotMetrics(this.props),O=j.levels,P=j.extra,M=I?J9e:Ro,F=p.weekWrapper,B={selected:l,accessors:f,getters:h,localizer:x,components:p,onSelect:v,onDoubleClick:S,onKeyPress:E,resourceId:C,slotMetrics:j,resizable:N};return D.createElement("div",{className:s,role:"rowgroup",ref:this.containerRef},D.createElement(Y9e,{localizer:x,date:i,getNow:m,rtl:a,range:o,selectable:u,container:this.getContainer,getters:h,onSelectStart:y,onSelectEnd:w,onSelectSlot:this.handleSelectSlot,components:p,longPressThreshold:A,resourceId:C}),D.createElement("div",{className:kr("rbc-row-content",I&&"rbc-row-content-scrollable"),role:"row"},g&&D.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),D.createElement(M,null,D.createElement(F,Object.assign({isAllDay:T},B,{rtl:this.props.rtl}),O.map(function(W,$){return D.createElement(kZ,Object.assign({key:$,segments:W},B))}),!!P.length&&D.createElement(DZ,Object.assign({segments:P,onShowMore:this.handleShowMore},B))))))}}])}(D.Component);vv.defaultProps={minRows:0,maxRows:1/0};var Qk=function(e){var r=e.label;return D.createElement("span",{role:"columnheader","aria-sort":"none"},r)},r7e=function(e){var r=e.label,n=e.drilldownView,i=e.onDrillDown;return n?D.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},r):D.createElement("span",null,r)},n7e=["date","className"],i7e=function(e,r,n,i,a){return e.filter(function(o){return gv(o,r,n,i,a)})},g_=function(t){function e(){var r;un(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ai(this,e,[].concat(i)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(o,s){var l=r.props,u=l.events,d=l.components,f=l.selectable,h=l.getNow,p=l.selected,m=l.date,g=l.localizer,v=l.longPressThreshold,x=l.accessors,y=l.getters,w=l.showAllEvents,S=r.state,E=S.needLimitMeasure,C=S.rowLimit,A=i7e(Y1(u),o[0],o[o.length-1],x,g),T=Z9e(A,x,g);return D.createElement(vv,{key:s,ref:s===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:h,date:m,range:o,events:T,maxRows:w?1/0:C,selected:p,selectable:f,components:d,accessors:x,getters:y,localizer:g,renderHeader:r.readerDateHeading,renderForMeasure:E,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:v,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:w})},r.readerDateHeading=function(o){var s=o.date,l=o.className,u=ss(o,n7e),d=r.props,f=d.date,h=d.getDrilldownView,p=d.localizer,m=p.neq(f,s,"month"),g=p.isSameDate(s,f),v=h(s),x=p.format(s,"dateFormat"),y=r.props.components.dateHeader||r7e;return D.createElement("div",Object.assign({},u,{className:kr(l,m&&"rbc-off-range",g&&"rbc-current"),role:"cell"}),D.createElement(y,{label:x,date:s,drilldownView:v,isOffRange:m,onDrillDown:function(S){return r.handleHeadingClick(s,v,S)}}))},r.handleSelectSlot=function(o,s){r._pendingSelection=r._pendingSelection.concat(o),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(s)})},r.handleHeadingClick=function(o,s,l){l.preventDefault(),r.clearSelection(),or(r.props.onDrillDown,[o,s])},r.handleSelectEvent=function(){r.clearSelection();for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];or(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];or(r.props.onDoubleClickEvent,s)},r.handleKeyPressEvent=function(){r.clearSelection();for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];or(r.props.onKeyPressEvent,s)},r.handleShowMore=function(o,s,l,u,d){var f=r.props,h=f.popup,p=f.onDrillDown,m=f.onShowMore,g=f.getDrilldownView,v=f.doShowMoreDrillDown;if(r.clearSelection(),h){var x=EQ(l,r.containerRef.current);r.setState({overlay:{date:s,events:o,position:x,target:d}})}else v&&or(p,[s,g(s)||vi.DAY]);or(m,[o,s,u])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=b.createRef(),r.slotRowRef=b.createRef(),r._bgRows=[],r._pendingSelection=[],r}return ii(e,t),dn(e,[{key:"componentDidMount",value:function(){var n=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||AQ(function(){i=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,i=n.date,a=n.localizer,o=n.className,s=a.visibleDays(i,a),l=JIe(s,7);return this._weekCount=l.length,D.createElement("div",{className:kr("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},D.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var i=this.props,a=i.localizer,o=i.components,s=n[0],l=n[n.length-1],u=o.header||Qk;return a.range(s,l,"day").map(function(d,f){return D.createElement("div",{key:"header_"+f,className:"rbc-header"},D.createElement(u,{date:d,localizer:a,label:a.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,i,a=this,o=(n=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&n!==void 0?n:{},s=this.props,l=s.accessors,u=s.localizer,d=s.components,f=s.getters,h=s.selected,p=s.popupOffset,m=s.handleDragStart,g=function(){return a.setState({overlay:null})};return D.createElement(Xk,{overlay:o,accessors:l,localizer:u,components:d,getters:f,selected:h,popupOffset:p,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:m,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(s,l){return+s-+l});var a=new Date(i[0]),o=new Date(i[i.length-1]);o.setDate(i[i.length-1].getDate()+1),or(this.props.onSelectSlot,{slots:i,start:a,end:o,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,i){var a=n.date,o=n.localizer;return{date:a,needLimitMeasure:o.neq(a,i.date,"month")}}}])}(D.Component);g_.range=function(t,e){var r=e.localizer,n=r.firstVisibleDay(t,r),i=r.lastVisibleDay(t,r);return{start:n,end:i}};g_.navigate=function(t,e,r){var n=r.localizer;switch(e){case Hi.PREVIOUS:return n.add(t,-1,"month");case Hi.NEXT:return n.add(t,1,"month");default:return t}};g_.title=function(t,e){var r=e.localizer;return r.format(t,"monthHeaderFormat")};var jL=function(e){var r=e.min,n=e.max,i=e.step,a=e.slots,o=e.localizer;return"".concat(+o.startOf(r,"minutes"))+"".concat(+o.startOf(n,"minutes"))+"".concat(i,"-").concat(a)};function Zk(t){for(var e=t.min,r=t.max,n=t.step,i=t.timeslots,a=t.localizer,o=jL({step:n,localizer:a}),s=1+a.getTotalMin(e,r),l=a.getMinutesFromMidnight(e),u=Math.ceil((s-1)/(n*i)),d=u*i,f=new Array(u),h=new Array(d),p=0;p<u;p++){f[p]=new Array(i);for(var m=0;m<i;m++){var g=p*i+m,v=g*n;h[g]=f[p][m]=a.getSlotDate(e,l,v)}}var x=h.length*n;h.push(a.getSlotDate(e,l,x));function y(w){var S=a.diff(e,w,"minutes")+a.getDstOffset(e,w);return Math.min(S,s)}return{groups:f,update:function(S){return jL(S)!==o?Zk(S):this},dateIsInGroup:function(S,E){var C=f[E+1];return a.inRange(S,f[E][0],C?C[0]:r,"minutes")},nextSlot:function(S){var E=h[Math.min(h.findIndex(function(C){return C===S||a.eq(C,S)})+1,h.length-1)];return a.eq(E,S)&&(E=a.add(S,n,"minutes")),E},closestSlotToPosition:function(S){var E=Math.min(h.length-1,Math.max(0,Math.floor(S*d)));return h[E]},closestSlotFromPoint:function(S,E){var C=Math.abs(E.top-E.bottom);return this.closestSlotToPosition((S.y-E.top)/C)},closestSlotFromDate:function(S){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(a.lt(S,e,"minutes"))return h[0];if(a.gt(S,r,"minutes"))return h[h.length-1];var C=a.diff(e,S,"minutes");return h[(C-C%n)/n+E]},startsBeforeDay:function(S){return a.lt(S,e,"day")},startsAfterDay:function(S){return a.gt(S,r,"day")},startsBefore:function(S){return a.lt(a.merge(e,S),e,"minutes")},startsAfter:function(S){return a.gt(a.merge(r,S),r,"minutes")},getRange:function(S,E,C,A){C||(S=a.min(r,a.max(e,S))),A||(E=a.min(r,a.max(e,E)));var T=y(S),N=y(E),I=N>n*d&&!a.eq(r,E)?(T-n)/(n*d)*100:T/(n*d)*100;return{top:I,height:N/(n*d)*100-I,start:y(S),startDate:S,end:y(E),endDate:E}},getCurrentTimePosition:function(S){var E=y(S),C=E/(n*d)*100;return C}}}var a7e=function(){function t(e,r){var n=r.accessors,i=r.slotMetrics;un(this,t);var a=i.getRange(n.start(e),n.end(e)),o=a.start,s=a.startDate,l=a.end,u=a.endDate,d=a.top,f=a.height;this.start=o,this.end=l,this.startMs=+s,this.endMs=+u,this.top=d,this.height=f,this.data=e}return dn(t,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(i,a){return Math.max(i,a.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var i=this.row.leaves,a=i.indexOf(this);return a===i.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,i=r.xOffset,a=r._width,o=n.indexOf(this)+1;return i+o*a}}])}();function o7e(t,e,r){return Math.abs(e.start-t.start)<r||e.start>t.start&&e.start<t.end}function s7e(t){for(var e=f_(t,["startMs",function(s){return-s.endMs}]),r=[];e.length>0;){var n=e.shift();r.push(n);for(var i=0;i<e.length;i++){var a=e[i];if(!(n.endMs>a.startMs)){if(i>0){var o=e.splice(i,1)[0];r.push(o)}break}}}return r}function LZ(t){for(var e=t.events,r=t.minimumStartDifference,n=t.slotMetrics,i=t.accessors,a=e.map(function(d){return new a7e(d,{slotMetrics:n,accessors:i})}),o=s7e(a),s=[],l=function(){var f=o[u],h=s.find(function(g){return g.end>f.start||Math.abs(f.start-g.start)<r});if(!h)return f.rows=[],s.push(f),1;f.container=h;for(var p=null,m=h.rows.length-1;!p&&m>=0;m--)o7e(h.rows[m],f,r)&&(p=h.rows[m]);p?(p.leaves.push(f),f.row=p):(f.leaves=[],h.rows.push(f))},u=0;u<o.length;u++)l();return o.map(function(d){return{event:d.data,style:{top:d.top,height:d.height,width:d.width,xOffset:Math.max(0,d.xOffset)}}})}function $Z(t,e,r){for(var n=0;n<t.friends.length;++n)if(!(r.indexOf(t.friends[n])>-1)){e=e>t.friends[n].idx?e:t.friends[n].idx,r.push(t.friends[n]);var i=$Z(t.friends[n],e,r);e=e>i?e:i}return e}function l7e(t){var e=t.events,r=t.minimumStartDifference,n=t.slotMetrics,i=t.accessors,a=LZ({events:e,minimumStartDifference:r,slotMetrics:n,accessors:i});a.sort(function(F,B){return F=F.style,B=B.style,F.top!==B.top?F.top>B.top?1:-1:F.height!==B.height?F.top+F.height<B.top+B.height?1:-1:0});for(var o=0;o<a.length;++o)a[o].friends=[],delete a[o].style.left,delete a[o].style.left,delete a[o].idx,delete a[o].size;for(var s=0;s<a.length-1;++s)for(var l=a[s],u=l.style.top,d=l.style.top+l.style.height,f=s+1;f<a.length;++f){var h=a[f],p=h.style.top,m=h.style.top+h.style.height;(p>=u&&m<=d||m>u&&m<=d||p>=u&&p<d)&&(l.friends.push(h),h.friends.push(l))}for(var g=0;g<a.length;++g){for(var v=a[g],x=[],y=0;y<100;++y)x.push(1);for(var w=0;w<v.friends.length;++w)v.friends[w].idx!==void 0&&(x[v.friends[w].idx]=0);v.idx=x.indexOf(1)}for(var S=0;S<a.length;++S){var E=0;if(!a[S].size){var C=[],A=$Z(a[S],0,C);E=100/(A+1),a[S].size=E;for(var T=0;T<C.length;++T)C[T].size=E}}for(var N=0;N<a.length;++N){var I=a[N];I.style.left=I.idx*I.size;for(var j=0,O=0;O<I.friends.length;++O){var P=I.friends[O].idx;j=j>P?j:P}j<=I.idx&&(I.size=100-I.idx*I.size);var M=I.idx===0?0:3;I.style.width="calc(".concat(I.size,"% - ").concat(M,"px)"),I.style.height="calc(".concat(I.style.height,"% - 2px)"),I.style.xOffset="calc(".concat(I.style.left,"% + ").concat(M,"px)")}return a}var kL={overlap:LZ,"no-overlap":l7e};function c7e(t){return!!(t&&t.constructor&&t.call&&t.apply)}function u7e(t){t.events,t.minimumStartDifference,t.slotMetrics,t.accessors;var e=t.dayLayoutAlgorithm,r=e;return e in kL&&(r=kL[e]),c7e(r)?r.apply(this,arguments):[]}var FZ=function(t){function e(){return un(this,e),ai(this,e,arguments)}return ii(e,t),dn(e,[{key:"render",value:function(){var n=this.props,i=n.renderSlot,a=n.resource,o=n.group,s=n.getters,l=n.components,u=l===void 0?{}:l,d=u.timeSlotWrapper,f=d===void 0?Ro:d,h=s?s.slotGroupProp(o):{};return D.createElement("div",Object.assign({className:"rbc-timeslot-group"},h),o.map(function(p,m){var g=s?s.slotProp(p,a):{};return D.createElement(f,{key:m,value:p,resource:a},D.createElement("div",Object.assign({},g,{className:kr("rbc-time-slot",g.className)}),i&&i(p,m)))}))}}])}(b.Component);function Zy(t){return typeof t=="string"?t:t+"%"}function d7e(t){var e=t.style,r=t.className,n=t.event,i=t.accessors,a=t.rtl,o=t.selected,s=t.label,l=t.continuesPrior,u=t.continuesAfter,d=t.getters,f=t.onClick,h=t.onDoubleClick,p=t.isBackgroundEvent,m=t.onKeyPress,g=t.components,v=g.event,x=g.eventWrapper,y=i.title(n),w=i.tooltip(n),S=i.end(n),E=i.start(n),C=d.eventProp(n,E,S,o),A=[D.createElement("div",{key:"1",className:"rbc-event-label"},s),D.createElement("div",{key:"2",className:"rbc-event-content"},v?D.createElement(v,{event:n,title:y}):y)],T=e.height,N=e.top,I=e.width,j=e.xOffset,O=Vt(Vt({},C.style),{},pu({top:Zy(N),height:Zy(T),width:Zy(I)},a?"right":"left",Zy(j)));return D.createElement(x,Object.assign({type:"time"},t),D.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:h,style:O,onKeyDown:m,title:w?(typeof s=="string"?s+": ":"")+w:void 0,className:kr(p?"rbc-background-event":"rbc-event",r,C.className,{"rbc-selected":o,"rbc-event-continues-earlier":l,"rbc-event-continues-later":u})},A))}var f7e=function(e){var r=e.children,n=e.className,i=e.style,a=e.innerRef;return D.createElement("div",{className:n,style:i,ref:a},r)},h7e=D.forwardRef(function(t,e){return D.createElement(f7e,Object.assign({},t,{innerRef:e}))}),p7e=["dayProp"],m7e=["eventContainerWrapper","timeIndicatorWrapper"],BZ=function(t){function e(){var r;un(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ai(this,e,[].concat(i)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(o){var s=o.events,l=o.isBackgroundEvent,u=r.props,d=u.rtl,f=u.selected,h=u.accessors,p=u.localizer,m=u.getters,g=u.components,v=u.step,x=u.timeslots,y=u.dayLayoutAlgorithm,w=u.resizable,S=r,E=S.slotMetrics,C=p.messages,A=u7e({events:s,accessors:h,slotMetrics:E,minimumStartDifference:Math.ceil(v*x/2),dayLayoutAlgorithm:y});return A.map(function(T,N){var I,j=T.event,O=T.style,P=h.end(j),M=h.start(j),F=(I=h.eventId(j))!==null&&I!==void 0?I:"evt_"+N,B="eventTimeRangeFormat",W,$=E.startsBeforeDay(M),U=E.startsAfterDay(P);$?B="eventTimeRangeEndFormat":U&&(B="eventTimeRangeStartFormat"),$&&U?W=C.allDay:W=p.format({start:M,end:P},B);var X=$||E.startsBefore(M),H=U||E.startsAfter(P);return D.createElement(d7e,{style:O,event:j,label:W,key:F,getters:m,rtl:d,components:g,continuesPrior:X,continuesAfter:H,accessors:h,resource:r.props.resource,selected:m_(j,f),onClick:function(Q){return r._select(Vt(Vt(Vt({},j),r.props.resource&&{sourceResource:r.props.resource}),l&&{isBackgroundEvent:!0}),Q)},onDoubleClick:function(Q){return r._doubleClick(j,Q)},isBackgroundEvent:l,onKeyPress:function(Q){return r._keyPress(j,Q)},resizable:w})})},r._selectable=function(){var o=r.containerRef.current,s=r.props,l=s.longPressThreshold,u=s.localizer,d=r._selector=new jZ(function(){return o},{longPressThreshold:l}),f=function(g){var v=r.props.onSelecting,x=r.state||{},y=h(g),w=y.startDate,S=y.endDate;v&&(u.eq(x.startDate,w,"minutes")&&u.eq(x.endDate,S,"minutes")||v({start:w,end:S,resourceId:r.props.resource})===!1)||(r.state.start!==y.start||r.state.end!==y.end||r.state.selecting!==y.selecting)&&r.setState(y)},h=function(g){var v=r.slotMetrics.closestSlotFromPoint(g,od(o));r.state.selecting||(r._initialSlot=v);var x=r._initialSlot;u.lte(x,v)?v=r.slotMetrics.nextSlot(v):u.gt(x,v)&&(x=r.slotMetrics.nextSlot(x));var y=r.slotMetrics.getRange(u.min(x,v),u.max(x,v));return Vt(Vt({},y),{},{selecting:!0,top:"".concat(y.top,"%"),height:"".concat(y.height,"%")})},p=function(g,v){if(!Nw(r.containerRef.current,g)){var x=h(g),y=x.startDate,w=x.endDate;r._selectSlot({startDate:y,endDate:w,action:v,box:g})}r.setState({selecting:!1})};d.on("selecting",f),d.on("selectStart",f),d.on("beforeSelect",function(m){if(r.props.selectable==="ignoreEvents")return!Nw(r.containerRef.current,m)}),d.on("click",function(m){return p(m,"click")}),d.on("doubleClick",function(m){return p(m,"doubleClick")}),d.on("select",function(m){r.state.selecting&&(r._selectSlot(Vt(Vt({},r.state),{},{action:"select",bounds:m})),r.setState({selecting:!1}))}),d.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(o){for(var s=o.startDate,l=o.endDate,u=o.action,d=o.bounds,f=o.box,h=s,p=[];r.props.localizer.lte(h,l);)p.push(h),h=new Date(+h+r.props.step*60*1e3);or(r.props.onSelectSlot,{slots:p,start:s,end:l,resourceId:r.props.resource,action:u,bounds:d,box:f})},r._select=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];or(r.props.onSelectEvent,s)},r._doubleClick=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];or(r.props.onDoubleClickEvent,s)},r._keyPress=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];or(r.props.onKeyPressEvent,s)},r.slotMetrics=Zk(r.props),r.containerRef=b.createRef(),r}return ii(e,t),dn(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,i){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var a=this.props,o=a.getNow,s=a.isNow,l=a.localizer,u=a.date,d=a.min,f=a.max,h=l.neq(n.getNow(),o(),"minutes");if(n.isNow!==s||h){if(this.clearTimeIndicatorInterval(),s){var p=!h&&l.eq(n.date,u,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(p)}}else s&&(l.neq(n.min,d,"minutes")||l.neq(n.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,i=n.min,a=n.max,o=n.getNow,s=o();if(s>=i&&s<=a){var l=this.slotMetrics.getCurrentTimePosition(s);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,i=n.date,a=n.max,o=n.rtl,s=n.isNow,l=n.resource,u=n.accessors,d=n.localizer,f=n.getters,h=f.dayProp,p=ss(f,p7e),m=n.components,g=m.eventContainerWrapper,v=m.timeIndicatorWrapper,x=ss(m,m7e);this.slotMetrics=this.slotMetrics.update(this.props);var y=this.slotMetrics,w=this.state,S=w.selecting,E=w.top,C=w.height,A=w.startDate,T=w.endDate,N={start:A,end:T},I=h(a,l),j=I.className,O=I.style,P={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},M=x.dayColumnWrapper||h7e;return D.createElement(M,{ref:this.containerRef,date:i,style:O,className:kr(j,"rbc-day-slot","rbc-time-column",s&&"rbc-now",s&&"rbc-today",S&&"rbc-slot-selecting"),slotMetrics:y,resource:l},y.groups.map(function(F,B){return D.createElement(FZ,{key:B,group:F,resource:l,getters:p,components:x})}),D.createElement(g,{localizer:d,resource:l,accessors:u,getters:p,components:x,slotMetrics:y},D.createElement("div",{className:kr("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),S&&D.createElement("div",{className:"rbc-slot-selection",style:{top:E,height:C}},D.createElement("span",null,d.format(N,"selectRangeFormat"))),s&&this.intervalTriggered&&D.createElement(v,P,D.createElement("div",P)))}}])}(D.Component);BZ.defaultProps={dragThroughEvents:!0,timeslots:2};var UZ=function(e){var r=e.label;return D.createElement(D.Fragment,null,r)},g7e=function(t){function e(){var r;un(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ai(this,e,[].concat(i)),r.handleHeaderClick=function(o,s,l){l.preventDefault(),or(r.props.onDrillDown,[o,s])},r.renderRow=function(o){var s=r.props,l=s.events,u=s.rtl,d=s.selectable,f=s.getNow,h=s.range,p=s.getters,m=s.localizer,g=s.accessors,v=s.components,x=s.resizable,y=g.resourceId(o),w=o?l.filter(function(S){return g.resource(S)===y}):l;return D.createElement(vv,{isAllDay:!0,rtl:u,getNow:f,minRows:2,maxRows:r.props.allDayMaxRows+1,range:h,events:w,resourceId:y,className:"rbc-allday-cell",selectable:d,selected:r.props.selected,components:v,accessors:g,getters:p,localizer:m,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:x})},r}return ii(e,t),dn(e,[{key:"renderHeaderCells",value:function(n){var i=this,a=this.props,o=a.localizer,s=a.getDrilldownView,l=a.getNow,u=a.getters.dayProp,d=a.components.header,f=d===void 0?Qk:d,h=l();return n.map(function(p,m){var g=s(p),v=o.format(p,"dayFormat"),x=u(p),y=x.className,w=x.style,S=D.createElement(f,{date:p,label:v,localizer:o});return D.createElement("div",{key:m,style:w,className:kr("rbc-header",y,o.isSameDate(p,h)&&"rbc-today")},g?D.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(C){return i.handleHeaderClick(p,g,C)}},S):D.createElement("span",null,S))})}},{key:"render",value:function(){var n=this,i=this.props,a=i.width,o=i.rtl,s=i.resources,l=i.range,u=i.events,d=i.getNow,f=i.accessors,h=i.selectable,p=i.components,m=i.getters,g=i.scrollRef,v=i.localizer,x=i.isOverflowing,y=i.components,w=y.timeGutterHeader,S=y.resourceHeader,E=S===void 0?UZ:S,C=i.resizable,A={};x&&(A[o?"marginLeft":"marginRight"]="".concat(Nk()-1,"px"));var T=s.groupEvents(u);return D.createElement("div",{style:A,ref:g,className:kr("rbc-time-header",x&&"rbc-overflowing")},D.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},w&&D.createElement(w,null)),s.map(function(N,I){var j=Ju(N,2),O=j[0],P=j[1];return D.createElement("div",{className:"rbc-time-header-content",key:O||I},P&&D.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(I)},D.createElement("div",{className:"rbc-header"},D.createElement(E,{index:I,label:f.resourceTitle(P),resource:P}))),D.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(l)),D.createElement(vv,{isAllDay:!0,rtl:o,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:l,events:T.get(O)||[],resourceId:P&&O,className:"rbc-allday-cell",selectable:h,selected:n.props.selected,components:p,accessors:f,getters:m,localizer:v,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:C}))}))}}])}(D.Component),v7e=function(t){function e(){var r;un(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ai(this,e,[].concat(i)),r.handleHeaderClick=function(o,s,l){l.preventDefault(),or(r.props.onDrillDown,[o,s])},r}return ii(e,t),dn(e,[{key:"renderHeaderCells",value:function(n){var i=this,a=this.props,o=a.localizer,s=a.getDrilldownView,l=a.getNow,u=a.getters.dayProp,d=a.components,f=d.header,h=f===void 0?Qk:f,p=d.resourceHeader,m=p===void 0?UZ:p,g=a.resources,v=a.accessors,x=a.events,y=a.rtl,w=a.selectable,S=a.components,E=a.getters,C=a.resizable,A=l(),T=g.groupEvents(x);return n.map(function(N,I){var j=s(N),O=o.format(N,"dayFormat"),P=u(N),M=P.className,F=P.style,B=D.createElement(h,{date:N,label:O,localizer:o});return D.createElement("div",{key:I,className:"rbc-time-header-content rbc-resource-grouping"},D.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},D.createElement("div",{style:F,className:kr("rbc-header",M,o.isSameDate(N,A)&&"rbc-today")},j?D.createElement("button",{type:"button",className:"rbc-button-link",onClick:function($){return i.handleHeaderClick(N,j,$)}},B):D.createElement("span",null,B))),D.createElement("div",{className:"rbc-row"},g.map(function(W,$){var U=Ju(W,2),X=U[0],H=U[1];return D.createElement("div",{key:"resource_".concat(X,"_").concat($),className:kr("rbc-header",M,o.isSameDate(N,A)&&"rbc-today")},D.createElement(m,{index:$,label:v.resourceTitle(H),resource:H}))})),D.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},g.map(function(W,$){var U=Ju(W,2),X=U[0],H=U[1],Y=(T.get(X)||[]).filter(function(Q){return o.isSameDate(Q.start,N)||o.isSameDate(Q.end,N)});return D.createElement(vv,{key:"resource_".concat(X,"_").concat($),isAllDay:!0,rtl:y,getNow:l,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[N],events:Y,resourceId:H&&X,className:"rbc-allday-cell",selectable:w,selected:i.props.selected,components:S,accessors:v,getters:E,localizer:o,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:C})})))})}},{key:"render",value:function(){var n=this.props,i=n.width,a=n.rtl,o=n.range,s=n.scrollRef,l=n.isOverflowing,u=n.components.timeGutterHeader,d={};return l&&(d[a?"marginLeft":"marginRight"]="".concat(Nk()-1,"px")),D.createElement("div",{style:d,ref:s,className:kr("rbc-time-header",l&&"rbc-overflowing")},D.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},u&&D.createElement(u,null)),this.renderHeaderCells(o))}}])}(D.Component);function y7e(t){var e=t.min,r=t.max,n=t.localizer;return n.getTimezoneOffset(e)!==n.getTimezoneOffset(r)?{start:n.add(e,-1,"day"),end:n.add(r,-1,"day")}:{start:e,end:r}}var x7e=function(e){var r=e.min,n=e.max,i=e.timeslots,a=e.step,o=e.localizer,s=e.getNow,l=e.resource,u=e.components,d=e.getters,f=e.gutterRef,h=u.timeGutterWrapper,p=b.useMemo(function(){return y7e({min:r,max:n,localizer:o})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),o]),m=p.start,g=p.end,v=b.useState(Zk({min:m,max:g,timeslots:i,step:a,localizer:o})),x=Ju(v,2),y=x[0],w=x[1];b.useEffect(function(){y&&w(y.update({min:m,max:g,timeslots:i,step:a,localizer:o}))},[m==null?void 0:m.toISOString(),g==null?void 0:g.toISOString(),i,a]);var S=b.useCallback(function(E,C){if(C)return null;var A=y.dateIsInGroup(s(),C);return D.createElement("span",{className:kr("rbc-label",A&&"rbc-now")},o.format(E,"timeGutterFormat"))},[y,o,s]);return D.createElement(h,{slotMetrics:y},D.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},y.groups.map(function(E,C){return D.createElement(FZ,{key:C,group:E,resource:l,components:u,renderSlot:S,getters:d})})))},w7e=D.forwardRef(function(t,e){return D.createElement(x7e,Object.assign({gutterRef:e},t))}),eA={};function b7e(t,e){return{map:function(n){return t?t.map(function(i,a){return n([e.resourceId(i),i],a)}):[n([eA,null],0)]},groupEvents:function(n){var i=new Map;return t?(n.forEach(function(a){var o=e.resource(a)||eA;if(Array.isArray(o))o.forEach(function(l){var u=i.get(l)||[];u.push(a),i.set(l,u)});else{var s=i.get(o)||[];s.push(a),i.set(o,s)}}),i):(i.set(eA,n),i)}}}var gp=function(t){function e(r){var n;return un(this,e),n=ai(this,e,[r]),n.handleScroll=function(i){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=i.target.scrollLeft)},n.handleResize=function(){x5(n.rafHandle),n.rafHandle=AQ(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];or(n.props.onKeyPressEvent,a)},n.handleSelectEvent=function(){n.clearSelection();for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];or(n.props.onSelectEvent,a)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];or(n.props.onDoubleClickEvent,a)},n.handleShowMore=function(i,a,o,s,l){var u=n.props,d=u.popup,f=u.onDrillDown,h=u.onShowMore,p=u.getDrilldownView,m=u.doShowMoreDrillDown;if(n.clearSelection(),d){var g=EQ(o,n.containerRef.current);n.setState({overlay:{date:a,events:i,position:Vt(Vt({},g),{},{width:"200px"}),target:l}})}else m&&or(f,[a,p(a)||vi.DAY]);or(h,[i,a,s])},n.handleSelectAllDaySlot=function(i,a){var o=n.props.onSelectSlot,s=new Date(i[0]),l=new Date(i[i.length-1]);l.setDate(i[i.length-1].getDate()+1),or(o,{slots:i,start:s,end:l,action:a.action,resourceId:a.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var i=n.contentRef.current;if(i!=null&&i.scrollHeight){var a=i.scrollHeight>i.clientHeight;n.state.isOverflowing!==a&&(n._updatingOverflow=!0,n.setState({isOverflowing:a},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=aZ(function(i,a){return b7e(i,a)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=D.createRef(),n.contentRef=D.createRef(),n.containerRef=D.createRef(),n._scrollRatio=null,n.gutterRef=b.createRef(),n}return ii(e,t),dn(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),x5(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,i,a,o,s,l,u,d,f,h){var p=this.props,m=p.min,g=p.max,v=(o.get(i)||[]).filter(function(y){return l.inRange(n,u.start(y),u.end(y),"day")}),x=(s.get(i)||[]).filter(function(y){return l.inRange(n,u.start(y),u.end(y),"day")});return D.createElement(BZ,Object.assign({},this.props,{localizer:l,min:l.merge(n,m),max:l.merge(n,g),resource:a&&i,components:d,isNow:l.isSameDate(n,h),key:"".concat(i,"-").concat(n),date:n,events:v,backgroundEvents:x,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(n,i,a,o,s,l,u,d,f){var h=this;return i.map(function(p){var m=Ju(p,2),g=m[0],v=m[1];return n.map(function(x){return h.renderDayColumn(x,g,v,a,o,s,l,d,f,u)})})}},{key:"renderRangeFirst",value:function(n,i,a,o,s,l,u,d,f){var h=this;return n.map(function(p){return D.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:p},i.map(function(m){var g=Ju(m,2),v=g[0],x=g[1];return D.createElement("div",{style:{flex:1},key:l.resourceId(x)},h.renderDayColumn(p,v,x,a,o,s,l,d,f,u))}))})}},{key:"renderEvents",value:function(n,i,a,o){var s=this.props,l=s.accessors,u=s.localizer,d=s.resourceGroupingLayout,f=s.components,h=s.dayLayoutAlgorithm,p=this.memoizedResources(this.props.resources,l),m=p.groupEvents(i),g=p.groupEvents(a);return d?this.renderRangeFirst(n,p,m,g,u,l,o,f,h):this.renderResourcesFirst(n,p,m,g,u,l,o,f,h)}},{key:"render",value:function(){var n,i=this.props,a=i.events,o=i.backgroundEvents,s=i.range,l=i.width,u=i.rtl,d=i.selected,f=i.getNow,h=i.resources,p=i.components,m=i.accessors,g=i.getters,v=i.localizer,x=i.min,y=i.max,w=i.showMultiDayTimes,S=i.longPressThreshold,E=i.resizable,C=i.resourceGroupingLayout;l=l||this.state.gutterWidth;var A=s[0],T=s[s.length-1];this.slots=s.length;var N=[],I=[],j=[];a.forEach(function(P){if(gv(P,A,T,m,v)){var M=m.start(P),F=m.end(P);m.allDay(P)||v.startAndEndAreDateOnly(M,F)||!w&&!v.isSameDate(M,F)?N.push(P):I.push(P)}}),o.forEach(function(P){gv(P,A,T,m,v)&&j.push(P)}),N.sort(function(P,M){return yN(P,M,m,v)});var O={range:s,events:N,width:l,rtl:u,getNow:f,localizer:v,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(h,m),selectable:this.props.selectable,accessors:m,getters:g,components:p,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:S,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:E};return D.createElement("div",{className:kr("rbc-time-view",h&&"rbc-time-view-resources"),ref:this.containerRef},h&&h.length>1&&C?D.createElement(v7e,O):D.createElement(g7e,O),this.props.popup&&this.renderOverlay(),D.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},D.createElement(w7e,{date:A,ref:this.gutterRef,localizer:v,min:v.merge(A,x),max:v.merge(A,y),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:p,className:"rbc-time-gutter",getters:g}),this.renderEvents(s,I,j,f())))}},{key:"renderOverlay",value:function(){var n,i,a=this,o=(n=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&n!==void 0?n:{},s=this.props,l=s.accessors,u=s.localizer,d=s.components,f=s.getters,h=s.selected,p=s.popupOffset,m=s.handleDragStart,g=function(){return a.setState({overlay:null})};return D.createElement(Xk,{overlay:o,accessors:l,localizer:u,components:d,getters:f,selected:h,popupOffset:p,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:m,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,a=(i=n.gutterRef)!==null&&i!==void 0&&i.current?mN(n.gutterRef.current):void 0;a&&n.state.gutterWidth!==a&&n.setState({gutterWidth:a})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=n.min,a=n.max,o=n.scrollToTime,s=n.localizer,l=s.diff(s.merge(o,i),o,"milliseconds"),u=s.diff(i,a,"milliseconds");this._scrollRatio=l/u}}])}(b.Component);gp.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var _7e=["date","localizer","min","max","scrollToTime","enableAutoScroll"],v_=function(t){function e(){return un(this,e),ai(this,e,arguments)}return ii(e,t),dn(e,[{key:"render",value:function(){var n=this.props,i=n.date,a=n.localizer,o=n.min,s=o===void 0?a.startOf(new Date,"day"):o,l=n.max,u=l===void 0?a.endOf(new Date,"day"):l,d=n.scrollToTime,f=d===void 0?a.startOf(new Date,"day"):d,h=n.enableAutoScroll,p=h===void 0?!0:h,m=ss(n,_7e),g=e.range(i,{localizer:a});return D.createElement(gp,Object.assign({},m,{range:g,eventOffset:10,localizer:a,min:s,max:u,scrollToTime:f,enableAutoScroll:p}))}}])}(D.Component);v_.range=function(t,e){var r=e.localizer;return[r.startOf(t,"day")]};v_.navigate=function(t,e,r){var n=r.localizer;switch(e){case Hi.PREVIOUS:return n.add(t,-1,"day");case Hi.NEXT:return n.add(t,1,"day");default:return t}};v_.title=function(t,e){var r=e.localizer;return r.format(t,"dayHeaderFormat")};var S7e=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Pc=function(t){function e(){return un(this,e),ai(this,e,arguments)}return ii(e,t),dn(e,[{key:"render",value:function(){var n=this.props,i=n.date,a=n.localizer,o=n.min,s=o===void 0?a.startOf(new Date,"day"):o,l=n.max,u=l===void 0?a.endOf(new Date,"day"):l,d=n.scrollToTime,f=d===void 0?a.startOf(new Date,"day"):d,h=n.enableAutoScroll,p=h===void 0?!0:h,m=ss(n,S7e),g=e.range(i,this.props);return D.createElement(gp,Object.assign({},m,{range:g,eventOffset:15,localizer:a,min:s,max:u,scrollToTime:f,enableAutoScroll:p}))}}])}(D.Component);Pc.defaultProps=gp.defaultProps;Pc.navigate=function(t,e,r){var n=r.localizer;switch(e){case Hi.PREVIOUS:return n.add(t,-1,"week");case Hi.NEXT:return n.add(t,1,"week");default:return t}};Pc.range=function(t,e){var r=e.localizer,n=r.startOfWeek(),i=r.startOf(t,"week",n),a=r.endOf(t,"week",n);return r.range(i,a)};Pc.title=function(t,e){var r=e.localizer,n=Pc.range(t,{localizer:r}),i=fZ(n),a=i[0],o=i.slice(1);return r.format({start:a,end:o.pop()},"dayRangeHeaderFormat")};var E7e=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function Jk(t,e){return Pc.range(t,e).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var F0=function(t){function e(){return un(this,e),ai(this,e,arguments)}return ii(e,t),dn(e,[{key:"render",value:function(){var n=this.props,i=n.date,a=n.localizer,o=n.min,s=o===void 0?a.startOf(new Date,"day"):o,l=n.max,u=l===void 0?a.endOf(new Date,"day"):l,d=n.scrollToTime,f=d===void 0?a.startOf(new Date,"day"):d,h=n.enableAutoScroll,p=h===void 0?!0:h,m=ss(n,E7e),g=Jk(i,this.props);return D.createElement(gp,Object.assign({},m,{range:g,eventOffset:15,localizer:a,min:s,max:u,scrollToTime:f,enableAutoScroll:p}))}}])}(D.Component);F0.defaultProps=gp.defaultProps;F0.range=Jk;F0.navigate=Pc.navigate;F0.title=function(t,e){var r=e.localizer,n=Jk(t,{localizer:r}),i=fZ(n),a=i[0],o=i.slice(1);return r.format({start:a,end:o.pop()},"dayRangeHeaderFormat")};var y_=30;function x_(t){var e=t.accessors,r=t.components,n=t.date,i=t.events,a=t.getters,o=t.length,s=o===void 0?y_:o,l=t.localizer,u=t.onDoubleClickEvent,d=t.onSelectEvent,f=t.selected,h=b.useRef(null),p=b.useRef(null),m=b.useRef(null),g=b.useRef(null),v=b.useRef(null);b.useEffect(function(){w()});var x=function(T,N,I){var j=r.event,O=r.date;return N=N.filter(function(P){return gv(P,l.startOf(T,"day"),l.endOf(T,"day"),e,l)}),N.map(function(P,M){var F=e.title(P),B=e.end(P),W=e.start(P),$=a.eventProp(P,W,B,m_(P,f)),U=M===0&&l.format(T,"agendaDateFormat"),X=M===0?D.createElement("td",{rowSpan:N.length,className:"rbc-agenda-date-cell"},O?D.createElement(O,{day:T,label:U}):U):!1;return D.createElement("tr",{key:I+"_"+M,className:$.className,style:$.style},X,D.createElement("td",{className:"rbc-agenda-time-cell"},y(T,P)),D.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(Y){return d&&d(P,Y)},onDoubleClick:function(Y){return u&&u(P,Y)}},j?D.createElement(j,{event:P,title:F}):F))},[])},y=function(T,N){var I="",j=r.time,O=l.messages.allDay,P=e.end(N),M=e.start(N);return e.allDay(N)||(l.eq(M,P)?O=l.format(M,"agendaTimeFormat"):l.isSameDate(M,P)?O=l.format({start:M,end:P},"agendaTimeRangeFormat"):l.isSameDate(T,M)?O=l.format(M,"agendaTimeFormat"):l.isSameDate(T,P)&&(O=l.format(P,"agendaTimeFormat"))),l.gt(T,M,"day")&&(I="rbc-continues-prior"),l.lt(T,P,"day")&&(I+=" rbc-continues-after"),D.createElement("span",{className:I.trim()},j?D.createElement(j,{event:N,day:T,label:O}):O)},w=function(){if(v.current){var T=h.current,N=v.current.firstChild;if(N){var I=g.current.scrollHeight>g.current.clientHeight,j=[],O=j;j=[mN(N.children[0]),mN(N.children[1])],(O[0]!==j[0]||O[1]!==j[1])&&(p.current.style.width=j[0]+"px",m.current.style.width=j[1]+"px"),I?(BOe(T,"rbc-header-overflowing"),T.style.marginRight=Nk()+"px"):UOe(T,"rbc-header-overflowing")}}},S=l.messages,E=l.add(n,s,"day"),C=l.range(n,E,"day");return i=i.filter(function(A){return gv(A,l.startOf(n,"day"),l.endOf(E,"day"),e,l)}),i.sort(function(A,T){return+e.start(A)-+e.start(T)}),D.createElement("div",{className:"rbc-agenda-view"},i.length!==0?D.createElement(D.Fragment,null,D.createElement("table",{ref:h,className:"rbc-agenda-table"},D.createElement("thead",null,D.createElement("tr",null,D.createElement("th",{className:"rbc-header",ref:p},S.date),D.createElement("th",{className:"rbc-header",ref:m},S.time),D.createElement("th",{className:"rbc-header"},S.event)))),D.createElement("div",{className:"rbc-agenda-content",ref:g},D.createElement("table",{className:"rbc-agenda-table"},D.createElement("tbody",{ref:v},C.map(function(A,T){return x(A,i,T)}))))):D.createElement("span",{className:"rbc-agenda-empty"},S.noEventsInRange))}x_.range=function(t,e){var r=e.length,n=r===void 0?y_:r,i=e.localizer,a=i.add(t,n,"day");return{start:t,end:a}};x_.navigate=function(t,e,r){var n=r.length,i=n===void 0?y_:n,a=r.localizer;switch(e){case Hi.PREVIOUS:return a.add(t,-i,"day");case Hi.NEXT:return a.add(t,i,"day");default:return t}};x_.title=function(t,e){var r=e.length,n=r===void 0?y_:r,i=e.localizer,a=i.add(t,n,"day");return i.format({start:t,end:a},"agendaHeaderFormat")};var Z1=pu(pu(pu(pu(pu({},vi.MONTH,g_),vi.WEEK,Pc),vi.WORK_WEEK,F0),vi.DAY,v_),vi.AGENDA,x_),A7e=["action","date","today"];function C7e(t,e){var r=e.action,n=e.date,i=e.today,a=ss(e,A7e);switch(t=typeof t=="string"?Z1[t]:t,r){case Hi.TODAY:n=i||new Date;break;case Hi.DATE:break;default:nv(t&&typeof t.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=t.navigate(n,r,a)}return n}function T7e(t,e){var r=null;return typeof e=="function"?r=e(t):typeof e=="string"&&Ao(t)==="object"&&t!=null&&e in t&&(r=t[e]),r}var ys=function(e){return function(r){return T7e(r,e)}},N7e=["view","date","getNow","onNavigate"],I7e=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function VZ(t){if(Array.isArray(t))return t;for(var e=[],r=0,n=Object.entries(t);r<n.length;r++){var i=Ju(n[r],2),a=i[0],o=i[1];o&&e.push(a)}return e}function P7e(t,e){var r=e.views,n=VZ(r);return n.indexOf(t)!==-1}var zZ=function(t){function e(){var r;un(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ai(this,e,[].concat(i)),r.getViews=function(){var o=r.props.views;return Array.isArray(o)?o9e(o,function(s,l){return s[l]=Z1[l]},{}):Ao(o)==="object"?pZ(o,function(s,l){return s===!0?Z1[l]:s}):Z1},r.getView=function(){var o=r.getViews();return o[r.props.view]},r.getDrilldownView=function(o){var s=r.props,l=s.view,u=s.drilldownView,d=s.getDrilldownView;return d?d(o,l,Object.keys(r.getViews())):u},r.handleRangeChange=function(o,s,l){var u=r.props,d=u.onRangeChange,f=u.localizer;d&&s.range&&d(s.range(o,{localizer:f}),l)},r.handleNavigate=function(o,s){var l=r.props,u=l.view,d=l.date,f=l.getNow,h=l.onNavigate,p=ss(l,N7e),m=r.getView(),g=f();d=C7e(m,Vt(Vt({},p),{},{action:o,date:s||d||g,today:g})),h(d,u,o),r.handleRangeChange(d,m)},r.handleViewChange=function(o){o!==r.props.view&&P7e(o,r.props)&&r.props.onView(o);var s=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),s[o],o)},r.handleSelectEvent=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];or(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];or(r.props.onDoubleClickEvent,s)},r.handleKeyPressEvent=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];or(r.props.onKeyPressEvent,s)},r.handleSelectSlot=function(o){or(r.props.onSelectSlot,o)},r.handleDrillDown=function(o,s){var l=r.props.onDrillDown;if(l){l(o,s,r.drilldownView);return}s&&r.handleViewChange(s),r.handleNavigate(Hi.DATE,o)},r.state={context:e.getContext(r.props)},r}return ii(e,t),dn(e,[{key:"render",value:function(){var n=this.props,i=n.view,a=n.toolbar,o=n.events,s=n.backgroundEvents,l=n.resourceGroupingLayout,u=n.style,d=n.className,f=n.elementProps,h=n.date,p=n.getNow,m=n.length,g=n.showMultiDayTimes,v=n.onShowMore,x=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var y=ss(n,I7e);h=h||p();var w=this.getView(),S=this.state.context,E=S.accessors,C=S.components,A=S.getters,T=S.localizer,N=S.viewNames,I=C.toolbar||k9e,j=w.title(h,{localizer:T,length:m});return D.createElement("div",Object.assign({},f,{className:kr(d,"rbc-calendar",y.rtl&&"rbc-rtl"),style:u}),a&&D.createElement(I,{date:h,view:i,views:N,label:j,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:T}),D.createElement(w,Object.assign({},y,{events:o,backgroundEvents:s,date:h,getNow:p,length:m,localizer:T,getters:A,components:C,accessors:E,showMultiDayTimes:g,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:v,doShowMoreDrillDown:x,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:e.getContext(n)}}},{key:"getContext",value:function(n){var i=n.startAccessor,a=n.endAccessor,o=n.allDayAccessor,s=n.tooltipAccessor,l=n.titleAccessor,u=n.resourceAccessor,d=n.resourceIdAccessor,f=n.resourceTitleAccessor,h=n.eventIdAccessor,p=n.eventPropGetter,m=n.backgroundEventPropGetter,g=n.slotPropGetter,v=n.slotGroupPropGetter,x=n.dayPropGetter,y=n.view,w=n.views,S=n.localizer,E=n.culture,C=n.messages,A=C===void 0?{}:C,T=n.components,N=T===void 0?{}:T,I=n.formats,j=I===void 0?{}:I,O=VZ(w),P=D9e(A);return{viewNames:O,localizer:j9e(S,E,j,P),getters:{eventProp:function(){return p&&p.apply(void 0,arguments)||{}},backgroundEventProp:function(){return m&&m.apply(void 0,arguments)||{}},slotProp:function(){return g&&g.apply(void 0,arguments)||{}},slotGroupProp:function(){return v&&v.apply(void 0,arguments)||{}},dayProp:function(){return x&&x.apply(void 0,arguments)||{}}},components:e5e(N[y]||{},qFe(N,O),{eventWrapper:Ro,backgroundEventWrapper:Ro,eventContainerWrapper:Ro,dateCellWrapper:Ro,weekWrapper:Ro,timeSlotWrapper:Ro,timeGutterWrapper:Ro,timeIndicatorWrapper:Ro}),accessors:{start:ys(i),end:ys(a),allDay:ys(o),tooltip:ys(s),title:ys(l),resource:ys(u),resourceId:ys(d),resourceTitle:ys(f),eventId:ys(h)}}}}])}(D.Component);zZ.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:vi.MONTH,views:[vi.MONTH,vi.WEEK,vi.DAY,vi.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:vi.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var O7e=iQ(zZ,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),j7e=function(e,r,n){var i=e.start,a=e.end;return"".concat(n.format(i,"P",r)," – ").concat(n.format(a,"P",r))},tA=function(e,r,n){var i=e.start,a=e.end;return"".concat(n.format(i,"p",r)," – ").concat(n.format(a,"p",r))},k7e=function(e,r,n){var i=e.start;return"".concat(n.format(i,"h:mma",r)," – ")},R7e=function(e,r,n){var i=e.end;return" – ".concat(n.format(i,"h:mma",r))},D7e=function(e,r,n){var i=e.start,a=e.end;return"".concat(n.format(i,"MMMM dd",r)," – ").concat(n.format(a,tp(i,a,"month")?"dd":"MMMM dd",r))},M7e={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:tA,eventTimeRangeFormat:tA,eventTimeRangeStartFormat:k7e,eventTimeRangeEndFormat:R7e,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:D7e,agendaHeaderFormat:j7e,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:tA},L7e=function(e){var r=e.startOfWeek,n=e.getDay,i=e.format,a=e.locales;return new O9e({formats:M7e,firstOfWeek:function(s){return n(r(new Date,{locale:a[s]}))},format:function(s,l,u){return i(new Date(s),l,{locale:a[u]})}})};const $7e=XY,F7e=QY,WZ=b.forwardRef(({className:t,...e},r)=>c.jsx(W2,{className:je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));WZ.displayName=W2.displayName;const B7e=Vh("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),HZ=b.forwardRef(({side:t="right",className:e,children:r,...n},i)=>c.jsxs(F7e,{children:[c.jsx(WZ,{}),c.jsxs(H2,{ref:i,className:je(B7e({side:t}),e),...n,children:[r,c.jsxs(ZY,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[c.jsx(Mi,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));HZ.displayName=H2.displayName;const GZ=({className:t,...e})=>c.jsx("div",{className:je("flex flex-col space-y-2 text-center sm:text-left",t),...e});GZ.displayName="SheetHeader";const qZ=b.forwardRef(({className:t,...e},r)=>c.jsx(G2,{ref:r,className:je("text-lg font-semibold text-foreground",t),...e}));qZ.displayName=G2.displayName;const KZ=b.forwardRef(({className:t,...e},r)=>c.jsx(q2,{ref:r,className:je("text-sm text-muted-foreground",t),...e}));KZ.displayName=q2.displayName;function U7e(t,e){return b.useReducer((r,n)=>e[r][n]??r,t)}var e3="ScrollArea",[YZ,Klt]=Va(e3),[V7e,Ha]=YZ(e3),XZ=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...o}=t,[s,l]=b.useState(null),[u,d]=b.useState(null),[f,h]=b.useState(null),[p,m]=b.useState(null),[g,v]=b.useState(null),[x,y]=b.useState(0),[w,S]=b.useState(0),[E,C]=b.useState(!1),[A,T]=b.useState(!1),N=et(e,j=>l(j)),I=A0(i);return c.jsx(V7e,{scope:r,type:n,dir:I,scrollHideDelay:a,scrollArea:s,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:m,scrollbarXEnabled:E,onScrollbarXEnabledChange:C,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:A,onScrollbarYEnabledChange:T,onCornerWidthChange:y,onCornerHeightChange:S,children:c.jsx(Le.div,{dir:I,...o,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});XZ.displayName=e3;var QZ="ScrollAreaViewport",ZZ=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,asChild:i,nonce:a,...o}=t,s=Ha(QZ,r),l=b.useRef(null),u=et(e,l,s.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),c.jsx(Le.div,{"data-radix-scroll-area-viewport":"",...o,asChild:i,ref:u,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:Z7e({asChild:i,children:n},d=>c.jsx("div",{"data-radix-scroll-area-content":"",ref:s.onContentChange,style:{minWidth:s.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});ZZ.displayName=QZ;var hs="ScrollAreaScrollbar",t3=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Ha(hs,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,s=t.orientation==="horizontal";return b.useEffect(()=>(s?a(!0):o(!0),()=>{s?a(!1):o(!1)}),[s,a,o]),i.type==="hover"?c.jsx(z7e,{...n,ref:e,forceMount:r}):i.type==="scroll"?c.jsx(W7e,{...n,ref:e,forceMount:r}):i.type==="auto"?c.jsx(JZ,{...n,ref:e,forceMount:r}):i.type==="always"?c.jsx(r3,{...n,ref:e}):null});t3.displayName=hs;var z7e=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Ha(hs,t.__scopeScrollArea),[a,o]=b.useState(!1);return b.useEffect(()=>{const s=i.scrollArea;let l=0;if(s){const u=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",u),s.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",u),s.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),c.jsx(bn,{present:r||a,children:c.jsx(JZ,{"data-state":a?"visible":"hidden",...n,ref:e})})}),W7e=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Ha(hs,t.__scopeScrollArea),a=t.orientation==="horizontal",o=b_(()=>l("SCROLL_END"),100),[s,l]=U7e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(s==="idle"){const u=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[s,i.scrollHideDelay,l]),b.useEffect(()=>{const u=i.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(l("SCROLL"),o()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[i.viewport,a,l,o]),c.jsx(bn,{present:r||s!=="hidden",children:c.jsx(r3,{"data-state":s==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:be(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:be(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),JZ=b.forwardRef((t,e)=>{const r=Ha(hs,t.__scopeScrollArea),{forceMount:n,...i}=t,[a,o]=b.useState(!1),s=t.orientation==="horizontal",l=b_(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(s?u:d)}},10);return ph(r.viewport,l),ph(r.content,l),c.jsx(bn,{present:n||a,children:c.jsx(r3,{"data-state":a?"visible":"hidden",...i,ref:e})})}),r3=b.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,i=Ha(hs,t.__scopeScrollArea),a=b.useRef(null),o=b.useRef(0),[s,l]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=iJ(s.viewport,s.content),d={...n,sizes:s,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return X7e(h,o.current,s,p)}return r==="horizontal"?c.jsx(H7e,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollLeft,p=RL(h,s,i.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):r==="vertical"?c.jsx(G7e,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollTop,p=RL(h,s);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),H7e=b.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,a=Ha(hs,t.__scopeScrollArea),[o,s]=b.useState(),l=b.useRef(null),u=et(e,l,a.onScrollbarXChange);return b.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),c.jsx(tJ,{"data-orientation":"horizontal",...i,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":w_(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),oJ(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Pw(o.paddingLeft),paddingEnd:Pw(o.paddingRight)}})}})}),G7e=b.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,a=Ha(hs,t.__scopeScrollArea),[o,s]=b.useState(),l=b.useRef(null),u=et(e,l,a.onScrollbarYChange);return b.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),c.jsx(tJ,{"data-orientation":"vertical",...i,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":w_(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),oJ(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Pw(o.paddingTop),paddingEnd:Pw(o.paddingBottom)}})}})}),[q7e,eJ]=YZ(hs),tJ=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=t,p=Ha(hs,r),[m,g]=b.useState(null),v=et(e,N=>g(N)),x=b.useRef(null),y=b.useRef(""),w=p.viewport,S=n.content-n.viewport,E=hr(d),C=hr(l),A=b_(f,10);function T(N){if(x.current){const I=N.clientX-x.current.left,j=N.clientY-x.current.top;u({x:I,y:j})}}return b.useEffect(()=>{const N=I=>{const j=I.target;(m==null?void 0:m.contains(j))&&E(I,S)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[w,m,S,E]),b.useEffect(C,[n,C]),ph(m,A),ph(p.content,A),c.jsx(q7e,{scope:r,scrollbar:m,hasThumb:i,onThumbChange:hr(a),onThumbPointerUp:hr(o),onThumbPositionChange:C,onThumbPointerDown:hr(s),children:c.jsx(Le.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:be(t.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),x.current=m.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),T(N))}),onPointerMove:be(t.onPointerMove,T),onPointerUp:be(t.onPointerUp,N=>{const I=N.target;I.hasPointerCapture(N.pointerId)&&I.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=y.current,p.viewport&&(p.viewport.style.scrollBehavior=""),x.current=null})})})}),Iw="ScrollAreaThumb",rJ=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=eJ(Iw,t.__scopeScrollArea);return c.jsx(bn,{present:r||i.hasThumb,children:c.jsx(K7e,{ref:e,...n})})}),K7e=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...i}=t,a=Ha(Iw,r),o=eJ(Iw,r),{onThumbPositionChange:s}=o,l=et(e,f=>o.onThumbChange(f)),u=b.useRef(),d=b_(()=>{u.current&&(u.current(),u.current=void 0)},100);return b.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!u.current){const p=Q7e(f,s);u.current=p,s()}};return s(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,s]),c.jsx(Le.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:be(t.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),m=f.clientX-p.left,g=f.clientY-p.top;o.onThumbPointerDown({x:m,y:g})}),onPointerUp:be(t.onPointerUp,o.onThumbPointerUp)})});rJ.displayName=Iw;var n3="ScrollAreaCorner",nJ=b.forwardRef((t,e)=>{const r=Ha(n3,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?c.jsx(Y7e,{...t,ref:e}):null});nJ.displayName=n3;var Y7e=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,i=Ha(n3,r),[a,o]=b.useState(0),[s,l]=b.useState(0),u=!!(a&&s);return ph(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),ph(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),o(d)}),u?c.jsx(Le.div,{...n,ref:e,style:{width:a,height:s,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Pw(t){return t?parseInt(t,10):0}function iJ(t,e){const r=t/e;return isNaN(r)?0:r}function w_(t){const e=iJ(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function X7e(t,e,r,n="ltr"){const i=w_(r),a=i/2,o=e||a,s=i-o,l=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-s,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return aJ([l,u],f)(t)}function RL(t,e,r="ltr"){const n=w_(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,o=e.content-e.viewport,s=a-n,l=r==="ltr"?[0,o]:[o*-1,0],u=QT(t,l);return aJ([0,o],[0,s])(u)}function aJ(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function oJ(t,e){return t>0&&t<e}var Q7e=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function i(){const a={left:t.scrollLeft,top:t.scrollTop},o=r.left!==a.left,s=r.top!==a.top;(o||s)&&e(),r=a,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function b_(t,e){const r=hr(t),n=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),b.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function ph(t,e){const r=hr(e);ln(()=>{let n=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(t),()=>{window.cancelAnimationFrame(n),i.unobserve(t)}}},[t,r])}function Z7e(t,e){const{asChild:r,children:n}=t;if(!r)return typeof e=="function"?e(n):e;const i=b.Children.only(n);return b.cloneElement(i,{children:typeof e=="function"?e(i.props.children):e})}var sJ=XZ,J7e=ZZ,eBe=nJ;const lJ=b.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(sJ,{ref:n,className:je("relative overflow-hidden",t),...r,children:[c.jsx(J7e,{className:"h-full w-full rounded-[inherit]",children:e}),c.jsx(cJ,{}),c.jsx(eBe,{})]}));lJ.displayName=sJ.displayName;const cJ=b.forwardRef(({className:t,orientation:e="vertical",...r},n)=>c.jsx(t3,{ref:n,orientation:e,className:je("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:c.jsx(rJ,{className:"relative flex-1 rounded-full bg-border"})}));cJ.displayName=t3.displayName;var tBe="Separator",DL="horizontal",rBe=["horizontal","vertical"],uJ=b.forwardRef((t,e)=>{const{decorative:r,orientation:n=DL,...i}=t,a=nBe(n)?n:DL,s=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return c.jsx(Le.div,{"data-orientation":a,...s,...i,ref:e})});uJ.displayName=tBe;function nBe(t){return rBe.includes(t)}var dJ=uJ;const fJ=b.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>c.jsx(dJ,{ref:i,decorative:r,orientation:e,className:je("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));fJ.displayName=dJ.displayName;const iBe={"en-US":vj},aBe=L7e({format:Yt,startOfWeek:uG,getDay:awe,locales:iBe}),oBe=({event:t,onClick:e})=>{const r=t.resource,n=r.items.length,i=r.items.filter(a=>!a.checked).length;return c.jsxs("div",{className:"p-1 overflow-hidden cursor-pointer hover:opacity-90",onClick:()=>e(t),children:[c.jsx("div",{className:"font-medium truncate",children:r.store}),c.jsxs("div",{className:"text-xs flex items-center gap-1 flex-wrap",children:[c.jsx(mt,{variant:"outline",className:r.status==="completed"?"bg-green-100 text-green-800":r.status==="shopping"?"bg-blue-100 text-blue-800":r.status==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800",children:r.status}),c.jsxs("span",{children:[n," items"]}),i>0&&c.jsxs("span",{className:"text-amber-600",children:["(",i," pending)"]})]})]})},sBe=t=>{if(typeof t!="string"||!t.includes(":"))return 12*60;const[e,r]=t.split(":").map(Number);return(e||0)*60+(r||0)};function lBe({isOpen:t,onClose:e}){const{trips:r,addTrip:n,updateTrip:i}=os(),{user:a}=qr(),[o,s]=b.useState("month"),[l,u]=b.useState(new Date),[d,f]=b.useState(null),[h,p]=b.useState(!1),[m,g]=b.useState({name:"",quantity:"1",notes:""}),v=b.useCallback(C=>{u(C)},[]),x=b.useCallback(C=>{s(C)},[]),y=b.useCallback(C=>{f(C.resource)},[]),w=b.useCallback(()=>{if(!d||!m.name)return;const C={...d,items:[...d.items,{id:Date.now().toString(),name:m.name,quantity:parseInt(m.quantity)||1,notes:m.notes,checked:!1,addedBy:{name:(a==null?void 0:a.name)||"User",id:"current-user",avatar:(a==null?void 0:a.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((a==null?void 0:a.name)||"User")}&background=random`},addedAt:new Date().toISOString()}]};i(d.id,C),f(C),g({name:"",quantity:"1",notes:""}),p(!1),Ul({title:"Item Added",description:`${m.name} has been added to your trip.`,variant:"default"})},[d,m,i,a]),S=r.map(C=>{const A=th(C.date),T=sBe(C.time);A.setHours(Math.floor(T/60)),A.setMinutes(T%60);let N=1;return C.eta&&(C.eta.includes("min")?N=parseInt(C.eta)/60:C.eta.includes("hour")&&(N=parseFloat(C.eta))),{id:C.id,title:`Shopping at ${C.store}`,start:A,end:B1e(A,N),resource:C,allDay:!1}}),E=({onNavigate:C,onView:A,date:T,view:N})=>c.jsxs("div",{className:"flex justify-between items-center mb-4 p-2",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx(K,{variant:"outline",size:"sm",onClick:()=>C("PREV"),children:c.jsx(Xb,{className:"h-4 w-4"})}),c.jsx(K,{variant:"outline",size:"sm",onClick:()=>C("TODAY"),children:"Today"}),c.jsx(K,{variant:"outline",size:"sm",onClick:()=>C("NEXT"),children:c.jsx(s0,{className:"h-4 w-4"})})]}),c.jsx("h2",{className:"text-lg font-semibold",children:Yt(T,"MMMM yyyy")}),c.jsx("div",{className:"flex gap-2",children:["month","week","day"].map(I=>c.jsx(K,{variant:N===I?"default":"outline",size:"sm",onClick:()=>A(I),children:I.charAt(0).toUpperCase()+I.slice(1)},I))})]});return c.jsxs(_r,{open:t,onOpenChange:e,children:[c.jsxs(pr,{className:"max-w-4xl h-[80vh]",children:[c.jsx(mr,{children:c.jsx(gr,{children:"Shopping Trip Calendar"})}),c.jsx("div",{className:"flex-1 mt-4",children:c.jsx(O7e,{localizer:aBe,events:S,startAccessor:"start",endAccessor:"end",style:{height:"calc(80vh - 100px)"},views:{month:!0,week:!0,day:!0},view:o,date:l,onNavigate:v,onView:x,components:{event:C=>c.jsx(oBe,{...C,onClick:y}),toolbar:E},eventPropGetter:C=>{const A=C.resource;let T="#60A5FA";switch(A.status){case"completed":T="#34D399";break;case"shopping":T="#60A5FA";break;case"cancelled":T="#F87171";break;default:T="#9CA3AF"}return{style:{backgroundColor:T,border:"none",borderRadius:"4px"}}}})})]}),c.jsx($7e,{open:d!==null,onOpenChange:()=>f(null),children:c.jsxs(HZ,{className:"w-[400px] sm:w-[540px]",children:[c.jsxs(GZ,{children:[c.jsxs(qZ,{className:"flex items-center justify-between",children:[c.jsx("span",{children:d==null?void 0:d.store}),c.jsx(K,{variant:"ghost",size:"icon",onClick:()=>f(null),children:c.jsx(Mi,{className:"h-4 w-4"})})]}),c.jsx(KZ,{children:c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(Vu,{className:"h-4 w-4"}),d&&Yt(th(d.date),"PPP")," at ",d==null?void 0:d.time]})})]}),c.jsxs("div",{className:"mt-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-sm font-medium",children:"Items"}),c.jsxs(K,{variant:"outline",size:"sm",onClick:()=>p(!0),children:[c.jsx(Or,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),h?c.jsxs("div",{className:"space-y-4 mb-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"itemName",children:"Item Name"}),c.jsx(Ue,{id:"itemName",value:m.name,onChange:C=>g(A=>({...A,name:C.target.value})),placeholder:"Enter item name"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"quantity",children:"Quantity"}),c.jsx(Ue,{id:"quantity",type:"number",min:"1",value:m.quantity,onChange:C=>g(A=>({...A,quantity:C.target.value}))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"notes",children:"Notes (optional)"}),c.jsx(Ue,{id:"notes",value:m.notes,onChange:C=>g(A=>({...A,notes:C.target.value})),placeholder:"Add any notes"})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(K,{variant:"outline",onClick:()=>{p(!1),g({name:"",quantity:"1",notes:""})},children:"Cancel"}),c.jsx(K,{onClick:w,children:"Add Item"})]})]}):c.jsx(lJ,{className:"h-[300px] pr-4",children:d==null?void 0:d.items.map((C,A)=>c.jsxs("div",{className:"flex items-center justify-between py-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",checked:C.checked,onChange:()=>{if(!d)return;const T=[...d.items];T[A]={...C,checked:!C.checked};const N={...d,items:T};i(d.id,N),f(N)},className:"rounded border-gray-300"}),c.jsx("span",{className:C.checked?"line-through text-gray-500":"",children:C.name})]}),c.jsx("span",{className:"text-sm text-gray-500",children:C.quantity>1?`×${C.quantity}`:""})]},C.id))}),c.jsx(fJ,{className:"my-4"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Status"}),c.jsx(mt,{variant:"outline",className:(d==null?void 0:d.status)==="completed"?"bg-green-100 text-green-800":(d==null?void 0:d.status)==="shopping"?"bg-blue-100 text-blue-800":(d==null?void 0:d.status)==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800",children:d==null?void 0:d.status})]}),(d==null?void 0:d.eta)&&c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Duration"}),c.jsx("span",{children:d.eta})]}),(d==null?void 0:d.budget)&&c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Budget"}),c.jsxs("span",{children:["$",d.budget]})]})]})]})]})})]})}function cBe({isOpen:t,onClose:e,currentBudget:r,onSave:n}){const[i,a]=b.useState(r),{toast:o}=cn(),s=()=>{if(i<0){o({title:"Invalid Budget",description:"Budget cannot be negative.",variant:"destructive"});return}n(i),e(),o({title:"Budget Updated",description:"Your monthly budget has been updated successfully."})};return c.jsx(_r,{open:t,onOpenChange:e,children:c.jsxs(pr,{className:"sm:max-w-[425px]",children:[c.jsxs(mr,{children:[c.jsx(gr,{children:"Adjust Monthly Budget"}),c.jsx(Si,{children:"Set your monthly shopping budget. This helps you track and manage your spending."})]}),c.jsx("div",{className:"grid gap-4 py-4",children:c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(ce,{htmlFor:"budget",className:"text-right",children:"Budget"}),c.jsxs("div",{className:"col-span-3 relative",children:[c.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:"$"}),c.jsx(Ue,{id:"budget",type:"number",value:i,onChange:l=>a(Number(l.target.value)),className:"pl-7",min:"0",step:"0.01"})]})]})}),c.jsxs(_i,{children:[c.jsx(K,{variant:"outline",onClick:e,children:"Cancel"}),c.jsx(K,{onClick:s,children:"Save Changes"})]})]})})}const rA=new Set;function hJ(t){return new Promise((e,r)=>{if(rA.has(t)){e();return}if(document.querySelector(`script[src="${t}"]`)){rA.add(t),e();return}const i=document.createElement("script");i.src=t,i.async=!0,i.defer=!0,i.onload=()=>{rA.add(t),e()},i.onerror=a=>{console.error("Failed to load script:",t,a),r(new Error(`Failed to load script: ${t}`))},document.head.appendChild(i)})}const wN="AIzaSyCC9n6z-koJp5qiyOOPRRag3qudrcfOeK8",nA=new Set;let ML=!1;async function uBe(t){if(window.google&&window.google.maps&&ML&&(a=>{switch(a){case"places":return!!window.google.maps.places;case"geometry":return!!window.google.maps.geometry;case"core":return!!window.google.maps.DirectionsService;default:return!1}})(t)){nA.add(t);return}const e=new Set([...nA,t]),r=Array.from(e).filter(i=>i!=="core"),n=r.length>0?r.join(","):"";try{const i=n?`https://maps.googleapis.com/maps/api/js?key=${wN}&libraries=${n}`:`https://maps.googleapis.com/maps/api/js?key=${wN}`;await hJ(i),await new Promise((a,o)=>{let s=0;const l=100,u=()=>{if(s++,window.google&&window.google.maps&&(f=>{switch(f){case"places":return!!window.google.maps.places;case"geometry":return!!window.google.maps.geometry;case"core":return!!window.google.maps.DirectionsService;default:return!0}})(t)){ML=!0,e.forEach(f=>nA.add(f)),console.log(`Google Maps API loaded successfully with ${t} library`),a();return}if(s>=l){o(new Error("Google Maps API failed to load within 10 seconds"));return}setTimeout(u,100)};u()})}catch(i){throw console.error("Failed to load Google Maps API:",i),i}}const dBe=()=>uBe("places"),fBe=async()=>{if(console.log("Loading Google Maps API..."),window.google&&window.google.maps&&window.google.maps.DirectionsService){console.log("Google Maps API already loaded");return}try{const t=`https://maps.googleapis.com/maps/api/js?key=${wN}`;console.log("Loading Google Maps script..."),await hJ(t),console.log("Script loaded, waiting for Google Maps to initialize..."),await new Promise((e,r)=>{let n=0;const i=100,a=()=>{if(n++,window.google&&window.google.maps&&window.google.maps.DirectionsService){console.log("Google Maps API loaded successfully"),e();return}if(n>=i){console.error("Google Maps API failed to load within 10 seconds"),r(new Error("Google Maps API failed to load within 10 seconds. This usually indicates an invalid API key or billing issue."));return}setTimeout(a,100)};a()})}catch(t){throw console.error("Failed to load Google Maps API:",t),new Error("Failed to load Google Maps API. Please check your API key and billing settings.")}};function hBe({open:t,onOpenChange:e}){const[r,n]=b.useState(""),[i,a]=b.useState(),[o,s]=b.useState(""),[l,u]=b.useState(""),[d,f]=b.useState(""),[h,p]=b.useState(""),[m,g]=b.useState(null),[v,x]=b.useState(!1),[y,w]=b.useState([]),[S,E]=b.useState(!1),[C,A]=b.useState(),T=b.useRef(null),N=b.useRef(),{addTrip:I}=os(),{toast:j}=cn(),{user:O,isAdmin:P}=qr();b.useEffect(()=>(t&&dBe().catch(U=>{console.error("Failed to initialize Google Maps:",U),j({title:"Location Search Unavailable",description:"Please try refreshing the page",variant:"destructive"})}),()=>{N.current&&clearTimeout(N.current)}),[t]);const M=U=>{var X,H;if(n(U),g(null),E(!0),!C&&((H=(X=window.google)==null?void 0:X.maps)!=null&&H.places)&&A(new google.maps.places.AutocompleteSessionToken),N.current&&clearTimeout(N.current),!U.trim()){w([]);return}N.current=setTimeout(async()=>{var Y,Q;if(!((Q=(Y=window.google)==null?void 0:Y.maps)!=null&&Q.places)){w([]);return}try{const ue={input:U,includedPrimaryTypes:["establishment"],sessionToken:C},{suggestions:de}=await google.maps.places.AutocompleteSuggestion.fetchAutocompleteSuggestions(ue);w(de)}catch(ue){console.error("Error fetching autocomplete suggestions:",ue),w([])}},300)},F=async U=>{var X;if(U.placePrediction){n(U.placePrediction.text.text),E(!1),(X=T.current)==null||X.blur();try{const H=new google.maps.places.Place({id:U.placePrediction.placeId});await H.fetchFields({fields:["location","formattedAddress","displayName"]}),H.location&&(g({lat:H.location.lat(),lng:H.location.lng()}),n(H.displayName||U.placePrediction.text.text))}catch(H){console.error("Error fetching place details:",H),j({title:"Error",description:"Could not fetch place details.",variant:"destructive"})}finally{A(void 0)}}},B=()=>{n(""),a(void 0),s(""),u(""),f(""),p(""),g(null),x(!1),w([]),E(!1),A(void 0)},W=U=>{U||B(),e(U)},$=async U=>{if(U.preventDefault(),!r||!i||!o){j({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}try{let X,H;P?(X=[{id:(O==null?void 0:O.id)||"1",name:(O==null?void 0:O.name)||"You",avatar:(O==null?void 0:O.avatar)||"https://i.pravatar.cc/150?u=a042581f4e29026024d"},{id:"2",name:"Rachel",avatar:"https://i.pravatar.cc/150?u=rachel"},{id:"3",name:"Dev",avatar:"https://i.pravatar.cc/150?u=dev"}],H={name:(O==null?void 0:O.name)||"You",avatar:(O==null?void 0:O.avatar)||"https://i.pravatar.cc/150?u=a042581f4e29026024d"}):(X=[{id:(O==null?void 0:O.id)||"1",name:(O==null?void 0:O.name)||"User",avatar:(O==null?void 0:O.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((O==null?void 0:O.name)||"User")}&background=random`}],H={name:(O==null?void 0:O.name)||"User",avatar:(O==null?void 0:O.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((O==null?void 0:O.name)||"User")}&background=random`});const Y={store:r,date:i.toISOString(),time:o,notes:h,budget:d?parseFloat(d):void 0,eta:l,location:"",coordinates:{lat:0,lng:0},participants:X,shopper:H,items:[]};I(Y),j({title:"Success",description:"Trip created successfully"}),W(!1)}catch(X){console.error("Failed to create trip:",X),j({title:"Error",description:"Failed to create trip. Please try again.",variant:"destructive"})}finally{x(!1)}};return c.jsx(_r,{open:t,onOpenChange:W,children:c.jsxs(pr,{className:"sm:max-w-[425px]",children:[c.jsxs(mr,{children:[c.jsx(gr,{children:"Add New Shopping Trip"}),c.jsx(Si,{children:"Fill in the details below to add a new shopping trip. Search for a store to get started."})]}),c.jsxs("form",{onSubmit:$,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"store",children:"Store Location*"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ue,{id:"store",ref:T,value:r,onChange:U=>M(U.target.value),onFocus:()=>E(!0),onBlur:()=>setTimeout(()=>E(!1),200),placeholder:"Search for a store",className:"pr-8",autoComplete:"off"}),r&&c.jsx("button",{type:"button",onClick:()=>{var U;n(""),g(null),w([]),(U=T.current)==null||U.focus()},className:"absolute right-8 top-1/2 -translate-y-1/2",children:c.jsx(Mi,{className:"h-4 w-4 text-gray-500 hover:text-gray-700"})}),c.jsx(sa,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),S&&y.length>0&&c.jsx("div",{className:"absolute z-10 w-full mt-1 bg-background border rounded-md shadow-lg",children:c.jsx("ul",{className:"py-1",children:y.map(U=>{if(!U.placePrediction)return null;const[X,...H]=U.placePrediction.text.text.split(","),Y=H.join(",").trim();return c.jsx("li",{onMouseDown:()=>F(U),className:"px-3 py-2 text-sm cursor-pointer hover:bg-accent",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(sa,{className:"h-4 w-4 mt-0.5 mr-2 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold",children:X}),c.jsx("p",{className:"text-xs text-muted-foreground",children:Y})]})]})},U.placePrediction.placeId)})})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{children:"Date*"}),c.jsxs(tv,{children:[c.jsx(rv,{asChild:!0,children:c.jsxs(K,{variant:"outline",className:je("w-full justify-start text-left font-normal",!i&&"text-muted-foreground"),children:[c.jsx(zu,{className:"mr-2 h-4 w-4"}),i?Yt(i,"PPP"):"Select a date"]})}),c.jsx(oh,{className:"w-auto p-0",align:"start",children:c.jsx(K2,{mode:"single",selected:i,onSelect:a,initialFocus:!0,disabled:U=>U<new Date(new Date().setHours(0,0,0,0)),className:"rounded-md border"})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{children:"Time"}),c.jsxs($t,{value:o,onValueChange:s,children:[c.jsx(Ot,{children:c.jsx(Ft,{placeholder:"Select a time"})}),c.jsx(jt,{children:Array.from({length:24}).flatMap((U,X)=>{const H=X,Y=H===0?12:H>12?H-12:H,Q=H<12?"AM":"PM",ue=H.toString().padStart(2,"0");return[c.jsx(Se,{value:`${ue}:00`,children:`${Y}:00 ${Q}`},`${H}:00`),c.jsx(Se,{value:`${ue}:30`,children:`${Y}:30 ${Q}`},`${H}:30`)]})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{children:"Estimated Duration"}),c.jsxs($t,{value:l,onValueChange:u,children:[c.jsx(Ot,{children:c.jsx(Ft,{placeholder:"Select duration"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"15 min",children:"15 minutes"}),c.jsx(Se,{value:"30 min",children:"30 minutes"}),c.jsx(Se,{value:"45 min",children:"45 minutes"}),c.jsx(Se,{value:"1 hour",children:"1 hour"}),c.jsx(Se,{value:"1.5 hours",children:"1.5 hours"}),c.jsx(Se,{value:"2 hours",children:"2 hours"}),c.jsx(Se,{value:"2.5 hours",children:"2.5 hours"}),c.jsx(Se,{value:"3 hours",children:"3 hours"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"budget",children:"Budget"}),c.jsx(Ue,{id:"budget",type:"number",value:d,onChange:U=>f(U.target.value),placeholder:"Enter budget amount",min:"0",step:"0.01"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"notes",children:"Notes"}),c.jsx(Ue,{id:"notes",value:h,onChange:U=>p(U.target.value),placeholder:"Add any notes about this trip"})]}),c.jsxs(_i,{children:[c.jsx(K,{type:"button",variant:"outline",onClick:()=>W(!1),disabled:v,children:"Cancel"}),c.jsx(K,{type:"submit",disabled:v,children:v?"Creating...":"Create Trip"})]})]})]})})}var i3="Checkbox",[pBe,Ylt]=Va(i3),[mBe,gBe]=pBe(i3),pJ=b.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:l="on",onCheckedChange:u,form:d,...f}=t,[h,p]=b.useState(null),m=et(e,S=>p(S)),g=b.useRef(!1),v=h?d||!!h.closest("form"):!0,[x=!1,y]=ts({prop:i,defaultProp:a,onChange:u}),w=b.useRef(x);return b.useEffect(()=>{const S=h==null?void 0:h.form;if(S){const E=()=>y(w.current);return S.addEventListener("reset",E),()=>S.removeEventListener("reset",E)}},[h,y]),c.jsxs(mBe,{scope:r,state:x,disabled:s,children:[c.jsx(Le.button,{type:"button",role:"checkbox","aria-checked":lc(x)?"mixed":x,"aria-required":o,"data-state":vJ(x),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:m,onKeyDown:be(t.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:be(t.onClick,S=>{y(E=>lc(E)?!0:!E),v&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})}),v&&c.jsx(vBe,{control:h,bubbles:!g.current,name:n,value:l,checked:x,required:o,disabled:s,form:d,style:{transform:"translateX(-100%)"},defaultChecked:lc(a)?!1:a})]})});pJ.displayName=i3;var mJ="CheckboxIndicator",gJ=b.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,a=gBe(mJ,r);return c.jsx(bn,{present:n||lc(a.state)||a.state===!0,children:c.jsx(Le.span,{"data-state":vJ(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});gJ.displayName=mJ;var vBe=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:i,...a}=t,o=b.useRef(null),s=uk(r),l=gO(e);b.useEffect(()=>{const d=o.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(s!==r&&p){const m=new Event("click",{bubbles:n});d.indeterminate=lc(r),p.call(d,lc(r)?!1:r),d.dispatchEvent(m)}},[s,r,n]);const u=b.useRef(lc(r)?!1:r);return c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??u.current,...a,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function lc(t){return t==="indeterminate"}function vJ(t){return lc(t)?"indeterminate":t?"checked":"unchecked"}var yJ=pJ,yBe=gJ;const Oc=b.forwardRef(({className:t,...e},r)=>c.jsx(yJ,{ref:r,className:je("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:c.jsx(yBe,{className:je("flex items-center justify-center text-current"),children:c.jsx(fo,{className:"h-4 w-4"})})}));Oc.displayName=yJ.displayName;const yv=b.forwardRef(({className:t,...e},r)=>c.jsx("textarea",{className:je("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));yv.displayName="Textarea";const xBe=Vh("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),xJ=b.forwardRef(({className:t,variant:e,...r},n)=>c.jsx("div",{ref:n,role:"alert",className:je(xBe({variant:e}),t),...r}));xJ.displayName="Alert";const wBe=b.forwardRef(({className:t,...e},r)=>c.jsx("h5",{ref:r,className:je("mb-1 font-medium leading-none tracking-tight",t),...e}));wBe.displayName="AlertTitle";const wJ=b.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:je("text-sm [&_p]:leading-relaxed",t),...e}));wJ.displayName="AlertDescription";const bBe=({isOpen:t,onClose:e,onAddItems:r})=>{const{toast:n}=cn(),[i,a]=b.useState(""),[o,s]=b.useState([]),[l,u]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[m,g]=b.useState("input"),{user:v}=qr(),x=`#taska
You are helping me create a structured grocery list from a block of unstructured text.

Here's how it works:
1. I will paste a recipe, list of meals, event plan, or raw text containing food or product needs.
2. You will:
  - Parse what items I might need.
  - Extract quantities if mentioned.
  - Infer appropriate items from context.

Output Format Instructions (CRITICAL):
- Respond ONLY with the formatted grocery list - no introduction, explanation, or additional text.
- Use EXACTLY this format:

🛒 Grocery List
- [Item name] ([quantity] [unit])
- [Item name]
- ...

Example of a correct response:
🛒 Grocery List
- Milk (1 gallon)
- Eggs (12)
- Bread (1 loaf)

Make sure the list is:
- In plain, copy-friendly text
- Organized and clean (no duplicates)
- Ready for direct copy/paste into the app

Now, here is the text I want to base my grocery list on:

${i}`,y=()=>{navigator.clipboard.writeText(x),f(!0),n({title:"Prompt copied to clipboard",description:"Now paste it into ChatGPT to generate your list"}),setTimeout(()=>f(!1),2e3)},w=A=>{try{console.log("Parsing input:",A);const T=A.split(`
`);console.log(`Processing ${T.length} lines`);const N=[];for(const I of T){const j=I.trim();if(!j){console.log("Skipping empty line");continue}console.log("Processing line:",j);const O=j.includes("🛒 Grocery List"),P=j.startsWith("-");if(O){console.log("Skipping header line:",j);continue}let M=j;P&&(M=j.substring(1).trim(),console.log("Removed bullet point, processing:",M));let F=!1;const B=M.match(/^(.*?)\s*\(([^)]+)\)$/);if(B){F=!0,console.log("Found structured format match:",B);const W=B[1].trim(),$=B[2].trim(),U=$.match(/^(\d+(?:\.\d+)?)/);let X=1,H="";U?(X=parseFloat(U[1]),H=$.substring(U[0].length).trim(),console.log(`Extracted quantity: ${X}, unit: ${H}`)):(H=$,console.log(`No numeric quantity found, using as unit: ${H}`));const Y={name:W,quantity:X,unit:H,checked:!1,addedBy:{name:(v==null?void 0:v.name)||"User",avatar:(v==null?void 0:v.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((v==null?void 0:v.name)||"User")}&background=random`},isRecurring:!1,recurrenceFrequency:null};console.log("Adding structured item:",Y),N.push(Y)}if(!F){const W=M.match(/^(.*?)\s+(\d+(?:\.\d+)?)(?:\s+(\w+))?$/);if(W){F=!0,console.log("Found simple format match:",W);const $=W[1].trim(),U=parseFloat(W[2]),X=W[3]?W[3].trim():"",H={name:$,quantity:U,unit:X,checked:!1,addedBy:{name:(v==null?void 0:v.name)||"User",avatar:(v==null?void 0:v.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((v==null?void 0:v.name)||"User")}&background=random`},isRecurring:!1,recurrenceFrequency:null};console.log("Adding simple format item:",H),N.push(H)}}if(!F){const W=M.match(/^(.*?)\s+-\s+(\d+(?:\.\d+)?)(?:\s+(\w+))?$/);if(W){F=!0,console.log("Found dash format match:",W);const $=W[1].trim(),U=parseFloat(W[2]),X=W[3]?W[3].trim():"",H={name:$,quantity:U,unit:X,checked:!1,addedBy:{name:(v==null?void 0:v.name)||"User",avatar:(v==null?void 0:v.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((v==null?void 0:v.name)||"User")}&background=random`},isRecurring:!1,recurrenceFrequency:null};console.log("Adding dash format item:",H),N.push(H)}}if(!F){console.log("No format match, treating as plain item:",M);const W={name:M,quantity:1,unit:"",checked:!1,addedBy:{name:(v==null?void 0:v.name)||"User",avatar:(v==null?void 0:v.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((v==null?void 0:v.name)||"User")}&background=random`},isRecurring:!1,recurrenceFrequency:null};console.log("Adding plain item:",W),N.push(W)}}return console.log("Final parsed items:",N),N}catch(T){return console.error("Error parsing output:",T),[]}},S=()=>{if(!i.trim()){n({title:"Empty input",description:"Please paste the AI-generated grocery list",variant:"destructive"});return}u(!0);const A=w(i);setTimeout(()=>{s(A),u(!1),g("output"),A.length===0&&n({title:"Parsing failed",description:"Could not identify any items in the format. Please make sure it follows the proper format.",variant:"destructive"})},1e3)},E=()=>{if(o.length===0){n({title:"No items",description:"No items to add to your trip",variant:"destructive"});return}r(o),n({title:"Items added",description:`${o.length} items added to your trip`}),a(""),s([]),g("input"),e()},C=()=>{g("input"),a(""),s([])};return c.jsx(_r,{open:t,onOpenChange:e,children:c.jsxs(pr,{className:"sm:max-w-md md:max-w-lg max-h-[80vh] overflow-y-auto",children:[c.jsxs(mr,{children:[c.jsxs(gr,{className:"flex items-center gap-2 bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-green-500",children:[c.jsx(mse,{className:"h-5 w-5 text-blue-500"}),"Smart List Parser"]}),c.jsx(Si,{children:"Turn unstructured text into an organized grocery list using AI."})]}),c.jsxs("div",{className:"pt-4 space-y-4",children:[m==="input"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs(ce,{className:"flex items-center",children:[c.jsx(lse,{className:"h-4 w-4 mr-2 text-blue-500"}),"Step 1: Copy this prompt to ChatGPT"]}),c.jsxs("div",{className:"relative bg-gray-100 dark:bg-gray-800 rounded-md p-3 mt-1 text-sm text-gray-700 dark:text-gray-300",children:[c.jsx("div",{className:"absolute top-2 right-2",children:c.jsx(K,{variant:"ghost",size:"icon",onClick:y,className:"h-6 w-6",children:d?c.jsx(fo,{className:"h-3 w-3"}):c.jsx(Yoe,{className:"h-3 w-3"})})}),c.jsx("div",{className:"pr-6 max-h-32 overflow-y-auto font-mono",children:c.jsx("pre",{className:"whitespace-pre-wrap",children:x})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs(ce,{htmlFor:"output",className:"flex items-center",children:[c.jsx(Koe,{className:"h-4 w-4 mr-2 text-blue-500"}),"Step 2: Paste AI-generated grocery list here or type items directly (e.g., milk 1 gallon, bread - 2 loaves)"]}),c.jsx(yv,{id:"output",value:i,onChange:A=>a(A.target.value),placeholder:"Paste list here or type items directly (e.g., milk 1 gallon, bread - 2 loaves)",className:"min-h-[150px]"})]}),c.jsxs(xJ,{className:"bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 border-blue-200 dark:border-blue-900",children:[c.jsx(yV,{className:"h-4 w-4"}),c.jsx(wJ,{children:'Use ChatGPT to convert recipes, meal plans, or any food-related text into a structured grocery list, then paste it here. Or simply type items directly, one per line, like "milk 1 gallon" or "bread - 2 loaves" to add with quantities.'})]}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[c.jsx(K,{variant:"outline",onClick:e,children:"Cancel"}),c.jsxs(K,{onClick:S,className:"bg-gradient-to-r from-blue-500 to-green-500 text-white hover:from-blue-600 hover:to-green-600",children:[c.jsx(ise,{className:"h-4 w-4 mr-2"}),"Process List"]})]})]}),m==="output"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs(ce,{className:"flex items-center",children:[c.jsx(lr,{className:"h-4 w-4 mr-2 text-blue-500"}),"Parsed Items (",o.length,")"]}),c.jsxs(mt,{variant:"outline",className:"font-normal",children:[o.length," items"]})]}),c.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-md p-4 max-h-[300px] overflow-y-auto",children:o.length>0?c.jsx("ul",{className:"space-y-2",children:o.map((A,T)=>c.jsxs(Pn.li,{className:"flex justify-between items-center p-2 bg-white dark:bg-gray-700 rounded-md border border-gray-200 dark:border-gray-600",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:T*.05},children:[c.jsx("span",{children:A.name}),c.jsxs(mt,{variant:"secondary",className:"text-xs",children:[A.quantity," ",A.unit]})]},T))}):c.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No items could be parsed from the input"})})]}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[c.jsx(K,{variant:"outline",onClick:C,children:"Back"}),c.jsxs(K,{onClick:E,disabled:o.length===0,className:"bg-gradient-to-r from-blue-500 to-green-500 text-white hover:from-blue-600 hover:to-green-600",children:[c.jsx(lr,{className:"h-4 w-4 mr-2"}),"Add to Trip"]})]})]})]})]})})},iA=[{barcode:"0123456789012",name:"Organic Milk",defaultPrice:3.99,defaultCategory:"Dairy",unit:"gal"},{barcode:"5901234123457",name:"Whole Wheat Bread",defaultPrice:2.49,defaultCategory:"Bakery",unit:"ea"},{barcode:"9780201379624",name:"Organic Bananas",defaultPrice:1.99,defaultCategory:"Produce",unit:"lb"},{barcode:"4006381333931",name:"Extra Virgin Olive Oil",defaultPrice:8.99,defaultCategory:"Oils & Vinegars",unit:"floz"},{barcode:"8410154011417",name:"Cereal",defaultPrice:4.29,defaultCategory:"Breakfast",unit:"box"},{barcode:"3800020430781",name:"Pasta Sauce",defaultPrice:3.49,defaultCategory:"Canned Goods",unit:"can"},{barcode:"7622210100221",name:"Chocolate Bar",defaultPrice:2.25,defaultCategory:"Snacks",unit:"ea"},{barcode:"5449000000996",name:"Coca-Cola",defaultPrice:1.79,defaultCategory:"Beverages",unit:"bottle"},{barcode:"8000500310427",name:"Nutella",defaultPrice:4.99,defaultCategory:"Spreads",unit:"jar"}],_Be=t=>{const e=iA.findIndex(r=>r.barcode===t.barcode);e>=0?iA[e]=t:iA.push(t),console.log("Product saved:",t)},__=[{id:"g",name:"Gram",abbreviation:"g",type:"weight",system:"metric",conversionFactor:1,commonItems:["spices","flour","sugar"]},{id:"kg",name:"Kilogram",abbreviation:"kg",type:"weight",system:"metric",conversionFactor:1e3,commonItems:["potatoes","rice","onions"]},{id:"oz",name:"Ounce",abbreviation:"oz",type:"weight",system:"imperial",conversionFactor:28.35,commonItems:["meat","cheese"]},{id:"lb",name:"Pound",abbreviation:"lb",type:"weight",system:"imperial",conversionFactor:453.59,commonItems:["meat","fruits","vegetables"]},{id:"ml",name:"Milliliter",abbreviation:"ml",type:"volume",system:"metric",conversionFactor:1,commonItems:["sauce","oil"]},{id:"l",name:"Liter",abbreviation:"L",type:"volume",system:"metric",conversionFactor:1e3,commonItems:["milk","juice","water"]},{id:"floz",name:"Fluid Ounce",abbreviation:"fl oz",type:"volume",system:"imperial",conversionFactor:29.57,commonItems:["beverages"]},{id:"cup",name:"Cup",abbreviation:"cup",type:"volume",system:"imperial",conversionFactor:236.59,commonItems:["flour","sugar","rice"]},{id:"pt",name:"Pint",abbreviation:"pt",type:"volume",system:"imperial",conversionFactor:473.18,commonItems:["berries","ice cream"]},{id:"qt",name:"Quart",abbreviation:"qt",type:"volume",system:"imperial",conversionFactor:946.35,commonItems:["milk"]},{id:"gal",name:"Gallon",abbreviation:"gal",type:"volume",system:"imperial",conversionFactor:3785.41,commonItems:["milk","water"]},{id:"ea",name:"Each",abbreviation:"ea",type:"quantity",system:"universal",conversionFactor:1,commonItems:["eggs","fruit","canned goods"]},{id:"pc",name:"Piece",abbreviation:"pc",type:"quantity",system:"universal",conversionFactor:1,commonItems:["fruit","bread","cheese"]},{id:"dz",name:"Dozen",abbreviation:"dz",type:"quantity",system:"universal",conversionFactor:12,commonItems:["eggs","pastries","donuts"]},{id:"pack",name:"Package",abbreviation:"pack",type:"package",system:"universal",conversionFactor:1,commonItems:["pasta","bacon","cheese","snacks"]},{id:"box",name:"Box",abbreviation:"box",type:"package",system:"universal",conversionFactor:1,commonItems:["cereal","crackers"]},{id:"can",name:"Can",abbreviation:"can",type:"package",system:"universal",conversionFactor:1,commonItems:["soup","beans","tomatoes","soda"]},{id:"bottle",name:"Bottle",abbreviation:"btl",type:"package",system:"universal",conversionFactor:1,commonItems:["soda","wine","oils","water","juice"]},{id:"bunch",name:"Bunch",abbreviation:"bunch",type:"quantity",system:"universal",conversionFactor:1,commonItems:["bananas","grapes","carrots","herbs"]},{id:"jar",name:"Jar",abbreviation:"jar",type:"package",system:"universal",conversionFactor:1,commonItems:["sauces","pickles","jam","peanut butter"]}],Es=__.reduce((t,e)=>({...t,[e.id]:e}),{}),SBe=(t,e,r)=>{const n=Es[e],i=Es[r];return!n||!i||n.type!==i.type?null:t*n.conversionFactor/i.conversionFactor},LL=t=>__.filter(e=>e.type===t),bJ=t=>{const e=t.toLowerCase().trim();return __.filter(r=>{var n;return(n=r.commonItems)==null?void 0:n.some(i=>e.includes(i)||i.includes(e))})},Ow=t=>{const e=bJ(t);if(e.length===0)return Es.ea;const r=["quantity","weight","volume","package"];for(const n of r){const i=e.find(a=>a.type===n);if(i)return i}return e[0]};function EBe(t){return"value"in t&&"onChange"in t}const ABe=t=>{if(EBe(t)){const{value:y,onChange:w,className:S=""}=t;return c.jsx("div",{className:S,children:c.jsxs($t,{value:y,onValueChange:w,children:[c.jsx(Ot,{children:c.jsx(Ft,{placeholder:"Select unit"})}),c.jsx(jt,{children:__.map(E=>c.jsxs(Se,{value:E.id,children:[E.name," (",E.abbreviation,")"]},E.id))})]})})}const{itemName:e,quantity:r,unit:n,onQuantityChange:i,onUnitChange:a,className:o="",showConversion:s=!1,compact:l=!1}=t,[u,d]=b.useState(n?Es[n]:Ow(e)),[f,h]=b.useState([]),[p,m]=b.useState((u==null?void 0:u.type)||"quantity");b.useEffect(()=>{const y=bJ(e);if(y.length>0){if(h(y),!n&&!y.some(w=>w.id===(u==null?void 0:u.id))){const w=Ow(e);d(w),m(w.type),a(w.id)}}else h(LL("quantity"))},[e]),b.useEffect(()=>{n&&Es[n]&&(d(Es[n]),m(Es[n].type))},[n]);const g=y=>{m(y);const w=LL(y);if(h(w),w.length>0){const S=w[0];d(S),a(S.id)}},v=y=>{if(!y||!Es[y])return;const w=Es[y];if(d(w),a(y),u&&w.type===u.type&&s){const S=SBe(r,u.id,w.id);S!==null&&i(Math.round(S*100)/100)}},x=[{type:"quantity",label:"Qty"},{type:"weight",label:"Weight"},{type:"volume",label:"Volume"},{type:"package",label:"Package"}];return l?c.jsx("div",{className:o,children:c.jsxs(tv,{children:[c.jsx(rv,{asChild:!0,children:c.jsxs(K,{variant:"outline",size:"sm",className:"h-10 px-2 flex items-center justify-between rounded-l-none border-l-0","aria-label":`Current unit: ${(u==null?void 0:u.abbreviation)||"each"}`,"aria-haspopup":"true",children:[c.jsx("span",{children:(u==null?void 0:u.abbreviation)||"ea"}),c.jsx(Nx,{className:"h-3.5 w-3.5 ml-1 opacity-50"})]})}),c.jsx(oh,{className:"w-[240px] p-2",children:c.jsxs("div",{className:"flex flex-col space-y-2",children:[c.jsx(ce,{htmlFor:"unit-type",className:"text-xs pl-1",children:"Measurement Type"}),c.jsx("div",{className:"grid grid-cols-4 gap-1",children:x.map(y=>c.jsx(K,{variant:p===y.type?"default":"outline",size:"sm",className:"h-8 text-xs",onClick:()=>g(y.type),"aria-label":`Select ${y.label} measurement type`,"aria-pressed":p===y.type,children:y.label},y.type))}),c.jsx(ce,{htmlFor:"unit",className:"text-xs mt-2 pl-1",children:"Unit"}),c.jsx("div",{className:"grid grid-cols-3 gap-1",children:f.filter(y=>y.type===p).map(y=>c.jsx(K,{variant:(u==null?void 0:u.id)===y.id?"default":"outline",size:"sm",className:"h-8 text-xs",onClick:()=>v(y.id),"aria-label":`Select ${y.name} (${y.abbreviation})`,"aria-pressed":(u==null?void 0:u.id)===y.id,children:y.abbreviation},y.id))})]})})]})}):c.jsxs("div",{className:`flex items-center space-x-2 ${o}`,children:[c.jsxs(tv,{children:[c.jsx(rv,{asChild:!0,children:c.jsxs(K,{variant:"outline",size:"sm",className:"h-9 px-2 flex items-center justify-between",children:[c.jsx("span",{className:"mr-1",children:(u==null?void 0:u.abbreviation)||"ea"}),c.jsx(Nx,{className:"h-3.5 w-3.5 opacity-50"})]})}),c.jsx(oh,{className:"w-[240px] p-2",children:c.jsxs("div",{className:"flex flex-col space-y-2",children:[c.jsx(ce,{htmlFor:"unit-type",className:"text-xs pl-1",children:"Measurement Type"}),c.jsx("div",{className:"grid grid-cols-4 gap-1",children:x.map(y=>c.jsx(K,{variant:p===y.type?"default":"outline",size:"sm",className:"h-8 text-xs",onClick:()=>g(y.type),"aria-label":`Select ${y.label} measurement type`,"aria-pressed":p===y.type,children:y.label},y.type))}),c.jsx(ce,{htmlFor:"unit",className:"text-xs mt-2 pl-1",children:"Unit"}),c.jsx("div",{className:"grid grid-cols-3 gap-1",children:f.filter(y=>y.type===p).map(y=>c.jsx(K,{variant:(u==null?void 0:u.id)===y.id?"default":"outline",size:"sm",className:"h-8 text-xs",onClick:()=>v(y.id),"aria-label":`Select ${y.name} (${y.abbreviation})`,"aria-pressed":(u==null?void 0:u.id)===y.id,children:y.abbreviation},y.id))})]})})]}),c.jsx(Ue,{type:"number",min:"0.01",step:"0.01",value:r,onChange:y=>i(parseFloat(y.target.value)||0),className:"h-9 w-20"})]})},CBe=({barcode:t,isOpen:e,onClose:r,onSave:n})=>{const[i,a]=b.useState(""),[o,s]=b.useState(void 0),[l,u]=b.useState(""),[d,f]=b.useState(1),[h,p]=b.useState("ea"),{toast:m}=cn(),g=x=>{if(x.trim()){const y=Ow(x);p(y.id)}},v=()=>{if(!i.trim()){m({title:"Product name required",description:"Please enter a name for this product",variant:"destructive"});return}const x={barcode:t,name:i,defaultPrice:o,defaultCategory:l||void 0,unit:h};_Be(x),n(x),a(""),s(void 0),u(""),f(1),p("ea"),r(),m({title:"Product saved",description:`"${i}" has been added to the product database`})};return c.jsx(_r,{open:e,onOpenChange:x=>{x||r()},children:c.jsxs(pr,{className:"sm:max-w-md",children:[c.jsxs(mr,{children:[c.jsxs(gr,{className:"flex items-center gap-2",children:[c.jsx(Uoe,{className:"h-5 w-5"}),"Save New Product"]}),c.jsx(Si,{children:"Save this product to your database for future scans."})]}),c.jsxs("div",{className:"grid gap-4 py-2",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ce,{htmlFor:"barcode",children:"Barcode"}),c.jsx(Ue,{id:"barcode",value:t,readOnly:!0,className:"bg-muted"})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ce,{htmlFor:"productName",children:"Product Name*"}),c.jsx(Ue,{id:"productName",value:i,onChange:x=>{a(x.target.value),g(x.target.value)},placeholder:"Enter product name",autoFocus:!0})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ce,{htmlFor:"productPrice",children:"Default Price (optional)"}),c.jsx(Ue,{id:"productPrice",type:"number",step:"0.01",min:"0",value:o===void 0?"":o,onChange:x=>{const y=x.target.value?parseFloat(x.target.value):void 0;s(y)},placeholder:"0.00"})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ce,{htmlFor:"productCategory",children:"Category (optional)"}),c.jsx(Ue,{id:"productCategory",value:l,onChange:x=>u(x.target.value),placeholder:"Enter category"})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ce,{htmlFor:"productUnit",children:"Unit"}),c.jsxs("div",{className:"flex gap-2 items-center",children:[c.jsx(ABe,{itemName:i,quantity:d,unit:h,onQuantityChange:f,onUnitChange:p,showConversion:!1}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"Suggested based on product name"})]})]})]}),c.jsxs(_i,{children:[c.jsx(K,{variant:"outline",onClick:r,children:"Cancel"}),c.jsx(K,{onClick:v,children:"Save Product"})]})]})})},TBe=({suggestion:t,isOpen:e,onClose:r,onAddAnyway:n,onMergeItems:i,onUpdate:a})=>{if(!t)return null;const{type:o,newItemName:s,existingItem:l,confidence:u,message:d}=t,f=o==="duplicate",h=()=>{n(),r()},p=()=>{i(l,1),r()},m=()=>{a(l),r()};return c.jsx(_r,{open:e,onOpenChange:r,children:c.jsxs(pr,{className:"sm:max-w-md",children:[c.jsxs(mr,{children:[c.jsxs(gr,{className:"flex items-center gap-2",children:[c.jsx(_o,{className:"h-5 w-5 text-amber-500"}),f?"Duplicate Item":"Similar Item Found"]}),c.jsx(Si,{children:d})]}),c.jsxs("div",{className:"p-4 border rounded-md bg-amber-50 dark:bg-amber-900/20",children:[c.jsxs("div",{className:"mb-2",children:[c.jsx("span",{className:"text-sm font-medium",children:"New item:"})," ",c.jsx("span",{className:"text-sm",children:s})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium",children:"Existing item:"})," ",c.jsx("span",{className:"text-sm",children:l.name}),c.jsxs("div",{className:"flex items-center mt-1 gap-2",children:[c.jsxs(mt,{variant:"outline",className:"text-xs",children:["Qty: ",l.quantity]}),l.price&&c.jsxs(mt,{variant:"outline",className:"text-xs",children:["$",l.price.toFixed(2)]}),!f&&c.jsxs(mt,{variant:"outline",className:`text-xs ${u>85?"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400":u>75?"bg-amber-50 text-amber-700 dark:bg-amber-900/20 dark:text-amber-400":"bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400"}`,children:[u,"% match"]})]})]})]}),c.jsx(_i,{className:"gap-2 sm:gap-0",children:c.jsxs("div",{className:"flex flex-col gap-2 w-full sm:flex-row sm:justify-end",children:[c.jsx(K,{type:"button",variant:"outline",onClick:h,className:"sm:w-auto w-full",children:"Add Anyway"}),c.jsx(K,{type:"button",variant:"secondary",onClick:p,className:"sm:w-auto w-full",children:"Increase Quantity (+1)"}),!f&&c.jsx(K,{type:"button",variant:"default",onClick:m,className:"sm:w-auto w-full",children:"Update Existing"})]})})]})})},NBe=(t,e)=>{try{const r=`tripSplit_${t}`;localStorage.setItem(r,JSON.stringify(e))}catch(r){console.error("Failed to save split configuration:",r)}},bN=t=>{try{const e=`tripSplit_${t}`,r=localStorage.getItem(e);if(r)return JSON.parse(r)}catch(e){console.error("Failed to load split configuration:",e)}return[]},IBe=(t,e)=>{if(!Array.isArray(e)||e.length===0)return{itemId:t,splitType:"equal",details:[]};const r=e.filter(i=>i&&i.id&&i.name);if(r.length===0)return{itemId:t,splitType:"equal",details:[]};const n=100/r.length;return{itemId:t,splitType:"equal",details:r.map(i=>({userId:i.id,userName:i.name,share:n}))}},aA=(t,e,r,n)=>{const i=t.findIndex(a=>a.itemId===e);if(i>=0){const a=[...t];return a[i]={itemId:e,splitType:r,details:n},a}else return[...t,{itemId:e,splitType:r,details:n}]},PBe=(t,e,r)=>{if(!Array.isArray(r))return[];const n=r.filter(s=>s&&s.id&&s.name);if(n.length===0)return[];const i=bN(t),a=n.map(s=>({userId:s.id,userName:s.name,totalAmount:0,itemCount:0})),o=n.find(s=>s.name==="You");return e.forEach(s=>{if(s.price===void 0)return;const l=i.find(d=>d.itemId===s.id),u=s.price*s.quantity;if(l)if(l.splitType==="equal"){if(l.details.length===0)return;const d=u/l.details.length;l.details.forEach(f=>{const h=a.find(p=>p.userId===f.userId);h&&(h.totalAmount+=d,h.itemCount+=1)})}else l.splitType==="percentage"?l.details.forEach(d=>{const f=a.find(h=>h.userId===d.userId);f&&(f.totalAmount+=u*d.share/100,f.itemCount+=1)}):l.splitType==="person"&&l.details.forEach(d=>{const f=a.find(h=>h.userId===d.userId);f&&(f.totalAmount+=d.share,f.itemCount+=1)});else{const d=u/n.length;n.forEach(f=>{const h=a.find(p=>p.userId===f.id);h&&(h.totalAmount+=d,h.itemCount+=1)})}}),o&&(e.reduce((s,l)=>s+(l.price||0)*l.quantity,0),a.find(s=>s.userId===o.id)),a.forEach(s=>{s.totalAmount=Math.round(s.totalAmount*100)/100}),a};let _N=null;const _J=()=>_N?`taska_ledger_transactions_${_N}`:"taska_ledger_transactions",OBe=t=>{_N=t},S_=()=>{try{const t=localStorage.getItem(_J());if(t)return JSON.parse(t)}catch(t){console.error("Failed to load ledger transactions:",t)}return[]},SJ=t=>{try{localStorage.setItem(_J(),JSON.stringify(t))}catch(e){console.error("Failed to save ledger transactions:",e)}},EJ=t=>{const e=S_(),r={...t,id:Date.now().toString()};return e.push(r),SJ(e),r},a3=(t,e)=>{const r=S_(),n=r.findIndex(a=>a.id===t);if(n===-1)return null;const i={...r[n],...e};return r[n]=i,SJ(r),i},AJ=()=>{const t=S_(),e=new Map;return t.forEach(r=>{if(r.status!=="completed")return;e.has(r.fromUserId)||e.set(r.fromUserId,{userId:r.fromUserId,userName:r.fromUserName,totalSpent:0,owesAmount:0,owedAmount:0,netBalance:0}),e.has(r.toUserId)||e.set(r.toUserId,{userId:r.toUserId,userName:r.toUserName,totalSpent:0,owesAmount:0,owedAmount:0,netBalance:0});const n=e.get(r.fromUserId),i=e.get(r.toUserId);if(r.type==="expense")if(r.isSplit){i.totalSpent+=r.amount;const a=r.amount/2;n.owesAmount+=a,i.owedAmount+=a}else i.totalSpent+=r.amount,n.owesAmount+=r.amount,i.owedAmount+=r.amount;else r.type==="payment"&&(n.totalSpent+=r.amount,n.owedAmount+=r.amount,i.owesAmount+=r.amount)}),e.forEach(r=>{r.netBalance=r.owedAmount-r.owesAmount}),Array.from(e.values())},jBe=()=>{const t=AJ(),e=t.filter(o=>o.netBalance<0).sort((o,s)=>o.netBalance-s.netBalance),r=t.filter(o=>o.netBalance>0).sort((o,s)=>s.netBalance-o.netBalance),n=[];let i=0,a=0;for(;i<e.length&&a<r.length;){const o=e[i],s=r[a],l=Math.min(Math.abs(o.netBalance),s.netBalance);l>0&&n.push({from:o,to:s,amount:Math.round(l*100)/100}),o.netBalance+=l,s.netBalance-=l,Math.abs(o.netBalance)<.01&&i++,Math.abs(s.netBalance)<.01&&a++}return n},kBe=(t,e,r,n,i,a,o,s=!0,l="other")=>EJ({tripId:t,timestamp:Date.now(),amount:o,type:"expense",fromUserId:r,fromUserName:n,toUserId:i,toUserName:a,description:`Expenses from trip to ${e}`,status:"completed",isSplit:s,category:l}),RBe=(t,e,r,n,i,a="Payment",o)=>EJ({timestamp:Date.now(),amount:i,type:"payment",fromUserId:t,fromUserName:e,toUserId:r,toUserName:n,description:a,status:"pending",category:o}),DBe=t=>a3(t,{status:"completed"}),MBe=t=>a3(t,{status:"cancelled"}),SN=()=>[{id:"food",label:"Food & Dining",icon:"utensils"},{id:"groceries",label:"Groceries",icon:"shopping-cart"},{id:"household",label:"Household",icon:"home"},{id:"utilities",label:"Utilities",icon:"bolt"},{id:"rent",label:"Rent & Mortgage",icon:"building"},{id:"transportation",label:"Transportation",icon:"car"},{id:"entertainment",label:"Entertainment",icon:"film"},{id:"personal",label:"Personal",icon:"user"},{id:"medical",label:"Medical",icon:"stethoscope"},{id:"other",label:"Other",icon:"circle"}],LBe=(t,e)=>a3(t,{category:e}),CJ=({tripId:t=`trip-${Date.now()}`,tripName:e="Shopping Trip",items:r,participants:n,onSettleUp:i,onSplitUpdated:a})=>{const[o,s]=b.useState([]),[l,u]=b.useState(0),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[m,g]=b.useState(!1),[v,x]=b.useState("equal"),[y,w]=b.useState([]),[S,E]=b.useState([]),[C,A]=b.useState(""),[T,N]=b.useState(""),[I,j]=b.useState([]),{toast:O}=cn(),{inviteForExpense:P}=bj(),{user:M}=qr();b.useEffect(()=>{const L=r.reduce((ye,me)=>ye+(me.price||0)*me.quantity,0);u(L);const q=PBe(t,r,n);s(q);const G=bN(t);f(G.length>0)},[t,r,n]),b.useEffect(()=>{if(h){const L=n.map(ye=>ye.id);E(L);const q=100/L.length,G=L.map(ye=>{const me=n.find(ie=>ie.id===ye);return{userId:ye,userName:(me==null?void 0:me.name)||"Unknown",share:q}});w(G),x("equal")}},[h,n]),b.useEffect(()=>{if(m){const L=r.filter(G=>G.price!==void 0&&G.price>0).map(G=>G.id);j(L);const q=r.filter(G=>L.includes(G.id)).reduce((G,ye)=>G+(ye.price||0)*ye.quantity,0);if(q>0){const G=`I'd like to split some expenses from our ${e||"shopping trip"} with you!

Total amount: $${q.toFixed(2)}
Your share: $${(q/2).toFixed(2)} (split equally)

Download TaskaLoop to easily split expenses and track payments!`;N(G)}else{const G=`I'd like to invite you to join our ${e||"shopping trip"} on TaskaLoop!

TaskaLoop helps us coordinate shopping trips, split expenses, and manage household tasks together.

Download TaskaLoop to get started!`;N(G)}}},[m,r,e]);const F=o.find(L=>L.userName==="You"),B=o.filter(L=>L.userName!=="You"),W=r.filter(L=>L.price!==void 0).length,$=()=>{O({title:"Share split summary",description:"This feature is coming soon!"})},U=()=>{O({title:"Export to CSV",description:"This feature is coming soon!"})},X=async()=>{if(!C.trim()){O({title:"Email required",description:"Please enter an email address to send the invitation",variant:"destructive"});return}try{const L=r.filter(q=>I.includes(q.id)).reduce((q,G)=>q+(G.price||0)*G.quantity,0);if(L>0){const q=r.filter(ye=>I.includes(ye.id)).map(ye=>ye.name).join(", "),G=q.length>50?`${q.substring(0,50)}...`:q;await P(C,L,G,t,e),O({title:"Expense split invitation sent!",description:`Invitation to split $${L.toFixed(2)} sent to ${C}`})}else await Hg.sendAppDownloadInvite({email:C,message:T||void 0,fromUser:{id:(M==null?void 0:M.id)||"current-user",name:(M==null?void 0:M.name)||"Someone",email:(M==null?void 0:M.email)||""}}),O({title:"Invitation sent!",description:`App invitation sent to ${C}`});g(!1),A(""),N(""),j([])}catch(L){console.error("Error sending invitation:",L),O({title:"Failed to send invitation",description:"Please try again later",variant:"destructive"})}},H=L=>{if(!F||!i)return;const q=o.find(G=>G.userId===L);q&&(kBe(t,e,F.userId,F.userName,q.userId,q.userName,q.totalAmount),i(q.totalAmount,L,F.userId),O({title:"Payment recorded",description:`Payment of $${q.totalAmount.toFixed(2)} to ${q.userName} has been recorded in the ledger`}))},Y=()=>"You",Q=L=>{if(S.includes(L)){const G=S.filter(me=>me!==L);E(G);const ye=y.filter(me=>me.userId!==L);if(G.length>0){if(v==="equal"){const me=100/G.length;ye.forEach(ie=>ie.share=me)}else if(v==="percentage"){const me=ye.reduce((ie,ne)=>ie+ne.share,0);if(me>0){const ie=100/me;ye.forEach(ne=>ne.share=ne.share*ie)}}}w(ye)}else{const G=[...S,L];E(G);const ye=n.find(ie=>ie.id===L);if(!ye)return;let me=0;if(v==="equal"){me=100/G.length;const ie=[...y.map(ne=>({...ne,share:me})),{userId:L,userName:ye.name,share:me}];w(ie)}else if(v==="percentage"){const ie=[...y,{userId:L,userName:ye.name,share:0}];w(ie)}else if(v==="person"){const ie=[...y,{userId:L,userName:ye.name,share:0}];w(ie)}}},ue=L=>{const q=L;if(x(q),q==="equal"){const G=100/S.length,ye=S.map(me=>{const ie=n.find(ne=>ne.id===me);return{userId:me,userName:(ie==null?void 0:ie.name)||"Unknown",share:G}});w(ye)}else if(q==="percentage"){const G=100/S.length,ye=S.map(me=>{const ie=n.find(ne=>ne.id===me);return{userId:me,userName:(ie==null?void 0:ie.name)||"Unknown",share:G}});w(ye)}else if(q==="person"){const G=l/S.length,ye=S.map(me=>{const ie=n.find(ne=>ne.id===me);return{userId:me,userName:(ie==null?void 0:ie.name)||"Unknown",share:G}});w(ye)}},de=(L,q)=>{const G=parseFloat(q);if(isNaN(G))return;const ye=y.map(me=>me.userId===L?{...me,share:G}:me);w(ye)},he=v==="percentage"?y.reduce((L,q)=>L+q.share,0):100,pe=v==="person"?y.reduce((L,q)=>L+q.share,0):0,J=v!=="person"||Math.abs(pe-l)<.01,re=()=>{if(v==="percentage"&&Math.abs(he-100)>.01){O({title:"Percentages must sum to 100%",variant:"destructive"});return}if(v==="person"&&!J){O({title:`Amounts must sum to ${l.toFixed(2)}`,variant:"destructive"});return}const L=r.filter(G=>G.price!==void 0);if(L.length===0){O({title:"No items to split",description:"Add prices to items before splitting costs",variant:"destructive"});return}let q=bN(t);for(const G of L)if(v==="equal"){const ye=IBe(G.id,n.filter(me=>S.includes(me.id)));q=aA(q,G.id,v,ye.details)}else if(v==="percentage")q=aA(q,G.id,v,y);else if(v==="person"&&G.price){const me=G.price*(G.quantity||1)/l,ie=y.map(ne=>({...ne,share:ne.share*me}));q=aA(q,G.id,v,ie)}NBe(t,q),O({title:"Bulk split applied",description:`Split applied to ${L.length} items`}),p(!1),a&&a()};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs(Te,{children:[c.jsxs(Fe,{className:"pb-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx(Be,{className:"text-lg",children:"Split Summary"}),c.jsx(mt,{variant:d?"secondary":"outline",children:d?"Custom Split":"Equal Split"})]}),c.jsxs(tt,{children:[r.length," items with a total of $",l.toFixed(2)]})]}),c.jsxs(Ne,{className:"pb-3",children:[c.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trip Cost"}),c.jsxs("div",{className:"text-xl font-bold flex items-center",children:[c.jsx(Go,{className:"h-4 w-4 mr-1"}),l.toFixed(2)]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Items with prices"}),c.jsxs("div",{className:"text-base",children:[W," of ",r.length," items"]})]})]}),c.jsx("div",{className:"space-y-3",children:o.map(L=>c.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg border bg-card",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(zr,{className:"h-8 w-8",children:c.jsx(Wr,{className:"text-xs",children:L.userName.charAt(0)})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:L.userName}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:[L.itemCount," items"]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-medium",children:["$",L.totalAmount.toFixed(2)]}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:[(L.totalAmount/l*100).toFixed(0),"% of total"]})]})]},L.userId))}),n.length===0&&c.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[c.jsx(_o,{className:"h-8 w-8 mx-auto mb-2"}),c.jsx("p",{children:"No participants added yet."})]}),c.jsxs("div",{className:"mt-4 space-y-2",children:[c.jsxs(_r,{open:h,onOpenChange:p,children:[c.jsx(XT,{asChild:!0,children:c.jsxs(K,{variant:"outline",className:"w-full",children:[c.jsx(gse,{className:"h-4 w-4 mr-2"}),"Customize Split"]})}),c.jsxs(pr,{className:"max-h-[90vh] overflow-y-auto",children:[c.jsx(mr,{children:c.jsx(gr,{children:"Customize Cost Split"})}),c.jsxs("div",{className:"space-y-4 py-2",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{children:"Split Type"}),c.jsxs($t,{value:v,onValueChange:L=>ue(L),children:[c.jsx(Ot,{children:c.jsx(Ft,{placeholder:"Select split type"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"equal",children:"Equal Split"}),c.jsx(Se,{value:"percentage",children:"Percentage"}),c.jsx(Se,{value:"person",children:"Custom Amount"})]})]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[v==="equal"&&"Split the cost equally among selected participants",v==="percentage"&&"Assign a percentage of the total to each participant",v==="person"&&"Specify exact amounts for each participant"]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{children:"Select Participants"}),c.jsx("div",{className:"grid grid-cols-1 gap-2",children:n.map(L=>{var q;return c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Oc,{id:`participant-${L.id}`,checked:S.includes(L.id),onCheckedChange:()=>Q(L.id)}),c.jsxs(ce,{htmlFor:`participant-${L.id}`,className:"flex items-center cursor-pointer",children:[c.jsx(zr,{className:"h-6 w-6 mr-2",children:c.jsx(Wr,{className:"text-xs",children:L.name.charAt(0)})}),c.jsx("span",{children:L.name})]}),S.includes(L.id)&&c.jsx("div",{className:"ml-auto flex items-center space-x-2",children:c.jsx(Ue,{type:v==="person"?"number":"text",step:v==="person"?"0.01":void 0,min:"0",placeholder:v==="percentage"?"%":v==="person"?"$":"Equal",className:"w-20 h-8 text-sm",value:v==="equal"?(100/S.length).toFixed(0)+"%":((q=y.find(G=>G.userId===L.id))==null?void 0:q.share.toFixed(v==="percentage"?0:2))+(v==="percentage"?"%":""),onChange:G=>de(L.id,G.target.value),disabled:v==="equal"})})]},L.id)})})]})]}),c.jsxs(_i,{children:[c.jsx(K,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),c.jsx(K,{onClick:re,children:"Apply Split"})]})]})]}),c.jsxs(_r,{open:m,onOpenChange:g,children:[c.jsx(XT,{asChild:!0,children:c.jsxs(K,{variant:"outline",className:"w-full",children:[c.jsx(Sf,{className:"h-4 w-4 mr-2"}),r.filter(L=>L.price!==void 0&&L.price>0).length>0?"Invite Someone to Split":"Invite Someone to TaskaLoop"]})}),c.jsxs(pr,{className:"max-h-[90vh] overflow-y-auto",children:[c.jsx(mr,{children:c.jsx(gr,{children:r.filter(L=>L.price!==void 0&&L.price>0).length>0?"Invite Someone to Split Expenses":"Invite Someone to TaskaLoop"})}),c.jsxs("div",{className:"space-y-4 py-2",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"invite-email",children:"Email Address"}),c.jsx(Ue,{id:"invite-email",type:"email",placeholder:"Enter their email address",value:C,onChange:L=>A(L.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{children:"Select items to split"}),r.filter(L=>L.price!==void 0&&L.price>0).length>0?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:r.filter(L=>L.price!==void 0&&L.price>0).map(L=>c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Oc,{id:`expense-item-${L.id}`,checked:I.includes(L.id),onCheckedChange:q=>{j(q?G=>[...G,L.id]:G=>G.filter(ye=>ye!==L.id))}}),c.jsxs(ce,{htmlFor:`expense-item-${L.id}`,className:"flex-1 cursor-pointer",children:[L.name," - $",((L.price||0)*L.quantity).toFixed(2)]})]},L.id))}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Selected total: $",r.filter(L=>I.includes(L.id)).reduce((L,q)=>L+(q.price||0)*q.quantity,0).toFixed(2)]})]}):c.jsxs("div",{className:"p-4 border border-dashed rounded-lg text-center",children:[c.jsx(_o,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No items with prices found in this trip."}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"You can still invite someone to join TaskaLoop and coordinate future trips together!"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"invite-message",children:"Custom Message (optional)"}),c.jsx(yv,{id:"invite-message",placeholder:"Add a personal message...",value:T,onChange:L=>N(L.target.value),rows:4})]})]}),c.jsxs(_i,{children:[c.jsx(K,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),c.jsxs(K,{onClick:X,children:[c.jsx(io,{className:"h-4 w-4 mr-2"}),"Send Invitation"]})]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(K,{variant:"outline",onClick:$,className:"flex-1",children:[c.jsx(hse,{className:"h-4 w-4 mr-2"}),"Share"]}),c.jsxs(K,{variant:"outline",onClick:U,className:"flex-1",children:[c.jsx(gV,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})]})]}),F&&c.jsxs(Te,{children:[c.jsx(Fe,{className:"pb-3",children:c.jsx(Be,{className:"text-lg",children:"Your Summary"})}),c.jsxs(Ne,{className:"pb-3",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"You owe"}),c.jsxs("div",{className:"text-xl font-bold",children:["$",F.totalAmount.toFixed(2)]})]}),c.jsxs(mt,{variant:"outline",className:"text-xs",children:[F.itemCount," items"]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-medium",children:"Settle up with:"}),B.map(L=>c.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg border bg-card",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(zr,{className:"h-8 w-8",children:c.jsx(Wr,{className:"text-xs",children:L.userName.charAt(0)})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:L.userName}),c.jsx("div",{className:"text-xs text-muted-foreground",children:Y()===L.userName?"Paid for this trip":"Sharing cost"})]})]}),c.jsxs(K,{variant:"outline",size:"sm",onClick:()=>H(L.userId),disabled:!i,children:[c.jsx(SV,{className:"h-3.5 w-3.5 mr-2"}),"Pay $",L.totalAmount.toFixed(2)]})]},L.userId)),B.length===0&&c.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[c.jsx(ti,{className:"h-8 w-8 mx-auto mb-2"}),c.jsx("p",{children:"No other participants to settle with."})]})]})]})]})]})},TJ=({suggestions:t,value:e,onChange:r,onSelect:n,placeholder:i})=>{const[a,o]=b.useState([]),[s,l]=b.useState(!1),u=b.useRef(null);b.useEffect(()=>{if(e){const f=t.filter(h=>h.toLowerCase().indexOf(e.toLowerCase())>-1);o(f),l(!0)}else o([]),l(!1)},[e,t]),b.useEffect(()=>{const f=h=>{u.current&&!u.current.contains(h.target)&&l(!1)};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[]);const d=f=>{n(f),l(!1)};return c.jsxs("div",{ref:u,className:"relative w-full",children:[c.jsx(Ue,{type:"text",value:e,onChange:f=>r(f.target.value),placeholder:i}),s&&a.length>0&&c.jsx(Te,{className:"absolute z-10 w-full mt-1 overflow-hidden rounded-md shadow-lg",children:c.jsx(Ne,{className:"p-2 max-h-60 overflow-y-auto",children:c.jsx("ul",{className:"space-y-1",children:a.map((f,h)=>c.jsx("li",{onClick:()=>d(f),className:"px-3 py-2 text-sm rounded-md cursor-pointer hover:bg-accent",children:f},h))})})})]})},xv=t=>t.toLowerCase().trim(),$Be=t=>xv(t),FBe=()=>{try{const t=localStorage.getItem("priceHistory");if(t)return JSON.parse(t)}catch(t){console.error("Failed to load price history:",t)}return{}},BBe=t=>{try{localStorage.setItem("priceHistory",JSON.stringify(t))}catch(e){console.error("Failed to save price history:",e)}},UBe=(t,e,r,n=1,i)=>{const a=FBe(),o=$Be(t),s={itemName:t,price:e,store:r,date:new Date().toISOString(),quantity:n,unit:i};a[o]||(a[o]=[]),a[o].push(s),a[o].length>10&&(a[o]=a[o].slice(-10)),BBe(a)},VBe=(t,e)=>{const r=xv(t);return e.find(i=>xv(i.name)===r)||null},zBe=(t,e,r=.75)=>{const n=xv(t),i=n.split(" ");return n.length<3||i.length===0?[]:e.map(o=>{const s=xv(o.name),l=s.split(" ");if(s.length<3||l.length===0)return{item:o,confidence:0};let u=0;for(const p of i)p.length<=2||l.some(m=>m.includes(p)||p.includes(m))&&u++;const d=u/Math.max(i.length,l.length),f=1-HBe(n,s)/Math.max(n.length,s.length),h=d*.7+f*.3;return{item:o,confidence:h}}).filter(o=>o.confidence>=r).sort((o,s)=>s.confidence-o.confidence)},WBe=(t,e)=>{const r=VBe(t,e);if(r)return{type:"duplicate",newItemName:t,existingItem:r,confidence:100,message:`"${r.name}" is already on your list (${r.quantity}x)`};const n=zBe(t,e);if(n.length>0){const i=n[0],a=Math.round(i.confidence*100);return{type:"similar",newItemName:t,existingItem:i.item,confidence:a,message:`"${t}" might be similar to "${i.item.name}" already on your list (${a}% match)`}}return null};function HBe(t,e){const r=Array(e.length+1).fill(null).map(()=>Array(t.length+1).fill(null));for(let n=0;n<=t.length;n+=1)r[0][n]=n;for(let n=0;n<=e.length;n+=1)r[n][0]=n;for(let n=1;n<=e.length;n+=1)for(let i=1;i<=t.length;i+=1){const a=t[i-1]===e[n-1]?0:1;r[n][i]=Math.min(r[n][i-1]+1,r[n-1][i]+1,r[n-1][i-1]+a)}return r[e.length][t.length]}const NJ=["Apple","Banana","Orange","Grape","Strawberry","Blueberry","Raspberry","Blackberry","Watermelon","Cantaloupe","Honeydew","Pineapple","Mango","Peach","Nectarine","Plum","Cherry","Pear","Kiwi","Lemon","Lime","Grapefruit","Pomegranate","Avocado","Coconut","Fig","Guava","Papaya","Passion Fruit","Apricot"],IJ=["Carrot","Broccoli","Spinach","Kale","Arugula","Potato","Sweet Potato","Onion","Garlic","Bell Pepper","Tomato","Cucumber","Zucchini","Eggplant","Cabbage","Lettuce","Celery","Mushroom","Asparagus","Cauliflower","Green Beans","Peas","Corn","Radish","Beet","Artichoke","Leek","Scallion","Ginger","Turnip","Collard Greens","Swiss Chard","Bok Choy","Okra","Pumpkin","Squash","Brussels Sprouts","Fennel","Kohlrabi","Parsnip"],GBe=[{id:"ea",name:"Each"},{id:"kg",name:"Kilograms"},{id:"g",name:"Grams"},{id:"lb",name:"Pounds"},{id:"oz",name:"Ounces"},{id:"l",name:"Liters"},{id:"ml",name:"Milliliters"},{id:"pkg",name:"Package"},{id:"box",name:"Box"},{id:"can",name:"Can"},{id:"bottle",name:"Bottle"}],qBe=[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"bi-weekly",label:"Bi-weekly"},{value:"monthly",label:"Monthly"}],KBe=({isOpen:t,onClose:e,trip:r,onAddItem:n,onRemoveItem:i,onToggleItemCheck:a,onInviteParticipant:o,onCompleteTrip:s,onReactivateTrip:l,onUpdateItemPrice:u,onSettleUp:d,onUpdateItemUnit:f})=>{const[h,p]=b.useState(""),[m,g]=b.useState(1),[v,x]=b.useState(void 0),[y,w]=b.useState("ea"),[S,E]=b.useState("items"),[C,A]=b.useState(!1),[T,N]=b.useState(""),[I,j]=b.useState(null),[O,P]=b.useState(!1),[M,F]=b.useState(null),[B,W]=b.useState(!1),[$,U]=b.useState(void 0),[X,H]=b.useState(!1),{pantryItems:Y}=_j(),[Q,ue]=b.useState(""),{toast:de}=cn(),he=b.useMemo(()=>{const ie=Y.map(ne=>ne.name);return Array.from(new Set([...NJ,...IJ,...ie]))},[Y]);b.useEffect(()=>{t&&(p(""),g(1),x(void 0),w("ea"),W(!1),U(void 0),E("items"))},[t]),b.useEffect(()=>{if(h.trim()){const ie=Ow(h);w(ie.id)}},[h]);const pe=ie=>{if(ie.preventDefault(),!r||!h.trim())return;B&&$&&OT(new Date,$);const ne={name:h,quantity:m,price:v,unit:y,checked:!1,addedBy:{name:"You",avatar:"https://example.com/you.jpg"},isRecurring:B,recurrenceFrequency:B?$:void 0},Oe=WBe(h,r.items);if(Oe){j(Oe),P(!0),F(ne);return}J(ne)},J=ie=>{r&&(n(r.id,ie),ie.price&&UBe(ie.name,ie.price,r.store,ie.quantity),p(""),g(1),x(void 0),w("ea"),W(!1),U(void 0),navigator.vibrate&&navigator.vibrate(50),de({title:"Item Added",description:`"${ie.name}" has been added to the trip.`}))},re=()=>{M&&(J(M),F(null))},L=(ie,ne)=>{r&&(r.items.map(Oe=>Oe.id===ie.id?{...Oe,quantity:Oe.quantity+ne}:Oe),p(""),g(1),x(void 0),F(null))},q=ie=>{p(ie.name),g(ie.quantity),x(ie.price),F(null)},G=ie=>{p(ie.name),ie.defaultPrice&&x(ie.defaultPrice);const ne={name:ie.name,quantity:1,price:ie.defaultPrice,unit:ie.unit||"ea",checked:!1,addedBy:{name:"You",avatar:"https://example.com/you.jpg"},isRecurring:!1,recurrenceFrequency:void 0};r&&(n(r.id,ne),p(""),g(1),x(void 0),w("ea"),A(!1))},ye=ie=>{if(!r||(console.log("Received items from parser:",ie),ie.length===0))return;const ne=[];ie.forEach(Oe=>{r.items.some(le=>le.name.toLowerCase()===Oe.name.toLowerCase())||ne.push(Oe)}),ne.length>0&&(console.log("Adding non-duplicate items to trip:",ne),ne.forEach(Oe=>{n(r.id,Oe)}))},me=ie=>{if(!r)return;if(r.items.find(Z=>Z.name.toLowerCase()===ie.name.toLowerCase())){de({title:"Item Already Added",description:`"${ie.name}" is already in this trip.`,variant:"destructive"});return}const Oe={name:ie.name,quantity:1,unit:"ea",checked:!1,addedBy:{name:"You",avatar:"https://example.com/you.jpg"}};n(r.id,Oe),de({title:"Added from Pantry",description:`"${ie.name}" has been added to your trip.`}),navigator.vibrate&&navigator.vibrate(50)};return r?(r.shopper&&r.shopper.name,r.items.reduce((ie,ne)=>ie+(ne.price||0),0),r.participants.map(ie=>({...ie,avatar:ie.avatar||`https://api.dicebear.com/7.x/avatars/svg?seed=${ie.id}`})),c.jsxs(_r,{open:t,onOpenChange:e,children:[c.jsxs(pr,{className:"max-w-4xl h-[90vh] bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[c.jsx(mr,{className:"animate-fade-in",children:c.jsxs(gr,{className:"flex items-center gap-2",children:[c.jsx(Ig,{})," ",r.store]})}),c.jsxs(Nc,{value:S,onValueChange:E,className:"mt-4 animate-slide-up",children:[c.jsxs(el,{className:"dark:bg-slate-800",children:[c.jsx(sr,{value:"items",children:"Items"}),c.jsx(sr,{value:"pantry",children:"Add from Pantry"}),c.jsx(sr,{value:"details",children:"Details"}),c.jsx(sr,{value:"cost",children:"Cost Split"})]}),c.jsx(jr,{value:"items",className:"mt-4",children:c.jsx("div",{className:"bg-gradient-to-br from-blue-100 via-indigo-100 to-purple-100 dark:from-blue-900/50 dark:via-indigo-900/50 dark:to-purple-900/50 rounded-xl p-6 border-2 border-blue-200 dark:border-blue-700/50 shadow-lg",children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:c.jsxs("div",{className:"animate-slide-in",children:[c.jsx("h3",{className:"text-lg font-medium dark:text-slate-200 mb-4",children:"Add Item"}),c.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"name",className:"dark:text-slate-300",children:"Item Name"}),c.jsx(TJ,{suggestions:he,value:h,onChange:p,onSelect:p,placeholder:"Enter item name"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"quantity",className:"dark:text-slate-300",children:"Quantity"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Ue,{id:"quantity",type:"number",value:m,onChange:ie=>g(Number(ie.target.value)),min:1,className:"w-24 dark:bg-slate-800 dark:border-slate-700"}),c.jsxs($t,{value:y,onValueChange:w,children:[c.jsx(Ot,{className:"w-24 dark:bg-slate-800 dark:border-slate-700",children:c.jsx(Ft,{placeholder:"Unit"})}),c.jsx(jt,{className:"dark:bg-slate-800 dark:border-slate-700",children:GBe.map(ie=>c.jsx(Se,{value:ie.id,children:ie.name},ie.id))})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"price",className:"dark:text-slate-300",children:"Price (optional)"}),c.jsx(Ue,{id:"price",type:"number",value:v||"",onChange:ie=>x(Number(ie.target.value)),placeholder:"0.00",step:"0.01",min:"0",className:"dark:bg-slate-800 dark:border-slate-700"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Oc,{id:"recurring",checked:B,onCheckedChange:ie=>W(ie)}),c.jsx(ce,{htmlFor:"recurring",className:"dark:text-slate-300",children:"Add to recurring items"})]}),B&&c.jsxs("div",{className:"space-y-2 animate-fade-in",children:[c.jsx(ce,{htmlFor:"frequency",className:"dark:text-slate-300",children:"Recurrence Frequency"}),c.jsxs($t,{value:$||"",onValueChange:ie=>U(ie),children:[c.jsx(Ot,{className:"dark:bg-slate-800 dark:border-slate-700",children:c.jsx(Ft,{placeholder:"Select frequency"})}),c.jsx(jt,{className:"dark:bg-slate-800 dark:border-slate-700",children:qBe.map(ie=>c.jsx(Se,{value:ie.value,children:ie.label},ie.value))})]})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsxs(K,{type:"button",variant:"outline",onClick:()=>H(!0),className:"hover:scale-105 transition-transform duration-200 dark:border-slate-600 dark:text-slate-300",children:[c.jsx(ase,{className:"h-4 w-4 mr-2"}),"Smart Add"]}),c.jsxs(K,{type:"submit",className:"hover:scale-105 transition-transform duration-200",children:[c.jsx(Or,{className:"h-4 w-4 mr-2"}),"Add Item"]})]})]})]})})})}),c.jsx(jr,{value:"pantry",className:"mt-4",children:c.jsxs("div",{className:"bg-gradient-to-br from-emerald-100 via-green-100 to-teal-100 dark:from-emerald-900/50 dark:via-green-900/50 dark:to-teal-900/50 rounded-xl p-6 border-2 border-emerald-200 dark:border-emerald-700/50 shadow-lg",children:[c.jsx("h3",{className:"text-lg font-medium dark:text-slate-200 mb-4",children:"Add from Pantry"}),c.jsx(Ue,{type:"search",placeholder:"Search pantry items...",value:Q,onChange:ie=>ue(ie.target.value),className:"mb-4 dark:bg-slate-800 dark:border-slate-700"}),c.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:(()=>{const ie=Y.filter(ne=>ne.name.toLowerCase().includes(Q.toLowerCase())&&!r.items.some(Oe=>Oe.name.toLowerCase()===ne.name.toLowerCase()));return Y.length===0?c.jsxs("div",{className:"text-center py-8 animate-fade-in",children:[c.jsx(Hn,{className:"h-12 w-12 mx-auto text-emerald-400 dark:text-emerald-500 mb-4"}),c.jsx("h4",{className:"text-lg font-medium text-slate-700 dark:text-slate-300 mb-2",children:"No Pantry Items"}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"You don't have any items in your pantry yet."}),c.jsxs(K,{variant:"outline",onClick:()=>window.open("/pantry","_blank"),className:"hover:scale-105 transition-transform duration-200",children:[c.jsx(Or,{className:"h-4 w-4 mr-2"}),"Add Items to Pantry"]})]}):ie.length===0?c.jsxs("div",{className:"text-center py-8 animate-fade-in",children:[c.jsx(Zb,{className:"h-12 w-12 mx-auto text-emerald-400 dark:text-emerald-500 mb-4"}),c.jsx("h4",{className:"text-lg font-medium text-slate-700 dark:text-slate-300 mb-2",children:Q?"No Matching Items":"All Items Already Added"}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:Q?`No pantry items match "${Q}"`:"All your pantry items are already in this trip"}),Q&&c.jsxs(K,{variant:"outline",onClick:()=>ue(""),className:"hover:scale-105 transition-transform duration-200",children:[c.jsx(Mi,{className:"h-4 w-4 mr-2"}),"Clear Search"]})]}):c.jsx("div",{className:"space-y-2",children:ie.map((ne,Oe)=>c.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-white/50 dark:hover:bg-slate-800/50 rounded-lg border border-emerald-200/50 dark:border-emerald-700/30 transition-all duration-200 animate-slide-in",style:{animationDelay:`${Oe*50}ms`},children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-200",children:ne.name}),c.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[c.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["In stock: ",c.jsx("span",{className:"font-medium",children:ne.quantity})]}),ne.category&&c.jsx(mt,{variant:"secondary",className:"text-xs",children:ne.category}),ne.lowStock&&c.jsx(mt,{variant:"destructive",className:"text-xs",children:"Low Stock"})]})]}),c.jsxs(K,{size:"sm",variant:"outline",onClick:()=>me(ne),className:"hover:scale-105 transition-transform duration-200 border-emerald-300 hover:border-emerald-400 hover:bg-emerald-50 dark:border-emerald-600 dark:hover:border-emerald-500 dark:hover:bg-emerald-900/20",children:[c.jsx(Or,{className:"h-4 w-4 mr-2"})," Add"]})]},ne.id))})})()})]})}),c.jsx(jr,{value:"details",className:"mt-4",children:c.jsxs("div",{className:"bg-gradient-to-br from-amber-100 via-orange-100 to-red-100 dark:from-amber-900/50 dark:via-orange-900/50 dark:to-red-900/50 rounded-xl p-6 border-2 border-amber-200 dark:border-amber-700/50 shadow-lg",children:[c.jsx("h3",{className:"text-lg font-medium dark:text-slate-200 mb-4",children:"Trip Details"}),c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Store"}),c.jsx("p",{className:"text-lg font-semibold",children:r.store})]}),c.jsxs("div",{children:[c.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Status"}),c.jsx(mt,{variant:r.status==="completed"?"success":"default",className:"ml-2",children:r.status})]}),c.jsxs("div",{children:[c.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Date"}),c.jsx("p",{className:"text-lg",children:Yt(new Date(r.date),"PPP")})]}),c.jsxs("div",{children:[c.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"ETA"}),c.jsx("p",{className:"text-lg",children:r.eta})]})]})})]})}),c.jsx(jr,{value:"cost",className:"mt-4",children:c.jsxs("div",{className:"bg-gradient-to-br from-violet-100 via-purple-100 to-fuchsia-100 dark:from-violet-900/50 dark:via-purple-900/50 dark:to-fuchsia-900/50 rounded-xl p-6 border-2 border-violet-200 dark:border-violet-700/50 shadow-lg",children:[c.jsx("h3",{className:"text-lg font-medium dark:text-slate-200 mb-4",children:"Cost Split"}),c.jsx(CJ,{items:r.items,participants:r.participants})]})})]})]}),c.jsx(CBe,{isOpen:C,onClose:()=>A(!1),barcode:T,onSave:G}),c.jsx(TBe,{isOpen:O,onClose:()=>P(!1),suggestion:I,onAddAnyway:re,onMergeItems:L,onUpdate:q}),c.jsx(bBe,{isOpen:X,onClose:()=>H(!1),onAddItems:ye})]})):null};function YBe(t,e){const n=(e.lat-t.lat)*Math.PI/180,i=(e.lng-t.lng)*Math.PI/180,a=t.lat*Math.PI/180,o=e.lat*Math.PI/180,s=Math.sin(n/2)*Math.sin(n/2)+Math.sin(i/2)*Math.sin(i/2)*Math.cos(a)*Math.cos(o);return 3959*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))}function XBe(t,e){const r=`${t.lat},${t.lng}`,n=e.map(i=>`${i.coordinates.lat},${i.coordinates.lng}`).join("|");return`https://www.google.com/maps/dir/?api=1&origin=${r}&destination=${e[0].coordinates.lat},${e[0].coordinates.lng}&waypoints=${n}`}function QBe(){const t=Ki(),{trips:e}=os(),[r,n]=b.useState("active"),[i,a]=b.useState(""),[o,s]=b.useState({item1:!1,item2:!1,item3:!1,item4:!1}),[l,u]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(500),{updateBudget:m}=os(),[g,v]=b.useState(null),[x,y]=b.useState(!0),[w,S]=b.useState(null),[E,C]=b.useState([]),[A,T]=b.useState(!1),[N,I]=b.useState(null),[j,O]=b.useState(!1),{pantryItems:P}=_j(),M=b.useMemo(()=>e.filter(J=>J.status!=="completed"&&J.status!=="cancelled"&&(i?J.store.toLowerCase().includes(i.toLowerCase()):!0)),[e,i]),F=e.filter(J=>(J.status==="completed"||J.status==="cancelled")&&(i?J.store.toLowerCase().includes(i.toLowerCase()):!0)),B=(J=!1)=>{y(!0),S(null);const re={enableHighAccuracy:J,timeout:J?15e3:5e3,maximumAge:0};navigator.geolocation.getCurrentPosition(L=>{v({lat:L.coords.latitude,lng:L.coords.longitude}),y(!1)},L=>{if(!J){B(!0);return}let q="Could not get your current location. Please enable location services in your browser settings.";L.code===L.PERMISSION_DENIED?q="Location access was denied. Please enable it in your browser settings to use location-based features.":L.code===L.POSITION_UNAVAILABLE?q="Your location information is currently unavailable. Please check your device's location services or try again.":L.code===L.TIMEOUT&&(q="Request for your location timed out. Please try again."),console.error("Error getting location:",L),S(q),y(!1)},re)};b.useEffect(()=>{B()},[]),b.useEffect(()=>{if(!g)return;const re=M.reduce((L,q)=>(q.coordinates&&!L.some(G=>G.name===q.store)&&L.push({name:q.store,coordinates:q.coordinates,tripId:q.id,distance:YBe(g,q.coordinates)}),L),[]).sort((L,q)=>L.distance-q.distance);C(re)},[g,M]);const W=()=>{u(!0)},$=()=>{T(!0)},U=()=>{u(!0)},X=()=>{f(!0)},H=()=>{if(w||!g||E.length===0)return;const J=XBe(g,E);window.open(J,"_blank")},Y=J=>{a(J.target.value)},Q=()=>{t("/map")},ue=J=>{if(J){const re=e.find(L=>L.id===J);re&&({...re},t(`/trip/${J}`))}},de=J=>{const re=e.find(L=>L.id===J);re&&(I(re),O(!0))},he=J=>{p(J),m(J)},pe=()=>c.jsx("div",{className:"space-y-2",children:x?c.jsxs("div",{className:"text-center py-3",children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-900 mx-auto"}),c.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Finding nearby stores..."})]}):g?E.length>0?E.slice(0,3).map((J,re)=>c.jsxs("div",{className:"flex justify-between items-center py-1 animate-fade-in",style:{animationDelay:`${re*100}ms`},children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(Ig,{className:"h-3 w-3 text-slate-500"}),c.jsx("span",{className:"text-xs text-slate-700 truncate",children:J.name})]}),c.jsx("span",{className:"text-xs text-slate-500",children:J.distance<1?`${(J.distance*1e3).toFixed(0)}m`:`${J.distance.toFixed(1)}km`})]},J.tripId)):c.jsx("div",{className:"text-center py-3",children:c.jsx("p",{className:"text-xs text-slate-500",children:"No stores in your trips"})}):c.jsx("div",{className:"text-center py-3",children:c.jsx("p",{className:"text-xs text-slate-500",children:"Location services not available"})})});return c.jsx(ha,{children:c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[c.jsxs("div",{className:"p-4 md:p-8 animate-fade-in",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8 animate-slide-down",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Shopping Trips"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Plan and manage your shopping trips"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(K,{variant:"outline",className:"border-slate-200 dark:border-slate-600 dark:text-slate-300 hover:scale-105 transition-transform duration-200",onClick:W,children:[c.jsx(Vu,{className:"h-4 w-4 mr-2"}),"Schedule"]}),c.jsxs(K,{className:"bg-teal-600 hover:bg-teal-700 dark:bg-teal-600 dark:hover:bg-teal-700 hover:scale-105 transition-transform duration-200",onClick:$,children:[c.jsx(Or,{className:"h-4 w-4 mr-2"}),"New Trip"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 animate-slide-up",children:[c.jsxs(Te,{className:"border-none shadow-sm dark:bg-slate-800 hover:shadow-lg transition-all duration-300 hover:scale-105",children:[c.jsxs(Fe,{className:"pb-3",children:[c.jsx(Be,{className:"text-base dark:text-slate-200",children:"Upcoming Trips"}),c.jsxs(tt,{className:"text-sm dark:text-slate-400",children:["You have ",M.length," trips scheduled"]})]}),c.jsxs(Ne,{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm animate-fade-in",children:[c.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"This week"}),c.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:[M.filter(J=>{const re=new Date(J.date),L=new Date,q=new Date(L.getTime()+7*24*60*60*1e3);return re>=L&&re<=q}).length," trips"]})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm animate-fade-in",style:{animationDelay:"100ms"},children:[c.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Next week"}),c.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:[M.filter(J=>{const re=new Date(J.date),L=new Date;L.setDate(L.getDate()+7);const q=new Date;return q.setDate(q.getDate()+14),re>=L&&re<=q}).length," trips"]})]})]}),c.jsx(Bt,{className:"pt-3",children:c.jsxs(K,{variant:"outline",className:"w-full border-slate-200 dark:border-slate-700 dark:text-slate-300 h-8 text-sm hover:scale-105 transition-transform duration-200",onClick:U,children:[c.jsx(Vu,{className:"h-3 w-3 mr-2"}),"View Calendar"]})})]}),c.jsxs(Te,{className:"border-none shadow-sm dark:bg-slate-800 hover:shadow-lg transition-all duration-300 hover:scale-105",children:[c.jsxs(Fe,{className:"pb-3",children:[c.jsx(Be,{className:"text-base dark:text-slate-200",children:"Budget Overview"}),c.jsx(tt,{className:"text-sm dark:text-slate-400",children:"May spending across all trips"})]}),c.jsxs(Ne,{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm animate-fade-in",children:[c.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Spent so far"}),c.jsx("span",{className:"font-medium text-slate-800 dark:text-slate-200",children:"$289.45"})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm animate-fade-in",style:{animationDelay:"100ms"},children:[c.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Monthly budget"}),c.jsxs("span",{className:"font-medium text-slate-800 dark:text-slate-200",children:["$",h.toFixed(2)]})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm animate-fade-in",style:{animationDelay:"200ms"},children:[c.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Remaining"}),c.jsxs("span",{className:"font-medium text-green-600 dark:text-green-400",children:["$",(h-289.45).toFixed(2)]})]})]}),c.jsx(Bt,{className:"pt-3",children:c.jsxs(K,{variant:"outline",className:"w-full border-slate-200 dark:border-slate-700 dark:text-slate-300 h-8 text-sm hover:scale-105 transition-transform duration-200",onClick:X,children:[c.jsx(Woe,{className:"h-3 w-3 mr-2"}),"Adjust Budget"]})})]}),c.jsxs(Te,{className:"border-none shadow-sm dark:bg-slate-800 hover:shadow-lg transition-all duration-300 hover:scale-105",children:[c.jsxs(Fe,{className:"pb-3",children:[c.jsx(Be,{className:"text-base dark:text-slate-200",children:"Nearby Stores"}),c.jsx(tt,{className:"text-sm dark:text-slate-400",children:"Sorted by distance from your location"})]}),c.jsx(Ne,{className:"min-h-[80px]",children:pe()}),c.jsx(Bt,{className:"pt-3",children:c.jsxs(K,{variant:"outline",className:"w-full border-slate-200 dark:border-slate-700 dark:text-slate-300 h-8 text-sm hover:scale-105 transition-transform duration-200",onClick:H,disabled:x||!g||E.length===0,children:[c.jsx(sa,{className:"h-3 w-3 mr-2"}),x?"Getting Location...":g?E.length===0?"No Stores to Show":"View on Map":"Location Not Available"]})})]})]}),c.jsxs(Nc,{defaultValue:"active",className:"w-full animate-fade-in",value:r,onValueChange:n,children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4 mb-4",children:[c.jsxs(el,{className:"w-full md:w-auto dark:bg-slate-800",children:[c.jsx(sr,{value:"active",children:"Active"}),c.jsx(sr,{value:"completed",children:"Completed"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Zb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-500"}),c.jsx(Ue,{type:"search",placeholder:"Search trips...",className:"pl-9 w-full md:w-[300px] dark:bg-slate-800 dark:border-slate-700",value:i,onChange:Y})]})]}),c.jsx(jr,{value:"active",className:"space-y-4",children:M.length>0?c.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:M.map((J,re)=>c.jsxs(Te,{className:"cursor-pointer hover:shadow-md transition-all duration-300 border-slate-200 hover:border-slate-300 dark:bg-slate-800 dark:border-slate-700 hover:scale-105 animate-slide-in",style:{animationDelay:`${re*100}ms`},onClick:()=>de(J.id),children:[c.jsx(Fe,{className:"pb-2",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(Be,{className:"text-base font-semibold dark:text-slate-200",children:J.store}),c.jsxs(tt,{className:"text-xs text-slate-600 dark:text-slate-400",children:[new Date(J.date).toLocaleDateString()," at ",J.time]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(mt,{variant:J.status==="shopping"?"default":"outline",className:"text-xs",children:J.status}),c.jsx(K,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:scale-110 transition-transform duration-200",onClick:L=>{L.stopPropagation(),ue(J.id)},title:"Start shopping",children:c.jsx(UC,{className:"h-3 w-3"})})]})]})}),c.jsx(Ne,{className:"pb-2",children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(ti,{className:"h-3 w-3 mr-1"}),c.jsx("span",{children:(J.participants||[]).length})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(lr,{className:"h-3 w-3 mr-1"}),c.jsx("span",{children:J.items.length})]}),J.budget&&c.jsx("div",{className:"flex items-center",children:c.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["$",J.budget.toFixed(0)]})})]}),c.jsxs("span",{className:"text-green-600 font-medium dark:text-green-400",children:[J.items.filter(L=>L.checked).length,"/",J.items.length]})]}),J.items.length>0&&c.jsx(Yg,{value:J.items.filter(L=>L.checked).length/J.items.length*100,className:"h-1"}),J.items.length>0&&c.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[c.jsx("span",{className:"font-medium",children:"Items: "}),J.items.slice(0,3).map((L,q)=>c.jsxs("span",{className:L.checked?"line-through text-gray-400 dark:text-gray-500":"",children:[L.name,q<Math.min(2,J.items.length-1)?", ":""]},L.id)),J.items.length>3&&c.jsxs("span",{className:"text-gray-400 dark:text-gray-500",children:[" +",J.items.length-3," more"]})]})]})}),c.jsxs(Bt,{className:"flex justify-between items-center pt-1 pb-2",children:[c.jsxs("div",{className:"flex -space-x-1",children:[(J.participants||[]).slice(0,2).map(L=>c.jsxs(zr,{className:"h-5 w-5 border border-background",children:[c.jsx(Xu,{src:L.avatar}),c.jsx(Wr,{className:"text-xs",children:L.name[0]})]},L.id)),(J.participants||[]).length>2&&c.jsx("div",{className:"h-5 w-5 rounded-full bg-gray-200 dark:bg-gray-700 border border-background flex items-center justify-center",children:c.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:["+",(J.participants||[]).length-2]})})]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx(K,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs hover:scale-105 transition-transform duration-200",onClick:L=>{L.stopPropagation(),t(`/trip/${J.id}`)},children:"Open"}),c.jsx(K,{variant:"outline",size:"sm",className:"h-6 px-2 text-xs hover:scale-105 transition-transform duration-200",onClick:L=>{L.stopPropagation(),Q()},children:"Directions"})]})]})]},J.id))}):c.jsxs("div",{className:"text-center py-8 animate-fade-in",children:[c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-3 text-sm",children:"No active trips"}),c.jsxs(K,{onClick:()=>T(!0),className:"h-8 text-sm hover:scale-105 transition-transform duration-200",children:[c.jsx(Or,{className:"h-3 w-3 mr-2"}),"Create New Trip"]})]})}),c.jsx(jr,{value:"completed",className:"space-y-4",children:F.length>0?c.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:F.map((J,re)=>c.jsxs(Te,{className:"cursor-pointer hover:shadow-md transition-all duration-300 border-slate-200 hover:border-slate-300 dark:bg-slate-800 dark:border-slate-700 hover:scale-105 animate-slide-in",style:{animationDelay:`${re*100}ms`},onClick:()=>de(J.id),children:[c.jsx(Fe,{className:"pb-2",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(Be,{className:"text-base font-semibold dark:text-slate-200",children:J.store}),c.jsxs(tt,{className:"text-xs text-slate-600 dark:text-slate-400",children:[new Date(J.date).toLocaleDateString()," at ",J.time]})]}),c.jsx(mt,{variant:"secondary",className:"text-xs",children:J.status})]})}),c.jsx(Ne,{className:"pb-2",children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(ti,{className:"h-3 w-3 mr-1"}),c.jsx("span",{children:(J.participants||[]).length})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(lr,{className:"h-3 w-3 mr-1"}),c.jsx("span",{children:J.items.length})]}),J.actualSpent&&c.jsx("div",{className:"flex items-center",children:c.jsxs("span",{className:"text-green-600 font-medium dark:text-green-400",children:["$",J.actualSpent.toFixed(0)]})})]}),c.jsxs("span",{className:"text-green-600 font-medium dark:text-green-400",children:[J.items.filter(L=>L.checked).length,"/",J.items.length," completed"]})]}),J.items.length>0&&c.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[c.jsx("span",{className:"font-medium",children:"Purchased: "}),J.items.filter(L=>L.checked).slice(0,3).map((L,q,G)=>c.jsxs("span",{children:[L.name,L.price?` ($${L.price.toFixed(2)})`:"",q<G.length-1?", ":""]},L.id)),J.items.filter(L=>L.checked).length>3&&c.jsxs("span",{className:"text-gray-400 dark:text-gray-500",children:[" +",J.items.filter(L=>L.checked).length-3," more"]})]})]})}),c.jsxs(Bt,{className:"flex justify-between items-center pt-1 pb-2",children:[c.jsxs("div",{className:"flex -space-x-1",children:[(J.participants||[]).slice(0,2).map(L=>c.jsxs(zr,{className:"h-5 w-5 border border-background",children:[c.jsx(Xu,{src:L.avatar}),c.jsx(Wr,{className:"text-xs",children:L.name[0]})]},L.id)),(J.participants||[]).length>2&&c.jsx("div",{className:"h-5 w-5 rounded-full bg-gray-200 dark:bg-gray-700 border border-background flex items-center justify-center",children:c.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:["+",(J.participants||[]).length-2]})})]}),c.jsx(K,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs hover:scale-105 transition-transform duration-200",onClick:L=>{L.stopPropagation(),t(`/trip/${J.id}`)},children:"View Details"})]})]},J.id))}):c.jsx("div",{className:"text-center py-8 animate-fade-in",children:c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No completed trips"})})})]})]}),c.jsx(lBe,{isOpen:l,onClose:()=>u(!1)}),c.jsx(cBe,{isOpen:d,onClose:()=>f(!1),currentBudget:h,onSave:he}),c.jsx(hBe,{open:A,onOpenChange:T}),N&&c.jsx(KBe,{isOpen:j,onClose:()=>O(!1),trip:N,onAddItem:()=>{},onRemoveItem:()=>{},onToggleItemCheck:()=>{},onInviteParticipant:()=>{},onCompleteTrip:()=>{}})]})})}const $L=t=>{const e={high:3,medium:2,low:1},r=new Date().getTime(),n=t.dueDate?new Date(t.dueDate).getTime():r+7*24*60*60*1e3,i=Math.max(1,(n-r)/(1e3*60*60*24));return e[t.priority]*(1+1/i)},ZBe=(t,e)=>{var r,n;return{startLocation:{lat:t.start_location.lat(),lng:t.start_location.lng()},endLocation:{lat:t.end_location.lat(),lng:t.end_location.lng()},distance:((r=t.distance)==null?void 0:r.text)||"0 km",duration:((n=t.duration)==null?void 0:n.text)||"0 mins",priority:e}},JBe=async(t,e,r)=>{const n=new google.maps.DirectionsService,i=[...e].sort((s,l)=>$L(l)-$L(s)),a=r.maxStops?i.slice(0,r.maxStops):i,o=a.map(s=>({location:new google.maps.LatLng(s.location.lat,s.location.lng),stopover:!0}));try{const s=await n.route({origin:t,destination:r.returnToStart?t:o[o.length-1].location,waypoints:r.returnToStart?o:o.slice(0,-1),optimizeWaypoints:!0,travelMode:google.maps.TravelMode[r.transportMode||"DRIVING"],avoidHighways:r.avoidHighways,avoidTolls:r.avoidTolls,drivingOptions:r.considerTraffic?{departureTime:new Date,trafficModel:google.maps.TrafficModel.BEST_GUESS}:void 0});if(!s.routes[0])throw new Error("No route found");const l=s.routes[0],u=[];let d=0,f=0;return l.legs.forEach((p,m)=>{var v,x;const g=a[m];u.push(ZBe(p,(g==null?void 0:g.priority)||"medium")),d+=((v=p.distance)==null?void 0:v.value)||0,f+=((x=p.duration)==null?void 0:x.value)||0}),{waypoints:o.map(p=>({location:{lat:p.location.lat(),lng:p.location.lng()},stopover:p.stopover})),totalDistance:d,totalDuration:f,segments:u,alternativeRoutes:l.legs.length>1?[]:void 0}}catch(s){throw console.error("Error calculating optimal route:",s),s}};var o3="Switch",[eUe,Xlt]=Va(o3),[tUe,rUe]=eUe(o3),PJ=b.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:l="on",onCheckedChange:u,form:d,...f}=t,[h,p]=b.useState(null),m=et(e,w=>p(w)),g=b.useRef(!1),v=h?d||!!h.closest("form"):!0,[x=!1,y]=ts({prop:i,defaultProp:a,onChange:u});return c.jsxs(tUe,{scope:r,checked:x,disabled:s,children:[c.jsx(Le.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":kJ(x),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:m,onClick:be(t.onClick,w=>{y(S=>!S),v&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),v&&c.jsx(nUe,{control:h,bubbles:!g.current,name:n,value:l,checked:x,required:o,disabled:s,form:d,style:{transform:"translateX(-100%)"}})]})});PJ.displayName=o3;var OJ="SwitchThumb",jJ=b.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=rUe(OJ,r);return c.jsx(Le.span,{"data-state":kJ(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});jJ.displayName=OJ;var nUe=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,a=b.useRef(null),o=uk(r),s=gO(e);return b.useEffect(()=>{const l=a.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(l,r),l.dispatchEvent(h)}},[o,r,n]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...t.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function kJ(t){return t?"checked":"unchecked"}var RJ=PJ,iUe=jJ;const Pi=b.forwardRef(({className:t,onCheckedChange:e,...r},n)=>{const i=a=>{a?Ss.success():Ss.light(),e&&e(a)};return c.jsx(RJ,{className:je("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),onCheckedChange:i,...r,ref:n,children:c.jsx(iUe,{className:je("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});Pi.displayName=RJ.displayName;const aUe=({preferences:t,onPreferencesChange:e})=>{const r=(i,a)=>{e({...t,[i]:a})},n={DRIVING:c.jsx(Tx,{className:"h-4 w-4"}),WALKING:c.jsx(use,{className:"h-4 w-4"}),TRANSIT:c.jsx(vse,{className:"h-4 w-4"}),BICYCLING:c.jsx(zoe,{className:"h-4 w-4"})};return c.jsxs("div",{className:"space-y-4 p-4 premium-card rounded-lg",children:[c.jsx("h3",{className:"font-semibold mb-3",children:"Route Preferences"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{children:"Transport Mode"}),c.jsxs($t,{value:t.transportMode||"DRIVING",onValueChange:i=>r("transportMode",i),children:[c.jsx(Ot,{className:"w-full",children:c.jsx(Ft,{})}),c.jsx(jt,{children:Object.entries(n).map(([i,a])=>c.jsx(Se,{value:i,children:c.jsxs("div",{className:"flex items-center gap-2",children:[a,c.jsx("span",{children:i.charAt(0)+i.slice(1).toLowerCase()})]})},i))})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(ce,{htmlFor:"avoid-highways",children:"Avoid Highways"}),c.jsx(Pi,{id:"avoid-highways",checked:t.avoidHighways,onCheckedChange:i=>r("avoidHighways",i)})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(ce,{htmlFor:"avoid-tolls",children:"Avoid Tolls"}),c.jsx(Pi,{id:"avoid-tolls",checked:t.avoidTolls,onCheckedChange:i=>r("avoidTolls",i)})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(ce,{htmlFor:"return-start",children:"Return to Start"}),c.jsx(Pi,{id:"return-start",checked:t.returnToStart,onCheckedChange:i=>r("returnToStart",i)})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(ce,{htmlFor:"consider-traffic",children:"Consider Traffic"}),c.jsx(Pi,{id:"consider-traffic",checked:t.considerTraffic,onCheckedChange:i=>r("considerTraffic",i)})]})]})]})]})};function oUe(){const{toast:t}=cn(),{tasks:e,trips:r,addTask:n}=os(),[i,a]=b.useState({lat:39.9789,lng:-82.8677}),[o,s]=b.useState(!0),[l,u]=b.useState(null),[d,f]=b.useState(!1),[h,p]=b.useState({avoidHighways:!1,avoidTolls:!1,transportMode:"DRIVING",returnToStart:!0,considerTraffic:!0,maxStops:void 0}),[m,g]=b.useState(null),[v,x]=b.useState(!1),y=b.useRef(null),w=b.useRef(null),S=b.useRef([]),E=b.useRef(null),C=b.useRef(null),A=b.useRef(!1);b.useEffect(()=>{if(console.log("Initializing geolocation..."),A.current)return;A.current=!0;const O=setTimeout(()=>{console.log("Geolocation timed out, using default location"),s(!1)},5e3);return navigator.geolocation?navigator.geolocation.getCurrentPosition(P=>{console.log("Successfully got user location"),clearTimeout(O),a({lat:P.coords.latitude,lng:P.coords.longitude}),s(!1)},P=>{console.log("Geolocation error:",P.message),clearTimeout(O),s(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):(console.log("Geolocation not supported, using default location"),clearTimeout(O),s(!1)),()=>clearTimeout(O)},[]),b.useEffect(()=>{if(o)return;(async()=>{if(!y.current){console.error("Map container not ready");return}if(w.current){console.log("Map already initialized");return}try{console.log("Initializing Google Maps..."),await fBe(),console.log("Creating map instance..."),w.current=new google.maps.Map(y.current,{center:i,zoom:12,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,zoomControl:!0,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]}),E.current=new google.maps.InfoWindow,console.log("Adding markers..."),T(),t({title:"Map loaded",description:"Google Maps has been loaded successfully."})}catch(P){console.error("Failed to initialize map:",P),t({title:"Map loading failed",description:"There was an error loading the map. Please try again.",variant:"destructive"})}})()},[o,i]);const T=()=>{if(!w.current||!window.google)return;S.current.forEach(M=>M.setMap(null)),S.current=[];const O=new google.maps.Marker({position:i,map:w.current,title:"Your Location",label:{text:"A",color:"white",fontSize:"14px",fontWeight:"bold"},icon:{path:google.maps.SymbolPath.CIRCLE,fillColor:"#2563EB",fillOpacity:1,strokeWeight:3,strokeColor:"#FFFFFF",scale:14,labelOrigin:new google.maps.Point(0,0)}});S.current.push(O);let P=1;e.filter(M=>M.coordinates).forEach(M=>{const F=String.fromCharCode(65+P),B=new google.maps.Marker({position:{lat:M.coordinates.lat,lng:M.coordinates.lng},map:w.current,title:M.title,label:{text:F,color:"white",fontSize:"14px",fontWeight:"bold"},icon:{path:google.maps.SymbolPath.CIRCLE,fillColor:"#EF4444",fillOpacity:1,strokeWeight:2,strokeColor:"#FFFFFF",scale:12,labelOrigin:new google.maps.Point(0,0)}});B.addListener("click",()=>{u(M),E.current&&(E.current.setContent(`
            <div>
              <h4>${M.title}</h4>
              <p>${M.location}</p>
              <p>Priority: ${M.priority}</p>
              <p>Due: ${Yt(new Date(M.dueDate),"PPP")}</p>
            </div>
          `),E.current.open(w.current,B))}),S.current.push(B),P++}),r.filter(M=>M.coordinates&&M.status!=="completed"&&M.status!=="cancelled").forEach(M=>{const F=M.coordinates,B=String.fromCharCode(65+P),W=new google.maps.Marker({position:{lat:F.lat,lng:F.lng},map:w.current,title:M.store,label:{text:B,color:"white",fontSize:"14px",fontWeight:"bold"},icon:{path:google.maps.SymbolPath.CIRCLE,fillColor:"#3B82F6",fillOpacity:1,strokeWeight:2,strokeColor:"#FFFFFF",scale:12,labelOrigin:new google.maps.Point(0,0)}});W.addListener("click",()=>{E.current&&(E.current.setContent(`
            <div>
              <h4>Trip to ${M.store}</h4>
              <p>ETA: ${M.eta}</p>
              <p>Status: ${M.status}</p>
              <p>Items: ${M.items.length}</p>
            </div>
          `),E.current.open(w.current,W))}),S.current.push(W),P++}),console.log(`Created ${S.current.length} markers on map`)};b.useEffect(()=>{w.current&&T()},[e,r,i]);const N=O=>{p(O)},I=async()=>{if(!w.current||!window.google)return;const O=e.filter(F=>F.coordinates).map(F=>({location:{lat:F.coordinates.lat,lng:F.coordinates.lng},priority:F.priority,dueDate:new Date(F.dueDate)})),P=r.filter(F=>F.coordinates&&F.status!=="completed"&&F.status!=="cancelled").map(F=>({location:{lat:F.coordinates.lat,lng:F.coordinates.lng},priority:"medium",dueDate:new Date(F.date)})),M=[...O,...P];if(M.length===0){t({title:"No locations to optimize",description:"Add some tasks or trips with locations to optimize your route.",variant:"destructive"});return}try{const F=new google.maps.LatLng(i.lat,i.lng),B=await JBe(F,M,h);g(B),C.current&&C.current.setMap(null),C.current=new google.maps.DirectionsRenderer({draggable:!0,panel:document.createElement("div")}),C.current.setMap(w.current);const W=B.waypoints.slice(0,-1).map(H=>({location:new google.maps.LatLng(H.location.lat,H.location.lng),stopover:!0})),$=new google.maps.DirectionsService,U=h.returnToStart?new google.maps.LatLng(i.lat,i.lng):new google.maps.LatLng(B.waypoints[B.waypoints.length-1].location.lat,B.waypoints[B.waypoints.length-1].location.lng),X={origin:F,destination:U,waypoints:W,travelMode:google.maps.TravelMode.DRIVING,optimizeWaypoints:!0,avoidHighways:h.avoidHighways,avoidTolls:h.avoidTolls};$.route(X,(H,Y)=>{var Q;Y===google.maps.DirectionsStatus.OK&&H?((Q=C.current)==null||Q.setDirections(H),t({title:"Route optimized",description:`Optimized route with ${B.waypoints.length} stops. Total distance: ${(B.totalDistance/1e3).toFixed(1)} km, time: ${Math.round(B.totalDuration/60)} minutes.`})):t({title:"Route optimization failed",description:"Unable to calculate the optimal route. Please try again.",variant:"destructive"})})}catch(F){console.error("Route optimization error:",F),t({title:"Route optimization failed",description:"There was an error calculating the route. Please try again.",variant:"destructive"})}},j=O=>{n(O),t({title:"Task created",description:"Your task has been successfully created."}),x(!1)};return c.jsxs("div",{className:"w-full h-full",children:[c.jsx("div",{className:"h-full flex flex-col",children:o?c.jsx("div",{className:"flex items-center justify-center flex-1",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):c.jsxs("div",{className:"flex flex-1 gap-4 p-4",children:[c.jsxs("div",{className:"w-80 flex-shrink-0 flex flex-col gap-4",children:[c.jsxs(Te,{className:"shadow-md flex-shrink-0",children:[c.jsx(Fe,{className:"py-3",children:c.jsx(Be,{children:"Route Options"})}),c.jsx(Ne,{children:c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(K,{onClick:()=>f(!0),variant:"outline",size:"sm",className:"flex-1",children:[c.jsx(wV,{className:"mr-2 h-4 w-4"}),"Preferences"]}),c.jsxs(K,{onClick:I,variant:m?"default":"outline",size:"sm",className:"flex-1",disabled:e.filter(O=>O.coordinates).length===0&&r.filter(O=>O.coordinates&&O.status!=="completed"&&O.status!=="cancelled").length===0,children:[c.jsx(cse,{className:"mr-2 h-4 w-4"}),m?"Update":"Optimize"]})]}),m&&c.jsx("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:c.jsxs("span",{className:"text-sm font-medium text-green-900",children:[m.waypoints.length+1," stops • ",(m.totalDistance/1609.34).toFixed(1)," miles • ",Math.round(m.totalDuration/60)," min"]})})]})})]}),c.jsxs(Te,{className:"shadow-md flex-1 min-h-0",children:[c.jsx(Fe,{className:"py-3 flex-shrink-0",children:c.jsxs(Be,{className:"flex items-center justify-between",children:[c.jsx("span",{children:"Locations"}),c.jsxs("span",{className:"text-sm text-gray-500",children:[e.filter(O=>O.coordinates).length+r.filter(O=>O.coordinates&&O.status!=="completed"&&O.status!=="cancelled").length+1," total"]})]})}),c.jsx(Ne,{className:"flex-1 overflow-hidden p-0",children:c.jsx("div",{className:"h-full overflow-y-auto px-6 pb-6",children:e.filter(O=>O.coordinates).length>0||r.filter(O=>O.coordinates&&O.status!=="completed"&&O.status!=="cancelled").length>0?c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"p-3 border rounded-md bg-blue-50 border-blue-200",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-white text-xs font-bold",children:"A"})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("h4",{className:"font-medium text-sm",children:"Your Location"}),c.jsx("p",{className:"text-xs text-gray-600",children:"Starting point"})]})]})}),e.filter(O=>O.coordinates).map((O,P)=>{const M=String.fromCharCode(66+P);return c.jsx("div",{className:"p-3 border rounded-md hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>{if(O.coordinates&&w.current){w.current.panTo({lat:O.coordinates.lat,lng:O.coordinates.lng}),w.current.setZoom(15);const F=S.current.find(B=>{var W,$,U,X;return((W=B.getPosition())==null?void 0:W.lat())===(($=O.coordinates)==null?void 0:$.lat)&&((U=B.getPosition())==null?void 0:U.lng())===((X=O.coordinates)==null?void 0:X.lng)});F&&google.maps&&google.maps.event.trigger(F,"click"),u(O)}},children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-white text-xs font-bold",children:M})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("h4",{className:"font-medium text-sm truncate",children:O.title}),c.jsx("p",{className:"text-xs text-gray-500 truncate",children:O.location})]})]}),c.jsxs("div",{className:"text-right flex-shrink-0",children:[c.jsx("p",{className:"text-xs text-gray-500",children:Yt(new Date(O.dueDate),"MMM d")}),c.jsx("span",{className:`text-xs px-2 py-1 rounded ${O.priority==="high"?"bg-red-100 text-red-800":O.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:O.priority})]})]})},`task-${O.id}`)}),r.filter(O=>O.coordinates&&O.status!=="completed"&&O.status!=="cancelled").map((O,P)=>{const M=String.fromCharCode(66+e.filter(F=>F.coordinates).length+P);return c.jsx("div",{className:"p-3 border rounded-md hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>{O.coordinates&&w.current&&(w.current.panTo({lat:O.coordinates.lat,lng:O.coordinates.lng}),w.current.setZoom(15))},children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-white text-xs font-bold",children:M})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("h4",{className:"font-medium text-sm truncate",children:O.store}),c.jsxs("p",{className:"text-xs text-gray-500",children:[O.items.length," items"]})]})]}),c.jsxs("div",{className:"text-right flex-shrink-0",children:[c.jsxs("p",{className:"text-xs text-gray-500",children:["ETA: ",O.eta]}),c.jsx("span",{className:`text-xs px-2 py-1 rounded ${O.status==="shopping"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:O.status})]})]})},`trip-${O.id}`)})]}):c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-8",children:[c.jsx(sa,{className:"h-12 w-12 text-gray-300 mb-3"}),c.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"No locations to display"}),c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Add tasks or trips with locations to see them here"})]})})})]}),m&&c.jsxs(Te,{className:"shadow-md flex-shrink-0",children:[c.jsx(Fe,{className:"py-3",children:c.jsx(Be,{className:"text-sm",children:"Route Details"})}),c.jsx(Ne,{className:"p-4",children:c.jsxs("div",{className:"space-y-3 max-h-48 overflow-y-auto",children:[m.segments.map((O,P)=>c.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("span",{className:"text-xs font-medium text-gray-600",children:[P===0?"A":String.fromCharCode(65+P)," → ",String.fromCharCode(66+P)]}),c.jsx("span",{className:"text-xs text-gray-500",children:O.distance})]}),c.jsx("span",{className:"text-xs text-gray-500",children:O.duration})]},P)),c.jsx("div",{className:"border-t pt-2 mt-2",children:c.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[c.jsx("span",{children:"Total:"}),c.jsxs("span",{children:[(m.totalDistance/1609.34).toFixed(1)," mi • ",Math.round(m.totalDuration/60)," min"]})]})})]})})]})]}),c.jsx("div",{className:"flex-1 min-w-0",children:c.jsx("div",{ref:y,className:"w-full h-full rounded-lg border shadow-sm"})})]})}),l&&c.jsxs(Pn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"absolute bottom-4 left-4 right-4 bg-white rounded-lg shadow-lg p-4 border",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"font-medium",children:l.title}),c.jsx(K,{variant:"ghost",size:"sm",onClick:()=>u(null),children:"×"})]}),c.jsxs("div",{className:"mt-2 space-y-2",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(sa,{className:"h-4 w-4 text-gray-400"}),c.jsx("span",{className:"text-sm",children:l.location})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Pr,{className:"h-4 w-4 text-gray-400"}),c.jsxs("span",{className:"text-sm",children:["Due: ",Yt(new Date(l.dueDate),"PPP")]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("span",{className:`text-sm px-2 py-1 rounded ${l.priority==="high"?"bg-red-100 text-red-800":l.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[l.priority," priority"]}),l.completed&&c.jsx("span",{className:"text-sm px-2 py-1 rounded bg-green-100 text-green-800",children:"Completed"})]})]}),c.jsx("div",{className:"mt-3 flex justify-end",children:c.jsx(K,{size:"sm",className:"bg-primary text-white hover:bg-primary/90",onClick:()=>{if(l.coordinates){const O=`https://www.google.com/maps/dir/?api=1&destination=${l.coordinates.lat},${l.coordinates.lng}`;window.open(O,"_blank")}},children:"Get Directions"})})]}),c.jsx(_r,{open:d,onOpenChange:f,children:c.jsxs(pr,{children:[c.jsxs(mr,{children:[c.jsx(gr,{children:"Route Preferences"}),c.jsx(Si,{children:"Customize how your route is calculated"})]}),c.jsx(aUe,{preferences:h,onPreferencesChange:N}),c.jsx(_i,{children:c.jsx(K,{onClick:()=>f(!1),children:"Save Preferences"})})]})}),c.jsx(fk,{isOpen:v,onClose:()=>x(!1),onSubmit:j})]})}const oA=["Trader Joe's","Kroger","Walmart","Target","Costco","Whole Foods","Aldi"],sUe=({isOpen:t,onClose:e,onSubmit:r})=>{const{toast:n}=cn(),[i,a]=b.useState(""),[o,s]=b.useState("20"),[l,u]=b.useState(new Date),[d,f]=b.useState({}),[h,p]=b.useState(!1),[m,g]=b.useState(!1),[v,x]=b.useState(oA);b.useEffect(()=>{t&&(a(""),s("20"),f({}),g(!1),u(new Date))},[t]),b.useEffect(()=>{const E={};i.trim()||(E.store="Store name is required");const C=parseInt(o);isNaN(C)||C<5?E.eta="ETA must be at least 5 minutes":C>120&&(E.eta="ETA cannot exceed 120 minutes"),f(E),p(Object.keys(E).length===0)},[i,o]),b.useEffect(()=>{if(i.trim()){const E=oA.filter(C=>C.toLowerCase().includes(i.toLowerCase()));x(E)}else x(oA)},[i]);const y=E=>{if(E.preventDefault(),!h){n({title:"Cannot broadcast trip",description:"Please fix the errors in the form",variant:"destructive"});return}const C=WTe(i),A=C?{lat:C.lat,lng:C.lng}:{lat:39.9622,lng:-83.0007};r({store:i,eta:o,date:l.toISOString(),coordinates:A}),a(""),s("20"),u(new Date),e()},w=E=>{a(E.target.value),g(!0)},S=E=>{a(E),g(!1)};return c.jsx(_r,{open:t,onOpenChange:e,children:c.jsxs(pr,{className:"sm:max-w-md",children:[c.jsxs(mr,{children:[c.jsxs(gr,{className:"flex items-center gap-2 bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-green-500",children:[c.jsx(lr,{className:"h-5 w-5 text-blue-500"}),"I'm heading to..."]}),c.jsx(Si,{children:"Let others know you're making a shopping trip and they can request items."})]}),c.jsxs("form",{onSubmit:y,className:"space-y-4 pt-4",children:[c.jsxs("div",{className:"space-y-2 relative",children:[c.jsxs(ce,{htmlFor:"store",className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ig,{className:"h-4 w-4 text-blue-500"}),c.jsx("span",{children:"Store"})]}),d.store&&c.jsxs("span",{className:"text-xs text-destructive flex items-center",children:[c.jsx(_o,{className:"h-3 w-3 mr-1"}),d.store]})]}),c.jsx(Ue,{id:"store",placeholder:"e.g. Trader Joe's, Costco, Target",value:i,onChange:w,onFocus:()=>g(!0),onBlur:()=>{setTimeout(()=>g(!1),200)},className:`premium-card ${d.store?"border-destructive":""}`}),c.jsx(GT,{children:m&&v.length>0&&c.jsx(Pn.div,{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:c.jsx("ul",{className:"py-1",children:v.map((E,C)=>c.jsxs(Pn.li,{className:"px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer text-sm flex items-center",onClick:()=>S(E),whileHover:{x:5},children:[c.jsx(Ig,{className:"h-3 w-3 mr-2 text-blue-500"}),E]},C))})})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs(ce,{htmlFor:"eta",className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Pr,{className:"h-4 w-4 mr-1 text-blue-500"}),"Time until arrival"]}),d.eta&&c.jsxs("span",{className:"text-xs text-destructive flex items-center",children:[c.jsx(_o,{className:"h-3 w-3 mr-1"}),d.eta]})]}),c.jsxs("div",{className:"flex gap-3 items-center",children:[c.jsx(Ue,{id:"eta",type:"number",min:"5",max:"120",value:o,onChange:E=>s(E.target.value),className:`w-24 premium-card ${d.eta?"border-destructive":""}`}),c.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"minutes"})]}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center",children:[c.jsx(yV,{className:"h-3 w-3 mr-1"}),"Let others know when you expect to arrive at the store"]})]}),c.jsxs("div",{children:[c.jsx(ce,{children:"Date"}),c.jsxs(tv,{children:[c.jsx(rv,{asChild:!0,children:c.jsxs(K,{variant:"outline",className:je("w-full justify-start text-left font-normal",!l&&"text-muted-foreground"),children:[c.jsx(zu,{className:"mr-2 h-4 w-4"}),l?Yt(l,"PPP"):c.jsx("span",{children:"Pick a date"})]})}),c.jsx(oh,{className:"w-auto p-0",align:"start",children:c.jsx(K2,{mode:"single",selected:l,onSelect:E=>u(E||new Date),initialFocus:!0})})]})]}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[c.jsx(K,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),c.jsx(K,{type:"submit",disabled:!h,className:"bg-gradient-to-r from-blue-500 to-green-500 text-white hover:from-blue-600 hover:to-green-600",children:"Create Trip"})]})]})]})})};function lUe(){const{toast:t}=cn(),{tasks:e,trips:r,addTask:n,addTrip:i}=os(),[a,o]=b.useState(!1),[s,l]=b.useState(!1),u=e.filter(m=>m.coordinates).length,d=r.filter(m=>m.coordinates&&m.status!=="completed"&&m.status!=="cancelled").length,f=u+d+1,h=m=>{n(m),t({title:"Task created",description:"Your task has been successfully created."}),o(!1)},p=m=>{i({store:m.store,location:m.store,coordinates:m.coordinates,eta:m.eta,date:m.date,participants:[],shopper:{name:"You",avatar:"https://example.com/avatar.jpg"},items:[]}),t({title:"Trip created",description:"Your shopping trip has been successfully created."}),l(!1)};return c.jsxs(ha,{children:[c.jsxs("div",{className:"p-4 md:p-8",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[c.jsx(sa,{className:"w-6 h-6"}),"Map & Routes"]}),c.jsx("p",{className:"text-slate-500",children:"View your tasks and trips on the map, and optimize your routes"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(K,{size:"sm",onClick:()=>l(!0),children:[c.jsx(lr,{className:"w-4 h-4 mr-2"}),"New Trip"]}),c.jsxs(K,{variant:"outline",size:"sm",onClick:()=>o(!0),children:[c.jsx(Or,{className:"w-4 h-4 mr-2"}),"Add Task"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[c.jsx(Te,{className:"border-none shadow-sm",children:c.jsx(Ne,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:c.jsx(sa,{className:"w-5 h-5 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-500",children:"Total Locations"}),c.jsx("p",{className:"text-2xl font-bold",children:f})]})]})})}),c.jsx(Te,{className:"border-none shadow-sm",children:c.jsx(Ne,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:c.jsx(wV,{className:"w-5 h-5 text-green-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-500",children:"Tasks"}),c.jsx("p",{className:"text-2xl font-bold",children:u})]})]})})}),c.jsx(Te,{className:"border-none shadow-sm",children:c.jsx(Ne,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:c.jsx(lr,{className:"w-5 h-5 text-purple-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-500",children:"Trips"}),c.jsx("p",{className:"text-2xl font-bold",children:d})]})]})})})]}),f===0?c.jsx(Te,{className:"border-none shadow-sm",children:c.jsx(Ne,{className:"p-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(sa,{className:"w-8 h-8 text-slate-400"})}),c.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:"No locations to display"}),c.jsx("p",{className:"text-slate-500 mb-6",children:"Add tasks with locations or create shopping trips to see them on the map"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[c.jsxs(K,{variant:"outline",onClick:()=>o(!0),children:[c.jsx(Or,{className:"w-4 h-4 mr-2"}),"Add Task"]}),c.jsxs(K,{onClick:()=>l(!0),children:[c.jsx(lr,{className:"w-4 h-4 mr-2"}),"Create Trip"]})]})]})})}):c.jsx("div",{className:"w-full h-[600px]",children:c.jsx(oUe,{})})]}),c.jsx(fk,{isOpen:a,onClose:()=>o(!1),onSubmit:h}),c.jsx(sUe,{isOpen:s,onClose:()=>l(!1),onSubmit:p})]})}function cUe(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function uUe(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var dUe=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fUe=function(t){dUe(e,t);function e(r,n){var i=this.constructor,a=t.call(this,r,n)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),cUe(a,i.prototype),uUe(a),a}return e}(Error),hUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yi=function(t){hUe(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(fUe),pUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),eo=function(t){pUe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(Yi),mUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),We=function(t){mUe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(Yi),gUe=function(){function t(e){if(this.binarizer=e,e===null)throw new We("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var a=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(a))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),vUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),yn=function(t){vUe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Yi),yUe=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),Qt=function(){function t(){}return t.arraycopy=function(e,r,n,i,a){for(;a--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),xUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),s3=function(t){xUe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(Yi),wUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),FL=function(t){wUe(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(s3),bUe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rn=function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var a=r;a<n;a++)e[a]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new We("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new FL(r);if(n>e)throw new FL(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var a=bUe(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=31*i+s}}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,a=new Int32Array(i);return Qt.arraycopy(e,r,a,0,i),a},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,s=n(r,e[o]);if(s>0)i=o+1;else if(s<0)a=o-1;else return o}return-i-1},t.numberComparator=function(e,r){return e-r},t}(),at=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),xn=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);Qt.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=n[i]}var s=i*32+at.numberOfTrailingZeros(a);return s>r?r:s},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=~n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=~n[i]}var s=i*32+at.numberOfTrailingZeros(a);return s>r?r:s},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new We;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),a=this.bits,o=n;o<=i;o++){var s=o>n?0:e&31,l=o<i?31:r&31,u=(2<<l)-(1<<s);a[o]|=u}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new We;if(r===e)return!0;r--;for(var i=Math.floor(e/32),a=Math.floor(r/32),o=this.bits,s=i;s<=a;s++){var l=s>i?0:e&31,u=s<a?31:r&31,d=(2<<u)-(1<<l)&4294967295;if((o[s]&d)!==(n?d:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new We("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new We("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var a=0;a<i;a++){for(var o=0,s=0;s<8;s++)this.get(e)&&(o|=1<<7-s),e++;r[n+a]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,a=0;a<n;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[r-a]=o}if(this.size!==n*32){for(var s=n*32-this.size,l=e[0]>>>s,a=1;a<n;a++){var u=e[a];l|=u<<32-s,e[a-1]=l,l=u>>>s}e[n-1]=l}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&rn.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+rn.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t}(),EN;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(EN||(EN={}));const ur=EN;var _Ue=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ce=function(t){_Ue(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Yi),SUe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Nt;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(Nt||(Nt={}));var en=function(){function t(e,r,n){for(var i,a,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var l=this.values,u=0,d=l.length;u!==d;u++){var f=l[u];t.VALUES_TO_ECI.set(f,this)}try{for(var h=SUe(o),p=h.next();!p.done;p=h.next()){var m=p.value;t.NAME_TO_ECI.set(m,this)}}catch(g){i={error:g}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new Ce("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new Ce("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new Ce("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(Nt.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(Nt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(Nt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(Nt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(Nt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(Nt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(Nt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(Nt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(Nt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(Nt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(Nt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(Nt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(Nt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(Nt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(Nt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(Nt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(Nt.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(Nt.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(Nt.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(Nt.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(Nt.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(Nt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(Nt.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(Nt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(Nt.Big5,28,"Big5"),t.GB18030=new t(Nt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(Nt.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),EUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),J1=function(t){EUe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(Yi),Da=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof en?e:en.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",a=0,o=e.length;a<o;a++){var s=e[a].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(n.equals(en.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new J1("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(en.UTF8)||e.equals(en.ISO8859_1)||e.equals(en.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],a=0;a<n.length;a++)i.push(n[a].charCodeAt(0));return new Uint8Array(i)},t}(),pt=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return Da.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(ur.CHARACTER_SET)!==void 0)return r.get(ur.CHARACTER_SET).toString();for(var n=e.length,i=!0,a=!0,o=!0,s=0,l=0,u=0,d=0,f=0,h=0,p=0,m=0,g=0,v=0,x=0,y=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,w=0;w<n&&(i||a||o);w++){var S=e[w]&255;o&&(s>0?S&128?s--:o=!1:S&128&&(S&64?(s++,S&32?(s++,S&16?(s++,S&8?o=!1:d++):u++):l++):o=!1)),i&&(S>127&&S<160?i=!1:S>159&&(S<192||S===215||S===247)&&x++),a&&(f>0?S<64||S===127||S>252?a=!1:f--:S===128||S===160||S>239?a=!1:S>160&&S<224?(h++,m=0,p++,p>g&&(g=p)):S>127?(f++,p=0,m++,m>v&&(v=m)):(p=0,m=0))}return o&&s>0&&(o=!1),a&&f>0&&(a=!1),o&&(y||l+u+d>0)?t.UTF8:a&&(t.ASSUME_SHIFT_JIS||g>=3||v>=3)?t.SHIFT_JIS:i&&a?g===2&&h===2||x*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:a?t.SHIFT_JIS:o?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function a(s,l,u,d,f,h){if(s==="%%")return"%";if(r[++i]!==void 0){s=d?parseInt(d.substr(1)):void 0;var p=f?parseInt(f.substr(1)):void 0,m;switch(h){case"s":m=r[i];break;case"c":m=r[i][0];break;case"f":m=parseFloat(r[i]).toFixed(s);break;case"p":m=parseFloat(r[i]).toPrecision(s);break;case"e":m=parseFloat(r[i]).toExponential(s);break;case"x":m=parseInt(r[i]).toString(p||16);break;case"d":m=parseFloat(parseInt(r[i],p||10).toPrecision(s)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(p);for(var g=parseInt(u),v=u&&u[0]+""=="0"?"0":" ";m.length<g;)m=l!==void 0?m+v:v+m;return m}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},t.getBytes=function(e,r){return Da.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=en.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=en.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=en.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),rt=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=pt.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t}(),ls=function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new We("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),a=0;a<r;a++)for(var o=e[a],s=0;s<n;s++)o[s]&&i.set(s,a);return i},t.parseFromString=function(e,r,n){if(e===null)throw new We("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,s=-1,l=0,u=0;u<e.length;)if(e.charAt(u)===`
`||e.charAt(u)==="\r"){if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new We("row lengths do not match");o=a,l++}u++}else if(e.substring(u,u+r.length)===r)u+=r.length,i[a]=!0,a++;else if(e.substring(u,u+n.length)===n)u+=n.length,i[a]=!1,a++;else throw new We("illegal character encountered: "+e.substring(u));if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new We("row lengths do not match");l++}for(var d=new t(s,l),f=0;f<a;f++)i[f]&&d.set(Math.floor(f%s),Math.floor(f/s));return d},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new We("input matrix dimensions do not match");for(var r=new xn(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var s=a*n,l=e.getRow(a,r).getBitArray(),u=0;u<n;u++)i[s+u]^=l[u]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new We("Left and top must be nonnegative");if(i<1||n<1)throw new We("Height and width must be at least 1");var a=e+n,o=r+i;if(o>this.height||a>this.width)throw new We("The region must fit inside the matrix");for(var s=this.rowSize,l=this.bits,u=r;u<o;u++)for(var d=u*s,f=e;f<a;f++)l[d+Math.floor(f/32)]|=1<<(f&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new xn(this.width):r.clear();for(var n=this.rowSize,i=this.bits,a=e*n,o=0;o<n;o++)r.setBulk(o*32,i[a+o]);return r},t.prototype.setRow=function(e,r){Qt.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new xn(e),i=new xn(e),a=0,o=Math.floor((r+1)/2);a<o;a++)n=this.getRow(a,n),i=this.getRow(r-1-a,i),n.reverse(),i.reverse(),this.setRow(a,i),this.setRow(r-1-a,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,a=e,o=r,s=-1,l=-1,u=0;u<r;u++)for(var d=0;d<n;d++){var f=i[u*n+d];if(f!==0){if(u<o&&(o=u),u>l&&(l=u),d*32<a){for(var h=0;!(f<<31-h&4294967295);)h++;d*32+h<a&&(a=d*32+h)}if(d*32+31>s){for(var h=31;!(f>>>h);)h--;d*32+h>s&&(s=d*32+h)}}}return s<a||l<o?null:Int32Array.from([a,o,s-a+1,l-o+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,a=n%e*32,o=r[n],s=0;!(o<<31-s&4294967295);)s++;return a+=s,Int32Array.from([a,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),a=Math.floor(n%e)*32,o=r[n],s=31;!(o>>>s);)s--;return a+=s,Int32Array.from([a,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&rn.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+rn.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new rt,a=0,o=this.height;a<o;a++){for(var s=0,l=this.width;s<l;s++)i.append(this.get(s,a)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),AUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oe=function(t){AUe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Yi),CUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),TUe=function(t){CUe(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),a=i.getWidth();n==null||n.getSize()<a?n=new xn(a):n.clear(),this.initArrays(a);for(var o=i.getRow(r,this.luminances),s=this.buckets,l=0;l<a;l++)s[(o[l]&255)>>e.LUMINANCE_SHIFT]++;var u=e.estimateBlackPoint(s);if(a<3)for(var l=0;l<a;l++)(o[l]&255)<u&&n.set(l);else for(var d=o[0]&255,f=o[1]&255,l=1;l<a-1;l++){var h=o[l+1]&255;(f*4-d-h)/2<u&&n.set(l),d=f,f=h}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),a=new ls(n,i);this.initArrays(n);for(var o=this.buckets,s=1;s<5;s++)for(var l=Math.floor(i*s/5),u=r.getRow(l,this.luminances),d=Math.floor(n*4/5),f=Math.floor(n/5);f<d;f++){var h=u[f]&255;o[h>>e.LUMINANCE_SHIFT]++}for(var p=e.estimateBlackPoint(o),m=r.getMatrix(),s=0;s<i;s++)for(var g=s*n,f=0;f<n;f++){var h=m[g+f]&255;h<p&&a.set(f,s)}return a},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,a=0,o=0,s=0;s<n;s++)r[s]>o&&(a=s,o=r[s]),r[s]>i&&(i=r[s]);for(var l=0,u=0,s=0;s<n;s++){var d=s-a,f=r[s]*d*d;f>u&&(l=s,u=f)}if(a>l){var h=a;a=l,l=h}if(l-a<=n/16)throw new oe;for(var p=l-1,m=-1,s=l-1;s>a;s--){var g=s-a,f=g*g*(l-s)*(i-r[s]);f>m&&(p=s,m=f)}return p<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(yUe),NUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),IUe=function(t){NUe(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=r.getMatrix(),o=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&o++;var s=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&s++;var l=e.calculateBlackPoints(a,o,s,n,i),u=new ls(n,i);e.calculateThresholdForBlock(a,o,s,n,i,l,u),this.matrix=u}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,a,o,s,l){for(var u=o-e.BLOCK_SIZE,d=a-e.BLOCK_SIZE,f=0;f<i;f++){var h=f<<e.BLOCK_SIZE_POWER;h>u&&(h=u);for(var p=e.cap(f,2,i-3),m=0;m<n;m++){var g=m<<e.BLOCK_SIZE_POWER;g>d&&(g=d);for(var v=e.cap(m,2,n-3),x=0,y=-2;y<=2;y++){var w=s[p+y];x+=w[v-2]+w[v-1]+w[v]+w[v+1]+w[v+2]}var S=x/25;e.thresholdBlock(r,g,h,S,a,l)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,a,o,s){for(var l=0,u=i*o+n;l<e.BLOCK_SIZE;l++,u+=o)for(var d=0;d<e.BLOCK_SIZE;d++)(r[u+d]&255)<=a&&s.set(n+d,i+l)},e.calculateBlackPoints=function(r,n,i,a,o){for(var s=o-e.BLOCK_SIZE,l=a-e.BLOCK_SIZE,u=new Array(i),d=0;d<i;d++){u[d]=new Int32Array(n);var f=d<<e.BLOCK_SIZE_POWER;f>s&&(f=s);for(var h=0;h<n;h++){var p=h<<e.BLOCK_SIZE_POWER;p>l&&(p=l);for(var m=0,g=255,v=0,x=0,y=f*a+p;x<e.BLOCK_SIZE;x++,y+=a){for(var w=0;w<e.BLOCK_SIZE;w++){var S=r[y+w]&255;m+=S,S<g&&(g=S),S>v&&(v=S)}if(v-g>e.MIN_DYNAMIC_RANGE)for(x++,y+=a;x<e.BLOCK_SIZE;x++,y+=a)for(var w=0;w<e.BLOCK_SIZE;w++)m+=r[y+w]&255}var E=m>>e.BLOCK_SIZE_POWER*2;if(v-g<=e.MIN_DYNAMIC_RANGE&&(E=g/2,d>0&&h>0)){var C=(u[d-1][h]+2*u[d][h-1]+u[d-1][h-1])/4;g<C&&(E=C)}u[d][h]=E}}return u},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(TUe),E_=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new J1("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new J1("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new J1("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new rt,n=0;n<this.height;n++){for(var i=this.getRow(n,e),a=0;a<this.width;a++){var o=i[a]&255,s=void 0;o<64?s="#":o<128?s="+":o<192?s=".":s=" ",r.append(s)}r.append(`
`)}return r.toString()},t}(),PUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),l3=function(t){PUe(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),a=0;a<n;a++)i[a]=255-(r[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,a){return new e(this.delegate.crop(r,n,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(E_),OUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jUe=function(t){OUe(e,t);function e(r,n){n===void 0&&(n=!1);var i=t.call(this,r.width,r.height)||this;return i.canvas=r,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(r,n),i}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var i=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,i,a){a===void 0&&(a=!1);var o=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var s=0,l=0,u=r.length;s<u;s+=4,l++){var d=void 0,f=r[s+3];if(f===0)d=255;else{var h=r[s],p=r[s+1],m=r[s+2];d=306*h+601*p+117*m+512>>10}o[l]=d}else for(var s=0,l=0,g=r.length;s<g;s+=4,l++){var d=void 0,f=r[s+3];if(f===0)d=255;else{var h=r[s],p=r[s+1],m=r[s+2];d=306*h+601*p+117*m+512>>10}o[l]=255-d}return o},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new We("Requested row is outside the image: "+r);var i=this.getWidth(),a=r*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return t.prototype.crop.call(this,r,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),a=r*e.DEGREE_TO_RADIANS,o=this.canvas.width,s=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*s),u=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*s);return n.width=l,n.height=u,i.translate(l/2,u/2),i.rotate(a),i.drawImage(this.canvas,o/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new l3(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(E_),kUe=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),ui=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,l)}u((n=n.apply(t,e||[])).next())})},di=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},RUe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vp=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return ui(this,void 0,void 0,function(){var e,r,n,i,a,o,s,l,u,d,f,h;return di(this,function(p){switch(p.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=p.sent(),r=[];try{for(n=RUe(e),i=n.next();!i.done;i=n.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(s=a.deviceId||a.id,l=a.label||"Video device "+(r.length+1),u=a.groupId,d={deviceId:s,label:l,kind:o,groupId:u},r.push(d))}catch(m){f={error:m}}finally{try{i&&!i.done&&(h=n.return)&&h.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return ui(this,void 0,void 0,function(){var e;return di(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new kUe(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return ui(this,void 0,void 0,function(){var r;return di(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return ui(this,void 0,void 0,function(){return di(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return ui(this,void 0,void 0,function(){var n,i;return di(this,function(a){switch(a.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return ui(this,void 0,void 0,function(){var n;return di(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return ui(this,void 0,void 0,function(){var n,i;return di(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=a.sent(),[4,this.decodeOnce(n)];case 2:return i=a.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return ui(this,void 0,void 0,function(){return di(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return ui(this,void 0,void 0,function(){var i,a;return di(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return ui(this,void 0,void 0,function(){var i;return di(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,a.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return ui(this,void 0,void 0,function(){var i;return di(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,a.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return ui(this,void 0,void 0,function(){var n;return di(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return ui(this,void 0,void 0,function(){return di(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new eo("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new eo("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new eo("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new eo("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new eo("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new eo("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new eo("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new eo("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new eo("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new eo("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return ui(this,void 0,void 0,function(){return di(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return ui(this,void 0,void 0,function(){return di(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var a=function(o,s){if(i._stopAsyncDecode){s(new oe("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var l=i.decode(e);o(l)}catch(h){var u=r&&h instanceof oe,d=h instanceof yn||h instanceof Ce,f=d&&n;if(u||f)return setTimeout(a,i._timeBetweenDecodingAttempts,o,s);s(h)}};return new Promise(function(o,s){return a(o,s)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var a=n.decode(e);r(a,null),setTimeout(i,n.timeBetweenScansMillis)}catch(l){r(null,l);var o=l instanceof yn||l instanceof Ce,s=l instanceof oe;(o||s)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new jUe(n,r),a=new IUe(i);return new gUe(a)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),si=function(){function t(e,r,n,i,a,o){n===void 0&&(n=r==null?0:8*r.length),o===void 0&&(o=Qt.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=Qt.currentTimeMillis():this.timestamp=o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);Qt.arraycopy(r,0,n,0,r.length),Qt.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),AN;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(AN||(AN={}));const ze=AN;var CN;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(CN||(CN={}));const On=CN;var A_=function(){function t(e,r,n,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),Im=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new We;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),cc=function(){function t(e,r){if(r.length===0)throw new We;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),Qt.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,a=r.length;i!==a;i++){var o=r[i];n=Im.addOrSubtract(n,o)}return n}n=r[0];for(var s=r.length,l=this.field,i=1;i<s;i++)n=Im.addOrSubtract(l.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new We("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;Qt.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=Im.addOrSubtract(r[s-o],n[s]);return new t(this.field,a)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new We("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=this.field,l=0;l<n;l++)for(var u=r[l],d=0;d<a;d++)o[l+d]=Im.addOrSubtract(o[l+d],s.multiply(u,i[d]));return new t(s,o)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),a=this.coefficients,o=0;o<r;o++)i[o]=n.multiply(a[o],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new We;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+e),o=this.field,s=0;s<i;s++)a[s]=o.multiply(n[s],r);return new t(o,a)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new We("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new We("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=r.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var s=i.getDegree()-e.getDegree(),l=r.multiply(i.getCoefficient(i.getDegree()),o),u=e.multiplyByMonomial(s,l),d=r.buildMonomial(s,l);n=n.addOrSubtract(d),i=i.addOrSubtract(u)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),DUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),DJ=function(t){DUe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(Yi),MUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ri=function(t){MUe(e,t);function e(r,n,i){var a=t.call(this)||this;a.primitive=r,a.size=n,a.generatorBase=i;for(var o=new Int32Array(n),s=1,l=0;l<n;l++)o[l]=s,s*=2,s>=n&&(s^=r,s&=n-1);a.expTable=o;for(var u=new Int32Array(n),l=0;l<n-1;l++)u[o[l]]=l;return a.logTable=u,a.zero=new cc(a,Int32Array.from([0])),a.one=new cc(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new We;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new cc(this,i)},e.prototype.inverse=function(r){if(r===0)throw new DJ;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+at.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(Im),LUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jy=function(t){LUe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(Yi),$Ue=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),B0=function(t){$Ue(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(Yi),C_=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new cc(n,e),a=new Int32Array(r),o=!0,s=0;s<r;s++){var l=i.evaluateAt(n.exp(s+n.getGeneratorBase()));a[a.length-1-s]=l,l!==0&&(o=!1)}if(!o)for(var u=new cc(n,a),d=this.runEuclideanAlgorithm(n.buildMonomial(r,1),u,r),f=d[0],h=d[1],p=this.findErrorLocations(f),m=this.findErrorMagnitudes(h,p),s=0;s<p.length;s++){var g=e.length-1-n.log(p[s]);if(g<0)throw new Jy("Bad error location");e[g]=Ri.addOrSubtract(e[g],m[s])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=this.field,o=e,s=r,l=a.getZero(),u=a.getOne();s.getDegree()>=(n/2|0);){var d=o,f=l;if(o=s,l=u,o.isZero())throw new Jy("r_{i-1} was zero");s=d;for(var h=a.getZero(),p=o.getCoefficient(o.getDegree()),m=a.inverse(p);s.getDegree()>=o.getDegree()&&!s.isZero();){var g=s.getDegree()-o.getDegree(),v=a.multiply(s.getCoefficient(s.getDegree()),m);h=h.addOrSubtract(a.buildMonomial(g,v)),s=s.addOrSubtract(o.multiplyByMonomial(g,v))}if(u=h.multiply(l).addOrSubtract(f),s.getDegree()>=o.getDegree())throw new B0("Division algorithm failed to reduce polynomial?")}var x=u.getCoefficient(0);if(x===0)throw new Jy("sigmaTilde(0) was zero");var y=a.inverse(x),w=u.multiplyScalar(y),S=s.multiplyScalar(y);return[w,S]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,a=this.field,o=1;o<a.getSize()&&i<r;o++)e.evaluateAt(o)===0&&(n[i]=a.inverse(o),i++);if(i!==r)throw new Jy("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),a=this.field,o=0;o<n;o++){for(var s=a.inverse(r[o]),l=1,u=0;u<n;u++)if(o!==u){var d=a.multiply(r[u],s),f=d&1?d&-2:d|1;l=a.multiply(l,f)}i[o]=a.multiply(e.evaluateAt(s),a.inverse(l)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],s))}return i},t}(),An;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(An||(An={}));var BL=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),a=t.convertBoolArrayToByteArray(i),o=t.getEncodedData(i),s=new A_(a,o,null,null);return s.setNumBits(i.length),s},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=An.UPPER,i=An.UPPER,a="",o=0;o<r;)if(i===An.BINARY){if(r-o<5)break;var s=t.readCode(e,o,5);if(o+=5,s===0){if(r-o<11)break;s=t.readCode(e,o,11)+31,o+=11}for(var l=0;l<s;l++){if(r-o<8){o=r;break}var u=t.readCode(e,o,8);a+=pt.castAsNonUtf8Char(u),o+=8}i=n}else{var d=i===An.DIGIT?4:5;if(r-o<d)break;var u=t.readCode(e,o,d);o+=d;var f=t.getCharacter(i,u);f.startsWith("CTRL_")?(n=i,i=t.getTable(f.charAt(5)),f.charAt(6)==="L"&&(n=i)):(a+=f,i=n)}return a},t.getTable=function(e){switch(e){case"L":return An.LOWER;case"P":return An.PUNCT;case"M":return An.MIXED;case"D":return An.DIGIT;case"B":return An.BINARY;case"U":default:return An.UPPER}},t.getCharacter=function(e,r){switch(e){case An.UPPER:return t.UPPER_TABLE[r];case An.LOWER:return t.LOWER_TABLE[r];case An.MIXED:return t.MIXED_TABLE[r];case An.PUNCT:return t.PUNCT_TABLE[r];case An.DIGIT:return t.DIGIT_TABLE[r];default:throw new B0("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=Ri.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=Ri.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=Ri.AZTEC_DATA_10):(n=12,r=Ri.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/n;if(a<i)throw new Ce;for(var o=e.length%n,s=new Int32Array(a),l=0;l<a;l++,o+=n)s[l]=t.readCode(e,o,n);try{var u=new C_(r);u.decode(s,a-i)}catch(v){throw new Ce(v)}for(var d=(1<<n)-1,f=0,l=0;l<i;l++){var h=s[l];if(h===0||h===d)throw new Ce;(h===1||h===d-1)&&f++}for(var p=new Array(i*n-f),m=0,l=0;l<i;l++){var h=s[l];if(h===1||h===d-1)p.fill(h>1,m,m+n-1),m+=n-1;else for(var g=n-1;g>=0;--g)p[m++]=(h&1<<g)!==0}return p},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(n,r));if(r)for(var s=0;s<a.length;s++)a[s]=s;else for(var l=i+1+2*at.truncDivision(at.truncDivision(i,2)-1,15),u=i/2,d=at.truncDivision(l,2),s=0;s<u;s++){var f=s+at.truncDivision(s,15);a[u-s-1]=d-f-1,a[u+s]=d+f+1}for(var s=0,h=0;s<n;s++){for(var p=(n-s)*4+(r?9:12),m=s*2,g=i-1-m,v=0;v<p;v++)for(var x=v*2,y=0;y<2;y++)o[h+x+y]=e.get(a[m+y],a[m+v]),o[h+2*p+x+y]=e.get(a[m+v],a[g-y]),o[h+4*p+x+y]=e.get(a[g-y],a[g-v]),o[h+6*p+x+y]=e.get(a[g-v],a[m+y]);h+=p*8}return o},t.readCode=function(e,r,n){for(var i=0,a=r;a<r+n;a++)i<<=1,e[a]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),_t=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var a=e-n,o=r-i;return Math.sqrt(a*a+o*o)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var a=e[n];r+=a}return r},t}(),TN=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),Me=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*TN.floatToIntBits(this.x)+TN.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,s;if(n>=r&&n>=i?(o=e[0],a=e[1],s=e[2]):i>=n&&i>=r?(o=e[1],a=e[0],s=e[2]):(o=e[2],a=e[0],s=e[1]),this.crossProductZ(a,o,s)<0){var l=a;a=s,s=l}e[0]=a,e[1]=o,e[2]=s},t.distance=function(e,r){return _t.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,a=r.y;return(n.x-i)*(e.y-a)-(n.y-a)*(e.x-i)},t}(),c3=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),FUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),BUe=function(t){FUe(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n)||this;return s.compact=i,s.nbDatablocks=a,s.nbLayers=o,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(c3),NN=function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=r/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new oe}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,a=!1,o=!0,s=!1,l=!1,u=!1,d=!1,f=!1,h=this.width,p=this.height;o;){o=!1;for(var m=!0;(m||!l)&&r<h;)m=this.containsBlackPoint(n,i,r,!1),m?(r++,o=!0,l=!0):l||r++;if(r>=h){a=!0;break}for(var g=!0;(g||!u)&&i<p;)g=this.containsBlackPoint(e,r,i,!0),g?(i++,o=!0,u=!0):u||i++;if(i>=p){a=!0;break}for(var v=!0;(v||!d)&&e>=0;)v=this.containsBlackPoint(n,i,e,!1),v?(e--,o=!0,d=!0):d||e--;if(e<0){a=!0;break}for(var x=!0;(x||!f)&&n>=0;)x=this.containsBlackPoint(e,r,n,!0),x?(n--,o=!0,f=!0):f||n--;if(n<0){a=!0;break}o&&(s=!0)}if(!a&&s){for(var y=r-e,w=null,S=1;w===null&&S<y;S++)w=this.getBlackPointOnSegment(e,i-S,e+S,i);if(w==null)throw new oe;for(var E=null,S=1;E===null&&S<y;S++)E=this.getBlackPointOnSegment(e,n+S,e+S,n);if(E==null)throw new oe;for(var C=null,S=1;C===null&&S<y;S++)C=this.getBlackPointOnSegment(r,n+S,r-S,n);if(C==null)throw new oe;for(var A=null,S=1;A===null&&S<y;S++)A=this.getBlackPointOnSegment(r,i-S,r-S,i);if(A==null)throw new oe;return this.centerEdges(A,w,C,E)}else throw new oe},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var a=_t.round(_t.distance(e,r,n,i)),o=(n-e)/a,s=(i-r)/a,l=this.image,u=0;u<a;u++){var d=_t.round(e+u*o),f=_t.round(r+u*s);if(l.get(d,f))return new Me(d,f)}return null},t.prototype.centerEdges=function(e,r,n,i){var a=e.getX(),o=e.getY(),s=r.getX(),l=r.getY(),u=n.getX(),d=n.getY(),f=i.getX(),h=i.getY(),p=t.CORR;return a<this.width/2?[new Me(f-p,h+p),new Me(s+p,l+p),new Me(u-p,d-p),new Me(a+p,o-p)]:[new Me(f+p,h+p),new Me(s+p,l-p),new Me(u-p,d+p),new Me(a-p,o-p)]},t.prototype.containsBlackPoint=function(e,r,n,i){var a=this.image;if(i){for(var o=e;o<=r;o++)if(a.get(o,n))return!0}else for(var s=e;s<=r;s++)if(a.get(n,s))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),UL=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<r.length&&a;o+=2){var s=Math.floor(r[o]),l=Math.floor(r[o+1]);if(s<-1||s>n||l<-1||l>i)throw new oe;a=!1,s===-1?(r[o]=0,a=!0):s===n&&(r[o]=n-1,a=!0),l===-1?(r[o+1]=0,a=!0):l===i&&(r[o+1]=i-1,a=!0)}a=!0;for(var o=r.length-2;o>=0&&a;o-=2){var s=Math.floor(r[o]),l=Math.floor(r[o+1]);if(s<-1||s>n||l<-1||l>i)throw new oe;a=!1,s===-1?(r[o]=0,a=!0):s===n&&(r[o]=n-1,a=!0),l===-1?(r[o+1]=0,a=!0):l===i&&(r[o+1]=i-1,a=!0)}},t}(),MJ=function(){function t(e,r,n,i,a,o,s,l,u){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=a,this.a32=o,this.a13=s,this.a23=l,this.a33=u}return t.quadrilateralToQuadrilateral=function(e,r,n,i,a,o,s,l,u,d,f,h,p,m,g,v){var x=t.quadrilateralToSquare(e,r,n,i,a,o,s,l),y=t.squareToQuadrilateral(u,d,f,h,p,m,g,v);return y.times(x)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,l=this.a23,u=this.a31,d=this.a32,f=this.a33,h=0;h<r;h+=2){var p=e[h],m=e[h+1],g=a*p+l*m+f;e[h]=(n*p+o*m+u)/g,e[h+1]=(i*p+s*m+d)/g}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,l=this.a23,u=this.a31,d=this.a32,f=this.a33,h=e.length,p=0;p<h;p++){var m=e[p],g=r[p],v=a*m+l*g+f;e[p]=(n*m+o*g+u)/v,r[p]=(i*m+s*g+d)/v}},t.squareToQuadrilateral=function(e,r,n,i,a,o,s,l){var u=e-n+a-s,d=r-i+o-l;if(u===0&&d===0)return new t(n-e,a-n,e,i-r,o-i,r,0,0,1);var f=n-a,h=s-a,p=i-o,m=l-o,g=f*m-h*p,v=(u*m-h*d)/g,x=(f*d-u*p)/g;return new t(n-e+v*n,s-e+x*s,e,i-r+v*i,l-r+x*l,r,v,x,1)},t.quadrilateralToSquare=function(e,r,n,i,a,o,s,l){return t.squareToQuadrilateral(e,r,n,i,a,o,s,l).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),UUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),VUe=function(t){UUe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,a,o,s,l,u,d,f,h,p,m,g,v,x,y,w,S){var E=MJ.quadrilateralToQuadrilateral(a,o,s,l,u,d,f,h,p,m,g,v,x,y,w,S);return this.sampleGridWithTransform(r,n,i,E)},e.prototype.sampleGridWithTransform=function(r,n,i,a){if(n<=0||i<=0)throw new oe;for(var o=new ls(n,i),s=new Float32Array(2*n),l=0;l<i;l++){for(var u=s.length,d=l+.5,f=0;f<u;f+=2)s[f]=f/2+.5,s[f+1]=d;a.transformPoints(s),UL.checkAndNudgePoints(r,s);try{for(var f=0;f<u;f+=2)r.get(Math.floor(s[f]),Math.floor(s[f+1]))&&o.set(f/2,l)}catch{throw new oe}}return o},e}(UL),u3=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new VUe,t}(),Ni=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new Me(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),zUe=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new BUe(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new oe;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,a=0;a<4;a++){var o=n[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(a,o,s){var l=(a>>r-2<<1)+(a&1);n=(n<<3)+l}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(at.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new oe},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var a=n-i,o=new Int32Array(n),s=n-1;s>=0;--s)o[s]=e&15,e>>=4;try{var l=new C_(Ri.AZTEC_PARAM);l.decode(o,a)}catch{throw new oe}for(var u=0,s=0;s<i;s++)u=(u<<4)+o[s];return u},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(r,o,1,-1),l=this.getFirstDifferent(n,o,1,1),u=this.getFirstDifferent(i,o,-1,1),d=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(d,s)*this.nbCenterLayers/(this.distancePoint(a,r)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(s,l,u,d))break}r=s,n=l,i=u,a=d,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new oe;this.compact=this.nbCenterLayers===5;var h=new Me(r.getX()+.5,r.getY()-.5),p=new Me(n.getX()+.5,n.getY()+.5),m=new Me(i.getX()-.5,i.getY()+.5),g=new Me(a.getX()-.5,a.getY()-.5);return this.expandSquare([h,p,m,g],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var a=new NN(this.image).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new Ni(o+7,s-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Ni(o+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Ni(o-7,s+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Ni(o-7,s-7),!1,-1,-1).toResultPoint()}var l=_t.round((e.getX()+i.getX()+r.getX()+n.getX())/4),u=_t.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var a=new NN(this.image,15,l,u).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{e=this.getFirstDifferent(new Ni(l+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Ni(l+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Ni(l-7,u+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Ni(l-7,u-7),!1,-1,-1).toResultPoint()}return l=_t.round((e.getX()+i.getX()+r.getX()+n.getX())/4),u=_t.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new Ni(l,u)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,a){var o=u3.getInstance(),s=this.getDimension(),l=s/2-this.nbCenterLayers,u=s/2+this.nbCenterLayers;return o.sampleGrid(e,s,s,l,l,u,l,u,u,l,u,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,a=this.distanceResultPoint(e,r),o=a/n,s=e.getX(),l=e.getY(),u=o*(r.getX()-e.getX())/a,d=o*(r.getY()-e.getY())/a,f=0;f<n;f++)this.image.get(_t.round(s+f*u),_t.round(l+f*d))&&(i|=1<<n-f-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var a=3;e=new Ni(e.getX()-a,e.getY()+a),r=new Ni(r.getX()-a,r.getY()-a),n=new Ni(n.getX()+a,n.getY()-a),i=new Ni(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var s=this.getColor(e,r);return s!==o||(s=this.getColor(r,n),s!==o)?!1:(s=this.getColor(n,i),s===o)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,a=(r.getY()-e.getY())/n,o=0,s=e.getX(),l=e.getY(),u=this.image.get(e.getX(),e.getY()),d=Math.ceil(n),f=0;f<d;f++)s+=i,l+=a,this.image.get(_t.round(s),_t.round(l))!==u&&o++;var h=o/n;return h>.1&&h<.9?0:h<=.1===u?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var a=e.getX()+n,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n,o+=i;for(a-=n,o-=i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n;for(a-=n;this.isValid(a,o)&&this.image.get(a,o)===r;)o+=i;return o-=i,new Ni(a,o)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,l=(e[0].getY()+e[2].getY())/2,u=new Me(s+i*a,l+i*o),d=new Me(s-i*a,l-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,l=(e[1].getY()+e[3].getY())/2;var f=new Me(s+i*a,l+i*o),h=new Me(s-i*a,l-i*o),p=[u,f,d,h];return p},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=_t.round(e.getX()),n=_t.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return _t.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return _t.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(at.truncDivision(this.nbLayers-4,8)+1)+15},t}(),IN=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new zUe(e.getBlackMatrix()),a=null,o=null;try{var s=i.detectMirror(!1);a=s.getPoints(),this.reportFoundResultPoints(r,a),o=new BL().decode(s)}catch(f){n=f}if(o==null)try{var s=i.detectMirror(!0);a=s.getPoints(),this.reportFoundResultPoints(r,a),o=new BL().decode(s)}catch(f){throw n??f}var l=new si(o.getText(),o.getRawBytes(),o.getNumBits(),a,ze.AZTEC,Qt.currentTimeMillis()),u=o.getByteSegments();u!=null&&l.putMetadata(On.BYTE_SEGMENTS,u);var d=o.getECLevel();return d!=null&&l.putMetadata(On.ERROR_CORRECTION_LEVEL,d),l},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(ur.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,a,o){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t}(),WUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){WUe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new IN,r)||this}return e})(vp);var an=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(ur.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,r),o=a.getResultMetadata(),s=270;o!==null&&o.get(On.ORIENTATION)===!0&&(s=s+o.get(On.ORIENTATION)%360),a.putMetadata(On.ORIENTATION,s);var l=a.getResultPoints();if(l!==null)for(var u=i.getHeight(),d=0;d<l.length;d++)l[d]=new Me(u-l[d].getY()-1,l[d].getX());return a}else throw new oe}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),a=new xn(n),o=r&&r.get(ur.TRY_HARDER)===!0,s=Math.max(1,i>>(o?8:5)),l;o?l=i:l=15;for(var u=Math.trunc(i/2),d=0;d<l;d++){var f=Math.trunc((d+1)/2),h=(d&1)===0,p=u+s*(h?f:-f);if(p<0||p>=i)break;try{a=e.getBlackRow(p,a)}catch{continue}for(var m=function(y){if(y===1&&(a.reverse(),r&&r.get(ur.NEED_RESULT_POINT_CALLBACK)===!0)){var w=new Map;r.forEach(function(C,A){return w.set(A,C)}),w.delete(ur.NEED_RESULT_POINT_CALLBACK),r=w}try{var S=g.decodeRow(p,a,r);if(y===1){S.putMetadata(On.ORIENTATION,180);var E=S.getResultPoints();E!==null&&(E[0]=new Me(n-E[0].getX()-1,E[0].getY()),E[1]=new Me(n-E[1].getX()-1,E[1].getY()))}return{value:S}}catch{}},g=this,v=0;v<2;v++){var x=m(v);if(typeof x=="object")return x.value}}throw new oe},t.recordPattern=function(e,r,n){for(var i=n.length,a=0;a<i;a++)n[a]=0;var o=e.getSize();if(r>=o)throw new oe;for(var s=!e.get(r),l=0,u=r;u<o;){if(e.get(u)!==s)n[l]++;else{if(++l===i)break;n[l]=1,s=!s}u++}if(!(l===i||l===i-1&&u===o))throw new oe},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,a=e.get(r);r>0&&i>=0;)e.get(--r)!==a&&(i--,a=!a);if(i>=0)throw new oe;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=r[s];if(a<o)return Number.POSITIVE_INFINITY;var l=a/o;n*=l;for(var u=0,d=0;d<i;d++){var f=e[d],h=r[d]*l,p=f>h?f-h:h-f;if(p>n)return Number.POSITIVE_INFINITY;u+=p}return u/a},t}(),HUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),VL=function(t){HUe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),s=i,l=!1,u=6,d=i;d<n;d++)if(r.get(d)!==l)o[a]++;else{if(a===u-1){for(var f=e.MAX_AVG_VARIANCE,h=-1,p=e.CODE_START_A;p<=e.CODE_START_C;p++){var m=an.patternMatchVariance(o,e.CODE_PATTERNS[p],e.MAX_INDIVIDUAL_VARIANCE);m<f&&(f=m,h=p)}if(h>=0&&r.isRange(Math.max(0,s-(d-s)/2),s,!1))return Int32Array.from([s,d,h]);s+=o[0]+o[1],o=o.slice(2,o.length),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,l=!l}throw new oe},e.decodeCode=function(r,n,i){an.recordPattern(r,i,n);for(var a=e.MAX_AVG_VARIANCE,o=-1,s=0;s<e.CODE_PATTERNS.length;s++){var l=e.CODE_PATTERNS[s],u=this.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);u<a&&(a=u,o=s)}if(o>=0)return o;throw new oe},e.prototype.decodeRow=function(r,n,i){var a=i&&i.get(ur.ASSUME_GS1)===!0,o=e.findStartPattern(n),s=o[2],l=0,u=new Uint8Array(20);u[l++]=s;var d;switch(s){case e.CODE_START_A:d=e.CODE_CODE_A;break;case e.CODE_START_B:d=e.CODE_CODE_B;break;case e.CODE_START_C:d=e.CODE_CODE_C;break;default:throw new Ce}for(var f=!1,h=!1,p="",m=o[0],g=o[1],v=Int32Array.from([0,0,0,0,0,0]),x=0,y=0,w=s,S=0,E=!0,C=!1,A=!1;!f;){var T=h;switch(h=!1,x=y,y=e.decodeCode(n,v,g),u[l++]=y,y!==e.CODE_STOP&&(E=!0),y!==e.CODE_STOP&&(S++,w+=S*y),m=g,g+=v.reduce(function(W,$){return W+$},0),y){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new Ce}switch(d){case e.CODE_CODE_A:if(y<64)A===C?p+=String.fromCharCode(32+y):p+=String.fromCharCode(32+y+128),A=!1;else if(y<96)A===C?p+=String.fromCharCode(y-64):p+=String.fromCharCode(y+64),A=!1;else switch(y!==e.CODE_STOP&&(E=!1),y){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!C&&A?(C=!0,A=!1):C&&A?(C=!1,A=!1):A=!0;break;case e.CODE_SHIFT:h=!0,d=e.CODE_CODE_B;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_B:if(y<96)A===C?p+=String.fromCharCode(32+y):p+=String.fromCharCode(32+y+128),A=!1;else switch(y!==e.CODE_STOP&&(E=!1),y){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!C&&A?(C=!0,A=!1):C&&A?(C=!1,A=!1):A=!0;break;case e.CODE_SHIFT:h=!0,d=e.CODE_CODE_A;break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_C:if(y<100)y<10&&(p+="0"),p+=y;else switch(y!==e.CODE_STOP&&(E=!1),y){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+="");break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_STOP:f=!0;break}break}T&&(d=d===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var N=g-m;if(g=n.getNextUnset(g),!n.isRange(g,Math.min(n.getSize(),g+(g-m)/2),!1))throw new oe;if(w-=S*x,w%103!==x)throw new yn;var I=p.length;if(I===0)throw new oe;I>0&&E&&(d===e.CODE_CODE_C?p=p.substring(0,I-2):p=p.substring(0,I-1));for(var j=(o[1]+o[0])/2,O=m+N/2,P=u.length,M=new Uint8Array(P),F=0;F<P;F++)M[F]=u[F];var B=[new Me(j,r),new Me(O,r)];return new si(p,M,0,B,ze.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(an),GUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zL=function(t){GUe(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var a,o,s,l,u=this.counters;u.fill(0),this.decodeRowResult="";var d=e.findAsteriskPattern(n,u),f=n.getNextSet(d[1]),h=n.getSize(),p,m;do{e.recordPattern(n,f,u);var g=e.toNarrowWidePattern(u);if(g<0)throw new oe;p=e.patternToChar(g),this.decodeRowResult+=p,m=f;try{for(var v=(a=void 0,sA(u)),x=v.next();!x.done;x=v.next()){var y=x.value;f+=y}}catch(P){a={error:P}}finally{try{x&&!x.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}f=n.getNextSet(f)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var S=sA(u),E=S.next();!E.done;E=S.next()){var y=E.value;w+=y}}catch(P){s={error:P}}finally{try{E&&!E.done&&(l=S.return)&&l.call(S)}finally{if(s)throw s.error}}var C=f-m-w;if(f!==h&&C*2<w)throw new oe;if(this.usingCheckDigit){for(var A=this.decodeRowResult.length-1,T=0,N=0;N<A;N++)T+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(N));if(this.decodeRowResult.charAt(A)!==e.ALPHABET_STRING.charAt(T%43))throw new yn;this.decodeRowResult=this.decodeRowResult.substring(0,A)}if(this.decodeRowResult.length===0)throw new oe;var I;this.extendedMode?I=e.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;var j=(d[1]+d[0])/2,O=m+w/2;return new si(I,null,0,[new Me(j,r),new Me(O,r)],ze.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),a=r.getNextSet(0),o=0,s=a,l=!1,u=n.length,d=a;d<i;d++)if(r.get(d)!==l)n[o]++;else{if(o===u-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,s-Math.floor((d-s)/2)),s,!1))return[s,d];s+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,l=!l}throw new oe},e.toNarrowWidePattern=function(r){var n,i,a=r.length,o=0,s;do{var l=2147483647;try{for(var u=(n=void 0,sA(r)),d=u.next();!d.done;d=u.next()){var f=d.value;f<l&&f>o&&(l=f)}}catch(g){n={error:g}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}o=l,s=0;for(var h=0,p=0,m=0;m<a;m++){var f=r[m];f>o&&(p|=1<<a-1-m,s++,h+=f)}if(s===3){for(var m=0;m<a&&s>0;m++){var f=r[m];if(f>o&&(s--,f*2>=h))return-1}return p}}while(s>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new oe},e.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var s=r.charAt(a+1),l="\0";switch(o){case"+":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new Ce;break;case"$":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new Ce;break;case"%":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s==="X"||s==="Y"||s==="Z")l="";else throw new Ce;break;case"/":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new Ce;break}i+=l,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(an),qUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},WL=function(t){qUe(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,i){var a,o,s,l,u=this.findAsteriskPattern(n),d=n.getNextSet(u[1]),f=n.getSize(),h=this.counters;h.fill(0),this.decodeRowResult="";var p,m;do{e.recordPattern(n,d,h);var g=this.toPattern(h);if(g<0)throw new oe;p=this.patternToChar(g),this.decodeRowResult+=p,m=d;try{for(var v=(a=void 0,lA(h)),x=v.next();!x.done;x=v.next()){var y=x.value;d+=y}}catch(N){a={error:N}}finally{try{x&&!x.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}d=n.getNextSet(d)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var S=lA(h),E=S.next();!E.done;E=S.next()){var y=E.value;w+=y}}catch(N){s={error:N}}finally{try{E&&!E.done&&(l=S.return)&&l.call(S)}finally{if(s)throw s.error}}if(d===f||!n.get(d))throw new oe;if(this.decodeRowResult.length<2)throw new oe;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var C=this.decodeExtended(this.decodeRowResult),A=(u[1]+u[0])/2,T=m+w/2;return new si(C,null,0,[new Me(A,r),new Me(T,r)],ze.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),i=r.getNextSet(0);this.counters.fill(0);for(var a=this.counters,o=i,s=!1,l=a.length,u=0,d=i;d<n;d++)if(r.get(d)!==s)a[u]++;else{if(u===l-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([o,d]);o+=a[0]+a[1],a.copyWithin(0,2,2+u-1),a[u-1]=0,a[u]=0,u--}else u++;a[u]=1,s=!s}throw new oe},e.prototype.toPattern=function(r){var n,i,a=0;try{for(var o=lA(r),s=o.next();!s.done;s=o.next()){var l=s.value;a+=l}}catch(m){n={error:m}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}for(var u=0,d=r.length,f=0;f<d;f++){var h=Math.round(r[f]*9/a);if(h<1||h>4)return-1;if(f&1)u<<=h;else for(var p=0;p<h;p++)u=u<<1|1}return u},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new oe},e.prototype.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o>="a"&&o<="d"){if(a>=n-1)throw new Ce;var s=r.charAt(a+1),l="\0";switch(o){case"d":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new Ce;break;case"a":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new Ce;break;case"b":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s>="X"&&s<="Z")l="";else throw new Ce;break;case"c":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new Ce;break}i+=l,a++}else i+=o}return i},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,i){for(var a=1,o=0,s=n-1;s>=0;s--)o+=a*e.ALPHABET_STRING.indexOf(r.charAt(s)),++a>i&&(a=1);if(r.charAt(n)!==e.ALPHABET_STRING[o%47])throw new yn},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(an),KUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),YUe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},HL=function(t){KUe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var a,o,s=this.decodeStart(n),l=this.decodeEnd(n),u=new rt;e.decodeMiddle(n,s[1],l[0],u);var d=u.toString(),f=null;i!=null&&(f=i.get(ur.ALLOWED_LENGTHS)),f==null&&(f=e.DEFAULT_ALLOWED_LENGTHS);var h=d.length,p=!1,m=0;try{for(var g=YUe(f),v=g.next();!v.done;v=g.next()){var x=v.value;if(h===x){p=!0;break}x>m&&(m=x)}}catch(S){a={error:S}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}if(!p&&h>m&&(p=!0),!p)throw new Ce;var y=[new Me(s[1],r),new Me(l[0],r)],w=new si(d,null,0,y,ze.ITF,new Date().getTime());return w},e.decodeMiddle=function(r,n,i,a){var o=new Int32Array(10),s=new Int32Array(5),l=new Int32Array(5);for(o.fill(0),s.fill(0),l.fill(0);n<i;){an.recordPattern(r,n,o);for(var u=0;u<5;u++){var d=2*u;s[u]=o[d],l[u]=o[d+1]}var f=e.decodeDigit(s);a.append(f.toString()),f=this.decodeDigit(l),a.append(f.toString()),o.forEach(function(h){n+=h})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var a=n-1;i>0&&a>=0&&!r.get(a);a--)i--;if(i!==0)throw new oe},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new oe;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof oe&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var a=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-a,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var a=i.length,o=new Int32Array(a),s=r.getSize(),l=!1,u=0,d=n;o.fill(0);for(var f=n;f<s;f++)if(r.get(f)!==l)o[u]++;else{if(u===a-1){if(an.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[d,f];d+=o[0]+o[1],Qt.arraycopy(o,2,o,0,u-1),o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,l=!l}throw new oe},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var s=e.PATTERNS[o],l=an.patternMatchVariance(r,s,e.MAX_INDIVIDUAL_VARIANCE);l<n?(n=l,i=o):l===n&&(i=-1)}if(i>=0)return i%10;throw new oe},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(an),XUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mh=function(t){XUe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,a=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,a,!1,this.START_END_PATTERN,o);var s=i[0];a=i[1];var l=s-(a-s);l>=0&&(n=r.isRange(l,s,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new Ce;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new Ce;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,a){return this.findGuardPattern(r,n,i,a,new Int32Array(a.length))},e.findGuardPattern=function(r,n,i,a,o){var s=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var l=0,u=n,d=a.length,f=i,h=n;h<s;h++)if(r.get(h)!==f)o[l]++;else{if(l===d-1){if(an.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([u,h]);u+=o[0]+o[1];for(var p=o.slice(2,o.length),m=0;m<l-1;m++)o[m]=p[m];o[l-1]=0,o[l]=0,l--}else l++;o[l]=1,f=!f}throw new oe},e.decodeDigit=function(r,n,i,a){this.recordPattern(r,i,n);for(var o=this.MAX_AVG_VARIANCE,s=-1,l=a.length,u=0;u<l;u++){var d=a[u],f=an.patternMatchVariance(n,d,e.MAX_INDIVIDUAL_VARIANCE);f<o&&(o=f,s=u)}if(s>=0)return s;throw new oe},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(an),QUe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZUe=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),s=t.parseExtensionString(o),l=[new Me((n[0]+n[1])/2,e),new Me(a,e)],u=new si(o,null,0,l,ze.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&u.putAllMetadata(s),u},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),l=r[1],u=0,d=0;d<5&&l<s;d++){var f=mh.decodeDigit(e,o,l,mh.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var h=(i=void 0,QUe(o)),p=h.next();!p.done;p=h.next()){var m=p.value;l+=m}}catch(v){i={error:v}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}f>=10&&(u|=1<<4-d),d!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==5)throw new oe;var g=this.determineCheckDigit(u);if(t.extensionChecksum(n.toString())!==g)throw new oe;return l},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new oe},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[On.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),a=n%100,o=a<10?"0"+a:a.toString();return r+i+"."+o},t}(),JUe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eVe=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),s=t.parseExtensionString(o),l=[new Me((n[0]+n[1])/2,e),new Me(a,e)],u=new si(o,null,0,l,ze.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&u.putAllMetadata(s),u},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),l=r[1],u=0,d=0;d<2&&l<s;d++){var f=mh.decodeDigit(e,o,l,mh.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var h=(i=void 0,JUe(o)),p=h.next();!p.done;p=h.next()){var m=p.value;l+=m}}catch(g){i={error:g}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}f>=10&&(u|=1<<1-d),d!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==2)throw new oe;if(parseInt(n.toString())%4!==u)throw new oe;return l},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[On.ISSUE_NUMBER,parseInt(e)]])},t}(),tVe=function(){function t(){}return t.decodeRow=function(e,r,n){var i=mh.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new ZUe;return a.decodeRow(e,r,i)}catch{var o=new eVe;return o.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),rVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jr=function(t){rVe(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[n]=a}return r}return e.prototype.decodeRow=function(r,n,i){var a=e.findStartGuardPattern(n),o=i==null?null:i.get(ur.NEED_RESULT_POINT_CALLBACK);if(o!=null){var s=new Me((a[0]+a[1])/2,r);o.foundPossibleResultPoint(s)}var l=this.decodeMiddle(n,a,this.decodeRowStringBuffer),u=l.rowOffset,d=l.resultString;if(o!=null){var f=new Me(u,r);o.foundPossibleResultPoint(f)}var h=e.decodeEnd(n,u);if(o!=null){var p=new Me((h[0]+h[1])/2,r);o.foundPossibleResultPoint(p)}var m=h[1],g=m+(m-h[0]);if(g>=n.getSize()||!n.isRange(m,g,!1))throw new oe;var v=d.toString();if(v.length<8)throw new Ce;if(!e.checkChecksum(v))throw new yn;var x=(a[1]+a[0])/2,y=(h[1]+h[0])/2,w=this.getBarcodeFormat(),S=[new Me(x,r),new Me(y,r)],E=new si(v,null,0,S,w,new Date().getTime()),C=0;try{var A=tVe.decodeRow(r,n,h[1]);E.putMetadata(On.UPC_EAN_EXTENSION,A.getText()),E.putAllMetadata(A.getResultMetadata()),E.addResultPoints(A.getResultPoints()),C=A.getText().length}catch{}var T=i==null?null:i.get(ur.ALLOWED_EAN_EXTENSIONS);if(T!=null){var N=!1;for(var I in T)if(C.toString()===I){N=!0;break}if(!N)throw new oe}return w===ze.EAN_13||ze.UPC_A,E},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new Ce;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new Ce;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(mh),nVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),GL=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},PN=function(t){nVe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s,l,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),f=n[1],h=0,p=0;p<6&&f<d;p++){var m=Jr.decodeDigit(r,u,f,Jr.L_AND_G_PATTERNS);i+=String.fromCharCode(48+m%10);try{for(var g=(a=void 0,GL(u)),v=g.next();!v.done;v=g.next()){var x=v.value;f+=x}}catch(E){a={error:E}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}m>=10&&(h|=1<<5-p)}i=e.determineFirstDigit(i,h);var y=Jr.findGuardPattern(r,f,!0,Jr.MIDDLE_PATTERN,new Int32Array(Jr.MIDDLE_PATTERN.length).fill(0));f=y[1];for(var p=0;p<6&&f<d;p++){var m=Jr.decodeDigit(r,u,f,Jr.L_PATTERNS);i+=String.fromCharCode(48+m);try{for(var w=(s=void 0,GL(u)),S=w.next();!S.done;S=w.next()){var x=S.value;f+=x}}catch(A){s={error:A}}finally{try{S&&!S.done&&(l=w.return)&&l.call(w)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return ze.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode(48+i)+r,r;throw new oe},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(Jr),iVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qL=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},KL=function(t){iVe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s,l,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),f=n[1],h=0;h<4&&f<d;h++){var p=Jr.decodeDigit(r,u,f,Jr.L_PATTERNS);i+=String.fromCharCode(48+p);try{for(var m=(a=void 0,qL(u)),g=m.next();!g.done;g=m.next()){var v=g.value;f+=v}}catch(S){a={error:S}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}}var x=Jr.findGuardPattern(r,f,!0,Jr.MIDDLE_PATTERN,new Int32Array(Jr.MIDDLE_PATTERN.length).fill(0));f=x[1];for(var h=0;h<4&&f<d;h++){var p=Jr.decodeDigit(r,u,f,Jr.L_PATTERNS);i+=String.fromCharCode(48+p);try{for(var y=(s=void 0,qL(u)),w=y.next();!w.done;w=y.next()){var v=w.value;f+=v}}catch(C){s={error:C}}finally{try{w&&!w.done&&(l=y.return)&&l.call(y)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return ze.EAN_8},e}(Jr),aVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),YL=function(t){aVe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new PN,r}return e.prototype.getBarcodeFormat=function(){return ze.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new si(n.substring(1),null,null,r.getResultPoints(),ze.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new oe},e.prototype.reset=function(){this.ean13Reader.reset()},e}(Jr),oVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sVe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},XL=function(t){oVe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s=this.decodeMiddleCounters.map(function(v){return v});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var l=r.getSize(),u=n[1],d=0,f=0;f<6&&u<l;f++){var h=e.decodeDigit(r,s,u,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+h%10);try{for(var p=(a=void 0,sVe(s)),m=p.next();!m.done;m=p.next()){var g=m.value;u+=g}}catch(v){a={error:v}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}h>=10&&(d|=1<<5-f)}return e.determineNumSysAndCheckDigit(new rt(i),d),u},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return Jr.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){r.insert(0,"0"+i),r.append("0"+a);return}throw oe.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return ze.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new rt;i.append(r.charAt(0));var a=n[5];switch(a){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(a),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(a);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(Jr),lVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),QL=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cA=function(t){lVe(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(ur.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(ze.EAN_13)>-1&&a.push(new PN),i.indexOf(ze.UPC_A)>-1&&a.push(new YL),i.indexOf(ze.EAN_8)>-1&&a.push(new KL),i.indexOf(ze.UPC_E)>-1&&a.push(new XL)),a.length===0&&(a.push(new PN),a.push(new YL),a.push(new KL),a.push(new XL)),n.readers=a,n}return e.prototype.decodeRow=function(r,n,i){var a,o;try{for(var s=QL(this.readers),l=s.next();!l.done;l=s.next()){var u=l.value;try{var d=u.decodeRow(r,n,i),f=d.getBarcodeFormat()===ze.EAN_13&&d.getText().charAt(0)==="0",h=i==null?null:i.get(ur.POSSIBLE_FORMATS),p=h==null||h.includes(ze.UPC_A);if(f&&p){var m=d.getRawBytes(),g=new si(d.getText().substring(1),m,m?m.length:null,d.getResultPoints(),ze.UPC_A);return g.putAllMetadata(d.getResultMetadata()),g}return d}catch{}}}catch(v){a={error:v}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(a)throw a.error}}throw new oe},e.prototype.reset=function(){var r,n;try{for(var i=QL(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e}(an),cVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uVe=function(t){cVe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,i){var a=this.getValidRowData(n);if(!a)throw new oe;var o=this.codaBarDecodeRow(a.row);if(!o)throw new oe;return new si(o,null,0,[new Me(a.left,r),new Me(a.right,r)],ze.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),i=n.indexOf(!0);if(i===-1)return null;var a=n.lastIndexOf(!0);if(a<=i)return null;n=n.slice(i,a+1);for(var o=[],s=n[0],l=1,u=1;u<n.length;u++)n[u]===s?l++:(s=n[u],o.push(l),l=1);return o.push(l),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:i,right:a}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],i=Math.ceil(r.reduce(function(l,u){return(l+u)/2},0));r.length>0;){var a=r.splice(0,8).splice(0,7),o=a.map(function(l){return l<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[o])}var s=n.join("");return this.validCodaBarString(s)?s:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e}(an),dVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fVe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},du=function(t){dVe(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(an.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new oe},e.count=function(r){return _t.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]>a&&(a=n[o],i=o);r[i]++},e.decrement=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]<a&&(a=n[o],i=o);r[i]--},e.isFinderPattern=function(r){var n,i,a=r[0]+r[1],o=a+r[2]+r[3],s=a/o;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var l=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;try{for(var d=fVe(r),f=d.next();!f.done;f=d.next()){var h=f.value;h>u&&(u=h),h<l&&(l=h)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}return u<10*l}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(an),jw=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),LJ=function(){function t(e,r,n,i,a){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Me(n,a)),this.resultPoints.push(new Me(i,a))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),hVe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ff=function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,a,o=0;try{for(var s=hVe(e),l=s.next();!l.done;l=s.next()){var u=l.value;o+=u}}catch(y){i={error:y}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}for(var d=0,f=0,h=e.length,p=0;p<h-1;p++){var m=void 0;for(m=1,f|=1<<p;m<e[p];m++,f&=~(1<<p)){var g=t.combins(o-m-1,h-p-2);if(n&&f===0&&o-m-(h-p-1)>=h-p-1&&(g-=t.combins(o-m-(h-p),h-p-2)),h-p-1>1){for(var v=0,x=o-m-(h-p-2);x>r;x--)v+=t.combins(o-m-x-1,h-p-3);g-=v*(h-1-p)}else o-m>r&&g--;d+=g}o-=m}return d},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var a=1,o=1,s=e;s>n;s--)a*=s,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},t}(),pVe=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new xn(n),a=0,o=e[0],s=o.getRightChar().getValue(),l=11;l>=0;--l)s&1<<l&&i.set(a),a++;for(var l=1;l<e.length;++l){for(var u=e[l],d=u.getLeftChar().getValue(),f=11;f>=0;--f)d&1<<f&&i.set(a),a++;if(u.getRightChar()!==null)for(var h=u.getRightChar().getValue(),f=11;f>=0;--f)h&1<<f&&i.set(a),a++}return i},t}(),eu=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),d3=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),mVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qa=function(t){mVe(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(d3),gVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tu=function(t){gVe(e,t);function e(r,n,i){var a=t.call(this,r)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(d3),vVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ld=function(t){vVe(e,t);function e(r,n,i){var a=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new Ce;return a.firstDigit=n,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(d3),e1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yVe=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,a,o,s,l,u;if(!e)return null;if(e.length<2)throw new oe;var d=e.substring(0,2);try{for(var f=e1(t.TWO_DIGIT_DATA_LENGTH),h=f.next();!h.done;h=f.next()){var p=h.value;if(p[0]===d)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,p[2],e):t.processFixedAI(2,p[1],e)}}catch(C){r={error:C}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(e.length<3)throw new oe;var m=e.substring(0,3);try{for(var g=e1(t.THREE_DIGIT_DATA_LENGTH),v=g.next();!v.done;v=g.next()){var p=v.value;if(p[0]===m)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,p[2],e):t.processFixedAI(3,p[1],e)}}catch(C){i={error:C}}finally{try{v&&!v.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}try{for(var x=e1(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),y=x.next();!y.done;y=x.next()){var p=y.value;if(p[0]===m)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(C){o={error:C}}finally{try{y&&!y.done&&(s=x.return)&&s.call(x)}finally{if(o)throw o.error}}if(e.length<4)throw new oe;var w=e.substring(0,4);try{for(var S=e1(t.FOUR_DIGIT_DATA_LENGTH),E=S.next();!E.done;E=S.next()){var p=E.value;if(p[0]===w)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(C){l={error:C}}finally{try{E&&!E.done&&(u=S.return)&&u.call(S)}finally{if(l)throw l.error}}throw new oe},t.processFixedAI=function(e,r,n){if(n.length<e)throw new oe;var i=n.substring(0,e);if(n.length<e+r)throw new oe;var a=n.substring(e,e+r),o=n.substring(e+r),s="("+i+")"+a,l=t.parseFieldsInGeneralPurpose(o);return l==null?s:s+l},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),a;n.length<e+r?a=n.length:a=e+r;var o=n.substring(e,a),s=n.substring(a),l="("+i+")"+o,u=t.parseFieldsInGeneralPurpose(s);return u==null?l:l+u},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),ex=function(){function t(e){this.buffer=new rt,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var a=this.decodeGeneralPurposeField(n,i),o=yVe.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,n===a.getNewPosition())break;n=a.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new Ld(this.information.getSize(),Ld.FNC1,Ld.FNC1):new Ld(this.information.getSize(),r-1,Ld.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,a=(n-8)%11;return new Ld(e+7,i,a)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,a=0;a<n;++a)e.get(r+a)&&(i|=1<<n-a-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new tu(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new tu(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new tu(this.current.getPosition(),this.buffer.toString()):r=new tu(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new eu(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new tu(this.current.getPosition(),this.buffer.toString());return new eu(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new eu(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new tu(this.current.getPosition(),this.buffer.toString());return new eu(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new eu(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new tu(this.current.getPosition(),this.buffer.toString());return new eu(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new eu(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Qa(e+5,Qa.FNC1);if(r>=5&&r<15)return new Qa(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Qa(e+7,""+(n+1));if(n>=90&&n<116)return new Qa(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new Ce}return new Qa(e+8,a)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Qa(e+5,Qa.FNC1);if(r>=5&&r<15)return new Qa(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Qa(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new B0("Decoding invalid alphanumeric value: "+n)}return new Qa(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),$J=function(){function t(e){this.information=e,this.generalDecoder=new ex(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),xVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lo=function(t){xVe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);o/100===0&&r.append("0"),o/10===0&&r.append("0"),r.append(o)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,a=0;a<13;a++){var o=r.charAt(a+n).charCodeAt(0)-48;i+=a&1?o:3*o}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e}($J),wVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bVe=function(t){wVe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new rt;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(lo),_Ve=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),SVe=function(t){_Ve(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new rt;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}($J),EVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tx=function(t){EVe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,a);for(var o=this.checkWeight(a),s=1e5,l=0;l<5;++l)o/s===0&&r.append("0"),s/=10;r.append(o)},e}(lo),AVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),FJ=function(t){AVe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+tx.GTIN_SIZE+e.WEIGHT_SIZE)throw new oe;var r=new rt;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+tx.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(tx),CVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),TVe=function(t){CVe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(FJ),NVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),IVe=function(t){NVe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(FJ),PVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),OVe=function(t){PVe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+lo.GTIN_SIZE)throw new oe;var r=new rt;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+lo.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+lo.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(lo),jVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kVe=function(t){jVe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+lo.GTIN_SIZE)throw new oe;var r=new rt;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+lo.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+lo.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&r.append("0"),i/10===0&&r.append("0"),r.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+lo.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(lo),RVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sl=function(t){RVe(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.dateCode=i,a.firstAIdigits=n,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new oe;var r=new rt;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){r.append("("),r.append(this.dateCode),r.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var s=i;s/10===0&&r.append("0"),r.append(s),o/10===0&&r.append("0"),r.append(o),a/10===0&&r.append("0"),r.append(a)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(tx);function DVe(t){try{if(t.get(1))return new bVe(t);if(!t.get(2))return new SVe(t);var e=ex.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new TVe(t);case 5:return new IVe(t)}var r=ex.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new OVe(t);case 13:return new kVe(t)}var n=ex.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new Sl(t,"310","11");case 57:return new Sl(t,"320","11");case 58:return new Sl(t,"310","13");case 59:return new Sl(t,"320","13");case 60:return new Sl(t,"310","15");case 61:return new Sl(t,"320","15");case 62:return new Sl(t,"310","17");case 63:return new Sl(t,"320","17")}}catch(i){throw console.log(i),new B0("unknown decoder: "+t)}}var ZL=function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),MVe=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,a){r.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),LVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),El=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$Ve=function(t){LVe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(s){if(s instanceof oe){if(!this.pairs.length)throw new oe;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(r,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new oe},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,a,o=n;o<this.rows.length;o++){var s=this.rows[o];this.pairs.length=0;try{for(var l=(i=void 0,El(r)),u=l.next();!u.done;u=l.next()){var d=u.value;this.pairs.push(d.getPairs())}}catch(h){i={error:h}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(r);f.push(s);try{return this.checkRows(f,o+1)}catch(h){console.log(h)}}}throw new oe},e.isValidSequence=function(r){var n,i;try{for(var a=El(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var s=o.value;if(!(r.length>s.length)){for(var l=!0,u=0;u<r.length;u++)if(r[u].getFinderPattern().getValue()!==s[u]){l=!1;break}if(l)return!0}}}catch(d){n={error:d}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,a=!1,o=!1;i<this.rows.length;){var s=this.rows[i];if(s.getRowNumber()>r){o=s.isEquivalent(this.pairs);break}a=s.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new MVe(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,a,o,s,l,u;try{for(var d=El(n),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.getPairs().length!==r.length){var p=!0;try{for(var m=(o=void 0,El(h.getPairs())),g=m.next();!g.done;g=m.next()){var v=g.value,x=!1;try{for(var y=(l=void 0,El(r)),w=y.next();!w.done;w=y.next()){var S=w.value;if(ZL.equals(v,S)){x=!0;break}}}catch(E){l={error:E}}finally{try{w&&!w.done&&(u=y.return)&&u.call(y)}finally{if(l)throw l.error}}x||(p=!1)}}catch(E){o={error:E}}finally{try{g&&!g.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}}}}catch(E){i={error:E}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,a,o,s,l,u;try{for(var d=El(n),f=d.next();!f.done;f=d.next()){var h=f.value,p=!0;try{for(var m=(o=void 0,El(r)),g=m.next();!g.done;g=m.next()){var v=g.value,x=!1;try{for(var y=(l=void 0,El(h.getPairs())),w=y.next();!w.done;w=y.next()){var S=w.value;if(v.equals(S)){x=!0;break}}}catch(E){l={error:E}}finally{try{w&&!w.done&&(u=y.return)&&u.call(y)}finally{if(l)throw l.error}}if(!x){p=!1;break}}}catch(E){o={error:E}}finally{try{g&&!g.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}if(p)return!0}}catch(E){i={error:E}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=pVe.buildBitArray(r),i=DVe(n),a=i.parseInformation(),o=r[0].getFinderPattern().getResultPoints(),s=r[r.length-1].getFinderPattern().getResultPoints(),l=[o[0],o[1],s[0],s[1]];return new si(a,null,null,l,ze.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),o=2,s=1;s<this.pairs.size();++s){var l=this.pairs.get(s);a+=l.getLeftChar().getChecksumPortion(),o++;var u=l.getRightChar();u!=null&&(a+=u.getChecksumPortion(),o++)}a%=211;var d=211*(o-4)+a;return d===n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var a=n.length%2===0;this.startFromEven&&(a=!a);var o,s=!0,l=-1;do this.findNextPair(r,n,l),o=this.parseFoundFinderPattern(r,i,a),o===null?l=e.getNextSecondBar(r,this.startEnd[0]):s=!1;while(s);var u=this.decodeDataCharacter(r,o,a,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new oe;var d;try{d=this.decodeDataCharacter(r,o,a,!1)}catch(f){d=null,console.log(f)}return new ZL(u,d,o,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=r.getSize(),s;if(i>=0)s=i;else if(this.isEmptyPair(n))s=0;else{var l=n[n.length-1];s=l.getFinderPattern().getStartEnd()[1]}var u=n.length%2!==0;this.startFromEven&&(u=!u);for(var d=!1;s<o&&(d=!r.get(s),!!d);)s++;for(var f=0,h=s,p=s;p<o;p++)if(r.get(p)!==d)a[f]++;else{if(f===3){if(u&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=h,this.startEnd[1]=p;return}u&&e.reverseCounters(a),h+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,f--}else f++;a[f]=1,d=!d}throw new oe},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var a=r[i];r[i]=r[n-i-1],r[n-i-1]=a}},e.prototype.parseFoundFinderPattern=function(r,n,i){var a,o,s;if(i){for(var l=this.startEnd[0]-1;l>=0&&!r.get(l);)l--;l++,a=this.startEnd[0]-l,o=l,s=this.startEnd[1]}else o=this.startEnd[0],s=r.getNextUnset(this.startEnd[1]+1),a=s-this.startEnd[1];var u=this.getDecodeFinderCounters();Qt.arraycopy(u,0,u,1,u.length-1),u[0]=a;var d;try{d=this.parseFinderValue(u,e.FINDER_PATTERNS)}catch{return null}return new LJ(d,[o,s],o,s,n)},e.prototype.decodeDataCharacter=function(r,n,i,a){for(var o=this.getDataCharacterCounters(),s=0;s<o.length;s++)o[s]=0;if(a)e.recordPatternInReverse(r,n.getStartEnd()[0],o);else{e.recordPattern(r,n.getStartEnd()[1],o);for(var l=0,u=o.length-1;l<u;l++,u--){var d=o[l];o[l]=o[u],o[u]=d}}var f=17,h=_t.sum(new Int32Array(o))/f,p=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(h-p)/p>.3)throw new oe;for(var m=this.getOddCounts(),g=this.getEvenCounts(),v=this.getOddRoundingErrors(),x=this.getEvenRoundingErrors(),l=0;l<o.length;l++){var y=1*o[l]/h,w=y+.5;if(w<1){if(y<.3)throw new oe;w=1}else if(w>8){if(y>8.7)throw new oe;w=8}var S=l/2;l&1?(g[S]=w,x[S]=y-w):(m[S]=w,v[S]=y-w)}this.adjustOddEvenCounts(f);for(var E=4*n.getValue()+(i?0:2)+(a?0:1)-1,C=0,A=0,l=m.length-1;l>=0;l--){if(e.isNotA1left(n,i,a)){var T=e.WEIGHTS[E][2*l];A+=m[l]*T}C+=m[l]}for(var N=0,l=g.length-1;l>=0;l--)if(e.isNotA1left(n,i,a)){var T=e.WEIGHTS[E][2*l+1];N+=g[l]*T}var I=A+N;if(C&1||C>13||C<4)throw new oe;var j=(13-C)/2,O=e.SYMBOL_WIDEST[j],P=9-O,M=ff.getRSSvalue(m,O,!0),F=ff.getRSSvalue(g,P,!1),B=e.EVEN_TOTAL_SUBSET[j],W=e.GSUM[j],$=M*B+F+W;return new jw($,I)},e.isNotA1left=function(r,n,i){return!(r.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=_t.sum(new Int32Array(this.getOddCounts())),i=_t.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;n>13?o=!0:n<4&&(a=!0);var s=!1,l=!1;i>13?l=!0:i<4&&(s=!0);var u=n+i-r,d=(n&1)===1,f=(i&1)===0;if(u===1)if(d){if(f)throw new oe;o=!0}else{if(!f)throw new oe;l=!0}else if(u===-1)if(d){if(f)throw new oe;a=!0}else{if(!f)throw new oe;s=!0}else if(u===0){if(d){if(!f)throw new oe;n<i?(a=!0,l=!0):(o=!0,s=!0)}else if(f)throw new oe}else throw new oe;if(a){if(o)throw new oe;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(l)throw new oe;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(du),FVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),BVe=function(t){FVe(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(jw),UVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},JL=function(t){UVe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var a,o,s,l,u=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,u),n.reverse();var d=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,d),n.reverse();try{for(var f=uA(this.possibleLeftPairs),h=f.next();!h.done;h=f.next()){var p=h.value;if(p.getCount()>1)try{for(var m=(s=void 0,uA(this.possibleRightPairs)),g=m.next();!g.done;g=m.next()){var v=g.value;if(v.getCount()>1&&e.checkChecksum(p,v))return e.constructResult(p,v)}}catch(x){s={error:x}}finally{try{g&&!g.done&&(l=m.return)&&l.call(m)}finally{if(s)throw s.error}}}}catch(x){a={error:x}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(a)throw a.error}}throw new oe},e.addOrTally=function(r,n){var i,a;if(n!=null){var o=!1;try{for(var s=uA(r),l=s.next();!l.done;l=s.next()){var u=l.value;if(u.getValue()===n.getValue()){u.incrementCount(),o=!0;break}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}o||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),a=new String(i).toString(),o=new rt,s=13-a.length;s>0;s--)o.append("0");o.append(a);for(var l=0,s=0;s<13;s++){var u=o.charAt(s).charCodeAt(0)-48;l+=s&1?u:3*u}l=10-l%10,l===10&&(l=0),o.append(l.toString());var d=r.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new si(o.toString(),null,0,[d[0],d[1],f[0],f[1]],ze.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,a=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(r,n,i,a){try{var o=this.findFinderPattern(r,n),s=this.parseFoundFinderPattern(r,i,n,o),l=a==null?null:a.get(ur.NEED_RESULT_POINT_CALLBACK);if(l!=null){var u=(o[0]+o[1])/2;n&&(u=r.getSize()-1-u),l.foundPossibleResultPoint(new Me(u,i))}var d=this.decodeDataCharacter(r,s,!0),f=this.decodeDataCharacter(r,s,!1);return new BVe(1597*d.getValue()+f.getValue(),d.getChecksumPortion()+4*f.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)an.recordPatternInReverse(r,n.getStartEnd()[0],a);else{an.recordPattern(r,n.getStartEnd()[1]+1,a);for(var s=0,l=a.length-1;s<l;s++,l--){var u=a[s];a[s]=a[l],a[l]=u}}for(var d=i?16:15,f=_t.sum(new Int32Array(a))/d,h=this.getOddCounts(),p=this.getEvenCounts(),m=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors(),s=0;s<a.length;s++){var v=a[s]/f,x=Math.floor(v+.5);x<1?x=1:x>8&&(x=8);var y=Math.floor(s/2);s&1?(p[y]=x,g[y]=v-x):(h[y]=x,m[y]=v-x)}this.adjustOddEvenCounts(i,d);for(var w=0,S=0,s=h.length-1;s>=0;s--)S*=9,S+=h[s],w+=h[s];for(var E=0,C=0,s=p.length-1;s>=0;s--)E*=9,E+=p[s],C+=p[s];var A=S+3*E;if(i){if(w&1||w>12||w<4)throw new oe;var T=(12-w)/2,N=e.OUTSIDE_ODD_WIDEST[T],I=9-N,j=ff.getRSSvalue(h,N,!1),O=ff.getRSSvalue(p,I,!0),P=e.OUTSIDE_EVEN_TOTAL_SUBSET[T],M=e.OUTSIDE_GSUM[T];return new jw(j*P+O+M,A)}else{if(C&1||C>10||C<4)throw new oe;var T=(10-C)/2,N=e.INSIDE_ODD_WIDEST[T],I=9-N,j=ff.getRSSvalue(h,N,!0),O=ff.getRSSvalue(p,I,!1),F=e.INSIDE_ODD_TOTAL_SUBSET[T],M=e.INSIDE_GSUM[T];return new jw(O*F+j+M,A)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=r.getSize(),o=!1,s=0;s<a&&(o=!r.get(s),n!==o);)s++;for(var l=0,u=s,d=s;d<a;d++)if(r.get(d)!==o)i[l]++;else{if(l===3){if(du.isFinderPattern(i))return[u,d];u+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,l--}else l++;i[l]=1,o=!o}throw new oe},e.prototype.parseFoundFinderPattern=function(r,n,i,a){for(var o=r.get(a[0]),s=a[0]-1;s>=0&&o!==r.get(s);)s--;s++;var l=a[0]-s,u=this.getDecodeFinderCounters(),d=new Int32Array(u.length);Qt.arraycopy(u,0,d,1,u.length-1),d[0]=l;var f=this.parseFinderValue(d,e.FINDER_PATTERNS),h=s,p=a[1];return i&&(h=r.getSize()-1-h,p=r.getSize()-1-p),new LJ(f,[s,a[1]],h,p,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=_t.sum(new Int32Array(this.getOddCounts())),a=_t.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1,l=!1,u=!1;r?(i>12?s=!0:i<4&&(o=!0),a>12?u=!0:a<4&&(l=!0)):(i>11?s=!0:i<5&&(o=!0),a>10?u=!0:a<4&&(l=!0));var d=i+a-n,f=(i&1)===(r?1:0),h=(a&1)===1;if(d===1)if(f){if(h)throw new oe;s=!0}else{if(!h)throw new oe;u=!0}else if(d===-1)if(f){if(h)throw new oe;o=!0}else{if(!h)throw new oe;l=!0}else if(d===0){if(f){if(!h)throw new oe;i<a?(o=!0,u=!0):(s=!0,l=!0)}else if(h)throw new oe}else throw new oe;if(o){if(s)throw new oe;du.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&du.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(u)throw new oe;du.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&du.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(du),VVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pm=function(t){VVe(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(ur.POSSIBLE_FORMATS):null,a=r&&r.get(ur.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=r&&r.get(ur.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(ze.EAN_13)||i.includes(ze.UPC_A)||i.includes(ze.EAN_8)||i.includes(ze.UPC_E))&&n.readers.push(new cA(r)),i.includes(ze.CODE_39)&&n.readers.push(new zL(a,o)),i.includes(ze.CODE_93)&&n.readers.push(new WL),i.includes(ze.CODE_128)&&n.readers.push(new VL),i.includes(ze.ITF)&&n.readers.push(new HL),i.includes(ze.CODABAR)&&n.readers.push(new uVe),i.includes(ze.RSS_14)&&n.readers.push(new JL),i.includes(ze.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new $Ve))),n.readers.length===0&&(n.readers.push(new cA(r)),n.readers.push(new zL),n.readers.push(new WL),n.readers.push(new cA(r)),n.readers.push(new VL),n.readers.push(new HL),n.readers.push(new JL)),n}return e.prototype.decodeRow=function(r,n,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(r,n,i)}catch{}throw new oe},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(an),zVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){zVe(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new Pm(n),r,n)||this}return e})(vp);var e$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ct=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),Et=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),WVe=function(){function t(e,r,n,i,a,o){var s,l;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var u=0,d=o.getECCodewords(),f=o.getECBlocks();try{for(var h=e$(f),p=h.next();!p.done;p=h.next()){var m=p.value;u+=m.getCount()*(m.getDataCodewords()+d)}}catch(g){s={error:g}}finally{try{p&&!p.done&&(l=h.return)&&l.call(h)}finally{if(s)throw s.error}}this.totalCodewords=u}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if(e&1||r&1)throw new Ce;try{for(var a=e$(t.VERSIONS),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===r)return s}}catch(l){n={error:l}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}throw new Ce},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new Ct(5,new Et(1,3))),new t(2,12,12,10,10,new Ct(7,new Et(1,5))),new t(3,14,14,12,12,new Ct(10,new Et(1,8))),new t(4,16,16,14,14,new Ct(12,new Et(1,12))),new t(5,18,18,16,16,new Ct(14,new Et(1,18))),new t(6,20,20,18,18,new Ct(18,new Et(1,22))),new t(7,22,22,20,20,new Ct(20,new Et(1,30))),new t(8,24,24,22,22,new Ct(24,new Et(1,36))),new t(9,26,26,24,24,new Ct(28,new Et(1,44))),new t(10,32,32,14,14,new Ct(36,new Et(1,62))),new t(11,36,36,16,16,new Ct(42,new Et(1,86))),new t(12,40,40,18,18,new Ct(48,new Et(1,114))),new t(13,44,44,20,20,new Ct(56,new Et(1,144))),new t(14,48,48,22,22,new Ct(68,new Et(1,174))),new t(15,52,52,24,24,new Ct(42,new Et(2,102))),new t(16,64,64,14,14,new Ct(56,new Et(2,140))),new t(17,72,72,16,16,new Ct(36,new Et(4,92))),new t(18,80,80,18,18,new Ct(48,new Et(4,114))),new t(19,88,88,20,20,new Ct(56,new Et(4,144))),new t(20,96,96,22,22,new Ct(68,new Et(4,174))),new t(21,104,104,24,24,new Ct(56,new Et(6,136))),new t(22,120,120,18,18,new Ct(68,new Et(6,175))),new t(23,132,132,20,20,new Ct(62,new Et(8,163))),new t(24,144,144,22,22,new Ct(62,new Et(8,156),new Et(2,155))),new t(25,8,18,6,16,new Ct(7,new Et(1,5))),new t(26,8,32,6,14,new Ct(11,new Et(1,10))),new t(27,12,26,10,24,new Ct(14,new Et(1,16))),new t(28,12,36,10,16,new Ct(18,new Et(1,22))),new t(29,16,36,14,16,new Ct(24,new Et(1,32))),new t(30,16,48,14,22,new Ct(28,new Et(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),HVe=function(){function t(e){var r=e.getHeight();if(r<8||r>144||r&1)throw new Ce;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ls(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return WVe.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),s=!1,l=!1,u=!1,d=!1;do if(n===a&&i===0&&!s)e[r++]=this.readCorner1(a,o)&255,n-=2,i+=2,s=!0;else if(n===a-2&&i===0&&o&3&&!l)e[r++]=this.readCorner2(a,o)&255,n-=2,i+=2,l=!0;else if(n===a+4&&i===2&&!(o&7)&&!u)e[r++]=this.readCorner3(a,o)&255,n-=2,i+=2,u=!0;else if(n===a-2&&i===0&&(o&7)===4&&!d)e[r++]=this.readCorner4(a,o)&255,n-=2,i+=2,d=!0;else{do n<a&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n-=2,i+=2;while(n>=0&&i<o);n+=1,i+=3;do n>=0&&i<o&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n+=2,i-=2;while(n<a&&i>=0);n+=3,i+=1}while(n<a||i<o);if(r!==this.version.getTotalCodewords())throw new Ce;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var a=0;return this.readModule(e-2,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-2,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r,n,i)&&(a|=1),a<<=1,this.readModule(e,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e,r,n,i)&&(a|=1),a},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new We("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=r/i|0,s=n/a|0,l=o*i,u=s*a,d=new ls(u,l),f=0;f<o;++f)for(var h=f*i,p=0;p<s;++p)for(var m=p*a,g=0;g<i;++g)for(var v=f*(i+2)+1+g,x=h+g,y=0;y<a;++y){var w=p*(a+2)+1+y;if(e.get(w,v)){var S=m+y;d.set(S,x)}}return d},t}(),t$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},GVe=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,a,o,s=r.getECBlocks(),l=0,u=s.getECBlocks();try{for(var d=t$(u),f=d.next();!f.done;f=d.next()){var h=f.value;l+=h.getCount()}}catch(M){n={error:M}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}var p=new Array(l),m=0;try{for(var g=t$(u),v=g.next();!v.done;v=g.next())for(var h=v.value,x=0;x<h.getCount();x++){var y=h.getDataCodewords(),w=s.getECCodewords()+y;p[m++]=new t(y,new Uint8Array(w))}}catch(M){a={error:M}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}for(var S=p[0].codewords.length,E=S-s.getECCodewords(),C=E-1,A=0,x=0;x<C;x++)for(var T=0;T<m;T++)p[T].codewords[x]=e[A++];for(var N=r.getVersionNumber()===24,I=N?8:m,T=0;T<I;T++)p[T].codewords[E-1]=e[A++];for(var j=p[0].codewords.length,x=E;x<j;x++)for(var T=0;T<m;T++){var O=N?(T+8)%m:T,P=N&&O>7?x-1:x;p[O].codewords[P]=e[A++]}if(A!==e.length)throw new We;return p},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),BJ=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new We(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,a=this.bytes;if(n>0){var o=8-n,s=e<o?e:o,l=o-s,u=255>>8-s<<l;r=(a[i]&u)>>l,e-=s,n+=s,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|a[i]&255,i++,e-=8;if(e>0){var l=8-e,u=255>>l<<l;r=r<<e|(a[i]&u)>>l,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),Xr;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(Xr||(Xr={}));var qVe=function(){function t(){}return t.decode=function(e){var r=new BJ(e),n=new rt,i=new rt,a=new Array,o=Xr.ASCII_ENCODE;do if(o===Xr.ASCII_ENCODE)o=this.decodeAsciiSegment(r,n,i);else{switch(o){case Xr.C40_ENCODE:this.decodeC40Segment(r,n);break;case Xr.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case Xr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case Xr.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case Xr.BASE256_ENCODE:this.decodeBase256Segment(r,n,a);break;default:throw new Ce}o=Xr.ASCII_ENCODE}while(o!==Xr.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new A_(e,n.toString(),a.length===0?null:a,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var a=e.readBits(8);if(a===0)throw new Ce;if(a<=128)return i&&(a+=128),r.append(String.fromCharCode(a-1)),Xr.ASCII_ENCODE;if(a===129)return Xr.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&r.append("0"),r.append(""+o)}else switch(a){case 230:return Xr.C40_ENCODE;case 231:return Xr.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return Xr.ANSIX12_ENCODE;case 239:return Xr.TEXT_ENCODE;case 240:return Xr.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new Ce;break}}while(e.available()>0);return Xr.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var l=i[s];switch(a){case 0:if(l<3)a=l+1;else if(l<this.C40_BASIC_SET_CHARS.length){var u=this.C40_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new Ce;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),a=0;break;case 2:if(l<this.C40_SHIFT2_SET_CHARS.length){var u=this.C40_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(l){case 27:r.append("");break;case 30:n=!0;break;default:throw new Ce}a=0;break;case 3:n?(r.append(String.fromCharCode(l+224)),n=!1):r.append(String.fromCharCode(l+96)),a=0;break;default:throw new Ce}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var l=i[s];switch(a){case 0:if(l<3)a=l+1;else if(l<this.TEXT_BASIC_SET_CHARS.length){var u=this.TEXT_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new Ce;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),a=0;break;case 2:if(l<this.TEXT_SHIFT2_SET_CHARS.length){var u=this.TEXT_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(l){case 27:r.append("");break;case 30:n=!0;break;default:throw new Ce}a=0;break;case 3:if(l<this.TEXT_SHIFT3_SET_CHARS.length){var u=this.TEXT_SHIFT3_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u),a=0}else throw new Ce;break;default:throw new Ce}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var a=0;a<3;a++){var o=n[a];switch(o){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(o<14)r.append(String.fromCharCode(o+44));else if(o<40)r.append(String.fromCharCode(o+51));else throw new Ce;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,a=Math.floor(i/1600);n[0]=a,i-=a*1600,a=Math.floor(i/40),n[1]=a,n[2]=i-a*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}i&32||(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new Ce;for(var s=new Uint8Array(o),l=0;l<o;l++){if(e.available()<8)throw new Ce;s[l]=this.unrandomize255State(e.readBits(8),i++)}n.push(s);try{r.append(Da.decode(s,pt.ISO88591))}catch(u){throw new B0("Platform does not support required encoding: "+u.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t}(),KVe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},YVe=function(){function t(){this.rsDecoder=new C_(Ri.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new HVe(e),a=i.getVersion(),o=i.readCodewords(),s=GVe.getDataBlocks(o,a),l=0;try{for(var u=KVe(s),d=u.next();!d.done;d=u.next()){var f=d.value;l+=f.getNumDataCodewords()}}catch(w){r={error:w}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}for(var h=new Uint8Array(l),p=s.length,m=0;m<p;m++){var g=s[m],v=g.getCodewords(),x=g.getNumDataCodewords();this.correctErrors(v,x);for(var y=0;y<x;y++)h[y*p+m]=v[y]}return qVe.decode(h)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new yn}for(var i=0;i<r;i++)e[i]=n[i]},t}(),XVe=function(){function t(e){this.image=e,this.rectangleDetector=new NN(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new oe;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],a=r[2],o=r[3],s=this.transitionsBetween(n,o)+1,l=this.transitionsBetween(a,o)+1;(s&1)===1&&(s+=1),(l&1)===1&&(l+=1),4*s<7*l&&4*l<7*s&&(s=l=Math.max(s,l));var u=t.sampleGrid(this.image,n,i,a,o,s,l);return new c3(u,[n,i,a,o])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),a=(r.getY()-e.getY())/(n+1);return new Me(e.getX()+i,e.getY()+a)},t.moveAway=function(e,r,n){var i=e.getX(),a=e.getY();return i<r?i-=1:i+=1,a<n?a-=1:a+=1,new Me(i,a)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],a=e[2],o=this.transitionsBetween(r,n),s=this.transitionsBetween(n,i),l=this.transitionsBetween(i,a),u=this.transitionsBetween(a,r),d=o,f=[a,r,n,i];return d>s&&(d=s,f[0]=r,f[1]=n,f[2]=i,f[3]=a),d>l&&(d=l,f[0]=n,f[1]=i,f[2]=a,f[3]=r),d>u&&(f[0]=i,f[1]=a,f[2]=r,f[3]=n),f},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),s=t.shiftPoint(n,i,(o+1)*4),l=t.shiftPoint(i,n,(o+1)*4),u=this.transitionsBetween(s,r),d=this.transitionsBetween(l,a);return u<d?(e[0]=r,e[1]=n,e[2]=i,e[3]=a):(e[0]=n,e[1]=i,e[2]=a,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),s=this.transitionsBetween(n,a),l=t.shiftPoint(r,n,(s+1)*4),u=t.shiftPoint(i,n,(o+1)*4);o=this.transitionsBetween(l,a),s=this.transitionsBetween(u,a);var d=new Me(a.getX()+(i.getX()-n.getX())/(o+1),a.getY()+(i.getY()-n.getY())/(o+1)),f=new Me(a.getX()+(r.getX()-n.getX())/(s+1),a.getY()+(r.getY()-n.getY())/(s+1));if(!this.isValid(d))return this.isValid(f)?f:null;if(!this.isValid(f))return d;var h=this.transitionsBetween(l,d)+this.transitionsBetween(u,d),p=this.transitionsBetween(l,f)+this.transitionsBetween(u,f);return h>p?d:f},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a)+1,s=this.transitionsBetween(i,a)+1,l=t.shiftPoint(r,n,s*4),u=t.shiftPoint(i,n,o*4);o=this.transitionsBetween(l,a)+1,s=this.transitionsBetween(u,a)+1,(o&1)===1&&(o+=1),(s&1)===1&&(s+=1);var d=(r.getX()+n.getX()+i.getX()+a.getX())/4,f=(r.getY()+n.getY()+i.getY()+a.getY())/4;r=t.moveAway(r,d,f),n=t.moveAway(n,d,f),i=t.moveAway(i,d,f),a=t.moveAway(a,d,f);var h,p;return l=t.shiftPoint(r,n,s*4),l=t.shiftPoint(l,a,o*4),h=t.shiftPoint(n,r,s*4),h=t.shiftPoint(h,i,o*4),u=t.shiftPoint(i,a,s*4),u=t.shiftPoint(u,n,o*4),p=t.shiftPoint(a,i,s*4),p=t.shiftPoint(p,r,o*4),[l,h,u,p]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,a,o,s){var l=u3.getInstance();return l.sampleGrid(e,o,s,.5,.5,o-.5,.5,o-.5,s-.5,.5,s-.5,r.getX(),r.getY(),a.getX(),a.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(r.getX()),o=Math.trunc(r.getY()),s=Math.abs(o-i)>Math.abs(a-n);if(s){var l=n;n=i,i=l,l=a,a=o,o=l}for(var u=Math.abs(a-n),d=Math.abs(o-i),f=-u/2,h=i<o?1:-1,p=n<a?1:-1,m=0,g=this.image.get(s?i:n,s?n:i),v=n,x=i;v!==a;v+=p){var y=this.image.get(s?x:v,s?v:x);if(y!==g&&(m++,g=y),f+=d,f>0){if(x===o)break;x+=h,f-=u}}return m},t}(),ON=function(){function t(){this.decoder=new YVe}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(ur.PURE_BARCODE)){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(a),i=t.NO_POINTS}else{var o=new XVe(e.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),i=o.getPoints()}var s=n.getRawBytes(),l=new si(n.getText(),s,8*s.length,i,ze.DATA_MATRIX,Qt.currentTimeMillis()),u=n.getByteSegments();u!=null&&l.putMetadata(On.BYTE_SEGMENTS,u);var d=n.getECLevel();return d!=null&&l.putMetadata(On.ERROR_CORRECTION_LEVEL,d),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new oe;var i=this.moduleSize(r,e),a=r[1],o=n[1],s=r[0],l=n[0],u=(l-s+1)/i,d=(o-a+1)/i;if(u<=0||d<=0)throw new oe;var f=i/2;a+=f,s+=f;for(var h=new ls(u,d),p=0;p<d;p++)for(var m=a+p*i,g=0;g<u;g++)e.get(s+g*i,m)&&h.set(g,p);return h},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],a=e[1];i<n&&r.get(i,a);)i++;if(i===n)throw new oe;var o=i-e[0];if(o===0)throw new oe;return o},t.NO_POINTS=[],t}(),QVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){QVe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new ON,r)||this}return e})(vp);var hf;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(hf||(hf={}));var ZVe=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new eo(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new We;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(hf.L,"L",1),t.M=new t(hf.M,"M",0),t.Q=new t(hf.Q,"Q",3),t.H=new t(hf.H,"H",2),t}(),JVe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UJ=function(){function t(e){this.errorCorrectionLevel=ZVe.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return at.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var s=JVe(t.FORMAT_INFO_DECODE_LOOKUP),l=s.next();!l.done;l=s.next()){var u=l.value,d=u[0];if(d===e||d===r)return new t(u[1]);var f=t.numBitsDiffering(e,d);f<a&&(o=u[1],a=f),e!==r&&(f=t.numBitsDiffering(r,d),f<a&&(o=u[1],a=f))}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a<=3?new t(o):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),eze=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},te=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var a=eze(i),o=a.next();!o.done;o=a.next()){var s=o.value;n+=s.getCount()}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),z=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),tze=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ru=function(){function t(e,r){for(var n,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=a;var s=0,l=a[0].getECCodewordsPerBlock(),u=a[0].getECBlocks();try{for(var d=tze(u),f=d.next();!f.done;f=d.next()){var h=f.value;s+=h.getCount()*(h.getDataCodewords()+l)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}this.totalCodewords=s}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new Ce;try{return this.getVersionForNumber((e-17)/4)}catch{throw new Ce}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new We;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var a=t.VERSION_DECODE_INFO[i];if(a===e)return t.getVersionForNumber(i+7);var o=UJ.numBitsDiffering(e,a);o<r&&(n=i+7,r=o)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new ls(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<n;o++)i===0&&(o===0||o===n-1)||i===n-1&&o===0||r.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new te(7,new z(1,19)),new te(10,new z(1,16)),new te(13,new z(1,13)),new te(17,new z(1,9))),new t(2,Int32Array.from([6,18]),new te(10,new z(1,34)),new te(16,new z(1,28)),new te(22,new z(1,22)),new te(28,new z(1,16))),new t(3,Int32Array.from([6,22]),new te(15,new z(1,55)),new te(26,new z(1,44)),new te(18,new z(2,17)),new te(22,new z(2,13))),new t(4,Int32Array.from([6,26]),new te(20,new z(1,80)),new te(18,new z(2,32)),new te(26,new z(2,24)),new te(16,new z(4,9))),new t(5,Int32Array.from([6,30]),new te(26,new z(1,108)),new te(24,new z(2,43)),new te(18,new z(2,15),new z(2,16)),new te(22,new z(2,11),new z(2,12))),new t(6,Int32Array.from([6,34]),new te(18,new z(2,68)),new te(16,new z(4,27)),new te(24,new z(4,19)),new te(28,new z(4,15))),new t(7,Int32Array.from([6,22,38]),new te(20,new z(2,78)),new te(18,new z(4,31)),new te(18,new z(2,14),new z(4,15)),new te(26,new z(4,13),new z(1,14))),new t(8,Int32Array.from([6,24,42]),new te(24,new z(2,97)),new te(22,new z(2,38),new z(2,39)),new te(22,new z(4,18),new z(2,19)),new te(26,new z(4,14),new z(2,15))),new t(9,Int32Array.from([6,26,46]),new te(30,new z(2,116)),new te(22,new z(3,36),new z(2,37)),new te(20,new z(4,16),new z(4,17)),new te(24,new z(4,12),new z(4,13))),new t(10,Int32Array.from([6,28,50]),new te(18,new z(2,68),new z(2,69)),new te(26,new z(4,43),new z(1,44)),new te(24,new z(6,19),new z(2,20)),new te(28,new z(6,15),new z(2,16))),new t(11,Int32Array.from([6,30,54]),new te(20,new z(4,81)),new te(30,new z(1,50),new z(4,51)),new te(28,new z(4,22),new z(4,23)),new te(24,new z(3,12),new z(8,13))),new t(12,Int32Array.from([6,32,58]),new te(24,new z(2,92),new z(2,93)),new te(22,new z(6,36),new z(2,37)),new te(26,new z(4,20),new z(6,21)),new te(28,new z(7,14),new z(4,15))),new t(13,Int32Array.from([6,34,62]),new te(26,new z(4,107)),new te(22,new z(8,37),new z(1,38)),new te(24,new z(8,20),new z(4,21)),new te(22,new z(12,11),new z(4,12))),new t(14,Int32Array.from([6,26,46,66]),new te(30,new z(3,115),new z(1,116)),new te(24,new z(4,40),new z(5,41)),new te(20,new z(11,16),new z(5,17)),new te(24,new z(11,12),new z(5,13))),new t(15,Int32Array.from([6,26,48,70]),new te(22,new z(5,87),new z(1,88)),new te(24,new z(5,41),new z(5,42)),new te(30,new z(5,24),new z(7,25)),new te(24,new z(11,12),new z(7,13))),new t(16,Int32Array.from([6,26,50,74]),new te(24,new z(5,98),new z(1,99)),new te(28,new z(7,45),new z(3,46)),new te(24,new z(15,19),new z(2,20)),new te(30,new z(3,15),new z(13,16))),new t(17,Int32Array.from([6,30,54,78]),new te(28,new z(1,107),new z(5,108)),new te(28,new z(10,46),new z(1,47)),new te(28,new z(1,22),new z(15,23)),new te(28,new z(2,14),new z(17,15))),new t(18,Int32Array.from([6,30,56,82]),new te(30,new z(5,120),new z(1,121)),new te(26,new z(9,43),new z(4,44)),new te(28,new z(17,22),new z(1,23)),new te(28,new z(2,14),new z(19,15))),new t(19,Int32Array.from([6,30,58,86]),new te(28,new z(3,113),new z(4,114)),new te(26,new z(3,44),new z(11,45)),new te(26,new z(17,21),new z(4,22)),new te(26,new z(9,13),new z(16,14))),new t(20,Int32Array.from([6,34,62,90]),new te(28,new z(3,107),new z(5,108)),new te(26,new z(3,41),new z(13,42)),new te(30,new z(15,24),new z(5,25)),new te(28,new z(15,15),new z(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new te(28,new z(4,116),new z(4,117)),new te(26,new z(17,42)),new te(28,new z(17,22),new z(6,23)),new te(30,new z(19,16),new z(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new te(28,new z(2,111),new z(7,112)),new te(28,new z(17,46)),new te(30,new z(7,24),new z(16,25)),new te(24,new z(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new te(30,new z(4,121),new z(5,122)),new te(28,new z(4,47),new z(14,48)),new te(30,new z(11,24),new z(14,25)),new te(30,new z(16,15),new z(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new te(30,new z(6,117),new z(4,118)),new te(28,new z(6,45),new z(14,46)),new te(30,new z(11,24),new z(16,25)),new te(30,new z(30,16),new z(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new te(26,new z(8,106),new z(4,107)),new te(28,new z(8,47),new z(13,48)),new te(30,new z(7,24),new z(22,25)),new te(30,new z(22,15),new z(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new te(28,new z(10,114),new z(2,115)),new te(28,new z(19,46),new z(4,47)),new te(28,new z(28,22),new z(6,23)),new te(30,new z(33,16),new z(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new te(30,new z(8,122),new z(4,123)),new te(28,new z(22,45),new z(3,46)),new te(30,new z(8,23),new z(26,24)),new te(30,new z(12,15),new z(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new te(30,new z(3,117),new z(10,118)),new te(28,new z(3,45),new z(23,46)),new te(30,new z(4,24),new z(31,25)),new te(30,new z(11,15),new z(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new te(30,new z(7,116),new z(7,117)),new te(28,new z(21,45),new z(7,46)),new te(30,new z(1,23),new z(37,24)),new te(30,new z(19,15),new z(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new te(30,new z(5,115),new z(10,116)),new te(28,new z(19,47),new z(10,48)),new te(30,new z(15,24),new z(25,25)),new te(30,new z(23,15),new z(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new te(30,new z(13,115),new z(3,116)),new te(28,new z(2,46),new z(29,47)),new te(30,new z(42,24),new z(1,25)),new te(30,new z(23,15),new z(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new te(30,new z(17,115)),new te(28,new z(10,46),new z(23,47)),new te(30,new z(10,24),new z(35,25)),new te(30,new z(19,15),new z(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new te(30,new z(17,115),new z(1,116)),new te(28,new z(14,46),new z(21,47)),new te(30,new z(29,24),new z(19,25)),new te(30,new z(11,15),new z(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new te(30,new z(13,115),new z(6,116)),new te(28,new z(14,46),new z(23,47)),new te(30,new z(44,24),new z(7,25)),new te(30,new z(59,16),new z(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new te(30,new z(12,121),new z(7,122)),new te(28,new z(12,47),new z(26,48)),new te(30,new z(39,24),new z(14,25)),new te(30,new z(22,15),new z(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new te(30,new z(6,121),new z(14,122)),new te(28,new z(6,47),new z(34,48)),new te(30,new z(46,24),new z(10,25)),new te(30,new z(2,15),new z(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new te(30,new z(17,122),new z(4,123)),new te(28,new z(29,46),new z(14,47)),new te(30,new z(49,24),new z(10,25)),new te(30,new z(24,15),new z(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new te(30,new z(4,122),new z(18,123)),new te(28,new z(13,46),new z(32,47)),new te(30,new z(48,24),new z(14,25)),new te(30,new z(42,15),new z(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new te(30,new z(20,117),new z(4,118)),new te(28,new z(40,47),new z(7,48)),new te(30,new z(43,24),new z(22,25)),new te(30,new z(10,15),new z(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new te(30,new z(19,118),new z(6,119)),new te(28,new z(18,47),new z(31,48)),new te(30,new z(34,24),new z(34,25)),new te(30,new z(20,15),new z(61,16)))],t}(),hn;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(hn||(hn={}));var r$=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[hn.DATA_MASK_000,new t(hn.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[hn.DATA_MASK_001,new t(hn.DATA_MASK_001,function(e,r){return(e&1)===0})],[hn.DATA_MASK_010,new t(hn.DATA_MASK_010,function(e,r){return r%3===0})],[hn.DATA_MASK_011,new t(hn.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[hn.DATA_MASK_100,new t(hn.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[hn.DATA_MASK_101,new t(hn.DATA_MASK_101,function(e,r){return e*r%6===0})],[hn.DATA_MASK_110,new t(hn.DATA_MASK_110,function(e,r){return e*r%6<3})],[hn.DATA_MASK_111,new t(hn.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),rze=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new Ce;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,n=i-1;n>=o;n--)a=this.copyBit(8,n,a);for(var r=i-8;r<i;r++)a=this.copyBit(r,8,a);if(this.parsedFormatInfo=UJ.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Ce},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Ru.getVersionForNumber(r);for(var n=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(o,a,n);var s=Ru.decodeVersionInformation(n);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;n=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(o,a,n);if(s=Ru.decodeVersionInformation(n),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new Ce},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=r$.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var a=r.buildFunctionPattern(),o=!0,s=new Uint8Array(r.getTotalCodewords()),l=0,u=0,d=0,f=i-1;f>0;f-=2){f===6&&f--;for(var h=0;h<i;h++)for(var p=o?i-1-h:h,m=0;m<2;m++)a.get(f-m,p)||(d++,u<<=1,this.bitMatrix.get(f-m,p)&&(u|=1),d===8&&(s[l++]=u,d=0,u=0));o=!o}if(l!==r.getTotalCodewords())throw new Ce;return s},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=r$.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,a=e.getHeight();i<a;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t}(),n$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nze=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,a,o,s;if(e.length!==r.getTotalCodewords())throw new We;var l=r.getECBlocksForLevel(n),u=0,d=l.getECBlocks();try{for(var f=n$(d),h=f.next();!h.done;h=f.next()){var p=h.value;u+=p.getCount()}}catch(P){i={error:P}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}var m=new Array(u),g=0;try{for(var v=n$(d),x=v.next();!x.done;x=v.next())for(var p=x.value,y=0;y<p.getCount();y++){var w=p.getDataCodewords(),S=l.getECCodewordsPerBlock()+w;m[g++]=new t(w,new Uint8Array(S))}}catch(P){o={error:P}}finally{try{x&&!x.done&&(s=v.return)&&s.call(v)}finally{if(o)throw o.error}}for(var E=m[0].codewords.length,C=m.length-1;C>=0;){var A=m[C].codewords.length;if(A===E)break;C--}C++;for(var T=E-l.getECCodewordsPerBlock(),N=0,y=0;y<T;y++)for(var I=0;I<g;I++)m[I].codewords[y]=e[N++];for(var I=C;I<g;I++)m[I].codewords[T]=e[N++];for(var j=m[0].codewords.length,y=T;y<j;y++)for(var I=0;I<g;I++){var O=I<C?y:y+1;m[I].codewords[O]=e[N++]}return m},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),Ea;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(Ea||(Ea={}));var ir=function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new We;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(Ea.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(Ea.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(Ea.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(Ea.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(Ea.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(Ea.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(Ea.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(Ea.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(Ea.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(Ea.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),ize=function(){function t(){}return t.decode=function(e,r,n,i){var a=new BJ(e),o=new rt,s=new Array,l=-1,u=-1;try{var d=null,f=!1,h=void 0;do{if(a.available()<4)h=ir.TERMINATOR;else{var p=a.readBits(4);h=ir.forBits(p)}switch(h){case ir.TERMINATOR:break;case ir.FNC1_FIRST_POSITION:case ir.FNC1_SECOND_POSITION:f=!0;break;case ir.STRUCTURED_APPEND:if(a.available()<16)throw new Ce;l=a.readBits(8),u=a.readBits(8);break;case ir.ECI:var m=t.parseECIValue(a);if(d=en.getCharacterSetECIByValue(m),d===null)throw new Ce;break;case ir.HANZI:var g=a.readBits(4),v=a.readBits(h.getCharacterCountBits(r));g===t.GB2312_SUBSET&&t.decodeHanziSegment(a,o,v);break;default:var x=a.readBits(h.getCharacterCountBits(r));switch(h){case ir.NUMERIC:t.decodeNumericSegment(a,o,x);break;case ir.ALPHANUMERIC:t.decodeAlphanumericSegment(a,o,x,f);break;case ir.BYTE:t.decodeByteSegment(a,o,x,d,s,i);break;case ir.KANJI:t.decodeKanjiSegment(a,o,x);break;default:throw new Ce}break}}while(h!==ir.TERMINATOR)}catch{throw new Ce}return new A_(e,o.toString(),s.length===0?null:s,n===null?null:n.toString(),l,u)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new Ce;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/96<<8&4294967295|o%96;s<959?s+=41377:s+=42657,i[a]=s>>8&255,i[a+1]=s&255,a+=2,n--}try{r.append(Da.decode(i,pt.GB2312))}catch(l){throw new Ce(l)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new Ce;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/192<<8&4294967295|o%192;s<7936?s+=33088:s+=49472,i[a]=s>>8,i[a+1]=s,a+=2,n--}try{r.append(Da.decode(i,pt.SHIFT_JIS))}catch(l){throw new Ce(l)}},t.decodeByteSegment=function(e,r,n,i,a,o){if(8*n>e.available())throw new Ce;for(var s=new Uint8Array(n),l=0;l<n;l++)s[l]=e.readBits(8);var u;i===null?u=pt.guessEncoding(s,o):u=i.getName();try{r.append(Da.decode(s,u))}catch(d){throw new Ce(d)}a.push(s)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new Ce;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var a=r.length();n>1;){if(e.available()<11)throw new Ce;var o=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(o/45))),r.append(t.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(e.available()<6)throw new Ce;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=a;s<r.length();s++)r.charAt(s)==="%"&&(s<r.length()-1&&r.charAt(s+1)==="%"?r.deleteCharAt(s+1):r.setCharAt(s,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new Ce;var i=e.readBits(10);if(i>=1e3)throw new Ce;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new Ce;var a=e.readBits(7);if(a>=100)throw new Ce;r.append(t.toAlphaNumericChar(Math.floor(a/10))),r.append(t.toAlphaNumericChar(a%10))}else if(n===1){if(e.available()<4)throw new Ce;var o=e.readBits(4);if(o>=10)throw new Ce;r.append(t.toAlphaNumericChar(o))}},t.parseECIValue=function(e){var r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new Ce},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),VJ=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),i$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},aze=function(){function t(){this.rsDecoder=new C_(Ri.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(ls.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new rze(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(o){i=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,r);return a.setOther(new VJ(!0)),a}catch(o){throw i!==null?i:o}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,a,o,s=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),u=e.readCodewords(),d=nze.getDataBlocks(u,s,l),f=0;try{for(var h=i$(d),p=h.next();!p.done;p=h.next()){var m=p.value;f+=m.getNumDataCodewords()}}catch(C){n={error:C}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}var g=new Uint8Array(f),v=0;try{for(var x=i$(d),y=x.next();!y.done;y=x.next()){var m=y.value,w=m.getCodewords(),S=m.getNumDataCodewords();this.correctErrors(w,S);for(var E=0;E<S;E++)g[v++]=w[E]}}catch(C){a={error:C}}finally{try{y&&!y.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}return ize.decode(g,s,l,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new yn}for(var i=0;i<r;i++)e[i]=n[i]},t}(),oze=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sze=function(t){oze(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=(this.getX()+n)/2,o=(this.getY()+r)/2,s=(this.estimatedModuleSize+i)/2;return new e(a,o,s)},e}(Me),lze=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cze=function(){function t(e,r,n,i,a,o,s){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,a=this.startY+r/2,o=new Int32Array(3),s=this.image,l=0;l<r;l++){var u=a+(l&1?-Math.floor((l+1)/2):Math.floor((l+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var d=e;d<i&&!s.get(d,u);)d++;for(var f=0;d<i;){if(s.get(d,u))if(f===1)o[1]++;else if(f===2){if(this.foundPatternCross(o)){var h=this.handlePossibleCenter(o,u,d);if(h!==null)return h}o[0]=o[2],o[1]=1,o[2]=0,f=1}else o[++f]++;else f===1&&f++,o[f]++;d++}if(this.foundPatternCross(o)){var h=this.handlePossibleCenter(o,u,i);if(h!==null)return h}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new oe},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var a=this.image,o=a.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var l=e;l>=0&&a.get(r,l)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&!a.get(r,l)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(r,l)&&s[1]<=n;)s[1]++,l++;if(l===o||s[1]>n)return NaN;for(;l<o&&!a.get(r,l)&&s[2]<=n;)s[2]++,l++;if(s[2]>n)return NaN;var u=s[0]+s[1]+s[2];return 5*Math.abs(u-i)>=2*i?NaN:this.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,a,o=e[0]+e[1]+e[2],s=t.centerFromEnd(e,n),l=this.crossCheckVertical(r,s,2*e[1],o);if(!isNaN(l)){var u=(e[0]+e[1]+e[2])/3;try{for(var d=lze(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.aboutEquals(u,l,s))return h.combineEstimate(l,s,u)}}catch(m){i={error:m}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}var p=new sze(s,l,u);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null},t}(),uze=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dze=function(t){uze(e,t);function e(r,n,i,a){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=this.count+1,o=(this.count*this.getX()+n)/a,s=(this.count*this.getY()+r)/a,l=(this.count*this.estimatedModuleSize+i)/a;return new e(o,s,l,a)},e}(Me),fze=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),nm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hze=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(ur.TRY_HARDER)!==void 0,n=e!=null&&e.get(ur.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),s=Math.floor(3*a/(4*t.MAX_MODULES));(s<t.MIN_SKIP||r)&&(s=t.MIN_SKIP);for(var l=!1,u=new Int32Array(5),d=s-1;d<a&&!l;d+=s){u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0;for(var f=0,h=0;h<o;h++)if(i.get(h,d))(f&1)===1&&f++,u[f]++;else if(f&1)u[f]++;else if(f===4)if(t.foundPatternCross(u)){var p=this.handlePossibleCenter(u,d,h,n);if(p===!0)if(s=2,this.hasSkipped===!0)l=this.haveMultiplyConfirmedCenters();else{var m=this.findRowSkip();m>u[2]&&(d+=m-u[2]-s,h=o-1)}else{u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,f=3;continue}f=0,u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0}else u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,f=3;else u[++f]++;if(t.foundPatternCross(u)){var p=this.handlePossibleCenter(u,d,o,n);p===!0&&(s=u[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}}var g=this.selectBestPatterns();return Me.orderBestPatterns(g),new fze(g)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var a=r/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var a=this.getCrossCheckStateCount(),o=0,s=this.image;e>=o&&r>=o&&s.get(r-o,e-o);)a[2]++,o++;if(e<o||r<o)return!1;for(;e>=o&&r>=o&&!s.get(r-o,e-o)&&a[1]<=n;)a[1]++,o++;if(e<o||r<o||a[1]>n)return!1;for(;e>=o&&r>=o&&s.get(r-o,e-o)&&a[0]<=n;)a[0]++,o++;if(a[0]>n)return!1;var l=s.getHeight(),u=s.getWidth();for(o=1;e+o<l&&r+o<u&&s.get(r+o,e+o);)a[2]++,o++;if(e+o>=l||r+o>=u)return!1;for(;e+o<l&&r+o<u&&!s.get(r+o,e+o)&&a[3]<n;)a[3]++,o++;if(e+o>=l||r+o>=u||a[3]>=n)return!1;for(;e+o<l&&r+o<u&&s.get(r+o,e+o)&&a[4]<n;)a[4]++,o++;if(a[4]>=n)return!1;var d=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(d-i)<2*i&&t.foundPatternCross(a)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var a=this.image,o=a.getHeight(),s=this.getCrossCheckStateCount(),l=e;l>=0&&a.get(r,l);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!a.get(r,l)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&a.get(r,l)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(r,l);)s[2]++,l++;if(l===o)return NaN;for(;l<o&&!a.get(r,l)&&s[3]<n;)s[3]++,l++;if(l===o||s[3]>=n)return NaN;for(;l<o&&a.get(r,l)&&s[4]<n;)s[4]++,l++;if(s[4]>=n)return NaN;var u=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(u-i)>=2*i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var a=this.image,o=a.getWidth(),s=this.getCrossCheckStateCount(),l=e;l>=0&&a.get(l,r);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!a.get(l,r)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&a.get(l,r)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(l,r);)s[2]++,l++;if(l===o)return NaN;for(;l<o&&!a.get(l,r)&&s[3]<n;)s[3]++,l++;if(l===o||s[3]>=n)return NaN;for(;l<o&&a.get(l,r)&&s[4]<n;)s[4]++,l++;if(s[4]>=n)return NaN;var u=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(u-i)>=i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=t.centerFromEnd(e,n),s=this.crossCheckVertical(r,Math.floor(o),e[2],a);if(!isNaN(s)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(s),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(o),e[2],a)))){for(var l=a/7,u=!1,d=this.possibleCenters,f=0,h=d.length;f<h;f++){var p=d[f];if(p.aboutEquals(l,s,o)){d[f]=p.combineEstimate(s,o,l),u=!0;break}}if(!u){var m=new dze(o,s,l);d.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var a=nm(this.possibleCenters),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.getCount()>=t.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,a=0,o=0,s=this.possibleCenters.length;try{for(var l=nm(this.possibleCenters),u=l.next();!u.done;u=l.next()){var d=u.value;d.getCount()>=t.CENTER_QUORUM&&(a++,o+=d.getEstimatedModuleSize())}}catch(g){e={error:g}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}if(a<3)return!1;var f=o/s,h=0;try{for(var p=nm(this.possibleCenters),m=p.next();!m.done;m=p.next()){var d=m.value;h+=Math.abs(d.getEstimatedModuleSize()-f)}}catch(g){n={error:g}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}return h<=.05*o},t.prototype.selectBestPatterns=function(){var e,r,n,i,a=this.possibleCenters.length;if(a<3)throw new oe;var o=this.possibleCenters,s;if(a>3){var l=0,u=0;try{for(var d=nm(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value,p=h.getEstimatedModuleSize();l+=p,u+=p*p}}catch(E){e={error:E}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}s=l/a;var m=Math.sqrt(u/a-s*s);o.sort(function(E,C){var A=Math.abs(C.getEstimatedModuleSize()-s),T=Math.abs(E.getEstimatedModuleSize()-s);return A<T?-1:A>T?1:0});for(var g=Math.max(.2*s,m),v=0;v<o.length&&o.length>3;v++){var x=o[v];Math.abs(x.getEstimatedModuleSize()-s)>g&&(o.splice(v,1),v--)}}if(o.length>3){var l=0;try{for(var y=nm(o),w=y.next();!w.done;w=y.next()){var S=w.value;l+=S.getEstimatedModuleSize()}}catch(C){n={error:C}}finally{try{w&&!w.done&&(i=y.return)&&i.call(y)}finally{if(n)throw n.error}}s=l/o.length,o.sort(function(C,A){if(A.getCount()===C.getCount()){var T=Math.abs(A.getEstimatedModuleSize()-s),N=Math.abs(C.getEstimatedModuleSize()-s);return T<N?1:T>N?-1:0}else return A.getCount()-C.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),pze=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(ur.NEED_RESULT_POINT_CALLBACK);var r=new hze(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(r,n,i);if(a<1)throw new oe("No pattern found in proccess finder.");var o=t.computeDimension(r,n,i,a),s=Ru.getProvisionalVersionForDimension(o),l=s.getDimensionForVersion()-7,u=null;if(s.getAlignmentPatternCenters().length>0)for(var d=n.getX()-r.getX()+i.getX(),f=n.getY()-r.getY()+i.getY(),h=1-3/l,p=Math.floor(r.getX()+h*(d-r.getX())),m=Math.floor(r.getY()+h*(f-r.getY())),g=4;g<=16;g<<=1)try{u=this.findAlignmentInRegion(a,p,m,g);break}catch(w){if(!(w instanceof oe))throw w}var v=t.createTransform(r,n,i,u,o),x=t.sampleGrid(this.image,v,o),y;return u===null?y=[i,r,n]:y=[i,r,n,u],new c3(x,y)},t.createTransform=function(e,r,n,i,a){var o=a-3.5,s,l,u,d;return i!==null?(s=i.getX(),l=i.getY(),u=o-3,d=u):(s=r.getX()-e.getX()+n.getX(),l=r.getY()-e.getY()+n.getY(),u=o,d=o),MJ.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,u,d,3.5,o,e.getX(),e.getY(),r.getX(),r.getY(),s,l,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=u3.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var a=_t.round(Me.distance(e,r)/i),o=_t.round(Me.distance(e,n)/i),s=Math.floor((a+o)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new oe("Dimensions could be not found.")}return s},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var a=this.sizeOfBlackWhiteBlackRun(e,r,n,i),o=1,s=e-(n-e);s<0?(o=e/(e-s),s=0):s>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var l=Math.floor(r-(i-r)*o);return o=1,l<0?(o=r/(r-l),l=0):l>=this.image.getHeight()&&(o=(this.image.getHeight()-1-r)/(l-r),l=this.image.getHeight()-1),s=Math.floor(e+(s-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,r,s,l),a-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var a=Math.abs(i-r)>Math.abs(n-e);if(a){var o=e;e=r,r=o,o=n,n=i,i=o}for(var s=Math.abs(n-e),l=Math.abs(i-r),u=-s/2,d=e<n?1:-1,f=r<i?1:-1,h=0,p=n+d,m=e,g=r;m!==p;m+=d){var v=a?g:m,x=a?m:g;if(h===1===this.image.get(v,x)){if(h===2)return _t.distance(m,g,e,r);h++}if(u+=l,u>0){if(g===i)break;g+=f,u-=s}}return h===2?_t.distance(n+d,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var a=Math.floor(i*e),o=Math.max(0,r-a),s=Math.min(this.image.getWidth()-1,r+a);if(s-o<e*3)throw new oe("Alignment top exceeds estimated module size.");var l=Math.max(0,n-a),u=Math.min(this.image.getHeight()-1,n+a);if(u-l<e*3)throw new oe("Alignment bottom exceeds estimated module size.");var d=new cze(this.image,o,l,s-o,u-l,e,this.resultPointCallback);return d.find()},t}(),jN=function(){function t(){this.decoder=new aze}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(ur.PURE_BARCODE)!==void 0){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,r),i=t.NO_POINTS}else{var o=new pze(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(o.getBits(),r),i=o.getPoints()}n.getOther()instanceof VJ&&n.getOther().applyMirroredCorrection(i);var s=new si(n.getText(),n.getRawBytes(),void 0,i,ze.QR_CODE,void 0),l=n.getByteSegments();l!==null&&s.putMetadata(On.BYTE_SEGMENTS,l);var u=n.getECLevel();return u!==null&&s.putMetadata(On.ERROR_CORRECTION_LEVEL,u),n.hasStructuredAppend()&&(s.putMetadata(On.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(On.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new oe;var i=this.moduleSize(r,e),a=r[1],o=n[1],s=r[0],l=n[0];if(s>=l||a>=o)throw new oe;if(o-a!==l-s&&(l=s+(o-a),l>=e.getWidth()))throw new oe;var u=Math.round((l-s+1)/i),d=Math.round((o-a+1)/i);if(u<=0||d<=0)throw new oe;if(d!==u)throw new oe;var f=Math.floor(i/2);a+=f,s+=f;var h=s+Math.floor((u-1)*i)-l;if(h>0){if(h>f)throw new oe;s-=h}var p=a+Math.floor((d-1)*i)-o;if(p>0){if(p>f)throw new oe;a-=p}for(var m=new ls(u,d),g=0;g<d;g++)for(var v=a+Math.floor(g*i),x=0;x<u;x++)e.get(s+Math.floor(x*i),v)&&m.set(x,g);return m},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),a=e[0],o=e[1],s=!0,l=0;a<i&&o<n;){if(s!==r.get(a,o)){if(++l===5)break;s=!s}a++,o++}if(a===i||o===n)throw new oe;return(a-e[0])/7},t.NO_POINTS=new Array,t}(),mze=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yt=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return _t.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=mze(e),s=o.next();!s.done;s=o.next()){var l=s.value;i[a++]=l}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=rn.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),gze=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),vze=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yze=function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),a=t.detect(n,i);return a.length||(i=i.clone(),i.rotate180(),a=t.detect(n,i)),new gze(i,a)},t.detect=function(e,r){for(var n,i,a=new Array,o=0,s=0,l=!1;o<r.getHeight();){var u=t.findVertices(r,o,s);if(u[0]==null&&u[3]==null){if(!l)break;l=!1,s=0;try{for(var d=(n=void 0,vze(a)),f=d.next();!f.done;f=d.next()){var h=f.value;h[1]!=null&&(o=Math.trunc(Math.max(o,h[1].getY()))),h[3]!=null&&(o=Math.max(o,Math.trunc(h[3].getY())))}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}o+=t.ROW_STEP;continue}if(l=!0,a.push(u),!e)break;u[2]!=null?(s=Math.trunc(u[2].getX()),o=Math.trunc(u[2].getY())):(s=Math.trunc(u[4].getX()),o=Math.trunc(u[4].getY()))}return a},t.findVertices=function(e,r,n){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),r=Math.trunc(o[4].getY())),t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),o},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,a,o){for(var s=new Array(4),l=!1,u=new Int32Array(o.length);i<r;i+=t.ROW_STEP){var d=t.findGuardPattern(e,a,i,n,!1,o,u);if(d!=null){for(;i>0;){var f=t.findGuardPattern(e,a,--i,n,!1,o,u);if(f!=null)d=f;else{i++;break}}s[0]=new Me(d[0],i),s[1]=new Me(d[1],i),l=!0;break}}var h=i+1;if(l){for(var p=0,f=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);h<r;h++){var d=t.findGuardPattern(e,f[0],h,n,!1,o,u);if(d!=null&&Math.abs(f[0]-d[0])<t.MAX_PATTERN_DRIFT&&Math.abs(f[1]-d[1])<t.MAX_PATTERN_DRIFT)f=d,p=0;else{if(p>t.SKIPPED_ROW_COUNT_MAX)break;p++}}h-=p+1,s[2]=new Me(f[0],h),s[3]=new Me(f[1],h)}return h-i<t.BARCODE_MIN_HEIGHT&&rn.fill(s,null),s},t.findGuardPattern=function(e,r,n,i,a,o,s){rn.fillWithin(s,0,s.length,0);for(var l=r,u=0;e.get(l,n)&&l>0&&u++<t.MAX_PIXEL_DRIFT;)l--;for(var d=l,f=0,h=o.length,p=a;d<i;d++){var m=e.get(d,n);if(m!==p)s[f]++;else{if(f===h-1){if(t.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([l,d]);l+=s[0]+s[1],Qt.arraycopy(s,2,s,0,f-1),s[f-1]=0,s[f]=0,f--}else f++;s[f]=1,p=!p}}return f===h-1&&t.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([l,d-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=r[s];if(a<o)return 1/0;var l=a/o;n*=l;for(var u=0,d=0;d<i;d++){var f=e[d],h=r[d]*l,p=f>h?f-h:h-f;if(p>n)return 1/0;u+=p}return u/a},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),xze=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_u=function(){function t(e,r){if(r.length===0)throw new We;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),Qt.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=xze(this.coefficients),o=a.next();!o.done;o=a.next()){var s=o.value;i=this.field.add(i,s)}}catch(f){r={error:f}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}for(var l=this.coefficients[0],u=this.coefficients.length,d=1;d<u;d++)l=this.field.add(this.field.multiply(e,l),this.coefficients[d]);return l},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new We("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;Qt.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=this.field.add(r[s-o],n[s]);return new t(this.field,a)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new We("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new We("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=0;s<n;s++)for(var l=r[s],u=0;u<a;u++)o[s+u]=this.field.add(o[s+u],this.field.multiply(l,i[u]));return new t(this.field,o)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new We;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),a=0;a<n;a++)i[a]=this.field.multiply(this.coefficients[a],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new rt,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),wze=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new We;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new DJ;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),bze=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_ze=function(t){bze(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var a=1,o=0;o<r;o++)i.expTable[o]=a,a=a*n%r;for(var o=0;o<r-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new _u(i,new Int32Array([0])),i.one=new _u(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new We;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new _u(this,i)},e.PDF417_GF=new e(yt.NUMBER_OF_CODEWORDS,3),e}(wze),Sze=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Eze=function(){function t(){this.field=_ze.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,a,o=new _u(this.field,e),s=new Int32Array(r),l=!1,u=r;u>0;u--){var d=o.evaluateAt(this.field.exp(u));s[r-u]=d,d!==0&&(l=!0)}if(!l)return 0;var f=this.field.getOne();if(n!=null)try{for(var h=Sze(n),p=h.next();!p.done;p=h.next()){var m=p.value,g=this.field.exp(e.length-1-m),v=new _u(this.field,new Int32Array([this.field.subtract(0,g),1]));f=f.multiply(v)}}catch(T){i={error:T}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}for(var x=new _u(this.field,s),y=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),x,r),w=y[0],S=y[1],E=this.findErrorLocations(w),C=this.findErrorMagnitudes(S,w,E),u=0;u<E.length;u++){var A=e.length-1-this.field.log(E[u]);if(A<0)throw yn.getChecksumInstance();e[A]=this.field.subtract(e[A],C[u])}return E.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=e,o=r,s=this.field.getZero(),l=this.field.getOne();o.getDegree()>=Math.round(n/2);){var u=a,d=s;if(a=o,s=l,a.isZero())throw yn.getChecksumInstance();o=u;for(var f=this.field.getZero(),h=a.getCoefficient(a.getDegree()),p=this.field.inverse(h);o.getDegree()>=a.getDegree()&&!o.isZero();){var m=o.getDegree()-a.getDegree(),g=this.field.multiply(o.getCoefficient(o.getDegree()),p);f=f.add(this.field.buildMonomial(m,g)),o=o.subtract(a.multiplyByMonomial(m,g))}l=f.multiply(s).subtract(d).negative()}var v=l.getCoefficient(0);if(v===0)throw yn.getChecksumInstance();var x=this.field.inverse(v),y=l.multiply(x),w=o.multiply(x);return[y,w]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,a=1;a<this.field.getSize()&&i<r;a++)e.evaluateAt(a)===0&&(n[i]=this.field.inverse(a),i++);if(i!==r)throw yn.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,r.getCoefficient(o));for(var s=new _u(this.field,a),l=n.length,u=new Int32Array(l),o=0;o<l;o++){var d=this.field.inverse(n[o]),f=this.field.subtract(0,e.evaluateAt(d)),h=this.field.inverse(s.evaluateAt(d));u[o]=this.field.multiply(f,h)}return u},t}(),kN=function(){function t(e,r,n,i,a){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,a)}return t.prototype.constructor_1=function(e,r,n,i,a){var o=r==null||n==null,s=i==null||a==null;if(o&&s)throw new oe;o?(r=new Me(0,i.getY()),n=new Me(0,a.getY())):s&&(i=new Me(e.getWidth()-1,r.getY()),a=new Me(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,s=this.bottomRight;if(e>0){var l=n?this.topLeft:this.topRight,u=Math.trunc(l.getY()-e);u<0&&(u=0);var d=new Me(l.getX(),u);n?i=d:o=d}if(r>0){var f=n?this.bottomLeft:this.bottomRight,h=Math.trunc(f.getY()+r);h>=this.image.getHeight()&&(h=this.image.getHeight()-1);var p=new Me(f.getX(),h);n?a=p:s=p}return new t(this.image,i,a,o,s)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),Aze=function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),f3=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(o,s,l,u,d,f){if(o==="%%")return"%";if(r[++n]!==void 0){o=u?parseInt(u.substr(1)):void 0;var h=d?parseInt(d.substr(1)):void 0,p;switch(f){case"s":p=r[n];break;case"c":p=r[n][0];break;case"f":p=parseFloat(r[n]).toFixed(o);break;case"p":p=parseFloat(r[n]).toPrecision(o);break;case"e":p=parseFloat(r[n]).toExponential(o);break;case"x":p=parseInt(r[n]).toString(h||16);break;case"d":p=parseFloat(parseInt(r[n],h||10).toPrecision(o)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(h);for(var m=parseInt(l),g=l&&l[0]+""=="0"?"0":" ";p.length<m;)p=s!==void 0?p+g:g+p;return p}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),Cze=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zJ=function(){function t(e){this.boundingBox=new kN(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new f3,i=0;try{for(var a=Cze(this.codewords),o=a.next();!o.done;o=a.next()){var s=o.value;if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),Tze=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Nze=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},Om=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,a=function(f,h){var p={getKey:function(){return f},getValue:function(){return h}};p.getValue()>n?(n=p.getValue(),i=[],i.push(p.getKey())):p.getValue()===n&&i.push(p.getKey())};try{for(var o=Tze(this.values.entries()),s=o.next();!s.done;s=o.next()){var l=Nze(s.value,2),u=l[0],d=l[1];a(u,d)}}catch(f){e={error:f}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return yt.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),Ize=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a$=function(t){Ize(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=dA(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o!=null&&o.setRowNumberAsRowIndicatorColumn()}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=-1,d=1,f=0,h=s;h<l;h++)if(n[h]!=null){var p=n[h],m=p.getRowNumber()-u;if(m===0)f++;else if(m===1)d=Math.max(d,f),f=1,u=p.getRowNumber();else if(m<0||p.getRowNumber()>=r.getRowCount()||m>h)n[h]=null;else{var g=void 0;d>2?g=(d-2)*m:g=m;for(var v=g>=h,x=1;x<=g&&!v;x++)v=n[h-x]!=null;v?n[h]=null:(u=p.getRowNumber(),f=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=dA(this.getCodewords()),s=o.next();!s.done;s=o.next()){var l=s.value;if(l!=null){var u=l.getRowNumber();if(u>=a.length)continue;a[u]++}}}catch(d){r={error:d}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.getCodewords(),u=-1,d=o;d<s;d++)if(l[d]!=null){var f=l[d];f.setRowNumberAsRowIndicatorColumn();var h=f.getRowNumber()-u;h===0||(h===1?u=f.getRowNumber():f.getRowNumber()>=r.getRowCount()?l[d]=null:u=f.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),a=new Om,o=new Om,s=new Om,l=new Om;try{for(var u=dA(i),d=u.next();!d.done;d=u.next()){var f=d.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var h=f.getValue()%30,p=f.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:o.setValue(h*3+1);break;case 1:l.setValue(h/3),s.setValue(h%3);break;case 2:a.setValue(h+1);break}}}}catch(g){r={error:g}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}if(a.getValue().length===0||o.getValue().length===0||s.getValue().length===0||l.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+s.getValue()[0]<yt.MIN_ROWS_IN_BARCODE||o.getValue()[0]+s.getValue()[0]>yt.MAX_ROWS_IN_BARCODE)return null;var m=new Aze(a.getValue()[0],o.getValue()[0],s.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(i,m),m},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var a=r[i];if(r[i]!=null){var o=a.getValue()%30,s=a.getRowNumber();if(s>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:o+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(zJ),Pze=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Oze=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=yt.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[n];a!=null&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=t.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=t.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=n[r],s=this.detectionResultColumns[e-1].getCodewords(),l=s;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());var u=new Array(14);u[2]=s[r],u[3]=l[r],r>0&&(u[0]=n[r-1],u[4]=s[r-1],u[5]=l[r-1]),r>1&&(u[8]=n[r-2],u[10]=s[r-2],u[11]=l[r-2]),r<n.length-1&&(u[1]=n[r+1],u[6]=s[r+1],u[7]=l[r+1]),r<n.length-2&&(u[9]=n[r+2],u[12]=s[r+2],u[13]=l[r+2]);try{for(var d=Pze(u),f=d.next();!f.done;f=d.next()){var h=f.value;if(t.adjustRowNumber(o,h))return}}catch(p){i={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new f3,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[n];if(a==null){r.format("    |   ");continue}r.format(" %3d|%3d",a.getRowNumber(),a.getValue())}r.format("%n")}return r.toString()},t}(),jze=function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),kze=function(){function t(){}return t.initialize=function(){for(var e=0;e<yt.SYMBOL_TABLE.length;e++)for(var r=yt.SYMBOL_TABLE[e],n=r&1,i=0;i<yt.BARS_IN_MODULE;i++){for(var a=0;(r&1)===n;)a+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(yt.BARS_IN_MODULE)),t.RATIOS_TABLE[e][yt.BARS_IN_MODULE-i-1]=Math.fround(a/yt.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=_t.sum(e),n=new Int32Array(yt.BARS_IN_MODULE),i=0,a=0,o=0;o<yt.MODULES_IN_CODEWORD;o++){var s=r/(2*yt.MODULES_IN_CODEWORD)+o*r/yt.MODULES_IN_CODEWORD;a+e[i]<=s&&(a+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return yt.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=_t.sum(e),n=new Array(yt.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var a=TN.MAX_VALUE,o=-1;this.bSymbolTableReady||t.initialize();for(var s=0;s<t.RATIOS_TABLE.length;s++){for(var l=0,u=t.RATIOS_TABLE[s],d=0;d<yt.BARS_IN_MODULE;d++){var f=Math.fround(u[d]-n[d]);if(l+=Math.fround(f*f),l>=a)break}l<a&&(a=l,o=yt.SYMBOL_TABLE[s])}return o},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(yt.SYMBOL_TABLE.length).map(function(e){return new Array(yt.BARS_IN_MODULE)}),t}(),Rze=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),o$=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),Dze=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mze=function(t){Dze(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(Yi),Lze=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new Mze;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new s3;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),$ze=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fze=function(t){$ze(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Yi),Bze=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Uze=function(t){Bze(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new We("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new Fze;i=at.MAX_VALUE}this.buf=rn.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new s3;this.ensureCapacity(this.count+i),Qt.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return rn.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(Lze),Mt;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Mt||(Mt={}));function WJ(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var t1;function Ol(t){if(typeof t1>"u"&&(t1=WJ()),t1===null)throw new Error("BigInt is not supported!");return t1(t)}function Vze(){var t=[];t[0]=Ol(1);var e=Ol(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var zze=function(){function t(){}return t.decode=function(e,r){var n=new rt(""),i=en.ISO8859_1;n.enableDecoding(i);for(var a=1,o=e[a++],s=new Rze;a<e[0];){switch(o){case t.TEXT_COMPACTION_MODE_LATCH:a=t.textCompaction(e,a,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:a=t.byteCompaction(o,e,i,a,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:a=t.numericCompaction(e,a,n);break;case t.ECI_CHARSET:en.getCharacterSetECIByValue(e[a++]);break;case t.ECI_GENERAL_PURPOSE:a+=2;break;case t.ECI_USER_DEFINED:a++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=t.decodeMacroBlock(e,a,s);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new Ce;default:a--,a=t.textCompaction(e,a,n);break}if(a<e.length)o=e[a++];else throw Ce.getFormatInstance()}if(n.length()===0)throw Ce.getFormatInstance();var l=new A_(null,n.toString(),null,r);return l.setOther(s),l},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw Ce.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<t.NUMBER_OF_SEQUENCE_CODEWORDS;a++,r++)i[a]=e[r];n.setSegmentIndex(at.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new rt;r=t.textCompaction(e,r,o),n.setFileId(o.toString());var s=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new rt;r=t.textCompaction(e,r+1,l),n.setFileName(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var u=new rt;r=t.textCompaction(e,r+1,u),n.setSender(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new rt;r=t.textCompaction(e,r+1,d),n.setAddressee(d.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new rt;r=t.numericCompaction(e,r+1,f),n.setSegmentCount(at.parseInt(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var h=new rt;r=t.numericCompaction(e,r+1,h),n.setTimestamp(o$.parseLong(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var p=new rt;r=t.numericCompaction(e,r+1,p),n.setChecksum(at.parseInt(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var m=new rt;r=t.numericCompaction(e,r+1,m),n.setFileSize(o$.parseLong(m.toString()));break;default:throw Ce.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw Ce.getFormatInstance()}if(s!==-1){var g=r-s;n.isLastSegment()&&g--,n.setOptionalData(rn.copyOfRange(e,s,s+g))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),a=new Int32Array((e[0]-r)*2),o=0,s=!1;r<e[0]&&!s;){var l=e[r++];if(l<t.TEXT_COMPACTION_MODE_LATCH)i[o]=l/30,i[o+1]=l%30,o+=2;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:i[o++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,s=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=e[r++],a[o]=l,o++;break}}return t.decodeTextCompaction(i,a,o,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var a=Mt.ALPHA,o=Mt.ALPHA,s=0;s<n;){var l=e[s],u="";switch(a){case Mt.ALPHA:if(l<26)u=String.fromCharCode(65+l);else switch(l){case 26:u=" ";break;case t.LL:a=Mt.LOWER;break;case t.ML:a=Mt.MIXED;break;case t.PS:o=a,a=Mt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Mt.ALPHA;break}break;case Mt.LOWER:if(l<26)u=String.fromCharCode(97+l);else switch(l){case 26:u=" ";break;case t.AS:o=a,a=Mt.ALPHA_SHIFT;break;case t.ML:a=Mt.MIXED;break;case t.PS:o=a,a=Mt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Mt.ALPHA;break}break;case Mt.MIXED:if(l<t.PL)u=t.MIXED_CHARS[l];else switch(l){case t.PL:a=Mt.PUNCT;break;case 26:u=" ";break;case t.LL:a=Mt.LOWER;break;case t.AL:a=Mt.ALPHA;break;case t.PS:o=a,a=Mt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Mt.ALPHA;break}break;case Mt.PUNCT:if(l<t.PAL)u=t.PUNCT_CHARS[l];else switch(l){case t.PAL:a=Mt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Mt.ALPHA;break}break;case Mt.ALPHA_SHIFT:if(a=o,l<26)u=String.fromCharCode(65+l);else switch(l){case 26:u=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:a=Mt.ALPHA;break}break;case Mt.PUNCT_SHIFT:if(a=o,l<t.PAL)u=t.PUNCT_CHARS[l];else switch(l){case t.PAL:a=Mt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Mt.ALPHA;break}break}u!==""&&i.append(u),s++}},t.byteCompaction=function(e,r,n,i,a){var o=new Uze,s=0,l=0,u=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),f=r[i++];i<r[0]&&!u;)switch(d[s++]=f,l=900*l+f,f=r[i++],f){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,u=!0;break;default:if(s%5===0&&s>0){for(var h=0;h<6;++h)o.write(Number(Ol(l)>>Ol(8*(5-h))));l=0,s=0}break}i===r[0]&&f<t.TEXT_COMPACTION_MODE_LATCH&&(d[s++]=f);for(var p=0;p<s;p++)o.write(d[p]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!u;){var m=r[i++];if(m<t.TEXT_COMPACTION_MODE_LATCH)s++,l=900*l+m;else switch(m){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,u=!0;break}if(s%5===0&&s>0){for(var h=0;h<6;++h)o.write(Number(Ol(l)>>Ol(8*(5-h))));l=0,s=0}}break}return a.append(Da.decode(o.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,a=!1,o=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!a;){var s=e[r++];if(r===e[0]&&(a=!0),s<t.TEXT_COMPACTION_MODE_LATCH)o[i]=s,i++;else switch(s){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,a=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||s===t.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(n.append(t.decodeBase900toBase10(o,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=Ol(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*Ol(e[i]);var a=n.toString();if(a.charAt(0)!=="1")throw new Ce;return a.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=WJ()?Vze():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),im=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Wze=function(){function t(){}return t.decode=function(e,r,n,i,a,o,s){for(var l=new kN(e,r,n,i,a),u=null,d=null,f,h=!0;;h=!1){if(r!=null&&(u=t.getRowIndicatorColumn(e,l,r,!0,o,s)),i!=null&&(d=t.getRowIndicatorColumn(e,l,i,!1,o,s)),f=t.merge(u,d),f==null)throw oe.getNotFoundInstance();var p=f.getBoundingBox();if(h&&p!=null&&(p.getMinY()<l.getMinY()||p.getMaxY()>l.getMaxY()))l=p;else break}f.setBoundingBox(l);var m=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,u),f.setDetectionResultColumn(m,d);for(var g=u!=null,v=1;v<=m;v++){var x=g?v:m-v;if(f.getDetectionResultColumn(x)===void 0){var y=void 0;x===0||x===m?y=new a$(l,x===0):y=new zJ(l),f.setDetectionResultColumn(x,y);for(var w=-1,S=w,E=l.getMinY();E<=l.getMaxY();E++){if(w=t.getStartColumn(f,x,E,g),w<0||w>l.getMaxX()){if(S===-1)continue;w=S}var C=t.detectCodeword(e,l.getMinX(),l.getMaxX(),g,w,E,o,s);C!=null&&(y.setCodeword(E,C),S=w,o=Math.min(o,C.getWidth()),s=Math.max(s,C.getWidth()))}}}return t.createDecoderResult(f)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=kN.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new Oze(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=t.getMax(i),o=0;try{for(var s=im(i),l=s.next();!l.done;l=s.next()){var u=l.value;if(o+=a-u,u>0)break}}catch(p){r={error:p}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}for(var d=e.getCodewords(),f=0;o>0&&d[f]==null;f++)o--;for(var h=0,f=i.length-1;f>=0&&(h+=a-i[f],!(i[f]>0));f--);for(var f=d.length-1;h>0&&d[f]==null;f--)h--;return e.getBoundingBox().addMissingRows(o,h,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var a=im(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=Math.max(i,s)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,a,o){for(var s=new a$(r,i),l=0;l<2;l++)for(var u=l===0?1:-1,d=Math.trunc(Math.trunc(n.getX())),f=Math.trunc(Math.trunc(n.getY()));f<=r.getMaxY()&&f>=r.getMinY();f+=u){var h=t.detectCodeword(e,0,e.getWidth(),i,d,f,a,o);h!=null&&(s.setCodeword(f,h),i?d=h.getStartX():d=h.getEndX())}return s},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>yt.MAX_CODEWORDS_IN_BARCODE)throw oe.getNotFoundInstance();n.setValue(a)}else i[0]!==a&&n.setValue(a)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var l=0;l<e.getBarcodeColumnCount();l++){var u=r[s][l+1].getValue(),d=s*e.getBarcodeColumnCount()+l;u.length===0?n.push(d):u.length===1?i[d]=u[0]:(o.push(d),a.push(u))}for(var f=new Array(a.length),h=0;h<f.length;h++)f[h]=a[h];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,yt.toIntArray(n),yt.toIntArray(o),f)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,a){for(var o=new Int32Array(i.length),s=100;s-- >0;){for(var l=0;l<o.length;l++)r[i[l]]=a[l][o[l]];try{return t.decodeCodewords(r,e,n)}catch(d){var u=d instanceof yn;if(!u)throw d}if(o.length===0)throw yn.getChecksumInstance();for(var l=0;l<o.length;l++)if(o[l]<a[l].length-1){o[l]++;break}else if(o[l]=0,l===o.length-1)throw yn.getChecksumInstance()}throw yn.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<o.length;s++)for(var l=0;l<o[s].length;l++)o[s][l]=new Om;var u=0;try{for(var d=im(e.getDetectionResultColumns()),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)try{for(var p=(i=void 0,im(h.getCodewords())),m=p.next();!m.done;m=p.next()){var g=m.value;if(g!=null){var v=g.getRowNumber();if(v>=0){if(v>=o.length)continue;o[v][u].setValue(g.getValue())}}}}catch(x){i={error:x}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}u++}}catch(x){r={error:x}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}return o},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var a,o,s=i?1:-1,l=null;if(t.isValidBarcodeColumn(e,r-s)&&(l=e.getDetectionResultColumn(r-s).getCodeword(n)),l!=null)return i?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(r).getCodewordNearby(n),l!=null)return i?l.getStartX():l.getEndX();if(t.isValidBarcodeColumn(e,r-s)&&(l=e.getDetectionResultColumn(r-s).getCodewordNearby(n)),l!=null)return i?l.getEndX():l.getStartX();for(var u=0;t.isValidBarcodeColumn(e,r-s);){r-=s;try{for(var d=(a=void 0,im(e.getDetectionResultColumn(r).getCodewords())),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)return(i?h.getEndX():h.getStartX())+s*u*(h.getEndX()-h.getStartX())}}catch(p){a={error:p}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}u++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,a,o,s,l){a=t.adjustCodewordStartColumn(e,r,n,i,a,o);var u=t.getModuleBitCount(e,r,n,i,a,o);if(u==null)return null;var d,f=_t.sum(u);if(i)d=a+f;else{for(var h=0;h<u.length/2;h++){var p=u[h];u[h]=u[u.length-1-h],u[u.length-1-h]=p}d=a,a=d-f}if(!t.checkCodewordSkew(f,s,l))return null;var m=kze.getDecodedValue(u),g=yt.getCodeword(m);return g===-1?null:new jze(a,d,t.getCodewordBucketNumber(m),g)},t.getModuleBitCount=function(e,r,n,i,a,o){for(var s=a,l=new Int32Array(8),u=0,d=i?1:-1,f=i;(i?s<n:s>=r)&&u<l.length;)e.get(s,o)===f?(l[u]++,s+=d):(u++,f=!f);return u===l.length||s===(i?n:r)&&u===l.length-1?l:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,a,o){for(var s=a,l=i?-1:1,u=0;u<2;u++){for(;(i?s>=r:s<n)&&i===e.get(s,o);){if(Math.abs(a-s)>t.CODEWORD_SKEW_SIZE)return a;s+=l}l=-l,i=!i}return s},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw Ce.getFormatInstance();var i=1<<r+1,a=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var o=zze.decode(e,""+r);return o.setErrorsCorrected(a),o.setErasures(n.length),o},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw yn.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw Ce.getFormatInstance();var n=e[0];if(n>e.length)throw Ce.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw Ce.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new f3,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var a=e[n][i];a.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new Eze,t}(),Hze=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},RN=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw oe.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof Ce||n instanceof yn?oe.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,a,o=new Array,s=yze.detectMultiple(e,r,n);try{for(var l=Hze(s.getPoints()),u=l.next();!u.done;u=l.next()){var d=u.value,f=Wze.decode(s.getBits(),d[4],d[5],d[6],d[7],t.getMinCodewordWidth(d),t.getMaxCodewordWidth(d)),h=new si(f.getText(),f.getRawBytes(),void 0,d,ze.PDF_417);h.putMetadata(On.ERROR_CORRECTION_LEVEL,f.getECLevel());var p=f.getOther();p!=null&&h.putMetadata(On.PDF417_EXTRA_METADATA,p),o.push(h)}}catch(m){i={error:m}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return o.map(function(m){return m})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?at.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),Gze=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),s$=function(t){Gze(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(Yi),l$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qze=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(ur.TRY_HARDER)!==void 0,n=e==null?null:e.get(ur.POSSIBLE_FORMATS),i=new Array;if(n!=null){var a=n.some(function(o){return o===ze.UPC_A||o===ze.UPC_E||o===ze.EAN_13||o===ze.EAN_8||o===ze.CODABAR||o===ze.CODE_39||o===ze.CODE_93||o===ze.CODE_128||o===ze.ITF||o===ze.RSS_14||o===ze.RSS_EXPANDED});a&&!r&&i.push(new Pm(e)),n.includes(ze.QR_CODE)&&i.push(new jN),n.includes(ze.DATA_MATRIX)&&i.push(new ON),n.includes(ze.AZTEC)&&i.push(new IN),n.includes(ze.PDF_417)&&i.push(new RN),a&&r&&i.push(new Pm(e))}i.length===0&&(r||i.push(new Pm(e)),i.push(new jN),i.push(new ON),i.push(new IN),i.push(new RN),r&&i.push(new Pm(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=l$(this.readers),i=n.next();!i.done;i=n.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new s$("No readers where selected, nothing can be read.");try{for(var i=l$(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(s){if(s instanceof s$)continue}}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new oe("No MultiFormat Readers were able to detect the code.")},t}(),Kze=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yze=function(t){Kze(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,a=new qze;return a.setHints(r),i=t.call(this,a,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e}(vp),Xze=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Xze(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new RN,r)||this}return e})(vp);var Qze=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Qze(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new jN,r)||this}return e})(vp);var DN;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(DN||(DN={}));const r1=DN;var HJ=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new cc(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,a=r.length;a<=e;a++){var o=n.multiply(new cc(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));r.push(o),n=o}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new We("No error correction bytes");var n=e.length-r;if(n<=0)throw new We("No data bytes provided");var i=this.buildGenerator(r),a=new Int32Array(n);Qt.arraycopy(e,0,a,0,n);var o=new cc(this.field,a);o=o.multiplyByMonomial(r,1);for(var s=o.divide(i)[1],l=s.getCoefficients(),u=r-l.length,d=0;d<u;d++)e[n+d]=0;Qt.arraycopy(l,0,e,n+u,l.length)},t}(),jm=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var s=n[o],l=0;l<i-1;l++){var u=s[l];u===s[l+1]&&u===n[o+1][l]&&u===n[o+1][l+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=0;s<i;s++){var l=n[o];s+6<i&&l[s]===1&&l[s+1]===0&&l[s+2]===1&&l[s+3]===1&&l[s+4]===1&&l[s+5]===0&&l[s+6]===1&&(t.isWhiteHorizontal(l,s-4,s)||t.isWhiteHorizontal(l,s+7,s+11))&&r++,o+6<a&&n[o][s]===1&&n[o+1][s]===0&&n[o+2][s]===1&&n[o+3][s]===1&&n[o+4][s]===1&&n[o+5][s]===0&&n[o+6][s]===1&&(t.isWhiteVertical(n,s,o-4,o)||t.isWhiteVertical(n,s,o+7,o+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var a=n;a<i;a++)if(e[a][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=n[o],l=0;l<i;l++)s[l]===1&&r++;var u=e.getHeight()*e.getWidth(),d=Math.floor(Math.abs(r*2-u)*10/u);return d*t.N4},t.getDataMaskBit=function(e,r,n){var i,a;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:a=n*r,i=(a&1)+a%3;break;case 6:a=n*r,i=(a&1)+a%3&1;break;case 7:a=n*r,i=a%3+(n+r&1)&1;break;default:throw new We("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),a=r?e.getWidth():e.getHeight(),o=e.getArray(),s=0;s<i;s++){for(var l=0,u=-1,d=0;d<a;d++){var f=r?o[s][d]:o[d][s];f===u?l++:(l>=5&&(n+=t.N1+(l-5)),l=1,u=f)}l>=5&&(n+=t.N1+(l-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),Zze=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Jze=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=Zze(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;rn.fill(o,e)}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var a=this.bytes[n],o=r.bytes[n],s=0,l=this.width;s<l;++s)if(a[s]!==o[s])return!1;return!0},t.prototype.toString=function(){for(var e=new rt,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),MN=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new rt;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),eWe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rr=function(t){eWe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(Yi),c$=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,a){t.clearMatrix(a),t.embedBasicPatterns(n,a),t.embedTypeInfo(r,i,a),t.maybeEmbedVersionInfo(n,a),t.embedDataBits(e,i,a)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new xn;t.makeTypeInfoBits(e,r,i);for(var a=0,o=i.getSize();a<o;++a){var s=i.get(i.getSize()-1-a),l=t.TYPE_INFO_COORDINATES[a],u=l[0],d=l[1];if(n.setBoolean(u,d,s),a<8){var f=n.getWidth()-a-1,h=8;n.setBoolean(f,h,s)}else{var f=8,h=n.getHeight()-7+(a-8);n.setBoolean(f,h,s)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new xn;t.makeVersionInfoBits(e,n);for(var i=6*3-1,a=0;a<6;++a)for(var o=0;o<3;++o){var s=n.get(i);i--,r.setBoolean(a,r.getHeight()-11+o,s),r.setBoolean(r.getHeight()-11+o,a,s)}}},t.embedDataBits=function(e,r,n){for(var i=0,a=-1,o=n.getWidth()-1,s=n.getHeight()-1;o>0;){for(o===6&&(o-=1);s>=0&&s<n.getHeight();){for(var l=0;l<2;++l){var u=o-l;if(t.isEmpty(n.get(u,s))){var d=void 0;i<e.getSize()?(d=e.get(i),++i):d=!1,r!==255&&jm.getDataMaskBit(r,u,s)&&(d=!d),n.setBoolean(u,s,d)}}s+=a}a=-a,s+=a,o-=2}if(i!==e.getSize())throw new rr("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-at.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new We("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!MN.isValidMaskPattern(r))throw new rr("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var a=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(a,10);var o=new xn;if(o.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new rr("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new rr("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new rr;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new rr;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new rr;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var a=t.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var a=t.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],a=0,o=i.length;a!==o;a++){var s=i[a];if(s>=0)for(var l=0;l!==o;l++){var u=i[l];u>=0&&t.isEmpty(r.get(u,s))&&t.embedPositionAdjustmentPattern(u-2,s-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),tWe=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),u$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return jm.applyMaskPenaltyRule1(e)+jm.applyMaskPenaltyRule2(e)+jm.applyMaskPenaltyRule3(e)+jm.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,a=n!==null&&n.get(r1.CHARACTER_SET)!==void 0;a&&(i=n.get(r1.CHARACTER_SET).toString());var o=this.chooseMode(e,i),s=new xn;if(o===ir.BYTE&&(a||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var l=en.getCharacterSetECIByName(i);l!==void 0&&this.appendECI(l,s)}this.appendModeInfo(o,s);var u=new xn;this.appendBytes(e,o,u,i);var d;if(n!==null&&n.get(r1.QR_VERSION)!==void 0){var f=Number.parseInt(n.get(r1.QR_VERSION).toString(),10);d=Ru.getVersionForNumber(f);var h=this.calculateBitsNeeded(o,s,u,d);if(!this.willFit(h,d,r))throw new rr("Data too big for requested version")}else d=this.recommendVersion(r,o,s,u);var p=new xn;p.appendBitArray(s);var m=o===ir.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(m,d,o,p),p.appendBitArray(u);var g=d.getECBlocksForLevel(r),v=d.getTotalCodewords()-g.getTotalECCodewords();this.terminateBits(v,p);var x=this.interleaveWithECBytes(p,d.getTotalCodewords(),v,g.getNumBlocks()),y=new MN;y.setECLevel(r),y.setMode(o),y.setVersion(d);var w=d.getDimensionForVersion(),S=new Jze(w,w),E=this.chooseMaskPattern(x,r,d,S);return y.setMaskPattern(E),c$.buildMatrix(x,r,d,E,S),y.setMatrix(S),y},t.recommendVersion=function(e,r,n,i){var a=this.calculateBitsNeeded(r,n,i,Ru.getVersionForNumber(1)),o=this.chooseVersion(a,e),s=this.calculateBitsNeeded(r,n,i,o);return this.chooseVersion(s,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),en.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return ir.KANJI;for(var n=!1,i=!1,a=0,o=e.length;a<o;++a){var s=e.charAt(a);if(t.isDigit(s))n=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)i=!0;else return ir.BYTE}return i?ir.ALPHANUMERIC:n?ir.NUMERIC:ir.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=Da.encode(e,en.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var a=r[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,s=0;s<MN.NUM_MASK_PATTERNS;s++){c$.buildMatrix(e,r,n,s,i);var l=this.calculateMaskPenalty(i);l<a&&(a=l,o=s)}return o},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=Ru.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new rr("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),a=r.getECBlocksForLevel(n),o=a.getTotalECCodewords(),s=i-o,l=(e+7)/8;return s>=l},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new rr("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var a=r.getSize()&7;if(a>0)for(var i=a;i<8;i++)r.appendBit(!1);for(var o=e-r.getSizeInBytes(),i=0;i<o;++i)r.appendBits(i&1?17:236,8);if(r.getSize()!==n)throw new rr("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,a,o){if(i>=n)throw new rr("Block ID too large");var s=e%n,l=n-s,u=Math.floor(e/n),d=u+1,f=Math.floor(r/n),h=f+1,p=u-f,m=d-h;if(p!==m)throw new rr("EC bytes mismatch");if(n!==l+s)throw new rr("RS blocks mismatch");if(e!==(f+p)*l+(h+m)*s)throw new rr("Total bytes mismatch");i<l?(a[0]=f,o[0]=p):(a[0]=h,o[0]=m)},t.interleaveWithECBytes=function(e,r,n,i){var a,o,s,l;if(e.getSizeInBytes()!==n)throw new rr("Number of bits and data bytes does not match");for(var u=0,d=0,f=0,h=new Array,p=0;p<i;++p){var m=new Int32Array(1),g=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,p,m,g);var v=m[0],x=new Uint8Array(v);e.toBytes(8*u,x,0,v);var y=t.generateECBytes(x,g[0]);h.push(new tWe(x,y)),d=Math.max(d,v),f=Math.max(f,y.length),u+=m[0]}if(n!==u)throw new rr("Data bytes does not match offset");for(var w=new xn,p=0;p<d;++p)try{for(var S=(a=void 0,u$(h)),E=S.next();!E.done;E=S.next()){var C=E.value,x=C.getDataBytes();p<x.length&&w.appendBits(x[p],8)}}catch(I){a={error:I}}finally{try{E&&!E.done&&(o=S.return)&&o.call(S)}finally{if(a)throw a.error}}for(var p=0;p<f;++p)try{for(var A=(s=void 0,u$(h)),T=A.next();!T.done;T=A.next()){var C=T.value,y=C.getErrorCorrectionBytes();p<y.length&&w.appendBits(y[p],8)}}catch(I){s={error:I}}finally{try{T&&!T.done&&(l=A.return)&&l.call(A)}finally{if(s)throw s.error}}if(r!==w.getSizeInBytes())throw new rr("Interleaving error: "+r+" and "+w.getSizeInBytes()+" differ.");return w},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),a=0;a<n;a++)i[a]=e[a]&255;new HJ(Ri.QR_CODE_FIELD_256).encode(i,r);for(var o=new Uint8Array(r),a=0;a<r;a++)o[a]=i[n+a];return o},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var a=n.getCharacterCountBits(r);if(e>=1<<a)throw new rr(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},t.appendBytes=function(e,r,n,i){switch(r){case ir.NUMERIC:t.appendNumericBytes(e,n);break;case ir.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case ir.BYTE:t.append8BitBytes(e,n,i);break;case ir.KANJI:t.appendKanjiBytes(e,n);break;default:throw new rr("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getDigit(e.charAt(i));if(i+2<n){var o=t.getDigit(e.charAt(i+1)),s=t.getDigit(e.charAt(i+2));r.appendBits(a*100+o*10+s,10),i+=3}else if(i+1<n){var o=t.getDigit(e.charAt(i+1));r.appendBits(a*10+o,7),i+=2}else r.appendBits(a,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new rr;if(i+1<n){var o=t.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new rr;r.appendBits(a*45+o,11),i+=2}else r.appendBits(a,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=Da.encode(e,n)}catch(l){throw new rr(l)}for(var a=0,o=i.length;a!==o;a++){var s=i[a];r.appendBits(s,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=Da.encode(e,en.SJIS)}catch(f){throw new rr(f)}for(var i=n.length,a=0;a<i;a+=2){var o=n[a]&255,s=n[a+1]&255,l=o<<8&4294967295|s,u=-1;if(l>=33088&&l<=40956?u=l-33088:l>=57408&&l<=60351&&(u=l-49472),u===-1)throw new rr("Invalid byte sequence");var d=(u>>8)*192+(u&255);r.appendBits(d,13)}},t.appendECI=function(e,r){r.appendBits(ir.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=en.UTF8.getName(),t})();var rWe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){rWe(e,t);function e(r,n,i,a,o,s,l,u){var d=t.call(this,s,l)||this;if(d.yuvData=r,d.dataWidth=n,d.dataHeight=i,d.left=a,d.top=o,a+s>n||o+l>i)throw new We("Crop rectangle does not fit within image data.");return u&&d.reverseHorizontal(s,l),d}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new We("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return Qt.arraycopy(this.yuvData,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Qt.arraycopy(this.yuvData,o,a,0,i),a;for(var s=0;s<n;s++){var l=s*r;Qt.arraycopy(this.yuvData,o,a,l,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,a,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),a=this.yuvData,o=this.top*this.dataWidth+this.left,s=0;s<n;s++){for(var l=s*r,u=0;u<r;u++){var d=a[o+u*e.THUMBNAIL_SCALE_FACTOR]&255;i[l+u]=4278190080|d*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<n;a++,o+=this.dataWidth)for(var s=o+r/2,l=o,u=o+r-1;l<s;l++,u--){var d=i[l];i[l]=i[u],i[u]=d}},e.prototype.invert=function(){return new l3(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(E_);var nWe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){nWe(e,t);function e(r,n,i,a,o,s,l){var u=t.call(this,n,i)||this;if(u.dataWidth=a,u.dataHeight=o,u.left=s,u.top=l,r.BYTES_PER_ELEMENT===4){for(var d=n*i,f=new Uint8ClampedArray(d),h=0;h<d;h++){var p=r[h],m=p>>16&255,g=p>>7&510,v=p&255;f[h]=(m+g+v)/4&255}u.luminances=f}else u.luminances=r;if(a===void 0&&(u.dataWidth=n),o===void 0&&(u.dataHeight=i),s===void 0&&(u.left=0),l===void 0&&(u.top=0),u.left+n>u.dataWidth||u.top+i>u.dataHeight)throw new We("Crop rectangle does not fit within image data.");return u}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new We("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return Qt.arraycopy(this.luminances,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Qt.arraycopy(this.luminances,o,a,0,i),a;for(var s=0;s<n;s++){var l=s*r;Qt.arraycopy(this.luminances,o,a,l,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new l3(this)},e})(E_);var iWe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),aWe=function(t){iWe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(en),oWe=function(){function t(){}return t.ISO_8859_1=en.ISO8859_1,t}(),LN,sWe=301,lWe=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=sWe);return{LOG:t,ALOG:e}};LN=lWe([],[]),LN.LOG;LN.ALOG;var d$;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(d$||(d$={}));var f$=129,GJ=230,cWe=231,uWe=235,dWe=236,fWe=237,hWe=238,pWe=239,mWe=240,fA=254,gWe=254,h$="[)>05",p$="[)>06",m$="",It=0,Cn=1,hi=2,Qr=3,pn=4,zn=5,vWe=function(){function t(){}return t.prototype.getEncodingMode=function(){return It},t.prototype.encode=function(e){var r=co.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=co.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case zn:e.writeCodeword(cWe),e.signalEncoderChange(zn);return;case Cn:e.writeCodeword(GJ),e.signalEncoderChange(Cn);return;case Qr:e.writeCodeword(hWe),e.signalEncoderChange(Qr);break;case hi:e.writeCodeword(pWe),e.signalEncoderChange(hi);break;case pn:e.writeCodeword(mWe),e.signalEncoderChange(pn);break;default:throw new Error("Illegal mode: "+i)}else co.isExtendedASCII(n)?(e.writeCodeword(uWe),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(co.isDigit(e)&&co.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t}(),yWe=function(){function t(){}return t.prototype.getEncodingMode=function(){return zn},t.prototype.encode=function(e){var r=new rt;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var i=co.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(It);break}}var a=r.length()-1,o=1,s=e.getCodewordCount()+a+o;e.updateSymbolInfo(s);var l=e.getSymbolInfo().getDataCapacity()-s>0;if(e.hasMoreCharacters()||l)if(a<=249)r.setCharAt(0,pt.getCharAt(a));else if(a<=1555)r.setCharAt(0,pt.getCharAt(Math.floor(a/250)+249)),r.insert(1,pt.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var u=0,n=r.length();u<n;u++)e.writeCodeword(this.randomize255State(r.charAt(u).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,i=e+n;return i<=255?i:i-256},t}(),h3=function(){function t(){}return t.prototype.getEncodingMode=function(){return Cn},t.prototype.encodeMaximal=function(e){for(var r=new rt,n=0,i=e.pos,a=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,n=this.encodeChar(o,r),r.length()%3===0&&(i=e.pos,a=r.length())}if(a!==r.length()){var s=Math.floor(r.length()/3*2),l=Math.floor(e.getCodewordCount()+s+1);e.updateSymbolInfo(l);var u=e.getSymbolInfo().getDataCapacity()-l,d=Math.floor(r.length()%3);(d===2&&u!==2||d===1&&(n>3||u!==1))&&(e.pos=i)}r.length()>0&&e.writeCodeword(GJ),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new rt;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,r),a=Math.floor(r.length()/3)*2,o=e.getCodewordCount()+a;e.updateSymbolInfo(o);var s=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var l=new rt;for(r.length()%3===2&&s!==2&&(i=this.backtrackOneCharacter(e,r,l,i));r.length()%3===1&&(i>3||s!==1);)i=this.backtrackOneCharacter(e,r,l,i);break}var u=r.length();if(u%3===0){var d=co.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){e.signalEncoderChange(It);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,i){var a=r.length(),o=r.toString().substring(0,a-i);r.setLengthToZero(),r.append(o),e.pos--;var s=e.getCurrentChar();return i=this.encodeChar(s,n),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),i=r.length()%3,a=e.getCodewordCount()+n;e.updateSymbolInfo(a);var o=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(fA)}else if(o===1&&i===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(fA),e.pos--}else if(i===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(o>0||e.hasMoreCharacters())&&e.writeCodeword(fA)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(It)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,i=r%256,a=new rt;return a.append(n),a.append(i),a.toString()},t}(),xWe=function(){function t(){}return t.prototype.getEncodingMode=function(){return pn},t.prototype.encode=function(e){for(var r=new rt;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var i=r.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var a=r.toString().substring(4);r.setLengthToZero(),r.append(a);var o=co.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(It);break}}}r.append(pt.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var o=n-1,s=this.encodeToCodewords(r.toString()),l=!e.hasMoreCharacters(),u=l&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(u=!1,e.updateSymbolInfo(e.getCodewordCount()+s.length))}u?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(s)}finally{e.signalEncoderChange(It)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(pt.getCharAt(e-64)):co.illegalCharacter(pt.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=r>=2?e.charAt(1).charCodeAt(0):0,a=r>=3?e.charAt(2).charCodeAt(0):0,o=r>=4?e.charAt(3).charCodeAt(0):0,s=(n<<18)+(i<<12)+(a<<6)+o,l=s>>16&255,u=s>>8&255,d=s&255,f=new rt;return f.append(l),r>=2&&f.append(u),r>=3&&f.append(d),f.toString()},t}(),wWe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bWe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},At=function(){function t(e,r,n,i,a,o,s,l){s===void 0&&(s=0),l===void 0&&(l=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=o,this.rsBlockData=s,this.rsBlockError=l}return t.lookup=function(e,r,n,i,a){var o,s;r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var l=bWe(SWe),u=l.next();!u.done;u=l.next()){var d=u.value;if(!(r===1&&d.rectangular)&&!(r===2&&!d.rectangular)&&!(n!=null&&(d.getSymbolWidth()<n.getWidth()||d.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(d.getSymbolWidth()>i.getWidth()||d.getSymbolHeight()>i.getHeight()))&&e<=d.dataCapacity)return d}}catch(f){o={error:f}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),_We=function(t){wWe(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e}(At),SWe=[new At(!1,3,5,8,8,1),new At(!1,5,7,10,10,1),new At(!0,5,7,16,6,1),new At(!1,8,10,12,12,1),new At(!0,10,11,14,6,2),new At(!1,12,12,14,14,1),new At(!0,16,14,24,10,1),new At(!1,18,14,16,16,1),new At(!1,22,18,18,18,1),new At(!0,22,18,16,10,2),new At(!1,30,20,20,20,1),new At(!0,32,24,16,14,2),new At(!1,36,24,22,22,1),new At(!1,44,28,24,24,1),new At(!0,49,28,22,14,2),new At(!1,62,36,14,14,4),new At(!1,86,42,16,16,4),new At(!1,114,48,18,18,4),new At(!1,144,56,20,20,4),new At(!1,174,68,22,22,4),new At(!1,204,84,24,24,4,102,42),new At(!1,280,112,14,14,16,140,56),new At(!1,368,144,16,16,16,92,36),new At(!1,456,192,18,18,16,114,48),new At(!1,576,224,20,20,16,144,56),new At(!1,696,272,22,22,16,174,68),new At(!1,816,336,24,24,16,136,56),new At(!1,1050,408,18,18,36,175,68),new At(!1,1304,496,20,20,36,163,62),new _We],EWe=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(s){return s.charCodeAt(0)}),n=new rt,i=0,a=r.length;i<a;i++){var o=String.fromCharCode(r[i]&255);if(o==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(o)}this.msg=n.toString(),this.shape=0,this.codewords=new rt,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=At.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),AWe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),CWe=function(t){AWe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Qr},e.prototype.encode=function(r){for(var n=new rt;r.hasMoreCharacters();){var i=r.getCurrentChar();r.pos++,this.encodeChar(i,n);var a=n.length();if(a%3===0){this.writeNextTriplet(r,n);var o=co.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){r.signalEncoderChange(It);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):co.illegalCharacter(pt.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var i=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),a=n.length();r.pos-=a,(r.getRemainingCharacters()>1||i>1||r.getRemainingCharacters()!==i)&&r.writeCodeword(gWe),r.getNewEncoding()<0&&r.signalEncoderChange(It)},e}(h3),TWe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),NWe=function(t){TWe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return hi},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(r-128,n),i},e}(h3),co=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=f$+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,i,a){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!1);var o=new h3,s=[new vWe,o,new NWe,new CWe,new xWe,new yWe],l=new EWe(e);l.setSymbolShape(r),l.setSizeConstraints(n,i),e.startsWith(h$)&&e.endsWith(m$)?(l.writeCodeword(dWe),l.setSkipAtEnd(2),l.pos+=h$.length):e.startsWith(p$)&&e.endsWith(m$)&&(l.writeCodeword(fWe),l.setSkipAtEnd(2),l.pos+=p$.length);var u=It;for(a&&(o.encodeMaximal(l),u=l.getNewEncoding(),l.resetEncoderSignal());l.hasMoreCharacters();)s[u].encode(l),l.getNewEncoding()>=0&&(u=l.getNewEncoding(),l.resetEncoderSignal());var d=l.getCodewordCount();l.updateSymbolInfo();var f=l.getSymbolInfo().getDataCapacity();d<f&&u!==It&&u!==zn&&u!==pn&&l.writeCodeword("þ");var h=l.getCodewords();for(h.length()<f&&h.append(f$);h.length()<f;)h.append(this.randomize253State(h.length()+1));return l.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var i=this.lookAheadTestIntern(e,r,n);if(n===Qr&&i===Qr){for(var a=Math.min(r+3,e.length),o=r;o<a;o++)if(!this.isNativeX12(e.charCodeAt(o)))return It}else if(n===pn&&i===pn){for(var a=Math.min(r+4,e.length),o=r;o<a;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return It}return i},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var i;n===It?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var a=0,o=new Uint8Array(6),s=[];;){if(r+a===e.length){rn.fill(o,0),rn.fill(s,0);var l=this.findMinimums(i,s,at.MAX_VALUE,o),u=this.getMinimumCount(o);if(s[It]===l)return It;if(u===1){if(o[zn]>0)return zn;if(o[pn]>0)return pn;if(o[hi]>0)return hi;if(o[Qr]>0)return Qr}return Cn}var d=e.charCodeAt(r+a);if(a++,this.isDigit(d)?i[It]+=.5:this.isExtendedASCII(d)?(i[It]=Math.ceil(i[It]),i[It]+=2):(i[It]=Math.ceil(i[It]),i[It]++),this.isNativeC40(d)?i[Cn]+=2/3:this.isExtendedASCII(d)?i[Cn]+=8/3:i[Cn]+=4/3,this.isNativeText(d)?i[hi]+=2/3:this.isExtendedASCII(d)?i[hi]+=8/3:i[hi]+=4/3,this.isNativeX12(d)?i[Qr]+=2/3:this.isExtendedASCII(d)?i[Qr]+=13/3:i[Qr]+=10/3,this.isNativeEDIFACT(d)?i[pn]+=3/4:this.isExtendedASCII(d)?i[pn]+=17/4:i[pn]+=13/4,this.isSpecialB256(d)?i[zn]+=4:i[zn]++,a>=4){if(rn.fill(o,0),rn.fill(s,0),this.findMinimums(i,s,at.MAX_VALUE,o),s[It]<this.min(s[zn],s[Cn],s[hi],s[Qr],s[pn]))return It;if(s[zn]<s[It]||s[zn]+1<this.min(s[Cn],s[hi],s[Qr],s[pn]))return zn;if(s[pn]+1<this.min(s[zn],s[Cn],s[hi],s[Qr],s[It]))return pn;if(s[hi]+1<this.min(s[zn],s[Cn],s[pn],s[Qr],s[It]))return hi;if(s[Qr]+1<this.min(s[zn],s[Cn],s[pn],s[hi],s[It]))return Qr;if(s[Cn]+1<this.min(s[It],s[zn],s[pn],s[hi])){if(s[Cn]<s[Qr])return Cn;if(s[Cn]===s[Qr]){for(var f=r+a+1;f<e.length;){var h=e.charCodeAt(f);if(this.isX12TermSep(h))return Qr;if(!this.isNativeX12(h))break;f++}return Cn}}}}},t.min=function(e,r,n,i,a){var o=Math.min(e,Math.min(r,Math.min(n,i)));return a===void 0?o:Math.min(o,a)},t.findMinimums=function(e,r,n,i){for(var a=0;a<6;a++){var o=r[a]=Math.ceil(e[a]);n>o&&(n=o,rn.fill(i,0)),n===o&&(i[a]=i[a]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,i=r;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-r},t.illegalCharacter=function(e){var r=at.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t}(),hA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},g$=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return Da.encode(e,this.charset)!=null}catch{return!1}},t}(),IWe=function(){function t(e,r,n){var i,a,o,s,l,u;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(N){return new g$(aWe.forName(N))}),this.encoders=[];var d=[];d.push(new g$(oWe.ISO_8859_1));for(var f=r!=null&&r.name.startsWith("UTF"),h=0;h<e.length;h++){var p=!1;try{for(var m=(i=void 0,hA(d)),g=m.next();!g.done;g=m.next()){var v=g.value,x=e.charAt(h),y=x.charCodeAt(0);if(y===n||v.canEncode(x)){p=!0;break}}}catch(N){i={error:N}}finally{try{g&&!g.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}if(!p)try{for(var w=(o=void 0,hA(this.ENCODERS)),S=w.next();!S.done;S=w.next()){var v=S.value;if(v.canEncode(e.charAt(h))){d.push(v),p=!0;break}}}catch(N){o={error:N}}finally{try{S&&!S.done&&(s=w.return)&&s.call(w)}finally{if(o)throw o.error}}p||(f=!0)}if(d.length===1&&!f)this.encoders=[d[0]];else{this.encoders=[];var E=0;try{for(var C=hA(d),A=C.next();!A.done;A=C.next()){var v=A.value;this.encoders[E++]=v}}catch(N){l={error:N}}finally{try{A&&!A.done&&(u=C.return)&&u.call(C)}finally{if(l)throw l.error}}}var T=-1;if(r!=null){for(var h=0;h<this.encoders.length;h++)if(this.encoders[h]!=null&&r.name===this.encoders[h].name){T=h;break}}this.priorityEncoderIndex=T}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return Da.encode(pt.getCharAt(e),this.encoders[r].name)},t}(),PWe=3,OWe=function(){function t(e,r,n){this.fnc1=n;var i=new IWe(e,r,n);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var o=e.charAt(a).charCodeAt(0);this.bytes[a]=o===n?1e3:o}else this.bytes=this.encodeMinimally(e,i,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new rt,i=e;i<r;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,i,a,o){var s=e.charAt(i).charCodeAt(0),l=0,u=r.length();r.getPriorityEncoderIndex()>=0&&(s===o||r.canEncode(s,r.getPriorityEncoderIndex()))&&(l=r.getPriorityEncoderIndex(),u=l+1);for(var d=l;d<u;d++)(s===o||r.canEncode(s,d))&&this.addEdge(n,i+1,new v$(s,r,d,a,o))},t.prototype.encodeMinimally=function(e,r,n){var i=e.length,a=new v$[i+1][r.length()];this.addEdges(e,r,a,0,null,n);for(var o=1;o<=i;o++){for(var s=0;s<r.length();s++)a[o][s]!=null&&o<i&&this.addEdges(e,r,a,o,a[o][s],n);for(var s=0;s<r.length();s++)a[o-1][s]=null}for(var l=-1,u=at.MAX_VALUE,s=0;s<r.length();s++)if(a[i][s]!=null){var d=a[i][s];d.cachedTotalSize<u&&(u=d.cachedTotalSize,l=s)}if(l<0)throw new Error('Failed to encode "'+e+'"');for(var f=[],h=a[i][l];h!=null;){if(h.isFNC1())f.unshift(1e3);else for(var p=r.encode(h.c,h.encoderIndex),o=p.length-1;o>=0;o--)f.unshift(p[o]&255);var m=h.previous===null?0:h.previous.encoderIndex;m!==h.encoderIndex&&f.unshift(256+r.getECIValue(h.encoderIndex)),h=h.previous}for(var g=[],o=0;o<g.length;o++)g[o]=f[o];return g},t}(),v$=function(){function t(e,r,n,i,a){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var o=this.isFNC1()?1:r.encode(e,n).length,s=i===null?0:i.encoderIndex;s!==n&&(o+=PWe),i!=null&&(o+=i.cachedTotalSize),this.cachedTotalSize=o}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),jWe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var y$;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(y$||(y$={}));(function(t){jWe(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n,i)||this;return s.shape=a,s.macroId=o,s}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(OWe);var kWe=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),x$=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),RWe=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),DWe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),p3=function(t){DWe(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.value=n,a.bitCount=i,a}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+at.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(RWe),MWe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),LWe=function(t){MWe(e,t);function e(r,n,i){var a=t.call(this,r,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(p3);function $We(t,e,r){return new LWe(t,e,r)}function am(t,e,r){return new p3(t,e,r)}var FWe=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],uc=0,kw=1,Pa=2,qJ=3,Uo=4,BWe=new p3(null,0,0),pA=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],UWe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function VWe(t){var e,r;try{for(var n=UWe(t),i=n.next();!i.done;i=n.next()){var a=i.value;rn.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[uc][Uo]=0,t[kw][Uo]=0,t[kw][uc]=28,t[qJ][Uo]=0,t[Pa][Uo]=0,t[Pa][uc]=15,t}var KJ=VWe(rn.createInt32Array(6,6)),zWe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},WWe=function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var a=pA[this.mode][e];i=am(i,a&65535,a>>16),n+=a>>16}var o=e===Pa?4:5;return i=am(i,r,o),new t(i,e,0,n+o)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===Pa?4:5;return n=am(n,KJ[this.mode][e],i),n=am(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===Uo||this.mode===Pa){var a=pA[n][uc];r=am(r,a&65535,a>>16),i+=a>>16,n=uc}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new t(r,n,this.binaryShiftByteCount+1,i+o);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(e+1)),s},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=$We(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(pA[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var o=new xn;try{for(var s=zWe(i),l=s.next();!l.done;l=s.next()){var u=l.value;u.appendTo(o,e)}}catch(d){r={error:d}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},t.prototype.toString=function(){return pt.format("%s bits=%d bytes=%d",FWe[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(BWe,uc,0,0),t}();function HWe(t){var e=pt.getCharCode(" "),r=pt.getCharCode("."),n=pt.getCharCode(",");t[uc][e]=1;for(var i=pt.getCharCode("Z"),a=pt.getCharCode("A"),o=a;o<=i;o++)t[uc][o]=o-a+2;t[kw][e]=1;for(var s=pt.getCharCode("z"),l=pt.getCharCode("a"),o=l;o<=s;o++)t[kw][o]=o-l+2;t[Pa][e]=1;for(var u=pt.getCharCode("9"),d=pt.getCharCode("0"),o=d;o<=u;o++)t[Pa][o]=o-d+2;t[Pa][n]=12,t[Pa][r]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],h=0;h<f.length;h++)t[qJ][pt.getCharCode(f[h])]=h;for(var p=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],h=0;h<p.length;h++)pt.getCharCode(p[h])>0&&(t[Uo][pt.getCharCode(p[h])]=h);return t}var mA=HWe(rn.createInt32Array(5,256)),n1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},GWe=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=pt.getCharCode(" "),r=pt.getCharCode(`
`),n=x$.singletonList(WWe.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case pt.getCharCode("\r"):a=o===r?2:0;break;case pt.getCharCode("."):a=o===e?3:0;break;case pt.getCharCode(","):a=o===e?4:0;break;case pt.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(n=t.updateStateListForPair(n,i,a),i++):n=this.updateStateListForChar(n,i)}var s=x$.min(n,function(l,u){return l.getBitCount()-u.getBitCount()});return s.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,a=[];try{for(var o=n1(e),s=o.next();!s.done;s=o.next()){var l=s.value;this.updateStateForChar(l,r,a)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return t.simplifyStates(a)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,a=mA[e.getMode()][i]>0,o=null,s=0;s<=Uo;s++){var l=mA[s][i];if(l>0){if(o==null&&(o=e.endBinaryShift(r)),!a||s===e.getMode()||s===Pa){var u=o.latchAndAppend(s,l);n.push(u)}if(!a&&KJ[e.getMode()][s]>=0){var d=o.shiftAndAppend(s,l);n.push(d)}}}if(e.getBinaryShiftByteCount()>0||mA[e.getMode()][i]===0){var f=e.addBinaryShiftChar(r);n.push(f)}},t.updateStateListForPair=function(e,r,n){var i,a,o=[];try{for(var s=n1(e),l=s.next();!l.done;l=s.next()){var u=l.value;this.updateStateForPair(u,r,n,o)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return this.simplifyStates(o)},t.updateStateForPair=function(e,r,n,i){var a=e.endBinaryShift(r);if(i.push(a.latchAndAppend(Uo,n)),e.getMode()!==Uo&&i.push(a.shiftAndAppend(Uo,n)),n===3||n===4){var o=a.latchAndAppend(Pa,16-n).latchAndAppend(Pa,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(s)}},t.simplifyStates=function(e){var r,n,i,a,o=[];try{for(var s=n1(e),l=s.next();!l.done;l=s.next()){var u=l.value,d=!0,f=function(v){if(v.isBetterThanOrEqualTo(u))return d=!1,"break";u.isBetterThanOrEqualTo(v)&&(o=o.filter(function(x){return x!==v}))};try{for(var h=(i=void 0,n1(o)),p=h.next();!p.done;p=h.next()){var m=p.value,g=f(m);if(g==="break")break}}catch(v){i={error:v}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}d&&o.push(u)}}catch(v){r={error:v}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},t}(),qWe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new GWe(e).encode(),a=at.truncDivision(i.getSize()*r,100)+11,o=i.getSize()+a,s,l,u,d,f;if(n!==t.DEFAULT_AZTEC_LAYERS){if(s=n<0,l=Math.abs(n),l>(s?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new We(pt.format("Illegal value %s for layers",n));u=t.totalBitsInLayer(l,s),d=t.WORD_SIZE[l];var h=u-u%d;if(f=t.stuffBits(i,d),f.getSize()+a>h)throw new We("Data to large for user specified layer");if(s&&f.getSize()>d*64)throw new We("Data to large for user specified layer")}else{d=0,f=null;for(var p=0;;p++){if(p>t.MAX_NB_BITS)throw new We("Data too large for an Aztec code");if(s=p<=3,l=s?p+1:p,u=t.totalBitsInLayer(l,s),!(o>u)){(f==null||d!==t.WORD_SIZE[l])&&(d=t.WORD_SIZE[l],f=t.stuffBits(i,d));var h=u-u%d;if(!(s&&f.getSize()>d*64)&&f.getSize()+a<=h)break}}}var m=t.generateCheckWords(f,u,d),g=f.getSize()/d,v=t.generateModeMessage(s,l,g),x=(s?11:14)+l*4,y=new Int32Array(x),w;if(s){w=x;for(var p=0;p<y.length;p++)y[p]=p}else{w=x+1+2*at.truncDivision(at.truncDivision(x,2)-1,15);for(var S=at.truncDivision(x,2),E=at.truncDivision(w,2),p=0;p<S;p++){var C=p+at.truncDivision(p,15);y[S-p-1]=E-C-1,y[S+p]=E+C+1}}for(var A=new ls(w),p=0,T=0;p<l;p++){for(var N=(l-p)*4+(s?9:12),I=0;I<N;I++)for(var j=I*2,O=0;O<2;O++)m.get(T+j+O)&&A.set(y[p*2+O],y[p*2+I]),m.get(T+N*2+j+O)&&A.set(y[p*2+I],y[x-1-p*2-O]),m.get(T+N*4+j+O)&&A.set(y[x-1-p*2-O],y[x-1-p*2-I]),m.get(T+N*6+j+O)&&A.set(y[x-1-p*2-I],y[p*2+O]);T+=N*8}if(t.drawModeMessage(A,s,w,v),s)t.drawBullsEye(A,at.truncDivision(w,2),5);else{t.drawBullsEye(A,at.truncDivision(w,2),7);for(var p=0,I=0;p<at.truncDivision(x,2)-1;p+=15,I+=16)for(var O=at.truncDivision(w,2)&1;O<w;O+=2)A.set(at.truncDivision(w,2)-I,O),A.set(at.truncDivision(w,2)+I,O),A.set(O,at.truncDivision(w,2)-I),A.set(O,at.truncDivision(w,2)+I)}var P=new kWe;return P.setCompact(s),P.setSize(w),P.setLayers(l),P.setCodeWords(g),P.setMatrix(A),P},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var a=r-i;a<=r+i;a++)e.set(a,r-i),e.set(a,r+i),e.set(r-i,a),e.set(r+i,a);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new xn;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var a=at.truncDivision(n,2);if(r)for(var o=0;o<7;o++){var s=a-3+o;i.get(o)&&e.set(s,a-5),i.get(o+7)&&e.set(a+5,s),i.get(20-o)&&e.set(s,a+5),i.get(27-o)&&e.set(a-5,s)}else for(var o=0;o<10;o++){var s=a-5+o+at.truncDivision(o,5);i.get(o)&&e.set(s,a-7),i.get(o+10)&&e.set(a+7,s),i.get(29-o)&&e.set(s,a+7),i.get(39-o)&&e.set(a-7,s)}},t.generateCheckWords=function(e,r,n){var i,a,o=e.getSize()/n,s=new HJ(t.getGF(n)),l=at.truncDivision(r,n),u=t.bitsToWords(e,n,l);s.encode(u,l-o);var d=r%n,f=new xn;f.appendBits(0,d);try{for(var h=qWe(Array.from(u)),p=h.next();!p.done;p=h.next()){var m=p.value;f.appendBits(m,n)}}catch(g){i={error:g}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return f},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),a,o;for(a=0,o=e.getSize()/r;a<o;a++){for(var s=0,l=0;l<r;l++)s|=e.get(a*r+l)?1<<r-l-1:0;i[a]=s}return i},t.getGF=function(e){switch(e){case 4:return Ri.AZTEC_PARAM;case 6:return Ri.AZTEC_DATA_6;case 8:return Ri.AZTEC_DATA_8;case 10:return Ri.AZTEC_DATA_10;case 12:return Ri.AZTEC_DATA_12;default:throw new We("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new xn,i=e.getSize(),a=(1<<r)-2,o=0;o<i;o+=r){for(var s=0,l=0;l<r;l++)(o+l>=i||e.get(o+l))&&(s|=1<<r-1-l);(s&a)===a?(n.appendBits(s&a,r),o--):s&a?n.appendBits(s,r):(n.appendBits(s|1,r),o--)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var YJ={exports:{}};(function(t,e){(function(n,i){t.exports=i(b)})(ia,function(r){return function(n){var i={};function a(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=i,a.d=function(o,s,l){a.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,s){if(s&1&&(o=a(o)),s&8||s&4&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),s&2&&typeof o!="string")for(var u in o)a.d(l,u,(function(d){return o[d]}).bind(null,u));return l},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="",a(a.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(n,i,a){a.r(i);var o=a("react"),s=function(){var h=function(p,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var x in v)v.hasOwnProperty(x)&&(g[x]=v[x])},h(p,m)};return function(p,m){h(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),l=function(){return l=Object.assign||function(h){for(var p,m=1,g=arguments.length;m<g;m++){p=arguments[m];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(h[v]=p[v])}return h},l.apply(this,arguments)},u=function(h,p){var m={};for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&p.indexOf(g)<0&&(m[g]=h[g]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,g=Object.getOwnPropertySymbols(h);v<g.length;v++)p.indexOf(g[v])<0&&Object.prototype.propertyIsEnumerable.call(h,g[v])&&(m[g[v]]=h[g[v]]);return m};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(p){var m=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return m?new Promise(function(g,v){m.call(navigator,p,g,v)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function d(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var f=function(h){s(p,h);function p(m){var g=h.call(this,m)||this;return g.canvas=null,g.ctx=null,g.requestUserMediaId=0,g.unmounted=!1,g.state={hasUserMedia:!1},g}return p.prototype.componentDidMount=function(){var m=this,g=m.state,v=m.props;if(this.unmounted=!1,!d()){v.onUserMediaError("getUserMedia not supported");return}g.hasUserMedia||this.requestUserMedia(),v.children&&typeof v.children!="function"&&console.warn("children must be a function")},p.prototype.componentDidUpdate=function(m){var g=this.props;if(!d()){g.onUserMediaError("getUserMedia not supported");return}var v=JSON.stringify(m.audioConstraints)!==JSON.stringify(g.audioConstraints),x=JSON.stringify(m.videoConstraints)!==JSON.stringify(g.videoConstraints),y=m.minScreenshotWidth!==g.minScreenshotWidth,w=m.minScreenshotHeight!==g.minScreenshotHeight;(x||y||w)&&(this.canvas=null,this.ctx=null),(v||x)&&(this.stopAndCleanup(),this.requestUserMedia())},p.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},p.stopMediaStream=function(m){m&&(m.getVideoTracks&&m.getAudioTracks?(m.getVideoTracks().map(function(g){m.removeTrack(g),g.stop()}),m.getAudioTracks().map(function(g){m.removeTrack(g),g.stop()})):m.stop())},p.prototype.stopAndCleanup=function(){var m=this.state;m.hasUserMedia&&(p.stopMediaStream(this.stream),m.src&&window.URL.revokeObjectURL(m.src))},p.prototype.getScreenshot=function(m){var g=this,v=g.state,x=g.props;if(!v.hasUserMedia)return null;var y=this.getCanvas(m);return y&&y.toDataURL(x.screenshotFormat,x.screenshotQuality)},p.prototype.getCanvas=function(m){var g=this,v=g.state,x=g.props;if(!this.video||!v.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var y=this.video.videoWidth,w=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var S=y/w;y=x.minScreenshotWidth||this.video.clientWidth,w=y/S,x.minScreenshotHeight&&w<x.minScreenshotHeight&&(w=x.minScreenshotHeight,y=w*S)}this.canvas=document.createElement("canvas"),this.canvas.width=(m==null?void 0:m.width)||y,this.canvas.height=(m==null?void 0:m.height)||w,this.ctx=this.canvas.getContext("2d")}var E=this,C=E.ctx,A=E.canvas;return C&&A&&(A.width=(m==null?void 0:m.width)||A.width,A.height=(m==null?void 0:m.height)||A.height,x.mirrored&&(C.translate(A.width,0),C.scale(-1,1)),C.imageSmoothingEnabled=x.imageSmoothing,C.drawImage(this.video,0,0,(m==null?void 0:m.width)||A.width,(m==null?void 0:m.height)||A.height),x.mirrored&&(C.scale(-1,1),C.translate(-A.width,0))),A},p.prototype.requestUserMedia=function(){var m=this,g=this.props,v=function(w,S){var E={video:typeof S<"u"?S:!0};g.audio&&(E.audio=typeof w<"u"?w:!0),m.requestUserMediaId++;var C=m.requestUserMediaId;navigator.mediaDevices.getUserMedia(E).then(function(A){m.unmounted||C!==m.requestUserMediaId?p.stopMediaStream(A):m.handleUserMedia(null,A)}).catch(function(A){m.handleUserMedia(A)})};if("mediaDevices"in navigator)v(g.audioConstraints,g.videoConstraints);else{var x=function(w){return{optional:[{sourceId:w}]}},y=function(w){var S=w.deviceId;return typeof S=="string"?S:Array.isArray(S)&&S.length>0?S[0]:typeof S=="object"&&S.ideal?S.ideal:null};MediaStreamTrack.getSources(function(w){var S=null,E=null;w.forEach(function(T){T.kind==="audio"?S=T.id:T.kind==="video"&&(E=T.id)});var C=y(g.audioConstraints);C&&(S=C);var A=y(g.videoConstraints);A&&(E=A),v(x(S),x(E))})}},p.prototype.handleUserMedia=function(m,g){var v=this.props;if(m||!g){this.setState({hasUserMedia:!1}),v.onUserMediaError(m);return}this.stream=g;try{this.video&&(this.video.srcObject=g),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(g)})}v.onUserMedia(g)},p.prototype.render=function(){var m=this,g=this,v=g.state,x=g.props,y=x.audio;x.forceScreenshotSourceSize;var w=x.disablePictureInPicture;x.onUserMedia,x.onUserMediaError,x.screenshotFormat,x.screenshotQuality,x.minScreenshotWidth,x.minScreenshotHeight,x.audioConstraints,x.videoConstraints,x.imageSmoothing;var S=x.mirrored,E=x.style,C=E===void 0?{}:E,A=x.children,T=u(x,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),N=S?l(l({},C),{transform:(C.transform||"")+" scaleX(-1)"}):C,I={getScreenshot:this.getScreenshot.bind(this)};return o.createElement(o.Fragment,null,o.createElement("video",l({autoPlay:!0,disablePictureInPicture:w,src:v.src,muted:!y,playsInline:!0,ref:function(j){m.video=j},style:N},T)),A&&A(I))},p.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},p}(o.Component);i.default=f},react:function(n,i){n.exports=r}}).default})})(YJ);var KWe=YJ.exports;const YWe=dt(KWe),XWe=({onUpdate:t,onError:e,width:r="100%",height:n="100%",facingMode:i="environment",torch:a,delay:o=500,videoConstraints:s,stopStream:l,formats:u})=>{const d=b.useRef(null),f=b.useCallback(()=>{var m;const h=new Yze(new Map([[ur.POSSIBLE_FORMATS,u==null?void 0:u.map(g=>typeof g=="string"?ze[g]:g)]])),p=(m=d==null?void 0:d.current)==null?void 0:m.getScreenshot();p&&h.decodeFromImage(void 0,p).then(g=>{t(null,g)}).catch(g=>{t(g)})},[t,u]);return b.useEffect(()=>{var h,p,m;if(typeof a=="boolean"&&((h=navigator==null?void 0:navigator.mediaDevices)==null?void 0:h.getSupportedConstraints()).torch){const g=(m=(p=d==null?void 0:d.current)==null?void 0:p.video)==null?void 0:m.srcObject,v=g==null?void 0:g.getVideoTracks()[0];v&&v.getCapabilities().torch&&v.applyConstraints({advanced:[{torch:a}]}).catch(x=>t(x))}},[a,t]),b.useEffect(()=>{var h,p;if(l){let m=(p=(h=d==null?void 0:d.current)==null?void 0:h.video)==null?void 0:p.srcObject;m&&(m.getTracks().forEach(g=>{m==null||m.removeTrack(g),g.stop()}),m=null)}},[l]),b.useEffect(()=>{const h=setInterval(f,o);return()=>{clearInterval(h)}},[f,o]),c.jsx(YWe,{width:r,height:n,ref:d,screenshotFormat:"image/jpeg",videoConstraints:s||{facingMode:i},audio:!1,onUserMediaError:e})};var w$;(function(t){t.AZTEC="AZTEC",t.CODABAR="CODABAR",t.CODE_39="CODE_39",t.CODE_93="CODE_93",t.CODE_128="CODE_128",t.DATA_MATRIX="DATA_MATRIX",t.EAN_8="EAN_8",t.EAN_13="EAN_13",t.ITF="ITF",t.MAXICODE="MAXICODE",t.PDF_417="PDF_417",t.QR_CODE="QR_CODE",t.RSS_14="RSS_14",t.RSS_EXPANDED="RSS_EXPANDED",t.UPC_A="UPC_A",t.UPC_E="UPC_E",t.UPC_EAN_EXTENSION="UPC_EAN_EXTENSION"})(w$||(w$={}));const XJ=()=>!!(navigator.mediaDevices&&typeof navigator.mediaDevices.getUserMedia=="function"),QWe=async()=>{try{return navigator.permissions&&navigator.permissions.query?(await navigator.permissions.query({name:"camera"})).state==="granted":!1}catch(t){return console.warn("Could not check camera permissions:",t),!1}},ZWe=async(t={facingMode:"environment",width:{ideal:1280},height:{ideal:720}},e=1e4)=>{try{if(!XJ())return{stream:null,error:"Your browser doesn't support camera access. Try using a modern browser like Chrome, Firefox, or Safari."};const r=await QWe();console.log(`Camera permission status: ${r?"granted":"not granted"}`);const n=(async()=>{const o={facingMode:{exact:t.facingMode||"environment"}};t.width&&(o.width=t.width),t.height&&(o.height=t.height),t.frameRate&&(o.frameRate=t.frameRate);try{return console.log("Attempting to access camera with constraints:",o),await navigator.mediaDevices.getUserMedia({video:o,audio:!1})}catch(s){return console.warn("Failed with exact constraints, trying with more flexible settings:",s),await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1})}})(),i=new Promise((o,s)=>{setTimeout(()=>s(new Error("Camera access timeout")),e)});return{stream:await Promise.race([n,i]),error:null}}catch(r){console.error("Camera access error:",r);let n="Failed to access camera";const i=r.message||r.name||String(r);switch(r.name){case"NotAllowedError":n="Camera access was denied. Please grant camera permissions in your browser settings and try again.";break;case"NotFoundError":n="No camera found on your device.";break;case"NotReadableError":case"AbortError":n="The camera is already in use by another application or tab. Please close other applications using the camera and try again.";break;case"SecurityError":n="Camera access is blocked by your browser's security settings.";break;case"OverconstrainedError":n="Could not access the camera with the requested settings. Try using different settings.";break;case"TypeError":n="Invalid camera constraints. Please try again with different settings.";break;default:r.message==="Camera access timeout"?n="Camera access timed out. This often happens on mobile devices. Please try again or check your device settings.":n=`Camera error: ${i}`}return console.error(`Camera error details - Name: ${r.name}, Message: ${r.message}`),{stream:null,error:n}}},JWe=async(t=3)=>{const e=[{facingMode:"environment",width:{ideal:1280},height:{ideal:720}},{facingMode:"environment",width:{ideal:640},height:{ideal:480}},{facingMode:"environment"}];let r=null;for(let n=0;n<Math.min(t,e.length);n++)try{console.log(`Camera access attempt ${n+1}/${t} with constraints:`,e[n]);const i=await ZWe(e[n]);if(i.stream)return i;r=i.error,console.warn(`Attempt ${n+1} failed: ${r}`)}catch(i){r=`Unexpected error: ${i}`,console.error(`Attempt ${n+1} error:`,i)}return{stream:null,error:`Failed after ${t} attempts. ${r}`}},b$=t=>{if(t)try{t.getTracks().forEach(e=>{try{e.stop()}catch(r){console.warn("Error stopping media track:",r)}})}catch(e){console.error("Error stopping media stream:",e)}},eHe=async(t,e)=>{try{const r=t.getVideoTracks()[0];if(!r)return!1;const n=r.getCapabilities();return!n||typeof n.torch!="boolean"?!1:(await r.applyConstraints({advanced:[{torch:e}]}),!0)}catch(r){return console.error("Error toggling torch:",r),!1}},QJ={corsAnywhere:{url:"https://cors-anywhere.herokuapp.com/",headers:{Origin:typeof window<"u"?window.location.origin:"","X-Requested-With":"XMLHttpRequest"}},allOrigins:{url:"https://api.allorigins.win/raw?url=",headers:{}}};async function ZJ(t,e={},r="direct"){const n=aHe(r);let i=null;for(const a of n)try{const o=await tHe(t,e,a);if(o)return console.log(`[Proxy] Successfully fetched with ${a} strategy`),o}catch(o){console.error(`[Proxy] ${a} strategy failed:`,o),i=o}return console.error("[Proxy] All strategies failed. Last error:",i),null}async function tHe(t,e={},r){switch(console.log(`[Proxy] Attempting ${r} strategy for: ${t}`),r){case"direct":return rHe(t,e);case"corsAnywhere":return nHe(t,e);case"allOrigins":return iHe(t,e);case"jsonp":throw new Error("JSONP strategy not implemented yet");default:throw new Error(`Unknown proxy strategy: ${r}`)}}async function rHe(t,e={}){const r=await fetch(t,e);if(!r.ok)throw console.error(`[Proxy] Direct fetch failed with status: ${r.status}`),new Error(`HTTP error: ${r.status}`);return await r.json()}async function nHe(t,e={}){const r=QJ.corsAnywhere,n=`${r.url}${t}`,i=await fetch(n,{...e,headers:{...e.headers,...r.headers}});if(!i.ok)throw console.error(`[Proxy] CORS Anywhere fetch failed with status: ${i.status}`),new Error(`HTTP error: ${i.status}`);return await i.json()}async function iHe(t,e={}){const r=QJ.allOrigins,n=`${r.url}${encodeURIComponent(t)}`,i=await fetch(n,{...e,headers:{...e.headers,...r.headers}});if(!i.ok)throw console.error(`[Proxy] AllOrigins fetch failed with status: ${i.status}`),new Error(`HTTP error: ${i.status}`);return await i.json()}function aHe(t){const e=["direct","corsAnywhere","allOrigins"];if(t==="direct")return e;const r=e.filter(n=>n!==t&&n!=="direct");return["direct",t,...r]}const oHe="Taska-Loop",sHe="1.0",lHe="vanold101@gmail.com",cHe="https://world.openfoodfacts.org/api/v2";async function uHe(t){try{console.log(`[OpenFoodFacts] Fetching data for barcode: ${t}`);const e=t.replace(/^0+/,""),r=`${cHe}/product/${e}.json`;console.log(`[OpenFoodFacts] API URL: ${r}`);const n={headers:{"User-Agent":`${oHe}/${sHe} (${lHe})`}},i=await ZJ(r,n,"direct");if(!i)return console.error("[OpenFoodFacts] Failed to fetch data"),null;if(console.log(`[OpenFoodFacts] API response status: ${i.status} (${i.status_verbose})`),i.product?(console.log(`[OpenFoodFacts] Product found: ${i.product.product_name||"Unknown product"}`),console.log(`[OpenFoodFacts] Brand: ${i.product.brands||"Unknown brand"}`)):console.log("[OpenFoodFacts] Full response:",JSON.stringify(i).substring(0,200)+"..."),i.status===0||!i.product)return console.log("[OpenFoodFacts] Product not found",i),null;const a={name:i.product.product_name||"",brand:i.product.brands||"",image:i.product.image_front_url||i.product.image_url||"",category:i.product.categories||"",ingredients:i.product.ingredients_text||"",quantity:i.product.quantity||"",nutriscore:i.product.nutriscore_grade||"",ecoscore:i.product.ecoscore_grade||"",novaGroup:i.product.nova_group,stores:i.product.stores||""};return console.log("[OpenFoodFacts] Successfully extracted product details:",a),a}catch(e){return console.error("[OpenFoodFacts] Error fetching from Open Food Facts API:",e),null}}async function dHe(t){try{console.log(`[UPCItemDB] Fetching data for barcode: ${t}`);const e=`https://api.upcitemdb.com/prod/trial/lookup?upc=${t}`;console.log(`[UPCItemDB] API URL: ${e}`);const r=await ZJ(e,{},"allOrigins");if(!r)return console.error("[UPCItemDB] Failed to fetch data"),null;if(console.log(`[UPCItemDB] API response code: ${r.code}`),r.code==="OK"&&r.items&&r.items.length>0){const n=r.items[0];console.log(`[UPCItemDB] Product found: ${n.title||"Unknown title"}`);const i={name:n.title,brand:n.brand,image:n.images&&n.images.length>0?n.images[0]:void 0};return console.log("[UPCItemDB] Successfully extracted product details:",i),i}return console.log("[UPCItemDB] No items found or error in response",r),null}catch(e){return console.error("[UPCItemDB] Error fetching from UPCItemDB:",e),null}}const fHe=({onItemScanned:t,onScan:e,buttonText:r="Scan Barcode",buttonVariant:n="outline",buttonSize:i="sm",className:a="",tripId:o})=>{const[s,l]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(null),[p,m]=b.useState(!1),[g,v]=b.useState(!1),[x,y]=b.useState(!1),[w,S]=b.useState(!0),[E,C]=b.useState("Waiting for barcode..."),[A,T]=b.useState(null),[N,I]=b.useState("none"),[j,O]=b.useState(0),[P,M]=b.useState(0),[F,B]=b.useState(""),[W,$]=b.useState(!1),[U,X]=b.useState(!1),[H,Y]=b.useState(0),Q=b.useRef(null),ue=b.useRef(null),{toast:de}=cn();b.useEffect(()=>()=>{var ne;(ne=Q.current)!=null&&ne.srcObject&&b$(Q.current.srcObject),ue.current&&clearInterval(ue.current)},[]),b.useEffect(()=>{if(s&&!u){const ne=setTimeout(()=>{he()},100);return()=>{clearTimeout(ne),ue.current&&clearInterval(ue.current)}}else!s&&u&&(d(!1),m(!1),M(0),h(null),ue.current&&clearInterval(ue.current))},[s]);const he=async()=>{if(!U)try{X(!0),h(null),C("Initializing camera...");const{stream:ne,error:Oe}=await JWe();if(Oe){console.error("Camera initialization failed:",Oe),h(Oe),C("Camera access failed"),d(!1);return}ne&&(d(!0),C("Waiting for barcode..."),ue.current&&clearInterval(ue.current),ue.current=setInterval(()=>{M(Z=>{const le=Z+1;return le%5===0&&C("Still searching for barcode... Please ensure good lighting and hold steady."),le})},2e3))}catch(ne){console.error("Error initializing camera:",ne),h(`Error accessing camera: ${ne}`),C("Camera initialization failed")}finally{X(!1)}},pe=async(ne,Oe)=>{if(x)return;const Z=Date.now();if(Oe&&Z-j>3e3){O(Z),y(!0),C("Barcode detected! Processing..."),T(Oe.text),I("detected"),ue.current&&clearInterval(ue.current);const le=Oe.text;if(console.log(`[Scanner] Barcode detected: ${le}`),de({title:"Barcode Detected",description:`UPC: ${le}. Fetching details...`}),e){console.log(`[Scanner] Using onScan callback with barcode: ${le}`),e(le),q();return}t&&J(le)}},J=async ne=>{if(!(!ne||ne.trim()==="")){y(!0),C("Processing barcode...");try{console.log(`[Scanner] Looking up product details for UPC: ${ne}`);let Oe=await uHe(ne);if(Oe&&Object.keys(Oe).length>0){console.log(`[Scanner] Found product in Open Food Facts: ${Oe.name||"Unknown"}`),t==null||t({upc:ne,...Oe}),de({title:"Product Found",description:`Found: ${Oe.name||ne} in Open Food Facts database.`}),q();return}console.log("[Scanner] Product not found in Open Food Facts, trying UPCItemDB...");const Z=await dHe(ne);if(Z){console.log(`[Scanner] Found product in UPCItemDB: ${Z.name||"Unknown"}`),t==null||t({upc:ne,...Z}),de({title:"Product Found",description:`Found: ${Z.name||ne} in UPCItemDB.`}),q();return}console.log("[Scanner] Product not found in any database"),I("not_in_db"),t==null||t({upc:ne,name:`Item (${ne})`}),de({title:"Limited Information",description:"Product not found in database. Added with barcode only.",variant:"default"}),q()}catch(Oe){console.error("[Scanner] Error looking up product:",Oe),I("error"),t==null||t({upc:ne,name:`Item (${ne})`}),de({title:"Error Looking Up Product",description:"Added with barcode only. Network issue or database limitation.",variant:"destructive"}),q()}}},re=ne=>{console.error("Camera error in scanner component:",ne),d(!1),h(ne.toString()),C("Camera access failed. You can try again or enter a barcode manually."),$(!0),de({title:"Camera Error",description:"Could not access camera. You can enter a barcode manually or retry.",variant:"destructive"})},L=()=>{Y(ne=>ne+1),h(null),he()},q=()=>{var ne;(ne=Q.current)!=null&&ne.srcObject&&b$(Q.current.srcObject),ue.current&&clearInterval(ue.current),d(!1),y(!1),I("none"),T(null),M(0),h(null),$(!1),B(""),l(!1)},G=async()=>{var Z;if(!((Z=Q.current)!=null&&Z.srcObject))return;const ne=!p;await eHe(Q.current.srcObject,ne)?m(ne):de({title:"Torch Unavailable",description:"Your device doesn't support flash/torch control.",variant:"destructive"})},ye=async()=>{const ne=XJ();S(ne),ne||($(!0),h("Your browser doesn't support camera access. Please enter the barcode manually.")),l(!0)},me=ne=>{if(ne.preventDefault(),F.trim()===""){de({title:"Invalid Barcode",description:"Please enter a valid barcode.",variant:"destructive"});return}J(F)},ie=()=>{$(!W)};return b.useEffect(()=>{u&&(async()=>{var Oe;if((Oe=Q.current)!=null&&Oe.srcObject)try{const Z=Q.current.srcObject.getVideoTracks()[0];if(Z){const le=Z.getCapabilities();v(le.torch===!0)}}catch(Z){console.warn("Failed to check flash capabilities:",Z),v(!1)}})()},[u]),c.jsxs(c.Fragment,{children:[c.jsxs(K,{variant:n,size:i,onClick:ye,className:a,"aria-label":r||"Scan Barcode",children:[r&&c.jsx("span",{className:"mr-2",children:r}),c.jsx(bV,{className:"h-4 w-4"})]}),c.jsx(_r,{open:s,onOpenChange:ne=>!ne&&q(),children:c.jsxs(pr,{className:"sm:max-w-md",children:[c.jsx(mr,{children:c.jsx(gr,{className:"text-center",children:f?"Camera Error":A?"Barcode Detected!":"Scan Barcode"})}),!f&&u&&c.jsxs("div",{className:"relative overflow-hidden w-full aspect-square max-h-80 bg-muted rounded-md",children:[c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-full h-full",children:c.jsx(XWe,{width:"100%",height:"100%",onUpdate:pe,onError:re,torch:p})})}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-5/6 h-1/4 border-2 border-white rounded-lg bg-transparent",children:c.jsx("div",{className:"absolute inset-0 flex items-start justify-center mt-1",children:c.jsx("div",{className:"bg-black/40 text-white px-2 py-1 text-xs rounded",children:E})})})}),g&&c.jsx(K,{size:"sm",variant:"outline",className:"absolute bottom-4 left-4 bg-white/80",onClick:G,children:p?"Torch Off":"Torch On"}),c.jsx(K,{size:"sm",variant:"outline",className:"absolute bottom-4 right-4 bg-white/80",onClick:q,children:"Close"})]}),f&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-destructive/10 p-4 rounded-md text-destructive flex items-start",children:[c.jsx(_o,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"font-medium",children:"Camera Error"}),c.jsx("p",{className:"text-sm",children:f})]})]}),c.jsx(K,{variant:"outline",onClick:L,className:"w-full",disabled:U,children:U?"Initializing...":"Retry Camera"})]}),(W||f)&&c.jsx("form",{onSubmit:me,className:"space-y-4",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"manual-barcode",className:"text-sm font-medium",children:"Enter barcode manually"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Ue,{id:"manual-barcode",placeholder:"e.g., 1234567890",value:F,onChange:ne=>B(ne.target.value),className:"flex-1"}),c.jsxs(K,{type:"submit",size:"sm",children:[c.jsx(Or,{className:"h-4 w-4 mr-1"}),"Add"]})]})]})}),u&&!W&&!f&&c.jsx("div",{className:"text-center",children:c.jsx("button",{onClick:ie,className:"text-sm text-blue-600 hover:text-blue-800 underline",children:"Enter barcode manually"})}),c.jsx("div",{className:"text-center text-xs text-muted-foreground mt-2",children:"Scan any product barcode to get information"})]})})]})},_$=({onAddPantryItem:t})=>{const[e,r]=b.useState(null),n=i=>{const a={name:i.name||`Product (${i.upc})`,quantity:1,expiry:new Date(Date.now()+12096e5).toISOString().split("T")[0],category:i.category||"Pantry",lowStock:!1};t(a),r(a.name),Ul({title:"✅ Item Added Successfully!",description:`${a.name} has been added to your pantry`}),setTimeout(()=>r(null),3e3)};return c.jsxs("div",{className:"space-y-3",children:[c.jsx(fHe,{onItemScanned:n,buttonText:"📱 Scan Barcode",buttonVariant:"default",buttonSize:"lg",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg shadow-md transition-all duration-200 hover:shadow-lg"}),e&&c.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:[c.jsx(qn,{className:"h-4 w-4 text-green-600"}),c.jsxs("span",{className:"text-sm text-green-800 font-medium",children:["Just added: ",e]})]})]})},hHe=["Dairy","Meat","Seafood","Produce","Bakery","Pantry","Snacks","Beverages","Frozen","Household"],S$={Dairy:c.jsx(Hn,{className:"h-4 w-4 text-blue-500"}),Bakery:c.jsx(Hn,{className:"h-4 w-4 text-amber-600"}),Produce:c.jsx(Hn,{className:"h-4 w-4 text-green-500"}),Pantry:c.jsx(Hn,{className:"h-4 w-4 text-orange-500"}),Meat:c.jsx(Hn,{className:"h-4 w-4 text-red-500"}),Seafood:c.jsx(Hn,{className:"h-4 w-4 text-blue-400"}),Snacks:c.jsx(Hn,{className:"h-4 w-4 text-purple-500"}),Beverages:c.jsx(Hn,{className:"h-4 w-4 text-cyan-500"}),Frozen:c.jsx(Hn,{className:"h-4 w-4 text-blue-300"}),Household:c.jsx(Hn,{className:"h-4 w-4 text-gray-500"})};function pHe(){const t=Ki(),{pantryItems:e,addPantryItem:r,updatePantryItem:n,removePantryItem:i}=_j(),[a,o]=b.useState("all"),[s,l]=b.useState(""),[u,d]=b.useState("name"),[f,h]=b.useState(!1),[p,m]=b.useState({name:"",quantity:1,category:""}),[g,v]=b.useState(!1),[x,y]=b.useState(!1),[w,S]=b.useState(null),[E,C]=b.useState({}),[A,T]=b.useState(""),[N,I]=b.useState(!0),[j,O]=b.useState(!1),[P,M]=b.useState(!1),[F,B]=b.useState(!1),[W,$]=b.useState(!1),[U,X]=b.useState(""),[H,Y]=b.useState(new Set),[Q,ue]=b.useState(7),[de,he]=b.useState("asc"),[pe,J]=b.useState("name"),[re,L]=b.useState("default"),[q,G]=b.useState(1),[ye,me]=b.useState(""),ie=()=>{v(!0)},ne=()=>{h(!0)},Oe=()=>{O(!0)},Z=ve=>{$(!0)},le=()=>{M(!0)},xe=ve=>{J(ve)},it=ve=>{const Ae=e.find($e=>$e.id===ve);Ae&&(m({name:Ae.name,quantity:Ae.quantity,category:Ae.category,expiry:Ae.expiry}),h(!0))},yr=ve=>{i(ve)},Wt=()=>{h(!1),m({name:"",quantity:1,category:""})},Ht=ve=>{if(ve.preventDefault(),!p.name||!p.quantity){Ul({title:"Missing Information",description:"Please provide at least an item name and quantity.",variant:"destructive"});return}const Ae={...p,lowStock:p.quantity<=1};r(Ae),Wt()},Sn=ve=>{if(!ve)return null;const Ae=new Date,$e=new Date(ve);if(isNaN($e.getTime()))return null;const qe=$e.getTime()-Ae.getTime();return Math.ceil(qe/(1e3*60*60*24))},Zt=e.filter(ve=>ve.lowStock),Dt=e.filter(ve=>{const Ae=Sn(ve.expiry);return Ae!==null&&Ae>=0&&Ae<=7}),Xi=e.slice(0,3),ya=ve=>{const Ae=e.find($e=>$e.id===ve);Ae&&n(ve,{quantity:Ae.quantity+1,lowStock:Ae.quantity+1<=1})},hl=ve=>{const Ae=e.find($e=>$e.id===ve);Ae&&Ae.quantity>1&&n(ve,{quantity:Ae.quantity-1,lowStock:Ae.quantity-1<=1})},Ep=ve=>{T(ve.target.value)},Ka=e.filter(ve=>{const Ae=A.toLowerCase(),$e=ve.name.toLowerCase().includes(Ae)||ve.category.toLowerCase().includes(Ae),qe=a==="all"||a==="food"&&["Dairy","Meat","Seafood","Produce","Bakery","Pantry","Snacks","Beverages","Frozen"].includes(ve.category)||a==="household"&&ve.category==="Household"||a==="low-stock"&&ve.lowStock;return $e&&qe}),pl=ve=>[...ve].sort((Ae,$e)=>{if(pe==="expiry"){if(!Ae.expiry&&!$e.expiry)return 0;if(!Ae.expiry)return 1;if(!$e.expiry)return-1;const Kr=new Date(Ae.expiry).getTime(),li=new Date($e.expiry).getTime();return de==="asc"?Kr-li:li-Kr}const qe=Ae[pe],Tt=$e[pe];return qe<Tt?de==="asc"?-1:1:qe>Tt?de==="asc"?1:-1:0}),Yc=pl(Ka),Oo=()=>{const ve=Array.from(H).map(Ae=>{const $e=e.find(qe=>qe.id===Ae);return $e==null?void 0:$e.name}).filter(Boolean);if(ve.length===0){Ul({title:"No Items Selected",description:"Please select items to add to your shopping list.",variant:"destructive"});return}Ul({title:"Items Added",description:`${H.size} items have been added to your shopping list: ${ve.join(", ")}`}),t("/trips?action=bulk-add&items="+encodeURIComponent(ve.join(","))),Y(new Set)},xa=Ka.reduce((ve,Ae)=>{const{category:$e}=Ae;return ve[$e]||(ve[$e]=[]),ve[$e].push(Ae),ve},{});return N?c.jsxs(ha,{children:[c.jsxs("div",{className:"flex-1 space-y-4 p-4 md:p-8 pt-6",children:[c.jsxs("div",{className:"flex items-center justify-between space-y-2",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Pantry"}),c.jsx("p",{className:"text-muted-foreground",children:"Track and manage your household inventory"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs(K,{variant:"outline",onClick:ie,children:[c.jsx(Qb,{className:"mr-2 h-4 w-4"})," Update Inventory"]}),c.jsxs(K,{onClick:ne,children:[c.jsx(Or,{className:"mr-2 h-4 w-4"})," Add Item"]})]})]}),c.jsxs(Te,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:[c.jsxs(Fe,{children:[c.jsxs(Be,{className:"flex items-center gap-2 text-blue-800",children:[c.jsx(bV,{className:"h-5 w-5"}),"Quick Add with Barcode Scanner"]}),c.jsx(tt,{className:"text-blue-600",children:"Scan any product barcode to instantly add it to your pantry with product details"})]}),c.jsx(Ne,{children:c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[c.jsx("div",{className:"flex-1",children:c.jsx(_$,{onAddPantryItem:ve=>{r(ve)}})}),c.jsxs("div",{className:"text-sm text-blue-600 max-w-xs",children:[c.jsx("p",{className:"font-medium mb-1",children:"How it works:"}),c.jsxs("ul",{className:"text-xs space-y-1",children:[c.jsx("li",{children:"• Click scan and point camera at barcode"}),c.jsx("li",{children:"• Product info is automatically fetched"}),c.jsx("li",{children:"• Item is added to your pantry instantly"})]})]})]})})]}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[c.jsxs(Te,{className:"bg-teal-500 text-white",children:[c.jsxs(Fe,{children:[c.jsx(Be,{children:"Inventory Summary"}),c.jsxs(tt,{className:"text-teal-100",children:["You have ",e.length," items in your pantry"]})]}),c.jsxs(Ne,{children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Low Stock"}),c.jsxs("span",{children:[Zt.length," items"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Expiring Soon"}),c.jsxs("span",{children:[Dt.length," items"]})]})]}),c.jsx(Bt,{children:c.jsx(K,{variant:"secondary",className:"w-full",onClick:Oe,children:"View All Items"})})]}),c.jsxs(Te,{children:[c.jsxs(Fe,{children:[c.jsx(Be,{children:"Most Used Items"}),c.jsx(tt,{children:"Based on your shopping history"})]}),c.jsx(Ne,{children:c.jsx("ul",{className:"space-y-2",children:Xi.map(ve=>c.jsxs("li",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[S$[ve.category],c.jsx("span",{className:"ml-2",children:ve.name})]}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"Bought 8 times"})]},ve.id))})}),c.jsx(Bt,{children:c.jsxs(K,{variant:"outline",className:"w-full",onClick:()=>Xi.forEach(Z),children:[c.jsx(lr,{className:"mr-2 h-4 w-4"})," Add to Shopping List"]})})]}),c.jsxs(Te,{children:[c.jsxs(Fe,{children:[c.jsx(Be,{children:"Expiring Soon"}),c.jsxs(tt,{children:["Items to use in the next ",Q," days"]})]}),c.jsx(Ne,{children:c.jsx("ul",{className:"space-y-2",children:Dt.map(ve=>c.jsxs("li",{className:"flex items-center justify-between",children:[c.jsx("span",{children:ve.name}),c.jsxs("span",{className:"text-red-500",children:["Expires in ",Sn(ve.expiry)," days"]})]},ve.id))})}),c.jsx(Bt,{children:c.jsxs(K,{variant:"outline",className:"w-full",onClick:le,children:[c.jsx(Pr,{className:"mr-2 h-4 w-4"})," View All Expiring"]})})]})]}),c.jsxs(Te,{children:[c.jsx(Fe,{children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx(Be,{children:"All Items"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ue,{placeholder:"Search pantry...",value:A,onChange:Ep,className:"max-w-sm"}),c.jsxs($t,{onValueChange:ve=>xe(ve),defaultValue:pe,children:[c.jsx(Ot,{className:"w-[180px]",children:c.jsx(Ft,{placeholder:"Sort by"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"name",children:"Name"}),c.jsx(Se,{value:"expiry",children:"Expiry Date"}),c.jsx(Se,{value:"quantity",children:"Quantity"})]})]}),c.jsx(K,{variant:"ghost",onClick:()=>he(de==="asc"?"desc":"asc"),children:de==="asc"?"↑":"↓"})]})]})}),c.jsx(Ne,{children:Yc.length>0?c.jsx("ul",{className:"space-y-4",children:Yc.map(ve=>c.jsxs("li",{className:"flex items-center justify-between p-3 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Oc,{checked:H.has(ve.id),onCheckedChange:Ae=>{const $e=new Set(H);Ae?$e.add(ve.id):$e.delete(ve.id),Y($e)}}),c.jsxs("div",{className:"ml-4",children:[c.jsx("div",{className:"font-medium",children:ve.name}),ve.expiry&&c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Expires in ",Sn(ve.expiry)," days"]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(K,{variant:"outline",size:"icon",onClick:()=>hl(ve.id),children:c.jsx(XS,{className:"h-4 w-4"})}),c.jsx("span",{children:ve.quantity}),c.jsx(K,{variant:"outline",size:"icon",onClick:()=>ya(ve.id),children:c.jsx(Or,{className:"h-4 w-4"})}),c.jsx(K,{variant:"ghost",size:"icon",onClick:()=>Z(),children:c.jsx(lr,{className:"h-4 w-4"})}),c.jsxs(Zg,{children:[c.jsx(Jg,{asChild:!0,children:c.jsx(K,{variant:"ghost",size:"icon",children:c.jsx(Ef,{className:"h-4 w-4"})})}),c.jsxs(ih,{align:"end",children:[c.jsx(gi,{onClick:()=>it(ve.id),children:"Edit"}),c.jsx(gi,{onClick:()=>yr(ve.id),children:"Remove"})]})]})]})]},ve.id))}):c.jsxs("div",{className:"text-center py-10",children:[c.jsx(Hn,{className:"h-12 w-12 mx-auto text-muted-foreground"}),c.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No items found"}),c.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Your pantry is empty or no items match your search."}),c.jsxs(K,{className:"mt-4",onClick:ne,children:[c.jsx(Or,{className:"mr-2 h-4 w-4"})," Add your first item"]})]})}),c.jsx(Bt,{children:c.jsxs("div",{className:"flex justify-between items-center w-full",children:[c.jsxs("div",{className:"text-sm text-muted-foreground",children:[H.size," of ",e.length," items selected."]}),c.jsxs(K,{onClick:Oo,disabled:H.size===0,children:[c.jsx(lr,{className:"mr-2 h-4 w-4"}),"Add Selected to Cart"]})]})})]})]}),c.jsx(_r,{open:f,onOpenChange:Wt,children:c.jsxs(pr,{children:[c.jsxs(mr,{children:[c.jsx(gr,{children:"Add New Item"}),c.jsx(Si,{children:"Enter the details of the new item to add to your pantry."})]}),c.jsxs("form",{onSubmit:Ht,children:[c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(ce,{htmlFor:"name",className:"text-right",children:"Name"}),c.jsx(Ue,{id:"name",value:p.name,onChange:ve=>m({...p,name:ve.target.value}),className:"col-span-3",required:!0})]}),c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(ce,{htmlFor:"quantity",className:"text-right",children:"Quantity"}),c.jsx(Ue,{id:"quantity",type:"number",value:p.quantity,onChange:ve=>m({...p,quantity:parseInt(ve.target.value)||1}),className:"col-span-3",required:!0,min:"1"})]}),c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(ce,{htmlFor:"category",className:"text-right",children:"Category"}),c.jsxs($t,{onValueChange:ve=>m({...p,category:ve}),value:p.category,children:[c.jsx(Ot,{className:"col-span-3",children:c.jsx(Ft,{placeholder:"Select a category"})}),c.jsx(jt,{children:hHe.map(ve=>c.jsx(Se,{value:ve,children:ve},ve))})]})]}),c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(ce,{htmlFor:"expiry",className:"text-right",children:"Expiry Date"}),c.jsx(Ue,{id:"expiry",type:"date",value:p.expiry||"",onChange:ve=>m({...p,expiry:ve.target.value}),className:"col-span-3"})]})]}),c.jsx(_i,{children:c.jsx(K,{type:"submit",children:"Add Item"})})]})]})}),c.jsx(_r,{open:g,onOpenChange:v,children:c.jsxs(pr,{children:[c.jsxs(mr,{children:[c.jsx(gr,{children:"Update Inventory"}),c.jsx(Si,{children:"Scan items or manually update quantities"})]}),c.jsx("div",{className:"mb-4",children:c.jsx(_$,{onAddPantryItem:ve=>{r(ve)}})}),c.jsx("div",{className:"text-center text-sm text-muted-foreground mb-4",children:"- or update quantities manually -"}),c.jsx("div",{className:"space-y-4 py-4",children:e.map(ve=>c.jsxs("div",{className:"flex items-center justify-between gap-4 p-2 rounded-lg hover:bg-slate-50",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:ve.name}),c.jsx("p",{className:"text-sm text-slate-500",children:ve.category})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(K,{type:"button",variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>hl(ve.id),children:c.jsx(XS,{className:"h-4 w-4"})}),c.jsx("span",{className:"w-8 text-center",children:ve.quantity}),c.jsx(K,{type:"button",variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>ya(ve.id),children:c.jsx(Or,{className:"h-4 w-4"})})]})]},ve.id))}),c.jsx(_i,{children:c.jsx(K,{variant:"outline",onClick:()=>v(!1),children:"Done"})})]})}),c.jsx(_r,{open:P,onOpenChange:M,children:c.jsxs(pr,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[c.jsxs(mr,{children:[c.jsx(gr,{children:"Expiring Items"}),c.jsxs("div",{className:"flex items-center justify-between mt-4",children:[c.jsxs($t,{value:Q.toString(),onValueChange:ve=>ue(parseInt(ve)),children:[c.jsx(Ot,{className:"w-[150px]",children:c.jsx(Ft,{placeholder:"Timeframe"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"1",children:"Within 24 hours"}),c.jsx(Se,{value:"3",children:"Within 3 days"}),c.jsx(Se,{value:"7",children:"Within a week"}),c.jsx(Se,{value:"14",children:"Within 2 weeks"})]})]}),c.jsxs(K,{variant:"outline",size:"sm",onClick:Oo,disabled:H.size===0,children:[c.jsx(lr,{className:"h-4 w-4 mr-2"}),"Add Selected to Cart"]})]})]}),c.jsx("div",{className:"space-y-4",children:Object.entries(xa).map(([ve,Ae])=>{const $e=Ae.filter(qe=>{const Tt=Sn(qe.expiry);return Tt!==null&&Tt<=Q&&Tt>0});return $e.length===0?null:c.jsxs("div",{children:[c.jsxs("h3",{className:"font-semibold text-lg mb-2 flex items-center gap-2",children:[S$[ve],ve,c.jsx(mt,{variant:"outline",children:$e.length})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:pl($e).map(qe=>{const Tt=Sn(qe.expiry);return c.jsx(Te,{className:`shadow-sm ${H.has(qe.id)?"ring-2 ring-primary":""}`,children:c.jsx(Ne,{className:"p-4",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Oc,{checked:H.has(qe.id),onCheckedChange:Kr=>{const li=new Set(H);Kr?li.add(qe.id):li.delete(qe.id),Y(li)}}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:qe.name}),c.jsxs("p",{className:`text-sm ${Tt!==null&&Tt<=1?"text-red-500":Tt!==null&&Tt<=3?"text-amber-500":"text-muted-foreground"}`,children:["Expires in ",Tt," days"]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(K,{variant:"outline",size:"sm",onClick:()=>Z(),children:[c.jsx(lr,{className:"h-4 w-4 mr-2"}),"Add to List"]}),c.jsx(K,{variant:"outline",size:"sm",onClick:()=>yr(qe.id),children:"Used"})]})]})})},qe.id)})})]},ve)})})]})}),c.jsx(_r,{open:W,onOpenChange:$,children:c.jsxs(pr,{children:[c.jsxs(mr,{children:[c.jsx(gr,{children:"Add to Shopping List"}),c.jsx(Si,{children:"Customize your shopping list items"})]}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{children:"Shopping List"}),c.jsxs($t,{value:re,onValueChange:L,children:[c.jsx(Ot,{children:c.jsx(Ft,{placeholder:"Choose a list"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"default",children:"Default List"}),c.jsx(Se,{value:"weekly",children:"Weekly Shopping"}),c.jsx(Se,{value:"monthly",children:"Monthly Stock-up"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{children:"Quantity to Add"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(K,{variant:"outline",size:"sm",onClick:()=>G(Math.max(1,q-1)),children:c.jsx(XS,{className:"h-4 w-4"})}),c.jsx(Ue,{type:"number",min:"1",value:q,onChange:ve=>G(Math.max(1,parseInt(ve.target.value)||1)),className:"w-20 text-center"}),c.jsx(K,{variant:"outline",size:"sm",onClick:()=>G(q+1),children:c.jsx(Or,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{children:"Notes (Optional)"}),c.jsx(Ue,{value:ye,onChange:ve=>me(ve.target.value),placeholder:"e.g., Prefer organic, specific brand, etc."})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{children:"Priority"}),c.jsxs($t,{defaultValue:"normal",children:[c.jsx(Ot,{children:c.jsx(Ft,{placeholder:"Select priority"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"high",children:"High - Need ASAP"}),c.jsx(Se,{value:"normal",children:"Normal"}),c.jsx(Se,{value:"low",children:"Low - When convenient"})]})]})]})]}),c.jsxs(_i,{children:[c.jsx(K,{variant:"outline",onClick:()=>$(!1),children:"Cancel"}),c.jsx(K,{onClick:()=>{$(!1),Ul({title:"Added to shopping list",description:`${q} items added to ${re} list`,variant:"default"})},children:"Add to List"})]})]})})]}):c.jsx("div",{children:"Loading..."})}const mHe=()=>{const{recurringTemplates:t,addRecurringTemplate:e,updateRecurringTemplate:r,removeRecurringTemplate:n,processRecurringItemsNow:i}=os(),{toast:a}=cn(),[o,s]=b.useState(!1),[l,u]=b.useState(!1),[d,f]=b.useState(null),[h,p]=b.useState(!1),[m,g]=b.useState({name:"",quantity:1,unit:"ea",price:"",category:"",notes:"",recurrenceFrequency:"weekly",preferredStores:[]}),v=[{value:"ea",label:"Each"},{value:"kg",label:"Kilograms"},{value:"g",label:"Grams"},{value:"lb",label:"Pounds"},{value:"oz",label:"Ounces"},{value:"l",label:"Liters"},{value:"ml",label:"Milliliters"},{value:"pkg",label:"Package"},{value:"box",label:"Box"},{value:"can",label:"Can"},{value:"bottle",label:"Bottle"}],x=[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"bi-weekly",label:"Bi-weekly"},{value:"monthly",label:"Monthly"}],y=["Trader Joe's","Whole Foods","Costco","Kroger","Target","Walmart","Safeway","Publix"],w=()=>{g({name:"",quantity:1,unit:"ea",price:"",category:"",notes:"",recurrenceFrequency:"weekly",preferredStores:[]})},S=()=>{if(!m.name.trim()){a({title:"Name Required",description:"Please enter a name for the recurring item.",variant:"destructive"});return}const P={name:m.name,quantity:m.quantity,unit:m.unit,price:m.price?parseFloat(m.price):void 0,category:m.category||void 0,notes:m.notes||void 0,checked:!1,isRecurringTemplate:!0,isRecurring:!0,recurrenceFrequency:m.recurrenceFrequency,nextDueDate:new Date().toISOString(),preferredStores:m.preferredStores.length>0?m.preferredStores:void 0,addedBy:{name:"You",avatar:"https://example.com/you.jpg"}};e(P),w(),s(!1),a({title:"Recurring Item Created",description:`${P.name} will be added to your shopping lists ${P.recurrenceFrequency}.`})},E=P=>{var M;f(P),g({name:P.name,quantity:P.quantity,unit:P.unit||"ea",price:((M=P.price)==null?void 0:M.toString())||"",category:P.category||"",notes:P.notes||"",recurrenceFrequency:P.recurrenceFrequency,preferredStores:P.preferredStores||[]}),u(!0)},C=()=>{if(!d)return;const P={name:m.name,quantity:m.quantity,unit:m.unit,price:m.price?parseFloat(m.price):void 0,category:m.category||void 0,notes:m.notes||void 0,recurrenceFrequency:m.recurrenceFrequency,preferredStores:m.preferredStores.length>0?m.preferredStores:void 0};r(d.id,P),w(),u(!1),f(null),a({title:"Template Updated",description:"Your recurring item template has been updated."})},A=(P,M)=>{n(P),a({title:"Template Deleted",description:`${M} recurring template has been removed.`})},T=async()=>{p(!0);try{const P=i();P.itemsProcessed>0?a({title:"Recurring Items Processed",description:`Added ${P.itemsProcessed} items to ${P.tripsUpdated} existing trips and created ${P.newTripsCreated} new trips.`}):a({title:"No Items Due",description:"No recurring items are due to be added at this time."}),P.errors.length>0&&console.error("Processing errors:",P.errors)}catch{a({title:"Processing Failed",description:"There was an error processing recurring items.",variant:"destructive"})}finally{p(!1)}},N=P=>{switch(P){case"daily":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";case"weekly":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300";case"bi-weekly":return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-300";case"monthly":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}},I=P=>P.nextDueDate?th(P.nextDueDate)<=new Date:!1,j=t.filter(I),O=Mo.getStatistics();return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Recurring Items"}),c.jsx("p",{className:"text-muted-foreground",children:"Manage items that automatically get added to your shopping lists"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(K,{onClick:T,disabled:h,variant:"outline",className:"flex items-center gap-2",children:[h?c.jsx(Qb,{className:"h-4 w-4 animate-spin"}):c.jsx(aO,{className:"h-4 w-4"}),"Process Now"]}),c.jsxs(_r,{open:o,onOpenChange:s,children:[c.jsx(XT,{asChild:!0,children:c.jsxs(K,{className:"flex items-center gap-2",children:[c.jsx(Or,{className:"h-4 w-4"}),"Add Recurring Item"]})}),c.jsxs(pr,{className:"max-w-md",children:[c.jsxs(mr,{children:[c.jsx(gr,{children:"Create Recurring Item"}),c.jsx(Si,{children:"Add an item that will automatically be added to your shopping lists"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ce,{htmlFor:"name",children:"Item Name"}),c.jsx(Ue,{id:"name",value:m.name,onChange:P=>g(M=>({...M,name:P.target.value})),placeholder:"e.g., Milk, Bread, Bananas"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ce,{htmlFor:"quantity",children:"Quantity"}),c.jsx(Ue,{id:"quantity",type:"number",min:"1",value:m.quantity,onChange:P=>g(M=>({...M,quantity:parseInt(P.target.value)||1}))})]}),c.jsxs("div",{children:[c.jsx(ce,{htmlFor:"unit",children:"Unit"}),c.jsxs($t,{value:m.unit,onValueChange:P=>g(M=>({...M,unit:P})),children:[c.jsx(Ot,{children:c.jsx(Ft,{})}),c.jsx(jt,{children:v.map(P=>c.jsx(Se,{value:P.value,children:P.label},P.value))})]})]})]}),c.jsxs("div",{children:[c.jsx(ce,{htmlFor:"frequency",children:"Frequency"}),c.jsxs($t,{value:m.recurrenceFrequency,onValueChange:P=>g(M=>({...M,recurrenceFrequency:P})),children:[c.jsx(Ot,{children:c.jsx(Ft,{})}),c.jsx(jt,{children:x.map(P=>c.jsx(Se,{value:P.value,children:P.label},P.value))})]})]}),c.jsxs("div",{children:[c.jsx(ce,{htmlFor:"price",children:"Estimated Price (optional)"}),c.jsx(Ue,{id:"price",type:"number",step:"0.01",min:"0",value:m.price,onChange:P=>g(M=>({...M,price:P.target.value})),placeholder:"0.00"})]}),c.jsxs("div",{children:[c.jsx(ce,{children:"Preferred Stores (optional)"}),c.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:y.map(P=>c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Oc,{id:P,checked:m.preferredStores.includes(P),onCheckedChange:M=>{g(M?F=>({...F,preferredStores:[...F.preferredStores,P]}):F=>({...F,preferredStores:F.preferredStores.filter(B=>B!==P)}))}}),c.jsx(ce,{htmlFor:P,className:"text-sm",children:P})]},P))})]})]}),c.jsxs(_i,{children:[c.jsx(K,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),c.jsx(K,{onClick:S,children:"Create Template"})]})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsx(Te,{children:c.jsx(Ne,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Boe,{className:"h-4 w-4 text-blue-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Templates"}),c.jsx("p",{className:"text-2xl font-bold",children:O.totalTemplates})]})]})})}),c.jsx(Te,{children:c.jsx(Ne,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(_o,{className:"h-4 w-4 text-orange-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Due Today"}),c.jsx("p",{className:"text-2xl font-bold",children:O.dueToday})]})]})})}),c.jsx(Te,{children:c.jsx(Ne,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Pr,{className:"h-4 w-4 text-green-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Next Processing"}),c.jsx("p",{className:"text-sm font-medium",children:"Tomorrow 8:00 AM"})]})]})})}),c.jsx(Te,{children:c.jsx(Ne,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Go,{className:"h-4 w-4 text-purple-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Est. Monthly"}),c.jsxs("p",{className:"text-2xl font-bold",children:["$",t.reduce((P,M)=>P+(M.price||0),0).toFixed(0)]})]})]})})})]}),j.length>0&&c.jsx(Te,{className:"border-orange-200 bg-orange-50 dark:border-orange-800 dark:bg-orange-900/20",children:c.jsxs(Ne,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(_o,{className:"h-5 w-5 text-orange-600"}),c.jsxs("h3",{className:"font-semibold text-orange-800 dark:text-orange-200",children:[j.length," Item",j.length>1?"s":""," Due"]})]}),c.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300 mb-3",children:"The following recurring items are ready to be added to your shopping lists."}),c.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:j.map(P=>c.jsx(mt,{variant:"outline",className:"text-orange-800 border-orange-300",children:P.name},P.id))}),c.jsx(K,{onClick:T,disabled:h,size:"sm",className:"bg-orange-600 hover:bg-orange-700",children:h?"Processing...":"Add to Shopping Lists"})]})}),c.jsxs(Te,{children:[c.jsx(Fe,{children:c.jsx(Be,{children:"Your Recurring Items"})}),c.jsx(Ne,{children:t.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(zu,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Recurring Items"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Create recurring items to automatically add them to your shopping lists"}),c.jsxs(K,{onClick:()=>s(!0),children:[c.jsx(Or,{className:"h-4 w-4 mr-2"}),"Add Your First Item"]})]}):c.jsx("div",{className:"space-y-3",children:t.map(P=>c.jsx("div",{className:`p-4 border rounded-lg ${I(P)?"border-orange-200 bg-orange-50 dark:border-orange-800 dark:bg-orange-900/20":""}`,children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("h3",{className:"font-semibold",children:P.name}),c.jsx(mt,{className:N(P.recurrenceFrequency),children:P.recurrenceFrequency}),I(P)&&c.jsx(mt,{variant:"outline",className:"text-orange-600 border-orange-300",children:"Due"})]}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[c.jsxs("span",{children:[P.quantity," ",P.unit]}),P.price&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Go,{className:"h-3 w-3"}),P.price.toFixed(2)]}),P.preferredStores&&P.preferredStores.length>0&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Ig,{className:"h-3 w-3"}),P.preferredStores.join(", ")]})]}),P.nextDueDate&&c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Next due: ",Yt(th(P.nextDueDate),"PPP")]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(K,{variant:"ghost",size:"sm",onClick:()=>E(P),children:c.jsx(iO,{className:"h-4 w-4"})}),c.jsx(K,{variant:"ghost",size:"sm",onClick:()=>A(P.id,P.name),children:c.jsx(lO,{className:"h-4 w-4"})})]})]})},P.id))})})]}),c.jsx(_r,{open:l,onOpenChange:u,children:c.jsxs(pr,{className:"max-w-md",children:[c.jsxs(mr,{children:[c.jsx(gr,{children:"Edit Recurring Item"}),c.jsx(Si,{children:"Update your recurring item template"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ce,{htmlFor:"edit-name",children:"Item Name"}),c.jsx(Ue,{id:"edit-name",value:m.name,onChange:P=>g(M=>({...M,name:P.target.value}))})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ce,{htmlFor:"edit-quantity",children:"Quantity"}),c.jsx(Ue,{id:"edit-quantity",type:"number",min:"1",value:m.quantity,onChange:P=>g(M=>({...M,quantity:parseInt(P.target.value)||1}))})]}),c.jsxs("div",{children:[c.jsx(ce,{htmlFor:"edit-unit",children:"Unit"}),c.jsxs($t,{value:m.unit,onValueChange:P=>g(M=>({...M,unit:P})),children:[c.jsx(Ot,{children:c.jsx(Ft,{})}),c.jsx(jt,{children:v.map(P=>c.jsx(Se,{value:P.value,children:P.label},P.value))})]})]})]}),c.jsxs("div",{children:[c.jsx(ce,{htmlFor:"edit-frequency",children:"Frequency"}),c.jsxs($t,{value:m.recurrenceFrequency,onValueChange:P=>g(M=>({...M,recurrenceFrequency:P})),children:[c.jsx(Ot,{children:c.jsx(Ft,{})}),c.jsx(jt,{children:x.map(P=>c.jsx(Se,{value:P.value,children:P.label},P.value))})]})]}),c.jsxs("div",{children:[c.jsx(ce,{htmlFor:"edit-price",children:"Estimated Price"}),c.jsx(Ue,{id:"edit-price",type:"number",step:"0.01",min:"0",value:m.price,onChange:P=>g(M=>({...M,price:P.target.value}))})]})]}),c.jsxs(_i,{children:[c.jsx(K,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),c.jsx(K,{onClick:C,children:"Update Template"})]})]})})]})};function gHe(){return c.jsx(ha,{children:c.jsx("div",{className:"flex-1 space-y-4 p-4 md:p-8 pt-6",children:c.jsx(mHe,{})})})}function gA(){var g,v,x,y,w,S;const{user:t,logout:e,isAdmin:r}=qr(),{currentTier:n,limits:i}=xj(),{startTutorial:a}=wj(),o=Ki(),{toast:s}=cn(),[l,u]=b.useState(!1),[d,f]=b.useState(!1),h=async()=>{try{u(!0),await e(),s({title:"Successfully signed out",description:"You have been signed out of your account."}),o("/")}catch(E){console.error("Sign out failed:",E),s({title:"Sign out failed",description:"There was a problem signing you out. Please try again.",variant:"destructive"})}finally{u(!1)}},m=(()=>{switch(n){case"free":return{name:"TaskaLoop Basic",price:"Free",icon:c.jsx(ti,{className:"h-5 w-5"}),color:"bg-gray-500",badgeColor:"bg-gray-100 text-gray-800"};case"plus":return{name:"TaskaLoop Plus",price:"$4.99/month",icon:c.jsx(Hm,{className:"h-5 w-5"}),color:"bg-blue-500",badgeColor:"bg-blue-100 text-blue-800"};case"family":return{name:"TaskaLoop Family",price:"$8.99/month",icon:c.jsx(nO,{className:"h-5 w-5"}),color:"bg-purple-500",badgeColor:"bg-purple-100 text-purple-800"}}})();return c.jsx(ha,{children:c.jsxs("div",{className:"p-4 md:p-8",children:[c.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Profile Settings"}),c.jsx("p",{className:"text-slate-500",children:"Manage your account settings and preferences"})]})}),c.jsxs(Nc,{defaultValue:"account",className:"w-full",children:[c.jsxs(el,{className:"grid w-full md:w-auto grid-cols-4 md:inline-flex mb-6",children:[c.jsx(sr,{value:"account",children:"Account"}),c.jsx(sr,{value:"security",children:"Security"}),c.jsx(sr,{value:"notifications",children:"Notifications"}),c.jsx(sr,{value:"billing",children:"Billing"})]}),c.jsxs(jr,{value:"account",className:"space-y-6",children:[c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsxs(Fe,{children:[c.jsx(Be,{children:"Profile Information"}),c.jsx(tt,{children:"Update your personal information"})]}),c.jsx(Ne,{className:"space-y-6",children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.jsxs(zr,{className:"h-24 w-24",children:[c.jsx(Xu,{src:t==null?void 0:t.avatar}),c.jsx(Wr,{className:"text-2xl bg-teal-100 text-teal-700",children:((v=(g=t==null?void 0:t.name)==null?void 0:g.charAt(0))==null?void 0:v.toUpperCase())||((y=(x=t==null?void 0:t.email)==null?void 0:x.charAt(0))==null?void 0:y.toUpperCase())||"U"})]}),c.jsx(K,{variant:"outline",className:"border-slate-200",children:"Change Avatar"})]}),c.jsxs("div",{className:"flex-1 space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"firstName",children:"First Name"}),c.jsx(Ue,{id:"firstName",defaultValue:((w=t==null?void 0:t.name)==null?void 0:w.split(" ")[0])||"",placeholder:"Enter your first name"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"lastName",children:"Last Name"}),c.jsx(Ue,{id:"lastName",defaultValue:((S=t==null?void 0:t.name)==null?void 0:S.split(" ").slice(1).join(" "))||"",placeholder:"Enter your last name"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"email",children:"Email Address"}),c.jsx(Ue,{id:"email",type:"email",defaultValue:(t==null?void 0:t.email)||"",placeholder:"Enter your email",disabled:!0}),c.jsx("p",{className:"text-xs text-slate-500",children:"Email cannot be changed as it's linked to your Google account"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"phone",children:"Phone Number"}),c.jsx(Ue,{id:"phone",type:"tel",placeholder:"Enter your phone number"})]})]})]})}),c.jsx(Bt,{className:"flex justify-end",children:c.jsxs(K,{className:"bg-teal-600 hover:bg-teal-700",children:[c.jsx(hD,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]}),c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsxs(Fe,{children:[c.jsx(Be,{children:"Preferences"}),c.jsx(tt,{children:"Customize your app experience"})]}),c.jsxs(Ne,{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"language",children:"Language"}),c.jsxs($t,{defaultValue:"en",children:[c.jsx(Ot,{id:"language",className:"w-full md:w-[240px]",children:c.jsx(Ft,{placeholder:"Select language"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"en",children:"English"}),c.jsx(Se,{value:"es",children:"Spanish"}),c.jsx(Se,{value:"fr",children:"French"}),c.jsx(Se,{value:"de",children:"German"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"timezone",children:"Timezone"}),c.jsxs($t,{defaultValue:"america_los_angeles",children:[c.jsx(Ot,{id:"timezone",className:"w-full md:w-[240px]",children:c.jsx(Ft,{placeholder:"Select timezone"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"america_los_angeles",children:"Pacific Time (US & Canada)"}),c.jsx(Se,{value:"america_denver",children:"Mountain Time (US & Canada)"}),c.jsx(Se,{value:"america_chicago",children:"Central Time (US & Canada)"}),c.jsx(Se,{value:"america_new_york",children:"Eastern Time (US & Canada)"})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(ce,{htmlFor:"darkMode",children:"Dark Mode"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Enable dark mode for the application"})]}),c.jsx(Pi,{id:"darkMode"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(ce,{htmlFor:"compactView",children:"Compact View"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Use a more compact layout for lists"})]}),c.jsx(Pi,{id:"compactView"})]})]})]}),c.jsx(Bt,{className:"flex justify-end",children:c.jsxs(K,{className:"bg-teal-600 hover:bg-teal-700",children:[c.jsx(hD,{className:"h-4 w-4 mr-2"}),"Save Preferences"]})})]})]}),c.jsxs(jr,{value:"security",className:"space-y-6",children:[c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsxs(Fe,{children:[c.jsx(Be,{children:"Change Password"}),c.jsx(tt,{children:"Update your password to keep your account secure"})]}),c.jsxs(Ne,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"currentPassword",children:"Current Password"}),c.jsx(Ue,{id:"currentPassword",type:"password"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"newPassword",children:"New Password"}),c.jsx(Ue,{id:"newPassword",type:"password"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"confirmPassword",children:"Confirm New Password"}),c.jsx(Ue,{id:"confirmPassword",type:"password"})]})]}),c.jsx(Bt,{className:"flex justify-end",children:c.jsxs(K,{className:"bg-teal-600 hover:bg-teal-700",children:[c.jsx(nse,{className:"h-4 w-4 mr-2"}),"Update Password"]})})]}),c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsxs(Fe,{children:[c.jsx(Be,{children:"Two-Factor Authentication"}),c.jsx(tt,{children:"Add an extra layer of security to your account"})]}),c.jsx(Ne,{className:"space-y-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("h4",{className:"font-medium text-slate-800",children:"Enable Two-Factor Authentication"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Protect your account with an additional security layer"})]}),c.jsx(Pi,{id:"twoFactor"})]})}),c.jsxs(Bt,{className:"flex justify-between",children:[c.jsxs(K,{variant:"outline",className:"border-slate-200",children:[c.jsx(vV,{className:"h-4 w-4 mr-2"}),"Learn More"]}),c.jsxs(K,{className:"bg-teal-600 hover:bg-teal-700",children:[c.jsx(pD,{className:"h-4 w-4 mr-2"}),"Setup 2FA"]})]})]}),c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsxs(Fe,{children:[c.jsx(Be,{children:"Connected Accounts"}),c.jsx(tt,{children:"Manage accounts connected to your profile"})]}),c.jsx(Ne,{className:"space-y-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:c.jsx(tse,{className:"h-5 w-5 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-slate-800",children:"Google"}),c.jsxs("p",{className:"text-sm text-slate-500",children:["Connected as ",(t==null?void 0:t.email)||"Not connected"]})]})]}),c.jsx(K,{variant:"outline",className:"border-slate-200",disabled:!0,children:"Connected"})]})})]})]}),c.jsx(jr,{value:"notifications",className:"space-y-6",children:c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsxs(Fe,{children:[c.jsx(Be,{children:"Notification Preferences"}),c.jsx(tt,{children:"Manage how you receive notifications"})]}),c.jsxs(Ne,{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-medium text-slate-800",children:"Email Notifications"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(ce,{htmlFor:"emailShoppingReminders",children:"Shopping Reminders"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Receive reminders about your shopping lists"})]}),c.jsx(Pi,{id:"emailShoppingReminders",defaultChecked:!0})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(ce,{htmlFor:"emailExpenseAlerts",children:"Expense Alerts"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Get notified about new expenses and payments"})]}),c.jsx(Pi,{id:"emailExpenseAlerts",defaultChecked:!0})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(ce,{htmlFor:"emailWeeklyDigest",children:"Weekly Digest"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Receive a weekly summary of your activities"})]}),c.jsx(Pi,{id:"emailWeeklyDigest"})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-medium text-slate-800",children:"Push Notifications"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(ce,{htmlFor:"pushShoppingReminders",children:"Shopping Reminders"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Receive reminders about your shopping lists"})]}),c.jsx(Pi,{id:"pushShoppingReminders",defaultChecked:!0})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(ce,{htmlFor:"pushExpenseAlerts",children:"Expense Alerts"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Get notified about new expenses and payments"})]}),c.jsx(Pi,{id:"pushExpenseAlerts",defaultChecked:!0})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(ce,{htmlFor:"pushLocationReminders",children:"Location-based Reminders"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Get reminded when you're near a store on your list"})]}),c.jsx(Pi,{id:"pushLocationReminders",defaultChecked:!0})]})]})]})]}),c.jsx(Bt,{className:"flex justify-end",children:c.jsxs(K,{className:"bg-teal-600 hover:bg-teal-700",children:[c.jsx(Voe,{className:"h-4 w-4 mr-2"}),"Save Notification Settings"]})})]})}),c.jsxs(jr,{value:"billing",className:"space-y-6",children:[!r&&c.jsxs(c.Fragment,{children:[c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsxs(Fe,{children:[c.jsx(Be,{children:"Current Subscription"}),c.jsx(tt,{children:"Your current plan and features"})]}),c.jsx(Ne,{className:"space-y-6",children:c.jsxs("div",{className:`${m.color==="bg-gray-500"?"bg-gray-50 border-gray-200":m.color==="bg-blue-500"?"bg-blue-50 border-blue-200":"bg-purple-50 border-purple-200"} border rounded-lg p-6`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`${m.color} rounded-full p-2 text-white`,children:m.icon}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-slate-800",children:m.name}),c.jsx("p",{className:"text-sm text-slate-600",children:m.price})]})]}),c.jsx(mt,{className:m.badgeColor,children:"Active"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h5",{className:"font-medium text-slate-700",children:"Current Usage & Limits"}),c.jsxs("div",{className:"space-y-1 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-slate-600",children:"Active Trips:"}),c.jsx("span",{className:"font-medium",children:i.maxActiveTrips===1/0?"Unlimited":`${i.maxActiveTrips} max`})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-slate-600",children:"Active Tasks:"}),c.jsx("span",{className:"font-medium",children:i.maxActiveTasks===1/0?"Unlimited":`${i.maxActiveTasks} max`})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-slate-600",children:"Pantry Items:"}),c.jsx("span",{className:"font-medium",children:i.maxPantryItems===1/0?"Unlimited":`${i.maxPantryItems} max`})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-slate-600",children:"Household Members:"}),c.jsx("span",{className:"font-medium",children:i.maxHouseholdMembers===1/0?"Unlimited":`${i.maxHouseholdMembers} max`})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h5",{className:"font-medium text-slate-700",children:"Features Included"}),c.jsxs("div",{className:"space-y-1 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[i.hasReceiptScanning?c.jsx(fo,{className:"h-3 w-3 text-green-600"}):c.jsx("span",{className:"w-3 h-3 text-red-400",children:"×"}),c.jsx("span",{className:i.hasReceiptScanning?"text-slate-700":"text-slate-400",children:"Receipt Scanning"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[i.hasAIFeatures?c.jsx(fo,{className:"h-3 w-3 text-green-600"}):c.jsx("span",{className:"w-3 h-3 text-red-400",children:"×"}),c.jsx("span",{className:i.hasAIFeatures?"text-slate-700":"text-slate-400",children:"AI-Powered Features"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[i.hasRecurringItems?c.jsx(fo,{className:"h-3 w-3 text-green-600"}):c.jsx("span",{className:"w-3 h-3 text-red-400",children:"×"}),c.jsx("span",{className:i.hasRecurringItems?"text-slate-700":"text-slate-400",children:"Recurring Items"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[i.hasAdvancedAnalytics?c.jsx(fo,{className:"h-3 w-3 text-green-600"}):c.jsx("span",{className:"w-3 h-3 text-red-400",children:"×"}),c.jsx("span",{className:i.hasAdvancedAnalytics?"text-slate-700":"text-slate-400",children:"Advanced Analytics"})]})]})]})]}),n!=="family"&&c.jsxs(K,{onClick:()=>f(!0),className:"w-full bg-blue-600 hover:bg-blue-700",children:[c.jsx(Og,{className:"h-4 w-4 mr-2"}),"Upgrade Plan"]})]})})]}),n!=="free"&&c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsxs(Fe,{children:[c.jsx(Be,{children:"Billing & Payments"}),c.jsx(tt,{children:"Manage your subscription billing"})]}),c.jsx(Ne,{children:ig.isConfigured()?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(FC,{className:"h-5 w-5 text-blue-600"}),c.jsx("span",{className:"font-medium text-blue-800",children:"Stripe Customer Portal"})]}),c.jsx("p",{className:"text-sm text-blue-700",children:"Manage your subscription, payment methods, and billing history through our secure portal powered by Stripe."})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs(K,{variant:"outline",onClick:async()=>{try{await ig.openCustomerPortal("cus_demo_customer_id")}catch{s({title:"Error",description:"Failed to open customer portal. Please try again.",variant:"destructive"})}},children:[c.jsx(Xoe,{className:"h-4 w-4 mr-2"}),"Manage Billing"]}),c.jsxs(K,{variant:"outline",children:[c.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Download Invoices"]})]})]}):c.jsxs("div",{className:"text-center py-6",children:[c.jsx(FC,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),c.jsx("h3",{className:"font-semibold mb-2",children:"Stripe Configuration Required"}),c.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Stripe is not configured. Please add your Stripe keys to enable billing features."}),c.jsx(K,{variant:"outline",disabled:!0,children:"Manage Billing"})]})})]})]}),r&&c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsxs(Fe,{children:[c.jsx(Be,{children:"Admin Account"}),c.jsx(tt,{children:"You have an admin account with full access to all features"})]}),c.jsxs(Ne,{children:[c.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(pD,{className:"h-5 w-5 text-green-600"}),c.jsx("span",{className:"font-medium text-green-800",children:"Admin Access"})]}),c.jsx("p",{className:"text-sm text-green-700 mt-1",children:"All premium features are enabled for testing and development purposes."})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("h4",{className:"font-medium text-slate-800",children:"Welcome Tutorial"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Restart the welcome tutorial to see the feature overview"})]}),c.jsxs(K,{variant:"outline",className:"border-slate-200",onClick:()=>{t&&(localStorage.removeItem(`tutorial_completed_${t.id}`),a(),s({title:"Tutorial Started",description:"The welcome tutorial has been restarted."}))},children:[c.jsx(aO,{className:"h-4 w-4 mr-2"}),"Restart Tutorial"]})]})]})]})]})]}),c.jsx("div",{className:"mt-8 space-y-4",children:c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsxs(Fe,{children:[c.jsx(Be,{children:"Account Actions"}),c.jsx(tt,{children:"Manage your account status"})]}),c.jsxs(Ne,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("h4",{className:"font-medium text-slate-800",children:"Export Your Data"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Download a copy of your data"})]}),c.jsx(K,{variant:"outline",className:"border-slate-200",children:"Export Data"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("h4",{className:"font-medium text-red-600",children:"Delete Account"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Permanently delete your account and all data"})]}),c.jsx(K,{variant:"destructive",children:"Delete Account"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("h4",{className:"font-medium text-slate-800",children:"Sign Out"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Sign out from your account"})]}),c.jsxs(K,{variant:"outline",className:"border-slate-200",onClick:h,disabled:l,children:[c.jsx(xV,{className:"h-4 w-4 mr-2"}),l?"Signing Out...":"Sign Out"]})]})]})]})}),!r&&c.jsx(QX,{isOpen:d,onClose:()=>f(!1),showUpgradeOnly:n!=="free"})]})})}const vHe=()=>{const{user:t,updateChorePreferences:e,isLoading:r,isAdmin:n}=qr(),{startTutorial:i}=wj(),{tasks:a}=os(),{toast:o}=cn(),[s,l]=b.useState([]);b.useEffect(()=>{t&&t.chorePreferences&&l(t.chorePreferences)},[t]);const u=D.useMemo(()=>{if(!a)return[];const m=new Set;return a.forEach(g=>m.add(g.title)),Array.from(m).map(g=>({id:g,name:g}))},[a]),d=(m,g)=>{l(v=>{const x=v.findIndex(y=>y.choreId===m);if(x>-1){const y=[...v];return y[x]={...y[x],preference:g},y}return[...v,{choreId:m,preference:g}]})},f=async()=>{if(!t){o({title:"Error",description:"You must be logged in to save preferences.",variant:"destructive"});return}try{await e(s),o({title:"Preferences Saved",description:"Your chore preferences have been updated."})}catch(m){o({title:"Save Failed",description:"Could not save your chore preferences. Please try again.",variant:"destructive"}),console.error("Failed to save chore preferences:",m)}},h=()=>{t&&(localStorage.removeItem(`tutorial_completed_${t.id}`),i(),o({title:"Tutorial Started",description:"The welcome tutorial has been restarted."}))};if(r)return c.jsx(ha,{children:c.jsx("div",{className:"p-4",children:"Loading settings..."})});const p=m=>{const g=s.find(v=>v.choreId===m);return g?g.preference:"neutral"};return c.jsx(ha,{children:c.jsx("div",{className:"p-4 md:p-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[c.jsx(oO,{className:"w-6 h-6"}),"Settings"]}),c.jsx("p",{className:"text-slate-500",children:"Manage your application settings and preferences"})]}),c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsxs(Fe,{children:[c.jsxs(Be,{className:"flex items-center gap-2",children:[c.jsx(vV,{className:"w-5 h-5 text-blue-500"}),"Welcome Tutorial"]}),c.jsx(tt,{children:"Take a tour of TaskaLoop's features with our interactive tutorial"})]}),c.jsx(Ne,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("h4",{className:"font-medium text-slate-800",children:"Restart Tutorial"}),c.jsx("p",{className:"text-sm text-slate-500",children:"See the welcome tutorial again to learn about all features"})]}),c.jsxs(K,{variant:"outline",onClick:h,className:"flex items-center gap-2",children:[c.jsx(aO,{className:"w-4 h-4"}),"Start Tutorial"]})]})})]}),c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsxs(Fe,{children:[c.jsxs(Be,{className:"flex items-center gap-2",children:[c.jsx(rse,{className:"w-5 h-5 text-red-500"}),"Chore Preferences"]}),c.jsx(tt,{children:"Let us know which chores you like or dislike. This can help with future chore assignments."})]}),c.jsxs(Ne,{className:"space-y-4",children:[u.length===0&&!r&&c.jsxs("div",{className:"text-center py-8 text-slate-500",children:[c.jsx("p",{children:"No chores available to set preferences for yet."}),c.jsx("p",{className:"text-sm mt-1",children:"Add some tasks first to set your preferences!"})]}),u.map(m=>c.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-lg hover:border-slate-300 transition-colors",children:[c.jsx(ce,{htmlFor:`pref-${m.id}`,className:"flex-grow pr-4 font-medium",children:m.name}),c.jsxs($t,{value:p(m.id),onValueChange:g=>d(m.id,g),children:[c.jsx(Ot,{id:`pref-${m.id}`,className:"w-[150px]",children:c.jsx(Ft,{placeholder:"Set preference"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"liked",children:"😊 Liked"}),c.jsx(Se,{value:"neutral",children:"😐 Neutral"}),c.jsx(Se,{value:"disliked",children:"😕 Disliked"})]})]})]},m.id)),u.length>0&&c.jsx("div",{className:"pt-4",children:c.jsx(K,{onClick:f,disabled:r,className:"w-full sm:w-auto",children:r?"Saving...":"Save Chore Preferences"})})]})]}),c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsxs(Fe,{children:[c.jsx(Be,{children:"Additional Settings"}),c.jsx(tt,{children:"More settings and preferences will be available here in future updates"})]}),c.jsx(Ne,{children:c.jsx("div",{className:"text-center py-8 text-slate-500",children:c.jsx("p",{children:"More settings coming soon..."})})})]})]})})})},JJ=t=>{if(!t)return"Uncategorized";const r=SN().find(n=>n.id===t);return r?r.label:"Uncategorized"},$N=({category:t,className:e="h-4 w-4"})=>{switch(t){case"food":return c.jsx(WC,{className:e});case"utilities":return c.jsx(Og,{className:e});case"rent":return c.jsx(LC,{className:e});case"entertainment":return c.jsx(BC,{className:e});case"transportation":return c.jsx(Tx,{className:e});case"groceries":return c.jsx(lr,{className:e});case"household":return c.jsx(Wf,{className:e});case"personal":return c.jsx(Pg,{className:e});case"medical":return c.jsx(VC,{className:e});case"other":default:return c.jsx($C,{className:e})}},E$=({category:t})=>{if(!t)return null;const e=()=>{switch(t){case"food":return"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-300";case"utilities":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300";case"rent":return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-300";case"entertainment":return"bg-pink-100 text-pink-800 dark:bg-pink-900/20 dark:text-pink-300";case"transportation":return"bg-cyan-100 text-cyan-800 dark:bg-cyan-900/20 dark:text-cyan-300";case"groceries":return"bg-lime-100 text-lime-800 dark:bg-lime-900/20 dark:text-lime-300";case"household":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/20 dark:text-indigo-300";case"personal":return"bg-amber-100 text-amber-800 dark:bg-amber-900/20 dark:text-amber-300";case"medical":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";case"other":return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}};return c.jsxs("div",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${e()}`,children:[c.jsx($N,{category:t,className:"h-3 w-3 mr-1"}),c.jsx("span",{children:JJ(t)})]})},yHe=()=>{const{user:t}=qr(),{members:e}=bj(),[r,n]=b.useState("balances"),[i,a]=b.useState([]),[o,s]=b.useState([]),[l,u]=b.useState([]),[d,f]=b.useState(!1),[h,p]=b.useState(""),[m,g]=b.useState(""),[v,x]=b.useState(""),[y,w]=b.useState(""),[S,E]=b.useState(!1),[C,A]=b.useState("all"),[T,N]=b.useState("all"),[I,j]=b.useState("all"),[O,P]=b.useState("all"),[M,F]=b.useState(void 0),[B,W]=b.useState(null),{toast:$}=cn();b.useEffect(()=>{OBe((t==null?void 0:t.id)||null)},[t]),b.useEffect(()=>{if(B){const Z=le=>{le.target.closest(".category-menu-container")||W(null)};return document.addEventListener("mousedown",Z),()=>{document.removeEventListener("mousedown",Z)}}},[B]),b.useEffect(()=>{U()},[]);const U=()=>{const Z=S_();a(Z);const le=AJ();s(le);const xe=jBe();u(xe)},X=Z=>{const le=e.find(xe=>xe.name===Z.to.userName);le&&x(le.id),p(Z.amount.toFixed(2)),g(`Payment from ${Z.from.userName} to ${Z.to.userName}`),f(!0)},H=Z=>{try{DBe(Z),U(),$({title:"Payment confirmed",description:"The payment has been successfully confirmed."})}catch{$({title:"Error confirming payment",description:"There was a problem confirming this payment.",variant:"destructive"})}},Y=Z=>{try{MBe(Z),U(),$({title:"Payment cancelled",description:"The payment has been cancelled."})}catch{$({title:"Error cancelling payment",description:"There was a problem cancelling this payment.",variant:"destructive"})}},Q=()=>{const Z=parseFloat(h);if(isNaN(Z)||Z<=0){$({title:"Invalid amount",description:"Please enter a valid amount greater than 0.",variant:"destructive"});return}if(!m.trim()){$({title:"Description required",description:"Please enter a description for this payment.",variant:"destructive"});return}if(!v){$({title:"Recipient required",description:"Please select a recipient for this payment.",variant:"destructive"});return}const le=e.find(xe=>xe.id===v);if(!le){$({title:"Recipient not found",description:"The selected recipient could not be found.",variant:"destructive"});return}try{RBe((t==null?void 0:t.id)||"current-user",(t==null?void 0:t.name)||"You",v,le.name,Z,m,M),p(""),g(""),x(""),F(void 0),f(!1),U(),$({title:"Payment recorded",description:"Your payment has been recorded successfully."})}catch{$({title:"Error recording payment",description:"There was a problem recording this payment.",variant:"destructive"})}},ue=()=>{const Z=e.filter(le=>le.id!==(t==null?void 0:t.id));if(Z.length===0){$({title:"No household members",description:"Invite someone to your household to send them payments.",variant:"destructive"});return}x(Z[0].id),p(""),g(""),f(!0)},de=o.find(Z=>Z.userName==="You"),he=(de==null?void 0:de.netBalance)&&de.netBalance>0,pe=(de==null?void 0:de.netBalance)&&de.netBalance<0,J=l.filter(Z=>Z.from.userName==="You"||Z.to.userName==="You"),re=i.filter(Z=>Z.status==="pending");i.filter(Z=>Z.status==="completed");const L=i.filter(Z=>{if(C!=="all"&&Z.status!==C||T!=="all"&&Z.type!==T||O!=="all"&&Z.category!==O)return!1;if(I!=="all"){if(I==="sent"&&Z.fromUserName!=="You")return!1;if(I==="received"&&Z.toUserName!=="You")return!1}if(y.trim()){const le=y.toLowerCase();return Z.description.toLowerCase().includes(le)||Z.fromUserName.toLowerCase().includes(le)||Z.toUserName.toLowerCase().includes(le)||`$${Z.amount.toFixed(2)}`.includes(le)||Z.category&&Z.category.toLowerCase().includes(le)}return!0}),q=re.filter(Z=>{if(C!=="all"&&C!=="pending"||T!=="all"&&Z.type!==T||O!=="all"&&Z.category!==O)return!1;if(I!=="all"){if(I==="sent"&&Z.fromUserName!=="You")return!1;if(I==="received"&&Z.toUserName!=="You")return!1}if(y.trim()){const le=y.toLowerCase();return Z.description.toLowerCase().includes(le)||Z.fromUserName.toLowerCase().includes(le)||Z.toUserName.toLowerCase().includes(le)||`$${Z.amount.toFixed(2)}`.includes(le)||Z.category&&Z.category.toLowerCase().includes(le)}return!0}),G=L.reduce((Z,le)=>{const xe=new Date(le.timestamp).toDateString();return Z[xe]||(Z[xe]=[]),Z[xe].push(le),Z},{}),ye=Object.keys(G).sort((Z,le)=>new Date(le).getTime()-new Date(Z).getTime()),me=q.length>0?{"Pending Transactions":q}:{},ie=()=>{w(""),A("all"),N("all"),j("all"),P("all"),E(!1)},ne=()=>{if(i.length===0){$({title:"No transactions to export",description:"There are no transactions to export."});return}try{const xe=[["Date","Description","From","To","Amount","Status","Category"].join(","),...i.map(Ht=>[Yt(new Date(Ht.timestamp),"yyyy-MM-dd"),`"${Ht.description.replace(/"/g,'""')}"`,Ht.fromUserName,Ht.toUserName,Ht.amount.toFixed(2),Ht.status,JJ(Ht.category)].join(","))].join(`
`),it=new Blob([xe],{type:"text/csv;charset=utf-8;"}),yr=URL.createObjectURL(it),Wt=document.createElement("a");Wt.href=yr,Wt.setAttribute("download",`ledger-transactions-${Yt(new Date,"yyyy-MM-dd")}.csv`),document.body.appendChild(Wt),Wt.click(),document.body.removeChild(Wt),$({title:"Export successful",description:"Your transactions have been exported to CSV."})}catch{$({title:"Export failed",description:"There was a problem exporting your transactions.",variant:"destructive"})}};o.filter(Z=>Z.userName!=="You");const Oe=(Z,le)=>{try{LBe(Z,le),W(null),U(),$({title:"Category updated",description:"Transaction category has been updated."})}catch{$({title:"Error updating category",description:"There was a problem updating the category.",variant:"destructive"})}};return c.jsxs(ha,{children:[c.jsxs("div",{className:"px-[5vw] md:px-[8vw] lg:px-[10vw] py-6 md:py-8 pb-20 md:pb-24",children:[c.jsxs("header",{className:"mb-6 md:mb-8",children:[c.jsx("h1",{className:"text-[clamp(1.875rem,4vw,2.5rem)] font-bold mb-2 bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-green-600 dark:from-blue-400 dark:to-green-400",children:"Ledger"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Track expenses and settle debts with your household"})]}),c.jsx(Te,{className:"mb-6 border border-gray-200 dark:border-gray-700 shadow-sm overflow-hidden",children:c.jsx(Ne,{className:"p-6",children:c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Your Balance"}),(de==null?void 0:de.netBalance)===0?c.jsxs("div",{className:"relative",children:[c.jsxs(Pn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,type:"spring"},className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:"$0.00"}),c.jsx(Pn.div,{initial:{opacity:0,scale:0,rotate:-45},animate:{opacity:1,scale:1,rotate:0},transition:{delay:.3,duration:.5,type:"spring"},className:"bg-green-500 dark:bg-green-600 text-white rounded-full p-1",children:c.jsx(fo,{className:"h-4 w-4"})})]}),c.jsx(Pn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5,duration:.3},className:"text-sm text-green-600 dark:text-green-400 mt-1",children:"All settled up! 🎉"})]}):c.jsxs("div",{className:"flex items-baseline",children:[c.jsx("span",{className:`text-2xl font-bold ${he?"text-green-600 dark:text-green-400":pe?"text-red-600 dark:text-red-400":"text-gray-800 dark:text-gray-200"}`,children:de!=null&&de.netBalance?`$${Math.abs(de.netBalance).toFixed(2)}`:"$0.00"}),c.jsx("span",{className:"ml-2 text-sm text-gray-500",children:he?"owed to you":pe?"you owe":""})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(K,{onClick:ue,className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white",children:[c.jsx(io,{className:"mr-2 h-4 w-4"}),"Send Money"]}),c.jsx(K,{onClick:U,variant:"outline",className:"border-gray-200 dark:border-gray-700",children:c.jsx(Qb,{className:"h-4 w-4"})})]})]})})}),J.length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-3 bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-green-500",children:"Recommended Payments"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-5",children:J.map((Z,le)=>c.jsxs(Te,{className:"border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-shadow duration-200 flex flex-col overflow-hidden",children:[c.jsx("div",{className:`h-2 w-full ${Z.from.userName==="You"?"bg-gradient-to-r from-amber-400 to-red-400":"bg-gradient-to-r from-green-400 to-teal-400"}`}),c.jsxs(Fe,{className:"p-4 pb-2",children:[c.jsxs(Be,{className:"text-lg font-semibold flex items-center justify-between",children:[Z.from.userName==="You"?"You should pay":"Incoming payment",c.jsx(mt,{variant:Z.from.userName==="You"?"destructive":"secondary",className:"ml-2",children:Z.from.userName==="You"?"Outgoing":"Incoming"})]}),c.jsx(tt,{className:"text-sm text-gray-500 dark:text-gray-400",children:Z.from.userName==="You"?`You owe ${Z.to.userName} money`:`${Z.from.userName} owes you money`})]}),c.jsx(Ne,{className:"p-4 pt-2 flex-grow",children:c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(zr,{className:"h-8 w-8",children:c.jsx(Wr,{className:`${Z.from.userName==="You"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300"}`,children:Z.from.userName==="You"?"Y":Z.from.userName.charAt(0)})}),c.jsx(rO,{className:"h-4 w-4 mx-1 text-gray-400"}),c.jsx(zr,{className:"h-8 w-8",children:c.jsx(Wr,{className:`${Z.to.userName==="You"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300"}`,children:Z.to.userName==="You"?"Y":Z.to.userName.charAt(0)})})]}),c.jsxs("div",{className:"text-xl font-bold",children:["$",Z.amount.toFixed(2)]})]})}),c.jsx(Bt,{className:"p-3 pt-0 flex gap-2 justify-end border-t border-gray-100 dark:border-gray-800",children:Z.from.userName==="You"?c.jsxs(c.Fragment,{children:[c.jsxs(K,{variant:"outline",size:"sm",className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",onClick:()=>{$({title:"Reminder added",description:"You'll be reminded about this payment later."})},children:[c.jsx(Pr,{className:"h-4 w-4 mr-1"}),"Remind me"]}),c.jsxs(K,{onClick:()=>X(Z),size:"sm",className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white",children:[c.jsx(io,{className:"h-4 w-4 mr-1"}),"Pay now"]})]}):c.jsxs(K,{variant:"outline",size:"sm",className:"border-green-500 text-green-500 hover:bg-green-50 dark:hover:bg-green-900/20",onClick:()=>{$({title:"Payment request sent",description:`A payment reminder was sent to ${Z.from.userName}.`})},children:[c.jsx(io,{className:"h-4 w-4 mr-1"}),"Request payment"]})})]},le))})]}),c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Transaction History"}),i.length>0&&c.jsxs(K,{variant:"outline",size:"sm",className:"h-8 text-xs border-gray-200 dark:border-gray-700",onClick:ne,children:[c.jsx(gV,{className:"h-4 w-4 mr-1.5"}),"Export Transactions"]})]}),c.jsxs(Nc,{value:r,onValueChange:n,children:[c.jsxs(el,{className:"bg-gray-100/50 dark:bg-gray-800/50 p-1 mb-4",children:[c.jsx(sr,{value:"balances",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm",children:"Balances"}),c.jsxs(sr,{value:"transactions",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm relative",children:["Transactions",q.length>0&&c.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 min-w-5 items-center justify-center rounded-full bg-yellow-500 dark:bg-yellow-600 text-[10px] text-white px-1 font-semibold",children:q.length})]})]}),c.jsx(jr,{value:"balances",className:"mt-0",children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:o.length>0?o.map(Z=>c.jsx(Te,{className:"border border-gray-200 dark:border-gray-700 shadow-sm flex flex-col",children:c.jsx(Ne,{className:"p-4 flex-grow",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(zr,{className:"h-10 w-10",children:c.jsx(Wr,{className:`${Z.userName==="You"?"bg-gradient-to-br from-blue-500 to-green-500 text-white":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}`,children:Z.userName.charAt(0)})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:Z.userName}),c.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:Z.userName==="You"?he?"Others owe you":pe?"You owe others":"All settled up":Z.netBalance>0?`Owes you $${Z.netBalance.toFixed(2)}`:Z.netBalance<0?`You owe $${Math.abs(Z.netBalance).toFixed(2)}`:"All settled up"})]})]}),c.jsx("div",{className:`text-lg font-semibold ${Z.userName!=="You"&&Z.netBalance>0?"text-green-600 dark:text-green-400":Z.userName!=="You"&&Z.netBalance<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-300"}`,children:Z.userName!=="You"&&Z.netBalance!==0&&`${Z.netBalance>0?"+":""}$${Z.netBalance.toFixed(2)}`})]})})},Z.userId)):c.jsx(Te,{className:"border border-dashed border-gray-200 dark:border-gray-700",children:c.jsxs(Ne,{className:"p-6 text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500/20 to-green-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:c.jsx(SV,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"No balance information"}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:"Start making transactions to track balances"})]})})})}),c.jsxs(jr,{value:"transactions",className:"mt-0",children:[c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"relative mb-3",children:[c.jsx(Zb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),c.jsx(Ue,{placeholder:"Search transactions...",value:y,onChange:Z=>w(Z.target.value),className:"pl-9 pr-12"}),y&&c.jsx("button",{className:"absolute right-12 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>w(""),children:c.jsx(Mi,{className:"h-4 w-4"})}),c.jsx("button",{className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${S?"text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>E(!S),children:c.jsx(pse,{className:"h-4 w-4"})})]}),S&&c.jsx(Te,{className:"mb-4 border border-gray-200 dark:border-gray-700 shadow-sm",children:c.jsxs(Ne,{className:"p-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-3",children:[c.jsx("h3",{className:"text-sm font-medium",children:"Filters"}),c.jsxs(K,{variant:"ghost",size:"sm",className:"text-xs h-7 px-2 text-blue-600 dark:text-blue-400",onClick:ie,children:[c.jsx(ese,{className:"h-3.5 w-3.5 mr-1"}),"Reset filters"]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[c.jsxs("div",{children:[c.jsx(ce,{htmlFor:"status-filter",className:"text-xs mb-1.5",children:"Status"}),c.jsxs($t,{value:C,onValueChange:A,children:[c.jsx(Ot,{id:"status-filter",className:"h-8 text-xs",children:c.jsx(Ft,{placeholder:"Filter by status"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"all",children:"All Statuses"}),c.jsx(Se,{value:"pending",children:"Pending"}),c.jsx(Se,{value:"completed",children:"Completed"}),c.jsx(Se,{value:"cancelled",children:"Cancelled"})]})]})]}),c.jsxs("div",{children:[c.jsx(ce,{htmlFor:"type-filter",className:"text-xs mb-1.5",children:"Type"}),c.jsxs($t,{value:T,onValueChange:N,children:[c.jsx(Ot,{id:"type-filter",className:"h-8 text-xs",children:c.jsx(Ft,{placeholder:"Filter by type"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"all",children:"All Types"}),c.jsx(Se,{value:"payment",children:"Payments"}),c.jsx(Se,{value:"expense",children:"Expenses"})]})]})]}),c.jsxs("div",{children:[c.jsx(ce,{htmlFor:"user-filter",className:"text-xs mb-1.5",children:"Direction"}),c.jsxs($t,{value:I,onValueChange:j,children:[c.jsx(Ot,{id:"user-filter",className:"h-8 text-xs",children:c.jsx(Ft,{placeholder:"Filter by user"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"all",children:"All Transactions"}),c.jsx(Se,{value:"sent",children:"Sent by You"}),c.jsx(Se,{value:"received",children:"Received by You"})]})]})]}),c.jsxs("div",{children:[c.jsx(ce,{htmlFor:"category-filter",className:"text-xs mb-1.5",children:"Category"}),c.jsxs($t,{value:O,onValueChange:P,children:[c.jsx(Ot,{id:"category-filter",className:"h-8 text-xs",children:c.jsx(Ft,{placeholder:"Filter by category"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"all",children:"All Categories"}),c.jsxs(Se,{value:"food",className:"flex items-center",children:[c.jsx(WC,{className:"h-3.5 w-3.5 mr-2"}),c.jsx("span",{children:"Food & Dining"})]}),c.jsxs(Se,{value:"groceries",className:"flex items-center",children:[c.jsx(lr,{className:"h-3.5 w-3.5 mr-2"}),c.jsx("span",{children:"Groceries"})]}),c.jsxs(Se,{value:"household",className:"flex items-center",children:[c.jsx(Wf,{className:"h-3.5 w-3.5 mr-2"}),c.jsx("span",{children:"Household"})]}),c.jsxs(Se,{value:"utilities",className:"flex items-center",children:[c.jsx(Og,{className:"h-3.5 w-3.5 mr-2"}),c.jsx("span",{children:"Utilities"})]}),c.jsxs(Se,{value:"rent",className:"flex items-center",children:[c.jsx(LC,{className:"h-3.5 w-3.5 mr-2"}),c.jsx("span",{children:"Rent & Mortgage"})]}),c.jsxs(Se,{value:"transportation",className:"flex items-center",children:[c.jsx(Tx,{className:"h-3.5 w-3.5 mr-2"}),c.jsx("span",{children:"Transportation"})]}),c.jsxs(Se,{value:"entertainment",className:"flex items-center",children:[c.jsx(BC,{className:"h-3.5 w-3.5 mr-2"}),c.jsx("span",{children:"Entertainment"})]}),c.jsxs(Se,{value:"personal",className:"flex items-center",children:[c.jsx(Pg,{className:"h-3.5 w-3.5 mr-2"}),c.jsx("span",{children:"Personal"})]}),c.jsxs(Se,{value:"medical",className:"flex items-center",children:[c.jsx(VC,{className:"h-3.5 w-3.5 mr-2"}),c.jsx("span",{children:"Medical"})]}),c.jsxs(Se,{value:"other",className:"flex items-center",children:[c.jsx($C,{className:"h-3.5 w-3.5 mr-2"}),c.jsx("span",{children:"Other"})]})]})]})]})]})]})})]}),q.length>0&&c.jsx("div",{className:"mb-6 rounded-lg border border-yellow-200 dark:border-yellow-800 bg-yellow-50 dark:bg-yellow-900/20 p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-full bg-yellow-100 dark:bg-yellow-900/50",children:c.jsx(Pr,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium",children:"Pending Payments"}),c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["You have ",q.length," pending payment",q.length!==1?"s":""," that ",q.length!==1?"need":"needs"," attention"]})]})]})})]}),ye.length>0||re.length>0?c.jsxs("div",{className:"space-y-6",children:[Object.entries(me).map(([Z,le])=>c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold mb-3 sticky top-0 bg-opacity-80 backdrop-blur-sm py-2 px-1 -mx-1 z-10 bg-gradient-to-r from-yellow-500/10 via-yellow-500/20 to-yellow-500/10 dark:from-yellow-900/20 dark:via-yellow-900/30 dark:to-yellow-900/20 border-b border-yellow-200 dark:border-yellow-800/50",children:[Z," (",le.length,")"]}),c.jsx("div",{className:"space-y-3",children:le.map(xe=>c.jsxs(Te,{className:`border shadow-sm ${xe.status==="pending"?"border-yellow-500/50 dark:border-yellow-400/40 ring-1 ring-yellow-400/30 dark:ring-yellow-500/30":"border-gray-200 dark:border-gray-700"} flex flex-col`,children:[xe.status==="pending"&&c.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-yellow-400 to-yellow-500"}),c.jsx(Ne,{className:`p-4 flex-grow ${xe.status==="pending"?"bg-yellow-50/50 dark:bg-yellow-900/10":""}`,children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:`p-2 rounded-full ${xe.type==="payment"?xe.status==="pending"?"bg-yellow-100 dark:bg-yellow-900/30":"bg-blue-100 dark:bg-blue-900/30":xe.type==="expense"?"bg-amber-100 dark:bg-amber-900/30":"bg-green-100 dark:bg-green-900/30"}`,children:xe.status==="pending"&&xe.type==="payment"?c.jsx(Pr,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"}):xe.type==="payment"?c.jsx(io,{className:`h-5 w-5 ${xe.fromUserName==="You"?"text-blue-600 dark:text-blue-400":"text-green-600 dark:text-green-400"}`}):xe.type==="expense"?c.jsx(fD,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"}):c.jsx(Go,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:xe.description}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 mt-1",children:[c.jsx(zu,{className:"h-3.5 w-3.5 mr-1"}),c.jsxs("span",{children:[Yt(new Date(xe.timestamp),"MMM d, yyyy")," · ",V6(new Date(xe.timestamp))," ago"]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[c.jsxs("div",{className:"flex items-center text-sm",children:[c.jsx("span",{className:"font-medium mr-1",children:"From:"}),c.jsx(zr,{className:"h-5 w-5 mr-1",children:c.jsx(Wr,{className:"text-xs",children:xe.fromUserName.charAt(0)})}),c.jsx("span",{children:xe.fromUserName})]}),c.jsxs("div",{className:"flex items-center text-sm",children:[c.jsx("span",{className:"font-medium mr-1",children:"To:"}),c.jsx(zr,{className:"h-5 w-5 mr-1",children:c.jsx(Wr,{className:"text-xs",children:xe.toUserName.charAt(0)})}),c.jsx("span",{children:xe.toUserName})]})]}),c.jsx("div",{className:"mt-2 flex items-center",children:c.jsxs("div",{className:"relative inline-block category-menu-container",children:[xe.category?c.jsx("div",{className:"cursor-pointer",onClick:it=>{it.stopPropagation(),W(B===xe.id?null:xe.id)},children:c.jsx(E$,{category:xe.category})}):c.jsxs(K,{variant:"outline",size:"sm",className:"h-6 px-2 text-xs",onClick:it=>{it.stopPropagation(),W(B===xe.id?null:xe.id)},children:[c.jsx(mD,{className:"h-3 w-3 mr-1"}),"Categorize"]}),B===xe.id&&c.jsxs("div",{className:"absolute top-full left-0 mt-1 z-50 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 p-2 w-48 category-menu-container",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2 px-2",children:[c.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Select a category"}),c.jsx("button",{onClick:it=>{it.stopPropagation(),W(null)},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:c.jsx(Mi,{className:"h-3 w-3"})})]}),SN().map(it=>c.jsxs("button",{className:"flex items-center gap-2 w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",onClick:yr=>{yr.stopPropagation(),Oe(xe.id,it.id)},children:[c.jsx($N,{category:it.id,className:"h-3.5 w-3.5"}),c.jsx("span",{children:it.label})]},it.id))]})]})}),xe.status==="pending"&&xe.type==="payment"&&c.jsx("div",{className:"flex gap-2 mt-3",children:xe.fromUserName==="You"?c.jsxs(mt,{variant:"outline",className:"bg-yellow-50 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300",children:[c.jsx(Pr,{className:"h-3 w-3 mr-1"}),"Awaiting confirmation"]}):c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(K,{size:"sm",variant:"outline",className:"h-7 px-2 border-red-200 hover:border-red-300 dark:border-red-900 dark:hover:border-red-800",onClick:()=>Y(xe.id),children:[c.jsx(Mi,{className:"h-3 w-3 mr-1 text-red-600 dark:text-red-400"}),c.jsx("span",{className:"text-xs text-red-600 dark:text-red-400",children:"Decline"})]}),c.jsxs(K,{size:"sm",className:"h-7 px-2 bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white",onClick:()=>H(xe.id),children:[c.jsx(fo,{className:"h-3 w-3 mr-1"}),c.jsx("span",{className:"text-xs",children:"Confirm"})]})]})})]})]}),c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsx("span",{className:`font-semibold ${xe.fromUserName==="You"?"text-red-600 dark:text-red-400":xe.toUserName==="You"?"text-green-600 dark:text-green-400":"text-gray-800 dark:text-gray-200"}`,children:xe.fromUserName==="You"?`-$${xe.amount.toFixed(2)}`:xe.toUserName==="You"?`+$${xe.amount.toFixed(2)}`:`$${xe.amount.toFixed(2)}`}),c.jsx(mt,{className:`mt-1 ${xe.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":xe.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300"}`,children:xe.status.charAt(0).toUpperCase()+xe.status.slice(1)})]})]})})]},xe.id))})]},Z)),ye.map(Z=>c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold mb-3 sticky top-0 bg-opacity-80 backdrop-blur-sm py-2 px-1 -mx-1 z-10 bg-gradient-to-r from-blue-500/5 via-green-500/5 to-blue-500/5 dark:from-blue-900/20 dark:via-green-900/20 dark:to-blue-900/20",children:Yt(new Date(Z),"MMMM d, yyyy")}),c.jsx("div",{className:"space-y-3",children:G[Z].filter(le=>le.status!=="pending").map(le=>c.jsx(Te,{className:"border shadow-sm border-gray-200 dark:border-gray-700 flex flex-col",children:c.jsx(Ne,{className:"p-4 flex-grow",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:`p-2 rounded-full ${le.type==="payment"?"bg-blue-100 dark:bg-blue-900/30":le.type==="expense"?"bg-amber-100 dark:bg-amber-900/30":"bg-green-100 dark:bg-green-900/30"}`,children:le.type==="payment"?c.jsx(io,{className:`h-5 w-5 ${le.fromUserName==="You"?"text-blue-600 dark:text-blue-400":"text-green-600 dark:text-green-400"}`}):le.type==="expense"?c.jsx(fD,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"}):c.jsx(Go,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:le.description}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 mt-1",children:[c.jsx(zu,{className:"h-3.5 w-3.5 mr-1"}),c.jsxs("span",{children:[Yt(new Date(le.timestamp),"MMM d, yyyy")," · ",V6(new Date(le.timestamp))," ago"]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[c.jsxs("div",{className:"flex items-center text-sm",children:[c.jsx("span",{className:"font-medium mr-1",children:"From:"}),c.jsx(zr,{className:"h-5 w-5 mr-1",children:c.jsx(Wr,{className:"text-xs",children:le.fromUserName.charAt(0)})}),c.jsx("span",{children:le.fromUserName})]}),c.jsxs("div",{className:"flex items-center text-sm",children:[c.jsx("span",{className:"font-medium mr-1",children:"To:"}),c.jsx(zr,{className:"h-5 w-5 mr-1",children:c.jsx(Wr,{className:"text-xs",children:le.toUserName.charAt(0)})}),c.jsx("span",{children:le.toUserName})]})]}),c.jsx("div",{className:"mt-2 flex items-center",children:c.jsxs("div",{className:"relative inline-block category-menu-container",children:[le.category?c.jsx("div",{className:"cursor-pointer",onClick:xe=>{xe.stopPropagation(),W(B===le.id?null:le.id)},children:c.jsx(E$,{category:le.category})}):c.jsxs(K,{variant:"outline",size:"sm",className:"h-6 px-2 text-xs",onClick:xe=>{xe.stopPropagation(),W(B===le.id?null:le.id)},children:[c.jsx(mD,{className:"h-3 w-3 mr-1"}),"Categorize"]}),B===le.id&&c.jsxs("div",{className:"absolute top-full left-0 mt-1 z-50 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 p-2 w-48 category-menu-container",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2 px-2",children:[c.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Select a category"}),c.jsx("button",{onClick:xe=>{xe.stopPropagation(),W(null)},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:c.jsx(Mi,{className:"h-3 w-3"})})]}),SN().map(xe=>c.jsxs("button",{className:"flex items-center gap-2 w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",onClick:it=>{it.stopPropagation(),Oe(le.id,xe.id)},children:[c.jsx($N,{category:xe.id,className:"h-3.5 w-3.5"}),c.jsx("span",{children:xe.label})]},xe.id))]})]})})]})]}),c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsx("span",{className:`font-semibold ${le.fromUserName==="You"?"text-red-600 dark:text-red-400":le.toUserName==="You"?"text-green-600 dark:text-green-400":"text-gray-800 dark:text-gray-200"}`,children:le.fromUserName==="You"?`-$${le.amount.toFixed(2)}`:le.toUserName==="You"?`+$${le.amount.toFixed(2)}`:`$${le.amount.toFixed(2)}`}),c.jsx(mt,{className:`mt-1 ${le.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":le.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300"}`,children:le.status.charAt(0).toUpperCase()+le.status.slice(1)})]})]})})},le.id))})]},Z))]}):c.jsx(Te,{className:"border border-dashed border-gray-200 dark:border-gray-700",children:c.jsxs(Ne,{className:"p-6 text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500/20 to-green-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:c.jsx(Joe,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"No transactions yet"}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:"Start making payments or logging expenses"}),c.jsxs(K,{onClick:ue,className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white",children:[c.jsx(io,{className:"mr-2 h-4 w-4"}),"Send Money"]})]})})]})]})]}),c.jsx(_r,{open:d,onOpenChange:f,children:c.jsxs(pr,{className:"sm:max-w-md",children:[c.jsxs(mr,{children:[c.jsx(gr,{children:"Send Payment"}),c.jsx(Si,{children:"Create a payment to settle your balance."})]}),c.jsxs("div",{className:"space-y-4 py-2",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"recipient",children:"Recipient"}),c.jsxs($t,{value:v,onValueChange:x,children:[c.jsx(Ot,{children:c.jsx(Ft,{placeholder:"Select recipient"})}),c.jsx(jt,{children:e.filter(Z=>Z.id!==(t==null?void 0:t.id)).length>0?e.filter(Z=>Z.id!==(t==null?void 0:t.id)).map(Z=>c.jsx(Se,{value:Z.id,children:Z.name},Z.id)):c.jsxs("div",{className:"p-2 text-center text-sm text-muted-foreground",children:["No household members found.",c.jsx(K,{variant:"link",className:"p-0 h-auto font-normal text-blue-600 dark:text-blue-400",onClick:()=>{f(!1),window.location.href="#/profile"},children:"Invite someone to your household"})]})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"amount",children:"Amount"}),c.jsxs("div",{className:"relative",children:[c.jsx(Go,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),c.jsx(Ue,{id:"amount",value:h,onChange:Z=>p(Z.target.value),className:"pl-9",placeholder:"0.00"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"description",children:"Description (optional)"}),c.jsx(Ue,{id:"description",value:m,onChange:Z=>g(Z.target.value),placeholder:"Payment for groceries, etc."})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"category",children:"Category (optional)"}),c.jsxs($t,{value:M,onValueChange:Z=>F(Z),children:[c.jsx(Ot,{id:"category",className:"w-full",children:c.jsx(Ft,{placeholder:"Select a category"})}),c.jsxs(jt,{children:[c.jsxs(Se,{value:"food",className:"flex items-center gap-2",children:[c.jsx(WC,{className:"h-4 w-4"}),c.jsx("span",{children:"Food & Dining"})]}),c.jsxs(Se,{value:"groceries",className:"flex items-center gap-2",children:[c.jsx(lr,{className:"h-4 w-4"}),c.jsx("span",{children:"Groceries"})]}),c.jsxs(Se,{value:"household",className:"flex items-center gap-2",children:[c.jsx(Wf,{className:"h-4 w-4"}),c.jsx("span",{children:"Household"})]}),c.jsxs(Se,{value:"utilities",className:"flex items-center gap-2",children:[c.jsx(Og,{className:"h-4 w-4"}),c.jsx("span",{children:"Utilities"})]}),c.jsxs(Se,{value:"rent",className:"flex items-center gap-2",children:[c.jsx(LC,{className:"h-4 w-4"}),c.jsx("span",{children:"Rent & Mortgage"})]}),c.jsxs(Se,{value:"transportation",className:"flex items-center gap-2",children:[c.jsx(Tx,{className:"h-4 w-4"}),c.jsx("span",{children:"Transportation"})]}),c.jsxs(Se,{value:"entertainment",className:"flex items-center gap-2",children:[c.jsx(BC,{className:"h-4 w-4"}),c.jsx("span",{children:"Entertainment"})]}),c.jsxs(Se,{value:"personal",className:"flex items-center gap-2",children:[c.jsx(Pg,{className:"h-4 w-4"}),c.jsx("span",{children:"Personal"})]}),c.jsxs(Se,{value:"medical",className:"flex items-center gap-2",children:[c.jsx(VC,{className:"h-4 w-4"}),c.jsx("span",{children:"Medical"})]}),c.jsxs(Se,{value:"other",className:"flex items-center gap-2",children:[c.jsx($C,{className:"h-4 w-4"}),c.jsx("span",{children:"Other"})]})]})]})]})]}),c.jsxs(_i,{className:"flex justify-between sm:justify-between gap-2",children:[c.jsx(K,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),c.jsxs(K,{onClick:Q,className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white",children:[c.jsx(io,{className:"mr-2 h-4 w-4"}),"Send Payment"]})]})]})})]})},xHe=()=>{const t=ds();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),c.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function wHe(t){return t==null}var bHe=wHe;const ft=dt(bHe);var _He=ul,SHe=oi,EHe=Io,AHe="[object String]";function CHe(t){return typeof t=="string"||!SHe(t)&&EHe(t)&&_He(t)==AHe}var THe=CHe;const sd=dt(THe);var eee={exports:{}},Rt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m3=Symbol.for("react.element"),g3=Symbol.for("react.portal"),T_=Symbol.for("react.fragment"),N_=Symbol.for("react.strict_mode"),I_=Symbol.for("react.profiler"),P_=Symbol.for("react.provider"),O_=Symbol.for("react.context"),NHe=Symbol.for("react.server_context"),j_=Symbol.for("react.forward_ref"),k_=Symbol.for("react.suspense"),R_=Symbol.for("react.suspense_list"),D_=Symbol.for("react.memo"),M_=Symbol.for("react.lazy"),IHe=Symbol.for("react.offscreen"),tee;tee=Symbol.for("react.module.reference");function Ga(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case m3:switch(t=t.type,t){case T_:case I_:case N_:case k_:case R_:return t;default:switch(t=t&&t.$$typeof,t){case NHe:case O_:case j_:case M_:case D_:case P_:return t;default:return e}}case g3:return e}}}Rt.ContextConsumer=O_;Rt.ContextProvider=P_;Rt.Element=m3;Rt.ForwardRef=j_;Rt.Fragment=T_;Rt.Lazy=M_;Rt.Memo=D_;Rt.Portal=g3;Rt.Profiler=I_;Rt.StrictMode=N_;Rt.Suspense=k_;Rt.SuspenseList=R_;Rt.isAsyncMode=function(){return!1};Rt.isConcurrentMode=function(){return!1};Rt.isContextConsumer=function(t){return Ga(t)===O_};Rt.isContextProvider=function(t){return Ga(t)===P_};Rt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===m3};Rt.isForwardRef=function(t){return Ga(t)===j_};Rt.isFragment=function(t){return Ga(t)===T_};Rt.isLazy=function(t){return Ga(t)===M_};Rt.isMemo=function(t){return Ga(t)===D_};Rt.isPortal=function(t){return Ga(t)===g3};Rt.isProfiler=function(t){return Ga(t)===I_};Rt.isStrictMode=function(t){return Ga(t)===N_};Rt.isSuspense=function(t){return Ga(t)===k_};Rt.isSuspenseList=function(t){return Ga(t)===R_};Rt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===T_||t===I_||t===N_||t===k_||t===R_||t===IHe||typeof t=="object"&&t!==null&&(t.$$typeof===M_||t.$$typeof===D_||t.$$typeof===P_||t.$$typeof===O_||t.$$typeof===j_||t.$$typeof===tee||t.getModuleId!==void 0)};Rt.typeOf=Ga;eee.exports=Rt;var PHe=eee.exports,OHe=ul,jHe=Io,kHe="[object Number]";function RHe(t){return typeof t=="number"||jHe(t)&&OHe(t)==kHe}var ree=RHe;const DHe=dt(ree);var MHe=ree;function LHe(t){return MHe(t)&&t!=+t}var $He=LHe;const yp=dt($He);var mo=function(e){return e===0?0:e>0?1:-1},Su=function(e){return sd(e)&&e.indexOf("%")===e.length-1},Ee=function(e){return DHe(e)&&!yp(e)},on=function(e){return Ee(e)||sd(e)},FHe=0,U0=function(e){var r=++FHe;return"".concat(e||"").concat(r)},ld=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ee(e)&&!sd(e))return n;var a;if(Su(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return yp(a)&&(a=n),i&&a>r&&(a=r),a},$l=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},BHe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Na=function(e,r){return Ee(e)&&Ee(r)?function(n){return e+n*(r-e)}:function(){return r}};function Rw(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Ra(n,e))===r})}var UHe=function(e,r){return Ee(e)&&Ee(r)?e-r:sd(e)&&sd(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function kf(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function FN(t){"@babel/helpers - typeof";return FN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FN(t)}var VHe=["viewBox","children"],zHe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],A$=["points","pathLength"],vA={svg:VHe,polygon:A$,polyline:A$},v3=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Dw=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),!ap(n))return null;var i={};return Object.keys(n).forEach(function(a){v3.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},WHe=function(e,r,n){return function(i){return e(r,n,i),null}},Mw=function(e,r,n){if(!ap(e)||FN(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];v3.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=WHe(o,r,n))}),i},HHe=["children"],GHe=["children"];function C$(t,e){if(t==null)return{};var r=qHe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qHe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function BN(t){"@babel/helpers - typeof";return BN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BN(t)}var T$={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Bs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},N$=null,yA=null,y3=function t(e){if(e===N$&&Array.isArray(yA))return yA;var r=[];return b.Children.forEach(e,function(n){ft(n)||(PHe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),yA=r,N$=e,r};function wo(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Bs(i)}):n=[Bs(e)],y3(t).forEach(function(i){var a=Ra(i,"type.displayName")||Ra(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function ta(t,e){var r=wo(t,e);return r&&r[0]}var I$=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Ee(n)||n<=0||!Ee(i)||i<=0)},KHe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],YHe=function(e){return e&&e.type&&sd(e.type)&&KHe.indexOf(e.type)>=0},XHe=function(e){return e&&BN(e)==="object"&&"clipDot"in e},QHe=function(e,r,n,i){var a,o=(a=vA==null?void 0:vA[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Je(e)&&(i&&o.includes(r)||zHe.includes(r))||n&&v3.includes(r)},st=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(b.isValidElement(e)&&(i=e.props),!ap(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;QHe((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},UN=function t(e,r){if(e===r)return!0;var n=b.Children.count(e);if(n!==b.Children.count(r))return!1;if(n===0)return!0;if(n===1)return P$(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!P$(a,o))return!1}return!0},P$=function(e,r){if(ft(e)&&ft(r))return!0;if(!ft(e)&&!ft(r)){var n=e.props||{},i=n.children,a=C$(n,HHe),o=r.props||{},s=o.children,l=C$(o,GHe);return i&&s?kf(a,l)&&UN(i,s):!i&&!s?kf(a,l):!1}return!1},O$=function(e,r){var n=[],i={};return y3(e).forEach(function(a,o){if(YHe(a))n.push(a);else if(a){var s=Bs(a.type),l=r[s]||{},u=l.handler,d=l.once;if(u&&(!d||!i[s])){var f=u(a,s,o);n.push(f),i[s]=!0}}}),n},ZHe=function(e){var r=e&&e.type;return r&&T$[r]?T$[r]:null},JHe=function(e,r){return y3(r).indexOf(e)},eGe=["children","width","height","viewBox","className","style","title","desc"];function VN(){return VN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},VN.apply(this,arguments)}function tGe(t,e){if(t==null)return{};var r=rGe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rGe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zN(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=tGe(t,eGe),d=i||{width:r,height:n,x:0,y:0},f=gt("recharts-surface",a);return D.createElement("svg",VN({},st(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),D.createElement("title",null,s),D.createElement("desc",null,l),e)}var nGe=["children","className"];function WN(){return WN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WN.apply(this,arguments)}function iGe(t,e){if(t==null)return{};var r=aGe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aGe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var br=D.forwardRef(function(t,e){var r=t.children,n=t.className,i=iGe(t,nGe),a=gt("recharts-layer",n);return D.createElement("g",WN({className:a},st(i,!0),{ref:e}),r)}),Us=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},oGe=mk;function sGe(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:oGe(t,e,r)}var lGe=sGe,cGe="\\ud800-\\udfff",uGe="\\u0300-\\u036f",dGe="\\ufe20-\\ufe2f",fGe="\\u20d0-\\u20ff",hGe=uGe+dGe+fGe,pGe="\\ufe0e\\ufe0f",mGe="\\u200d",gGe=RegExp("["+mGe+cGe+hGe+pGe+"]");function vGe(t){return gGe.test(t)}var nee=vGe;function yGe(t){return t.split("")}var xGe=yGe,iee="\\ud800-\\udfff",wGe="\\u0300-\\u036f",bGe="\\ufe20-\\ufe2f",_Ge="\\u20d0-\\u20ff",SGe=wGe+bGe+_Ge,EGe="\\ufe0e\\ufe0f",AGe="["+iee+"]",HN="["+SGe+"]",GN="\\ud83c[\\udffb-\\udfff]",CGe="(?:"+HN+"|"+GN+")",aee="[^"+iee+"]",oee="(?:\\ud83c[\\udde6-\\uddff]){2}",see="[\\ud800-\\udbff][\\udc00-\\udfff]",TGe="\\u200d",lee=CGe+"?",cee="["+EGe+"]?",NGe="(?:"+TGe+"(?:"+[aee,oee,see].join("|")+")"+cee+lee+")*",IGe=cee+lee+NGe,PGe="(?:"+[aee+HN+"?",HN,oee,see,AGe].join("|")+")",OGe=RegExp(GN+"(?="+GN+")|"+PGe+IGe,"g");function jGe(t){return t.match(OGe)||[]}var kGe=jGe,RGe=xGe,DGe=nee,MGe=kGe;function LGe(t){return DGe(t)?MGe(t):RGe(t)}var $Ge=LGe,FGe=lGe,BGe=nee,UGe=$Ge,VGe=rZ;function zGe(t){return function(e){e=VGe(e);var r=BGe(e)?UGe(e):void 0,n=r?r[0]:e.charAt(0),i=r?FGe(r,1).join(""):e.slice(1);return n[t]()+i}}var WGe=zGe,HGe=WGe,GGe=HGe("toUpperCase"),qGe=GGe;const L_=dt(qGe);function qt(t){return function(){return t}}const uee=Math.cos,Lw=Math.sin,Po=Math.sqrt,$w=Math.PI,$_=2*$w,qN=Math.PI,KN=2*qN,fu=1e-6,KGe=KN-fu;function dee(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function YGe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return dee;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class XGe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?dee:YGe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-e,u=i-r,d=o-e,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>fu)if(!(Math.abs(f*l-u*d)>fu)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,m=i-s,g=l*l+u*u,v=p*p+m*m,x=Math.sqrt(g),y=Math.sqrt(h),w=a*Math.tan((qN-Math.acos((g+h-v)/(2*x*y)))/2),S=w/y,E=w/x;Math.abs(S-1)>fu&&this._append`L${e+S*d},${r+S*f}`,this._append`A${a},${a},0,0,${+(f*p>d*m)},${this._x1=e+E*l},${this._y1=r+E*u}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),u=e+s,d=r+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>fu||Math.abs(this._y1-d)>fu)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%KN+KN),h>KGe?this._append`A${n},${n},0,1,${f},${e-s},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>fu&&this._append`A${n},${n},0,${+(h>=qN)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function x3(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new XGe(e)}function w3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function fee(t){this._context=t}fee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function F_(t){return new fee(t)}function hee(t){return t[0]}function pee(t){return t[1]}function mee(t,e){var r=qt(!0),n=null,i=F_,a=null,o=x3(s);t=typeof t=="function"?t:t===void 0?hee:qt(t),e=typeof e=="function"?e:e===void 0?pee:qt(e);function s(l){var u,d=(l=w3(l)).length,f,h=!1,p;for(n==null&&(a=i(p=o())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,l),+e(f,u,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:qt(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:qt(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:qt(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function i1(t,e,r){var n=null,i=qt(!0),a=null,o=F_,s=null,l=x3(u);t=typeof t=="function"?t:t===void 0?hee:qt(+t),e=typeof e=="function"?e:qt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?pee:qt(+r);function u(f){var h,p,m,g=(f=w3(f)).length,v,x=!1,y,w=new Array(g),S=new Array(g);for(a==null&&(s=o(y=l())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===x)if(x=!x)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(w[m],S[m]);s.lineEnd(),s.areaEnd()}x&&(w[h]=+t(v,h,f),S[h]=+e(v,h,f),s.point(n?+n(v,h,f):w[h],r?+r(v,h,f):S[h]))}if(y)return s=null,y+""||null}function d(){return mee().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:qt(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:qt(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:qt(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:qt(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:qt(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:qt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:qt(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class gee{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function QGe(t){return new gee(t,!0)}function ZGe(t){return new gee(t,!1)}const b3={draw(t,e){const r=Po(e/$w);t.moveTo(r,0),t.arc(0,0,r,0,$_)}},JGe={draw(t,e){const r=Po(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},vee=Po(1/3),eqe=vee*2,tqe={draw(t,e){const r=Po(e/eqe),n=r*vee;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},rqe={draw(t,e){const r=Po(e),n=-r/2;t.rect(n,n,r,r)}},nqe=.8908130915292852,yee=Lw($w/10)/Lw(7*$w/10),iqe=Lw($_/10)*yee,aqe=-uee($_/10)*yee,oqe={draw(t,e){const r=Po(e*nqe),n=iqe*r,i=aqe*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=$_*a/5,s=uee(o),l=Lw(o);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},xA=Po(3),sqe={draw(t,e){const r=-Po(e/(xA*3));t.moveTo(0,r*2),t.lineTo(-xA*r,-r),t.lineTo(xA*r,-r),t.closePath()}},ba=-.5,_a=Po(3)/2,YN=1/Po(12),lqe=(YN/2+1)*3,cqe={draw(t,e){const r=Po(e/lqe),n=r/2,i=r*YN,a=n,o=r*YN+r,s=-a,l=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(ba*n-_a*i,_a*n+ba*i),t.lineTo(ba*a-_a*o,_a*a+ba*o),t.lineTo(ba*s-_a*l,_a*s+ba*l),t.lineTo(ba*n+_a*i,ba*i-_a*n),t.lineTo(ba*a+_a*o,ba*o-_a*a),t.lineTo(ba*s+_a*l,ba*l-_a*s),t.closePath()}};function uqe(t,e){let r=null,n=x3(i);t=typeof t=="function"?t:qt(t||b3),e=typeof e=="function"?e:qt(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:qt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:qt(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Fw(){}function Bw(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function xee(t){this._context=t}xee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dqe(t){return new xee(t)}function wee(t){this._context=t}wee.prototype={areaStart:Fw,areaEnd:Fw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Bw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fqe(t){return new wee(t)}function bee(t){this._context=t}bee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Bw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function hqe(t){return new bee(t)}function _ee(t){this._context=t}_ee.prototype={areaStart:Fw,areaEnd:Fw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function pqe(t){return new _ee(t)}function j$(t){return t<0?-1:1}function k$(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(j$(a)+j$(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function R$(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function wA(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function Uw(t){this._context=t}Uw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wA(this,this._t0,R$(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,wA(this,R$(this,r=k$(this,t,e)),r);break;default:wA(this,this._t0,r=k$(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function See(t){this._context=new Eee(t)}(See.prototype=Object.create(Uw.prototype)).point=function(t,e){Uw.prototype.point.call(this,e,t)};function Eee(t){this._context=t}Eee.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function mqe(t){return new Uw(t)}function gqe(t){return new See(t)}function Aee(t){this._context=t}Aee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=D$(t),i=D$(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function D$(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function vqe(t){return new Aee(t)}function B_(t,e){this._context=t,this._t=e}B_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function yqe(t){return new B_(t,.5)}function xqe(t){return new B_(t,0)}function wqe(t){return new B_(t,1)}function gh(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function XN(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function bqe(t,e){return t[e]}function _qe(t){const e=[];return e.key=t,e}function Sqe(){var t=qt([]),e=XN,r=gh,n=bqe;function i(a){var o=Array.from(t.apply(this,arguments),_qe),s,l=o.length,u=-1,d;for(const f of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(f,o[s].key,u,a)]).data=f;for(s=0,d=w3(e(o));s<l;++s)o[d[s]].index=s;return r(o,d),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:qt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:qt(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?XN:typeof a=="function"?a:qt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??gh,i):r},i}function Eqe(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}gh(t,e)}}function Aqe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}gh(t,e)}}function Cqe(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,u=0;s<o;++s){for(var d=t[e[s]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,m=0;m<s;++m){var g=t[e[m]],v=g[n][1]||0,x=g[n-1][1]||0;p+=v-x}l+=f,u+=p*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,gh(t,e)}}function wv(t){"@babel/helpers - typeof";return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wv(t)}var Tqe=["type","size","sizeType"];function QN(){return QN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QN.apply(this,arguments)}function M$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function L$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M$(Object(r),!0).forEach(function(n){Nqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nqe(t,e,r){return e=Iqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Iqe(t){var e=Pqe(t,"string");return wv(e)=="symbol"?e:e+""}function Pqe(t,e){if(wv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oqe(t,e){if(t==null)return{};var r=jqe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Cee={symbolCircle:b3,symbolCross:JGe,symbolDiamond:tqe,symbolSquare:rqe,symbolStar:oqe,symbolTriangle:sqe,symbolWye:cqe},kqe=Math.PI/180,Rqe=function(e){var r="symbol".concat(L_(e));return Cee[r]||b3},Dqe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*kqe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Mqe=function(e,r){Cee["symbol".concat(L_(e))]=r},_3=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=Oqe(e,Tqe),u=L$(L$({},l),{},{type:n,size:a,sizeType:s}),d=function(){var v=Rqe(n),x=uqe().type(v).size(Dqe(a,s,n));return x()},f=u.className,h=u.cx,p=u.cy,m=st(u,!0);return h===+h&&p===+p&&a===+a?D.createElement("path",QN({},m,{className:gt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};_3.registerSymbol=Mqe;function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function ZN(){return ZN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ZN.apply(this,arguments)}function $$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lqe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$$(Object(r),!0).forEach(function(n){bv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $qe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fqe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nee(n.key),n)}}function Bqe(t,e,r){return e&&Fqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uqe(t,e,r){return e=Vw(e),Vqe(t,Tee()?Reflect.construct(e,r||[],Vw(t).constructor):e.apply(t,r))}function Vqe(t,e){if(e&&(vh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zqe(t)}function zqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tee=function(){return!!t})()}function Vw(t){return Vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vw(t)}function Wqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JN(t,e)}function JN(t,e){return JN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JN(t,e)}function bv(t,e,r){return e=Nee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nee(t){var e=Hqe(t,"string");return vh(e)=="symbol"?e:e+""}function Hqe(t,e){if(vh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Za=32,S3=function(t){function e(){return $qe(this,e),Uqe(this,e,arguments)}return Wqe(e,t),Bqe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Za/2,o=Za/6,s=Za/3,l=n.inactive?i:n.color;if(n.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Za,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Za,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return D.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Za/8,"h").concat(Za,"v").concat(Za*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(D.isValidElement(n.legendIcon)){var u=Lqe({},n);return delete u.legendIcon,D.cloneElement(n.legendIcon,u)}return D.createElement(_3,{fill:l,cx:a,cy:a,size:Za,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Za,height:Za},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,m){var g=p.formatter||l,v=gt(bv(bv({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=Je(p.value)?null:p.value;Us(!Je(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return D.createElement("li",ZN({className:v,style:f,key:"legend-item-".concat(m)},Mw(n.props,p,m)),D.createElement(zN,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g?g(x,p,m):x))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(b.PureComponent);bv(S3,"displayName","Legend");bv(S3,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function Gqe(t){return t!==t}var qqe=Gqe;function Kqe(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var Yqe=Kqe,Xqe=XQ,Qqe=qqe,Zqe=Yqe;function Jqe(t,e,r){return e===e?Zqe(t,e,r):Xqe(t,Qqe,r)}var eKe=Jqe,tKe=eKe;function rKe(t,e){var r=t==null?0:t.length;return!!r&&tKe(t,e,0)>-1}var nKe=rKe;function iKe(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var aKe=iKe;function oKe(){}var sKe=oKe,bA=GQ,lKe=sKe,cKe=kk,uKe=1/0,dKe=bA&&1/cKe(new bA([,-0]))[1]==uKe?function(t){return new bA(t)}:lKe,fKe=dKe,hKe=DQ,pKe=nKe,mKe=aKe,gKe=LQ,vKe=fKe,yKe=kk,xKe=200;function wKe(t,e,r){var n=-1,i=pKe,a=t.length,o=!0,s=[],l=s;if(r)o=!1,i=mKe;else if(a>=xKe){var u=e?null:vKe(t);if(u)return yKe(u);o=!1,i=gKe,l=new hKe}else l=e?[]:s;e:for(;++n<a;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(d)}else i(l,f,r)||(l!==s&&l.push(f),s.push(d))}return s}var bKe=wKe,_Ke=dl,SKe=bKe;function EKe(t,e){return t&&t.length?SKe(t,_Ke(e)):[]}var AKe=EKe;const F$=dt(AKe);function Iee(t,e,r){return e===!0?F$(t,r):Je(e)?F$(t,e):t}function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}var CKe=["ref"];function B$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B$(Object(r),!0).forEach(function(n){U_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Oee(n.key),n)}}function NKe(t,e,r){return e&&U$(t.prototype,e),r&&U$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function IKe(t,e,r){return e=zw(e),PKe(t,Pee()?Reflect.construct(e,r||[],zw(t).constructor):e.apply(t,r))}function PKe(t,e){if(e&&(yh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OKe(t)}function OKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pee=function(){return!!t})()}function zw(t){return zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zw(t)}function jKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eI(t,e)}function eI(t,e){return eI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eI(t,e)}function U_(t,e,r){return e=Oee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oee(t){var e=kKe(t,"string");return yh(e)=="symbol"?e:e+""}function kKe(t,e){if(yh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function RKe(t,e){if(t==null)return{};var r=DKe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function DKe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function MKe(t){return t.value}function LKe(t,e){if(D.isValidElement(t))return D.cloneElement(t,e);if(typeof t=="function")return D.createElement(t,e);e.ref;var r=RKe(e,CKe);return D.createElement(S3,r)}var V$=1,Rf=function(t){function e(){var r;TKe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=IKe(this,e,[].concat(i)),U_(r,"lastBoundingBox",{width:-1,height:-1}),r}return jKe(e,t),NKe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>V$||Math.abs(i.height-this.lastBoundingBox.height)>V$)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?xs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return xs(xs({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=xs(xs({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return D.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},LKe(a,xs(xs({},this.props),{},{payload:Iee(d,u,MKe)})))}}],[{key:"getWithHeight",value:function(n,i){var a=xs(xs({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&Ee(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(b.PureComponent);U_(Rf,"displayName","Legend");U_(Rf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});function _v(t){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_v(t)}function tI(){return tI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tI.apply(this,arguments)}function $Ke(t,e){return VKe(t)||UKe(t,e)||BKe(t,e)||FKe()}function FKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BKe(t,e){if(t){if(typeof t=="string")return z$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z$(t,e)}}function z$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UKe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function VKe(t){if(Array.isArray(t))return t}function W$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _A(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W$(Object(r),!0).forEach(function(n){zKe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zKe(t,e,r){return e=WKe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WKe(t){var e=HKe(t,"string");return _v(e)=="symbol"?e:e+""}function HKe(t,e){if(_v(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GKe(t){return Array.isArray(t)&&on(t[0])&&on(t[1])?t.join(" ~ "):t}var qKe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,v=e.labelFormatter,x=e.accessibilityLayer,y=x===void 0?!1:x,w=function(){if(d&&d.length){var O={padding:0,margin:0},P=(h?f_(d,h):d).map(function(M,F){if(M.type==="none")return null;var B=_A({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},s),W=M.formatter||f||GKe,$=M.value,U=M.name,X=$,H=U;if(W&&X!=null&&H!=null){var Y=W($,U,M,F,d);if(Array.isArray(Y)){var Q=$Ke(Y,2);X=Q[0],H=Q[1]}else X=Y}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:B},on(H)?D.createElement("span",{className:"recharts-tooltip-item-name"},H):null,on(H)?D.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,D.createElement("span",{className:"recharts-tooltip-item-value"},X),D.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:O},P)}return null},S=_A({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=_A({margin:0},u),C=!ft(g),A=C?g:"",T=gt("recharts-default-tooltip",p),N=gt("recharts-tooltip-label",m);C&&v&&d!==void 0&&d!==null&&(A=v(g,d));var I=y?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",tI({className:T,style:S},I),D.createElement("p",{className:N,style:E},D.isValidElement(A)?A:"".concat(A)),w())};function Sv(t){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sv(t)}function a1(t,e,r){return e=KKe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KKe(t){var e=YKe(t,"string");return Sv(e)=="symbol"?e:e+""}function YKe(t,e){if(Sv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var om="recharts-tooltip-wrapper",XKe={visibility:"hidden"};function QKe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return gt(om,a1(a1(a1(a1({},"".concat(om,"-right"),Ee(r)&&e&&Ee(e.x)&&r>=e.x),"".concat(om,"-left"),Ee(r)&&e&&Ee(e.x)&&r<e.x),"".concat(om,"-bottom"),Ee(n)&&e&&Ee(e.y)&&n>=e.y),"".concat(om,"-top"),Ee(n)&&e&&Ee(e.y)&&n<e.y))}function H$(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&Ee(a[n]))return a[n];var d=r[n]-s-i,f=r[n]+i;if(e[n])return o[n]?d:f;if(o[n]){var h=d,p=l[n];return h<p?Math.max(f,l[n]):Math.max(d,l[n])}var m=f+s,g=l[n]+u;return m>g?Math.max(d,l[n]):Math.max(f,l[n])}function ZKe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function JKe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=H$({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=H$({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=ZKe({translateX:d,translateY:f,useTranslate3d:s})):u=XKe,{cssProperties:u,cssClasses:QKe({translateX:d,translateY:f,coordinate:r})}}function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function G$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function q$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G$(Object(r),!0).forEach(function(n){nI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tYe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kee(n.key),n)}}function rYe(t,e,r){return e&&tYe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nYe(t,e,r){return e=Ww(e),iYe(t,jee()?Reflect.construct(e,r||[],Ww(t).constructor):e.apply(t,r))}function iYe(t,e){if(e&&(xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aYe(t)}function aYe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jee=function(){return!!t})()}function Ww(t){return Ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ww(t)}function oYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rI(t,e)}function rI(t,e){return rI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rI(t,e)}function nI(t,e,r){return e=kee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kee(t){var e=sYe(t,"string");return xh(e)=="symbol"?e:e+""}function sYe(t,e){if(xh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var K$=1,lYe=function(t){function e(){var r;eYe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=nYe(this,e,[].concat(i)),nI(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),nI(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return oYe(e,t),rYe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>K$||Math.abs(n.height-this.state.lastBoundingBox.height)>K$)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,y=i.wrapperStyle,w=JKe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),S=w.cssClasses,E=w.cssProperties,C=q$(q$({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return D.createElement("div",{tabIndex:-1,className:S,style:C,ref:function(T){n.wrapperNode=T}},u)}}])}(b.PureComponent),cYe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},xp={isSsr:cYe()};function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function Y$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function X$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y$(Object(r),!0).forEach(function(n){E3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dYe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dee(n.key),n)}}function fYe(t,e,r){return e&&dYe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hYe(t,e,r){return e=Hw(e),pYe(t,Ree()?Reflect.construct(e,r||[],Hw(t).constructor):e.apply(t,r))}function pYe(t,e){if(e&&(wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mYe(t)}function mYe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ree(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ree=function(){return!!t})()}function Hw(t){return Hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hw(t)}function gYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iI(t,e)}function iI(t,e){return iI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iI(t,e)}function E3(t,e,r){return e=Dee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dee(t){var e=vYe(t,"string");return wh(e)=="symbol"?e:e+""}function vYe(t,e){if(wh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yYe(t){return t.dataKey}function xYe(t,e){return D.isValidElement(t)?D.cloneElement(t,e):typeof t=="function"?D.createElement(t,e):D.createElement(qKe,e)}var Lo=function(t){function e(){return uYe(this,e),hYe(this,e,arguments)}return gYe(e,t),fYe(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,v=i.position,x=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,S=i.wrapperStyle,E=m??[];f&&E.length&&(E=Iee(m.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),g,yYe));var C=E.length>0;return D.createElement(lYe,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:d,hasPayload:C,offset:p,position:v,reverseDirection:x,useTranslate3d:y,viewBox:w,wrapperStyle:S},xYe(u,X$(X$({},this.props),{},{payload:E})))}}])}(b.PureComponent);E3(Lo,"displayName","Tooltip");E3(Lo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!xp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var wYe=No,bYe=function(){return wYe.Date.now()},_Ye=bYe,SYe=Wa,SA=_Ye,Q$=yQ,EYe="Expected a function",AYe=Math.max,CYe=Math.min;function TYe(t,e,r){var n,i,a,o,s,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(EYe);e=Q$(e)||0,SYe(r)&&(d=!!r.leading,f="maxWait"in r,a=f?AYe(Q$(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function p(C){var A=n,T=i;return n=i=void 0,u=C,o=t.apply(T,A),o}function m(C){return u=C,s=setTimeout(x,e),d?p(C):o}function g(C){var A=C-l,T=C-u,N=e-A;return f?CYe(N,a-T):N}function v(C){var A=C-l,T=C-u;return l===void 0||A>=e||A<0||f&&T>=a}function x(){var C=SA();if(v(C))return y(C);s=setTimeout(x,g(C))}function y(C){return s=void 0,h&&n?p(C):(n=i=void 0,o)}function w(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function S(){return s===void 0?o:y(SA())}function E(){var C=SA(),A=v(C);if(n=arguments,i=this,l=C,A){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(x,e),p(l)}return s===void 0&&(s=setTimeout(x,e)),o}return E.cancel=w,E.flush=S,E}var NYe=TYe,IYe=NYe,PYe=Wa,OYe="Expected a function";function jYe(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(OYe);return PYe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),IYe(t,e,{leading:n,maxWait:e,trailing:i})}var kYe=jYe;const Mee=dt(kYe);function Ev(t){"@babel/helpers - typeof";return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ev(t)}function Z$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function o1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z$(Object(r),!0).forEach(function(n){RYe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RYe(t,e,r){return e=DYe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DYe(t){var e=MYe(t,"string");return Ev(e)=="symbol"?e:e+""}function MYe(t,e){if(Ev(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LYe(t,e){return UYe(t)||BYe(t,e)||FYe(t,e)||$Ye()}function $Ye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FYe(t,e){if(t){if(typeof t=="string")return J$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J$(t,e)}}function J$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BYe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function UYe(t){if(Array.isArray(t))return t}var VYe=b.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,v=t.id,x=t.className,y=t.onResize,w=t.style,S=w===void 0?{}:w,E=b.useRef(null),C=b.useRef();C.current=y,b.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var A=b.useState({containerWidth:i.width,containerHeight:i.height}),T=LYe(A,2),N=T[0],I=T[1],j=b.useCallback(function(P,M){I(function(F){var B=Math.round(P),W=Math.round(M);return F.containerWidth===B&&F.containerHeight===W?F:{containerWidth:B,containerHeight:W}})},[]);b.useEffect(function(){var P=function(U){var X,H=U[0].contentRect,Y=H.width,Q=H.height;j(Y,Q),(X=C.current)===null||X===void 0||X.call(C,Y,Q)};g>0&&(P=Mee(P,g,{trailing:!0,leading:!1}));var M=new ResizeObserver(P),F=E.current.getBoundingClientRect(),B=F.width,W=F.height;return j(B,W),M.observe(E.current),function(){M.disconnect()}},[j,g]);var O=b.useMemo(function(){var P=N.containerWidth,M=N.containerHeight;if(P<0||M<0)return null;Us(Su(o)||Su(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Us(!r||r>0,"The aspect(%s) must be greater than zero.",r);var F=Su(o)?P:o,B=Su(l)?M:l;r&&r>0&&(F?B=F/r:B&&(F=B*r),h&&B>h&&(B=h)),Us(F>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,B,o,l,d,f,r);var W=!Array.isArray(p)&&Bs(p.type).endsWith("Chart");return D.Children.map(p,function($){return D.isValidElement($)?b.cloneElement($,o1({width:F,height:B},W?{style:o1({height:"100%",width:"100%",maxHeight:B,maxWidth:F},$.props.style)}:{})):$})},[r,p,l,h,f,d,N,o]);return D.createElement("div",{id:v?"".concat(v):void 0,className:gt("recharts-responsive-container",x),style:o1(o1({},S),{},{width:o,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:E},O)}),Lee=function(e){return null};Lee.displayName="Cell";function Av(t){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Av(t)}function eF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eF(Object(r),!0).forEach(function(n){zYe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zYe(t,e,r){return e=WYe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WYe(t){var e=HYe(t,"string");return Av(e)=="symbol"?e:e+""}function HYe(t,e){if(Av(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $d={widthCache:{},cacheCount:0},GYe=2e3,qYe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tF="recharts_measurement_span";function KYe(t){var e=aI({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var sg=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||xp.isSsr)return{width:0,height:0};var n=KYe(r),i=JSON.stringify({text:e,copyStyle:n});if($d.widthCache[i])return $d.widthCache[i];try{var a=document.getElementById(tF);a||(a=document.createElement("span"),a.setAttribute("id",tF),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=aI(aI({},qYe),n);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return $d.widthCache[i]=l,++$d.cacheCount>GYe&&($d.cacheCount=0,$d.widthCache={}),l}catch{return{width:0,height:0}}},YYe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Cv(t){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cv(t)}function Gw(t,e){return JYe(t)||ZYe(t,e)||QYe(t,e)||XYe()}function XYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QYe(t,e){if(t){if(typeof t=="string")return rF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rF(t,e)}}function rF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZYe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function JYe(t){if(Array.isArray(t))return t}function eXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rXe(n.key),n)}}function tXe(t,e,r){return e&&nF(t.prototype,e),r&&nF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rXe(t){var e=nXe(t,"string");return Cv(e)=="symbol"?e:e+""}function nXe(t,e){if(Cv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iXe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,aXe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$ee={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},oXe=Object.keys($ee),pf="NaN";function sXe(t,e){return t*$ee[e]}var s1=function(){function t(e,r){eXe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!iXe.test(r)&&(this.num=NaN,this.unit=""),oXe.includes(r)&&(this.num=sXe(e,r),this.unit="px")}return tXe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=aXe.exec(r))!==null&&n!==void 0?n:[],a=Gw(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function Fee(t){if(t.includes(pf))return pf;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=iF.exec(e))!==null&&r!==void 0?r:[],i=Gw(n,4),a=i[1],o=i[2],s=i[3],l=s1.parse(a??""),u=s1.parse(s??""),d=o==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return pf;e=e.replace(iF,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=aF.exec(e))!==null&&f!==void 0?f:[],p=Gw(h,4),m=p[1],g=p[2],v=p[3],x=s1.parse(m??""),y=s1.parse(v??""),w=g==="+"?x.add(y):x.subtract(y);if(w.isNaN())return pf;e=e.replace(aF,w.toString())}return e}var oF=/\(([^()]*)\)/;function lXe(t){for(var e=t;e.includes("(");){var r=oF.exec(e),n=Gw(r,2),i=n[1];e=e.replace(oF,Fee(i))}return e}function cXe(t){var e=t.replace(/\s+/g,"");return e=lXe(e),e=Fee(e),e}function uXe(t){try{return cXe(t)}catch{return pf}}function EA(t){var e=uXe(t.slice(5,-1));return e===pf?"":e}var dXe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],fXe=["dx","dy","angle","className","breakAll"];function oI(){return oI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oI.apply(this,arguments)}function sF(t,e){if(t==null)return{};var r=hXe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hXe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lF(t,e){return vXe(t)||gXe(t,e)||mXe(t,e)||pXe()}function pXe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mXe(t,e){if(t){if(typeof t=="string")return cF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cF(t,e)}}function cF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gXe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function vXe(t){if(Array.isArray(t))return t}var Bee=/[ \f\n\r\t\v\u2028\u2029]+/,Uee=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];ft(r)||(n?a=r.toString().split(""):a=r.toString().split(Bee));var o=a.map(function(l){return{word:l,width:sg(l,i).width}}),s=n?0:sg(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},yXe=function(e,r,n,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,d=Ee(o),f=s,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(B,W){var $=W.word,U=W.width,X=B[B.length-1];if(X&&(i==null||a||X.width+U+n<Number(i)))X.words.push($),X.width+=U+n;else{var H={words:[$],width:U};B.push(H)}return B},[])},p=h(r),m=function(F){return F.reduce(function(B,W){return B.width>W.width?B:W})};if(!d)return p;for(var g="…",v=function(F){var B=f.slice(0,F),W=Uee({breakAll:u,style:l,children:B+g}).wordsWithComputedWidth,$=h(W),U=$.length>o||m($).width>Number(i);return[U,$]},x=0,y=f.length-1,w=0,S;x<=y&&w<=f.length-1;){var E=Math.floor((x+y)/2),C=E-1,A=v(C),T=lF(A,2),N=T[0],I=T[1],j=v(E),O=lF(j,1),P=O[0];if(!N&&!P&&(x=E+1),N&&P&&(y=E-1),!N&&P){S=I;break}w++}return S||p},uF=function(e){var r=ft(e)?[]:e.toString().split(Bee);return[{words:r}]},xXe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((r||n)&&!xp.isSsr){var l,u,d=Uee({breakAll:o,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return uF(i);return yXe({breakAll:o,children:i,maxLines:s,style:a},l,u,r,n)}return uF(i)},dF="#808080",qw=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,m=e.verticalAnchor,g=m===void 0?"end":m,v=e.fill,x=v===void 0?dF:v,y=sF(e,dXe),w=b.useMemo(function(){return xXe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),S=y.dx,E=y.dy,C=y.angle,A=y.className,T=y.breakAll,N=sF(y,fXe);if(!on(n)||!on(a))return null;var I=n+(Ee(S)?S:0),j=a+(Ee(E)?E:0),O;switch(g){case"start":O=EA("calc(".concat(u,")"));break;case"middle":O=EA("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:O=EA("calc(".concat(w.length-1," * -").concat(s,")"));break}var P=[];if(f){var M=w[0].width,F=y.width;P.push("scale(".concat((Ee(F)?F/M:1)/M,")"))}return C&&P.push("rotate(".concat(C,", ").concat(I,", ").concat(j,")")),P.length&&(N.transform=P.join(" ")),D.createElement("text",oI({},st(N,!0),{x:I,y:j,className:gt("recharts-text",A),textAnchor:p,fill:x.includes("url")?dF:x}),w.map(function(B,W){var $=B.words.join(T?"":" ");return D.createElement("tspan",{x:I,dy:W===0?O:s,key:"".concat($,"-").concat(W)},$)}))};function dc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wXe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function A3(t){let e,r,n;t.length!==2?(e=dc,r=(s,l)=>dc(t(s),l),n=(s,l)=>t(s)-l):(e=t===dc||t===wXe?t:bXe,r=t,n=t);function i(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;r(s[f],l)<0?u=f+1:d=f}while(u<d)}return u}function a(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;r(s[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,l,u=0,d=s.length){const f=i(s,l,u,d-1);return f>u&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function bXe(){return 0}function Vee(t){return t===null?NaN:+t}function*_Xe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const SXe=A3(dc),V0=SXe.right;A3(Vee).center;class fF extends Map{constructor(e,r=CXe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(hF(this,e))}has(e){return super.has(hF(this,e))}set(e,r){return super.set(EXe(this,e),r)}delete(e){return super.delete(AXe(this,e))}}function hF({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function EXe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function AXe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function CXe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function TXe(t=dc){if(t===dc)return zee;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function zee(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const NXe=Math.sqrt(50),IXe=Math.sqrt(10),PXe=Math.sqrt(2);function Kw(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=NXe?10:a>=IXe?5:a>=PXe?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=r&&r<2?Kw(t,e,r*2):[s,l,u]}function sI(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?Kw(e,t,r):Kw(t,e,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function lI(t,e,r){return e=+e,t=+t,r=+r,Kw(t,e,r)[2]}function cI(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?lI(e,t,r):lI(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function pF(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function mF(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Wee(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?zee:TXe(i);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(e-u*f/l+h)),m=Math.min(n,Math.floor(e+(l-u)*f/l+h));Wee(t,e,p,m,i)}const a=t[e];let o=r,s=n;for(sm(t,r,e),i(t[n],a)>0&&sm(t,r,n);o<s;){for(sm(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?sm(t,r,s):(++s,sm(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function sm(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function OXe(t,e,r){if(t=Float64Array.from(_Xe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return mF(t);if(e>=1)return pF(t);var n,i=(n-1)*e,a=Math.floor(i),o=pF(Wee(t,a).subarray(0,a+1)),s=mF(t.subarray(a+1));return o+(s-o)*(i-a)}}function jXe(t,e,r=Vee){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function kXe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function qa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function fl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const uI=Symbol("implicit");function C3(){var t=new fF,e=[],r=[],n=uI;function i(a){let o=t.get(a);if(o===void 0){if(n!==uI)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new fF;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return C3(e,r).unknown(n)},qa.apply(i,arguments),i}function Tv(){var t=C3().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,l=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,p=i<n,m=p?i:n,g=p?n:i;a=(g-m)/Math.max(1,h-l+u*2),s&&(a=Math.floor(a)),m+=(g-m-a*(h-l))*d,o=a*(1-l),s&&(m=Math.round(m),o=Math.round(o));var v=kXe(h).map(function(x){return m+a*x});return r(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return Tv(e(),[n,i]).round(s).paddingInner(l).paddingOuter(u).align(d)},qa.apply(f(),arguments)}function Hee(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Hee(e())},t}function lg(){return Hee(Tv.apply(null,arguments).paddingInner(1))}function T3(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Gee(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function z0(){}var Nv=.7,Yw=1/Nv,Df="\\s*([+-]?\\d+)\\s*",Iv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",RXe=/^#([0-9a-f]{3,8})$/,DXe=new RegExp(`^rgb\\(${Df},${Df},${Df}\\)$`),MXe=new RegExp(`^rgb\\(${Jo},${Jo},${Jo}\\)$`),LXe=new RegExp(`^rgba\\(${Df},${Df},${Df},${Iv}\\)$`),$Xe=new RegExp(`^rgba\\(${Jo},${Jo},${Jo},${Iv}\\)$`),FXe=new RegExp(`^hsl\\(${Iv},${Jo},${Jo}\\)$`),BXe=new RegExp(`^hsla\\(${Iv},${Jo},${Jo},${Iv}\\)$`),gF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};T3(z0,Pv,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vF,formatHex:vF,formatHex8:UXe,formatHsl:VXe,formatRgb:yF,toString:yF});function vF(){return this.rgb().formatHex()}function UXe(){return this.rgb().formatHex8()}function VXe(){return qee(this).formatHsl()}function yF(){return this.rgb().formatRgb()}function Pv(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=RXe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?xF(e):r===3?new Li(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?l1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?l1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=DXe.exec(t))?new Li(e[1],e[2],e[3],1):(e=MXe.exec(t))?new Li(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=LXe.exec(t))?l1(e[1],e[2],e[3],e[4]):(e=$Xe.exec(t))?l1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=FXe.exec(t))?_F(e[1],e[2]/100,e[3]/100,1):(e=BXe.exec(t))?_F(e[1],e[2]/100,e[3]/100,e[4]):gF.hasOwnProperty(t)?xF(gF[t]):t==="transparent"?new Li(NaN,NaN,NaN,0):null}function xF(t){return new Li(t>>16&255,t>>8&255,t&255,1)}function l1(t,e,r,n){return n<=0&&(t=e=r=NaN),new Li(t,e,r,n)}function zXe(t){return t instanceof z0||(t=Pv(t)),t?(t=t.rgb(),new Li(t.r,t.g,t.b,t.opacity)):new Li}function dI(t,e,r,n){return arguments.length===1?zXe(t):new Li(t,e,r,n??1)}function Li(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}T3(Li,dI,Gee(z0,{brighter(t){return t=t==null?Yw:Math.pow(Yw,t),new Li(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Nv:Math.pow(Nv,t),new Li(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Li(Du(this.r),Du(this.g),Du(this.b),Xw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wF,formatHex:wF,formatHex8:WXe,formatRgb:bF,toString:bF}));function wF(){return`#${Eu(this.r)}${Eu(this.g)}${Eu(this.b)}`}function WXe(){return`#${Eu(this.r)}${Eu(this.g)}${Eu(this.b)}${Eu((isNaN(this.opacity)?1:this.opacity)*255)}`}function bF(){const t=Xw(this.opacity);return`${t===1?"rgb(":"rgba("}${Du(this.r)}, ${Du(this.g)}, ${Du(this.b)}${t===1?")":`, ${t})`}`}function Xw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Du(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Eu(t){return t=Du(t),(t<16?"0":"")+t.toString(16)}function _F(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new uo(t,e,r,n)}function qee(t){if(t instanceof uo)return new uo(t.h,t.s,t.l,t.opacity);if(t instanceof z0||(t=Pv(t)),!t)return new uo;if(t instanceof uo)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new uo(o,s,l,t.opacity)}function HXe(t,e,r,n){return arguments.length===1?qee(t):new uo(t,e,r,n??1)}function uo(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}T3(uo,HXe,Gee(z0,{brighter(t){return t=t==null?Yw:Math.pow(Yw,t),new uo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Nv:Math.pow(Nv,t),new uo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Li(AA(t>=240?t-240:t+120,i,n),AA(t,i,n),AA(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new uo(SF(this.h),c1(this.s),c1(this.l),Xw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Xw(this.opacity);return`${t===1?"hsl(":"hsla("}${SF(this.h)}, ${c1(this.s)*100}%, ${c1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function SF(t){return t=(t||0)%360,t<0?t+360:t}function c1(t){return Math.max(0,Math.min(1,t||0))}function AA(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const N3=t=>()=>t;function GXe(t,e){return function(r){return t+r*e}}function qXe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function KXe(t){return(t=+t)==1?Kee:function(e,r){return r-e?qXe(e,r,t):N3(isNaN(e)?r:e)}}function Kee(t,e){var r=e-t;return r?GXe(t,r):N3(isNaN(t)?e:t)}const EF=function t(e){var r=KXe(e);function n(i,a){var o=r((i=dI(i)).r,(a=dI(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),u=Kee(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=s(d),i.b=l(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function YXe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function XXe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function QXe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=wp(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function ZXe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Qw(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function JXe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=wp(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var fI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,CA=new RegExp(fI.source,"g");function eQe(t){return function(){return t}}function tQe(t){return function(e){return t(e)+""}}function rQe(t,e){var r=fI.lastIndex=CA.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(n=fI.exec(t))&&(i=CA.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Qw(n,i)})),r=CA.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?tQe(l[0].x):eQe(e):(e=l.length,function(u){for(var d=0,f;d<e;++d)s[(f=l[d]).i]=f.x(u);return s.join("")})}function wp(t,e){var r=typeof e,n;return e==null||r==="boolean"?N3(e):(r==="number"?Qw:r==="string"?(n=Pv(e))?(e=n,EF):rQe:e instanceof Pv?EF:e instanceof Date?ZXe:XXe(e)?YXe:Array.isArray(e)?QXe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?JXe:Qw)(t,e)}function I3(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function nQe(t,e){e===void 0&&(e=t,t=wp);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function iQe(t){return function(){return t}}function Zw(t){return+t}var AF=[0,1];function xi(t){return t}function hI(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:iQe(isNaN(e)?NaN:.5)}function aQe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function oQe(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=hI(i,n),a=r(o,a)):(n=hI(n,i),a=r(a,o)),function(s){return a(n(s))}}function sQe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=hI(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var l=V0(t,s,1,n)-1;return a[l](i[l](s))}}function W0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function V_(){var t=AF,e=AF,r=wp,n,i,a,o=xi,s,l,u;function d(){var h=Math.min(t.length,e.length);return o!==xi&&(o=aQe(t[0],t[h-1])),s=h>2?sQe:oQe,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(n),e,r)))(n(o(h)))}return f.invert=function(h){return o(i((u||(u=s(e,t.map(n),Qw)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Zw),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=I3,d()},f.clamp=function(h){return arguments.length?(o=h?!0:xi,d()):o!==xi},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,i=p,d()}}function P3(){return V_()(xi,xi)}function lQe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Jw(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function bh(t){return t=Jw(Math.abs(t)),t?t[1]:NaN}function cQe(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function uQe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var dQe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ov(t){if(!(e=dQe.exec(t)))throw new Error("invalid format: "+t);var e;return new O3({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ov.prototype=O3.prototype;function O3(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}O3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fQe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Yee;function hQe(t,e){var r=Jw(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(Yee=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Jw(t,Math.max(0,e+a-1))[0]}function CF(t,e){var r=Jw(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const TF={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:lQe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>CF(t*100,e),r:CF,s:hQe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function NF(t){return t}var IF=Array.prototype.map,PF=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function pQe(t){var e=t.grouping===void 0||t.thousands===void 0?NF:cQe(IF.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?NF:uQe(IF.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Ov(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,v=f.zero,x=f.width,y=f.comma,w=f.precision,S=f.trim,E=f.type;E==="n"?(y=!0,E="g"):TF[E]||(w===void 0&&(w=12),S=!0,E="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var C=g==="$"?r:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",A=g==="$"?n:/[%p]/.test(E)?o:"",T=TF[E],N=/[defgprs%]/.test(E);w=w===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function I(j){var O=C,P=A,M,F,B;if(E==="c")P=T(j)+P,j="";else{j=+j;var W=j<0||1/j<0;if(j=isNaN(j)?l:T(Math.abs(j),w),S&&(j=fQe(j)),W&&+j==0&&m!=="+"&&(W=!1),O=(W?m==="("?m:s:m==="-"||m==="("?"":m)+O,P=(E==="s"?PF[8+Yee/3]:"")+P+(W&&m==="("?")":""),N){for(M=-1,F=j.length;++M<F;)if(B=j.charCodeAt(M),48>B||B>57){P=(B===46?i+j.slice(M+1):j.slice(M))+P,j=j.slice(0,M);break}}}y&&!v&&(j=e(j,1/0));var $=O.length+j.length+P.length,U=$<x?new Array(x-$+1).join(h):"";switch(y&&v&&(j=e(U+j,U.length?x-P.length:1/0),U=""),p){case"<":j=O+j+P+U;break;case"=":j=O+U+j+P;break;case"^":j=U.slice(0,$=U.length>>1)+O+j+P+U.slice($);break;default:j=U+O+j+P;break}return a(j)}return I.toString=function(){return f+""},I}function d(f,h){var p=u((f=Ov(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(bh(h)/3)))*3,g=Math.pow(10,-m),v=PF[8+m/3];return function(x){return p(g*x)+v}}return{format:u,formatPrefix:d}}var u1,j3,Xee;mQe({thousands:",",grouping:[3],currency:["$",""]});function mQe(t){return u1=pQe(t),j3=u1.format,Xee=u1.formatPrefix,u1}function gQe(t){return Math.max(0,-bh(Math.abs(t)))}function vQe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bh(e)/3)))*3-bh(Math.abs(t)))}function yQe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,bh(e)-bh(t))+1}function Qee(t,e,r,n){var i=cI(t,e,r),a;switch(n=Ov(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=vQe(i,o))&&(n.precision=a),Xee(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=yQe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=gQe(i))&&(n.precision=a-(n.type==="%")*2);break}}return j3(n)}function Hc(t){var e=t.domain;return t.ticks=function(r){var n=e();return sI(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return Qee(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],l,u,d=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);d-- >0;){if(u=lI(o,s,r),u===l)return n[i]=o,n[a]=s,e(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function eb(){var t=P3();return t.copy=function(){return W0(t,eb())},qa.apply(t,arguments),Hc(t)}function Zee(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Zw),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return Zee(t).unknown(e)},t=arguments.length?Array.from(t,Zw):[0,1],Hc(r)}function Jee(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function OF(t){return Math.log(t)}function jF(t){return Math.exp(t)}function xQe(t){return-Math.log(-t)}function wQe(t){return-Math.exp(-t)}function bQe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function _Qe(t){return t===10?bQe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function SQe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function kF(t){return(e,r)=>-t(-e,r)}function k3(t){const e=t(OF,jF),r=e.domain;let n=10,i,a;function o(){return i=SQe(n),a=_Qe(n),r()[0]<0?(i=kF(i),a=kF(a),t(xQe,wQe)):t(OF,jF),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),m,g;const v=s==null?10:+s;let x=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<n;++m)if(g=h<0?m/a(-h):m*a(h),!(g<u)){if(g>d)break;x.push(g)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<u)){if(g>d)break;x.push(g)}x.length*2<v&&(x=sI(u,d,v))}else x=sI(h,p,Math.min(p-h,v)).map(a);return f?x.reverse():x},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Ov(l)).precision==null&&(l.trim=!0),l=j3(l)),s===1/0)return l;const u=Math.max(1,n*s/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},e.nice=()=>r(Jee(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function ete(){const t=k3(V_()).domain([1,10]);return t.copy=()=>W0(t,ete()).base(t.base()),qa.apply(t,arguments),t}function RF(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function DF(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function R3(t){var e=1,r=t(RF(e),DF(e));return r.constant=function(n){return arguments.length?t(RF(e=+n),DF(e)):e},Hc(r)}function tte(){var t=R3(V_());return t.copy=function(){return W0(t,tte()).constant(t.constant())},qa.apply(t,arguments)}function MF(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function EQe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function AQe(t){return t<0?-t*t:t*t}function D3(t){var e=t(xi,xi),r=1;function n(){return r===1?t(xi,xi):r===.5?t(EQe,AQe):t(MF(r),MF(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Hc(e)}function M3(){var t=D3(V_());return t.copy=function(){return W0(t,M3()).exponent(t.exponent())},qa.apply(t,arguments),t}function CQe(){return M3.apply(null,arguments).exponent(.5)}function LF(t){return Math.sign(t)*t*t}function TQe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function rte(){var t=P3(),e=[0,1],r=!1,n;function i(a){var o=TQe(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(LF(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Zw)).map(LF)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return rte(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},qa.apply(i,arguments),Hc(i)}function nte(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=jXe(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[V0(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(dc),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return nte().domain(t).range(e).unknown(n)},qa.apply(a,arguments)}function ite(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[V0(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return ite().domain([t,e]).range(i).unknown(a)},qa.apply(Hc(o),arguments)}function ate(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[V0(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return ate().domain(t).range(e).unknown(r)},qa.apply(i,arguments)}const TA=new Date,NA=new Date;function fn(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>fn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(TA.setTime(+a),NA.setTime(+o),t(TA),t(NA),Math.floor(r(TA,NA))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const tb=fn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);tb.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?fn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):tb);tb.range;const js=1e3,Oa=js*60,ks=Oa*60,rl=ks*24,L3=rl*7,$F=rl*30,IA=rl*365,Au=fn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*js)},(t,e)=>(e-t)/js,t=>t.getUTCSeconds());Au.range;const $3=fn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*js)},(t,e)=>{t.setTime(+t+e*Oa)},(t,e)=>(e-t)/Oa,t=>t.getMinutes());$3.range;const F3=fn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Oa)},(t,e)=>(e-t)/Oa,t=>t.getUTCMinutes());F3.range;const B3=fn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*js-t.getMinutes()*Oa)},(t,e)=>{t.setTime(+t+e*ks)},(t,e)=>(e-t)/ks,t=>t.getHours());B3.range;const U3=fn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ks)},(t,e)=>(e-t)/ks,t=>t.getUTCHours());U3.range;const H0=fn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Oa)/rl,t=>t.getDate()-1);H0.range;const z_=fn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/rl,t=>t.getUTCDate()-1);z_.range;const ote=fn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/rl,t=>Math.floor(t/rl));ote.range;function Ad(t){return fn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Oa)/L3)}const W_=Ad(0),rb=Ad(1),NQe=Ad(2),IQe=Ad(3),_h=Ad(4),PQe=Ad(5),OQe=Ad(6);W_.range;rb.range;NQe.range;IQe.range;_h.range;PQe.range;OQe.range;function Cd(t){return fn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/L3)}const H_=Cd(0),nb=Cd(1),jQe=Cd(2),kQe=Cd(3),Sh=Cd(4),RQe=Cd(5),DQe=Cd(6);H_.range;nb.range;jQe.range;kQe.range;Sh.range;RQe.range;DQe.range;const V3=fn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());V3.range;const z3=fn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());z3.range;const nl=fn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());nl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:fn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});nl.range;const il=fn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());il.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:fn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});il.range;function ste(t,e,r,n,i,a){const o=[[Au,1,js],[Au,5,5*js],[Au,15,15*js],[Au,30,30*js],[a,1,Oa],[a,5,5*Oa],[a,15,15*Oa],[a,30,30*Oa],[i,1,ks],[i,3,3*ks],[i,6,6*ks],[i,12,12*ks],[n,1,rl],[n,2,2*rl],[r,1,L3],[e,1,$F],[e,3,3*$F],[t,1,IA]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:l(u,d,f),m=p?p.range(u,+d+1):[];return h?m.reverse():m}function l(u,d,f){const h=Math.abs(d-u)/f,p=A3(([,,v])=>v).right(o,h);if(p===o.length)return t.every(cI(u/IA,d/IA,f));if(p===0)return tb.every(Math.max(cI(u,d,f),1));const[m,g]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return m.every(g)}return[s,l]}const[MQe,LQe]=ste(il,z3,H_,ote,U3,F3),[$Qe,FQe]=ste(nl,V3,W_,H0,B3,$3);function PA(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function OA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function lm(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function BQe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=cm(i),d=um(i),f=cm(a),h=um(a),p=cm(o),m=um(o),g=cm(s),v=um(s),x=cm(l),y=um(l),w={a:W,A:$,b:U,B:X,c:null,d:WF,e:WF,f:cZe,g:xZe,G:bZe,H:oZe,I:sZe,j:lZe,L:lte,m:uZe,M:dZe,p:H,q:Y,Q:qF,s:KF,S:fZe,u:hZe,U:pZe,V:mZe,w:gZe,W:vZe,x:null,X:null,y:yZe,Y:wZe,Z:_Ze,"%":GF},S={a:Q,A:ue,b:de,B:he,c:null,d:HF,e:HF,f:CZe,g:MZe,G:$Ze,H:SZe,I:EZe,j:AZe,L:ute,m:TZe,M:NZe,p:pe,q:J,Q:qF,s:KF,S:IZe,u:PZe,U:OZe,V:jZe,w:kZe,W:RZe,x:null,X:null,y:DZe,Y:LZe,Z:FZe,"%":GF},E={a:I,A:j,b:O,B:P,c:M,d:VF,e:VF,f:rZe,g:UF,G:BF,H:zF,I:zF,j:ZQe,L:tZe,m:QQe,M:JQe,p:N,q:XQe,Q:iZe,s:aZe,S:eZe,u:HQe,U:GQe,V:qQe,w:WQe,W:KQe,x:F,X:B,y:UF,Y:BF,Z:YQe,"%":nZe};w.x=C(r,w),w.X=C(n,w),w.c=C(e,w),S.x=C(r,S),S.X=C(n,S),S.c=C(e,S);function C(re,L){return function(q){var G=[],ye=-1,me=0,ie=re.length,ne,Oe,Z;for(q instanceof Date||(q=new Date(+q));++ye<ie;)re.charCodeAt(ye)===37&&(G.push(re.slice(me,ye)),(Oe=FF[ne=re.charAt(++ye)])!=null?ne=re.charAt(++ye):Oe=ne==="e"?" ":"0",(Z=L[ne])&&(ne=Z(q,Oe)),G.push(ne),me=ye+1);return G.push(re.slice(me,ye)),G.join("")}}function A(re,L){return function(q){var G=lm(1900,void 0,1),ye=T(G,re,q+="",0),me,ie;if(ye!=q.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(L&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(me=OA(lm(G.y,0,1)),ie=me.getUTCDay(),me=ie>4||ie===0?nb.ceil(me):nb(me),me=z_.offset(me,(G.V-1)*7),G.y=me.getUTCFullYear(),G.m=me.getUTCMonth(),G.d=me.getUTCDate()+(G.w+6)%7):(me=PA(lm(G.y,0,1)),ie=me.getDay(),me=ie>4||ie===0?rb.ceil(me):rb(me),me=H0.offset(me,(G.V-1)*7),G.y=me.getFullYear(),G.m=me.getMonth(),G.d=me.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),ie="Z"in G?OA(lm(G.y,0,1)).getUTCDay():PA(lm(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(ie+5)%7:G.w+G.U*7-(ie+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,OA(G)):PA(G)}}function T(re,L,q,G){for(var ye=0,me=L.length,ie=q.length,ne,Oe;ye<me;){if(G>=ie)return-1;if(ne=L.charCodeAt(ye++),ne===37){if(ne=L.charAt(ye++),Oe=E[ne in FF?L.charAt(ye++):ne],!Oe||(G=Oe(re,q,G))<0)return-1}else if(ne!=q.charCodeAt(G++))return-1}return G}function N(re,L,q){var G=u.exec(L.slice(q));return G?(re.p=d.get(G[0].toLowerCase()),q+G[0].length):-1}function I(re,L,q){var G=p.exec(L.slice(q));return G?(re.w=m.get(G[0].toLowerCase()),q+G[0].length):-1}function j(re,L,q){var G=f.exec(L.slice(q));return G?(re.w=h.get(G[0].toLowerCase()),q+G[0].length):-1}function O(re,L,q){var G=x.exec(L.slice(q));return G?(re.m=y.get(G[0].toLowerCase()),q+G[0].length):-1}function P(re,L,q){var G=g.exec(L.slice(q));return G?(re.m=v.get(G[0].toLowerCase()),q+G[0].length):-1}function M(re,L,q){return T(re,e,L,q)}function F(re,L,q){return T(re,r,L,q)}function B(re,L,q){return T(re,n,L,q)}function W(re){return o[re.getDay()]}function $(re){return a[re.getDay()]}function U(re){return l[re.getMonth()]}function X(re){return s[re.getMonth()]}function H(re){return i[+(re.getHours()>=12)]}function Y(re){return 1+~~(re.getMonth()/3)}function Q(re){return o[re.getUTCDay()]}function ue(re){return a[re.getUTCDay()]}function de(re){return l[re.getUTCMonth()]}function he(re){return s[re.getUTCMonth()]}function pe(re){return i[+(re.getUTCHours()>=12)]}function J(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var L=C(re+="",w);return L.toString=function(){return re},L},parse:function(re){var L=A(re+="",!1);return L.toString=function(){return re},L},utcFormat:function(re){var L=C(re+="",S);return L.toString=function(){return re},L},utcParse:function(re){var L=A(re+="",!0);return L.toString=function(){return re},L}}}var FF={"-":"",_:" ",0:"0"},_n=/^\s*\d+/,UQe=/^%/,VQe=/[\\^$*+?|[\]().{}]/g;function St(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function zQe(t){return t.replace(VQe,"\\$&")}function cm(t){return new RegExp("^(?:"+t.map(zQe).join("|")+")","i")}function um(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function WQe(t,e,r){var n=_n.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function HQe(t,e,r){var n=_n.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function GQe(t,e,r){var n=_n.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function qQe(t,e,r){var n=_n.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function KQe(t,e,r){var n=_n.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function BF(t,e,r){var n=_n.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function UF(t,e,r){var n=_n.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function YQe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function XQe(t,e,r){var n=_n.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function QQe(t,e,r){var n=_n.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function VF(t,e,r){var n=_n.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function ZQe(t,e,r){var n=_n.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function zF(t,e,r){var n=_n.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function JQe(t,e,r){var n=_n.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function eZe(t,e,r){var n=_n.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function tZe(t,e,r){var n=_n.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function rZe(t,e,r){var n=_n.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function nZe(t,e,r){var n=UQe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function iZe(t,e,r){var n=_n.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function aZe(t,e,r){var n=_n.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function WF(t,e){return St(t.getDate(),e,2)}function oZe(t,e){return St(t.getHours(),e,2)}function sZe(t,e){return St(t.getHours()%12||12,e,2)}function lZe(t,e){return St(1+H0.count(nl(t),t),e,3)}function lte(t,e){return St(t.getMilliseconds(),e,3)}function cZe(t,e){return lte(t,e)+"000"}function uZe(t,e){return St(t.getMonth()+1,e,2)}function dZe(t,e){return St(t.getMinutes(),e,2)}function fZe(t,e){return St(t.getSeconds(),e,2)}function hZe(t){var e=t.getDay();return e===0?7:e}function pZe(t,e){return St(W_.count(nl(t)-1,t),e,2)}function cte(t){var e=t.getDay();return e>=4||e===0?_h(t):_h.ceil(t)}function mZe(t,e){return t=cte(t),St(_h.count(nl(t),t)+(nl(t).getDay()===4),e,2)}function gZe(t){return t.getDay()}function vZe(t,e){return St(rb.count(nl(t)-1,t),e,2)}function yZe(t,e){return St(t.getFullYear()%100,e,2)}function xZe(t,e){return t=cte(t),St(t.getFullYear()%100,e,2)}function wZe(t,e){return St(t.getFullYear()%1e4,e,4)}function bZe(t,e){var r=t.getDay();return t=r>=4||r===0?_h(t):_h.ceil(t),St(t.getFullYear()%1e4,e,4)}function _Ze(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+St(e/60|0,"0",2)+St(e%60,"0",2)}function HF(t,e){return St(t.getUTCDate(),e,2)}function SZe(t,e){return St(t.getUTCHours(),e,2)}function EZe(t,e){return St(t.getUTCHours()%12||12,e,2)}function AZe(t,e){return St(1+z_.count(il(t),t),e,3)}function ute(t,e){return St(t.getUTCMilliseconds(),e,3)}function CZe(t,e){return ute(t,e)+"000"}function TZe(t,e){return St(t.getUTCMonth()+1,e,2)}function NZe(t,e){return St(t.getUTCMinutes(),e,2)}function IZe(t,e){return St(t.getUTCSeconds(),e,2)}function PZe(t){var e=t.getUTCDay();return e===0?7:e}function OZe(t,e){return St(H_.count(il(t)-1,t),e,2)}function dte(t){var e=t.getUTCDay();return e>=4||e===0?Sh(t):Sh.ceil(t)}function jZe(t,e){return t=dte(t),St(Sh.count(il(t),t)+(il(t).getUTCDay()===4),e,2)}function kZe(t){return t.getUTCDay()}function RZe(t,e){return St(nb.count(il(t)-1,t),e,2)}function DZe(t,e){return St(t.getUTCFullYear()%100,e,2)}function MZe(t,e){return t=dte(t),St(t.getUTCFullYear()%100,e,2)}function LZe(t,e){return St(t.getUTCFullYear()%1e4,e,4)}function $Ze(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Sh(t):Sh.ceil(t),St(t.getUTCFullYear()%1e4,e,4)}function FZe(){return"+0000"}function GF(){return"%"}function qF(t){return+t}function KF(t){return Math.floor(+t/1e3)}var Fd,fte,hte;BZe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function BZe(t){return Fd=BQe(t),fte=Fd.format,Fd.parse,hte=Fd.utcFormat,Fd.utcParse,Fd}function UZe(t){return new Date(t)}function VZe(t){return t instanceof Date?+t:+new Date(+t)}function W3(t,e,r,n,i,a,o,s,l,u){var d=P3(),f=d.invert,h=d.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),y=u("%b %d"),w=u("%B"),S=u("%Y");function E(C){return(l(C)<C?p:s(C)<C?m:o(C)<C?g:a(C)<C?v:n(C)<C?i(C)<C?x:y:r(C)<C?w:S)(C)}return d.invert=function(C){return new Date(f(C))},d.domain=function(C){return arguments.length?h(Array.from(C,VZe)):h().map(UZe)},d.ticks=function(C){var A=h();return t(A[0],A[A.length-1],C??10)},d.tickFormat=function(C,A){return A==null?E:u(A)},d.nice=function(C){var A=h();return(!C||typeof C.range!="function")&&(C=e(A[0],A[A.length-1],C??10)),C?h(Jee(A,C)):d},d.copy=function(){return W0(d,W3(t,e,r,n,i,a,o,s,l,u))},d}function zZe(){return qa.apply(W3($Qe,FQe,nl,V3,W_,H0,B3,$3,Au,fte).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function WZe(){return qa.apply(W3(MQe,LQe,il,z3,H_,z_,U3,F3,Au,hte).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function G_(){var t=0,e=1,r,n,i,a,o=xi,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-r)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,o=f(p,m),u):[o(0),o(1)]}}return u.range=d(wp),u.rangeRound=d(I3),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),u}}function Gc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function pte(){var t=Hc(G_()(xi));return t.copy=function(){return Gc(t,pte())},fl.apply(t,arguments)}function mte(){var t=k3(G_()).domain([1,10]);return t.copy=function(){return Gc(t,mte()).base(t.base())},fl.apply(t,arguments)}function gte(){var t=R3(G_());return t.copy=function(){return Gc(t,gte()).constant(t.constant())},fl.apply(t,arguments)}function H3(){var t=D3(G_());return t.copy=function(){return Gc(t,H3()).exponent(t.exponent())},fl.apply(t,arguments)}function HZe(){return H3.apply(null,arguments).exponent(.5)}function vte(){var t=[],e=xi;function r(n){if(n!=null&&!isNaN(n=+n))return e((V0(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(dc),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>OXe(t,a/n))},r.copy=function(){return vte(e).domain(t)},fl.apply(r,arguments)}function q_(){var t=0,e=.5,r=1,n=1,i,a,o,s,l,u=xi,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(n*g<n*a?s:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,r]=g,i=d(t=+t),a=d(e=+e),o=d(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p):[t,e,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(v){var x,y,w;return arguments.length?([x,y,w]=v,u=nQe(g,[x,y,w]),p):[u(0),u(.5),u(1)]}}return p.range=m(wp),p.rangeRound=m(I3),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,i=g(t),a=g(e),o=g(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function yte(){var t=Hc(q_()(xi));return t.copy=function(){return Gc(t,yte())},fl.apply(t,arguments)}function xte(){var t=k3(q_()).domain([.1,1,10]);return t.copy=function(){return Gc(t,xte()).base(t.base())},fl.apply(t,arguments)}function wte(){var t=R3(q_());return t.copy=function(){return Gc(t,wte()).constant(t.constant())},fl.apply(t,arguments)}function G3(){var t=D3(q_());return t.copy=function(){return Gc(t,G3()).exponent(t.exponent())},fl.apply(t,arguments)}function GZe(){return G3.apply(null,arguments).exponent(.5)}const YF=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Tv,scaleDiverging:yte,scaleDivergingLog:xte,scaleDivergingPow:G3,scaleDivergingSqrt:GZe,scaleDivergingSymlog:wte,scaleIdentity:Zee,scaleImplicit:uI,scaleLinear:eb,scaleLog:ete,scaleOrdinal:C3,scalePoint:lg,scalePow:M3,scaleQuantile:nte,scaleQuantize:ite,scaleRadial:rte,scaleSequential:pte,scaleSequentialLog:mte,scaleSequentialPow:H3,scaleSequentialQuantile:vte,scaleSequentialSqrt:HZe,scaleSequentialSymlog:gte,scaleSqrt:CQe,scaleSymlog:tte,scaleThreshold:ate,scaleTime:zZe,scaleUtc:WZe,tickFormat:Qee},Symbol.toStringTag,{value:"Module"}));var qZe=lp;function KZe(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],o=e(a);if(o!=null&&(s===void 0?o===o&&!qZe(o):r(o,s)))var s=o,l=a}return l}var bte=KZe;function YZe(t,e){return t>e}var XZe=YZe,QZe=bte,ZZe=XZe,JZe=mp;function eJe(t){return t&&t.length?QZe(t,JZe,ZZe):void 0}var tJe=eJe;const Hl=dt(tJe);function rJe(t,e){return t<e}var nJe=rJe,iJe=bte,aJe=nJe,oJe=mp;function sJe(t){return t&&t.length?iJe(t,oJe,aJe):void 0}var lJe=sJe;const K_=dt(lJe);var cJe=c_,uJe=dl,dJe=sZ,fJe=oi;function hJe(t,e){var r=fJe(t)?cJe:dJe;return r(t,uJe(e))}var pJe=hJe,mJe=zk,gJe=pJe;function vJe(t,e){return mJe(gJe(t,e),1)}var yJe=vJe;const xJe=dt(yJe);var bp=1e9,wJe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},K3,vr=!0,Ua="[DecimalError] ",Mu=Ua+"Invalid argument: ",q3=Ua+"Exponent out of range: ",_p=Math.floor,hu=Math.pow,bJe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,na,gn=1e7,ar=7,_te=9007199254740991,ib=_p(_te/ar),De={};De.absoluteValue=De.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};De.comparedTo=De.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};De.decimalPlaces=De.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*ar;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};De.dividedBy=De.div=function(t){return Vs(this,new this.constructor(t))};De.dividedToIntegerBy=De.idiv=function(t){var e=this,r=e.constructor;return zt(Vs(e,new r(t),0,1),r.precision)};De.equals=De.eq=function(t){return!this.cmp(t)};De.exponent=function(){return Gr(this)};De.greaterThan=De.gt=function(t){return this.cmp(t)>0};De.greaterThanOrEqualTo=De.gte=function(t){return this.cmp(t)>=0};De.isInteger=De.isint=function(){return this.e>this.d.length-2};De.isNegative=De.isneg=function(){return this.s<0};De.isPositive=De.ispos=function(){return this.s>0};De.isZero=function(){return this.s===0};De.lessThan=De.lt=function(t){return this.cmp(t)<0};De.lessThanOrEqualTo=De.lte=function(t){return this.cmp(t)<1};De.logarithm=De.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(na))throw Error(Ua+"NaN");if(r.s<1)throw Error(Ua+(r.s?"NaN":"-Infinity"));return r.eq(na)?new n(0):(vr=!1,e=Vs(jv(r,a),jv(t,a),a),vr=!0,zt(e,i))};De.minus=De.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Ate(e,t):Ste(e,(t.s=-t.s,t))};De.modulo=De.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Ua+"NaN");return r.s?(vr=!1,e=Vs(r,t,0,1).times(t),vr=!0,r.minus(e)):zt(new n(r),i)};De.naturalExponential=De.exp=function(){return Ete(this)};De.naturalLogarithm=De.ln=function(){return jv(this)};De.negated=De.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};De.plus=De.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Ste(e,t):Ate(e,(t.s=-t.s,t))};De.precision=De.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Mu+t);if(e=Gr(i)+1,n=i.d.length-1,r=n*ar+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};De.squareRoot=De.sqrt=function(){var t,e,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Ua+"NaN")}for(t=Gr(s),vr=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Vo(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=_p((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(Vs(s,a,o+2)).times(.5),Vo(a.d).slice(0,o)===(e=Vo(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(zt(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return vr=!0,zt(n,r)};De.times=De.mul=function(t){var e,r,n,i,a,o,s,l,u,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,l=h.length,u=p.length,l<u&&(a=h,h=p,p=a,o=l,l=u,u=o),a=[],o=l+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)s=a[i]+p[n]*h[i-n-1]+e,a[i--]=s%gn|0,e=s/gn|0;a[i]=(a[i]+e)%gn|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,vr?zt(t,f.precision):t};De.toDecimalPlaces=De.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(cs(t,0,bp),e===void 0?e=n.rounding:cs(e,0,8),zt(r,t+Gr(r)+1,e))};De.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=cd(n,!0):(cs(t,0,bp),e===void 0?e=i.rounding:cs(e,0,8),n=zt(new i(n),t+1,e),r=cd(n,!0,t+1)),r};De.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?cd(i):(cs(t,0,bp),e===void 0?e=a.rounding:cs(e,0,8),n=zt(new a(i),t+Gr(i)+1,e),r=cd(n.abs(),!1,t+Gr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};De.toInteger=De.toint=function(){var t=this,e=t.constructor;return zt(new e(t),Gr(t)+1,e.rounding)};De.toNumber=function(){return+this};De.toPower=De.pow=function(t){var e,r,n,i,a,o,s=this,l=s.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(na);if(s=new l(s),!s.s){if(t.s<1)throw Error(Ua+"Infinity");return s}if(s.eq(na))return s;if(n=l.precision,t.eq(na))return zt(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=d<0?-d:d)<=_te){for(i=new l(na),e=Math.ceil(n/ar+4),vr=!1;r%2&&(i=i.times(s),QF(i.d,e)),r=_p(r/2),r!==0;)s=s.times(s),QF(s.d,e);return vr=!0,t.s<0?new l(na).div(i):zt(i,n)}}else if(a<0)throw Error(Ua+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,vr=!1,i=t.times(jv(s,n+u)),vr=!0,i=Ete(i),i.s=a,i};De.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Gr(i),n=cd(i,r<=a.toExpNeg||r>=a.toExpPos)):(cs(t,1,bp),e===void 0?e=a.rounding:cs(e,0,8),i=zt(new a(i),t,e),r=Gr(i),n=cd(i,t<=r||r<=a.toExpNeg,t)),n};De.toSignificantDigits=De.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(cs(t,1,bp),e===void 0?e=n.rounding:cs(e,0,8)),zt(new n(r),t,e)};De.toString=De.valueOf=De.val=De.toJSON=De[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Gr(t),r=t.constructor;return cd(t,e<=r.toExpNeg||e>=r.toExpPos)};function Ste(t,e){var r,n,i,a,o,s,l,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),vr?zt(e,f):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=u.length):(n=u,i=o,s=l.length),o=Math.ceil(f/ar),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/gn|0,l[a]%=gn;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,vr?zt(e,f):e}function cs(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Mu+t)}function Vo(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=ar-n.length,r&&(a+=jl(r)),a+=n;o=t[e],n=o+"",r=ar-n.length,r&&(a+=jl(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Vs=function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%gn|0,o=a/gn|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*gn+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,u,d,f,h,p,m,g,v,x,y,w,S,E,C,A,T,N=n.constructor,I=n.s==i.s?1:-1,j=n.d,O=i.d;if(!n.s)return new N(n);if(!i.s)throw Error(Ua+"Division by zero");for(l=n.e-i.e,A=O.length,E=j.length,p=new N(I),m=p.d=[],u=0;O[u]==(j[u]||0);)++u;if(O[u]>(j[u]||0)&&--l,a==null?y=a=N.precision:o?y=a+(Gr(n)-Gr(i))+1:y=a,y<0)return new N(0);if(y=y/ar+2|0,u=0,A==1)for(d=0,O=O[0],y++;(u<E||d)&&y--;u++)w=d*gn+(j[u]||0),m[u]=w/O|0,d=w%O|0;else{for(d=gn/(O[0]+1)|0,d>1&&(O=t(O,d),j=t(j,d),A=O.length,E=j.length),S=A,g=j.slice(0,A),v=g.length;v<A;)g[v++]=0;T=O.slice(),T.unshift(0),C=O[0],O[1]>=gn/2&&++C;do d=0,s=e(O,g,A,v),s<0?(x=g[0],A!=v&&(x=x*gn+(g[1]||0)),d=x/C|0,d>1?(d>=gn&&(d=gn-1),f=t(O,d),h=f.length,v=g.length,s=e(f,g,h,v),s==1&&(d--,r(f,A<h?T:O,h))):(d==0&&(s=d=1),f=O.slice()),h=f.length,h<v&&f.unshift(0),r(g,f,v),s==-1&&(v=g.length,s=e(O,g,A,v),s<1&&(d++,r(g,A<v?T:O,v))),v=g.length):s===0&&(d++,g=[0]),m[u++]=d,s&&g[0]?g[v++]=j[S]||0:(g=[j[S]],v=1);while((S++<E||g[0]!==void 0)&&y--)}return m[0]||m.shift(),p.e=l,zt(p,o?a+Gr(p)+1:a)}}();function Ete(t,e){var r,n,i,a,o,s,l=0,u=0,d=t.constructor,f=d.precision;if(Gr(t)>16)throw Error(q3+Gr(t));if(!t.s)return new d(na);for(vr=!1,s=f,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(hu(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new d(na),d.precision=s;;){if(i=zt(i.times(t),s),r=r.times(++l),o=a.plus(Vs(i,r,s)),Vo(o.d).slice(0,s)===Vo(a.d).slice(0,s)){for(;u--;)a=zt(a.times(a),s);return d.precision=f,e==null?(vr=!0,zt(a,f)):a}a=o}}function Gr(t){for(var e=t.e*ar,r=t.d[0];r>=10;r/=10)e++;return e}function jA(t,e,r){if(e>t.LN10.sd())throw vr=!0,r&&(t.precision=r),Error(Ua+"LN10 precision limit exceeded");return zt(new t(t.LN10),e)}function jl(t){for(var e="";t--;)e+="0";return e}function jv(t,e){var r,n,i,a,o,s,l,u,d,f=1,h=10,p=t,m=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(Ua+(p.s?"NaN":"-Infinity"));if(p.eq(na))return new g(0);if(e==null?(vr=!1,u=v):u=e,p.eq(10))return e==null&&(vr=!0),jA(g,u);if(u+=h,g.precision=u,r=Vo(m),n=r.charAt(0),a=Gr(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Vo(p.d),n=r.charAt(0),f++;a=Gr(p),n>1?(p=new g("0."+r),a++):p=new g(n+"."+r.slice(1))}else return l=jA(g,u+2,v).times(a+""),p=jv(new g(n+"."+r.slice(1)),u-h).plus(l),g.precision=v,e==null?(vr=!0,zt(p,v)):p;for(s=o=p=Vs(p.minus(na),p.plus(na),u),d=zt(p.times(p),u),i=3;;){if(o=zt(o.times(d),u),l=s.plus(Vs(o,new g(i),u)),Vo(l.d).slice(0,u)===Vo(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(jA(g,u+2,v).times(a+""))),s=Vs(s,new g(f),u),g.precision=v,e==null?(vr=!0,zt(s,v)):s;s=l,i+=2}}function XF(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=_p(r/ar),t.d=[],n=(r+1)%ar,r<0&&(n+=ar),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=ar;n<i;)t.d.push(+e.slice(n,n+=ar));e=e.slice(n),n=ar-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),vr&&(t.e>ib||t.e<-ib))throw Error(q3+r)}else t.s=0,t.e=0,t.d=[0];return t}function zt(t,e,r){var n,i,a,o,s,l,u,d,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=ar,i=e,u=f[d=0];else{if(d=Math.ceil((n+1)/ar),a=f.length,d>=a)return t;for(u=a=f[d],o=1;a>=10;a/=10)o++;n%=ar,i=n-ar+o}if(r!==void 0&&(a=hu(10,o-i-1),s=u/a%10|0,l=e<0||f[d+1]!==void 0||u%a,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?u/hu(10,o-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=Gr(t),f.length=1,e=e-a-1,f[0]=hu(10,(ar-e%ar)%ar),t.e=_p(-e/ar)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=hu(10,ar-n),f[d]=i>0?(u/hu(10,o-i)%hu(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==gn&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=gn)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(vr&&(t.e>ib||t.e<-ib))throw Error(q3+Gr(t));return t}function Ate(t,e){var r,n,i,a,o,s,l,u,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),vr?zt(e,p):e;if(l=t.d,f=e.d,n=e.e,u=t.e,l=l.slice(),o=u-n,o){for(d=o<0,d?(r=l,o=-o,s=f.length):(r=f,n=u,s=l.length),i=Math.max(Math.ceil(p/ar),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}o=0}for(d&&(r=l,l=f,f=r,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=gn-1;--l[a],l[i]+=gn}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,vr?zt(e,p):e):new h(0)}function cd(t,e,r){var n,i=Gr(t),a=Vo(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+jl(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+jl(-i-1)+a,r&&(n=r-o)>0&&(a+=jl(n))):i>=o?(a+=jl(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+jl(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=jl(n))),t.s<0?"-"+a:a}function QF(t,e){if(t.length>e)return t.length=e,!0}function Cte(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Mu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return XF(o,a.toString())}else if(typeof a!="string")throw Error(Mu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,bJe.test(a))XF(o,a);else throw Error(Mu+a)}if(i.prototype=De,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Cte,i.config=i.set=_Je,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function _Je(t){if(!t||typeof t!="object")throw Error(Ua+"Object expected");var e,r,n,i=["precision",1,bp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(_p(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Mu+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Mu+r+": "+n);return this}var K3=Cte(wJe);na=new K3(1);const Lt=K3;function SJe(t){return TJe(t)||CJe(t)||AJe(t)||EJe()}function EJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AJe(t,e){if(t){if(typeof t=="string")return pI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pI(t,e)}}function CJe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function TJe(t){if(Array.isArray(t))return pI(t)}function pI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var NJe=function(e){return e},Tte={},Nte=function(e){return e===Tte},ZF=function(e){return function r(){return arguments.length===0||arguments.length===1&&Nte(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},IJe=function t(e,r){return e===1?r:ZF(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==Tte}).length;return o>=e?r.apply(void 0,i):t(e-o,ZF(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=i.map(function(f){return Nte(f)?l.shift():f});return r.apply(void 0,SJe(d).concat(l))}))})},Y_=function(e){return IJe(e.length,e)},mI=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},PJe=Y_(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),OJe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return NJe;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},gI=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Ite=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function jJe(t){var e;return t===0?e=1:e=Math.floor(new Lt(t).abs().log(10).toNumber())+1,e}function kJe(t,e,r){for(var n=new Lt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var RJe=Y_(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),DJe=Y_(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),MJe=Y_(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const X_={rangeStep:kJe,getDigitCount:jJe,interpolateNumber:RJe,uninterpolateNumber:DJe,uninterpolateTruncation:MJe};function vI(t){return FJe(t)||$Je(t)||Pte(t)||LJe()}function LJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Je(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function FJe(t){if(Array.isArray(t))return yI(t)}function kv(t,e){return VJe(t)||UJe(t,e)||Pte(t,e)||BJe()}function BJe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pte(t,e){if(t){if(typeof t=="string")return yI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yI(t,e)}}function yI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UJe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function VJe(t){if(Array.isArray(t))return t}function Ote(t){var e=kv(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function jte(t,e,r){if(t.lte(0))return new Lt(0);var n=X_.getDigitCount(t.toNumber()),i=new Lt(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new Lt(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return e?l:new Lt(Math.ceil(l))}function zJe(t,e,r){var n=1,i=new Lt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Lt(10).pow(X_.getDigitCount(t)-1),i=new Lt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Lt(Math.floor(t)))}else t===0?i=new Lt(Math.floor((e-1)/2)):r||(i=new Lt(Math.floor(t)));var o=Math.floor((e-1)/2),s=OJe(PJe(function(l){return i.add(new Lt(l-o).mul(n)).toNumber()}),mI);return s(0,e)}function kte(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Lt(0),tickMin:new Lt(0),tickMax:new Lt(0)};var a=jte(new Lt(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new Lt(0):(o=new Lt(t).add(e).div(2),o=o.sub(new Lt(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new Lt(e).sub(o).div(a).toNumber()),u=s+l+1;return u>r?kte(t,e,r,n,i+1):(u<r&&(l=e>0?l+(r-u):l,s=e>0?s:s+(r-u)),{step:a,tickMin:o.sub(new Lt(s).mul(a)),tickMax:o.add(new Lt(l).mul(a))})}function WJe(t){var e=kv(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=Ote([r,n]),l=kv(s,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(vI(mI(0,i-1).map(function(){return 1/0}))):[].concat(vI(mI(0,i-1).map(function(){return-1/0})),[d]);return r>n?gI(f):f}if(u===d)return zJe(u,i,a);var h=kte(u,d,o,a),p=h.step,m=h.tickMin,g=h.tickMax,v=X_.rangeStep(m,g.add(new Lt(.1).mul(p)),p);return r>n?gI(v):v}function HJe(t,e){var r=kv(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Ote([n,i]),s=kv(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var d=Math.max(e,2),f=jte(new Lt(u).sub(l).div(d-1),a,0),h=[].concat(vI(X_.rangeStep(new Lt(l),new Lt(u).sub(new Lt(.99).mul(f)),f)),[u]);return n>i?gI(h):h}var GJe=Ite(WJe),qJe=Ite(HJe),KJe="Invariant failed";function ud(t,e){throw new Error(KJe)}var YJe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function ab(){return ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ab.apply(this,arguments)}function XJe(t,e){return eet(t)||JJe(t,e)||ZJe(t,e)||QJe()}function QJe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZJe(t,e){if(t){if(typeof t=="string")return JF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JF(t,e)}}function JF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JJe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function eet(t){if(Array.isArray(t))return t}function tet(t,e){if(t==null)return{};var r=ret(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ret(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function net(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iet(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mte(n.key),n)}}function aet(t,e,r){return e&&iet(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oet(t,e,r){return e=ob(e),set(t,Rte()?Reflect.construct(e,r||[],ob(t).constructor):e.apply(t,r))}function set(t,e){if(e&&(Eh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cet(t)}function cet(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rte=function(){return!!t})()}function ob(t){return ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ob(t)}function uet(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xI(t,e)}function xI(t,e){return xI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xI(t,e)}function Dte(t,e,r){return e=Mte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mte(t){var e=det(t,"string");return Eh(e)=="symbol"?e:e+""}function det(t,e){if(Eh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Q_=function(t){function e(){return net(this,e),oet(this,e,arguments)}return uet(e,t),aet(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=tet(n,YJe),p=st(h,!1);this.props.direction==="x"&&d.type!=="number"&&ud();var m=l.map(function(g){var v=u(g,s),x=v.x,y=v.y,w=v.value,S=v.errorVal;if(!S)return null;var E=[],C,A;if(Array.isArray(S)){var T=XJe(S,2);C=T[0],A=T[1]}else C=A=S;if(a==="vertical"){var N=d.scale,I=y+i,j=I+o,O=I-o,P=N(w-C),M=N(w+A);E.push({x1:M,y1:j,x2:M,y2:O}),E.push({x1:P,y1:I,x2:M,y2:I}),E.push({x1:P,y1:j,x2:P,y2:O})}else if(a==="horizontal"){var F=f.scale,B=x+i,W=B-o,$=B+o,U=F(w-C),X=F(w+A);E.push({x1:W,y1:X,x2:$,y2:X}),E.push({x1:B,y1:U,x2:B,y2:X}),E.push({x1:W,y1:U,x2:$,y2:U})}return D.createElement(br,ab({className:"recharts-errorBar",key:"bar-".concat(E.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},p),E.map(function(H){return D.createElement("line",ab({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return D.createElement(br,{className:"recharts-errorBars"},m)}}])}(D.Component);Dte(Q_,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Dte(Q_,"displayName","ErrorBar");function Rv(t){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rv(t)}function e9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ru(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e9(Object(r),!0).forEach(function(n){fet(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fet(t,e,r){return e=het(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function het(t){var e=pet(t,"string");return Rv(e)=="symbol"?e:e+""}function pet(t,e){if(Rv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lte=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=ta(r,Rf);if(!o)return null;var s=Rf.defaultProps,l=s!==void 0?ru(ru({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?ru(ru({},h),f.props):{},m=p.dataKey,g=p.name,v=p.legendType,x=p.hide;return{inactive:x,dataKey:m,type:l.iconType||v||"square",color:Y3(f),value:g||m,payload:p}}),ru(ru(ru({},l),Rf.getWithHeight(o,i)),{},{payload:u,item:o})};function Dv(t){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(t)}function t9(t){return yet(t)||vet(t)||get(t)||met()}function met(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function get(t,e){if(t){if(typeof t=="string")return wI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wI(t,e)}}function vet(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yet(t){if(Array.isArray(t))return wI(t)}function wI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function r9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ir(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r9(Object(r),!0).forEach(function(n){Mf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mf(t,e,r){return e=xet(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xet(t){var e=wet(t,"string");return Dv(e)=="symbol"?e:e+""}function wet(t,e){if(Dv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ma(t,e,r){return ft(t)||ft(e)?r:on(e)?Ra(t,e,r):Je(e)?e(t):r}function cg(t,e,r,n){var i=xJe(t,function(s){return ma(s,e)});if(r==="number"){var a=i.filter(function(s){return Ee(s)||parseFloat(s)});return a.length?[K_(a),Hl(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!ft(s)}):i;return o.map(function(s){return on(s)||s instanceof Date?s:""})}var bet=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var d=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(mo(f-d)!==mo(h-f)){var m=[];if(mo(h-f)===mo(l[1]-l[0])){p=h;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+d)/2),m[1]=Math.max(g,(g+d)/2)}else{p=d;var v=h+l[1]-l[0];m[0]=Math.min(f,(v+f)/2),m[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>x[0]&&e<=x[1]||e>=m[0]&&e<=m[1]){o=i[u].index;break}}else{var y=Math.min(d,h),w=Math.max(d,h);if(e>(y+f)/2&&e<=(w+f)/2){o=i[u].index;break}}}else for(var S=0;S<s;S++)if(S===0&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<s-1&&e>(n[S].coordinate+n[S-1].coordinate)/2&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S===s-1&&e>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},Y3=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ir(Ir({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},_et=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var d=a[s[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],g=m.items,v=m.cateAxisId,x=g.filter(function(A){return Bs(A.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,w=y!==void 0?Ir(Ir({},y),x[0].props):x[0].props,S=w.barSize,E=w[v];o[E]||(o[E]=[]);var C=ft(S)?r:S;o[E].push({item:x[0],stackList:x.slice(1),barSize:ft(C)?void 0:ld(C,n,0)})}}return o},Eet=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=ld(r,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/l,m=o.reduce(function(S,E){return S+E.barSize||0},0);m+=(l-1)*u,m>=i&&(m-=(l-1)*u,u=0),m>=i&&p>0&&(h=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,v={offset:g-u,size:0};d=o.reduce(function(S,E){var C={item:E.item,position:{offset:v.offset+v.size+u,size:h?p:E.barSize}},A=[].concat(t9(S),[C]);return v=A[A.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){A.push({item:T,position:v})}),A},f)}else{var x=ld(n,i,0,!0);i-2*x-(l-1)*u<=0&&(u=0);var y=(i-2*x-(l-1)*u)/l;y>1&&(y>>=0);var w=s===+s?Math.min(y,s):y;d=o.reduce(function(S,E,C){var A=[].concat(t9(S),[{item:E.item,position:{offset:x+(y+u)*C+(y-w)/2,size:w}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){A.push({item:T,position:A[A.length-1].position})}),A},f)}return d},Aet=function(e,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),u=Lte({children:a,legendWidth:l});if(u){var d=i||{},f=d.width,h=d.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&Ee(e[p]))return Ir(Ir({},e),{},Mf({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&Ee(e[m]))return Ir(Ir({},e),{},Mf({},m,e[m]+(h||0)))}return e},Cet=function(e,r,n){return ft(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},$te=function(e,r,n,i,a){var o=r.props.children,s=wo(o,Q_).filter(function(u){return Cet(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=ma(d,n);if(ft(f))return u;var h=Array.isArray(f)?[K_(f),Hl(f)]:[f,f],p=l.reduce(function(m,g){var v=ma(d,g,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),y=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,m[0]),Math.max(y,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Tet=function(e,r,n,i,a){var o=r.map(function(s){return $te(e,s,n,a,i)}).filter(function(s){return!ft(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},Fte=function(e,r,n,i,a){var o=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&$te(e,l,u,i)||cg(e,u,n,a)});if(n==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,l.push(u[d]));return l},[])},Bte=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},Ute=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(o=!0),l.coordinate});return a||s.push(r),o||s.push(n),s},Rs=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?mo(s[0]-s[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!yp(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},kA=new WeakMap,d1=function(e,r){if(typeof r!="function")return e;kA.has(e)||kA.set(e,new WeakMap);var n=kA.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},Net=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Tv(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:eb(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:lg(),realScaleType:"point"}:a==="category"?{scale:Tv(),realScaleType:"band"}:{scale:eb(),realScaleType:"linear"};if(sd(i)){var l="scale".concat(L_(i));return{scale:(YF[l]||lg)(),realScaleType:YF[l]?l:"point"}}return Je(i)?{scale:i}:{scale:lg(),realScaleType:"point"}},n9=1e-4,Iet=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-n9,o=Math.max(i[0],i[1])+n9,s=e(r[0]),l=e(r[n-1]);(s<a||s>o||l<a||l>o)&&e.domain([r[0],r[n-1]])}},Pet=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Oet=function(e,r){if(!r||r.length!==2||!Ee(r[0])||!Ee(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!Ee(e[0])||e[0]<n)&&(a[0]=n),(!Ee(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},jet=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=yp(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1])}},ket=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=yp(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},Ret={sign:jet,expand:Eqe,none:gh,silhouette:Aqe,wiggle:Cqe,positive:ket},Det=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),a=Ret[n],o=Sqe().keys(i).value(function(s,l){return+ma(s,l,0)}).order(XN).offset(a);return o(e)},Met=function(e,r,n,i,a,o){if(!e)return null;var s=o?r.reverse():r,l={},u=s.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Ir(Ir({},h.type.defaultProps),h.props):h.props,g=m.stackId,v=m.hide;if(v)return f;var x=m[n],y=f[x]||{hasStack:!1,stackGroups:{}};if(on(g)){var w=y.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(h),y.hasStack=!0,y.stackGroups[g]=w}else y.stackGroups[U0("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return Ir(Ir({},f),{},Mf({},x,y))},l),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var x=p.stackGroups[v];return Ir(Ir({},g),{},Mf({},v,{numericAxisId:n,cateAxisId:i,items:x.items,stackedData:Det(e,x.items,a)}))},m)}return Ir(Ir({},f),{},Mf({},h,p))},d)},Let=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=GJe(u,a,s);return e.domain([K_(d),Hl(d)]),{niceTicks:d}}if(a&&i==="number"){var f=e.domain(),h=qJe(f,a,s);return{niceTicks:h}}return null};function i9(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ft(i[e.dataKey])){var s=Rw(r,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=ma(i,ft(o)?e.dataKey:o);return ft(l)?null:e.scale(l)}var a9=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=ma(o,r.dataKey,r.domain[s]);return ft(l)?null:r.scale(l)-a/2+i},$et=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Fet=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ir(Ir({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(on(a)){var o=r[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},Bet=function(e){return e.reduce(function(r,n){return[K_(n.concat([r[0]]).filter(Ee)),Hl(n.concat([r[1]]).filter(Ee))]},[1/0,-1/0])},Vte=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,d){var f=Bet(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},o9=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,s9=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bI=function(e,r,n){if(Je(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Ee(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(o9.test(e[0])){var a=+o9.exec(e[0])[1];i[0]=r[0]-a}else Je(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Ee(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(s9.test(e[1])){var o=+s9.exec(e[1])[1];i[1]=r[1]+o}else Je(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},sb=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=f_(r,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],d=a[s-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},l9=function(e,r,n){return!e||!e.length||hh(e,Ra(n,"type.defaultProps.domain"))?r:e},zte=function(e,r){var n=e.type.defaultProps?Ir(Ir({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return Ir(Ir({},st(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:Y3(e),value:ma(r,i),type:l,payload:r,chartType:u,hide:d})};function Mv(t){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mv(t)}function c9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function u9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c9(Object(r),!0).forEach(function(n){Uet(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uet(t,e,r){return e=Vet(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vet(t){var e=zet(t,"string");return Mv(e)=="symbol"?e:e+""}function zet(t,e){if(Mv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lb=Math.PI/180,Wet=function(e){return e*180/Math.PI},jn=function(e,r,n,i){return{x:e+Math.cos(-lb*i)*n,y:r+Math.sin(-lb*i)*n}},Het=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},Get=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,s=Het({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:Wet(u),angleInRadian:u}},qet=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},Ket=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},d9=function(e,r){var n=e.x,i=e.y,a=Get({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,u=r.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var d=qet(r),f=d.startAngle,h=d.endAngle,p=s,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?u9(u9({},r),{},{radius:o,angle:Ket(p,r)}):null};function Lv(t){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lv(t)}var Yet=["offset"];function Xet(t){return ett(t)||Jet(t)||Zet(t)||Qet()}function Qet(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zet(t,e){if(t){if(typeof t=="string")return _I(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _I(t,e)}}function Jet(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ett(t){if(Array.isArray(t))return _I(t)}function _I(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ttt(t,e){if(t==null)return{};var r=rtt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rtt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function f9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f9(Object(r),!0).forEach(function(n){ntt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ntt(t,e,r){return e=itt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function itt(t){var e=att(t,"string");return Lv(e)=="symbol"?e:e+""}function att(t,e){if(Lv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $v(){return $v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$v.apply(this,arguments)}var ott=function(e){var r=e.value,n=e.formatter,i=ft(e.children)?r:e.children;return Je(n)?n(i):i},stt=function(e,r){var n=mo(r-e),i=Math.min(Math.abs(r-e),360);return n*i},ltt=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,v=(f+h)/2,x=stt(p,m),y=x>=0?1:-1,w,S;i==="insideStart"?(w=p+y*o,S=g):i==="insideEnd"?(w=m-y*o,S=!g):i==="end"&&(w=m+y*o,S=g),S=x<=0?S:!S;var E=jn(u,d,v,w),C=jn(u,d,v,w+(S?1:-1)*359),A="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(C.x,",").concat(C.y),T=ft(e.id)?U0("recharts-radial-line-"):e.id;return D.createElement("text",$v({},n,{dominantBaseline:"central",className:gt("recharts-radial-bar-label",s)}),D.createElement("defs",null,D.createElement("path",{id:T,d:A})),D.createElement("textPath",{xlinkHref:"#".concat(T)},r))},ctt=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var p=jn(o,s,u+n,h),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,x=jn(o,s,v,h),y=x.x,w=x.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},utt=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,s=o.x,l=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=u>=0?1:-1,v=g*i,x=g>0?"end":"start",y=g>0?"start":"end";if(a==="top"){var w={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Yr(Yr({},w),n?{height:Math.max(l-n.y,0),width:u}:{})}if(a==="bottom"){var S={x:s+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:m};return Yr(Yr({},S),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(a==="left"){var E={x:s-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return Yr(Yr({},E),n?{width:Math.max(E.x-n.x,0),height:d}:{})}if(a==="right"){var C={x:s+u+v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return Yr(Yr({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:d}:{})}var A=n?{width:u,height:d}:{};return a==="insideLeft"?Yr({x:s+v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},A):a==="insideRight"?Yr({x:s+u-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},A):a==="insideTop"?Yr({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:m},A):a==="insideBottom"?Yr({x:s+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},A):a==="insideTopLeft"?Yr({x:s+v,y:l+h,textAnchor:y,verticalAnchor:m},A):a==="insideTopRight"?Yr({x:s+u-v,y:l+h,textAnchor:x,verticalAnchor:m},A):a==="insideBottomLeft"?Yr({x:s+v,y:l+d-h,textAnchor:y,verticalAnchor:p},A):a==="insideBottomRight"?Yr({x:s+u-v,y:l+d-h,textAnchor:x,verticalAnchor:p},A):ap(a)&&(Ee(a.x)||Su(a.x))&&(Ee(a.y)||Su(a.y))?Yr({x:s+ld(a.x,u),y:l+ld(a.y,d),textAnchor:"end",verticalAnchor:"end"},A):Yr({x:s+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},dtt=function(e){return"cx"in e&&Ee(e.cx)};function Qn(t){var e=t.offset,r=e===void 0?5:e,n=ttt(t,Yet),i=Yr({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||ft(s)&&ft(l)&&!b.isValidElement(u)&&!Je(u))return null;if(b.isValidElement(u))return b.cloneElement(u,i);var p;if(Je(u)){if(p=b.createElement(u,i),b.isValidElement(p))return p}else p=ott(i);var m=dtt(a),g=st(i,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return ltt(i,p,g);var v=m?ctt(i):utt(i);return D.createElement(qw,$v({className:gt("recharts-label",f)},g,v,{breakAll:h}),p)}Qn.displayName="Label";var Wte=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,p=e.top,m=e.left,g=e.width,v=e.height,x=e.clockWise,y=e.labelViewBox;if(y)return y;if(Ee(g)&&Ee(v)){if(Ee(f)&&Ee(h))return{x:f,y:h,width:g,height:v};if(Ee(p)&&Ee(m))return{x:p,y:m,width:g,height:v}}return Ee(f)&&Ee(h)?{x:f,y:h,width:0,height:0}:Ee(r)&&Ee(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||l||s||0,clockWise:x}:e.viewBox?e.viewBox:{}},ftt=function(e,r){return e?e===!0?D.createElement(Qn,{key:"label-implicit",viewBox:r}):on(e)?D.createElement(Qn,{key:"label-implicit",viewBox:r,value:e}):b.isValidElement(e)?e.type===Qn?b.cloneElement(e,{key:"label-implicit",viewBox:r}):D.createElement(Qn,{key:"label-implicit",content:e,viewBox:r}):Je(e)?D.createElement(Qn,{key:"label-implicit",content:e,viewBox:r}):ap(e)?D.createElement(Qn,$v({viewBox:r},e,{key:"label-implicit"})):null:null},htt=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=Wte(e),o=wo(i,Qn).map(function(l,u){return b.cloneElement(l,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var s=ftt(e.label,r||a);return[s].concat(Xet(o))};Qn.parseViewBox=Wte;Qn.renderCallByParent=htt;function Fv(t){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fv(t)}var ptt=["valueAccessor"],mtt=["data","dataKey","clockWise","id","textBreakAll"];function gtt(t){return wtt(t)||xtt(t)||ytt(t)||vtt()}function vtt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ytt(t,e){if(t){if(typeof t=="string")return SI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SI(t,e)}}function xtt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wtt(t){if(Array.isArray(t))return SI(t)}function SI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cb(){return cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cb.apply(this,arguments)}function h9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function p9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h9(Object(r),!0).forEach(function(n){btt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function btt(t,e,r){return e=_tt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _tt(t){var e=Stt(t,"string");return Fv(e)=="symbol"?e:e+""}function Stt(t,e){if(Fv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m9(t,e){if(t==null)return{};var r=Ett(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ett(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Att=function(e){return Array.isArray(e.value)?rFe(e.value):e.value};function fc(t){var e=t.valueAccessor,r=e===void 0?Att:e,n=m9(t,ptt),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,u=m9(n,mtt);return!i||!i.length?null:D.createElement(br,{className:"recharts-label-list"},i.map(function(d,f){var h=ft(a)?r(d,f):ma(d&&d.payload,a),p=ft(s)?{}:{id:"".concat(s,"-").concat(f)};return D.createElement(Qn,cb({},st(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:Qn.parseViewBox(ft(o)?d:p9(p9({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}fc.displayName="LabelList";function Ctt(t,e){return t?t===!0?D.createElement(fc,{key:"labelList-implicit",data:e}):D.isValidElement(t)||Je(t)?D.createElement(fc,{key:"labelList-implicit",data:e,content:t}):ap(t)?D.createElement(fc,cb({data:e},t,{key:"labelList-implicit"})):null:null}function Ttt(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=wo(n,fc).map(function(o,s){return b.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var a=Ctt(t.label,e);return[a].concat(gtt(i))}fc.renderCallByParent=Ttt;function Bv(t){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bv(t)}function EI(){return EI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},EI.apply(this,arguments)}function g9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function v9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g9(Object(r),!0).forEach(function(n){Ntt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ntt(t,e,r){return e=Itt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Itt(t){var e=Ptt(t,"string");return Bv(e)=="symbol"?e:e+""}function Ptt(t,e){if(Bv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ott=function(e,r){var n=mo(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},f1=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(s?1:-1)+i,f=Math.asin(l/d)/lb,h=u?a:a+o*f,p=jn(r,n,d,h),m=jn(r,n,i,h),g=u?a-o*f:a,v=jn(r,n,d*Math.cos(f*lb),g);return{center:p,circleTangency:m,lineTangency:v,theta:f}},Hte=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=Ott(o,s),u=o+l,d=jn(r,n,a,o),f=jn(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=jn(r,n,i,o),m=jn(r,n,i,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},jtt=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=mo(d-u),h=f1({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,g=h.theta,v=f1({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),x=v.circleTangency,y=v.lineTangency,w=v.theta,S=l?Math.abs(u-d):Math.abs(u-d)-g-w;if(S<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Hte({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var E="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var C=f1({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),A=C.circleTangency,T=C.lineTangency,N=C.theta,I=f1({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),j=I.circleTangency,O=I.lineTangency,P=I.theta,M=l?Math.abs(u-d):Math.abs(u-d)-N-P;if(M<0&&o===0)return"".concat(E,"L").concat(r,",").concat(n,"Z");E+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(r,",").concat(n,"Z");return E},ktt={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Gte=function(e){var r=v9(v9({},ktt),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<a||d===f)return null;var p=gt("recharts-sector",h),m=o-a,g=ld(s,m,0,!0),v;return g>0&&Math.abs(d-f)<360?v=jtt({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):v=Hte({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),D.createElement("path",EI({},st(r,!0),{className:p,d:v,role:"img"}))};function Uv(t){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uv(t)}function AI(){return AI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},AI.apply(this,arguments)}function y9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function x9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y9(Object(r),!0).forEach(function(n){Rtt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rtt(t,e,r){return e=Dtt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dtt(t){var e=Mtt(t,"string");return Uv(e)=="symbol"?e:e+""}function Mtt(t,e){if(Uv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var w9={curveBasisClosed:fqe,curveBasisOpen:hqe,curveBasis:dqe,curveBumpX:QGe,curveBumpY:ZGe,curveLinearClosed:pqe,curveLinear:F_,curveMonotoneX:mqe,curveMonotoneY:gqe,curveNatural:vqe,curveStep:yqe,curveStepAfter:wqe,curveStepBefore:xqe},h1=function(e){return e.x===+e.x&&e.y===+e.y},dm=function(e){return e.x},fm=function(e){return e.y},Ltt=function(e,r){if(Je(e))return e;var n="curve".concat(L_(e));return(n==="curveMonotone"||n==="curveBump")&&r?w9["".concat(n).concat(r==="vertical"?"Y":"X")]:w9[n]||F_},$tt=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=Ltt(n,s),f=u?a.filter(function(g){return h1(g)}):a,h;if(Array.isArray(o)){var p=u?o.filter(function(g){return h1(g)}):o,m=f.map(function(g,v){return x9(x9({},g),{},{base:p[v]})});return s==="vertical"?h=i1().y(fm).x1(dm).x0(function(g){return g.base.x}):h=i1().x(dm).y1(fm).y0(function(g){return g.base.y}),h.defined(h1).curve(d),h(m)}return s==="vertical"&&Ee(o)?h=i1().y(fm).x1(dm).x0(o):Ee(o)?h=i1().x(dm).y1(fm).y0(o):h=mee().x(dm).y(fm),h.defined(h1).curve(d),h(f)},ug=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?$tt(e):i;return D.createElement("path",AI({},st(e,!1),Dw(e),{className:gt("recharts-curve",r),d:o,ref:a}))},Ftt=Object.getOwnPropertyNames,Btt=Object.getOwnPropertySymbols,Utt=Object.prototype.hasOwnProperty;function b9(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function p1(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function _9(t){return Ftt(t).concat(Btt(t))}var Vtt=Object.hasOwn||function(t,e){return Utt.call(t,e)};function Td(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var ztt="__v",Wtt="__o",Htt="_owner",S9=Object.getOwnPropertyDescriptor,E9=Object.keys;function Gtt(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function qtt(t,e){return Td(t.getTime(),e.getTime())}function Ktt(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Ytt(t,e){return t===e}function A9(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),d=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var h=o.value,p=s.value;if(r.equals(h[0],p[0],l,f,t,e,r)&&r.equals(h[1],p[1],h[0],p[0],t,e,r)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var Xtt=Td;function Qtt(t,e,r){var n=E9(t),i=n.length;if(E9(e).length!==i)return!1;for(;i-- >0;)if(!qte(t,e,r,n[i]))return!1;return!0}function hm(t,e,r){var n=_9(t),i=n.length;if(_9(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!qte(t,e,r,a)||(o=S9(t,a),s=S9(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Ztt(t,e){return Td(t.valueOf(),e.valueOf())}function Jtt(t,e){return t.source===e.source&&t.flags===e.flags}function C9(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,d=0;(s=l.next())&&!s.done;){if(!i[d]&&r.equals(o.value,s.value,o.value,s.value,t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function ert(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function trt(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function qte(t,e,r,n){return(n===Htt||n===Wtt||n===ztt)&&(t.$$typeof||e.$$typeof)?!0:Vtt(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var rrt="[object Arguments]",nrt="[object Boolean]",irt="[object Date]",art="[object Error]",ort="[object Map]",srt="[object Number]",lrt="[object Object]",crt="[object RegExp]",urt="[object Set]",drt="[object String]",frt="[object URL]",hrt=Array.isArray,T9=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,N9=Object.assign,prt=Object.prototype.toString.call.bind(Object.prototype.toString);function mrt(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(m,g,v){if(m===g)return!0;if(m==null||g==null)return!1;var x=typeof m;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?o(m,g,v):x==="function"?i(m,g,v):!1;var y=m.constructor;if(y!==g.constructor)return!1;if(y===Object)return s(m,g,v);if(hrt(m))return e(m,g,v);if(T9!=null&&T9(m))return f(m,g,v);if(y===Date)return r(m,g,v);if(y===RegExp)return u(m,g,v);if(y===Map)return a(m,g,v);if(y===Set)return d(m,g,v);var w=prt(m);return w===irt?r(m,g,v):w===crt?u(m,g,v):w===ort?a(m,g,v):w===urt?d(m,g,v):w===lrt?typeof m.then!="function"&&typeof g.then!="function"&&s(m,g,v):w===frt?h(m,g,v):w===art?n(m,g,v):w===rrt?s(m,g,v):w===nrt||w===srt||w===drt?l(m,g,v):!1}}function grt(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?hm:Gtt,areDatesEqual:qtt,areErrorsEqual:Ktt,areFunctionsEqual:Ytt,areMapsEqual:n?b9(A9,hm):A9,areNumbersEqual:Xtt,areObjectsEqual:n?hm:Qtt,arePrimitiveWrappersEqual:Ztt,areRegExpsEqual:Jtt,areSetsEqual:n?b9(C9,hm):C9,areTypedArraysEqual:n?hm:ert,areUrlsEqual:trt};if(r&&(i=N9({},i,r(i))),e){var a=p1(i.areArraysEqual),o=p1(i.areMapsEqual),s=p1(i.areObjectsEqual),l=p1(i.areSetsEqual);i=N9({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function vrt(t){return function(e,r,n,i,a,o,s){return t(e,r,s)}}function yrt(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,u){var d=n(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return r(l,u,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(l,u){return r(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return r(l,u,o)}}var xrt=qc();qc({strict:!0});qc({circular:!0});qc({circular:!0,strict:!0});qc({createInternalComparator:function(){return Td}});qc({strict:!0,createInternalComparator:function(){return Td}});qc({circular:!0,createInternalComparator:function(){return Td}});qc({circular:!0,createInternalComparator:function(){return Td},strict:!0});function qc(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=grt(t),l=mrt(s),u=n?n(l):vrt(l);return yrt({circular:r,comparator:l,createState:i,equals:u,strict:o})}function wrt(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function I9(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):wrt(i)};requestAnimationFrame(n)}function CI(t){"@babel/helpers - typeof";return CI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CI(t)}function brt(t){return Art(t)||Ert(t)||Srt(t)||_rt()}function _rt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Srt(t,e){if(t){if(typeof t=="string")return P9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P9(t,e)}}function P9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ert(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Art(t){if(Array.isArray(t))return t}function Crt(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=brt(o),l=s[0],u=s.slice(1);if(typeof l=="number"){I9(i.bind(null,u),l);return}i(l),I9(i.bind(null,u));return}CI(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Vv(t){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vv(t)}function O9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function j9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O9(Object(r),!0).forEach(function(n){Kte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kte(t,e,r){return e=Trt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Trt(t){var e=Nrt(t,"string");return Vv(e)==="symbol"?e:String(e)}function Nrt(t,e){if(Vv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Irt=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Prt=function(e){return e},Ort=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},dg=function(e,r){return Object.keys(r).reduce(function(n,i){return j9(j9({},n),{},Kte({},i,e(i,r[i])))},{})},k9=function(e,r,n){return e.map(function(i){return"".concat(Ort(i)," ").concat(r,"ms ").concat(n)}).join(",")};function jrt(t,e){return Drt(t)||Rrt(t,e)||Yte(t,e)||krt()}function krt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rrt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Drt(t){if(Array.isArray(t))return t}function Mrt(t){return Frt(t)||$rt(t)||Yte(t)||Lrt()}function Lrt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yte(t,e){if(t){if(typeof t=="string")return TI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TI(t,e)}}function $rt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Frt(t){if(Array.isArray(t))return TI(t)}function TI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ub=1e-4,Xte=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},Qte=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},R9=function(e,r){return function(n){var i=Xte(e,r);return Qte(i,n)}},Brt=function(e,r){return function(n){var i=Xte(e,r),a=[].concat(Mrt(i.map(function(o,s){return o*s}).slice(1)),[0]);return Qte(a,n)}},D9=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=jrt(u,4);i=d[0],a=d[1],o=d[2],s=d[3]}}}var f=R9(i,o),h=R9(a,s),p=Brt(i,o),m=function(x){return x>1?1:x<0?0:x},g=function(x){for(var y=x>1?1:x,w=y,S=0;S<8;++S){var E=f(w)-y,C=p(w);if(Math.abs(E-y)<ub||C<ub)return h(w);w=m(w-E/C)}return h(w)};return g.isStepper=!1,g},Urt=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(d,f,h){var p=-(d-f)*n,m=h*a,g=h+(p-m)*s/1e3,v=h*s/1e3+d;return Math.abs(v-f)<ub&&Math.abs(g)<ub?[f,0]:[v,g]};return l.isStepper=!0,l.dt=s,l},Vrt=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return D9(i);case"spring":return Urt();default:if(i.split("(")[0]==="cubic-bezier")return D9(i)}return typeof i=="function"?i:null};function zv(t){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zv(t)}function M9(t){return Hrt(t)||Wrt(t)||Zte(t)||zrt()}function zrt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wrt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hrt(t){if(Array.isArray(t))return II(t)}function L9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L9(Object(r),!0).forEach(function(n){NI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NI(t,e,r){return e=Grt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Grt(t){var e=qrt(t,"string");return zv(e)==="symbol"?e:String(e)}function qrt(t,e){if(zv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Krt(t,e){return Qrt(t)||Xrt(t,e)||Zte(t,e)||Yrt()}function Yrt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zte(t,e){if(t){if(typeof t=="string")return II(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return II(t,e)}}function II(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xrt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Qrt(t){if(Array.isArray(t))return t}var db=function(e,r,n){return e+(r-e)*n},PI=function(e){var r=e.from,n=e.to;return r!==n},Zrt=function t(e,r,n){var i=dg(function(a,o){if(PI(o)){var s=e(o.from,o.to,o.velocity),l=Krt(s,2),u=l[0],d=l[1];return Tn(Tn({},o),{},{from:u,velocity:d})}return o},r);return n<1?dg(function(a,o){return PI(o)?Tn(Tn({},o),{},{velocity:db(o.velocity,i[a].velocity,n),from:db(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const Jrt=function(t,e,r,n,i){var a=Irt(t,e),o=a.reduce(function(v,x){return Tn(Tn({},v),{},NI({},x,[t[x],e[x]]))},{}),s=a.reduce(function(v,x){return Tn(Tn({},v),{},NI({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return dg(function(x,y){return y.from},s)},p=function(){return!Object.values(s).filter(PI).length},m=function(x){u||(u=x);var y=x-u,w=y/r.dt;s=Zrt(r,s,w),i(Tn(Tn(Tn({},t),e),h())),u=x,p()||(l=requestAnimationFrame(f))},g=function(x){d||(d=x);var y=(x-d)/n,w=dg(function(E,C){return db.apply(void 0,M9(C).concat([r(y)]))},o);if(i(Tn(Tn(Tn({},t),e),w)),y<1)l=requestAnimationFrame(f);else{var S=dg(function(E,C){return db.apply(void 0,M9(C).concat([r(1)]))},o);i(Tn(Tn(Tn({},t),e),S))}};return f=r.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}var ent=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function tnt(t,e){if(t==null)return{};var r=rnt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rnt(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function RA(t){return ont(t)||ant(t)||int(t)||nnt()}function nnt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function int(t,e){if(t){if(typeof t=="string")return OI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OI(t,e)}}function ant(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ont(t){if(Array.isArray(t))return OI(t)}function OI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ja(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$9(Object(r),!0).forEach(function(n){km(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function km(t,e,r){return e=Jte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function snt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lnt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jte(n.key),n)}}function cnt(t,e,r){return e&&lnt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jte(t){var e=unt(t,"string");return Ah(e)==="symbol"?e:String(e)}function unt(t,e){if(Ah(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ah(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dnt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jI(t,e)}function jI(t,e){return jI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jI(t,e)}function fnt(t){var e=hnt();return function(){var n=fb(t),i;if(e){var a=fb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return kI(this,i)}}function kI(t,e){if(e&&(Ah(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RI(t)}function RI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hnt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fb(t){return fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fb(t)}var al=function(t){dnt(r,t);var e=fnt(r);function r(n,i){var a;snt(this,r),a=e.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(RI(a)),a.changeStyle=a.changeStyle.bind(RI(a)),!s||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),kI(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},kI(a);a.state={style:l?km({},l,u):u}}else a.state={style:{}};return a}return cnt(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(s){if(!o){var p={style:l?km({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(xrt(i.to,d)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?f:i.to;if(this.state&&h){var v={style:l?km({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(v)}this.runAnimation(Ja(Ja({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=Jrt(o,s,Vrt(u),l,this.changeStyle),m=function(){a.stopJSAnimation=p()};this.manager.start([h,d,m,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(g,v,x){if(x===0)return g;var y=v.duration,w=v.easing,S=w===void 0?"ease":w,E=v.style,C=v.properties,A=v.onAnimationEnd,T=x>0?o[x-1]:v,N=C||Object.keys(E);if(typeof S=="function"||S==="spring")return[].concat(RA(g),[a.runJSAnimation.bind(a,{from:T.style,to:E,duration:y,easing:S}),y]);var I=k9(N,y,S),j=Ja(Ja(Ja({},T.style),E),{},{transition:I});return[].concat(RA(g),[j,y,A]).filter(Prt)};return this.manager.start([l].concat(RA(o.reduce(p,[d,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Crt());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=s?km({},s,l):l,v=k9(Object.keys(g),o,u);m.start([d,a,Ja(Ja({},g),{},{transition:v}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=tnt(i,ent),u=b.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!s||u===0||o<=0)return a;var f=function(p){var m=p.props,g=m.style,v=g===void 0?{}:g,x=m.className,y=b.cloneElement(p,Ja(Ja({},l),{},{style:Ja(Ja({},v),d),className:x}));return y};return u===1?f(b.Children.only(a)):D.createElement("div",null,b.Children.map(a,function(h){return f(h)}))}}]),r}(b.PureComponent);al.displayName="Animate";al.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};al.propTypes={from:fe.oneOfType([fe.object,fe.string]),to:fe.oneOfType([fe.object,fe.string]),attributeName:fe.string,duration:fe.number,begin:fe.number,easing:fe.oneOfType([fe.string,fe.func]),steps:fe.arrayOf(fe.shape({duration:fe.number.isRequired,style:fe.object.isRequired,easing:fe.oneOfType([fe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),fe.func]),properties:fe.arrayOf("string"),onAnimationEnd:fe.func})),children:fe.oneOfType([fe.node,fe.func]),isActive:fe.bool,canBegin:fe.bool,onAnimationEnd:fe.func,shouldReAnimate:fe.bool,onAnimationStart:fe.func,onAnimationReStart:fe.func};function Wv(t){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wv(t)}function hb(){return hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hb.apply(this,arguments)}function pnt(t,e){return ynt(t)||vnt(t,e)||gnt(t,e)||mnt()}function mnt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gnt(t,e){if(t){if(typeof t=="string")return F9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F9(t,e)}}function F9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vnt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ynt(t){if(Array.isArray(t))return t}function B9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function U9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B9(Object(r),!0).forEach(function(n){xnt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xnt(t,e,r){return e=wnt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wnt(t){var e=bnt(t,"string");return Wv(e)=="symbol"?e:e+""}function bnt(t,e){if(Wv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V9=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>o?o:a[h];d="M".concat(e,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(r)),d+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+s*f[1])),d+="L ".concat(e+n,",").concat(r+i-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),d+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-s*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var m=Math.min(o,a);d="M ".concat(e,",").concat(r+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+l*m,",").concat(r,`
            L `).concat(e+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+n,",").concat(r+s*m,`
            L `).concat(e+n,",").concat(r+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+n-l*m,",").concat(r+i,`
            L `).concat(e+l*m,",").concat(r+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(r+i-s*m," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},_nt=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),d=Math.max(a,a+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return n>=u&&n<=d&&i>=f&&i<=h}return!1},Snt={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},X3=function(e){var r=U9(U9({},Snt),e),n=b.useRef(),i=b.useState(-1),a=pnt(i,2),o=a[0],s=a[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,g=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,y=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=gt("recharts-rectangle",p);return y?D.createElement(al,{canBegin:o>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:g,animationEasing:m,isActive:y},function(S){var E=S.width,C=S.height,A=S.x,T=S.y;return D.createElement(al,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:x,easing:m},D.createElement("path",hb({},st(r,!0),{className:w,d:V9(A,T,E,C,h),ref:n})))}):D.createElement("path",hb({},st(r,!0),{className:w,d:V9(l,u,d,f,h)}))};function DI(){return DI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DI.apply(this,arguments)}var Q3=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=gt("recharts-dot",a);return r===+r&&n===+n&&i===+i?D.createElement("circle",DI({},st(e,!1),Dw(e),{className:o,cx:r,cy:n,r:i})):null};function Hv(t){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hv(t)}var Ent=["x","y","top","left","width","height","className"];function MI(){return MI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MI.apply(this,arguments)}function z9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ant(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z9(Object(r),!0).forEach(function(n){Cnt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cnt(t,e,r){return e=Tnt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tnt(t){var e=Nnt(t,"string");return Hv(e)=="symbol"?e:e+""}function Nnt(t,e){if(Hv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Int(t,e){if(t==null)return{};var r=Pnt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pnt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ont=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},jnt=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,p=h===void 0?0:h,m=e.className,g=Int(e,Ent),v=Ant({x:n,y:a,top:s,left:u,width:f,height:p},g);return!Ee(n)||!Ee(a)||!Ee(f)||!Ee(p)||!Ee(s)||!Ee(u)?null:D.createElement("path",MI({},st(v,!0),{className:gt("recharts-cross",m),d:Ont(n,a,f,p,s,u)}))},knt=ul,Rnt=Io,Dnt="[object Boolean]";function Mnt(t){return t===!0||t===!1||Rnt(t)&&knt(t)==Dnt}var Lnt=Mnt;const $nt=dt(Lnt);function Gv(t){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gv(t)}function pb(){return pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pb.apply(this,arguments)}function Fnt(t,e){return znt(t)||Vnt(t,e)||Unt(t,e)||Bnt()}function Bnt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Unt(t,e){if(t){if(typeof t=="string")return W9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W9(t,e)}}function W9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vnt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function znt(t){if(Array.isArray(t))return t}function H9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function G9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H9(Object(r),!0).forEach(function(n){Wnt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wnt(t,e,r){return e=Hnt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hnt(t){var e=Gnt(t,"string");return Gv(e)=="symbol"?e:e+""}function Gnt(t,e){if(Gv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var q9=function(e,r,n,i,a){var o=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-o/2,",").concat(r+a),s+="L ".concat(e+n-o/2-i,",").concat(r+a),s+="L ".concat(e,",").concat(r," Z"),s},qnt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Knt=function(e){var r=G9(G9({},qnt),e),n=b.useRef(),i=b.useState(-1),a=Fnt(i,2),o=a[0],s=a[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&s(w)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,g=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=gt("recharts-trapezoid",p);return x?D.createElement(al,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:g,animationEasing:m,isActive:x},function(w){var S=w.upperWidth,E=w.lowerWidth,C=w.height,A=w.x,T=w.y;return D.createElement(al,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:m},D.createElement("path",pb({},st(r,!0),{className:y,d:q9(A,T,S,E,C),ref:n})))}):D.createElement("g",null,D.createElement("path",pb({},st(r,!0),{className:y,d:q9(l,u,d,f,h)})))},Ynt=["option","shapeType","propTransformer","activeClassName","isActive"];function qv(t){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(t)}function Xnt(t,e){if(t==null)return{};var r=Qnt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qnt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function K9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K9(Object(r),!0).forEach(function(n){Znt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Znt(t,e,r){return e=Jnt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jnt(t){var e=eit(t,"string");return qv(e)=="symbol"?e:e+""}function eit(t,e){if(qv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tit(t,e){return mb(mb({},e),t)}function rit(t,e){return t==="symbols"}function Y9(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return D.createElement(X3,r);case"trapezoid":return D.createElement(Knt,r);case"sector":return D.createElement(Gte,r);case"symbols":if(rit(e))return D.createElement(_3,r);break;default:return null}}function nit(t){return b.isValidElement(t)?t.props:t}function iit(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?tit:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=Xnt(t,Ynt),u;if(b.isValidElement(e))u=b.cloneElement(e,mb(mb({},l),nit(e)));else if(Je(e))u=e(l);else if(_Fe(e)&&!$nt(e)){var d=i(e,l);u=D.createElement(Y9,{shapeType:r,elementProps:d})}else{var f=l;u=D.createElement(Y9,{shapeType:r,elementProps:f})}return s?D.createElement(br,{className:o},u):u}function Z_(t,e){return e!=null&&"trapezoids"in t.props}function J_(t,e){return e!=null&&"sectors"in t.props}function Kv(t,e){return e!=null&&"points"in t.props}function ait(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function oit(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function sit(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function lit(t,e){var r;return Z_(t,e)?r=ait:J_(t,e)?r=oit:Kv(t,e)&&(r=sit),r}function cit(t,e){var r;return Z_(t,e)?r="trapezoids":J_(t,e)?r="sectors":Kv(t,e)&&(r="points"),r}function uit(t,e){if(Z_(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(J_(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Kv(t,e)?e.payload:{}}function dit(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=cit(r,e),a=uit(r,e),o=n.filter(function(l,u){var d=hh(a,l),f=r.props[i].filter(function(m){var g=lit(r,e);return g(m,e)}),h=r.props[i].indexOf(f[f.length-1]),p=u===h;return d&&p}),s=n.indexOf(o[o.length-1]);return s}function Yv(t){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(t)}function X9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Q9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X9(Object(r),!0).forEach(function(n){ere(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ere(t,e,r){return e=fit(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fit(t){var e=hit(t,"string");return Yv(e)=="symbol"?e:e+""}function hit(t,e){if(Yv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pit=["Webkit","Moz","O","ms"],mit=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=pit.reduce(function(a,o){return Q9(Q9({},a),{},ere({},o+n,r))},{});return i[e]=r,i};function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function gb(){return gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gb.apply(this,arguments)}function Z9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z9(Object(r),!0).forEach(function(n){Zi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function git(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rre(n.key),n)}}function vit(t,e,r){return e&&J9(t.prototype,e),r&&J9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yit(t,e,r){return e=vb(e),xit(t,tre()?Reflect.construct(e,r||[],vb(t).constructor):e.apply(t,r))}function xit(t,e){if(e&&(Ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wit(t)}function wit(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tre=function(){return!!t})()}function vb(t){return vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vb(t)}function bit(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LI(t,e)}function LI(t,e){return LI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},LI(t,e)}function Zi(t,e,r){return e=rre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rre(t){var e=_it(t,"string");return Ch(e)=="symbol"?e:e+""}function _it(t,e){if(Ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sit=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=lg().domain(mv(0,l)).range([a,a+o-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},e7=function(e){return e.changedTouches&&!!e.changedTouches.length},Th=function(t){function e(r){var n;return git(this,e),n=yit(this,e,[r]),Zi(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Zi(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Zi(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),Zi(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Zi(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Zi(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Zi(n,"handleSlideDragStart",function(i){var a=e7(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return bit(e,t),vit(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,d=u.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(o,f),m=e.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:m===d?d:m-m%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=ma(a[n],s,n);return Je(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,g=n.pageX-a;g>0?g=Math.min(g,u+d-f-s,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-s));var v=this.getIndex({startX:o+g,endX:s+g});(v.startIndex!==h||v.endIndex!==p)&&m&&m(v),this.setState({startX:o+g,endX:s+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=e7(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,g=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},y=n.pageX-a;y>0?y=Math.min(y,f+h-p-u):y<0&&(y=Math.max(y,f-u)),x[o]=u+y;var w=this.getIndex(x),S=w.startIndex,E=w.endIndex,C=function(){var T=v.length-1;return o==="startX"&&(s>l?S%g===0:E%g===0)||s<l&&E===T||o==="endX"&&(s>l?E%g===0:S%g===0)||s>l&&E===T};this.setState(Zi(Zi({},o,u+y),"brushMoveStartX",n.pageX),function(){m&&C()&&m(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,d=this.state[i],f=s.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Zi({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,u=n.stroke;return D.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,u=n.children,d=n.padding,f=b.Children.only(u);return f?D.cloneElement(f,{x:i,y:a,width:o,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,v=l.endIndex,x=Math.max(n,this.props.x),y=DA(DA({},st(this.props,!1)),{},{x,y:u,width:d,height:f}),w=p||"Min value: ".concat((a=m[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=m[v])===null||o===void 0?void 0:o.name);return D.createElement(br,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),s.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:u};return D.createElement(br,{className:"recharts-brush-texts"},D.createElement(qw,gb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+s/2},m),this.getTextOfTick(i)),D.createElement(qw,gb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+s/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,g=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,y=h.isTravellerFocused;if(!i||!i.length||!Ee(s)||!Ee(l)||!Ee(u)||!Ee(d)||u<=0||d<=0)return null;var w=gt("recharts-brush",a),S=D.Children.count(o)===1,E=mit("userSelect","none");return D.createElement(br,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||v||x||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,u=Math.floor(a+s/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),D.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return D.isValidElement(n)?a=D.cloneElement(n,i):Je(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return DA({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?Sit({data:a,width:o,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}])}(b.PureComponent);Zi(Th,"displayName","Brush");Zi(Th,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Eit=Hk;function Ait(t,e){var r;return Eit(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var Cit=Ait,Tit=MQ,Nit=dl,Iit=Cit,Pit=oi,Oit=sp;function jit(t,e,r){var n=Pit(t)?Tit:Iit;return r&&Oit(t,e,r)&&(e=void 0),n(t,Nit(e))}var kit=jit;const Rit=dt(kit);var es=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r};function Dit(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var Mit=Dit,Lit=Hk;function $it(t,e){var r=!0;return Lit(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var Fit=$it,Bit=Mit,Uit=Fit,Vit=dl,zit=oi,Wit=sp;function Hit(t,e,r){var n=zit(t)?Bit:Uit;return r&&Wit(t,e,r)&&(e=void 0),n(t,Vit(e))}var Git=Hit;const nre=dt(Git);var qit=["x","y"];function Xv(t){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xv(t)}function $I(){return $I=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$I.apply(this,arguments)}function t7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t7(Object(r),!0).forEach(function(n){Kit(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kit(t,e,r){return e=Yit(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yit(t){var e=Xit(t,"string");return Xv(e)=="symbol"?e:e+""}function Xit(t,e){if(Xv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qit(t,e){if(t==null)return{};var r=Zit(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zit(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Jit(t,e){var r=t.x,n=t.y,i=Qit(t,qit),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return pm(pm(pm(pm(pm({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function r7(t){return D.createElement(iit,$I({shapeType:"rectangle",propTransformer:Jit,activeClassName:"recharts-active-bar"},t))}var eat=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=typeof n=="number";return a?e(n,i):(a||ud(),r)}},tat=["value","background"],ire;function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function rat(t,e){if(t==null)return{};var r=nat(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nat(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yb(){return yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yb.apply(this,arguments)}function n7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n7(Object(r),!0).forEach(function(n){Gl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ore(n.key),n)}}function aat(t,e,r){return e&&i7(t.prototype,e),r&&i7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function oat(t,e,r){return e=xb(e),sat(t,are()?Reflect.construct(e,r||[],xb(t).constructor):e.apply(t,r))}function sat(t,e){if(e&&(Nh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lat(t)}function lat(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function are(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(are=function(){return!!t})()}function xb(t){return xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xb(t)}function cat(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FI(t,e)}function FI(t,e){return FI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},FI(t,e)}function Gl(t,e,r){return e=ore(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ore(t){var e=uat(t,"string");return Nh(e)=="symbol"?e:e+""}function uat(t,e){if(Nh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var G0=function(t){function e(){var r;iat(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=oat(this,e,[].concat(i)),Gl(r,"state",{isAnimationFinished:!1}),Gl(r,"id",U0("recharts-bar-")),Gl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Gl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return cat(e,t),aat(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,d=st(this.props,!1);return n&&n.map(function(f,h){var p=h===l,m=p?u:o,g=Vr(Vr(Vr({},d),f),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return D.createElement(br,yb({className:"recharts-bar-rectangle"},Mw(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),D.createElement(r7,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return D.createElement(al,{begin:l,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=a.map(function(v,x){var y=h&&h[x];if(y){var w=Na(y.x,v.x),S=Na(y.y,v.y),E=Na(y.width,v.width),C=Na(y.height,v.height);return Vr(Vr({},v),{},{x:w(m),y:S(m),width:E(m),height:C(m)})}if(o==="horizontal"){var A=Na(0,v.height),T=A(m);return Vr(Vr({},v),{},{y:v.y+v.height-T,height:T})}var N=Na(0,v.width),I=N(m);return Vr(Vr({},v),{},{width:I})});return D.createElement(br,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!hh(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=st(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=rat(u,tat);if(!f)return null;var p=Vr(Vr(Vr(Vr(Vr({},h),{},{fill:"#eee"},f),l),Mw(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return D.createElement(r7,yb({key:"background-bar-".concat(d),option:n.props.background,isActive:d===s},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,d=a.children,f=wo(d,Q_);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(v,x){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:ma(v,x)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return D.createElement(br,m,f.map(function(g){return D.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,m=n.background,g=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,x=gt("recharts-bar",o),y=s&&s.allowDataOverflow,w=l&&l.allowDataOverflow,S=y||w,E=ft(g)?this.id:g;return D.createElement(br,{className:x},y||w?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(E)},D.createElement("rect",{x:y?u:u-f/2,y:w?d:d-h/2,width:y?f:f*2,height:w?h:h*2}))):null,D.createElement(br,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(E,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,E),(!p||v)&&fc.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(b.PureComponent);ire=G0;Gl(G0,"displayName","Bar");Gl(G0,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!xp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Gl(G0,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=Pet(n,r);if(!p)return null;var m=e.layout,g=r.type.defaultProps,v=g!==void 0?Vr(Vr({},g),r.props):r.props,x=v.dataKey,y=v.children,w=v.minPointSize,S=m==="horizontal"?o:a,E=u?S.scale.domain():null,C=$et({numericAxis:S}),A=wo(y,Lee),T=f.map(function(N,I){var j,O,P,M,F,B;u?j=Oet(u[d+I],E):(j=ma(N,x),Array.isArray(j)||(j=[C,j]));var W=eat(w,ire.defaultProps.minPointSize)(j[1],I);if(m==="horizontal"){var $,U=[o.scale(j[0]),o.scale(j[1])],X=U[0],H=U[1];O=a9({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:N,index:I}),P=($=H??X)!==null&&$!==void 0?$:void 0,M=p.size;var Y=X-H;if(F=Number.isNaN(Y)?0:Y,B={x:O,y:o.y,width:M,height:o.height},Math.abs(W)>0&&Math.abs(F)<Math.abs(W)){var Q=mo(F||W)*(Math.abs(W)-Math.abs(F));P-=Q,F+=Q}}else{var ue=[a.scale(j[0]),a.scale(j[1])],de=ue[0],he=ue[1];if(O=de,P=a9({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:N,index:I}),M=he-de,F=p.size,B={x:a.x,y:P,width:a.width,height:F},Math.abs(W)>0&&Math.abs(M)<Math.abs(W)){var pe=mo(M||W)*(Math.abs(W)-Math.abs(M));M+=pe}}return Vr(Vr(Vr({},N),{},{x:O,y:P,width:M,height:F,value:u?j:j[1],payload:N,background:B},A&&A[I]&&A[I].props),{},{tooltipPayload:[zte(r,N)],tooltipPosition:{x:O+M/2,y:P+F/2}})});return Vr({data:T,layout:m},h)});function Qv(t){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(t)}function dat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sre(n.key),n)}}function fat(t,e,r){return e&&a7(t.prototype,e),r&&a7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function o7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ao(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o7(Object(r),!0).forEach(function(n){eS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eS(t,e,r){return e=sre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sre(t){var e=hat(t,"string");return Qv(e)=="symbol"?e:e+""}function hat(t,e){if(Qv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pat=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!ta(u,G0);return d.reduce(function(p,m){var g=r[m],v=g.orientation,x=g.domain,y=g.padding,w=y===void 0?{}:y,S=g.mirror,E=g.reversed,C="".concat(v).concat(S?"Mirror":""),A,T,N,I,j;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var O=x[1]-x[0],P=1/0,M=g.categoricalDomain.sort(UHe);if(M.forEach(function(ue,de){de>0&&(P=Math.min((ue||0)-(M[de-1]||0),P))}),Number.isFinite(P)){var F=P/O,B=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(A=F*B/2),g.padding==="no-gap"){var W=ld(e.barCategoryGap,F*B),$=F*B/2;A=$-W-($-W)/B*W}}}i==="xAxis"?T=[n.left+(w.left||0)+(A||0),n.left+n.width-(w.right||0)-(A||0)]:i==="yAxis"?T=l==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(A||0),n.top+n.height-(w.bottom||0)-(A||0)]:T=g.range,E&&(T=[T[1],T[0]]);var U=Net(g,a,h),X=U.scale,H=U.realScaleType;X.domain(x).range(T),Iet(X);var Y=Let(X,ao(ao({},g),{},{realScaleType:H}));i==="xAxis"?(j=v==="top"&&!S||v==="bottom"&&S,N=n.left,I=f[C]-j*g.height):i==="yAxis"&&(j=v==="left"&&!S||v==="right"&&S,N=f[C]-j*g.width,I=n.top);var Q=ao(ao(ao({},g),Y),{},{realScaleType:H,x:N,y:I,scale:X,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return Q.bandSize=sb(Q,Y),!g.hide&&i==="xAxis"?f[C]+=(j?-1:1)*Q.height:g.hide||(f[C]+=(j?-1:1)*Q.width),ao(ao({},p),{},eS({},m,Q))},{})},lre=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},mat=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return lre({x:r,y:n},{x:i,y:a})},cre=function(){function t(e){dat(this,t),this.scale=e}return fat(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();eS(cre,"EPS",1e-4);var Z3=function(e){var r=Object.keys(e).reduce(function(n,i){return ao(ao({},n),{},eS({},i,cre.create(e[i])))},{});return ao(ao({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return pZ(i,function(l,u){return r[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return nre(i,function(a,o){return r[o].isInRange(a)})}})};function gat(t){return(t%180+180)%180}var vat=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=gat(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},yat=dl,xat=op,wat=hp;function bat(t){return function(e,r,n){var i=Object(e);if(!xat(e)){var a=yat(r);e=wat(e),r=function(s){return a(i[s],s,i)}}var o=t(e,r,n);return o>-1?i[a?e[o]:o]:void 0}}var _at=bat,Sat=_at,Eat=iZ,Aat=Sat(Eat),Cat=Aat;const Tat=dt(Cat);var Nat=MDe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),J3=b.createContext(void 0),eR=b.createContext(void 0),ure=b.createContext(void 0),dre=b.createContext({}),fre=b.createContext(void 0),hre=b.createContext(0),pre=b.createContext(0),s7=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,d=Nat(a);return D.createElement(J3.Provider,{value:n},D.createElement(eR.Provider,{value:i},D.createElement(dre.Provider,{value:a},D.createElement(ure.Provider,{value:d},D.createElement(fre.Provider,{value:o},D.createElement(hre.Provider,{value:u},D.createElement(pre.Provider,{value:l},s)))))))},Iat=function(){return b.useContext(fre)},mre=function(e){var r=b.useContext(J3);r==null&&ud();var n=r[e];return n==null&&ud(),n},Pat=function(){var e=b.useContext(J3);return $l(e)},Oat=function(){var e=b.useContext(eR),r=Tat(e,function(n){return nre(n.domain,Number.isFinite)});return r||$l(e)},gre=function(e){var r=b.useContext(eR);r==null&&ud();var n=r[e];return n==null&&ud(),n},jat=function(){var e=b.useContext(ure);return e},kat=function(){return b.useContext(dre)},tR=function(){return b.useContext(pre)},rR=function(){return b.useContext(hre)};function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function Rat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dat(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yre(n.key),n)}}function Mat(t,e,r){return e&&Dat(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lat(t,e,r){return e=wb(e),$at(t,vre()?Reflect.construct(e,r||[],wb(t).constructor):e.apply(t,r))}function $at(t,e){if(e&&(Ih(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fat(t)}function Fat(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vre=function(){return!!t})()}function wb(t){return wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wb(t)}function Bat(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BI(t,e)}function BI(t,e){return BI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BI(t,e)}function l7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function c7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l7(Object(r),!0).forEach(function(n){nR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nR(t,e,r){return e=yre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yre(t){var e=Uat(t,"string");return Ih(e)=="symbol"?e:e+""}function Uat(t,e){if(Ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Vat(t,e){return Gat(t)||Hat(t,e)||Wat(t,e)||zat()}function zat(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wat(t,e){if(t){if(typeof t=="string")return u7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u7(t,e)}}function u7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hat(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Gat(t){if(Array.isArray(t))return t}function UI(){return UI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UI.apply(this,arguments)}var qat=function(e,r){var n;return D.isValidElement(e)?n=D.cloneElement(e,r):Je(e)?n=e(r):n=D.createElement("line",UI({},r,{className:"recharts-reference-line-line"})),n},Kat=function(e,r,n,i,a,o,s,l,u){var d=a.x,f=a.y,h=a.width,p=a.height;if(n){var m=u.y,g=e.y.apply(m,{position:o});if(es(u,"discard")&&!e.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?v.reverse():v}if(r){var x=u.x,y=e.x.apply(x,{position:o});if(es(u,"discard")&&!e.x.isInRange(y))return null;var w=[{x:y,y:f+p},{x:y,y:f}];return s==="top"?w.reverse():w}if(i){var S=u.segment,E=S.map(function(C){return e.apply(C,{position:o})});return es(u,"discard")&&Rit(E,function(C){return!e.isInRange(C)})?null:E}return null};function Yat(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=Iat(),d=mre(i),f=gre(a),h=jat();if(!u||!h)return null;Us(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Z3({x:d.scale,y:f.scale}),m=on(e),g=on(r),v=n&&n.length===2,x=Kat(p,m,g,v,h,t.position,d.orientation,f.orientation,t);if(!x)return null;var y=Vat(x,2),w=y[0],S=w.x,E=w.y,C=y[1],A=C.x,T=C.y,N=es(t,"hidden")?"url(#".concat(u,")"):void 0,I=c7(c7({clipPath:N},st(t,!0)),{},{x1:S,y1:E,x2:A,y2:T});return D.createElement(br,{className:gt("recharts-reference-line",s)},qat(o,I),Qn.renderCallByParent(t,mat({x1:S,y1:E,x2:A,y2:T})))}var iR=function(t){function e(){return Rat(this,e),Lat(this,e,arguments)}return Bat(e,t),Mat(e,[{key:"render",value:function(){return D.createElement(Yat,this.props)}}])}(D.Component);nR(iR,"displayName","ReferenceLine");nR(iR,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function VI(){return VI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},VI.apply(this,arguments)}function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function d7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function f7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d7(Object(r),!0).forEach(function(n){tS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qat(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wre(n.key),n)}}function Zat(t,e,r){return e&&Qat(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jat(t,e,r){return e=bb(e),eot(t,xre()?Reflect.construct(e,r||[],bb(t).constructor):e.apply(t,r))}function eot(t,e){if(e&&(Ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tot(t)}function tot(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xre=function(){return!!t})()}function bb(t){return bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bb(t)}function rot(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zI(t,e)}function zI(t,e){return zI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zI(t,e)}function tS(t,e,r){return e=wre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wre(t){var e=not(t,"string");return Ph(e)=="symbol"?e:e+""}function not(t,e){if(Ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iot=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=Z3({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return es(e,"discard")&&!o.isInRange(s)?null:s},rS=function(t){function e(){return Xat(this,e),Jat(this,e,arguments)}return rot(e,t),Zat(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,u=on(i),d=on(a);if(Us(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=iot(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,g=m.shape,v=m.className,x=es(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=f7(f7({clipPath:x},st(this.props,!0)),{},{cx:h,cy:p});return D.createElement(br,{className:gt("recharts-reference-dot",v)},e.renderDot(g,y),Qn.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(D.Component);tS(rS,"displayName","ReferenceDot");tS(rS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});tS(rS,"renderDot",function(t,e){var r;return D.isValidElement(t)?r=D.cloneElement(t,e):Je(t)?r=t(e):r=D.createElement(Q3,VI({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function WI(){return WI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WI.apply(this,arguments)}function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function h7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function p7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h7(Object(r),!0).forEach(function(n){nS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oot(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_re(n.key),n)}}function sot(t,e,r){return e&&oot(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lot(t,e,r){return e=_b(e),cot(t,bre()?Reflect.construct(e,r||[],_b(t).constructor):e.apply(t,r))}function cot(t,e){if(e&&(Oh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uot(t)}function uot(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bre=function(){return!!t})()}function _b(t){return _b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_b(t)}function dot(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HI(t,e)}function HI(t,e){return HI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},HI(t,e)}function nS(t,e,r){return e=_re(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _re(t){var e=fot(t,"string");return Oh(e)=="symbol"?e:e+""}function fot(t,e){if(Oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hot=function(e,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=Z3({x:d.scale,y:f.scale}),p={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return es(a,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:lre(p,m)},iS=function(t){function e(){return aot(this,e),lot(this,e,arguments)}return dot(e,t),sot(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;Us(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=on(i),h=on(a),p=on(o),m=on(s),g=this.props.shape;if(!f&&!h&&!p&&!m&&!g)return null;var v=hot(f,h,p,m,this.props);if(!v&&!g)return null;var x=es(this.props,"hidden")?"url(#".concat(d,")"):void 0;return D.createElement(br,{className:gt("recharts-reference-area",l)},e.renderRect(g,p7(p7({clipPath:x},st(this.props,!0)),v)),Qn.renderCallByParent(this.props,v))}}])}(D.Component);nS(iS,"displayName","ReferenceArea");nS(iS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});nS(iS,"renderRect",function(t,e){var r;return D.isValidElement(t)?r=D.cloneElement(t,e):Je(t)?r=t(e):r=D.createElement(X3,WI({},e,{className:"recharts-reference-area-rect"})),r});function Sre(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function pot(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return vat(n,r)}function mot(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function Sb(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function got(t,e){return Sre(t,e+1)}function vot(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,s=e.end,l=0,u=1,d=o,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:Sre(n,u)};var g=l,v,x=function(){return v===void 0&&(v=r(m,g)),v},y=m.coordinate,w=l===0||Sb(t,y,x,d,s);w||(l=0,d=o,u+=1),w&&(d=y+t*(x()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Zv(t){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zv(t)}function m7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m7(Object(r),!0).forEach(function(n){yot(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yot(t,e,r){return e=xot(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xot(t){var e=wot(t,"string");return Zv(e)=="symbol"?e:e+""}function wot(t,e){if(Zv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bot(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(h){var p=a[h],m,g=function(){return m===void 0&&(m=r(p,h)),m};if(h===o-1){var v=t*(p.coordinate+t*g()/2-l);a[h]=p=Gn(Gn({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else a[h]=p=Gn(Gn({},p),{},{tickCoord:p.coordinate});var x=Sb(t,p.tickCoord,g,s,l);x&&(l=p.tickCoord-t*(g()/2+i),a[h]=Gn(Gn({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function _ot(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var d=n[s-1],f=r(d,s-1),h=t*(d.coordinate+t*f/2-u);o[s-1]=d=Gn(Gn({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var p=Sb(t,d.tickCoord,function(){return f},l,u);p&&(u=d.tickCoord-t*(f/2+i),o[s-1]=Gn(Gn({},d),{},{isShow:!0}))}for(var m=a?s-1:s,g=function(y){var w=o[y],S,E=function(){return S===void 0&&(S=r(w,y)),S};if(y===0){var C=t*(w.coordinate-t*E()/2-l);o[y]=w=Gn(Gn({},w),{},{tickCoord:C<0?w.coordinate-C*t:w.coordinate})}else o[y]=w=Gn(Gn({},w),{},{tickCoord:w.coordinate});var A=Sb(t,w.tickCoord,E,l,u);A&&(l=w.tickCoord+t*(E()/2+i),o[y]=Gn(Gn({},w),{},{isShow:!0}))},v=0;v<m;v++)g(v);return o}function aR(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(Ee(l)||xp.isSsr)return got(i,typeof l=="number"&&Ee(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=d&&p==="width"?sg(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(w,S){var E=Je(u)?u(w.value,S):w.value;return p==="width"?pot(sg(E,{fontSize:e,letterSpacing:r}),m,f):sg(E,{fontSize:e,letterSpacing:r})[p]},v=i.length>=2?mo(i[1].coordinate-i[0].coordinate):1,x=mot(a,v,p);return l==="equidistantPreserveStart"?vot(v,x,g,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=_ot(v,x,g,i,o,l==="preserveStartEnd"):h=bot(v,x,g,i,o),h.filter(function(y){return y.isShow}))}var Sot=["viewBox"],Eot=["viewBox"],Aot=["ticks"];function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mf.apply(this,arguments)}function g7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g7(Object(r),!0).forEach(function(n){oR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MA(t,e){if(t==null)return{};var r=Cot(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cot(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Tot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Are(n.key),n)}}function Not(t,e,r){return e&&v7(t.prototype,e),r&&v7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iot(t,e,r){return e=Eb(e),Pot(t,Ere()?Reflect.construct(e,r||[],Eb(t).constructor):e.apply(t,r))}function Pot(t,e){if(e&&(jh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oot(t)}function Oot(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ere(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ere=function(){return!!t})()}function Eb(t){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eb(t)}function jot(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GI(t,e)}function GI(t,e){return GI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GI(t,e)}function oR(t,e,r){return e=Are(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Are(t){var e=kot(t,"string");return jh(e)=="symbol"?e:e+""}function kot(t,e){if(jh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sp=function(t){function e(r){var n;return Tot(this,e),n=Iot(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return jot(e,t),Not(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=MA(n,Sot),s=this.props,l=s.viewBox,u=MA(s,Eot);return!kf(a,l)||!kf(o,u)||!kf(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,m,g,v,x,y,w=f?-1:1,S=n.tickSize||d,E=Ee(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=m=n.coordinate,v=o+ +!f*l,g=v-w*S,y=g-w*h,x=E;break;case"left":g=v=n.coordinate,m=a+ +!f*s,p=m-w*S,x=p-w*h,y=E;break;case"right":g=v=n.coordinate,m=a+ +f*s,p=m+w*S,x=p+w*h,y=E;break;default:p=m=n.coordinate,v=o+ +f*l,g=v+w*S,y=g+w*h,x=E;break}return{line:{x1:p,y1:g,x2:m,y2:v},tick:{x,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,f=fi(fi(fi({},st(this.props,!1)),st(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=fi(fi({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=fi(fi({},f),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return D.createElement("line",mf({},f,{className:gt("recharts-cartesian-axis-line",Ra(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,p=aR(fi(fi({},this.props),{},{ticks:n}),i,a),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=st(this.props,!1),x=st(d,!1),y=fi(fi({},v),{},{fill:"none"},st(l,!1)),w=p.map(function(S,E){var C=o.getTickLineCoord(S),A=C.line,T=C.tick,N=fi(fi(fi(fi({textAnchor:m,verticalAnchor:g},v),{},{stroke:"none",fill:u},x),T),{},{index:E,payload:S,visibleTicksCount:p.length,tickFormatter:f});return D.createElement(br,mf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Mw(o.props,S,E)),l&&D.createElement("line",mf({},y,A,{className:gt("recharts-cartesian-axis-tick-line",Ra(l,"className"))})),d&&e.renderTickItem(d,N,"".concat(Je(f)?f(S.value,E):S.value).concat(h||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=MA(f,Aot),m=h;return Je(l)&&(m=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!m||!m.length?null:D.createElement(br,{className:gt("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Qn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return D.isValidElement(n)?o=D.cloneElement(n,i):Je(n)?o=n(i):o=D.createElement(qw,mf({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(b.Component);oR(Sp,"displayName","CartesianAxis");oR(Sp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Rot=["x1","y1","x2","y2","key"],Dot=["offset"];function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function y7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y7(Object(r),!0).forEach(function(n){Mot(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mot(t,e,r){return e=Lot(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lot(t){var e=$ot(t,"string");return dd(e)=="symbol"?e:e+""}function $ot(t,e){if(dd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cu(){return Cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cu.apply(this,arguments)}function x7(t,e){if(t==null)return{};var r=Fot(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fot(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Bot=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return D.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Cre(t,e){var r;if(D.isValidElement(t))r=D.cloneElement(t,e);else if(Je(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=x7(e,Rot),u=st(l,!1);u.offset;var d=x7(u,Dot);r=D.createElement("line",Cu({},d,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function Uot(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Zn(Zn({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(l),index:l});return Cre(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Vot(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Zn(Zn({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(l),index:l});return Cre(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function zot(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?i+o-h:d[p+1]-h;if(g<=0)return null;var v=p%e.length;return D.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:g,width:a,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Wot(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?a+s-h:d[p+1]-h;if(g<=0)return null;var v=p%n.length;return D.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:g,height:l,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Hot=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return Ute(aR(Zn(Zn(Zn({},Sp.defaultProps),n),{},{ticks:Rs(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},Got=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return Ute(aR(Zn(Zn(Zn({},Sp.defaultProps),n),{},{ticks:Rs(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},Bd={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Tre(t){var e,r,n,i,a,o,s=tR(),l=rR(),u=kat(),d=Zn(Zn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Bd.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Bd.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Bd.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Bd.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Bd.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Bd.verticalFill,x:Ee(t.x)?t.x:u.left,y:Ee(t.y)?t.y:u.top,width:Ee(t.width)?t.width:u.width,height:Ee(t.height)?t.height:u.height}),f=d.x,h=d.y,p=d.width,m=d.height,g=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,y=Pat(),w=Oat();if(!Ee(p)||p<=0||!Ee(m)||m<=0||!Ee(f)||f!==+f||!Ee(h)||h!==+h)return null;var S=d.verticalCoordinatesGenerator||Hot,E=d.horizontalCoordinatesGenerator||Got,C=d.horizontalPoints,A=d.verticalPoints;if((!C||!C.length)&&Je(E)){var T=v&&v.length,N=E({yAxis:w?Zn(Zn({},w),{},{ticks:T?v:w.ticks}):void 0,width:s,height:l,offset:u},T?!0:g);Us(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(dd(N),"]")),Array.isArray(N)&&(C=N)}if((!A||!A.length)&&Je(S)){var I=x&&x.length,j=S({xAxis:y?Zn(Zn({},y),{},{ticks:I?x:y.ticks}):void 0,width:s,height:l,offset:u},I?!0:g);Us(Array.isArray(j),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(dd(j),"]")),Array.isArray(j)&&(A=j)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement(Bot,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),D.createElement(Uot,Cu({},d,{offset:u,horizontalPoints:C,xAxis:y,yAxis:w})),D.createElement(Vot,Cu({},d,{offset:u,verticalPoints:A,xAxis:y,yAxis:w})),D.createElement(zot,Cu({},d,{horizontalPoints:C})),D.createElement(Wot,Cu({},d,{verticalPoints:A})))}Tre.displayName="CartesianGrid";var qot=["layout","type","stroke","connectNulls","isRange","ref"],Kot=["key"],Nre;function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function Ire(t,e){if(t==null)return{};var r=Yot(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yot(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Tu(){return Tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tu.apply(this,arguments)}function w7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w7(Object(r),!0).forEach(function(n){zo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ore(n.key),n)}}function Qot(t,e,r){return e&&b7(t.prototype,e),r&&b7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zot(t,e,r){return e=Ab(e),Jot(t,Pre()?Reflect.construct(e,r||[],Ab(t).constructor):e.apply(t,r))}function Jot(t,e){if(e&&(kh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return est(t)}function est(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pre=function(){return!!t})()}function Ab(t){return Ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ab(t)}function tst(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qI(t,e)}function qI(t,e){return qI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qI(t,e)}function zo(t,e,r){return e=Ore(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ore(t){var e=rst(t,"string");return kh(e)=="symbol"?e:e+""}function rst(t,e){if(kh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kc=function(t){function e(){var r;Xot(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Zot(this,e,[].concat(i)),zo(r,"state",{isAnimationFinished:!0}),zo(r,"id",U0("recharts-area-")),zo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Je(o)&&o()}),zo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Je(o)&&o()}),r}return tst(e,t),Qot(e,[{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,u=l.dot,d=l.points,f=l.dataKey,h=st(this.props,!1),p=st(u,!0),m=d.map(function(v,x){var y=Tl(Tl(Tl({key:"dot-".concat(x),r:3},h),p),{},{index:x,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return e.renderDotItem(u,y)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return D.createElement(br,Tu({className:"recharts-area-dots"},g),m)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].x,u=o[o.length-1].x,d=n*Math.abs(l-u),f=Hl(o.map(function(h){return h.y||0}));return Ee(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Hl(a.map(function(h){return h.y||0})),f)),Ee(f)?D.createElement("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].y,u=o[o.length-1].y,d=n*Math.abs(l-u),f=Hl(o.map(function(h){return h.x||0}));return Ee(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Hl(a.map(function(h){return h.x||0})),f)),Ee(f)?D.createElement("rect",{x:0,y:l<u?l:l-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,o){var s=this.props,l=s.layout,u=s.type,d=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var p=Ire(s,qot);return D.createElement(br,{clipPath:a?"url(#clipPath-".concat(o,")"):null},D.createElement(ug,Tu({},st(p,!0),{points:n,connectNulls:f,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&D.createElement(ug,Tu({},st(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&D.createElement(ug,Tu({},st(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,l=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,m=this.state,g=m.prevPoints,v=m.prevBaseLine;return D.createElement(al,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var y=x.t;if(g){var w=g.length/s.length,S=s.map(function(T,N){var I=Math.floor(N*w);if(g[I]){var j=g[I],O=Na(j.x,T.x),P=Na(j.y,T.y);return Tl(Tl({},T),{},{x:O(y),y:P(y)})}return T}),E;if(Ee(l)&&typeof l=="number"){var C=Na(v,l);E=C(y)}else if(ft(l)||yp(l)){var A=Na(v,0);E=A(y)}else E=l.map(function(T,N){var I=Math.floor(N*w);if(v[I]){var j=v[I],O=Na(j.x,T.x),P=Na(j.y,T.y);return Tl(Tl({},T),{},{x:O(y),y:P(y)})}return T});return a.renderAreaStatically(S,E,n,i)}return D.createElement(br,null,D.createElement("defs",null,D.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(y))),D.createElement(br,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,l,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,o=a.points,s=a.baseLine,l=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&o&&o.length&&(!d&&h>0||!hh(d,o)||!hh(f,s))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,p=i.width,m=i.height,g=i.isAnimationActive,v=i.id;if(a||!s||!s.length)return null;var x=this.state.isAnimationFinished,y=s.length===1,w=gt("recharts-area",l),S=f&&f.allowDataOverflow,E=h&&h.allowDataOverflow,C=S||E,A=ft(v)?this.id:v,T=(n=st(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},N=T.r,I=N===void 0?3:N,j=T.strokeWidth,O=j===void 0?2:j,P=XHe(o)?o:{},M=P.clipDot,F=M===void 0?!0:M,B=I*2+O;return D.createElement(br,{className:w},S||E?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(A)},D.createElement("rect",{x:S?d:d-p/2,y:E?u:u-m/2,width:S?p:p*2,height:E?m:m*2})),!F&&D.createElement("clipPath",{id:"clipPath-dots-".concat(A)},D.createElement("rect",{x:d-B/2,y:u-B/2,width:p+B,height:m+B}))):null,y?null:this.renderArea(C,A),(o||y)&&this.renderDots(C,F,A),(!g||x)&&fc.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(b.PureComponent);Nre=Kc;zo(Kc,"displayName","Area");zo(Kc,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!xp.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});zo(Kc,"getBaseValue",function(t,e,r,n){var i=t.layout,a=t.baseValue,o=e.props.baseValue,s=o??a;if(Ee(s)&&typeof s=="number")return s;var l=i==="horizontal"?n:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});zo(Kc,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,s=t.bandSize,l=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=e.layout,m=u&&u.length,g=Nre.getBaseValue(e,r,n,i),v=p==="horizontal",x=!1,y=f.map(function(S,E){var C;m?C=u[d+E]:(C=ma(S,l),Array.isArray(C)?x=!0:C=[g,C]);var A=C[1]==null||m&&ma(S,l)==null;return v?{x:i9({axis:n,ticks:a,bandSize:s,entry:S,index:E}),y:A?null:i.scale(C[1]),value:C,payload:S}:{x:A?null:n.scale(C[1]),y:i9({axis:i,ticks:o,bandSize:s,entry:S,index:E}),value:C,payload:S}}),w;return m||x?w=y.map(function(S){var E=Array.isArray(S.value)?S.value[0]:null;return v?{x:S.x,y:E!=null&&S.y!=null?i.scale(E):null}:{x:E!=null?n.scale(E):null,y:S.y}}):w=v?i.scale(g):n.scale(g),Tl({points:y,baseLine:w,layout:p,isRange:x},h)});zo(Kc,"renderDotItem",function(t,e){var r;if(D.isValidElement(t))r=D.cloneElement(t,e);else if(Je(t))r=t(e);else{var n=gt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=Ire(e,Kot);r=D.createElement(Q3,Tu({},a,{key:i,className:n}))}return r});function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function nst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ist(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rre(n.key),n)}}function ast(t,e,r){return e&&ist(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ost(t,e,r){return e=Cb(e),sst(t,jre()?Reflect.construct(e,r||[],Cb(t).constructor):e.apply(t,r))}function sst(t,e){if(e&&(Rh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lst(t)}function lst(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jre=function(){return!!t})()}function Cb(t){return Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cb(t)}function cst(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KI(t,e)}function KI(t,e){return KI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KI(t,e)}function kre(t,e,r){return e=Rre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rre(t){var e=ust(t,"string");return Rh(e)=="symbol"?e:e+""}function ust(t,e){if(Rh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function YI(){return YI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YI.apply(this,arguments)}function dst(t){var e=t.xAxisId,r=tR(),n=rR(),i=mre(e);return i==null?null:D.createElement(Sp,YI({},i,{className:gt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Rs(o,!0)}}))}var aS=function(t){function e(){return nst(this,e),ost(this,e,arguments)}return cst(e,t),ast(e,[{key:"render",value:function(){return D.createElement(dst,this.props)}}])}(D.Component);kre(aS,"displayName","XAxis");kre(aS,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function fst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hst(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lre(n.key),n)}}function pst(t,e,r){return e&&hst(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mst(t,e,r){return e=Tb(e),gst(t,Dre()?Reflect.construct(e,r||[],Tb(t).constructor):e.apply(t,r))}function gst(t,e){if(e&&(Dh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vst(t)}function vst(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dre=function(){return!!t})()}function Tb(t){return Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tb(t)}function yst(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XI(t,e)}function XI(t,e){return XI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XI(t,e)}function Mre(t,e,r){return e=Lre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lre(t){var e=xst(t,"string");return Dh(e)=="symbol"?e:e+""}function xst(t,e){if(Dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function QI(){return QI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QI.apply(this,arguments)}var wst=function(e){var r=e.yAxisId,n=tR(),i=rR(),a=gre(r);return a==null?null:D.createElement(Sp,QI({},a,{className:gt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return Rs(s,!0)}}))},oS=function(t){function e(){return fst(this,e),mst(this,e,arguments)}return yst(e,t),pst(e,[{key:"render",value:function(){return D.createElement(wst,this.props)}}])}(D.Component);Mre(oS,"displayName","YAxis");Mre(oS,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _7(t){return Est(t)||Sst(t)||_st(t)||bst()}function bst(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _st(t,e){if(t){if(typeof t=="string")return ZI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZI(t,e)}}function Sst(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Est(t){if(Array.isArray(t))return ZI(t)}function ZI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var JI=function(e,r,n,i,a){var o=wo(e,iR),s=wo(e,rS),l=[].concat(_7(o),_7(s)),u=wo(e,iS),d="".concat(i,"Id"),f=i[0],h=r;if(l.length&&(h=l.reduce(function(g,v){if(v.props[d]===n&&es(v.props,"extendDomain")&&Ee(v.props[f])){var x=v.props[f];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},h)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");h=u.reduce(function(g,v){if(v.props[d]===n&&es(v.props,"extendDomain")&&Ee(v.props[p])&&Ee(v.props[m])){var x=v.props[p],y=v.props[m];return[Math.min(g[0],x,y),Math.max(g[1],x,y)]}return g},h)}return a&&a.length&&(h=a.reduce(function(g,v){return Ee(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},$re={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function a(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||l,h),m=r?r+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,p,m){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],x=arguments.length,y,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,m),!0}for(w=1,y=new Array(x-1);w<x;w++)y[w-1]=arguments[w];v.fn.apply(v.context,y)}else{var S=v.length,E;for(w=0;w<S;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),x){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!y)for(E=1,y=new Array(x-1);E<x;E++)y[E-1]=arguments[E];v[w].fn.apply(v[w].context,y)}}return!0},s.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&o(this,p);else{for(var g=0,v=[],x=m.length;g<x;g++)(m[g].fn!==d||h&&!m[g].once||f&&m[g].context!==f)&&v.push(m[g]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})($re);var Ast=$re.exports;const Cst=dt(Ast);var LA=new Cst,$A="recharts.syncMouseEvents";function Jv(t){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jv(t)}function Tst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nst(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fre(n.key),n)}}function Ist(t,e,r){return e&&Nst(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FA(t,e,r){return e=Fre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fre(t){var e=Pst(t,"string");return Jv(e)=="symbol"?e:e+""}function Pst(t,e){if(Jv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ost=function(){function t(){Tst(this,t),FA(this,"activeIndex",0),FA(this,"coordinateList",[]),FA(this,"layout","horizontal")}return Ist(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,u=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+u,h=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function jst(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&Ee(n)&&Ee(i))return!0}return!1}function kst(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function Bre(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=jn(e,r,n,i),s=jn(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function Rst(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=jn(s,l,u,f),p=jn(s,l,d,f);n=h.x,i=h.y,a=p.x,o=p.y}else return Bre(e);return[{x:n,y:i},{x:a,y:o}]}function e0(t){"@babel/helpers - typeof";return e0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e0(t)}function S7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function m1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S7(Object(r),!0).forEach(function(n){Dst(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dst(t,e,r){return e=Mst(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mst(t){var e=Lst(t,"string");return e0(e)=="symbol"?e:e+""}function Lst(t,e){if(e0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(e0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $st(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var m,g=ug;if(h==="ScatterChart")m=o,g=jnt;else if(h==="BarChart")m=kst(f,o,l,d),g=X3;else if(f==="radial"){var v=Bre(o),x=v.cx,y=v.cy,w=v.radius,S=v.startAngle,E=v.endAngle;m={cx:x,cy:y,startAngle:S,endAngle:E,innerRadius:w,outerRadius:w},g=Gte}else m={points:Rst(f,o,l)},g=ug;var C=m1(m1(m1(m1({stroke:"#ccc",pointerEvents:"none"},l),m),st(p,!1)),{},{payload:s,payloadIndex:u,className:gt("recharts-tooltip-cursor",p.className)});return b.isValidElement(p)?b.cloneElement(p,C):b.createElement(g,C)}var Fst=["item"],Bst=["children","className","width","height","style","compact","title","desc"];function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function gf(){return gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gf.apply(this,arguments)}function E7(t,e){return zst(t)||Vst(t,e)||Vre(t,e)||Ust()}function Ust(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vst(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function zst(t){if(Array.isArray(t))return t}function A7(t,e){if(t==null)return{};var r=Wst(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wst(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Hst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gst(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zre(n.key),n)}}function qst(t,e,r){return e&&Gst(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kst(t,e,r){return e=Nb(e),Yst(t,Ure()?Reflect.construct(e,r||[],Nb(t).constructor):e.apply(t,r))}function Yst(t,e){if(e&&(Mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xst(t)}function Xst(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ure(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ure=function(){return!!t})()}function Nb(t){return Nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nb(t)}function Qst(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eP(t,e)}function eP(t,e){return eP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eP(t,e)}function Lh(t){return elt(t)||Jst(t)||Vre(t)||Zst()}function Zst(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vre(t,e){if(t){if(typeof t=="string")return tP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tP(t,e)}}function Jst(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function elt(t){if(Array.isArray(t))return tP(t)}function tP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function C7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function se(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C7(Object(r),!0).forEach(function(n){Ge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ge(t,e,r){return e=zre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zre(t){var e=tlt(t,"string");return Mh(e)=="symbol"?e:e+""}function tlt(t,e){if(Mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rlt={xAxis:["bottom","top"],yAxis:["left","right"]},nlt={width:"100%",height:"100%"},Wre={x:0,y:0};function g1(t){return t}var ilt=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},alt=function(e,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return se(se(se({},i),jn(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return se(se(se({},i),jn(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return Wre},sS=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Lh(s),Lh(u)):s},[]);return o.length>0?o:e&&e.length&&Ee(i)&&Ee(a)?e.slice(i,a+1):[]};function Hre(t){return t==="number"?[0,"auto"]:void 0}var rP=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,s=sS(r,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;h=Rw(p,o.dataKey,i)}else h=f&&f[n]||s[n];return h?[].concat(Lh(l),[zte(u,h)]):l},[])},T7=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=ilt(a,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=bet(o,s,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=rP(e,r,d,f),p=alt(n,s,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},olt=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,p=Bte(d,a);return n.reduce(function(m,g){var v,x=g.type.defaultProps!==void 0?se(se({},g.type.defaultProps),g.props):g.props,y=x.type,w=x.dataKey,S=x.allowDataOverflow,E=x.allowDuplicatedCategory,C=x.scale,A=x.ticks,T=x.includeHidden,N=x[o];if(m[N])return m;var I=sS(e.data,{graphicalItems:i.filter(function(Y){var Q,ue=o in Y.props?Y.props[o]:(Q=Y.type.defaultProps)===null||Q===void 0?void 0:Q[o];return ue===N}),dataStartIndex:l,dataEndIndex:u}),j=I.length,O,P,M;jst(x.domain,S,y)&&(O=bI(x.domain,null,S),p&&(y==="number"||C!=="auto")&&(M=cg(I,w,"category")));var F=Hre(y);if(!O||O.length===0){var B,W=(B=x.domain)!==null&&B!==void 0?B:F;if(w){if(O=cg(I,w,y),y==="category"&&p){var $=BHe(O);E&&$?(P=O,O=mv(0,j)):E||(O=l9(W,O,g).reduce(function(Y,Q){return Y.indexOf(Q)>=0?Y:[].concat(Lh(Y),[Q])},[]))}else if(y==="category")E?O=O.filter(function(Y){return Y!==""&&!ft(Y)}):O=l9(W,O,g).reduce(function(Y,Q){return Y.indexOf(Q)>=0||Q===""||ft(Q)?Y:[].concat(Lh(Y),[Q])},[]);else if(y==="number"){var U=Tet(I,i.filter(function(Y){var Q,ue,de=o in Y.props?Y.props[o]:(Q=Y.type.defaultProps)===null||Q===void 0?void 0:Q[o],he="hide"in Y.props?Y.props.hide:(ue=Y.type.defaultProps)===null||ue===void 0?void 0:ue.hide;return de===N&&(T||!he)}),w,a,d);U&&(O=U)}p&&(y==="number"||C!=="auto")&&(M=cg(I,w,"category"))}else p?O=mv(0,j):s&&s[N]&&s[N].hasStack&&y==="number"?O=h==="expand"?[0,1]:Vte(s[N].stackGroups,l,u):O=Fte(I,i.filter(function(Y){var Q=o in Y.props?Y.props[o]:Y.type.defaultProps[o],ue="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return Q===N&&(T||!ue)}),y,d,!0);if(y==="number")O=JI(f,O,N,a,A),W&&(O=bI(W,O,S));else if(y==="category"&&W){var X=W,H=O.every(function(Y){return X.indexOf(Y)>=0});H&&(O=X)}}return se(se({},m),{},Ge({},N,se(se({},x),{},{axisType:a,domain:O,categoricalDomain:M,duplicateDomain:P,originalDomain:(v=x.domain)!==null&&v!==void 0?v:F,isCategorical:p,layout:d})))},{})},slt=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=sS(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),p=h.length,m=Bte(d,a),g=-1;return n.reduce(function(v,x){var y=x.type.defaultProps!==void 0?se(se({},x.type.defaultProps),x.props):x.props,w=y[o],S=Hre("number");if(!v[w]){g++;var E;return m?E=mv(0,p):s&&s[w]&&s[w].hasStack?(E=Vte(s[w].stackGroups,l,u),E=JI(f,E,w,a)):(E=bI(S,Fte(h,n.filter(function(C){var A,T,N=o in C.props?C.props[o]:(A=C.type.defaultProps)===null||A===void 0?void 0:A[o],I="hide"in C.props?C.props.hide:(T=C.type.defaultProps)===null||T===void 0?void 0:T.hide;return N===w&&!I}),"number",d),i.defaultProps.allowDataOverflow),E=JI(f,E,w,a)),se(se({},v),{},Ge({},w,se(se({axisType:a},i.defaultProps),{},{hide:!0,orientation:Ra(rlt,"".concat(a,".").concat(g%2),null),domain:E,originalDomain:S,isCategorical:m,layout:d})))}return v},{})},llt=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=wo(d,a),p={};return h&&h.length?p=olt(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(p=slt(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},clt=function(e){var r=$l(e),n=Rs(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:f_(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:sb(r,n)}},N7=function(e){var r=e.children,n=e.defaultShowTooltip,i=ta(r,Th),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},ult=function(e){return!e||!e.length?!1:e.some(function(r){var n=Bs(r&&r.type);return n&&n.indexOf("Bar")>=0})},I7=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},dlt=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=ta(f,Th),m=ta(f,Rf),g=Object.keys(l).reduce(function(E,C){var A=l[C],T=A.orientation;return!A.mirror&&!A.hide?se(se({},E),{},Ge({},T,E[T]+A.width)):E},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(E,C){var A=o[C],T=A.orientation;return!A.mirror&&!A.hide?se(se({},E),{},Ge({},T,Ra(E,"".concat(T))+A.height)):E},{top:h.top||0,bottom:h.bottom||0}),x=se(se({},v),g),y=x.bottom;p&&(x.bottom+=p.props.height||Th.defaultProps.height),m&&r&&(x=Aet(x,i,n,r));var w=u-x.left-x.right,S=d-x.top-x.bottom;return se(se({brushBottom:y},x),{},{width:Math.max(w,0),height:Math.max(S,0)})},flt=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},hlt=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(x,y){var w=y.graphicalItems,S=y.stackGroups,E=y.offset,C=y.updateId,A=y.dataStartIndex,T=y.dataEndIndex,N=x.barSize,I=x.layout,j=x.barGap,O=x.barCategoryGap,P=x.maxBarSize,M=I7(I),F=M.numericAxisName,B=M.cateAxisName,W=ult(w),$=[];return w.forEach(function(U,X){var H=sS(x.data,{graphicalItems:[U],dataStartIndex:A,dataEndIndex:T}),Y=U.type.defaultProps!==void 0?se(se({},U.type.defaultProps),U.props):U.props,Q=Y.dataKey,ue=Y.maxBarSize,de=Y["".concat(F,"Id")],he=Y["".concat(B,"Id")],pe={},J=l.reduce(function(it,yr){var Wt=y["".concat(yr.axisType,"Map")],Ht=Y["".concat(yr.axisType,"Id")];Wt&&Wt[Ht]||yr.axisType==="zAxis"||ud();var Sn=Wt[Ht];return se(se({},it),{},Ge(Ge({},yr.axisType,Sn),"".concat(yr.axisType,"Ticks"),Rs(Sn)))},pe),re=J[B],L=J["".concat(B,"Ticks")],q=S&&S[de]&&S[de].hasStack&&Fet(U,S[de].stackGroups),G=Bs(U.type).indexOf("Bar")>=0,ye=sb(re,L),me=[],ie=W&&_et({barSize:N,stackGroups:S,totalSize:flt(J,B)});if(G){var ne,Oe,Z=ft(ue)?P:ue,le=(ne=(Oe=sb(re,L,!0))!==null&&Oe!==void 0?Oe:Z)!==null&&ne!==void 0?ne:0;me=Eet({barGap:j,barCategoryGap:O,bandSize:le!==ye?le:ye,sizeList:ie[he],maxBarSize:Z}),le!==ye&&(me=me.map(function(it){return se(se({},it),{},{position:se(se({},it.position),{},{offset:it.position.offset-le/2})})}))}var xe=U&&U.type&&U.type.getComposedData;xe&&$.push({props:se(se({},xe(se(se({},J),{},{displayedData:H,props:x,dataKey:Q,item:U,bandSize:ye,barPosition:me,offset:E,stackedData:q,layout:I,dataStartIndex:A,dataEndIndex:T}))),{},Ge(Ge(Ge({key:U.key||"item-".concat(X)},F,J[F]),B,J[B]),"animationId",C)),childIndex:JHe(U,x.children),item:U})}),$},p=function(x,y){var w=x.props,S=x.dataStartIndex,E=x.dataEndIndex,C=x.updateId;if(!I$({props:w}))return null;var A=w.children,T=w.layout,N=w.stackOffset,I=w.data,j=w.reverseStackOrder,O=I7(T),P=O.numericAxisName,M=O.cateAxisName,F=wo(A,n),B=Met(I,F,"".concat(P,"Id"),"".concat(M,"Id"),N,j),W=l.reduce(function(Y,Q){var ue="".concat(Q.axisType,"Map");return se(se({},Y),{},Ge({},ue,llt(w,se(se({},Q),{},{graphicalItems:F,stackGroups:Q.axisType===P&&B,dataStartIndex:S,dataEndIndex:E}))))},{}),$=dlt(se(se({},W),{},{props:w,graphicalItems:F}),y==null?void 0:y.legendBBox);Object.keys(W).forEach(function(Y){W[Y]=d(w,W[Y],$,Y.replace("Map",""),r)});var U=W["".concat(M,"Map")],X=clt(U),H=h(w,se(se({},W),{},{dataStartIndex:S,dataEndIndex:E,updateId:C,graphicalItems:F,stackGroups:B,offset:$}));return se(se({formattedGraphicalItems:H,graphicalItems:F,offset:$,stackGroups:B},X),W)},m=function(v){function x(y){var w,S,E;return Hst(this,x),E=Kst(this,x,[y]),Ge(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ge(E,"accessibilityManager",new Ost),Ge(E,"handleLegendBBoxUpdate",function(C){if(C){var A=E.state,T=A.dataStartIndex,N=A.dataEndIndex,I=A.updateId;E.setState(se({legendBBox:C},p({props:E.props,dataStartIndex:T,dataEndIndex:N,updateId:I},se(se({},E.state),{},{legendBBox:C}))))}}),Ge(E,"handleReceiveSyncEvent",function(C,A,T){if(E.props.syncId===C){if(T===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(A)}}),Ge(E,"handleBrushChange",function(C){var A=C.startIndex,T=C.endIndex;if(A!==E.state.dataStartIndex||T!==E.state.dataEndIndex){var N=E.state.updateId;E.setState(function(){return se({dataStartIndex:A,dataEndIndex:T},p({props:E.props,dataStartIndex:A,dataEndIndex:T,updateId:N},E.state))}),E.triggerSyncEvent({dataStartIndex:A,dataEndIndex:T})}}),Ge(E,"handleMouseEnter",function(C){var A=E.getMouseInfo(C);if(A){var T=se(se({},A),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var N=E.props.onMouseEnter;Je(N)&&N(T,C)}}),Ge(E,"triggeredAfterMouseMove",function(C){var A=E.getMouseInfo(C),T=A?se(se({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var N=E.props.onMouseMove;Je(N)&&N(T,C)}),Ge(E,"handleItemMouseEnter",function(C){E.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Ge(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Ge(E,"handleMouseMove",function(C){C.persist(),E.throttleTriggeredAfterMouseMove(C)}),Ge(E,"handleMouseLeave",function(C){E.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};E.setState(A),E.triggerSyncEvent(A);var T=E.props.onMouseLeave;Je(T)&&T(A,C)}),Ge(E,"handleOuterEvent",function(C){var A=ZHe(C),T=Ra(E.props,"".concat(A));if(A&&Je(T)){var N,I;/.*touch.*/i.test(A)?I=E.getMouseInfo(C.changedTouches[0]):I=E.getMouseInfo(C),T((N=I)!==null&&N!==void 0?N:{},C)}}),Ge(E,"handleClick",function(C){var A=E.getMouseInfo(C);if(A){var T=se(se({},A),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var N=E.props.onClick;Je(N)&&N(T,C)}}),Ge(E,"handleMouseDown",function(C){var A=E.props.onMouseDown;if(Je(A)){var T=E.getMouseInfo(C);A(T,C)}}),Ge(E,"handleMouseUp",function(C){var A=E.props.onMouseUp;if(Je(A)){var T=E.getMouseInfo(C);A(T,C)}}),Ge(E,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Ge(E,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.handleMouseDown(C.changedTouches[0])}),Ge(E,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.handleMouseUp(C.changedTouches[0])}),Ge(E,"handleDoubleClick",function(C){var A=E.props.onDoubleClick;if(Je(A)){var T=E.getMouseInfo(C);A(T,C)}}),Ge(E,"handleContextMenu",function(C){var A=E.props.onContextMenu;if(Je(A)){var T=E.getMouseInfo(C);A(T,C)}}),Ge(E,"triggerSyncEvent",function(C){E.props.syncId!==void 0&&LA.emit($A,E.props.syncId,C,E.eventEmitterSymbol)}),Ge(E,"applySyncEvent",function(C){var A=E.props,T=A.layout,N=A.syncMethod,I=E.state.updateId,j=C.dataStartIndex,O=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)E.setState(se({dataStartIndex:j,dataEndIndex:O},p({props:E.props,dataStartIndex:j,dataEndIndex:O,updateId:I},E.state)));else if(C.activeTooltipIndex!==void 0){var P=C.chartX,M=C.chartY,F=C.activeTooltipIndex,B=E.state,W=B.offset,$=B.tooltipTicks;if(!W)return;if(typeof N=="function")F=N($,C);else if(N==="value"){F=-1;for(var U=0;U<$.length;U++)if($[U].value===C.activeLabel){F=U;break}}var X=se(se({},W),{},{x:W.left,y:W.top}),H=Math.min(P,X.x+X.width),Y=Math.min(M,X.y+X.height),Q=$[F]&&$[F].value,ue=rP(E.state,E.props.data,F),de=$[F]?{x:T==="horizontal"?$[F].coordinate:H,y:T==="horizontal"?Y:$[F].coordinate}:Wre;E.setState(se(se({},C),{},{activeLabel:Q,activeCoordinate:de,activePayload:ue,activeTooltipIndex:F}))}else E.setState(C)}),Ge(E,"renderCursor",function(C){var A,T=E.state,N=T.isTooltipActive,I=T.activeCoordinate,j=T.activePayload,O=T.offset,P=T.activeTooltipIndex,M=T.tooltipAxisBandSize,F=E.getTooltipEventType(),B=(A=C.props.active)!==null&&A!==void 0?A:N,W=E.props.layout,$=C.key||"_recharts-cursor";return D.createElement($st,{key:$,activeCoordinate:I,activePayload:j,activeTooltipIndex:P,chartName:r,element:C,isActive:B,layout:W,offset:O,tooltipAxisBandSize:M,tooltipEventType:F})}),Ge(E,"renderPolarAxis",function(C,A,T){var N=Ra(C,"type.axisType"),I=Ra(E.state,"".concat(N,"Map")),j=C.type.defaultProps,O=j!==void 0?se(se({},j),C.props):C.props,P=I&&I[O["".concat(N,"Id")]];return b.cloneElement(C,se(se({},P),{},{className:gt(N,P.className),key:C.key||"".concat(A,"-").concat(T),ticks:Rs(P,!0)}))}),Ge(E,"renderPolarGrid",function(C){var A=C.props,T=A.radialLines,N=A.polarAngles,I=A.polarRadius,j=E.state,O=j.radiusAxisMap,P=j.angleAxisMap,M=$l(O),F=$l(P),B=F.cx,W=F.cy,$=F.innerRadius,U=F.outerRadius;return b.cloneElement(C,{polarAngles:Array.isArray(N)?N:Rs(F,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(I)?I:Rs(M,!0).map(function(X){return X.coordinate}),cx:B,cy:W,innerRadius:$,outerRadius:U,key:C.key||"polar-grid",radialLines:T})}),Ge(E,"renderLegend",function(){var C=E.state.formattedGraphicalItems,A=E.props,T=A.children,N=A.width,I=A.height,j=E.props.margin||{},O=N-(j.left||0)-(j.right||0),P=Lte({children:T,formattedGraphicalItems:C,legendWidth:O,legendContent:u});if(!P)return null;var M=P.item,F=A7(P,Fst);return b.cloneElement(M,se(se({},F),{},{chartWidth:N,chartHeight:I,margin:j,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Ge(E,"renderTooltip",function(){var C,A=E.props,T=A.children,N=A.accessibilityLayer,I=ta(T,Lo);if(!I)return null;var j=E.state,O=j.isTooltipActive,P=j.activeCoordinate,M=j.activePayload,F=j.activeLabel,B=j.offset,W=(C=I.props.active)!==null&&C!==void 0?C:O;return b.cloneElement(I,{viewBox:se(se({},B),{},{x:B.left,y:B.top}),active:W,label:F,payload:W?M:[],coordinate:P,accessibilityLayer:N})}),Ge(E,"renderBrush",function(C){var A=E.props,T=A.margin,N=A.data,I=E.state,j=I.offset,O=I.dataStartIndex,P=I.dataEndIndex,M=I.updateId;return b.cloneElement(C,{key:C.key||"_recharts-brush",onChange:d1(E.handleBrushChange,C.props.onChange),data:N,x:Ee(C.props.x)?C.props.x:j.left,y:Ee(C.props.y)?C.props.y:j.top+j.height+j.brushBottom-(T.bottom||0),width:Ee(C.props.width)?C.props.width:j.width,startIndex:O,endIndex:P,updateId:"brush-".concat(M)})}),Ge(E,"renderReferenceElement",function(C,A,T){if(!C)return null;var N=E,I=N.clipPathId,j=E.state,O=j.xAxisMap,P=j.yAxisMap,M=j.offset,F=C.type.defaultProps||{},B=C.props,W=B.xAxisId,$=W===void 0?F.xAxisId:W,U=B.yAxisId,X=U===void 0?F.yAxisId:U;return b.cloneElement(C,{key:C.key||"".concat(A,"-").concat(T),xAxis:O[$],yAxis:P[X],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:I})}),Ge(E,"renderActivePoints",function(C){var A=C.item,T=C.activePoint,N=C.basePoint,I=C.childIndex,j=C.isRange,O=[],P=A.props.key,M=A.item.type.defaultProps!==void 0?se(se({},A.item.type.defaultProps),A.item.props):A.item.props,F=M.activeDot,B=M.dataKey,W=se(se({index:I,dataKey:B,cx:T.x,cy:T.y,r:4,fill:Y3(A.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},st(F,!1)),Dw(F));return O.push(x.renderActiveDot(F,W,"".concat(P,"-activePoint-").concat(I))),N?O.push(x.renderActiveDot(F,se(se({},W),{},{cx:N.x,cy:N.y}),"".concat(P,"-basePoint-").concat(I))):j&&O.push(null),O}),Ge(E,"renderGraphicChild",function(C,A,T){var N=E.filterFormatItem(C,A,T);if(!N)return null;var I=E.getTooltipEventType(),j=E.state,O=j.isTooltipActive,P=j.tooltipAxis,M=j.activeTooltipIndex,F=j.activeLabel,B=E.props.children,W=ta(B,Lo),$=N.props,U=$.points,X=$.isRange,H=$.baseLine,Y=N.item.type.defaultProps!==void 0?se(se({},N.item.type.defaultProps),N.item.props):N.item.props,Q=Y.activeDot,ue=Y.hide,de=Y.activeBar,he=Y.activeShape,pe=!!(!ue&&O&&W&&(Q||de||he)),J={};I!=="axis"&&W&&W.props.trigger==="click"?J={onClick:d1(E.handleItemMouseEnter,C.props.onClick)}:I!=="axis"&&(J={onMouseLeave:d1(E.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:d1(E.handleItemMouseEnter,C.props.onMouseEnter)});var re=b.cloneElement(C,se(se({},N.props),J));function L(yr){return typeof P.dataKey=="function"?P.dataKey(yr.payload):null}if(pe)if(M>=0){var q,G;if(P.dataKey&&!P.allowDuplicatedCategory){var ye=typeof P.dataKey=="function"?L:"payload.".concat(P.dataKey.toString());q=Rw(U,ye,F),G=X&&H&&Rw(H,ye,F)}else q=U==null?void 0:U[M],G=X&&H&&H[M];if(he||de){var me=C.props.activeIndex!==void 0?C.props.activeIndex:M;return[b.cloneElement(C,se(se(se({},N.props),J),{},{activeIndex:me})),null,null]}if(!ft(q))return[re].concat(Lh(E.renderActivePoints({item:N,activePoint:q,basePoint:G,childIndex:M,isRange:X})))}else{var ie,ne=(ie=E.getItemByXY(E.state.activeCoordinate))!==null&&ie!==void 0?ie:{graphicalItem:re},Oe=ne.graphicalItem,Z=Oe.item,le=Z===void 0?C:Z,xe=Oe.childIndex,it=se(se(se({},N.props),J),{},{activeIndex:xe});return[b.cloneElement(le,it),null,null]}return X?[re,null,null]:[re,null]}),Ge(E,"renderCustomized",function(C,A,T){return b.cloneElement(C,se(se({key:"recharts-customized-".concat(T)},E.props),E.state))}),Ge(E,"renderMap",{CartesianGrid:{handler:g1,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:g1},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:g1},YAxis:{handler:g1},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:U0("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=Mee(E.triggeredAfterMouseMove,(S=y.throttleDelay)!==null&&S!==void 0?S:1e3/60),E.state={},E}return Qst(x,v),qst(x,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,E=w.data,C=w.height,A=w.layout,T=ta(S,Lo);if(T){var N=T.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,j=rP(this.state,E,N,I),O=this.state.tooltipTicks[N].coordinate,P=(this.state.offset.top+C)/2,M=A==="horizontal",F=M?{x:O,y:P}:{y:O,x:P},B=this.state.formattedGraphicalItems.find(function($){var U=$.item;return U.type.name==="Scatter"});B&&(F=se(se({},F),B.props.points[N].tooltipPosition),j=B.props.points[N].tooltipPayload);var W={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:I,activePayload:j,activeCoordinate:F};this.setState(W),this.renderCursor(T),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var E,C;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(w){UN([ta(w.children,Lo)],[ta(this.props.children,Lo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=ta(this.props.children,Lo);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return s.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,E=S.getBoundingClientRect(),C=YYe(E),A={chartX:Math.round(w.pageX-C.left),chartY:Math.round(w.pageY-C.top)},T=E.width/S.offsetWidth||1,N=this.inRange(A.chartX,A.chartY,T);if(!N)return null;var I=this.state,j=I.xAxisMap,O=I.yAxisMap,P=this.getTooltipEventType(),M=T7(this.state,this.props.data,this.props.layout,N);if(P!=="axis"&&j&&O){var F=$l(j).scale,B=$l(O).scale,W=F&&F.invert?F.invert(A.chartX):null,$=B&&B.invert?B.invert(A.chartY):null;return se(se({},A),{},{xValue:W,yValue:$},M)}return M?se(se({},A),M):null}},{key:"inRange",value:function(w,S){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,A=w/E,T=S/E;if(C==="horizontal"||C==="vertical"){var N=this.state.offset,I=A>=N.left&&A<=N.left+N.width&&T>=N.top&&T<=N.top+N.height;return I?{x:A,y:T}:null}var j=this.state,O=j.angleAxisMap,P=j.radiusAxisMap;if(O&&P){var M=$l(O);return d9({x:A,y:T},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),E=ta(w,Lo),C={};E&&S==="axis"&&(E.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Dw(this.props,this.handleOuterEvent);return se(se({},A),C)}},{key:"addListener",value:function(){LA.on($A,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){LA.removeListener($A,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,E){for(var C=this.state.formattedGraphicalItems,A=0,T=C.length;A<T;A++){var N=C[A];if(N.item===w||N.props.key===w.key||S===Bs(N.item.type)&&E===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,E=S.left,C=S.top,A=S.height,T=S.width;return D.createElement("defs",null,D.createElement("clipPath",{id:w},D.createElement("rect",{x:E,y:C,height:A,width:T})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,E){var C=E7(E,2),A=C[0],T=C[1];return se(se({},S),{},Ge({},A,T.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,E){var C=E7(E,2),A=C[0],T=C[1];return se(se({},S),{},Ge({},A,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,E=S.formattedGraphicalItems,C=S.activeItem;if(E&&E.length)for(var A=0,T=E.length;A<T;A++){var N=E[A],I=N.props,j=N.item,O=j.type.defaultProps!==void 0?se(se({},j.type.defaultProps),j.props):j.props,P=Bs(j.type);if(P==="Bar"){var M=(I.data||[]).find(function($){return _nt(w,$)});if(M)return{graphicalItem:N,payload:M}}else if(P==="RadialBar"){var F=(I.data||[]).find(function($){return d9(w,$)});if(F)return{graphicalItem:N,payload:F}}else if(Z_(N,C)||J_(N,C)||Kv(N,C)){var B=dit({graphicalItem:N,activeTooltipItem:C,itemData:O.data}),W=O.activeIndex===void 0?B:O.activeIndex;return{graphicalItem:se(se({},N),{},{childIndex:W}),payload:Kv(N,C)?O.data[B]:N.props.data[B]}}}return null}},{key:"render",value:function(){var w=this;if(!I$(this))return null;var S=this.props,E=S.children,C=S.className,A=S.width,T=S.height,N=S.style,I=S.compact,j=S.title,O=S.desc,P=A7(S,Bst),M=st(P,!1);if(I)return D.createElement(s7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(zN,gf({},M,{width:A,height:T,title:j,desc:O}),this.renderClipPath(),O$(E,this.renderMap)));if(this.props.accessibilityLayer){var F,B;M.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,M.role=(B=this.props.role)!==null&&B!==void 0?B:"application",M.onKeyDown=function($){w.accessibilityManager.keyboardEvent($)},M.onFocus=function(){w.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return D.createElement(s7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",gf({className:gt("recharts-wrapper",C),style:se({position:"relative",cursor:"default",width:A,height:T},N)},W,{ref:function(U){w.container=U}}),D.createElement(zN,gf({},M,{width:A,height:T,title:j,desc:O,style:nlt}),this.renderClipPath(),O$(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);Ge(m,"displayName",r),Ge(m,"defaultProps",se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ge(m,"getDerivedStateFromProps",function(v,x){var y=v.dataKey,w=v.data,S=v.children,E=v.width,C=v.height,A=v.layout,T=v.stackOffset,N=v.margin,I=x.dataStartIndex,j=x.dataEndIndex;if(x.updateId===void 0){var O=N7(v);return se(se(se({},O),{},{updateId:0},p(se(se({props:v},O),{},{updateId:0}),x)),{},{prevDataKey:y,prevData:w,prevWidth:E,prevHeight:C,prevLayout:A,prevStackOffset:T,prevMargin:N,prevChildren:S})}if(y!==x.prevDataKey||w!==x.prevData||E!==x.prevWidth||C!==x.prevHeight||A!==x.prevLayout||T!==x.prevStackOffset||!kf(N,x.prevMargin)){var P=N7(v),M={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},F=se(se({},T7(x,w,A)),{},{updateId:x.updateId+1}),B=se(se(se({},P),M),F);return se(se(se({},B),p(se({props:v},B),x)),{},{prevDataKey:y,prevData:w,prevWidth:E,prevHeight:C,prevLayout:A,prevStackOffset:T,prevMargin:N,prevChildren:S})}if(!UN(S,x.prevChildren)){var W,$,U,X,H=ta(S,Th),Y=H&&(W=($=H.props)===null||$===void 0?void 0:$.startIndex)!==null&&W!==void 0?W:I,Q=H&&(U=(X=H.props)===null||X===void 0?void 0:X.endIndex)!==null&&U!==void 0?U:j,ue=Y!==I||Q!==j,de=!ft(w),he=de&&!ue?x.updateId:x.updateId+1;return se(se({updateId:he},p(se(se({props:v},x),{},{updateId:he,dataStartIndex:Y,dataEndIndex:Q}),x)),{},{prevChildren:S,dataStartIndex:Y,dataEndIndex:Q})}return null}),Ge(m,"renderActiveDot",function(v,x,y){var w;return b.isValidElement(v)?w=b.cloneElement(v,x):Je(v)?w=v(x):w=D.createElement(Q3,x),D.createElement(br,{className:"recharts-active-dot",key:y},w)});var g=b.forwardRef(function(x,y){return D.createElement(m,gf({},x,{ref:y}))});return g.displayName=m.displayName,g},plt=hlt({chartName:"AreaChart",GraphicalChild:Kc,axisComponents:[{axisType:"xAxis",AxisComp:aS},{axisType:"yAxis",AxisComp:oS}],formatAxisMap:pat});const mlt=()=>{const{trips:t}=kwe(),[e,r]=b.useState([]),[n,i]=b.useState({total:0,percentageChange:0}),a=b.useMemo(()=>{const u=new Map;return t.forEach(d=>{if(d.status==="completed"){const f=new Date(d.createdAt),h=Yt(f,"MMM yyyy"),p=d.items.reduce((g,v)=>g+(v.price||0)*v.quantity,0);u.has(h)||u.set(h,{total:0,count:0,byCategory:{}});const m=u.get(h);m.total+=p,m.count+=1,d.items.forEach(g=>{g.category&&(m.byCategory[g.category]=(m.byCategory[g.category]||0)+(g.price||0)*g.quantity)})}}),Array.from(u.entries()).map(([d,f])=>({month:d,total:Number(f.total.toFixed(2)),average:Number((f.total/f.count).toFixed(2)),...f.byCategory})).sort((d,f)=>{const h=new Date(d.month),p=new Date(f.month);return h.getTime()-p.getTime()})},[t]),o=b.useMemo(()=>{const u=Yt(new Date,"MMM yyyy"),d=a.find(m=>m.month===u),f=Yt(new Date(new Date().setMonth(new Date().getMonth()-1)),"MMM yyyy"),h=a.find(m=>m.month===f),p=h&&d?(d.total-h.total)/h.total*100:0;return{total:(d==null?void 0:d.total)||0,percentageChange:Number(p.toFixed(1))}},[a]);b.useMemo(()=>{const u=Yt(new Date,"MMM yyyy"),d=a.find(f=>f.month===u);return d?Object.entries(d).filter(([f])=>!["month","total","average"].includes(f)).map(([f,h])=>({category:f,amount:typeof h=="number"?Number(h.toFixed(2)):0,percentage:typeof h=="number"?Number((h/d.total*100).toFixed(1)):0})).sort((f,h)=>h.amount-f.amount):[]},[a]);const s=b.useMemo(()=>t.filter(u=>u.status==="open"||u.status==="shopping").length,[t]),l=b.useMemo(()=>t.filter(u=>u.status==="completed").sort((u,d)=>new Date(d.createdAt).getTime()-new Date(u.createdAt).getTime()).slice(0,5),[t]);return b.useEffect(()=>{r(a),i(o)},[a,o]),c.jsx(ha,{children:c.jsxs("div",{className:"p-4 md:p-8 space-y-8",children:[c.jsx("h1",{className:"text-4xl font-bold text-blue-600",children:"Dashboard"}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c.jsxs(Te,{className:"bg-white",children:[c.jsxs(Fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Be,{className:"text-sm font-medium",children:"Total Spent (This Month)"}),c.jsxs(mt,{variant:n.percentageChange>=0?"default":"destructive",children:[n.percentageChange>=0?"+":"",n.percentageChange,"%"]})]}),c.jsxs(Ne,{children:[c.jsxs("div",{className:"text-2xl font-bold",children:["$",n.total.toFixed(2)]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.percentageChange>=0?"Increase":"Decrease"," from last month"]})]})]}),c.jsxs(Te,{className:"bg-white",children:[c.jsx(Fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:c.jsx(Be,{className:"text-sm font-medium",children:"Active Trips"})}),c.jsxs(Ne,{children:[c.jsx("div",{className:"text-2xl font-bold",children:s}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Open or in progress"})]})]})]}),c.jsx(Te,{className:"bg-white",children:c.jsxs(Ne,{className:"p-6",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-600 mb-4",children:"Recent Activity"}),c.jsx("div",{className:"space-y-4",children:l.map((u,d)=>{const f=u.items.reduce((h,p)=>h+(p.price||0)*p.quantity,0);return c.jsxs("div",{className:"flex items-center justify-between py-2",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:c.jsx(UC,{className:"h-4 w-4 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:u.name}),c.jsx("p",{className:"text-sm text-gray-500",children:new Date(u.createdAt).toLocaleDateString()})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"font-medium",children:["$",f.toFixed(2)]}),c.jsxs("p",{className:"text-sm text-gray-500",children:[u.items.length," items"]})]})]},u.id)})})]})}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c.jsx(Te,{className:"bg-white",children:c.jsxs(Ne,{className:"p-6",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-600 mb-4",children:"Spending Analysis"}),c.jsxs(Nc,{defaultValue:"trend",className:"w-full",children:[c.jsxs(el,{children:[c.jsx(sr,{value:"trend",className:"flex-1",children:"Trend"}),c.jsx(sr,{value:"categories",className:"flex-1",children:"Categories"})]}),c.jsx(jr,{value:"trend",children:c.jsx("div",{className:"h-[300px] w-full",children:c.jsx(VYe,{width:"100%",height:"100%",children:c.jsxs(plt,{data:a,children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"total",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#0ea5e9",stopOpacity:.3}),c.jsx("stop",{offset:"95%",stopColor:"#0ea5e9",stopOpacity:0})]})}),c.jsx(Tre,{strokeDasharray:"3 3",className:"stroke-muted"}),c.jsx(aS,{dataKey:"month"}),c.jsx(oS,{}),c.jsx(Lo,{content:({active:u,payload:d})=>u&&d&&d.length?c.jsx("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-[0.70rem] uppercase text-muted-foreground",children:"Month"}),c.jsx("span",{className:"font-bold text-muted-foreground",children:d[0].payload.month})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-[0.70rem] uppercase text-muted-foreground",children:"Total"}),c.jsxs("span",{className:"font-bold",children:["$",d[0].value]})]})]})}):null}),c.jsx(Kc,{type:"monotone",dataKey:"total",stroke:"#0ea5e9",fillOpacity:1,fill:"url(#total)"})]})})})}),c.jsx(jr,{value:"categories",children:c.jsx("div",{className:"text-center text-gray-500 py-8",children:"Category breakdown coming soon"})})]})]})}),c.jsx(Te,{className:"bg-white",children:c.jsxs(Ne,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(UC,{className:"h-5 w-5"}),c.jsx("h2",{className:"text-lg font-medium text-gray-600",children:"Shopping Insights"})]}),c.jsxs(Nc,{defaultValue:"hotspots",className:"w-full",children:[c.jsxs(el,{className:"mb-4",children:[c.jsx(sr,{value:"hotspots",className:"flex-1",children:"My List Hotspots"}),c.jsx(sr,{value:"overview",className:"flex-1",children:"Store Overview"}),c.jsx(sr,{value:"dive",className:"flex-1",children:"Item Deep Dive"}),c.jsx(sr,{value:"visits",className:"flex-1",children:"Recent Visits"})]}),c.jsx(jr,{value:"hotspots",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 border rounded-lg",children:[c.jsx("h3",{className:"font-medium mb-2",children:"Milk"}),c.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[c.jsx(Pr,{className:"h-4 w-4"}),c.jsx("span",{children:"No purchase frequency data yet."})]}),c.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2 mt-1",children:[c.jsx(Go,{className:"h-4 w-4"}),c.jsx("span",{children:"No pricing data to determine cheapest store."})]})]}),c.jsxs("div",{className:"p-4 border rounded-lg",children:[c.jsx("h3",{className:"font-medium mb-2",children:"Eggs"}),c.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[c.jsx(Pr,{className:"h-4 w-4"}),c.jsx("span",{children:"No purchase frequency data yet."})]}),c.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2 mt-1",children:[c.jsx(Go,{className:"h-4 w-4"}),c.jsx("span",{children:"No pricing data to determine cheapest store."})]})]})]})})]})]})})]})]})})},glt=()=>{var A,T;const{loginWithGoogle:t,loginWithEmail:e,registerWithEmail:r,isLoading:n,error:i,user:a}=qr(),o=Ki(),s=ds(),[l,u]=b.useState(null),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[m,g]=b.useState(!1),[v,x]=b.useState({email:"",password:"",name:"",confirmPassword:""}),y=((T=(A=s.state)==null?void 0:A.from)==null?void 0:T.pathname)||"/home",w=async()=>{u(null);try{await t()}catch(N){u("Login failed. Please try again."),console.error("Login failed on page:",N)}},S=async N=>{if(N.preventDefault(),u(null),!v.email||!v.password){u("Please fill in all required fields.");return}if(d){if(!v.name){u("Please enter your name.");return}if(v.password!==v.confirmPassword){u("Passwords do not match.");return}if(v.password.length<6){u("Password must be at least 6 characters long.");return}}try{d?await r(v.email,v.password,v.name):await e(v.email,v.password)}catch{}},E=()=>{f(!d),u(null),x({email:"",password:"",name:"",confirmPassword:""})},C=()=>{p(!h),u(null),x({email:"",password:"",name:"",confirmPassword:""})};return D.useEffect(()=>{a&&o(y,{replace:!0})},[a,o,y]),c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 via-purple-100 to-teal-100 flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute top-6 left-6",children:c.jsxs(j1,{to:"/",className:"flex items-center gap-2 text-teal-600 hover:text-teal-700 transition-colors",children:[c.jsx(tO,{className:"h-5 w-5"}),c.jsx("span",{className:"font-medium",children:"Back to Home"})]})}),c.jsxs(Te,{className:"w-full max-w-md border-none shadow-lg",children:[c.jsxs(Fe,{className:"space-y-1 text-center",children:[c.jsx("div",{className:"flex justify-center mb-2",children:c.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-50 flex items-center justify-center",children:c.jsx(sO,{className:"h-8 w-8 text-blue-500"})})}),c.jsx(Be,{className:"text-2xl font-bold text-slate-800",children:h&&d?"Create Account":"Welcome Back!"}),c.jsx(tt,{className:"text-slate-600",children:h&&d?"Sign up to get started with TaskaLoop.":"Sign in to continue to TaskaLoop."})]}),c.jsxs(Ne,{className:"space-y-4",children:[(i||l)&&c.jsx("p",{className:"text-center text-red-500 dark:text-red-400 bg-red-500/10 p-3 rounded-md",children:i||l}),h?c.jsxs("form",{onSubmit:S,className:"space-y-4",children:[d&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"name",children:"Full Name"}),c.jsx(Ue,{id:"name",type:"text",placeholder:"Enter your full name",value:v.name,onChange:N=>x({...v,name:N.target.value}),required:d})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"email",children:"Email"}),c.jsx(Ue,{id:"email",type:"email",placeholder:"Enter your email",value:v.email,onChange:N=>x({...v,email:N.target.value}),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"password",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ue,{id:"password",type:m?"text":"password",placeholder:"Enter your password",value:v.password,onChange:N=>x({...v,password:N.target.value}),required:!0,minLength:6}),c.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700",onClick:()=>g(!m),children:m?c.jsx(Qoe,{className:"h-4 w-4"}):c.jsx(Zoe,{className:"h-4 w-4"})})]})]}),d&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"confirmPassword",children:"Confirm Password"}),c.jsx(Ue,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:v.confirmPassword,onChange:N=>x({...v,confirmPassword:N.target.value}),required:d})]}),c.jsxs(K,{type:"submit",className:"w-full py-6 bg-gradient-to-r from-blue-500 to-teal-500 hover:from-blue-600 hover:to-teal-600 text-white",disabled:n,children:[n?c.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,d?"Create Account":"Sign In"]}),c.jsx("div",{className:"flex items-center justify-center space-x-2",children:c.jsx(K,{type:"button",variant:"ghost",onClick:E,className:"text-sm text-slate-600 hover:text-slate-800",children:d?"Already have an account? Sign in":"Need an account? Sign up"})}),c.jsx(K,{type:"button",variant:"ghost",onClick:C,className:"w-full text-sm text-slate-500 hover:text-slate-700",children:"← Back to other options"})]}):c.jsxs(c.Fragment,{children:[c.jsxs(K,{className:"w-full py-6 bg-gradient-to-r from-blue-500 to-teal-500 hover:from-blue-600 hover:to-teal-600 text-white",onClick:w,disabled:n,children:[n?c.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):c.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[c.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),c.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),c.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),c.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),c.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]}),"Sign in with Google"]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("span",{className:"w-full border-t border-gray-200"})}),c.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:c.jsx("span",{className:"bg-white px-2 text-slate-500",children:"Or continue with"})})]}),c.jsxs(K,{variant:"outline",className:"w-full py-6 border-slate-300 text-slate-700 hover:bg-slate-50",onClick:C,disabled:n,children:[c.jsx(Sf,{className:"mr-2 h-4 w-4"}),"Sign in with Email"]})]})]}),c.jsxs(Bt,{className:"flex flex-col space-y-4",children:[c.jsxs("p",{className:"text-center text-sm text-slate-500",children:["By signing in, you agree to our"," ",c.jsx(j1,{to:"#",className:"text-teal-600 hover:text-teal-700 underline underline-offset-4",children:"Terms of Service"})," ","and"," ",c.jsx(j1,{to:"#",className:"text-teal-600 hover:text-teal-700 underline underline-offset-4",children:"Privacy Policy"}),"."]}),!h&&c.jsx("p",{className:"text-center text-sm text-slate-500",children:"Don't have an account? It will be created automatically."})]})]})]})};function vlt(){const t=Ki(),[e,r]=b.useState(null),[n,i]=b.useState(!1),a="May",o=2025,s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],l={20:[{id:1,title:"Grocery Shopping",time:"3:30 PM",type:"shopping",location:"Trader Joe's",description:"Weekly grocery shopping for household items",status:"scheduled"},{id:2,title:"Dinner with Alex",time:"7:00 PM",type:"social",location:"Italian Restaurant",description:"Catch up dinner with Alex",status:"scheduled"}],22:[{id:3,title:"Pay Internet Bill",time:"All day",type:"task",description:"Monthly internet bill payment",status:"pending"}],25:[{id:4,title:"Household Supplies",time:"11:00 AM",type:"shopping",location:"Target",description:"Buy cleaning supplies and toiletries",status:"scheduled"}]},u=Array.from({length:35},(m,g)=>{const v=g-3;return{date:v<=0?`Apr ${30+v}`:v>31?`Jun ${v-31}`:`May ${v}`,day:v,isCurrentMonth:v>0&&v<=31,hasEvents:[1,5,10,15,20,22,25].includes(v),events:l[v]||[]}}),d=m=>{r(m),i(!0)},f=m=>{m.type==="shopping"?t("/trips"):console.log("Edit event:",m)},h=m=>{console.log("Complete task:",m),i(!1)},p=m=>{console.log("Delete event:",m),i(!1)};return c.jsxs("div",{className:"min-h-screen bg-slate-50",children:[c.jsx(kY,{}),c.jsx("main",{className:"md:pl-64 pb-16 md:pb-0",children:c.jsxs("div",{className:"p-4 md:p-8",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Calendar"}),c.jsx("p",{className:"text-slate-500",children:"Plan and manage your schedule"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("div",{className:"flex items-center border border-slate-200 rounded-md",children:[c.jsx(K,{variant:"ghost",size:"icon",className:"h-9 w-9 text-slate-500",children:c.jsx(Xb,{className:"h-4 w-4"})}),c.jsxs("div",{className:"px-2 font-medium",children:[a," ",o]}),c.jsx(K,{variant:"ghost",size:"icon",className:"h-9 w-9 text-slate-500",children:c.jsx(s0,{className:"h-4 w-4"})})]}),c.jsxs($t,{defaultValue:"month",children:[c.jsx(Ot,{className:"w-[120px] border-slate-200",children:c.jsx(Ft,{placeholder:"View"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"day",children:"Day"}),c.jsx(Se,{value:"week",children:"Week"}),c.jsx(Se,{value:"month",children:"Month"}),c.jsx(Se,{value:"agenda",children:"Agenda"})]})]}),c.jsxs(K,{className:"bg-teal-600 hover:bg-teal-700",children:[c.jsx(Or,{className:"h-4 w-4 mr-2"}),"Add Event"]})]})]}),c.jsx(Te,{className:"border-none shadow-sm",children:c.jsxs(Ne,{className:"p-0",children:[c.jsx("div",{className:"grid grid-cols-7 border-b border-slate-200",children:s.map((m,g)=>c.jsx("div",{className:`py-2 text-center text-sm font-medium ${g===0||g===6?"text-red-500":"text-slate-700"}`,children:m},m))}),c.jsx("div",{className:"grid grid-cols-7 grid-rows-5 divide-x divide-y divide-slate-200",children:u.map((m,g)=>c.jsxs("div",{className:`min-h-[120px] p-2 ${m.isCurrentMonth?"bg-white":"bg-slate-50"} hover:bg-slate-50 transition-colors`,children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("span",{className:`text-sm font-medium ${m.isCurrentMonth?m.date.includes("May 20")?"bg-teal-100 text-teal-800 w-6 h-6 rounded-full flex items-center justify-center":"text-slate-700":"text-slate-400"}`,children:m.day<=0?30+m.day:m.day>31?m.day-31:m.day}),m.hasEvents&&c.jsx("div",{className:"flex",children:c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-teal-500"})})]}),c.jsx("div",{className:"mt-1 space-y-1",children:m.events.map((v,x)=>c.jsxs("div",{className:`text-xs p-1 rounded truncate cursor-pointer hover:opacity-80 transition-opacity ${v.type==="shopping"?"bg-blue-100 text-blue-800":v.type==="social"?"bg-purple-100 text-purple-800":"bg-amber-100 text-amber-800"}`,onClick:()=>d(v),children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Pr,{className:"h-3 w-3"}),c.jsx("span",{children:v.time})]}),c.jsx("div",{className:"truncate font-medium",children:v.title})]},x))})]},g))})]})}),c.jsxs("div",{className:"mt-8",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Upcoming Events"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsx(Fe,{className:"pb-2",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx(Be,{children:"Today, May 20"}),c.jsx(tt,{children:"2 events scheduled"})]}),c.jsx(mt,{className:"bg-teal-100 text-teal-800 hover:bg-teal-100",children:"Today"})]})}),c.jsx(Ne,{className:"pb-2",children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-blue-50 border border-blue-100 cursor-pointer hover:bg-blue-100 transition-colors",onClick:()=>d(l[20][0]),children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:c.jsx(lr,{className:"h-5 w-5 text-blue-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-medium text-slate-800",children:"Grocery Shopping"}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx(Pr,{className:"h-3.5 w-3.5 text-slate-500"}),c.jsx("span",{className:"text-sm text-slate-500",children:"3:30 PM"})]}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx(sa,{className:"h-3.5 w-3.5 text-slate-500"}),c.jsx("span",{className:"text-sm text-slate-500",children:"Trader Joe's"})]})]}),c.jsxs(Zg,{children:[c.jsx(Jg,{asChild:!0,children:c.jsx(K,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400",onClick:m=>m.stopPropagation(),children:c.jsx(Ef,{className:"h-4 w-4"})})}),c.jsxs(ih,{align:"end",children:[c.jsx(gi,{onClick:()=>f(l[20][0]),children:"Edit Event"}),c.jsx(gi,{onClick:()=>t("/trips"),children:"View Shopping List"}),c.jsx(ev,{}),c.jsx(gi,{className:"text-red-600",onClick:()=>p(l[20][0]),children:"Cancel"})]})]})]}),c.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-purple-50 border border-purple-100 cursor-pointer hover:bg-purple-100 transition-colors",onClick:()=>d(l[20][1]),children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center flex-shrink-0",children:c.jsx(ti,{className:"h-5 w-5 text-purple-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-medium text-slate-800",children:"Dinner with Alex"}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx(Pr,{className:"h-3.5 w-3.5 text-slate-500"}),c.jsx("span",{className:"text-sm text-slate-500",children:"7:00 PM"})]}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx(sa,{className:"h-3.5 w-3.5 text-slate-500"}),c.jsx("span",{className:"text-sm text-slate-500",children:"Italian Restaurant"})]})]}),c.jsxs(Zg,{children:[c.jsx(Jg,{asChild:!0,children:c.jsx(K,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400",onClick:m=>m.stopPropagation(),children:c.jsx(Ef,{className:"h-4 w-4"})})}),c.jsxs(ih,{align:"end",children:[c.jsx(gi,{onClick:()=>f(l[20][1]),children:"Edit Event"}),c.jsx(gi,{children:"Send Message"}),c.jsx(ev,{}),c.jsx(gi,{className:"text-red-600",onClick:()=>p(l[20][1]),children:"Cancel"})]})]})]})]})})]}),c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsx(Fe,{className:"pb-2",children:c.jsx("div",{className:"flex justify-between items-start",children:c.jsxs("div",{children:[c.jsx(Be,{children:"Upcoming"}),c.jsx(tt,{children:"Events in the next 7 days"})]})})}),c.jsx(Ne,{className:"pb-2",children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>d(l[22][0]),children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center flex-shrink-0",children:c.jsx(tc,{className:"h-5 w-5 text-amber-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-medium text-slate-800",children:"Pay Internet Bill"}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx(Vu,{className:"h-3.5 w-3.5 text-slate-500"}),c.jsx("span",{className:"text-sm text-slate-500",children:"May 22, 2025"})]}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx(Pr,{className:"h-3.5 w-3.5 text-slate-500"}),c.jsx("span",{className:"text-sm text-slate-500",children:"All day"})]})]}),c.jsx(K,{variant:"outline",size:"sm",className:"border-slate-200",onClick:m=>m.stopPropagation(),children:"Remind Me"})]}),c.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>d(l[25][0]),children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:c.jsx(lr,{className:"h-5 w-5 text-blue-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-medium text-slate-800",children:"Household Supplies"}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx(Vu,{className:"h-3.5 w-3.5 text-slate-500"}),c.jsx("span",{className:"text-sm text-slate-500",children:"May 25, 2025"})]}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx(Pr,{className:"h-3.5 w-3.5 text-slate-500"}),c.jsx("span",{className:"text-sm text-slate-500",children:"11:00 AM"})]})]}),c.jsx(K,{variant:"outline",size:"sm",className:"border-slate-200",onClick:m=>m.stopPropagation(),children:"Remind Me"})]})]})}),c.jsx(Bt,{className:"pt-2",children:c.jsx(K,{variant:"ghost",className:"w-full text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:"View All Events"})})]})]})]})]})}),c.jsx(_r,{open:n,onOpenChange:i,children:c.jsxs(pr,{className:"max-w-md",children:[c.jsx(mr,{children:c.jsxs(gr,{className:"flex items-center gap-2",children:[(e==null?void 0:e.type)==="shopping"&&c.jsx(lr,{className:"h-5 w-5"}),(e==null?void 0:e.type)==="social"&&c.jsx(ti,{className:"h-5 w-5"}),(e==null?void 0:e.type)==="task"&&c.jsx(tc,{className:"h-5 w-5"}),"Event Details"]})}),e&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Title"}),c.jsx("p",{className:"text-lg font-semibold",children:e.title})]}),c.jsxs("div",{children:[c.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Time"}),c.jsxs("p",{className:"text-sm flex items-center gap-2",children:[c.jsx(Pr,{className:"h-4 w-4"}),e.time]})]}),e.location&&c.jsxs("div",{children:[c.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Location"}),c.jsxs("p",{className:"text-sm flex items-center gap-2",children:[c.jsx(sa,{className:"h-4 w-4"}),e.location]})]}),e.description&&c.jsxs("div",{children:[c.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Description"}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:e.description})]}),c.jsxs("div",{children:[c.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Type"}),c.jsx(mt,{variant:e.type==="shopping"?"default":e.type==="social"?"secondary":"outline",children:e.type})]}),c.jsxs("div",{className:"flex gap-2 pt-4",children:[e.type==="task"&&c.jsxs(K,{variant:"outline",size:"sm",onClick:()=>h(e),className:"flex-1",children:[c.jsx(qn,{className:"h-4 w-4 mr-2"}),"Mark Complete"]}),c.jsx(K,{variant:"outline",size:"sm",onClick:()=>{i(!1),f(e)},children:c.jsx(iO,{className:"h-4 w-4"})}),c.jsx(K,{variant:"outline",size:"sm",onClick:()=>p(e),children:c.jsx(lO,{className:"h-4 w-4"})})]})]})]})})]})}const ylt=async(t,e)=>{try{const n=(await vH(so,t,e)).user.uid,i=await qW(UW(tw,"admins",n));return i.exists()?{...i.data(),id:n}:(console.error("User is not an admin"),await so.signOut(),null)}catch(r){return console.error("Admin login error:",r),null}},Gre=async()=>{try{const t=so.currentUser;return t?(await qW(UW(tw,"admins",t.uid))).exists():!1}catch(t){return console.error("Error checking admin status:",t),!1}},xlt=async()=>{try{const e=(await qM(VM(tw,"users"))).docs.map(i=>({id:i.id,...i.data()})),n=(await qM(VM(tw,"admins"))).docs.map(i=>i.id);return e.filter(i=>!n.includes(i.id))}catch(t){return console.error("Error fetching users:",t),[]}},wlt=({onSuccess:t})=>{const[e,r]=b.useState(""),[n,i]=b.useState(""),[a,o]=b.useState(!1),[s,l]=b.useState(null),u=Ki(),d=async f=>{f.preventDefault(),l(null),o(!0);try{const h=await ylt(e,n);h?(localStorage.setItem("adminUser",JSON.stringify(h)),t&&t(h),u("/admin/dashboard")):l("Invalid admin credentials. Please try again.")}catch(h){console.error("Admin login error:",h),l("Login failed. Please check your credentials and try again.")}finally{o(!1)}};return c.jsxs(Te,{className:"w-full max-w-md mx-auto",children:[c.jsxs(Fe,{className:"space-y-1",children:[c.jsx("div",{className:"flex items-center justify-center mb-4",children:c.jsx(sO,{className:"h-12 w-12 text-primary"})}),c.jsx(Be,{className:"text-2xl text-center",children:"Admin Login"}),c.jsx(tt,{className:"text-center",children:"Enter your admin credentials to access the dashboard"})]}),c.jsx(Ne,{children:c.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s&&c.jsx("div",{className:"p-3 text-sm bg-destructive/10 text-destructive rounded-md",children:s}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"email",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:c.jsx(Sf,{className:"h-5 w-5 text-gray-400"})}),c.jsx(Ue,{id:"email",type:"email",placeholder:"admin@example.com",value:e,onChange:f=>r(f.target.value),className:"pl-10",required:!0})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"password",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:c.jsx(ose,{className:"h-5 w-5 text-gray-400"})}),c.jsx(Ue,{id:"password",type:"password",value:n,onChange:f=>i(f.target.value),className:"pl-10",required:!0})]})]}),c.jsx(K,{type:"submit",className:"w-full",disabled:a,children:a?"Logging in...":"Login as Admin"})]})}),c.jsx(Bt,{className:"flex justify-center",children:c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Not an admin? ",c.jsx("a",{href:"/login",className:"underline text-primary",children:"User Login"})]})})]})},blt=()=>{const t=Ki();b.useEffect(()=>{(async()=>{if(localStorage.getItem("adminUser"))try{await Gre()?(Gm.success("Welcome back, admin!"),t("/admin/dashboard")):localStorage.removeItem("adminUser")}catch(i){console.error("Error checking admin status:",i),localStorage.removeItem("adminUser")}})()},[t]);const e=r=>{Gm.success("Successfully logged in as admin!")};return c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:c.jsx("div",{className:"max-w-md w-full",children:c.jsx(wlt,{onSuccess:e})})})},qre=b.forwardRef(({className:t,...e},r)=>c.jsx("div",{className:"relative w-full overflow-auto",children:c.jsx("table",{ref:r,className:je("w-full caption-bottom text-sm",t),...e})}));qre.displayName="Table";const Kre=b.forwardRef(({className:t,...e},r)=>c.jsx("thead",{ref:r,className:je("[&_tr]:border-b",t),...e}));Kre.displayName="TableHeader";const Yre=b.forwardRef(({className:t,...e},r)=>c.jsx("tbody",{ref:r,className:je("[&_tr:last-child]:border-0",t),...e}));Yre.displayName="TableBody";const _lt=b.forwardRef(({className:t,...e},r)=>c.jsx("tfoot",{ref:r,className:je("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));_lt.displayName="TableFooter";const rx=b.forwardRef(({className:t,...e},r)=>c.jsx("tr",{ref:r,className:je("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));rx.displayName="TableRow";const Rm=b.forwardRef(({className:t,...e},r)=>c.jsx("th",{ref:r,className:je("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Rm.displayName="TableHead";const Gd=b.forwardRef(({className:t,...e},r)=>c.jsx("td",{ref:r,className:je("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Gd.displayName="TableCell";const Slt=b.forwardRef(({className:t,...e},r)=>c.jsx("caption",{ref:r,className:je("mt-4 text-sm text-muted-foreground",t),...e}));Slt.displayName="TableCaption";const Elt=()=>{const[t,e]=b.useState([]),[r,n]=b.useState(!0),[i,a]=b.useState(null),o=Ki();b.useEffect(()=>{if(!localStorage.getItem("adminUser")||!so.currentUser){Gm.error("Please login as admin to access this page"),o("/admin/login");return}s()},[o]);const s=async()=>{try{n(!0);const h=await xlt();e(h)}catch(h){console.error("Error fetching users:",h),a("Failed to load users. Please try again.")}finally{n(!1)}},l=async()=>{try{await so.signOut(),localStorage.removeItem("adminUser"),Gm.success("Successfully logged out"),o("/admin/login")}catch(h){console.error("Error signing out:",h),Gm.error("Failed to log out. Please try again.")}},u=h=>{try{const p=localStorage.getItem(`tasks_${h}`);return p?JSON.parse(p):[]}catch(p){return console.error("Error loading user tasks:",p),[]}},d=()=>{try{let h=0;return t.forEach(p=>{const m=u(p.id);h+=m.length}),h}catch{return 0}},f=()=>{try{let h=0;return t.forEach(p=>{try{const m=localStorage.getItem(`trips_${p.id}`);if(m){const g=JSON.parse(m);h+=g.length}}catch{}}),h}catch{return 0}};return c.jsx("div",{className:"min-h-screen bg-background p-6",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(sO,{className:"h-10 w-10 text-primary"}),c.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"})]}),c.jsxs(K,{variant:"outline",onClick:l,children:[c.jsx(xV,{className:"h-4 w-4 mr-2"}),"Logout"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[c.jsxs(Te,{children:[c.jsx(Fe,{className:"pb-2",children:c.jsx(Be,{className:"text-sm font-medium",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ti,{className:"h-4 w-4"}),"Total Users"]})})}),c.jsx(Ne,{children:c.jsx("div",{className:"text-3xl font-bold",children:t.length})})]}),c.jsxs(Te,{children:[c.jsx(Fe,{className:"pb-2",children:c.jsx(Be,{className:"text-sm font-medium",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(qoe,{className:"h-4 w-4"}),"Total Tasks"]})})}),c.jsx(Ne,{children:c.jsx("div",{className:"text-3xl font-bold",children:d()})})]}),c.jsxs(Te,{children:[c.jsx(Fe,{className:"pb-2",children:c.jsx(Be,{className:"text-sm font-medium",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(lr,{className:"h-4 w-4"}),"Shopping Trips"]})})}),c.jsx(Ne,{children:c.jsx("div",{className:"text-3xl font-bold",children:f()})})]})]}),c.jsxs(Te,{className:"mb-8",children:[c.jsx(Fe,{children:c.jsx(Be,{children:"User Management"})}),c.jsx(Ne,{children:r?c.jsx("div",{className:"text-center py-4",children:"Loading users..."}):i?c.jsx("div",{className:"text-center text-red-500 py-4",children:i}):c.jsxs(qre,{children:[c.jsx(Kre,{children:c.jsxs(rx,{children:[c.jsx(Rm,{children:"Name"}),c.jsx(Rm,{children:"Email"}),c.jsx(Rm,{children:"Tasks"}),c.jsx(Rm,{children:"Actions"})]})}),c.jsx(Yre,{children:t.length>0?t.map(h=>{const p=u(h.id);return c.jsxs(rx,{children:[c.jsx(Gd,{className:"font-medium",children:h.name}),c.jsx(Gd,{children:h.email||"N/A"}),c.jsx(Gd,{children:p.length}),c.jsx(Gd,{children:c.jsx(K,{variant:"outline",size:"sm",children:"View Details"})})]},h.id)}):c.jsx(rx,{children:c.jsx(Gd,{colSpan:4,className:"text-center",children:"No users found."})})})]})})]})]})})};function Alt(){const t=Ki(),{user:e,isAdmin:r}=qr(),{members:n,currentHousehold:i,inviteMember:a,removeMember:o,updateMember:s}=bj(),{toast:l}=cn(),[u,d]=b.useState(""),[f,h]=b.useState(""),[p,m]=b.useState(""),[g,v]=b.useState(!1),[x,y]=b.useState("email"),[w,S]=b.useState([]);b.useEffect(()=>{(async()=>{if(e)try{const j=await Hg.getSentInvitations(e.id);S(j)}catch(j){console.error("Error loading sent invitations:",j)}})()},[e]);const E=async I=>{if(I.preventDefault(),!u.trim()){l({title:"Email required",description:"Please enter an email address to send the invitation.",variant:"destructive"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)){l({title:"Invalid email",description:"Please enter a valid email address.",variant:"destructive"});return}try{v(!0),await a(u,p||void 0),l({title:"Invitation sent!",description:`Invitation sent to ${u}. Check the browser console to see the invitation details (demo mode).`}),d(""),m("");const O=await Hg.getSentInvitations((e==null?void 0:e.id)||"");S(O)}catch{l({title:"Failed to send invitation",description:"Please try again later.",variant:"destructive"})}finally{v(!1)}},C=async I=>{if(I.preventDefault(),!f.trim()){l({title:"Phone number required",description:"Please enter a phone number to send the invitation.",variant:"destructive"});return}l({title:"Phone invites coming soon!",description:"SMS invitations are not yet available. Please use email invitations for now.",variant:"default"})},A=async(I,j)=>{if(I===(e==null?void 0:e.id)){l({title:"Cannot remove yourself",description:"You cannot remove yourself from the household.",variant:"destructive"});return}try{o(I),l({title:"Member removed",description:`${j} has been removed from your household.`})}catch{l({title:"Failed to remove member",description:"Please try again later.",variant:"destructive"})}},T=I=>{switch(I){case"owner":return c.jsx(nO,{className:"h-4 w-4 text-yellow-600"});case"admin":return c.jsx(oO,{className:"h-4 w-4 text-blue-600"});default:return c.jsx(Pg,{className:"h-4 w-4 text-gray-600"})}},N=I=>{switch(I){case"owner":return"bg-yellow-100 text-yellow-800";case"admin":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return c.jsx(ha,{children:c.jsxs("div",{className:"p-4 md:p-8",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[c.jsx(K,{variant:"ghost",size:"icon",onClick:()=>t("/profile"),children:c.jsx(tO,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Manage Household"}),c.jsx("p",{className:"text-slate-500",children:"Invite people to join your household and manage shared expenses"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs(Te,{children:[c.jsxs(Fe,{children:[c.jsxs(Be,{className:"flex items-center gap-2",children:[c.jsx(ti,{className:"h-5 w-5"}),"Current Members"]}),c.jsxs(tt,{children:[i==null?void 0:i.name," • ",n.length," member",n.length!==1?"s":""]})]}),c.jsx(Ne,{children:c.jsx("div",{className:"space-y-4",children:n.map(I=>c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs(zr,{children:[c.jsx(Xu,{src:I.avatar}),c.jsx(Wr,{className:"bg-teal-100 text-teal-700",children:I.name.charAt(0).toUpperCase()})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium",children:I.name}),I.id===(e==null?void 0:e.id)&&c.jsx(mt,{variant:"outline",className:"text-xs",children:"You"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[T(I.role),c.jsx("span",{className:"capitalize",children:I.role}),I.email&&c.jsxs("span",{children:["• ",I.email]})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(mt,{className:N(I.role),children:I.role}),I.id!==(e==null?void 0:e.id)&&I.role!=="owner"&&c.jsx(K,{variant:"ghost",size:"sm",onClick:()=>A(I.id,I.name),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:c.jsx(Mi,{className:"h-4 w-4"})})]})]},I.id))})})]}),c.jsxs(Te,{children:[c.jsxs(Fe,{children:[c.jsxs(Be,{className:"flex items-center gap-2",children:[c.jsx(zC,{className:"h-5 w-5"}),"Invite New Members"]}),c.jsx(tt,{children:"Send invitations to join your household"})]}),c.jsx(Ne,{children:c.jsxs(Nc,{value:x,onValueChange:y,children:[c.jsxs(el,{className:"grid w-full grid-cols-2",children:[c.jsxs(sr,{value:"email",className:"flex items-center gap-2",children:[c.jsx(Sf,{className:"h-4 w-4"}),"Email"]}),c.jsxs(sr,{value:"phone",className:"flex items-center gap-2",children:[c.jsx(dse,{className:"h-4 w-4"}),"Phone"]})]}),c.jsx(jr,{value:"email",className:"space-y-4",children:c.jsxs("form",{onSubmit:E,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"email",children:"Email Address"}),c.jsx(Ue,{id:"email",type:"email",placeholder:"friend@example.com",value:u,onChange:I=>d(I.target.value),disabled:g})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"message",children:"Custom Message (optional)"}),c.jsx(yv,{id:"message",placeholder:"Join our household on TaskaLoop to coordinate shopping trips and split expenses...",value:p,onChange:I=>m(I.target.value),rows:4,disabled:g})]}),c.jsx(K,{type:"submit",disabled:g,className:"w-full",children:g?"Sending...":c.jsxs(c.Fragment,{children:[c.jsx(io,{className:"h-4 w-4 mr-2"}),"Send Email Invitation"]})})]})}),c.jsx(jr,{value:"phone",className:"space-y-4",children:c.jsxs("form",{onSubmit:C,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"phone",children:"Phone Number"}),c.jsx(Ue,{id:"phone",type:"tel",placeholder:"+1 (555) 123-4567",value:f,onChange:I=>h(I.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"sms-message",children:"Custom Message (optional)"}),c.jsx(yv,{id:"sms-message",placeholder:"Join our household on TaskaLoop...",value:p,onChange:I=>m(I.target.value),rows:3})]}),c.jsxs(K,{type:"submit",className:"w-full",variant:"outline",children:[c.jsx(io,{className:"h-4 w-4 mr-2"}),"Send SMS Invitation (Coming Soon)"]})]})})]})})]})]}),c.jsxs(Te,{className:"mt-8",children:[c.jsx(Fe,{children:c.jsx(Be,{children:"How it works"})}),c.jsx(Ne,{children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-3",children:c.jsx(Sf,{className:"h-6 w-6 text-blue-600"})}),c.jsx("h3",{className:"font-semibold mb-1",children:"Send Invitation"}),c.jsx("p",{className:"text-sm text-slate-600",children:"Enter their email or phone number and send an invitation"})]}),c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-3",children:c.jsx(zC,{className:"h-6 w-6 text-green-600"})}),c.jsx("h3",{className:"font-semibold mb-1",children:"They Join"}),c.jsx("p",{className:"text-sm text-slate-600",children:"They'll receive instructions to download TaskaLoop and join your household"})]}),c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mb-3",children:c.jsx(ti,{className:"h-6 w-6 text-purple-600"})}),c.jsx("h3",{className:"font-semibold mb-1",children:"Start Collaborating"}),c.jsx("p",{className:"text-sm text-slate-600",children:"Share shopping lists, split expenses, and coordinate household tasks"})]})]})})]}),w.length>0&&c.jsxs(Te,{className:"mt-8",children:[c.jsxs(Fe,{children:[c.jsxs(Be,{className:"flex items-center gap-2",children:[c.jsx(io,{className:"h-5 w-5"}),"Recent Invitations"]}),c.jsx(tt,{children:"Invitations you've sent recently"})]}),c.jsxs(Ne,{children:[c.jsx("div",{className:"space-y-3",children:w.slice(0,5).map(I=>c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:c.jsx(Sf,{className:"h-5 w-5 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:I.toEmail}),c.jsxs("div",{className:"text-sm text-slate-500 flex items-center gap-2",children:[c.jsx(Pr,{className:"h-3 w-3"}),new Date(I.createdAt).toLocaleDateString()]})]})]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs(mt,{variant:I.status==="pending"?"default":I.status==="accepted"?"success":"destructive",className:"flex items-center gap-1",children:[I.status==="pending"&&c.jsx(Pr,{className:"h-3 w-3"}),I.status==="accepted"&&c.jsx(qn,{className:"h-3 w-3"}),I.status==="rejected"&&c.jsx(_o,{className:"h-3 w-3"}),I.status.charAt(0).toUpperCase()+I.status.slice(1)]})})]},I.id))}),c.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(_o,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),c.jsxs("div",{className:"text-sm text-blue-800",children:[c.jsx("strong",{children:"Demo Mode:"})," Invitations are currently simulated. Check the browser console (Developer Tools) to see the invitation details and links. In production, these would be sent as real emails."]})]})})]})]})]})})}const Ii=({children:t})=>{const{user:e,isLoading:r}=qr(),n=ds();return r?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-500/40 via-green-500/40 to-blue-500/40 dark:from-blue-700/50 dark:via-green-700/50 dark:to-blue-700/50",children:c.jsxs("svg",{className:"animate-spin h-10 w-10 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):e?c.jsx(c.Fragment,{children:t}):c.jsx(AO,{to:"/login",state:{from:n},replace:!0})},Clt=({children:t})=>{const[e,r]=b.useState(null),[n,i]=b.useState(!0),a=ds();return b.useEffect(()=>{(async()=>{try{if(i(!0),!so.currentUser){r(!1);return}const s=await Gre();r(s)}catch(s){console.error("Error checking admin status:",s),r(!1)}finally{i(!1)}})()},[]),n?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("svg",{className:"animate-spin h-10 w-10 text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):e?c.jsx(c.Fragment,{children:t}):c.jsx(AO,{to:"/admin/login",state:{from:a},replace:!0})},Tlt=()=>{const{id:t}=Tue(),{trips:e,updateTrip:r}=os(),[n,i]=b.useState(null),[a,o]=b.useState([]),[s,l]=b.useState("");b.useEffect(()=>{const m=e.find(v=>v.id===t);m&&i(m),o([{id:"p1",name:"Milk",quantity:1,category:"Dairy",lowStock:!1},{id:"p2",name:"Bread",quantity:2,category:"Bakery",lowStock:!0},{id:"p3",name:"Eggs",quantity:12,category:"Dairy",lowStock:!1}])},[t,e]);const u=b.useMemo(()=>{const m=a.map(g=>g.name);return Array.from(new Set([...NJ,...IJ,...m]))},[a]),d=()=>{if(!n||!s.trim())return;const m={name:s,quantity:1,checked:!1,addedBy:{name:"You",avatar:""}},g={...n,items:[...n.items,{...m,id:Date.now().toString()}]};r(n.id,g),l(""),Ul({title:"Item Added",description:`${s} has been added to the trip.`})},f=m=>{if(!n)return;const g=n.items.map(v=>v.id===m?{...v,checked:!v.checked}:v);r(n.id,{...n,items:g})},h=m=>{if(!n)return;const g=n.items.filter(v=>v.id!==m);r(n.id,{...n,items:g})};if(!n)return c.jsx(ha,{children:c.jsx("div",{className:"p-4 md:p-8",children:c.jsx("p",{children:"Trip not found."})})});const p=n.items.length>0?n.items.filter(m=>m.checked).length/n.items.length*100:0;return c.jsx(ha,{children:c.jsxs("div",{className:"p-4 md:p-8 space-y-6",children:[c.jsxs(Te,{children:[c.jsx(Fe,{children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx(Be,{className:"text-2xl",children:n.store}),c.jsxs(tt,{className:"flex items-center gap-2",children:[c.jsx(Pr,{className:"h-4 w-4"}),new Date(n.date).toLocaleDateString()]})]}),c.jsx(mt,{variant:n.status==="shopping"?"default":"outline",children:n.status})]})}),c.jsxs(Ne,{children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[c.jsx(ti,{className:"h-4 w-4 mr-2"}),c.jsxs("span",{children:[n.participants.length," participants"]})]}),c.jsx("div",{className:"flex -space-x-2",children:n.participants.map(m=>c.jsxs(zr,{className:"h-8 w-8 border-2 border-background",children:[c.jsx(Xu,{src:m.avatar}),c.jsx(Wr,{children:m.name[0]})]},m.id))})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx(ce,{children:"Progress"}),c.jsx(Yg,{value:p,className:"mt-1"})]})]}),c.jsxs(Bt,{className:"flex gap-2",children:[c.jsxs(K,{children:[c.jsx(qn,{className:"h-4 w-4 mr-2"}),"Complete Trip"]}),c.jsxs(K,{variant:"outline",children:[c.jsx(zC,{className:"h-4 w-4 mr-2"}),"Invite"]})]})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"md:col-span-2 space-y-6",children:[c.jsxs(Te,{children:[c.jsx(Fe,{children:c.jsx(Be,{children:"Shopping List"})}),c.jsxs(Ne,{className:"space-y-4",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx(TJ,{suggestions:u,value:s,onChange:l,onSelect:l,placeholder:"Add an item..."}),c.jsxs(K,{onClick:d,children:[c.jsx(Or,{className:"h-4 w-4 mr-2"}),"Add"]})]}),c.jsx("ul",{className:"space-y-2",children:n.items.map(m=>c.jsxs("li",{className:"flex items-center justify-between p-3 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Oc,{checked:m.checked,onCheckedChange:()=>f(m.id)}),c.jsx("span",{className:m.checked?"line-through text-muted-foreground":"",children:m.name})]}),c.jsx(K,{variant:"ghost",size:"icon",onClick:()=>h(m.id),children:c.jsx(lO,{className:"h-4 w-4"})})]},m.id))})]})]}),c.jsxs(Te,{children:[c.jsx(Fe,{children:c.jsx(Be,{children:"Cost Summary"})}),c.jsx(Ne,{children:c.jsx(CJ,{tripId:n.id,tripName:n.store,items:n.items,participants:n.participants})})]})]}),c.jsx("div",{className:"space-y-6",children:c.jsxs(Te,{children:[c.jsx(Fe,{children:c.jsx(Be,{children:"Add from Pantry"})}),c.jsx(Ne,{children:c.jsx("ul",{className:"space-y-2",children:a.map(m=>c.jsxs("li",{className:"flex items-center justify-between",children:[c.jsx("span",{children:m.name}),c.jsx(K,{variant:"outline",size:"icon",onClick:()=>{l(m.name),d()},children:c.jsx(Or,{className:"h-4 w-4"})})]},m.id))})})]})})]})]})})},Nlt=()=>(b.useEffect(()=>{const t=localStorage.getItem("theme");t==="dark"?document.documentElement.classList.add("dark"):(t||localStorage.setItem("theme","light"),document.documentElement.classList.remove("dark"))},[]),c.jsx(Xce,{children:c.jsx($1e,{children:c.jsx(Pwe,{children:c.jsx(Owe,{children:c.jsx(Nwe,{children:c.jsx(jwe,{children:c.jsx(Rwe,{children:c.jsx(Mwe,{children:c.jsx(Lwe,{children:c.jsxs(que,{children:[c.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[c.jsx("div",{className:"pattern-overlay"}),c.jsx(Fwe,{}),c.jsxs(Uue,{children:[c.jsx(Rr,{path:"/",element:c.jsx(uEe,{})}),c.jsx(Rr,{path:"/login",element:c.jsx(glt,{})}),c.jsx(Rr,{path:"/admin/login",element:c.jsx(blt,{})}),c.jsx(Rr,{path:"/admin/dashboard",element:c.jsx(Clt,{children:c.jsx(Elt,{})})}),c.jsx(Rr,{path:"/home",element:c.jsx(Ii,{children:c.jsx(sNe,{})})}),c.jsx(Rr,{path:"/dashboard",element:c.jsx(Ii,{children:c.jsx(mlt,{})})}),c.jsx(Rr,{path:"/map",element:c.jsx(Ii,{children:c.jsx(lUe,{})})}),c.jsx(Rr,{path:"/trips",element:c.jsx(Ii,{children:c.jsx(QBe,{})})}),c.jsx(Rr,{path:"/trip/:id",element:c.jsx(Ii,{children:c.jsx(Tlt,{})})}),c.jsx(Rr,{path:"/ledger",element:c.jsx(Ii,{children:c.jsx(yHe,{})})}),c.jsx(Rr,{path:"/pantry",element:c.jsx(Ii,{children:c.jsx(pHe,{})})}),c.jsx(Rr,{path:"/calendar",element:c.jsx(Ii,{children:c.jsx(vlt,{})})}),c.jsx(Rr,{path:"/profile",element:c.jsx(Ii,{children:c.jsx(gA,{})})}),c.jsx(Rr,{path:"/invite-household",element:c.jsx(Ii,{children:c.jsx(Alt,{})})}),c.jsx(Rr,{path:"/household",element:c.jsx(Ii,{children:c.jsx(gA,{})})}),c.jsx(Rr,{path:"/roommates",element:c.jsx(Ii,{children:c.jsx(gA,{})})}),c.jsx(Rr,{path:"/settings",element:c.jsx(Ii,{children:c.jsx(vHe,{})})}),c.jsx(Rr,{path:"/history",element:c.jsx(AO,{to:"/trips?view=past",replace:!0})}),c.jsx(Rr,{path:"/recurring-items",element:c.jsx(Ii,{children:c.jsx(gHe,{})})}),c.jsx(Rr,{path:"*",element:c.jsx(xHe,{})})]}),c.jsx(cEe,{})]}),c.jsx(Jse,{}),c.jsx(Ele,{})]})})})})})})})})})})),sR=document.createElement("meta");sR.name="viewport";sR.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover";document.getElementsByTagName("head")[0].appendChild(sR);const lS=document.createElement("meta");lS.name="theme-color";lS.content="#F0F9FF";document.getElementsByTagName("head")[0].appendChild(lS);const P7=localStorage.getItem("theme");P7==="dark"?(document.documentElement.classList.add("dark"),lS.content="#0F172A"):(document.documentElement.classList.remove("dark"),P7||localStorage.setItem("theme","light"));WU(document.getElementById("root")).render(c.jsx(Nlt,{}));
