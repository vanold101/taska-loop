function bne(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var aa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var R7={exports:{}},Pb={},D7={exports:{}},ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0=Symbol.for("react.element"),_ne=Symbol.for("react.portal"),Sne=Symbol.for("react.fragment"),Ene=Symbol.for("react.strict_mode"),Ane=Symbol.for("react.profiler"),Cne=Symbol.for("react.provider"),Tne=Symbol.for("react.context"),Nne=Symbol.for("react.forward_ref"),Ine=Symbol.for("react.suspense"),Pne=Symbol.for("react.memo"),One=Symbol.for("react.lazy"),e4=Symbol.iterator;function jne(t){return t===null||typeof t!="object"?null:(t=e4&&t[e4]||t["@@iterator"],typeof t=="function"?t:null)}var M7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L7=Object.assign,$7={};function Bh(t,e,r){this.props=t,this.context=e,this.refs=$7,this.updater=r||M7}Bh.prototype.isReactComponent={};Bh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function F7(){}F7.prototype=Bh.prototype;function aP(t,e,r){this.props=t,this.context=e,this.refs=$7,this.updater=r||M7}var oP=aP.prototype=new F7;oP.constructor=aP;L7(oP,Bh.prototype);oP.isPureReactComponent=!0;var t4=Array.isArray,B7=Object.prototype.hasOwnProperty,sP={current:null},U7={key:!0,ref:!0,__self:!0,__source:!0};function V7(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)B7.call(e,n)&&!U7.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:n0,type:t,key:a,ref:o,props:i,_owner:sP.current}}function kne(t,e){return{$$typeof:n0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function lP(t){return typeof t=="object"&&t!==null&&t.$$typeof===n0}function Rne(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var r4=/\/+/g;function _S(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Rne(""+t.key):e.toString(36)}function y1(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case n0:case _ne:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+_S(o,0):n,t4(i)?(r="",t!=null&&(r=t.replace(r4,"$&/")+"/"),y1(i,e,r,"",function(u){return u})):i!=null&&(lP(i)&&(i=kne(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(r4,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",t4(t))for(var s=0;s<t.length;s++){a=t[s];var l=n+_S(a,s);o+=y1(a,e,r,l,i)}else if(l=jne(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=n+_S(a,s++),o+=y1(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function uy(t,e,r){if(t==null)return t;var n=[],i=0;return y1(t,n,"","",function(a){return e.call(r,a,i++)}),n}function Dne(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ci={current:null},x1={transition:null},Mne={ReactCurrentDispatcher:Ci,ReactCurrentBatchConfig:x1,ReactCurrentOwner:sP};function z7(){throw Error("act(...) is not supported in production builds of React.")}ct.Children={map:uy,forEach:function(t,e,r){uy(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return uy(t,function(){e++}),e},toArray:function(t){return uy(t,function(e){return e})||[]},only:function(t){if(!lP(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ct.Component=Bh;ct.Fragment=Sne;ct.Profiler=Ane;ct.PureComponent=aP;ct.StrictMode=Ene;ct.Suspense=Ine;ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mne;ct.act=z7;ct.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=L7({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=sP.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)B7.call(e,l)&&!U7.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:n0,type:t.type,key:i,ref:a,props:n,_owner:o}};ct.createContext=function(t){return t={$$typeof:Tne,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Cne,_context:t},t.Consumer=t};ct.createElement=V7;ct.createFactory=function(t){var e=V7.bind(null,t);return e.type=t,e};ct.createRef=function(){return{current:null}};ct.forwardRef=function(t){return{$$typeof:Nne,render:t}};ct.isValidElement=lP;ct.lazy=function(t){return{$$typeof:One,_payload:{_status:-1,_result:t},_init:Dne}};ct.memo=function(t,e){return{$$typeof:Pne,type:t,compare:e===void 0?null:e}};ct.startTransition=function(t){var e=x1.transition;x1.transition={};try{t()}finally{x1.transition=e}};ct.unstable_act=z7;ct.useCallback=function(t,e){return Ci.current.useCallback(t,e)};ct.useContext=function(t){return Ci.current.useContext(t)};ct.useDebugValue=function(){};ct.useDeferredValue=function(t){return Ci.current.useDeferredValue(t)};ct.useEffect=function(t,e){return Ci.current.useEffect(t,e)};ct.useId=function(){return Ci.current.useId()};ct.useImperativeHandle=function(t,e,r){return Ci.current.useImperativeHandle(t,e,r)};ct.useInsertionEffect=function(t,e){return Ci.current.useInsertionEffect(t,e)};ct.useLayoutEffect=function(t,e){return Ci.current.useLayoutEffect(t,e)};ct.useMemo=function(t,e){return Ci.current.useMemo(t,e)};ct.useReducer=function(t,e,r){return Ci.current.useReducer(t,e,r)};ct.useRef=function(t){return Ci.current.useRef(t)};ct.useState=function(t){return Ci.current.useState(t)};ct.useSyncExternalStore=function(t,e,r){return Ci.current.useSyncExternalStore(t,e,r)};ct.useTransition=function(){return Ci.current.useTransition()};ct.version="18.3.1";D7.exports=ct;var b=D7.exports;const D=dt(b),W7=bne({__proto__:null,default:D},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lne=b,$ne=Symbol.for("react.element"),Fne=Symbol.for("react.fragment"),Bne=Object.prototype.hasOwnProperty,Une=Lne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vne={key:!0,ref:!0,__self:!0,__source:!0};function H7(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Bne.call(e,n)&&!Vne.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:$ne,type:t,key:a,ref:o,props:i,_owner:Une.current}}Pb.Fragment=Fne;Pb.jsx=H7;Pb.jsxs=H7;R7.exports=Pb;var c=R7.exports,G7={exports:{}},va={},q7={exports:{}},K7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,U){var X=$.length;$.push(U);e:for(;0<X;){var H=X-1>>>1,Y=$[H];if(0<i(Y,U))$[H]=U,$[X]=Y,X=H;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var U=$[0],X=$.pop();if(X!==U){$[0]=X;e:for(var H=0,Y=$.length,Q=Y>>>1;H<Q;){var ue=2*(H+1)-1,de=$[ue],he=ue+1,pe=$[he];if(0>i(de,X))he<Y&&0>i(pe,de)?($[H]=pe,$[he]=X,H=he):($[H]=de,$[ue]=X,H=ue);else if(he<Y&&0>i(pe,X))$[H]=pe,$[he]=X,H=he;else break e}}return U}function i($,U){var X=$.sortIndex-U.sortIndex;return X!==0?X:$.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w($){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=$)n(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=r(u)}}function S($){if(g=!1,w($),!m)if(r(l)!==null)m=!0,B(E);else{var U=r(u);U!==null&&W(S,U.startTime-$)}}function E($,U){m=!1,g&&(g=!1,x(T),T=-1),p=!0;var X=h;try{for(w(U),f=r(l);f!==null&&(!(f.expirationTime>U)||$&&!j());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var Y=H(f.expirationTime<=U);U=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===r(l)&&n(l),w(U)}else n(l);f=r(l)}if(f!==null)var Q=!0;else{var ue=r(u);ue!==null&&W(S,ue.startTime-U),Q=!1}return Q}finally{f=null,h=X,p=!1}}var C=!1,A=null,T=-1,N=5,I=-1;function j(){return!(t.unstable_now()-I<N)}function O(){if(A!==null){var $=t.unstable_now();I=$;var U=!0;try{U=A(!0,$)}finally{U?P():(C=!1,A=null)}}else C=!1}var P;if(typeof y=="function")P=function(){y(O)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,F=M.port2;M.port1.onmessage=O,P=function(){F.postMessage(null)}}else P=function(){v(O,0)};function B($){A=$,C||(C=!0,P())}function W($,U){T=v(function(){$(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,B(E))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var X=h;h=U;try{return $()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,U){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var X=h;h=$;try{return U()}finally{h=X}},t.unstable_scheduleCallback=function($,U,X){var H=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?H+X:H):X=H,$){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=X+Y,$={id:d++,callback:U,priorityLevel:$,startTime:X,expirationTime:Y,sortIndex:-1},X>H?($.sortIndex=X,e(u,$),r(l)===null&&$===r(u)&&(g?(x(T),T=-1):g=!0,W(S,X-H))):($.sortIndex=Y,e(l,$),m||p||(m=!0,B(E))),$},t.unstable_shouldYield=j,t.unstable_wrapCallback=function($){var U=h;return function(){var X=h;h=U;try{return $.apply(this,arguments)}finally{h=X}}}})(K7);q7.exports=K7;var zne=q7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wne=b,da=zne;function we(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Y7=new Set,mg={};function pd(t,e){Ff(t,e),Ff(t+"Capture",e)}function Ff(t,e){for(mg[t]=e,t=0;t<e.length;t++)Y7.add(e[t])}var zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),VA=Object.prototype.hasOwnProperty,Hne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,n4={},i4={};function Gne(t){return VA.call(i4,t)?!0:VA.call(n4,t)?!1:Hne.test(t)?i4[t]=!0:(n4[t]=!0,!1)}function qne(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Kne(t,e,r,n){if(e===null||typeof e>"u"||qne(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ti(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dn[t]=new Ti(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dn[e]=new Ti(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dn[t]=new Ti(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dn[t]=new Ti(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dn[t]=new Ti(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dn[t]=new Ti(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dn[t]=new Ti(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dn[t]=new Ti(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dn[t]=new Ti(t,5,!1,t.toLowerCase(),null,!1,!1)});var cP=/[\-:]([a-z])/g;function uP(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cP,uP);Dn[e]=new Ti(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cP,uP);Dn[e]=new Ti(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cP,uP);Dn[e]=new Ti(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dn[t]=new Ti(t,1,!1,t.toLowerCase(),null,!1,!1)});Dn.xlinkHref=new Ti("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dn[t]=new Ti(t,1,!1,t.toLowerCase(),null,!0,!0)});function dP(t,e,r,n){var i=Dn.hasOwnProperty(e)?Dn[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Kne(e,r,i,n)&&(r=null),n||i===null?Gne(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ol=Wne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dy=Symbol.for("react.element"),Yd=Symbol.for("react.portal"),Xd=Symbol.for("react.fragment"),fP=Symbol.for("react.strict_mode"),zA=Symbol.for("react.profiler"),X7=Symbol.for("react.provider"),Q7=Symbol.for("react.context"),hP=Symbol.for("react.forward_ref"),WA=Symbol.for("react.suspense"),HA=Symbol.for("react.suspense_list"),pP=Symbol.for("react.memo"),Il=Symbol.for("react.lazy"),Z7=Symbol.for("react.offscreen"),a4=Symbol.iterator;function $p(t){return t===null||typeof t!="object"?null:(t=a4&&t[a4]||t["@@iterator"],typeof t=="function"?t:null)}var Ar=Object.assign,SS;function ym(t){if(SS===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);SS=e&&e[1]||""}return`
`+SS+t}var ES=!1;function AS(t,e){if(!t||ES)return"";ES=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{ES=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ym(t):""}function Yne(t){switch(t.tag){case 5:return ym(t.type);case 16:return ym("Lazy");case 13:return ym("Suspense");case 19:return ym("SuspenseList");case 0:case 2:case 15:return t=AS(t.type,!1),t;case 11:return t=AS(t.type.render,!1),t;case 1:return t=AS(t.type,!0),t;default:return""}}function GA(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xd:return"Fragment";case Yd:return"Portal";case zA:return"Profiler";case fP:return"StrictMode";case WA:return"Suspense";case HA:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Q7:return(t.displayName||"Context")+".Consumer";case X7:return(t._context.displayName||"Context")+".Provider";case hP:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case pP:return e=t.displayName||null,e!==null?e:GA(t.type)||"Memo";case Il:e=t._payload,t=t._init;try{return GA(t(e))}catch{}}return null}function Xne(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return GA(e);case 8:return e===fP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function J7(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Qne(t){var e=J7(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fy(t){t._valueTracker||(t._valueTracker=Qne(t))}function eB(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=J7(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ax(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qA(t,e){var r=e.checked;return Ar({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function o4(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=pc(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tB(t,e){e=e.checked,e!=null&&dP(t,"checked",e,!1)}function KA(t,e){tB(t,e);var r=pc(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?YA(t,e.type,r):e.hasOwnProperty("defaultValue")&&YA(t,e.type,pc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function s4(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function YA(t,e,r){(e!=="number"||ax(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var xm=Array.isArray;function xf(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+pc(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function XA(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(we(91));return Ar({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function l4(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(we(92));if(xm(r)){if(1<r.length)throw Error(we(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:pc(r)}}function rB(t,e){var r=pc(e.value),n=pc(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function c4(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function nB(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function QA(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?nB(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hy,iB=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hy=hy||document.createElement("div"),hy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hy.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gg(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var $m={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zne=["Webkit","ms","Moz","O"];Object.keys($m).forEach(function(t){Zne.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$m[e]=$m[t]})});function aB(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||$m.hasOwnProperty(t)&&$m[t]?(""+e).trim():e+"px"}function oB(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=aB(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Jne=Ar({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ZA(t,e){if(e){if(Jne[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(we(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(we(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(we(61))}if(e.style!=null&&typeof e.style!="object")throw Error(we(62))}}function JA(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eC=null;function mP(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tC=null,wf=null,bf=null;function u4(t){if(t=o0(t)){if(typeof tC!="function")throw Error(we(280));var e=t.stateNode;e&&(e=Db(e),tC(t.stateNode,t.type,e))}}function sB(t){wf?bf?bf.push(t):bf=[t]:wf=t}function lB(){if(wf){var t=wf,e=bf;if(bf=wf=null,u4(t),e)for(t=0;t<e.length;t++)u4(e[t])}}function cB(t,e){return t(e)}function uB(){}var CS=!1;function dB(t,e,r){if(CS)return t(e,r);CS=!0;try{return cB(t,e,r)}finally{CS=!1,(wf!==null||bf!==null)&&(uB(),lB())}}function vg(t,e){var r=t.stateNode;if(r===null)return null;var n=Db(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(we(231,e,typeof r));return r}var rC=!1;if(zs)try{var Fp={};Object.defineProperty(Fp,"passive",{get:function(){rC=!0}}),window.addEventListener("test",Fp,Fp),window.removeEventListener("test",Fp,Fp)}catch{rC=!1}function eie(t,e,r,n,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Fm=!1,ox=null,sx=!1,nC=null,tie={onError:function(t){Fm=!0,ox=t}};function rie(t,e,r,n,i,a,o,s,l){Fm=!1,ox=null,eie.apply(tie,arguments)}function nie(t,e,r,n,i,a,o,s,l){if(rie.apply(this,arguments),Fm){if(Fm){var u=ox;Fm=!1,ox=null}else throw Error(we(198));sx||(sx=!0,nC=u)}}function md(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function fB(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function d4(t){if(md(t)!==t)throw Error(we(188))}function iie(t){var e=t.alternate;if(!e){if(e=md(t),e===null)throw Error(we(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return d4(i),t;if(a===n)return d4(i),e;a=a.sibling}throw Error(we(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(we(189))}}if(r.alternate!==n)throw Error(we(190))}if(r.tag!==3)throw Error(we(188));return r.stateNode.current===r?t:e}function hB(t){return t=iie(t),t!==null?pB(t):null}function pB(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pB(t);if(e!==null)return e;t=t.sibling}return null}var mB=da.unstable_scheduleCallback,f4=da.unstable_cancelCallback,aie=da.unstable_shouldYield,oie=da.unstable_requestPaint,Mr=da.unstable_now,sie=da.unstable_getCurrentPriorityLevel,gP=da.unstable_ImmediatePriority,gB=da.unstable_UserBlockingPriority,lx=da.unstable_NormalPriority,lie=da.unstable_LowPriority,vB=da.unstable_IdlePriority,Ob=null,Wo=null;function cie(t){if(Wo&&typeof Wo.onCommitFiberRoot=="function")try{Wo.onCommitFiberRoot(Ob,t,void 0,(t.current.flags&128)===128)}catch{}}var go=Math.clz32?Math.clz32:fie,uie=Math.log,die=Math.LN2;function fie(t){return t>>>=0,t===0?32:31-(uie(t)/die|0)|0}var py=64,my=4194304;function wm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function cx(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=wm(s):(a&=o,a!==0&&(n=wm(a)))}else o=r&~i,o!==0?n=wm(o):a!==0&&(n=wm(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-go(e),i=1<<r,n|=t[r],e&=~i;return n}function hie(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pie(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-go(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=hie(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function iC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yB(){var t=py;return py<<=1,!(py&4194240)&&(py=64),t}function TS(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function i0(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-go(e),t[e]=r}function mie(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-go(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function vP(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-go(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var kt=0;function xB(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wB,yP,bB,_B,SB,aC=!1,gy=[],Kl=null,Yl=null,Xl=null,yg=new Map,xg=new Map,Rl=[],gie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function h4(t,e){switch(t){case"focusin":case"focusout":Kl=null;break;case"dragenter":case"dragleave":Yl=null;break;case"mouseover":case"mouseout":Xl=null;break;case"pointerover":case"pointerout":yg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xg.delete(e.pointerId)}}function Bp(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=o0(e),e!==null&&yP(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function vie(t,e,r,n,i){switch(e){case"focusin":return Kl=Bp(Kl,t,e,r,n,i),!0;case"dragenter":return Yl=Bp(Yl,t,e,r,n,i),!0;case"mouseover":return Xl=Bp(Xl,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return yg.set(a,Bp(yg.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,xg.set(a,Bp(xg.get(a)||null,t,e,r,n,i)),!0}return!1}function EB(t){var e=vu(t.target);if(e!==null){var r=md(e);if(r!==null){if(e=r.tag,e===13){if(e=fB(r),e!==null){t.blockedOn=e,SB(t.priority,function(){bB(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function w1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=oC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);eC=n,r.target.dispatchEvent(n),eC=null}else return e=o0(r),e!==null&&yP(e),t.blockedOn=r,!1;e.shift()}return!0}function p4(t,e,r){w1(t)&&r.delete(e)}function yie(){aC=!1,Kl!==null&&w1(Kl)&&(Kl=null),Yl!==null&&w1(Yl)&&(Yl=null),Xl!==null&&w1(Xl)&&(Xl=null),yg.forEach(p4),xg.forEach(p4)}function Up(t,e){t.blockedOn===e&&(t.blockedOn=null,aC||(aC=!0,da.unstable_scheduleCallback(da.unstable_NormalPriority,yie)))}function wg(t){function e(i){return Up(i,t)}if(0<gy.length){Up(gy[0],t);for(var r=1;r<gy.length;r++){var n=gy[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Kl!==null&&Up(Kl,t),Yl!==null&&Up(Yl,t),Xl!==null&&Up(Xl,t),yg.forEach(e),xg.forEach(e),r=0;r<Rl.length;r++)n=Rl[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Rl.length&&(r=Rl[0],r.blockedOn===null);)EB(r),r.blockedOn===null&&Rl.shift()}var _f=ol.ReactCurrentBatchConfig,ux=!0;function xie(t,e,r,n){var i=kt,a=_f.transition;_f.transition=null;try{kt=1,xP(t,e,r,n)}finally{kt=i,_f.transition=a}}function wie(t,e,r,n){var i=kt,a=_f.transition;_f.transition=null;try{kt=4,xP(t,e,r,n)}finally{kt=i,_f.transition=a}}function xP(t,e,r,n){if(ux){var i=oC(t,e,r,n);if(i===null)LS(t,e,n,dx,r),h4(t,n);else if(vie(i,t,e,r,n))n.stopPropagation();else if(h4(t,n),e&4&&-1<gie.indexOf(t)){for(;i!==null;){var a=o0(i);if(a!==null&&wB(a),a=oC(t,e,r,n),a===null&&LS(t,e,n,dx,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else LS(t,e,n,null,r)}}var dx=null;function oC(t,e,r,n){if(dx=null,t=mP(n),t=vu(t),t!==null)if(e=md(t),e===null)t=null;else if(r=e.tag,r===13){if(t=fB(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return dx=t,null}function AB(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sie()){case gP:return 1;case gB:return 4;case lx:case lie:return 16;case vB:return 536870912;default:return 16}default:return 16}}var Bl=null,wP=null,b1=null;function CB(){if(b1)return b1;var t,e=wP,r=e.length,n,i="value"in Bl?Bl.value:Bl.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return b1=i.slice(t,1<n?1-n:void 0)}function _1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vy(){return!0}function m4(){return!1}function ya(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?vy:m4,this.isPropagationStopped=m4,this}return Ar(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=vy)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=vy)},persist:function(){},isPersistent:vy}),e}var Uh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bP=ya(Uh),a0=Ar({},Uh,{view:0,detail:0}),bie=ya(a0),NS,IS,Vp,jb=Ar({},a0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_P,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vp&&(Vp&&t.type==="mousemove"?(NS=t.screenX-Vp.screenX,IS=t.screenY-Vp.screenY):IS=NS=0,Vp=t),NS)},movementY:function(t){return"movementY"in t?t.movementY:IS}}),g4=ya(jb),_ie=Ar({},jb,{dataTransfer:0}),Sie=ya(_ie),Eie=Ar({},a0,{relatedTarget:0}),PS=ya(Eie),Aie=Ar({},Uh,{animationName:0,elapsedTime:0,pseudoElement:0}),Cie=ya(Aie),Tie=Ar({},Uh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nie=ya(Tie),Iie=Ar({},Uh,{data:0}),v4=ya(Iie),Pie={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jie={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kie(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jie[t])?!!e[t]:!1}function _P(){return kie}var Rie=Ar({},a0,{key:function(t){if(t.key){var e=Pie[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Oie[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_P,charCode:function(t){return t.type==="keypress"?_1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Die=ya(Rie),Mie=Ar({},jb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),y4=ya(Mie),Lie=Ar({},a0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_P}),$ie=ya(Lie),Fie=Ar({},Uh,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bie=ya(Fie),Uie=Ar({},jb,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vie=ya(Uie),zie=[9,13,27,32],SP=zs&&"CompositionEvent"in window,Bm=null;zs&&"documentMode"in document&&(Bm=document.documentMode);var Wie=zs&&"TextEvent"in window&&!Bm,TB=zs&&(!SP||Bm&&8<Bm&&11>=Bm),x4=" ",w4=!1;function NB(t,e){switch(t){case"keyup":return zie.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IB(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qd=!1;function Hie(t,e){switch(t){case"compositionend":return IB(e);case"keypress":return e.which!==32?null:(w4=!0,x4);case"textInput":return t=e.data,t===x4&&w4?null:t;default:return null}}function Gie(t,e){if(Qd)return t==="compositionend"||!SP&&NB(t,e)?(t=CB(),b1=wP=Bl=null,Qd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return TB&&e.locale!=="ko"?null:e.data;default:return null}}var qie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qie[t.type]:e==="textarea"}function PB(t,e,r,n){sB(n),e=fx(e,"onChange"),0<e.length&&(r=new bP("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Um=null,bg=null;function Kie(t){UB(t,0)}function kb(t){var e=ef(t);if(eB(e))return t}function Yie(t,e){if(t==="change")return e}var OB=!1;if(zs){var OS;if(zs){var jS="oninput"in document;if(!jS){var _4=document.createElement("div");_4.setAttribute("oninput","return;"),jS=typeof _4.oninput=="function"}OS=jS}else OS=!1;OB=OS&&(!document.documentMode||9<document.documentMode)}function S4(){Um&&(Um.detachEvent("onpropertychange",jB),bg=Um=null)}function jB(t){if(t.propertyName==="value"&&kb(bg)){var e=[];PB(e,bg,t,mP(t)),dB(Kie,e)}}function Xie(t,e,r){t==="focusin"?(S4(),Um=e,bg=r,Um.attachEvent("onpropertychange",jB)):t==="focusout"&&S4()}function Qie(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kb(bg)}function Zie(t,e){if(t==="click")return kb(e)}function Jie(t,e){if(t==="input"||t==="change")return kb(e)}function eae(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bo=typeof Object.is=="function"?Object.is:eae;function _g(t,e){if(bo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!VA.call(e,i)||!bo(t[i],e[i]))return!1}return!0}function E4(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function A4(t,e){var r=E4(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=E4(r)}}function kB(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kB(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function RB(){for(var t=window,e=ax();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ax(t.document)}return e}function EP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tae(t){var e=RB(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&kB(r.ownerDocument.documentElement,r)){if(n!==null&&EP(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=A4(r,a);var o=A4(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rae=zs&&"documentMode"in document&&11>=document.documentMode,Zd=null,sC=null,Vm=null,lC=!1;function C4(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;lC||Zd==null||Zd!==ax(n)||(n=Zd,"selectionStart"in n&&EP(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Vm&&_g(Vm,n)||(Vm=n,n=fx(sC,"onSelect"),0<n.length&&(e=new bP("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Zd)))}function yy(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Jd={animationend:yy("Animation","AnimationEnd"),animationiteration:yy("Animation","AnimationIteration"),animationstart:yy("Animation","AnimationStart"),transitionend:yy("Transition","TransitionEnd")},kS={},DB={};zs&&(DB=document.createElement("div").style,"AnimationEvent"in window||(delete Jd.animationend.animation,delete Jd.animationiteration.animation,delete Jd.animationstart.animation),"TransitionEvent"in window||delete Jd.transitionend.transition);function Rb(t){if(kS[t])return kS[t];if(!Jd[t])return t;var e=Jd[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in DB)return kS[t]=e[r];return t}var MB=Rb("animationend"),LB=Rb("animationiteration"),$B=Rb("animationstart"),FB=Rb("transitionend"),BB=new Map,T4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rc(t,e){BB.set(t,e),pd(e,[t])}for(var RS=0;RS<T4.length;RS++){var DS=T4[RS],nae=DS.toLowerCase(),iae=DS[0].toUpperCase()+DS.slice(1);Rc(nae,"on"+iae)}Rc(MB,"onAnimationEnd");Rc(LB,"onAnimationIteration");Rc($B,"onAnimationStart");Rc("dblclick","onDoubleClick");Rc("focusin","onFocus");Rc("focusout","onBlur");Rc(FB,"onTransitionEnd");Ff("onMouseEnter",["mouseout","mouseover"]);Ff("onMouseLeave",["mouseout","mouseover"]);Ff("onPointerEnter",["pointerout","pointerover"]);Ff("onPointerLeave",["pointerout","pointerover"]);pd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pd("onBeforeInput",["compositionend","keypress","textInput","paste"]);pd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aae=new Set("cancel close invalid load scroll toggle".split(" ").concat(bm));function N4(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,nie(n,e,void 0,t),t.currentTarget=null}function UB(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;N4(i,s,u),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;N4(i,s,u),a=l}}}if(sx)throw t=nC,sx=!1,nC=null,t}function tr(t,e){var r=e[hC];r===void 0&&(r=e[hC]=new Set);var n=t+"__bubble";r.has(n)||(VB(e,t,2,!1),r.add(n))}function MS(t,e,r){var n=0;e&&(n|=4),VB(r,t,n,e)}var xy="_reactListening"+Math.random().toString(36).slice(2);function Sg(t){if(!t[xy]){t[xy]=!0,Y7.forEach(function(r){r!=="selectionchange"&&(aae.has(r)||MS(r,!1,t),MS(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xy]||(e[xy]=!0,MS("selectionchange",!1,e))}}function VB(t,e,r,n){switch(AB(e)){case 1:var i=xie;break;case 4:i=wie;break;default:i=xP}r=i.bind(null,e,r,t),i=void 0,!rC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function LS(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=vu(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}dB(function(){var u=a,d=mP(r),f=[];e:{var h=BB.get(t);if(h!==void 0){var p=bP,m=t;switch(t){case"keypress":if(_1(r)===0)break e;case"keydown":case"keyup":p=Die;break;case"focusin":m="focus",p=PS;break;case"focusout":m="blur",p=PS;break;case"beforeblur":case"afterblur":p=PS;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=g4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Sie;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=$ie;break;case MB:case LB:case $B:p=Cie;break;case FB:p=Bie;break;case"scroll":p=bie;break;case"wheel":p=Vie;break;case"copy":case"cut":case"paste":p=Nie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=y4}var g=(e&4)!==0,v=!g&&t==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,w;y!==null;){w=y;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,x!==null&&(S=vg(y,x),S!=null&&g.push(Eg(y,S,w)))),v)break;y=y.return}0<g.length&&(h=new p(h,m,null,r,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==eC&&(m=r.relatedTarget||r.fromElement)&&(vu(m)||m[Ws]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?vu(m):null,m!==null&&(v=md(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=g4,S="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=y4,S="onPointerLeave",x="onPointerEnter",y="pointer"),v=p==null?h:ef(p),w=m==null?h:ef(m),h=new g(S,y+"leave",p,r,d),h.target=v,h.relatedTarget=w,S=null,vu(d)===u&&(g=new g(x,y+"enter",m,r,d),g.target=w,g.relatedTarget=v,S=g),v=S,p&&m)t:{for(g=p,x=m,y=0,w=g;w;w=Rd(w))y++;for(w=0,S=x;S;S=Rd(S))w++;for(;0<y-w;)g=Rd(g),y--;for(;0<w-y;)x=Rd(x),w--;for(;y--;){if(g===x||x!==null&&g===x.alternate)break t;g=Rd(g),x=Rd(x)}g=null}else g=null;p!==null&&I4(f,h,p,g,!1),m!==null&&v!==null&&I4(f,v,m,g,!0)}}e:{if(h=u?ef(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=Yie;else if(b4(h))if(OB)E=Jie;else{E=Qie;var C=Xie}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=Zie);if(E&&(E=E(t,u))){PB(f,E,r,d);break e}C&&C(t,h,u),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&YA(h,"number",h.value)}switch(C=u?ef(u):window,t){case"focusin":(b4(C)||C.contentEditable==="true")&&(Zd=C,sC=u,Vm=null);break;case"focusout":Vm=sC=Zd=null;break;case"mousedown":lC=!0;break;case"contextmenu":case"mouseup":case"dragend":lC=!1,C4(f,r,d);break;case"selectionchange":if(rae)break;case"keydown":case"keyup":C4(f,r,d)}var A;if(SP)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Qd?NB(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(TB&&r.locale!=="ko"&&(Qd||T!=="onCompositionStart"?T==="onCompositionEnd"&&Qd&&(A=CB()):(Bl=d,wP="value"in Bl?Bl.value:Bl.textContent,Qd=!0)),C=fx(u,T),0<C.length&&(T=new v4(T,t,null,r,d),f.push({event:T,listeners:C}),A?T.data=A:(A=IB(r),A!==null&&(T.data=A)))),(A=Wie?Hie(t,r):Gie(t,r))&&(u=fx(u,"onBeforeInput"),0<u.length&&(d=new v4("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=A))}UB(f,e)})}function Eg(t,e,r){return{instance:t,listener:e,currentTarget:r}}function fx(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=vg(t,r),a!=null&&n.unshift(Eg(t,a,i)),a=vg(t,e),a!=null&&n.push(Eg(t,a,i))),t=t.return}return n}function Rd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function I4(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=vg(r,a),l!=null&&o.unshift(Eg(r,l,s))):i||(l=vg(r,a),l!=null&&o.push(Eg(r,l,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var oae=/\r\n?/g,sae=/\u0000|\uFFFD/g;function P4(t){return(typeof t=="string"?t:""+t).replace(oae,`
`).replace(sae,"")}function wy(t,e,r){if(e=P4(e),P4(t)!==e&&r)throw Error(we(425))}function hx(){}var cC=null,uC=null;function dC(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fC=typeof setTimeout=="function"?setTimeout:void 0,lae=typeof clearTimeout=="function"?clearTimeout:void 0,O4=typeof Promise=="function"?Promise:void 0,cae=typeof queueMicrotask=="function"?queueMicrotask:typeof O4<"u"?function(t){return O4.resolve(null).then(t).catch(uae)}:fC;function uae(t){setTimeout(function(){throw t})}function $S(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),wg(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);wg(e)}function Ql(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function j4(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Vh=Math.random().toString(36).slice(2),$o="__reactFiber$"+Vh,Ag="__reactProps$"+Vh,Ws="__reactContainer$"+Vh,hC="__reactEvents$"+Vh,dae="__reactListeners$"+Vh,fae="__reactHandles$"+Vh;function vu(t){var e=t[$o];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ws]||r[$o]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=j4(t);t!==null;){if(r=t[$o])return r;t=j4(t)}return e}t=r,r=t.parentNode}return null}function o0(t){return t=t[$o]||t[Ws],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ef(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(we(33))}function Db(t){return t[Ag]||null}var pC=[],tf=-1;function Dc(t){return{current:t}}function cr(t){0>tf||(t.current=pC[tf],pC[tf]=null,tf--)}function Kt(t,e){tf++,pC[tf]=t.current,t.current=e}var mc={},ti=Dc(mc),Fi=Dc(!1),Fu=mc;function Bf(t,e){var r=t.type.contextTypes;if(!r)return mc;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Bi(t){return t=t.childContextTypes,t!=null}function px(){cr(Fi),cr(ti)}function k4(t,e,r){if(ti.current!==mc)throw Error(we(168));Kt(ti,e),Kt(Fi,r)}function zB(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(we(108,Xne(t)||"Unknown",i));return Ar({},r,n)}function mx(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mc,Fu=ti.current,Kt(ti,t),Kt(Fi,Fi.current),!0}function R4(t,e,r){var n=t.stateNode;if(!n)throw Error(we(169));r?(t=zB(t,e,Fu),n.__reactInternalMemoizedMergedChildContext=t,cr(Fi),cr(ti),Kt(ti,t)):cr(Fi),Kt(Fi,r)}var _s=null,Mb=!1,FS=!1;function WB(t){_s===null?_s=[t]:_s.push(t)}function hae(t){Mb=!0,WB(t)}function Mc(){if(!FS&&_s!==null){FS=!0;var t=0,e=kt;try{var r=_s;for(kt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}_s=null,Mb=!1}catch(i){throw _s!==null&&(_s=_s.slice(t+1)),mB(gP,Mc),i}finally{kt=e,FS=!1}}return null}var rf=[],nf=0,gx=null,vx=0,Ta=[],Na=0,Bu=null,Cs=1,Ts="";function au(t,e){rf[nf++]=vx,rf[nf++]=gx,gx=t,vx=e}function HB(t,e,r){Ta[Na++]=Cs,Ta[Na++]=Ts,Ta[Na++]=Bu,Bu=t;var n=Cs;t=Ts;var i=32-go(n)-1;n&=~(1<<i),r+=1;var a=32-go(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Cs=1<<32-go(e)+i|r<<i|n,Ts=a+t}else Cs=1<<a|r<<i|n,Ts=t}function AP(t){t.return!==null&&(au(t,1),HB(t,1,0))}function CP(t){for(;t===gx;)gx=rf[--nf],rf[nf]=null,vx=rf[--nf],rf[nf]=null;for(;t===Bu;)Bu=Ta[--Na],Ta[Na]=null,Ts=Ta[--Na],Ta[Na]=null,Cs=Ta[--Na],Ta[Na]=null}var sa=null,oa=null,dr=!1,so=null;function GB(t,e){var r=Pa(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function D4(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,sa=t,oa=Ql(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,sa=t,oa=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Bu!==null?{id:Cs,overflow:Ts}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Pa(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,sa=t,oa=null,!0):!1;default:return!1}}function mC(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gC(t){if(dr){var e=oa;if(e){var r=e;if(!D4(t,e)){if(mC(t))throw Error(we(418));e=Ql(r.nextSibling);var n=sa;e&&D4(t,e)?GB(n,r):(t.flags=t.flags&-4097|2,dr=!1,sa=t)}}else{if(mC(t))throw Error(we(418));t.flags=t.flags&-4097|2,dr=!1,sa=t}}}function M4(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;sa=t}function by(t){if(t!==sa)return!1;if(!dr)return M4(t),dr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dC(t.type,t.memoizedProps)),e&&(e=oa)){if(mC(t))throw qB(),Error(we(418));for(;e;)GB(t,e),e=Ql(e.nextSibling)}if(M4(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(we(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){oa=Ql(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}oa=null}}else oa=sa?Ql(t.stateNode.nextSibling):null;return!0}function qB(){for(var t=oa;t;)t=Ql(t.nextSibling)}function Uf(){oa=sa=null,dr=!1}function TP(t){so===null?so=[t]:so.push(t)}var pae=ol.ReactCurrentBatchConfig;function zp(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(we(309));var n=r.stateNode}if(!n)throw Error(we(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(we(284));if(!r._owner)throw Error(we(290,t))}return t}function _y(t,e){throw t=Object.prototype.toString.call(e),Error(we(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function L4(t){var e=t._init;return e(t._payload)}function KB(t){function e(x,y){if(t){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function r(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(x,y){return x=tc(x,y),x.index=0,x.sibling=null,x}function a(x,y,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function s(x,y,w,S){return y===null||y.tag!==6?(y=GS(w,x.mode,S),y.return=x,y):(y=i(y,w),y.return=x,y)}function l(x,y,w,S){var E=w.type;return E===Xd?d(x,y,w.props.children,S,w.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Il&&L4(E)===y.type)?(S=i(y,w.props),S.ref=zp(x,y,w),S.return=x,S):(S=I1(w.type,w.key,w.props,null,x.mode,S),S.ref=zp(x,y,w),S.return=x,S)}function u(x,y,w,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=qS(w,x.mode,S),y.return=x,y):(y=i(y,w.children||[]),y.return=x,y)}function d(x,y,w,S,E){return y===null||y.tag!==7?(y=Ou(w,x.mode,S,E),y.return=x,y):(y=i(y,w),y.return=x,y)}function f(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=GS(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case dy:return w=I1(y.type,y.key,y.props,null,x.mode,w),w.ref=zp(x,null,y),w.return=x,w;case Yd:return y=qS(y,x.mode,w),y.return=x,y;case Il:var S=y._init;return f(x,S(y._payload),w)}if(xm(y)||$p(y))return y=Ou(y,x.mode,w,null),y.return=x,y;_y(x,y)}return null}function h(x,y,w,S){var E=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:s(x,y,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case dy:return w.key===E?l(x,y,w,S):null;case Yd:return w.key===E?u(x,y,w,S):null;case Il:return E=w._init,h(x,y,E(w._payload),S)}if(xm(w)||$p(w))return E!==null?null:d(x,y,w,S,null);_y(x,w)}return null}function p(x,y,w,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(w)||null,s(y,x,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case dy:return x=x.get(S.key===null?w:S.key)||null,l(y,x,S,E);case Yd:return x=x.get(S.key===null?w:S.key)||null,u(y,x,S,E);case Il:var C=S._init;return p(x,y,w,C(S._payload),E)}if(xm(S)||$p(S))return x=x.get(w)||null,d(y,x,S,E,null);_y(y,S)}return null}function m(x,y,w,S){for(var E=null,C=null,A=y,T=y=0,N=null;A!==null&&T<w.length;T++){A.index>T?(N=A,A=null):N=A.sibling;var I=h(x,A,w[T],S);if(I===null){A===null&&(A=N);break}t&&A&&I.alternate===null&&e(x,A),y=a(I,y,T),C===null?E=I:C.sibling=I,C=I,A=N}if(T===w.length)return r(x,A),dr&&au(x,T),E;if(A===null){for(;T<w.length;T++)A=f(x,w[T],S),A!==null&&(y=a(A,y,T),C===null?E=A:C.sibling=A,C=A);return dr&&au(x,T),E}for(A=n(x,A);T<w.length;T++)N=p(A,x,T,w[T],S),N!==null&&(t&&N.alternate!==null&&A.delete(N.key===null?T:N.key),y=a(N,y,T),C===null?E=N:C.sibling=N,C=N);return t&&A.forEach(function(j){return e(x,j)}),dr&&au(x,T),E}function g(x,y,w,S){var E=$p(w);if(typeof E!="function")throw Error(we(150));if(w=E.call(w),w==null)throw Error(we(151));for(var C=E=null,A=y,T=y=0,N=null,I=w.next();A!==null&&!I.done;T++,I=w.next()){A.index>T?(N=A,A=null):N=A.sibling;var j=h(x,A,I.value,S);if(j===null){A===null&&(A=N);break}t&&A&&j.alternate===null&&e(x,A),y=a(j,y,T),C===null?E=j:C.sibling=j,C=j,A=N}if(I.done)return r(x,A),dr&&au(x,T),E;if(A===null){for(;!I.done;T++,I=w.next())I=f(x,I.value,S),I!==null&&(y=a(I,y,T),C===null?E=I:C.sibling=I,C=I);return dr&&au(x,T),E}for(A=n(x,A);!I.done;T++,I=w.next())I=p(A,x,T,I.value,S),I!==null&&(t&&I.alternate!==null&&A.delete(I.key===null?T:I.key),y=a(I,y,T),C===null?E=I:C.sibling=I,C=I);return t&&A.forEach(function(O){return e(x,O)}),dr&&au(x,T),E}function v(x,y,w,S){if(typeof w=="object"&&w!==null&&w.type===Xd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case dy:e:{for(var E=w.key,C=y;C!==null;){if(C.key===E){if(E=w.type,E===Xd){if(C.tag===7){r(x,C.sibling),y=i(C,w.props.children),y.return=x,x=y;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Il&&L4(E)===C.type){r(x,C.sibling),y=i(C,w.props),y.ref=zp(x,C,w),y.return=x,x=y;break e}r(x,C);break}else e(x,C);C=C.sibling}w.type===Xd?(y=Ou(w.props.children,x.mode,S,w.key),y.return=x,x=y):(S=I1(w.type,w.key,w.props,null,x.mode,S),S.ref=zp(x,y,w),S.return=x,x=S)}return o(x);case Yd:e:{for(C=w.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(x,y.sibling),y=i(y,w.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else e(x,y);y=y.sibling}y=qS(w,x.mode,S),y.return=x,x=y}return o(x);case Il:return C=w._init,v(x,y,C(w._payload),S)}if(xm(w))return m(x,y,w,S);if($p(w))return g(x,y,w,S);_y(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(x,y.sibling),y=i(y,w),y.return=x,x=y):(r(x,y),y=GS(w,x.mode,S),y.return=x,x=y),o(x)):r(x,y)}return v}var Vf=KB(!0),YB=KB(!1),yx=Dc(null),xx=null,af=null,NP=null;function IP(){NP=af=xx=null}function PP(t){var e=yx.current;cr(yx),t._currentValue=e}function vC(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Sf(t,e){xx=t,NP=af=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mi=!0),t.firstContext=null)}function La(t){var e=t._currentValue;if(NP!==t)if(t={context:t,memoizedValue:e,next:null},af===null){if(xx===null)throw Error(we(308));af=t,xx.dependencies={lanes:0,firstContext:t}}else af=af.next=t;return e}var yu=null;function OP(t){yu===null?yu=[t]:yu.push(t)}function XB(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,OP(e)):(r.next=i.next,i.next=r),e.interleaved=r,Hs(t,n)}function Hs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Pl=!1;function jP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function QB(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ds(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zl(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,wt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Hs(t,r)}return i=n.interleaved,i===null?(e.next=e,OP(n)):(e.next=i.next,i.next=e),n.interleaved=e,Hs(t,r)}function S1(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,vP(t,r)}}function $4(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function wx(t,e,r,n){var i=t.updateQueue;Pl=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,d=u=l=null,s=a;do{var h=s.lane,p=s.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=t,g=s;switch(h=e,p=r,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Ar({},f,h);break e;case 2:Pl=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Vu|=o,t.lanes=o,t.memoizedState=f}}function F4(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(we(191,i));i.call(n)}}}var s0={},Ho=Dc(s0),Cg=Dc(s0),Tg=Dc(s0);function xu(t){if(t===s0)throw Error(we(174));return t}function kP(t,e){switch(Kt(Tg,e),Kt(Cg,t),Kt(Ho,s0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:QA(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=QA(e,t)}cr(Ho),Kt(Ho,e)}function zf(){cr(Ho),cr(Cg),cr(Tg)}function ZB(t){xu(Tg.current);var e=xu(Ho.current),r=QA(e,t.type);e!==r&&(Kt(Cg,t),Kt(Ho,r))}function RP(t){Cg.current===t&&(cr(Ho),cr(Cg))}var xr=Dc(0);function bx(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var BS=[];function DP(){for(var t=0;t<BS.length;t++)BS[t]._workInProgressVersionPrimary=null;BS.length=0}var E1=ol.ReactCurrentDispatcher,US=ol.ReactCurrentBatchConfig,Uu=0,Sr=null,Jr=null,yn=null,_x=!1,zm=!1,Ng=0,mae=0;function Bn(){throw Error(we(321))}function MP(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!bo(t[r],e[r]))return!1;return!0}function LP(t,e,r,n,i,a){if(Uu=a,Sr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,E1.current=t===null||t.memoizedState===null?xae:wae,t=r(n,i),zm){a=0;do{if(zm=!1,Ng=0,25<=a)throw Error(we(301));a+=1,yn=Jr=null,e.updateQueue=null,E1.current=bae,t=r(n,i)}while(zm)}if(E1.current=Sx,e=Jr!==null&&Jr.next!==null,Uu=0,yn=Jr=Sr=null,_x=!1,e)throw Error(we(300));return t}function $P(){var t=Ng!==0;return Ng=0,t}function ko(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?Sr.memoizedState=yn=t:yn=yn.next=t,yn}function $a(){if(Jr===null){var t=Sr.alternate;t=t!==null?t.memoizedState:null}else t=Jr.next;var e=yn===null?Sr.memoizedState:yn.next;if(e!==null)yn=e,Jr=t;else{if(t===null)throw Error(we(310));Jr=t,t={memoizedState:Jr.memoizedState,baseState:Jr.baseState,baseQueue:Jr.baseQueue,queue:Jr.queue,next:null},yn===null?Sr.memoizedState=yn=t:yn=yn.next=t}return yn}function Ig(t,e){return typeof e=="function"?e(t):e}function VS(t){var e=$a(),r=e.queue;if(r===null)throw Error(we(311));r.lastRenderedReducer=t;var n=Jr,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,u=a;do{var d=u.lane;if((Uu&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=n):l=l.next=f,Sr.lanes|=d,Vu|=d}u=u.next}while(u!==null&&u!==a);l===null?o=n:l.next=s,bo(n,e.memoizedState)||(Mi=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,Sr.lanes|=a,Vu|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function zS(t){var e=$a(),r=e.queue;if(r===null)throw Error(we(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);bo(a,e.memoizedState)||(Mi=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function JB(){}function eU(t,e){var r=Sr,n=$a(),i=e(),a=!bo(n.memoizedState,i);if(a&&(n.memoizedState=i,Mi=!0),n=n.queue,FP(nU.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||yn!==null&&yn.memoizedState.tag&1){if(r.flags|=2048,Pg(9,rU.bind(null,r,n,i,e),void 0,null),bn===null)throw Error(we(349));Uu&30||tU(r,e,i)}return i}function tU(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Sr.updateQueue,e===null?(e={lastEffect:null,stores:null},Sr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function rU(t,e,r,n){e.value=r,e.getSnapshot=n,iU(e)&&aU(t)}function nU(t,e,r){return r(function(){iU(e)&&aU(t)})}function iU(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!bo(t,r)}catch{return!0}}function aU(t){var e=Hs(t,1);e!==null&&vo(e,t,1,-1)}function B4(t){var e=ko();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ig,lastRenderedState:t},e.queue=t,t=t.dispatch=yae.bind(null,Sr,t),[e.memoizedState,t]}function Pg(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Sr.updateQueue,e===null?(e={lastEffect:null,stores:null},Sr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function oU(){return $a().memoizedState}function A1(t,e,r,n){var i=ko();Sr.flags|=t,i.memoizedState=Pg(1|e,r,void 0,n===void 0?null:n)}function Lb(t,e,r,n){var i=$a();n=n===void 0?null:n;var a=void 0;if(Jr!==null){var o=Jr.memoizedState;if(a=o.destroy,n!==null&&MP(n,o.deps)){i.memoizedState=Pg(e,r,a,n);return}}Sr.flags|=t,i.memoizedState=Pg(1|e,r,a,n)}function U4(t,e){return A1(8390656,8,t,e)}function FP(t,e){return Lb(2048,8,t,e)}function sU(t,e){return Lb(4,2,t,e)}function lU(t,e){return Lb(4,4,t,e)}function cU(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function uU(t,e,r){return r=r!=null?r.concat([t]):null,Lb(4,4,cU.bind(null,e,t),r)}function BP(){}function dU(t,e){var r=$a();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&MP(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function fU(t,e){var r=$a();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&MP(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function hU(t,e,r){return Uu&21?(bo(r,e)||(r=yB(),Sr.lanes|=r,Vu|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mi=!0),t.memoizedState=r)}function gae(t,e){var r=kt;kt=r!==0&&4>r?r:4,t(!0);var n=US.transition;US.transition={};try{t(!1),e()}finally{kt=r,US.transition=n}}function pU(){return $a().memoizedState}function vae(t,e,r){var n=ec(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},mU(t))gU(e,r);else if(r=XB(t,e,r,n),r!==null){var i=bi();vo(r,t,n,i),vU(r,e,n)}}function yae(t,e,r){var n=ec(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(mU(t))gU(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,bo(s,o)){var l=e.interleaved;l===null?(i.next=i,OP(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=XB(t,e,i,n),r!==null&&(i=bi(),vo(r,t,n,i),vU(r,e,n))}}function mU(t){var e=t.alternate;return t===Sr||e!==null&&e===Sr}function gU(t,e){zm=_x=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function vU(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,vP(t,r)}}var Sx={readContext:La,useCallback:Bn,useContext:Bn,useEffect:Bn,useImperativeHandle:Bn,useInsertionEffect:Bn,useLayoutEffect:Bn,useMemo:Bn,useReducer:Bn,useRef:Bn,useState:Bn,useDebugValue:Bn,useDeferredValue:Bn,useTransition:Bn,useMutableSource:Bn,useSyncExternalStore:Bn,useId:Bn,unstable_isNewReconciler:!1},xae={readContext:La,useCallback:function(t,e){return ko().memoizedState=[t,e===void 0?null:e],t},useContext:La,useEffect:U4,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,A1(4194308,4,cU.bind(null,e,t),r)},useLayoutEffect:function(t,e){return A1(4194308,4,t,e)},useInsertionEffect:function(t,e){return A1(4,2,t,e)},useMemo:function(t,e){var r=ko();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ko();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=vae.bind(null,Sr,t),[n.memoizedState,t]},useRef:function(t){var e=ko();return t={current:t},e.memoizedState=t},useState:B4,useDebugValue:BP,useDeferredValue:function(t){return ko().memoizedState=t},useTransition:function(){var t=B4(!1),e=t[0];return t=gae.bind(null,t[1]),ko().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Sr,i=ko();if(dr){if(r===void 0)throw Error(we(407));r=r()}else{if(r=e(),bn===null)throw Error(we(349));Uu&30||tU(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,U4(nU.bind(null,n,a,t),[t]),n.flags|=2048,Pg(9,rU.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=ko(),e=bn.identifierPrefix;if(dr){var r=Ts,n=Cs;r=(n&~(1<<32-go(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ng++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=mae++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wae={readContext:La,useCallback:dU,useContext:La,useEffect:FP,useImperativeHandle:uU,useInsertionEffect:sU,useLayoutEffect:lU,useMemo:fU,useReducer:VS,useRef:oU,useState:function(){return VS(Ig)},useDebugValue:BP,useDeferredValue:function(t){var e=$a();return hU(e,Jr.memoizedState,t)},useTransition:function(){var t=VS(Ig)[0],e=$a().memoizedState;return[t,e]},useMutableSource:JB,useSyncExternalStore:eU,useId:pU,unstable_isNewReconciler:!1},bae={readContext:La,useCallback:dU,useContext:La,useEffect:FP,useImperativeHandle:uU,useInsertionEffect:sU,useLayoutEffect:lU,useMemo:fU,useReducer:zS,useRef:oU,useState:function(){return zS(Ig)},useDebugValue:BP,useDeferredValue:function(t){var e=$a();return Jr===null?e.memoizedState=t:hU(e,Jr.memoizedState,t)},useTransition:function(){var t=zS(Ig)[0],e=$a().memoizedState;return[t,e]},useMutableSource:JB,useSyncExternalStore:eU,useId:pU,unstable_isNewReconciler:!1};function no(t,e){if(t&&t.defaultProps){e=Ar({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function yC(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ar({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var $b={isMounted:function(t){return(t=t._reactInternals)?md(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=bi(),i=ec(t),a=Ds(n,i);a.payload=e,r!=null&&(a.callback=r),e=Zl(t,a,i),e!==null&&(vo(e,t,i,n),S1(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=bi(),i=ec(t),a=Ds(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Zl(t,a,i),e!==null&&(vo(e,t,i,n),S1(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=bi(),n=ec(t),i=Ds(r,n);i.tag=2,e!=null&&(i.callback=e),e=Zl(t,i,n),e!==null&&(vo(e,t,n,r),S1(e,t,n))}};function V4(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!_g(r,n)||!_g(i,a):!0}function yU(t,e,r){var n=!1,i=mc,a=e.contextType;return typeof a=="object"&&a!==null?a=La(a):(i=Bi(e)?Fu:ti.current,n=e.contextTypes,a=(n=n!=null)?Bf(t,i):mc),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$b,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function z4(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&$b.enqueueReplaceState(e,e.state,null)}function xC(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},jP(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=La(a):(a=Bi(e)?Fu:ti.current,i.context=Bf(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(yC(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$b.enqueueReplaceState(i,i.state,null),wx(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Wf(t,e){try{var r="",n=e;do r+=Yne(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function WS(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function wC(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var _ae=typeof WeakMap=="function"?WeakMap:Map;function xU(t,e,r){r=Ds(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ax||(Ax=!0,PC=n),wC(t,e)},r}function wU(t,e,r){r=Ds(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){wC(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){wC(t,e),typeof n!="function"&&(Jl===null?Jl=new Set([this]):Jl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function W4(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new _ae;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=Mae.bind(null,t,e,r),e.then(t,t))}function H4(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function G4(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ds(-1,1),e.tag=2,Zl(r,e,1))),r.lanes|=1),t)}var Sae=ol.ReactCurrentOwner,Mi=!1;function gi(t,e,r,n){e.child=t===null?YB(e,null,r,n):Vf(e,t.child,r,n)}function q4(t,e,r,n,i){r=r.render;var a=e.ref;return Sf(e,i),n=LP(t,e,r,n,a,i),r=$P(),t!==null&&!Mi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gs(t,e,i)):(dr&&r&&AP(e),e.flags|=1,gi(t,e,n,i),e.child)}function K4(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!KP(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,bU(t,e,a,n,i)):(t=I1(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:_g,r(o,n)&&t.ref===e.ref)return Gs(t,e,i)}return e.flags|=1,t=tc(a,n),t.ref=e.ref,t.return=e,e.child=t}function bU(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(_g(a,n)&&t.ref===e.ref)if(Mi=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Mi=!0);else return e.lanes=t.lanes,Gs(t,e,i)}return bC(t,e,r,n,i)}function _U(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kt(sf,ta),ta|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Kt(sf,ta),ta|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Kt(sf,ta),ta|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Kt(sf,ta),ta|=n;return gi(t,e,i,r),e.child}function SU(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function bC(t,e,r,n,i){var a=Bi(r)?Fu:ti.current;return a=Bf(e,a),Sf(e,i),r=LP(t,e,r,n,a,i),n=$P(),t!==null&&!Mi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gs(t,e,i)):(dr&&n&&AP(e),e.flags|=1,gi(t,e,r,i),e.child)}function Y4(t,e,r,n,i){if(Bi(r)){var a=!0;mx(e)}else a=!1;if(Sf(e,i),e.stateNode===null)C1(t,e),yU(e,r,n),xC(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=La(u):(u=Bi(r)?Fu:ti.current,u=Bf(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==u)&&z4(e,o,n,u),Pl=!1;var h=e.memoizedState;o.state=h,wx(e,n,o,i),l=e.memoizedState,s!==n||h!==l||Fi.current||Pl?(typeof d=="function"&&(yC(e,r,d,n),l=e.memoizedState),(s=Pl||V4(e,r,s,n,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,QB(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:no(e.type,s),o.props=u,f=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=La(l):(l=Bi(r)?Fu:ti.current,l=Bf(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&z4(e,o,n,l),Pl=!1,h=e.memoizedState,o.state=h,wx(e,n,o,i);var m=e.memoizedState;s!==f||h!==m||Fi.current||Pl?(typeof p=="function"&&(yC(e,r,p,n),m=e.memoizedState),(u=Pl||V4(e,r,u,n,h,m,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),o.props=n,o.state=m,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return _C(t,e,r,n,a,i)}function _C(t,e,r,n,i,a){SU(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&R4(e,r,!1),Gs(t,e,a);n=e.stateNode,Sae.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Vf(e,t.child,null,a),e.child=Vf(e,null,s,a)):gi(t,e,s,a),e.memoizedState=n.state,i&&R4(e,r,!0),e.child}function EU(t){var e=t.stateNode;e.pendingContext?k4(t,e.pendingContext,e.pendingContext!==e.context):e.context&&k4(t,e.context,!1),kP(t,e.containerInfo)}function X4(t,e,r,n,i){return Uf(),TP(i),e.flags|=256,gi(t,e,r,n),e.child}var SC={dehydrated:null,treeContext:null,retryLane:0};function EC(t){return{baseLanes:t,cachePool:null,transitions:null}}function AU(t,e,r){var n=e.pendingProps,i=xr.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Kt(xr,i&1),t===null)return gC(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Ub(o,n,0,null),t=Ou(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=EC(r),e.memoizedState=SC,t):UP(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Eae(t,e,o,n,s,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=tc(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=tc(s,a):(a=Ou(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?EC(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=SC,n}return a=t.child,t=a.sibling,n=tc(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function UP(t,e){return e=Ub({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sy(t,e,r,n){return n!==null&&TP(n),Vf(e,t.child,null,r),t=UP(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Eae(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=WS(Error(we(422))),Sy(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Ub({mode:"visible",children:n.children},i,0,null),a=Ou(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Vf(e,t.child,null,o),e.child.memoizedState=EC(o),e.memoizedState=SC,a);if(!(e.mode&1))return Sy(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(we(419)),n=WS(a,n,void 0),Sy(t,e,o,n)}if(s=(o&t.childLanes)!==0,Mi||s){if(n=bn,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Hs(t,i),vo(n,t,i,-1))}return qP(),n=WS(Error(we(421))),Sy(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Lae.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,oa=Ql(i.nextSibling),sa=e,dr=!0,so=null,t!==null&&(Ta[Na++]=Cs,Ta[Na++]=Ts,Ta[Na++]=Bu,Cs=t.id,Ts=t.overflow,Bu=e),e=UP(e,n.children),e.flags|=4096,e)}function Q4(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),vC(t.return,e,r)}function HS(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function CU(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(gi(t,e,n.children,r),n=xr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Q4(t,r,e);else if(t.tag===19)Q4(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Kt(xr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&bx(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),HS(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bx(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}HS(e,!0,r,null,a);break;case"together":HS(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function C1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Vu|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(we(153));if(e.child!==null){for(t=e.child,r=tc(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=tc(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Aae(t,e,r){switch(e.tag){case 3:EU(e),Uf();break;case 5:ZB(e);break;case 1:Bi(e.type)&&mx(e);break;case 4:kP(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Kt(yx,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Kt(xr,xr.current&1),e.flags|=128,null):r&e.child.childLanes?AU(t,e,r):(Kt(xr,xr.current&1),t=Gs(t,e,r),t!==null?t.sibling:null);Kt(xr,xr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return CU(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Kt(xr,xr.current),n)break;return null;case 22:case 23:return e.lanes=0,_U(t,e,r)}return Gs(t,e,r)}var TU,AC,NU,IU;TU=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};AC=function(){};NU=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,xu(Ho.current);var a=null;switch(r){case"input":i=qA(t,i),n=qA(t,n),a=[];break;case"select":i=Ar({},i,{value:void 0}),n=Ar({},n,{value:void 0}),a=[];break;case"textarea":i=XA(t,i),n=XA(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=hx)}ZA(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(mg.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(mg.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&tr("scroll",t),a||s===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};IU=function(t,e,r,n){r!==n&&(e.flags|=4)};function Wp(t,e){if(!dr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Un(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Cae(t,e,r){var n=e.pendingProps;switch(CP(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Un(e),null;case 1:return Bi(e.type)&&px(),Un(e),null;case 3:return n=e.stateNode,zf(),cr(Fi),cr(ti),DP(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(by(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,so!==null&&(kC(so),so=null))),AC(t,e),Un(e),null;case 5:RP(e);var i=xu(Tg.current);if(r=e.type,t!==null&&e.stateNode!=null)NU(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(we(166));return Un(e),null}if(t=xu(Ho.current),by(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[$o]=e,n[Ag]=a,t=(e.mode&1)!==0,r){case"dialog":tr("cancel",n),tr("close",n);break;case"iframe":case"object":case"embed":tr("load",n);break;case"video":case"audio":for(i=0;i<bm.length;i++)tr(bm[i],n);break;case"source":tr("error",n);break;case"img":case"image":case"link":tr("error",n),tr("load",n);break;case"details":tr("toggle",n);break;case"input":o4(n,a),tr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},tr("invalid",n);break;case"textarea":l4(n,a),tr("invalid",n)}ZA(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&wy(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&wy(n.textContent,s,t),i=["children",""+s]):mg.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&tr("scroll",n)}switch(r){case"input":fy(n),s4(n,a,!0);break;case"textarea":fy(n),c4(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=hx)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=nB(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[$o]=e,t[Ag]=n,TU(t,e,!1,!1),e.stateNode=t;e:{switch(o=JA(r,n),r){case"dialog":tr("cancel",t),tr("close",t),i=n;break;case"iframe":case"object":case"embed":tr("load",t),i=n;break;case"video":case"audio":for(i=0;i<bm.length;i++)tr(bm[i],t);i=n;break;case"source":tr("error",t),i=n;break;case"img":case"image":case"link":tr("error",t),tr("load",t),i=n;break;case"details":tr("toggle",t),i=n;break;case"input":o4(t,n),i=qA(t,n),tr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Ar({},n,{value:void 0}),tr("invalid",t);break;case"textarea":l4(t,n),i=XA(t,n),tr("invalid",t);break;default:i=n}ZA(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?oB(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&iB(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&gg(t,l):typeof l=="number"&&gg(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(mg.hasOwnProperty(a)?l!=null&&a==="onScroll"&&tr("scroll",t):l!=null&&dP(t,a,l,o))}switch(r){case"input":fy(t),s4(t,n,!1);break;case"textarea":fy(t),c4(t);break;case"option":n.value!=null&&t.setAttribute("value",""+pc(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?xf(t,!!n.multiple,a,!1):n.defaultValue!=null&&xf(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=hx)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Un(e),null;case 6:if(t&&e.stateNode!=null)IU(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(we(166));if(r=xu(Tg.current),xu(Ho.current),by(e)){if(n=e.stateNode,r=e.memoizedProps,n[$o]=e,(a=n.nodeValue!==r)&&(t=sa,t!==null))switch(t.tag){case 3:wy(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wy(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[$o]=e,e.stateNode=n}return Un(e),null;case 13:if(cr(xr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dr&&oa!==null&&e.mode&1&&!(e.flags&128))qB(),Uf(),e.flags|=98560,a=!1;else if(a=by(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(we(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(we(317));a[$o]=e}else Uf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Un(e),a=!1}else so!==null&&(kC(so),so=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||xr.current&1?an===0&&(an=3):qP())),e.updateQueue!==null&&(e.flags|=4),Un(e),null);case 4:return zf(),AC(t,e),t===null&&Sg(e.stateNode.containerInfo),Un(e),null;case 10:return PP(e.type._context),Un(e),null;case 17:return Bi(e.type)&&px(),Un(e),null;case 19:if(cr(xr),a=e.memoizedState,a===null)return Un(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Wp(a,!1);else{if(an!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=bx(t),o!==null){for(e.flags|=128,Wp(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Kt(xr,xr.current&1|2),e.child}t=t.sibling}a.tail!==null&&Mr()>Hf&&(e.flags|=128,n=!0,Wp(a,!1),e.lanes=4194304)}else{if(!n)if(t=bx(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Wp(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!dr)return Un(e),null}else 2*Mr()-a.renderingStartTime>Hf&&r!==1073741824&&(e.flags|=128,n=!0,Wp(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Mr(),e.sibling=null,r=xr.current,Kt(xr,n?r&1|2:r&1),e):(Un(e),null);case 22:case 23:return GP(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ta&1073741824&&(Un(e),e.subtreeFlags&6&&(e.flags|=8192)):Un(e),null;case 24:return null;case 25:return null}throw Error(we(156,e.tag))}function Tae(t,e){switch(CP(e),e.tag){case 1:return Bi(e.type)&&px(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zf(),cr(Fi),cr(ti),DP(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return RP(e),null;case 13:if(cr(xr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(we(340));Uf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return cr(xr),null;case 4:return zf(),null;case 10:return PP(e.type._context),null;case 22:case 23:return GP(),null;case 24:return null;default:return null}}var Ey=!1,Xn=!1,Nae=typeof WeakSet=="function"?WeakSet:Set,Re=null;function of(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Tr(t,e,n)}else r.current=null}function CC(t,e,r){try{r()}catch(n){Tr(t,e,n)}}var Z4=!1;function Iae(t,e){if(cC=ux,t=RB(),EP(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(s=o+i),f!==a||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++u===i&&(s=o),h===a&&++d===n&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(uC={focusedElem:t,selectionRange:r},ux=!1,Re=e;Re!==null;)if(e=Re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Re=t;else for(;Re!==null;){e=Re;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:no(e.type,g),v);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(we(163))}}catch(S){Tr(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Re=t;break}Re=e.return}return m=Z4,Z4=!1,m}function Wm(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&CC(e,r,a)}i=i.next}while(i!==n)}}function Fb(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function TC(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function PU(t){var e=t.alternate;e!==null&&(t.alternate=null,PU(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$o],delete e[Ag],delete e[hC],delete e[dae],delete e[fae])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function OU(t){return t.tag===5||t.tag===3||t.tag===4}function J4(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||OU(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function NC(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=hx));else if(n!==4&&(t=t.child,t!==null))for(NC(t,e,r),t=t.sibling;t!==null;)NC(t,e,r),t=t.sibling}function IC(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(IC(t,e,r),t=t.sibling;t!==null;)IC(t,e,r),t=t.sibling}var In=null,io=!1;function yl(t,e,r){for(r=r.child;r!==null;)jU(t,e,r),r=r.sibling}function jU(t,e,r){if(Wo&&typeof Wo.onCommitFiberUnmount=="function")try{Wo.onCommitFiberUnmount(Ob,r)}catch{}switch(r.tag){case 5:Xn||of(r,e);case 6:var n=In,i=io;In=null,yl(t,e,r),In=n,io=i,In!==null&&(io?(t=In,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):In.removeChild(r.stateNode));break;case 18:In!==null&&(io?(t=In,r=r.stateNode,t.nodeType===8?$S(t.parentNode,r):t.nodeType===1&&$S(t,r),wg(t)):$S(In,r.stateNode));break;case 4:n=In,i=io,In=r.stateNode.containerInfo,io=!0,yl(t,e,r),In=n,io=i;break;case 0:case 11:case 14:case 15:if(!Xn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&CC(r,e,o),i=i.next}while(i!==n)}yl(t,e,r);break;case 1:if(!Xn&&(of(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Tr(r,e,s)}yl(t,e,r);break;case 21:yl(t,e,r);break;case 22:r.mode&1?(Xn=(n=Xn)||r.memoizedState!==null,yl(t,e,r),Xn=n):yl(t,e,r);break;default:yl(t,e,r)}}function eD(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Nae),e.forEach(function(n){var i=$ae.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Qa(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:In=s.stateNode,io=!1;break e;case 3:In=s.stateNode.containerInfo,io=!0;break e;case 4:In=s.stateNode.containerInfo,io=!0;break e}s=s.return}if(In===null)throw Error(we(160));jU(a,o,i),In=null,io=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Tr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kU(e,t),e=e.sibling}function kU(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qa(e,t),jo(t),n&4){try{Wm(3,t,t.return),Fb(3,t)}catch(g){Tr(t,t.return,g)}try{Wm(5,t,t.return)}catch(g){Tr(t,t.return,g)}}break;case 1:Qa(e,t),jo(t),n&512&&r!==null&&of(r,r.return);break;case 5:if(Qa(e,t),jo(t),n&512&&r!==null&&of(r,r.return),t.flags&32){var i=t.stateNode;try{gg(i,"")}catch(g){Tr(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&tB(i,a),JA(s,o);var u=JA(s,a);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?oB(i,f):d==="dangerouslySetInnerHTML"?iB(i,f):d==="children"?gg(i,f):dP(i,d,f,u)}switch(s){case"input":KA(i,a);break;case"textarea":rB(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?xf(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?xf(i,!!a.multiple,a.defaultValue,!0):xf(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ag]=a}catch(g){Tr(t,t.return,g)}}break;case 6:if(Qa(e,t),jo(t),n&4){if(t.stateNode===null)throw Error(we(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){Tr(t,t.return,g)}}break;case 3:if(Qa(e,t),jo(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{wg(e.containerInfo)}catch(g){Tr(t,t.return,g)}break;case 4:Qa(e,t),jo(t);break;case 13:Qa(e,t),jo(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(WP=Mr())),n&4&&eD(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Xn=(u=Xn)||d,Qa(e,t),Xn=u):Qa(e,t),jo(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Re=t,d=t.child;d!==null;){for(f=Re=d;Re!==null;){switch(h=Re,p=h.child,h.tag){case 0:case 11:case 14:case 15:Wm(4,h,h.return);break;case 1:of(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Tr(n,r,g)}}break;case 5:of(h,h.return);break;case 22:if(h.memoizedState!==null){rD(f);continue}}p!==null?(p.return=h,Re=p):rD(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=aB("display",o))}catch(g){Tr(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Tr(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qa(e,t),jo(t),n&4&&eD(t);break;case 21:break;default:Qa(e,t),jo(t)}}function jo(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(OU(r)){var n=r;break e}r=r.return}throw Error(we(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(gg(i,""),n.flags&=-33);var a=J4(t);IC(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=J4(t);NC(t,s,o);break;default:throw Error(we(161))}}catch(l){Tr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Pae(t,e,r){Re=t,RU(t)}function RU(t,e,r){for(var n=(t.mode&1)!==0;Re!==null;){var i=Re,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Ey;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Xn;s=Ey;var u=Xn;if(Ey=o,(Xn=l)&&!u)for(Re=i;Re!==null;)o=Re,l=o.child,o.tag===22&&o.memoizedState!==null?nD(i):l!==null?(l.return=o,Re=l):nD(i);for(;a!==null;)Re=a,RU(a),a=a.sibling;Re=i,Ey=s,Xn=u}tD(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Re=a):tD(t)}}function tD(t){for(;Re!==null;){var e=Re;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xn||Fb(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Xn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:no(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&F4(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}F4(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&wg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(we(163))}Xn||e.flags&512&&TC(e)}catch(h){Tr(e,e.return,h)}}if(e===t){Re=null;break}if(r=e.sibling,r!==null){r.return=e.return,Re=r;break}Re=e.return}}function rD(t){for(;Re!==null;){var e=Re;if(e===t){Re=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Re=r;break}Re=e.return}}function nD(t){for(;Re!==null;){var e=Re;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Fb(4,e)}catch(l){Tr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Tr(e,i,l)}}var a=e.return;try{TC(e)}catch(l){Tr(e,a,l)}break;case 5:var o=e.return;try{TC(e)}catch(l){Tr(e,o,l)}}}catch(l){Tr(e,e.return,l)}if(e===t){Re=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Re=s;break}Re=e.return}}var Oae=Math.ceil,Ex=ol.ReactCurrentDispatcher,VP=ol.ReactCurrentOwner,ka=ol.ReactCurrentBatchConfig,wt=0,bn=null,Hr=null,Rn=0,ta=0,sf=Dc(0),an=0,Og=null,Vu=0,Bb=0,zP=0,Hm=null,ki=null,WP=0,Hf=1/0,ws=null,Ax=!1,PC=null,Jl=null,Ay=!1,Ul=null,Cx=0,Gm=0,OC=null,T1=-1,N1=0;function bi(){return wt&6?Mr():T1!==-1?T1:T1=Mr()}function ec(t){return t.mode&1?wt&2&&Rn!==0?Rn&-Rn:pae.transition!==null?(N1===0&&(N1=yB()),N1):(t=kt,t!==0||(t=window.event,t=t===void 0?16:AB(t.type)),t):1}function vo(t,e,r,n){if(50<Gm)throw Gm=0,OC=null,Error(we(185));i0(t,r,n),(!(wt&2)||t!==bn)&&(t===bn&&(!(wt&2)&&(Bb|=r),an===4&&Dl(t,Rn)),Ui(t,n),r===1&&wt===0&&!(e.mode&1)&&(Hf=Mr()+500,Mb&&Mc()))}function Ui(t,e){var r=t.callbackNode;pie(t,e);var n=cx(t,t===bn?Rn:0);if(n===0)r!==null&&f4(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&f4(r),e===1)t.tag===0?hae(iD.bind(null,t)):WB(iD.bind(null,t)),cae(function(){!(wt&6)&&Mc()}),r=null;else{switch(xB(n)){case 1:r=gP;break;case 4:r=gB;break;case 16:r=lx;break;case 536870912:r=vB;break;default:r=lx}r=VU(r,DU.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function DU(t,e){if(T1=-1,N1=0,wt&6)throw Error(we(327));var r=t.callbackNode;if(Ef()&&t.callbackNode!==r)return null;var n=cx(t,t===bn?Rn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Tx(t,n);else{e=n;var i=wt;wt|=2;var a=LU();(bn!==t||Rn!==e)&&(ws=null,Hf=Mr()+500,Pu(t,e));do try{Rae();break}catch(s){MU(t,s)}while(!0);IP(),Ex.current=a,wt=i,Hr!==null?e=0:(bn=null,Rn=0,e=an)}if(e!==0){if(e===2&&(i=iC(t),i!==0&&(n=i,e=jC(t,i))),e===1)throw r=Og,Pu(t,0),Dl(t,n),Ui(t,Mr()),r;if(e===6)Dl(t,n);else{if(i=t.current.alternate,!(n&30)&&!jae(i)&&(e=Tx(t,n),e===2&&(a=iC(t),a!==0&&(n=a,e=jC(t,a))),e===1))throw r=Og,Pu(t,0),Dl(t,n),Ui(t,Mr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(we(345));case 2:ou(t,ki,ws);break;case 3:if(Dl(t,n),(n&130023424)===n&&(e=WP+500-Mr(),10<e)){if(cx(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){bi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=fC(ou.bind(null,t,ki,ws),e);break}ou(t,ki,ws);break;case 4:if(Dl(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-go(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=Mr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Oae(n/1960))-n,10<n){t.timeoutHandle=fC(ou.bind(null,t,ki,ws),n);break}ou(t,ki,ws);break;case 5:ou(t,ki,ws);break;default:throw Error(we(329))}}}return Ui(t,Mr()),t.callbackNode===r?DU.bind(null,t):null}function jC(t,e){var r=Hm;return t.current.memoizedState.isDehydrated&&(Pu(t,e).flags|=256),t=Tx(t,e),t!==2&&(e=ki,ki=r,e!==null&&kC(e)),t}function kC(t){ki===null?ki=t:ki.push.apply(ki,t)}function jae(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!bo(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dl(t,e){for(e&=~zP,e&=~Bb,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-go(e),n=1<<r;t[r]=-1,e&=~n}}function iD(t){if(wt&6)throw Error(we(327));Ef();var e=cx(t,0);if(!(e&1))return Ui(t,Mr()),null;var r=Tx(t,e);if(t.tag!==0&&r===2){var n=iC(t);n!==0&&(e=n,r=jC(t,n))}if(r===1)throw r=Og,Pu(t,0),Dl(t,e),Ui(t,Mr()),r;if(r===6)throw Error(we(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ou(t,ki,ws),Ui(t,Mr()),null}function HP(t,e){var r=wt;wt|=1;try{return t(e)}finally{wt=r,wt===0&&(Hf=Mr()+500,Mb&&Mc())}}function zu(t){Ul!==null&&Ul.tag===0&&!(wt&6)&&Ef();var e=wt;wt|=1;var r=ka.transition,n=kt;try{if(ka.transition=null,kt=1,t)return t()}finally{kt=n,ka.transition=r,wt=e,!(wt&6)&&Mc()}}function GP(){ta=sf.current,cr(sf)}function Pu(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,lae(r)),Hr!==null)for(r=Hr.return;r!==null;){var n=r;switch(CP(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&px();break;case 3:zf(),cr(Fi),cr(ti),DP();break;case 5:RP(n);break;case 4:zf();break;case 13:cr(xr);break;case 19:cr(xr);break;case 10:PP(n.type._context);break;case 22:case 23:GP()}r=r.return}if(bn=t,Hr=t=tc(t.current,null),Rn=ta=e,an=0,Og=null,zP=Bb=Vu=0,ki=Hm=null,yu!==null){for(e=0;e<yu.length;e++)if(r=yu[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}yu=null}return t}function MU(t,e){do{var r=Hr;try{if(IP(),E1.current=Sx,_x){for(var n=Sr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}_x=!1}if(Uu=0,yn=Jr=Sr=null,zm=!1,Ng=0,VP.current=null,r===null||r.return===null){an=1,Og=e,Hr=null;break}e:{var a=t,o=r.return,s=r,l=e;if(e=Rn,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=H4(o);if(p!==null){p.flags&=-257,G4(p,o,s,a,e),p.mode&1&&W4(a,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){W4(a,u,e),qP();break e}l=Error(we(426))}}else if(dr&&s.mode&1){var v=H4(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),G4(v,o,s,a,e),TP(Wf(l,s));break e}}a=l=Wf(l,s),an!==4&&(an=2),Hm===null?Hm=[a]:Hm.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var x=xU(a,l,e);$4(a,x);break e;case 1:s=l;var y=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Jl===null||!Jl.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var S=wU(a,s,e);$4(a,S);break e}}a=a.return}while(a!==null)}FU(r)}catch(E){e=E,Hr===r&&r!==null&&(Hr=r=r.return);continue}break}while(!0)}function LU(){var t=Ex.current;return Ex.current=Sx,t===null?Sx:t}function qP(){(an===0||an===3||an===2)&&(an=4),bn===null||!(Vu&268435455)&&!(Bb&268435455)||Dl(bn,Rn)}function Tx(t,e){var r=wt;wt|=2;var n=LU();(bn!==t||Rn!==e)&&(ws=null,Pu(t,e));do try{kae();break}catch(i){MU(t,i)}while(!0);if(IP(),wt=r,Ex.current=n,Hr!==null)throw Error(we(261));return bn=null,Rn=0,an}function kae(){for(;Hr!==null;)$U(Hr)}function Rae(){for(;Hr!==null&&!aie();)$U(Hr)}function $U(t){var e=UU(t.alternate,t,ta);t.memoizedProps=t.pendingProps,e===null?FU(t):Hr=e,VP.current=null}function FU(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Tae(r,e),r!==null){r.flags&=32767,Hr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{an=6,Hr=null;return}}else if(r=Cae(r,e,ta),r!==null){Hr=r;return}if(e=e.sibling,e!==null){Hr=e;return}Hr=e=t}while(e!==null);an===0&&(an=5)}function ou(t,e,r){var n=kt,i=ka.transition;try{ka.transition=null,kt=1,Dae(t,e,r,n)}finally{ka.transition=i,kt=n}return null}function Dae(t,e,r,n){do Ef();while(Ul!==null);if(wt&6)throw Error(we(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(we(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(mie(t,a),t===bn&&(Hr=bn=null,Rn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ay||(Ay=!0,VU(lx,function(){return Ef(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ka.transition,ka.transition=null;var o=kt;kt=1;var s=wt;wt|=4,VP.current=null,Iae(t,r),kU(r,t),tae(uC),ux=!!cC,uC=cC=null,t.current=r,Pae(r),oie(),wt=s,kt=o,ka.transition=a}else t.current=r;if(Ay&&(Ay=!1,Ul=t,Cx=i),a=t.pendingLanes,a===0&&(Jl=null),cie(r.stateNode),Ui(t,Mr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ax)throw Ax=!1,t=PC,PC=null,t;return Cx&1&&t.tag!==0&&Ef(),a=t.pendingLanes,a&1?t===OC?Gm++:(Gm=0,OC=t):Gm=0,Mc(),null}function Ef(){if(Ul!==null){var t=xB(Cx),e=ka.transition,r=kt;try{if(ka.transition=null,kt=16>t?16:t,Ul===null)var n=!1;else{if(t=Ul,Ul=null,Cx=0,wt&6)throw Error(we(331));var i=wt;for(wt|=4,Re=t.current;Re!==null;){var a=Re,o=a.child;if(Re.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Re=u;Re!==null;){var d=Re;switch(d.tag){case 0:case 11:case 15:Wm(8,d,a)}var f=d.child;if(f!==null)f.return=d,Re=f;else for(;Re!==null;){d=Re;var h=d.sibling,p=d.return;if(PU(d),d===u){Re=null;break}if(h!==null){h.return=p,Re=h;break}Re=p}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}Re=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Re=o;else e:for(;Re!==null;){if(a=Re,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Wm(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,Re=x;break e}Re=a.return}}var y=t.current;for(Re=y;Re!==null;){o=Re;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Re=w;else e:for(o=y;Re!==null;){if(s=Re,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Fb(9,s)}}catch(E){Tr(s,s.return,E)}if(s===o){Re=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,Re=S;break e}Re=s.return}}if(wt=i,Mc(),Wo&&typeof Wo.onPostCommitFiberRoot=="function")try{Wo.onPostCommitFiberRoot(Ob,t)}catch{}n=!0}return n}finally{kt=r,ka.transition=e}}return!1}function aD(t,e,r){e=Wf(r,e),e=xU(t,e,1),t=Zl(t,e,1),e=bi(),t!==null&&(i0(t,1,e),Ui(t,e))}function Tr(t,e,r){if(t.tag===3)aD(t,t,r);else for(;e!==null;){if(e.tag===3){aD(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Jl===null||!Jl.has(n))){t=Wf(r,t),t=wU(e,t,1),e=Zl(e,t,1),t=bi(),e!==null&&(i0(e,1,t),Ui(e,t));break}}e=e.return}}function Mae(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=bi(),t.pingedLanes|=t.suspendedLanes&r,bn===t&&(Rn&r)===r&&(an===4||an===3&&(Rn&130023424)===Rn&&500>Mr()-WP?Pu(t,0):zP|=r),Ui(t,e)}function BU(t,e){e===0&&(t.mode&1?(e=my,my<<=1,!(my&130023424)&&(my=4194304)):e=1);var r=bi();t=Hs(t,e),t!==null&&(i0(t,e,r),Ui(t,r))}function Lae(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),BU(t,r)}function $ae(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(we(314))}n!==null&&n.delete(e),BU(t,r)}var UU;UU=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fi.current)Mi=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Mi=!1,Aae(t,e,r);Mi=!!(t.flags&131072)}else Mi=!1,dr&&e.flags&1048576&&HB(e,vx,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;C1(t,e),t=e.pendingProps;var i=Bf(e,ti.current);Sf(e,r),i=LP(null,e,n,t,i,r);var a=$P();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bi(n)?(a=!0,mx(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jP(e),i.updater=$b,e.stateNode=i,i._reactInternals=e,xC(e,n,t,r),e=_C(null,e,n,!0,a,r)):(e.tag=0,dr&&a&&AP(e),gi(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(C1(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Bae(n),t=no(n,t),i){case 0:e=bC(null,e,n,t,r);break e;case 1:e=Y4(null,e,n,t,r);break e;case 11:e=q4(null,e,n,t,r);break e;case 14:e=K4(null,e,n,no(n.type,t),r);break e}throw Error(we(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:no(n,i),bC(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:no(n,i),Y4(t,e,n,i,r);case 3:e:{if(EU(e),t===null)throw Error(we(387));n=e.pendingProps,a=e.memoizedState,i=a.element,QB(t,e),wx(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Wf(Error(we(423)),e),e=X4(t,e,n,r,i);break e}else if(n!==i){i=Wf(Error(we(424)),e),e=X4(t,e,n,r,i);break e}else for(oa=Ql(e.stateNode.containerInfo.firstChild),sa=e,dr=!0,so=null,r=YB(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Uf(),n===i){e=Gs(t,e,r);break e}gi(t,e,n,r)}e=e.child}return e;case 5:return ZB(e),t===null&&gC(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,dC(n,i)?o=null:a!==null&&dC(n,a)&&(e.flags|=32),SU(t,e),gi(t,e,o,r),e.child;case 6:return t===null&&gC(e),null;case 13:return AU(t,e,r);case 4:return kP(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Vf(e,null,n,r):gi(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:no(n,i),q4(t,e,n,i,r);case 7:return gi(t,e,e.pendingProps,r),e.child;case 8:return gi(t,e,e.pendingProps.children,r),e.child;case 12:return gi(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Kt(yx,n._currentValue),n._currentValue=o,a!==null)if(bo(a.value,o)){if(a.children===i.children&&!Fi.current){e=Gs(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Ds(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),vC(a.return,r,e),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(we(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),vC(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}gi(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Sf(e,r),i=La(i),n=n(i),e.flags|=1,gi(t,e,n,r),e.child;case 14:return n=e.type,i=no(n,e.pendingProps),i=no(n.type,i),K4(t,e,n,i,r);case 15:return bU(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:no(n,i),C1(t,e),e.tag=1,Bi(n)?(t=!0,mx(e)):t=!1,Sf(e,r),yU(e,n,i),xC(e,n,i,r),_C(null,e,n,!0,t,r);case 19:return CU(t,e,r);case 22:return _U(t,e,r)}throw Error(we(156,e.tag))};function VU(t,e){return mB(t,e)}function Fae(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pa(t,e,r,n){return new Fae(t,e,r,n)}function KP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Bae(t){if(typeof t=="function")return KP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hP)return 11;if(t===pP)return 14}return 2}function tc(t,e){var r=t.alternate;return r===null?(r=Pa(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function I1(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")KP(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Xd:return Ou(r.children,i,a,e);case fP:o=8,i|=8;break;case zA:return t=Pa(12,r,e,i|2),t.elementType=zA,t.lanes=a,t;case WA:return t=Pa(13,r,e,i),t.elementType=WA,t.lanes=a,t;case HA:return t=Pa(19,r,e,i),t.elementType=HA,t.lanes=a,t;case Z7:return Ub(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X7:o=10;break e;case Q7:o=9;break e;case hP:o=11;break e;case pP:o=14;break e;case Il:o=16,n=null;break e}throw Error(we(130,t==null?t:typeof t,""))}return e=Pa(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Ou(t,e,r,n){return t=Pa(7,t,n,e),t.lanes=r,t}function Ub(t,e,r,n){return t=Pa(22,t,n,e),t.elementType=Z7,t.lanes=r,t.stateNode={isHidden:!1},t}function GS(t,e,r){return t=Pa(6,t,null,e),t.lanes=r,t}function qS(t,e,r){return e=Pa(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Uae(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=TS(0),this.expirationTimes=TS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=TS(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function YP(t,e,r,n,i,a,o,s,l){return t=new Uae(t,e,r,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Pa(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},jP(a),t}function Vae(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yd,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function zU(t){if(!t)return mc;t=t._reactInternals;e:{if(md(t)!==t||t.tag!==1)throw Error(we(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(we(171))}if(t.tag===1){var r=t.type;if(Bi(r))return zB(t,r,e)}return e}function WU(t,e,r,n,i,a,o,s,l){return t=YP(r,n,!0,t,i,a,o,s,l),t.context=zU(null),r=t.current,n=bi(),i=ec(r),a=Ds(n,i),a.callback=e??null,Zl(r,a,i),t.current.lanes=i,i0(t,i,n),Ui(t,n),t}function Vb(t,e,r,n){var i=e.current,a=bi(),o=ec(i);return r=zU(r),e.context===null?e.context=r:e.pendingContext=r,e=Ds(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Zl(i,e,o),t!==null&&(vo(t,i,o,a),S1(t,i,o)),o}function Nx(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function oD(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function XP(t,e){oD(t,e),(t=t.alternate)&&oD(t,e)}function zae(){return null}var HU=typeof reportError=="function"?reportError:function(t){console.error(t)};function QP(t){this._internalRoot=t}zb.prototype.render=QP.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(we(409));Vb(t,e,null,null)};zb.prototype.unmount=QP.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zu(function(){Vb(null,t,null,null)}),e[Ws]=null}};function zb(t){this._internalRoot=t}zb.prototype.unstable_scheduleHydration=function(t){if(t){var e=_B();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Rl.length&&e!==0&&e<Rl[r].priority;r++);Rl.splice(r,0,t),r===0&&EB(t)}};function ZP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sD(){}function Wae(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Nx(o);a.call(u)}}var o=WU(e,n,t,0,null,!1,!1,"",sD);return t._reactRootContainer=o,t[Ws]=o.current,Sg(t.nodeType===8?t.parentNode:t),zu(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=Nx(l);s.call(u)}}var l=YP(t,0,!1,null,null,!1,!1,"",sD);return t._reactRootContainer=l,t[Ws]=l.current,Sg(t.nodeType===8?t.parentNode:t),zu(function(){Vb(e,l,r,n)}),l}function Hb(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Nx(o);s.call(l)}}Vb(e,o,t,i)}else o=Wae(r,e,t,i,n);return Nx(o)}wB=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=wm(e.pendingLanes);r!==0&&(vP(e,r|1),Ui(e,Mr()),!(wt&6)&&(Hf=Mr()+500,Mc()))}break;case 13:zu(function(){var n=Hs(t,1);if(n!==null){var i=bi();vo(n,t,1,i)}}),XP(t,1)}};yP=function(t){if(t.tag===13){var e=Hs(t,134217728);if(e!==null){var r=bi();vo(e,t,134217728,r)}XP(t,134217728)}};bB=function(t){if(t.tag===13){var e=ec(t),r=Hs(t,e);if(r!==null){var n=bi();vo(r,t,e,n)}XP(t,e)}};_B=function(){return kt};SB=function(t,e){var r=kt;try{return kt=t,e()}finally{kt=r}};tC=function(t,e,r){switch(e){case"input":if(KA(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Db(n);if(!i)throw Error(we(90));eB(n),KA(n,i)}}}break;case"textarea":rB(t,r);break;case"select":e=r.value,e!=null&&xf(t,!!r.multiple,e,!1)}};cB=HP;uB=zu;var Hae={usingClientEntryPoint:!1,Events:[o0,ef,Db,sB,lB,HP]},Hp={findFiberByHostInstance:vu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gae={bundleType:Hp.bundleType,version:Hp.version,rendererPackageName:Hp.rendererPackageName,rendererConfig:Hp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ol.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hB(t),t===null?null:t.stateNode},findFiberByHostInstance:Hp.findFiberByHostInstance||zae,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cy.isDisabled&&Cy.supportsFiber)try{Ob=Cy.inject(Gae),Wo=Cy}catch{}}va.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hae;va.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ZP(e))throw Error(we(200));return Vae(t,e,null,r)};va.createRoot=function(t,e){if(!ZP(t))throw Error(we(299));var r=!1,n="",i=HU;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=YP(t,1,!1,null,null,r,!1,n,i),t[Ws]=e.current,Sg(t.nodeType===8?t.parentNode:t),new QP(e)};va.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(we(188)):(t=Object.keys(t).join(","),Error(we(268,t)));return t=hB(e),t=t===null?null:t.stateNode,t};va.flushSync=function(t){return zu(t)};va.hydrate=function(t,e,r){if(!Wb(e))throw Error(we(200));return Hb(null,t,e,!0,r)};va.hydrateRoot=function(t,e,r){if(!ZP(t))throw Error(we(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=HU;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=WU(e,null,t,1,r??null,i,!1,a,o),t[Ws]=e.current,Sg(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new zb(e)};va.render=function(t,e,r){if(!Wb(e))throw Error(we(200));return Hb(null,t,e,!1,r)};va.unmountComponentAtNode=function(t){if(!Wb(t))throw Error(we(40));return t._reactRootContainer?(zu(function(){Hb(null,null,t,!1,function(){t._reactRootContainer=null,t[Ws]=null})}),!0):!1};va.unstable_batchedUpdates=HP;va.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Wb(r))throw Error(we(200));if(t==null||t._reactInternals===void 0)throw Error(we(38));return Hb(t,e,r,!1,n)};va.version="18.3.1-next-f1338f8080-20240426";function GU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GU)}catch(t){console.error(t)}}GU(),G7.exports=va;var gd=G7.exports;const Gb=dt(gd);var qU,lD=gd;qU=lD.createRoot,lD.hydrateRoot;const qae=5,Kae=1e6,Ns={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let KS=0;function Yae(){return KS=(KS+1)%Number.MAX_VALUE,KS.toString()}const YS=new Map,cD=t=>{if(YS.has(t))return;const e=setTimeout(()=>{YS.delete(t),qm({type:Ns.REMOVE_TOAST,toastId:t})},Kae);YS.set(t,e)},Xae=(t,e)=>{switch(e.type){case Ns.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,qae)};case Ns.UPDATE_TOAST:return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case Ns.DISMISS_TOAST:{const{toastId:r}=e;return r?cD(r):t.toasts.forEach(n=>{cD(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case Ns.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},P1=[];let O1={toasts:[]};function qm(t){O1=Xae(O1,t),P1.forEach(e=>{e(O1)})}function Vl({...t}){const e=Yae(),r=i=>qm({type:Ns.UPDATE_TOAST,toast:{...i,id:e}}),n=()=>qm({type:Ns.DISMISS_TOAST,toastId:e});return qm({type:Ns.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function un(){const[t,e]=b.useState(O1);return b.useEffect(()=>(P1.push(e),()=>{const r=P1.indexOf(e);r>-1&&P1.splice(r,1)}),[t]),{...t,toast:Vl,dismiss:r=>qm({type:Ns.DISMISS_TOAST,toastId:r})}}function be(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Qae(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function qb(...t){return e=>t.forEach(r=>Qae(r,e))}function et(...t){return b.useCallback(qb(...t),t)}function Zae(t,e=[]){let r=[];function n(a,o){const s=b.createContext(o),l=r.length;r=[...r,o];function u(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||s,v=b.useMemo(()=>m,Object.values(m));return c.jsx(g.Provider,{value:v,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||s,m=b.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const i=()=>{const a=r.map(o=>b.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return b.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,Jae(i,...e)]}function Jae(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:u})=>{const f=l(a)[`__scope${u}`];return{...s,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var qs=b.forwardRef((t,e)=>{const{children:r,...n}=t,i=b.Children.toArray(r),a=i.find(eoe);if(a){const o=a.props.children,s=i.map(l=>l===a?b.Children.count(o)>1?b.Children.only(null):b.isValidElement(o)?o.props.children:null:l);return c.jsx(RC,{...n,ref:e,children:b.isValidElement(o)?b.cloneElement(o,void 0,s):null})}return c.jsx(RC,{...n,ref:e,children:r})});qs.displayName="Slot";var RC=b.forwardRef((t,e)=>{const{children:r,...n}=t;if(b.isValidElement(r)){const i=roe(r);return b.cloneElement(r,{...toe(n,r.props),ref:e?qb(e,i):i})}return b.Children.count(r)>1?b.Children.only(null):null});RC.displayName="SlotClone";var KU=({children:t})=>c.jsx(c.Fragment,{children:t});function eoe(t){return b.isValidElement(t)&&t.type===KU}function toe(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...s)=>{a(...s),i(...s)}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function roe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Kb(t){const e=t+"CollectionProvider",[r,n]=Zae(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:m,children:g}=p,v=D.useRef(null),x=D.useRef(new Map).current;return c.jsx(i,{scope:m,itemMap:x,collectionRef:v,children:g})};o.displayName=e;const s=t+"CollectionSlot",l=D.forwardRef((p,m)=>{const{scope:g,children:v}=p,x=a(s,g),y=et(m,x.collectionRef);return c.jsx(qs,{ref:y,children:v})});l.displayName=s;const u=t+"CollectionItemSlot",d="data-radix-collection-item",f=D.forwardRef((p,m)=>{const{scope:g,children:v,...x}=p,y=D.useRef(null),w=et(m,y),S=a(u,g);return D.useEffect(()=>(S.itemMap.set(y,{ref:y,...x}),()=>void S.itemMap.delete(y))),c.jsx(qs,{[d]:"",ref:w,children:v})});f.displayName=u;function h(p){const m=a(t+"CollectionConsumer",p);return D.useCallback(()=>{const v=m.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(m.itemMap.values()).sort((S,E)=>x.indexOf(S.ref.current)-x.indexOf(E.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},h,n]}function noe(t,e){const r=b.createContext(e),n=a=>{const{children:o,...s}=a,l=b.useMemo(()=>s,Object.values(s));return c.jsx(r.Provider,{value:l,children:o})};n.displayName=t+"Provider";function i(a){const o=b.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function za(t,e=[]){let r=[];function n(a,o){const s=b.createContext(o),l=r.length;r=[...r,o];const u=f=>{var x;const{scope:h,children:p,...m}=f,g=((x=h==null?void 0:h[t])==null?void 0:x[l])||s,v=b.useMemo(()=>m,Object.values(m));return c.jsx(g.Provider,{value:v,children:p})};u.displayName=a+"Provider";function d(f,h){var g;const p=((g=h==null?void 0:h[t])==null?void 0:g[l])||s,m=b.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(o=>b.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return b.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,ioe(i,...e)]}function ioe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:u})=>{const f=l(a)[`__scope${u}`];return{...s,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var aoe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Le=aoe.reduce((t,e)=>{const r=b.forwardRef((n,i)=>{const{asChild:a,...o}=n,s=a?qs:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(s,{...o,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function JP(t,e){t&&gd.flushSync(()=>t.dispatchEvent(e))}function hr(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function ooe(t,e=globalThis==null?void 0:globalThis.document){const r=hr(t);b.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var soe="DismissableLayer",DC="dismissableLayer.update",loe="dismissableLayer.pointerDownOutside",coe="dismissableLayer.focusOutside",uD,YU=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vd=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=t,u=b.useContext(YU),[d,f]=b.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=b.useState({}),m=et(e,A=>f(A)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(v),y=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=y>=x,E=doe(A=>{const T=A.target,N=[...u.branches].some(I=>I.contains(T));!S||N||(i==null||i(A),o==null||o(A),A.defaultPrevented||s==null||s())},h),C=foe(A=>{const T=A.target;[...u.branches].some(I=>I.contains(T))||(a==null||a(A),o==null||o(A),A.defaultPrevented||s==null||s())},h);return ooe(A=>{y===u.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&s&&(A.preventDefault(),s()))},h),b.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(uD=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),dD(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=uD)}},[d,h,r,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),dD())},[d,u]),b.useEffect(()=>{const A=()=>p({});return document.addEventListener(DC,A),()=>document.removeEventListener(DC,A)},[]),c.jsx(Le.div,{...l,ref:m,style:{pointerEvents:w?S?"auto":"none":void 0,...t.style},onFocusCapture:be(t.onFocusCapture,C.onFocusCapture),onBlurCapture:be(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:be(t.onPointerDownCapture,E.onPointerDownCapture)})});vd.displayName=soe;var uoe="DismissableLayerBranch",XU=b.forwardRef((t,e)=>{const r=b.useContext(YU),n=b.useRef(null),i=et(e,n);return b.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),c.jsx(Le.div,{...t,ref:i})});XU.displayName=uoe;function doe(t,e=globalThis==null?void 0:globalThis.document){const r=hr(t),n=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const a=s=>{if(s.target&&!n.current){let l=function(){QU(loe,r,u,{discrete:!0})};const u={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function foe(t,e=globalThis==null?void 0:globalThis.document){const r=hr(t),n=b.useRef(!1);return b.useEffect(()=>{const i=a=>{a.target&&!n.current&&QU(coe,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function dD(){const t=new CustomEvent(DC);document.dispatchEvent(t)}function QU(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?JP(i,a):i.dispatchEvent(a)}var hoe=vd,poe=XU,cn=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},moe="Portal",zh=b.forwardRef((t,e)=>{var s;const{container:r,...n}=t,[i,a]=b.useState(!1);cn(()=>a(!0),[]);const o=r||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return o?Gb.createPortal(c.jsx(Le.div,{...n,ref:e}),o):null});zh.displayName=moe;function goe(t,e){return b.useReducer((r,n)=>e[r][n]??r,t)}var _n=t=>{const{present:e,children:r}=t,n=voe(e),i=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),a=et(n.ref,yoe(i));return typeof r=="function"||n.isPresent?b.cloneElement(i,{ref:a}):null};_n.displayName="Presence";function voe(t){const[e,r]=b.useState(),n=b.useRef({}),i=b.useRef(t),a=b.useRef("none"),o=t?"mounted":"unmounted",[s,l]=goe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Ty(n.current);a.current=s==="mounted"?u:"none"},[s]),cn(()=>{const u=n.current,d=i.current;if(d!==t){const h=a.current,p=Ty(u);t?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),cn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=p=>{const g=Ty(n.current).includes(p.animationName);if(p.target===e&&g&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},h=p=>{p.target===e&&(a.current=Ty(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:b.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Ty(t){return(t==null?void 0:t.animationName)||"none"}function yoe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function ts({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=xoe({defaultProp:e,onChange:r}),a=t!==void 0,o=a?t:n,s=hr(r),l=b.useCallback(u=>{if(a){const f=typeof u=="function"?u(t):u;f!==t&&s(f)}else i(u)},[a,t,i,s]);return[o,l]}function xoe({defaultProp:t,onChange:e}){const r=b.useState(t),[n]=r,i=b.useRef(n),a=hr(e);return b.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}var woe="VisuallyHidden",l0=b.forwardRef((t,e)=>c.jsx(Le.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));l0.displayName=woe;var boe=l0,eO="ToastProvider",[tO,_oe,Soe]=Kb("Toast"),[ZU,Tlt]=za("Toast",[Soe]),[Eoe,Yb]=ZU(eO),JU=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=t,[s,l]=b.useState(null),[u,d]=b.useState(0),f=b.useRef(!1),h=b.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${eO}\`. Expected non-empty \`string\`.`),c.jsx(tO.Provider,{scope:e,children:c.jsx(Eoe,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:s,onViewportChange:l,onToastAdd:b.useCallback(()=>d(p=>p+1),[]),onToastRemove:b.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};JU.displayName=eO;var eV="ToastViewport",Aoe=["F8"],MC="toast.viewportPause",LC="toast.viewportResume",tV=b.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=Aoe,label:i="Notifications ({hotkey})",...a}=t,o=Yb(eV,r),s=_oe(r),l=b.useRef(null),u=b.useRef(null),d=b.useRef(null),f=b.useRef(null),h=et(e,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=o.toastCount>0;b.useEffect(()=>{const v=x=>{var w;n.length!==0&&n.every(S=>x[S]||x.code===S)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),b.useEffect(()=>{const v=l.current,x=f.current;if(m&&v&&x){const y=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(MC);x.dispatchEvent(C),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(LC);x.dispatchEvent(C),o.isClosePausedRef.current=!1}},S=C=>{!v.contains(C.relatedTarget)&&w()},E=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",y),v.addEventListener("focusout",S),v.addEventListener("pointermove",y),v.addEventListener("pointerleave",E),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",y),v.removeEventListener("focusout",S),v.removeEventListener("pointermove",y),v.removeEventListener("pointerleave",E),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[m,o.isClosePausedRef]);const g=b.useCallback(({tabbingDirection:v})=>{const y=s().map(w=>{const S=w.ref.current,E=[S,...$oe(S)];return v==="forwards"?E:E.reverse()});return(v==="forwards"?y.reverse():y).flat()},[s]);return b.useEffect(()=>{const v=f.current;if(v){const x=y=>{var E,C,A;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const T=document.activeElement,N=y.shiftKey;if(y.target===v&&N){(E=u.current)==null||E.focus();return}const O=g({tabbingDirection:N?"backwards":"forwards"}),P=O.findIndex(M=>M===T);XS(O.slice(P+1))?y.preventDefault():N?(C=u.current)==null||C.focus():(A=d.current)==null||A.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[s,g]),c.jsxs(poe,{ref:l,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&c.jsx($C,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});XS(v)}}),c.jsx(tO.Slot,{scope:r,children:c.jsx(Le.ol,{tabIndex:-1,...a,ref:h})}),m&&c.jsx($C,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});XS(v)}})]})});tV.displayName=eV;var rV="ToastFocusProxy",$C=b.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,a=Yb(rV,r);return c.jsx(l0,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const s=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(s))&&n()}})});$C.displayName=rV;var Xb="Toast",Coe="toast.swipeStart",Toe="toast.swipeMove",Noe="toast.swipeCancel",Ioe="toast.swipeEnd",nV=b.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...o}=t,[s=!0,l]=ts({prop:n,defaultProp:i,onChange:a});return c.jsx(_n,{present:r||s,children:c.jsx(joe,{open:s,...o,ref:e,onClose:()=>l(!1),onPause:hr(t.onPause),onResume:hr(t.onResume),onSwipeStart:be(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:be(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:be(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:be(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});nV.displayName=Xb;var[Poe,Ooe]=ZU(Xb,{onClose(){}}),joe=b.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:s,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...m}=t,g=Yb(Xb,r),[v,x]=b.useState(null),y=et(e,M=>x(M)),w=b.useRef(null),S=b.useRef(null),E=i||g.duration,C=b.useRef(0),A=b.useRef(E),T=b.useRef(0),{onToastAdd:N,onToastRemove:I}=g,j=hr(()=>{var F;(v==null?void 0:v.contains(document.activeElement))&&((F=g.viewport)==null||F.focus()),o()}),O=b.useCallback(M=>{!M||M===1/0||(window.clearTimeout(T.current),C.current=new Date().getTime(),T.current=window.setTimeout(j,M))},[j]);b.useEffect(()=>{const M=g.viewport;if(M){const F=()=>{O(A.current),u==null||u()},B=()=>{const W=new Date().getTime()-C.current;A.current=A.current-W,window.clearTimeout(T.current),l==null||l()};return M.addEventListener(MC,B),M.addEventListener(LC,F),()=>{M.removeEventListener(MC,B),M.removeEventListener(LC,F)}}},[g.viewport,E,l,u,O]),b.useEffect(()=>{a&&!g.isClosePausedRef.current&&O(E)},[a,E,g.isClosePausedRef,O]),b.useEffect(()=>(N(),()=>I()),[N,I]);const P=b.useMemo(()=>v?uV(v):null,[v]);return g.viewport?c.jsxs(c.Fragment,{children:[P&&c.jsx(koe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),c.jsx(Poe,{scope:r,onClose:j,children:gd.createPortal(c.jsx(tO.ItemSlot,{scope:r,children:c.jsx(hoe,{asChild:!0,onEscapeKeyDown:be(s,()=>{g.isFocusedToastEscapeKeyDownRef.current||j(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(Le.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...m,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:be(t.onKeyDown,M=>{M.key==="Escape"&&(s==null||s(M.nativeEvent),M.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:be(t.onPointerDown,M=>{M.button===0&&(w.current={x:M.clientX,y:M.clientY})}),onPointerMove:be(t.onPointerMove,M=>{if(!w.current)return;const F=M.clientX-w.current.x,B=M.clientY-w.current.y,W=!!S.current,$=["left","right"].includes(g.swipeDirection),U=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,X=$?U(0,F):0,H=$?0:U(0,B),Y=M.pointerType==="touch"?10:2,Q={x:X,y:H},ue={originalEvent:M,delta:Q};W?(S.current=Q,Ny(Toe,f,ue,{discrete:!1})):fD(Q,g.swipeDirection,Y)?(S.current=Q,Ny(Coe,d,ue,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(F)>Y||Math.abs(B)>Y)&&(w.current=null)}),onPointerUp:be(t.onPointerUp,M=>{const F=S.current,B=M.target;if(B.hasPointerCapture(M.pointerId)&&B.releasePointerCapture(M.pointerId),S.current=null,w.current=null,F){const W=M.currentTarget,$={originalEvent:M,delta:F};fD(F,g.swipeDirection,g.swipeThreshold)?Ny(Ioe,p,$,{discrete:!0}):Ny(Noe,h,$,{discrete:!0}),W.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),koe=t=>{const{__scopeToast:e,children:r,...n}=t,i=Yb(Xb,e),[a,o]=b.useState(!1),[s,l]=b.useState(!1);return Moe(()=>o(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),s?null:c.jsx(zh,{asChild:!0,children:c.jsx(l0,{...n,children:a&&c.jsxs(c.Fragment,{children:[i.label," ",r]})})})},Roe="ToastTitle",iV=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return c.jsx(Le.div,{...n,ref:e})});iV.displayName=Roe;var Doe="ToastDescription",aV=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return c.jsx(Le.div,{...n,ref:e})});aV.displayName=Doe;var oV="ToastAction",sV=b.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?c.jsx(cV,{altText:r,asChild:!0,children:c.jsx(rO,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${oV}\`. Expected non-empty \`string\`.`),null)});sV.displayName=oV;var lV="ToastClose",rO=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=Ooe(lV,r);return c.jsx(cV,{asChild:!0,children:c.jsx(Le.button,{type:"button",...n,ref:e,onClick:be(t.onClick,i.onClose)})})});rO.displayName=lV;var cV=b.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return c.jsx(Le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function uV(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),Loe(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...uV(n))}}),e}function Ny(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?JP(i,a):i.dispatchEvent(a)}var fD=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),a=n>i;return e==="left"||e==="right"?a&&n>r:!a&&i>r};function Moe(t=()=>{}){const e=hr(t);cn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function Loe(t){return t.nodeType===t.ELEMENT_NODE}function $oe(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function XS(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var Foe=JU,dV=tV,fV=nV,hV=iV,pV=aV,mV=sV,gV=rO;function vV(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=vV(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function gt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=vV(t))&&(n&&(n+=" "),n+=e);return n}const hD=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,pD=gt,Wh=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return pD(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=hD(d)||hD(f);return i[u][h]}),s=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(m=>{let[g,v]=m;return Array.isArray(v)?v.includes({...a,...s}[g]):{...a,...s}[g]===v})?[...u,f,h]:u},[]);return pD(t,o,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Boe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),_e=(t,e)=>{const r=b.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:s="",children:l,...u},d)=>b.createElement("svg",{ref:d,...Boe,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${Uoe(t)}`,s].join(" "),...u},[...e.map(([f,h])=>b.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=_e("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Voe=_e("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zoe=_e("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Woe=_e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hoe=_e("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=_e("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Goe=_e("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=_e("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=_e("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=_e("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=_e("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=_e("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qoe=_e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=_e("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Koe=_e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yoe=_e("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xoe=_e("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qoe=_e("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=_e("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=_e("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=_e("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zoe=_e("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Joe=_e("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ese=_e("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tse=_e("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=_e("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rse=_e("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nse=_e("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ise=_e("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=_e("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=_e("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=_e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ase=_e("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ose=_e("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sse=_e("ListPlus",[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=_e("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lse=_e("LockKeyhole",[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=_e("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cse=_e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const use=_e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=_e("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=_e("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dse=_e("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=_e("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=_e("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fse=_e("PersonStanding",[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["path",{d:"m9 20 3-6 3 6",key:"se2kox"}],["path",{d:"m6 8 6 2 6-2",key:"4o3us4"}],["path",{d:"M12 10v4",key:"1kjpxc"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=_e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pse=_e("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=_e("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=_e("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=_e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=_e("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=_e("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=_e("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=_e("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mse=_e("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=_e("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=_e("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=_e("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=_e("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=_e("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vse=_e("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yse=_e("SplitSquareVertical",[["path",{d:"M5 8V5c0-1 1-2 2-2h10c1 0 2 1 2 2v3",key:"1pi83i"}],["path",{d:"M19 16v3c0 1-1 2-2 2H7c-1 0-2-1-2-2v-3",key:"ido5k7"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=_e("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=_e("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=_e("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=_e("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=_e("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xse=_e("TramFront",[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h0",key:"q9eq1f"}],["path",{d:"M16 15h0",key:"pzrbjg"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=_e("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=_e("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=_e("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=_e("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),dO="-",wse=t=>{const e=_se(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const s=o.split(dO);return s[0]===""&&s.length!==1&&s.shift(),TV(s,e)||bse(o)},getConflictingClassGroupIds:(o,s)=>{const l=r[o]||[];return s&&n[o]?[...l,...n[o]]:l}}},TV=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?TV(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(dO);return(o=e.validators.find(({validator:s})=>s(a)))==null?void 0:o.classGroupId},xD=/^\[(.+)\]$/,bse=t=>{if(xD.test(t)){const e=xD.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},_se=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Ese(Object.entries(t.classGroups),r).forEach(([a,o])=>{qC(o,n,a,e)}),n},qC=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:wD(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(Sse(i)){qC(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{qC(o,wD(e,a),r,n)})})},wD=(t,e)=>{let r=t;return e.split(dO).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Sse=t=>t.isThemeGetter,Ese=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,s])=>[e+o,s])):a);return[r,i]}):t,Ase=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},NV="!",Cse=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,o=s=>{const l=[];let u=0,d=0,f;for(let v=0;v<s.length;v++){let x=s[v];if(u===0){if(x===i&&(n||s.slice(v,v+a)===e)){l.push(s.slice(d,v)),d=v+a;continue}if(x==="/"){f=v;continue}}x==="["?u++:x==="]"&&u--}const h=l.length===0?s:s.substring(d),p=h.startsWith(NV),m=p?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}};return r?s=>r({className:s,parseClassName:o}):o},Tse=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},Nse=t=>({cache:Ase(t.cacheSize),parseClassName:Cse(t),...wse(t)}),Ise=/\s+/,Pse=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(Ise);let s="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let m=!!p,g=n(m?h.substring(0,p):h);if(!g){if(!m){s=u+(s.length>0?" "+s:s);continue}if(g=n(h),!g){s=u+(s.length>0?" "+s:s);continue}m=!1}const v=Tse(d).join(":"),x=f?v+NV:v,y=x+g;if(a.includes(y))continue;a.push(y);const w=i(g,m);for(let S=0;S<w.length;++S){const E=w[S];a.push(x+E)}s=u+(s.length>0?" "+s:s)}return s};function Ose(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=IV(e))&&(n&&(n+=" "),n+=r);return n}const IV=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=IV(t[n]))&&(r&&(r+=" "),r+=e);return r};function jse(t,...e){let r,n,i,a=o;function o(l){const u=e.reduce((d,f)=>f(d),t());return r=Nse(u),n=r.cache.get,i=r.cache.set,a=s,s(l)}function s(l){const u=n(l);if(u)return u;const d=Pse(l,r);return i(l,d),d}return function(){return a(Ose.apply(null,arguments))}}const er=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},PV=/^\[(?:([a-z-]+):)?(.+)\]$/i,kse=/^\d+\/\d+$/,Rse=new Set(["px","full","screen"]),Dse=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Mse=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Lse=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$se=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Fse=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vs=t=>Tf(t)||Rse.has(t)||kse.test(t),xl=t=>Hh(t,"length",qse),Tf=t=>!!t&&!Number.isNaN(Number(t)),ZS=t=>Hh(t,"number",Tf),Gp=t=>!!t&&Number.isInteger(Number(t)),Bse=t=>t.endsWith("%")&&Tf(t.slice(0,-1)),Ze=t=>PV.test(t),wl=t=>Dse.test(t),Use=new Set(["length","size","percentage"]),Vse=t=>Hh(t,Use,OV),zse=t=>Hh(t,"position",OV),Wse=new Set(["image","url"]),Hse=t=>Hh(t,Wse,Yse),Gse=t=>Hh(t,"",Kse),qp=()=>!0,Hh=(t,e,r)=>{const n=PV.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},qse=t=>Mse.test(t)&&!Lse.test(t),OV=()=>!1,Kse=t=>$se.test(t),Yse=t=>Fse.test(t),Xse=()=>{const t=er("colors"),e=er("spacing"),r=er("blur"),n=er("brightness"),i=er("borderColor"),a=er("borderRadius"),o=er("borderSpacing"),s=er("borderWidth"),l=er("contrast"),u=er("grayscale"),d=er("hueRotate"),f=er("invert"),h=er("gap"),p=er("gradientColorStops"),m=er("gradientColorStopPositions"),g=er("inset"),v=er("margin"),x=er("opacity"),y=er("padding"),w=er("saturate"),S=er("scale"),E=er("sepia"),C=er("skew"),A=er("space"),T=er("translate"),N=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",Ze,e],O=()=>[Ze,e],P=()=>["",vs,xl],M=()=>["auto",Tf,Ze],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",Ze],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Tf,Ze];return{cacheSize:500,separator:":",theme:{colors:[qp],spacing:[vs,xl],blur:["none","",wl,Ze],brightness:H(),borderColor:[t],borderRadius:["none","","full",wl,Ze],borderSpacing:O(),borderWidth:P(),contrast:H(),grayscale:U(),hueRotate:H(),invert:U(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[Bse,xl],inset:j(),margin:j(),opacity:H(),padding:O(),saturate:H(),scale:H(),sepia:U(),skew:H(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ze]}],container:["container"],columns:[{columns:[wl]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),Ze]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Gp,Ze]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ze]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Gp,Ze]}],"grid-cols":[{"grid-cols":[qp]}],"col-start-end":[{col:["auto",{span:["full",Gp,Ze]},Ze]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[qp]}],"row-start-end":[{row:["auto",{span:[Gp,Ze]},Ze]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ze]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ze,e]}],"min-w":[{"min-w":[Ze,e,"min","max","fit"]}],"max-w":[{"max-w":[Ze,e,"none","full","min","max","fit","prose",{screen:[wl]},wl]}],h:[{h:[Ze,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ze,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ze,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ze,e,"auto","min","max","fit"]}],"font-size":[{text:["base",wl,xl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ZS]}],"font-family":[{font:[qp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ze]}],"line-clamp":[{"line-clamp":["none",Tf,ZS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vs,Ze]}],"list-image":[{"list-image":["none",Ze]}],"list-style-type":[{list:["none","disc","decimal",Ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vs,xl]}],"underline-offset":[{"underline-offset":["auto",vs,Ze]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),zse]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Vse]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Hse]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:B()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[vs,Ze]}],"outline-w":[{outline:[vs,xl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[vs,xl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",wl,Gse]}],"shadow-color":[{shadow:[qp]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",wl,Ze]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ze]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",Ze]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Gp,Ze]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ze]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ze]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ze]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[vs,xl,ZS]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Qse=jse(Xse);function je(...t){return Qse(gt(t))}const Ss={light:()=>{navigator.vibrate&&navigator.vibrate(25)},medium:()=>{navigator.vibrate&&navigator.vibrate(50)},heavy:()=>{navigator.vibrate&&navigator.vibrate(75)},success:()=>{navigator.vibrate&&navigator.vibrate([25,50,75])},error:()=>{navigator.vibrate&&navigator.vibrate([75,50,75])},warning:()=>{navigator.vibrate&&navigator.vibrate([50,30,50])},notification:()=>{navigator.vibrate&&navigator.vibrate([25,50,25])},longPress:()=>{navigator.vibrate&&navigator.vibrate([30,30,60])},custom:t=>{navigator.vibrate&&navigator.vibrate(t)}},Zse=Foe,jV=b.forwardRef(({className:t,...e},r)=>c.jsx(dV,{ref:r,className:je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));jV.displayName=dV.displayName;const Jse=Wh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),kV=b.forwardRef(({className:t,variant:e,...r},n)=>c.jsx(fV,{ref:n,className:je(Jse({variant:e}),t),...r}));kV.displayName=fV.displayName;const ele=b.forwardRef(({className:t,...e},r)=>c.jsx(mV,{ref:r,className:je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));ele.displayName=mV.displayName;const RV=b.forwardRef(({className:t,...e},r)=>c.jsx(gV,{ref:r,className:je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(Li,{className:"h-4 w-4"})}));RV.displayName=gV.displayName;const DV=b.forwardRef(({className:t,...e},r)=>c.jsx(hV,{ref:r,className:je("text-sm font-semibold",t),...e}));DV.displayName=hV.displayName;const MV=b.forwardRef(({className:t,...e},r)=>c.jsx(pV,{ref:r,className:je("text-sm opacity-90",t),...e}));MV.displayName=pV.displayName;function tle(){const{toasts:t}=un();return c.jsxs(Zse,{children:[t.map(function({id:e,title:r,description:n,action:i,...a}){return c.jsxs(kV,{...a,children:[c.jsxs("div",{className:"grid gap-1",children:[r&&c.jsx(DV,{children:r}),n&&c.jsx(MV,{children:n})]}),i,c.jsx(RV,{})]},e)}),c.jsx(jV,{})]})}var rle=t=>{switch(t){case"success":return ale;case"info":return sle;case"warning":return ole;case"error":return lle;default:return null}},nle=Array(12).fill(0),ile=({visible:t})=>D.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},D.createElement("div",{className:"sonner-spinner"},nle.map((e,r)=>D.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),ale=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ole=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),sle=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),lle=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),cle=()=>{let[t,e]=D.useState(document.hidden);return D.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},KC=1,ule=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;let{message:n,...i}=e,a=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:KC++,o=this.toasts.find(l=>l.id===a),s=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:n}),{...l,...e,id:a,dismissible:s,title:n}):l):this.addToast({title:n,...i,dismissible:s,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:e,dismiss:!0})),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let i=e instanceof Promise?e:e(),a=n!==void 0;return i.then(async o=>{if(fle(o)&&!o.ok){a=!1;let s=typeof r.error=="function"?await r.error(`HTTP error! status: ${o.status}`):r.error,l=typeof r.description=="function"?await r.description(`HTTP error! status: ${o.status}`):r.description;this.create({id:n,type:"error",message:s,description:l})}else if(r.success!==void 0){a=!1;let s=typeof r.success=="function"?await r.success(o):r.success,l=typeof r.description=="function"?await r.description(o):r.description;this.create({id:n,type:"success",message:s,description:l})}}).catch(async o=>{if(r.error!==void 0){a=!1;let s=typeof r.error=="function"?await r.error(o):r.error,l=typeof r.description=="function"?await r.description(o):r.description;this.create({id:n,type:"error",message:s,description:l})}}).finally(()=>{var o;a&&(this.dismiss(n),n=void 0),(o=r.finally)==null||o.call(r)}),n},this.custom=(e,r)=>{let n=(r==null?void 0:r.id)||KC++;return this.create({jsx:e(n),id:n,...r}),n},this.subscribers=[],this.toasts=[]}},ea=new ule,dle=(t,e)=>{let r=(e==null?void 0:e.id)||KC++;return ea.addToast({title:t,...e,id:r}),r},fle=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",hle=dle,ple=()=>ea.toasts,Ym=Object.assign(hle,{success:ea.success,info:ea.info,warning:ea.warning,error:ea.error,custom:ea.custom,message:ea.message,promise:ea.promise,dismiss:ea.dismiss,loading:ea.loading},{getHistory:ple});function mle(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}mle(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Iy(t){return t.label!==void 0}var gle=3,vle="32px",yle=4e3,xle=356,wle=14,ble=20,_le=200;function Sle(...t){return t.filter(Boolean).join(" ")}var Ele=t=>{var e,r,n,i,a,o,s,l,u,d;let{invert:f,toast:h,unstyled:p,interacting:m,setHeights:g,visibleToasts:v,heights:x,index:y,toasts:w,expanded:S,removeToast:E,defaultRichColors:C,closeButton:A,style:T,cancelButtonStyle:N,actionButtonStyle:I,className:j="",descriptionClassName:O="",duration:P,position:M,gap:F,loadingIcon:B,expandByDefault:W,classNames:$,icons:U,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:H,cn:Y}=t,[Q,ue]=D.useState(!1),[de,he]=D.useState(!1),[pe,J]=D.useState(!1),[re,L]=D.useState(!1),[q,G]=D.useState(0),[ye,me]=D.useState(0),ie=D.useRef(null),ne=D.useRef(null),Oe=y===0,Z=y+1<=v,le=h.type,xe=h.dismissible!==!1,it=h.className||"",yr=h.descriptionClassName||"",Wt=D.useMemo(()=>x.findIndex(Ae=>Ae.toastId===h.id)||0,[x,h.id]),Ht=D.useMemo(()=>{var Ae;return(Ae=h.closeButton)!=null?Ae:A},[h.closeButton,A]),En=D.useMemo(()=>h.duration||P||yle,[h.duration,P]),Zt=D.useRef(0),Dt=D.useRef(0),Qi=D.useRef(0),xa=D.useRef(null),[hl,Cp]=M.split("-"),Ya=D.useMemo(()=>x.reduce((Ae,$e,qe)=>qe>=Wt?Ae:Ae+$e.height,0),[x,Wt]),pl=cle(),Qc=h.invert||f,Oo=le==="loading";Dt.current=D.useMemo(()=>Wt*F+Ya,[Wt,Ya]),D.useEffect(()=>{ue(!0)},[]),D.useLayoutEffect(()=>{if(!Q)return;let Ae=ne.current,$e=Ae.style.height;Ae.style.height="auto";let qe=Ae.getBoundingClientRect().height;Ae.style.height=$e,me(qe),g(Tt=>Tt.find(Kr=>Kr.toastId===h.id)?Tt.map(Kr=>Kr.toastId===h.id?{...Kr,height:qe}:Kr):[{toastId:h.id,height:qe,position:h.position},...Tt])},[Q,h.title,h.description,g,h.id]);let wa=D.useCallback(()=>{he(!0),G(Dt.current),g(Ae=>Ae.filter($e=>$e.toastId!==h.id)),setTimeout(()=>{E(h)},_le)},[h,E,g,Dt]);D.useEffect(()=>{if(h.promise&&le==="loading"||h.duration===1/0||h.type==="loading")return;let Ae,$e=En;return S||m||H&&pl?(()=>{if(Qi.current<Zt.current){let qe=new Date().getTime()-Zt.current;$e=$e-qe}Qi.current=new Date().getTime()})():$e!==1/0&&(Zt.current=new Date().getTime(),Ae=setTimeout(()=>{var qe;(qe=h.onAutoClose)==null||qe.call(h,h),wa()},$e)),()=>clearTimeout(Ae)},[S,m,W,h,En,wa,h.promise,le,H,pl]),D.useEffect(()=>{let Ae=ne.current;if(Ae){let $e=Ae.getBoundingClientRect().height;return me($e),g(qe=>[{toastId:h.id,height:$e,position:h.position},...qe]),()=>g(qe=>qe.filter(Tt=>Tt.toastId!==h.id))}},[g,h.id]),D.useEffect(()=>{h.delete&&wa()},[wa,h.delete]);function ve(){return U!=null&&U.loading?D.createElement("div",{className:"sonner-loader","data-visible":le==="loading"},U.loading):B?D.createElement("div",{className:"sonner-loader","data-visible":le==="loading"},B):D.createElement(ile,{visible:le==="loading"})}return D.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ne,className:Y(j,it,$==null?void 0:$.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,$==null?void 0:$.default,$==null?void 0:$[le],(r=h==null?void 0:h.classNames)==null?void 0:r[le]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:C,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":Q,"data-promise":!!h.promise,"data-removed":de,"data-visible":Z,"data-y-position":hl,"data-x-position":Cp,"data-index":y,"data-front":Oe,"data-swiping":pe,"data-dismissible":xe,"data-type":le,"data-invert":Qc,"data-swipe-out":re,"data-expanded":!!(S||W&&Q),style:{"--index":y,"--toasts-before":y,"--z-index":w.length-y,"--offset":`${de?q:Dt.current}px`,"--initial-height":W?"auto":`${ye}px`,...T,...h.style},onPointerDown:Ae=>{Oo||!xe||(ie.current=new Date,G(Dt.current),Ae.target.setPointerCapture(Ae.pointerId),Ae.target.tagName!=="BUTTON"&&(J(!0),xa.current={x:Ae.clientX,y:Ae.clientY}))},onPointerUp:()=>{var Ae,$e,qe,Tt;if(re||!xe)return;xa.current=null;let Kr=Number(((Ae=ne.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ci=new Date().getTime()-(($e=ie.current)==null?void 0:$e.getTime()),ps=Math.abs(Kr)/ci;if(Math.abs(Kr)>=ble||ps>.11){G(Dt.current),(qe=h.onDismiss)==null||qe.call(h,h),wa(),L(!0);return}(Tt=ne.current)==null||Tt.style.setProperty("--swipe-amount","0px"),J(!1)},onPointerMove:Ae=>{var $e;if(!xa.current||!xe)return;let qe=Ae.clientY-xa.current.y,Tt=Ae.clientX-xa.current.x,Kr=(hl==="top"?Math.min:Math.max)(0,qe),ci=Ae.pointerType==="touch"?10:2;Math.abs(Kr)>ci?($e=ne.current)==null||$e.style.setProperty("--swipe-amount",`${qe}px`):Math.abs(Tt)>ci&&(xa.current=null)}},Ht&&!h.jsx?D.createElement("button",{"aria-label":X,"data-disabled":Oo,"data-close-button":!0,onClick:Oo||!xe?()=>{}:()=>{var Ae;wa(),(Ae=h.onDismiss)==null||Ae.call(h,h)},className:Y($==null?void 0:$.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},D.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),D.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||D.isValidElement(h.title)?h.jsx||h.title:D.createElement(D.Fragment,null,le||h.icon||h.promise?D.createElement("div",{"data-icon":"",className:Y($==null?void 0:$.icon,(a=h==null?void 0:h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||ve():null,h.type!=="loading"?h.icon||(U==null?void 0:U[le])||rle(le):null):null,D.createElement("div",{"data-content":"",className:Y($==null?void 0:$.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},D.createElement("div",{"data-title":"",className:Y($==null?void 0:$.title,(s=h==null?void 0:h.classNames)==null?void 0:s.title)},h.title),h.description?D.createElement("div",{"data-description":"",className:Y(O,yr,$==null?void 0:$.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),D.isValidElement(h.cancel)?h.cancel:h.cancel&&Iy(h.cancel)?D.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||N,onClick:Ae=>{var $e,qe;Iy(h.cancel)&&xe&&((qe=($e=h.cancel).onClick)==null||qe.call($e,Ae),wa())},className:Y($==null?void 0:$.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,D.isValidElement(h.action)?h.action:h.action&&Iy(h.action)?D.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||I,onClick:Ae=>{var $e,qe;Iy(h.action)&&(Ae.defaultPrevented||((qe=($e=h.action).onClick)==null||qe.call($e,Ae),wa()))},className:Y($==null?void 0:$.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function bD(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var Ale=t=>{let{invert:e,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:i,closeButton:a,className:o,offset:s,theme:l="light",richColors:u,duration:d,style:f,visibleToasts:h=gle,toastOptions:p,dir:m=bD(),gap:g=wle,loadingIcon:v,icons:x,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:w,cn:S=Sle}=t,[E,C]=D.useState([]),A=D.useMemo(()=>Array.from(new Set([r].concat(E.filter(H=>H.position).map(H=>H.position)))),[E,r]),[T,N]=D.useState([]),[I,j]=D.useState(!1),[O,P]=D.useState(!1),[M,F]=D.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=D.useRef(null),W=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=D.useRef(null),U=D.useRef(!1),X=D.useCallback(H=>{var Y;(Y=E.find(Q=>Q.id===H.id))!=null&&Y.delete||ea.dismiss(H.id),C(Q=>Q.filter(({id:ue})=>ue!==H.id))},[E]);return D.useEffect(()=>ea.subscribe(H=>{if(H.dismiss){C(Y=>Y.map(Q=>Q.id===H.id?{...Q,delete:!0}:Q));return}setTimeout(()=>{Gb.flushSync(()=>{C(Y=>{let Q=Y.findIndex(ue=>ue.id===H.id);return Q!==-1?[...Y.slice(0,Q),{...Y[Q],...H},...Y.slice(Q+1)]:[H,...Y]})})})}),[]),D.useEffect(()=>{if(l!=="system"){F(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:H})=>{F(H?"dark":"light")})},[l]),D.useEffect(()=>{E.length<=1&&j(!1)},[E]),D.useEffect(()=>{let H=Y=>{var Q,ue;n.every(de=>Y[de]||Y.code===de)&&(j(!0),(Q=B.current)==null||Q.focus()),Y.code==="Escape"&&(document.activeElement===B.current||(ue=B.current)!=null&&ue.contains(document.activeElement))&&j(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[n]),D.useEffect(()=>{if(B.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,U.current=!1)}},[B.current]),E.length?D.createElement("section",{"aria-label":`${y} ${W}`,tabIndex:-1},A.map((H,Y)=>{var Q;let[ue,de]=H.split("-");return D.createElement("ol",{key:H,dir:m==="auto"?bD():m,tabIndex:-1,ref:B,className:o,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":ue,"data-x-position":de,style:{"--front-toast-height":`${((Q=T[0])==null?void 0:Q.height)||0}px`,"--offset":typeof s=="number"?`${s}px`:s||vle,"--width":`${xle}px`,"--gap":`${g}px`,...f},onBlur:he=>{U.current&&!he.currentTarget.contains(he.relatedTarget)&&(U.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||U.current||(U.current=!0,$.current=he.relatedTarget)},onMouseEnter:()=>j(!0),onMouseMove:()=>j(!0),onMouseLeave:()=>{O||j(!1)},onPointerDown:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},E.filter(he=>!he.position&&Y===0||he.position===H).map((he,pe)=>{var J,re;return D.createElement(Ele,{key:he.id,icons:x,index:pe,toast:he,defaultRichColors:u,duration:(J=p==null?void 0:p.duration)!=null?J:d,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:e,visibleToasts:h,closeButton:(re=p==null?void 0:p.closeButton)!=null?re:a,interacting:O,position:H,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:X,toasts:E.filter(L=>L.position==he.position),heights:T.filter(L=>L.position==he.position),setHeights:N,expandByDefault:i,gap:g,loadingIcon:v,expanded:I,pauseWhenPageIsHidden:w,cn:S})}))})):null};const Cle=({...t})=>{const[e,r]=b.useState("system");return b.useEffect(()=>{const n=document.documentElement.classList.contains("dark"),i=window.matchMedia("(prefers-color-scheme: dark)").matches;r(n||i?"dark":"light")},[]),c.jsx(Ale,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Tle=W7.useId||(()=>{}),Nle=0;function yo(t){const[e,r]=b.useState(Tle());return cn(()=>{r(n=>n??String(Nle++))},[t]),e?`radix-${e}`:""}const Ile=["top","right","bottom","left"],gc=Math.min,na=Math.max,Ox=Math.round,Py=Math.floor,vc=t=>({x:t,y:t}),Ple={left:"right",right:"left",bottom:"top",top:"bottom"},Ole={start:"end",end:"start"};function YC(t,e,r){return na(t,gc(e,r))}function Ks(t,e){return typeof t=="function"?t(e):t}function Ys(t){return t.split("-")[0]}function Gh(t){return t.split("-")[1]}function fO(t){return t==="x"?"y":"x"}function hO(t){return t==="y"?"height":"width"}function yc(t){return["top","bottom"].includes(Ys(t))?"y":"x"}function pO(t){return fO(yc(t))}function jle(t,e,r){r===void 0&&(r=!1);const n=Gh(t),i=pO(t),a=hO(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=jx(o)),[o,jx(o)]}function kle(t){const e=jx(t);return[XC(t),e,XC(e)]}function XC(t){return t.replace(/start|end/g,e=>Ole[e])}function Rle(t,e,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?a:o;default:return[]}}function Dle(t,e,r,n){const i=Gh(t);let a=Rle(Ys(t),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(XC)))),a}function jx(t){return t.replace(/left|right|bottom|top/g,e=>Ple[e])}function Mle(t){return{top:0,right:0,bottom:0,left:0,...t}}function LV(t){return typeof t!="number"?Mle(t):{top:t,right:t,bottom:t,left:t}}function kx(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function _D(t,e,r){let{reference:n,floating:i}=t;const a=yc(e),o=pO(e),s=hO(o),l=Ys(e),u=a==="y",d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,h=n[s]/2-i[s]/2;let p;switch(l){case"top":p={x:d,y:n.y-i.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-i.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Gh(e)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const Lle=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=_D(u,n,l),h=n,p={},m=0;for(let g=0;g<s.length;g++){const{name:v,fn:x}=s[g],{x:y,y:w,data:S,reset:E}=await x({x:d,y:f,initialPlacement:n,placement:h,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});d=y??d,f=w??f,p={...p,[v]:{...p[v],...S}},E&&m<=50&&(m++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:d,y:f}=_D(u,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function Dg(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:o,elements:s,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Ks(e,t),m=LV(p),v=s[h?f==="floating"?"reference":"floating":f],x=kx(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:u,rootBoundary:d,strategy:l})),y=f==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),S=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},E=kx(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:w,strategy:l}):y);return{top:(x.top-E.top+m.top)/S.y,bottom:(E.bottom-x.bottom+m.bottom)/S.y,left:(x.left-E.left+m.left)/S.x,right:(E.right-x.right+m.right)/S.x}}const $le=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=e,{element:u,padding:d=0}=Ks(t,e)||{};if(u==null)return{};const f=LV(d),h={x:r,y:n},p=pO(i),m=hO(p),g=await o.getDimensions(u),v=p==="y",x=v?"top":"left",y=v?"bottom":"right",w=v?"clientHeight":"clientWidth",S=a.reference[m]+a.reference[p]-h[p]-a.floating[m],E=h[p]-a.reference[p],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let A=C?C[w]:0;(!A||!await(o.isElement==null?void 0:o.isElement(C)))&&(A=s.floating[w]||a.floating[m]);const T=S/2-E/2,N=A/2-g[m]/2-1,I=gc(f[x],N),j=gc(f[y],N),O=I,P=A-g[m]-j,M=A/2-g[m]/2+T,F=YC(O,M,P),B=!l.arrow&&Gh(i)!=null&&M!==F&&a.reference[m]/2-(M<O?I:j)-g[m]/2<0,W=B?M<O?M-O:M-P:0;return{[p]:h[p]+W,data:{[p]:F,centerOffset:M-F-W,...B&&{alignmentOffset:W}},reset:B}}}),Fle=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...v}=Ks(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const x=Ys(i),y=yc(s),w=Ys(s)===s,S=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=h||(w||!g?[jx(s)]:kle(s)),C=m!=="none";!h&&C&&E.push(...Dle(s,g,m,S));const A=[s,...E],T=await Dg(e,v),N=[];let I=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&N.push(T[x]),f){const M=jle(i,o,S);N.push(T[M[0]],T[M[1]])}if(I=[...I,{placement:i,overflows:N}],!N.every(M=>M<=0)){var j,O;const M=(((j=a.flip)==null?void 0:j.index)||0)+1,F=A[M];if(F)return{data:{index:M,overflows:I},reset:{placement:F}};let B=(O=I.filter(W=>W.overflows[0]<=0).sort((W,$)=>W.overflows[1]-$.overflows[1])[0])==null?void 0:O.placement;if(!B)switch(p){case"bestFit":{var P;const W=(P=I.filter($=>{if(C){const U=yc($.placement);return U===y||U==="y"}return!0}).map($=>[$.placement,$.overflows.filter(U=>U>0).reduce((U,X)=>U+X,0)]).sort(($,U)=>$[1]-U[1])[0])==null?void 0:P[0];W&&(B=W);break}case"initialPlacement":B=s;break}if(i!==B)return{reset:{placement:B}}}return{}}}};function SD(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ED(t){return Ile.some(e=>t[e]>=0)}const Ble=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Ks(t,e);switch(n){case"referenceHidden":{const a=await Dg(e,{...i,elementContext:"reference"}),o=SD(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ED(o)}}}case"escaped":{const a=await Dg(e,{...i,altBoundary:!0}),o=SD(a,r.floating);return{data:{escapedOffsets:o,escaped:ED(o)}}}default:return{}}}}};async function Ule(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Ys(r),s=Gh(r),l=yc(r)==="y",u=["left","top"].includes(o)?-1:1,d=a&&l?-1:1,f=Ks(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof m=="number"&&(p=s==="end"?m*-1:m),l?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const Vle=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:o,middlewareData:s}=e,l=await Ule(e,t);return o===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},zle=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:v=>{let{x,y}=v;return{x,y}}},...l}=Ks(t,e),u={x:r,y:n},d=await Dg(e,l),f=yc(Ys(i)),h=fO(f);let p=u[h],m=u[f];if(a){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=p+d[v],w=p-d[x];p=YC(y,p,w)}if(o){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=m+d[v],w=m-d[x];m=YC(y,m,w)}const g=s.fn({...e,[h]:p,[f]:m});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:a,[f]:o}}}}}},Wle=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=e,{offset:s=0,mainAxis:l=!0,crossAxis:u=!0}=Ks(t,e),d={x:r,y:n},f=yc(i),h=fO(f);let p=d[h],m=d[f];const g=Ks(s,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const w=h==="y"?"height":"width",S=a.reference[h]-a.floating[w]+v.mainAxis,E=a.reference[h]+a.reference[w]-v.mainAxis;p<S?p=S:p>E&&(p=E)}if(u){var x,y;const w=h==="y"?"width":"height",S=["top","left"].includes(Ys(i)),E=a.reference[f]-a.floating[w]+(S&&((x=o.offset)==null?void 0:x[f])||0)+(S?0:v.crossAxis),C=a.reference[f]+a.reference[w]+(S?0:((y=o.offset)==null?void 0:y[f])||0)-(S?v.crossAxis:0);m<E?m=E:m>C&&(m=C)}return{[h]:p,[f]:m}}}},Hle=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:o,elements:s}=e,{apply:l=()=>{},...u}=Ks(t,e),d=await Dg(e,u),f=Ys(i),h=Gh(i),p=yc(i)==="y",{width:m,height:g}=a.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(x=f,v=h==="end"?"top":"bottom");const y=g-d.top-d.bottom,w=m-d.left-d.right,S=gc(g-d[v],y),E=gc(m-d[x],w),C=!e.middlewareData.shift;let A=S,T=E;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(T=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(A=y),C&&!h){const I=na(d.left,0),j=na(d.right,0),O=na(d.top,0),P=na(d.bottom,0);p?T=m-2*(I!==0||j!==0?I+j:na(d.left,d.right)):A=g-2*(O!==0||P!==0?O+P:na(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:A});const N=await o.getDimensions(s.floating);return m!==N.width||g!==N.height?{reset:{rects:!0}}:{}}}};function e2(){return typeof window<"u"}function qh(t){return $V(t)?(t.nodeName||"").toLowerCase():"#document"}function ca(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function us(t){var e;return(e=($V(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function $V(t){return e2()?t instanceof Node||t instanceof ca(t).Node:!1}function So(t){return e2()?t instanceof Element||t instanceof ca(t).Element:!1}function rs(t){return e2()?t instanceof HTMLElement||t instanceof ca(t).HTMLElement:!1}function AD(t){return!e2()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ca(t).ShadowRoot}function u0(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Eo(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function Gle(t){return["table","td","th"].includes(qh(t))}function t2(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function mO(t){const e=gO(),r=So(t)?Eo(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function qle(t){let e=xc(t);for(;rs(e)&&!qf(e);){if(mO(e))return e;if(t2(e))return null;e=xc(e)}return null}function gO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function qf(t){return["html","body","#document"].includes(qh(t))}function Eo(t){return ca(t).getComputedStyle(t)}function r2(t){return So(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function xc(t){if(qh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||AD(t)&&t.host||us(t);return AD(e)?e.host:e}function FV(t){const e=xc(t);return qf(e)?t.ownerDocument?t.ownerDocument.body:t.body:rs(e)&&u0(e)?e:FV(e)}function Mg(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=FV(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),o=ca(i);if(a){const s=QC(o);return e.concat(o,o.visualViewport||[],u0(i)?i:[],s&&r?Mg(s):[])}return e.concat(i,Mg(i,[],r))}function QC(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function BV(t){const e=Eo(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=rs(t),a=i?t.offsetWidth:r,o=i?t.offsetHeight:n,s=Ox(r)!==a||Ox(n)!==o;return s&&(r=a,n=o),{width:r,height:n,$:s}}function vO(t){return So(t)?t:t.contextElement}function Nf(t){const e=vO(t);if(!rs(e))return vc(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=BV(e);let o=(a?Ox(r.width):r.width)/n,s=(a?Ox(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const Kle=vc(0);function UV(t){const e=ca(t);return!gO()||!e.visualViewport?Kle:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Yle(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==ca(t)?!1:e}function Gu(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=vO(t);let o=vc(1);e&&(n?So(n)&&(o=Nf(n)):o=Nf(t));const s=Yle(a,r,n)?UV(a):vc(0);let l=(i.left+s.x)/o.x,u=(i.top+s.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(a){const h=ca(a),p=n&&So(n)?ca(n):n;let m=h,g=QC(m);for(;g&&n&&p!==m;){const v=Nf(g),x=g.getBoundingClientRect(),y=Eo(g),w=x.left+(g.clientLeft+parseFloat(y.paddingLeft))*v.x,S=x.top+(g.clientTop+parseFloat(y.paddingTop))*v.y;l*=v.x,u*=v.y,d*=v.x,f*=v.y,l+=w,u+=S,m=ca(g),g=QC(m)}}return kx({width:d,height:f,x:l,y:u})}function Xle(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",o=us(n),s=e?t2(e.floating):!1;if(n===o||s&&a)return r;let l={scrollLeft:0,scrollTop:0},u=vc(1);const d=vc(0),f=rs(n);if((f||!f&&!a)&&((qh(n)!=="body"||u0(o))&&(l=r2(n)),rs(n))){const h=Gu(n);u=Nf(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x,y:r.y*u.y-l.scrollTop*u.y+d.y}}function Qle(t){return Array.from(t.getClientRects())}function ZC(t,e){const r=r2(t).scrollLeft;return e?e.left+r:Gu(us(t)).left+r}function Zle(t){const e=us(t),r=r2(t),n=t.ownerDocument.body,i=na(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=na(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+ZC(t);const s=-r.scrollTop;return Eo(n).direction==="rtl"&&(o+=na(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:s}}function Jle(t,e){const r=ca(t),n=us(t),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const u=gO();(!u||u&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}function ece(t,e){const r=Gu(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=rs(t)?Nf(t):vc(1),o=t.clientWidth*a.x,s=t.clientHeight*a.y,l=i*a.x,u=n*a.y;return{width:o,height:s,x:l,y:u}}function CD(t,e,r){let n;if(e==="viewport")n=Jle(t,r);else if(e==="document")n=Zle(us(t));else if(So(e))n=ece(e,r);else{const i=UV(t);n={...e,x:e.x-i.x,y:e.y-i.y}}return kx(n)}function VV(t,e){const r=xc(t);return r===e||!So(r)||qf(r)?!1:Eo(r).position==="fixed"||VV(r,e)}function tce(t,e){const r=e.get(t);if(r)return r;let n=Mg(t,[],!1).filter(s=>So(s)&&qh(s)!=="body"),i=null;const a=Eo(t).position==="fixed";let o=a?xc(t):t;for(;So(o)&&!qf(o);){const s=Eo(o),l=mO(o);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||u0(o)&&!l&&VV(t,o))?n=n.filter(d=>d!==o):i=s,o=xc(o)}return e.set(t,n),n}function rce(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?t2(e)?[]:tce(e,this._c):[].concat(r),n],s=o[0],l=o.reduce((u,d)=>{const f=CD(e,d,i);return u.top=na(f.top,u.top),u.right=gc(f.right,u.right),u.bottom=gc(f.bottom,u.bottom),u.left=na(f.left,u.left),u},CD(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function nce(t){const{width:e,height:r}=BV(t);return{width:e,height:r}}function ice(t,e,r){const n=rs(e),i=us(e),a=r==="fixed",o=Gu(t,!0,a,e);let s={scrollLeft:0,scrollTop:0};const l=vc(0);if(n||!n&&!a)if((qh(e)!=="body"||u0(i))&&(s=r2(e)),n){const p=Gu(e,!0,a,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&(l.x=ZC(i));let u=0,d=0;if(i&&!n&&!a){const p=i.getBoundingClientRect();d=p.top+s.scrollTop,u=p.left+s.scrollLeft-ZC(i,p)}const f=o.left+s.scrollLeft-l.x-u,h=o.top+s.scrollTop-l.y-d;return{x:f,y:h,width:o.width,height:o.height}}function JS(t){return Eo(t).position==="static"}function TD(t,e){if(!rs(t)||Eo(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return us(t)===r&&(r=r.ownerDocument.body),r}function zV(t,e){const r=ca(t);if(t2(t))return r;if(!rs(t)){let i=xc(t);for(;i&&!qf(i);){if(So(i)&&!JS(i))return i;i=xc(i)}return r}let n=TD(t,e);for(;n&&Gle(n)&&JS(n);)n=TD(n,e);return n&&qf(n)&&JS(n)&&!mO(n)?r:n||qle(t)||r}const ace=async function(t){const e=this.getOffsetParent||zV,r=this.getDimensions,n=await r(t.floating);return{reference:ice(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function oce(t){return Eo(t).direction==="rtl"}const sce={convertOffsetParentRelativeRectToViewportRelativeRect:Xle,getDocumentElement:us,getClippingRect:rce,getOffsetParent:zV,getElementRects:ace,getClientRects:Qle,getDimensions:nce,getScale:Nf,isElement:So,isRTL:oce};function lce(t,e){let r=null,n;const i=us(t);function a(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const{left:u,top:d,width:f,height:h}=t.getBoundingClientRect();if(s||e(),!f||!h)return;const p=Py(d),m=Py(i.clientWidth-(u+f)),g=Py(i.clientHeight-(d+h)),v=Py(u),y={rootMargin:-p+"px "+-m+"px "+-g+"px "+-v+"px",threshold:na(0,gc(1,l))||1};let w=!0;function S(E){const C=E[0].intersectionRatio;if(C!==l){if(!w)return o();C?o(!1,C):n=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(S,{...y,root:i.ownerDocument})}catch{r=new IntersectionObserver(S,y)}r.observe(t)}return o(!0),a}function cce(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=vO(t),d=i||a?[...u?Mg(u):[],...Mg(e)]:[];d.forEach(x=>{i&&x.addEventListener("scroll",r,{passive:!0}),a&&x.addEventListener("resize",r)});const f=u&&s?lce(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(e)})),r()}),u&&!l&&p.observe(u),p.observe(e));let m,g=l?Gu(t):null;l&&v();function v(){const x=Gu(t);g&&(x.x!==g.x||x.y!==g.y||x.width!==g.width||x.height!==g.height)&&r(),g=x,m=requestAnimationFrame(v)}return r(),()=>{var x;d.forEach(y=>{i&&y.removeEventListener("scroll",r),a&&y.removeEventListener("resize",r)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const uce=Vle,dce=zle,fce=Fle,hce=Hle,pce=Ble,ND=$le,mce=Wle,gce=(t,e,r)=>{const n=new Map,i={platform:sce,...r},a={...i.platform,_c:n};return Lle(t,e,{...i,platform:a})};var j1=typeof document<"u"?b.useLayoutEffect:b.useEffect;function Rx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Rx(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!Rx(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function WV(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ID(t,e){const r=WV(t);return Math.round(e*r)/r}function eE(t){const e=b.useRef(t);return j1(()=>{e.current=t}),e}function vce(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:l,open:u}=t,[d,f]=b.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=b.useState(n);Rx(h,n)||p(n);const[m,g]=b.useState(null),[v,x]=b.useState(null),y=b.useCallback($=>{$!==C.current&&(C.current=$,g($))},[]),w=b.useCallback($=>{$!==A.current&&(A.current=$,x($))},[]),S=a||m,E=o||v,C=b.useRef(null),A=b.useRef(null),T=b.useRef(d),N=l!=null,I=eE(l),j=eE(i),O=eE(u),P=b.useCallback(()=>{if(!C.current||!A.current)return;const $={placement:e,strategy:r,middleware:h};j.current&&($.platform=j.current),gce(C.current,A.current,$).then(U=>{const X={...U,isPositioned:O.current!==!1};M.current&&!Rx(T.current,X)&&(T.current=X,gd.flushSync(()=>{f(X)}))})},[h,e,r,j,O]);j1(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f($=>({...$,isPositioned:!1})))},[u]);const M=b.useRef(!1);j1(()=>(M.current=!0,()=>{M.current=!1}),[]),j1(()=>{if(S&&(C.current=S),E&&(A.current=E),S&&E){if(I.current)return I.current(S,E,P);P()}},[S,E,P,I,N]);const F=b.useMemo(()=>({reference:C,floating:A,setReference:y,setFloating:w}),[y,w]),B=b.useMemo(()=>({reference:S,floating:E}),[S,E]),W=b.useMemo(()=>{const $={position:r,left:0,top:0};if(!B.floating)return $;const U=ID(B.floating,d.x),X=ID(B.floating,d.y);return s?{...$,transform:"translate("+U+"px, "+X+"px)",...WV(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:U,top:X}},[r,s,B.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:P,refs:F,elements:B,floatingStyles:W}),[d,P,F,B,W])}const yce=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?ND({element:n.current,padding:i}).fn(r):{}:n?ND({element:n,padding:i}).fn(r):{}}}},xce=(t,e)=>({...uce(t),options:[t,e]}),wce=(t,e)=>({...dce(t),options:[t,e]}),bce=(t,e)=>({...mce(t),options:[t,e]}),_ce=(t,e)=>({...fce(t),options:[t,e]}),Sce=(t,e)=>({...hce(t),options:[t,e]}),Ece=(t,e)=>({...pce(t),options:[t,e]}),Ace=(t,e)=>({...yce(t),options:[t,e]});var Cce="Arrow",HV=b.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return c.jsx(Le.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});HV.displayName=Cce;var Tce=HV;function Nce(t,e=[]){let r=[];function n(a,o){const s=b.createContext(o),l=r.length;r=[...r,o];function u(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||s,v=b.useMemo(()=>m,Object.values(m));return c.jsx(g.Provider,{value:v,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||s,m=b.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const i=()=>{const a=r.map(o=>b.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return b.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,Ice(i,...e)]}function Ice(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:u})=>{const f=l(a)[`__scope${u}`];return{...s,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function yO(t){const[e,r]=b.useState(void 0);return cn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,s;if("borderBoxSize"in a){const l=a.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,s=u.blockSize}else o=t.offsetWidth,s=t.offsetHeight;r({width:o,height:s})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var xO="Popper",[GV,Lc]=Nce(xO),[Pce,qV]=GV(xO),KV=t=>{const{__scopePopper:e,children:r}=t,[n,i]=b.useState(null);return c.jsx(Pce,{scope:e,anchor:n,onAnchorChange:i,children:r})};KV.displayName=xO;var YV="PopperAnchor",XV=b.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=qV(YV,r),o=b.useRef(null),s=et(e,o);return b.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:c.jsx(Le.div,{...i,ref:s})});XV.displayName=YV;var wO="PopperContent",[Oce,jce]=GV(wO),QV=b.forwardRef((t,e)=>{var pe,J,re,L,q,G;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:m,...g}=t,v=qV(wO,r),[x,y]=b.useState(null),w=et(e,ye=>y(ye)),[S,E]=b.useState(null),C=yO(S),A=(C==null?void 0:C.width)??0,T=(C==null?void 0:C.height)??0,N=n+(a!=="center"?"-"+a:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},j=Array.isArray(u)?u:[u],O=j.length>0,P={padding:I,boundary:j.filter(Rce),altBoundary:O},{refs:M,floatingStyles:F,placement:B,isPositioned:W,middlewareData:$}=vce({strategy:"fixed",placement:N,whileElementsMounted:(...ye)=>cce(...ye,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[xce({mainAxis:i+T,alignmentAxis:o}),l&&wce({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?bce():void 0,...P}),l&&_ce({...P}),Sce({...P,apply:({elements:ye,rects:me,availableWidth:ie,availableHeight:ne})=>{const{width:Oe,height:Z}=me.reference,le=ye.floating.style;le.setProperty("--radix-popper-available-width",`${ie}px`),le.setProperty("--radix-popper-available-height",`${ne}px`),le.setProperty("--radix-popper-anchor-width",`${Oe}px`),le.setProperty("--radix-popper-anchor-height",`${Z}px`)}}),S&&Ace({element:S,padding:s}),Dce({arrowWidth:A,arrowHeight:T}),h&&Ece({strategy:"referenceHidden",...P})]}),[U,X]=ez(B),H=hr(m);cn(()=>{W&&(H==null||H())},[W,H]);const Y=(pe=$.arrow)==null?void 0:pe.x,Q=(J=$.arrow)==null?void 0:J.y,ue=((re=$.arrow)==null?void 0:re.centerOffset)!==0,[de,he]=b.useState();return cn(()=>{x&&he(window.getComputedStyle(x).zIndex)},[x]),c.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:W?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[(L=$.transformOrigin)==null?void 0:L.x,(q=$.transformOrigin)==null?void 0:q.y].join(" "),...((G=$.hide)==null?void 0:G.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(Oce,{scope:r,placedSide:U,onArrowChange:E,arrowX:Y,arrowY:Q,shouldHideArrow:ue,children:c.jsx(Le.div,{"data-side":U,"data-align":X,...g,ref:w,style:{...g.style,animation:W?void 0:"none"}})})})});QV.displayName=wO;var ZV="PopperArrow",kce={top:"bottom",right:"left",bottom:"top",left:"right"},JV=b.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=jce(ZV,n),o=kce[a.placedSide];return c.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:c.jsx(Tce,{...i,ref:r,style:{...i.style,display:"block"}})})});JV.displayName=ZV;function Rce(t){return t!==null}var Dce=t=>({name:"transformOrigin",options:t,fn(e){var v,x,y;const{placement:r,rects:n,middlewareData:i}=e,o=((v=i.arrow)==null?void 0:v.centerOffset)!==0,s=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=ez(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=i.arrow)==null?void 0:x.x)??0)+s/2,p=(((y=i.arrow)==null?void 0:y.y)??0)+l/2;let m="",g="";return u==="bottom"?(m=o?f:`${h}px`,g=`${-l}px`):u==="top"?(m=o?f:`${h}px`,g=`${n.floating.height+l}px`):u==="right"?(m=`${-l}px`,g=o?f:`${p}px`):u==="left"&&(m=`${n.floating.width+l}px`,g=o?f:`${p}px`),{data:{x:m,y:g}}}});function ez(t){const[e,r="center"]=t.split("-");return[e,r]}var bO=KV,d0=XV,n2=QV,i2=JV,[a2,Ilt]=za("Tooltip",[Lc]),_O=Lc(),tz="TooltipProvider",Mce=700,PD="tooltip.open",[Lce,rz]=a2(tz),nz=t=>{const{__scopeTooltip:e,delayDuration:r=Mce,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=t,[o,s]=b.useState(!0),l=b.useRef(!1),u=b.useRef(0);return b.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),c.jsx(Lce,{scope:e,isOpenDelayed:o,delayDuration:r,onOpen:b.useCallback(()=>{window.clearTimeout(u.current),s(!1)},[]),onClose:b.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>s(!0),n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};nz.displayName=tz;var iz="Tooltip",[Plt,o2]=a2(iz),JC="TooltipTrigger",$ce=b.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=o2(JC,r),a=rz(JC,r),o=_O(r),s=b.useRef(null),l=et(e,s,i.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),f=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(d0,{asChild:!0,...o,children:c.jsx(Le.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:be(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:be(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:be(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:be(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:be(t.onBlur,i.onClose),onClick:be(t.onClick,i.onClose)})})});$ce.displayName=JC;var Fce="TooltipPortal",[Olt,Bce]=a2(Fce,{forceMount:void 0}),Kf="TooltipContent",az=b.forwardRef((t,e)=>{const r=Bce(Kf,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=t,o=o2(Kf,t.__scopeTooltip);return c.jsx(_n,{present:n||o.open,children:o.disableHoverableContent?c.jsx(oz,{side:i,...a,ref:e}):c.jsx(Uce,{side:i,...a,ref:e})})}),Uce=b.forwardRef((t,e)=>{const r=o2(Kf,t.__scopeTooltip),n=rz(Kf,t.__scopeTooltip),i=b.useRef(null),a=et(e,i),[o,s]=b.useState(null),{trigger:l,onClose:u}=r,d=i.current,{onPointerInTransitChange:f}=n,h=b.useCallback(()=>{s(null),f(!1)},[f]),p=b.useCallback((m,g)=>{const v=m.currentTarget,x={x:m.clientX,y:m.clientY},y=Hce(x,v.getBoundingClientRect()),w=Gce(x,y),S=qce(g.getBoundingClientRect()),E=Yce([...w,...S]);s(E),f(!0)},[f]);return b.useEffect(()=>()=>h(),[h]),b.useEffect(()=>{if(l&&d){const m=v=>p(v,d),g=v=>p(v,l);return l.addEventListener("pointerleave",m),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",m),d.removeEventListener("pointerleave",g)}}},[l,d,p,h]),b.useEffect(()=>{if(o){const m=g=>{const v=g.target,x={x:g.clientX,y:g.clientY},y=(l==null?void 0:l.contains(v))||(d==null?void 0:d.contains(v)),w=!Kce(x,o);y?h():w&&(h(),u())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,d,o,u,h]),c.jsx(oz,{...t,ref:a})}),[Vce,zce]=a2(iz,{isInside:!1}),oz=b.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...s}=t,l=o2(Kf,r),u=_O(r),{onClose:d}=l;return b.useEffect(()=>(document.addEventListener(PD,d),()=>document.removeEventListener(PD,d)),[d]),b.useEffect(()=>{if(l.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),c.jsx(vd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:c.jsxs(n2,{"data-state":l.stateAttribute,...u,...s,ref:e,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(KU,{children:n}),c.jsx(Vce,{scope:r,isInside:!0,children:c.jsx(boe,{id:l.contentId,role:"tooltip",children:i||n})})]})})});az.displayName=Kf;var sz="TooltipArrow",Wce=b.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=_O(r);return zce(sz,r).isInside?null:c.jsx(i2,{...i,...n,ref:e})});Wce.displayName=sz;function Hce(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Gce(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function qce(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function Kce(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const s=e[a].x,l=e[a].y,u=e[o].x,d=e[o].y;l>n!=d>n&&r<(u-s)*(n-l)/(d-l)+s&&(i=!i)}return i}function Yce(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Xce(e)}function Xce(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Qce=nz,lz=az;const Zce=Qce,Jce=b.forwardRef(({className:t,sideOffset:e=4,...r},n)=>c.jsx(lz,{ref:n,sideOffset:e,className:je("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));Jce.displayName=lz.displayName;/**
 * @remix-run/router v1.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lg(){return Lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lg.apply(this,arguments)}var zl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zl||(zl={}));const OD="popstate";function eue(t){t===void 0&&(t={});function e(i,a){let{pathname:o="/",search:s="",hash:l=""}=yd(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),eT("",{pathname:o,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let o=i.document.querySelector("base"),s="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");s=u===-1?l:l.slice(0,u)}return s+"#"+(typeof a=="string"?a:Dx(a))}function n(i,a){s2(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return rue(e,r,n,t)}function $r(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function s2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tue(){return Math.random().toString(36).substr(2,8)}function jD(t,e){return{usr:t.state,key:t.key,idx:e}}function eT(t,e,r,n){return r===void 0&&(r=null),Lg({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?yd(e):e,{state:r,key:e&&e.key||n||tue()})}function Dx(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function yd(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function rue(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s=zl.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Lg({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){s=zl.Pop;let v=d(),x=v==null?null:v-u;u=v,l&&l({action:s,location:g.location,delta:x})}function h(v,x){s=zl.Push;let y=eT(g.location,v,x);r&&r(y,v),u=d()+1;let w=jD(y,u),S=g.createHref(y);try{o.pushState(w,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(S)}a&&l&&l({action:s,location:g.location,delta:1})}function p(v,x){s=zl.Replace;let y=eT(g.location,v,x);r&&r(y,v),u=d();let w=jD(y,u),S=g.createHref(y);o.replaceState(w,"",S),a&&l&&l({action:s,location:g.location,delta:0})}function m(v){let x=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof v=="string"?v:Dx(v);return $r(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let g={get action(){return s},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(OD,f),l=v,()=>{i.removeEventListener(OD,f),l=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let x=m(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(v){return o.go(v)}};return g}var kD;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(kD||(kD={}));function nue(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?yd(e):e,i=SO(n.pathname||"/",r);if(i==null)return null;let a=cz(t);iue(a);let o=null;for(let s=0;o==null&&s<a.length;++s)o=hue(a[s],gue(i));return o}function cz(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&($r(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=nc([n,l.relativePath]),d=r.concat(l);a.children&&a.children.length>0&&($r(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),cz(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:due(u,a.index),routesMeta:d})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of uz(a.path))i(a,o,l)}),e}function uz(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=uz(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function iue(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:fue(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const aue=/^:\w+$/,oue=3,sue=2,lue=1,cue=10,uue=-2,RD=t=>t==="*";function due(t,e){let r=t.split("/"),n=r.length;return r.some(RD)&&(n+=uue),e&&(n+=sue),r.filter(i=>!RD(i)).reduce((i,a)=>i+(aue.test(a)?oue:a===""?lue:cue),n)}function fue(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function hue(t,e){let{routesMeta:r}=t,n={},i="/",a=[];for(let o=0;o<r.length;++o){let s=r[o],l=o===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=pue({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!d)return null;Object.assign(n,d.params);let f=s.route;a.push({params:n,pathname:nc([i,d.pathname]),pathnameBase:bue(nc([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=nc([i,d.pathnameBase]))}return a}function pue(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=mue(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=s[f]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=s[f];return p&&!m?u[h]=void 0:u[h]=vue(m||"",h),u},{}),pathname:a,pathnameBase:o,pattern:t}}function mue(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),s2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function gue(t){try{return decodeURI(t)}catch(e){return s2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vue(t,e){try{return decodeURIComponent(t)}catch(r){return s2(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function SO(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function yue(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?yd(t):t;return{pathname:r?r.startsWith("/")?r:xue(r,e):e,search:_ue(n),hash:Sue(i)}}function xue(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function tE(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wue(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function EO(t){return wue(t).map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function AO(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=yd(t):(i=Lg({},t),$r(!i.pathname||!i.pathname.includes("?"),tE("?","pathname","search",i)),$r(!i.pathname||!i.pathname.includes("#"),tE("#","pathname","hash",i)),$r(!i.search||!i.search.includes("#"),tE("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else if(n){let f=e[e.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f.pop();i.pathname=h.join("/")}s="/"+f.join("/")}else{let f=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=yue(i,s),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const nc=t=>t.join("/").replace(/\/\/+/g,"/"),bue=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_ue=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Sue=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Eue(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const dz=["post","put","patch","delete"];new Set(dz);const Aue=["get",...dz];new Set(Aue);/**
 * React Router v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mx(){return Mx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mx.apply(this,arguments)}const CO=b.createContext(null),Cue=b.createContext(null),Kh=b.createContext(null),l2=b.createContext(null),sl=b.createContext({outlet:null,matches:[],isDataRoute:!1}),fz=b.createContext(null);function Tue(t,e){let{relative:r}=e===void 0?{}:e;Yh()||$r(!1);let{basename:n,navigator:i}=b.useContext(Kh),{hash:a,pathname:o,search:s}=pz(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:nc([n,o])),i.createHref({pathname:l,search:s,hash:a})}function Yh(){return b.useContext(l2)!=null}function ds(){return Yh()||$r(!1),b.useContext(l2).location}function hz(t){b.useContext(Kh).static||b.useLayoutEffect(t)}function Yi(){let{isDataRoute:t}=b.useContext(sl);return t?Uue():Nue()}function Nue(){Yh()||$r(!1);let t=b.useContext(CO),{basename:e,navigator:r}=b.useContext(Kh),{matches:n}=b.useContext(sl),{pathname:i}=ds(),a=JSON.stringify(EO(n)),o=b.useRef(!1);return hz(()=>{o.current=!0}),b.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){r.go(l);return}let d=AO(l,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:nc([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,a,i,t])}function Iue(){let{matches:t}=b.useContext(sl),e=t[t.length-1];return e?e.params:{}}function pz(t,e){let{relative:r}=e===void 0?{}:e,{matches:n}=b.useContext(sl),{pathname:i}=ds(),a=JSON.stringify(EO(n));return b.useMemo(()=>AO(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function Pue(t,e){return Oue(t,e)}function Oue(t,e,r){Yh()||$r(!1);let{navigator:n}=b.useContext(Kh),{matches:i}=b.useContext(sl),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let s=a?a.pathnameBase:"/";a&&a.route;let l=ds(),u;if(e){var d;let g=typeof e=="string"?yd(e):e;s==="/"||(d=g.pathname)!=null&&d.startsWith(s)||$r(!1),u=g}else u=l;let f=u.pathname||"/",h=s==="/"?f:f.slice(s.length)||"/",p=nue(t,{pathname:h}),m=Mue(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:nc([s,n.encodeLocation?n.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?s:nc([s,n.encodeLocation?n.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r);return e&&m?b.createElement(l2.Provider,{value:{location:Mx({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:zl.Pop}},m):m}function jue(){let t=Bue(),e=Eue(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),r?b.createElement("pre",{style:i},r):null,null)}const kue=b.createElement(jue,null);class Rue extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?b.createElement(sl.Provider,{value:this.props.routeContext},b.createElement(fz.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Due(t){let{routeContext:e,match:r,children:n}=t,i=b.useContext(CO);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(sl.Provider,{value:e},n)}function Mue(t,e,r){var n;if(e===void 0&&(e=[]),r===void 0&&(r=null),t==null){var i;if((i=r)!=null&&i.errors)t=r.matches;else return null}let a=t,o=(n=r)==null?void 0:n.errors;if(o!=null){let s=a.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));s>=0||$r(!1),a=a.slice(0,Math.min(a.length,s+1))}return a.reduceRight((s,l,u)=>{let d=l.route.id?o==null?void 0:o[l.route.id]:null,f=null;r&&(f=l.route.errorElement||kue);let h=e.concat(a.slice(0,u+1)),p=()=>{let m;return d?m=f:l.route.Component?m=b.createElement(l.route.Component,null):l.route.element?m=l.route.element:m=s,b.createElement(Due,{match:l,routeContext:{outlet:s,matches:h,isDataRoute:r!=null},children:m})};return r&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?b.createElement(Rue,{location:r.location,revalidation:r.revalidation,component:f,error:d,children:p(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):p()},null)}var mz=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(mz||{}),gz=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(gz||{});function Lue(t){let e=b.useContext(CO);return e||$r(!1),e}function $ue(t){let e=b.useContext(Cue);return e||$r(!1),e}function Fue(t){let e=b.useContext(sl);return e||$r(!1),e}function vz(t){let e=Fue(),r=e.matches[e.matches.length-1];return r.route.id||$r(!1),r.route.id}function Bue(){var t;let e=b.useContext(fz),r=$ue(),n=vz();return e||((t=r.errors)==null?void 0:t[n])}function Uue(){let{router:t}=Lue(mz.UseNavigateStable),e=vz(gz.UseNavigateStable),r=b.useRef(!1);return hz(()=>{r.current=!0}),b.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Mx({fromRouteId:e},a)))},[t,e])}function TO(t){let{to:e,replace:r,state:n,relative:i}=t;Yh()||$r(!1);let{matches:a}=b.useContext(sl),{pathname:o}=ds(),s=Yi(),l=AO(e,EO(a),o,i==="path"),u=JSON.stringify(l);return b.useEffect(()=>s(JSON.parse(u),{replace:r,state:n,relative:i}),[s,u,i,r,n]),null}function Rr(t){$r(!1)}function Vue(t){let{basename:e="/",children:r=null,location:n,navigationType:i=zl.Pop,navigator:a,static:o=!1}=t;Yh()&&$r(!1);let s=e.replace(/^\/*/,"/"),l=b.useMemo(()=>({basename:s,navigator:a,static:o}),[s,a,o]);typeof n=="string"&&(n=yd(n));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:p="default"}=n,m=b.useMemo(()=>{let g=SO(u,s);return g==null?null:{location:{pathname:g,search:d,hash:f,state:h,key:p},navigationType:i}},[s,u,d,f,h,p,i]);return m==null?null:b.createElement(Kh.Provider,{value:l},b.createElement(l2.Provider,{children:r,value:m}))}function zue(t){let{children:e,location:r}=t;return Pue(tT(e),r)}new Promise(()=>{});function tT(t,e){e===void 0&&(e=[]);let r=[];return b.Children.forEach(t,(n,i)=>{if(!b.isValidElement(n))return;let a=[...e,i];if(n.type===b.Fragment){r.push.apply(r,tT(n.props.children,a));return}n.type!==Rr&&$r(!1),!n.props.index||!n.props.children||$r(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=tT(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rT(){return rT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rT.apply(this,arguments)}function Wue(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Hue(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Gue(t,e){return t.button===0&&(!e||e==="_self")&&!Hue(t)}const que=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Kue="startTransition",DD=W7[Kue];function Yue(t){let{basename:e,children:r,future:n,window:i}=t,a=b.useRef();a.current==null&&(a.current=eue({window:i,v5Compat:!0}));let o=a.current,[s,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=b.useCallback(f=>{u&&DD?DD(()=>l(f)):l(f)},[l,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.createElement(Vue,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:o})}const Xue=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Que=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,k1=b.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:u,preventScrollReset:d,unstable_viewTransition:f}=e,h=Wue(e,que),{basename:p}=b.useContext(Kh),m,g=!1;if(typeof u=="string"&&Que.test(u)&&(m=u,Xue))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),E=SO(S.pathname,p);S.origin===w.origin&&E!=null?u=E+S.search+S.hash:g=!0}catch{}let v=Tue(u,{relative:i}),x=Zue(u,{replace:o,state:s,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:f});function y(w){n&&n(w),w.defaultPrevented||x(w)}return b.createElement("a",rT({},h,{href:m||v,onClick:g||a?n:y,ref:r,target:l}))});var MD;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(MD||(MD={}));var LD;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(LD||(LD={}));function Zue(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:s}=e===void 0?{}:e,l=Yi(),u=ds(),d=pz(t,{relative:o});return b.useCallback(f=>{if(Gue(f,r)){f.preventDefault();let h=n!==void 0?n:Dx(u)===Dx(d);l(t,{replace:h,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:s})}},[u,l,d,n,i,r,t,a,o,s])}const Jue=()=>{};var $D={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},ede=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],s=t[r++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},xz={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=a>>2,f=(a&3)<<4|s>>4;let h=(s&15)<<2|u>>6,p=u&63;l||(p=64,o||(h=64)),n.push(r[d],r[f],r[h],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yz(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ede(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],s=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||s==null||u==null||f==null)throw new tde;const h=a<<2|s>>4;if(n.push(h),u!==64){const p=s<<4&240|u>>2;if(n.push(p),f!==64){const m=u<<6&192|f;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tde extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rde=function(t){const e=yz(t);return xz.encodeByteArray(e,!0)},Lx=function(t){return rde(t).replace(/\./g,"")},wz=function(t){try{return xz.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nde(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ide=()=>nde().__FIREBASE_DEFAULTS__,ade=()=>{if(typeof process>"u"||typeof $D>"u")return;const t=$D.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ode=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wz(t[1]);return e&&JSON.parse(e)},c2=()=>{try{return Jue()||ide()||ade()||ode()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bz=t=>{var e,r;return(r=(e=c2())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},_z=t=>{const e=bz(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},Sz=()=>{var t;return(t=c2())===null||t===void 0?void 0:t.config},Ez=t=>{var e;return(e=c2())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sde{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(t){return t.endsWith(".cloudworkstations.dev")}async function NO(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Az(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Lx(JSON.stringify(r)),Lx(JSON.stringify(o)),""].join(".")}const Xm={};function lde(){const t={prod:[],emulator:[]};for(const e of Object.keys(Xm))Xm[e]?t.emulator.push(e):t.prod.push(e);return t}function cde(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let FD=!1;function Qh(t,e){if(typeof window>"u"||typeof document>"u"||!Xh(window.location.host)||Xm[t]===e||Xm[t]||FD)return;Xm[t]=e;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",a=lde().prod.length>0;function o(){const h=document.getElementById(n);h&&h.remove()}function s(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{FD=!0,o()},h}function d(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=cde(n),p=r("text"),m=document.getElementById(p)||document.createElement("span"),g=r("learnmore"),v=document.getElementById(g)||document.createElement("a"),x=r("preprendIcon"),y=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;s(w),d(v,g);const S=u();l(y,x),w.append(y,m,v,S),document.body.appendChild(w)}a?(m.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ude(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ni())}function dde(){var t;const e=(t=c2())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fde(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Cz(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hde(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pde(){const t=ni();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mde(){return!dde()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IO(){try{return typeof indexedDB=="object"}catch{return!1}}function PO(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}function Tz(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gde="FirebaseError";class Wa extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=gde,Object.setPrototypeOf(this,Wa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$c.prototype.create)}}class $c{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?vde(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new Wa(i,s,n)}}function vde(t,e){return t.replace(yde,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const yde=/\{\$([^}]+)}/g;function xde(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wc(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(BD(a)&&BD(o)){if(!wc(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function BD(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function _m(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Sm(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function wde(t,e){const r=new bde(t,e);return r.subscribe.bind(r)}class bde{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");_de(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=rE),i.error===void 0&&(i.error=rE),i.complete===void 0&&(i.complete=rE);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _de(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function rE(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sde=1e3,Ede=2,Ade=4*60*60*1e3,Cde=.5;function UD(t,e=Sde,r=Ede){const n=e*Math.pow(r,t),i=Math.round(Cde*n*(Math.random()-.5)*2);return Math.min(Ade,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t){return t&&t._delegate?t._delegate:t}class qi{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tde{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new sde;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ide(e))try{this.getOrInitializeService({instanceIdentifier:su})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=su){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=su){return this.instances.has(e)}getOptions(e=su){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Nde(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=su){return this.component?this.component.multipleInstances?e:su:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nde(t){return t===su?void 0:t}function Ide(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pde{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Tde(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ut||(ut={}));const Ode={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},jde=ut.INFO,kde={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},Rde=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=kde[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class u2{constructor(e){this.name=e,this._logLevel=jde,this._logHandler=Rde,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ode[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}const Dde=(t,e)=>e.some(r=>t instanceof r);let VD,zD;function Mde(){return VD||(VD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Lde(){return zD||(zD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nz=new WeakMap,nT=new WeakMap,Iz=new WeakMap,nE=new WeakMap,OO=new WeakMap;function $de(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(Ms(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&Nz.set(r,t)}).catch(()=>{}),OO.set(e,t),e}function Fde(t){if(nT.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});nT.set(t,e)}let iT={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return nT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Iz.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ms(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Bde(t){iT=t(iT)}function Ude(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(iE(this),e,...r);return Iz.set(n,e.sort?e.sort():[e]),Ms(n)}:Lde().includes(t)?function(...e){return t.apply(iE(this),e),Ms(Nz.get(this))}:function(...e){return Ms(t.apply(iE(this),e))}}function Vde(t){return typeof t=="function"?Ude(t):(t instanceof IDBTransaction&&Fde(t),Dde(t,Mde())?new Proxy(t,iT):t)}function Ms(t){if(t instanceof IDBRequest)return $de(t);if(nE.has(t))return nE.get(t);const e=Vde(t);return e!==t&&(nE.set(t,e),OO.set(e,t)),e}const iE=t=>OO.get(t);function d2(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=Ms(o);return n&&o.addEventListener("upgradeneeded",l=>{n(Ms(o.result),l.oldVersion,l.newVersion,Ms(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}function aE(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",n=>e(n.oldVersion,n)),Ms(r).then(()=>{})}const zde=["get","getKey","getAll","getAllKeys","count"],Wde=["put","add","delete","clear"],oE=new Map;function WD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(oE.get(e))return oE.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=Wde.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||zde.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(s.shift())),(await Promise.all([u[r](...s),i&&l.done]))[0]};return oE.set(e,a),a}Bde(t=>({...t,get:(e,r,n)=>WD(e,r)||t.get(e,r,n),has:(e,r)=>!!WD(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hde{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Gde(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Gde(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const aT="@firebase/app",HD="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new u2("@firebase/app"),qde="@firebase/app-compat",Kde="@firebase/analytics-compat",Yde="@firebase/analytics",Xde="@firebase/app-check-compat",Qde="@firebase/app-check",Zde="@firebase/auth",Jde="@firebase/auth-compat",efe="@firebase/database",tfe="@firebase/data-connect",rfe="@firebase/database-compat",nfe="@firebase/functions",ife="@firebase/functions-compat",afe="@firebase/installations",ofe="@firebase/installations-compat",sfe="@firebase/messaging",lfe="@firebase/messaging-compat",cfe="@firebase/performance",ufe="@firebase/performance-compat",dfe="@firebase/remote-config",ffe="@firebase/remote-config-compat",hfe="@firebase/storage",pfe="@firebase/storage-compat",mfe="@firebase/firestore",gfe="@firebase/vertexai",vfe="@firebase/firestore-compat",yfe="firebase",xfe="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="[DEFAULT]",wfe={[aT]:"fire-core",[qde]:"fire-core-compat",[Yde]:"fire-analytics",[Kde]:"fire-analytics-compat",[Qde]:"fire-app-check",[Xde]:"fire-app-check-compat",[Zde]:"fire-auth",[Jde]:"fire-auth-compat",[efe]:"fire-rtdb",[tfe]:"fire-data-connect",[rfe]:"fire-rtdb-compat",[nfe]:"fire-fn",[ife]:"fire-fn-compat",[afe]:"fire-iid",[ofe]:"fire-iid-compat",[sfe]:"fire-fcm",[lfe]:"fire-fcm-compat",[cfe]:"fire-perf",[ufe]:"fire-perf-compat",[dfe]:"fire-rc",[ffe]:"fire-rc-compat",[hfe]:"fire-gcs",[pfe]:"fire-gcs-compat",[mfe]:"fire-fst",[vfe]:"fire-fst-compat",[gfe]:"fire-vertex","fire-js":"fire-js",[yfe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=new Map,bfe=new Map,sT=new Map;function GD(t,e){try{t.container.addComponent(e)}catch(r){Xs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function fa(t){const e=t.name;if(sT.has(e))return Xs.debug(`There were multiple attempts to register component ${e}.`),!1;sT.set(e,t);for(const r of $x.values())GD(r,t);for(const r of bfe.values())GD(r,t);return!0}function ll(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Ri(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _fe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ic=new $c("app","Firebase",_fe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sfe{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ic.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=xfe;function Pz(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:oT,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw ic.create("bad-app-name",{appName:String(i)});if(r||(r=Sz()),!r)throw ic.create("no-options");const a=$x.get(i);if(a){if(wc(r,a.options)&&wc(n,a.config))return a;throw ic.create("duplicate-app",{appName:i})}const o=new Pde(i);for(const l of sT.values())o.addComponent(l);const s=new Sfe(r,n,o);return $x.set(i,s),s}function h0(t=oT){const e=$x.get(t);if(!e&&t===oT&&Sz())return Pz();if(!e)throw ic.create("no-app",{appName:t});return e}function ei(t,e,r){var n;let i=(n=wfe[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xs.warn(s.join(" "));return}fa(new qi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Efe="firebase-heartbeat-database",Afe=1,$g="firebase-heartbeat-store";let sE=null;function Oz(){return sE||(sE=d2(Efe,Afe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($g)}catch(r){console.warn(r)}}}}).catch(t=>{throw ic.create("idb-open",{originalErrorMessage:t.message})})),sE}async function Cfe(t){try{const r=(await Oz()).transaction($g),n=await r.objectStore($g).get(jz(t));return await r.done,n}catch(e){if(e instanceof Wa)Xs.warn(e.message);else{const r=ic.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xs.warn(r.message)}}}async function qD(t,e){try{const n=(await Oz()).transaction($g,"readwrite");await n.objectStore($g).put(e,jz(t)),await n.done}catch(r){if(r instanceof Wa)Xs.warn(r.message);else{const n=ic.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Xs.warn(n.message)}}}function jz(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tfe=1024,Nfe=30;class Ife{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Ofe(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=KD();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Nfe){const o=jfe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Xs.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=KD(),{heartbeatsToSend:n,unsentEntries:i}=Pfe(this._heartbeatsCache.heartbeats),a=Lx(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Xs.warn(r),""}}}function KD(){return new Date().toISOString().substring(0,10)}function Pfe(t,e=Tfe){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),YD(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),YD(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Ofe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IO()?PO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Cfe(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return qD(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return qD(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function YD(t){return Lx(JSON.stringify({version:2,heartbeats:t})).length}function jfe(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kfe(t){fa(new qi("platform-logger",e=>new Hde(e),"PRIVATE")),fa(new qi("heartbeat",e=>new Ife(e),"PRIVATE")),ei(aT,HD,t),ei(aT,HD,"esm2017"),ei("fire-js","")}kfe("");var Rfe="firebase",Dfe="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei(Rfe,Dfe,"app");var XD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ac,kz;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,T){function N(){}N.prototype=T.prototype,A.D=T.prototype,A.prototype=new N,A.prototype.constructor=A,A.C=function(I,j,O){for(var P=Array(arguments.length-2),M=2;M<arguments.length;M++)P[M-2]=arguments[M];return T.prototype[j].apply(I,P)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,T,N){N||(N=0);var I=Array(16);if(typeof T=="string")for(var j=0;16>j;++j)I[j]=T.charCodeAt(N++)|T.charCodeAt(N++)<<8|T.charCodeAt(N++)<<16|T.charCodeAt(N++)<<24;else for(j=0;16>j;++j)I[j]=T[N++]|T[N++]<<8|T[N++]<<16|T[N++]<<24;T=A.g[0],N=A.g[1],j=A.g[2];var O=A.g[3],P=T+(O^N&(j^O))+I[0]+3614090360&4294967295;T=N+(P<<7&4294967295|P>>>25),P=O+(j^T&(N^j))+I[1]+3905402710&4294967295,O=T+(P<<12&4294967295|P>>>20),P=j+(N^O&(T^N))+I[2]+606105819&4294967295,j=O+(P<<17&4294967295|P>>>15),P=N+(T^j&(O^T))+I[3]+3250441966&4294967295,N=j+(P<<22&4294967295|P>>>10),P=T+(O^N&(j^O))+I[4]+4118548399&4294967295,T=N+(P<<7&4294967295|P>>>25),P=O+(j^T&(N^j))+I[5]+1200080426&4294967295,O=T+(P<<12&4294967295|P>>>20),P=j+(N^O&(T^N))+I[6]+2821735955&4294967295,j=O+(P<<17&4294967295|P>>>15),P=N+(T^j&(O^T))+I[7]+4249261313&4294967295,N=j+(P<<22&4294967295|P>>>10),P=T+(O^N&(j^O))+I[8]+1770035416&4294967295,T=N+(P<<7&4294967295|P>>>25),P=O+(j^T&(N^j))+I[9]+2336552879&4294967295,O=T+(P<<12&4294967295|P>>>20),P=j+(N^O&(T^N))+I[10]+4294925233&4294967295,j=O+(P<<17&4294967295|P>>>15),P=N+(T^j&(O^T))+I[11]+2304563134&4294967295,N=j+(P<<22&4294967295|P>>>10),P=T+(O^N&(j^O))+I[12]+1804603682&4294967295,T=N+(P<<7&4294967295|P>>>25),P=O+(j^T&(N^j))+I[13]+4254626195&4294967295,O=T+(P<<12&4294967295|P>>>20),P=j+(N^O&(T^N))+I[14]+2792965006&4294967295,j=O+(P<<17&4294967295|P>>>15),P=N+(T^j&(O^T))+I[15]+1236535329&4294967295,N=j+(P<<22&4294967295|P>>>10),P=T+(j^O&(N^j))+I[1]+4129170786&4294967295,T=N+(P<<5&4294967295|P>>>27),P=O+(N^j&(T^N))+I[6]+3225465664&4294967295,O=T+(P<<9&4294967295|P>>>23),P=j+(T^N&(O^T))+I[11]+643717713&4294967295,j=O+(P<<14&4294967295|P>>>18),P=N+(O^T&(j^O))+I[0]+3921069994&4294967295,N=j+(P<<20&4294967295|P>>>12),P=T+(j^O&(N^j))+I[5]+3593408605&4294967295,T=N+(P<<5&4294967295|P>>>27),P=O+(N^j&(T^N))+I[10]+38016083&4294967295,O=T+(P<<9&4294967295|P>>>23),P=j+(T^N&(O^T))+I[15]+3634488961&4294967295,j=O+(P<<14&4294967295|P>>>18),P=N+(O^T&(j^O))+I[4]+3889429448&4294967295,N=j+(P<<20&4294967295|P>>>12),P=T+(j^O&(N^j))+I[9]+568446438&4294967295,T=N+(P<<5&4294967295|P>>>27),P=O+(N^j&(T^N))+I[14]+3275163606&4294967295,O=T+(P<<9&4294967295|P>>>23),P=j+(T^N&(O^T))+I[3]+4107603335&4294967295,j=O+(P<<14&4294967295|P>>>18),P=N+(O^T&(j^O))+I[8]+1163531501&4294967295,N=j+(P<<20&4294967295|P>>>12),P=T+(j^O&(N^j))+I[13]+2850285829&4294967295,T=N+(P<<5&4294967295|P>>>27),P=O+(N^j&(T^N))+I[2]+4243563512&4294967295,O=T+(P<<9&4294967295|P>>>23),P=j+(T^N&(O^T))+I[7]+1735328473&4294967295,j=O+(P<<14&4294967295|P>>>18),P=N+(O^T&(j^O))+I[12]+2368359562&4294967295,N=j+(P<<20&4294967295|P>>>12),P=T+(N^j^O)+I[5]+4294588738&4294967295,T=N+(P<<4&4294967295|P>>>28),P=O+(T^N^j)+I[8]+2272392833&4294967295,O=T+(P<<11&4294967295|P>>>21),P=j+(O^T^N)+I[11]+1839030562&4294967295,j=O+(P<<16&4294967295|P>>>16),P=N+(j^O^T)+I[14]+4259657740&4294967295,N=j+(P<<23&4294967295|P>>>9),P=T+(N^j^O)+I[1]+2763975236&4294967295,T=N+(P<<4&4294967295|P>>>28),P=O+(T^N^j)+I[4]+1272893353&4294967295,O=T+(P<<11&4294967295|P>>>21),P=j+(O^T^N)+I[7]+4139469664&4294967295,j=O+(P<<16&4294967295|P>>>16),P=N+(j^O^T)+I[10]+3200236656&4294967295,N=j+(P<<23&4294967295|P>>>9),P=T+(N^j^O)+I[13]+681279174&4294967295,T=N+(P<<4&4294967295|P>>>28),P=O+(T^N^j)+I[0]+3936430074&4294967295,O=T+(P<<11&4294967295|P>>>21),P=j+(O^T^N)+I[3]+3572445317&4294967295,j=O+(P<<16&4294967295|P>>>16),P=N+(j^O^T)+I[6]+76029189&4294967295,N=j+(P<<23&4294967295|P>>>9),P=T+(N^j^O)+I[9]+3654602809&4294967295,T=N+(P<<4&4294967295|P>>>28),P=O+(T^N^j)+I[12]+3873151461&4294967295,O=T+(P<<11&4294967295|P>>>21),P=j+(O^T^N)+I[15]+530742520&4294967295,j=O+(P<<16&4294967295|P>>>16),P=N+(j^O^T)+I[2]+3299628645&4294967295,N=j+(P<<23&4294967295|P>>>9),P=T+(j^(N|~O))+I[0]+4096336452&4294967295,T=N+(P<<6&4294967295|P>>>26),P=O+(N^(T|~j))+I[7]+1126891415&4294967295,O=T+(P<<10&4294967295|P>>>22),P=j+(T^(O|~N))+I[14]+2878612391&4294967295,j=O+(P<<15&4294967295|P>>>17),P=N+(O^(j|~T))+I[5]+4237533241&4294967295,N=j+(P<<21&4294967295|P>>>11),P=T+(j^(N|~O))+I[12]+1700485571&4294967295,T=N+(P<<6&4294967295|P>>>26),P=O+(N^(T|~j))+I[3]+2399980690&4294967295,O=T+(P<<10&4294967295|P>>>22),P=j+(T^(O|~N))+I[10]+4293915773&4294967295,j=O+(P<<15&4294967295|P>>>17),P=N+(O^(j|~T))+I[1]+2240044497&4294967295,N=j+(P<<21&4294967295|P>>>11),P=T+(j^(N|~O))+I[8]+1873313359&4294967295,T=N+(P<<6&4294967295|P>>>26),P=O+(N^(T|~j))+I[15]+4264355552&4294967295,O=T+(P<<10&4294967295|P>>>22),P=j+(T^(O|~N))+I[6]+2734768916&4294967295,j=O+(P<<15&4294967295|P>>>17),P=N+(O^(j|~T))+I[13]+1309151649&4294967295,N=j+(P<<21&4294967295|P>>>11),P=T+(j^(N|~O))+I[4]+4149444226&4294967295,T=N+(P<<6&4294967295|P>>>26),P=O+(N^(T|~j))+I[11]+3174756917&4294967295,O=T+(P<<10&4294967295|P>>>22),P=j+(T^(O|~N))+I[2]+718787259&4294967295,j=O+(P<<15&4294967295|P>>>17),P=N+(O^(j|~T))+I[9]+3951481745&4294967295,A.g[0]=A.g[0]+T&4294967295,A.g[1]=A.g[1]+(j+(P<<21&4294967295|P>>>11))&4294967295,A.g[2]=A.g[2]+j&4294967295,A.g[3]=A.g[3]+O&4294967295}n.prototype.u=function(A,T){T===void 0&&(T=A.length);for(var N=T-this.blockSize,I=this.B,j=this.h,O=0;O<T;){if(j==0)for(;O<=N;)i(this,A,O),O+=this.blockSize;if(typeof A=="string"){for(;O<T;)if(I[j++]=A.charCodeAt(O++),j==this.blockSize){i(this,I),j=0;break}}else for(;O<T;)if(I[j++]=A[O++],j==this.blockSize){i(this,I),j=0;break}}this.h=j,this.o+=T},n.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var T=1;T<A.length-8;++T)A[T]=0;var N=8*this.o;for(T=A.length-8;T<A.length;++T)A[T]=N&255,N/=256;for(this.u(A),A=Array(16),T=N=0;4>T;++T)for(var I=0;32>I;I+=8)A[N++]=this.g[T]>>>I&255;return A};function a(A,T){var N=s;return Object.prototype.hasOwnProperty.call(N,A)?N[A]:N[A]=T(A)}function o(A,T){this.h=T;for(var N=[],I=!0,j=A.length-1;0<=j;j--){var O=A[j]|0;I&&O==T||(N[j]=O,I=!1)}this.g=N}var s={};function l(A){return-128<=A&&128>A?a(A,function(T){return new o([T|0],0>T?-1:0)}):new o([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return v(u(-A));for(var T=[],N=1,I=0;A>=N;I++)T[I]=A/N|0,N*=4294967296;return new o(T,0)}function d(A,T){if(A.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(A.charAt(0)=="-")return v(d(A.substring(1),T));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=u(Math.pow(T,8)),I=f,j=0;j<A.length;j+=8){var O=Math.min(8,A.length-j),P=parseInt(A.substring(j,j+O),T);8>O?(O=u(Math.pow(T,O)),I=I.j(O).add(u(P))):(I=I.j(N),I=I.add(u(P)))}return I}var f=l(0),h=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-v(this).m();for(var A=0,T=1,N=0;N<this.g.length;N++){var I=this.i(N);A+=(0<=I?I:4294967296+I)*T,T*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(m(this))return"0";if(g(this))return"-"+v(this).toString(A);for(var T=u(Math.pow(A,6)),N=this,I="";;){var j=S(N,T).g;N=x(N,j.j(T));var O=((0<N.g.length?N.g[0]:N.h)>>>0).toString(A);if(N=j,m(N))return O+I;for(;6>O.length;)O="0"+O;I=O+I}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function m(A){if(A.h!=0)return!1;for(var T=0;T<A.g.length;T++)if(A.g[T]!=0)return!1;return!0}function g(A){return A.h==-1}t.l=function(A){return A=x(this,A),g(A)?-1:m(A)?0:1};function v(A){for(var T=A.g.length,N=[],I=0;I<T;I++)N[I]=~A.g[I];return new o(N,~A.h).add(h)}t.abs=function(){return g(this)?v(this):this},t.add=function(A){for(var T=Math.max(this.g.length,A.g.length),N=[],I=0,j=0;j<=T;j++){var O=I+(this.i(j)&65535)+(A.i(j)&65535),P=(O>>>16)+(this.i(j)>>>16)+(A.i(j)>>>16);I=P>>>16,O&=65535,P&=65535,N[j]=P<<16|O}return new o(N,N[N.length-1]&-2147483648?-1:0)};function x(A,T){return A.add(v(T))}t.j=function(A){if(m(this)||m(A))return f;if(g(this))return g(A)?v(this).j(v(A)):v(v(this).j(A));if(g(A))return v(this.j(v(A)));if(0>this.l(p)&&0>A.l(p))return u(this.m()*A.m());for(var T=this.g.length+A.g.length,N=[],I=0;I<2*T;I++)N[I]=0;for(I=0;I<this.g.length;I++)for(var j=0;j<A.g.length;j++){var O=this.i(I)>>>16,P=this.i(I)&65535,M=A.i(j)>>>16,F=A.i(j)&65535;N[2*I+2*j]+=P*F,y(N,2*I+2*j),N[2*I+2*j+1]+=O*F,y(N,2*I+2*j+1),N[2*I+2*j+1]+=P*M,y(N,2*I+2*j+1),N[2*I+2*j+2]+=O*M,y(N,2*I+2*j+2)}for(I=0;I<T;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=T;I<2*T;I++)N[I]=0;return new o(N,0)};function y(A,T){for(;(A[T]&65535)!=A[T];)A[T+1]+=A[T]>>>16,A[T]&=65535,T++}function w(A,T){this.g=A,this.h=T}function S(A,T){if(m(T))throw Error("division by zero");if(m(A))return new w(f,f);if(g(A))return T=S(v(A),T),new w(v(T.g),v(T.h));if(g(T))return T=S(A,v(T)),new w(v(T.g),T.h);if(30<A.g.length){if(g(A)||g(T))throw Error("slowDivide_ only works with positive integers.");for(var N=h,I=T;0>=I.l(A);)N=E(N),I=E(I);var j=C(N,1),O=C(I,1);for(I=C(I,2),N=C(N,2);!m(I);){var P=O.add(I);0>=P.l(A)&&(j=j.add(N),O=P),I=C(I,1),N=C(N,1)}return T=x(A,j.j(T)),new w(j,T)}for(j=f;0<=A.l(T);){for(N=Math.max(1,Math.floor(A.m()/T.m())),I=Math.ceil(Math.log(N)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),O=u(N),P=O.j(T);g(P)||0<P.l(A);)N-=I,O=u(N),P=O.j(T);m(O)&&(O=h),j=j.add(O),A=x(A,P)}return new w(j,A)}t.A=function(A){return S(this,A).h},t.and=function(A){for(var T=Math.max(this.g.length,A.g.length),N=[],I=0;I<T;I++)N[I]=this.i(I)&A.i(I);return new o(N,this.h&A.h)},t.or=function(A){for(var T=Math.max(this.g.length,A.g.length),N=[],I=0;I<T;I++)N[I]=this.i(I)|A.i(I);return new o(N,this.h|A.h)},t.xor=function(A){for(var T=Math.max(this.g.length,A.g.length),N=[],I=0;I<T;I++)N[I]=this.i(I)^A.i(I);return new o(N,this.h^A.h)};function E(A){for(var T=A.g.length+1,N=[],I=0;I<T;I++)N[I]=A.i(I)<<1|A.i(I-1)>>>31;return new o(N,A.h)}function C(A,T){var N=T>>5;T%=32;for(var I=A.g.length-N,j=[],O=0;O<I;O++)j[O]=0<T?A.i(O+N)>>>T|A.i(O+N+1)<<32-T:A.i(O+N);return new o(j,A.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,kz=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,ac=o}).apply(typeof XD<"u"?XD:typeof self<"u"?self:typeof window<"u"?window:{});var Oy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rz,Em,Dz,R1,lT,Mz,Lz,$z;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,k,R){return _==Array.prototype||_==Object.prototype||(_[k]=R.value),_};function r(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oy=="object"&&Oy];for(var k=0;k<_.length;++k){var R=_[k];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var n=r(this);function i(_,k){if(k)e:{var R=n;_=_.split(".");for(var V=0;V<_.length-1;V++){var ee=_[V];if(!(ee in R))break e;R=R[ee]}_=_[_.length-1],V=R[_],k=k(V),k!=V&&k!=null&&e(R,_,{configurable:!0,writable:!0,value:k})}}function a(_,k){_ instanceof String&&(_+="");var R=0,V=!1,ee={next:function(){if(!V&&R<_.length){var ae=R++;return{value:k(ae,_[ae]),done:!1}}return V=!0,{done:!0,value:void 0}}};return ee[Symbol.iterator]=function(){return ee},ee}i("Array.prototype.values",function(_){return _||function(){return a(this,function(k,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(_){var k=typeof _;return k=k!="object"?k:_?Array.isArray(_)?"array":k:"null",k=="array"||k=="object"&&typeof _.length=="number"}function u(_){var k=typeof _;return k=="object"&&_!=null||k=="function"}function d(_,k,R){return _.call.apply(_.bind,arguments)}function f(_,k,R){if(!_)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ee,V),_.apply(k,ee)}}return function(){return _.apply(k,arguments)}}function h(_,k,R){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function p(_,k){var R=Array.prototype.slice.call(arguments,1);return function(){var V=R.slice();return V.push.apply(V,arguments),_.apply(this,V)}}function m(_,k){function R(){}R.prototype=k.prototype,_.aa=k.prototype,_.prototype=new R,_.prototype.constructor=_,_.Qb=function(V,ee,ae){for(var Ie=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)Ie[Ut-2]=arguments[Ut];return k.prototype[ee].apply(V,Ie)}}function g(_){const k=_.length;if(0<k){const R=Array(k);for(let V=0;V<k;V++)R[V]=_[V];return R}return[]}function v(_,k){for(let R=1;R<arguments.length;R++){const V=arguments[R];if(l(V)){const ee=_.length||0,ae=V.length||0;_.length=ee+ae;for(let Ie=0;Ie<ae;Ie++)_[ee+Ie]=V[Ie]}else _.push(V)}}class x{constructor(k,R){this.i=k,this.j=R,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function y(_){return/^[\s\xa0]*$/.test(_)}function w(){var _=s.navigator;return _&&(_=_.userAgent)?_:""}function S(_){return S[" "](_),_}S[" "]=function(){};var E=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function C(_,k,R){for(const V in _)k.call(R,_[V],V,_)}function A(_,k){for(const R in _)k.call(void 0,_[R],R,_)}function T(_){const k={};for(const R in _)k[R]=_[R];return k}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(_,k){let R,V;for(let ee=1;ee<arguments.length;ee++){V=arguments[ee];for(R in V)_[R]=V[R];for(let ae=0;ae<N.length;ae++)R=N[ae],Object.prototype.hasOwnProperty.call(V,R)&&(_[R]=V[R])}}function j(_){var k=1;_=_.split(":");const R=[];for(;0<k&&_.length;)R.push(_.shift()),k--;return _.length&&R.push(_.join(":")),R}function O(_){s.setTimeout(()=>{throw _},0)}function P(){var _=U;let k=null;return _.g&&(k=_.g,_.g=_.g.next,_.g||(_.h=null),k.next=null),k}class M{constructor(){this.h=this.g=null}add(k,R){const V=F.get();V.set(k,R),this.h?this.h.next=V:this.g=V,this.h=V}}var F=new x(()=>new B,_=>_.reset());class B{constructor(){this.next=this.g=this.h=null}set(k,R){this.h=k,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let W,$=!1,U=new M,X=()=>{const _=s.Promise.resolve(void 0);W=()=>{_.then(H)}};var H=()=>{for(var _;_=P();){try{_.h.call(_.g)}catch(R){O(R)}var k=F;k.j(_),100>k.h&&(k.h++,_.next=k.g,k.g=_)}$=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(_,k){this.type=_,this.g=this.target=k,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var _=!1,k=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const R=()=>{};s.addEventListener("test",R,k),s.removeEventListener("test",R,k)}catch{}return _}();function de(_,k){if(Q.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var R=this.type=_.type,V=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=k,k=_.relatedTarget){if(E){e:{try{S(k.nodeName);var ee=!0;break e}catch{}ee=!1}ee||(k=null)}}else R=="mouseover"?k=_.fromElement:R=="mouseout"&&(k=_.toElement);this.relatedTarget=k,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:he[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&de.aa.h.call(this)}}m(de,Q);var he={2:"touch",3:"pen",4:"mouse"};de.prototype.h=function(){de.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),J=0;function re(_,k,R,V,ee){this.listener=_,this.proxy=null,this.src=k,this.type=R,this.capture=!!V,this.ha=ee,this.key=++J,this.da=this.fa=!1}function L(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function q(_){this.src=_,this.g={},this.h=0}q.prototype.add=function(_,k,R,V,ee){var ae=_.toString();_=this.g[ae],_||(_=this.g[ae]=[],this.h++);var Ie=ye(_,k,V,ee);return-1<Ie?(k=_[Ie],R||(k.fa=!1)):(k=new re(k,this.src,ae,!!V,ee),k.fa=R,_.push(k)),k};function G(_,k){var R=k.type;if(R in _.g){var V=_.g[R],ee=Array.prototype.indexOf.call(V,k,void 0),ae;(ae=0<=ee)&&Array.prototype.splice.call(V,ee,1),ae&&(L(k),_.g[R].length==0&&(delete _.g[R],_.h--))}}function ye(_,k,R,V){for(var ee=0;ee<_.length;++ee){var ae=_[ee];if(!ae.da&&ae.listener==k&&ae.capture==!!R&&ae.ha==V)return ee}return-1}var me="closure_lm_"+(1e6*Math.random()|0),ie={};function ne(_,k,R,V,ee){if(Array.isArray(k)){for(var ae=0;ae<k.length;ae++)ne(_,k[ae],R,V,ee);return null}return R=En(R),_&&_[pe]?_.K(k,R,u(V)?!!V.capture:!1,ee):Oe(_,k,R,!1,V,ee)}function Oe(_,k,R,V,ee,ae){if(!k)throw Error("Invalid event type");var Ie=u(ee)?!!ee.capture:!!ee,Ut=Wt(_);if(Ut||(_[me]=Ut=new q(_)),R=Ut.add(k,R,V,Ie,ae),R.proxy)return R;if(V=Z(),R.proxy=V,V.src=_,V.listener=R,_.addEventListener)ue||(ee=Ie),ee===void 0&&(ee=!1),_.addEventListener(k.toString(),V,ee);else if(_.attachEvent)_.attachEvent(it(k.toString()),V);else if(_.addListener&&_.removeListener)_.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Z(){function _(R){return k.call(_.src,_.listener,R)}const k=yr;return _}function le(_,k,R,V,ee){if(Array.isArray(k))for(var ae=0;ae<k.length;ae++)le(_,k[ae],R,V,ee);else V=u(V)?!!V.capture:!!V,R=En(R),_&&_[pe]?(_=_.i,k=String(k).toString(),k in _.g&&(ae=_.g[k],R=ye(ae,R,V,ee),-1<R&&(L(ae[R]),Array.prototype.splice.call(ae,R,1),ae.length==0&&(delete _.g[k],_.h--)))):_&&(_=Wt(_))&&(k=_.g[k.toString()],_=-1,k&&(_=ye(k,R,V,ee)),(R=-1<_?k[_]:null)&&xe(R))}function xe(_){if(typeof _!="number"&&_&&!_.da){var k=_.src;if(k&&k[pe])G(k.i,_);else{var R=_.type,V=_.proxy;k.removeEventListener?k.removeEventListener(R,V,_.capture):k.detachEvent?k.detachEvent(it(R),V):k.addListener&&k.removeListener&&k.removeListener(V),(R=Wt(k))?(G(R,_),R.h==0&&(R.src=null,k[me]=null)):L(_)}}}function it(_){return _ in ie?ie[_]:ie[_]="on"+_}function yr(_,k){if(_.da)_=!0;else{k=new de(k,this);var R=_.listener,V=_.ha||_.src;_.fa&&xe(_),_=R.call(V,k)}return _}function Wt(_){return _=_[me],_ instanceof q?_:null}var Ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(_){return typeof _=="function"?_:(_[Ht]||(_[Ht]=function(k){return _.handleEvent(k)}),_[Ht])}function Zt(){Y.call(this),this.i=new q(this),this.M=this,this.F=null}m(Zt,Y),Zt.prototype[pe]=!0,Zt.prototype.removeEventListener=function(_,k,R,V){le(this,_,k,R,V)};function Dt(_,k){var R,V=_.F;if(V)for(R=[];V;V=V.F)R.push(V);if(_=_.M,V=k.type||k,typeof k=="string")k=new Q(k,_);else if(k instanceof Q)k.target=k.target||_;else{var ee=k;k=new Q(V,_),I(k,ee)}if(ee=!0,R)for(var ae=R.length-1;0<=ae;ae--){var Ie=k.g=R[ae];ee=Qi(Ie,V,!0,k)&&ee}if(Ie=k.g=_,ee=Qi(Ie,V,!0,k)&&ee,ee=Qi(Ie,V,!1,k)&&ee,R)for(ae=0;ae<R.length;ae++)Ie=k.g=R[ae],ee=Qi(Ie,V,!1,k)&&ee}Zt.prototype.N=function(){if(Zt.aa.N.call(this),this.i){var _=this.i,k;for(k in _.g){for(var R=_.g[k],V=0;V<R.length;V++)L(R[V]);delete _.g[k],_.h--}}this.F=null},Zt.prototype.K=function(_,k,R,V){return this.i.add(String(_),k,!1,R,V)},Zt.prototype.L=function(_,k,R,V){return this.i.add(String(_),k,!0,R,V)};function Qi(_,k,R,V){if(k=_.i.g[String(k)],!k)return!0;k=k.concat();for(var ee=!0,ae=0;ae<k.length;++ae){var Ie=k[ae];if(Ie&&!Ie.da&&Ie.capture==R){var Ut=Ie.listener,An=Ie.ha||Ie.src;Ie.fa&&G(_.i,Ie),ee=Ut.call(An,V)!==!1&&ee}}return ee&&!V.defaultPrevented}function xa(_,k,R){if(typeof _=="function")R&&(_=h(_,R));else if(_&&typeof _.handleEvent=="function")_=h(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:s.setTimeout(_,k||0)}function hl(_){_.g=xa(()=>{_.g=null,_.i&&(_.i=!1,hl(_))},_.l);const k=_.h;_.h=null,_.m.apply(null,k)}class Cp extends Y{constructor(k,R){super(),this.m=k,this.l=R,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:hl(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ya(_){Y.call(this),this.h=_,this.g={}}m(Ya,Y);var pl=[];function Qc(_){C(_.g,function(k,R){this.g.hasOwnProperty(R)&&xe(k)},_),_.g={}}Ya.prototype.N=function(){Ya.aa.N.call(this),Qc(this)},Ya.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oo=s.JSON.stringify,wa=s.JSON.parse,ve=class{stringify(_){return s.JSON.stringify(_,void 0)}parse(_){return s.JSON.parse(_,void 0)}};function Ae(){}Ae.prototype.h=null;function $e(_){return _.h||(_.h=_.i())}function qe(){}var Tt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kr(){Q.call(this,"d")}m(Kr,Q);function ci(){Q.call(this,"c")}m(ci,Q);var ps={},dR=null;function Y0(){return dR=dR||new Zt}ps.La="serverreachability";function fR(_){Q.call(this,ps.La,_)}m(fR,Q);function Tp(_){const k=Y0();Dt(k,new fR(k))}ps.STAT_EVENT="statevent";function hR(_,k){Q.call(this,ps.STAT_EVENT,_),this.stat=k}m(hR,Q);function ui(_){const k=Y0();Dt(k,new hR(k,_))}ps.Ma="timingevent";function pR(_,k){Q.call(this,ps.Ma,_),this.size=k}m(pR,Q);function Np(_,k){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){_()},k)}function Ip(){this.g=!0}Ip.prototype.xa=function(){this.g=!1};function Zre(_,k,R,V,ee,ae){_.info(function(){if(_.g)if(ae)for(var Ie="",Ut=ae.split("&"),An=0;An<Ut.length;An++){var bt=Ut[An].split("=");if(1<bt.length){var $n=bt[0];bt=bt[1];var Fn=$n.split("_");Ie=2<=Fn.length&&Fn[1]=="type"?Ie+($n+"="+bt+"&"):Ie+($n+"=redacted&")}}else Ie=null;else Ie=ae;return"XMLHTTP REQ ("+V+") [attempt "+ee+"]: "+k+`
`+R+`
`+Ie})}function Jre(_,k,R,V,ee,ae,Ie){_.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+ee+"]: "+k+`
`+R+`
`+ae+" "+Ie})}function Pd(_,k,R,V){_.info(function(){return"XMLHTTP TEXT ("+k+"): "+tne(_,R)+(V?" "+V:"")})}function ene(_,k){_.info(function(){return"TIMEOUT: "+k})}Ip.prototype.info=function(){};function tne(_,k){if(!_.g)return k;if(!k)return null;try{var R=JSON.parse(k);if(R){for(_=0;_<R.length;_++)if(Array.isArray(R[_])){var V=R[_];if(!(2>V.length)){var ee=V[1];if(Array.isArray(ee)&&!(1>ee.length)){var ae=ee[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var Ie=1;Ie<ee.length;Ie++)ee[Ie]=""}}}}return Oo(R)}catch{return k}}var X0={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mR={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},uS;function Q0(){}m(Q0,Ae),Q0.prototype.g=function(){return new XMLHttpRequest},Q0.prototype.i=function(){return{}},uS=new Q0;function ml(_,k,R,V){this.j=_,this.i=k,this.l=R,this.R=V||1,this.U=new Ya(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gR}function gR(){this.i=null,this.g="",this.h=!1}var vR={},dS={};function fS(_,k,R){_.L=1,_.v=ty(ms(k)),_.m=R,_.P=!0,yR(_,null)}function yR(_,k){_.F=Date.now(),Z0(_),_.A=ms(_.v);var R=_.A,V=_.R;Array.isArray(V)||(V=[String(V)]),jR(R.i,"t",V),_.C=0,R=_.j.J,_.h=new gR,_.g=XR(_.j,R?k:null,!_.m),0<_.O&&(_.M=new Cp(h(_.Y,_,_.g),_.O)),k=_.U,R=_.g,V=_.ca;var ee="readystatechange";Array.isArray(ee)||(ee&&(pl[0]=ee.toString()),ee=pl);for(var ae=0;ae<ee.length;ae++){var Ie=ne(R,ee[ae],V||k.handleEvent,!1,k.h||k);if(!Ie)break;k.g[Ie.key]=Ie}k=_.H?T(_.H):{},_.m?(_.u||(_.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,k)):(_.u="GET",_.g.ea(_.A,_.u,null,k)),Tp(),Zre(_.i,_.u,_.A,_.l,_.R,_.m)}ml.prototype.ca=function(_){_=_.target;const k=this.M;k&&gs(_)==3?k.j():this.Y(_)},ml.prototype.Y=function(_){try{if(_==this.g)e:{const Fn=gs(this.g);var k=this.g.Ba();const kd=this.g.Z();if(!(3>Fn)&&(Fn!=3||this.g&&(this.h.h||this.g.oa()||FR(this.g)))){this.J||Fn!=4||k==7||(k==8||0>=kd?Tp(3):Tp(2)),hS(this);var R=this.g.Z();this.X=R;t:if(xR(this)){var V=FR(this.g);_="";var ee=V.length,ae=gs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zc(this),Pp(this);var Ie="";break t}this.h.i=new s.TextDecoder}for(k=0;k<ee;k++)this.h.h=!0,_+=this.h.i.decode(V[k],{stream:!(ae&&k==ee-1)});V.length=0,this.h.g+=_,this.C=0,Ie=this.h.g}else Ie=this.g.oa();if(this.o=R==200,Jre(this.i,this.u,this.A,this.l,this.R,Fn,R),this.o){if(this.T&&!this.K){t:{if(this.g){var Ut,An=this.g;if((Ut=An.g?An.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ut)){var bt=Ut;break t}}bt=null}if(R=bt)Pd(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pS(this,R);else{this.o=!1,this.s=3,ui(12),Zc(this),Pp(this);break e}}if(this.P){R=!0;let Xa;for(;!this.J&&this.C<Ie.length;)if(Xa=rne(this,Ie),Xa==dS){Fn==4&&(this.s=4,ui(14),R=!1),Pd(this.i,this.l,null,"[Incomplete Response]");break}else if(Xa==vR){this.s=4,ui(15),Pd(this.i,this.l,Ie,"[Invalid Chunk]"),R=!1;break}else Pd(this.i,this.l,Xa,null),pS(this,Xa);if(xR(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fn!=4||Ie.length!=0||this.h.h||(this.s=1,ui(16),R=!1),this.o=this.o&&R,!R)Pd(this.i,this.l,Ie,"[Invalid Chunked Response]"),Zc(this),Pp(this);else if(0<Ie.length&&!this.W){this.W=!0;var $n=this.j;$n.g==this&&$n.ba&&!$n.M&&($n.j.info("Great, no buffering proxy detected. Bytes received: "+Ie.length),wS($n),$n.M=!0,ui(11))}}else Pd(this.i,this.l,Ie,null),pS(this,Ie);Fn==4&&Zc(this),this.o&&!this.J&&(Fn==4?GR(this.j,this):(this.o=!1,Z0(this)))}else xne(this.g),R==400&&0<Ie.indexOf("Unknown SID")?(this.s=3,ui(12)):(this.s=0,ui(13)),Zc(this),Pp(this)}}}catch{}finally{}};function xR(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function rne(_,k){var R=_.C,V=k.indexOf(`
`,R);return V==-1?dS:(R=Number(k.substring(R,V)),isNaN(R)?vR:(V+=1,V+R>k.length?dS:(k=k.slice(V,V+R),_.C=V+R,k)))}ml.prototype.cancel=function(){this.J=!0,Zc(this)};function Z0(_){_.S=Date.now()+_.I,wR(_,_.I)}function wR(_,k){if(_.B!=null)throw Error("WatchDog timer not null");_.B=Np(h(_.ba,_),k)}function hS(_){_.B&&(s.clearTimeout(_.B),_.B=null)}ml.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(ene(this.i,this.A),this.L!=2&&(Tp(),ui(17)),Zc(this),this.s=2,Pp(this)):wR(this,this.S-_)};function Pp(_){_.j.G==0||_.J||GR(_.j,_)}function Zc(_){hS(_);var k=_.M;k&&typeof k.ma=="function"&&k.ma(),_.M=null,Qc(_.U),_.g&&(k=_.g,_.g=null,k.abort(),k.ma())}function pS(_,k){try{var R=_.j;if(R.G!=0&&(R.g==_||mS(R.h,_))){if(!_.K&&mS(R.h,_)&&R.G==3){try{var V=R.Da.g.parse(k)}catch{V=null}if(Array.isArray(V)&&V.length==3){var ee=V;if(ee[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<_.F)sy(R),ay(R);else break e;xS(R),ui(18)}}else R.za=ee[1],0<R.za-R.T&&37500>ee[2]&&R.F&&R.v==0&&!R.C&&(R.C=Np(h(R.Za,R),6e3));if(1>=SR(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else eu(R,11)}else if((_.K||R.g==_)&&sy(R),!y(k))for(ee=R.Da.g.parse(k),k=0;k<ee.length;k++){let bt=ee[k];if(R.T=bt[0],bt=bt[1],R.G==2)if(bt[0]=="c"){R.K=bt[1],R.ia=bt[2];const $n=bt[3];$n!=null&&(R.la=$n,R.j.info("VER="+R.la));const Fn=bt[4];Fn!=null&&(R.Aa=Fn,R.j.info("SVER="+R.Aa));const kd=bt[5];kd!=null&&typeof kd=="number"&&0<kd&&(V=1.5*kd,R.L=V,R.j.info("backChannelRequestTimeoutMs_="+V)),V=R;const Xa=_.g;if(Xa){const cy=Xa.g?Xa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cy){var ae=V.h;ae.g||cy.indexOf("spdy")==-1&&cy.indexOf("quic")==-1&&cy.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(gS(ae,ae.h),ae.h=null))}if(V.D){const bS=Xa.g?Xa.g.getResponseHeader("X-HTTP-Session-Id"):null;bS&&(V.ya=bS,Jt(V.I,V.D,bS))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-_.F,R.j.info("Handshake RTT: "+R.R+"ms")),V=R;var Ie=_;if(V.qa=YR(V,V.J?V.ia:null,V.W),Ie.K){ER(V.h,Ie);var Ut=Ie,An=V.L;An&&(Ut.I=An),Ut.B&&(hS(Ut),Z0(Ut)),V.g=Ie}else WR(V);0<R.i.length&&oy(R)}else bt[0]!="stop"&&bt[0]!="close"||eu(R,7);else R.G==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?eu(R,7):yS(R):bt[0]!="noop"&&R.l&&R.l.ta(bt),R.v=0)}}Tp(4)}catch{}}var nne=class{constructor(_,k){this.g=_,this.map=k}};function bR(_){this.l=_||10,s.PerformanceNavigationTiming?(_=s.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _R(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function SR(_){return _.h?1:_.g?_.g.size:0}function mS(_,k){return _.h?_.h==k:_.g?_.g.has(k):!1}function gS(_,k){_.g?_.g.add(k):_.h=k}function ER(_,k){_.h&&_.h==k?_.h=null:_.g&&_.g.has(k)&&_.g.delete(k)}bR.prototype.cancel=function(){if(this.i=AR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function AR(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let k=_.i;for(const R of _.g.values())k=k.concat(R.D);return k}return g(_.i)}function ine(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(l(_)){for(var k=[],R=_.length,V=0;V<R;V++)k.push(_[V]);return k}k=[],R=0;for(V in _)k[R++]=_[V];return k}function ane(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(l(_)||typeof _=="string"){var k=[];_=_.length;for(var R=0;R<_;R++)k.push(R);return k}k=[],R=0;for(const V in _)k[R++]=V;return k}}}function CR(_,k){if(_.forEach&&typeof _.forEach=="function")_.forEach(k,void 0);else if(l(_)||typeof _=="string")Array.prototype.forEach.call(_,k,void 0);else for(var R=ane(_),V=ine(_),ee=V.length,ae=0;ae<ee;ae++)k.call(void 0,V[ae],R&&R[ae],_)}var TR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function one(_,k){if(_){_=_.split("&");for(var R=0;R<_.length;R++){var V=_[R].indexOf("="),ee=null;if(0<=V){var ae=_[R].substring(0,V);ee=_[R].substring(V+1)}else ae=_[R];k(ae,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function Jc(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof Jc){this.h=_.h,J0(this,_.j),this.o=_.o,this.g=_.g,ey(this,_.s),this.l=_.l;var k=_.i,R=new kp;R.i=k.i,k.g&&(R.g=new Map(k.g),R.h=k.h),NR(this,R),this.m=_.m}else _&&(k=String(_).match(TR))?(this.h=!1,J0(this,k[1]||"",!0),this.o=Op(k[2]||""),this.g=Op(k[3]||"",!0),ey(this,k[4]),this.l=Op(k[5]||"",!0),NR(this,k[6]||"",!0),this.m=Op(k[7]||"")):(this.h=!1,this.i=new kp(null,this.h))}Jc.prototype.toString=function(){var _=[],k=this.j;k&&_.push(jp(k,IR,!0),":");var R=this.g;return(R||k=="file")&&(_.push("//"),(k=this.o)&&_.push(jp(k,IR,!0),"@"),_.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&_.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&_.push("/"),_.push(jp(R,R.charAt(0)=="/"?cne:lne,!0))),(R=this.i.toString())&&_.push("?",R),(R=this.m)&&_.push("#",jp(R,dne)),_.join("")};function ms(_){return new Jc(_)}function J0(_,k,R){_.j=R?Op(k,!0):k,_.j&&(_.j=_.j.replace(/:$/,""))}function ey(_,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);_.s=k}else _.s=null}function NR(_,k,R){k instanceof kp?(_.i=k,fne(_.i,_.h)):(R||(k=jp(k,une)),_.i=new kp(k,_.h))}function Jt(_,k,R){_.i.set(k,R)}function ty(_){return Jt(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function Op(_,k){return _?k?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function jp(_,k,R){return typeof _=="string"?(_=encodeURI(_).replace(k,sne),R&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function sne(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var IR=/[#\/\?@]/g,lne=/[#\?:]/g,cne=/[#\?]/g,une=/[#\?@]/g,dne=/#/g;function kp(_,k){this.h=this.g=null,this.i=_||null,this.j=!!k}function gl(_){_.g||(_.g=new Map,_.h=0,_.i&&one(_.i,function(k,R){_.add(decodeURIComponent(k.replace(/\+/g," ")),R)}))}t=kp.prototype,t.add=function(_,k){gl(this),this.i=null,_=Od(this,_);var R=this.g.get(_);return R||this.g.set(_,R=[]),R.push(k),this.h+=1,this};function PR(_,k){gl(_),k=Od(_,k),_.g.has(k)&&(_.i=null,_.h-=_.g.get(k).length,_.g.delete(k))}function OR(_,k){return gl(_),k=Od(_,k),_.g.has(k)}t.forEach=function(_,k){gl(this),this.g.forEach(function(R,V){R.forEach(function(ee){_.call(k,ee,V,this)},this)},this)},t.na=function(){gl(this);const _=Array.from(this.g.values()),k=Array.from(this.g.keys()),R=[];for(let V=0;V<k.length;V++){const ee=_[V];for(let ae=0;ae<ee.length;ae++)R.push(k[V])}return R},t.V=function(_){gl(this);let k=[];if(typeof _=="string")OR(this,_)&&(k=k.concat(this.g.get(Od(this,_))));else{_=Array.from(this.g.values());for(let R=0;R<_.length;R++)k=k.concat(_[R])}return k},t.set=function(_,k){return gl(this),this.i=null,_=Od(this,_),OR(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[k]),this.h+=1,this},t.get=function(_,k){return _?(_=this.V(_),0<_.length?String(_[0]):k):k};function jR(_,k,R){PR(_,k),0<R.length&&(_.i=null,_.g.set(Od(_,k),g(R)),_.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],k=Array.from(this.g.keys());for(var R=0;R<k.length;R++){var V=k[R];const ae=encodeURIComponent(String(V)),Ie=this.V(V);for(V=0;V<Ie.length;V++){var ee=ae;Ie[V]!==""&&(ee+="="+encodeURIComponent(String(Ie[V]))),_.push(ee)}}return this.i=_.join("&")};function Od(_,k){return k=String(k),_.j&&(k=k.toLowerCase()),k}function fne(_,k){k&&!_.j&&(gl(_),_.i=null,_.g.forEach(function(R,V){var ee=V.toLowerCase();V!=ee&&(PR(this,V),jR(this,ee,R))},_)),_.j=k}function hne(_,k){const R=new Ip;if(s.Image){const V=new Image;V.onload=p(vl,R,"TestLoadImage: loaded",!0,k,V),V.onerror=p(vl,R,"TestLoadImage: error",!1,k,V),V.onabort=p(vl,R,"TestLoadImage: abort",!1,k,V),V.ontimeout=p(vl,R,"TestLoadImage: timeout",!1,k,V),s.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=_}else k(!1)}function pne(_,k){const R=new Ip,V=new AbortController,ee=setTimeout(()=>{V.abort(),vl(R,"TestPingServer: timeout",!1,k)},1e4);fetch(_,{signal:V.signal}).then(ae=>{clearTimeout(ee),ae.ok?vl(R,"TestPingServer: ok",!0,k):vl(R,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(ee),vl(R,"TestPingServer: error",!1,k)})}function vl(_,k,R,V,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),V(R)}catch{}}function mne(){this.g=new ve}function gne(_,k,R){const V=R||"";try{CR(_,function(ee,ae){let Ie=ee;u(ee)&&(Ie=Oo(ee)),k.push(V+ae+"="+encodeURIComponent(Ie))})}catch(ee){throw k.push(V+"type="+encodeURIComponent("_badmap")),ee}}function ry(_){this.l=_.Ub||null,this.j=_.eb||!1}m(ry,Ae),ry.prototype.g=function(){return new ny(this.l,this.j)},ry.prototype.i=function(_){return function(){return _}}({});function ny(_,k){Zt.call(this),this.D=_,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(ny,Zt),t=ny.prototype,t.open=function(_,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=k,this.readyState=1,Dp(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(k.body=_),(this.D||s).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rp(this)),this.readyState=0},t.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,Dp(this)),this.g&&(this.readyState=3,Dp(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kR(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function kR(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}t.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var k=_.value?_.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!_.done}))&&(this.response=this.responseText+=k)}_.done?Rp(this):Dp(this),this.readyState==3&&kR(this)}},t.Ra=function(_){this.g&&(this.response=this.responseText=_,Rp(this))},t.Qa=function(_){this.g&&(this.response=_,Rp(this))},t.ga=function(){this.g&&Rp(this)};function Rp(_){_.readyState=4,_.l=null,_.j=null,_.v=null,Dp(_)}t.setRequestHeader=function(_,k){this.u.append(_,k)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],k=this.h.entries();for(var R=k.next();!R.done;)R=R.value,_.push(R[0]+": "+R[1]),R=k.next();return _.join(`\r
`)};function Dp(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(ny.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function RR(_){let k="";return C(_,function(R,V){k+=V,k+=":",k+=R,k+=`\r
`}),k}function vS(_,k,R){e:{for(V in R){var V=!1;break e}V=!0}V||(R=RR(R),typeof _=="string"?R!=null&&encodeURIComponent(String(R)):Jt(_,k,R))}function Cr(_){Zt.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(Cr,Zt);var vne=/^https?$/i,yne=["POST","PUT"];t=Cr.prototype,t.Ha=function(_){this.J=_},t.ea=function(_,k,R,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);k=k?k.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():uS.g(),this.v=this.o?$e(this.o):$e(uS),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(k,String(_),!0),this.B=!1}catch(ae){DR(this,ae);return}if(_=R||"",R=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var ee in V)R.set(ee,V[ee]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const ae of V.keys())R.set(ae,V.get(ae));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(R.keys()).find(ae=>ae.toLowerCase()=="content-type"),ee=s.FormData&&_ instanceof s.FormData,!(0<=Array.prototype.indexOf.call(yne,k,void 0))||V||ee||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,Ie]of R)this.g.setRequestHeader(ae,Ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$R(this),this.u=!0,this.g.send(_),this.u=!1}catch(ae){DR(this,ae)}};function DR(_,k){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=k,_.m=5,MR(_),iy(_)}function MR(_){_.A||(_.A=!0,Dt(_,"complete"),Dt(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,Dt(this,"complete"),Dt(this,"abort"),iy(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),iy(this,!0)),Cr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?LR(this):this.bb())},t.bb=function(){LR(this)};function LR(_){if(_.h&&typeof o<"u"&&(!_.v[1]||gs(_)!=4||_.Z()!=2)){if(_.u&&gs(_)==4)xa(_.Ea,0,_);else if(Dt(_,"readystatechange"),gs(_)==4){_.h=!1;try{const Ie=_.Z();e:switch(Ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var R;if(!(R=k)){var V;if(V=Ie===0){var ee=String(_.D).match(TR)[1]||null;!ee&&s.self&&s.self.location&&(ee=s.self.location.protocol.slice(0,-1)),V=!vne.test(ee?ee.toLowerCase():"")}R=V}if(R)Dt(_,"complete"),Dt(_,"success");else{_.m=6;try{var ae=2<gs(_)?_.g.statusText:""}catch{ae=""}_.l=ae+" ["+_.Z()+"]",MR(_)}}finally{iy(_)}}}}function iy(_,k){if(_.g){$R(_);const R=_.g,V=_.v[0]?()=>{}:null;_.g=null,_.v=null,k||Dt(_,"ready");try{R.onreadystatechange=V}catch{}}}function $R(_){_.I&&(s.clearTimeout(_.I),_.I=null)}t.isActive=function(){return!!this.g};function gs(_){return _.g?_.g.readyState:0}t.Z=function(){try{return 2<gs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(_){if(this.g){var k=this.g.responseText;return _&&k.indexOf(_)==0&&(k=k.substring(_.length)),wa(k)}};function FR(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function xne(_){const k={};_=(_.g&&2<=gs(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<_.length;V++){if(y(_[V]))continue;var R=j(_[V]);const ee=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const ae=k[ee]||[];k[ee]=ae,ae.push(R)}A(k,function(V){return V.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mp(_,k,R){return R&&R.internalChannelParams&&R.internalChannelParams[_]||k}function BR(_){this.Aa=0,this.i=[],this.j=new Ip,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mp("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mp("baseRetryDelayMs",5e3,_),this.cb=Mp("retryDelaySeedMs",1e4,_),this.Wa=Mp("forwardChannelMaxRetries",2,_),this.wa=Mp("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new bR(_&&_.concurrentRequestLimit),this.Da=new mne,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=BR.prototype,t.la=8,t.G=1,t.connect=function(_,k,R,V){ui(0),this.W=_,this.H=k||{},R&&V!==void 0&&(this.H.OSID=R,this.H.OAID=V),this.F=this.X,this.I=YR(this,null,this.W),oy(this)};function yS(_){if(UR(_),_.G==3){var k=_.U++,R=ms(_.I);if(Jt(R,"SID",_.K),Jt(R,"RID",k),Jt(R,"TYPE","terminate"),Lp(_,R),k=new ml(_,_.j,k),k.L=2,k.v=ty(ms(R)),R=!1,s.navigator&&s.navigator.sendBeacon)try{R=s.navigator.sendBeacon(k.v.toString(),"")}catch{}!R&&s.Image&&(new Image().src=k.v,R=!0),R||(k.g=XR(k.j,null),k.g.ea(k.v)),k.F=Date.now(),Z0(k)}KR(_)}function ay(_){_.g&&(wS(_),_.g.cancel(),_.g=null)}function UR(_){ay(_),_.u&&(s.clearTimeout(_.u),_.u=null),sy(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&s.clearTimeout(_.s),_.s=null)}function oy(_){if(!_R(_.h)&&!_.s){_.s=!0;var k=_.Ga;W||X(),$||(W(),$=!0),U.add(k,_),_.B=0}}function wne(_,k){return SR(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=k.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=Np(h(_.Ga,_,k),qR(_,_.B)),_.B++,!0)}t.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const ee=new ml(this,this.j,_);let ae=this.o;if(this.S&&(ae?(ae=T(ae),I(ae,this.S)):ae=this.S),this.m!==null||this.O||(ee.H=ae,ae=null),this.P)e:{for(var k=0,R=0;R<this.i.length;R++){t:{var V=this.i[R];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(k+=V,4096<k){k=R;break e}if(k===4096||R===this.i.length-1){k=R+1;break e}}k=1e3}else k=1e3;k=zR(this,ee,k),R=ms(this.I),Jt(R,"RID",_),Jt(R,"CVER",22),this.D&&Jt(R,"X-HTTP-Session-Id",this.D),Lp(this,R),ae&&(this.O?k="headers="+encodeURIComponent(String(RR(ae)))+"&"+k:this.m&&vS(R,this.m,ae)),gS(this.h,ee),this.Ua&&Jt(R,"TYPE","init"),this.P?(Jt(R,"$req",k),Jt(R,"SID","null"),ee.T=!0,fS(ee,R,null)):fS(ee,R,k),this.G=2}}else this.G==3&&(_?VR(this,_):this.i.length==0||_R(this.h)||VR(this))};function VR(_,k){var R;k?R=k.l:R=_.U++;const V=ms(_.I);Jt(V,"SID",_.K),Jt(V,"RID",R),Jt(V,"AID",_.T),Lp(_,V),_.m&&_.o&&vS(V,_.m,_.o),R=new ml(_,_.j,R,_.B+1),_.m===null&&(R.H=_.o),k&&(_.i=k.D.concat(_.i)),k=zR(_,R,1e3),R.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),gS(_.h,R),fS(R,V,k)}function Lp(_,k){_.H&&C(_.H,function(R,V){Jt(k,V,R)}),_.l&&CR({},function(R,V){Jt(k,V,R)})}function zR(_,k,R){R=Math.min(_.i.length,R);var V=_.l?h(_.l.Na,_.l,_):null;e:{var ee=_.i;let ae=-1;for(;;){const Ie=["count="+R];ae==-1?0<R?(ae=ee[0].g,Ie.push("ofs="+ae)):ae=0:Ie.push("ofs="+ae);let Ut=!0;for(let An=0;An<R;An++){let bt=ee[An].g;const $n=ee[An].map;if(bt-=ae,0>bt)ae=Math.max(0,ee[An].g-100),Ut=!1;else try{gne($n,Ie,"req"+bt+"_")}catch{V&&V($n)}}if(Ut){V=Ie.join("&");break e}}}return _=_.i.splice(0,R),k.D=_,V}function WR(_){if(!_.g&&!_.u){_.Y=1;var k=_.Fa;W||X(),$||(W(),$=!0),U.add(k,_),_.v=0}}function xS(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=Np(h(_.Fa,_),qR(_,_.v)),_.v++,!0)}t.Fa=function(){if(this.u=null,HR(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=Np(h(this.ab,this),_)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ui(10),ay(this),HR(this))};function wS(_){_.A!=null&&(s.clearTimeout(_.A),_.A=null)}function HR(_){_.g=new ml(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var k=ms(_.qa);Jt(k,"RID","rpc"),Jt(k,"SID",_.K),Jt(k,"AID",_.T),Jt(k,"CI",_.F?"0":"1"),!_.F&&_.ja&&Jt(k,"TO",_.ja),Jt(k,"TYPE","xmlhttp"),Lp(_,k),_.m&&_.o&&vS(k,_.m,_.o),_.L&&(_.g.I=_.L);var R=_.g;_=_.ia,R.L=1,R.v=ty(ms(k)),R.m=null,R.P=!0,yR(R,_)}t.Za=function(){this.C!=null&&(this.C=null,ay(this),xS(this),ui(19))};function sy(_){_.C!=null&&(s.clearTimeout(_.C),_.C=null)}function GR(_,k){var R=null;if(_.g==k){sy(_),wS(_),_.g=null;var V=2}else if(mS(_.h,k))R=k.D,ER(_.h,k),V=1;else return;if(_.G!=0){if(k.o)if(V==1){R=k.m?k.m.length:0,k=Date.now()-k.F;var ee=_.B;V=Y0(),Dt(V,new pR(V,R)),oy(_)}else WR(_);else if(ee=k.s,ee==3||ee==0&&0<k.X||!(V==1&&wne(_,k)||V==2&&xS(_)))switch(R&&0<R.length&&(k=_.h,k.i=k.i.concat(R)),ee){case 1:eu(_,5);break;case 4:eu(_,10);break;case 3:eu(_,6);break;default:eu(_,2)}}}function qR(_,k){let R=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(R*=2),R*k}function eu(_,k){if(_.j.info("Error code "+k),k==2){var R=h(_.fb,_),V=_.Xa;const ee=!V;V=new Jc(V||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||J0(V,"https"),ty(V),ee?hne(V.toString(),R):pne(V.toString(),R)}else ui(2);_.G=0,_.l&&_.l.sa(k),KR(_),UR(_)}t.fb=function(_){_?(this.j.info("Successfully pinged google.com"),ui(2)):(this.j.info("Failed to ping google.com"),ui(1))};function KR(_){if(_.G=0,_.ka=[],_.l){const k=AR(_.h);(k.length!=0||_.i.length!=0)&&(v(_.ka,k),v(_.ka,_.i),_.h.i.length=0,g(_.i),_.i.length=0),_.l.ra()}}function YR(_,k,R){var V=R instanceof Jc?ms(R):new Jc(R);if(V.g!="")k&&(V.g=k+"."+V.g),ey(V,V.s);else{var ee=s.location;V=ee.protocol,k=k?k+"."+ee.hostname:ee.hostname,ee=+ee.port;var ae=new Jc(null);V&&J0(ae,V),k&&(ae.g=k),ee&&ey(ae,ee),R&&(ae.l=R),V=ae}return R=_.D,k=_.ya,R&&k&&Jt(V,R,k),Jt(V,"VER",_.la),Lp(_,V),V}function XR(_,k,R){if(k&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=_.Ca&&!_.pa?new Cr(new ry({eb:R})):new Cr(_.pa),k.Ha(_.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function QR(){}t=QR.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ly(){}ly.prototype.g=function(_,k){return new Zi(_,k)};function Zi(_,k){Zt.call(this),this.g=new BR(k),this.l=_,this.h=k&&k.messageUrlParams||null,_=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(_?_["X-WebChannel-Content-Type"]=k.messageContentType:_={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(_?_["X-WebChannel-Client-Profile"]=k.va:_={"X-WebChannel-Client-Profile":k.va}),this.g.S=_,(_=k&&k.Sb)&&!y(_)&&(this.g.m=_),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!y(k)&&(this.g.D=k,_=this.h,_!==null&&k in _&&(_=this.h,k in _&&delete _[k])),this.j=new jd(this)}m(Zi,Zt),Zi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zi.prototype.close=function(){yS(this.g)},Zi.prototype.o=function(_){var k=this.g;if(typeof _=="string"){var R={};R.__data__=_,_=R}else this.u&&(R={},R.__data__=Oo(_),_=R);k.i.push(new nne(k.Ya++,_)),k.G==3&&oy(k)},Zi.prototype.N=function(){this.g.l=null,delete this.j,yS(this.g),delete this.g,Zi.aa.N.call(this)};function ZR(_){Kr.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var k=_.__sm__;if(k){e:{for(const R in k){_=R;break e}_=void 0}(this.i=_)&&(_=this.i,k=k!==null&&_ in k?k[_]:void 0),this.data=k}else this.data=_}m(ZR,Kr);function JR(){ci.call(this),this.status=1}m(JR,ci);function jd(_){this.g=_}m(jd,QR),jd.prototype.ua=function(){Dt(this.g,"a")},jd.prototype.ta=function(_){Dt(this.g,new ZR(_))},jd.prototype.sa=function(_){Dt(this.g,new JR)},jd.prototype.ra=function(){Dt(this.g,"b")},ly.prototype.createWebChannel=ly.prototype.g,Zi.prototype.send=Zi.prototype.o,Zi.prototype.open=Zi.prototype.m,Zi.prototype.close=Zi.prototype.close,$z=function(){return new ly},Lz=function(){return Y0()},Mz=ps,lT={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},X0.NO_ERROR=0,X0.TIMEOUT=8,X0.HTTP_ERROR=6,R1=X0,mR.COMPLETE="complete",Dz=mR,qe.EventType=Tt,Tt.OPEN="a",Tt.CLOSE="b",Tt.ERROR="c",Tt.MESSAGE="d",Zt.prototype.listen=Zt.prototype.K,Em=qe,Cr.prototype.listenOnce=Cr.prototype.L,Cr.prototype.getLastError=Cr.prototype.Ka,Cr.prototype.getLastErrorCode=Cr.prototype.Ba,Cr.prototype.getStatus=Cr.prototype.Z,Cr.prototype.getResponseJson=Cr.prototype.Oa,Cr.prototype.getResponseText=Cr.prototype.oa,Cr.prototype.send=Cr.prototype.ea,Cr.prototype.setWithCredentials=Cr.prototype.Ha,Rz=Cr}).apply(typeof Oy<"u"?Oy:typeof self<"u"?self:typeof window<"u"?window:{});const QD="@firebase/firestore",ZD="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yn.UNAUTHENTICATED=new Yn(null),Yn.GOOGLE_CREDENTIALS=new Yn("google-credentials-uid"),Yn.FIRST_PARTY=new Yn("first-party-uid"),Yn.MOCK_USER=new Yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=new u2("@firebase/firestore");function zd(){return qu.logLevel}function ke(t,...e){if(qu.logLevel<=ut.DEBUG){const r=e.map(jO);qu.debug(`Firestore (${Zh}): ${t}`,...r)}}function Qs(t,...e){if(qu.logLevel<=ut.ERROR){const r=e.map(jO);qu.error(`Firestore (${Zh}): ${t}`,...r)}}function Yf(t,...e){if(qu.logLevel<=ut.WARN){const r=e.map(jO);qu.warn(`Firestore (${Zh}): ${t}`,...r)}}function jO(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,Fz(t,n,r)}function Fz(t,e,r){let n=`FIRESTORE (${Zh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Qs(n),new Error(n)}function Er(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||Fz(e,i,n)}function vt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends Wa{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mfe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Yn.UNAUTHENTICATED))}shutdown(){}}class Lfe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class $fe{constructor(e){this.t=e,this.currentUser=Yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Er(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new oc;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new oc,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new oc)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Er(typeof n.accessToken=="string",31837,{l:n}),new Bz(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Er(e===null||typeof e=="string",2055,{h:e}),new Yn(e)}}class Ffe{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Bfe{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Ffe(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ufe{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ri(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Er(this.o===void 0,3512);const n=a=>{a.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,ke("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new JD(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Er(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new JD(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vfe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=Vfe(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function ot(t,e){return t<e?-1:t>e?1:0}function cT(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),i=e.codePointAt(r);if(n!==i){if(n<128&&i<128)return ot(n,i);{const a=Uz(),o=zfe(a.encode(eM(t,r)),a.encode(eM(e,r)));return o!==0?o:ot(n,i)}}r+=n>65535?2:1}return ot(t.length,e.length)}function eM(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function zfe(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return ot(t[r],e[r]);return ot(t.length,e.length)}function Xf(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=-62135596800,rM=1e6;class Vi{static now(){return Vi.fromMillis(Date.now())}static fromDate(e){return Vi.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*rM);return new Vi(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ve(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ve(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<tM)throw new Ve(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rM}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-tM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new Vi(0,0))}static max(){return new Xe(new Vi(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM="__name__";class Do{constructor(e,r,n){r===void 0?r=0:r>e.length&&Qe(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&Qe(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Do.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Do?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=Do.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return ot(e.length,r.length)}static compareSegments(e,r){const n=Do.isNumericId(e),i=Do.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Do.extractNumericId(e).compare(Do.extractNumericId(r)):cT(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ac.fromString(e.substring(4,e.length-2))}}class fr extends Do{construct(e,r,n){return new fr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ve(Pe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new fr(r)}static emptyPath(){return new fr([])}}const Wfe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xi extends Do{construct(e,r,n){return new xi(e,r,n)}static isValidIdentifier(e){return Wfe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nM}static keyField(){return new xi([nM])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Ve(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new Ve(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ve(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new Ve(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xi(r)}static emptyPath(){return new xi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.path=e}static fromPath(e){return new He(fr.fromString(e))}static fromName(e){return new He(fr.fromString(e).popFirst(5))}static empty(){return new He(fr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&fr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return fr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new fr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg=-1;function Hfe(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Xe.fromTimestamp(n===1e9?new Vi(r+1,0):new Vi(r,n));return new bc(i,He.empty(),e)}function Gfe(t){return new bc(t.readTime,t.key,Fg)}class bc{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new bc(Xe.min(),He.empty(),Fg)}static max(){return new bc(Xe.max(),He.empty(),Fg)}}function qfe(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=He.comparator(t.documentKey,e.documentKey),r!==0?r:ot(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kfe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yfe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(t){if(t.code!==Pe.FAILED_PRECONDITION||t.message!==Kfe)throw t;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ge((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ge?r:ge.resolve(r)}catch(r){return ge.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ge.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ge.reject(r)}static resolve(e){return new ge((r,n)=>{r(e)})}static reject(e){return new ge((r,n)=>{n(e)})}static waitFor(e){return new ge((r,n)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&r()},l=>n(l))}),o=!0,a===i&&r()})}static or(e){let r=ge.resolve(!1);for(const n of e)r=r.next(i=>i?ge.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new ge((n,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;r(e[u]).next(d=>{o[u]=d,++s,s===a&&n(o)},d=>i(d))}})}static doWhile(e,r){return new ge((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function Xfe(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Jh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}h2.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qfe=-1;function p2(t){return t==null}function uT(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz="";function Zfe(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=iM(e)),e=Jfe(t.get(r),e);return iM(e)}function Jfe(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case zz:r+="";break;default:r+=a}}return r}function iM(t){return t+zz+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function p0(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function ehe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,r){this.comparator=e,this.root=r||Pn.EMPTY}insert(e,r){return new Fr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Pn.BLACK,null,null))}remove(e){return new Fr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jy(this.root,e,this.comparator,!1)}getReverseIterator(){return new jy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jy(this.root,e,this.comparator,!0)}}class jy{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pn{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??Pn.RED,this.left=i??Pn.EMPTY,this.right=a??Pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new Pn(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Pn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Qe(27949);return e+(this.isRed()?0:1)}}Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1;Pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe(57766)}get value(){throw Qe(16141)}get color(){throw Qe(16727)}get left(){throw Qe(29726)}get right(){throw Qe(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new Pn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.comparator=e,this.data=new Fr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new oM(this.data.getIterator())}getIteratorFrom(e){return new oM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new ln(this.comparator);return r.data=e,r}}class oM{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this.fields=e,e.sort(xi.comparator)}static empty(){return new Wl([])}unionWith(e){let r=new ln(xi.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Wl(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Xf(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Wz("Invalid base64 string: "+a):a}}(e);return new Mn(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new Mn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const the=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _c(t){if(Er(!!t,39018),typeof t=="string"){let e=0;const r=the.exec(t);if(Er(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Dr(t.seconds),nanos:Dr(t.nanos)}}function Dr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Sc(t){return typeof t=="string"?Mn.fromBase64String(t):Mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz="server_timestamp",Gz="__type__",qz="__previous_value__",Kz="__local_write_time__";function kO(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Gz])===null||r===void 0?void 0:r.stringValue)===Hz}function m2(t){const e=t.mapValue.fields[qz];return kO(e)?m2(e):e}function Bg(t){const e=_c(t.mapValue.fields[Kz].timestampValue);return new Vi(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rhe{constructor(e,r,n,i,a,o,s,l,u,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const Fx="(default)";class Ug{constructor(e,r){this.projectId=e,this.database=r||Fx}static empty(){return new Ug("","")}get isDefaultDatabase(){return this.database===Fx}isEqual(e){return e instanceof Ug&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nhe="__type__",ihe="__max__",ky={mapValue:{}},ahe="__vector__",dT="value";function Ec(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kO(t)?4:she(t)?9007199254740991:ohe(t)?10:11:Qe(28295,{value:t})}function ns(t,e){if(t===e)return!0;const r=Ec(t);if(r!==Ec(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bg(t).isEqual(Bg(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=_c(i.timestampValue),s=_c(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Sc(i.bytesValue).isEqual(Sc(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Dr(i.geoPointValue.latitude)===Dr(a.geoPointValue.latitude)&&Dr(i.geoPointValue.longitude)===Dr(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Dr(i.integerValue)===Dr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Dr(i.doubleValue),s=Dr(a.doubleValue);return o===s?uT(o)===uT(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Xf(t.arrayValue.values||[],e.arrayValue.values||[],ns);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(aM(o)!==aM(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!ns(o[l],s[l])))return!1;return!0}(t,e);default:return Qe(52216,{left:t})}}function Vg(t,e){return(t.values||[]).find(r=>ns(r,e))!==void 0}function Qf(t,e){if(t===e)return 0;const r=Ec(t),n=Ec(e);if(r!==n)return ot(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return ot(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=Dr(a.integerValue||a.doubleValue),l=Dr(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return sM(t.timestampValue,e.timestampValue);case 4:return sM(Bg(t),Bg(e));case 5:return cT(t.stringValue,e.stringValue);case 6:return function(a,o){const s=Sc(a),l=Sc(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const d=ot(s[u],l[u]);if(d!==0)return d}return ot(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=ot(Dr(a.latitude),Dr(o.latitude));return s!==0?s:ot(Dr(a.longitude),Dr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return lM(t.arrayValue,e.arrayValue);case 10:return function(a,o){var s,l,u,d;const f=a.fields||{},h=o.fields||{},p=(s=f[dT])===null||s===void 0?void 0:s.arrayValue,m=(l=h[dT])===null||l===void 0?void 0:l.arrayValue,g=ot(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((d=m==null?void 0:m.values)===null||d===void 0?void 0:d.length)||0);return g!==0?g:lM(p,m)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===ky.mapValue&&o===ky.mapValue)return 0;if(a===ky.mapValue)return 1;if(o===ky.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=cT(l[f],d[f]);if(h!==0)return h;const p=Qf(s[l[f]],u[d[f]]);if(p!==0)return p}return ot(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Qe(23264,{Pe:r})}}function sM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ot(t,e);const r=_c(t),n=_c(e),i=ot(r.seconds,n.seconds);return i!==0?i:ot(r.nanos,n.nanos)}function lM(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Qf(r[i],n[i]);if(a)return a}return ot(r.length,n.length)}function Zf(t){return fT(t)}function fT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=_c(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Sc(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return He.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=fT(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${fT(r.fields[o])}`;return i+"}"}(t.mapValue):Qe(61005,{value:t})}function D1(t){switch(Ec(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=m2(t);return e?16+D1(e):16;case 5:return 2*t.stringValue.length;case 6:return Sc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+D1(a),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return p0(n.fields,(a,o)=>{i+=a.length+D1(o)}),i}(t.mapValue);default:throw Qe(13486,{value:t})}}function hT(t){return!!t&&"integerValue"in t}function RO(t){return!!t&&"arrayValue"in t}function cM(t){return!!t&&"nullValue"in t}function uM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lE(t){return!!t&&"mapValue"in t}function ohe(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[nhe])===null||r===void 0?void 0:r.stringValue)===ahe}function Qm(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return p0(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Qm(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Qm(t.arrayValue.values[r]);return e}return Object.assign({},t)}function she(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ihe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.value=e}static empty(){return new Fo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!lE(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qm(r)}setAll(e){let r=xi.emptyPath(),n={},i=[];e.forEach((o,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}o?n[s.lastSegment()]=Qm(o):i.push(s.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());lE(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ns(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];lE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){p0(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new Fo(Qm(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,r,n,i,a,o,s){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Qn(e,0,Xe.min(),Xe.min(),Xe.min(),Fo.empty(),0)}static newFoundDocument(e,r,n,i){return new Qn(e,1,r,Xe.min(),n,i,0)}static newNoDocument(e,r){return new Qn(e,2,r,Xe.min(),Xe.min(),Fo.empty(),0)}static newUnknownDocument(e,r){return new Qn(e,3,r,Xe.min(),Xe.min(),Fo.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,r){this.position=e,this.inclusive=r}}function dM(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=He.comparator(He.fromName(o.referenceValue),r.key):n=Qf(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function fM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ns(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,r="asc"){this.field=e,this.dir=r}}function lhe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{}class rn extends Yz{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new uhe(e,r,n):r==="array-contains"?new hhe(e,n):r==="in"?new phe(e,n):r==="not-in"?new mhe(e,n):r==="array-contains-any"?new ghe(e,n):new rn(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new dhe(e,n):new fhe(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Qf(r,this.value)):r!==null&&Ec(this.value)===Ec(r)&&this.matchesComparison(Qf(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class is extends Yz{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new is(e,r)}matches(e){return Xz(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Xz(t){return t.op==="and"}function Qz(t){return che(t)&&Xz(t)}function che(t){for(const e of t.filters)if(e instanceof is)return!1;return!0}function pT(t){if(t instanceof rn)return t.field.canonicalString()+t.op.toString()+Zf(t.value);if(Qz(t))return t.filters.map(e=>pT(e)).join(",");{const e=t.filters.map(r=>pT(r)).join(",");return`${t.op}(${e})`}}function Zz(t,e){return t instanceof rn?function(n,i){return i instanceof rn&&n.op===i.op&&n.field.isEqual(i.field)&&ns(n.value,i.value)}(t,e):t instanceof is?function(n,i){return i instanceof is&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,s)=>a&&Zz(o,i.filters[s]),!0):!1}(t,e):void Qe(19439)}function Jz(t){return t instanceof rn?function(r){return`${r.field.canonicalString()} ${r.op} ${Zf(r.value)}`}(t):t instanceof is?function(r){return r.op.toString()+" {"+r.getFilters().map(Jz).join(" ,")+"}"}(t):"Filter"}class uhe extends rn{constructor(e,r,n){super(e,r,n),this.key=He.fromName(n.referenceValue)}matches(e){const r=He.comparator(e.key,this.key);return this.matchesComparison(r)}}class dhe extends rn{constructor(e,r){super(e,"in",r),this.keys=eW("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class fhe extends rn{constructor(e,r){super(e,"not-in",r),this.keys=eW("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function eW(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>He.fromName(n.referenceValue))}class hhe extends rn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return RO(r)&&Vg(r.arrayValue,this.value)}}class phe extends rn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Vg(this.value.arrayValue,r)}}class mhe extends rn{constructor(e,r){super(e,"not-in",r)}matches(e){if(Vg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Vg(this.value.arrayValue,r)}}class ghe extends rn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!RO(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Vg(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vhe{constructor(e,r=null,n=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Ie=null}}function hM(t,e=null,r=[],n=[],i=null,a=null,o=null){return new vhe(t,e,r,n,i,a,o)}function DO(t){const e=vt(t);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>pT(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),p2(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Zf(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Zf(n)).join(",")),e.Ie=r}return e.Ie}function MO(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!lhe(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!Zz(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fM(t.startAt,e.startAt)&&fM(t.endAt,e.endAt)}function mT(t){return He.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,r=null,n=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function yhe(t,e,r,n,i,a,o,s){return new g2(t,e,r,n,i,a,o,s)}function LO(t){return new g2(t)}function pM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xhe(t){return t.collectionGroup!==null}function Zm(t){const e=vt(t);if(e.Ee===null){e.Ee=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new ln(xi.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Ux(a,n))}),r.has(xi.keyField().canonicalString())||e.Ee.push(new Ux(xi.keyField(),n))}return e.Ee}function qo(t){const e=vt(t);return e.de||(e.de=whe(e,Zm(t))),e.de}function whe(t,e){if(t.limitType==="F")return hM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Ux(i.field,a)});const r=t.endAt?new Bx(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Bx(t.startAt.position,t.startAt.inclusive):null;return hM(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function gT(t,e,r){return new g2(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function v2(t,e){return MO(qo(t),qo(e))&&t.limitType===e.limitType}function tW(t){return`${DO(qo(t))}|lt:${t.limitType}`}function Wd(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>Jz(i)).join(", ")}]`),p2(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Zf(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Zf(i)).join(",")),`Target(${n})`}(qo(t))}; limitType=${t.limitType})`}function y2(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):He.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of Zm(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,s,l){const u=dM(o,s,l);return o.inclusive?u<=0:u<0}(n.startAt,Zm(n),i)||n.endAt&&!function(o,s,l){const u=dM(o,s,l);return o.inclusive?u>=0:u>0}(n.endAt,Zm(n),i))}(t,e)}function bhe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rW(t){return(e,r)=>{let n=!1;for(const i of Zm(t)){const a=_he(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function _he(t,e,r){const n=t.field.isKeyField()?He.comparator(e.key,r.key):function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?Qf(l,u):Qe(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Qe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){p0(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return ehe(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const She=new Fr(He.comparator);function Ac(){return She}const nW=new Fr(He.comparator);function Am(...t){let e=nW;for(const r of t)e=e.insert(r.key,r);return e}function Ehe(t){let e=nW;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function wu(){return Jm()}function iW(){return Jm()}function Jm(){return new wd(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ahe=new ln(He.comparator);function xt(...t){let e=Ahe;for(const r of t)e=e.add(r);return e}const Che=new ln(ot);function The(){return Che}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nhe(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uT(e)?"-0":e}}function Ihe(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this._=void 0}}function Phe(t,e,r){return t instanceof vT?function(i,a){const o={fields:{[Gz]:{stringValue:Hz},[Kz]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&kO(a)&&(a=m2(a)),a&&(o.fields[qz]=a),{mapValue:o}}(r,e):t instanceof Vx?aW(t,e):t instanceof zx?oW(t,e):function(i,a){const o=jhe(i,a),s=mM(o)+mM(i.Re);return hT(o)&&hT(i.Re)?Ihe(s):Nhe(i.serializer,s)}(t,e)}function Ohe(t,e,r){return t instanceof Vx?aW(t,e):t instanceof zx?oW(t,e):r}function jhe(t,e){return t instanceof yT?function(n){return hT(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class vT extends x2{}class Vx extends x2{constructor(e){super(),this.elements=e}}function aW(t,e){const r=sW(e);for(const n of t.elements)r.some(i=>ns(i,n))||r.push(n);return{arrayValue:{values:r}}}class zx extends x2{constructor(e){super(),this.elements=e}}function oW(t,e){let r=sW(e);for(const n of t.elements)r=r.filter(i=>!ns(i,n));return{arrayValue:{values:r}}}class yT extends x2{constructor(e,r){super(),this.serializer=e,this.Re=r}}function mM(t){return Dr(t.integerValue||t.doubleValue)}function sW(t){return RO(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function khe(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Vx&&i instanceof Vx||n instanceof zx&&i instanceof zx?Xf(n.elements,i.elements,ns):n instanceof yT&&i instanceof yT?ns(n.Re,i.Re):n instanceof vT&&i instanceof vT}(t.transform,e.transform)}class ju{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ju}static exists(e){return new ju(void 0,e)}static updateTime(e){return new ju(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function M1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $O{}function lW(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Dhe(t.key,ju.none()):new FO(t.key,t.data,ju.none());{const r=t.data,n=Fo.empty();let i=new ln(xi.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new w2(t.key,n,new Wl(i.toArray()),ju.none())}}function Rhe(t,e,r){t instanceof FO?function(i,a,o){const s=i.value.clone(),l=vM(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,r):t instanceof w2?function(i,a,o){if(!M1(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=vM(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(cW(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function eg(t,e,r,n){return t instanceof FO?function(a,o,s,l){if(!M1(a.precondition,o))return s;const u=a.value.clone(),d=yM(a.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof w2?function(a,o,s,l){if(!M1(a.precondition,o))return s;const u=yM(a.fieldTransforms,l,o),d=o.data;return d.setAll(cW(a)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(a,o,s){return M1(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,r)}function gM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Xf(n,i,(a,o)=>khe(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class FO extends $O{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class w2 extends $O{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function cW(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function vM(t,e,r){const n=new Map;Er(t.length===r.length,32656,{Ve:r.length,me:t.length});for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);n.set(a.field,Ohe(o,s,r[i]))}return n}function yM(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,Phe(a,o,e))}return n}class Dhe extends $O{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mhe{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Rhe(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=eg(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=eg(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=iW();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=r.has(i.key)?null:s;const l=lW(o,s);l!==null&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Xe.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),xt())}isEqual(e){return this.batchId===e.batchId&&Xf(this.mutations,e.mutations,(r,n)=>gM(r,n))&&Xf(this.baseMutations,e.baseMutations,(r,n)=>gM(r,n))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lhe=class{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $he{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Br,ht;function uW(t){if(t===void 0)return Qs("GRPC error has no .code"),Pe.UNKNOWN;switch(t){case Br.OK:return Pe.OK;case Br.CANCELLED:return Pe.CANCELLED;case Br.UNKNOWN:return Pe.UNKNOWN;case Br.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case Br.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case Br.INTERNAL:return Pe.INTERNAL;case Br.UNAVAILABLE:return Pe.UNAVAILABLE;case Br.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case Br.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case Br.NOT_FOUND:return Pe.NOT_FOUND;case Br.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case Br.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case Br.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case Br.ABORTED:return Pe.ABORTED;case Br.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case Br.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case Br.DATA_LOSS:return Pe.DATA_LOSS;default:return Qe(39323,{code:t})}}(ht=Br||(Br={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fhe=new ac([4294967295,4294967295],0);function xM(t){const e=Uz().encode(t),r=new kz;return r.update(e),new Uint8Array(r.digest())}function wM(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ac([r,n],0),new ac([i,a],0)]}class BO{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Cm(`Invalid padding: ${r}`);if(n<0)throw new Cm(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Cm(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Cm(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*e.length-r,this.ye=ac.fromNumber(this.pe)}we(e,r,n){let i=e.add(r.multiply(ac.fromNumber(n)));return i.compare(Fhe)===1&&(i=new ac([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const r=xM(e),[n,i]=wM(r);for(let a=0;a<this.hashCount;a++){const o=this.we(n,i,a);if(!this.be(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new BO(a,i,r);return n.forEach(s=>o.insert(s)),o}insert(e){if(this.pe===0)return;const r=xM(e),[n,i]=wM(r);for(let a=0;a<this.hashCount;a++){const o=this.we(n,i,a);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Cm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,m0.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new b2(Xe.min(),i,new Fr(ot),Ac(),xt())}}class m0{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new m0(n,r,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,r,n,i){this.De=e,this.removedTargetIds=r,this.key=n,this.ve=i}}class dW{constructor(e,r){this.targetId=e,this.Ce=r}}class fW{constructor(e,r,n=Mn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class bM{constructor(){this.Fe=0,this.Me=_M(),this.xe=Mn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=xt(),r=xt(),n=xt();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Qe(38017,{changeType:a})}}),new m0(this.xe,this.Oe,e,r,n)}Qe(){this.Ne=!1,this.Me=_M()}$e(e,r){this.Ne=!0,this.Me=this.Me.insert(e,r)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Er(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Bhe{constructor(e){this.ze=e,this.je=new Map,this.He=Ac(),this.Je=Ry(),this.Ye=Ry(),this.Ze=new Fr(ot)}Xe(e){for(const r of e.De)e.ve&&e.ve.isFoundDocument()?this.et(r,e.ve):this.tt(r,e.key,e.ve);for(const r of e.removedTargetIds)this.tt(r,e.key,e.ve)}nt(e){this.forEachTarget(e,r=>{const n=this.rt(r);switch(e.state){case 0:this.it(r)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(r);break;case 3:this.it(r)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(r)&&(this.st(r),n.ke(e.resumeToken));break;default:Qe(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.je.forEach((n,i)=>{this.it(i)&&r(i)})}ot(e){const r=e.targetId,n=e.Ce.count,i=this._t(r);if(i){const a=i.target;if(mT(a))if(n===0){const o=new He(a.path);this.tt(r,o,Qn.newNoDocument(o,Xe.min()))}else Er(n===1,20013,{expectedCount:n});else{const o=this.ut(r);if(o!==n){const s=this.ct(e),l=s?this.lt(s,e,o):1;if(l!==0){this.st(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,u)}}}}}ct(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,s;try{o=Sc(n).toUint8Array()}catch(l){if(l instanceof Wz)return Yf("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new BO(o,i,a)}catch(l){return Yf(l instanceof Cm?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.pe===0?null:s}lt(e,r,n){return r.Ce.count===n-this.Tt(e,r.targetId)?0:2}Tt(e,r){const n=this.ze.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.ze.Pt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.tt(r,a,null),i++)}),i}It(e){const r=new Map;this.je.forEach((a,o)=>{const s=this._t(o);if(s){if(a.current&&mT(s.target)){const l=new He(s.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,Qn.newNoDocument(l,e))}a.Le&&(r.set(o,a.qe()),a.Qe())}});let n=xt();this.Ye.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(a))}),this.He.forEach((a,o)=>o.setReadTime(e));const i=new b2(e,r,this.Ze,this.He,n);return this.He=Ac(),this.Je=Ry(),this.Ye=Ry(),this.Ze=new Fr(ot),i}et(e,r){if(!this.it(e))return;const n=this.dt(e,r.key)?2:0;this.rt(e).$e(r.key,n),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(e)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(e))}tt(e,r,n){if(!this.it(e))return;const i=this.rt(e);this.dt(e,r)?i.$e(r,1):i.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(e)),this.Ye=this.Ye.insert(r,this.At(r).add(e)),n&&(this.He=this.He.insert(r,n))}removeTarget(e){this.je.delete(e)}ut(e){const r=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let r=this.je.get(e);return r||(r=new bM,this.je.set(e,r)),r}At(e){let r=this.Ye.get(e);return r||(r=new ln(ot),this.Ye=this.Ye.insert(e,r)),r}Et(e){let r=this.Je.get(e);return r||(r=new ln(ot),this.Je=this.Je.insert(e,r)),r}it(e){const r=this._t(e)!==null;return r||ke("WatchChangeAggregator","Detected inactive target",e),r}_t(e){const r=this.je.get(e);return r&&r.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new bM),this.ze.getRemoteKeysForTarget(e).forEach(r=>{this.tt(e,r,null)})}dt(e,r){return this.ze.getRemoteKeysForTarget(e).has(r)}}function Ry(){return new Fr(He.comparator)}function _M(){return new Fr(He.comparator)}const Uhe={asc:"ASCENDING",desc:"DESCENDING"},Vhe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zhe={and:"AND",or:"OR"};class Whe{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function xT(t,e){return t.useProto3Json||p2(e)?e:{value:e}}function Hhe(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ghe(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function If(t){return Er(!!t,49232),Xe.fromTimestamp(function(r){const n=_c(r);return new Vi(n.seconds,n.nanos)}(t))}function qhe(t,e){return wT(t,e).canonicalString()}function wT(t,e){const r=function(i){return new fr(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function hW(t){const e=fr.fromString(t);return Er(yW(e),10190,{key:e.toString()}),e}function cE(t,e){const r=hW(e);if(r.get(1)!==t.databaseId.projectId)throw new Ve(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ve(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new He(mW(r))}function pW(t,e){return qhe(t.databaseId,e)}function Khe(t){const e=hW(t);return e.length===4?fr.emptyPath():mW(e)}function SM(t){return new fr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mW(t){return Er(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Yhe(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Qe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,d){return u.useProto3Json?(Er(d===void 0||typeof d=="string",58123),Mn.fromBase64String(d||"")):(Er(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Mn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(u){const d=u.code===void 0?Pe.UNKNOWN:uW(u.code);return new Ve(d,u.message||"")}(o);r=new fW(n,i,a,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=cE(t,n.document.name),a=If(n.document.updateTime),o=n.document.createTime?If(n.document.createTime):Xe.min(),s=new Fo({mapValue:{fields:n.document.fields}}),l=Qn.newFoundDocument(i,a,o,s),u=n.targetIds||[],d=n.removedTargetIds||[];r=new L1(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=cE(t,n.document),a=n.readTime?If(n.readTime):Xe.min(),o=Qn.newNoDocument(i,a),s=n.removedTargetIds||[];r=new L1([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=cE(t,n.document),a=n.removedTargetIds||[];r=new L1([],a,i,null)}else{if(!("filter"in e))return Qe(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new $he(i,a),s=n.targetId;r=new dW(s,o)}}return r}function Xhe(t,e){return{documents:[pW(t,e.path)]}}function Qhe(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=pW(t,i);const a=function(u){if(u.length!==0)return vW(is.create(u,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:Hd(h.field),direction:epe(h.dir)}}(d))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const s=xT(t,e.limit);return s!==null&&(r.structuredQuery.limit=s),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:r,parent:i}}function Zhe(t){let e=Khe(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Er(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];r.where&&(a=function(f){const h=gW(f);return h instanceof is&&Qz(h)?h.getFilters():[h]}(r.where));let o=[];r.orderBy&&(o=function(f){return f.map(h=>function(m){return new Ux(Gd(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(r.orderBy));let s=null;r.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,p2(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new Bx(p,h)}(r.startAt));let u=null;return r.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new Bx(p,h)}(r.endAt)),yhe(e,i,o,a,s,"F",l,u)}function Jhe(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qe(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function gW(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Gd(r.unaryFilter.field);return rn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Gd(r.unaryFilter.field);return rn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Gd(r.unaryFilter.field);return rn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Gd(r.unaryFilter.field);return rn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Qe(61313);default:return Qe(60726)}}(t):t.fieldFilter!==void 0?function(r){return rn.create(Gd(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Qe(58110);default:return Qe(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return is.create(r.compositeFilter.filters.map(n=>gW(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Qe(1026)}}(r.compositeFilter.op))}(t):Qe(30097,{filter:t})}function epe(t){return Uhe[t]}function tpe(t){return Vhe[t]}function rpe(t){return zhe[t]}function Hd(t){return{fieldPath:t.canonicalString()}}function Gd(t){return xi.fromServerFormat(t.fieldPath)}function vW(t){return t instanceof rn?function(r){if(r.op==="=="){if(uM(r.value))return{unaryFilter:{field:Hd(r.field),op:"IS_NAN"}};if(cM(r.value))return{unaryFilter:{field:Hd(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(uM(r.value))return{unaryFilter:{field:Hd(r.field),op:"IS_NOT_NAN"}};if(cM(r.value))return{unaryFilter:{field:Hd(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hd(r.field),op:tpe(r.op),value:r.value}}}(t):t instanceof is?function(r){const n=r.getFilters().map(i=>vW(i));return n.length===1?n[0]:{compositeFilter:{op:rpe(r.op),filters:n}}}(t):Qe(54877,{filter:t})}function yW(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,r,n,i,a=Xe.min(),o=Xe.min(),s=Mn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Hl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Hl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class npe{constructor(e){this.wt=e}}function ipe(t){const e=Zhe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gT(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ape{constructor(){this.yn=new ope}addToCollectionParentIndex(e,r){return this.yn.add(r),ge.resolve()}getCollectionParents(e,r){return ge.resolve(this.yn.getEntries(r))}addFieldIndex(e,r){return ge.resolve()}deleteFieldIndex(e,r){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,r){return ge.resolve()}getDocumentsMatchingTarget(e,r){return ge.resolve(null)}getIndexType(e,r){return ge.resolve(0)}getFieldIndexes(e,r){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,r){return ge.resolve(bc.min())}getMinOffsetFromCollectionGroup(e,r){return ge.resolve(bc.min())}updateCollectionGroup(e,r,n){return ge.resolve()}updateIndexEntries(e,r){return ge.resolve()}}class ope{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new ln(fr.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new ln(fr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xW=41943040;class ji{static withCacheSize(e){return new ji(e,ji.DEFAULT_COLLECTION_PERCENTILE,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ji.DEFAULT_COLLECTION_PERCENTILE=10,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ji.DEFAULT=new ji(xW,ji.DEFAULT_COLLECTION_PERCENTILE,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ji.DISABLED=new ji(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Jf(0)}static ir(){return new Jf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM="LruGarbageCollector",spe=1048576;function CM([t,e],[r,n]){const i=ot(t,r);return i===0?ot(e,n):i}class lpe{constructor(e){this.cr=e,this.buffer=new ln(CM),this.lr=0}hr(){return++this.lr}Pr(e){const r=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();CM(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class cpe{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ke(AM,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Jh(r)?ke(AM,"Ignoring IndexedDB error during garbage collection: ",r):await f2(r)}await this.Ir(3e5)})}}class upe{constructor(e,r){this.Er=e,this.params=r}calculateTargetCount(e,r){return this.Er.dr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return ge.resolve(h2.le);const n=new lpe(r);return this.Er.forEachTarget(e,i=>n.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>n.Pr(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.Er.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Er.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(EM)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),EM):this.Rr(e,r))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,r){let n,i,a,o,s,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(n=f,s=Date.now(),this.removeTargets(e,n,r))).next(f=>(a=f,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(f=>(u=Date.now(),zd()<=ut.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(l-s)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function dpe(t,e){return new upe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fpe{constructor(){this.changes=new wd(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Qn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ge.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hpe{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ppe{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&eg(n.mutation,i,Wl.empty(),Vi.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,xt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=xt()){const i=wu();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let o=Am();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=wu();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,xt()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{r.set(o,s)})})}computeViews(e,r,n,i){let a=Ac();const o=Jm(),s=function(){return Jm()}();return r.forEach((l,u)=>{const d=n.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof w2)?a=a.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),eg(d.mutation,u,d.mutation.getFieldMask(),Vi.now())):o.set(u.key,Wl.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,d)=>o.set(u,d)),r.forEach((u,d)=>{var f;return s.set(u,new hpe(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,r){const n=Jm();let i=new Fr((o,s)=>o-s),a=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const s of o)s.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let d=n.get(l)||Wl.empty();d=s.applyToLocalView(u,d),n.set(l,d);const f=(i.get(s.batchId)||xt()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,d=l.value,f=iW();d.forEach(h=>{if(!a.has(h)){const p=lW(r.get(h),n.get(h));p!==null&&f.set(h,p),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ge.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return He.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):xhe(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):ge.resolve(wu());let s=Fg,l=a;return o.next(u=>ge.forEach(u,(d,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),a.get(d)?ge.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,xt())).next(d=>({batchId:s,changes:Ehe(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new He(r)).next(n=>{let i=Am();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=Am();return this.indexManager.getCollectionParents(e,a).next(s=>ge.forEach(s,l=>{const u=function(f,h){return new g2(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(o=>{a.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Qn.newInvalidDocument(d)))});let s=Am();return o.forEach((l,u)=>{const d=a.get(l);d!==void 0&&eg(d.mutation,u,Wl.empty(),Vi.now()),y2(r,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mpe{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,r){return ge.resolve(this.Fr.get(r))}saveBundleMetadata(e,r){return this.Fr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:If(i.createTime)}}(r)),ge.resolve()}getNamedQuery(e,r){return ge.resolve(this.Mr.get(r))}saveNamedQuery(e,r){return this.Mr.set(r.name,function(i){return{name:i.name,query:ipe(i.bundledQuery),readTime:If(i.readTime)}}(r)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gpe{constructor(){this.overlays=new Fr(He.comparator),this.Or=new Map}getOverlay(e,r){return ge.resolve(this.overlays.get(r))}getOverlays(e,r){const n=wu();return ge.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.St(e,r,a)}),ge.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Or.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(n)),ge.resolve()}getOverlaysForCollection(e,r,n){const i=wu(),a=r.length+1,o=new He(r.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return ge.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Fr((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=a.get(u.largestBatchId);d===null&&(d=wu(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const s=wu(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>s.set(u,d)),!(s.size()>=i)););return ge.resolve(s)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Or.get(i.largestBatchId).delete(n.key);this.Or.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new Lhe(r,n));let a=this.Or.get(r);a===void 0&&(a=xt(),this.Or.set(r,a)),this.Or.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vpe{constructor(){this.sessionToken=Mn.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.Nr=new ln(gn.Br),this.Lr=new ln(gn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,r){const n=new gn(e,r);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Qr(new gn(e,r))}$r(e,r){e.forEach(n=>this.removeReference(n,r))}Ur(e){const r=new He(new fr([])),n=new gn(r,e),i=new gn(r,e+1),a=[];return this.Lr.forEachInRange([n,i],o=>{this.Qr(o),a.push(o.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const r=new He(new fr([])),n=new gn(r,e),i=new gn(r,e+1);let a=xt();return this.Lr.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new gn(e,0),n=this.Nr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class gn{constructor(e,r){this.key=e,this.Gr=r}static Br(e,r){return He.comparator(e.key,r.key)||ot(e.Gr,r.Gr)}static kr(e,r){return ot(e.Gr,r.Gr)||He.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ype{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new ln(gn.Br)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Mhe(a,r,n,i);this.mutationQueue.push(o);for(const s of i)this.zr=this.zr.add(new gn(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return ge.resolve(o)}lookupMutationBatch(e,r){return ge.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.Hr(n),a=i<0?0:i;return ge.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?Qfe:this.Jn-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new gn(r,0),i=new gn(r,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([n,i],o=>{const s=this.jr(o.Gr);a.push(s)}),ge.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new ln(ot);return r.forEach(i=>{const a=new gn(i,0),o=new gn(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,o],s=>{n=n.add(s.Gr)})}),ge.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;He.isDocumentKey(a)||(a=a.child(""));const o=new gn(new He(a),0);let s=new ln(ot);return this.zr.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.Gr)),!0)},o),ge.resolve(this.Jr(s))}Jr(e){const r=[];return e.forEach(n=>{const i=this.jr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Er(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.zr;return ge.forEach(r.mutations,i=>{const a=new gn(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=n})}Xn(e){}containsKey(e,r){const n=new gn(r,0),i=this.zr.firstAfterOrEqual(n);return ge.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}Yr(e,r){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const r=this.Hr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xpe{constructor(e){this.Zr=e,this.docs=function(){return new Fr(He.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.Zr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ge.resolve(n?n.document.mutableCopy():Qn.newInvalidDocument(r))}getEntries(e,r){let n=Ac();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Qn.newInvalidDocument(i))}),ge.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Ac();const o=r.path,s=new He(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||qfe(Gfe(d),n)<=0||(i.has(d.key)||y2(r,d))&&(a=a.insert(d.key,d.mutableCopy()))}return ge.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Qe(9500)}Xr(e,r){return ge.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new wpe(this)}getSize(e){return ge.resolve(this.size)}}class wpe extends fpe{constructor(e){super(),this.vr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.vr.addEntry(e,i)):this.vr.removeEntry(n)}),ge.waitFor(r)}getFromCache(e,r){return this.vr.getEntry(e,r)}getAllFromCache(e,r){return this.vr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bpe{constructor(e){this.persistence=e,this.ei=new wd(r=>DO(r),MO),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.ti=0,this.ni=new UO,this.targetCount=0,this.ri=Jf.rr()}forEachTarget(e,r){return this.ei.forEach((n,i)=>r(i)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ti&&(this.ti=r),ge.resolve()}ar(e){this.ei.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ri=new Jf(r),this.highestTargetId=r),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,r){return this.ar(r),this.targetCount+=1,ge.resolve()}updateTargetData(e,r){return this.ar(r),ge.resolve()}removeTargetData(e,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.ei.forEach((o,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.ei.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),ge.waitFor(a).next(()=>i)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,r){const n=this.ei.get(r)||null;return ge.resolve(n)}addMatchingKeys(e,r,n){return this.ni.qr(r,n),ge.resolve()}removeMatchingKeys(e,r,n){this.ni.$r(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),ge.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.ni.Ur(r),ge.resolve()}getMatchingKeysForTargetId(e,r){const n=this.ni.Wr(r);return ge.resolve(n)}containsKey(e,r){return ge.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wW{constructor(e,r){this.ii={},this.overlays={},this.si=new h2(0),this.oi=!1,this.oi=!0,this._i=new vpe,this.referenceDelegate=e(this),this.ai=new bpe(this),this.indexManager=new ape,this.remoteDocumentCache=function(i){return new xpe(i)}(n=>this.referenceDelegate.ui(n)),this.serializer=new npe(r),this.ci=new mpe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new gpe,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ii[e.toKey()];return n||(n=new ype(r,this.referenceDelegate),this.ii[e.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,r,n){ke("MemoryPersistence","Starting transaction:",e);const i=new _pe(this.si.next());return this.referenceDelegate.li(),n(i).next(a=>this.referenceDelegate.hi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Pi(e,r){return ge.or(Object.values(this.ii).map(n=>()=>n.containsKey(e,r)))}}class _pe extends Yfe{constructor(e){super(),this.currentSequenceNumber=e}}class VO{constructor(e){this.persistence=e,this.Ti=new UO,this.Ii=null}static Ei(e){return new VO(e)}get di(){if(this.Ii)return this.Ii;throw Qe(60996)}addReference(e,r,n){return this.Ti.addReference(n,r),this.di.delete(n.toString()),ge.resolve()}removeReference(e,r,n){return this.Ti.removeReference(n,r),this.di.add(n.toString()),ge.resolve()}markPotentiallyOrphaned(e,r){return this.di.add(r.toString()),ge.resolve()}removeTarget(e,r){this.Ti.Ur(r.targetId).forEach(i=>this.di.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}li(){this.Ii=new Set}hi(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.di,n=>{const i=He.fromPath(n);return this.Ai(e,i).next(a=>{a||r.removeEntry(i,Xe.min())})}).next(()=>(this.Ii=null,r.apply(e)))}updateLimboDocument(e,r){return this.Ai(e,r).next(n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(e){return 0}Ai(e,r){return ge.or([()=>ge.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Pi(e,r)])}}class Wx{constructor(e,r){this.persistence=e,this.Ri=new wd(n=>Zfe(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=dpe(this,r)}static Ei(e,r){return new Wx(e,r)}li(){}hi(e){return ge.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}dr(e){const r=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}Vr(e){let r=0;return this.Ar(e,n=>{r++}).next(()=>r)}Ar(e,r){return ge.forEach(this.Ri,(n,i)=>this.gr(e,n,i).next(a=>a?ge.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.Xr(e,o=>this.gr(e,o,r).next(s=>{s||(n++,a.removeEntry(o,Xe.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.Ri.set(r,e.currentSequenceNumber),ge.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.Ri.set(n,e.currentSequenceNumber),ge.resolve()}removeReference(e,r,n){return this.Ri.set(n,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,r){return this.Ri.set(r,e.currentSequenceNumber),ge.resolve()}ui(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=D1(e.data.value)),r}gr(e,r,n){return ge.or([()=>this.persistence.Pi(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.Ri.get(r);return ge.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.ls=n,this.hs=i}static Ps(e,r){let n=xt(),i=xt();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new zO(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Spe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Epe{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return mde()?8:Xfe(ni())>0?6:4}()}initialize(e,r){this.As=e,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Rs(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Vs(e,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new Spe;return this.fs(e,r,o).next(s=>{if(a.result=s,this.Is)return this.gs(e,r,o,s.size)})}).next(()=>a.result)}gs(e,r,n,i){return n.documentReadCount<this.Es?(zd()<=ut.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",Wd(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ge.resolve()):(zd()<=ut.DEBUG&&ke("QueryEngine","Query:",Wd(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ds*i?(zd()<=ut.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",Wd(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qo(r))):ge.resolve())}Rs(e,r){if(pM(r))return ge.resolve(null);let n=qo(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=gT(r,null,"F"),n=qo(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=xt(...a);return this.As.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.ps(r,s);return this.ys(r,u,o,l.readTime)?this.Rs(e,gT(r,null,"F")):this.ws(e,u,r,l)}))})))}Vs(e,r,n,i){return pM(r)||i.isEqual(Xe.min())?ge.resolve(null):this.As.getDocuments(e,n).next(a=>{const o=this.ps(r,a);return this.ys(r,o,n,i)?ge.resolve(null):(zd()<=ut.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wd(r)),this.ws(e,o,r,Hfe(i,Fg)).next(s=>s))})}ps(e,r){let n=new ln(rW(e));return r.forEach((i,a)=>{y2(e,a)&&(n=n.add(a))}),n}ys(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}fs(e,r,n){return zd()<=ut.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",Wd(r)),this.As.getDocumentsMatchingQuery(e,r,bc.min(),n)}ws(e,r,n,i){return this.As.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO="LocalStore",Ape=3e8;class Cpe{constructor(e,r,n,i){this.persistence=e,this.bs=r,this.serializer=i,this.Ss=new Fr(ot),this.Ds=new wd(a=>DO(a),MO),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(n)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ppe(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ss))}}function Tpe(t,e,r,n){return new Cpe(t,e,r,n)}async function bW(t,e){const r=vt(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Fs(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],s=[];let l=xt();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of a){s.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return r.localDocuments.getDocuments(n,l).next(u=>({Ms:u,removedBatchIds:o,addedBatchIds:s}))})})}function _W(t){const e=vt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.ai.getLastRemoteSnapshotVersion(r))}function Npe(t,e){const r=vt(t),n=e.snapshotVersion;let i=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.Cs.newChangeBuffer({trackRemovals:!0});i=r.Ss;const s=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;s.push(r.ai.removeMatchingKeys(a,d.removedDocuments,f).next(()=>r.ai.addMatchingKeys(a,d.addedDocuments,f)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Mn.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,n)),i=i.insert(f,p),function(g,v,x){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=Ape?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,p,d)&&s.push(r.ai.updateTargetData(a,p))});let l=Ac(),u=xt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(a,d))}),s.push(Ipe(a,o,e.documentUpdates).next(d=>{l=d.xs,u=d.Os})),!n.isEqual(Xe.min())){const d=r.ai.getLastRemoteSnapshotVersion(a).next(f=>r.ai.setTargetsMetadata(a,a.currentSequenceNumber,n));s.push(d)}return ge.waitFor(s).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(r.Ss=i,a))}function Ipe(t,e,r){let n=xt(),i=xt();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=Ac();return r.forEach((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(Xe.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):ke(WO,"Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{xs:o,Os:i}})}function Ppe(t,e){const r=vt(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.ai.getTargetData(n,e).next(a=>a?(i=a,ge.resolve(i)):r.ai.allocateTargetId(n).next(o=>(i=new Hl(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.ai.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ss.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(n.targetId,n),r.Ds.set(e,n.targetId)),n})}async function bT(t,e,r){const n=vt(t),i=n.Ss.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Jh(o))throw o;ke(WO,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ss=n.Ss.remove(e),n.Ds.delete(i.target)}function TM(t,e,r){const n=vt(t);let i=Xe.min(),a=xt();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const f=vt(l),h=f.Ds.get(d);return h!==void 0?ge.resolve(f.Ss.get(h)):f.ai.getTargetData(u,d)}(n,o,qo(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.ai.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>n.bs.getDocumentsMatchingQuery(o,e,r?i:Xe.min(),r?a:xt())).next(s=>(Ope(n,bhe(e),s),{documents:s,Ns:a})))}function Ope(t,e,r){let n=t.vs.get(e)||Xe.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.vs.set(e,n)}class NM{constructor(){this.activeTargetIds=The()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jpe{constructor(){this.So=new NM,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,r,n){this.Do[e]=r}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new NM,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kpe{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="ConnectivityMonitor";class PM{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ke(IM,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ke(IM,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dy=null;function _T(){return Dy===null?Dy=function(){return 268435456+Math.round(2147483648*Math.random())}():Dy++,"0x"+Dy.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="RestConnection",Rpe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Dpe{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+e.host,this.ko=`projects/${n}/databases/${i}`,this.qo=this.databaseId.database===Fx?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Qo(e,r,n,i,a){const o=_T(),s=this.$o(e,r.toUriEncodedString());ke(uE,`Sending RPC '${e}' ${o}:`,s,n);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,i,a);const{host:u}=new URL(s),d=Xh(u);return this.Ko(e,s,l,n,d).then(f=>(ke(uE,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Yf(uE,`RPC '${e}' ${o} failed with error: `,f,"url: ",s,"request:",n),f})}Wo(e,r,n,i,a,o){return this.Qo(e,r,n,i,a)}Uo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}$o(e,r){const n=Rpe[e];return`${this.Lo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mpe{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn="WebChannelConnection";class Lpe extends Dpe{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,r,n,i,a){const o=_T();return new Promise((s,l)=>{const u=new Rz;u.setWithCredentials(!0),u.listenOnce(Dz.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case R1.NO_ERROR:const f=u.getResponseJson();ke(Vn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case R1.TIMEOUT:ke(Vn,`RPC '${e}' ${o} timed out`),l(new Ve(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case R1.HTTP_ERROR:const h=u.getStatus();if(ke(Vn,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const g=function(x){const y=x.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(y)>=0?y:Pe.UNKNOWN}(m.status);l(new Ve(g,m.message))}else l(new Ve(Pe.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Ve(Pe.UNAVAILABLE,"Connection failed."));break;default:Qe(9055,{s_:e,streamId:o,o_:u.getLastErrorCode(),__:u.getLastError()})}}finally{ke(Vn,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);ke(Vn,`RPC '${e}' ${o} sending request:`,i),u.send(r,"POST",d,n,15)})}a_(e,r,n){const i=_T(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=$z(),s=Lz(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const d=a.join("");ke(Vn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);let h=!1,p=!1;const m=new Mpe({Go:v=>{p?ke(Vn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(ke(Vn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ke(Vn,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},zo:()=>f.close()}),g=(v,x,y)=>{v.listen(x,w=>{try{y(w)}catch(S){setTimeout(()=>{throw S},0)}})};return g(f,Em.EventType.OPEN,()=>{p||(ke(Vn,`RPC '${e}' stream ${i} transport opened.`),m.t_())}),g(f,Em.EventType.CLOSE,()=>{p||(p=!0,ke(Vn,`RPC '${e}' stream ${i} transport closed`),m.r_())}),g(f,Em.EventType.ERROR,v=>{p||(p=!0,Yf(Vn,`RPC '${e}' stream ${i} transport errored. Name:`,v.name,"Message:",v.message),m.r_(new Ve(Pe.UNAVAILABLE,"The operation could not be completed")))}),g(f,Em.EventType.MESSAGE,v=>{var x;if(!p){const y=v.data[0];Er(!!y,16349);const w=y,S=(w==null?void 0:w.error)||((x=w[0])===null||x===void 0?void 0:x.error);if(S){ke(Vn,`RPC '${e}' stream ${i} received error:`,S);const E=S.status;let C=function(N){const I=Br[N];if(I!==void 0)return uW(I)}(E),A=S.message;C===void 0&&(C=Pe.INTERNAL,A="Unknown error status: "+E+" with message "+S.message),p=!0,m.r_(new Ve(C,A)),f.close()}else ke(Vn,`RPC '${e}' stream ${i} received:`,y),m.i_(y)}}),g(s,Mz.STAT_EVENT,v=>{v.stat===lT.PROXY?ke(Vn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===lT.NOPROXY&&ke(Vn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.n_()},0),m}}function dE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SW(t){return new Whe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EW{constructor(e,r,n=1e3,i=1.5,a=6e4){this.bi=e,this.timerId=r,this.u_=n,this.c_=i,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const r=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),i=Math.max(0,r-n);i>0&&ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM="PersistentStream";class $pe{constructor(e,r,n,i,a,o,s,l){this.bi=e,this.R_=n,this.V_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new EW(e,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():r&&r.code===Pe.RESOURCE_EXHAUSTED?(Qs(r.toString()),Qs("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===Pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.m_===r&&this.B_(n,i)},n=>{e(()=>{const i=new Ve(Pe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.L_(i)})})}B_(e,r){const n=this.N_(this.m_);this.stream=this.k_(e,r),this.stream.jo(()=>{n(()=>this.listener.jo())}),this.stream.Jo(()=>{n(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{n(()=>this.L_(i))}),this.stream.onMessage(i=>{n(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ke(OM,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return r=>{this.bi.enqueueAndForget(()=>this.m_===e?r():(ke(OM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fpe extends $pe{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}k_(e,r){return this.connection.a_("Listen",e,r)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const r=Yhe(this.serializer,e),n=function(a){if(!("targetChange"in a))return Xe.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Xe.min():o.readTime?If(o.readTime):Xe.min()}(e);return this.listener.Q_(r,n)}U_(e){const r={};r.database=SM(this.serializer),r.addTarget=function(a,o){let s;const l=o.target;if(s=mT(l)?{documents:Xhe(a,l)}:{query:Qhe(a,l).gt},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=Ghe(a,o.resumeToken);const u=xT(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(Xe.min())>0){s.readTime=Hhe(a,o.snapshotVersion.toTimestamp());const u=xT(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const n=Jhe(this.serializer,e);n&&(r.labels=n),this.F_(r)}K_(e){const r={};r.database=SM(this.serializer),r.removeTarget=e,this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bpe{}class Upe extends Bpe{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new Ve(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,r,n,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Qo(e,wT(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ve(Pe.UNKNOWN,a.toString())})}Wo(e,r,n,i,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,wT(r,n),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ve(Pe.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class Vpe{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Qs(r),this.ea=!1):ke("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh="RemoteStore";class zpe{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(o=>{n.enqueueAndForget(async()=>{v0(this)&&(ke(eh,"Restarting streams for network reachability change."),await async function(l){const u=vt(l);u.aa.add(4),await g0(u),u.la.set("Unknown"),u.aa.delete(4),await _2(u)}(this))})}),this.la=new Vpe(n,i)}}async function _2(t){if(v0(t))for(const e of t.ua)await e(!0)}async function g0(t){for(const e of t.ua)await e(!1)}function AW(t,e){const r=vt(t);r._a.has(e.targetId)||(r._a.set(e.targetId,e),KO(r)?qO(r):ep(r).b_()&&GO(r,e))}function HO(t,e){const r=vt(t),n=ep(r);r._a.delete(e),n.b_()&&CW(r,e),r._a.size===0&&(n.b_()?n.v_():v0(r)&&r.la.set("Unknown"))}function GO(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}ep(t).U_(e)}function CW(t,e){t.ha.Ke(e),ep(t).K_(e)}function qO(t){t.ha=new Bhe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),ep(t).start(),t.la.ta()}function KO(t){return v0(t)&&!ep(t).w_()&&t._a.size>0}function v0(t){return vt(t).aa.size===0}function TW(t){t.ha=void 0}async function Wpe(t){t.la.set("Online")}async function Hpe(t){t._a.forEach((e,r)=>{GO(t,e)})}async function Gpe(t,e){TW(t),KO(t)?(t.la.ia(e),qO(t)):t.la.set("Unknown")}async function qpe(t,e,r){if(t.la.set("Online"),e instanceof fW&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i._a.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i._a.delete(s),i.ha.removeTarget(s))}(t,e)}catch(n){ke(eh,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await jM(t,n)}else if(e instanceof L1?t.ha.Xe(e):e instanceof dW?t.ha.ot(e):t.ha.nt(e),!r.isEqual(Xe.min()))try{const n=await _W(t.localStore);r.compareTo(n)>=0&&await function(a,o){const s=a.ha.It(o);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=a._a.get(u);d&&a._a.set(u,d.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,u)=>{const d=a._a.get(l);if(!d)return;a._a.set(l,d.withResumeToken(Mn.EMPTY_BYTE_STRING,d.snapshotVersion)),CW(a,l);const f=new Hl(d.target,l,u,d.sequenceNumber);GO(a,f)}),a.remoteSyncer.applyRemoteEvent(s)}(t,r)}catch(n){ke(eh,"Failed to raise snapshot:",n),await jM(t,n)}}async function jM(t,e,r){if(!Jh(e))throw e;t.aa.add(1),await g0(t),t.la.set("Offline"),r||(r=()=>_W(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ke(eh,"Retrying IndexedDB access"),await r(),t.aa.delete(1),await _2(t)})}async function kM(t,e){const r=vt(t);r.asyncQueue.verifyOperationInProgress(),ke(eh,"RemoteStore received new credentials");const n=v0(r);r.aa.add(3),await g0(r),n&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.aa.delete(3),await _2(r)}async function Kpe(t,e){const r=vt(t);e?(r.aa.delete(2),await _2(r)):e||(r.aa.add(2),await g0(r),r.la.set("Unknown"))}function ep(t){return t.Pa||(t.Pa=function(r,n,i){const a=vt(r);return a.Y_(),new Fpe(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{jo:Wpe.bind(null,t),Jo:Hpe.bind(null,t),Zo:Gpe.bind(null,t),Q_:qpe.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),KO(t)?qO(t):t.la.set("Unknown")):(await t.Pa.stop(),TW(t))})),t.Pa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new oc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,s=new YO(e,r,o,i,a);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ve(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function NW(t,e){if(Qs("AsyncQueue",`${e}: ${t}`),Jh(t))return new Ve(Pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{static emptySet(e){return new Pf(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||He.comparator(r.key,n.key):(r,n)=>He.comparator(r.key,n.key),this.keyedMap=Am(),this.sortedSet=new Fr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Pf)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Pf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(){this.Ia=new Fr(He.comparator)}track(e){const r=e.doc.key,n=this.Ia.get(r);n?e.type!==0&&n.type===3?this.Ia=this.Ia.insert(r,e):e.type===3&&n.type!==1?this.Ia=this.Ia.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Ia=this.Ia.remove(r):e.type===1&&n.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:e.doc}):Qe(63341,{Vt:e,Ea:n}):this.Ia=this.Ia.insert(r,e)}da(){const e=[];return this.Ia.inorderTraversal((r,n)=>{e.push(n)}),e}}class th{constructor(e,r,n,i,a,o,s,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach(s=>{o.push({type:0,doc:s})}),new th(e,r,Pf.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&v2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ype{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class Xpe{constructor(){this.queries=DM(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,n){const i=vt(r),a=i.queries;i.queries=DM(),a.forEach((o,s)=>{for(const l of s.Ra)l.onError(n)})})(this,new Ve(Pe.ABORTED,"Firestore shutting down"))}}function DM(){return new wd(t=>tW(t),v2)}async function IW(t,e){const r=vt(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.Va()&&e.ma()&&(n=2):(a=new Ype,n=e.ma()?0:1);try{switch(n){case 0:a.Aa=await r.onListen(i,!0);break;case 1:a.Aa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const s=NW(o,`Initialization of query '${Wd(e.query)}' failed`);return void e.onError(s)}r.queries.set(i,a),a.Ra.push(e),e.ga(r.onlineState),a.Aa&&e.pa(a.Aa)&&XO(r)}async function PW(t,e){const r=vt(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.Ra.indexOf(e);o>=0&&(a.Ra.splice(o,1),a.Ra.length===0?i=e.ma()?0:1:!a.Va()&&e.ma()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Qpe(t,e){const r=vt(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const s of o.Ra)s.pa(i)&&(n=!0);o.Aa=i}}n&&XO(r)}function Zpe(t,e,r){const n=vt(t),i=n.queries.get(e);if(i)for(const a of i.Ra)a.onError(r);n.queries.delete(e)}function XO(t){t.fa.forEach(e=>{e.next()})}var ST,MM;(MM=ST||(ST={})).ya="default",MM.Cache="cache";class OW{constructor(e,r,n){this.query=e,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new th(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ba?this.Da(e)&&(this.wa.next(e),r=!0):this.va(e,this.onlineState)&&(this.Ca(e),r=!0),this.Sa=e,r}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),r=!0),r}va(e,r){if(!e.fromCache||!this.ma())return!0;const n=r!=="Offline";return(!this.options.Fa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(e){e=th.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==ST.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(e){this.key=e}}class kW{constructor(e){this.key=e}}class Jpe{constructor(e,r){this.query=e,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=xt(),this.mutatedKeys=xt(),this.Ua=rW(e),this.Ka=new Pf(this.Ua)}get Wa(){return this.qa}Ga(e,r){const n=r?r.za:new RM,i=r?r.Ka:this.Ka;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),p=y2(this.query,f)?f:null,m=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?m!==g&&(n.track({type:3,doc:p}),v=!0):this.ja(h,p)||(n.track({type:2,doc:p}),v=!0,(l&&this.Ua(p,l)>0||u&&this.Ua(p,u)<0)&&(s=!0)):!h&&p?(n.track({type:0,doc:p}),v=!0):h&&!p&&(n.track({type:1,doc:h}),v=!0,(l||u)&&(s=!0)),v&&(p?(o=o.add(p),a=g?a.add(d):a.delete(d)):(o=o.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),a=a.delete(d.key),n.track({type:1,doc:d})}return{Ka:o,za:n,ys:s,mutatedKeys:a}}ja(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((d,f)=>function(p,m){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe(20277,{Vt:v})}};return g(p)-g(m)}(d.type,f.type)||this.Ua(d.doc,f.doc)),this.Ha(n),i=i!=null&&i;const s=r&&!i?this.Ja():[],l=this.$a.size===0&&this.current&&!i?1:0,u=l!==this.Qa;return this.Qa=l,o.length!==0||u?{snapshot:new th(this.query,e.Ka,a,o,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:s}:{Ya:s}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new RM,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=xt(),this.Ka.forEach(n=>{this.Za(n.key)&&(this.$a=this.$a.add(n.key))});const r=[];return e.forEach(n=>{this.$a.has(n)||r.push(new kW(n))}),this.$a.forEach(n=>{e.has(n)||r.push(new jW(n))}),r}Xa(e){this.qa=e.Ns,this.$a=xt();const r=this.Ga(e.documents);return this.applyChanges(r,!0)}eu(){return th.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const QO="SyncEngine";class eme{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class tme{constructor(e){this.key=e,this.tu=!1}}class rme{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new wd(s=>tW(s),v2),this.iu=new Map,this.su=new Set,this.ou=new Fr(He.comparator),this._u=new Map,this.au=new UO,this.uu={},this.cu=new Map,this.lu=Jf.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function nme(t,e,r=!0){const n=$W(t);let i;const a=n.ru.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.eu()):i=await RW(n,e,r,!0),i}async function ime(t,e){const r=$W(t);await RW(r,e,!0,!1)}async function RW(t,e,r,n){const i=await Ppe(t.localStore,qo(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let s;return n&&(s=await ame(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&AW(t.remoteStore,i),s}async function ame(t,e,r,n,i){t.Pu=(f,h,p)=>async function(g,v,x,y){let w=v.view.Ga(x);w.ys&&(w=await TM(g.localStore,v.query,!1).then(({documents:A})=>v.view.Ga(A,w)));const S=y&&y.targetChanges.get(v.targetId),E=y&&y.targetMismatches.get(v.targetId)!=null,C=v.view.applyChanges(w,g.isPrimaryClient,S,E);return $M(g,v.targetId,C.Ya),C.snapshot}(t,f,h,p);const a=await TM(t.localStore,e,!0),o=new Jpe(e,a.Ns),s=o.Ga(a.documents),l=m0.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=o.applyChanges(s,t.isPrimaryClient,l);$M(t,r,u.Ya);const d=new eme(e,r,o);return t.ru.set(e,d),t.iu.has(r)?t.iu.get(r).push(e):t.iu.set(r,[e]),u.snapshot}async function ome(t,e,r){const n=vt(t),i=n.ru.get(e),a=n.iu.get(i.targetId);if(a.length>1)return n.iu.set(i.targetId,a.filter(o=>!v2(o,e))),void n.ru.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await bT(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&HO(n.remoteStore,i.targetId),ET(n,i.targetId)}).catch(f2)):(ET(n,i.targetId),await bT(n.localStore,i.targetId,!0))}async function sme(t,e){const r=vt(t),n=r.ru.get(e),i=r.iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),HO(r.remoteStore,n.targetId))}async function DW(t,e){const r=vt(t);try{const n=await Npe(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r._u.get(a);o&&(Er(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.tu=!0:i.modifiedDocuments.size>0?Er(o.tu,14607):i.removedDocuments.size>0&&(Er(o.tu,42227),o.tu=!1))}),await LW(r,n,e)}catch(n){await f2(n)}}function LM(t,e,r){const n=vt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.ru.forEach((a,o)=>{const s=o.view.ga(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=vt(o);l.onlineState=s;let u=!1;l.queries.forEach((d,f)=>{for(const h of f.Ra)h.ga(s)&&(u=!0)}),u&&XO(l)}(n.eventManager,e),i.length&&n.nu.Q_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function lme(t,e,r){const n=vt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n._u.get(e),a=i&&i.key;if(a){let o=new Fr(He.comparator);o=o.insert(a,Qn.newNoDocument(a,Xe.min()));const s=xt().add(a),l=new b2(Xe.min(),new Map,new Fr(ot),o,s);await DW(n,l),n.ou=n.ou.remove(a),n._u.delete(e),ZO(n)}else await bT(n.localStore,e,!1).then(()=>ET(n,e,r)).catch(f2)}function ET(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.iu.get(e))t.ru.delete(n),r&&t.nu.Tu(n,r);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(n=>{t.au.containsKey(n)||MW(t,n)})}function MW(t,e){t.su.delete(e.path.canonicalString());const r=t.ou.get(e);r!==null&&(HO(t.remoteStore,r),t.ou=t.ou.remove(e),t._u.delete(r),ZO(t))}function $M(t,e,r){for(const n of r)n instanceof jW?(t.au.addReference(n.key,e),cme(t,n)):n instanceof kW?(ke(QO,"Document no longer in limbo: "+n.key),t.au.removeReference(n.key,e),t.au.containsKey(n.key)||MW(t,n.key)):Qe(19791,{Iu:n})}function cme(t,e){const r=e.key,n=r.path.canonicalString();t.ou.get(r)||t.su.has(n)||(ke(QO,"New document in limbo: "+r),t.su.add(n),ZO(t))}function ZO(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const r=new He(fr.fromString(e)),n=t.lu.next();t._u.set(n,new tme(r)),t.ou=t.ou.insert(r,n),AW(t.remoteStore,new Hl(qo(LO(r.path)),n,"TargetPurposeLimboResolution",h2.le))}}async function LW(t,e,r){const n=vt(t),i=[],a=[],o=[];n.ru.isEmpty()||(n.ru.forEach((s,l)=>{o.push(n.Pu(l,e,r).then(u=>{var d;if((u||r)&&n.isPrimaryClient){const f=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=zO.Ps(l.targetId,u);a.push(f)}}))}),await Promise.all(o),n.nu.Q_(i),await async function(l,u){const d=vt(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ge.forEach(u,h=>ge.forEach(h.ls,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>ge.forEach(h.hs,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Jh(f))throw f;ke(WO,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.Ss.get(h),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);d.Ss=d.Ss.insert(h,g)}}}(n.localStore,a))}async function ume(t,e){const r=vt(t);if(!r.currentUser.isEqual(e)){ke(QO,"User change. New user:",e.toKey());const n=await bW(r.localStore,e);r.currentUser=e,function(a,o){a.cu.forEach(s=>{s.forEach(l=>{l.reject(new Ve(Pe.CANCELLED,o))})}),a.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await LW(r,n.Ms)}}function dme(t,e){const r=vt(t),n=r._u.get(e);if(n&&n.tu)return xt().add(n.key);{let i=xt();const a=r.iu.get(e);if(!a)return i;for(const o of a){const s=r.ru.get(o);i=i.unionWith(s.view.Wa)}return i}}function $W(t){const e=vt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DW.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dme.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lme.bind(null,e),e.nu.Q_=Qpe.bind(null,e.eventManager),e.nu.Tu=Zpe.bind(null,e.eventManager),e}class Hx{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=SW(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,r){return null}fu(e,r){return null}Vu(e){return Tpe(this.persistence,new Epe,e.initialUser,this.serializer)}Ru(e){return new wW(VO.Ei,this.serializer)}Au(e){return new jpe}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hx.provider={build:()=>new Hx};class fme extends Hx{constructor(e){super(),this.cacheSizeBytes=e}mu(e,r){Er(this.persistence.referenceDelegate instanceof Wx,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new cpe(n,e.asyncQueue,r)}Ru(e){const r=this.cacheSizeBytes!==void 0?ji.withCacheSize(this.cacheSizeBytes):ji.DEFAULT;return new wW(n=>Wx.Ei(n,r),this.serializer)}}class AT{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>LM(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=ume.bind(null,this.syncEngine),await Kpe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Xpe}()}createDatastore(e){const r=SW(e.databaseInfo.databaseId),n=function(a){return new Lpe(a)}(e.databaseInfo);return function(a,o,s,l){return new Upe(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,o,s){return new zpe(n,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,r=>LM(this.syncEngine,r,0),function(){return PM.C()?new PM:new kpe}())}createSyncEngine(e,r){return function(i,a,o,s,l,u,d){const f=new rme(i,a,o,s,l,u);return d&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=vt(i);ke(eh,"RemoteStore shutting down."),a.aa.add(5),await g0(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}AT.provider={build:()=>new AT};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Qs("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc="FirestoreClient";class hme{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Yn.UNAUTHENTICATED,this.clientId=Vz.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{ke(Cc,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(ke(Cc,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=NW(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function fE(t,e){t.asyncQueue.verifyOperationInProgress(),ke(Cc,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await bW(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function FM(t,e){t.asyncQueue.verifyOperationInProgress();const r=await pme(t);ke(Cc,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>kM(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>kM(e.remoteStore,i)),t._onlineComponents=e}async function pme(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ke(Cc,"Using user provided OfflineComponentProvider");try{await fE(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===Pe.FAILED_PRECONDITION||i.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Yf("Error using user provided cache. Falling back to memory cache: "+r),await fE(t,new Hx)}}else ke(Cc,"Using default OfflineComponentProvider"),await fE(t,new fme(void 0));return t._offlineComponents}async function mme(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ke(Cc,"Using user provided OnlineComponentProvider"),await FM(t,t._uninitializedComponentsProvider._online)):(ke(Cc,"Using default OnlineComponentProvider"),await FM(t,new AT))),t._onlineComponents}async function BW(t){const e=await mme(t),r=e.eventManager;return r.onListen=nme.bind(null,e.syncEngine),r.onUnlisten=ome.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=ime.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=sme.bind(null,e.syncEngine),r}function gme(t,e,r={}){const n=new oc;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const d=new FW({next:h=>{d.yu(),o.enqueueAndForget(()=>PW(a,f));const p=h.docs.has(s);!p&&h.fromCache?u.reject(new Ve(Pe.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new Ve(Pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new OW(LO(s.path),d,{includeMetadataChanges:!0,Fa:!0});return IW(a,f)}(await BW(t),t.asyncQueue,e,r,n)),n.promise}function vme(t,e,r={}){const n=new oc;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const d=new FW({next:h=>{d.yu(),o.enqueueAndForget(()=>PW(a,f)),h.fromCache&&l.source==="server"?u.reject(new Ve(Pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new OW(s,d,{includeMetadataChanges:!0,Fa:!0});return IW(a,f)}(await BW(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UW(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VW(t,e,r){if(!r)throw new Ve(Pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yme(t,e,r,n){if(e===!0&&n===!0)throw new Ve(Pe.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function UM(t){if(!He.isDocumentKey(t))throw new Ve(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VM(t){if(He.isDocumentKey(t))throw new Ve(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xme(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Qe(12329,{type:typeof t})}function zg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ve(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=xme(t);throw new Ve(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW="firestore.googleapis.com",zM=!0;class WM{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ve(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zW,this.ssl=zM}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:zM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xW;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<spe)throw new Ve(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yme("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UW((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ve(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ve(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ve(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class S2{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WM({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ve(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ve(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WM(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Mfe;switch(n.type){case"firstParty":return new Bfe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ve(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Qh("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=BM.get(r);n&&(ke("ComponentProvider","Removing Datastore"),BM.delete(r),n.terminate())}(this),Promise.resolve()}}function wme(t,e,r,n={}){var i;t=zg(t,S2);const a=Xh(e),o=t._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${r}`;o.host!==zW&&o.host!==l&&Yf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:a,emulatorOptions:n});if(!wc(u,s)&&(t._setSettings(u),a&&(NO(`https://${l}`),Qh("Firestore",!0)),n.mockUserToken)){let d,f;if(typeof n.mockUserToken=="string")d=n.mockUserToken,f=Yn.MOCK_USER;else{d=Az(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Ve(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Yn(h)}t._authCredentials=new Lfe(new Bz(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new E2(this.firestore,e,this._query)}}class Ko{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ko(this.firestore,e,this._key)}}class sc extends E2{constructor(e,r,n){super(e,r,LO(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ko(this.firestore,null,new He(e))}withConverter(e){return new sc(this.firestore,e,this._path)}}function HM(t,e,...r){if(t=ii(t),VW("collection","path",e),t instanceof S2){const n=fr.fromString(e,...r);return VM(n),new sc(t,null,n)}{if(!(t instanceof Ko||t instanceof sc))throw new Ve(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(fr.fromString(e,...r));return VM(n),new sc(t.firestore,null,n)}}function WW(t,e,...r){if(t=ii(t),arguments.length===1&&(e=Vz.newId()),VW("doc","path",e),t instanceof S2){const n=fr.fromString(e,...r);return UM(n),new Ko(t,null,new He(n))}{if(!(t instanceof Ko||t instanceof sc))throw new Ve(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(fr.fromString(e,...r));return UM(n),new Ko(t.firestore,t instanceof sc?t.converter:null,new He(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM="AsyncQueue";class qM{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new EW(this,"async_queue_retry"),this.ju=()=>{const n=dE();n&&ke(GM,"Visibility state changed to "+n.visibilityState),this.y_.A_()},this.Hu=e;const r=dE();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const r=dE();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new oc;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Jh(e))throw e;ke(GM,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const r=this.Hu.then(()=>(this.Wu=!0,e().catch(n=>{throw this.Ku=n,this.Wu=!1,Qs("INTERNAL UNHANDLED ERROR: ",KM(n)),n}).then(n=>(this.Wu=!1,n))));return this.Hu=r,r}enqueueAfterDelay(e,r,n){this.Ju(),this.zu.indexOf(e)>-1&&(r=0);const i=YO.createAndSchedule(this,e,r,n,a=>this.Xu(a));return this.Uu.push(i),i}Ju(){this.Ku&&Qe(47125,{ec:KM(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const r of this.Uu)if(r.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const r=this.Uu.indexOf(e);this.Uu.splice(r,1)}}function KM(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class JO extends S2{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new qM,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qM(e),this._firestoreClient=void 0,await e}}}function bme(t,e){const r=typeof t=="object"?t:h0(),n=typeof t=="string"?t:Fx,i=ll(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=_z("firestore");a&&wme(i,...a)}return i}function HW(t){if(t._terminated)throw new Ve(Pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_me(t),t._firestoreClient}function _me(t){var e,r,n;const i=t._freezeSettings(),a=function(s,l,u,d){return new rhe(s,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,UW(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new hme(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gx(Mn.fromBase64String(e))}catch(r){throw new Ve(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Gx(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ve(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sme{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ve(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ve(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eme{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}const Ame=new RegExp("[~\\*/\\[\\]]");function Cme(t,e,r){if(e.search(Ame)>=0)throw YM(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new GW(...e.split("."))._internalPath}catch{throw YM(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function YM(t,e,r,n,i){let a=`Function ${e}() called with invalid data`;a+=". ";let o="";return new Ve(Pe.INVALID_ARGUMENT,a+t+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qW{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ko(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Tme(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(KW("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Tme extends qW{data(){return super.data()}}function KW(t,e){return typeof e=="string"?Cme(t,e):e instanceof GW?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nme(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ve(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ime{convertValue(e,r="none"){switch(Ec(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Sc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Qe(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return p0(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r[dT].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>Dr(o.doubleValue));return new Eme(a)}convertGeoPoint(e){return new Sme(Dr(e.latitude),Dr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=m2(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Bg(e));default:return null}}convertTimestamp(e){const r=_c(e);return new Vi(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=fr.fromString(e);Er(yW(n),9688,{name:e});const i=new Ug(n.get(1),n.get(3)),a=new He(n.popFirst(5));return i.isEqual(r)||Qs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class YW extends qW{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new $1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(KW("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class $1 extends YW{data(e={}){return super.data(e)}}class Pme{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Tm(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new $1(this._firestore,this._userDataWriter,n.key,n,new Tm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ve(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new $1(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Tm(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new $1(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Tm(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),d=o.indexOf(s.doc.key)),{type:Ome(s.type),doc:l,oldIndex:u,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Ome(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XW(t){t=zg(t,Ko);const e=zg(t.firestore,JO);return gme(HW(e),t._key).then(r=>jme(e,t,r))}class QW extends Ime{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gx(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ko(this.firestore,null,r)}}function XM(t){t=zg(t,E2);const e=zg(t.firestore,JO),r=HW(e),n=new QW(e);return Nme(t._query),vme(r,t._query).then(i=>new Pme(e,n,t,i))}function jme(t,e,r){const n=r.docs.get(e._key),i=new QW(t);return new YW(t,i,e._key,n,new Tm(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){Zh=i})(xd),fa(new qi("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),s=new JO(new $fe(n.getProvider("auth-internal")),new Ufe(o,n.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ve(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ug(u.options.projectId,d)}(o,i),o);return a=Object.assign({useFetchStreams:r},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),ei(QD,ZD,e),ei(QD,ZD,"esm2017")})();var Bo=function(){return Bo=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Bo.apply(this,arguments)};function y0(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function kme(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function ZW(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Rme=ZW,JW=new $c("auth","Firebase",ZW());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=new u2("@firebase/auth");function Dme(t,...e){qx.logLevel<=ut.WARN&&qx.warn(`Auth (${xd}): ${t}`,...e)}function F1(t,...e){qx.logLevel<=ut.ERROR&&qx.error(`Auth (${xd}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(t,...e){throw tj(t,...e)}function xo(t,...e){return tj(t,...e)}function ej(t,e,r){const n=Object.assign(Object.assign({},Rme()),{[e]:r});return new $c("auth","Firebase",n).create(e,{appName:t.name})}function Ls(t){return ej(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mme(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&Fa(t,"argument-error"),ej(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tj(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return JW.create(t,...e)}function Ye(t,e,...r){if(!t)throw tj(e,...r)}function Is(t){const e="INTERNAL ASSERTION FAILED: "+t;throw F1(e),new Error(e)}function Zs(t,e){t||Is(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Lme(){return QM()==="http:"||QM()==="https:"}function QM(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $me(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Lme()||Cz()||"connection"in navigator)?navigator.onLine:!0}function Fme(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,r){this.shortDelay=e,this.longDelay=r,Zs(r>e,"Short delay should be less than long delay!"),this.isMobile=ude()||hde()}get(){return $me()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(t,e){Zs(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bme={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ume=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Vme=new x0(3e4,6e4);function Fc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function cl(t,e,r,n,i={}){return tH(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const s=f0(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},a);return fde()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Xh(t.emulatorConfig.host)&&(u.credentials="include"),eH.fetch()(await rH(t,t.config.apiHost,r,s),u)})}async function tH(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},Bme),e);try{const i=new Wme(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw My(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw My(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw My(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw My(t,"user-disabled",o);const d=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw ej(t,d,u);Fa(t,d)}}catch(i){if(i instanceof Wa)throw i;Fa(t,"network-request-failed",{message:String(i)})}}async function w0(t,e,r,n,i={}){const a=await cl(t,e,r,n,i);return"mfaPendingCredential"in a&&Fa(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function rH(t,e,r,n){const i=`${e}${r}?${n}`,a=t,o=a.config.emulator?rj(t.config,i):`${t.config.apiScheme}://${i}`;return Ume.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function zme(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Wme{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(xo(this.auth,"network-request-failed")),Vme.get())})}}function My(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=xo(t,e,n);return i.customData._tokenResponse=r,i}function ZM(t){return t!==void 0&&t.enterprise!==void 0}class Hme{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return zme(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Gme(t,e){return cl(t,"GET","/v2/recaptchaConfig",Fc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qme(t,e){return cl(t,"POST","/v1/accounts:delete",e)}async function Kx(t,e){return cl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Kme(t,e=!1){const r=ii(t),n=await r.getIdToken(e),i=nj(n);Ye(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:tg(hE(i.auth_time)),issuedAtTime:tg(hE(i.iat)),expirationTime:tg(hE(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function hE(t){return Number(t)*1e3}function nj(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return F1("JWT malformed, contained fewer than 3 sections"),null;try{const i=wz(r);return i?JSON.parse(i):(F1("Failed to decode base64 JWT payload"),null)}catch(i){return F1("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function JM(t){const e=nj(t);return Ye(e,"internal-error"),Ye(typeof e.exp<"u","internal-error"),Ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rh(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Wa&&Yme(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Yme({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xme{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=tg(this.lastLoginAt),this.creationTime=tg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(t){var e;const r=t.auth,n=await t.getIdToken(),i=await rh(t,Kx(r,{idToken:n}));Ye(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?nH(a.providerUserInfo):[],s=Zme(t.providerData,o),l=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),d=l?u:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new TT(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function Qme(t){const e=ii(t);await Yx(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Zme(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function nH(t){return t.map(e=>{var{providerId:r}=e,n=y0(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jme(t,e){const r=await tH(t,{},async()=>{const n=f0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await rH(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",eH.fetch()(o,{method:"POST",headers:s,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function ege(t,e){return cl(t,"POST","/v2/accounts:revokeToken",Fc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ye(e.idToken,"internal-error"),Ye(typeof e.idToken<"u","internal-error"),Ye(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):JM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ye(e.length!==0,"internal-error");const r=JM(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await Jme(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new Of;return n&&(Ye(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(Ye(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Ye(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Of,this.toJSON())}_performRefresh(){return Is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(t,e){Ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ho{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=y0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xme(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new TT(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await rh(this,this.stsTokenManager.getToken(this.auth,e));return Ye(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Kme(this,e)}reload(){return Qme(this)}_assign(e){this!==e&&(Ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ho(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Yx(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ri(this.auth.app))return Promise.reject(Ls(this.auth));const e=await this.getIdToken();return await rh(this,qme(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,o,s,l,u,d;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,h=(i=r.email)!==null&&i!==void 0?i:void 0,p=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,m=(o=r.photoURL)!==null&&o!==void 0?o:void 0,g=(s=r.tenantId)!==null&&s!==void 0?s:void 0,v=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=r.createdAt)!==null&&u!==void 0?u:void 0,y=(d=r.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:S,isAnonymous:E,providerData:C,stsTokenManager:A}=r;Ye(w&&A,e,"internal-error");const T=Of.fromJSON(this.name,A);Ye(typeof w=="string",e,"internal-error"),bl(f,e.name),bl(h,e.name),Ye(typeof S=="boolean",e,"internal-error"),Ye(typeof E=="boolean",e,"internal-error"),bl(p,e.name),bl(m,e.name),bl(g,e.name),bl(v,e.name),bl(x,e.name),bl(y,e.name);const N=new ho({uid:w,auth:e,email:h,emailVerified:S,displayName:f,isAnonymous:E,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:T,createdAt:x,lastLoginAt:y});return C&&Array.isArray(C)&&(N.providerData=C.map(I=>Object.assign({},I))),v&&(N._redirectEventId=v),N}static async _fromIdTokenResponse(e,r,n=!1){const i=new Of;i.updateFromServerResponse(r);const a=new ho({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Yx(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ye(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?nH(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new Of;s.updateFromIdToken(n);const l=new ho({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new TT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=new Map;function Ps(t){Zs(t instanceof Function,"Expected a class definition");let e=e6.get(t);return e?(Zs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,e6.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}iH.type="NONE";const t6=iH;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t,e,r){return`firebase:${t}:${e}:${r}`}class jf{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=B1(this.userKey,i.apiKey,a),this.fullPersistenceKey=B1("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Kx(this.auth,{idToken:e}).catch(()=>{});return r?ho._fromGetAccountInfoResponse(this.auth,r,e):null}return ho._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new jf(Ps(t6),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Ps(t6);const o=B1(n,e.config.apiKey,e.name);let s=null;for(const u of r)try{const d=await u._get(o);if(d){let f;if(typeof d=="string"){const h=await Kx(e,{idToken:d}).catch(()=>{});if(!h)break;f=await ho._fromGetAccountInfoResponse(e,h,d)}else f=ho._fromJSON(e,d);u!==a&&(s=f),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new jf(a,e,n):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new jf(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lH(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aH(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uH(e))return"Blackberry";if(dH(e))return"Webos";if(oH(e))return"Safari";if((e.includes("chrome/")||sH(e))&&!e.includes("edge/"))return"Chrome";if(cH(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function aH(t=ni()){return/firefox\//i.test(t)}function oH(t=ni()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sH(t=ni()){return/crios\//i.test(t)}function lH(t=ni()){return/iemobile/i.test(t)}function cH(t=ni()){return/android/i.test(t)}function uH(t=ni()){return/blackberry/i.test(t)}function dH(t=ni()){return/webos/i.test(t)}function ij(t=ni()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tge(t=ni()){var e;return ij(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rge(){return pde()&&document.documentMode===10}function fH(t=ni()){return ij(t)||cH(t)||dH(t)||uH(t)||/windows phone/i.test(t)||lH(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hH(t,e=[]){let r;switch(t){case"Browser":r=r6(ni());break;case"Worker":r=`${r6(ni())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${xd}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nge{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ige(t,e={}){return cl(t,"GET","/v2/passwordPolicy",Fc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const age=6;class oge{constructor(e){var r,n,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:age,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sge{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new n6(this),this.idTokenSubscription=new n6(this),this.beforeStateQueue=new nge(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JW,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Ps(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await jf.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Kx(this,{idToken:e}),n=await ho._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Ri(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Yx(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Fme()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ri(this.app))return Promise.reject(Ls(this));const r=e?ii(e):null;return r&&Ye(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ri(this.app)?Promise.reject(Ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ri(this.app)?Promise.reject(Ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ige(this),r=new oge(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $c("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await ege(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Ps(e)||this._popupRedirectResolver;Ye(r,this,"argument-error"),this.redirectPersistenceManager=await jf.create(this,[Ps(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ye(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{o=!0,l()}}else{const l=e.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hH(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;if(Ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&Dme(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Bc(t){return ii(t)}class n6{constructor(e){this.auth=e,this.observer=null,this.addObserver=wde(r=>this.observer=r)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lge(t){A2=t}function pH(t){return A2.loadJS(t)}function cge(){return A2.recaptchaEnterpriseScript}function uge(){return A2.gapiScript}function dge(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class fge{constructor(){this.enterprise=new hge}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class hge{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const pge="recaptcha-enterprise",mH="NO_RECAPTCHA";class mge{constructor(e){this.type=pge,this.auth=Bc(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{Gme(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new Hme(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;ZM(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(u=>{o(u)}).catch(()=>{o(mH)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fge().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(s=>{if(!r&&ZM(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=cge();l.length!==0&&(l+=s),pH(l).then(()=>{i(s,a,o)}).catch(u=>{o(u)})}}).catch(s=>{o(s)})})}}async function i6(t,e,r,n=!1,i=!1){const a=new mge(t);let o;if(i)o=mH;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const s=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const l=s.phoneEnrollmentInfo.phoneNumber,u=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const l=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return n?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function NT(t,e,r,n,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await i6(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await i6(t,e,r,r==="getOobCode");return n(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gge(t,e){const r=ll(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(wc(a,e??{}))return i;Fa(i,"already-initialized")}return r.initialize({options:e})}function vge(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Ps);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function yge(t,e,r){const n=Bc(t);Ye(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!!(r!=null&&r.disableWarnings),a=gH(e),{host:o,port:s}=xge(e),l=s===null?"":`:${s}`,u={url:`${a}//${o}${l}/`},d=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Ye(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Ye(wc(u,n.config.emulator)&&wc(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,Xh(o)?(Qh("Auth",!0),NO(`${a}//${o}${l}`)):i||wge()}function gH(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xge(t){const e=gH(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:a6(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:a6(o)}}}function a6(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wge(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Is("not implemented")}_getIdTokenResponse(e){return Is("not implemented")}_linkToIdToken(e,r){return Is("not implemented")}_getReauthenticationResolver(e){return Is("not implemented")}}async function bge(t,e){return cl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _ge(t,e){return w0(t,"POST","/v1/accounts:signInWithPassword",Fc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sge(t,e){return w0(t,"POST","/v1/accounts:signInWithEmailLink",Fc(t,e))}async function Ege(t,e){return w0(t,"POST","/v1/accounts:signInWithEmailLink",Fc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg extends aj{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Wg(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Wg(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return NT(e,r,"signInWithPassword",_ge);case"emailLink":return Sge(e,{email:this._email,oobCode:this._password});default:Fa(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return NT(e,n,"signUpPassword",bge);case"emailLink":return Ege(e,{idToken:r,email:this._email,oobCode:this._password});default:Fa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kf(t,e){return w0(t,"POST","/v1/accounts:signInWithIdp",Fc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Age="http://localhost";class Ku extends aj{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Ku(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Fa("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=y0(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new Ku(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return kf(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,kf(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,kf(e,r)}buildRequest(){const e={requestUri:Age,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=f0(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cge(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Tge(t){const e=_m(Sm(t)).link,r=e?_m(Sm(e)).deep_link_id:null,n=_m(Sm(t)).deep_link_id;return(n?_m(Sm(n)).link:null)||n||r||e||t}class oj{constructor(e){var r,n,i,a,o,s;const l=_m(Sm(e)),u=(r=l.apiKey)!==null&&r!==void 0?r:null,d=(n=l.oobCode)!==null&&n!==void 0?n:null,f=Cge((i=l.mode)!==null&&i!==void 0?i:null);Ye(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const r=Tge(e);try{return new oj(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(){this.providerId=tp.PROVIDER_ID}static credential(e,r){return Wg._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=oj.parseLink(r);return Ye(n,"argument-error"),Wg._fromEmailAndCode(e,n.code,n.tenantId)}}tp.PROVIDER_ID="password";tp.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0 extends sj{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends b0{constructor(){super("facebook.com")}static credential(e){return Ku._fromParams({providerId:Ml.PROVIDER_ID,signInMethod:Ml.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ml.credentialFromTaggedObject(e)}static credentialFromError(e){return Ml.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ml.credential(e.oauthAccessToken)}catch{return null}}}Ml.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ml.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends b0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Ku._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return As.credential(r,n)}catch{return null}}}As.GOOGLE_SIGN_IN_METHOD="google.com";As.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends b0{constructor(){super("github.com")}static credential(e){return Ku._fromParams({providerId:Ll.PROVIDER_ID,signInMethod:Ll.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ll.credentialFromTaggedObject(e)}static credentialFromError(e){return Ll.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ll.credential(e.oauthAccessToken)}catch{return null}}}Ll.GITHUB_SIGN_IN_METHOD="github.com";Ll.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends b0{constructor(){super("twitter.com")}static credential(e,r){return Ku._fromParams({providerId:$l.PROVIDER_ID,signInMethod:$l.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return $l.credentialFromTaggedObject(e)}static credentialFromError(e){return $l.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return $l.credential(r,n)}catch{return null}}}$l.TWITTER_SIGN_IN_METHOD="twitter.com";$l.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nge(t,e){return w0(t,"POST","/v1/accounts:signUp",Fc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await ho._fromIdTokenResponse(e,n,i),o=o6(n);return new Yu({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=o6(n);return new Yu({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function o6(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx extends Wa{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Xx.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Xx(e,r,n,i)}}function vH(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Xx._fromErrorAndOperation(t,a,e,n):a})}async function Ige(t,e,r=!1){const n=await rh(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Yu._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pge(t,e,r=!1){const{auth:n}=t;if(Ri(n.app))return Promise.reject(Ls(n));const i="reauthenticate";try{const a=await rh(t,vH(n,i,e,t),r);Ye(a.idToken,n,"internal-error");const o=nj(a.idToken);Ye(o,n,"internal-error");const{sub:s}=o;return Ye(t.uid===s,n,"user-mismatch"),Yu._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Fa(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yH(t,e,r=!1){if(Ri(t.app))return Promise.reject(Ls(t));const n="signIn",i=await vH(t,n,e),a=await Yu._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function Oge(t,e){return yH(Bc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xH(t){const e=Bc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function jge(t,e,r){if(Ri(t.app))return Promise.reject(Ls(t));const n=Bc(t),o=await NT(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Nge).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&xH(t),l}),s=await Yu._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(s.user),s}function wH(t,e,r){return Ri(t.app)?Promise.reject(Ls(t)):Oge(ii(t),tp.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&xH(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kge(t,e){return cl(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rge(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=ii(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await rh(n,kge(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const s=n.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=n.displayName,s.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function Dge(t,e,r,n){return ii(t).onIdTokenChanged(e,r,n)}function Mge(t,e,r){return ii(t).beforeAuthStateChanged(e,r)}function Lge(t,e,r,n){return ii(t).onAuthStateChanged(e,r,n)}function $ge(t){return ii(t).signOut()}const Qx="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Qx,"1"),this.storage.removeItem(Qx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fge=1e3,Bge=10;class _H extends bH{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fH(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);rge()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Bge):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Fge)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}_H.type="LOCAL";const Uge=_H;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH extends bH{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}SH.type="SESSION";const EH=SH;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vge(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new C2(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map(async u=>u(r.origin,a)),l=await Vge(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}C2.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zge{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const u=lj("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(h.data.response);break;default:clearTimeout(d),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(){return window}function Wge(t){Yo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AH(){return typeof Yo().WorkerGlobalScope<"u"&&typeof Yo().importScripts=="function"}async function Hge(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Gge(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function qge(){return AH()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CH="firebaseLocalStorageDb",Kge=1,Zx="firebaseLocalStorage",TH="fbase_key";class _0{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function T2(t,e){return t.transaction([Zx],e?"readwrite":"readonly").objectStore(Zx)}function Yge(){const t=indexedDB.deleteDatabase(CH);return new _0(t).toPromise()}function IT(){const t=indexedDB.open(CH,Kge);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Zx,{keyPath:TH})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Zx)?e(n):(n.close(),await Yge(),e(await IT()))})})}async function s6(t,e,r){const n=T2(t,!0).put({[TH]:e,value:r});return new _0(n).toPromise()}async function Xge(t,e){const r=T2(t,!1).get(e),n=await new _0(r).toPromise();return n===void 0?null:n.value}function l6(t,e){const r=T2(t,!0).delete(e);return new _0(r).toPromise()}const Qge=800,Zge=3;class NH{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await IT(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Zge)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AH()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=C2._getInstance(qge()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await Hge(),!this.activeServiceWorker)return;this.sender=new zge(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Gge()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await IT();return await s6(e,Qx,"1"),await l6(e,Qx),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>s6(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Xge(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>l6(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=T2(i,!1).getAll();return new _0(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Qge)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NH.type="LOCAL";const Jge=NH;new x0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IH(t,e){return e?Ps(e):(Ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj extends aj{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kf(e,this._buildIdpRequest())}_linkToIdToken(e,r){return kf(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return kf(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function eve(t){return yH(t.auth,new cj(t),t.bypassAuthState)}function tve(t){const{auth:e,user:r}=t;return Ye(r,e,"internal-error"),Pge(r,new cj(t),t.bypassAuthState)}async function rve(t){const{auth:e,user:r}=t;return Ye(r,e,"internal-error"),Ige(r,new cj(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eve;case"linkViaPopup":case"linkViaRedirect":return rve;case"reauthViaPopup":case"reauthViaRedirect":return tve;default:Fa(this.auth,"internal-error")}}resolve(e){Zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nve=new x0(2e3,1e4);async function ive(t,e,r){if(Ri(t.app))return Promise.reject(xo(t,"operation-not-supported-in-this-environment"));const n=Bc(t);Mme(t,e,sj);const i=IH(n,r);return new bu(n,"signInViaPopup",e,i).executeNotNull()}class bu extends PH{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,bu.currentPopupAction&&bu.currentPopupAction.cancel(),bu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ye(e,this.auth,"internal-error"),e}async onExecution(){Zs(this.filter.length===1,"Popup operations only handle one event");const e=lj();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(xo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(xo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nve.get())};e()}}bu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ave="pendingRedirect",U1=new Map;class ove extends PH{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=U1.get(this.auth._key());if(!e){try{const n=await sve(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}U1.set(this.auth._key(),e)}return this.bypassAuthState||U1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sve(t,e){const r=uve(e),n=cve(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function lve(t,e){U1.set(t._key(),e)}function cve(t){return Ps(t._redirectPersistence)}function uve(t){return B1(ave,t.config.apiKey,t.name)}async function dve(t,e,r=!1){if(Ri(t.app))return Promise.reject(Ls(t));const n=Bc(t),i=IH(n,e),o=await new ove(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fve=10*60*1e3;class hve{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pve(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!OH(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(xo(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fve&&this.cachedEventUids.clear(),this.cachedEventUids.has(c6(e))}saveEventToCache(e){this.cachedEventUids.add(c6(e)),this.lastProcessedEventTime=Date.now()}}function c6(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function OH({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pve(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OH(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mve(t,e={}){return cl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gve=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vve=/^https?/;async function yve(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mve(t);for(const r of e)try{if(xve(r))return}catch{}Fa(t,"unauthorized-domain")}function xve(t){const e=CT(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!vve.test(r))return!1;if(gve.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wve=new x0(3e4,6e4);function u6(){const t=Yo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function bve(t){return new Promise((e,r)=>{var n,i,a;function o(){u6(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{u6(),r(xo(t,"network-request-failed"))},timeout:wve.get()})}if(!((i=(n=Yo().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Yo().gapi)===null||a===void 0)&&a.load)o();else{const s=dge("iframefcb");return Yo()[s]=()=>{gapi.load?o():r(xo(t,"network-request-failed"))},pH(`${uge()}?onload=${s}`).catch(l=>r(l))}}).catch(e=>{throw V1=null,e})}let V1=null;function _ve(t){return V1=V1||bve(t),V1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sve=new x0(5e3,15e3),Eve="__/auth/iframe",Ave="emulator/auth/iframe",Cve={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tve=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nve(t){const e=t.config;Ye(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?rj(e,Ave):`https://${t.config.authDomain}/${Eve}`,n={apiKey:e.apiKey,appName:t.name,v:xd},i=Tve.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${f0(n).slice(1)}`}async function Ive(t){const e=await _ve(t),r=Yo().gapi;return Ye(r,t,"internal-error"),e.open({where:document.body,url:Nve(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cve,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=xo(t,"network-request-failed"),s=Yo().setTimeout(()=>{a(o)},Sve.get());function l(){Yo().clearTimeout(s),i(n)}n.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pve={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ove=500,jve=600,kve="_blank",Rve="http://localhost";class d6{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Dve(t,e,r,n=Ove,i=jve){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l=Object.assign(Object.assign({},Pve),{width:n.toString(),height:i.toString(),top:a,left:o}),u=ni().toLowerCase();r&&(s=sH(u)?kve:r),aH(u)&&(e=e||Rve,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(tge(u)&&s!=="_self")return Mve(e||"",s),new d6(null);const f=window.open(e||"",s,d);Ye(f,t,"popup-blocked");try{f.focus()}catch{}return new d6(f)}function Mve(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lve="__/auth/handler",$ve="emulator/auth/handler",Fve=encodeURIComponent("fac");async function f6(t,e,r,n,i,a){Ye(t.config.authDomain,t,"auth-domain-config-required"),Ye(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:xd,eventId:i};if(e instanceof sj){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",xde(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof b0){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const d of Object.keys(s))s[d]===void 0&&delete s[d];const l=await t._getAppCheckToken(),u=l?`#${Fve}=${encodeURIComponent(l)}`:"";return`${Bve(t)}?${f0(s).slice(1)}${u}`}function Bve({config:t}){return t.emulator?rj(t,$ve):`https://${t.authDomain}/${Lve}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="webStorageSupport";class Uve{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=EH,this._completeRedirectFn=dve,this._overrideRedirectResult=lve}async _openPopup(e,r,n,i){var a;Zs((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await f6(e,r,n,CT(),i);return Dve(e,o,lj())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await f6(e,r,n,CT(),i);return Wge(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Zs(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await Ive(e),n=new hve(e);return r.register("authEvent",i=>(Ye(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(pE,{type:pE},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[pE];o!==void 0&&r(!!o),Fa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=yve(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return fH()||oH()||ij()}}const Vve=Uve;var h6="@firebase/auth",p6="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zve{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wve(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Hve(t){fa(new qi("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;Ye(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hH(t)},u=new sge(n,i,a,l);return vge(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),fa(new qi("auth-internal",e=>{const r=Bc(e.getProvider("auth").getImmediate());return(n=>new zve(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ei(h6,p6,Wve(t)),ei(h6,p6,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gve=5*60,qve=Ez("authIdTokenMaxAge")||Gve;let m6=null;const Kve=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>qve)return;const i=r==null?void 0:r.token;m6!==i&&(m6=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Yve(t=h0()){const e=ll(t,"auth");if(e.isInitialized())return e.getImmediate();const r=gge(t,{popupRedirectResolver:Vve,persistence:[Jge,Uge,EH]}),n=Ez("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=Kve(a.toString());Mge(r,o,()=>o(r.currentUser)),Dge(r,s=>o(s))}}const i=bz("auth");return i?yge(r,`http://${i}`):Qh("Auth",!1),r}function Xve(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}lge({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=xo("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",Xve().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Hve("Browser");const jH="@firebase/installations",uj="0.6.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kH=1e4,RH=`w:${uj}`,DH="FIS_v2",Qve="https://firebaseinstallations.googleapis.com/v1",Zve=60*60*1e3,Jve="installations",e0e="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0e={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Xu=new $c(Jve,e0e,t0e);function MH(t){return t instanceof Wa&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LH({projectId:t}){return`${Qve}/projects/${t}/installations`}function $H(t){return{token:t.token,requestStatus:2,expiresIn:n0e(t.expiresIn),creationTime:Date.now()}}async function FH(t,e){const n=(await e.json()).error;return Xu.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function BH({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function r0e(t,{refreshToken:e}){const r=BH(t);return r.append("Authorization",i0e(e)),r}async function UH(t){const e=await t();return e.status>=500&&e.status<600?t():e}function n0e(t){return Number(t.replace("s","000"))}function i0e(t){return`${DH} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a0e({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=LH(t),i=BH(t),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:r,authVersion:DH,appId:t.appId,sdkVersion:RH},s={method:"POST",headers:i,body:JSON.stringify(o)},l=await UH(()=>fetch(n,s));if(l.ok){const u=await l.json();return{fid:u.fid||r,registrationStatus:2,refreshToken:u.refreshToken,authToken:$H(u.authToken)}}else throw await FH("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VH(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0e(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0e=/^[cdef][\w-]{21}$/,PT="";function l0e(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=c0e(t);return s0e.test(r)?r:PT}catch{return PT}}function c0e(t){return o0e(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH=new Map;function WH(t,e){const r=N2(t);HH(r,e),u0e(r,e)}function HH(t,e){const r=zH.get(t);if(r)for(const n of r)n(e)}function u0e(t,e){const r=d0e();r&&r.postMessage({key:t,fid:e}),f0e()}let _u=null;function d0e(){return!_u&&"BroadcastChannel"in self&&(_u=new BroadcastChannel("[Firebase] FID Change"),_u.onmessage=t=>{HH(t.data.key,t.data.fid)}),_u}function f0e(){zH.size===0&&_u&&(_u.close(),_u=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0e="firebase-installations-database",p0e=1,Qu="firebase-installations-store";let mE=null;function dj(){return mE||(mE=d2(h0e,p0e,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Qu)}}})),mE}async function Jx(t,e){const r=N2(t),i=(await dj()).transaction(Qu,"readwrite"),a=i.objectStore(Qu),o=await a.get(r);return await a.put(e,r),await i.done,(!o||o.fid!==e.fid)&&WH(t,e.fid),e}async function GH(t){const e=N2(t),n=(await dj()).transaction(Qu,"readwrite");await n.objectStore(Qu).delete(e),await n.done}async function I2(t,e){const r=N2(t),i=(await dj()).transaction(Qu,"readwrite"),a=i.objectStore(Qu),o=await a.get(r),s=e(o);return s===void 0?await a.delete(r):await a.put(s,r),await i.done,s&&(!o||o.fid!==s.fid)&&WH(t,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fj(t){let e;const r=await I2(t.appConfig,n=>{const i=m0e(n),a=g0e(t,i);return e=a.registrationPromise,a.installationEntry});return r.fid===PT?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function m0e(t){const e=t||{fid:l0e(),registrationStatus:0};return qH(e)}function g0e(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Xu.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=v0e(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:y0e(t)}:{installationEntry:e}}async function v0e(t,e){try{const r=await a0e(t,e);return Jx(t.appConfig,r)}catch(r){throw MH(r)&&r.customData.serverCode===409?await GH(t.appConfig):await Jx(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function y0e(t){let e=await g6(t.appConfig);for(;e.registrationStatus===1;)await VH(100),e=await g6(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await fj(t);return n||r}return e}function g6(t){return I2(t,e=>{if(!e)throw Xu.create("installation-not-found");return qH(e)})}function qH(t){return x0e(t)?{fid:t.fid,registrationStatus:0}:t}function x0e(t){return t.registrationStatus===1&&t.registrationTime+kH<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w0e({appConfig:t,heartbeatServiceProvider:e},r){const n=b0e(t,r),i=r0e(t,r),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:RH,appId:t.appId}},s={method:"POST",headers:i,body:JSON.stringify(o)},l=await UH(()=>fetch(n,s));if(l.ok){const u=await l.json();return $H(u)}else throw await FH("Generate Auth Token",l)}function b0e(t,{fid:e}){return`${LH(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hj(t,e=!1){let r;const n=await I2(t.appConfig,a=>{if(!KH(a))throw Xu.create("not-registered");const o=a.authToken;if(!e&&E0e(o))return a;if(o.requestStatus===1)return r=_0e(t,e),a;{if(!navigator.onLine)throw Xu.create("app-offline");const s=C0e(a);return r=S0e(t,s),s}});return r?await r:n.authToken}async function _0e(t,e){let r=await v6(t.appConfig);for(;r.authToken.requestStatus===1;)await VH(100),r=await v6(t.appConfig);const n=r.authToken;return n.requestStatus===0?hj(t,e):n}function v6(t){return I2(t,e=>{if(!KH(e))throw Xu.create("not-registered");const r=e.authToken;return T0e(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function S0e(t,e){try{const r=await w0e(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await Jx(t.appConfig,n),r}catch(r){if(MH(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await GH(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Jx(t.appConfig,n)}throw r}}function KH(t){return t!==void 0&&t.registrationStatus===2}function E0e(t){return t.requestStatus===2&&!A0e(t)}function A0e(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Zve}function C0e(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function T0e(t){return t.requestStatus===1&&t.requestTime+kH<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N0e(t){const e=t,{installationEntry:r,registrationPromise:n}=await fj(e);return n?n.catch(console.error):hj(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I0e(t,e=!1){const r=t;return await P0e(r),(await hj(r,e)).token}async function P0e(t){const{registrationPromise:e}=await fj(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0e(t){if(!t||!t.options)throw gE("App Configuration");if(!t.name)throw gE("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw gE(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function gE(t){return Xu.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH="installations",j0e="installations-internal",k0e=t=>{const e=t.getProvider("app").getImmediate(),r=O0e(e),n=ll(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},R0e=t=>{const e=t.getProvider("app").getImmediate(),r=ll(e,YH).getImmediate();return{getId:()=>N0e(r),getToken:i=>I0e(r,i)}};function D0e(){fa(new qi(YH,k0e,"PUBLIC")),fa(new qi(j0e,R0e,"PRIVATE"))}D0e();ei(jH,uj);ei(jH,uj,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="analytics",M0e="firebase_id",L0e="origin",$0e=60*1e3,F0e="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pj="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new u2("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0e={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ua=new $c("analytics","Analytics",B0e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0e(t){if(!t.startsWith(pj)){const e=ua.create("invalid-gtag-resource",{gtagURL:t});return zi.warn(e.message),""}return t}function XH(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function V0e(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function z0e(t,e){const r=V0e("firebase-js-sdk-policy",{createScriptURL:U0e}),n=document.createElement("script"),i=`${pj}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function W0e(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function H0e(t,e,r,n,i,a){const o=n[i];try{if(o)await e[o];else{const l=(await XH(r)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(s){zi.error(s)}t("config",i,a)}async function G0e(t,e,r,n,i){try{let a=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const s=await XH(r);for(const l of o){const u=s.find(f=>f.measurementId===l),d=u&&e[u.appId];if(d)a.push(d);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",n,i||{})}catch(a){zi.error(a)}}function q0e(t,e,r,n){async function i(a,...o){try{if(a==="event"){const[s,l]=o;await G0e(t,e,r,s,l)}else if(a==="config"){const[s,l]=o;await H0e(t,e,r,n,s,l)}else if(a==="consent"){const[s,l]=o;t("consent",s,l)}else if(a==="get"){const[s,l,u]=o;t("get",s,l,u)}else if(a==="set"){const[s]=o;t("set",s)}else t(a,...o)}catch(s){zi.error(s)}}return i}function K0e(t,e,r,n,i){let a=function(...o){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=q0e(a,t,e,r),{gtagCore:a,wrappedGtag:window[i]}}function Y0e(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(pj)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0e=30,Q0e=1e3;class Z0e{constructor(e={},r=Q0e){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const QH=new Z0e;function J0e(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function eye(t){var e;const{appId:r,apiKey:n}=t,i={method:"GET",headers:J0e(n)},a=F0e.replace("{app-id}",r),o=await fetch(a,i);if(o.status!==200&&o.status!==304){let s="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(s=l.error.message)}catch{}throw ua.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s})}return o.json()}async function tye(t,e=QH,r){const{appId:n,apiKey:i,measurementId:a}=t.options;if(!n)throw ua.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:n};throw ua.create("no-api-key")}const o=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new iye;return setTimeout(async()=>{s.abort()},$0e),ZH({appId:n,apiKey:i,measurementId:a},o,s,e)}async function ZH(t,{throttleEndTimeMillis:e,backoffCount:r},n,i=QH){var a;const{appId:o,measurementId:s}=t;try{await rye(n,e)}catch(l){if(s)return zi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:s};throw l}try{const l=await eye(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!nye(u)){if(i.deleteThrottleMetadata(o),s)return zi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:s};throw l}const d=Number((a=u==null?void 0:u.customData)===null||a===void 0?void 0:a.httpStatus)===503?UD(r,i.intervalMillis,X0e):UD(r,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:r+1};return i.setThrottleMetadata(o,f),zi.debug(`Calling attemptFetch again in ${d} millis`),ZH(t,f,n,i)}}function rye(t,e){return new Promise((r,n)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(r,i);t.addEventListener(()=>{clearTimeout(a),n(ua.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function nye(t){if(!(t instanceof Wa)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class iye{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function aye(t,e,r,n,i){if(i&&i.global){t("event",r,n);return}else{const a=await e,o=Object.assign(Object.assign({},n),{send_to:a});t("event",r,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oye(){if(IO())try{await PO()}catch(t){return zi.warn(ua.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return zi.warn(ua.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function sye(t,e,r,n,i,a,o){var s;const l=tye(t);l.then(p=>{r[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&zi.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>zi.error(p)),e.push(l);const u=oye().then(p=>{if(p)return n.getId()}),[d,f]=await Promise.all([l,u]);Y0e(a)||z0e(a,d.measurementId),i("js",new Date);const h=(s=o==null?void 0:o.config)!==null&&s!==void 0?s:{};return h[L0e]="firebase",h.update=!0,f!=null&&(h[M0e]=f),i("config",d.measurementId,h),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lye{constructor(e){this.app=e}_delete(){return delete rg[this.app.options.appId],Promise.resolve()}}let rg={},y6=[];const x6={};let vE="dataLayer",cye="gtag",w6,JH,b6=!1;function uye(){const t=[];if(Cz()&&t.push("This is a browser extension environment."),Tz()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=ua.create("invalid-analytics-context",{errorInfo:e});zi.warn(r.message)}}function dye(t,e,r){uye();const n=t.options.appId;if(!n)throw ua.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)zi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ua.create("no-api-key");if(rg[n]!=null)throw ua.create("already-exists",{id:n});if(!b6){W0e(vE);const{wrappedGtag:a,gtagCore:o}=K0e(rg,y6,x6,vE,cye);JH=a,w6=o,b6=!0}return rg[n]=sye(t,y6,x6,e,w6,vE,r),new lye(t)}function fye(t=h0()){t=ii(t);const e=ll(t,ew);return e.isInitialized()?e.getImmediate():hye(t)}function hye(t,e={}){const r=ll(t,ew);if(r.isInitialized()){const i=r.getImmediate();if(wc(e,r.getOptions()))return i;throw ua.create("already-initialized")}return r.initialize({options:e})}function pye(t,e,r,n){t=ii(t),aye(JH,rg[t.app.options.appId],e,r,n).catch(i=>zi.error(i))}const _6="@firebase/analytics",S6="0.10.15";function mye(){fa(new qi(ew,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return dye(n,i,r)},"PUBLIC")),fa(new qi("analytics-internal",t,"PRIVATE")),ei(_6,S6),ei(_6,S6,"esm2017");function t(e){try{const r=e.getProvider(ew).getImmediate();return{logEvent:(n,i,a)=>pye(r,n,i,a)}}catch(r){throw ua.create("interop-component-reg-failed",{reason:r})}}}mye();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gye="/firebase-messaging-sw.js",vye="/firebase-cloud-messaging-push-scope",eG="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",yye="https://fcmregistrations.googleapis.com/v1",tG="google.c.a.c_id",xye="google.c.a.c_l",wye="google.c.a.ts",bye="google.c.a.e",E6=1e4;var A6;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(A6||(A6={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Hg;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Hg||(Hg={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _ye(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),i=new Uint8Array(n.length);for(let a=0;a<n.length;++a)i[a]=n.charCodeAt(a);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="fcm_token_details_db",Sye=5,C6="fcm_token_object_Store";async function Eye(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(a=>a.name).includes(yE))return null;let e=null;return(await d2(yE,Sye,{upgrade:async(n,i,a,o)=>{var s;if(i<2||!n.objectStoreNames.contains(C6))return;const l=o.objectStore(C6),u=await l.index("fcmSenderId").get(t);if(await l.clear(),!!u){if(i===2){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:(s=d.createTime)!==null&&s!==void 0?s:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:bs(d.vapidKey)}}}else if(i===3){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:bs(d.auth),p256dh:bs(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:bs(d.vapidKey)}}}else if(i===4){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:bs(d.auth),p256dh:bs(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:bs(d.vapidKey)}}}}}})).close(),await aE(yE),await aE("fcm_vapid_details_db"),await aE("undefined"),Aye(e)?e:null}function Aye(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cye="firebase-messaging-database",Tye=1,Gg="firebase-messaging-store";let xE=null;function rG(){return xE||(xE=d2(Cye,Tye,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Gg)}}})),xE}async function Nye(t){const e=nG(t),n=await(await rG()).transaction(Gg).objectStore(Gg).get(e);if(n)return n;{const i=await Eye(t.appConfig.senderId);if(i)return await mj(t,i),i}}async function mj(t,e){const r=nG(t),i=(await rG()).transaction(Gg,"readwrite");return await i.objectStore(Gg).put(e,r),await i.done,e}function nG({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iye={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},_i=new $c("messaging","Messaging",Iye);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pye(t,e){const r=await vj(t),n=iG(e),i={method:"POST",headers:r,body:JSON.stringify(n)};let a;try{a=await(await fetch(gj(t.appConfig),i)).json()}catch(o){throw _i.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(a.error){const o=a.error.message;throw _i.create("token-subscribe-failed",{errorInfo:o})}if(!a.token)throw _i.create("token-subscribe-no-token");return a.token}async function Oye(t,e){const r=await vj(t),n=iG(e.subscriptionOptions),i={method:"PATCH",headers:r,body:JSON.stringify(n)};let a;try{a=await(await fetch(`${gj(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw _i.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(a.error){const o=a.error.message;throw _i.create("token-update-failed",{errorInfo:o})}if(!a.token)throw _i.create("token-update-no-token");return a.token}async function jye(t,e){const n={method:"DELETE",headers:await vj(t)};try{const a=await(await fetch(`${gj(t.appConfig)}/${e}`,n)).json();if(a.error){const o=a.error.message;throw _i.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw _i.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function gj({projectId:t}){return`${yye}/projects/${t}/registrations`}async function vj({appConfig:t,installations:e}){const r=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function iG({p256dh:t,auth:e,endpoint:r,vapidKey:n}){const i={web:{endpoint:r,auth:e,p256dh:t}};return n!==eG&&(i.web.applicationPubKey=n),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kye=7*24*60*60*1e3;async function Rye(t){const e=await Mye(t.swRegistration,t.vapidKey),r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:bs(e.getKey("auth")),p256dh:bs(e.getKey("p256dh"))},n=await Nye(t.firebaseDependencies);if(n){if(Lye(n.subscriptionOptions,r))return Date.now()>=n.createTime+kye?Dye(t,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await jye(t.firebaseDependencies,n.token)}catch(i){console.warn(i)}return T6(t.firebaseDependencies,r)}else return T6(t.firebaseDependencies,r)}async function Dye(t,e){try{const r=await Oye(t.firebaseDependencies,e),n=Object.assign(Object.assign({},e),{token:r,createTime:Date.now()});return await mj(t.firebaseDependencies,n),r}catch(r){throw r}}async function T6(t,e){const n={token:await Pye(t,e),createTime:Date.now(),subscriptionOptions:e};return await mj(t,n),n.token}async function Mye(t,e){const r=await t.pushManager.getSubscription();return r||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_ye(e)})}function Lye(t,e){const r=e.vapidKey===t.vapidKey,n=e.endpoint===t.endpoint,i=e.auth===t.auth,a=e.p256dh===t.p256dh;return r&&n&&i&&a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return $ye(e,t),Fye(e,t),Bye(e,t),e}function $ye(t,e){if(!e.notification)return;t.notification={};const r=e.notification.title;r&&(t.notification.title=r);const n=e.notification.body;n&&(t.notification.body=n);const i=e.notification.image;i&&(t.notification.image=i);const a=e.notification.icon;a&&(t.notification.icon=a)}function Fye(t,e){e.data&&(t.data=e.data)}function Bye(t,e){var r,n,i,a,o;if(!e.fcmOptions&&!(!((r=e.notification)===null||r===void 0)&&r.click_action))return;t.fcmOptions={};const s=(i=(n=e.fcmOptions)===null||n===void 0?void 0:n.link)!==null&&i!==void 0?i:(a=e.notification)===null||a===void 0?void 0:a.click_action;s&&(t.fcmOptions.link=s);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uye(t){return typeof t=="object"&&!!t&&tG in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vye(t){if(!t||!t.options)throw wE("App Configuration Object");if(!t.name)throw wE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:r}=t;for(const n of e)if(!r[n])throw wE(n);return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function wE(t){return _i.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zye{constructor(e,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=Vye(e);this.firebaseDependencies={app:e,appConfig:i,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wye(t){try{t.swRegistration=await navigator.serviceWorker.register(gye,{scope:vye}),t.swRegistration.update().catch(()=>{}),await Hye(t.swRegistration)}catch(e){throw _i.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function Hye(t){return new Promise((e,r)=>{const n=setTimeout(()=>r(new Error(`Service worker not registered after ${E6} ms`)),E6),i=t.installing||t.waiting;t.active?(clearTimeout(n),e()):i?i.onstatechange=a=>{var o;((o=a.target)===null||o===void 0?void 0:o.state)==="activated"&&(i.onstatechange=null,clearTimeout(n),e())}:(clearTimeout(n),r(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gye(t,e){if(!e&&!t.swRegistration&&await Wye(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw _i.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qye(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=eG)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kye(t,e){if(!navigator)throw _i.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw _i.create("permission-blocked");return await qye(t,e==null?void 0:e.vapidKey),await Gye(t,e==null?void 0:e.serviceWorkerRegistration),Rye(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yye(t,e,r){const n=Xye(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[tG],message_name:r[xye],message_time:r[wye],message_device_time:Math.floor(Date.now()/1e3)})}function Xye(t){switch(t){case Hg.NOTIFICATION_CLICKED:return"notification_open";case Hg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qye(t,e){const r=e.data;if(!r.isFirebaseMessaging)return;t.onMessageHandler&&r.messageType===Hg.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(N6(r)):t.onMessageHandler.next(N6(r)));const n=r.data;Uye(n)&&n[bye]==="1"&&await Yye(t,r.messageType,n)}const I6="@firebase/messaging",P6="0.12.20";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zye=t=>{const e=new zye(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>Qye(e,r)),e},Jye=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:n=>Kye(e,n)}};function e1e(){fa(new qi("messaging",Zye,"PUBLIC")),fa(new qi("messaging-internal",Jye,"PRIVATE")),ei(I6,P6),ei(I6,P6,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aG(){try{await PO()}catch{return!1}return typeof window<"u"&&IO()&&Tz()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1e(t=h0()){return aG().then(e=>{if(!e)throw _i.create("unsupported-browser")},e=>{throw _i.create("indexed-db-unsupported")}),ll(ii(t),"messaging").getImmediate()}e1e();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oG="firebasestorage.googleapis.com",r1e="storageBucket",n1e=2*60*1e3,i1e=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends Wa{constructor(e,r,n=0){super(bE(e),`Firebase Storage: ${r} (${bE(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return bE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var as;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(as||(as={}));function bE(t){return"storage/"+t}function a1e(){const t="An unknown error occurred, please check the error payload for server response.";return new fs(as.UNKNOWN,t)}function o1e(){return new fs(as.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function s1e(){return new fs(as.CANCELED,"User canceled the upload/download.")}function l1e(t){return new fs(as.INVALID_URL,"Invalid URL '"+t+"'.")}function c1e(t){return new fs(as.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function O6(t){return new fs(as.INVALID_ARGUMENT,t)}function sG(){return new fs(as.APP_DELETED,"The Firebase app was deleted.")}function u1e(t){return new fs(as.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=po.makeFromUrl(e,r)}catch{return new po(e,"")}if(n.path==="")return n;throw c1e(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(S){S.path_=decodeURIComponent(S.path)}const d="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${d}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},g=r===oG?"(?:storage.googleapis.com|storage.cloud.google.com)":r,v="([^?#]*)",x=new RegExp(`^https?://${g}/${i}/${v}`,"i"),w=[{regex:s,indices:l,postModify:a},{regex:p,indices:m,postModify:u},{regex:x,indices:{bucket:1,path:2},postModify:u}];for(let S=0;S<w.length;S++){const E=w[S],C=E.regex.exec(e);if(C){const A=C[E.indices.bucket];let T=C[E.indices.path];T||(T=""),n=new po(A,T),E.postModify(n);break}}if(n==null)throw l1e(e);return n}}class d1e{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1e(t,e,r){let n=1,i=null,a=null,o=!1,s=0;function l(){return s===2}let u=!1;function d(...v){u||(u=!0,e.apply(null,v))}function f(v){i=setTimeout(()=>{i=null,t(p,l())},v)}function h(){a&&clearTimeout(a)}function p(v,...x){if(u){h();return}if(v){h(),d.call(null,v,...x);return}if(l()||o){h(),d.call(null,v,...x);return}n<64&&(n*=2);let w;s===1?(s=2,w=0):w=(n+Math.random())*1e3,f(w)}let m=!1;function g(v){m||(m=!0,h(),!u&&(i!==null?(v||(s=2),clearTimeout(i),f(0)):v||(s=1)))}return f(0),a=setTimeout(()=>{o=!0,g(!0)},r),g}function h1e(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1e(t){return t!==void 0}function j6(t,e,r,n){if(n<e)throw O6(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw O6(`Invalid value for '${t}'. Expected ${r} or less.`)}function m1e(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var tw;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(tw||(tw={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1e(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1e{constructor(e,r,n,i,a,o,s,l,u,d,f,h=!0,p=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Ly(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const l=s.loaded,u=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===tw.NO_ERROR,l=a.getStatus();if(!s||g1e(l,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===tw.ABORT;n(!1,new Ly(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;n(!0,new Ly(u,a))})},r=(n,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());p1e(l)?a(l):a()}catch(l){o(l)}else if(s!==null){const l=a1e();l.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,l)):o(l)}else if(i.canceled){const l=this.appDelete_?sG():s1e();o(l)}else{const l=o1e();o(l)}};this.canceled_?r(!1,new Ly(!1,null,!0)):this.backoffId_=f1e(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&h1e(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ly{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function y1e(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function x1e(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function w1e(t,e){e&&(t["X-Firebase-GMPID"]=e)}function b1e(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _1e(t,e,r,n,i,a,o=!0,s=!1){const l=m1e(t.urlParams),u=t.url+l,d=Object.assign({},t.headers);return w1e(d,e),y1e(d,r),x1e(d,a),b1e(d,n),new v1e(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1e(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function E1e(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,r){this._service=e,r instanceof po?this._location=r:this._location=po.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new rw(e,r)}get root(){const e=new po(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return E1e(this._location.path)}get storage(){return this._service}get parent(){const e=S1e(this._location.path);if(e===null)return null;const r=new po(this._location.bucket,e);return new rw(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw u1e(e)}}function k6(t,e){const r=e==null?void 0:e[r1e];return r==null?null:po.makeFromBucketSpec(r,t)}function A1e(t,e,r,n={}){t.host=`${e}:${r}`;const i=Xh(e);i&&(NO(`https://${t.host}`),Qh("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(t._overrideAuthToken=typeof a=="string"?a:Az(a,t.app.options.projectId))}class C1e{constructor(e,r,n,i,a,o=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=oG,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=n1e,this._maxUploadRetryTime=i1e,this._requests=new Set,i!=null?this._bucket=po.makeFromBucketSpec(i,this._host):this._bucket=k6(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=po.makeFromBucketSpec(this._url,e):this._bucket=k6(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){j6("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){j6("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(Ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rw(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new d1e(sG());{const o=_1e(e,this._appId,n,i,r,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const R6="@firebase/storage",D6="0.13.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG="storage";function T1e(t=h0(),e){t=ii(t),Qh("Storage",!1);const n=ll(t,lG).getImmediate({identifier:e}),i=_z("storage");return i&&N1e(n,...i),n}function N1e(t,e,r,n={}){A1e(t,e,r,n)}function I1e(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new C1e(r,n,i,e,xd)}function P1e(){fa(new qi(lG,I1e,"PUBLIC").setMultipleInstances(!0)),ei(R6,D6,""),ei(R6,D6,"esm2017")}P1e();const O1e={BASE_URL:"/taska-loop/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADMIN_EMAILS:"",VITE_APP_URL:"https://vanold101.github.io/taska-loop/",VITE_FIREBASE_API_KEY:"",VITE_FIREBASE_APP_ID:"",VITE_FIREBASE_AUTH_DOMAIN:"",VITE_FIREBASE_MEASUREMENT_ID:"",VITE_FIREBASE_MESSAGING_SENDER_ID:"",VITE_FIREBASE_PROJECT_ID:"",VITE_FIREBASE_STORAGE_BUCKET:"",VITE_FIREBASE_VAPID_KEY:"",VITE_GOOGLE_CLIENT_ID:"",VITE_GOOGLE_MAPS_API_KEY:"",VITE_STRIPE_PUBLISHABLE_KEY:""},z1=()=>{if(typeof window<"u"){const t=window.location.hostname;return t==="localhost"||t==="127.0.0.1"}return!1},j1e=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID"],cG=j1e.filter(t=>!O1e[t]),yj=cG.length===0;!yj&&z1()&&(console.error("Missing required environment variables:",cG),console.error("Please create a .env file with the required Firebase configuration."),console.error("See env.example for the required variables."));const _E=yj?{apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""}:null;let _l=null,Tc=null,Zr=null,M6=null,k1e=null,R1e=null;if(yj&&_E)try{_l=Pz(_E),Tc=bme(_l),Zr=Yve(_l),M6=T1e(_l);const t=z1(),e=!1,r=!1,n=!1;if(t)try{}catch{console.log("Emulator connection failed, using production services")}if(typeof window<"u")try{!t&&_E.measurementId&&_l&&(k1e=fye(_l)),aG().then(i=>{i&&_l&&(R1e=t1e(_l))})}catch(i){console.log("Analytics/Messaging initialization failed:",i)}}catch(t){console.error("Firebase initialization failed:",t),z1()&&console.error("Please check your Firebase configuration in .env file")}else!z1()&&typeof window<"u"&&console.warn("TaskaLoop: Firebase configuration is being loaded. Please refresh if you continue to see authentication issues.");const uG=b.createContext(void 0),Kp="authUser",D1e=["devansh.home@gmail.com","admin@taskaloop.com","demo@taskaloop.com","test.admin@gmail.com"],L6=t=>t?D1e.includes(t.toLowerCase()):!1,M1e=({children:t})=>{const[e,r]=b.useState(null),[n,i]=b.useState(!0),[a,o]=b.useState(null);b.useEffect(()=>{if(i(!0),!Zr){console.warn("Firebase auth is not initialized. Please check your Firebase configuration."),i(!1);return}const p=Lge(Zr,m=>{if(m){const{uid:g,displayName:v,email:x,photoURL:y}=m,w={id:g,name:v||x||"User",email:x||void 0,avatar:y||`https://ui-avatars.com/api/?name=${v||x||"User"}&background=random`,chorePreferences:[],isAdmin:L6(x||void 0)};r(w),localStorage.setItem(Kp,JSON.stringify(w))}else r(null),localStorage.removeItem(Kp);i(!1)});return()=>p()},[]);const h={user:e,isLoading:n,error:a,loginWithGoogle:async()=>{if(!Zr){o("Authentication is not available. Please check your internet connection and try again.");return}i(!0),o(null);try{const p=new As;p.addScope("profile"),p.addScope("email"),console.log("Attempting Google sign-in...");const m=await ive(Zr,p);console.log("Google sign-in successful:",m.user)}catch(p){console.error("Login error:",p),p.code==="auth/popup-closed-by-user"?o("Sign-in was cancelled. Please try again."):p.code==="auth/popup-blocked"?o("Pop-up was blocked by your browser. Please allow pop-ups and try again."):p.code==="auth/unauthorized-domain"?o("This domain is not authorized for Google sign-in."):p.code==="auth/configuration-not-found"?o("Firebase Authentication is not configured. Please enable it in Firebase Console: https://console.firebase.google.com/project/taska-9ee86/authentication"):o(`Failed to login: ${p.message}`)}finally{i(!1)}},loginWithEmail:async(p,m)=>{if(!Zr)throw o("Authentication is not available. Please check your internet connection and try again."),new Error("Firebase auth not initialized");i(!0),o(null);try{console.log("Attempting email sign-in...");const g=await wH(Zr,p,m);console.log("Email sign-in successful:",g.user)}catch(g){throw console.error("Email login error:",g),g.code==="auth/user-not-found"?o("No account found with this email."):g.code==="auth/wrong-password"?o("Incorrect password."):g.code==="auth/invalid-email"?o("Invalid email address."):o(`Login failed: ${g.message}`),g}finally{i(!1)}},registerWithEmail:async(p,m,g)=>{if(!Zr)throw o("Authentication is not available. Please check your internet connection and try again."),new Error("Firebase auth not initialized");i(!0),o(null);try{console.log("Attempting email registration...");const v=await jge(Zr,p,m);console.log("Email registration successful:",v.user),await Rge(v.user,{displayName:g})}catch(v){throw console.error("Email registration error:",v),v.code==="auth/email-already-in-use"?o("This email is already in use."):v.code==="auth/invalid-email"?o("Invalid email address."):v.code==="auth/weak-password"?o("Password is too weak."):o(`Registration failed: ${v.message}`),v}finally{i(!1)}},logout:async()=>{if(!Zr){r(null),localStorage.removeItem(Kp);return}i(!0),o(null);try{await $ge(Zr),r(null),localStorage.removeItem(Kp)}catch{o("Failed to logout. Please try again.")}finally{i(!1)}},updateChorePreferences:async p=>{if(e)try{i(!0);const m={...e,chorePreferences:p};r(m),localStorage.setItem(Kp,JSON.stringify(m))}catch(m){console.error("Error updating preferences:",m),o("Failed to update preferences. Please try again.")}finally{i(!1)}},isAdmin:L6(e==null?void 0:e.email)};return c.jsx(uG.Provider,{value:h,children:t})},qr=()=>{const t=b.useContext(uG);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};function Ao(t){"@babel/helpers - typeof";return Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ao(t)}function Ai(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function nt(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function lt(t){nt(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Ao(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function nw(t,e){nt(2,arguments);var r=lt(t),n=Ai(e);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function xj(t,e){nt(2,arguments);var r=lt(t),n=Ai(e);if(isNaN(n))return new Date(NaN);if(!n)return r;var i=r.getDate(),a=new Date(r.getTime());a.setMonth(r.getMonth()+n+1,0);var o=a.getDate();return i>=o?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}function dG(t,e){nt(2,arguments);var r=lt(t).getTime(),n=Ai(e);return new Date(r+n)}var L1e=36e5;function $1e(t,e){nt(2,arguments);var r=Ai(e);return dG(t,r*L1e)}var F1e={};function bd(){return F1e}function fG(t,e){var r,n,i,a,o,s,l,u;nt(1,arguments);var d=bd(),f=Ai((r=(n=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=lt(t),p=h.getDay(),m=(p<f?7:0)+p-f;return h.setDate(h.getDate()-m),h.setHours(0,0,0,0),h}function OT(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function $6(t){nt(1,arguments);var e=lt(t);return e.setHours(0,0,0,0),e}function F6(t,e){nt(2,arguments);var r=Ai(e),n=r*7;return nw(t,n)}function W1(t,e){nt(2,arguments);var r=lt(t),n=lt(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}var hG=6e4,pG=36e5;function mG(t,e){nt(2,arguments);var r=$6(t),n=$6(e);return r.getTime()===n.getTime()}function B1e(t){return nt(1,arguments),t instanceof Date||Ao(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function U1e(t){if(nt(1,arguments),!B1e(t)&&typeof t!="number")return!1;var e=lt(t);return!isNaN(Number(e))}function V1e(t,e){nt(2,arguments);var r=lt(t),n=lt(e),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function z1e(t,e){return nt(2,arguments),lt(t).getTime()-lt(e).getTime()}var W1e={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},H1e="trunc";function G1e(t){return W1e[H1e]}function q1e(t){nt(1,arguments);var e=lt(t);return e.setHours(23,59,59,999),e}function gG(t){nt(1,arguments);var e=lt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function K1e(t){nt(1,arguments);var e=lt(t);return q1e(e).getTime()===gG(e).getTime()}function Y1e(t,e){nt(2,arguments);var r=lt(t),n=lt(e),i=W1(r,n),a=Math.abs(V1e(r,n)),o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*a);var s=W1(r,n)===-i;K1e(lt(t))&&a===1&&W1(t,n)===1&&(s=!1),o=i*(a-Number(s))}return o===0?0:o}function X1e(t,e,r){nt(2,arguments);var n=z1e(t,e)/1e3;return G1e()(n)}function Q1e(t){nt(1,arguments);var e=lt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Z1e(t,e){var r,n,i,a,o,s;nt(1,arguments);var l=bd(),u=Ai((r=(n=(i=(a=void 0)!==null&&a!==void 0?a:void 0)!==null&&i!==void 0?i:l.weekStartsOn)!==null&&n!==void 0?n:(o=l.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&r!==void 0?r:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=lt(t),f=d.getDay(),h=(f<u?-7:0)+6-(f-u);return d.setDate(d.getDate()+h),d.setHours(23,59,59,999),d}function J1e(t,e){nt(2,arguments);var r=Ai(e);return dG(t,-r)}var exe=864e5;function txe(t){nt(1,arguments);var e=lt(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),i=r-n;return Math.floor(i/exe)+1}function iw(t){nt(1,arguments);var e=1,r=lt(t),n=r.getUTCDay(),i=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}function vG(t){nt(1,arguments);var e=lt(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=iw(n),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var o=iw(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function rxe(t){nt(1,arguments);var e=vG(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var n=iw(r);return n}var nxe=6048e5;function ixe(t){nt(1,arguments);var e=lt(t),r=iw(e).getTime()-rxe(e).getTime();return Math.round(r/nxe)+1}function aw(t,e){var r,n,i,a,o,s,l,u;nt(1,arguments);var d=bd(),f=Ai((r=(n=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=lt(t),p=h.getUTCDay(),m=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function yG(t,e){var r,n,i,a,o,s,l,u;nt(1,arguments);var d=lt(t),f=d.getUTCFullYear(),h=bd(),p=Ai((r=(n=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(f+1,0,p),m.setUTCHours(0,0,0,0);var g=aw(m,e),v=new Date(0);v.setUTCFullYear(f,0,p),v.setUTCHours(0,0,0,0);var x=aw(v,e);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function axe(t,e){var r,n,i,a,o,s,l,u;nt(1,arguments);var d=bd(),f=Ai((r=(n=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=yG(t,e),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var m=aw(p,e);return m}var oxe=6048e5;function sxe(t,e){nt(1,arguments);var r=lt(t),n=aw(r,e).getTime()-axe(r,e).getTime();return Math.round(n/oxe)+1}function Pt(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}var Sl={y:function(e,r){var n=e.getUTCFullYear(),i=n>0?n:1-n;return Pt(r==="yy"?i%100:i,r.length)},M:function(e,r){var n=e.getUTCMonth();return r==="M"?String(n+1):Pt(n+1,2)},d:function(e,r){return Pt(e.getUTCDate(),r.length)},a:function(e,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,r){return Pt(e.getUTCHours()%12||12,r.length)},H:function(e,r){return Pt(e.getUTCHours(),r.length)},m:function(e,r){return Pt(e.getUTCMinutes(),r.length)},s:function(e,r){return Pt(e.getUTCSeconds(),r.length)},S:function(e,r){var n=r.length,i=e.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,n-3));return Pt(a,r.length)}},Dd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lxe={G:function(e,r,n){var i=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){var i=e.getUTCFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return Sl.y(e,r)},Y:function(e,r,n,i){var a=yG(e,i),o=a>0?a:1-a;if(r==="YY"){var s=o%100;return Pt(s,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):Pt(o,r.length)},R:function(e,r){var n=vG(e);return Pt(n,r.length)},u:function(e,r){var n=e.getUTCFullYear();return Pt(n,r.length)},Q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(i);case"QQ":return Pt(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(i);case"qq":return Pt(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,r,n){var i=e.getUTCMonth();switch(r){case"M":case"MM":return Sl.M(e,r);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,r,n){var i=e.getUTCMonth();switch(r){case"L":return String(i+1);case"LL":return Pt(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,r,n,i){var a=sxe(e,i);return r==="wo"?n.ordinalNumber(a,{unit:"week"}):Pt(a,r.length)},I:function(e,r,n){var i=ixe(e);return r==="Io"?n.ordinalNumber(i,{unit:"week"}):Pt(i,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Sl.d(e,r)},D:function(e,r,n){var i=txe(e);return r==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Pt(i,r.length)},E:function(e,r,n){var i=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,r,n,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return Pt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,r,n,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return Pt(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,r,n){var i=e.getUTCDay(),a=i===0?7:i;switch(r){case"i":return String(a);case"ii":return Pt(a,r.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,r,n){var i=e.getUTCHours(),a=i/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,r,n){var i=e.getUTCHours(),a;switch(i===12?a=Dd.noon:i===0?a=Dd.midnight:a=i/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,r,n){var i=e.getUTCHours(),a;switch(i>=17?a=Dd.evening:i>=12?a=Dd.afternoon:i>=4?a=Dd.morning:a=Dd.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Sl.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Sl.H(e,r)},K:function(e,r,n){var i=e.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Pt(i,r.length)},k:function(e,r,n){var i=e.getUTCHours();return i===0&&(i=24),r==="ko"?n.ordinalNumber(i,{unit:"hour"}):Pt(i,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Sl.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Sl.s(e,r)},S:function(e,r){return Sl.S(e,r)},X:function(e,r,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return U6(o);case"XXXX":case"XX":return lu(o);case"XXXXX":case"XXX":default:return lu(o,":")}},x:function(e,r,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(r){case"x":return U6(o);case"xxxx":case"xx":return lu(o);case"xxxxx":case"xxx":default:return lu(o,":")}},O:function(e,r,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+B6(o,":");case"OOOO":default:return"GMT"+lu(o,":")}},z:function(e,r,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+B6(o,":");case"zzzz":default:return"GMT"+lu(o,":")}},t:function(e,r,n,i){var a=i._originalDate||e,o=Math.floor(a.getTime()/1e3);return Pt(o,r.length)},T:function(e,r,n,i){var a=i._originalDate||e,o=a.getTime();return Pt(o,r.length)}};function B6(t,e){var r=t>0?"-":"+",n=Math.abs(t),i=Math.floor(n/60),a=n%60;if(a===0)return r+String(i);var o=e;return r+String(i)+o+Pt(a,2)}function U6(t,e){if(t%60===0){var r=t>0?"-":"+";return r+Pt(Math.abs(t)/60,2)}return lu(t,e)}function lu(t,e){var r=e||"",n=t>0?"-":"+",i=Math.abs(t),a=Pt(Math.floor(i/60),2),o=Pt(i%60,2);return n+a+r+o}var V6=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},xG=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},cxe=function(e,r){var n=e.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return V6(e,r);var o;switch(i){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",V6(i,r)).replace("{{time}}",xG(a,r))},uxe={p:xG,P:cxe},dxe=["D","DD"],fxe=["YY","YYYY"];function hxe(t){return dxe.indexOf(t)!==-1}function pxe(t){return fxe.indexOf(t)!==-1}function z6(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var mxe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},gxe=function(e,r,n){var i,a=mxe[e];return typeof a=="string"?i=a:r===1?i=a.one:i=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function SE(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}var vxe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},yxe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xxe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wxe={date:SE({formats:vxe,defaultWidth:"full"}),time:SE({formats:yxe,defaultWidth:"full"}),dateTime:SE({formats:xxe,defaultWidth:"full"})},bxe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},_xe=function(e,r,n,i){return bxe[e]};function Yp(t){return function(e,r){var n=r!=null&&r.context?String(r.context):"standalone",i;if(n==="formatting"&&t.formattingValues){var a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{var s=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[s]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var Sxe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Exe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Axe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Cxe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Txe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Nxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ixe=function(e,r){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Pxe={ordinalNumber:Ixe,era:Yp({values:Sxe,defaultWidth:"wide"}),quarter:Yp({values:Exe,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Yp({values:Axe,defaultWidth:"wide"}),day:Yp({values:Cxe,defaultWidth:"wide"}),dayPeriod:Yp({values:Txe,defaultWidth:"wide",formattingValues:Nxe,defaultFormattingWidth:"wide"})};function Xp(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;var o=a[0],s=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?jxe(s,function(f){return f.test(o)}):Oxe(s,function(f){return f.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;var d=e.slice(o.length);return{value:u,rest:d}}}function Oxe(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function jxe(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function kxe(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var i=n[0],a=e.match(t.parsePattern);if(!a)return null;var o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;var s=e.slice(i.length);return{value:o,rest:s}}}var Rxe=/^(\d+)(th|st|nd|rd)?/i,Dxe=/\d+/i,Mxe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Lxe={any:[/^b/i,/^(a|c)/i]},$xe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Fxe={any:[/1/i,/2/i,/3/i,/4/i]},Bxe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Uxe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Vxe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zxe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Wxe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Hxe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Gxe={ordinalNumber:kxe({matchPattern:Rxe,parsePattern:Dxe,valueCallback:function(e){return parseInt(e,10)}}),era:Xp({matchPatterns:Mxe,defaultMatchWidth:"wide",parsePatterns:Lxe,defaultParseWidth:"any"}),quarter:Xp({matchPatterns:$xe,defaultMatchWidth:"wide",parsePatterns:Fxe,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Xp({matchPatterns:Bxe,defaultMatchWidth:"wide",parsePatterns:Uxe,defaultParseWidth:"any"}),day:Xp({matchPatterns:Vxe,defaultMatchWidth:"wide",parsePatterns:zxe,defaultParseWidth:"any"}),dayPeriod:Xp({matchPatterns:Wxe,defaultMatchWidth:"any",parsePatterns:Hxe,defaultParseWidth:"any"})},wj={code:"en-US",formatDistance:gxe,formatLong:wxe,formatRelative:_xe,localize:Pxe,match:Gxe,options:{weekStartsOn:0,firstWeekContainsDate:1}},qxe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Kxe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Yxe=/^'([^]*?)'?$/,Xxe=/''/g,Qxe=/[a-zA-Z]/;function Yt(t,e,r){var n,i,a,o,s,l,u,d,f,h,p,m,g,v,x,y,w,S;nt(2,arguments);var E=String(e),C=bd(),A=(n=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:C.locale)!==null&&n!==void 0?n:wj,T=Ai((a=(o=(s=(l=r==null?void 0:r.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(u=r.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&s!==void 0?s:C.firstWeekContainsDate)!==null&&o!==void 0?o:(f=C.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var N=Ai((p=(m=(g=(v=r==null?void 0:r.weekStartsOn)!==null&&v!==void 0?v:r==null||(x=r.locale)===null||x===void 0||(y=x.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&g!==void 0?g:C.weekStartsOn)!==null&&m!==void 0?m:(w=C.locale)===null||w===void 0||(S=w.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&p!==void 0?p:0);if(!(N>=0&&N<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!A.localize)throw new RangeError("locale must contain localize property");if(!A.formatLong)throw new RangeError("locale must contain formatLong property");var I=lt(t);if(!U1e(I))throw new RangeError("Invalid time value");var j=OT(I),O=J1e(I,j),P={firstWeekContainsDate:T,weekStartsOn:N,locale:A,_originalDate:I},M=E.match(Kxe).map(function(F){var B=F[0];if(B==="p"||B==="P"){var W=uxe[B];return W(F,A.formatLong)}return F}).join("").match(qxe).map(function(F){if(F==="''")return"'";var B=F[0];if(B==="'")return Zxe(F);var W=lxe[B];if(W)return!(r!=null&&r.useAdditionalWeekYearTokens)&&pxe(F)&&z6(F,e,String(t)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&hxe(F)&&z6(F,e,String(t)),W(O,F,A.localize,P);if(B.match(Qxe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return F}).join("");return M}function Zxe(t){var e=t.match(Yxe);return e?e[1].replace(Xxe,"'"):t}function wG(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function Jxe(t){return wG({},t)}var W6=1440,ewe=2520,EE=43200,twe=86400;function rwe(t,e,r){var n,i;nt(2,arguments);var a=bd(),o=(n=(i=void 0)!==null&&i!==void 0?i:a.locale)!==null&&n!==void 0?n:wj;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var s=W1(t,e);if(isNaN(s))throw new RangeError("Invalid time value");var l=wG(Jxe(r),{addSuffix:!1,comparison:s}),u,d;s>0?(u=lt(e),d=lt(t)):(u=lt(t),d=lt(e));var f=X1e(d,u),h=(OT(d)-OT(u))/1e3,p=Math.round((f-h)/60),m;if(p<2)return p===0?o.formatDistance("lessThanXMinutes",1,l):o.formatDistance("xMinutes",p,l);if(p<45)return o.formatDistance("xMinutes",p,l);if(p<90)return o.formatDistance("aboutXHours",1,l);if(p<W6){var g=Math.round(p/60);return o.formatDistance("aboutXHours",g,l)}else{if(p<ewe)return o.formatDistance("xDays",1,l);if(p<EE){var v=Math.round(p/W6);return o.formatDistance("xDays",v,l)}else if(p<twe)return m=Math.round(p/EE),o.formatDistance("aboutXMonths",m,l)}if(m=Y1e(d,u),m<12){var x=Math.round(p/EE);return o.formatDistance("xMonths",x,l)}else{var y=m%12,w=Math.floor(m/12);return y<3?o.formatDistance("aboutXYears",w,l):y<9?o.formatDistance("overXYears",w,l):o.formatDistance("almostXYears",w+1,l)}}function H6(t,e){return nt(1,arguments),rwe(t,Date.now(),e)}function nwe(t){nt(1,arguments);var e=lt(t),r=e.getDay();return r}function iwe(t,e){nt(2,arguments);var r=lt(t),n=lt(e);return r.getTime()>n.getTime()}function jT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function bj(t,e){if(t){if(typeof t=="string")return jT(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jT(t,e):void 0}}function awe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ow(t,e){return ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ow(t,e)}function ai(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ow(t,e)}function sw(t){return sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sw(t)}function bG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bG=function(){return!!t})()}function owe(t,e){if(e&&(Ao(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return awe(t)}function dn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function swe(t,e){if(Ao(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _G(t){var e=swe(t,"string");return Ao(e)=="symbol"?e:e+""}function G6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_G(n.key),n)}}function fn(t,e,r){return e&&G6(t.prototype,e),r&&G6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gu(t,e,r){return(e=_G(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lwe(t,e){nt(2,arguments);var r=lt(t),n=lt(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function nh(t,e){var r;nt(1,arguments);var n=Ai((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=fwe(t),a;if(i.date){var o=hwe(i.date,n);a=pwe(o.restDateString,o.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var s=a.getTime(),l=0,u;if(i.time&&(l=mwe(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=gwe(i.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(s+l),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(s+l+u)}var $y={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},cwe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,uwe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,dwe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function fwe(t){var e={},r=t.split($y.dateTimeDelimiter),n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],$y.timeZoneDelimiter.test(e.date)&&(e.date=t.split($y.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){var i=$y.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function hwe(t,e){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};var i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:t.slice((n[1]||n[2]).length)}}function pwe(t,e){if(e===null)return new Date(NaN);var r=t.match(cwe);if(!r)return new Date(NaN);var n=!!r[4],i=Qp(r[1]),a=Qp(r[2])-1,o=Qp(r[3]),s=Qp(r[4]),l=Qp(r[5])-1;if(n)return bwe(e,s,l)?vwe(e,s,l):new Date(NaN);var u=new Date(0);return!xwe(e,a,o)||!wwe(e,i)?new Date(NaN):(u.setUTCFullYear(e,a,Math.max(i,o)),u)}function Qp(t){return t?parseInt(t):1}function mwe(t){var e=t.match(uwe);if(!e)return NaN;var r=AE(e[1]),n=AE(e[2]),i=AE(e[3]);return _we(r,n,i)?r*pG+n*hG+i*1e3:NaN}function AE(t){return t&&parseFloat(t.replace(",","."))||0}function gwe(t){if(t==="Z")return 0;var e=t.match(dwe);if(!e)return 0;var r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Swe(n,i)?r*(n*pG+i*hG):NaN}function vwe(t,e,r){var n=new Date(0);n.setUTCFullYear(t,0,4);var i=n.getUTCDay()||7,a=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}var ywe=[31,null,31,30,31,30,31,31,30,31,30,31];function SG(t){return t%400===0||t%4===0&&t%100!==0}function xwe(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(ywe[e]||(SG(t)?29:28))}function wwe(t,e){return e>=1&&e<=(SG(t)?366:365)}function bwe(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function _we(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function Swe(t,e){return e>=0&&e<=59}function Ewe(t,e){nt(2,arguments);var r=Ai(e);return xj(t,-r)}class lf{constructor(){this.templates=[],this.currentUserId=null}static getInstance(){return lf.instance||(lf.instance=new lf),lf.instance}setCurrentUser(e){this.currentUserId=e,e?this.loadTemplates():this.templates=[]}getStorageKey(){return this.currentUserId?`recurringItemTemplates_${this.currentUserId}`:"recurringItemTemplates"}loadTemplates(){try{const e=localStorage.getItem(this.getStorageKey());e?this.templates=JSON.parse(e):this.templates=[]}catch(e){console.error("Error loading recurring item templates:",e),this.templates=[]}return this.templates}saveTemplates(){try{localStorage.setItem(this.getStorageKey(),JSON.stringify(this.templates))}catch(e){console.error("Error saving recurring item templates:",e)}}addOrUpdateTemplate(e){const r={...e,id:e.baseItemId||Date.now().toString()+Math.random().toString(36).substring(2),isRecurringTemplate:!0,isRecurring:!0,checked:!1},n=this.templates.findIndex(i=>i.baseItemId===r.baseItemId);return n>=0?this.templates[n]=r:this.templates.push(r),this.saveTemplates(),r}removeTemplate(e){const r=this.templates.length;return this.templates=this.templates.filter(n=>n.id!==e),this.templates.length<r?(this.saveTemplates(),!0):!1}getTemplates(){return[...this.templates]}getDueTemplates(){const e=new Date;return this.templates.filter(r=>{if(!r.nextDueDate)return!1;const n=nh(r.nextDueDate);return mG(n,e)||iwe(e,n)})}processRecurringItems(e){const r=this.getDueTemplates(),n={itemsToAdd:[],templatesUpdated:[],newTripsToCreate:[]},i=new Date().toISOString();for(const a of r){const o={name:a.name,quantity:a.quantity,unit:a.unit,price:a.averagePrice||a.price,category:a.category,notes:a.notes,checked:!1,baseItemId:a.id,isRecurring:!1,addedBy:a.addedBy||{name:"System",avatar:"https://example.com/system.jpg"}},s=this.findBestTripForItem(a,e);if(s)n.itemsToAdd.push({item:o,targetTripId:s.id});else{const u=this.getSuggestedStore(a);n.itemsToAdd.push({item:o,suggestedStore:u});const d=n.newTripsToCreate.find(f=>f.store===u);d?d.items.push(o):n.newTripsToCreate.push({store:u,items:[o]})}const l={...a,lastAddedToTripDate:i,nextDueDate:kT(i,a.recurrenceFrequency),lastPurchaseDate:i};n.templatesUpdated.push(l)}for(const a of n.templatesUpdated){const o=this.templates.findIndex(s=>s.id===a.id);o>=0&&(this.templates[o]=a)}return this.saveTemplates(),n}findBestTripForItem(e,r){const n=r.filter(i=>i.status==="open"||i.status==="pending");if(n.length===0)return null;if(e.preferredStores&&e.preferredStores.length>0){const i=n.find(a=>e.preferredStores.includes(a.store));if(i)return i}return n[0]}getSuggestedStore(e){if(e.preferredStores&&e.preferredStores.length>0)return e.preferredStores[0];const r=e.name.toLowerCase();return r.includes("organic")||e.category==="Produce"?"Whole Foods":r.includes("bulk")||e.quantity>5?"Costco":"Trader Joe's"}createTemplateFromItem(e,r,n){const i={...e,isRecurringTemplate:!0,isRecurring:!0,recurrenceFrequency:r,nextDueDate:kT(new Date,r),baseItemId:e.id,preferredStores:n,averagePrice:e.price,lastPurchaseDate:new Date().toISOString(),checked:!1};return this.addOrUpdateTemplate(i)}updateTemplatePrice(e,r){const n=this.templates.find(i=>i.id===e);n&&(n.averagePrice?n.averagePrice=(n.averagePrice+r)/2:n.averagePrice=r,n.price=r,this.saveTemplates())}getStatistics(){const e=this.getDueTemplates().length,r=new Map;this.templates.forEach(i=>{const a=`${i.name}-${i.recurrenceFrequency}`,o=r.get(a);o?o.count++:r.set(a,{frequency:i.recurrenceFrequency,count:1})});const n=Array.from(r.entries()).map(([i,a])=>({name:i.split("-")[0],frequency:a.frequency,count:a.count})).sort((i,a)=>a.count-i.count).slice(0,5);return{totalTemplates:this.templates.length,dueToday:e,averageSavings:0,mostFrequentItems:n}}}const Mo=lf.getInstance();function kT(t,e){const r=typeof t=="string"?new Date(t):t;let n;switch(e){case"daily":n=nw(r,1);break;case"weekly":n=F6(r,1);break;case"bi-weekly":n=F6(r,2);break;case"monthly":n=xj(r,1);break;default:console.warn("Invalid recurrence frequency:",e),n=nw(r,7);break}return n.toISOString()}function RT(t,e,r,n,i=!1){console.log("Processing recurring items...");try{Mo.loadTemplates();const a=Mo.processRecurringItems(t),o={itemsProcessed:0,tripsUpdated:0,newTripsCreated:0,errors:[]};for(const u of a.itemsToAdd)if(u.targetTripId)try{e(u.targetTripId,{...u.item,id:Date.now().toString()+Math.random().toString(36).substring(2)}),o.itemsProcessed++,o.tripsUpdated++}catch(d){o.errors.push(`Failed to add ${u.item.name} to trip: ${d}`)}let s,l;i?(s=[{id:(n==null?void 0:n.id)||"1",name:(n==null?void 0:n.name)||"You",avatar:(n==null?void 0:n.avatar)||"https://ui-avatars.com/api/?name="+encodeURIComponent((n==null?void 0:n.name)||"You")+"&background=random"},{id:"2",name:"Rachel",avatar:"https://ui-avatars.com/api/?name=Rachel&background=ff6b6b"},{id:"3",name:"Dev",avatar:"https://ui-avatars.com/api/?name=Dev&background=4ecdc4"}],l={name:(n==null?void 0:n.name)||"You",avatar:(n==null?void 0:n.avatar)||"https://ui-avatars.com/api/?name="+encodeURIComponent((n==null?void 0:n.name)||"You")+"&background=random"}):(s=[{id:(n==null?void 0:n.id)||"1",name:(n==null?void 0:n.name)||"User",avatar:(n==null?void 0:n.avatar)||"https://ui-avatars.com/api/?name="+encodeURIComponent((n==null?void 0:n.name)||"User")+"&background=random"}],l={name:(n==null?void 0:n.name)||"User",avatar:(n==null?void 0:n.avatar)||"https://ui-avatars.com/api/?name="+encodeURIComponent((n==null?void 0:n.name)||"User")+"&background=random"});for(const u of a.newTripsToCreate)try{const d={store:u.store,date:new Date().toISOString(),time:"10:00",status:"open",items:u.items.map(f=>({...f,id:Date.now().toString()+Math.random().toString(36).substring(2)})),participants:s,shopper:l,notes:"Auto-created for recurring items"};r(d),o.itemsProcessed+=u.items.length,o.newTripsCreated++}catch(d){o.errors.push(`Failed to create trip for ${u.store}: ${d}`)}return console.log("Recurring items processing completed:",o),o}catch(a){return console.error("Error processing recurring items:",a),{itemsProcessed:0,tripsUpdated:0,newTripsCreated:0,errors:[`Processing failed: ${a}`]}}}function Awe(t,e,r,n,i=!1){console.log("Initializing recurring items processing...");const a=t();RT(a,e,r,n,i);const o=()=>{const l=new Date,u=new Date;u.setDate(l.getDate()+1),u.setHours(8,0,0,0);const d=u.getTime()-l.getTime();return setTimeout(()=>{const f=t();RT(f,e,r,n,i),o()},d)},s=o();return()=>{clearTimeout(s)}}const EG=b.createContext(void 0);function Cwe({children:t}){const{user:e,isAdmin:r}=qr(),[n,i]=b.useState([]),[a,o]=b.useState([]),[s,l]=b.useState(500),[u,d]=b.useState([]),f=I=>e?`${I}_${e.id}`:I;b.useEffect(()=>{(()=>{try{Mo.setCurrentUser((e==null?void 0:e.id)||null);const j=localStorage.getItem(f("tasks"));i(j?JSON.parse(j):[]);const O=localStorage.getItem(f("trips"));o(O?JSON.parse(O):[]);const P=localStorage.getItem(f("budget"));l(P?parseFloat(P):500);const M=Mo.loadTemplates();d(M)}catch(j){console.error("Error loading data from localStorage:",j),i([]),o([]),l(500),d([])}})()},[e]),b.useEffect(()=>a.length===0?void 0:Awe(()=>a,(j,O)=>{var P;x(j,{items:[...((P=a.find(M=>M.id===j))==null?void 0:P.items)||[],{...O,id:Date.now().toString()+Math.random().toString(36).substring(2)}]})},j=>{v(j)},e?{id:e.id,name:e.name,avatar:e.avatar}:void 0,r),[a.length,e,r]);const h=(I,j)=>I==="coordinates"&&j&&typeof j=="object"?{lat:j.lat,lng:j.lng}:j;b.useEffect(()=>{try{localStorage.setItem(f("tasks"),JSON.stringify(n,h))}catch(I){console.error("Error saving tasks to localStorage:",I)}},[n,e]),b.useEffect(()=>{try{localStorage.setItem(f("trips"),JSON.stringify(a,h))}catch(I){console.error("Error saving trips to localStorage:",I)}},[a,e]),b.useEffect(()=>{try{localStorage.setItem(f("budget"),JSON.stringify(s))}catch(I){console.error("Error saving budget to localStorage:",I)}},[s,e]);const p=I=>{const j={...I,id:Date.now().toString()};i(O=>[...O,j])},m=(I,j)=>{i(O=>O.map(P=>P.id===I?{...P,...j}:P))},g=I=>{i(j=>j.filter(O=>O.id!==I))},v=I=>{const j={...I,id:Date.now().toString(),status:"open",items:I.items||[]};o(O=>[...O,j])},x=(I,j)=>{o(O=>O.map(P=>P.id===I?{...P,...j}:P))},y=I=>{o(j=>j.filter(O=>O.id!==I))},w=I=>{const j=Mo.addOrUpdateTemplate(I);d(O=>{const P=O.findIndex(M=>M.baseItemId===j.baseItemId);if(P>=0){const M=[...O];return M[P]=j,M}else return[...O,j]})},S=(I,j)=>{const O=u.find(P=>P.id===I);if(O){const P={...O,...j};Mo.addOrUpdateTemplate(P),d(M=>M.map(F=>F.id===I?P:F))}},E=I=>{Mo.removeTemplate(I)&&d(O=>O.filter(P=>P.id!==I))},C=()=>{const I=RT(a,(O,P)=>{var M;x(O,{items:[...((M=a.find(F=>F.id===O))==null?void 0:M.items)||[],{...P,id:Date.now().toString()+Math.random().toString(36).substring(2)}]})},O=>{v(O)},e?{id:e.id,name:e.name,avatar:e.avatar}:void 0,r),j=Mo.loadTemplates();return d(j),I},A=(I,j,O)=>{const P=Mo.createTemplateFromItem(I,j,O);d(M=>[...M,P])},T=()=>{console.log("Syncing tasks with trips...");const I=n.filter(P=>P.location&&P.coordinates&&P.coordinates.lat!==0&&P.coordinates.lng!==0&&!P.completed&&(P.location.toLowerCase().includes("store")||P.location.toLowerCase().includes("market")||P.location.toLowerCase().includes("shop")||P.location.toLowerCase().includes("mall")||P.location.toLowerCase().includes("walmart")||P.location.toLowerCase().includes("target")||P.location.toLowerCase().includes("kroger")||P.location.toLowerCase().includes("costco")||P.location.toLowerCase().includes("trader")||P.location.toLowerCase().includes("whole foods"))),j={};I.forEach(P=>{const M=P.location.toLowerCase().trim();j[M]||(j[M]=[]),j[M].push(P)});let O={tasksProcessed:0,tripsCreated:0,tripsUpdated:0};return Object.entries(j).forEach(([P,M])=>{const F=a.find(B=>B.status==="open"&&B.store.toLowerCase().includes(P.split(" ")[0]));if(F&&M.length>0){const B=M.map(W=>({id:`task_${W.id}`,name:W.title,quantity:1,checked:W.completed||!1,category:"Task",notes:`From task: ${W.notes||""}`,addedBy:{name:(e==null?void 0:e.name)||"User",avatar:(e==null?void 0:e.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((e==null?void 0:e.name)||"User")}&background=random`}}));x(F.id,{items:[...F.items,...B]}),O.tripsUpdated++,O.tasksProcessed+=M.length}else if(M.length>0){const B=M[0];if(B.coordinates&&B.coordinates.lat!==0&&B.coordinates.lng!==0){const W=M.map(U=>({id:`task_${U.id}`,name:U.title,quantity:1,checked:U.completed||!1,category:"Task",notes:`From task: ${U.notes||""}`,addedBy:{name:(e==null?void 0:e.name)||"User",avatar:(e==null?void 0:e.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((e==null?void 0:e.name)||"User")}&background=random`}})),$={store:B.location,date:new Date().toISOString(),time:"12:00",items:W,notes:`Auto-created from ${M.length} task(s)`,eta:"30 minutes",coordinates:B.coordinates,participants:[{id:(e==null?void 0:e.id)||"1",name:(e==null?void 0:e.name)||"User",avatar:(e==null?void 0:e.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((e==null?void 0:e.name)||"User")}&background=random`}],shopper:{name:(e==null?void 0:e.name)||"User",avatar:(e==null?void 0:e.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((e==null?void 0:e.name)||"User")}&background=random`}};v($),O.tripsCreated++,O.tasksProcessed+=M.length}}}),O},N=I=>{l(I)};return c.jsx(EG.Provider,{value:{tasks:n,trips:a,addTask:p,updateTask:m,deleteTask:g,addTrip:v,updateTrip:x,deleteTrip:y,syncTasksWithTrips:T,budget:s,updateBudget:N,recurringTemplates:u,addRecurringTemplate:w,updateRecurringTemplate:S,removeRecurringTemplate:E,processRecurringItemsNow:C,createRecurringFromItem:A},children:t})}function os(){const t=b.useContext(EG);if(t===void 0)throw new Error("useTaskContext must be used within a TaskProvider");return t}const Twe={free:{maxActiveTrips:3,maxActiveTasks:25,maxPantryItems:50,maxExpensesPerMonth:10,maxHouseholdMembers:2,maxReceiptScansPerMonth:0,hasReceiptScanning:!1,hasAIFeatures:!1,hasRecurringItems:!1,hasAdvancedExpenseSplitting:!1,hasCalendarIntegration:!1,hasExportFeatures:!1,hasBulkOperations:!1,hasAdvancedAnalytics:!1,hasSmartHomeIntegration:!1,hasPrioritySupport:!1},plus:{maxActiveTrips:1/0,maxActiveTasks:1/0,maxPantryItems:1/0,maxExpensesPerMonth:1/0,maxHouseholdMembers:6,maxReceiptScansPerMonth:20,hasReceiptScanning:!0,hasAIFeatures:!0,hasRecurringItems:!0,hasAdvancedExpenseSplitting:!0,hasCalendarIntegration:!0,hasExportFeatures:!0,hasBulkOperations:!0,hasAdvancedAnalytics:!1,hasSmartHomeIntegration:!1,hasPrioritySupport:!0},family:{maxActiveTrips:1/0,maxActiveTasks:1/0,maxPantryItems:1/0,maxExpensesPerMonth:1/0,maxHouseholdMembers:1/0,maxReceiptScansPerMonth:1/0,hasReceiptScanning:!0,hasAIFeatures:!0,hasRecurringItems:!0,hasAdvancedExpenseSplitting:!0,hasCalendarIntegration:!0,hasExportFeatures:!0,hasBulkOperations:!0,hasAdvancedAnalytics:!0,hasSmartHomeIntegration:!0,hasPrioritySupport:!0}},AG=b.createContext(void 0);function Nwe({children:t}){const{user:e,isAdmin:r}=qr(),[n,i]=b.useState("free"),a=f=>e?`${f}_${e.id}`:f;b.useEffect(()=>{if(e&&!r){const f=localStorage.getItem(a("subscription_tier"));f&&["free","plus","family"].includes(f)&&i(f)}else r&&i("family")},[e,r]),b.useEffect(()=>{e&&!r&&localStorage.setItem(a("subscription_tier"),n)},[n,e,r]);const o=Twe[n],d={currentTier:r?"family":n,limits:o,isAdmin:r,upgradeTier:f=>{r||i(f)},checkLimit:(f,h)=>{const p=o[f];return typeof p=="boolean"?p:typeof p=="number"&&h!==void 0?h<p:!0},showUpgradePrompt:f=>{console.log(`Upgrade needed for: ${f}`)}};return c.jsx(AG.Provider,{value:d,children:t})}function _j(){const t=b.useContext(AG);if(t===void 0)throw new Error("useSubscription must be used within a SubscriptionProvider");return t}const CG=b.createContext(void 0),Sj=()=>{const t=b.useContext(CG);if(!t)throw new Error("useTutorial must be used within a TutorialProvider");return t},Iwe=({children:t})=>{const{user:e}=qr(),[r,n]=b.useState(!1),[i,a]=b.useState(0),o=7;b.useEffect(()=>{e&&(localStorage.getItem(`tutorial_completed_${e.id}`)||setTimeout(()=>{n(!0)},1e3))},[e]);const s=()=>{i<o-1?a(p=>p+1):f()},l=()=>{i>0&&a(p=>p-1)},u=()=>{n(!1),a(0),e&&localStorage.setItem(`tutorial_completed_${e.id}`,"true")},d=()=>{n(!0),a(0)},f=()=>{n(!1),a(0),e&&localStorage.setItem(`tutorial_completed_${e.id}`,"true")},h=i/(o-1)*100;return c.jsx(CG.Provider,{value:{isActive:r,currentStep:i,totalSteps:o,nextStep:s,prevStep:l,skipTutorial:u,startTutorial:d,completeTutorial:f,progress:h},children:t})},TG=b.createContext(void 0);function Pwe({children:t}){const{user:e}=qr(),[r,n]=b.useState([]),i=f=>e?`${f}_${e.id}`:f;b.useEffect(()=>{const f=localStorage.getItem(i("trips"));n(f?JSON.parse(f):[])},[e]),b.useEffect(()=>{e&&localStorage.setItem(i("trips"),JSON.stringify(r))},[r,e]);const a=f=>{const h={...f,id:Date.now().toString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};n(p=>[...p,h])},o=(f,h)=>{n(p=>p.map(m=>m.id===f?{...m,...h,updatedAt:new Date().toISOString()}:m))},s=f=>{n(h=>h.filter(p=>p.id!==f))},l=(f,h)=>{n(p=>p.map(m=>{if(m.id===f){const g=h.map(x=>({...x,id:Date.now().toString(),addedAt:new Date().toISOString()})),v=m.items.concat(g).reduce((x,y)=>x+(y.price||0)*y.quantity,0);return{...m,items:[...m.items,...g],updatedAt:new Date().toISOString(),totalAmount:Number(v.toFixed(2))}}return m}))},u=(f,h)=>{n(p=>p.map(m=>{if(m.id===f){const g=m.items.filter(x=>x.id!==h),v=g.reduce((x,y)=>x+(y.price||0)*y.quantity,0);return{...m,items:g,updatedAt:new Date().toISOString(),totalAmount:Number(v.toFixed(2))}}return m}))},d=(f,h,p)=>{n(m=>m.map(g=>{if(g.id===f){const v=g.items.map(y=>y.id===h?{...y,...p}:y),x=v.reduce((y,w)=>y+(w.price||0)*w.quantity,0);return{...g,items:v,updatedAt:new Date().toISOString(),totalAmount:Number(x.toFixed(2))}}return g}))};return c.jsx(TG.Provider,{value:{trips:r,addTrip:a,updateTrip:o,deleteTrip:s,addItemToTrip:l,removeItemFromTrip:u,updateTripItem:d},children:t})}function Owe(){const t=b.useContext(TG);if(t===void 0)throw new Error("useTrips must be used within a TripsProvider");return t}class cf{static getInstance(){return cf.instance||(cf.instance=new cf),cf.instance}async sendHouseholdInvite(e){const r=`You've been invited to join "${e.householdName}" on TaskaLoop! 
    
TaskaLoop helps households manage shopping trips, split expenses, and coordinate tasks together. Join us to:
 Share shopping lists and coordinate trips
 Split expenses fairly and track who owes what
 Manage household tasks and chores
 Stay organized together

Click the link below to download TaskaLoop and accept the invitation.`,n={fromUserId:e.fromUser.id,fromUserName:e.fromUser.name,fromUserEmail:e.fromUser.email||"",toEmail:e.email,type:"household",status:"pending",message:e.message||r,data:{householdId:e.householdId,householdName:e.householdName},createdAt:new Date().toISOString(),expiresAt:new Date(Date.now()+7*24*60*60*1e3).toISOString()};return this.saveInvitation(n)}async sendExpenseSplitInvite(e){const r=`${e.fromUser.name} is asking you to split an expense of $${e.expenseAmount.toFixed(2)} for "${e.expenseDescription}".

You can download TaskaLoop to easily split expenses, track who owes what, and manage shared costs with your friends and family.

Payment details:
 Amount: $${e.expenseAmount.toFixed(2)}
 Description: ${e.expenseDescription}
 Your share: $${(e.expenseAmount/2).toFixed(2)} (split equally)

Download TaskaLoop to pay and track shared expenses easily!`,n={fromUserId:e.fromUser.id,fromUserName:e.fromUser.name,fromUserEmail:e.fromUser.email||"",toEmail:e.email,type:"expense_split",status:"pending",message:e.message||r,data:{expenseAmount:e.expenseAmount,expenseDescription:e.expenseDescription,tripId:e.tripId,tripName:e.tripName},createdAt:new Date().toISOString(),expiresAt:new Date(Date.now()+30*24*60*60*1e3).toISOString()};return this.saveInvitation(n)}async sendAppDownloadInvite(e){const r=`${e.fromUser.name} invited you to try TaskaLoop!

TaskaLoop is the easiest way to manage your household:
 Create and share shopping lists
 Split expenses fairly with automatic calculations
 Coordinate trips and tasks with family/roommates
 Track who owes what and settle up easily

Join thousands of households who stay organized with TaskaLoop!

Download the app to get started:`,n={fromUserId:e.fromUser.id,fromUserName:e.fromUser.name,fromUserEmail:e.fromUser.email||"",toEmail:e.email,type:"app_download",status:"pending",message:e.message||r,createdAt:new Date().toISOString(),expiresAt:new Date(Date.now()+90*24*60*60*1e3).toISOString()};return this.saveInvitation(n)}async saveInvitation(e){const r=Date.now().toString()+Math.random().toString(36).substring(2),n={...e,id:r};return this.saveInvitationLocally(n),this.simulateEmailSending(n),n}saveInvitationLocally(e){try{const r=this.getLocalInvitations();r.push(e),localStorage.setItem("taska_invitations",JSON.stringify(r))}catch(r){console.error("Error saving invitation locally:",r)}}getLocalInvitations(){try{const e=localStorage.getItem("taska_invitations");return e?JSON.parse(e):[]}catch(e){return console.error("Error getting local invitations:",e),[]}}simulateEmailSending(e){console.log(" INVITATION SENT (Demo Mode):"),console.log(" To:",e.toEmail),console.log(" From:",e.fromUserName),console.log(" Type:",e.type),console.log(" ID:",e.id)}updateInvitationLocally(e,r){try{const n=this.getLocalInvitations(),i=n.findIndex(a=>a.id===e);i!==-1&&(n[i]={...n[i],...r},localStorage.setItem("taska_invitations",JSON.stringify(n)))}catch(n){console.error("Error updating invitation locally:",n)}}async acceptInvitation(e){this.updateInvitationLocally(e,{status:"accepted",respondedAt:new Date().toISOString()})}async rejectInvitation(e){this.updateInvitationLocally(e,{status:"rejected",respondedAt:new Date().toISOString()})}async getSentInvitations(e){try{return this.getLocalInvitations().filter(n=>n.fromUserId===e)}catch(r){return console.error("Error getting sent invitations:",r),[]}}async getReceivedInvitations(e){try{return this.getLocalInvitations().filter(n=>n.toEmail===e)}catch(r){return console.error("Error getting received invitations:",r),[]}}}const qg=cf.getInstance(),NG=b.createContext(void 0);function jwe({children:t}){const{user:e}=qr(),[r,n]=b.useState([]),[i,a]=b.useState(null),[o,s]=b.useState(!0),l=m=>e?`household_${e.id}_${m}`:`household_${m}`;b.useEffect(()=>{(()=>{try{if(!e){n([]),a(null),s(!1);return}const g={id:e.id,name:`${e.name}'s Household`,ownerId:e.id};a(g);const v=localStorage.getItem(l("members"));if(v)n(JSON.parse(v));else{const x={id:e.id,name:e.name,email:e.email,avatar:e.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(e.name)}&background=random`,role:"owner",joinedAt:new Date().toISOString()};n([x]),localStorage.setItem(l("members"),JSON.stringify([x]))}}catch(g){console.error("Error loading household data:",g),n([])}finally{s(!1)}})()},[e]),b.useEffect(()=>{if(e&&r.length>0)try{localStorage.setItem(l("members"),JSON.stringify(r))}catch(m){console.error("Error saving household members:",m)}},[r,e]);const u=m=>{const g={...m,id:Date.now().toString()+Math.random().toString(36).substring(2),joinedAt:new Date().toISOString()};n(v=>[...v,g])},d=m=>{m!==(e==null?void 0:e.id)&&n(g=>g.filter(v=>v.id!==m))},f=(m,g)=>{n(v=>v.map(x=>x.id===m?{...x,...g}:x))},h=async(m,g)=>{if(!e||!i)throw new Error("User or household not found");try{await qg.sendHouseholdInvite({email:m,message:g,householdId:i.id,householdName:i.name,fromUser:{id:e.id,name:e.name,email:e.email}})}catch(v){throw console.error("Error sending household invite:",v),v}},p=async(m,g,v,x,y)=>{if(!e)throw new Error("User not found");try{await qg.sendExpenseSplitInvite({email:m,expenseAmount:g,expenseDescription:v,tripId:x,tripName:y,fromUser:{id:e.id,name:e.name,email:e.email}})}catch(w){throw console.error("Error sending expense split invite:",w),w}};return c.jsx(NG.Provider,{value:{members:r,currentHousehold:i,addMember:u,removeMember:d,updateMember:f,inviteMember:h,inviteForExpense:p,isLoading:o},children:t})}function Ej(){const t=b.useContext(NG);if(t===void 0)throw new Error("useHousehold must be used within a HouseholdProvider");return t}const kwe=b.createContext(void 0),Rwe=({children:t})=>{const[e,r]=b.useState([{id:"1",type:"info",title:"Welcome to Taska-Loop",message:"Your household management companion. Start by creating a shopping trip!",timestamp:new Date,read:!1,actionText:"New Trip",actionUrl:"/trips"}]);b.useEffect(()=>{const l=localStorage.getItem("notifications");if(l)try{const d=JSON.parse(l).map(f=>({...f,timestamp:new Date(f.timestamp)}));r(d)}catch(u){console.error("Failed to parse stored notifications:",u)}},[]),b.useEffect(()=>{localStorage.setItem("notifications",JSON.stringify(e))},[e]);const n=l=>{const u={...l,id:Date.now().toString(),timestamp:new Date};r(d=>[u,...d])},i=l=>{r(u=>u.filter(d=>d.id!==l))},a=l=>{r(u=>u.map(d=>d.id===l?{...d,read:!0}:d))},o=()=>{r(l=>l.map(u=>({...u,read:!0})))},s=()=>{r([])};return c.jsx(kwe.Provider,{value:{notifications:e,addNotification:n,removeNotification:i,markAsRead:a,markAllAsRead:o,clearAll:s},children:t})},IG=b.createContext(void 0),Dwe=({children:t})=>{const{user:e,isAdmin:r}=qr(),[n,i]=b.useState([]),a=()=>e?`pantry_${e.id}`:"pantry_default";b.useEffect(()=>{if(e){const u=a(),d=localStorage.getItem(u);if(d)try{i(JSON.parse(d))}catch(f){console.error("Error loading pantry items:",f),i([]),localStorage.setItem(u,JSON.stringify([]))}else i([]),localStorage.setItem(u,JSON.stringify([]))}else i([])},[e]),b.useEffect(()=>{if(e){const u=a();localStorage.setItem(u,JSON.stringify(n))}},[n,e]);const o=u=>{const d={...u,id:Date.now().toString()+Math.random().toString(36).substring(2)};i(f=>[...f,d])},s=(u,d)=>{i(f=>f.map(h=>h.id===u?{...h,...d}:h))},l=u=>{i(d=>d.filter(f=>f.id!==u))};return c.jsx(IG.Provider,{value:{pantryItems:n,addPantryItem:o,updatePantryItem:s,removePantryItem:l},children:t})},Aj=()=>{const t=b.useContext(IG);if(t===void 0)throw new Error("usePantry must be used within a PantryProvider");return t},H1=Wh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),K=b.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,withHaptics:i=!1,onClick:a,...o},s)=>{const l=n?qs:"button",u=d=>{i&&(i===!0||i==="light"?Ss.light():i==="medium"?Ss.medium():i==="heavy"?Ss.heavy():i==="success"?Ss.success():i==="error"?Ss.error():i==="warning"&&Ss.warning()),a&&a(d)};return c.jsx(l,{className:je(H1({variant:e,size:r,className:t})),ref:s,onClick:u,...o})});K.displayName="Button";const Te=b.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:je("rounded-lg border border-slate-200/30 dark:border-slate-700/30 bg-white/80 dark:bg-slate-800/90 backdrop-blur-sm text-card-foreground shadow-md dark:shadow-lg",t),...e}));Te.displayName="Card";const Fe=b.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:je("flex flex-col space-y-1.5 p-6",t),...e}));Fe.displayName="CardHeader";const Be=b.forwardRef(({className:t,...e},r)=>c.jsx("h3",{ref:r,className:je("text-2xl font-semibold leading-none tracking-tight",t),...e}));Be.displayName="CardTitle";const tt=b.forwardRef(({className:t,...e},r)=>c.jsx("p",{ref:r,className:je("text-sm text-muted-foreground",t),...e}));tt.displayName="CardDescription";const Ne=b.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:je("p-6 pt-0",t),...e}));Ne.displayName="CardContent";const Bt=b.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:je("flex items-center p-6 pt-0",t),...e}));Bt.displayName="CardFooter";const Mwe=Wh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600"}},defaultVariants:{variant:"default"}});function mt({className:t,variant:e,...r}){return c.jsx("div",{className:je(Mwe({variant:e}),t),...r})}const Lwe=()=>{const{user:t,logout:e,loginWithEmail:r,loginWithGoogle:n}=qr(),[i,a]=b.useState(!1),[o,s]=b.useState(null),[l,u]=b.useState(!1);return un(),null},PG=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),P2=b.createContext({}),O2=b.createContext(null),j2=typeof document<"u",Cj=j2?b.useLayoutEffect:b.useEffect,OG=b.createContext({strict:!1}),Tj=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),$we="framerAppearId",jG="data-"+Tj($we);function Fwe(t,e,r,n){const{visualElement:i}=b.useContext(P2),a=b.useContext(OG),o=b.useContext(O2),s=b.useContext(PG).reducedMotion,l=b.useRef();n=n||a.renderer,!l.current&&n&&(l.current=n(t,{visualState:e,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:s}));const u=l.current;b.useInsertionEffect(()=>{u&&u.update(r,o)});const d=b.useRef(!!(r[jG]&&!window.HandoffComplete));return Cj(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),b.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function uf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Bwe(t,e,r){return b.useCallback(n=>{n&&t.mount&&t.mount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):uf(r)&&(r.current=n))},[e])}function Kg(t){return typeof t=="string"||Array.isArray(t)}function k2(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Nj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ij=["initial",...Nj];function R2(t){return k2(t.animate)||Ij.some(e=>Kg(t[e]))}function kG(t){return!!(R2(t)||t.variants)}function Uwe(t,e){if(R2(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Kg(r)?r:void 0,animate:Kg(n)?n:void 0}}return t.inherit!==!1?e:{}}function Vwe(t){const{initial:e,animate:r}=Uwe(t,b.useContext(P2));return b.useMemo(()=>({initial:e,animate:r}),[q6(e),q6(r)])}function q6(t){return Array.isArray(t)?t.join(" "):t}const K6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yg={};for(const t in K6)Yg[t]={isEnabled:e=>K6[t].some(r=>!!e[r])};function zwe(t){for(const e in t)Yg[e]={...Yg[e],...t[e]}}const Pj=b.createContext({}),RG=b.createContext({}),Wwe=Symbol.for("motionComponentSymbol");function Hwe({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:i}){t&&zwe(t);function a(s,l){let u;const d={...b.useContext(PG),...s,layoutId:Gwe(s)},{isStatic:f}=d,h=Vwe(s),p=n(s,f);if(!f&&j2){h.visualElement=Fwe(i,p,d,e);const m=b.useContext(RG),g=b.useContext(OG).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,g,t,m))}return b.createElement(P2.Provider,{value:h},u&&h.visualElement?b.createElement(u,{visualElement:h.visualElement,...d}):null,r(i,s,Bwe(p,h.visualElement,l),p,f,h.visualElement))}const o=b.forwardRef(a);return o[Wwe]=i,o}function Gwe({layoutId:t}){const e=b.useContext(Pj).id;return e&&t!==void 0?e+"-"+t:t}function qwe(t){function e(n,i={}){return Hwe(t(n,i))}if(typeof Proxy>"u")return e;const r=new Map;return new Proxy(e,{get:(n,i)=>(r.has(i)||r.set(i,e(i)),r.get(i))})}const Kwe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Oj(t){return typeof t!="string"||t.includes("-")?!1:!!(Kwe.indexOf(t)>-1||/[A-Z]/.test(t))}const lw={};function Ywe(t){Object.assign(lw,t)}const S0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_d=new Set(S0);function DG(t,{layout:e,layoutId:r}){return _d.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!lw[t]||t==="opacity")}const Ki=t=>!!(t&&t.getVelocity),Xwe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Qwe=S0.length;function Zwe(t,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},n,i){let a="";for(let o=0;o<Qwe;o++){const s=S0[o];if(t[s]!==void 0){const l=Xwe[s]||s;a+=`${l}(${t[s]}) `}}return e&&!t.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(t,n?"":a):r&&n&&(a="none"),a}const MG=t=>e=>typeof e=="string"&&e.startsWith(t),LG=MG("--"),DT=MG("var(--"),Jwe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,ebe=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Nc=(t,e,r)=>Math.min(Math.max(r,t),e),Sd={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ng={...Sd,transform:t=>Nc(0,1,t)},Fy={...Sd,default:1},ig=t=>Math.round(t*1e5)/1e5,D2=/(-)?([\d]*\.?[\d])+/g,$G=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,tbe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function E0(t){return typeof t=="string"}const A0=t=>({test:e=>E0(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Cl=A0("deg"),Xo=A0("%"),Ke=A0("px"),rbe=A0("vh"),nbe=A0("vw"),Y6={...Xo,parse:t=>Xo.parse(t)/100,transform:t=>Xo.transform(t*100)},X6={...Sd,transform:Math.round},FG={borderWidth:Ke,borderTopWidth:Ke,borderRightWidth:Ke,borderBottomWidth:Ke,borderLeftWidth:Ke,borderRadius:Ke,radius:Ke,borderTopLeftRadius:Ke,borderTopRightRadius:Ke,borderBottomRightRadius:Ke,borderBottomLeftRadius:Ke,width:Ke,maxWidth:Ke,height:Ke,maxHeight:Ke,size:Ke,top:Ke,right:Ke,bottom:Ke,left:Ke,padding:Ke,paddingTop:Ke,paddingRight:Ke,paddingBottom:Ke,paddingLeft:Ke,margin:Ke,marginTop:Ke,marginRight:Ke,marginBottom:Ke,marginLeft:Ke,rotate:Cl,rotateX:Cl,rotateY:Cl,rotateZ:Cl,scale:Fy,scaleX:Fy,scaleY:Fy,scaleZ:Fy,skew:Cl,skewX:Cl,skewY:Cl,distance:Ke,translateX:Ke,translateY:Ke,translateZ:Ke,x:Ke,y:Ke,z:Ke,perspective:Ke,transformPerspective:Ke,opacity:ng,originX:Y6,originY:Y6,originZ:Ke,zIndex:X6,fillOpacity:ng,strokeOpacity:ng,numOctaves:X6};function jj(t,e,r,n){const{style:i,vars:a,transform:o,transformOrigin:s}=t;let l=!1,u=!1,d=!0;for(const f in e){const h=e[f];if(LG(f)){a[f]=h;continue}const p=FG[f],m=ebe(h,p);if(_d.has(f)){if(l=!0,o[f]=m,!d)continue;h!==(p.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,s[f]=m):i[f]=m}if(e.transform||(l||n?i.transform=Zwe(t.transform,r,d,n):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:p=0}=s;i.transformOrigin=`${f} ${h} ${p}`}}const kj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function BG(t,e,r){for(const n in e)!Ki(e[n])&&!DG(n,r)&&(t[n]=e[n])}function ibe({transformTemplate:t},e,r){return b.useMemo(()=>{const n=kj();return jj(n,e,{enableHardwareAcceleration:!r},t),Object.assign({},n.vars,n.style)},[e])}function abe(t,e,r){const n=t.style||{},i={};return BG(i,n,t),Object.assign(i,ibe(t,e,r)),t.transformValues?t.transformValues(i):i}function obe(t,e,r){const n={},i=abe(t,e,r);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const sbe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cw(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||sbe.has(t)}let UG=t=>!cw(t);function lbe(t){t&&(UG=e=>e.startsWith("on")?!cw(e):t(e))}try{lbe(require("@emotion/is-prop-valid").default)}catch{}function cbe(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(UG(i)||r===!0&&cw(i)||!e&&!cw(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}function Q6(t,e,r){return typeof t=="string"?t:Ke.transform(e+r*t)}function ube(t,e,r){const n=Q6(e,t.x,t.width),i=Q6(r,t.y,t.height);return`${n} ${i}`}const dbe={offset:"stroke-dashoffset",array:"stroke-dasharray"},fbe={offset:"strokeDashoffset",array:"strokeDasharray"};function hbe(t,e,r=1,n=0,i=!0){t.pathLength=1;const a=i?dbe:fbe;t[a.offset]=Ke.transform(-n);const o=Ke.transform(e),s=Ke.transform(r);t[a.array]=`${o} ${s}`}function Rj(t,{attrX:e,attrY:r,attrScale:n,originX:i,originY:a,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...u},d,f,h){if(jj(t,u,d,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:g}=t;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(i!==void 0||a!==void 0||m.transform)&&(m.transformOrigin=ube(g,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(p.x=e),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),o!==void 0&&hbe(p,o,s,l,!1)}const VG=()=>({...kj(),attrs:{}}),Dj=t=>typeof t=="string"&&t.toLowerCase()==="svg";function pbe(t,e,r,n){const i=b.useMemo(()=>{const a=VG();return Rj(a,e,{enableHardwareAcceleration:!1},Dj(n),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};BG(a,t.style,t),i.style={...a,...i.style}}return i}function mbe(t=!1){return(r,n,i,{latestValues:a},o)=>{const l=(Oj(r)?pbe:obe)(n,a,o,r),d={...cbe(n,typeof r=="string",t),...l,ref:i},{children:f}=n,h=b.useMemo(()=>Ki(f)?f.get():f,[f]);return b.createElement(r,{...d,children:h})}}function zG(t,{style:e,vars:r},n,i){Object.assign(t.style,e,i&&i.getProjectionStyles(n));for(const a in r)t.style.setProperty(a,r[a])}const WG=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function HG(t,e,r,n){zG(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(WG.has(i)?i:Tj(i),e.attrs[i])}function Mj(t,e){const{style:r}=t,n={};for(const i in r)(Ki(r[i])||e.style&&Ki(e.style[i])||DG(i,t))&&(n[i]=r[i]);return n}function GG(t,e){const r=Mj(t,e);for(const n in t)if(Ki(t[n])||Ki(e[n])){const i=S0.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[i]=t[n]}return r}function Lj(t,e,r,n={},i={}){return typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,i)),e}function qG(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const uw=t=>Array.isArray(t),gbe=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),vbe=t=>uw(t)?t[t.length-1]||0:t;function G1(t){const e=Ki(t)?t.get():t;return gbe(e)?e.toValue():e}function ybe({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},n,i,a){const o={latestValues:xbe(n,i,a,t),renderState:e()};return r&&(o.mount=s=>r(n,s,o)),o}const KG=t=>(e,r)=>{const n=b.useContext(P2),i=b.useContext(O2),a=()=>ybe(t,e,n,i);return r?a():qG(a)};function xbe(t,e,r,n){const i={},a=n(t,{});for(const h in a)i[h]=G1(a[h]);let{initial:o,animate:s}=t;const l=R2(t),u=kG(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),s===void 0&&(s=e.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?s:o;return f&&typeof f!="boolean"&&!k2(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const m=Lj(t,p);if(!m)return;const{transitionEnd:g,transition:v,...x}=m;for(const y in x){let w=x[y];if(Array.isArray(w)){const S=d?w.length-1:0;w=w[S]}w!==null&&(i[y]=w)}for(const y in g)i[y]=g[y]}),i}const Lr=t=>t;class Z6{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const r=this.order.indexOf(e);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function wbe(t){let e=new Z6,r=new Z6,n=0,i=!1,a=!1;const o=new WeakSet,s={schedule:(l,u=!1,d=!1)=>{const f=d&&i,h=f?e:r;return u&&o.add(l),h.add(l)&&f&&i&&(n=e.order.length),l},cancel:l=>{r.remove(l),o.delete(l)},process:l=>{if(i){a=!0;return}if(i=!0,[e,r]=[r,e],r.clear(),n=e.order.length,n)for(let u=0;u<n;u++){const d=e.order[u];d(l),o.has(d)&&(s.schedule(d),t())}i=!1,a&&(a=!1,s.process(l))}};return s}const By=["prepare","read","update","preRender","render","postRender"],bbe=40;function _be(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=By.reduce((f,h)=>(f[h]=wbe(()=>r=!0),f),{}),o=f=>a[f].process(i),s=()=>{const f=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(f-i.timestamp,bbe),1),i.timestamp=f,i.isProcessing=!0,By.forEach(o),i.isProcessing=!1,r&&e&&(n=!1,t(s))},l=()=>{r=!0,n=!0,i.isProcessing||t(s)};return{schedule:By.reduce((f,h)=>{const p=a[h];return f[h]=(m,g=!1,v=!1)=>(r||l(),p.schedule(m,g,v)),f},{}),cancel:f=>By.forEach(h=>a[h].cancel(f)),state:i,steps:a}}const{schedule:Xt,cancel:Js,state:Hn,steps:CE}=_be(typeof requestAnimationFrame<"u"?requestAnimationFrame:Lr,!0),Sbe={useVisualState:KG({scrapeMotionValuesFromProps:GG,createRenderState:VG,onMount:(t,e,{renderState:r,latestValues:n})=>{Xt.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Xt.render(()=>{Rj(r,n,{enableHardwareAcceleration:!1},Dj(e.tagName),t.transformTemplate),HG(e,r)})}})},Ebe={useVisualState:KG({scrapeMotionValuesFromProps:Mj,createRenderState:kj})};function Abe(t,{forwardMotionProps:e=!1},r,n){return{...Oj(t)?Sbe:Ebe,preloadedFeatures:r,useRender:mbe(e),createVisualElement:n,Component:t}}function Os(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}const YG=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function M2(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const Cbe=t=>e=>YG(e)&&t(e,M2(e));function $s(t,e,r,n){return Os(t,e,Cbe(r),n)}const Tbe=(t,e)=>r=>e(t(r)),lc=(...t)=>t.reduce(Tbe);function XG(t){let e=null;return()=>{const r=()=>{e=null};return e===null?(e=t,r):!1}}const J6=XG("dragHorizontal"),e8=XG("dragVertical");function QG(t){let e=!1;if(t==="y")e=e8();else if(t==="x")e=J6();else{const r=J6(),n=e8();r&&n?e=()=>{r(),n()}:(r&&r(),n&&n())}return e}function ZG(){const t=QG(!0);return t?(t(),!1):!0}class Uc{constructor(e){this.isMounted=!1,this.node=e}update(){}}function t8(t,e){const r="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),i=(a,o)=>{if(a.pointerType==="touch"||ZG())return;const s=t.getProps();t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",e),s[n]&&Xt.update(()=>s[n](a,o))};return $s(t.current,r,i,{passive:!t.getProps()[n]})}class Nbe extends Uc{mount(){this.unmount=lc(t8(this.node,!0),t8(this.node,!1))}unmount(){}}class Ibe extends Uc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lc(Os(this.node.current,"focus",()=>this.onFocus()),Os(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const JG=(t,e)=>e?t===e?!0:JG(t,e.parentElement):!1;function TE(t,e){if(!e)return;const r=new PointerEvent("pointer"+t);e(r,M2(r))}class Pbe extends Uc{constructor(){super(...arguments),this.removeStartListeners=Lr,this.removeEndListeners=Lr,this.removeAccessibleListeners=Lr,this.startPointerPress=(e,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),a=$s(window,"pointerup",(s,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();Xt.update(()=>{!f&&!JG(this.node.current,s.target)?d&&d(s,l):u&&u(s,l)})},{passive:!(n.onTap||n.onPointerUp)}),o=$s(window,"pointercancel",(s,l)=>this.cancelPress(s,l),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=lc(a,o),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=s=>{s.key!=="Enter"||!this.checkPressEnd()||TE("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&Xt.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=Os(this.node.current,"keyup",o),TE("down",(s,l)=>{this.startPress(s,l)})},r=Os(this.node.current,"keydown",e),n=()=>{this.isPressing&&TE("cancel",(a,o)=>this.cancelPress(a,o))},i=Os(this.node.current,"blur",n);this.removeAccessibleListeners=lc(r,i)}}startPress(e,r){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Xt.update(()=>n(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!ZG()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Xt.update(()=>n(e,r))}mount(){const e=this.node.getProps(),r=$s(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Os(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=lc(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const MT=new WeakMap,NE=new WeakMap,Obe=t=>{const e=MT.get(t.target);e&&e(t)},jbe=t=>{t.forEach(Obe)};function kbe({root:t,...e}){const r=t||document;NE.has(r)||NE.set(r,{});const n=NE.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(jbe,{root:t,...e})),n[i]}function Rbe(t,e,r){const n=kbe(e);return MT.set(t,r),n.observe(t),()=>{MT.delete(t),n.unobserve(t)}}const Dbe={some:0,all:1};class Mbe extends Uc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:Dbe[i]},s=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(l)};return Rbe(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Lbe(e,r))&&this.startObserver()}unmount(){}}function Lbe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const $be={inView:{Feature:Mbe},tap:{Feature:Pbe},focus:{Feature:Ibe},hover:{Feature:Nbe}};function eq(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Fbe(t){const e={};return t.values.forEach((r,n)=>e[n]=r.get()),e}function Bbe(t){const e={};return t.values.forEach((r,n)=>e[n]=r.getVelocity()),e}function L2(t,e,r){const n=t.getProps();return Lj(n,e,r!==void 0?r:n.custom,Fbe(t),Bbe(t))}let $j=Lr;const ku=t=>t*1e3,Fs=t=>t/1e3,Ube={current:!1},tq=t=>Array.isArray(t)&&typeof t[0]=="number";function rq(t){return!!(!t||typeof t=="string"&&nq[t]||tq(t)||Array.isArray(t)&&t.every(rq))}const Nm=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,nq={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nm([0,.65,.55,1]),circOut:Nm([.55,0,1,.45]),backIn:Nm([.31,.01,.66,-.59]),backOut:Nm([.33,1.53,.69,.99])};function iq(t){if(t)return tq(t)?Nm(t):Array.isArray(t)?t.map(iq):nq[t]}function Vbe(t,e,r,{delay:n=0,duration:i,repeat:a=0,repeatType:o="loop",ease:s,times:l}={}){const u={[e]:r};l&&(u.offset=l);const d=iq(s);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:n,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function zbe(t,{repeat:e,repeatType:r="loop"}){const n=e&&r!=="loop"&&e%2===1?0:t.length-1;return t[n]}const aq=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Wbe=1e-7,Hbe=12;function Gbe(t,e,r,n,i){let a,o,s=0;do o=e+(r-e)/2,a=aq(o,n,i)-t,a>0?r=o:e=o;while(Math.abs(a)>Wbe&&++s<Hbe);return o}function C0(t,e,r,n){if(t===e&&r===n)return Lr;const i=a=>Gbe(a,0,1,t,r);return a=>a===0||a===1?a:aq(i(a),e,n)}const qbe=C0(.42,0,1,1),Kbe=C0(0,0,.58,1),oq=C0(.42,0,.58,1),Ybe=t=>Array.isArray(t)&&typeof t[0]!="number",sq=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,lq=t=>e=>1-t(1-e),Fj=t=>1-Math.sin(Math.acos(t)),cq=lq(Fj),Xbe=sq(Fj),uq=C0(.33,1.53,.69,.99),Bj=lq(uq),Qbe=sq(Bj),Zbe=t=>(t*=2)<1?.5*Bj(t):.5*(2-Math.pow(2,-10*(t-1))),Jbe={linear:Lr,easeIn:qbe,easeInOut:oq,easeOut:Kbe,circIn:Fj,circInOut:Xbe,circOut:cq,backIn:Bj,backInOut:Qbe,backOut:uq,anticipate:Zbe},r8=t=>{if(Array.isArray(t)){$j(t.length===4);const[e,r,n,i]=t;return C0(e,r,n,i)}else if(typeof t=="string")return Jbe[t];return t},Uj=(t,e)=>r=>!!(E0(r)&&tbe.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),dq=(t,e,r)=>n=>{if(!E0(n))return n;const[i,a,o,s]=n.match(D2);return{[t]:parseFloat(i),[e]:parseFloat(a),[r]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},e2e=t=>Nc(0,255,t),IE={...Sd,transform:t=>Math.round(e2e(t))},Su={test:Uj("rgb","red"),parse:dq("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+IE.transform(t)+", "+IE.transform(e)+", "+IE.transform(r)+", "+ig(ng.transform(n))+")"};function t2e(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const LT={test:Uj("#"),parse:t2e,transform:Su.transform},df={test:Uj("hsl","hue"),parse:dq("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Xo.transform(ig(e))+", "+Xo.transform(ig(r))+", "+ig(ng.transform(n))+")"},mi={test:t=>Su.test(t)||LT.test(t)||df.test(t),parse:t=>Su.test(t)?Su.parse(t):df.test(t)?df.parse(t):LT.parse(t),transform:t=>E0(t)?t:t.hasOwnProperty("red")?Su.transform(t):df.transform(t)},wr=(t,e,r)=>-r*t+r*e+t;function PE(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function r2e({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,a=0,o=0;if(!e)i=a=o=r;else{const s=r<.5?r*(1+e):r+e-r*e,l=2*r-s;i=PE(l,s,t+1/3),a=PE(l,s,t),o=PE(l,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}const OE=(t,e,r)=>{const n=t*t;return Math.sqrt(Math.max(0,r*(e*e-n)+n))},n2e=[LT,Su,df],i2e=t=>n2e.find(e=>e.test(t));function n8(t){const e=i2e(t);let r=e.parse(t);return e===df&&(r=r2e(r)),r}const fq=(t,e)=>{const r=n8(t),n=n8(e),i={...r};return a=>(i.red=OE(r.red,n.red,a),i.green=OE(r.green,n.green,a),i.blue=OE(r.blue,n.blue,a),i.alpha=wr(r.alpha,n.alpha,a),Su.transform(i))};function a2e(t){var e,r;return isNaN(t)&&E0(t)&&(((e=t.match(D2))===null||e===void 0?void 0:e.length)||0)+(((r=t.match($G))===null||r===void 0?void 0:r.length)||0)>0}const hq={regex:Jwe,countKey:"Vars",token:"${v}",parse:Lr},pq={regex:$G,countKey:"Colors",token:"${c}",parse:mi.parse},mq={regex:D2,countKey:"Numbers",token:"${n}",parse:Sd.parse};function jE(t,{regex:e,countKey:r,token:n,parse:i}){const a=t.tokenised.match(e);a&&(t["num"+r]=a.length,t.tokenised=t.tokenised.replace(e,n),t.values.push(...a.map(i)))}function dw(t){const e=t.toString(),r={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&jE(r,hq),jE(r,pq),jE(r,mq),r}function gq(t){return dw(t).values}function vq(t){const{values:e,numColors:r,numVars:n,tokenised:i}=dw(t),a=e.length;return o=>{let s=i;for(let l=0;l<a;l++)l<n?s=s.replace(hq.token,o[l]):l<n+r?s=s.replace(pq.token,mi.transform(o[l])):s=s.replace(mq.token,ig(o[l]));return s}}const o2e=t=>typeof t=="number"?0:t;function s2e(t){const e=gq(t);return vq(t)(e.map(o2e))}const Ic={test:a2e,parse:gq,createTransformer:vq,getAnimatableNone:s2e},yq=(t,e)=>r=>`${r>0?e:t}`;function xq(t,e){return typeof t=="number"?r=>wr(t,e,r):mi.test(t)?fq(t,e):t.startsWith("var(")?yq(t,e):bq(t,e)}const wq=(t,e)=>{const r=[...t],n=r.length,i=t.map((a,o)=>xq(a,e[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}},l2e=(t,e)=>{const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=xq(t[i],e[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}},bq=(t,e)=>{const r=Ic.createTransformer(e),n=dw(t),i=dw(e);return n.numVars===i.numVars&&n.numColors===i.numColors&&n.numNumbers>=i.numNumbers?lc(wq(n.values,i.values),r):yq(t,e)},Xg=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},i8=(t,e)=>r=>wr(t,e,r);function c2e(t){return typeof t=="number"?i8:typeof t=="string"?mi.test(t)?fq:bq:Array.isArray(t)?wq:typeof t=="object"?l2e:i8}function u2e(t,e,r){const n=[],i=r||c2e(t[0]),a=t.length-1;for(let o=0;o<a;o++){let s=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Lr:e;s=lc(l,s)}n.push(s)}return n}function _q(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const a=t.length;if($j(a===e.length),a===1)return()=>e[0];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=u2e(e,n,i),s=o.length,l=u=>{let d=0;if(s>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const f=Xg(t[d],t[d+1],u);return o[d](f)};return r?u=>l(Nc(t[0],t[a-1],u)):l}function d2e(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=Xg(0,e,n);t.push(wr(r,1,i))}}function f2e(t){const e=[0];return d2e(e,t.length-1),e}function h2e(t,e){return t.map(r=>r*e)}function p2e(t,e){return t.map(()=>e||oq).splice(0,t.length-1)}function fw({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=Ybe(n)?n.map(r8):r8(n),a={done:!1,value:e[0]},o=h2e(r&&r.length===e.length?r:f2e(e),t),s=_q(o,e,{ease:Array.isArray(i)?i:p2e(e,i)});return{calculatedDuration:t,next:l=>(a.value=s(l),a.done=l>=t,a)}}function Sq(t,e){return e?t*(1e3/e):0}const m2e=5;function Eq(t,e,r){const n=Math.max(e-m2e,0);return Sq(r-t(n),e-n)}const a8=.001,g2e=.01,v2e=10,y2e=.05,x2e=1;function w2e({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let i,a,o=1-e;o=Nc(y2e,x2e,o),t=Nc(g2e,v2e,Fs(t)),o<1?(i=u=>{const d=u*o,f=d*t,h=d-r,p=$T(u,o),m=Math.exp(-f);return a8-h/p*m},a=u=>{const f=u*o*t,h=f*r+r,p=Math.pow(o,2)*Math.pow(u,2)*t,m=Math.exp(-f),g=$T(Math.pow(u,2),o);return(-i(u)+a8>0?-1:1)*((h-p)*m)/g}):(i=u=>{const d=Math.exp(-u*t),f=(u-r)*t+1;return-.001+d*f},a=u=>{const d=Math.exp(-u*t),f=(r-u)*(t*t);return d*f});const s=5/t,l=_2e(i,a,s);if(t=ku(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const b2e=12;function _2e(t,e,r){let n=r;for(let i=1;i<b2e;i++)n=n-t(n)/e(n);return n}function $T(t,e){return t*Math.sqrt(1-e*e)}const S2e=["duration","bounce"],E2e=["stiffness","damping","mass"];function o8(t,e){return e.some(r=>t[r]!==void 0)}function A2e(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!o8(t,E2e)&&o8(t,S2e)){const r=w2e(t);e={...e,...r,mass:1},e.isResolvedFromDuration=!0}return e}function Aq({keyframes:t,restDelta:e,restSpeed:r,...n}){const i=t[0],a=t[t.length-1],o={done:!1,value:i},{stiffness:s,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=A2e({...n,velocity:-Fs(n.velocity||0)}),p=f||0,m=l/(2*Math.sqrt(s*u)),g=a-i,v=Fs(Math.sqrt(s/u)),x=Math.abs(g)<5;r||(r=x?.01:2),e||(e=x?.005:.5);let y;if(m<1){const w=$T(v,m);y=S=>{const E=Math.exp(-m*v*S);return a-E*((p+m*v*g)/w*Math.sin(w*S)+g*Math.cos(w*S))}}else if(m===1)y=w=>a-Math.exp(-v*w)*(g+(p+v*g)*w);else{const w=v*Math.sqrt(m*m-1);y=S=>{const E=Math.exp(-m*v*S),C=Math.min(w*S,300);return a-E*((p+m*v*g)*Math.sinh(C)+w*g*Math.cosh(C))/w}}return{calculatedDuration:h&&d||null,next:w=>{const S=y(w);if(h)o.done=w>=d;else{let E=p;w!==0&&(m<1?E=Eq(y,w,S):E=0);const C=Math.abs(E)<=r,A=Math.abs(a-S)<=e;o.done=C&&A}return o.value=o.done?a:S,o}}}function s8({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:l,restDelta:u=.5,restSpeed:d}){const f=t[0],h={done:!1,value:f},p=T=>s!==void 0&&T<s||l!==void 0&&T>l,m=T=>s===void 0?l:l===void 0||Math.abs(s-T)<Math.abs(l-T)?s:l;let g=r*e;const v=f+g,x=o===void 0?v:o(v);x!==v&&(g=x-f);const y=T=>-g*Math.exp(-T/n),w=T=>x+y(T),S=T=>{const N=y(T),I=w(T);h.done=Math.abs(N)<=u,h.value=h.done?x:I};let E,C;const A=T=>{p(h.value)&&(E=T,C=Aq({keyframes:[h.value,m(h.value)],velocity:Eq(w,T,h.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return A(0),{calculatedDuration:null,next:T=>{let N=!1;return!C&&E===void 0&&(N=!0,S(T),A(T)),E!==void 0&&T>E?C.next(T-E):(!N&&S(T),h)}}}const C2e=t=>{const e=({timestamp:r})=>t(r);return{start:()=>Xt.update(e,!0),stop:()=>Js(e),now:()=>Hn.isProcessing?Hn.timestamp:performance.now()}},l8=2e4;function c8(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<l8;)e+=r,n=t.next(e);return e>=l8?1/0:e}const T2e={decay:s8,inertia:s8,tween:fw,keyframes:fw,spring:Aq};function hw({autoplay:t=!0,delay:e=0,driver:r=C2e,keyframes:n,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:s="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:f,...h}){let p=1,m=!1,g,v;const x=()=>{v=new Promise(H=>{g=H})};x();let y;const w=T2e[i]||fw;let S;w!==fw&&typeof n[0]!="number"&&(S=_q([0,100],n,{clamp:!1}),n=[0,100]);const E=w({...h,keyframes:n});let C;s==="mirror"&&(C=w({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let A="idle",T=null,N=null,I=null;E.calculatedDuration===null&&a&&(E.calculatedDuration=c8(E));const{calculatedDuration:j}=E;let O=1/0,P=1/0;j!==null&&(O=j+o,P=O*(a+1)-o);let M=0;const F=H=>{if(N===null)return;p>0&&(N=Math.min(N,H)),p<0&&(N=Math.min(H-P/p,N)),T!==null?M=T:M=Math.round(H-N)*p;const Y=M-e*(p>=0?1:-1),Q=p>=0?Y<0:Y>P;M=Math.max(Y,0),A==="finished"&&T===null&&(M=P);let ue=M,de=E;if(a){const re=Math.min(M,P)/O;let L=Math.floor(re),q=re%1;!q&&re>=1&&(q=1),q===1&&L--,L=Math.min(L,a+1),!!(L%2)&&(s==="reverse"?(q=1-q,o&&(q-=o/O)):s==="mirror"&&(de=C)),ue=Nc(0,1,q)*O}const he=Q?{done:!1,value:n[0]}:de.next(ue);S&&(he.value=S(he.value));let{done:pe}=he;!Q&&j!==null&&(pe=p>=0?M>=P:M<=0);const J=T===null&&(A==="finished"||A==="running"&&pe);return f&&f(he.value),J&&$(),he},B=()=>{y&&y.stop(),y=void 0},W=()=>{A="idle",B(),g(),x(),N=I=null},$=()=>{A="finished",d&&d(),B(),g()},U=()=>{if(m)return;y||(y=r(F));const H=y.now();l&&l(),T!==null?N=H-T:(!N||A==="finished")&&(N=H),A==="finished"&&x(),I=N,T=null,A="running",y.start()};t&&U();const X={then(H,Y){return v.then(H,Y)},get time(){return Fs(M)},set time(H){H=ku(H),M=H,T!==null||!y||p===0?T=H:N=y.now()-H/p},get duration(){const H=E.calculatedDuration===null?c8(E):E.calculatedDuration;return Fs(H)},get speed(){return p},set speed(H){H===p||!y||(p=H,X.time=Fs(M))},get state(){return A},play:U,pause:()=>{A="paused",T=M},stop:()=>{m=!0,A!=="idle"&&(A="idle",u&&u(),W())},cancel:()=>{I!==null&&F(I),W()},complete:()=>{A="finished"},sample:H=>(N=0,F(H))};return X}function N2e(t){let e;return()=>(e===void 0&&(e=t()),e)}const I2e=N2e(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),P2e=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Uy=10,O2e=2e4,j2e=(t,e)=>e.type==="spring"||t==="backgroundColor"||!rq(e.ease);function k2e(t,e,{onUpdate:r,onComplete:n,...i}){if(!(I2e()&&P2e.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,s,l,u=!1;const d=()=>{l=new Promise(w=>{s=w})};d();let{keyframes:f,duration:h=300,ease:p,times:m}=i;if(j2e(e,i)){const w=hw({...i,repeat:0,delay:0});let S={done:!1,value:f[0]};const E=[];let C=0;for(;!S.done&&C<O2e;)S=w.sample(C),E.push(S.value),C+=Uy;m=void 0,f=E,h=C-Uy,p="linear"}const g=Vbe(t.owner.current,e,f,{...i,duration:h,ease:p,times:m}),v=()=>{u=!1,g.cancel()},x=()=>{u=!0,Xt.update(v),s(),d()};return g.onfinish=()=>{u||(t.set(zbe(f,i)),n&&n(),x())},{then(w,S){return l.then(w,S)},attachTimeline(w){return g.timeline=w,g.onfinish=null,Lr},get time(){return Fs(g.currentTime||0)},set time(w){g.currentTime=ku(w)},get speed(){return g.playbackRate},set speed(w){g.playbackRate=w},get duration(){return Fs(h)},play:()=>{o||(g.play(),Js(v))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:w}=g;if(w){const S=hw({...i,autoplay:!1});t.setWithVelocity(S.sample(w-Uy).value,S.sample(w).value,Uy)}x()},complete:()=>{u||g.finish()},cancel:x}}function R2e({keyframes:t,delay:e,onUpdate:r,onComplete:n}){const i=()=>(r&&r(t[t.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Lr,pause:Lr,stop:Lr,then:a=>(a(),Promise.resolve()),cancel:Lr,complete:Lr});return e?hw({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const D2e={type:"spring",stiffness:500,damping:25,restSpeed:10},M2e=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),L2e={type:"keyframes",duration:.8},$2e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},F2e=(t,{keyframes:e})=>e.length>2?L2e:_d.has(t)?t.startsWith("scale")?M2e(e[1]):D2e:$2e,FT=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ic.test(e)||e==="0")&&!e.startsWith("url(")),B2e=new Set(["brightness","contrast","saturate","opacity"]);function U2e(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(D2)||[];if(!n)return t;const i=r.replace(n,"");let a=B2e.has(e)?1:0;return n!==r&&(a*=100),e+"("+a+i+")"}const V2e=/([a-z-]*)\(.*?\)/g,BT={...Ic,getAnimatableNone:t=>{const e=t.match(V2e);return e?e.map(U2e).join(" "):t}},z2e={...FG,color:mi,backgroundColor:mi,outlineColor:mi,fill:mi,stroke:mi,borderColor:mi,borderTopColor:mi,borderRightColor:mi,borderBottomColor:mi,borderLeftColor:mi,filter:BT,WebkitFilter:BT},Vj=t=>z2e[t];function Cq(t,e){let r=Vj(t);return r!==BT&&(r=Ic),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Tq=t=>/^0[^.\s]+$/.test(t);function W2e(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||Tq(t)}function H2e(t,e,r,n){const i=FT(e,r);let a;Array.isArray(r)?a=[...r]:a=[null,r];const o=n.from!==void 0?n.from:t.get();let s;const l=[];for(let u=0;u<a.length;u++)a[u]===null&&(a[u]=u===0?o:a[u-1]),W2e(a[u])&&l.push(u),typeof a[u]=="string"&&a[u]!=="none"&&a[u]!=="0"&&(s=a[u]);if(i&&l.length&&s)for(let u=0;u<l.length;u++){const d=l[u];a[d]=Cq(e,s)}return a}function G2e({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function zj(t,e){return t[e]||t.default||t}const q2e={skipAnimations:!1},Wj=(t,e,r,n={})=>i=>{const a=zj(n,t)||{},o=a.delay||n.delay||0;let{elapsed:s=0}=n;s=s-ku(o);const l=H2e(e,t,r,a),u=l[0],d=l[l.length-1],f=FT(t,u),h=FT(t,d);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-s,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(G2e(a)||(p={...p,...F2e(t,p)}),p.duration&&(p.duration=ku(p.duration)),p.repeatDelay&&(p.repeatDelay=ku(p.repeatDelay)),!f||!h||Ube.current||a.type===!1||q2e.skipAnimations)return R2e(p);if(!n.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const m=k2e(e,t,p);if(m)return m}return hw(p)};function pw(t){return!!(Ki(t)&&t.add)}const Nq=t=>/^\-?\d*\.?\d+$/.test(t);function Hj(t,e){t.indexOf(e)===-1&&t.push(e)}function Gj(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}let qj=class{constructor(){this.subscriptions=[]}add(e){return Hj(this.subscriptions,e),()=>Gj(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};const K2e=t=>!isNaN(parseFloat(t));class Y2e{constructor(e,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:a,timestamp:o}=Hn;this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o,Xt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Xt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=K2e(this.current),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new qj);const n=this.events[e].add(r);return e==="change"?()=>{n(),Xt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Sq(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ih(t,e){return new Y2e(t,e)}const Iq=t=>e=>e.test(t),X2e={test:t=>t==="auto",parse:t=>t},Pq=[Sd,Ke,Xo,Cl,nbe,rbe,X2e],Zp=t=>Pq.find(Iq(t)),Q2e=[...Pq,mi,Ic],Z2e=t=>Q2e.find(Iq(t));function J2e(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,ih(r))}function e_e(t,e){const r=L2(t,e);let{transitionEnd:n={},transition:i={},...a}=r?t.makeTargetAnimatable(r,!1):{};a={...a,...n};for(const o in a){const s=vbe(a[o]);J2e(t,o,s)}}function t_e(t,e,r){var n,i;const a=Object.keys(e).filter(s=>!t.hasValue(s)),o=a.length;if(o)for(let s=0;s<o;s++){const l=a[s],u=e[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(n=r[l])!==null&&n!==void 0?n:t.readValue(l))!==null&&i!==void 0?i:e[l]),d!=null&&(typeof d=="string"&&(Nq(d)||Tq(d))?d=parseFloat(d):!Z2e(d)&&Ic.test(u)&&(d=Cq(l,u)),t.addValue(l,ih(d,{owner:t})),r[l]===void 0&&(r[l]=d),d!==null&&t.setBaseTarget(l,d))}}function r_e(t,e){return e?(e[t]||e.default||e).from:void 0}function n_e(t,e,r){const n={};for(const i in t){const a=r_e(i,e);if(a!==void 0)n[i]=a;else{const o=r.getValue(i);o&&(n[i]=o.get())}}return n}function i_e({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function a_e(t,e){const r=t.get();if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(e[n]!==r)return!0}else return r!==e}function Oq(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...s}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");n&&(a=n);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in s){const h=t.getValue(f),p=s[f];if(!h||p===void 0||d&&i_e(d,f))continue;const m={delay:r,elapsed:0,...zj(a||{},f)};if(window.HandoffAppearAnimations){const x=t.getProps()[jG];if(x){const y=window.HandoffAppearAnimations(x,f,h,Xt);y!==null&&(m.elapsed=y,m.isHandoff=!0)}}let g=!m.isHandoff&&!a_e(h,p);if(m.type==="spring"&&(h.getVelocity()||m.velocity)&&(g=!1),h.animation&&(g=!1),g)continue;h.start(Wj(f,h,p,t.shouldReduceMotion&&_d.has(f)?{type:!1}:m));const v=h.animation;pw(l)&&(l.add(f),v.then(()=>l.remove(f))),u.push(v)}return o&&Promise.all(u).then(()=>{o&&e_e(t,o)}),u}function UT(t,e,r={}){const n=L2(t,e,r.custom);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const a=n?()=>Promise.all(Oq(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=i;return o_e(t,e,u+l,d,f,r)}:()=>Promise.resolve(),{when:s}=i;if(s){const[l,u]=s==="beforeChildren"?[a,o]:[o,a];return l().then(()=>u())}else return Promise.all([a(),o(r.delay)])}function o_e(t,e,r=0,n=0,i=1,a){const o=[],s=(t.variantChildren.size-1)*n,l=i===1?(u=0)=>u*n:(u=0)=>s-u*n;return Array.from(t.variantChildren).sort(s_e).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(UT(u,e,{...a,delay:r+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function s_e(t,e){return t.sortNodePosition(e)}function l_e(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(a=>UT(t,a,r));n=Promise.all(i)}else if(typeof e=="string")n=UT(t,e,r);else{const i=typeof e=="function"?L2(t,e,r.custom):e;n=Promise.all(Oq(t,i,r))}return n.then(()=>t.notify("AnimationComplete",e))}const c_e=[...Nj].reverse(),u_e=Nj.length;function d_e(t){return e=>Promise.all(e.map(({animation:r,options:n})=>l_e(t,r,n)))}function f_e(t){let e=d_e(t);const r=p_e();let n=!0;const i=(l,u)=>{const d=L2(t,u);if(d){const{transition:f,transitionEnd:h,...p}=d;l={...l,...p,...h}}return l};function a(l){e=l(t)}function o(l,u){const d=t.getProps(),f=t.getVariantContext(!0)||{},h=[],p=new Set;let m={},g=1/0;for(let x=0;x<u_e;x++){const y=c_e[x],w=r[y],S=d[y]!==void 0?d[y]:f[y],E=Kg(S),C=y===u?w.isActive:null;C===!1&&(g=x);let A=S===f[y]&&S!==d[y]&&E;if(A&&n&&t.manuallyAnimateOnMount&&(A=!1),w.protectedKeys={...m},!w.isActive&&C===null||!S&&!w.prevProp||k2(S)||typeof S=="boolean")continue;let N=h_e(w.prevProp,S)||y===u&&w.isActive&&!A&&E||x>g&&E,I=!1;const j=Array.isArray(S)?S:[S];let O=j.reduce(i,{});C===!1&&(O={});const{prevResolvedValues:P={}}=w,M={...P,...O},F=B=>{N=!0,p.has(B)&&(I=!0,p.delete(B)),w.needsAnimating[B]=!0};for(const B in M){const W=O[B],$=P[B];if(m.hasOwnProperty(B))continue;let U=!1;uw(W)&&uw($)?U=!eq(W,$):U=W!==$,U?W!==void 0?F(B):p.add(B):W!==void 0&&p.has(B)?F(B):w.protectedKeys[B]=!0}w.prevProp=S,w.prevResolvedValues=O,w.isActive&&(m={...m,...O}),n&&t.blockInitialAnimation&&(N=!1),N&&(!A||I)&&h.push(...j.map(B=>({animation:B,options:{type:y,...l}})))}if(p.size){const x={};p.forEach(y=>{const w=t.getBaseTarget(y);w!==void 0&&(x[y]=w)}),h.push({animation:x})}let v=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(v=!1),n=!1,v?e(h):Promise.resolve()}function s(l,u,d){var f;if(r[l].isActive===u)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),r[l].isActive=u;const h=o(d,l);for(const p in r)r[p].protectedKeys={};return h}return{animateChanges:o,setActive:s,setAnimateFunction:a,getState:()=>r}}function h_e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!eq(e,t):!1}function tu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function p_e(){return{animate:tu(!0),whileInView:tu(),whileHover:tu(),whileTap:tu(),whileDrag:tu(),whileFocus:tu(),exit:tu()}}class m_e extends Uc{constructor(e){super(e),e.animationState||(e.animationState=f_e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),k2(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let g_e=0;class v_e extends Uc{constructor(){super(...arguments),this.id=g_e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});r&&!e&&a.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const y_e={animation:{Feature:m_e},exit:{Feature:v_e}},u8=(t,e)=>Math.abs(t-e);function x_e(t,e){const r=u8(t.x,e.x),n=u8(t.y,e.y);return Math.sqrt(r**2+n**2)}class jq{constructor(e,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=RE(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=x_e(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:m}=f,{timestamp:g}=Hn;this.history.push({...m,timestamp:g});const{onStart:v,onMove:x}=this.handlers;h||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=kE(h,this.transformPagePoint),Xt.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=RE(f.type==="pointercancel"?this.lastMoveEventInfo:kE(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,v),m&&m(f,v)},!YG(e))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const o=M2(e),s=kE(o,this.transformPagePoint),{point:l}=s,{timestamp:u}=Hn;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=r;d&&d(e,RE(s,this.history)),this.removeListeners=lc($s(this.contextWindow,"pointermove",this.handlePointerMove),$s(this.contextWindow,"pointerup",this.handlePointerUp),$s(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Js(this.updatePoint)}}function kE(t,e){return e?{point:e(t.point)}:t}function d8(t,e){return{x:t.x-e.x,y:t.y-e.y}}function RE({point:t},e){return{point:t,delta:d8(t,kq(e)),offset:d8(t,w_e(e)),velocity:b_e(e,.1)}}function w_e(t){return t[0]}function kq(t){return t[t.length-1]}function b_e(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=kq(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>ku(e)));)r--;if(!n)return{x:0,y:0};const a=Fs(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ha(t){return t.max-t.min}function VT(t,e=0,r=.01){return Math.abs(t-e)<=r}function f8(t,e,r,n=.5){t.origin=n,t.originPoint=wr(e.min,e.max,t.origin),t.scale=ha(r)/ha(e),(VT(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=wr(r.min,r.max,t.origin)-t.originPoint,(VT(t.translate)||isNaN(t.translate))&&(t.translate=0)}function ag(t,e,r,n){f8(t.x,e.x,r.x,n?n.originX:void 0),f8(t.y,e.y,r.y,n?n.originY:void 0)}function h8(t,e,r){t.min=r.min+e.min,t.max=t.min+ha(e)}function __e(t,e,r){h8(t.x,e.x,r.x),h8(t.y,e.y,r.y)}function p8(t,e,r){t.min=e.min-r.min,t.max=t.min+ha(e)}function og(t,e,r){p8(t.x,e.x,r.x),p8(t.y,e.y,r.y)}function S_e(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?wr(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?wr(r,t,n.max):Math.min(t,r)),t}function m8(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function E_e(t,{top:e,left:r,bottom:n,right:i}){return{x:m8(t.x,r,i),y:m8(t.y,e,n)}}function g8(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function A_e(t,e){return{x:g8(t.x,e.x),y:g8(t.y,e.y)}}function C_e(t,e){let r=.5;const n=ha(t),i=ha(e);return i>n?r=Xg(e.min,e.max-n,t.min):n>i&&(r=Xg(t.min,t.max-i,e.min)),Nc(0,1,r)}function T_e(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const zT=.35;function N_e(t=zT){return t===!1?t=0:t===!0&&(t=zT),{x:v8(t,"left","right"),y:v8(t,"top","bottom")}}function v8(t,e,r){return{min:y8(t,e),max:y8(t,r)}}function y8(t,e){return typeof t=="number"?t:t[e]||0}const x8=()=>({translate:0,scale:1,origin:0,originPoint:0}),ff=()=>({x:x8(),y:x8()}),w8=()=>({min:0,max:0}),Ur=()=>({x:w8(),y:w8()});function Ea(t){return[t("x"),t("y")]}function Rq({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function I_e({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function P_e(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function DE(t){return t===void 0||t===1}function WT({scale:t,scaleX:e,scaleY:r}){return!DE(t)||!DE(e)||!DE(r)}function cu(t){return WT(t)||Dq(t)||t.z||t.rotate||t.rotateX||t.rotateY}function Dq(t){return b8(t.x)||b8(t.y)}function b8(t){return t&&t!=="0%"}function mw(t,e,r){const n=t-r,i=e*n;return r+i}function _8(t,e,r,n,i){return i!==void 0&&(t=mw(t,i,n)),mw(t,r,n)+e}function HT(t,e=0,r=1,n,i){t.min=_8(t.min,e,r,n,i),t.max=_8(t.max,e,r,n,i)}function Mq(t,{x:e,y:r}){HT(t.x,e.translate,e.scale,e.originPoint),HT(t.y,r.translate,r.scale,r.originPoint)}function O_e(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let a,o;for(let s=0;s<i;s++){a=r[s],o=a.projectionDelta;const l=a.instance;l&&l.style&&l.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&hf(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Mq(t,o)),n&&cu(a.latestValues)&&hf(t,a.latestValues))}e.x=S8(e.x),e.y=S8(e.y)}function S8(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Ol(t,e){t.min=t.min+e,t.max=t.max+e}function E8(t,e,[r,n,i]){const a=e[i]!==void 0?e[i]:.5,o=wr(t.min,t.max,a);HT(t,e[r],e[n],o,e.scale)}const j_e=["x","scaleX","originX"],k_e=["y","scaleY","originY"];function hf(t,e){E8(t.x,e,j_e),E8(t.y,e,k_e)}function Lq(t,e){return Rq(P_e(t.getBoundingClientRect(),e))}function R_e(t,e,r){const n=Lq(t,r),{scroll:i}=e;return i&&(Ol(n.x,i.offset.x),Ol(n.y,i.offset.y)),n}const $q=({current:t})=>t?t.ownerDocument.defaultView:null,D_e=new WeakMap;class M_e{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ur(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(M2(d,"page").point)},a=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:m}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=QG(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ea(v=>{let x=this.getAxisMotionValue(v).get()||0;if(Xo.test(x)){const{projection:y}=this.visualElement;if(y&&y.layout){const w=y.layout.layoutBox[v];w&&(x=ha(w)*(parseFloat(x)/100))}}this.originPoint[v]=x}),m&&Xt.update(()=>m(d,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:m,onDrag:g}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:v}=f;if(p&&this.currentDirection===null){this.currentDirection=L_e(v),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),g&&g(d,f)},s=(d,f)=>this.stop(d,f),l=()=>Ea(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new jq(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:$q(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Xt.update(()=>a(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!Vy(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=S_e(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;r&&uf(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=E_e(i.layoutBox,r):this.constraints=!1,this.elastic=N_e(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ea(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=T_e(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!uf(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=R_e(n,i.root,this.visualElement.getTransformPagePoint());let o=A_e(i.layout.layoutBox,a);if(r){const s=r(I_e(o));this.hasMutatedConstraints=!!s,s&&(o=Rq(s))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},u=Ea(d=>{if(!Vy(d,r,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,m={type:"inertia",velocity:n?e[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,m)});return Promise.all(u).then(s)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return n.start(Wj(e,n,0,r))}stopAnimation(){Ea(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ea(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Ea(r=>{const{drag:n}=this.getProps();if(!Vy(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:s}=i.layout.layoutBox[r];a.set(e[r]-wr(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!uf(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ea(o=>{const s=this.getAxisMotionValue(o);if(s){const l=s.get();i[o]=C_e({min:l,max:l},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ea(o=>{if(!Vy(o,e,null))return;const s=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];s.set(wr(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;D_e.set(this.visualElement,this);const e=this.visualElement.current,r=$s(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();uf(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),n();const o=Os(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ea(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=zT,dragMomentum:s=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:s}}}function Vy(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function L_e(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class $_e extends Uc{constructor(e){super(e),this.removeGroupControls=Lr,this.removeListeners=Lr,this.controls=new M_e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Lr}unmount(){this.removeGroupControls(),this.removeListeners()}}const A8=t=>(e,r)=>{t&&Xt.update(()=>t(e,r))};class F_e extends Uc{constructor(){super(...arguments),this.removePointerDownListener=Lr}onPointerDown(e){this.session=new jq(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$q(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:A8(e),onStart:A8(r),onMove:n,onEnd:(a,o)=>{delete this.session,i&&Xt.update(()=>i(a,o))}}}mount(){this.removePointerDownListener=$s(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function B_e(){const t=b.useContext(O2);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:n}=t,i=b.useId();return b.useEffect(()=>n(i),[]),!e&&r?[!1,()=>r&&r(i)]:[!0]}const q1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function C8(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Jp={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ke.test(t))t=parseFloat(t);else return t;const r=C8(t,e.target.x),n=C8(t,e.target.y);return`${r}% ${n}%`}},U_e={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=Ic.parse(t);if(i.length>5)return n;const a=Ic.createTransformer(t),o=typeof i[0]!="number"?1:0,s=r.x.scale*e.x,l=r.y.scale*e.y;i[0+o]/=s,i[1+o]/=l;const u=wr(s,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),a(i)}};class V_e extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=e;Ywe(z_e),a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),q1.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,o=n.projection;return o&&(o.isPresent=a,i||e.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||Xt.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Fq(t){const[e,r]=B_e(),n=b.useContext(Pj);return D.createElement(V_e,{...t,layoutGroup:n,switchLayoutGroup:b.useContext(RG),isPresent:e,safeToRemove:r})}const z_e={borderRadius:{...Jp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jp,borderTopRightRadius:Jp,borderBottomLeftRadius:Jp,borderBottomRightRadius:Jp,boxShadow:U_e},Bq=["TopLeft","TopRight","BottomLeft","BottomRight"],W_e=Bq.length,T8=t=>typeof t=="string"?parseFloat(t):t,N8=t=>typeof t=="number"||Ke.test(t);function H_e(t,e,r,n,i,a){i?(t.opacity=wr(0,r.opacity!==void 0?r.opacity:1,G_e(n)),t.opacityExit=wr(e.opacity!==void 0?e.opacity:1,0,q_e(n))):a&&(t.opacity=wr(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<W_e;o++){const s=`border${Bq[o]}Radius`;let l=I8(e,s),u=I8(r,s);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||N8(l)===N8(u)?(t[s]=Math.max(wr(T8(l),T8(u),n),0),(Xo.test(u)||Xo.test(l))&&(t[s]+="%")):t[s]=u}(e.rotate||r.rotate)&&(t.rotate=wr(e.rotate||0,r.rotate||0,n))}function I8(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const G_e=Uq(0,.5,cq),q_e=Uq(.5,.95,Lr);function Uq(t,e,r){return n=>n<t?0:n>e?1:r(Xg(t,e,n))}function P8(t,e){t.min=e.min,t.max=e.max}function ba(t,e){P8(t.x,e.x),P8(t.y,e.y)}function O8(t,e,r,n,i){return t-=e,t=mw(t,1/r,n),i!==void 0&&(t=mw(t,1/i,n)),t}function K_e(t,e=0,r=1,n=.5,i,a=t,o=t){if(Xo.test(e)&&(e=parseFloat(e),e=wr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let s=wr(a.min,a.max,n);t===a&&(s-=e),t.min=O8(t.min,e,r,s,i),t.max=O8(t.max,e,r,s,i)}function j8(t,e,[r,n,i],a,o){K_e(t,e[r],e[n],e[i],e.scale,a,o)}const Y_e=["x","scaleX","originX"],X_e=["y","scaleY","originY"];function k8(t,e,r,n){j8(t.x,e,Y_e,r?r.x:void 0,n?n.x:void 0),j8(t.y,e,X_e,r?r.y:void 0,n?n.y:void 0)}function R8(t){return t.translate===0&&t.scale===1}function Vq(t){return R8(t.x)&&R8(t.y)}function Q_e(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function zq(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function D8(t){return ha(t.x)/ha(t.y)}class Z_e{constructor(){this.members=[]}add(e){Hj(this.members,e),e.scheduleRender()}remove(e){if(Gj(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function M8(t,e,r){let n="";const i=t.x.translate/e.x,a=t.y.translate/e.y;if((i||a)&&(n=`translate3d(${i}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{rotate:l,rotateX:u,rotateY:d}=r;l&&(n+=`rotate(${l}deg) `),u&&(n+=`rotateX(${u}deg) `),d&&(n+=`rotateY(${d}deg) `)}const o=t.x.scale*e.x,s=t.y.scale*e.y;return(o!==1||s!==1)&&(n+=`scale(${o}, ${s})`),n||"none"}const J_e=(t,e)=>t.depth-e.depth;class eSe{constructor(){this.children=[],this.isDirty=!1}add(e){Hj(this.children,e),this.isDirty=!0}remove(e){Gj(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(J_e),this.isDirty=!1,this.children.forEach(e)}}function tSe(t,e){const r=performance.now(),n=({timestamp:i})=>{const a=i-r;a>=e&&(Js(n),t(a-e))};return Xt.read(n,!0),()=>Js(n)}function rSe(t){window.MotionDebug&&window.MotionDebug.record(t)}function nSe(t){return t instanceof SVGElement&&t.tagName!=="svg"}function iSe(t,e,r){const n=Ki(t)?t:ih(t);return n.start(Wj("",n,e,r)),n.animation}const L8=["","X","Y","Z"],aSe={visibility:"hidden"},$8=1e3;let oSe=0;const uu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Wq({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},s=e==null?void 0:e()){this.id=oSe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,uu.totalNodes=uu.resolvedTargetDeltas=uu.recalculatedProjection=0,this.nodes.forEach(cSe),this.nodes.forEach(pSe),this.nodes.forEach(mSe),this.nodes.forEach(uSe),rSe(uu)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new eSe)}addEventListener(o,s){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new qj),this.eventHandlers.get(o).add(s)}notifyListeners(o,...s){const l=this.eventHandlers.get(o);l&&l.notify(...s)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=nSe(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(u||l)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=tSe(h,250),q1.hasAnimatedSinceResize&&(q1.hasAnimatedSinceResize=!1,this.nodes.forEach(B8))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||wSe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:x}=d.getProps(),y=!this.targetLayout||!zq(this.targetLayout,m)||p,w=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const S={...zj(g,"layout"),onPlay:v,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||B8(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Js(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gSe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(F8);return}this.isUpdating||this.nodes.forEach(fSe),this.isUpdating=!1,this.nodes.forEach(hSe),this.nodes.forEach(sSe),this.nodes.forEach(lSe),this.clearAllSnapshots();const s=performance.now();Hn.delta=Nc(0,1e3/60,s-Hn.timestamp),Hn.timestamp=s,Hn.isProcessing=!0,CE.update.process(Hn),CE.preRender.process(Hn),CE.render.process(Hn),Hn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(dSe),this.sharedNodes.forEach(vSe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ur(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let s=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(s=!1),s&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,s=this.projectionDelta&&!Vq(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(s||cu(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return o&&(l=this.removeTransform(l)),bSe(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ur();const s=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Ol(s.x,l.offset.x),Ol(s.y,l.offset.y)),s}removeElementScroll(o){const s=Ur();ba(s,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){ba(s,o);const{scroll:h}=this.root;h&&(Ol(s.x,-h.offset.x),Ol(s.y,-h.offset.y))}Ol(s.x,d.offset.x),Ol(s.y,d.offset.y)}}return s}applyTransform(o,s=!1){const l=Ur();ba(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!s&&d.options.layoutScroll&&d.scroll&&d!==d.root&&hf(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),cu(d.latestValues)&&hf(l,d.latestValues)}return cu(this.latestValues)&&hf(l,this.latestValues),l}removeTransform(o){const s=Ur();ba(s,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!cu(u.latestValues))continue;WT(u.latestValues)&&u.updateSnapshot();const d=Ur(),f=u.measurePageBox();ba(d,f),k8(s,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return cu(this.latestValues)&&k8(s,this.latestValues),s}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Hn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var s;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Hn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ur(),this.relativeTargetOrigin=Ur(),og(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ba(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ur(),this.targetWithTransforms=Ur()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),__e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ba(this.target,this.layout.layoutBox),Mq(this.target,this.targetDelta)):ba(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ur(),this.relativeTargetOrigin=Ur(),og(this.relativeTargetOrigin,this.target,p.target),ba(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}uu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||WT(this.parent.latestValues)||Dq(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Hn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;ba(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;O_e(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox);const{target:m}=s;if(!m){this.projectionTransform&&(this.projectionDelta=ff(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ff(),this.projectionDeltaWithTransform=ff());const g=this.projectionTransform;ag(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=M8(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),uu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const s=this.getStack();s&&s.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,s=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},f=ff();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const h=Ur(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=p!==m,v=this.getStack(),x=!v||v.members.length<=1,y=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(xSe));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const E=S/1e3;U8(f.x,o.x,E),U8(f.y,o.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(og(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ySe(this.relativeTarget,this.relativeTargetOrigin,h,E),w&&Q_e(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Ur()),ba(w,this.relativeTarget)),g&&(this.animationValues=d,H_e(d,u,this.latestValues,E,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Js(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xt.update(()=>{q1.hasAnimatedSinceResize=!0,this.currentAnimation=iSe(0,$8,{...o,onUpdate:s=>{this.mixTargetDelta(s),o.onUpdate&&o.onUpdate(s)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:s,target:l,layout:u,latestValues:d}=o;if(!(!s||!l||!u)){if(this!==o&&this.layout&&u&&Hq(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Ur();const f=ha(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=ha(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}ba(s,l),hf(s,d),ag(this.projectionDeltaWithTransform,this.layoutCorrected,s,d)}}registerSharedNode(o,s){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Z_e),this.sharedNodes.get(o).add(s);const u=s.options.initialPromotionConfig;s.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(s):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:s,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let s=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(s=!0),!s)return;const u={};for(let d=0;d<L8.length;d++){const f="rotate"+L8[d];l[f]&&(u[f]=l[f],o.setStaticValue(f,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var s,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return aSe;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=G1(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=G1(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!cu(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=M8(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y:m}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(s=h.opacity)!==null&&s!==void 0?s:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in lw){if(h[g]===void 0)continue;const{correct:v,applyTo:x}=lw[g],y=u.transform==="none"?h[g]:v(h[g],f);if(x){const w=x.length;for(let S=0;S<w;S++)u[x[S]]=y}else u[g]=y}return this.options.layoutId&&(u.pointerEvents=f===this?G1(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var s;return(s=o.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(F8),this.root.sharedNodes.clear()}}}function sSe(t){t.updateLayout()}function lSe(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,o=r.source!==t.layout.source;a==="size"?Ea(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=ha(h);h.min=n[f].min,h.max=h.min+p}):Hq(a,r.layoutBox,n)&&Ea(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=ha(n[f]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const s=ff();ag(s,n,r.layoutBox);const l=ff();o?ag(l,t.applyTransform(i,!0),r.measuredBox):ag(l,n,r.layoutBox);const u=!Vq(s);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const m=Ur();og(m,r.layoutBox,h.layoutBox);const g=Ur();og(g,n,p.layoutBox),zq(m,g)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=m,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:s,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function cSe(t){uu.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function uSe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function dSe(t){t.clearSnapshot()}function F8(t){t.clearMeasurements()}function fSe(t){t.isLayoutDirty=!1}function hSe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function B8(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function pSe(t){t.resolveTargetDelta()}function mSe(t){t.calcProjection()}function gSe(t){t.resetRotation()}function vSe(t){t.removeLeadSnapshot()}function U8(t,e,r){t.translate=wr(e.translate,0,r),t.scale=wr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function V8(t,e,r,n){t.min=wr(e.min,r.min,n),t.max=wr(e.max,r.max,n)}function ySe(t,e,r,n){V8(t.x,e.x,r.x,n),V8(t.y,e.y,r.y,n)}function xSe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const wSe={duration:.45,ease:[.4,0,.1,1]},z8=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),W8=z8("applewebkit/")&&!z8("chrome/")?Math.round:Lr;function H8(t){t.min=W8(t.min),t.max=W8(t.max)}function bSe(t){H8(t.x),H8(t.y)}function Hq(t,e,r){return t==="position"||t==="preserve-aspect"&&!VT(D8(e),D8(r),.2)}const _Se=Wq({attachResizeListener:(t,e)=>Os(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ME={current:void 0},Gq=Wq({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ME.current){const t=new _Se({});t.mount(window),t.setOptions({layoutScroll:!0}),ME.current=t}return ME.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),SSe={pan:{Feature:F_e},drag:{Feature:$_e,ProjectionNode:Gq,MeasureLayout:Fq}},ESe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function ASe(t){const e=ESe.exec(t);if(!e)return[,];const[,r,n]=e;return[r,n]}function GT(t,e,r=1){const[n,i]=ASe(t);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const o=a.trim();return Nq(o)?parseFloat(o):o}else return DT(i)?GT(i,e,r+1):i}function CSe(t,{...e},r){const n=t.current;if(!(n instanceof Element))return{target:e,transitionEnd:r};r&&(r={...r}),t.values.forEach(i=>{const a=i.get();if(!DT(a))return;const o=GT(a,n);o&&i.set(o)});for(const i in e){const a=e[i];if(!DT(a))continue;const o=GT(a,n);o&&(e[i]=o,r||(r={}),r[i]===void 0&&(r[i]=a))}return{target:e,transitionEnd:r}}const TSe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),qq=t=>TSe.has(t),NSe=t=>Object.keys(t).some(qq),G8=t=>t===Sd||t===Ke,q8=(t,e)=>parseFloat(t.split(", ")[e]),K8=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/);if(i)return q8(i[1],e);{const a=n.match(/^matrix\((.+)\)$/);return a?q8(a[1],t):0}},ISe=new Set(["x","y","z"]),PSe=S0.filter(t=>!ISe.has(t));function OSe(t){const e=[];return PSe.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e.length&&t.render(),e}const ah={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:K8(4,13),y:K8(5,14)};ah.translateX=ah.x;ah.translateY=ah.y;const jSe=(t,e,r)=>{const n=e.measureViewportBox(),i=e.current,a=getComputedStyle(i),{display:o}=a,s={};o==="none"&&e.setStaticValue("display",t.display||"block"),r.forEach(u=>{s[u]=ah[u](n,a)}),e.render();const l=e.measureViewportBox();return r.forEach(u=>{const d=e.getValue(u);d&&d.jump(s[u]),t[u]=ah[u](l,a)}),t},kSe=(t,e,r={},n={})=>{e={...e},n={...n};const i=Object.keys(e).filter(qq);let a=[],o=!1;const s=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let d=r[l],f=Zp(d);const h=e[l];let p;if(uw(h)){const m=h.length,g=h[0]===null?1:0;d=h[g],f=Zp(d);for(let v=g;v<m&&h[v]!==null;v++)p?$j(Zp(h[v])===p):p=Zp(h[v])}else p=Zp(h);if(f!==p)if(G8(f)&&G8(p)){const m=u.get();typeof m=="string"&&u.set(parseFloat(m)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&p===Ke&&(e[l]=h.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(d===0||h===0)?d===0?u.set(p.transform(d)):e[l]=f.transform(h):(o||(a=OSe(t),o=!0),s.push(l),n[l]=n[l]!==void 0?n[l]:e[l],u.jump(h))}),s.length){const l=s.indexOf("height")>=0?window.pageYOffset:null,u=jSe(e,t,s);return a.length&&a.forEach(([d,f])=>{t.getValue(d).set(f)}),t.render(),j2&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:n}}else return{target:e,transitionEnd:n}};function RSe(t,e,r,n){return NSe(e)?kSe(t,e,r,n):{target:e,transitionEnd:n}}const DSe=(t,e,r,n)=>{const i=CSe(t,e,n);return e=i.target,n=i.transitionEnd,RSe(t,e,r,n)},qT={current:null},Kq={current:!1};function MSe(){if(Kq.current=!0,!!j2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>qT.current=t.matches;t.addListener(e),e()}else qT.current=!1}function LSe(t,e,r){const{willChange:n}=e;for(const i in e){const a=e[i],o=r[i];if(Ki(a))t.addValue(i,a),pw(n)&&n.add(i);else if(Ki(o))t.addValue(i,ih(a,{owner:t})),pw(n)&&n.remove(i);else if(o!==a)if(t.hasValue(i)){const s=t.getValue(i);!s.hasAnimated&&s.set(a)}else{const s=t.getStaticValue(i);t.addValue(i,ih(s!==void 0?s:a,{owner:t}))}}for(const i in r)e[i]===void 0&&t.removeValue(i);return e}const Y8=new WeakMap,Yq=Object.keys(Yg),$Se=Yq.length,X8=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],FSe=Ij.length;class BSe{constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Xt.render(this.render,!1,!0);const{latestValues:s,renderState:l}=a;this.latestValues=s,this.baseTarget={...s},this.initialValues=r.initial?{...s}:{},this.renderState=l,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=R2(r),this.isVariantNode=kG(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{});for(const f in d){const h=d[f];s[f]!==void 0&&Ki(h)&&(h.set(s[f],!1),pw(u)&&u.add(f))}}scrapeMotionValuesFromProps(e,r){return{}}mount(e){this.current=e,Y8.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Kq.current||MSe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Y8.delete(this.current),this.projection&&this.projection.unmount(),Js(this.notifyUpdate),Js(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,r){const n=_d.has(e),i=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Xt.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...r},n,i,a){let o,s;for(let l=0;l<$Se;l++){const u=Yq[l],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:p}=Yg[u];h&&(o=h),d(r)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),p&&(s=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:p}=r;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||f&&uf(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,layoutScroll:h,layoutRoot:p})}return s}updateFeatures(){for(const e in this.features){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ur()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}makeTargetAnimatable(e,r=!0){return this.makeTargetAnimatableFromInstance(e,this.props,r)}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<X8.length;n++){const i=X8[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=e["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=LSe(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<FSe;n++){const i=Ij[n],a=this.props[i];(Kg(a)||a===!1)&&(r[i]=a)}return r}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){r!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,r)),this.values.set(e,r),this.latestValues[e]=r.get()}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=ih(r,{owner:this}),this.addValue(e,n)),n}readValue(e){var r;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props,i=typeof n=="string"||typeof n=="object"?(r=Lj(this.props,n))===null||r===void 0?void 0:r[e]:void 0;if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Ki(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new qj),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class Xq extends BSe{sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:r,...n},{transformValues:i},a){let o=n_e(n,e||{},this);if(i&&(r&&(r=i(r)),n&&(n=i(n)),o&&(o=i(o))),a){t_e(this,n,o);const s=DSe(this,n,o,r);r=s.transitionEnd,n=s.target}return{transition:e,transitionEnd:r,...n}}}function USe(t){return window.getComputedStyle(t)}class VSe extends Xq{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,r){if(_d.has(r)){const n=Vj(r);return n&&n.default||0}else{const n=USe(e),i=(LG(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return Lq(e,r)}build(e,r,n,i){jj(e,r,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,r){return Mj(e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ki(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(e,r,n,i){zG(e,r,n,i)}}class zSe extends Xq{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(_d.has(r)){const n=Vj(r);return n&&n.default||0}return r=WG.has(r)?r:Tj(r),e.getAttribute(r)}measureInstanceViewportBox(){return Ur()}scrapeMotionValuesFromProps(e,r){return GG(e,r)}build(e,r,n,i){Rj(e,r,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,r,n,i){HG(e,r,n,i)}mount(e){this.isSVGTag=Dj(e.tagName),super.mount(e)}}const WSe=(t,e)=>Oj(t)?new zSe(e,{enableHardwareAcceleration:!1}):new VSe(e,{enableHardwareAcceleration:!0}),HSe={layout:{ProjectionNode:Gq,MeasureLayout:Fq}},GSe={...y_e,...$be,...SSe,...HSe},On=qwe((t,e)=>Abe(t,e,GSe,WSe));function Qq(){const t=b.useRef(!1);return Cj(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function qSe(){const t=Qq(),[e,r]=b.useState(0),n=b.useCallback(()=>{t.current&&r(e+1)},[e]);return[b.useCallback(()=>Xt.postRender(n),[n]),e]}class KSe extends b.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function YSe({children:t,isPresent:e}){const r=b.useId(),n=b.useRef(null),i=b.useRef({width:0,height:0,top:0,left:0});return b.useInsertionEffect(()=>{const{width:a,height:o,top:s,left:l}=i.current;if(e||!n.current||!a||!o)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${s}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),b.createElement(KSe,{isPresent:e,childRef:n,sizeRef:i},b.cloneElement(t,{ref:n}))}const LE=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:o})=>{const s=qG(XSe),l=b.useId(),u=b.useMemo(()=>({id:l,initial:e,isPresent:r,custom:i,onExitComplete:d=>{s.set(d,!0);for(const f of s.values())if(!f)return;n&&n()},register:d=>(s.set(d,!1),()=>s.delete(d))}),a?void 0:[r]);return b.useMemo(()=>{s.forEach((d,f)=>s.set(f,!1))},[r]),b.useEffect(()=>{!r&&!s.size&&n&&n()},[r]),o==="popLayout"&&(t=b.createElement(YSe,{isPresent:r},t)),b.createElement(O2.Provider,{value:u},t)};function XSe(){return new Map}function QSe(t){return b.useEffect(()=>()=>t(),[])}const du=t=>t.key||"";function ZSe(t,e){t.forEach(r=>{const n=du(r);e.set(n,r)})}function JSe(t){const e=[];return b.Children.forEach(t,r=>{b.isValidElement(r)&&e.push(r)}),e}const KT=({children:t,custom:e,initial:r=!0,onExitComplete:n,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const s=b.useContext(Pj).forceRender||qSe()[0],l=Qq(),u=JSe(t);let d=u;const f=b.useRef(new Map).current,h=b.useRef(d),p=b.useRef(new Map).current,m=b.useRef(!0);if(Cj(()=>{m.current=!1,ZSe(u,p),h.current=d}),QSe(()=>{m.current=!0,p.clear(),f.clear()}),m.current)return b.createElement(b.Fragment,null,d.map(y=>b.createElement(LE,{key:du(y),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:a,mode:o},y)));d=[...d];const g=h.current.map(du),v=u.map(du),x=g.length;for(let y=0;y<x;y++){const w=g[y];v.indexOf(w)===-1&&!f.has(w)&&f.set(w,void 0)}return o==="wait"&&f.size&&(d=[]),f.forEach((y,w)=>{if(v.indexOf(w)!==-1)return;const S=p.get(w);if(!S)return;const E=g.indexOf(w);let C=y;if(!C){const A=()=>{f.delete(w);const T=Array.from(p.keys()).filter(N=>!v.includes(N));if(T.forEach(N=>p.delete(N)),h.current=u.filter(N=>{const I=du(N);return I===w||T.includes(I)}),!f.size){if(l.current===!1)return;s(),n&&n()}};C=b.createElement(LE,{key:du(S),isPresent:!1,onExitComplete:A,custom:e,presenceAffectsLayout:a,mode:o},S),f.set(w,C)}d.splice(E,0,C)}),d=d.map(y=>{const w=y.key;return f.has(w)?y:b.createElement(LE,{key:du(y),isPresent:!0,presenceAffectsLayout:a,mode:o},y)}),b.createElement(b.Fragment,null,f.size?d:d.map(y=>b.cloneElement(y)))},eEe=()=>{const t=[{icon:ri,label:"Household",color:"text-blue-500"},{icon:lr,label:"Shopping",color:"text-green-500"},{icon:Go,label:"Expenses",color:"text-yellow-500"},{icon:yV,label:"Tasks",color:"text-purple-500"},{icon:Gn,label:"Pantry",color:"text-orange-500"}];return c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[c.jsx(On.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.6,type:"spring"},className:"mb-8",children:c.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:c.jsx(Gf,{className:"w-12 h-12 text-white"})})}),c.jsx(On.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"text-4xl font-bold text-gray-900 mb-4",children:"Welcome to TaskaLoop"}),c.jsx(On.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"text-xl text-gray-600 mb-12 max-w-2xl",children:"Your all-in-one household management platform. Let's take a quick tour of what makes TaskaLoop special."}),c.jsx("div",{className:"grid grid-cols-5 gap-8 mb-12",children:t.map((e,r)=>c.jsxs(On.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.7+r*.1,duration:.6},className:"flex flex-col items-center",children:[c.jsx(On.div,{animate:{y:[0,-10,0]},transition:{duration:2,repeat:1/0,delay:r*.2},className:`w-16 h-16 rounded-full border-2 border-gray-200 flex items-center justify-center ${e.color} bg-white shadow-lg`,children:c.jsx(e.icon,{className:"w-6 h-6"})}),c.jsx("span",{className:"text-sm text-gray-600 mt-2",children:e.label})]},e.label))}),c.jsx(On.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5,duration:.6},className:"text-gray-500 text-sm",children:"This quick tour will take about 60 seconds"})]})},tEe=()=>c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-blue-500 rounded-full flex items-center justify-center mb-6",children:c.jsx(ri,{className:"w-10 h-10 text-white"})}),c.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Build Your Household Team"}),c.jsx("p",{className:"text-gray-600 max-w-2xl mb-8",children:"Add household members to start collaborating on everything from shopping lists to expense splitting."}),c.jsx("div",{className:"grid grid-cols-3 gap-4 max-w-xl",children:["You (Admin)","Sarah","Mike"].map((t,e)=>c.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-gray-200 text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-xl mx-auto mb-2",children:["","",""][e]}),c.jsx("div",{className:"font-medium",children:t})]},t))})]}),rEe=()=>c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-green-500 rounded-full flex items-center justify-center mb-6",children:c.jsx(lr,{className:"w-10 h-10 text-white"})}),c.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Smart Shopping Lists"}),c.jsx("p",{className:"text-gray-600 max-w-2xl mb-8",children:"Create shared shopping lists that update in real-time. See prices, who added what, and never miss an item."}),c.jsxs("div",{className:"bg-white rounded-lg border-2 border-gray-200 p-6 max-w-md w-full",children:[c.jsx("h4",{className:"font-semibold mb-4",children:"Weekly Groceries"}),[{name:"Milk",price:"$3.99",by:"Sarah"},{name:"Bread",price:"$2.49",by:"Mike"},{name:"Eggs",price:"$4.29",by:"You"}].map(t=>c.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:t.name}),c.jsxs("div",{className:"text-sm text-gray-500",children:["Added by ",t.by]})]}),c.jsx("div",{className:"font-semibold text-green-600",children:t.price})]},t.name))]})]}),nEe=()=>c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-yellow-500 rounded-full flex items-center justify-center mb-6",children:c.jsx(Go,{className:"w-10 h-10 text-white"})}),c.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Automatic Expense Splitting"}),c.jsx("p",{className:"text-gray-600 max-w-2xl mb-8",children:"Upload receipts and automatically split expenses with your household members. No more awkward money conversations."}),c.jsxs("div",{className:"grid grid-cols-3 gap-6 items-center max-w-2xl",children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 mb-2",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:"$63.69"}),c.jsx("div",{className:"text-sm text-gray-500",children:"Grocery Receipt"})]}),c.jsx("div",{className:"text-sm text-gray-600",children:"1. Upload receipt"})]}),c.jsx("div",{className:"text-center",children:c.jsx(iO,{className:"w-8 h-8 text-blue-500 mx-auto"})}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 mb-2",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"$21.23"}),c.jsx("div",{className:"text-sm text-gray-500",children:"per person"})]}),c.jsx("div",{className:"text-sm text-gray-600",children:"2. Auto-split equally"})]})]})]}),iEe=()=>c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-purple-500 rounded-full flex items-center justify-center mb-6",children:c.jsx(yV,{className:"w-10 h-10 text-white"})}),c.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Task Coordination Made Simple"}),c.jsx("p",{className:"text-gray-600 max-w-2xl mb-8",children:"Assign tasks, set due dates, and get notifications. Everyone knows what needs to be done and when."}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-lg w-full",children:[c.jsx("h4",{className:"font-semibold mb-4",children:"Household Tasks"}),[{task:"Take out trash",person:"Mike",due:"Today",priority:"high"},{task:"Grocery shopping",person:"Sarah",due:"Tomorrow",priority:"medium"},{task:"Clean kitchen",person:"You",due:"Friday",priority:"low"}].map(t=>c.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100 last:border-b-0",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:t.task}),c.jsxs("div",{className:"text-sm text-gray-500",children:[t.person,"  ",t.due]})]}),c.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${t.priority==="high"?"bg-red-100 text-red-800":t.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:t.priority})]},t.task))]})]}),aEe=()=>c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mb-6",children:c.jsx(Gn,{className:"w-10 h-10 text-white"})}),c.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Smart Pantry Management"}),c.jsx("p",{className:"text-gray-600 max-w-2xl mb-8",children:"Track expiry dates, scan barcodes, and automatically add items to your shopping list when they're running low."}),c.jsxs("div",{className:"grid grid-cols-2 gap-6 max-w-2xl",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4",children:[c.jsx("h5",{className:"font-semibold mb-3",children:"Current Pantry"}),[{name:"Milk",expiry:"Expires in 2 days",status:"warning"},{name:"Bread",expiry:"Expires in 5 days",status:"good"},{name:"Eggs",expiry:"Expired 1 day ago",status:"expired"}].map(t=>c.jsxs("div",{className:"flex justify-between items-center py-2",children:[c.jsx("span",{className:"font-medium",children:t.name}),c.jsx("span",{className:`px-2 py-1 rounded text-xs ${t.status==="expired"?"bg-red-100 text-red-800":t.status==="warning"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:t.expiry})]},t.name))]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[c.jsx("div",{className:"text-2xl mb-2",children:""}),c.jsx("div",{className:"font-medium",children:"Barcode Scanner"}),c.jsx("div",{className:"text-sm text-gray-600",children:"Scan items to add instantly"})]}),c.jsx("div",{className:"bg-orange-50 rounded-lg p-3",children:c.jsx("div",{className:"text-sm text-orange-800",children:" Milk expires in 2 days"})})]})]})]}),oEe=()=>c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[c.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-full flex items-center justify-center mb-8",children:c.jsx(Gf,{className:"w-16 h-16 text-white"})}),c.jsx("h3",{className:"text-4xl font-bold text-gray-900 mb-4",children:" You're All Set!"}),c.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mb-8",children:"Your household management platform is ready to go. Start organizing your life with your family and friends."}),c.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6 max-w-lg",children:[c.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Quick Start Ideas"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 text-left text-sm",children:[c.jsx("div",{children:" Invite Your Family"}),c.jsx("div",{children:" Create Shopping List"}),c.jsx("div",{children:" Assign Tasks"}),c.jsx("div",{children:" Upload Receipt"})]})]})]}),sEe=()=>{const{isActive:t,currentStep:e,totalSteps:r,nextStep:n,prevStep:i,skipTutorial:a,progress:o}=Sj();if(!t)return null;const s=[c.jsx(eEe,{},"welcome"),c.jsx(tEe,{},"household"),c.jsx(rEe,{},"shopping"),c.jsx(nEe,{},"expense"),c.jsx(iEe,{},"task"),c.jsx(aEe,{},"pantry"),c.jsx(oEe,{},"cta")],l=["Welcome to TaskaLoop","Set Up Your Household","Smart Shopping Lists","Expense Splitting","Task Coordination","Pantry Management","You're All Set!"];return c.jsx(KT,{children:c.jsx(On.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-2 md:p-4",children:c.jsxs(On.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative w-full max-w-4xl h-[95vh] bg-white rounded-xl shadow-2xl flex flex-col overflow-hidden",children:[c.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 p-4 md:p-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[c.jsxs("div",{className:"text-sm text-gray-600 whitespace-nowrap",children:["Step ",e+1," of ",r]}),c.jsx("div",{className:"flex-1 max-w-md",children:c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx(On.div,{className:"bg-blue-600 h-2 rounded-full",initial:{width:0},animate:{width:`${o}%`},transition:{duration:.5}})})})]}),c.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-full transition-colors ml-4","aria-label":"Close tutorial",children:c.jsx(Li,{className:"w-5 h-5 text-gray-600"})})]}),c.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 mt-4",children:l[e]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto overscroll-contain",children:c.jsx("div",{className:"p-4 md:p-6",children:c.jsx(KT,{mode:"wait",children:c.jsx(On.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"min-h-[400px]",children:s[e]},e)})})}),c.jsx("div",{className:"flex-shrink-0 bg-white border-t border-gray-200 p-4 md:p-6",children:c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsxs(K,{variant:"outline",onClick:i,disabled:e===0,className:"flex items-center space-x-2",children:[c.jsx(nO,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(K,{variant:"outline",onClick:a,className:"text-gray-600 hidden sm:flex",children:"Skip Tutorial"}),c.jsxs(K,{onClick:n,className:"flex items-center space-x-2",children:[c.jsx("span",{children:e===r-1?"Get Started":"Next"}),c.jsx(iO,{className:"w-4 h-4"})]})]})]})})]})})})},lEe=()=>{const t=Yi();return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-teal-50 dark:from-blue-900/30 dark:via-purple-900/20 dark:to-teal-900/30",children:[c.jsx("header",{className:"container mx-auto py-4",children:c.jsxs("nav",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(rc,{className:"h-6 w-6 text-teal-600 dark:text-teal-400"}),c.jsx("span",{className:"text-xl font-bold text-teal-600 dark:text-teal-400",children:"TaskaLoop"})]}),c.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[c.jsx(K,{variant:"ghost",className:"text-teal-700 hover:text-teal-900 hover:bg-teal-50 dark:text-teal-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20",children:"Home"}),c.jsx(K,{variant:"ghost",className:"text-slate-600 hover:text-teal-900 hover:bg-teal-50 dark:text-slate-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20",children:"Features"}),c.jsx(K,{variant:"ghost",className:"text-slate-600 hover:text-teal-900 hover:bg-teal-50 dark:text-slate-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20",children:"About"}),c.jsx(K,{variant:"ghost",className:"text-slate-600 hover:text-teal-900 hover:bg-teal-50 dark:text-slate-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20",children:"Contact"})]}),c.jsx("div",{children:c.jsx(K,{className:"bg-teal-600 hover:bg-teal-700 dark:bg-teal-500 dark:hover:bg-teal-600 text-white",onClick:()=>t("/home"),children:"Get Started"})})]})}),c.jsx("section",{className:"container mx-auto py-16 md:py-24",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-slate-800 dark:text-slate-200 leading-tight",children:["Simplify Your ",c.jsx("span",{className:"text-teal-600 dark:text-teal-400",children:"Daily Tasks"})," With TaskaLoop"]}),c.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 max-w-md",children:"The all-in-one solution for managing shopping lists, splitting expenses, and organizing your daily tasks."}),c.jsxs("div",{className:"flex gap-4 pt-4",children:[c.jsx(K,{className:"bg-teal-600 hover:bg-teal-700 dark:bg-teal-500 dark:hover:bg-teal-600 px-6 py-6 h-auto",onClick:()=>t("/home"),children:"Try It Free"}),c.jsx(K,{variant:"outline",className:"border-teal-600 text-teal-600 hover:bg-teal-50 dark:border-teal-400 dark:text-teal-400 dark:hover:bg-teal-900/20 px-6 py-6 h-auto",children:"Learn More"})]})]}),c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:"relative w-full max-w-md aspect-square bg-gradient-to-br from-teal-200 to-blue-200 dark:from-teal-600/50 dark:to-blue-600/50 rounded-full flex items-center justify-center",children:c.jsx("div",{className:"absolute inset-4 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-full flex items-center justify-center",children:c.jsx(rc,{className:"h-24 w-24 text-teal-600 dark:text-teal-400"})})})})]})}),c.jsxs("section",{className:"container mx-auto py-16",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"All Features in One Place"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400 max-w-2xl mx-auto",children:"TaskaLoop brings together everything you need to organize your shopping and daily activities."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsxs(Te,{className:"border-none shadow-md hover:shadow-lg transition-shadow dark:bg-gray-800/60 backdrop-blur-sm",children:[c.jsxs(Fe,{className:"pb-2",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/50 flex items-center justify-center mb-2",children:c.jsx(lr,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),c.jsx(Be,{className:"text-xl text-slate-800 dark:text-slate-200",children:"Shopping Trips"}),c.jsx(tt,{className:"dark:text-slate-400",children:"Organize your shopping lists by store or trip"})]}),c.jsx(Ne,{children:c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(Kn,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Create multiple shopping lists"})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(Kn,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Categorize items automatically"})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(Kn,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Track prices and budgets"})]})]})}),c.jsx(Bt,{children:c.jsx(K,{variant:"ghost",className:"text-teal-600 hover:text-teal-700 hover:bg-teal-50 dark:text-teal-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20 px-0",children:"Learn more "})})]}),c.jsxs(Te,{className:"border-none shadow-md hover:shadow-lg transition-shadow dark:bg-gray-800/60 backdrop-blur-sm",children:[c.jsxs(Fe,{className:"pb-2",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-100 dark:bg-purple-900/50 flex items-center justify-center mb-2",children:c.jsx(AV,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),c.jsx(Be,{className:"text-xl text-slate-800 dark:text-slate-200",children:"Cart Splitting"}),c.jsx(tt,{className:"dark:text-slate-400",children:"Easily split expenses with roommates or friends"})]}),c.jsx(Ne,{children:c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(Kn,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Assign items to different people"})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(Kn,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Calculate individual totals"})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(Kn,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Share expense reports"})]})]})}),c.jsx(Bt,{children:c.jsx(K,{variant:"ghost",className:"text-teal-600 hover:text-teal-700 hover:bg-teal-50 dark:text-teal-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20 px-0",children:"Learn more "})})]}),c.jsxs(Te,{className:"border-none shadow-md hover:shadow-lg transition-shadow dark:bg-gray-800/60 backdrop-blur-sm",children:[c.jsxs(Fe,{className:"pb-2",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-teal-100 dark:bg-teal-900/50 flex items-center justify-center mb-2",children:c.jsx(ri,{className:"h-6 w-6 text-teal-600 dark:text-teal-400"})}),c.jsx(Be,{className:"text-xl text-slate-800 dark:text-slate-200",children:"Group Management"}),c.jsx(tt,{className:"dark:text-slate-400",children:"Collaborate with family and friends"})]}),c.jsx(Ne,{children:c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(Kn,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Create household groups"})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(Kn,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Share lists with specific people"})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(Kn,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Real-time updates for all members"})]})]})}),c.jsx(Bt,{children:c.jsx(K,{variant:"ghost",className:"text-teal-600 hover:text-teal-700 hover:bg-teal-50 dark:text-teal-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20 px-0",children:"Learn more "})})]})]})]}),c.jsx("section",{className:"container mx-auto py-16 mb-8",children:c.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-blue-500 dark:from-teal-600 dark:to-blue-600 rounded-2xl p-8 md:p-12 text-center text-white",children:[c.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Simplify Your Life?"}),c.jsx("p",{className:"max-w-2xl mx-auto mb-8",children:"Join thousands of users who are already enjoying the benefits of TaskaLoop."}),c.jsx(K,{className:"bg-white text-teal-600 hover:bg-gray-100 dark:hover:bg-gray-200 px-8 py-6 h-auto text-lg",onClick:()=>t("/home"),children:"Get Started for Free"})]})}),c.jsx("footer",{className:"container mx-auto py-8 border-t border-gray-200 dark:border-gray-700",children:c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4 md:mb-0",children:[c.jsx(rc,{className:"h-5 w-5 text-teal-600 dark:text-teal-400"}),c.jsx("span",{className:"text-lg font-semibold text-teal-600 dark:text-teal-400",children:"TaskaLoop"})]}),c.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:[" ",new Date().getFullYear()," TaskaLoop. All rights reserved."]})]})})]})};function cEe(t,e=[]){let r=[];function n(a,o){const s=b.createContext(o),l=r.length;r=[...r,o];function u(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||s,v=b.useMemo(()=>m,Object.values(m));return c.jsx(g.Provider,{value:v,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||s,m=b.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const i=()=>{const a=r.map(o=>b.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return b.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,uEe(i,...e)]}function uEe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:u})=>{const f=l(a)[`__scope${u}`];return{...s,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var dEe=b.createContext(void 0);function T0(t){const e=b.useContext(dEe);return t||e||"ltr"}var $E="rovingFocusGroup.onEntryFocus",fEe={bubbles:!1,cancelable:!0},$2="RovingFocusGroup",[YT,Zq,hEe]=Kb($2),[pEe,F2]=cEe($2,[hEe]),[mEe,gEe]=pEe($2),Jq=b.forwardRef((t,e)=>c.jsx(YT.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(YT.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(vEe,{...t,ref:e})})}));Jq.displayName=$2;var vEe=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,h=b.useRef(null),p=et(e,h),m=T0(a),[g=null,v]=ts({prop:o,defaultProp:s,onChange:l}),[x,y]=b.useState(!1),w=hr(u),S=Zq(r),E=b.useRef(!1),[C,A]=b.useState(0);return b.useEffect(()=>{const T=h.current;if(T)return T.addEventListener($E,w),()=>T.removeEventListener($E,w)},[w]),c.jsx(mEe,{scope:r,orientation:n,dir:m,loop:i,currentTabStopId:g,onItemFocus:b.useCallback(T=>v(T),[v]),onItemShiftTab:b.useCallback(()=>y(!0),[]),onFocusableItemAdd:b.useCallback(()=>A(T=>T+1),[]),onFocusableItemRemove:b.useCallback(()=>A(T=>T-1),[]),children:c.jsx(Le.div,{tabIndex:x||C===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:be(t.onMouseDown,()=>{E.current=!0}),onFocus:be(t.onFocus,T=>{const N=!E.current;if(T.target===T.currentTarget&&N&&!x){const I=new CustomEvent($E,fEe);if(T.currentTarget.dispatchEvent(I),!I.defaultPrevented){const j=S().filter(B=>B.focusable),O=j.find(B=>B.active),P=j.find(B=>B.id===g),F=[O,P,...j].filter(Boolean).map(B=>B.ref.current);rK(F,d)}}E.current=!1}),onBlur:be(t.onBlur,()=>y(!1))})})}),eK="RovingFocusGroupItem",tK=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,...o}=t,s=yo(),l=a||s,u=gEe(eK,r),d=u.currentTabStopId===l,f=Zq(r),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return b.useEffect(()=>{if(n)return h(),()=>p()},[n,h,p]),c.jsx(YT.ItemSlot,{scope:r,id:l,focusable:n,active:i,children:c.jsx(Le.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:be(t.onMouseDown,m=>{n?u.onItemFocus(l):m.preventDefault()}),onFocus:be(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:be(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){u.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const g=wEe(m,u.orientation,u.dir);if(g!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let x=f().filter(y=>y.focusable).map(y=>y.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();const y=x.indexOf(m.currentTarget);x=u.loop?bEe(x,y+1):x.slice(y+1)}setTimeout(()=>rK(x))}})})})});tK.displayName=eK;var yEe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xEe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function wEe(t,e,r){const n=xEe(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return yEe[n]}function rK(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function bEe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var nK=Jq,iK=tK,Kj="Tabs",[_Ee,Mlt]=za(Kj,[F2]),aK=F2(),[SEe,Yj]=_Ee(Kj),oK=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:l="automatic",...u}=t,d=T0(s),[f,h]=ts({prop:n,onChange:i,defaultProp:a});return c.jsx(SEe,{scope:r,baseId:yo(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:l,children:c.jsx(Le.div,{dir:d,"data-orientation":o,...u,ref:e})})});oK.displayName=Kj;var sK="TabsList",lK=b.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,a=Yj(sK,r),o=aK(r);return c.jsx(nK,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:c.jsx(Le.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});lK.displayName=sK;var cK="TabsTrigger",uK=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=t,o=Yj(cK,r),s=aK(r),l=hK(o.baseId,n),u=pK(o.baseId,n),d=n===o.value;return c.jsx(iK,{asChild:!0,...s,focusable:!i,active:d,children:c.jsx(Le.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:e,onMouseDown:be(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:be(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:be(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(n)})})})});uK.displayName=cK;var dK="TabsContent",fK=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=t,s=Yj(dK,r),l=hK(s.baseId,n),u=pK(s.baseId,n),d=n===s.value,f=b.useRef(d);return b.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),c.jsx(_n,{present:i||d,children:({present:h})=>c.jsx(Le.div,{"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});fK.displayName=dK;function hK(t,e){return`${t}-trigger-${e}`}function pK(t,e){return`${t}-content-${e}`}var EEe=oK,mK=lK,gK=uK,vK=fK;const Pc=EEe,el=b.forwardRef(({className:t,...e},r)=>c.jsx(mK,{ref:r,className:je("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));el.displayName=mK.displayName;const sr=b.forwardRef(({className:t,onClick:e,...r},n)=>{const i=a=>{Ss.light(),e&&e(a)};return c.jsx(gK,{ref:n,className:je("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),onClick:i,...r})});sr.displayName=gK.displayName;const jr=b.forwardRef(({className:t,...e},r)=>c.jsx(vK,{ref:r,className:je("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));jr.displayName=vK.displayName;var Xj="Avatar",[AEe,Llt]=za(Xj),[CEe,yK]=AEe(Xj),xK=b.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,a]=b.useState("idle");return c.jsx(CEe,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:c.jsx(Le.span,{...n,ref:e})})});xK.displayName=Xj;var wK="AvatarImage",bK=b.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=t,o=yK(wK,r),s=TEe(n,a.referrerPolicy),l=hr(u=>{i(u),o.onImageLoadingStatusChange(u)});return cn(()=>{s!=="idle"&&l(s)},[s,l]),s==="loaded"?c.jsx(Le.img,{...a,ref:e,src:n}):null});bK.displayName=wK;var _K="AvatarFallback",SK=b.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,a=yK(_K,r),[o,s]=b.useState(n===void 0);return b.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>s(!0),n);return()=>window.clearTimeout(l)}},[n]),o&&a.imageLoadingStatus!=="loaded"?c.jsx(Le.span,{...i,ref:e}):null});SK.displayName=_K;function TEe(t,e){const[r,n]=b.useState("idle");return cn(()=>{if(!t){n("error");return}let i=!0;const a=new window.Image,o=s=>()=>{i&&n(s)};return n("loading"),a.onload=o("loaded"),a.onerror=o("error"),a.src=t,e&&(a.referrerPolicy=e),()=>{i=!1}},[t,e]),r}var EK=xK,AK=bK,CK=SK;const zr=b.forwardRef(({className:t,...e},r)=>c.jsx(EK,{ref:r,className:je("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));zr.displayName=EK.displayName;const Zu=b.forwardRef(({className:t,...e},r)=>c.jsx(AK,{ref:r,className:je("aspect-square h-full w-full",t),...e}));Zu.displayName=AK.displayName;const Wr=b.forwardRef(({className:t,...e},r)=>c.jsx(CK,{ref:r,className:je("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Wr.displayName=CK.displayName;function NEe(t,e=[]){let r=[];function n(a,o){const s=b.createContext(o),l=r.length;r=[...r,o];function u(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||s,v=b.useMemo(()=>m,Object.values(m));return c.jsx(g.Provider,{value:v,children:p})}function d(f,h){const p=(h==null?void 0:h[t][l])||s,m=b.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const i=()=>{const a=r.map(o=>b.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return b.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,IEe(i,...e)]}function IEe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:u})=>{const f=l(a)[`__scope${u}`];return{...s,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Qj="Progress",Zj=100,[PEe,$lt]=NEe(Qj),[OEe,jEe]=PEe(Qj),TK=b.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=kEe,...o}=t;(i||i===0)&&!Q8(i)&&console.error(REe(`${i}`,"Progress"));const s=Q8(i)?i:Zj;n!==null&&!Z8(n,s)&&console.error(DEe(`${n}`,"Progress"));const l=Z8(n,s)?n:null,u=gw(l)?a(l,s):void 0;return c.jsx(OEe,{scope:r,value:l,max:s,children:c.jsx(Le.div,{"aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":gw(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":PK(l,s),"data-value":l??void 0,"data-max":s,...o,ref:e})})});TK.displayName=Qj;var NK="ProgressIndicator",IK=b.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=jEe(NK,r);return c.jsx(Le.div,{"data-state":PK(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});IK.displayName=NK;function kEe(t,e){return`${Math.round(t/e*100)}%`}function PK(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function gw(t){return typeof t=="number"}function Q8(t){return gw(t)&&!isNaN(t)&&t>0}function Z8(t,e){return gw(t)&&!isNaN(t)&&t<=e&&t>=0}function REe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Zj}\`.`}function DEe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Zj} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var OK=TK,MEe=IK;const Qg=b.forwardRef(({className:t,value:e,...r},n)=>c.jsx(OK,{ref:n,className:je("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:c.jsx(MEe,{className:"h-full w-full flex-1 bg-gradient-to-r from-gloop-primary to-gloop-primary-light transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Qg.displayName=OK.displayName;var FE=0;function B2(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??J8()),document.body.insertAdjacentElement("beforeend",t[1]??J8()),FE++,()=>{FE===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),FE--}},[])}function J8(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var BE="focusScope.autoFocusOnMount",UE="focusScope.autoFocusOnUnmount",e5={bubbles:!1,cancelable:!0},LEe="FocusScope",N0=b.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[s,l]=b.useState(null),u=hr(i),d=hr(a),f=b.useRef(null),h=et(e,g=>l(g)),p=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(n){let g=function(w){if(p.paused||!s)return;const S=w.target;s.contains(S)?f.current=S:Tl(f.current,{select:!0})},v=function(w){if(p.paused||!s)return;const S=w.relatedTarget;S!==null&&(s.contains(S)||Tl(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const E of w)E.removedNodes.length>0&&Tl(s)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const y=new MutationObserver(x);return s&&y.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),y.disconnect()}}},[n,s,p.paused]),b.useEffect(()=>{if(s){r5.add(p);const g=document.activeElement;if(!s.contains(g)){const x=new CustomEvent(BE,e5);s.addEventListener(BE,u),s.dispatchEvent(x),x.defaultPrevented||($Ee(zEe(jK(s)),{select:!0}),document.activeElement===g&&Tl(s))}return()=>{s.removeEventListener(BE,u),setTimeout(()=>{const x=new CustomEvent(UE,e5);s.addEventListener(UE,d),s.dispatchEvent(x),x.defaultPrevented||Tl(g??document.body,{select:!0}),s.removeEventListener(UE,d),r5.remove(p)},0)}}},[s,u,d,p]);const m=b.useCallback(g=>{if(!r&&!n||p.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(v&&x){const y=g.currentTarget,[w,S]=FEe(y);w&&S?!g.shiftKey&&x===S?(g.preventDefault(),r&&Tl(w,{select:!0})):g.shiftKey&&x===w&&(g.preventDefault(),r&&Tl(S,{select:!0})):x===y&&g.preventDefault()}},[r,n,p.paused]);return c.jsx(Le.div,{tabIndex:-1,...o,ref:h,onKeyDown:m})});N0.displayName=LEe;function $Ee(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Tl(n,{select:e}),document.activeElement!==r)return}function FEe(t){const e=jK(t),r=t5(e,t),n=t5(e.reverse(),t);return[r,n]}function jK(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function t5(t,e){for(const r of t)if(!BEe(r,{upTo:e}))return r}function BEe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function UEe(t){return t instanceof HTMLInputElement&&"select"in t}function Tl(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&UEe(t)&&e&&t.select()}}var r5=VEe();function VEe(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=n5(t,e),t.unshift(e)},remove(e){var r;t=n5(t,e),(r=t[0])==null||r.resume()}}}function n5(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function zEe(t){return t.filter(e=>e.tagName!=="A")}var WEe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Md=new WeakMap,zy=new WeakMap,Wy={},VE=0,kK=function(t){return t&&(t.host||kK(t.parentNode))},HEe=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=kK(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},GEe=function(t,e,r,n){var i=HEe(e,Array.isArray(t)?t:[t]);Wy[r]||(Wy[r]=new WeakMap);var a=Wy[r],o=[],s=new Set,l=new Set(i),u=function(f){!f||s.has(f)||(s.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(s.has(h))d(h);else try{var p=h.getAttribute(n),m=p!==null&&p!=="false",g=(Md.get(h)||0)+1,v=(a.get(h)||0)+1;Md.set(h,g),a.set(h,v),o.push(h),g===1&&m&&zy.set(h,!0),v===1&&h.setAttribute(r,"true"),m||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(e),s.clear(),VE++,function(){o.forEach(function(f){var h=Md.get(f)-1,p=a.get(f)-1;Md.set(f,h),a.set(f,p),h||(zy.has(f)||f.removeAttribute(n),zy.delete(f)),p||f.removeAttribute(r)}),VE--,VE||(Md=new WeakMap,Md=new WeakMap,zy=new WeakMap,Wy={})}},U2=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=WEe(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),GEe(n,i,r,"aria-hidden")):function(){return null}},K1="right-scroll-bar-position",Y1="width-before-scroll-bar",qEe="with-scroll-bars-hidden",KEe="--removed-body-scroll-bar-size";function zE(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function YEe(t,e){var r=b.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var XEe=typeof window<"u"?b.useLayoutEffect:b.useEffect,i5=new WeakMap;function QEe(t,e){var r=YEe(null,function(n){return t.forEach(function(i){return zE(i,n)})});return XEe(function(){var n=i5.get(r);if(n){var i=new Set(n),a=new Set(t),o=r.current;i.forEach(function(s){a.has(s)||zE(s,null)}),a.forEach(function(s){i.has(s)||zE(s,o)})}i5.set(r,t)},[t]),r}function ZEe(t){return t}function JEe(t,e){e===void 0&&(e=ZEe);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var o=e(a,n);return r.push(o),function(){r=r.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(s){return a(s)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var s=r;r=[],s.forEach(a),o=r}var l=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return i}function eAe(t){t===void 0&&(t={});var e=JEe(null);return e.options=Bo({async:!0,ssr:!1},t),e}var RK=function(t){var e=t.sideCar,r=y0(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return b.createElement(n,Bo({},r))};RK.isSideCarExport=!0;function tAe(t,e){return t.useMedium(e),RK}var DK=eAe(),WE=function(){},V2=b.forwardRef(function(t,e){var r=b.useRef(null),n=b.useState({onScrollCapture:WE,onWheelCapture:WE,onTouchMoveCapture:WE}),i=n[0],a=n[1],o=t.forwardProps,s=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,p=t.noIsolation,m=t.inert,g=t.allowPinchZoom,v=t.as,x=v===void 0?"div":v,y=t.gapMode,w=y0(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,E=QEe([r,e]),C=Bo(Bo({},w),i);return b.createElement(b.Fragment,null,d&&b.createElement(S,{sideCar:DK,removeScrollBar:u,shards:f,noIsolation:p,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:r,gapMode:y}),o?b.cloneElement(b.Children.only(s),Bo(Bo({},C),{ref:E})):b.createElement(x,Bo({},C,{className:l,ref:E}),s))});V2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};V2.classNames={fullWidth:Y1,zeroRight:K1};var rAe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function nAe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=rAe();return e&&t.setAttribute("nonce",e),t}function iAe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function aAe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var oAe=function(){var t=0,e=null;return{add:function(r){t==0&&(e=nAe())&&(iAe(e,r),aAe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},sAe=function(){var t=oAe();return function(e,r){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},MK=function(){var t=sAe(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},lAe={left:0,top:0,right:0,gap:0},HE=function(t){return parseInt(t||"",10)||0},cAe=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[HE(r),HE(n),HE(i)]},uAe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return lAe;var e=cAe(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},dAe=MK(),Rf="data-scroll-locked",fAe=function(t,e,r,n){var i=t.left,a=t.top,o=t.right,s=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(qEe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(Rf,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(K1,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(Y1,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(K1," .").concat(K1,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Y1," .").concat(Y1,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Rf,`] {
    `).concat(KEe,": ").concat(s,`px;
  }
`)},a5=function(){var t=parseInt(document.body.getAttribute(Rf)||"0",10);return isFinite(t)?t:0},hAe=function(){b.useEffect(function(){return document.body.setAttribute(Rf,(a5()+1).toString()),function(){var t=a5()-1;t<=0?document.body.removeAttribute(Rf):document.body.setAttribute(Rf,t.toString())}},[])},pAe=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;hAe();var a=b.useMemo(function(){return uAe(i)},[i]);return b.createElement(dAe,{styles:fAe(a,!e,i,r?"":"!important")})},XT=!1;if(typeof window<"u")try{var Hy=Object.defineProperty({},"passive",{get:function(){return XT=!0,!0}});window.addEventListener("test",Hy,Hy),window.removeEventListener("test",Hy,Hy)}catch{XT=!1}var Ld=XT?{passive:!1}:!1,mAe=function(t){return t.tagName==="TEXTAREA"},LK=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!mAe(t)&&r[e]==="visible")},gAe=function(t){return LK(t,"overflowY")},vAe=function(t){return LK(t,"overflowX")},o5=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=$K(t,n);if(i){var a=FK(t,n),o=a[1],s=a[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},yAe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},xAe=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},$K=function(t,e){return t==="v"?gAe(e):vAe(e)},FK=function(t,e){return t==="v"?yAe(e):xAe(e)},wAe=function(t,e){return t==="h"&&e==="rtl"?-1:1},bAe=function(t,e,r,n,i){var a=wAe(t,window.getComputedStyle(e).direction),o=a*n,s=r.target,l=e.contains(s),u=!1,d=o>0,f=0,h=0;do{var p=FK(t,s),m=p[0],g=p[1],v=p[2],x=g-v-a*m;(m||x)&&$K(t,s)&&(f+=x,h+=m),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!l&&s!==document.body||l&&(e.contains(s)||e===s));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Gy=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},s5=function(t){return[t.deltaX,t.deltaY]},l5=function(t){return t&&"current"in t?t.current:t},_Ae=function(t,e){return t[0]===e[0]&&t[1]===e[1]},SAe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},EAe=0,$d=[];function AAe(t){var e=b.useRef([]),r=b.useRef([0,0]),n=b.useRef(),i=b.useState(EAe++)[0],a=b.useState(MK)[0],o=b.useRef(t);b.useEffect(function(){o.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=kme([t.lockRef.current],(t.shards||[]).map(l5),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=b.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var x=Gy(g),y=r.current,w="deltaX"in g?g.deltaX:y[0]-x[0],S="deltaY"in g?g.deltaY:y[1]-x[1],E,C=g.target,A=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in g&&A==="h"&&C.type==="range")return!1;var T=o5(A,C);if(!T)return!0;if(T?E=A:(E=A==="v"?"h":"v",T=o5(A,C)),!T)return!1;if(!n.current&&"changedTouches"in g&&(w||S)&&(n.current=E),!E)return!0;var N=n.current||E;return bAe(N,v,g,N==="h"?w:S)},[]),l=b.useCallback(function(g){var v=g;if(!(!$d.length||$d[$d.length-1]!==a)){var x="deltaY"in v?s5(v):Gy(v),y=e.current.filter(function(E){return E.name===v.type&&(E.target===v.target||v.target===E.shadowParent)&&_Ae(E.delta,x)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(l5).filter(Boolean).filter(function(E){return E.contains(v.target)}),S=w.length>0?s(v,w[0]):!o.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),u=b.useCallback(function(g,v,x,y){var w={name:g,delta:v,target:x,should:y,shadowParent:CAe(x)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(S){return S!==w})},1)},[]),d=b.useCallback(function(g){r.current=Gy(g),n.current=void 0},[]),f=b.useCallback(function(g){u(g.type,s5(g),g.target,s(g,t.lockRef.current))},[]),h=b.useCallback(function(g){u(g.type,Gy(g),g.target,s(g,t.lockRef.current))},[]);b.useEffect(function(){return $d.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Ld),document.addEventListener("touchmove",l,Ld),document.addEventListener("touchstart",d,Ld),function(){$d=$d.filter(function(g){return g!==a}),document.removeEventListener("wheel",l,Ld),document.removeEventListener("touchmove",l,Ld),document.removeEventListener("touchstart",d,Ld)}},[]);var p=t.removeScrollBar,m=t.inert;return b.createElement(b.Fragment,null,m?b.createElement(a,{styles:SAe(i)}):null,p?b.createElement(pAe,{gapMode:t.gapMode}):null)}function CAe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const TAe=tAe(DK,AAe);var I0=b.forwardRef(function(t,e){return b.createElement(V2,Bo({},t,{ref:e,sideCar:TAe}))});I0.classNames=V2.classNames;var QT=["Enter"," "],NAe=["ArrowDown","PageUp","Home"],BK=["ArrowUp","PageDown","End"],IAe=[...NAe,...BK],PAe={ltr:[...QT,"ArrowRight"],rtl:[...QT,"ArrowLeft"]},OAe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},P0="Menu",[Zg,jAe,kAe]=Kb(P0),[Ed,UK]=za(P0,[kAe,Lc,F2]),z2=Lc(),VK=F2(),[RAe,Ad]=Ed(P0),[DAe,O0]=Ed(P0),zK=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:a,modal:o=!0}=t,s=z2(e),[l,u]=b.useState(null),d=b.useRef(!1),f=hr(a),h=T0(i);return b.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),c.jsx(bO,{...s,children:c.jsx(RAe,{scope:e,open:r,onOpenChange:f,content:l,onContentChange:u,children:c.jsx(DAe,{scope:e,onClose:b.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};zK.displayName=P0;var MAe="MenuAnchor",Jj=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=z2(r);return c.jsx(d0,{...i,...n,ref:e})});Jj.displayName=MAe;var ek="MenuPortal",[LAe,WK]=Ed(ek,{forceMount:void 0}),HK=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,a=Ad(ek,e);return c.jsx(LAe,{scope:e,forceMount:r,children:c.jsx(_n,{present:r||a.open,children:c.jsx(zh,{asChild:!0,container:i,children:n})})})};HK.displayName=ek;var Ra="MenuContent",[$Ae,tk]=Ed(Ra),GK=b.forwardRef((t,e)=>{const r=WK(Ra,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=Ad(Ra,t.__scopeMenu),o=O0(Ra,t.__scopeMenu);return c.jsx(Zg.Provider,{scope:t.__scopeMenu,children:c.jsx(_n,{present:n||a.open,children:c.jsx(Zg.Slot,{scope:t.__scopeMenu,children:o.modal?c.jsx(FAe,{...i,ref:e}):c.jsx(BAe,{...i,ref:e})})})})}),FAe=b.forwardRef((t,e)=>{const r=Ad(Ra,t.__scopeMenu),n=b.useRef(null),i=et(e,n);return b.useEffect(()=>{const a=n.current;if(a)return U2(a)},[]),c.jsx(rk,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:be(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),BAe=b.forwardRef((t,e)=>{const r=Ad(Ra,t.__scopeMenu);return c.jsx(rk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),rk=b.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:m,...g}=t,v=Ad(Ra,r),x=O0(Ra,r),y=z2(r),w=VK(r),S=jAe(r),[E,C]=b.useState(null),A=b.useRef(null),T=et(e,A,v.onContentChange),N=b.useRef(0),I=b.useRef(""),j=b.useRef(0),O=b.useRef(null),P=b.useRef("right"),M=b.useRef(0),F=m?I0:b.Fragment,B=m?{as:qs,allowPinchZoom:!0}:void 0,W=U=>{var pe,J;const X=I.current+U,H=S().filter(re=>!re.disabled),Y=document.activeElement,Q=(pe=H.find(re=>re.ref.current===Y))==null?void 0:pe.textValue,ue=H.map(re=>re.textValue),de=ZAe(ue,X,Q),he=(J=H.find(re=>re.textValue===de))==null?void 0:J.ref.current;(function re(L){I.current=L,window.clearTimeout(N.current),L!==""&&(N.current=window.setTimeout(()=>re(""),1e3))})(X),he&&setTimeout(()=>he.focus())};b.useEffect(()=>()=>window.clearTimeout(N.current),[]),B2();const $=b.useCallback(U=>{var H,Y;return P.current===((H=O.current)==null?void 0:H.side)&&eCe(U,(Y=O.current)==null?void 0:Y.area)},[]);return c.jsx($Ae,{scope:r,searchRef:I,onItemEnter:b.useCallback(U=>{$(U)&&U.preventDefault()},[$]),onItemLeave:b.useCallback(U=>{var X;$(U)||((X=A.current)==null||X.focus(),C(null))},[$]),onTriggerLeave:b.useCallback(U=>{$(U)&&U.preventDefault()},[$]),pointerGraceTimerRef:j,onPointerGraceIntentChange:b.useCallback(U=>{O.current=U},[]),children:c.jsx(F,{...B,children:c.jsx(N0,{asChild:!0,trapped:i,onMountAutoFocus:be(a,U=>{var X;U.preventDefault(),(X=A.current)==null||X.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:c.jsx(vd,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:c.jsx(nK,{asChild:!0,...w,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:E,onCurrentTabStopIdChange:C,onEntryFocus:be(l,U=>{x.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(n2,{role:"menu","aria-orientation":"vertical","data-state":lY(v.open),"data-radix-menu-content":"",dir:x.dir,...y,...g,ref:T,style:{outline:"none",...g.style},onKeyDown:be(g.onKeyDown,U=>{const H=U.target.closest("[data-radix-menu-content]")===U.currentTarget,Y=U.ctrlKey||U.altKey||U.metaKey,Q=U.key.length===1;H&&(U.key==="Tab"&&U.preventDefault(),!Y&&Q&&W(U.key));const ue=A.current;if(U.target!==ue||!IAe.includes(U.key))return;U.preventDefault();const he=S().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);BK.includes(U.key)&&he.reverse(),XAe(he)}),onBlur:be(t.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(N.current),I.current="")}),onPointerMove:be(t.onPointerMove,Jg(U=>{const X=U.target,H=M.current!==U.clientX;if(U.currentTarget.contains(X)&&H){const Y=U.clientX>M.current?"right":"left";P.current=Y,M.current=U.clientX}}))})})})})})})});GK.displayName=Ra;var UAe="MenuGroup",nk=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return c.jsx(Le.div,{role:"group",...n,ref:e})});nk.displayName=UAe;var VAe="MenuLabel",qK=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return c.jsx(Le.div,{...n,ref:e})});qK.displayName=VAe;var vw="MenuItem",c5="menu.itemSelect",W2=b.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,a=b.useRef(null),o=O0(vw,t.__scopeMenu),s=tk(vw,t.__scopeMenu),l=et(e,a),u=b.useRef(!1),d=()=>{const f=a.current;if(!r&&f){const h=new CustomEvent(c5,{bubbles:!0,cancelable:!0});f.addEventListener(c5,p=>n==null?void 0:n(p),{once:!0}),JP(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return c.jsx(KK,{...i,ref:l,disabled:r,onClick:be(t.onClick,d),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),u.current=!0},onPointerUp:be(t.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:be(t.onKeyDown,f=>{const h=s.searchRef.current!=="";r||h&&f.key===" "||QT.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});W2.displayName=vw;var KK=b.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=t,o=tk(vw,r),s=VK(r),l=b.useRef(null),u=et(e,l),[d,f]=b.useState(!1),[h,p]=b.useState("");return b.useEffect(()=>{const m=l.current;m&&p((m.textContent??"").trim())},[a.children]),c.jsx(Zg.ItemSlot,{scope:r,disabled:n,textValue:i??h,children:c.jsx(iK,{asChild:!0,...s,focusable:!n,children:c.jsx(Le.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:be(t.onPointerMove,Jg(m=>{n?o.onItemLeave(m):(o.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:be(t.onPointerLeave,Jg(m=>o.onItemLeave(m))),onFocus:be(t.onFocus,()=>f(!0)),onBlur:be(t.onBlur,()=>f(!1))})})})}),zAe="MenuCheckboxItem",YK=b.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return c.jsx(eY,{scope:t.__scopeMenu,checked:r,children:c.jsx(W2,{role:"menuitemcheckbox","aria-checked":yw(r)?"mixed":r,...i,ref:e,"data-state":ak(r),onSelect:be(i.onSelect,()=>n==null?void 0:n(yw(r)?!0:!r),{checkForDefaultPrevented:!1})})})});YK.displayName=zAe;var XK="MenuRadioGroup",[WAe,HAe]=Ed(XK,{value:void 0,onValueChange:()=>{}}),QK=b.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,a=hr(n);return c.jsx(WAe,{scope:t.__scopeMenu,value:r,onValueChange:a,children:c.jsx(nk,{...i,ref:e})})});QK.displayName=XK;var ZK="MenuRadioItem",JK=b.forwardRef((t,e)=>{const{value:r,...n}=t,i=HAe(ZK,t.__scopeMenu),a=r===i.value;return c.jsx(eY,{scope:t.__scopeMenu,checked:a,children:c.jsx(W2,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":ak(a),onSelect:be(n.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,r)},{checkForDefaultPrevented:!1})})})});JK.displayName=ZK;var ik="MenuItemIndicator",[eY,GAe]=Ed(ik,{checked:!1}),tY=b.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,a=GAe(ik,r);return c.jsx(_n,{present:n||yw(a.checked)||a.checked===!0,children:c.jsx(Le.span,{...i,ref:e,"data-state":ak(a.checked)})})});tY.displayName=ik;var qAe="MenuSeparator",rY=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return c.jsx(Le.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});rY.displayName=qAe;var KAe="MenuArrow",nY=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=z2(r);return c.jsx(i2,{...i,...n,ref:e})});nY.displayName=KAe;var YAe="MenuSub",[Flt,iY]=Ed(YAe),Im="MenuSubTrigger",aY=b.forwardRef((t,e)=>{const r=Ad(Im,t.__scopeMenu),n=O0(Im,t.__scopeMenu),i=iY(Im,t.__scopeMenu),a=tk(Im,t.__scopeMenu),o=b.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:l}=a,u={__scopeMenu:t.__scopeMenu},d=b.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return b.useEffect(()=>d,[d]),b.useEffect(()=>{const f=s.current;return()=>{window.clearTimeout(f),l(null)}},[s,l]),c.jsx(Jj,{asChild:!0,...u,children:c.jsx(KK,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":lY(r.open),...t,ref:qb(e,i.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:be(t.onPointerMove,Jg(f=>{a.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:be(t.onPointerLeave,Jg(f=>{var p,m;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const g=(m=r.content)==null?void 0:m.dataset.side,v=g==="right",x=v?-5:5,y=h[v?"left":"right"],w=h[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:y,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:y,y:h.bottom}],side:g}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:be(t.onKeyDown,f=>{var p;const h=a.searchRef.current!=="";t.disabled||h&&f.key===" "||PAe[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});aY.displayName=Im;var oY="MenuSubContent",sY=b.forwardRef((t,e)=>{const r=WK(Ra,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=Ad(Ra,t.__scopeMenu),o=O0(Ra,t.__scopeMenu),s=iY(oY,t.__scopeMenu),l=b.useRef(null),u=et(e,l);return c.jsx(Zg.Provider,{scope:t.__scopeMenu,children:c.jsx(_n,{present:n||a.open,children:c.jsx(Zg.Slot,{scope:t.__scopeMenu,children:c.jsx(rk,{id:s.contentId,"aria-labelledby":s.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:be(t.onFocusOutside,d=>{d.target!==s.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:be(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:be(t.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=OAe[o.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(p=s.trigger)==null||p.focus(),d.preventDefault())})})})})})});sY.displayName=oY;function lY(t){return t?"open":"closed"}function yw(t){return t==="indeterminate"}function ak(t){return yw(t)?"indeterminate":t?"checked":"unchecked"}function XAe(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function QAe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function ZAe(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=QAe(t,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function JAe(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const s=e[a].x,l=e[a].y,u=e[o].x,d=e[o].y;l>n!=d>n&&r<(u-s)*(n-l)/(d-l)+s&&(i=!i)}return i}function eCe(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return JAe(r,e)}function Jg(t){return e=>e.pointerType==="mouse"?t(e):void 0}var tCe=zK,rCe=Jj,nCe=HK,iCe=GK,aCe=nk,oCe=qK,sCe=W2,lCe=YK,cCe=QK,uCe=JK,dCe=tY,fCe=rY,hCe=nY,pCe=aY,mCe=sY,ok="DropdownMenu",[gCe,Blt]=za(ok,[UK]),Ni=UK(),[vCe,cY]=gCe(ok),uY=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:o,modal:s=!0}=t,l=Ni(e),u=b.useRef(null),[d=!1,f]=ts({prop:i,defaultProp:a,onChange:o});return c.jsx(vCe,{scope:e,triggerId:yo(),triggerRef:u,contentId:yo(),open:d,onOpenChange:f,onOpenToggle:b.useCallback(()=>f(h=>!h),[f]),modal:s,children:c.jsx(tCe,{...l,open:d,onOpenChange:f,dir:n,modal:s,children:r})})};uY.displayName=ok;var dY="DropdownMenuTrigger",fY=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,a=cY(dY,r),o=Ni(r);return c.jsx(rCe,{asChild:!0,...o,children:c.jsx(Le.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:qb(e,a.triggerRef),onPointerDown:be(t.onPointerDown,s=>{!n&&s.button===0&&s.ctrlKey===!1&&(a.onOpenToggle(),a.open||s.preventDefault())}),onKeyDown:be(t.onKeyDown,s=>{n||(["Enter"," "].includes(s.key)&&a.onOpenToggle(),s.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});fY.displayName=dY;var yCe="DropdownMenuPortal",hY=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Ni(e);return c.jsx(nCe,{...n,...r})};hY.displayName=yCe;var pY="DropdownMenuContent",mY=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=cY(pY,r),a=Ni(r),o=b.useRef(!1);return c.jsx(iCe,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:e,onCloseAutoFocus:be(t.onCloseAutoFocus,s=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,s.preventDefault()}),onInteractOutside:be(t.onInteractOutside,s=>{const l=s.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mY.displayName=pY;var xCe="DropdownMenuGroup",wCe=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ni(r);return c.jsx(aCe,{...i,...n,ref:e})});wCe.displayName=xCe;var bCe="DropdownMenuLabel",gY=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ni(r);return c.jsx(oCe,{...i,...n,ref:e})});gY.displayName=bCe;var _Ce="DropdownMenuItem",vY=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ni(r);return c.jsx(sCe,{...i,...n,ref:e})});vY.displayName=_Ce;var SCe="DropdownMenuCheckboxItem",yY=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ni(r);return c.jsx(lCe,{...i,...n,ref:e})});yY.displayName=SCe;var ECe="DropdownMenuRadioGroup",ACe=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ni(r);return c.jsx(cCe,{...i,...n,ref:e})});ACe.displayName=ECe;var CCe="DropdownMenuRadioItem",xY=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ni(r);return c.jsx(uCe,{...i,...n,ref:e})});xY.displayName=CCe;var TCe="DropdownMenuItemIndicator",wY=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ni(r);return c.jsx(dCe,{...i,...n,ref:e})});wY.displayName=TCe;var NCe="DropdownMenuSeparator",bY=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ni(r);return c.jsx(fCe,{...i,...n,ref:e})});bY.displayName=NCe;var ICe="DropdownMenuArrow",PCe=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ni(r);return c.jsx(hCe,{...i,...n,ref:e})});PCe.displayName=ICe;var OCe="DropdownMenuSubTrigger",_Y=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ni(r);return c.jsx(pCe,{...i,...n,ref:e})});_Y.displayName=OCe;var jCe="DropdownMenuSubContent",SY=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ni(r);return c.jsx(mCe,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});SY.displayName=jCe;var kCe=uY,RCe=fY,DCe=hY,EY=mY,AY=gY,CY=vY,TY=yY,NY=xY,IY=wY,PY=bY,OY=_Y,jY=SY;const ev=kCe,tv=RCe,MCe=b.forwardRef(({className:t,inset:e,children:r,...n},i)=>c.jsxs(OY,{ref:i,className:je("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...n,children:[r,c.jsx(c0,{className:"ml-auto h-4 w-4"})]}));MCe.displayName=OY.displayName;const LCe=b.forwardRef(({className:t,...e},r)=>c.jsx(jY,{ref:r,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));LCe.displayName=jY.displayName;const oh=b.forwardRef(({className:t,sideOffset:e=4,...r},n)=>c.jsx(DCe,{children:c.jsx(EY,{ref:n,sideOffset:e,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));oh.displayName=EY.displayName;const vi=b.forwardRef(({className:t,inset:e,...r},n)=>c.jsx(CY,{ref:n,className:je("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...r}));vi.displayName=CY.displayName;const $Ce=b.forwardRef(({className:t,children:e,checked:r,...n},i)=>c.jsxs(TY,{ref:i,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(IY,{children:c.jsx(fo,{className:"h-4 w-4"})})}),e]}));$Ce.displayName=TY.displayName;const FCe=b.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(NY,{ref:n,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(IY,{children:c.jsx(Koe,{className:"h-2 w-2 fill-current"})})}),e]}));FCe.displayName=NY.displayName;const BCe=b.forwardRef(({className:t,inset:e,...r},n)=>c.jsx(AY,{ref:n,className:je("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));BCe.displayName=AY.displayName;const rv=b.forwardRef(({className:t,...e},r)=>c.jsx(PY,{ref:r,className:je("-mx-1 my-1 h-px bg-muted",t),...e}));rv.displayName=PY.displayName;const kY=b.createContext(void 0);function UCe({children:t}){const[e,r]=b.useState(!0),[n,i]=b.useState(!1);b.useEffect(()=>{const s=()=>{i(window.innerWidth<768),window.innerWidth<768?r(!1):r(!0)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const a=()=>r(!e),o=()=>r(!1);return c.jsx(kY.Provider,{value:{isOpen:e,toggleSidebar:a,closeSidebar:o},children:t})}function RY(){const t=b.useContext(kY);if(t===void 0)throw new Error("useSidebar must be used within a SidebarProvider");return t}const VCe=[{path:"/home",icon:c.jsx(Gf,{className:"h-5 w-5"}),label:"Home"},{path:"/map",icon:c.jsx(la,{className:"h-5 w-5"}),label:"Map"},{path:"/trips",icon:c.jsx(ri,{className:"h-5 w-5"}),label:"Trips"},{path:"/pantry",icon:c.jsx(Gn,{className:"h-5 w-5"}),label:"Pantry"},{path:"/recurring-items",icon:c.jsx(Zb,{className:"h-5 w-5"}),label:"Recurring Items"},{path:"/ledger",icon:c.jsx(pse,{className:"h-5 w-5"}),label:"Ledger"},{path:"/dashboard",icon:c.jsx(lr,{className:"h-5 w-5"}),label:"Dashboard"},{path:"/profile",icon:c.jsx(kg,{className:"h-5 w-5"}),label:"Profile"}];function zCe(){const{toggleSidebar:t}=RY();return c.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 h-14 bg-white border-b border-slate-200 z-40 flex items-center px-4",children:[c.jsx(K,{variant:"ghost",size:"icon",onClick:t,children:c.jsx(cse,{className:"h-5 w-5"})}),c.jsxs("div",{className:"flex items-center gap-2 mx-auto",children:[c.jsx(rc,{className:"h-5 w-5 text-teal-600"}),c.jsx("span",{className:"text-lg font-bold text-teal-600",children:"TaskaLoop"})]})]})}function DY(){var d,f,h,p;const t=ds(),e=Yi(),{isOpen:r,closeSidebar:n}=RY(),{user:i,isAdmin:a}=qr(),[o,s]=b.useState(""),l=t.pathname,u=m=>{e(m),window.innerWidth<768&&n()};return c.jsxs(c.Fragment,{children:[r&&c.jsx("div",{className:"md:hidden fixed inset-0 bg-black/30 z-40",onClick:n}),c.jsxs("aside",{className:je("fixed inset-y-0 left-0 w-64 bg-white border-r border-slate-200 z-50 transition-transform duration-300 ease-in-out",r?"translate-x-0":"-translate-x-full md:translate-x-0"),children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(rc,{className:"h-6 w-6 text-teal-600"}),c.jsx("span",{className:"text-xl font-bold text-teal-600",children:"TaskaLoop"})]}),c.jsx(K,{variant:"ghost",size:"icon",className:"md:hidden",onClick:n,children:c.jsx(Li,{className:"h-5 w-5"})})]}),c.jsxs("nav",{className:"px-2 py-4",children:[c.jsx("div",{className:"px-3 py-2",children:c.jsx("h3",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Main"})}),c.jsx("div",{className:"space-y-1",children:VCe.map(m=>c.jsxs(k1,{to:m.path,className:`flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-md ${l.startsWith(m.path)?"bg-slate-100 text-teal-700":"text-slate-700 hover:bg-slate-100"}`,onClick:()=>u(m.path),children:[m.icon,m.label]},m.path))})]}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-slate-200",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{onClick:()=>u("/profile"),className:"cursor-pointer",children:c.jsxs(zr,{children:[c.jsx(Zu,{src:i==null?void 0:i.avatar}),c.jsx(Wr,{className:"bg-teal-100 text-teal-700",children:((f=(d=i==null?void 0:i.name)==null?void 0:d.charAt(0))==null?void 0:f.toUpperCase())||((p=(h=i==null?void 0:i.email)==null?void 0:h.charAt(0))==null?void 0:p.toUpperCase())||"U"})]})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{onClick:()=>u("/profile"),className:"text-sm font-medium text-slate-700 truncate cursor-pointer hover:underline",children:(i==null?void 0:i.name)||"User"}),c.jsx("p",{className:"text-xs text-slate-500 truncate",children:(i==null?void 0:i.email)||"No email"})]}),c.jsx(K,{variant:"ghost",size:"icon",className:"text-slate-500 hover:text-slate-700",onClick:()=>u("/settings"),children:c.jsx(lO,{className:"h-5 w-5"})})]})})]})]})}function pa({children:t}){return c.jsx(UCe,{children:c.jsxs("div",{className:"flex min-h-screen bg-slate-50",children:[c.jsx(DY,{}),c.jsx(zCe,{}),c.jsx("main",{className:"flex-1 md:pl-64 pb-16 md:pb-0 pt-14 md:pt-0",children:t})]})})}var sk="Dialog",[MY,Ult]=za(sk),[WCe,To]=MY(sk),LY=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,s=b.useRef(null),l=b.useRef(null),[u=!1,d]=ts({prop:n,defaultProp:i,onChange:a});return c.jsx(WCe,{scope:e,triggerRef:s,contentRef:l,contentId:yo(),titleId:yo(),descriptionId:yo(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};LY.displayName=sk;var $Y="DialogTrigger",FY=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=To($Y,r),a=et(e,i.triggerRef);return c.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":uk(i.open),...n,ref:a,onClick:be(t.onClick,i.onOpenToggle)})});FY.displayName=$Y;var lk="DialogPortal",[HCe,BY]=MY(lk,{forceMount:void 0}),UY=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=To(lk,e);return c.jsx(HCe,{scope:e,forceMount:r,children:b.Children.map(n,o=>c.jsx(_n,{present:r||a.open,children:c.jsx(zh,{asChild:!0,container:i,children:o})}))})};UY.displayName=lk;var xw="DialogOverlay",VY=b.forwardRef((t,e)=>{const r=BY(xw,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=To(xw,t.__scopeDialog);return a.modal?c.jsx(_n,{present:n||a.open,children:c.jsx(GCe,{...i,ref:e})}):null});VY.displayName=xw;var GCe=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=To(xw,r);return c.jsx(I0,{as:qs,allowPinchZoom:!0,shards:[i.contentRef],children:c.jsx(Le.div,{"data-state":uk(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Ju="DialogContent",zY=b.forwardRef((t,e)=>{const r=BY(Ju,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=To(Ju,t.__scopeDialog);return c.jsx(_n,{present:n||a.open,children:a.modal?c.jsx(qCe,{...i,ref:e}):c.jsx(KCe,{...i,ref:e})})});zY.displayName=Ju;var qCe=b.forwardRef((t,e)=>{const r=To(Ju,t.__scopeDialog),n=b.useRef(null),i=et(e,r.contentRef,n);return b.useEffect(()=>{const a=n.current;if(a)return U2(a)},[]),c.jsx(WY,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:be(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&a.preventDefault()}),onFocusOutside:be(t.onFocusOutside,a=>a.preventDefault())})}),KCe=b.forwardRef((t,e)=>{const r=To(Ju,t.__scopeDialog),n=b.useRef(!1),i=b.useRef(!1);return c.jsx(WY,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),WY=b.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,s=To(Ju,r),l=b.useRef(null),u=et(e,l);return B2(),c.jsxs(c.Fragment,{children:[c.jsx(N0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:c.jsx(vd,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":uk(s.open),...o,ref:u,onDismiss:()=>s.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(YCe,{titleId:s.titleId}),c.jsx(QCe,{contentRef:l,descriptionId:s.descriptionId})]})]})}),ck="DialogTitle",HY=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=To(ck,r);return c.jsx(Le.h2,{id:i.titleId,...n,ref:e})});HY.displayName=ck;var GY="DialogDescription",qY=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=To(GY,r);return c.jsx(Le.p,{id:i.descriptionId,...n,ref:e})});qY.displayName=GY;var KY="DialogClose",YY=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=To(KY,r);return c.jsx(Le.button,{type:"button",...n,ref:e,onClick:be(t.onClick,()=>i.onOpenChange(!1))})});YY.displayName=KY;function uk(t){return t?"open":"closed"}var XY="DialogTitleWarning",[Vlt,QY]=noe(XY,{contentName:Ju,titleName:ck,docsSlug:"dialog"}),YCe=({titleId:t})=>{const e=QY(XY),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},XCe="DialogDescriptionWarning",QCe=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${QY(XCe).contentName}}.`;return b.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},ZY=LY,ZCe=FY,JY=UY,H2=VY,G2=zY,q2=HY,K2=qY,eX=YY;const _r=ZY,ZT=ZCe,JCe=JY,tX=b.forwardRef(({className:t,...e},r)=>c.jsx(H2,{ref:r,className:je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));tX.displayName=H2.displayName;const pr=b.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(JCe,{children:[c.jsx(tX,{}),c.jsxs(G2,{ref:n,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,c.jsxs(eX,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(Li,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));pr.displayName=G2.displayName;const mr=({className:t,...e})=>c.jsx("div",{className:je("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});mr.displayName="DialogHeader";const Si=({className:t,...e})=>c.jsx("div",{className:je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Si.displayName="DialogFooter";const gr=b.forwardRef(({className:t,...e},r)=>c.jsx(q2,{ref:r,className:je("text-lg font-semibold leading-none tracking-tight",t),...e}));gr.displayName=q2.displayName;const Ei=b.forwardRef(({className:t,...e},r)=>c.jsx(K2,{ref:r,className:je("text-sm text-muted-foreground",t),...e}));Ei.displayName=K2.displayName;const Ue=b.forwardRef(({className:t,type:e,...r},n)=>c.jsx("input",{type:e,className:je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Ue.displayName="Input";var eTe="Label",rX=b.forwardRef((t,e)=>c.jsx(Le.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));rX.displayName=eTe;var nX=rX;const tTe=Wh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ce=b.forwardRef(({className:t,...e},r)=>c.jsx(nX,{ref:r,className:je(tTe(),t),...e}));ce.displayName=nX.displayName;function Y2({className:t,selected:e,onSelect:r,showOutsideDays:n=!0,...i}){const[a,o]=b.useState(e||new Date),s=()=>{o(x=>{const y=new Date(x);return y.setMonth(y.getMonth()-1),y})},l=()=>{o(x=>{const y=new Date(x);return y.setMonth(y.getMonth()+1),y})},u=(x,y)=>new Date(x,y+1,0).getDate(),d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],f=a.toLocaleString("default",{month:"long"}),h=a.getFullYear(),p=a.getMonth(),m=u(h,p),g=new Date(h,p,1).getDay(),v=[];for(let x=0;x<g;x++)v.push(null);for(let x=1;x<=m;x++)v.push(new Date(h,p,x));return c.jsxs("div",{className:je("p-3",t),children:[c.jsxs("div",{className:"flex justify-center pt-1 relative items-center",children:[c.jsx("button",{onClick:s,className:je(H1({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 absolute left-1"),children:c.jsx(Qb,{className:"h-4 w-4"})}),c.jsxs("div",{className:"text-sm font-medium",children:[f," ",h]}),c.jsx("button",{onClick:l,className:je(H1({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 absolute right-1"),children:c.jsx(c0,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("div",{className:"flex w-full",children:d.map(x=>c.jsx("div",{className:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem] text-center",children:x},x))}),c.jsx("div",{className:"flex flex-wrap mt-2",children:v.map((x,y)=>c.jsx("button",{disabled:!x,className:je(H1({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100",x&&e&&x.toDateString()===e.toDateString()?"bg-primary text-primary-foreground":"",x&&x.toDateString()===new Date().toDateString()?"bg-accent text-accent-foreground":"",x?"":"invisible"),onClick:()=>x&&r&&r(x),children:x?x.getDate():""},y))})]})]})}Y2.displayName="Calendar";var dk="Popover",[iX,zlt]=za(dk,[Lc]),j0=Lc(),[rTe,Vc]=iX(dk),aX=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!1}=t,s=j0(e),l=b.useRef(null),[u,d]=b.useState(!1),[f=!1,h]=ts({prop:n,defaultProp:i,onChange:a});return c.jsx(bO,{...s,children:c.jsx(rTe,{scope:e,contentId:yo(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:b.useCallback(()=>d(!0),[]),onCustomAnchorRemove:b.useCallback(()=>d(!1),[]),modal:o,children:r})})};aX.displayName=dk;var oX="PopoverAnchor",nTe=b.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Vc(oX,r),a=j0(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:s}=i;return b.useEffect(()=>(o(),()=>s()),[o,s]),c.jsx(d0,{...a,...n,ref:e})});nTe.displayName=oX;var sX="PopoverTrigger",lX=b.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Vc(sX,r),a=j0(r),o=et(e,i.triggerRef),s=c.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":hX(i.open),...n,ref:o,onClick:be(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:c.jsx(d0,{asChild:!0,...a,children:s})});lX.displayName=sX;var fk="PopoverPortal",[iTe,aTe]=iX(fk,{forceMount:void 0}),cX=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,a=Vc(fk,e);return c.jsx(iTe,{scope:e,forceMount:r,children:c.jsx(_n,{present:r||a.open,children:c.jsx(zh,{asChild:!0,container:i,children:n})})})};cX.displayName=fk;var sh="PopoverContent",uX=b.forwardRef((t,e)=>{const r=aTe(sh,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,a=Vc(sh,t.__scopePopover);return c.jsx(_n,{present:n||a.open,children:a.modal?c.jsx(oTe,{...i,ref:e}):c.jsx(sTe,{...i,ref:e})})});uX.displayName=sh;var oTe=b.forwardRef((t,e)=>{const r=Vc(sh,t.__scopePopover),n=b.useRef(null),i=et(e,n),a=b.useRef(!1);return b.useEffect(()=>{const o=n.current;if(o)return U2(o)},[]),c.jsx(I0,{as:qs,allowPinchZoom:!0,children:c.jsx(dX,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),a.current||(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:be(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0,u=s.button===2||l;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:be(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),sTe=b.forwardRef((t,e)=>{const r=Vc(sh,t.__scopePopover),n=b.useRef(!1),i=b.useRef(!1);return c.jsx(dX,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),dX=b.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d,...f}=t,h=Vc(sh,r),p=j0(r);return B2(),c.jsx(N0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:c.jsx(vd,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:c.jsx(n2,{"data-state":hX(h.open),role:"dialog",id:h.contentId,...p,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),fX="PopoverClose",lTe=b.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Vc(fX,r);return c.jsx(Le.button,{type:"button",...n,ref:e,onClick:be(t.onClick,()=>i.onOpenChange(!1))})});lTe.displayName=fX;var cTe="PopoverArrow",uTe=b.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=j0(r);return c.jsx(i2,{...i,...n,ref:e})});uTe.displayName=cTe;function hX(t){return t?"open":"closed"}var dTe=aX,fTe=lX,hTe=cX,pX=uX;const nv=dTe,iv=fTe,lh=b.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>c.jsx(hTe,{children:c.jsx(pX,{ref:i,align:e,sideOffset:r,className:je("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));lh.displayName=pX.displayName;function JT(t,[e,r]){return Math.min(r,Math.max(e,t))}function hk(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var pTe=[" ","Enter","ArrowUp","ArrowDown"],mTe=[" ","Enter"],k0="Select",[X2,Q2,gTe]=Kb(k0),[rp,Wlt]=za(k0,[gTe,Lc]),Z2=Lc(),[vTe,zc]=rp(k0),[yTe,xTe]=rp(k0),mX=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:m}=t,g=Z2(e),[v,x]=b.useState(null),[y,w]=b.useState(null),[S,E]=b.useState(!1),C=T0(u),[A=!1,T]=ts({prop:n,defaultProp:i,onChange:a}),[N,I]=ts({prop:o,defaultProp:s,onChange:l}),j=b.useRef(null),O=v?m||!!v.closest("form"):!0,[P,M]=b.useState(new Set),F=Array.from(P).map(B=>B.props.value).join(";");return c.jsx(bO,{...g,children:c.jsxs(vTe,{required:p,scope:e,trigger:v,onTriggerChange:x,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:E,contentId:yo(),value:N,onValueChange:I,open:A,onOpenChange:T,dir:C,triggerPointerDownPosRef:j,disabled:h,children:[c.jsx(X2.Provider,{scope:e,children:c.jsx(yTe,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(B=>{M(W=>new Set(W).add(B))},[]),onNativeOptionRemove:b.useCallback(B=>{M(W=>{const $=new Set(W);return $.delete(B),$})},[]),children:r})}),O?c.jsxs(BX,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:B=>I(B.target.value),disabled:h,form:m,children:[N===void 0?c.jsx("option",{value:""}):null,Array.from(P)]},F):null]})})};mX.displayName=k0;var gX="SelectTrigger",vX=b.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=Z2(r),o=zc(gX,r),s=o.disabled||n,l=et(e,o.onTriggerChange),u=Q2(r),d=b.useRef("touch"),[f,h,p]=UX(g=>{const v=u().filter(w=>!w.disabled),x=v.find(w=>w.value===o.value),y=VX(v,g,x);y!==void 0&&o.onValueChange(y.value)}),m=g=>{s||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return c.jsx(d0,{asChild:!0,...a,children:c.jsx(Le.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":FX(o.value)?"":void 0,...i,ref:l,onClick:be(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&m(g)}),onPointerDown:be(i.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(m(g),g.preventDefault())}),onKeyDown:be(i.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(v&&g.key===" ")&&pTe.includes(g.key)&&(m(),g.preventDefault())})})})});vX.displayName=gX;var yX="SelectValue",xX=b.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...s}=t,l=zc(yX,r),{onValueNodeHasChildrenChange:u}=l,d=a!==void 0,f=et(e,l.onValueNodeChange);return cn(()=>{u(d)},[u,d]),c.jsx(Le.span,{...s,ref:f,style:{pointerEvents:"none"},children:FX(l.value)?c.jsx(c.Fragment,{children:o}):a})});xX.displayName=yX;var wTe="SelectIcon",wX=b.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return c.jsx(Le.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});wX.displayName=wTe;var bTe="SelectPortal",bX=t=>c.jsx(zh,{asChild:!0,...t});bX.displayName=bTe;var ed="SelectContent",_X=b.forwardRef((t,e)=>{const r=zc(ed,t.__scopeSelect),[n,i]=b.useState();if(cn(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?gd.createPortal(c.jsx(SX,{scope:t.__scopeSelect,children:c.jsx(X2.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),a):null}return c.jsx(EX,{...t,ref:e})});_X.displayName=ed;var ro=10,[SX,Wc]=rp(ed),_Te="SelectContentImpl",EX=b.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:v,...x}=t,y=zc(ed,r),[w,S]=b.useState(null),[E,C]=b.useState(null),A=et(e,pe=>S(pe)),[T,N]=b.useState(null),[I,j]=b.useState(null),O=Q2(r),[P,M]=b.useState(!1),F=b.useRef(!1);b.useEffect(()=>{if(w)return U2(w)},[w]),B2();const B=b.useCallback(pe=>{const[J,...re]=O().map(G=>G.ref.current),[L]=re.slice(-1),q=document.activeElement;for(const G of pe)if(G===q||(G==null||G.scrollIntoView({block:"nearest"}),G===J&&E&&(E.scrollTop=0),G===L&&E&&(E.scrollTop=E.scrollHeight),G==null||G.focus(),document.activeElement!==q))return},[O,E]),W=b.useCallback(()=>B([T,w]),[B,T,w]);b.useEffect(()=>{P&&W()},[P,W]);const{onOpenChange:$,triggerPointerDownPosRef:U}=y;b.useEffect(()=>{if(w){let pe={x:0,y:0};const J=L=>{var q,G;pe={x:Math.abs(Math.round(L.pageX)-(((q=U.current)==null?void 0:q.x)??0)),y:Math.abs(Math.round(L.pageY)-(((G=U.current)==null?void 0:G.y)??0))}},re=L=>{pe.x<=10&&pe.y<=10?L.preventDefault():w.contains(L.target)||$(!1),document.removeEventListener("pointermove",J),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",J),document.addEventListener("pointerup",re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",re,{capture:!0})}}},[w,$,U]),b.useEffect(()=>{const pe=()=>$(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[$]);const[X,H]=UX(pe=>{const J=O().filter(q=>!q.disabled),re=J.find(q=>q.ref.current===document.activeElement),L=VX(J,pe,re);L&&setTimeout(()=>L.ref.current.focus())}),Y=b.useCallback((pe,J,re)=>{const L=!F.current&&!re;(y.value!==void 0&&y.value===J||L)&&(N(pe),L&&(F.current=!0))},[y.value]),Q=b.useCallback(()=>w==null?void 0:w.focus(),[w]),ue=b.useCallback((pe,J,re)=>{const L=!F.current&&!re;(y.value!==void 0&&y.value===J||L)&&j(pe)},[y.value]),de=n==="popper"?eN:AX,he=de===eN?{side:s,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:v}:{};return c.jsx(SX,{scope:r,content:w,viewport:E,onViewportChange:C,itemRefCallback:Y,selectedItem:T,onItemLeave:Q,itemTextRefCallback:ue,focusSelectedItem:W,selectedItemText:I,position:n,isPositioned:P,searchRef:X,children:c.jsx(I0,{as:qs,allowPinchZoom:!0,children:c.jsx(N0,{asChild:!0,trapped:y.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:be(i,pe=>{var J;(J=y.trigger)==null||J.focus({preventScroll:!0}),pe.preventDefault()}),children:c.jsx(vd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:c.jsx(de,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:pe=>pe.preventDefault(),...x,...he,onPlaced:()=>M(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:be(x.onKeyDown,pe=>{const J=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!J&&pe.key.length===1&&H(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let L=O().filter(q=>!q.disabled).map(q=>q.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(L=L.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const q=pe.target,G=L.indexOf(q);L=L.slice(G+1)}setTimeout(()=>B(L)),pe.preventDefault()}})})})})})})});EX.displayName=_Te;var STe="SelectItemAlignedPosition",AX=b.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=zc(ed,r),o=Wc(ed,r),[s,l]=b.useState(null),[u,d]=b.useState(null),f=et(e,A=>d(A)),h=Q2(r),p=b.useRef(!1),m=b.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:x,focusSelectedItem:y}=o,w=b.useCallback(()=>{if(a.trigger&&a.valueNode&&s&&u&&g&&v&&x){const A=a.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),N=a.valueNode.getBoundingClientRect(),I=x.getBoundingClientRect();if(a.dir!=="rtl"){const q=I.left-T.left,G=N.left-q,ye=A.left-G,me=A.width+ye,ie=Math.max(me,T.width),ne=window.innerWidth-ro,Oe=JT(G,[ro,Math.max(ro,ne-ie)]);s.style.minWidth=me+"px",s.style.left=Oe+"px"}else{const q=T.right-I.right,G=window.innerWidth-N.right-q,ye=window.innerWidth-A.right-G,me=A.width+ye,ie=Math.max(me,T.width),ne=window.innerWidth-ro,Oe=JT(G,[ro,Math.max(ro,ne-ie)]);s.style.minWidth=me+"px",s.style.right=Oe+"px"}const j=h(),O=window.innerHeight-ro*2,P=g.scrollHeight,M=window.getComputedStyle(u),F=parseInt(M.borderTopWidth,10),B=parseInt(M.paddingTop,10),W=parseInt(M.borderBottomWidth,10),$=parseInt(M.paddingBottom,10),U=F+B+P+$+W,X=Math.min(v.offsetHeight*5,U),H=window.getComputedStyle(g),Y=parseInt(H.paddingTop,10),Q=parseInt(H.paddingBottom,10),ue=A.top+A.height/2-ro,de=O-ue,he=v.offsetHeight/2,pe=v.offsetTop+he,J=F+B+pe,re=U-J;if(J<=ue){const q=j.length>0&&v===j[j.length-1].ref.current;s.style.bottom="0px";const G=u.clientHeight-g.offsetTop-g.offsetHeight,ye=Math.max(de,he+(q?Q:0)+G+W),me=J+ye;s.style.height=me+"px"}else{const q=j.length>0&&v===j[0].ref.current;s.style.top="0px";const ye=Math.max(ue,F+g.offsetTop+(q?Y:0)+he)+re;s.style.height=ye+"px",g.scrollTop=J-ue+g.offsetTop}s.style.margin=`${ro}px 0`,s.style.minHeight=X+"px",s.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,s,u,g,v,x,a.dir,n]);cn(()=>w(),[w]);const[S,E]=b.useState();cn(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const C=b.useCallback(A=>{A&&m.current===!0&&(w(),y==null||y(),m.current=!1)},[w,y]);return c.jsx(ATe,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:c.jsx(Le.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});AX.displayName=STe;var ETe="SelectPopperPosition",eN=b.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=ro,...a}=t,o=Z2(r);return c.jsx(n2,{...o,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});eN.displayName=ETe;var[ATe,pk]=rp(ed,{}),tN="SelectViewport",CX=b.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=Wc(tN,r),o=pk(tN,r),s=et(e,a.onViewportChange),l=b.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),c.jsx(X2.Slot,{scope:r,children:c.jsx(Le.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:be(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const m=window.innerHeight-ro*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(g,v);if(x<m){const y=x+p,w=Math.min(m,y),S=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});CX.displayName=tN;var TX="SelectGroup",[CTe,TTe]=rp(TX),NTe=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=yo();return c.jsx(CTe,{scope:r,id:i,children:c.jsx(Le.div,{role:"group","aria-labelledby":i,...n,ref:e})})});NTe.displayName=TX;var NX="SelectLabel",IX=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=TTe(NX,r);return c.jsx(Le.div,{id:i.id,...n,ref:e})});IX.displayName=NX;var ww="SelectItem",[ITe,PX]=rp(ww),OX=b.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=t,s=zc(ww,r),l=Wc(ww,r),u=s.value===n,[d,f]=b.useState(a??""),[h,p]=b.useState(!1),m=et(e,y=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,y,n,i)}),g=yo(),v=b.useRef("touch"),x=()=>{i||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(ITe,{scope:r,value:n,disabled:i,textId:g,isSelected:u,onItemTextChange:b.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:c.jsx(X2.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:c.jsx(Le.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:m,onFocus:be(o.onFocus,()=>p(!0)),onBlur:be(o.onBlur,()=>p(!1)),onClick:be(o.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:be(o.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:be(o.onPointerDown,y=>{v.current=y.pointerType}),onPointerMove:be(o.onPointerMove,y=>{var w;v.current=y.pointerType,i?(w=l.onItemLeave)==null||w.call(l):v.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:be(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:be(o.onKeyDown,y=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&y.key===" "||(mTe.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});OX.displayName=ww;var Pm="SelectItemText",jX=b.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,o=zc(Pm,r),s=Wc(Pm,r),l=PX(Pm,r),u=xTe(Pm,r),[d,f]=b.useState(null),h=et(e,x=>f(x),l.onItemTextChange,x=>{var y;return(y=s.itemTextRefCallback)==null?void 0:y.call(s,x,l.value,l.disabled)}),p=d==null?void 0:d.textContent,m=b.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return cn(()=>(g(m),()=>v(m)),[g,v,m]),c.jsxs(c.Fragment,{children:[c.jsx(Le.span,{id:l.textId,...a,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?gd.createPortal(a.children,o.valueNode):null]})});jX.displayName=Pm;var kX="SelectItemIndicator",RX=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return PX(kX,r).isSelected?c.jsx(Le.span,{"aria-hidden":!0,...n,ref:e}):null});RX.displayName=kX;var rN="SelectScrollUpButton",DX=b.forwardRef((t,e)=>{const r=Wc(rN,t.__scopeSelect),n=pk(rN,t.__scopeSelect),[i,a]=b.useState(!1),o=et(e,n.onScrollButtonChange);return cn(()=>{if(r.viewport&&r.isPositioned){let s=function(){const u=l.scrollTop>0;a(u)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?c.jsx(LX,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});DX.displayName=rN;var nN="SelectScrollDownButton",MX=b.forwardRef((t,e)=>{const r=Wc(nN,t.__scopeSelect),n=pk(nN,t.__scopeSelect),[i,a]=b.useState(!1),o=et(e,n.onScrollButtonChange);return cn(()=>{if(r.viewport&&r.isPositioned){let s=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;a(d)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?c.jsx(LX,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});MX.displayName=nN;var LX=b.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=Wc("SelectScrollButton",r),o=b.useRef(null),s=Q2(r),l=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>l(),[l]),cn(()=>{var d;const u=s().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[s]),c.jsx(Le.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:be(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:be(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:be(i.onPointerLeave,()=>{l()})})}),PTe="SelectSeparator",$X=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return c.jsx(Le.div,{"aria-hidden":!0,...n,ref:e})});$X.displayName=PTe;var iN="SelectArrow",OTe=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Z2(r),a=zc(iN,r),o=Wc(iN,r);return a.open&&o.position==="popper"?c.jsx(i2,{...i,...n,ref:e}):null});OTe.displayName=iN;function FX(t){return t===""||t===void 0}var BX=b.forwardRef((t,e)=>{const{value:r,...n}=t,i=b.useRef(null),a=et(e,i),o=hk(r);return b.useEffect(()=>{const s=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(s,r),s.dispatchEvent(f)}},[o,r]),c.jsx(l0,{asChild:!0,children:c.jsx("select",{...n,ref:a,defaultValue:r})})});BX.displayName="BubbleSelect";function UX(t){const e=hr(t),r=b.useRef(""),n=b.useRef(0),i=b.useCallback(o=>{const s=r.current+o;e(s),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(s)},[e]),a=b.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function VX(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=jTe(t,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function jTe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var kTe=mX,zX=vX,RTe=xX,DTe=wX,MTe=bX,WX=_X,LTe=CX,HX=IX,GX=OX,$Te=jX,FTe=RX,qX=DX,KX=MX,YX=$X;const $t=kTe,Ft=RTe,Ot=b.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(zX,{ref:n,className:je("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,c.jsx(DTe,{asChild:!0,children:c.jsx(Px,{className:"h-4 w-4 opacity-50"})})]}));Ot.displayName=zX.displayName;const XX=b.forwardRef(({className:t,...e},r)=>c.jsx(qX,{ref:r,className:je("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(qoe,{className:"h-4 w-4"})}));XX.displayName=qX.displayName;const QX=b.forwardRef(({className:t,...e},r)=>c.jsx(KX,{ref:r,className:je("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(Px,{className:"h-4 w-4"})}));QX.displayName=KX.displayName;const jt=b.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>c.jsx(MTe,{children:c.jsxs(WX,{ref:i,className:je("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[c.jsx(XX,{}),c.jsx(LTe,{className:je("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(QX,{})]})}));jt.displayName=WX.displayName;const BTe=b.forwardRef(({className:t,...e},r)=>c.jsx(HX,{ref:r,className:je("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));BTe.displayName=HX.displayName;const Se=b.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(GX,{ref:n,className:je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(FTe,{children:c.jsx(fo,{className:"h-4 w-4"})})}),c.jsx($Te,{children:e})]}));Se.displayName=GX.displayName;const UTe=b.forwardRef(({className:t,...e},r)=>c.jsx(YX,{ref:r,className:je("-mx-1 my-1 h-px bg-muted",t),...e}));UTe.displayName=YX.displayName;const aN=[{id:"1",name:"Trader Joe's",address:"3888 Townsfair Way, Columbus, OH 43219",lat:39.9789,lng:-82.8677,category:"grocery",hours:"8AM - 9PM",rating:4.7},{id:"2",name:"Whole Foods Market",address:"1555 W Lane Ave, Columbus, OH 43221",lat:40.0065,lng:-83.0537,category:"grocery",hours:"7AM - 10PM",rating:4.5},{id:"3",name:"Target",address:"1892 N High St, Columbus, OH 43201",lat:39.9964,lng:-83.0091,category:"grocery",hours:"8AM - 11PM",rating:4.3},{id:"4",name:"Walgreens",address:"1162 N High St, Columbus, OH 43201",lat:39.9865,lng:-83.0044,category:"pharmacy",hours:"24 hours",rating:4},{id:"5",name:"CVS Pharmacy",address:"2160 N High St, Columbus, OH 43201",lat:40.0046,lng:-83.0104,category:"pharmacy",hours:"24 hours",rating:3.9},{id:"6",name:"Home Depot",address:"2555 Brice Rd, Columbus, OH 43068",lat:39.9259,lng:-82.8369,category:"hardware",hours:"6AM - 9PM",rating:4.2},{id:"7",name:"Kroger",address:"1350 N High St, Columbus, OH 43201",lat:39.9905,lng:-83.0069,category:"grocery",hours:"6AM - 12AM",rating:4.1},{id:"8",name:"Costco",address:"3800 W Dublin Granville Rd, Columbus, OH 43235",lat:40.0909,lng:-83.0763,category:"grocery",hours:"10AM - 8:30PM",rating:4.6},{id:"9",name:"Best Buy",address:"3840 Morse Rd, Columbus, OH 43219",lat:40.0606,lng:-82.9307,category:"electronics",hours:"10AM - 9PM",rating:4.3},{id:"10",name:"Apple Store",address:"4195 The Strand E, Columbus, OH 43219",lat:40.0529,lng:-82.9146,category:"electronics",hours:"10AM - 8PM",rating:4.8},{id:"11",name:"Macy's",address:"1500 Polaris Pkwy, Columbus, OH 43240",lat:40.1452,lng:-82.9823,category:"clothing",hours:"10AM - 9PM",rating:4},{id:"12",name:"Giant Eagle",address:"280 E Whittier St, Columbus, OH 43206",lat:39.9447,lng:-82.9913,category:"grocery",hours:"7AM - 10PM",rating:4.2},{id:"13",name:"Ace Hardware",address:"1305 W Lane Ave, Columbus, OH 43221",lat:40.0057,lng:-83.0491,category:"hardware",hours:"8AM - 8PM",rating:4.5},{id:"14",name:"Lowe's",address:"2345 Silver Dr, Columbus, OH 43211",lat:40.0127,lng:-82.9765,category:"hardware",hours:"6AM - 10PM",rating:4.2},{id:"15",name:"Walmart",address:"3900 Morse Rd, Columbus, OH 43219",lat:40.0602,lng:-82.9339,category:"grocery",hours:"7AM - 11PM",rating:3.8}],VTe=t=>{const e=t.toLowerCase();return aN.find(r=>r.name.toLowerCase().includes(e))},zTe="AIzaSyCC9n6z-koJp5qiyOOPRRag3qudrcfOeK8";function mk({isOpen:t,onClose:e,onSubmit:r,taskToEdit:n,isEditing:i=!1}){const[a,o]=b.useState(""),[s,l]=b.useState(),[u,d]=b.useState("medium"),[f,h]=b.useState(""),[p,m]=b.useState(null),[g,v]=b.useState(!1),[x,y]=b.useState(null),[w,S]=b.useState("Medium"),E=b.useRef(null),C=b.useRef(null),A=b.useRef(null),T=b.useRef(null),N=b.useRef(null),[I,j]=b.useState([]),[O,P]=b.useState(!1),[M,F]=b.useState(!1),[B,W]=b.useState({lat:39.9789,lng:-82.8677}),{toast:$}=un();b.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(Q=>{W({lat:Q.coords.latitude,lng:Q.coords.longitude})},()=>{console.log("Using default location for place search")})},[]),b.useEffect(()=>{if(!t)return;const Q=()=>{if(window.google&&window.google.maps&&window.google.maps.places){ue();return}const he=document.createElement("script");return he.src=`https://maps.googleapis.com/maps/api/js?key=${zTe}&libraries=places,geometry`,he.async=!0,he.defer=!0,he.onload=ue,document.head.appendChild(he),()=>{document.head.contains(he)&&document.head.removeChild(he)}},ue=()=>{if(!window.google||!window.google.maps||!window.google.maps.places){console.error("Google Maps Places API not available");return}try{const he=document.createElement("div");A.current=new window.google.maps.places.PlacesService(he),T.current=new window.google.maps.places.AutocompleteService,N.current=new window.google.maps.places.AutocompleteSessionToken,E.current&&(C.current=new window.google.maps.places.Autocomplete(E.current,{types:["establishment","address"]}),C.current.addListener("place_changed",()=>{if(!C.current)return;const pe=C.current.getPlace();if(pe&&pe.geometry&&pe.geometry.location){const J=pe.formatted_address||pe.name||"";h(J),m({lat:pe.geometry.location.lat(),lng:pe.geometry.location.lng()}),F(!1)}}))}catch(he){console.error("Error initializing Places services:",he)}},de=Q();return()=>{typeof de=="function"&&de(),C.current=null}},[t]),b.useEffect(()=>{t&&(i&&n?(o(n.title||""),l(n.dueDate?nh(n.dueDate):void 0),d(n.priority||"medium"),h(n.location||""),m(n.coordinates||null),v(n.isRotating||!1),y(n.rotationFrequency||null),S(n.difficulty||"Medium")):(o(""),l(void 0),d("medium"),h(""),m(null),v(!1),y(null),S("Medium")),j([]),F(!1))},[t,n,i]);const U=Q=>{if(Q.preventDefault(),!a.trim())return;const ue={...n!=null&&n.id?{id:n.id}:{},title:a,dueDate:Yt(s||new Date,"yyyy-MM-dd"),priority:u,isRotating:g,location:f||void 0,coordinates:p||void 0,rotationFrequency:g?x:null,difficulty:w,...n!=null&&n.assignees?{assignees:n.assignees}:{assignees:[]},...(n==null?void 0:n.completed)!==void 0?{completed:n.completed}:{completed:!1},...n!=null&&n.nextRotationDate?{nextRotationDate:n.nextRotationDate}:{}};r(ue),e()},X=Q=>{if(!Q||Q.length<2){j([]),F(!1);return}const ue=aN.filter(he=>he.name.toLowerCase().includes(Q.toLowerCase())).slice(0,3).map(he=>({description:`${he.name} - ${he.address}`,place_id:`store_${he.id}`,isStore:!0,store:he}));if(ue.length>0){j(ue),F(!0);return}if(!T.current||!N.current)return;P(!0),F(!0);const de={input:Q,types:["establishment","geocode"],componentRestrictions:{country:"us"},location:new google.maps.LatLng(B.lat,B.lng),radius:5e4,sessionToken:N.current};T.current.getPlacePredictions(de,(he,pe)=>{pe===google.maps.places.PlacesServiceStatus.OK&&he&&he.length>0?j(he.map(J=>({description:J.description,place_id:J.place_id}))):j([]),P(!1)})},H=(Q,ue)=>{if(Q.startsWith("store_")){const de=Q.replace("store_",""),he=aN.find(pe=>pe.id===de);if(he){h(he.name),m({lat:he.lat,lng:he.lng}),F(!1);return}}A.current&&A.current.getDetails({placeId:Q,fields:["name","formatted_address","geometry"]},(de,he)=>{var pe;he===google.maps.places.PlacesServiceStatus.OK&&de?(h(de.formatted_address||de.name||ue),(pe=de.geometry)!=null&&pe.location&&m({lat:de.geometry.location.lat(),lng:de.geometry.location.lng()}),j([]),F(!1),N.current=new google.maps.places.AutocompleteSessionToken):$({title:"Error",description:"Couldn't get place details",variant:"destructive"})})},Y=Q=>{const ue=Q.target.value;h(ue),m(null);const de=setTimeout(()=>{X(ue)},300);return()=>clearTimeout(de)};return c.jsx(_r,{open:t,onOpenChange:Q=>!Q&&e(),children:c.jsxs(pr,{className:"sm:max-w-[425px]",children:[c.jsx(mr,{children:c.jsx(gr,{children:i?"Edit Task":"Create Task"})}),c.jsxs("form",{onSubmit:U,children:[c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-2 sm:gap-4",children:[c.jsx(ce,{htmlFor:"title",className:"sm:text-right",children:"Title"}),c.jsx(Ue,{id:"title",value:a,onChange:Q=>o(Q.target.value),className:"sm:col-span-3"})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-2 sm:gap-4",children:[c.jsx(ce,{htmlFor:"date",className:"sm:text-right",children:"Due Date"}),c.jsxs(nv,{children:[c.jsx(iv,{asChild:!0,children:c.jsxs(K,{variant:"outline",className:je("sm:col-span-3 justify-start text-left font-normal",!s&&"text-muted-foreground"),children:[c.jsx(Hu,{className:"mr-2 h-4 w-4"}),s?Yt(s,"PPP"):c.jsx("span",{children:"Pick a date"})]})}),c.jsx(lh,{className:"w-auto p-0",children:c.jsx(Y2,{mode:"single",selected:s,onSelect:l,initialFocus:!0})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-2 sm:gap-4",children:[c.jsx(ce,{htmlFor:"location",className:"sm:text-right",children:"Location"}),c.jsxs("div",{className:"sm:col-span-3 relative",children:[c.jsx("div",{className:"flex",children:c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Ue,{id:"location",ref:E,placeholder:"Enter a store or location (e.g. Trader Joe's, Walmart)",value:f,onChange:Y,className:"pr-8 relative z-50",onClick:Q=>Q.stopPropagation()}),f?c.jsx("button",{type:"button",onClick:()=>{h(""),m(null)},className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gloop-text-muted hover:text-gloop-text",children:c.jsx(Li,{className:"h-4 w-4"})}):null,c.jsx(Jb,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gloop-text-muted"})]})}),M&&c.jsx("div",{className:"absolute top-full left-0 right-0 z-10 mt-1 bg-white dark:bg-gray-800 border rounded-md shadow-md max-h-60 overflow-y-auto",children:O?c.jsx("div",{className:"p-2 text-center text-sm text-gray-500",children:"Searching..."}):I.length>0?c.jsx("ul",{className:"py-1",children:I.map(Q=>c.jsx("li",{className:"px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer text-sm",onClick:()=>H(Q.place_id,Q.description),children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(la,{className:"h-4 w-4 mr-2 mt-0.5 flex-shrink-0"}),c.jsx("span",{children:Q.description})]})},Q.place_id))}):f.length>=2?c.jsx("div",{className:"p-2 text-center text-sm text-gray-500",children:"No places found"}):c.jsx("div",{className:"p-2 text-center text-sm text-gray-500",children:"Type at least 2 characters to search"})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-2 sm:gap-4",children:[c.jsx(ce,{htmlFor:"priority",className:"sm:text-right",children:"Priority"}),c.jsxs($t,{value:u,onValueChange:Q=>d(Q),children:[c.jsx(Ot,{className:"sm:col-span-3",children:c.jsx(Ft,{placeholder:"Select priority"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"low",children:"Low"}),c.jsx(Se,{value:"medium",children:"Medium"}),c.jsx(Se,{value:"high",children:"High"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-2 sm:gap-4",children:[c.jsx(ce,{htmlFor:"difficulty",className:"sm:text-right",children:"Difficulty"}),c.jsxs($t,{value:w,onValueChange:Q=>S(Q),children:[c.jsx(Ot,{className:"sm:col-span-3",children:c.jsx(Ft,{placeholder:"Select difficulty"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"Easy",children:"Easy"}),c.jsx(Se,{value:"Medium",children:"Medium"}),c.jsx(Se,{value:"Hard",children:"Hard"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 items-center gap-2 sm:gap-4",children:[c.jsx(ce,{htmlFor:"rotating",className:"sm:text-right",children:"Rotating"}),c.jsxs("div",{className:"sm:col-span-3 flex items-center",children:[c.jsx("input",{type:"checkbox",id:"rotating",checked:g,onChange:Q=>v(Q.target.checked),className:"mr-2 rounded border-gloop-outline focus:ring-gloop-primary h-4 w-4"}),c.jsx(ce,{htmlFor:"rotating",className:"text-sm",children:"This task rotates between assignees"})]})]})]}),c.jsx(Si,{children:c.jsx(K,{type:"submit",children:i?"Save Changes":"Create Task"})})]})]})})}var WTe="basil",ZX="https://js.stripe.com",HTe="".concat(ZX,"/").concat(WTe,"/stripe.js"),GTe=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,qTe=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var KTe=function(e){return GTe.test(e)||qTe.test(e)},YTe=function(){for(var e=document.querySelectorAll('script[src^="'.concat(ZX,'"]')),r=0;r<e.length;r++){var n=e[r];if(KTe(n.src))return n}return null},u5=function(e){var r="",n=document.createElement("script");n.src="".concat(HTe).concat(r);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(n),n},em=null,qy=null,Ky=null,XTe=function(e){return function(r){e(new Error("Failed to load Stripe.js",{cause:r}))}},QTe=function(e,r){return function(){window.Stripe?e(window.Stripe):r(new Error("Stripe.js not available"))}},ZTe=function(e){return em!==null?em:(em=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var i=YTe();if(!(i&&e)){if(!i)i=u5(e);else if(i&&Ky!==null&&qy!==null){var a;i.removeEventListener("load",Ky),i.removeEventListener("error",qy),(a=i.parentNode)===null||a===void 0||a.removeChild(i),i=u5(e)}}Ky=QTe(r,n),qy=XTe(n),i.addEventListener("load",Ky),i.addEventListener("error",qy)}catch(o){n(o);return}}),em.catch(function(r){return em=null,Promise.reject(r)}))},tm,JTe=function(){return tm||(tm=ZTe(null).catch(function(e){return tm=null,Promise.reject(e)}),tm)};Promise.resolve().then(function(){return JTe()}).catch(function(t){console.warn(t)});console.warn("Stripe publishable key not found. Subscription features will be disabled.");const eNe=null,tNe={plus:{priceId:"price_1Otest_plus_monthly",productId:"prod_test_plus",name:"TaskaLoop Plus",price:4.99,interval:"month"},family:{priceId:"price_1Otest_family_monthly",productId:"prod_test_family",name:"TaskaLoop Family",price:8.99,interval:"month"}},rNe=t=>{var e;return((e=tNe[t])==null?void 0:e.priceId)||null},nNe=()=>!1,d5={ACTIVE:"active"};class iNe{constructor(){this.apiUrl="https://vanold101.github.io/taska-loop/"}isConfigured(){return nNe()}async createCheckoutSession(e,r,n){if(!this.isConfigured())throw new Error("Stripe is not properly configured");const i=rNe(e);if(!i)throw new Error(`No price ID found for tier: ${e}`);try{const a=await fetch("/api/stripe/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:i,userEmail:r,userId:n,tier:e,successUrl:`${this.apiUrl}/subscription-success?session_id={CHECKOUT_SESSION_ID}`,cancelUrl:`${this.apiUrl}/subscription-cancelled`})});if(!a.ok)throw new Error("Failed to create checkout session");return await a.json()}catch(a){return console.error("Error creating checkout session:",a),console.warn("Stripe backend not implemented. Returning mock checkout session."),{sessionId:"cs_test_demo_session_id",url:"#"}}}async redirectToCheckout(e){if(!this.isConfigured())throw new Error("Stripe is not properly configured");const r=await eNe;if(!r)throw new Error("Failed to load Stripe");const{error:n}=await r.redirectToCheckout({sessionId:e});if(n)throw new Error(n.message)}async subscribeTo(e,r,n){try{const i=await this.createCheckoutSession(e,r,n);if(i.sessionId==="cs_test_demo_session_id"){alert(`Demo: Would redirect to Stripe Checkout for ${e} subscription.

In production, this would:
1. Create a Stripe Customer
2. Generate a Checkout Session
3. Redirect to secure Stripe payment page
4. Handle webhooks for subscription updates`);return}await this.redirectToCheckout(i.sessionId)}catch(i){throw console.error("Error in subscription flow:",i),i}}async getCustomerSubscription(e){try{const r=await fetch(`/api/stripe/subscription/${e}`,{headers:{"Content-Type":"application/json"}});if(r.status===404)return null;if(!r.ok)throw new Error("Failed to fetch subscription");return await r.json()}catch(r){return console.error("Error fetching subscription:",r),null}}async cancelSubscription(e){try{if(!(await fetch(`/api/stripe/subscription/${e}/cancel`,{method:"POST",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to cancel subscription")}catch(r){throw console.error("Error cancelling subscription:",r),r}}async createPortalSession(e){try{const r=await fetch("/api/stripe/create-portal-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customerId:e,returnUrl:`${this.apiUrl}/profile`})});if(!r.ok)throw new Error("Failed to create portal session");return await r.json()}catch(r){return console.error("Error creating portal session:",r),{url:"https://billing.stripe.com/session/demo"}}}async openCustomerPortal(e){try{const r=await this.createPortalSession(e);if(r.url==="https://billing.stripe.com/session/demo"){alert(`Demo: Would redirect to Stripe Customer Portal.

In production, this would open a secure portal where customers can:
 Update payment methods
 Download invoices
 Manage subscription
 View billing history`);return}window.open(r.url,"_blank")}catch(r){throw console.error("Error opening customer portal:",r),r}}getSubscriptionTier(e){return!e||e.status!==d5.ACTIVE?"free":e.tier}isSubscriptionActive(e){return(e==null?void 0:e.status)===d5.ACTIVE}}const sg=new iNe,rm={free:{name:"TaskaLoop Basic",price:"Free",description:"Perfect for individuals and small households getting started",icon:c.jsx(ri,{className:"h-6 w-6"}),color:"bg-gray-500",features:["Up to 3 active shopping trips","Up to 25 active tasks","Basic pantry (50 items)","Manual expense tracking (10/month)","Up to 2 household members","Basic maps integration","Dark mode","Mobile app (PWA)"],limitations:["No receipt scanning","No AI-powered features","No recurring item automation","No advanced analytics","No export capabilities","Equal split only for expenses"]},plus:{name:"TaskaLoop Plus",price:"$4.99",billing:"/month",description:"For active households who want convenience and automation",icon:c.jsx(Km,{className:"h-6 w-6"}),color:"bg-blue-500",features:["Unlimited shopping lists & tasks","Advanced pantry with alerts","Receipt scanning (20/month)","AI-powered grocery list generation","Basic recurring items","Advanced expense splitting","Expense analytics & reports","Calendar integration","Up to 6 household members","Export data (CSV, PDF)","Priority support","Bulk operations"],popular:!0},family:{name:"TaskaLoop Family",price:"$8.99",billing:"/month",description:"For large households and power users who want everything",icon:c.jsx(aO,{className:"h-6 w-6"}),color:"bg-purple-500",features:["Everything in Plus","Unlimited household members","Unlimited receipt scanning","Advanced AI features","Smart meal planning suggestions","Predictive shopping lists","Price tracking & deal alerts","Complex recurring patterns","Premium analytics dashboard","Smart home integration","Multiple calendar platforms","Premium support (chat & phone)","Early access to new features","Data backup & sync"]}};function JX({isOpen:t,onClose:e,showUpgradeOnly:r=!1}){const{currentTier:n,upgradeTier:i,isAdmin:a}=_j(),{user:o}=qr(),{toast:s}=un(),[l,u]=b.useState(n),[d,f]=b.useState(!1);if(a)return null;const h=v=>{u(v)},p=async()=>{if(l===n){s({title:"Already subscribed",description:`You're already on the ${rm[n].name} plan.`});return}if(!(o!=null&&o.email)){s({title:"Authentication required",description:"Please make sure you're logged in to upgrade your subscription.",variant:"destructive"});return}if(l==="free")f(!0),setTimeout(()=>{i(l),f(!1),s({title:"Plan downgraded",description:`You've switched to the ${rm[l].name} plan.`}),e()},1e3);else{if(!sg.isConfigured()){s({title:"Stripe not configured",description:"Stripe keys are missing. Please check your environment configuration.",variant:"destructive"});return}f(!0);try{await sg.subscribeTo(l,o.email,o.id||"anonymous"),i(l),f(!1),s({title:"Demo: Upgrade successful!",description:`Demo mode: You now have ${rm[l].name} features enabled.`}),e()}catch(v){f(!1),console.error("Subscription error:",v),s({title:"Subscription failed",description:v instanceof Error?v.message:"Failed to start subscription process.",variant:"destructive"})}}},m=r?["plus","family"]:["free","plus","family"],g=sg.isConfigured();return c.jsx(_r,{open:t,onOpenChange:e,children:c.jsxs(pr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(mr,{children:[c.jsx(gr,{className:"text-2xl font-bold",children:r?"Upgrade Your Plan":"Choose Your Plan"}),c.jsx(Ei,{children:r?"Unlock more features with a premium plan":"Select the plan that best fits your household needs"})]}),!g&&c.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(_o,{className:"h-4 w-4 text-amber-600"}),c.jsx("span",{className:"font-medium text-amber-800",children:"Stripe Configuration Required"})]}),c.jsx("p",{className:"text-sm text-amber-700",children:"Stripe is not properly configured. Add your Stripe keys to enable subscription functionality."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:m.map(v=>{const x=rm[v],y=v===n,w=v===l;return c.jsxs(Te,{className:`relative cursor-pointer transition-all duration-200 ${w?"ring-2 ring-blue-500 shadow-lg scale-105":"hover:shadow-md hover:scale-102"} ${x.popular?"border-blue-500":""}`,onClick:()=>h(v),children:[x.popular&&c.jsx(mt,{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 bg-blue-500",children:"Most Popular"}),y&&c.jsx(mt,{className:"absolute -top-2 right-4 bg-green-500",children:"Current Plan"}),c.jsxs(Fe,{className:"text-center",children:[c.jsx("div",{className:`w-12 h-12 ${x.color} rounded-full flex items-center justify-center text-white mx-auto mb-2`,children:x.icon}),c.jsx(Be,{className:"text-xl",children:x.name}),c.jsxs("div",{className:"text-3xl font-bold",children:[x.price,x.billing&&c.jsx("span",{className:"text-sm text-gray-500 font-normal",children:x.billing})]}),c.jsx(tt,{className:"text-sm",children:x.description})]}),c.jsx(Ne,{children:c.jsxs("ul",{className:"space-y-2",children:[x.features.map((S,E)=>c.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[c.jsx(fo,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),c.jsx("span",{children:S})]},E)),x.limitations&&c.jsx(c.Fragment,{children:c.jsxs("div",{className:"border-t pt-2 mt-3",children:[c.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Limitations:"}),x.limitations.map((S,E)=>c.jsxs("li",{className:"flex items-start gap-2 text-xs text-gray-500",children:[c.jsx("span",{className:"text-red-400",children:""}),c.jsx("span",{children:S})]},E))]})})]})}),c.jsx(Bt,{children:c.jsx(K,{variant:w?"default":"outline",className:`w-full ${w?"bg-blue-500 hover:bg-blue-600":""}`,disabled:y,children:y?"Current Plan":w?"Selected":"Select Plan"})})]},v)})}),c.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t",children:[c.jsx(K,{variant:"outline",onClick:e,disabled:d,children:"Cancel"}),c.jsx(K,{onClick:p,disabled:l===n||d||!g&&l!=="free",className:"bg-blue-500 hover:bg-blue-600",children:d?c.jsxs(c.Fragment,{children:[c.jsx(Rg,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):l==="free"?"Switch to Free":c.jsxs(c.Fragment,{children:[c.jsx(UC,{className:"h-4 w-4 mr-2"}),n==="free"?"Upgrade":"Switch"," to ",rm[l].name]})})]}),c.jsx("div",{className:"text-xs text-gray-500 text-center mt-4",children:g?c.jsxs(c.Fragment,{children:[c.jsx("p",{children:" Secure payment processing via Stripe  Cancel anytime"}),c.jsx("p",{children:" All prices in USD  30-day money-back guarantee"})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{children:" Demo Mode: Stripe integration ready for configuration"}),c.jsx("p",{children:" Add VITE_STRIPE_PUBLISHABLE_KEY to enable payments"})]})})]})})}function aNe(){var J,re;const t=Yi(),{user:e,isAdmin:r}=qr(),{tasks:n,trips:i,updateTask:a,deleteTask:o,addTask:s}=os(),[l,u]=b.useState("all"),[d,f]=b.useState(new Date),[h,p]=b.useState(!1),[m,g]=b.useState(null),[v,x]=b.useState(null),[y,w]=b.useState(!1),{currentTier:S,limits:E}=_j(),[C,A]=b.useState(!1),T=n.filter(L=>{const q=new Date().toISOString().split("T")[0];return L.dueDate===q}),N=T.filter(L=>L.completed),I=T.length,j=N.length,O=I>0?j/I*100:0,P=i.filter(L=>L.status!=="completed"&&L.status!=="cancelled"),M=b.useMemo(()=>{const L=Q1e(d),q=gG(L),G=fG(L),ye=Z1e(q),me="d",ie=[];let ne=[],Oe=G,Z="";for(;Oe<=ye;){for(let le=0;le<7;le++){Z=Yt(Oe,me);const xe=Yt(Oe,"yyyy-MM-dd"),it=n.filter(Ht=>Ht.dueDate===xe),yr=it.length,Wt=it.filter(Ht=>Ht.completed).length;ne.push({date:Oe,dayOfMonth:Z,isCurrentMonth:lwe(Oe,L),isToday:mG(Oe,new Date),tasksCount:yr,completedCount:Wt,tasks:it}),Oe=nw(Oe,1)}ie.push(ne),ne=[]}return ie},[d,n]),F=()=>{g(null),p(!0)},B=()=>{t("/dashboard")},W=L=>{const q=n.find(G=>G.id===L);q&&a(L,{completed:!q.completed})},$=L=>{const q=n.find(G=>G.id===L);if(q){const G=q.priority==="high"?"medium":"high";a(L,{priority:G})}},U=L=>{n.find(G=>G.id===L)&&o(L)},X=L=>{const q=n.find(G=>G.id===L);q&&(g(q),p(!0))},H=L=>{const q=n.find(G=>G.id===L);q&&(x(q),w(!0))},Y=L=>{const q=n.find(G=>G.id===L);q&&(g(q),p(!0))},Q=()=>{},ue=()=>{f(Ewe(d,1))},de=()=>{f(xj(d,1))},he=L=>{L.tasksCount>0&&(L.tasks.length===1?H(L.tasks[0].id):u("all"))},pe=(L,q)=>{L.stopPropagation(),H(q.id)};return c.jsx(pa,{children:c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[c.jsxs("div",{className:"p-4 md:p-8 animate-fade-in",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8 animate-slide-down",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Home"}),c.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:["Welcome back, ",((J=e==null?void 0:e.name)==null?void 0:J.split(" ")[0])||"User","! Here's what's happening today."]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(K,{variant:"outline",className:"border-slate-200 dark:border-slate-600 dark:text-slate-300 hover:scale-105 transition-transform duration-200",onClick:()=>u("today"),children:[c.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Recent"]}),c.jsxs(K,{className:"bg-teal-600 hover:bg-teal-700 dark:bg-teal-600 dark:hover:bg-teal-700 hover:scale-105 transition-transform duration-200",onClick:F,children:[c.jsx(Or,{className:"h-4 w-4 mr-2"}),"New Task"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 animate-slide-up",children:[c.jsxs(Te,{className:"bg-gradient-to-br from-teal-500 to-teal-600 text-white border-none shadow-md hover:shadow-lg transition-all duration-300 hover:scale-105",children:[c.jsxs(Fe,{className:"pb-2",children:[c.jsx(Be,{className:"text-white",children:"Today's Tasks"}),c.jsxs(tt,{className:"text-teal-100",children:["You have ",I," ",I===1?"task":"tasks"," for today"]})]}),c.jsx(Ne,{children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{children:"Completed"}),c.jsxs("span",{children:[j,"/",I]})]}),c.jsx(Qg,{value:O,className:"h-2 bg-teal-400"})]})}),c.jsx(Bt,{children:c.jsx(K,{variant:"secondary",className:"w-full bg-white/20 hover:bg-white/30 text-white border-none transition-all duration-200",onClick:()=>u("today"),children:"View All Tasks"})})]}),c.jsxs(Te,{className:"border-none shadow-md dark:bg-slate-800 hover:shadow-lg transition-all duration-300 hover:scale-105",children:[c.jsxs(Fe,{className:"pb-2",children:[c.jsx(Be,{className:"dark:text-slate-200",children:"Shopping Lists"}),c.jsxs(tt,{className:"dark:text-slate-400",children:["You have ",P.length," active ",P.length===1?"list":"lists"]})]}),c.jsx(Ne,{children:c.jsx("div",{className:"space-y-2",children:P.length>0?P.slice(0,2).map((L,q)=>{var G,ye,me,ie;return c.jsxs("div",{className:"space-y-1 animate-fade-in",style:{animationDelay:`${q*100}ms`},children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:L.store||"Shopping Trip"}),c.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:[((G=L.items)==null?void 0:G.length)||0," ",(((ye=L.items)==null?void 0:ye.length)||0)===1?"item":"items"]})]}),c.jsx(Qg,{value:((me=L.items)==null?void 0:me.filter(ne=>ne.checked).length)/(((ie=L.items)==null?void 0:ie.length)||1)*100,className:"h-2 dark:bg-slate-700"})]},L.id)}):c.jsx("div",{className:"text-center py-2 text-slate-500 dark:text-slate-400",children:"No active shopping lists"})})}),c.jsx(Bt,{children:c.jsxs(K,{variant:"outline",className:"w-full border-slate-200 dark:border-slate-700 dark:text-slate-300 hover:scale-105 transition-transform duration-200",onClick:()=>t("/trips"),children:[c.jsx(lr,{className:"h-4 w-4 mr-2"}),"View Shopping Lists"]})})]}),c.jsxs(Te,{className:"border-none shadow-md dark:bg-slate-800 hover:shadow-lg transition-all duration-300 hover:scale-105",children:[c.jsxs(Fe,{className:"pb-2",children:[c.jsx(Be,{className:"dark:text-slate-200",children:"Expense Splitting"}),c.jsx(tt,{className:"dark:text-slate-400",children:r?"May expenses with roommates":"Track shared expenses"})]}),c.jsx(Ne,{children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center animate-fade-in",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(zr,{className:"h-6 w-6",children:c.jsx(Wr,{className:"text-xs bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",children:((re=e==null?void 0:e.name)==null?void 0:re.substring(0,2))||"U"})}),c.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"You"})]}),c.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:r?"$63.69":"$0.00"})]}),r?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex justify-between items-center animate-fade-in",style:{animationDelay:"100ms"},children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(zr,{className:"h-6 w-6",children:c.jsx(Wr,{className:"text-xs bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-300",children:"SM"})}),c.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Sam"})]}),c.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:"+$12.45"})]}),c.jsxs("div",{className:"flex justify-between items-center animate-fade-in",style:{animationDelay:"200ms"},children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(zr,{className:"h-6 w-6",children:c.jsx(Wr,{className:"text-xs bg-amber-100 text-amber-700 dark:bg-amber-900 dark:text-amber-300",children:"AL"})}),c.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Alex"})]}),c.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:"-$8.75"})]})]}):c.jsxs("div",{className:"text-center py-4 animate-fade-in",children:[c.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-slate-100 dark:bg-slate-700 rounded-full mx-auto mb-2",children:c.jsx(ri,{className:"h-6 w-6 text-slate-400"})}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2",children:"No household members yet"}),c.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:"Add roommates to start tracking shared expenses"})]})]})}),c.jsx(Bt,{children:c.jsxs(K,{variant:"outline",className:"w-full border-slate-200 dark:border-slate-700 dark:text-slate-300 hover:scale-105 transition-transform duration-200",onClick:()=>t(r?"/ledger":"/invite-household"),children:[c.jsx(AV,{className:"h-4 w-4 mr-2"}),r?"Manage Expenses":"Add Household Members"]})})]})]}),c.jsxs(Pc,{className:"w-full animate-fade-in",value:l,onValueChange:u,children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs(el,{className:"grid w-full md:w-auto grid-cols-4 md:inline-flex dark:bg-slate-800",children:[c.jsx(sr,{value:"all",children:"All Tasks"}),c.jsx(sr,{value:"today",children:"Today"}),c.jsx(sr,{value:"upcoming",children:"Upcoming"}),c.jsx(sr,{value:"calendar",children:"Calendar"})]}),c.jsxs(K,{variant:"ghost",size:"sm",className:"hidden md:flex dark:text-slate-300 hover:scale-105 transition-transform duration-200",onClick:Q,children:[c.jsx(Cf,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),c.jsx(jr,{value:"all",className:"space-y-4",children:c.jsxs(Te,{className:"border-none shadow-sm dark:bg-slate-800 hover:shadow-md transition-shadow duration-300",children:[c.jsx(Ne,{className:"p-0",children:c.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:n.length>0?n.slice(0,5).map((L,q)=>c.jsxs("div",{className:`flex items-center p-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-all duration-200 animate-slide-in ${L.completed?"bg-slate-50/50 dark:bg-slate-700/30":""}`,style:{animationDelay:`${q*50}ms`},children:[c.jsxs("div",{className:"flex items-center flex-1 min-w-0 gap-3",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:`h-5 w-5 rounded-full transition-all duration-200 hover:scale-110 ${L.completed?"bg-teal-500 flex items-center justify-center cursor-pointer text-white":"border-2 border-teal-500 flex items-center justify-center cursor-pointer hover:bg-teal-50 dark:hover:bg-teal-900/30"}`,onClick:()=>W(L.id),children:L.completed&&c.jsx(Kn,{className:"h-3 w-3"})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:`text-sm font-medium ${L.completed?"text-slate-500 dark:text-slate-400 line-through":"text-slate-800 dark:text-slate-200"} truncate`,children:L.title}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300",children:L.priority==="high"?"High":L.priority==="medium"?"Medium":"Low"}),c.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center",children:[c.jsx(Pr,{className:"h-3 w-3 mr-1"}),L.dueDate]})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[c.jsx(K,{variant:"ghost",size:"icon",className:`h-8 w-8 transition-all duration-200 hover:scale-110 ${L.priority==="high"?"text-yellow-500 hover:text-yellow-600 dark:text-yellow-400 dark:hover:text-yellow-300":"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300"}`,onClick:()=>$(L.id),children:c.jsx(Km,{className:"h-4 w-4",fill:L.priority==="high"?"currentColor":"none"})}),c.jsxs(ev,{children:[c.jsx(tv,{asChild:!0,children:c.jsx(K,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300 hover:scale-110 transition-transform duration-200",children:c.jsx(Cf,{className:"h-4 w-4"})})}),c.jsxs(oh,{align:"end",children:[c.jsx(vi,{onClick:()=>X(L.id),children:"Edit"}),c.jsx(vi,{onClick:()=>Y(L.id),children:"Reschedule"}),c.jsx(rv,{}),c.jsx(vi,{className:"text-red-600",onClick:()=>U(L.id),children:"Delete"})]})]})]})]},L.id)):c.jsxs("div",{className:"py-8 text-center animate-fade-in",children:[c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No tasks found. Create a new task to get started."}),c.jsxs(K,{className:"mt-4 bg-teal-600 hover:bg-teal-700 hover:scale-105 transition-transform duration-200",onClick:F,children:[c.jsx(Or,{className:"h-4 w-4 mr-2"}),"Create Task"]})]})})}),c.jsx(Bt,{className:"flex justify-center border-t border-slate-100 dark:border-slate-700 p-4",children:c.jsx(K,{variant:"ghost",className:"text-teal-600 hover:text-teal-700 hover:bg-teal-50 dark:text-teal-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20 hover:scale-105 transition-transform duration-200",onClick:B,children:"View All Tasks"})})]})}),c.jsx(jr,{value:"today",className:"space-y-4",children:c.jsx(Te,{className:"border-none shadow-sm dark:bg-slate-800 hover:shadow-md transition-shadow duration-300",children:c.jsx(Ne,{className:"p-6",children:T.length>0?c.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:T.map((L,q)=>c.jsxs("div",{className:`flex items-center p-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-all duration-200 animate-slide-in ${L.completed?"bg-slate-50/50 dark:bg-slate-700/30":""}`,style:{animationDelay:`${q*50}ms`},children:[c.jsxs("div",{className:"flex items-center flex-1 min-w-0 gap-3",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:`h-5 w-5 rounded-full ${L.completed?"bg-teal-500 flex items-center justify-center cursor-pointer text-white":"border-2 border-teal-500 flex items-center justify-center cursor-pointer hover:bg-teal-50 dark:hover:bg-teal-900/30"}`,onClick:()=>W(L.id),children:L.completed&&c.jsx(Kn,{className:"h-3 w-3"})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:`text-sm font-medium ${L.completed?"text-slate-500 dark:text-slate-400 line-through":"text-slate-800 dark:text-slate-200"} truncate`,children:L.title}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300",children:L.priority==="high"?"High":L.priority==="medium"?"Medium":"Low"}),c.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center",children:[c.jsx(Pr,{className:"h-3 w-3 mr-1"}),"Today"]})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[c.jsx(K,{variant:"ghost",size:"icon",className:`h-8 w-8 ${L.priority==="high"?"text-yellow-500 hover:text-yellow-600 dark:text-yellow-400 dark:hover:text-yellow-300":"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300"}`,onClick:()=>$(L.id),children:c.jsx(Km,{className:"h-4 w-4",fill:L.priority==="high"?"currentColor":"none"})}),c.jsxs(ev,{children:[c.jsx(tv,{asChild:!0,children:c.jsx(K,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300",children:c.jsx(Cf,{className:"h-4 w-4"})})}),c.jsxs(oh,{align:"end",children:[c.jsx(vi,{onClick:()=>X(L.id),children:"Edit"}),c.jsx(vi,{onClick:()=>Y(L.id),children:"Reschedule"}),c.jsx(rv,{}),c.jsx(vi,{className:"text-red-600",onClick:()=>U(L.id),children:"Delete"})]})]})]})]},L.id))}):c.jsxs("div",{className:"flex flex-col items-center justify-center py-8 animate-fade-in",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-teal-100 dark:bg-teal-900/50 flex items-center justify-center mb-4",children:c.jsx(Wu,{className:"h-8 w-8 text-teal-600 dark:text-teal-400"})}),c.jsx("h3",{className:"text-lg font-medium text-slate-800 dark:text-slate-200 mb-2",children:"No Tasks Today"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center max-w-md mb-6",children:"You don't have any tasks scheduled for today."}),c.jsxs(K,{className:"bg-teal-600 hover:bg-teal-700 hover:scale-105 transition-transform duration-200",onClick:F,children:[c.jsx(Or,{className:"h-4 w-4 mr-2"}),"Create Task"]})]})})})}),c.jsx(jr,{value:"upcoming",className:"space-y-4",children:c.jsx(Te,{className:"border-none shadow-sm dark:bg-slate-800 hover:shadow-md transition-shadow duration-300",children:c.jsx(Ne,{className:"p-6",children:c.jsxs("div",{className:"flex flex-col items-center justify-center py-8 animate-fade-in",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-100 dark:bg-purple-900/50 flex items-center justify-center mb-4",children:c.jsx(Wu,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"})}),c.jsx("h3",{className:"text-lg font-medium text-slate-800 dark:text-slate-200 mb-2",children:"Upcoming Tasks"}),c.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-center max-w-md mb-6",children:["You have ",n.filter(L=>!L.completed&&L.dueDate>new Date().toISOString().split("T")[0]).length," tasks coming up in the next 7 days. Plan ahead to stay organized!"]}),c.jsx(K,{className:"bg-purple-600 hover:bg-purple-700 hover:scale-105 transition-transform duration-200",onClick:B,children:"View Upcoming Tasks"})]})})})}),c.jsx(jr,{value:"calendar",className:"space-y-4",children:c.jsx(Te,{className:"border-none shadow-sm dark:bg-slate-800 hover:shadow-md transition-shadow duration-300",children:c.jsxs(Ne,{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h3",{className:"text-lg font-medium text-slate-800 dark:text-slate-200",children:Yt(d,"MMMM yyyy")}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(K,{variant:"outline",size:"icon",onClick:ue,className:"h-8 w-8 p-0 text-slate-600 dark:text-slate-300 hover:scale-105 transition-transform duration-200",children:c.jsx(Qb,{className:"h-4 w-4"})}),c.jsx(K,{variant:"outline",size:"icon",onClick:de,className:"h-8 w-8 p-0 text-slate-600 dark:text-slate-300 hover:scale-105 transition-transform duration-200",children:c.jsx(c0,{className:"h-4 w-4"})})]})]}),c.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2 text-center",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(L=>c.jsx("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 py-2",children:L},L))}),c.jsx("div",{className:"grid grid-cols-7 gap-1",children:M.map((L,q)=>L.map((G,ye)=>c.jsx("div",{className:`
                            relative p-1 min-h-[80px] border 
                            ${G.isToday?"border-teal-500 bg-teal-50 dark:bg-teal-900/20":G.isCurrentMonth?"border-slate-200 dark:border-slate-700":"border-slate-100 bg-slate-50 dark:border-slate-800 dark:bg-slate-800/30"}
                            ${G.isCurrentMonth?"text-slate-800 dark:text-slate-200":"text-slate-400 dark:text-slate-600"}
                            hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors
                          `,onClick:()=>he(G),children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("span",{className:`
                                text-sm font-medium p-1 rounded-full w-6 h-6 flex items-center justify-center
                                ${G.isToday?"bg-teal-500 text-white":""}
                              `,children:G.dayOfMonth}),G.tasksCount>0&&c.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300 px-1.5 py-0.5 rounded-full",children:G.tasksCount})]}),c.jsxs("div",{className:"flex-1 mt-1 overflow-hidden",children:[G.tasks.slice(0,2).map((me,ie)=>c.jsx("div",{className:`text-xs truncate p-1 mb-0.5 rounded cursor-pointer hover:opacity-80
                                    ${me.completed?"line-through text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-700/30":me.priority==="high"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":me.priority==="medium"?"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"}
                                  `,onClick:ne=>pe(ne,me),children:me.title},me.id)),G.tasksCount>2&&c.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 pl-1",children:["+",G.tasksCount-2," more"]})]})]})},`${q}-${ye}`)))})]})})})]})]}),h&&c.jsx(mk,{isOpen:h,onClose:()=>{p(!1),g(null)},onSubmit:L=>{m?a(m.id,L):s(L),p(!1),g(null)},taskToEdit:m}),y&&c.jsx(_r,{open:y,onOpenChange:w,children:c.jsxs(pr,{className:"max-w-md",children:[c.jsx(mr,{children:c.jsxs(gr,{className:"flex items-center gap-2",children:[c.jsx(rc,{className:"h-5 w-5"}),"Task Details"]})}),v&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Title"}),c.jsx("p",{className:"text-lg font-semibold",children:v.title})]}),v.description&&c.jsxs("div",{children:[c.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Description"}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:v.description})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Priority"}),c.jsx(mt,{variant:v.priority==="high"?"destructive":v.priority==="medium"?"default":"secondary",children:v.priority})]}),c.jsxs("div",{children:[c.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Status"}),c.jsx(mt,{variant:v.completed?"success":"outline",children:v.completed?"Completed":"Pending"})]})]}),c.jsxs("div",{children:[c.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Due Date"}),c.jsxs("p",{className:"text-sm flex items-center gap-2",children:[c.jsx(Hu,{className:"h-4 w-4"}),Yt(new Date(v.dueDate),"PPP")]})]}),c.jsxs("div",{className:"flex gap-2 pt-4",children:[c.jsxs(K,{variant:"outline",size:"sm",onClick:()=>{W(v.id),w(!1)},className:"flex-1",children:[c.jsx(Kn,{className:"h-4 w-4 mr-2"}),v.completed?"Mark Incomplete":"Mark Complete"]}),c.jsx(K,{variant:"outline",size:"sm",onClick:()=>{w(!1),X(v.id)},children:c.jsx(oO,{className:"h-4 w-4"})}),c.jsx(K,{variant:"outline",size:"sm",onClick:()=>{$(v.id),w(!1)},children:c.jsx(Km,{className:`h-4 w-4 ${v.priority==="high"?"fill-current text-yellow-500":""}`})})]})]})]})}),!r&&c.jsx(JX,{isOpen:C,onClose:()=>A(!1),showUpgradeOnly:S!=="free"})]})})}function f5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f5(Object(r),!0).forEach(function(n){gu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function J2(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function ss(t,e){if(t==null)return{};var r,n,i=J2(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function oi(t,e,r){return e=sw(e),owe(t,bG()?Reflect.construct(e,r||[],sw(t).constructor):e.apply(t,r))}function eQ(t){if(Array.isArray(t))return t}function oNe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function tQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function td(t,e){return eQ(t)||oNe(t,e)||bj(t,e)||tQ()}function rQ(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=rQ(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function kr(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=rQ(t))&&(n&&(n+=" "),n+=e);return n}function Nr(){return Nr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nr.apply(null,arguments)}var sNe=function(t,e,r,n,i,a,o,s){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,i,a,o,s],d=0;l=new Error(e.replace(/%s/g,function(){return u[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},lNe=sNe;const av=dt(lNe);var cNe=function(){};function uNe(t,e){var r={};return Object.keys(t).forEach(function(n){r[X1(n)]=cNe}),r}function h5(t,e){return t[e]!==void 0}function X1(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function dNe(t){return!!t&&(typeof t!="function"||t.prototype&&t.prototype.isReactComponent)}function fNe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ow(t,e)}function nQ(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function iQ(t){function e(r){var n=this.constructor.getDerivedStateFromProps(t,r);return n??null}this.setState(e.bind(this))}function aQ(t,e){try{var r=this.props,n=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}nQ.__suppressDeprecationWarning=!0;iQ.__suppressDeprecationWarning=!0;aQ.__suppressDeprecationWarning=!0;function hNe(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var r=null,n=null,i=null;if(typeof e.componentWillMount=="function"?r="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||n!==null||i!==null){var a=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+o+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=nQ,e.componentWillReceiveProps=iQ),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=aQ;var s=e.componentDidUpdate;e.componentDidUpdate=function(u,d,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;s.call(this,u,d,h)}}return t}var pNe="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function oQ(t,e,r){r===void 0&&(r=[]);var n=t.displayName||t.name||"Component",i=dNe(t),a=Object.keys(e),o=a.map(X1);i||!r.length||av(!1);var s=function(u){fNe(d,u);function d(){for(var h,p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];h=u.call.apply(u,[this].concat(m))||this,h.handlers=Object.create(null),a.forEach(function(x){var y=e[x],w=function(E){if(h.props[y]){var C;h._notifying=!0;for(var A=arguments.length,T=new Array(A>1?A-1:0),N=1;N<A;N++)T[N-1]=arguments[N];(C=h.props)[y].apply(C,[E].concat(T)),h._notifying=!1}h.unmounted||h.setState(function(I){var j,O=I.values;return{values:Nr(Object.create(null),O,(j={},j[x]=E,j))}})};h.handlers[y]=w}),r.length&&(h.attachRef=function(x){h.inner=x});var v=Object.create(null);return a.forEach(function(x){v[x]=h.props[X1(x)]}),h.state={values:v,prevProps:{}},h}var f=d.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},d.getDerivedStateFromProps=function(p,m){var g=m.values,v=m.prevProps,x={values:Nr(Object.create(null),g),prevProps:{}};return a.forEach(function(y){x.prevProps[y]=p[y],!h5(p,y)&&h5(v,y)&&(x.values[y]=p[X1(y)])}),x},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var p=this,m=this.props,g=m.innerRef,v=J2(m,["innerRef"]);o.forEach(function(y){delete v[y]});var x={};return a.forEach(function(y){var w=p.props[y];x[y]=w!==void 0?w:p.state.values[y]}),D.createElement(t,Nr({},v,x,this.handlers,{ref:g||this.attachRef}))},d}(D.Component);hNe(s),s.displayName="Uncontrolled("+n+")",s.propTypes=Nr({innerRef:function(){}},uNe(e)),r.forEach(function(u){s.prototype[u]=function(){var f;return(f=this.inner)[u].apply(f,arguments)}});var l=s;return D.forwardRef&&(l=D.forwardRef(function(u,d){return D.createElement(s,Nr({},u,{innerRef:d,__source:{fileName:pNe,lineNumber:128},__self:this}))}),l.propTypes=s.propTypes),l.ControlledComponent=t,l.deferControlTo=function(u,d,f){return d===void 0&&(d={}),oQ(u,Nr({},e,d),f)},l}var sQ={exports:{}},mNe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gNe=mNe,vNe=gNe;function lQ(){}function cQ(){}cQ.resetWarningCache=lQ;var yNe=function(){function t(n,i,a,o,s,l){if(l!==vNe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:cQ,resetWarningCache:lQ};return r.PropTypes=r,r};sQ.exports=yNe();var xNe=sQ.exports;const fe=dt(xNe);var bw="milliseconds",ov="seconds",sv="minutes",lv="hours",rd="day",ch="week",cv="month",nd="year",id="decade",ad="century",uQ={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},wNe={month:1,year:12,decade:10*12,century:100*12};function bNe(t){return[31,_Ne(t),31,30,31,30,31,31,30,31,30,31]}function _Ne(t){return t%4===0&&t%100!==0||t%400===0?29:28}function Co(t,e,r){switch(t=new Date(t),r){case bw:case ov:case sv:case lv:case rd:case ch:return SNe(t,e*uQ[r]);case cv:case nd:case id:case ad:return ENe(t,e*wNe[r])}throw new TypeError('Invalid units: "'+r+'"')}function SNe(t,e){var r=new Date(+t+e);return ANe(t,r)}function ENe(t,e){var r=t.getFullYear(),n=t.getMonth(),i=t.getDate(),a=r*12+n+e,o=Math.trunc(a/12),s=a%12,l=Math.min(i,bNe(o)[s]),u=new Date(t);return u.setFullYear(o),u.setDate(1),u.setMonth(s),u.setDate(l),u}function ANe(t,e){var r=t.getTimezoneOffset(),n=e.getTimezoneOffset(),i=n-r;return new Date(+e+i*uQ.minutes)}function uv(t,e,r){return Co(t,-e,r)}function Ln(t,e,r){switch(t=new Date(t),e){case ad:case id:case nd:t=Sw(t,0);case cv:t=mQ(t,1);case ch:case rd:t=hv(t,0);case lv:t=uh(t,0);case sv:t=fv(t,0);case ov:t=dv(t,0)}return e===id&&(t=uv(t,od(t)%10,"year")),e===ad&&(t=uv(t,od(t)%100,"year")),e===ch&&(t=gQ(t,0,r)),t}function _w(t,e,r){switch(t=new Date(t),t=Ln(t,e,r),e){case ad:case id:case nd:case cv:case ch:t=Co(t,1,e),t=uv(t,1,rd),t.setHours(23,59,59,999);break;case rd:t.setHours(23,59,59,999);break;case lv:case sv:case ov:t=Co(t,1,e),t=uv(t,1,bw)}return t}var np=ap(function(t,e){return t===e}),gk=ap(function(t,e){return t!==e}),e_=ap(function(t,e){return t>e}),R0=ap(function(t,e){return t>=e}),vk=ap(function(t,e){return t<e}),ip=ap(function(t,e){return t<=e});function dQ(){return new Date(Math.min.apply(Math,arguments))}function fQ(){return new Date(Math.max.apply(Math,arguments))}function hQ(t,e,r,n){return n=n||"day",(!e||R0(t,e,n))&&(!r||ip(t,r,n))}var dv=Hc("Milliseconds"),fv=Hc("Seconds"),uh=Hc("Minutes"),hv=Hc("Hours"),pQ=Hc("Day"),mQ=Hc("Date"),Sw=Hc("Month"),od=Hc("FullYear");function CNe(t,e){return e===void 0?od(Ln(t,id)):Co(t,e+10,nd)}function TNe(t,e){return e===void 0?od(Ln(t,ad)):Co(t,e+100,nd)}function gQ(t,e,r){var n=(pQ(t)+7-(r||0))%7;return e===void 0?n:Co(t,e-n,rd)}function NNe(t,e,r,n){var i,a,o;switch(r){case bw:case ov:case sv:case lv:case rd:case ch:i=e.getTime()-t.getTime();break;case cv:case nd:case id:case ad:i=(od(e)-od(t))*12+Sw(e)-Sw(t);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case bw:a=1;break;case ov:a=1e3;break;case sv:a=1e3*60;break;case lv:a=1e3*60*60;break;case rd:a=1e3*60*60*24;break;case ch:a=1e3*60*60*24*7;break;case cv:a=1;break;case nd:a=12;break;case id:a=120;break;case ad:a=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return o=i/a,n?o:Math.round(o)}function Hc(t){var e=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(t);return function(r,n){if(n===void 0)return r["get"+t]();var i=new Date(r);return i["set"+t](n),e&&i["get"+t]()!=n&&(t==="Hours"||n>=e&&i.getHours()-r.getHours()<Math.floor(n/e))&&i["set"+t](n+e),i}}function ap(t){return function(e,r,n){return t(+Ln(e,n),+Ln(r,n))}}const p5=Object.freeze(Object.defineProperty({__proto__:null,add:Co,century:TNe,date:mQ,day:pQ,decade:CNe,diff:NNe,endOf:_w,eq:np,gt:e_,gte:R0,hours:hv,inRange:hQ,lt:vk,lte:ip,max:fQ,milliseconds:dv,min:dQ,minutes:uh,month:Sw,neq:gk,seconds:fv,startOf:Ln,subtract:uv,weekday:gQ,year:od},Symbol.toStringTag,{value:"Module"}));function INe(t){if(Array.isArray(t))return jT(t)}function vQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q1(t){return INe(t)||vQ(t)||bj(t)||PNe()}function ONe(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var yk=ONe;function jNe(t,e){return t===e||t!==t&&e!==e}var D0=jNe,kNe=typeof aa=="object"&&aa&&aa.Object===Object&&aa,yQ=kNe,RNe=yQ,DNe=typeof self=="object"&&self&&self.Object===Object&&self,MNe=RNe||DNe||Function("return this")(),No=MNe,LNe=No,$Ne=LNe.Symbol,op=$Ne,m5=op,xQ=Object.prototype,FNe=xQ.hasOwnProperty,BNe=xQ.toString,nm=m5?m5.toStringTag:void 0;function UNe(t){var e=FNe.call(t,nm),r=t[nm];try{t[nm]=void 0;var n=!0}catch{}var i=BNe.call(t);return n&&(e?t[nm]=r:delete t[nm]),i}var VNe=UNe,zNe=Object.prototype,WNe=zNe.toString;function HNe(t){return WNe.call(t)}var GNe=HNe,g5=op,qNe=VNe,KNe=GNe,YNe="[object Null]",XNe="[object Undefined]",v5=g5?g5.toStringTag:void 0;function QNe(t){return t==null?t===void 0?XNe:YNe:v5&&v5 in Object(t)?qNe(t):KNe(t)}var ul=QNe;function ZNe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ha=ZNe;const sp=dt(Ha);var JNe=ul,eIe=Ha,tIe="[object AsyncFunction]",rIe="[object Function]",nIe="[object GeneratorFunction]",iIe="[object Proxy]";function aIe(t){if(!eIe(t))return!1;var e=JNe(t);return e==rIe||e==nIe||e==tIe||e==iIe}var t_=aIe;const Je=dt(t_);var oIe=9007199254740991;function sIe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=oIe}var xk=sIe,lIe=t_,cIe=xk;function uIe(t){return t!=null&&cIe(t.length)&&!lIe(t)}var lp=uIe,dIe=9007199254740991,fIe=/^(?:0|[1-9]\d*)$/;function hIe(t,e){var r=typeof t;return e=e??dIe,!!e&&(r=="number"||r!="symbol"&&fIe.test(t))&&t>-1&&t%1==0&&t<e}var wk=hIe,pIe=D0,mIe=lp,gIe=wk,vIe=Ha;function yIe(t,e,r){if(!vIe(r))return!1;var n=typeof e;return(n=="number"?mIe(r)&&gIe(e,r.length):n=="string"&&e in r)?pIe(r[e],t):!1}var cp=yIe,xIe=/\s/;function wIe(t){for(var e=t.length;e--&&xIe.test(t.charAt(e)););return e}var bIe=wIe,_Ie=bIe,SIe=/^\s+/;function EIe(t){return t&&t.slice(0,_Ie(t)+1).replace(SIe,"")}var AIe=EIe;function CIe(t){return t!=null&&typeof t=="object"}var Io=CIe,TIe=ul,NIe=Io,IIe="[object Symbol]";function PIe(t){return typeof t=="symbol"||NIe(t)&&TIe(t)==IIe}var up=PIe,OIe=AIe,y5=Ha,jIe=up,x5=NaN,kIe=/^[-+]0x[0-9a-f]+$/i,RIe=/^0b[01]+$/i,DIe=/^0o[0-7]+$/i,MIe=parseInt;function LIe(t){if(typeof t=="number")return t;if(jIe(t))return x5;if(y5(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=y5(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=OIe(t);var r=RIe.test(t);return r||DIe.test(t)?MIe(t.slice(2),r?2:8):kIe.test(t)?x5:+t}var wQ=LIe,$Ie=wQ,FIe=1/0,BIe=17976931348623157e292;function UIe(t){if(!t)return t===0?t:0;if(t=$Ie(t),t===FIe||t===-1/0){var e=t<0?-1:1;return e*BIe}return t===t?t:0}var bQ=UIe,VIe=bQ;function zIe(t){var e=VIe(t),r=e%1;return e===e?r?e-r:e:0}var _Q=zIe,WIe=yk,HIe=cp,GIe=_Q,qIe=Math.ceil,KIe=Math.max;function YIe(t,e,r){(r?HIe(t,e,r):e===void 0)?e=1:e=KIe(GIe(e),0);var n=t==null?0:t.length;if(!n||e<1)return[];for(var i=0,a=0,o=Array(qIe(n/e));i<n;)o[a++]=WIe(t,i,i+=e);return o}var XIe=YIe;const QIe=dt(XIe);function M0(t){return t&&t.ownerDocument||document}function ZIe(t){var e=M0(t);return e&&e.defaultView||window}function JIe(t,e){return ZIe(t).getComputedStyle(t,e)}var ePe=/([A-Z])/g;function tPe(t){return t.replace(ePe,"-$1").toLowerCase()}var rPe=/^ms-/;function Yy(t){return tPe(t).replace(rPe,"-ms-")}var nPe=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function iPe(t){return!!(t&&nPe.test(t))}function qd(t,e){var r="",n="";if(typeof e=="string")return t.style.getPropertyValue(Yy(e))||JIe(t).getPropertyValue(Yy(e));Object.keys(e).forEach(function(i){var a=e[i];!a&&a!==0?t.style.removeProperty(Yy(i)):iPe(i)?n+=i+"("+a+") ":r+=Yy(i)+": "+a+";"}),n&&(r+="transform: "+n+";"),t.style.cssText+=";"+r}function pv(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function aPe(t){return"nodeType"in t&&t.nodeType===document.DOCUMENT_NODE}function bk(t){return"window"in t&&t.window===t?t:aPe(t)&&t.defaultView||!1}function SQ(t){var e=t==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,i){var a=bk(n);if(i===void 0)return a?a[t]:n[e];a?a.scrollTo(a[t],i):n[e]=i}return r}const EQ=SQ("pageXOffset"),AQ=SQ("pageYOffset");function Ru(t){var e=M0(t),r={top:0,left:0,height:0,width:0},n=e&&e.documentElement;return!n||!pv(n,t)||(t.getBoundingClientRect!==void 0&&(r=t.getBoundingClientRect()),r={top:r.top+AQ(n)-(n.clientTop||0),left:r.left+EQ(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var oPe=function(e){return!!e&&"offsetParent"in e};function sPe(t){for(var e=M0(t),r=t&&t.offsetParent;oPe(r)&&r.nodeName!=="HTML"&&qd(r,"position")==="static";)r=r.offsetParent;return r||e.documentElement}var lPe=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function CQ(t,e){var r={top:0,left:0},n;if(qd(t,"position")==="fixed")n=t.getBoundingClientRect();else{var i=e||sPe(t);n=Ru(t),lPe(i)!=="html"&&(r=Ru(i));var a=String(qd(i,"borderTopWidth")||0);r.top+=parseInt(a,10)-AQ(i)||0;var o=String(qd(i,"borderLeftWidth")||0);r.left+=parseInt(o,10)-EQ(i)||0}var s=String(qd(t,"marginTop")||0),l=String(qd(t,"marginLeft")||0);return Nr({},n,{top:n.top-r.top-(parseInt(s,10)||0),left:n.left-r.left-(parseInt(l,10)||0)})}const _k=!!(typeof window<"u"&&window.document&&window.document.createElement);var w5=new Date().getTime();function cPe(t){var e=new Date().getTime(),r=Math.max(0,16-(e-w5)),n=setTimeout(t,r);return w5=e,n}var uPe=["","webkit","moz","o","ms"],oN="clearTimeout",sN=cPe,b5=function(e,r){return e+(e?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};_k&&uPe.some(function(t){var e=b5(t,"request");return e in window&&(oN=b5(t,"cancel"),sN=function(n){return window[e](n)}),!!sN});var _5=function(e){typeof window[oN]=="function"&&window[oN](e)},TQ=sN,GE;function dPe(t,e){if(!GE){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;GE=function(a,o){return n.call(a,o)}}return GE(t,e)}var fPe=Function.prototype.bind.call(Function.prototype.call,[].slice);function hPe(t,e){return fPe(t.querySelectorAll(e))}var lN=!1,cN=!1;try{var qE={get passive(){return lN=!0},get once(){return cN=lN=!0}};_k&&(window.addEventListener("test",qE,qE),window.removeEventListener("test",qE,!0))}catch{}function pPe(t,e,r,n){if(n&&typeof n!="boolean"&&!cN){var i=n.once,a=n.capture,o=r;!cN&&i&&(o=r.__once||function s(l){this.removeEventListener(e,s,a),r.call(this,l)},r.__once=o),t.addEventListener(e,o,lN?n:a)}t.addEventListener(e,r,n)}function mPe(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t},[t]),e}function S5(t){const e=mPe(t);return b.useCallback(function(...r){return e.current&&e.current(...r)},[e])}function E5(){return b.useState(null)}function gPe(){const t=b.useRef(!0),e=b.useRef(()=>t.current);return b.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function vPe(t){const e=gPe();return[t[0],b.useCallback(r=>{if(e())return t[1](r)},[e,t[1]])]}var Wi="top",Ba="bottom",Ua="right",Hi="left",Sk="auto",L0=[Wi,Ba,Ua,Hi],dh="start",mv="end",yPe="clippingParents",NQ="viewport",im="popper",xPe="reference",A5=L0.reduce(function(t,e){return t.concat([e+"-"+dh,e+"-"+mv])},[]),Ek=[].concat(L0,[Sk]).reduce(function(t,e){return t.concat([e,e+"-"+dh,e+"-"+mv])},[]),wPe="beforeRead",bPe="read",_Pe="afterRead",SPe="beforeMain",EPe="main",APe="afterMain",CPe="beforeWrite",TPe="write",NPe="afterWrite",IPe=[wPe,bPe,_Pe,SPe,EPe,APe,CPe,TPe,NPe];function Qo(t){return t.split("-")[0]}function ma(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function sd(t){var e=ma(t).Element;return t instanceof e||t instanceof Element}function Zo(t){var e=ma(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Ak(t){if(typeof ShadowRoot>"u")return!1;var e=ma(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Du=Math.max,Ew=Math.min,fh=Math.round;function uN(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function IQ(){return!/^((?!chrome|android).)*safari/i.test(uN())}function hh(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,a=1;e&&Zo(t)&&(i=t.offsetWidth>0&&fh(n.width)/t.offsetWidth||1,a=t.offsetHeight>0&&fh(n.height)/t.offsetHeight||1);var o=sd(t)?ma(t):window,s=o.visualViewport,l=!IQ()&&r,u=(n.left+(l&&s?s.offsetLeft:0))/i,d=(n.top+(l&&s?s.offsetTop:0))/a,f=n.width/i,h=n.height/a;return{width:f,height:h,top:d,right:u+f,bottom:d+h,left:u,x:u,y:d}}function Ck(t){var e=hh(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function PQ(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&Ak(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Oc(t){return t?(t.nodeName||"").toLowerCase():null}function tl(t){return ma(t).getComputedStyle(t)}function PPe(t){return["table","td","th"].indexOf(Oc(t))>=0}function Gc(t){return((sd(t)?t.ownerDocument:t.document)||window.document).documentElement}function r_(t){return Oc(t)==="html"?t:t.assignedSlot||t.parentNode||(Ak(t)?t.host:null)||Gc(t)}function C5(t){return!Zo(t)||tl(t).position==="fixed"?null:t.offsetParent}function OPe(t){var e=/firefox/i.test(uN()),r=/Trident/i.test(uN());if(r&&Zo(t)){var n=tl(t);if(n.position==="fixed")return null}var i=r_(t);for(Ak(i)&&(i=i.host);Zo(i)&&["html","body"].indexOf(Oc(i))<0;){var a=tl(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function $0(t){for(var e=ma(t),r=C5(t);r&&PPe(r)&&tl(r).position==="static";)r=C5(r);return r&&(Oc(r)==="html"||Oc(r)==="body"&&tl(r).position==="static")?e:r||OPe(t)||e}function Tk(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function lg(t,e,r){return Du(t,Ew(e,r))}function jPe(t,e,r){var n=lg(t,e,r);return n>r?r:n}function OQ(){return{top:0,right:0,bottom:0,left:0}}function jQ(t){return Object.assign({},OQ(),t)}function kQ(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var kPe=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,jQ(typeof e!="number"?e:kQ(e,L0))};function RPe(t){var e,r=t.state,n=t.name,i=t.options,a=r.elements.arrow,o=r.modifiersData.popperOffsets,s=Qo(r.placement),l=Tk(s),u=[Hi,Ua].indexOf(s)>=0,d=u?"height":"width";if(!(!a||!o)){var f=kPe(i.padding,r),h=Ck(a),p=l==="y"?Wi:Hi,m=l==="y"?Ba:Ua,g=r.rects.reference[d]+r.rects.reference[l]-o[l]-r.rects.popper[d],v=o[l]-r.rects.reference[l],x=$0(a),y=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,w=g/2-v/2,S=f[p],E=y-h[d]-f[m],C=y/2-h[d]/2+w,A=lg(S,C,E),T=l;r.modifiersData[n]=(e={},e[T]=A,e.centerOffset=A-C,e)}}function DPe(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||PQ(e.elements.popper,i)&&(e.elements.arrow=i))}const MPe={name:"arrow",enabled:!0,phase:"main",fn:RPe,effect:DPe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ph(t){return t.split("-")[1]}var LPe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $Pe(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:fh(r*i)/i||0,y:fh(n*i)/i||0}}function T5(t){var e,r=t.popper,n=t.popperRect,i=t.placement,a=t.variation,o=t.offsets,s=t.position,l=t.gpuAcceleration,u=t.adaptive,d=t.roundOffsets,f=t.isFixed,h=o.x,p=h===void 0?0:h,m=o.y,g=m===void 0?0:m,v=typeof d=="function"?d({x:p,y:g}):{x:p,y:g};p=v.x,g=v.y;var x=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),w=Hi,S=Wi,E=window;if(u){var C=$0(r),A="clientHeight",T="clientWidth";if(C===ma(r)&&(C=Gc(r),tl(C).position!=="static"&&s==="absolute"&&(A="scrollHeight",T="scrollWidth")),C=C,i===Wi||(i===Hi||i===Ua)&&a===mv){S=Ba;var N=f&&C===E&&E.visualViewport?E.visualViewport.height:C[A];g-=N-n.height,g*=l?1:-1}if(i===Hi||(i===Wi||i===Ba)&&a===mv){w=Ua;var I=f&&C===E&&E.visualViewport?E.visualViewport.width:C[T];p-=I-n.width,p*=l?1:-1}}var j=Object.assign({position:s},u&&LPe),O=d===!0?$Pe({x:p,y:g},ma(r)):{x:p,y:g};if(p=O.x,g=O.y,l){var P;return Object.assign({},j,(P={},P[S]=y?"0":"",P[w]=x?"0":"",P.transform=(E.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",P))}return Object.assign({},j,(e={},e[S]=y?g+"px":"",e[w]=x?p+"px":"",e.transform="",e))}function FPe(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,a=r.adaptive,o=a===void 0?!0:a,s=r.roundOffsets,l=s===void 0?!0:s,u={placement:Qo(e.placement),variation:ph(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,T5(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,T5(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const BPe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:FPe,data:{}};var Xy={passive:!0};function UPe(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,a=i===void 0?!0:i,o=n.resize,s=o===void 0?!0:o,l=ma(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&u.forEach(function(d){d.addEventListener("scroll",r.update,Xy)}),s&&l.addEventListener("resize",r.update,Xy),function(){a&&u.forEach(function(d){d.removeEventListener("scroll",r.update,Xy)}),s&&l.removeEventListener("resize",r.update,Xy)}}const VPe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:UPe,data:{}};var zPe={left:"right",right:"left",bottom:"top",top:"bottom"};function Z1(t){return t.replace(/left|right|bottom|top/g,function(e){return zPe[e]})}var WPe={start:"end",end:"start"};function N5(t){return t.replace(/start|end/g,function(e){return WPe[e]})}function Nk(t){var e=ma(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Ik(t){return hh(Gc(t)).left+Nk(t).scrollLeft}function HPe(t,e){var r=ma(t),n=Gc(t),i=r.visualViewport,a=n.clientWidth,o=n.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;var u=IQ();(u||!u&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s+Ik(t),y:l}}function GPe(t){var e,r=Gc(t),n=Nk(t),i=(e=t.ownerDocument)==null?void 0:e.body,a=Du(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Du(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+Ik(t),l=-n.scrollTop;return tl(i||r).direction==="rtl"&&(s+=Du(r.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:l}}function Pk(t){var e=tl(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function RQ(t){return["html","body","#document"].indexOf(Oc(t))>=0?t.ownerDocument.body:Zo(t)&&Pk(t)?t:RQ(r_(t))}function cg(t,e){var r;e===void 0&&(e=[]);var n=RQ(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),a=ma(n),o=i?[a].concat(a.visualViewport||[],Pk(n)?n:[]):n,s=e.concat(o);return i?s:s.concat(cg(r_(o)))}function dN(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function qPe(t,e){var r=hh(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function I5(t,e,r){return e===NQ?dN(HPe(t,r)):sd(e)?qPe(e,r):dN(GPe(Gc(t)))}function KPe(t){var e=cg(r_(t)),r=["absolute","fixed"].indexOf(tl(t).position)>=0,n=r&&Zo(t)?$0(t):t;return sd(n)?e.filter(function(i){return sd(i)&&PQ(i,n)&&Oc(i)!=="body"}):[]}function YPe(t,e,r,n){var i=e==="clippingParents"?KPe(t):[].concat(e),a=[].concat(i,[r]),o=a[0],s=a.reduce(function(l,u){var d=I5(t,u,n);return l.top=Du(d.top,l.top),l.right=Ew(d.right,l.right),l.bottom=Ew(d.bottom,l.bottom),l.left=Du(d.left,l.left),l},I5(t,o,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function DQ(t){var e=t.reference,r=t.element,n=t.placement,i=n?Qo(n):null,a=n?ph(n):null,o=e.x+e.width/2-r.width/2,s=e.y+e.height/2-r.height/2,l;switch(i){case Wi:l={x:o,y:e.y-r.height};break;case Ba:l={x:o,y:e.y+e.height};break;case Ua:l={x:e.x+e.width,y:s};break;case Hi:l={x:e.x-r.width,y:s};break;default:l={x:e.x,y:e.y}}var u=i?Tk(i):null;if(u!=null){var d=u==="y"?"height":"width";switch(a){case dh:l[u]=l[u]-(e[d]/2-r[d]/2);break;case mv:l[u]=l[u]+(e[d]/2-r[d]/2);break}}return l}function gv(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,a=r.strategy,o=a===void 0?t.strategy:a,s=r.boundary,l=s===void 0?yPe:s,u=r.rootBoundary,d=u===void 0?NQ:u,f=r.elementContext,h=f===void 0?im:f,p=r.altBoundary,m=p===void 0?!1:p,g=r.padding,v=g===void 0?0:g,x=jQ(typeof v!="number"?v:kQ(v,L0)),y=h===im?xPe:im,w=t.rects.popper,S=t.elements[m?y:h],E=YPe(sd(S)?S:S.contextElement||Gc(t.elements.popper),l,d,o),C=hh(t.elements.reference),A=DQ({reference:C,element:w,placement:i}),T=dN(Object.assign({},w,A)),N=h===im?T:C,I={top:E.top-N.top+x.top,bottom:N.bottom-E.bottom+x.bottom,left:E.left-N.left+x.left,right:N.right-E.right+x.right},j=t.modifiersData.offset;if(h===im&&j){var O=j[i];Object.keys(I).forEach(function(P){var M=[Ua,Ba].indexOf(P)>=0?1:-1,F=[Wi,Ba].indexOf(P)>=0?"y":"x";I[P]+=O[F]*M})}return I}function XPe(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,a=r.rootBoundary,o=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?Ek:l,d=ph(n),f=d?s?A5:A5.filter(function(m){return ph(m)===d}):L0,h=f.filter(function(m){return u.indexOf(m)>=0});h.length===0&&(h=f);var p=h.reduce(function(m,g){return m[g]=gv(t,{placement:g,boundary:i,rootBoundary:a,padding:o})[Qo(g)],m},{});return Object.keys(p).sort(function(m,g){return p[m]-p[g]})}function QPe(t){if(Qo(t)===Sk)return[];var e=Z1(t);return[N5(t),e,N5(e)]}function ZPe(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,a=i===void 0?!0:i,o=r.altAxis,s=o===void 0?!0:o,l=r.fallbackPlacements,u=r.padding,d=r.boundary,f=r.rootBoundary,h=r.altBoundary,p=r.flipVariations,m=p===void 0?!0:p,g=r.allowedAutoPlacements,v=e.options.placement,x=Qo(v),y=x===v,w=l||(y||!m?[Z1(v)]:QPe(v)),S=[v].concat(w).reduce(function(ue,de){return ue.concat(Qo(de)===Sk?XPe(e,{placement:de,boundary:d,rootBoundary:f,padding:u,flipVariations:m,allowedAutoPlacements:g}):de)},[]),E=e.rects.reference,C=e.rects.popper,A=new Map,T=!0,N=S[0],I=0;I<S.length;I++){var j=S[I],O=Qo(j),P=ph(j)===dh,M=[Wi,Ba].indexOf(O)>=0,F=M?"width":"height",B=gv(e,{placement:j,boundary:d,rootBoundary:f,altBoundary:h,padding:u}),W=M?P?Ua:Hi:P?Ba:Wi;E[F]>C[F]&&(W=Z1(W));var $=Z1(W),U=[];if(a&&U.push(B[O]<=0),s&&U.push(B[W]<=0,B[$]<=0),U.every(function(ue){return ue})){N=j,T=!1;break}A.set(j,U)}if(T)for(var X=m?3:1,H=function(de){var he=S.find(function(pe){var J=A.get(pe);if(J)return J.slice(0,de).every(function(re){return re})});if(he)return N=he,"break"},Y=X;Y>0;Y--){var Q=H(Y);if(Q==="break")break}e.placement!==N&&(e.modifiersData[n]._skip=!0,e.placement=N,e.reset=!0)}}const JPe={name:"flip",enabled:!0,phase:"main",fn:ZPe,requiresIfExists:["offset"],data:{_skip:!1}};function P5(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function O5(t){return[Wi,Ua,Ba,Hi].some(function(e){return t[e]>=0})}function eOe(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,o=gv(e,{elementContext:"reference"}),s=gv(e,{altBoundary:!0}),l=P5(o,n),u=P5(s,i,a),d=O5(l),f=O5(u);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const tOe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:eOe};function rOe(t,e,r){var n=Qo(t),i=[Hi,Wi].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[Hi,Ua].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}function nOe(t){var e=t.state,r=t.options,n=t.name,i=r.offset,a=i===void 0?[0,0]:i,o=Ek.reduce(function(d,f){return d[f]=rOe(f,e.rects,a),d},{}),s=o[e.placement],l=s.x,u=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[n]=o}const iOe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:nOe};function aOe(t){var e=t.state,r=t.name;e.modifiersData[r]=DQ({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const oOe={name:"popperOffsets",enabled:!0,phase:"read",fn:aOe,data:{}};function sOe(t){return t==="x"?"y":"x"}function lOe(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,a=i===void 0?!0:i,o=r.altAxis,s=o===void 0?!1:o,l=r.boundary,u=r.rootBoundary,d=r.altBoundary,f=r.padding,h=r.tether,p=h===void 0?!0:h,m=r.tetherOffset,g=m===void 0?0:m,v=gv(e,{boundary:l,rootBoundary:u,padding:f,altBoundary:d}),x=Qo(e.placement),y=ph(e.placement),w=!y,S=Tk(x),E=sOe(S),C=e.modifiersData.popperOffsets,A=e.rects.reference,T=e.rects.popper,N=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,I=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),j=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,O={x:0,y:0};if(C){if(a){var P,M=S==="y"?Wi:Hi,F=S==="y"?Ba:Ua,B=S==="y"?"height":"width",W=C[S],$=W+v[M],U=W-v[F],X=p?-T[B]/2:0,H=y===dh?A[B]:T[B],Y=y===dh?-T[B]:-A[B],Q=e.elements.arrow,ue=p&&Q?Ck(Q):{width:0,height:0},de=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:OQ(),he=de[M],pe=de[F],J=lg(0,A[B],ue[B]),re=w?A[B]/2-X-J-he-I.mainAxis:H-J-he-I.mainAxis,L=w?-A[B]/2+X+J+pe+I.mainAxis:Y+J+pe+I.mainAxis,q=e.elements.arrow&&$0(e.elements.arrow),G=q?S==="y"?q.clientTop||0:q.clientLeft||0:0,ye=(P=j==null?void 0:j[S])!=null?P:0,me=W+re-ye-G,ie=W+L-ye,ne=lg(p?Ew($,me):$,W,p?Du(U,ie):U);C[S]=ne,O[S]=ne-W}if(s){var Oe,Z=S==="x"?Wi:Hi,le=S==="x"?Ba:Ua,xe=C[E],it=E==="y"?"height":"width",yr=xe+v[Z],Wt=xe-v[le],Ht=[Wi,Hi].indexOf(x)!==-1,En=(Oe=j==null?void 0:j[E])!=null?Oe:0,Zt=Ht?yr:xe-A[it]-T[it]-En+I.altAxis,Dt=Ht?xe+A[it]+T[it]-En-I.altAxis:Wt,Qi=p&&Ht?jPe(Zt,xe,Dt):lg(p?Zt:yr,xe,p?Dt:Wt);C[E]=Qi,O[E]=Qi-xe}e.modifiersData[n]=O}}const cOe={name:"preventOverflow",enabled:!0,phase:"main",fn:lOe,requiresIfExists:["offset"]};function uOe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function dOe(t){return t===ma(t)||!Zo(t)?Nk(t):uOe(t)}function fOe(t){var e=t.getBoundingClientRect(),r=fh(e.width)/t.offsetWidth||1,n=fh(e.height)/t.offsetHeight||1;return r!==1||n!==1}function hOe(t,e,r){r===void 0&&(r=!1);var n=Zo(e),i=Zo(e)&&fOe(e),a=Gc(e),o=hh(t,i,r),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((Oc(e)!=="body"||Pk(a))&&(s=dOe(e)),Zo(e)?(l=hh(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):a&&(l.x=Ik(a))),{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function pOe(t){var e=new Map,r=new Set,n=[];t.forEach(function(a){e.set(a.name,a)});function i(a){r.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(s){if(!r.has(s)){var l=e.get(s);l&&i(l)}}),n.push(a)}return t.forEach(function(a){r.has(a.name)||i(a)}),n}function mOe(t){var e=pOe(t);return IPe.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function gOe(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function vOe(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var j5={placement:"bottom",modifiers:[],strategy:"absolute"};function k5(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function yOe(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,a=i===void 0?j5:i;return function(s,l,u){u===void 0&&(u=a);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},j5,a),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},f=[],h=!1,p={state:d,setOptions:function(x){var y=typeof x=="function"?x(d.options):x;g(),d.options=Object.assign({},a,d.options,y),d.scrollParents={reference:sd(s)?cg(s):s.contextElement?cg(s.contextElement):[],popper:cg(l)};var w=mOe(vOe([].concat(n,d.options.modifiers)));return d.orderedModifiers=w.filter(function(S){return S.enabled}),m(),p.update()},forceUpdate:function(){if(!h){var x=d.elements,y=x.reference,w=x.popper;if(k5(y,w)){d.rects={reference:hOe(y,$0(w),d.options.strategy==="fixed"),popper:Ck(w)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(I){return d.modifiersData[I.name]=Object.assign({},I.data)});for(var S=0;S<d.orderedModifiers.length;S++){if(d.reset===!0){d.reset=!1,S=-1;continue}var E=d.orderedModifiers[S],C=E.fn,A=E.options,T=A===void 0?{}:A,N=E.name;typeof C=="function"&&(d=C({state:d,options:T,name:N,instance:p})||d)}}}},update:gOe(function(){return new Promise(function(v){p.forceUpdate(),v(d)})}),destroy:function(){g(),h=!0}};if(!k5(s,l))return p;p.setOptions(u).then(function(v){!h&&u.onFirstUpdate&&u.onFirstUpdate(v)});function m(){d.orderedModifiers.forEach(function(v){var x=v.name,y=v.options,w=y===void 0?{}:y,S=v.effect;if(typeof S=="function"){var E=S({state:d,name:x,instance:p,options:w}),C=function(){};f.push(E||C)}})}function g(){f.forEach(function(v){return v()}),f=[]}return p}}var xOe=yOe({defaultModifiers:[tOe,oOe,BPe,VPe,iOe,JPe,cOe,MPe]}),R5=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},wOe={name:"applyStyles",enabled:!1},bOe={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var r=e.state;return function(){var n=r.elements,i=n.reference,a=n.popper;if("removeAttribute"in i){var o=(i.getAttribute("aria-describedby")||"").split(",").filter(function(s){return s.trim()!==a.id});o.length?i.setAttribute("aria-describedby",o.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(e){var r,n=e.state,i=n.elements,a=i.popper,o=i.reference,s=(r=a.getAttribute("role"))==null?void 0:r.toLowerCase();if(a.id&&s==="tooltip"&&"setAttribute"in o){var l=o.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(a.id)!==-1)return;o.setAttribute("aria-describedby",l?l+","+a.id:a.id)}}},_Oe=[];function SOe(t,e,r){var n=r===void 0?{}:r,i=n.enabled,a=i===void 0?!0:i,o=n.placement,s=o===void 0?"bottom":o,l=n.strategy,u=l===void 0?"absolute":l,d=n.modifiers,f=d===void 0?_Oe:d,h=J2(n,["enabled","placement","strategy","modifiers"]),p=b.useRef(),m=b.useCallback(function(){var S;(S=p.current)==null||S.update()},[]),g=b.useCallback(function(){var S;(S=p.current)==null||S.forceUpdate()},[]),v=vPe(b.useState({placement:s,update:m,forceUpdate:g,attributes:{},styles:{popper:R5(u),arrow:{}}})),x=v[0],y=v[1],w=b.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(E){var C=E.state,A={},T={};Object.keys(C.elements).forEach(function(N){A[N]=C.styles[N],T[N]=C.attributes[N]}),y({state:C,styles:A,attributes:T,update:m,forceUpdate:g,placement:C.placement})}}},[m,g,y]);return b.useEffect(function(){!p.current||!a||p.current.setOptions({placement:s,strategy:u,modifiers:[].concat(f,[w,wOe])})},[u,s,w,a]),b.useEffect(function(){if(!(!a||t==null||e==null))return p.current=xOe(t,e,Nr({},h,{placement:s,strategy:u,modifiers:[].concat(f,[bOe,w])})),function(){p.current!=null&&(p.current.destroy(),p.current=void 0,y(function(S){return Nr({},S,{attributes:{},styles:{popper:R5(u)}})}))}},[a,t,e]),x}function EOe(t,e,r,n){var i=n&&typeof n!="boolean"?n.capture:n;t.removeEventListener(e,r,i),r.__once&&t.removeEventListener(e,r.__once,i)}function Om(t,e,r,n){return pPe(t,e,r,n),function(){EOe(t,e,r,n)}}var AOe=function(){},COe=AOe;const TOe=dt(COe);function NOe(t){return t&&"setState"in t?Gb.findDOMNode(t):t??null}const IOe=function(t){return M0(NOe(t))};var POe=27,D5=function(){};function OOe(t){return t.button===0}function jOe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var M5=function(e){return e&&("current"in e?e.current:e)};function kOe(t,e,r){var n=r===void 0?{}:r,i=n.disabled,a=n.clickTrigger,o=a===void 0?"click":a,s=b.useRef(!1),l=e||D5,u=b.useCallback(function(h){var p,m=M5(t);TOe(!!m,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),s.current=!m||jOe(h)||!OOe(h)||!!pv(m,(p=h.composedPath==null?void 0:h.composedPath()[0])!=null?p:h.target)},[t]),d=S5(function(h){s.current||l(h)}),f=S5(function(h){h.keyCode===POe&&l(h)});b.useEffect(function(){if(!(i||t==null)){var h=window.event,p=IOe(M5(t)),m=Om(p,o,u,!0),g=Om(p,o,function(y){if(y===h){h=void 0;return}d(y)}),v=Om(p,"keyup",function(y){if(y===h){h=void 0;return}f(y)}),x=[];return"ontouchstart"in p.documentElement&&(x=[].slice.call(p.body.children).map(function(y){return Om(y,"mousemove",D5)})),function(){m(),g(),v(),x.forEach(function(y){return y()})}}},[t,i,o,u,d,f])}function ROe(t){var e={};return Array.isArray(t)?(t==null||t.forEach(function(r){e[r.name]=r}),e):t||e}function DOe(t){return t===void 0&&(t={}),Array.isArray(t)?t:Object.keys(t).map(function(e){return t[e].name=e,t[e]})}function MOe(t){var e,r,n,i,a=t.enabled,o=t.enableEvents,s=t.placement,l=t.flip,u=t.offset,d=t.fixed,f=t.containerPadding,h=t.arrowElement,p=t.popperConfig,m=p===void 0?{}:p,g=ROe(m.modifiers);return Nr({},m,{placement:s,enabled:a,strategy:d?"fixed":m.strategy,modifiers:DOe(Nr({},g,{eventListeners:{enabled:o},preventOverflow:Nr({},g.preventOverflow,{options:f?Nr({padding:f},(e=g.preventOverflow)==null?void 0:e.options):(r=g.preventOverflow)==null?void 0:r.options}),offset:{options:Nr({offset:u},(n=g.offset)==null?void 0:n.options)},arrow:Nr({},g.arrow,{enabled:!!h,options:Nr({},(i=g.arrow)==null?void 0:i.options,{element:h})}),flip:Nr({enabled:!!l},g.flip)}))})}function LOe(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function $Oe(t,e){t.classList?t.classList.add(e):LOe(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function L5(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function FOe(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=L5(t.className,e):t.setAttribute("class",L5(t.className&&t.className.baseVal||"",e))}var Qy;function Ok(t){if((!Qy&&Qy!==0||t)&&_k){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Qy=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Qy}var KE=function(e){var r;return typeof document>"u"?null:e==null?M0().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(r=e)!=null&&r.nodeType&&e||null)};function $5(t,e){var r=b.useState(function(){return KE(t)}),n=r[0],i=r[1];if(!n){var a=KE(t);a&&i(a)}return b.useEffect(function(){},[e,n]),b.useEffect(function(){var o=KE(t);o!==n&&i(o)},[t,n]),n}const F5=t=>!t||typeof t=="function"?t:e=>{t.current=e};function BOe(t,e){const r=F5(t),n=F5(e);return i=>{r&&r(i),n&&n(i)}}function UOe(t,e){return b.useMemo(()=>BOe(t,e),[t,e])}var jk=D.forwardRef(function(t,e){var r=t.flip,n=t.offset,i=t.placement,a=t.containerPadding,o=a===void 0?5:a,s=t.popperConfig,l=s===void 0?{}:s,u=t.transition,d=E5(),f=d[0],h=d[1],p=E5(),m=p[0],g=p[1],v=UOe(h,e),x=$5(t.container),y=$5(t.target),w=b.useState(!t.show),S=w[0],E=w[1],C=SOe(y,f,MOe({placement:i,enableEvents:!!t.show,containerPadding:o||5,flip:r,offset:n,arrowElement:m,popperConfig:l})),A=C.styles,T=C.attributes,N=J2(C,["styles","attributes"]);t.show?S&&E(!1):!t.transition&&!S&&E(!0);var I=function(){E(!0),t.onExited&&t.onExited.apply(t,arguments)},j=t.show||u&&!S;if(kOe(f,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!j)return null;var O=t.children(Nr({},N,{show:!!t.show,props:Nr({},T.popper,{style:A.popper,ref:v}),arrowProps:Nr({},T.arrow,{style:A.arrow,ref:g})}));if(u){var P=t.onExit,M=t.onExiting,F=t.onEnter,B=t.onEntering,W=t.onEntered;O=D.createElement(u,{in:t.show,appear:!0,onExit:P,onExiting:M,onExited:I,onEnter:F,onEntering:B,onEntered:W},O)}return x?Gb.createPortal(O,x):null});jk.displayName="Overlay";jk.propTypes={show:fe.bool,placement:fe.oneOf(Ek),target:fe.any,container:fe.any,flip:fe.bool,children:fe.func.isRequired,containerPadding:fe.number,popperConfig:fe.object,rootClose:fe.bool,rootCloseEvent:fe.oneOf(["click","mousedown"]),rootCloseDisabled:fe.bool,onHide:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(e.rootClose){var a;return(a=fe.func).isRequired.apply(a,[e].concat(n))}return fe.func.apply(fe,[e].concat(n))},transition:fe.elementType,onEnter:fe.func,onEntering:fe.func,onEntered:fe.func,onExit:fe.func,onExiting:fe.func,onExited:fe.func};function VOe(){this.__data__=[],this.size=0}var zOe=VOe,WOe=D0;function HOe(t,e){for(var r=t.length;r--;)if(WOe(t[r][0],e))return r;return-1}var n_=HOe,GOe=n_,qOe=Array.prototype,KOe=qOe.splice;function YOe(t){var e=this.__data__,r=GOe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():KOe.call(e,r,1),--this.size,!0}var XOe=YOe,QOe=n_;function ZOe(t){var e=this.__data__,r=QOe(e,t);return r<0?void 0:e[r][1]}var JOe=ZOe,eje=n_;function tje(t){return eje(this.__data__,t)>-1}var rje=tje,nje=n_;function ije(t,e){var r=this.__data__,n=nje(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var aje=ije,oje=zOe,sje=XOe,lje=JOe,cje=rje,uje=aje;function dp(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}dp.prototype.clear=oje;dp.prototype.delete=sje;dp.prototype.get=lje;dp.prototype.has=cje;dp.prototype.set=uje;var i_=dp,dje=i_;function fje(){this.__data__=new dje,this.size=0}var hje=fje;function pje(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var mje=pje;function gje(t){return this.__data__.get(t)}var vje=gje;function yje(t){return this.__data__.has(t)}var xje=yje,wje=No,bje=wje["__core-js_shared__"],_je=bje,YE=_je,B5=function(){var t=/[^.]+$/.exec(YE&&YE.keys&&YE.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Sje(t){return!!B5&&B5 in t}var Eje=Sje,Aje=Function.prototype,Cje=Aje.toString;function Tje(t){if(t!=null){try{return Cje.call(t)}catch{}try{return t+""}catch{}}return""}var MQ=Tje,Nje=t_,Ije=Eje,Pje=Ha,Oje=MQ,jje=/[\\^$.*+?()[\]{}|]/g,kje=/^\[object .+?Constructor\]$/,Rje=Function.prototype,Dje=Object.prototype,Mje=Rje.toString,Lje=Dje.hasOwnProperty,$je=RegExp("^"+Mje.call(Lje).replace(jje,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Fje(t){if(!Pje(t)||Ije(t))return!1;var e=Nje(t)?$je:kje;return e.test(Oje(t))}var Bje=Fje;function Uje(t,e){return t==null?void 0:t[e]}var Vje=Uje,zje=Bje,Wje=Vje;function Hje(t,e){var r=Wje(t,e);return zje(r)?r:void 0}var Cd=Hje,Gje=Cd,qje=No,Kje=Gje(qje,"Map"),kk=Kje,Yje=Cd,Xje=Yje(Object,"create"),a_=Xje,U5=a_;function Qje(){this.__data__=U5?U5(null):{},this.size=0}var Zje=Qje;function Jje(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var eke=Jje,tke=a_,rke="__lodash_hash_undefined__",nke=Object.prototype,ike=nke.hasOwnProperty;function ake(t){var e=this.__data__;if(tke){var r=e[t];return r===rke?void 0:r}return ike.call(e,t)?e[t]:void 0}var oke=ake,ske=a_,lke=Object.prototype,cke=lke.hasOwnProperty;function uke(t){var e=this.__data__;return ske?e[t]!==void 0:cke.call(e,t)}var dke=uke,fke=a_,hke="__lodash_hash_undefined__";function pke(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=fke&&e===void 0?hke:e,this}var mke=pke,gke=Zje,vke=eke,yke=oke,xke=dke,wke=mke;function fp(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}fp.prototype.clear=gke;fp.prototype.delete=vke;fp.prototype.get=yke;fp.prototype.has=xke;fp.prototype.set=wke;var bke=fp,V5=bke,_ke=i_,Ske=kk;function Eke(){this.size=0,this.__data__={hash:new V5,map:new(Ske||_ke),string:new V5}}var Ake=Eke;function Cke(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Tke=Cke,Nke=Tke;function Ike(t,e){var r=t.__data__;return Nke(e)?r[typeof e=="string"?"string":"hash"]:r.map}var o_=Ike,Pke=o_;function Oke(t){var e=Pke(this,t).delete(t);return this.size-=e?1:0,e}var jke=Oke,kke=o_;function Rke(t){return kke(this,t).get(t)}var Dke=Rke,Mke=o_;function Lke(t){return Mke(this,t).has(t)}var $ke=Lke,Fke=o_;function Bke(t,e){var r=Fke(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Uke=Bke,Vke=Ake,zke=jke,Wke=Dke,Hke=$ke,Gke=Uke;function hp(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}hp.prototype.clear=Vke;hp.prototype.delete=zke;hp.prototype.get=Wke;hp.prototype.has=Hke;hp.prototype.set=Gke;var Rk=hp,qke=i_,Kke=kk,Yke=Rk,Xke=200;function Qke(t,e){var r=this.__data__;if(r instanceof qke){var n=r.__data__;if(!Kke||n.length<Xke-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Yke(n)}return r.set(t,e),this.size=r.size,this}var Zke=Qke,Jke=i_,e3e=hje,t3e=mje,r3e=vje,n3e=xje,i3e=Zke;function pp(t){var e=this.__data__=new Jke(t);this.size=e.size}pp.prototype.clear=e3e;pp.prototype.delete=t3e;pp.prototype.get=r3e;pp.prototype.has=n3e;pp.prototype.set=i3e;var Dk=pp,a3e="__lodash_hash_undefined__";function o3e(t){return this.__data__.set(t,a3e),this}var s3e=o3e;function l3e(t){return this.__data__.has(t)}var c3e=l3e,u3e=Rk,d3e=s3e,f3e=c3e;function Aw(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new u3e;++e<r;)this.add(t[e])}Aw.prototype.add=Aw.prototype.push=d3e;Aw.prototype.has=f3e;var LQ=Aw;function h3e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var $Q=h3e;function p3e(t,e){return t.has(e)}var FQ=p3e,m3e=LQ,g3e=$Q,v3e=FQ,y3e=1,x3e=2;function w3e(t,e,r,n,i,a){var o=r&y3e,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,p=r&x3e?new m3e:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var m=t[f],g=e[f];if(n)var v=o?n(g,m,f,e,t,a):n(m,g,f,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!g3e(e,function(x,y){if(!v3e(p,y)&&(m===x||i(m,x,r,n,a)))return p.push(y)})){h=!1;break}}else if(!(m===g||i(m,g,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var BQ=w3e,b3e=No,_3e=b3e.Uint8Array,UQ=_3e;function S3e(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var E3e=S3e;function A3e(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Mk=A3e,z5=op,W5=UQ,C3e=D0,T3e=BQ,N3e=E3e,I3e=Mk,P3e=1,O3e=2,j3e="[object Boolean]",k3e="[object Date]",R3e="[object Error]",D3e="[object Map]",M3e="[object Number]",L3e="[object RegExp]",$3e="[object Set]",F3e="[object String]",B3e="[object Symbol]",U3e="[object ArrayBuffer]",V3e="[object DataView]",H5=z5?z5.prototype:void 0,XE=H5?H5.valueOf:void 0;function z3e(t,e,r,n,i,a,o){switch(r){case V3e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case U3e:return!(t.byteLength!=e.byteLength||!a(new W5(t),new W5(e)));case j3e:case k3e:case M3e:return C3e(+t,+e);case R3e:return t.name==e.name&&t.message==e.message;case L3e:case F3e:return t==e+"";case D3e:var s=N3e;case $3e:var l=n&P3e;if(s||(s=I3e),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;n|=O3e,o.set(t,e);var d=T3e(s(t),s(e),n,i,a,o);return o.delete(t),d;case B3e:if(XE)return XE.call(t)==XE.call(e)}return!1}var W3e=z3e;function H3e(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var Lk=H3e,G3e=Array.isArray,si=G3e,q3e=Lk,K3e=si;function Y3e(t,e,r){var n=e(t);return K3e(t)?n:q3e(n,r(t))}var VQ=Y3e;function X3e(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var Q3e=X3e;function Z3e(){return[]}var zQ=Z3e,J3e=Q3e,eRe=zQ,tRe=Object.prototype,rRe=tRe.propertyIsEnumerable,G5=Object.getOwnPropertySymbols,nRe=G5?function(t){return t==null?[]:(t=Object(t),J3e(G5(t),function(e){return rRe.call(t,e)}))}:eRe,$k=nRe;function iRe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var aRe=iRe,oRe=ul,sRe=Io,lRe="[object Arguments]";function cRe(t){return sRe(t)&&oRe(t)==lRe}var uRe=cRe,q5=uRe,dRe=Io,WQ=Object.prototype,fRe=WQ.hasOwnProperty,hRe=WQ.propertyIsEnumerable,pRe=q5(function(){return arguments}())?q5:function(t){return dRe(t)&&fRe.call(t,"callee")&&!hRe.call(t,"callee")},Fk=pRe,Cw={exports:{}};function mRe(){return!1}var gRe=mRe;Cw.exports;(function(t,e){var r=No,n=gRe,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;t.exports=u})(Cw,Cw.exports);var s_=Cw.exports,vRe=ul,yRe=xk,xRe=Io,wRe="[object Arguments]",bRe="[object Array]",_Re="[object Boolean]",SRe="[object Date]",ERe="[object Error]",ARe="[object Function]",CRe="[object Map]",TRe="[object Number]",NRe="[object Object]",IRe="[object RegExp]",PRe="[object Set]",ORe="[object String]",jRe="[object WeakMap]",kRe="[object ArrayBuffer]",RRe="[object DataView]",DRe="[object Float32Array]",MRe="[object Float64Array]",LRe="[object Int8Array]",$Re="[object Int16Array]",FRe="[object Int32Array]",BRe="[object Uint8Array]",URe="[object Uint8ClampedArray]",VRe="[object Uint16Array]",zRe="[object Uint32Array]",nr={};nr[DRe]=nr[MRe]=nr[LRe]=nr[$Re]=nr[FRe]=nr[BRe]=nr[URe]=nr[VRe]=nr[zRe]=!0;nr[wRe]=nr[bRe]=nr[kRe]=nr[_Re]=nr[RRe]=nr[SRe]=nr[ERe]=nr[ARe]=nr[CRe]=nr[TRe]=nr[NRe]=nr[IRe]=nr[PRe]=nr[ORe]=nr[jRe]=!1;function WRe(t){return xRe(t)&&yRe(t.length)&&!!nr[vRe(t)]}var HRe=WRe;function GRe(t){return function(e){return t(e)}}var l_=GRe,Tw={exports:{}};Tw.exports;(function(t,e){var r=yQ,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(Tw,Tw.exports);var Bk=Tw.exports,qRe=HRe,KRe=l_,K5=Bk,Y5=K5&&K5.isTypedArray,YRe=Y5?KRe(Y5):qRe,Uk=YRe,XRe=aRe,QRe=Fk,ZRe=si,JRe=s_,e4e=wk,t4e=Uk,r4e=Object.prototype,n4e=r4e.hasOwnProperty;function i4e(t,e){var r=ZRe(t),n=!r&&QRe(t),i=!r&&!n&&JRe(t),a=!r&&!n&&!i&&t4e(t),o=r||n||i||a,s=o?XRe(t.length,String):[],l=s.length;for(var u in t)(e||n4e.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||e4e(u,l)))&&s.push(u);return s}var HQ=i4e,a4e=Object.prototype;function o4e(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||a4e;return t===r}var Vk=o4e;function s4e(t,e){return function(r){return t(e(r))}}var GQ=s4e,l4e=GQ,c4e=l4e(Object.keys,Object),u4e=c4e,d4e=Vk,f4e=u4e,h4e=Object.prototype,p4e=h4e.hasOwnProperty;function m4e(t){if(!d4e(t))return f4e(t);var e=[];for(var r in Object(t))p4e.call(t,r)&&r!="constructor"&&e.push(r);return e}var g4e=m4e,v4e=HQ,y4e=g4e,x4e=lp;function w4e(t){return x4e(t)?v4e(t):y4e(t)}var mp=w4e,b4e=VQ,_4e=$k,S4e=mp;function E4e(t){return b4e(t,S4e,_4e)}var qQ=E4e,X5=qQ,A4e=1,C4e=Object.prototype,T4e=C4e.hasOwnProperty;function N4e(t,e,r,n,i,a){var o=r&A4e,s=X5(t),l=s.length,u=X5(e),d=u.length;if(l!=d&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in e:T4e.call(e,h)))return!1}var p=a.get(t),m=a.get(e);if(p&&m)return p==e&&m==t;var g=!0;a.set(t,e),a.set(e,t);for(var v=o;++f<l;){h=s[f];var x=t[h],y=e[h];if(n)var w=o?n(y,x,h,e,t,a):n(x,y,h,t,e,a);if(!(w===void 0?x===y||i(x,y,r,n,a):w)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var S=t.constructor,E=e.constructor;S!=E&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof E=="function"&&E instanceof E)&&(g=!1)}return a.delete(t),a.delete(e),g}var I4e=N4e,P4e=Cd,O4e=No,j4e=P4e(O4e,"DataView"),k4e=j4e,R4e=Cd,D4e=No,M4e=R4e(D4e,"Promise"),L4e=M4e,$4e=Cd,F4e=No,B4e=$4e(F4e,"Set"),KQ=B4e,U4e=Cd,V4e=No,z4e=U4e(V4e,"WeakMap"),W4e=z4e,fN=k4e,hN=kk,pN=L4e,mN=KQ,gN=W4e,YQ=ul,gp=MQ,Q5="[object Map]",H4e="[object Object]",Z5="[object Promise]",J5="[object Set]",eL="[object WeakMap]",tL="[object DataView]",G4e=gp(fN),q4e=gp(hN),K4e=gp(pN),Y4e=gp(mN),X4e=gp(gN),fu=YQ;(fN&&fu(new fN(new ArrayBuffer(1)))!=tL||hN&&fu(new hN)!=Q5||pN&&fu(pN.resolve())!=Z5||mN&&fu(new mN)!=J5||gN&&fu(new gN)!=eL)&&(fu=function(t){var e=YQ(t),r=e==H4e?t.constructor:void 0,n=r?gp(r):"";if(n)switch(n){case G4e:return tL;case q4e:return Q5;case K4e:return Z5;case Y4e:return J5;case X4e:return eL}return e});var c_=fu,QE=Dk,Q4e=BQ,Z4e=W3e,J4e=I4e,rL=c_,nL=si,iL=s_,eDe=Uk,tDe=1,aL="[object Arguments]",oL="[object Array]",Zy="[object Object]",rDe=Object.prototype,sL=rDe.hasOwnProperty;function nDe(t,e,r,n,i,a){var o=nL(t),s=nL(e),l=o?oL:rL(t),u=s?oL:rL(e);l=l==aL?Zy:l,u=u==aL?Zy:u;var d=l==Zy,f=u==Zy,h=l==u;if(h&&iL(t)){if(!iL(e))return!1;o=!0,d=!1}if(h&&!d)return a||(a=new QE),o||eDe(t)?Q4e(t,e,r,n,i,a):Z4e(t,e,l,r,n,i,a);if(!(r&tDe)){var p=d&&sL.call(t,"__wrapped__"),m=f&&sL.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,v=m?e.value():e;return a||(a=new QE),i(g,v,r,n,a)}}return h?(a||(a=new QE),J4e(t,e,r,n,i,a)):!1}var iDe=nDe,aDe=iDe,lL=Io;function XQ(t,e,r,n,i){return t===e?!0:t==null||e==null||!lL(t)&&!lL(e)?t!==t&&e!==e:aDe(t,e,r,n,XQ,i)}var zk=XQ,oDe=zk;function sDe(t,e){return oDe(t,e)}var lDe=sDe;const mh=dt(lDe);function ZE(t,e){var r=bk(t);return r?r.innerHeight:Ru(t).height}function QQ(t,e,r){t.closest&&!r&&t.closest(e);var n=t;do{if(dPe(n,e))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}function cDe(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var ZQ=cDe,uDe=Dk,dDe=zk,fDe=1,hDe=2;function pDe(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var l=s[0],u=t[l],d=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new uDe;if(n)var h=n(u,d,l,t,e,f);if(!(h===void 0?dDe(d,u,fDe|hDe,n,f):h))return!1}}return!0}var mDe=pDe,gDe=Ha;function vDe(t){return t===t&&!gDe(t)}var JQ=vDe,yDe=JQ,xDe=mp;function wDe(t){for(var e=xDe(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,yDe(i)]}return e}var bDe=wDe;function _De(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var eZ=_De,SDe=mDe,EDe=bDe,ADe=eZ;function CDe(t){var e=EDe(t);return e.length==1&&e[0][2]?ADe(e[0][0],e[0][1]):function(r){return r===t||SDe(r,t,e)}}var TDe=CDe,NDe=si,IDe=up,PDe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ODe=/^\w*$/;function jDe(t,e){if(NDe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||IDe(t)?!0:ODe.test(t)||!PDe.test(t)||e!=null&&t in Object(e)}var Wk=jDe,tZ=Rk,kDe="Expected a function";function Hk(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(kDe);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(Hk.Cache||tZ),r}Hk.Cache=tZ;var rZ=Hk;const RDe=dt(rZ);var DDe=rZ,MDe=500;function LDe(t){var e=DDe(t,function(n){return r.size===MDe&&r.clear(),n}),r=e.cache;return e}var $De=LDe,FDe=$De,BDe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,UDe=/\\(\\)?/g,VDe=FDe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(BDe,function(r,n,i,a){e.push(i?a.replace(UDe,"$1"):n||r)}),e}),zDe=VDe;function WDe(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var u_=WDe,cL=op,HDe=u_,GDe=si,qDe=up,uL=cL?cL.prototype:void 0,dL=uL?uL.toString:void 0;function nZ(t){if(typeof t=="string")return t;if(GDe(t))return HDe(t,nZ)+"";if(qDe(t))return dL?dL.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var KDe=nZ,YDe=KDe;function XDe(t){return t==null?"":YDe(t)}var iZ=XDe,QDe=si,ZDe=Wk,JDe=zDe,eMe=iZ;function tMe(t,e){return QDe(t)?t:ZDe(t,e)?[t]:JDe(eMe(t))}var d_=tMe,rMe=up;function nMe(t){if(typeof t=="string"||rMe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var F0=nMe,iMe=d_,aMe=F0;function oMe(t,e){e=iMe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[aMe(e[r++])];return r&&r==n?t:void 0}var f_=oMe,sMe=f_;function lMe(t,e,r){var n=t==null?void 0:sMe(t,e);return n===void 0?r:n}var aZ=lMe;const Da=dt(aZ);function cMe(t,e){return t!=null&&e in Object(t)}var uMe=cMe,dMe=d_,fMe=Fk,hMe=si,pMe=wk,mMe=xk,gMe=F0;function vMe(t,e,r){e=dMe(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=gMe(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&mMe(i)&&pMe(o,i)&&(hMe(t)||fMe(t)))}var yMe=vMe,xMe=uMe,wMe=yMe;function bMe(t,e){return t!=null&&wMe(t,e,xMe)}var _Me=bMe,SMe=zk,EMe=aZ,AMe=_Me,CMe=Wk,TMe=JQ,NMe=eZ,IMe=F0,PMe=1,OMe=2;function jMe(t,e){return CMe(t)&&TMe(e)?NMe(IMe(t),e):function(r){var n=EMe(r,t);return n===void 0&&n===e?AMe(r,t):SMe(e,n,PMe|OMe)}}var kMe=jMe;function RMe(t){return t}var vp=RMe;function DMe(t){return function(e){return e==null?void 0:e[t]}}var MMe=DMe,LMe=f_;function $Me(t){return function(e){return LMe(e,t)}}var FMe=$Me,BMe=MMe,UMe=FMe,VMe=Wk,zMe=F0;function WMe(t){return VMe(t)?BMe(zMe(t)):UMe(t)}var HMe=WMe,GMe=TDe,qMe=kMe,KMe=vp,YMe=si,XMe=HMe;function QMe(t){return typeof t=="function"?t:t==null?KMe:typeof t=="object"?YMe(t)?qMe(t[0],t[1]):GMe(t):XMe(t)}var dl=QMe,ZMe=ZQ,JMe=dl,e6e=_Q,t6e=Math.max;function r6e(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:e6e(r);return i<0&&(i=t6e(n+i,0)),ZMe(t,JMe(e),i)}var oZ=r6e;const n6e=dt(oZ);var i6e=Math.ceil,a6e=Math.max;function o6e(t,e,r,n){for(var i=-1,a=a6e(i6e((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var s6e=o6e,l6e=s6e,c6e=cp,JE=bQ;function u6e(t){return function(e,r,n){return n&&typeof n!="number"&&c6e(e,r,n)&&(r=n=void 0),e=JE(e),r===void 0?(r=e,e=0):r=JE(r),n=n===void 0?e<r?1:-1:JE(n),l6e(e,r,n,t)}}var d6e=u6e,f6e=d6e,h6e=f6e(),p6e=h6e;const vv=dt(p6e);var fL=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function m6e(t,e){return!!(t===e||fL(t)&&fL(e))}function g6e(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!m6e(t[r],e[r]))return!1;return!0}function sZ(t,e){e===void 0&&(e=g6e);var r=null;function n(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(r&&r.lastThis===this&&e(i,r.lastArgs))return r.lastResult;var o=t.apply(this,i);return r={lastResult:o,lastArgs:i,lastThis:this},o}return n.clear=function(){r=null},n}function vN(t,e){var r=bk(t);return r?r.innerWidth:Ru(t).width}var hL=op,v6e=Fk,y6e=si,pL=hL?hL.isConcatSpreadable:void 0;function x6e(t){return y6e(t)||v6e(t)||!!(pL&&t&&t[pL])}var w6e=x6e,b6e=Lk,_6e=w6e;function lZ(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=_6e),i||(i=[]);++a<o;){var s=t[a];e>0&&r(s)?e>1?lZ(s,e-1,r,n,i):b6e(i,s):n||(i[i.length]=s)}return i}var Gk=lZ;function S6e(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var l=o[t?s:++i];if(r(a[l],l,a)===!1)break}return e}}var E6e=S6e,A6e=E6e,C6e=A6e(),T6e=C6e,N6e=T6e,I6e=mp;function P6e(t,e){return t&&N6e(t,e,I6e)}var qk=P6e,O6e=lp;function j6e(t,e){return function(r,n){if(r==null)return r;if(!O6e(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var k6e=j6e,R6e=qk,D6e=k6e,M6e=D6e(R6e),Kk=M6e,L6e=Kk,$6e=lp;function F6e(t,e){var r=-1,n=$6e(t)?Array(t.length):[];return L6e(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var cZ=F6e;function B6e(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var U6e=B6e,mL=up;function V6e(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=mL(t),o=e!==void 0,s=e===null,l=e===e,u=mL(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||n&&o&&l||!r&&l||!i)return 1;if(!n&&!a&&!u&&t<e||u&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!l)return-1}return 0}var z6e=V6e,W6e=z6e;function H6e(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,o=i.length,s=r.length;++n<o;){var l=W6e(i[n],a[n]);if(l){if(n>=s)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return t.index-e.index}var G6e=H6e,eA=u_,q6e=f_,K6e=dl,Y6e=cZ,X6e=U6e,Q6e=l_,Z6e=G6e,J6e=vp,e8e=si;function t8e(t,e,r){e.length?e=eA(e,function(a){return e8e(a)?function(o){return q6e(o,a.length===1?a[0]:a)}:a}):e=[J6e];var n=-1;e=eA(e,Q6e(K6e));var i=Y6e(t,function(a,o,s){var l=eA(e,function(u){return u(a)});return{criteria:l,index:++n,value:a}});return X6e(i,function(a,o){return Z6e(a,o,r)})}var r8e=t8e;function n8e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var i8e=n8e,a8e=i8e,gL=Math.max;function o8e(t,e,r){return e=gL(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=gL(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),a8e(t,this,s)}}var uZ=o8e;function s8e(t){return function(){return t}}var l8e=s8e,c8e=Cd,u8e=function(){try{var t=c8e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),dZ=u8e,d8e=l8e,vL=dZ,f8e=vp,h8e=vL?function(t,e){return vL(t,"toString",{configurable:!0,enumerable:!1,value:d8e(e),writable:!0})}:f8e,p8e=h8e,m8e=800,g8e=16,v8e=Date.now;function y8e(t){var e=0,r=0;return function(){var n=v8e(),i=g8e-(n-r);if(r=n,i>0){if(++e>=m8e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var x8e=y8e,w8e=p8e,b8e=x8e,_8e=b8e(w8e),fZ=_8e,S8e=vp,E8e=uZ,A8e=fZ;function C8e(t,e){return A8e(E8e(t,e,S8e),t+"")}var hZ=C8e,T8e=Gk,N8e=r8e,I8e=hZ,yL=cp,P8e=I8e(function(t,e){if(t==null)return[];var r=e.length;return r>1&&yL(t,e[0],e[1])?e=[]:r>2&&yL(e[0],e[1],e[2])&&(e=[e[0]]),N8e(t,T8e(e,1),[])}),O8e=P8e;const h_=dt(O8e);function pZ(t){return eQ(t)||vQ(t)||bj(t)||tQ()}function j8e(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var k8e=j8e,R8e=Ha,D8e=Vk,M8e=k8e,L8e=Object.prototype,$8e=L8e.hasOwnProperty;function F8e(t){if(!R8e(t))return M8e(t);var e=D8e(t),r=[];for(var n in t)n=="constructor"&&(e||!$8e.call(t,n))||r.push(n);return r}var B8e=F8e,U8e=HQ,V8e=B8e,z8e=lp;function W8e(t){return z8e(t)?U8e(t,!0):V8e(t)}var p_=W8e,H8e=hZ,G8e=D0,q8e=cp,K8e=p_,mZ=Object.prototype,Y8e=mZ.hasOwnProperty,X8e=H8e(function(t,e){t=Object(t);var r=-1,n=e.length,i=n>2?e[2]:void 0;for(i&&q8e(e[0],e[1],i)&&(n=1);++r<n;)for(var a=e[r],o=K8e(a),s=-1,l=o.length;++s<l;){var u=o[s],d=t[u];(d===void 0||G8e(d,mZ[u])&&!Y8e.call(t,u))&&(t[u]=a[u])}return t}),Q8e=X8e;const Z8e=dt(Q8e);var xL=dZ;function J8e(t,e,r){e=="__proto__"&&xL?xL(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Yk=J8e,e5e=Yk,t5e=qk,r5e=dl;function n5e(t,e){var r={};return e=r5e(e),t5e(t,function(n,i,a){e5e(r,i,e(n,i,a))}),r}var i5e=n5e;const gZ=dt(i5e);function a5e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var vZ=a5e,o5e=Yk,s5e=D0,l5e=Object.prototype,c5e=l5e.hasOwnProperty;function u5e(t,e,r){var n=t[e];(!(c5e.call(t,e)&&s5e(n,r))||r===void 0&&!(e in t))&&o5e(t,e,r)}var yZ=u5e,d5e=yZ,f5e=Yk;function h5e(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],l=n?n(r[s],t[s],s,r,t):void 0;l===void 0&&(l=t[s]),i?f5e(r,s,l):d5e(r,s,l)}return r}var B0=h5e,p5e=B0,m5e=mp;function g5e(t,e){return t&&p5e(e,m5e(e),t)}var v5e=g5e,y5e=B0,x5e=p_;function w5e(t,e){return t&&y5e(e,x5e(e),t)}var b5e=w5e,Nw={exports:{}};Nw.exports;(function(t,e){var r=No,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var f=u.length,h=s?s(f):new u.constructor(f);return u.copy(h),h}t.exports=l})(Nw,Nw.exports);var _5e=Nw.exports;function S5e(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var E5e=S5e,A5e=B0,C5e=$k;function T5e(t,e){return A5e(t,C5e(t),e)}var N5e=T5e,I5e=GQ,P5e=I5e(Object.getPrototypeOf,Object),m_=P5e,O5e=Lk,j5e=m_,k5e=$k,R5e=zQ,D5e=Object.getOwnPropertySymbols,M5e=D5e?function(t){for(var e=[];t;)O5e(e,k5e(t)),t=j5e(t);return e}:R5e,xZ=M5e,L5e=B0,$5e=xZ;function F5e(t,e){return L5e(t,$5e(t),e)}var B5e=F5e,U5e=VQ,V5e=xZ,z5e=p_;function W5e(t){return U5e(t,z5e,V5e)}var wZ=W5e,H5e=Object.prototype,G5e=H5e.hasOwnProperty;function q5e(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&G5e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var K5e=q5e,wL=UQ;function Y5e(t){var e=new t.constructor(t.byteLength);return new wL(e).set(new wL(t)),e}var Xk=Y5e,X5e=Xk;function Q5e(t,e){var r=e?X5e(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Z5e=Q5e,J5e=/\w*$/;function eLe(t){var e=new t.constructor(t.source,J5e.exec(t));return e.lastIndex=t.lastIndex,e}var tLe=eLe,bL=op,_L=bL?bL.prototype:void 0,SL=_L?_L.valueOf:void 0;function rLe(t){return SL?Object(SL.call(t)):{}}var nLe=rLe,iLe=Xk;function aLe(t,e){var r=e?iLe(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var oLe=aLe,sLe=Xk,lLe=Z5e,cLe=tLe,uLe=nLe,dLe=oLe,fLe="[object Boolean]",hLe="[object Date]",pLe="[object Map]",mLe="[object Number]",gLe="[object RegExp]",vLe="[object Set]",yLe="[object String]",xLe="[object Symbol]",wLe="[object ArrayBuffer]",bLe="[object DataView]",_Le="[object Float32Array]",SLe="[object Float64Array]",ELe="[object Int8Array]",ALe="[object Int16Array]",CLe="[object Int32Array]",TLe="[object Uint8Array]",NLe="[object Uint8ClampedArray]",ILe="[object Uint16Array]",PLe="[object Uint32Array]";function OLe(t,e,r){var n=t.constructor;switch(e){case wLe:return sLe(t);case fLe:case hLe:return new n(+t);case bLe:return lLe(t,r);case _Le:case SLe:case ELe:case ALe:case CLe:case TLe:case NLe:case ILe:case PLe:return dLe(t,r);case pLe:return new n;case mLe:case yLe:return new n(t);case gLe:return cLe(t);case vLe:return new n;case xLe:return uLe(t)}}var jLe=OLe,kLe=Ha,EL=Object.create,RLe=function(){function t(){}return function(e){if(!kLe(e))return{};if(EL)return EL(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),bZ=RLe,DLe=bZ,MLe=m_,LLe=Vk;function $Le(t){return typeof t.constructor=="function"&&!LLe(t)?DLe(MLe(t)):{}}var FLe=$Le,BLe=c_,ULe=Io,VLe="[object Map]";function zLe(t){return ULe(t)&&BLe(t)==VLe}var WLe=zLe,HLe=WLe,GLe=l_,AL=Bk,CL=AL&&AL.isMap,qLe=CL?GLe(CL):HLe,KLe=qLe,YLe=c_,XLe=Io,QLe="[object Set]";function ZLe(t){return XLe(t)&&YLe(t)==QLe}var JLe=ZLe,e$e=JLe,t$e=l_,TL=Bk,NL=TL&&TL.isSet,r$e=NL?t$e(NL):e$e,n$e=r$e,i$e=Dk,a$e=vZ,o$e=yZ,s$e=v5e,l$e=b5e,c$e=_5e,u$e=E5e,d$e=N5e,f$e=B5e,h$e=qQ,p$e=wZ,m$e=c_,g$e=K5e,v$e=jLe,y$e=FLe,x$e=si,w$e=s_,b$e=KLe,_$e=Ha,S$e=n$e,E$e=mp,A$e=p_,C$e=1,T$e=2,N$e=4,_Z="[object Arguments]",I$e="[object Array]",P$e="[object Boolean]",O$e="[object Date]",j$e="[object Error]",SZ="[object Function]",k$e="[object GeneratorFunction]",R$e="[object Map]",D$e="[object Number]",EZ="[object Object]",M$e="[object RegExp]",L$e="[object Set]",$$e="[object String]",F$e="[object Symbol]",B$e="[object WeakMap]",U$e="[object ArrayBuffer]",V$e="[object DataView]",z$e="[object Float32Array]",W$e="[object Float64Array]",H$e="[object Int8Array]",G$e="[object Int16Array]",q$e="[object Int32Array]",K$e="[object Uint8Array]",Y$e="[object Uint8ClampedArray]",X$e="[object Uint16Array]",Q$e="[object Uint32Array]",Gt={};Gt[_Z]=Gt[I$e]=Gt[U$e]=Gt[V$e]=Gt[P$e]=Gt[O$e]=Gt[z$e]=Gt[W$e]=Gt[H$e]=Gt[G$e]=Gt[q$e]=Gt[R$e]=Gt[D$e]=Gt[EZ]=Gt[M$e]=Gt[L$e]=Gt[$$e]=Gt[F$e]=Gt[K$e]=Gt[Y$e]=Gt[X$e]=Gt[Q$e]=!0;Gt[j$e]=Gt[SZ]=Gt[B$e]=!1;function J1(t,e,r,n,i,a){var o,s=e&C$e,l=e&T$e,u=e&N$e;if(r&&(o=i?r(t,n,i,a):r(t)),o!==void 0)return o;if(!_$e(t))return t;var d=x$e(t);if(d){if(o=g$e(t),!s)return u$e(t,o)}else{var f=m$e(t),h=f==SZ||f==k$e;if(w$e(t))return c$e(t,s);if(f==EZ||f==_Z||h&&!i){if(o=l||h?{}:y$e(t),!s)return l?f$e(t,l$e(o,t)):d$e(t,s$e(o,t))}else{if(!Gt[f])return i?t:{};o=v$e(t,f,s)}}a||(a=new i$e);var p=a.get(t);if(p)return p;a.set(t,o),S$e(t)?t.forEach(function(v){o.add(J1(v,e,r,v,t,a))}):b$e(t)&&t.forEach(function(v,x){o.set(x,J1(v,e,r,x,t,a))});var m=u?l?p$e:h$e:l?A$e:E$e,g=d?void 0:m(t);return a$e(g||t,function(v,x){g&&(x=v,v=t[x]),o$e(o,x,J1(v,e,r,x,t,a))}),o}var Z$e=J1;function J$e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var AZ=J$e;const eFe=dt(AZ);var tFe=f_,rFe=yk;function nFe(t,e){return e.length<2?t:tFe(t,rFe(e,0,-1))}var iFe=nFe,aFe=d_,oFe=AZ,sFe=iFe,lFe=F0;function cFe(t,e){return e=aFe(e,t),t=sFe(t,e),t==null||delete t[lFe(oFe(e))]}var uFe=cFe,dFe=ul,fFe=m_,hFe=Io,pFe="[object Object]",mFe=Function.prototype,gFe=Object.prototype,CZ=mFe.toString,vFe=gFe.hasOwnProperty,yFe=CZ.call(Object);function xFe(t){if(!hFe(t)||dFe(t)!=pFe)return!1;var e=fFe(t);if(e===null)return!0;var r=vFe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&CZ.call(r)==yFe}var TZ=xFe;const wFe=dt(TZ);var bFe=TZ;function _Fe(t){return bFe(t)?void 0:t}var SFe=_Fe,EFe=Gk;function AFe(t){var e=t==null?0:t.length;return e?EFe(t,1):[]}var CFe=AFe,TFe=CFe,NFe=uZ,IFe=fZ;function PFe(t){return IFe(NFe(t,void 0,TFe),t+"")}var OFe=PFe,jFe=u_,kFe=Z$e,RFe=uFe,DFe=d_,MFe=B0,LFe=SFe,$Fe=OFe,FFe=wZ,BFe=1,UFe=2,VFe=4,zFe=$Fe(function(t,e){var r={};if(t==null)return r;var n=!1;e=jFe(e,function(a){return a=DFe(a,t),n||(n=a.length>1),a}),MFe(t,FFe(t),r),n&&(r=kFe(r,BFe|UFe|VFe,LFe));for(var i=e.length;i--;)RFe(r,e[i]);return r}),WFe=zFe;const HFe=dt(WFe);var GFe=vZ,qFe=bZ,KFe=qk,YFe=dl,XFe=m_,QFe=si,ZFe=s_,JFe=t_,e9e=Ha,t9e=Uk;function r9e(t,e,r){var n=QFe(t),i=n||ZFe(t)||t9e(t);if(e=YFe(e),r==null){var a=t&&t.constructor;i?r=n?new a:[]:e9e(t)?r=JFe(a)?qFe(XFe(t)):{}:r={}}return(i?GFe:KFe)(t,function(o,s,l){return e(r,o,s,l)}),r}var n9e=r9e;const i9e=dt(n9e);var a9e={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(aa,function(){return function(r,n,i){n.prototype.isBetween=function(a,o,s,l){var u=i(a),d=i(o),f=(l=l||"()")[0]==="(",h=l[1]===")";return(f?this.isAfter(u,s):!this.isBefore(u,s))&&(h?this.isBefore(d,s):!this.isAfter(d,s))||(f?this.isBefore(u,s):!this.isAfter(u,s))&&(h?this.isAfter(d,s):!this.isBefore(d,s))}}})})(a9e);var o9e={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(aa,function(){return function(r,n){n.prototype.isSameOrAfter=function(i,a){return this.isSame(i,a)||this.isAfter(i,a)}}})})(o9e);var s9e={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(aa,function(){return function(r,n){n.prototype.isSameOrBefore=function(i,a){return this.isSame(i,a)||this.isBefore(i,a)}}})})(s9e);var l9e={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(aa,function(){return function(r,n,i){var a=n.prototype,o=function(f){return f&&(f.indexOf?f:f.s)},s=function(f,h,p,m,g){var v=f.name?f:f.$locale(),x=o(v[h]),y=o(v[p]),w=x||y.map(function(E){return E.slice(0,m)});if(!g)return w;var S=v.weekStart;return w.map(function(E,C){return w[(C+(S||0))%7]})},l=function(){return i.Ls[i.locale()]},u=function(f,h){return f.formats[h]||function(p){return p.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(m,g,v){return g||v.slice(1)})}(f.formats[h.toUpperCase()])},d=function(){var f=this;return{months:function(h){return h?h.format("MMMM"):s(f,"months")},monthsShort:function(h){return h?h.format("MMM"):s(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):s(f,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):s(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):s(f,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return u(f.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return d.bind(this)()},i.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(h){return u(f,h)},meridiem:f.meridiem,ordinal:f.ordinal}},i.months=function(){return s(l(),"months")},i.monthsShort=function(){return s(l(),"monthsShort","months",3)},i.weekdays=function(f){return s(l(),"weekdays",null,null,f)},i.weekdaysShort=function(f){return s(l(),"weekdaysShort","weekdays",3,f)},i.weekdaysMin=function(f){return s(l(),"weekdaysMin","weekdays",2,f)}}})})(l9e);var c9e={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(aa,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,i,a){var o=i.prototype,s=o.format;a.en.formats=r,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,d=function(f,h){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(p,m,g){var v=g&&g.toUpperCase();return m||h[g]||r[g]||h[v].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(x,y,w){return y||w.slice(1)})})}(l,u===void 0?{}:u);return s.call(this,d)}}})})(c9e);var u9e={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(aa,function(){return function(r,n,i){var a=function(o,s){if(!s||!s.length||s.length===1&&!s[0]||s.length===1&&Array.isArray(s[0])&&!s[0].length)return null;var l;s.length===1&&s[0].length>0&&(s=s[0]),l=(s=s.filter(function(d){return d}))[0];for(var u=1;u<s.length;u+=1)s[u].isValid()&&!s[u][o](l)||(l=s[u]);return l};i.max=function(){var o=[].slice.call(arguments,0);return a("isAfter",o)},i.min=function(){var o=[].slice.call(arguments,0);return a("isBefore",o)}}})})(u9e);var d9e={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(aa,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(a,o,s){var l=o.prototype;s.utc=function(g){var v={date:g,utc:!0,args:arguments};return new o(v)},l.utc=function(g){var v=s(this.toDate(),{locale:this.$L,utc:!0});return g?v.add(this.utcOffset(),r):v},l.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),u.call(this,g)};var d=l.init;l.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else d.call(this)};var f=l.utcOffset;l.utcOffset=function(g,v){var x=this.$utils().u;if(x(g))return this.$u?0:x(this.$offset)?f.call(this):this.$offset;if(typeof g=="string"&&(g=function(E){E===void 0&&(E="");var C=E.match(n);if(!C)return null;var A=(""+C[0]).match(i)||["-",0,0],T=A[0],N=60*+A[1]+ +A[2];return N===0?0:T==="+"?N:-N}(g),g===null))return this;var y=Math.abs(g)<=16?60*g:g,w=this;if(v)return w.$offset=y,w.$u=g===0,w;if(g!==0){var S=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(w=this.local().add(y+S,r)).$offset=y,w.$x.$localOffset=S}else w=this.utc();return w};var h=l.format;l.format=function(g){var v=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,v)},l.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var p=l.toDate;l.toDate=function(g){return g==="s"&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var m=l.diff;l.diff=function(g,v,x){if(g&&this.$u===g.$u)return m.call(this,g,v,x);var y=this.local(),w=s(g).local();return m.call(y,w,v,x)}}})})(d9e);var f9e={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(aa,function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(f9e);function Ro(t){return t.children}var Gi={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},yi={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},IL=Object.keys(yi).map(function(t){return yi[t]});fe.oneOfType([fe.string,fe.func]);fe.any;fe.func;fe.oneOfType([fe.arrayOf(fe.oneOf(IL)),fe.objectOf(function(t,e){var r=IL.indexOf(e)!==-1&&typeof t[e]=="boolean";if(r)return null;for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];return fe.elementType.apply(fe,[t,e].concat(i))})]);fe.oneOfType([fe.oneOf(["overlap","no-overlap"]),fe.func]);var PL={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function NZ(t,e){var r=Ln(t,"month");return Ln(r,"week",e.startOfWeek())}function IZ(t,e){var r=_w(t,"month");return _w(r,"week",e.startOfWeek())}function h9e(t,e){for(var r=NZ(t,e),n=IZ(t,e),i=[];ip(r,n,"day");)i.push(r),r=Co(r,1,"day");return i}function p9e(t,e){var r=Ln(t,e);return np(r,t)?r:Co(r,1,e)}function m9e(t,e){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=t,i=[];ip(n,e,r);)i.push(n),n=Co(n,1,r);return i}function g9e(t,e){return e==null&&t==null?null:(e==null&&(e=new Date),t==null&&(t=new Date),t=Ln(t,"day"),t=hv(t,hv(e)),t=uh(t,uh(e)),t=fv(t,fv(e)),dv(t,dv(e)))}function OL(t){return hv(t)===0&&uh(t)===0&&fv(t)===0&&dv(t)===0}function v9e(t,e,r,n){return r==="day"&&(r="date"),Math.abs(p5[r](t,void 0,n)-p5[r](e,void 0,n))}function Qk(t,e,r){return!r||r==="milliseconds"?Math.abs(+t-+e):Math.round(Math.abs(+Ln(t,r)/PL[r]-+Ln(e,r)/PL[r]))}var y9e=fe.oneOfType([fe.string,fe.func]);function x9e(t,e,r,n,i){var a=typeof n=="function"?n(r,i,t):e.call(t,r,n,i);return av(a==null||typeof a=="string","`localizer format(..)` must return a string, null, or undefined"),a}function w9e(t,e,r){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,e+r,0,0)}function Zk(t,e){return t.getTimezoneOffset()-e.getTimezoneOffset()}function b9e(t,e){return Qk(t,e,"minutes")+Zk(t,e)}function _9e(t){var e=Ln(t,"day");return Qk(e,t,"minutes")+Zk(e,t)}function S9e(t,e){return vk(t,e,"day")}function E9e(t,e,r){var n=np(t,e,"minutes");return n?R0(e,r,"minutes"):e_(e,r,"minutes")}function yN(t,e){return v9e(t,e,"day")}function A9e(t){var e=t.evtA,r=e.start,n=e.end,i=e.allDay,a=t.evtB,o=a.start,s=a.end,l=a.allDay,u=+Ln(r,"day")-+Ln(o,"day"),d=yN(r,n),f=yN(o,s);return u||f-d||!!l-!!i||+r-+o||+n-+s}function C9e(t){var e=t.event,r=e.start,n=e.end,i=t.range,a=i.start,o=i.end,s=Ln(r,"day"),l=ip(s,o,"day"),u=gk(s,n,"minutes"),d=u?e_(n,a,"minutes"):R0(n,a,"minutes");return l&&d}function T9e(t,e){return np(t,e,"day")}function N9e(t,e){return OL(t)&&OL(e)}var I9e=fn(function t(e){var r=this;dn(this,t),av(typeof e.format=="function","date localizer `format(..)` must be a function"),av(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||y9e,this.formats=e.formats,this.format=function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return x9e.apply(void 0,[r,e.format].concat(i))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||g9e,this.inRange=e.inRange||hQ,this.lt=e.lt||vk,this.lte=e.lte||ip,this.gt=e.gt||e_,this.gte=e.gte||R0,this.eq=e.eq||np,this.neq=e.neq||gk,this.startOf=e.startOf||Ln,this.endOf=e.endOf||_w,this.add=e.add||Co,this.range=e.range||m9e,this.diff=e.diff||Qk,this.ceil=e.ceil||p9e,this.min=e.min||dQ,this.max=e.max||fQ,this.minutes=e.minutes||uh,this.daySpan=e.daySpan||yN,this.firstVisibleDay=e.firstVisibleDay||NZ,this.lastVisibleDay=e.lastVisibleDay||IZ,this.visibleDays=e.visibleDays||h9e,this.getSlotDate=e.getSlotDate||w9e,this.getTimezoneOffset=e.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||Zk,this.getTotalMin=e.getTotalMin||b9e,this.getMinutesFromMidnight=e.getMinutesFromMidnight||_9e,this.continuesPrior=e.continuesPrior||S9e,this.continuesAfter=e.continuesAfter||E9e,this.sortEvents=e.sortEvents||A9e,this.inEventRange=e.inEventRange||C9e,this.isSameDate=e.isSameDate||T9e,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||N9e,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function P9e(t,e,r,n){var i=Vt(Vt({},t.formats),r);return Vt(Vt({},t),{},{messages:n,startOfWeek:function(){return t.startOfWeek(e)},format:function(o,s){return t.format(o,i[s]||s,e)}})}var O9e=function(t){function e(){var r;dn(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=oi(this,e,[].concat(i)),r.navigate=function(o){r.props.onNavigate(o)},r.view=function(o){r.props.onView(o)},r}return ai(e,t),fn(e,[{key:"render",value:function(){var n=this.props,i=n.localizer.messages,a=n.label;return D.createElement("div",{className:"rbc-toolbar"},D.createElement("span",{className:"rbc-btn-group"},D.createElement("button",{type:"button",onClick:this.navigate.bind(null,Gi.TODAY)},i.today),D.createElement("button",{type:"button",onClick:this.navigate.bind(null,Gi.PREVIOUS)},i.previous),D.createElement("button",{type:"button",onClick:this.navigate.bind(null,Gi.NEXT)},i.next)),D.createElement("span",{className:"rbc-toolbar-label"},a),D.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(n){var i=this,a=this.props.views,o=this.props.view;if(a.length>1)return a.map(function(s){return D.createElement("button",{type:"button",key:s,className:kr({"rbc-active":o===s}),onClick:i.view.bind(null,s)},n[s])})}}])}(D.Component);function or(t,e){t&&t.apply(null,[].concat(e))}var j9e={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function k9e(t){return Vt(Vt({},j9e),t)}function R9e(t){var e=t.ref,r=t.callback;b.useEffect(function(){var n=function(a){e.current&&!e.current.contains(a.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[e,r])}var D9e=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],PZ=function(t){function e(){return dn(this,e),oi(this,e,arguments)}return ai(e,t),fn(e,[{key:"render",value:function(){var n=this.props,i=n.style,a=n.className,o=n.event,s=n.selected,l=n.isAllDay,u=n.onSelect,d=n.onDoubleClick,f=n.onKeyPress,h=n.localizer,p=n.continuesPrior,m=n.continuesAfter,g=n.accessors,v=n.getters,x=n.children,y=n.components,w=y.event,S=y.eventWrapper,E=n.slotStart,C=n.slotEnd,A=ss(n,D9e);delete A.resizable;var T=g.title(o),N=g.tooltip(o),I=g.end(o),j=g.start(o),O=g.allDay(o),P=l||O||h.diff(j,h.ceil(I,"day"),"day")>1,M=v.eventProp(o,j,I,s),F=D.createElement("div",{className:"rbc-event-content",title:N||void 0},w?D.createElement(w,{event:o,continuesPrior:p,continuesAfter:m,title:T,isAllDay:O,localizer:h,slotStart:E,slotEnd:C}):T);return D.createElement(S,Object.assign({},this.props,{type:"date"}),D.createElement("div",Object.assign({},A,{style:Vt(Vt({},M.style),i),className:kr("rbc-event",a,M.className,{"rbc-selected":s,"rbc-event-allday":P,"rbc-event-continues-prior":p,"rbc-event-continues-after":m}),onClick:function(W){return u&&u(o,W)},onDoubleClick:function(W){return d&&d(o,W)},onKeyDown:function(W){return f&&f(o,W)}}),typeof x=="function"?x(F):F))}}])}(D.Component);function g_(t,e){return!t||e==null?!1:mh(t,e)}function OZ(t,e){var r=t.right-t.left,n=r/e;return n}function jZ(t,e,r,n){var i=OZ(t,n);return r?n-1-Math.floor((e-t.left)/i):Math.floor((e-t.left)/i)}function M9e(t,e){var r=e.x,n=e.y;return n>=t.top&&n<=t.bottom&&r>=t.left&&r<=t.right}function L9e(t,e,r,n,i){var a=-1,o=-1,s=n-1,l=OZ(e,n),u=jZ(e,r.x,i,n),d=e.top<r.y&&e.bottom>r.y,f=e.top<t.y&&e.bottom>t.y,h=t.y>e.bottom,p=e.top>t.y,m=r.top<e.top&&r.bottom>e.bottom;return m&&(a=0,o=s),d&&(p?(a=0,o=u):h&&(a=u,o=s)),f&&(a=o=i?s-Math.floor((t.x-e.left)/l):Math.floor((t.x-e.left)/l),d?u<a?a=u:o=u:t.y<r.y?o=s:a=0),{startIdx:a,endIdx:o}}function $9e(t){var e=t.target,r=t.offset,n=t.container,i=t.box,a=Ru(e),o=a.top,s=a.left,l=a.width,u=a.height,d=Ru(n),f=d.top,h=d.left,p=d.width,m=d.height,g=Ru(i),v=g.width,x=g.height,y=f+m,w=h+p,S=o+x,E=s+v,C=r.x,A=r.y,T=S>y?o-x-A:o+A+u,N=E>w?s+C-v+l:s+C;return{topOffset:T,leftOffset:N}}function F9e(t){var e=t.containerRef,r=t.accessors,n=t.getters,i=t.selected,a=t.components,o=t.localizer,s=t.position,l=t.show,u=t.events,d=t.slotStart,f=t.slotEnd,h=t.onSelect,p=t.onDoubleClick,m=t.onKeyPress,g=t.handleDragStart,v=t.popperRef,x=t.target,y=t.offset;R9e({ref:v,callback:l}),b.useLayoutEffect(function(){var E=$9e({target:x,offset:y,container:e.current,box:v.current}),C=E.topOffset,A=E.leftOffset;v.current.style.top="".concat(C,"px"),v.current.style.left="".concat(A,"px")},[y.x,y.y,x]);var w=s.width,S={minWidth:w+w/2};return D.createElement("div",{style:S,className:"rbc-overlay",ref:v},D.createElement("div",{className:"rbc-overlay-header"},o.format(d,"dayHeaderFormat")),u.map(function(E,C){return D.createElement(PZ,{key:C,type:"popup",localizer:o,event:E,getters:n,onSelect:h,accessors:r,components:a,onDoubleClick:p,onKeyPress:m,continuesPrior:o.lt(r.end(E),d,"day"),continuesAfter:o.gte(r.start(E),f,"day"),slotStart:d,slotEnd:f,selected:g_(E,i),draggable:!0,onDragStart:function(){return g(E)},onDragEnd:function(){return l()}})}))}var kZ=D.forwardRef(function(t,e){return D.createElement(F9e,Object.assign({},t,{popperRef:e}))});kZ.propTypes={accessors:fe.object.isRequired,getters:fe.object.isRequired,selected:fe.object,components:fe.object.isRequired,localizer:fe.object.isRequired,position:fe.object.isRequired,show:fe.func.isRequired,events:fe.array.isRequired,slotStart:fe.instanceOf(Date).isRequired,slotEnd:fe.instanceOf(Date),onSelect:fe.func,onDoubleClick:fe.func,onKeyPress:fe.func,handleDragStart:fe.func,style:fe.object,offset:fe.shape({x:fe.number,y:fe.number})};function B9e(t){var e=t.containerRef,r=t.popupOffset,n=r===void 0?5:r,i=t.overlay,a=t.accessors,o=t.localizer,s=t.components,l=t.getters,u=t.selected,d=t.handleSelectEvent,f=t.handleDoubleClickEvent,h=t.handleKeyPressEvent,p=t.handleDragStart,m=t.onHide,g=t.overlayDisplay,v=b.useRef(null);if(!i.position)return null;var x=n;isNaN(n)||(x={x:n,y:n});var y=i.position,w=i.events,S=i.date,E=i.end;return D.createElement(jk,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:m,target:i.target},function(C){var A=C.props;return D.createElement(kZ,Object.assign({},A,{containerRef:e,ref:v,target:i.target,offset:x,accessors:a,getters:l,selected:u,components:s,localizer:o,position:y,show:g,events:w,slotStart:S,slotEnd:E,onSelect:d,onDoubleClick:f,onKeyPress:h,handleDragStart:p}))})}var Jk=D.forwardRef(function(t,e){return D.createElement(B9e,Object.assign({},t,{containerRef:e}))});Jk.propTypes={popupOffset:fe.oneOfType([fe.number,fe.shape({x:fe.number,y:fe.number})]),overlay:fe.shape({position:fe.object,events:fe.array,date:fe.instanceOf(Date),end:fe.instanceOf(Date)}),accessors:fe.object.isRequired,localizer:fe.object.isRequired,components:fe.object.isRequired,getters:fe.object.isRequired,selected:fe.object,handleSelectEvent:fe.func,handleDoubleClickEvent:fe.func,handleKeyPressEvent:fe.func,handleDragStart:fe.func,onHide:fe.func,overlayDisplay:fe.func};function zn(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Om(r,t,e,{passive:!1})}function U9e(t,e,r){return!t||pv(t,document.elementFromPoint(e,r))}function V9e(t,e){var r=e.clientX,n=e.clientY,i=document.elementFromPoint(r,n);return QQ(i,".rbc-event",t)}function z9e(t,e){var r=e.clientX,n=e.clientY,i=document.elementFromPoint(r,n);return QQ(i,".rbc-show-more",t)}function Iw(t,e){return!!V9e(t,e)}function W9e(t,e){return!!z9e(t,e)}function am(t){var e=t;return t.touches&&t.touches.length&&(e=t.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var jL=5,H9e=250,RZ=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,i=n===void 0?!1:n,a=r.longPressThreshold,o=a===void 0?250:a,s=r.validContainers,l=s===void 0?[]:s;dn(this,t),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||i,this.longPressThreshold=o,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=zn("touchmove",function(){},window),this._removeKeyDownListener=zn("keydown",this._keyListener),this._removeKeyUpListener=zn("keyup",this._keyListener),this._removeDropFromOutsideListener=zn("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=zn("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return fn(t,[{key:"on",value:function(r,n){var i=this._listeners[r]||(this._listeners[r]=[]);return i.push(n),{remove:function(){var o=i.indexOf(n);o!==-1&&i.splice(o,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var o,s=this._listeners[r]||[];return s.forEach(function(l){o===void 0&&(o=l.apply(void 0,i))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:kL(n,ld(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var i=this,a=null,o=null,s=null,l=function(h){a=setTimeout(function(){d(),r(h)},i.longPressThreshold),o=zn("touchmove",function(){return d()}),s=zn("touchend",function(){return d()})},u=zn("touchstart",l),d=function(){a&&clearTimeout(a),o&&o(),s&&s(),a=null,o=null,s=null};return n&&l(n),function(){d(),u()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=zn("mousedown",function(a){r._removeInitialEventListener(),r._handleInitialEvent(a),r._removeInitialEventListener=zn("mousedown",r._handleInitialEvent)}),i=zn("touchstart",function(a){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,a)});this._removeInitialEventListener=function(){n(),i()}}},{key:"_dropFromOutsideListener",value:function(r){var n=am(r),i=n.pageX,a=n.pageY,o=n.clientX,s=n.clientY;this.emit("dropFromOutside",{x:i,y:a,clientX:o,clientY:s}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=am(r),i=n.pageX,a=n.pageY,o=n.clientX,s=n.clientY;this.emit("dragOverFromOutside",{x:i,y:a,clientX:o,clientY:s}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=am(r),i=n.clientX,a=n.clientY,o=n.pageX,s=n.pageY,l=this.container(),u,d;if(!(r.which===3||r.button===2||!U9e(l,i,a))){if(!this.globalMouse&&l&&!pv(l,r.target)){var f=G9e(0),h=f.top,p=f.left,m=f.bottom,g=f.right;if(d=ld(l),u=kL({top:d.top-h,left:d.left-p,bottom:d.bottom+m,right:d.right+g},{top:s,left:o}),!u)return}var v=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:o,y:s,clientX:i,clientY:a});if(v!==!1)switch(r.type){case"mousedown":this._removeEndListener=zn("mouseup",this._handleTerminatingEvent),this._onEscListener=zn("keydown",this._handleTerminatingEvent),this._removeMoveListener=zn("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=zn("touchend",this._handleTerminatingEvent),this._removeMoveListener=zn("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,i=this.validContainers;return!i||!i.length||!n?!0:i.some(function(a){return!!n.closest(a)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,i=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var a=!this.container||pv(this.container(),r.target),o=this._isWithinValidContainer(r);return r.key==="Escape"||!o?this.emit("reset"):!n&&a?this._handleClickEvent(r):n?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=am(r),i=n.pageX,a=n.pageY,o=n.clientX,s=n.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<H9e?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:a,clientX:o,clientY:s})):(this._lastClickData={timestamp:l},this.emit("click",{x:i,y:a,clientX:o,clientY:s}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,i=n.x,a=n.y,o=am(r),s=o.pageX,l=o.pageY,u=Math.abs(i-s),d=Math.abs(a-l),f=Math.min(s,i),h=Math.min(l,a),p=this.selecting,m=this.isClick(s,l);m&&!p&&!(u||d)||(!p&&!m&&this.emit("selectStart",this._initialEventData),m||(this.selecting=!0,this._selectRect={top:h,left:f,x:s,y:l,right:f+u,bottom:h+d},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var i=this._initialEventData,a=i.x,o=i.y,s=i.isTouch;return!s&&Math.abs(r-a)<=jL&&Math.abs(n-o)<=jL}}])}();function G9e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Ao(t)!=="object"&&(t={top:t,left:t,right:t,bottom:t}),t}function kL(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=ld(t),i=n.top,a=n.left,o=n.right,s=o===void 0?a:o,l=n.bottom,u=l===void 0?i:l,d=ld(e),f=d.top,h=d.left,p=d.right,m=p===void 0?h:p,g=d.bottom,v=g===void 0?f:g;return!(u-r<f||i+r>v||s-r<h||a+r>m)}function ld(t){if(!t.getBoundingClientRect)return t;var e=t.getBoundingClientRect(),r=e.left+RL("left"),n=e.top+RL("top");return{top:n,left:r,right:(t.offsetWidth||0)+r,bottom:(t.offsetHeight||0)+n}}function RL(t){if(t==="left")return window.pageXOffset||document.body.scrollLeft||0;if(t==="top")return window.pageYOffset||document.body.scrollTop||0}var q9e=function(t){function e(r,n){var i;return dn(this,e),i=oi(this,e,[r,n]),i.state={selecting:!1},i.containerRef=b.createRef(),i}return ai(e,t),fn(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,i=n.range,a=n.getNow,o=n.getters,s=n.date,l=n.components.dateCellWrapper,u=n.localizer,d=this.state,f=d.selecting,h=d.startIdx,p=d.endIdx,m=a();return D.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(g,v){var x=f&&v>=h&&v<=p,y=o.dayProp(g),w=y.className,S=y.style;return D.createElement(l,{key:v,value:g,range:i},D.createElement("div",{style:S,className:kr("rbc-day-bg",w,x&&"rbc-selected-cell",u.isSameDate(g,m)&&"rbc-today",s&&u.neq(s,g,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,i=this.containerRef.current,a=this._selector=new RZ(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(l,u){if(!Iw(i,l)&&!W9e(i,l)){var d=ld(i),f=n.props,h=f.range,p=f.rtl;if(M9e(d,l)){var m=jZ(d,l.x,p,h.length);n._selectSlot({startIdx:m,endIdx:m,action:u,box:l})}}n._initial={},n.setState({selecting:!1})};a.on("selecting",function(s){var l=n.props,u=l.range,d=l.rtl,f=-1,h=-1;if(n.state.selecting||(or(n.props.onSelectStart,[s]),n._initial={x:s.x,y:s.y}),a.isSelected(i)){var p=ld(i),m=L9e(n._initial,p,s,u.length,d);f=m.startIdx,h=m.endIdx}n.setState({selecting:!0,startIdx:f,endIdx:h})}),a.on("beforeSelect",function(s){if(n.props.selectable==="ignoreEvents")return!Iw(n.containerRef.current,s)}),a.on("click",function(s){return o(s,"click")}),a.on("doubleClick",function(s){return o(s,"doubleClick")}),a.on("select",function(s){n._selectSlot(Vt(Vt({},n.state),{},{action:"select",bounds:s})),n._initial={},n.setState({selecting:!1}),or(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var i=n.endIdx,a=n.startIdx,o=n.action,s=n.bounds,l=n.box;i!==-1&&a!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:a,end:i,action:o,bounds:s,box:l,resourceId:this.props.resourceId})}}])}(D.Component),Ca={propTypes:{slotMetrics:fe.object.isRequired,selected:fe.object,isAllDay:fe.bool,accessors:fe.object.isRequired,localizer:fe.object.isRequired,components:fe.object.isRequired,getters:fe.object.isRequired,onSelect:fe.func,onDoubleClick:fe.func,onKeyPress:fe.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,r){var n=e.selected;e.isAllDay;var i=e.accessors,a=e.getters,o=e.onSelect,s=e.onDoubleClick,l=e.onKeyPress,u=e.localizer,d=e.slotMetrics,f=e.components,h=e.resizable,p=d.continuesPrior(r),m=d.continuesAfter(r);return D.createElement(PZ,{event:r,getters:a,localizer:u,accessors:i,components:f,onSelect:o,onDoubleClick:s,onKeyPress:l,continuesPrior:p,continuesAfter:m,slotStart:d.first,slotEnd:d.last,selected:g_(r,n),resizable:h})},renderSpan:function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",a=Math.abs(r)/e*100+"%";return D.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:a,flexBasis:a,maxWidth:a}},i)}},DZ=function(t){function e(){return dn(this,e),oi(this,e,arguments)}return ai(e,t),fn(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.segments,o=i.slotMetrics.slots,s=i.className,l=1;return D.createElement("div",{className:kr(s,"rbc-row")},a.reduce(function(u,d,f){var h=d.event,p=d.left,m=d.right,g=d.span,v="_lvl_"+f,x=p-l,y=Ca.renderEvent(n.props,h);return x&&u.push(Ca.renderSpan(o,x,"".concat(v,"_gap"))),u.push(Ca.renderSpan(o,g,v,y)),l=m+1,u},[]))}}])}(D.Component);DZ.defaultProps=Vt({},Ca.defaultProps);function MZ(t){var e=t.dateRange,r=t.unit,n=r===void 0?"day":r,i=t.localizer;return{first:e[0],last:i.add(e[e.length-1],1,n)}}function K9e(t,e,r,n){var i=MZ({dateRange:e,localizer:n}),a=i.first,o=i.last,s=n.diff(a,o,"day"),l=n.max(n.startOf(r.start(t),"day"),a),u=n.min(n.ceil(r.end(t),"day"),o),d=n6e(e,function(h){return n.isSameDate(h,l)}),f=n.diff(l,u,"day");return f=Math.min(f,s),f=Math.max(f-n.segmentOffset,1),{event:t,span:f,left:d+1,right:Math.max(d+f,1)}}function xN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,i,a=[],o=[];for(r=0;r<t.length;r++){for(i=t[r],n=0;n<a.length&&Y9e(i,a[n]);n++);n>=e?o.push(i):(a[n]||(a[n]=[])).push(i)}for(r=0;r<a.length;r++)a[r].sort(function(s,l){return s.left-l.left});return{levels:a,extra:o}}function yv(t,e,r,n,i){var a={start:n.start(t),end:n.end(t)},o={start:e,end:r};return i.inEventRange({event:a,range:o})}function Y9e(t,e){return e.some(function(r){return r.left<=t.right&&r.right>=t.left})}function X9e(t,e,r){var n=Q1(t),i=[],a=[];n.forEach(function(l){var u=e.start(l),d=e.end(l);r.daySpan(u,d)>1?i.push(l):a.push(l)});var o=i.sort(function(l,u){return wN(l,u,e,r)}),s=a.sort(function(l,u){return wN(l,u,e,r)});return[].concat(Q1(o),Q1(s))}function wN(t,e,r,n){var i={start:r.start(t),end:r.end(t),allDay:r.allDay(t)},a={start:r.start(e),end:r.end(e),allDay:r.allDay(e)};return n.sortEvents({evtA:i,evtB:a})}var bN=function(e,r){return e.left<=r&&e.right>=r},tA=function(e,r){return e.filter(function(n){return bN(n,r)}).map(function(n){return n.event})},LZ=function(t){function e(){return dn(this,e),oi(this,e,arguments)}return ai(e,t),fn(e,[{key:"render",value:function(){for(var n=this.props,i=n.segments,a=n.slotMetrics.slots,o=xN(i).levels[0],s=1,l=1,u=[];s<=a;){var d="_lvl_"+s,f=o.filter(function(S){return bN(S,s)})[0]||{},h=f.event,p=f.left,m=f.right,g=f.span;if(!h){var v=this.getHiddenEventsForSlot(i,s);if(v.length>0){var x=s-l;x&&u.push(Ca.renderSpan(a,x,d+"_gap")),u.push(Ca.renderSpan(a,1,d,this.renderShowMore(i,s))),l=s=s+1;continue}s++;continue}var y=Math.max(0,p-l);if(this.canRenderSlotEvent(p,g)){var w=Ca.renderEvent(this.props,h);y&&u.push(Ca.renderSpan(a,y,d+"_gap")),u.push(Ca.renderSpan(a,g,d,w)),l=s=m+1}else y&&u.push(Ca.renderSpan(a,y,d+"_gap")),u.push(Ca.renderSpan(a,1,d,this.renderShowMore(i,s))),l=s=s+1}return D.createElement("div",{className:"rbc-row"},u)}},{key:"getHiddenEventsForSlot",value:function(n,i){var a=tA(n,i),o=xN(n).levels[0],s=o.filter(function(l){return bN(l,i)}).map(function(l){return l.event});return a.filter(function(l){return!s.some(function(u){return u===l})})}},{key:"canRenderSlotEvent",value:function(n,i){var a=this.props.segments;return vv(n,n+i).every(function(o){var s=tA(a,o).length;return s===1})}},{key:"renderShowMore",value:function(n,i){var a=this,o=this.props,s=o.localizer,l=o.slotMetrics,u=o.components,d=l.getEventsForSlot(i),f=tA(n,i),h=f.length;if(u!=null&&u.showMore){var p=u.showMore,m=l.getDateForSlot(i-1);return h?D.createElement(p,{localizer:s,slotDate:m,slot:i,count:h,events:d,remainingEvents:f}):!1}return h?D.createElement("button",{type:"button",key:"sm_"+i,className:kr("rbc-button-link","rbc-show-more"),onClick:function(v){return a.showMore(i,v)}},s.messages.showMore(h,f,d)):!1}},{key:"showMore",value:function(n,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(n,i.target)}}])}(D.Component);LZ.defaultProps=Vt({},Ca.defaultProps);var Q9e=function(e){var r=e.children;return D.createElement("div",{className:"rbc-row-content-scroll-container"},r)},Z9e=function(e,r){return e.left<=r&&e.right>=r},J9e=function(e,r){return e[0].range===r[0].range&&e[0].events===r[0].events};function $Z(){return sZ(function(t){for(var e=t.range,r=t.events,n=t.maxRows,i=t.minRows,a=t.accessors,o=t.localizer,s=MZ({dateRange:e,localizer:o}),l=s.first,u=s.last,d=r.map(function(g){return K9e(g,e,a,o)}),f=xN(d,Math.max(n-1,1)),h=f.levels,p=f.extra,m=p.length>0?i-1:i;h.length<m;)h.push([]);return{first:l,last:u,levels:h,extra:p,range:e,slots:e.length,clone:function(v){var x=$Z();return x(Vt(Vt({},t),v))},getDateForSlot:function(v){return e[v]},getSlotForDate:function(v){return e.find(function(x){return o.isSameDate(x,v)})},getEventsForSlot:function(v){return d.filter(function(x){return Z9e(x,v)}).map(function(x){return x.event})},continuesPrior:function(v){return o.continuesPrior(a.start(v),l)},continuesAfter:function(v){var x=a.start(v),y=a.end(v);return o.continuesAfter(x,y,u)}}},J9e)}var xv=function(t){function e(){var r;dn(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=oi(this,e,[].concat(i)),r.handleSelectSlot=function(o){var s=r.props,l=s.range,u=s.onSelectSlot;u(l.slice(o.start,o.end+1),o)},r.handleShowMore=function(o,s){var l=r.props,u=l.range,d=l.onShowMore,f=r.slotMetrics(r.props),h=hPe(r.containerRef.current,".rbc-row-bg")[0],p;h&&(p=h.children[o-1]);var m=f.getEventsForSlot(o);d(m,u[o-1],p,o,s)},r.getContainer=function(){var o=r.props.container;return o?o():r.containerRef.current},r.renderHeadingCell=function(o,s){var l=r.props,u=l.renderHeader,d=l.getNow,f=l.localizer;return u({date:o,key:"header_".concat(s),className:kr("rbc-date-cell",f.isSameDate(o,d())&&"rbc-now")})},r.renderDummy=function(){var o=r.props,s=o.className,l=o.range,u=o.renderHeader,d=o.showAllEvents;return D.createElement("div",{className:s,ref:r.containerRef},D.createElement("div",{className:kr("rbc-row-content",d&&"rbc-row-content-scrollable")},u&&D.createElement("div",{className:"rbc-row",ref:r.headingRowRef},l.map(r.renderHeadingCell)),D.createElement("div",{className:"rbc-row",ref:r.eventRowRef},D.createElement("div",{className:"rbc-row-segment"},D.createElement("div",{className:"rbc-event"},D.createElement("div",{className:"rbc-event-content"},""))))))},r.containerRef=b.createRef(),r.headingRowRef=b.createRef(),r.eventRowRef=b.createRef(),r.slotMetrics=$Z(),r}return ai(e,t),fn(e,[{key:"getRowLimit",value:function(){var n,i=ZE(this.eventRowRef.current),a=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?ZE(this.headingRowRef.current):0,o=ZE(this.containerRef.current)-a;return Math.max(Math.floor(o/i),1)}},{key:"render",value:function(){var n=this.props,i=n.date,a=n.rtl,o=n.range,s=n.className,l=n.selected,u=n.selectable,d=n.renderForMeasure,f=n.accessors,h=n.getters,p=n.components,m=n.getNow,g=n.renderHeader,v=n.onSelect,x=n.localizer,y=n.onSelectStart,w=n.onSelectEnd,S=n.onDoubleClick,E=n.onKeyPress,C=n.resourceId,A=n.longPressThreshold,T=n.isAllDay,N=n.resizable,I=n.showAllEvents;if(d)return this.renderDummy();var j=this.slotMetrics(this.props),O=j.levels,P=j.extra,M=I?Q9e:Ro,F=p.weekWrapper,B={selected:l,accessors:f,getters:h,localizer:x,components:p,onSelect:v,onDoubleClick:S,onKeyPress:E,resourceId:C,slotMetrics:j,resizable:N};return D.createElement("div",{className:s,role:"rowgroup",ref:this.containerRef},D.createElement(q9e,{localizer:x,date:i,getNow:m,rtl:a,range:o,selectable:u,container:this.getContainer,getters:h,onSelectStart:y,onSelectEnd:w,onSelectSlot:this.handleSelectSlot,components:p,longPressThreshold:A,resourceId:C}),D.createElement("div",{className:kr("rbc-row-content",I&&"rbc-row-content-scrollable"),role:"row"},g&&D.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),D.createElement(M,null,D.createElement(F,Object.assign({isAllDay:T},B,{rtl:this.props.rtl}),O.map(function(W,$){return D.createElement(DZ,Object.assign({key:$,segments:W},B))}),!!P.length&&D.createElement(LZ,Object.assign({segments:P,onShowMore:this.handleShowMore},B))))))}}])}(D.Component);xv.defaultProps={minRows:0,maxRows:1/0};var e3=function(e){var r=e.label;return D.createElement("span",{role:"columnheader","aria-sort":"none"},r)},e7e=function(e){var r=e.label,n=e.drilldownView,i=e.onDrillDown;return n?D.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},r):D.createElement("span",null,r)},t7e=["date","className"],r7e=function(e,r,n,i,a){return e.filter(function(o){return yv(o,r,n,i,a)})},v_=function(t){function e(){var r;dn(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=oi(this,e,[].concat(i)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(o,s){var l=r.props,u=l.events,d=l.components,f=l.selectable,h=l.getNow,p=l.selected,m=l.date,g=l.localizer,v=l.longPressThreshold,x=l.accessors,y=l.getters,w=l.showAllEvents,S=r.state,E=S.needLimitMeasure,C=S.rowLimit,A=r7e(Q1(u),o[0],o[o.length-1],x,g),T=X9e(A,x,g);return D.createElement(xv,{key:s,ref:s===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:h,date:m,range:o,events:T,maxRows:w?1/0:C,selected:p,selectable:f,components:d,accessors:x,getters:y,localizer:g,renderHeader:r.readerDateHeading,renderForMeasure:E,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:v,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:w})},r.readerDateHeading=function(o){var s=o.date,l=o.className,u=ss(o,t7e),d=r.props,f=d.date,h=d.getDrilldownView,p=d.localizer,m=p.neq(f,s,"month"),g=p.isSameDate(s,f),v=h(s),x=p.format(s,"dateFormat"),y=r.props.components.dateHeader||e7e;return D.createElement("div",Object.assign({},u,{className:kr(l,m&&"rbc-off-range",g&&"rbc-current"),role:"cell"}),D.createElement(y,{label:x,date:s,drilldownView:v,isOffRange:m,onDrillDown:function(S){return r.handleHeadingClick(s,v,S)}}))},r.handleSelectSlot=function(o,s){r._pendingSelection=r._pendingSelection.concat(o),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(s)})},r.handleHeadingClick=function(o,s,l){l.preventDefault(),r.clearSelection(),or(r.props.onDrillDown,[o,s])},r.handleSelectEvent=function(){r.clearSelection();for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];or(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];or(r.props.onDoubleClickEvent,s)},r.handleKeyPressEvent=function(){r.clearSelection();for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];or(r.props.onKeyPressEvent,s)},r.handleShowMore=function(o,s,l,u,d){var f=r.props,h=f.popup,p=f.onDrillDown,m=f.onShowMore,g=f.getDrilldownView,v=f.doShowMoreDrillDown;if(r.clearSelection(),h){var x=CQ(l,r.containerRef.current);r.setState({overlay:{date:s,events:o,position:x,target:d}})}else v&&or(p,[s,g(s)||yi.DAY]);or(m,[o,s,u])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=b.createRef(),r.slotRowRef=b.createRef(),r._bgRows=[],r._pendingSelection=[],r}return ai(e,t),fn(e,[{key:"componentDidMount",value:function(){var n=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||TQ(function(){i=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,i=n.date,a=n.localizer,o=n.className,s=a.visibleDays(i,a),l=QIe(s,7);return this._weekCount=l.length,D.createElement("div",{className:kr("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},D.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var i=this.props,a=i.localizer,o=i.components,s=n[0],l=n[n.length-1],u=o.header||e3;return a.range(s,l,"day").map(function(d,f){return D.createElement("div",{key:"header_"+f,className:"rbc-header"},D.createElement(u,{date:d,localizer:a,label:a.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,i,a=this,o=(n=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&n!==void 0?n:{},s=this.props,l=s.accessors,u=s.localizer,d=s.components,f=s.getters,h=s.selected,p=s.popupOffset,m=s.handleDragStart,g=function(){return a.setState({overlay:null})};return D.createElement(Jk,{overlay:o,accessors:l,localizer:u,components:d,getters:f,selected:h,popupOffset:p,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:m,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(s,l){return+s-+l});var a=new Date(i[0]),o=new Date(i[i.length-1]);o.setDate(i[i.length-1].getDate()+1),or(this.props.onSelectSlot,{slots:i,start:a,end:o,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,i){var a=n.date,o=n.localizer;return{date:a,needLimitMeasure:o.neq(a,i.date,"month")}}}])}(D.Component);v_.range=function(t,e){var r=e.localizer,n=r.firstVisibleDay(t,r),i=r.lastVisibleDay(t,r);return{start:n,end:i}};v_.navigate=function(t,e,r){var n=r.localizer;switch(e){case Gi.PREVIOUS:return n.add(t,-1,"month");case Gi.NEXT:return n.add(t,1,"month");default:return t}};v_.title=function(t,e){var r=e.localizer;return r.format(t,"monthHeaderFormat")};var DL=function(e){var r=e.min,n=e.max,i=e.step,a=e.slots,o=e.localizer;return"".concat(+o.startOf(r,"minutes"))+"".concat(+o.startOf(n,"minutes"))+"".concat(i,"-").concat(a)};function t3(t){for(var e=t.min,r=t.max,n=t.step,i=t.timeslots,a=t.localizer,o=DL({step:n,localizer:a}),s=1+a.getTotalMin(e,r),l=a.getMinutesFromMidnight(e),u=Math.ceil((s-1)/(n*i)),d=u*i,f=new Array(u),h=new Array(d),p=0;p<u;p++){f[p]=new Array(i);for(var m=0;m<i;m++){var g=p*i+m,v=g*n;h[g]=f[p][m]=a.getSlotDate(e,l,v)}}var x=h.length*n;h.push(a.getSlotDate(e,l,x));function y(w){var S=a.diff(e,w,"minutes")+a.getDstOffset(e,w);return Math.min(S,s)}return{groups:f,update:function(S){return DL(S)!==o?t3(S):this},dateIsInGroup:function(S,E){var C=f[E+1];return a.inRange(S,f[E][0],C?C[0]:r,"minutes")},nextSlot:function(S){var E=h[Math.min(h.findIndex(function(C){return C===S||a.eq(C,S)})+1,h.length-1)];return a.eq(E,S)&&(E=a.add(S,n,"minutes")),E},closestSlotToPosition:function(S){var E=Math.min(h.length-1,Math.max(0,Math.floor(S*d)));return h[E]},closestSlotFromPoint:function(S,E){var C=Math.abs(E.top-E.bottom);return this.closestSlotToPosition((S.y-E.top)/C)},closestSlotFromDate:function(S){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(a.lt(S,e,"minutes"))return h[0];if(a.gt(S,r,"minutes"))return h[h.length-1];var C=a.diff(e,S,"minutes");return h[(C-C%n)/n+E]},startsBeforeDay:function(S){return a.lt(S,e,"day")},startsAfterDay:function(S){return a.gt(S,r,"day")},startsBefore:function(S){return a.lt(a.merge(e,S),e,"minutes")},startsAfter:function(S){return a.gt(a.merge(r,S),r,"minutes")},getRange:function(S,E,C,A){C||(S=a.min(r,a.max(e,S))),A||(E=a.min(r,a.max(e,E)));var T=y(S),N=y(E),I=N>n*d&&!a.eq(r,E)?(T-n)/(n*d)*100:T/(n*d)*100;return{top:I,height:N/(n*d)*100-I,start:y(S),startDate:S,end:y(E),endDate:E}},getCurrentTimePosition:function(S){var E=y(S),C=E/(n*d)*100;return C}}}var n7e=function(){function t(e,r){var n=r.accessors,i=r.slotMetrics;dn(this,t);var a=i.getRange(n.start(e),n.end(e)),o=a.start,s=a.startDate,l=a.end,u=a.endDate,d=a.top,f=a.height;this.start=o,this.end=l,this.startMs=+s,this.endMs=+u,this.top=d,this.height=f,this.data=e}return fn(t,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(i,a){return Math.max(i,a.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var i=this.row.leaves,a=i.indexOf(this);return a===i.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,i=r.xOffset,a=r._width,o=n.indexOf(this)+1;return i+o*a}}])}();function i7e(t,e,r){return Math.abs(e.start-t.start)<r||e.start>t.start&&e.start<t.end}function a7e(t){for(var e=h_(t,["startMs",function(s){return-s.endMs}]),r=[];e.length>0;){var n=e.shift();r.push(n);for(var i=0;i<e.length;i++){var a=e[i];if(!(n.endMs>a.startMs)){if(i>0){var o=e.splice(i,1)[0];r.push(o)}break}}}return r}function FZ(t){for(var e=t.events,r=t.minimumStartDifference,n=t.slotMetrics,i=t.accessors,a=e.map(function(d){return new n7e(d,{slotMetrics:n,accessors:i})}),o=a7e(a),s=[],l=function(){var f=o[u],h=s.find(function(g){return g.end>f.start||Math.abs(f.start-g.start)<r});if(!h)return f.rows=[],s.push(f),1;f.container=h;for(var p=null,m=h.rows.length-1;!p&&m>=0;m--)i7e(h.rows[m],f,r)&&(p=h.rows[m]);p?(p.leaves.push(f),f.row=p):(f.leaves=[],h.rows.push(f))},u=0;u<o.length;u++)l();return o.map(function(d){return{event:d.data,style:{top:d.top,height:d.height,width:d.width,xOffset:Math.max(0,d.xOffset)}}})}function BZ(t,e,r){for(var n=0;n<t.friends.length;++n)if(!(r.indexOf(t.friends[n])>-1)){e=e>t.friends[n].idx?e:t.friends[n].idx,r.push(t.friends[n]);var i=BZ(t.friends[n],e,r);e=e>i?e:i}return e}function o7e(t){var e=t.events,r=t.minimumStartDifference,n=t.slotMetrics,i=t.accessors,a=FZ({events:e,minimumStartDifference:r,slotMetrics:n,accessors:i});a.sort(function(F,B){return F=F.style,B=B.style,F.top!==B.top?F.top>B.top?1:-1:F.height!==B.height?F.top+F.height<B.top+B.height?1:-1:0});for(var o=0;o<a.length;++o)a[o].friends=[],delete a[o].style.left,delete a[o].style.left,delete a[o].idx,delete a[o].size;for(var s=0;s<a.length-1;++s)for(var l=a[s],u=l.style.top,d=l.style.top+l.style.height,f=s+1;f<a.length;++f){var h=a[f],p=h.style.top,m=h.style.top+h.style.height;(p>=u&&m<=d||m>u&&m<=d||p>=u&&p<d)&&(l.friends.push(h),h.friends.push(l))}for(var g=0;g<a.length;++g){for(var v=a[g],x=[],y=0;y<100;++y)x.push(1);for(var w=0;w<v.friends.length;++w)v.friends[w].idx!==void 0&&(x[v.friends[w].idx]=0);v.idx=x.indexOf(1)}for(var S=0;S<a.length;++S){var E=0;if(!a[S].size){var C=[],A=BZ(a[S],0,C);E=100/(A+1),a[S].size=E;for(var T=0;T<C.length;++T)C[T].size=E}}for(var N=0;N<a.length;++N){var I=a[N];I.style.left=I.idx*I.size;for(var j=0,O=0;O<I.friends.length;++O){var P=I.friends[O].idx;j=j>P?j:P}j<=I.idx&&(I.size=100-I.idx*I.size);var M=I.idx===0?0:3;I.style.width="calc(".concat(I.size,"% - ").concat(M,"px)"),I.style.height="calc(".concat(I.style.height,"% - 2px)"),I.style.xOffset="calc(".concat(I.style.left,"% + ").concat(M,"px)")}return a}var ML={overlap:FZ,"no-overlap":o7e};function s7e(t){return!!(t&&t.constructor&&t.call&&t.apply)}function l7e(t){t.events,t.minimumStartDifference,t.slotMetrics,t.accessors;var e=t.dayLayoutAlgorithm,r=e;return e in ML&&(r=ML[e]),s7e(r)?r.apply(this,arguments):[]}var UZ=function(t){function e(){return dn(this,e),oi(this,e,arguments)}return ai(e,t),fn(e,[{key:"render",value:function(){var n=this.props,i=n.renderSlot,a=n.resource,o=n.group,s=n.getters,l=n.components,u=l===void 0?{}:l,d=u.timeSlotWrapper,f=d===void 0?Ro:d,h=s?s.slotGroupProp(o):{};return D.createElement("div",Object.assign({className:"rbc-timeslot-group"},h),o.map(function(p,m){var g=s?s.slotProp(p,a):{};return D.createElement(f,{key:m,value:p,resource:a},D.createElement("div",Object.assign({},g,{className:kr("rbc-time-slot",g.className)}),i&&i(p,m)))}))}}])}(b.Component);function Jy(t){return typeof t=="string"?t:t+"%"}function c7e(t){var e=t.style,r=t.className,n=t.event,i=t.accessors,a=t.rtl,o=t.selected,s=t.label,l=t.continuesPrior,u=t.continuesAfter,d=t.getters,f=t.onClick,h=t.onDoubleClick,p=t.isBackgroundEvent,m=t.onKeyPress,g=t.components,v=g.event,x=g.eventWrapper,y=i.title(n),w=i.tooltip(n),S=i.end(n),E=i.start(n),C=d.eventProp(n,E,S,o),A=[D.createElement("div",{key:"1",className:"rbc-event-label"},s),D.createElement("div",{key:"2",className:"rbc-event-content"},v?D.createElement(v,{event:n,title:y}):y)],T=e.height,N=e.top,I=e.width,j=e.xOffset,O=Vt(Vt({},C.style),{},gu({top:Jy(N),height:Jy(T),width:Jy(I)},a?"right":"left",Jy(j)));return D.createElement(x,Object.assign({type:"time"},t),D.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:h,style:O,onKeyDown:m,title:w?(typeof s=="string"?s+": ":"")+w:void 0,className:kr(p?"rbc-background-event":"rbc-event",r,C.className,{"rbc-selected":o,"rbc-event-continues-earlier":l,"rbc-event-continues-later":u})},A))}var u7e=function(e){var r=e.children,n=e.className,i=e.style,a=e.innerRef;return D.createElement("div",{className:n,style:i,ref:a},r)},d7e=D.forwardRef(function(t,e){return D.createElement(u7e,Object.assign({},t,{innerRef:e}))}),f7e=["dayProp"],h7e=["eventContainerWrapper","timeIndicatorWrapper"],VZ=function(t){function e(){var r;dn(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=oi(this,e,[].concat(i)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(o){var s=o.events,l=o.isBackgroundEvent,u=r.props,d=u.rtl,f=u.selected,h=u.accessors,p=u.localizer,m=u.getters,g=u.components,v=u.step,x=u.timeslots,y=u.dayLayoutAlgorithm,w=u.resizable,S=r,E=S.slotMetrics,C=p.messages,A=l7e({events:s,accessors:h,slotMetrics:E,minimumStartDifference:Math.ceil(v*x/2),dayLayoutAlgorithm:y});return A.map(function(T,N){var I,j=T.event,O=T.style,P=h.end(j),M=h.start(j),F=(I=h.eventId(j))!==null&&I!==void 0?I:"evt_"+N,B="eventTimeRangeFormat",W,$=E.startsBeforeDay(M),U=E.startsAfterDay(P);$?B="eventTimeRangeEndFormat":U&&(B="eventTimeRangeStartFormat"),$&&U?W=C.allDay:W=p.format({start:M,end:P},B);var X=$||E.startsBefore(M),H=U||E.startsAfter(P);return D.createElement(c7e,{style:O,event:j,label:W,key:F,getters:m,rtl:d,components:g,continuesPrior:X,continuesAfter:H,accessors:h,resource:r.props.resource,selected:g_(j,f),onClick:function(Q){return r._select(Vt(Vt(Vt({},j),r.props.resource&&{sourceResource:r.props.resource}),l&&{isBackgroundEvent:!0}),Q)},onDoubleClick:function(Q){return r._doubleClick(j,Q)},isBackgroundEvent:l,onKeyPress:function(Q){return r._keyPress(j,Q)},resizable:w})})},r._selectable=function(){var o=r.containerRef.current,s=r.props,l=s.longPressThreshold,u=s.localizer,d=r._selector=new RZ(function(){return o},{longPressThreshold:l}),f=function(g){var v=r.props.onSelecting,x=r.state||{},y=h(g),w=y.startDate,S=y.endDate;v&&(u.eq(x.startDate,w,"minutes")&&u.eq(x.endDate,S,"minutes")||v({start:w,end:S,resourceId:r.props.resource})===!1)||(r.state.start!==y.start||r.state.end!==y.end||r.state.selecting!==y.selecting)&&r.setState(y)},h=function(g){var v=r.slotMetrics.closestSlotFromPoint(g,ld(o));r.state.selecting||(r._initialSlot=v);var x=r._initialSlot;u.lte(x,v)?v=r.slotMetrics.nextSlot(v):u.gt(x,v)&&(x=r.slotMetrics.nextSlot(x));var y=r.slotMetrics.getRange(u.min(x,v),u.max(x,v));return Vt(Vt({},y),{},{selecting:!0,top:"".concat(y.top,"%"),height:"".concat(y.height,"%")})},p=function(g,v){if(!Iw(r.containerRef.current,g)){var x=h(g),y=x.startDate,w=x.endDate;r._selectSlot({startDate:y,endDate:w,action:v,box:g})}r.setState({selecting:!1})};d.on("selecting",f),d.on("selectStart",f),d.on("beforeSelect",function(m){if(r.props.selectable==="ignoreEvents")return!Iw(r.containerRef.current,m)}),d.on("click",function(m){return p(m,"click")}),d.on("doubleClick",function(m){return p(m,"doubleClick")}),d.on("select",function(m){r.state.selecting&&(r._selectSlot(Vt(Vt({},r.state),{},{action:"select",bounds:m})),r.setState({selecting:!1}))}),d.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(o){for(var s=o.startDate,l=o.endDate,u=o.action,d=o.bounds,f=o.box,h=s,p=[];r.props.localizer.lte(h,l);)p.push(h),h=new Date(+h+r.props.step*60*1e3);or(r.props.onSelectSlot,{slots:p,start:s,end:l,resourceId:r.props.resource,action:u,bounds:d,box:f})},r._select=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];or(r.props.onSelectEvent,s)},r._doubleClick=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];or(r.props.onDoubleClickEvent,s)},r._keyPress=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];or(r.props.onKeyPressEvent,s)},r.slotMetrics=t3(r.props),r.containerRef=b.createRef(),r}return ai(e,t),fn(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,i){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var a=this.props,o=a.getNow,s=a.isNow,l=a.localizer,u=a.date,d=a.min,f=a.max,h=l.neq(n.getNow(),o(),"minutes");if(n.isNow!==s||h){if(this.clearTimeIndicatorInterval(),s){var p=!h&&l.eq(n.date,u,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(p)}}else s&&(l.neq(n.min,d,"minutes")||l.neq(n.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,i=n.min,a=n.max,o=n.getNow,s=o();if(s>=i&&s<=a){var l=this.slotMetrics.getCurrentTimePosition(s);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,i=n.date,a=n.max,o=n.rtl,s=n.isNow,l=n.resource,u=n.accessors,d=n.localizer,f=n.getters,h=f.dayProp,p=ss(f,f7e),m=n.components,g=m.eventContainerWrapper,v=m.timeIndicatorWrapper,x=ss(m,h7e);this.slotMetrics=this.slotMetrics.update(this.props);var y=this.slotMetrics,w=this.state,S=w.selecting,E=w.top,C=w.height,A=w.startDate,T=w.endDate,N={start:A,end:T},I=h(a,l),j=I.className,O=I.style,P={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},M=x.dayColumnWrapper||d7e;return D.createElement(M,{ref:this.containerRef,date:i,style:O,className:kr(j,"rbc-day-slot","rbc-time-column",s&&"rbc-now",s&&"rbc-today",S&&"rbc-slot-selecting"),slotMetrics:y,resource:l},y.groups.map(function(F,B){return D.createElement(UZ,{key:B,group:F,resource:l,getters:p,components:x})}),D.createElement(g,{localizer:d,resource:l,accessors:u,getters:p,components:x,slotMetrics:y},D.createElement("div",{className:kr("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),S&&D.createElement("div",{className:"rbc-slot-selection",style:{top:E,height:C}},D.createElement("span",null,d.format(N,"selectRangeFormat"))),s&&this.intervalTriggered&&D.createElement(v,P,D.createElement("div",P)))}}])}(D.Component);VZ.defaultProps={dragThroughEvents:!0,timeslots:2};var zZ=function(e){var r=e.label;return D.createElement(D.Fragment,null,r)},p7e=function(t){function e(){var r;dn(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=oi(this,e,[].concat(i)),r.handleHeaderClick=function(o,s,l){l.preventDefault(),or(r.props.onDrillDown,[o,s])},r.renderRow=function(o){var s=r.props,l=s.events,u=s.rtl,d=s.selectable,f=s.getNow,h=s.range,p=s.getters,m=s.localizer,g=s.accessors,v=s.components,x=s.resizable,y=g.resourceId(o),w=o?l.filter(function(S){return g.resource(S)===y}):l;return D.createElement(xv,{isAllDay:!0,rtl:u,getNow:f,minRows:2,maxRows:r.props.allDayMaxRows+1,range:h,events:w,resourceId:y,className:"rbc-allday-cell",selectable:d,selected:r.props.selected,components:v,accessors:g,getters:p,localizer:m,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:x})},r}return ai(e,t),fn(e,[{key:"renderHeaderCells",value:function(n){var i=this,a=this.props,o=a.localizer,s=a.getDrilldownView,l=a.getNow,u=a.getters.dayProp,d=a.components.header,f=d===void 0?e3:d,h=l();return n.map(function(p,m){var g=s(p),v=o.format(p,"dayFormat"),x=u(p),y=x.className,w=x.style,S=D.createElement(f,{date:p,label:v,localizer:o});return D.createElement("div",{key:m,style:w,className:kr("rbc-header",y,o.isSameDate(p,h)&&"rbc-today")},g?D.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(C){return i.handleHeaderClick(p,g,C)}},S):D.createElement("span",null,S))})}},{key:"render",value:function(){var n=this,i=this.props,a=i.width,o=i.rtl,s=i.resources,l=i.range,u=i.events,d=i.getNow,f=i.accessors,h=i.selectable,p=i.components,m=i.getters,g=i.scrollRef,v=i.localizer,x=i.isOverflowing,y=i.components,w=y.timeGutterHeader,S=y.resourceHeader,E=S===void 0?zZ:S,C=i.resizable,A={};x&&(A[o?"marginLeft":"marginRight"]="".concat(Ok()-1,"px"));var T=s.groupEvents(u);return D.createElement("div",{style:A,ref:g,className:kr("rbc-time-header",x&&"rbc-overflowing")},D.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},w&&D.createElement(w,null)),s.map(function(N,I){var j=td(N,2),O=j[0],P=j[1];return D.createElement("div",{className:"rbc-time-header-content",key:O||I},P&&D.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(I)},D.createElement("div",{className:"rbc-header"},D.createElement(E,{index:I,label:f.resourceTitle(P),resource:P}))),D.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(l)),D.createElement(xv,{isAllDay:!0,rtl:o,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:l,events:T.get(O)||[],resourceId:P&&O,className:"rbc-allday-cell",selectable:h,selected:n.props.selected,components:p,accessors:f,getters:m,localizer:v,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:C}))}))}}])}(D.Component),m7e=function(t){function e(){var r;dn(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=oi(this,e,[].concat(i)),r.handleHeaderClick=function(o,s,l){l.preventDefault(),or(r.props.onDrillDown,[o,s])},r}return ai(e,t),fn(e,[{key:"renderHeaderCells",value:function(n){var i=this,a=this.props,o=a.localizer,s=a.getDrilldownView,l=a.getNow,u=a.getters.dayProp,d=a.components,f=d.header,h=f===void 0?e3:f,p=d.resourceHeader,m=p===void 0?zZ:p,g=a.resources,v=a.accessors,x=a.events,y=a.rtl,w=a.selectable,S=a.components,E=a.getters,C=a.resizable,A=l(),T=g.groupEvents(x);return n.map(function(N,I){var j=s(N),O=o.format(N,"dayFormat"),P=u(N),M=P.className,F=P.style,B=D.createElement(h,{date:N,label:O,localizer:o});return D.createElement("div",{key:I,className:"rbc-time-header-content rbc-resource-grouping"},D.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},D.createElement("div",{style:F,className:kr("rbc-header",M,o.isSameDate(N,A)&&"rbc-today")},j?D.createElement("button",{type:"button",className:"rbc-button-link",onClick:function($){return i.handleHeaderClick(N,j,$)}},B):D.createElement("span",null,B))),D.createElement("div",{className:"rbc-row"},g.map(function(W,$){var U=td(W,2),X=U[0],H=U[1];return D.createElement("div",{key:"resource_".concat(X,"_").concat($),className:kr("rbc-header",M,o.isSameDate(N,A)&&"rbc-today")},D.createElement(m,{index:$,label:v.resourceTitle(H),resource:H}))})),D.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},g.map(function(W,$){var U=td(W,2),X=U[0],H=U[1],Y=(T.get(X)||[]).filter(function(Q){return o.isSameDate(Q.start,N)||o.isSameDate(Q.end,N)});return D.createElement(xv,{key:"resource_".concat(X,"_").concat($),isAllDay:!0,rtl:y,getNow:l,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[N],events:Y,resourceId:H&&X,className:"rbc-allday-cell",selectable:w,selected:i.props.selected,components:S,accessors:v,getters:E,localizer:o,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:C})})))})}},{key:"render",value:function(){var n=this.props,i=n.width,a=n.rtl,o=n.range,s=n.scrollRef,l=n.isOverflowing,u=n.components.timeGutterHeader,d={};return l&&(d[a?"marginLeft":"marginRight"]="".concat(Ok()-1,"px")),D.createElement("div",{style:d,ref:s,className:kr("rbc-time-header",l&&"rbc-overflowing")},D.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},u&&D.createElement(u,null)),this.renderHeaderCells(o))}}])}(D.Component);function g7e(t){var e=t.min,r=t.max,n=t.localizer;return n.getTimezoneOffset(e)!==n.getTimezoneOffset(r)?{start:n.add(e,-1,"day"),end:n.add(r,-1,"day")}:{start:e,end:r}}var v7e=function(e){var r=e.min,n=e.max,i=e.timeslots,a=e.step,o=e.localizer,s=e.getNow,l=e.resource,u=e.components,d=e.getters,f=e.gutterRef,h=u.timeGutterWrapper,p=b.useMemo(function(){return g7e({min:r,max:n,localizer:o})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),o]),m=p.start,g=p.end,v=b.useState(t3({min:m,max:g,timeslots:i,step:a,localizer:o})),x=td(v,2),y=x[0],w=x[1];b.useEffect(function(){y&&w(y.update({min:m,max:g,timeslots:i,step:a,localizer:o}))},[m==null?void 0:m.toISOString(),g==null?void 0:g.toISOString(),i,a]);var S=b.useCallback(function(E,C){if(C)return null;var A=y.dateIsInGroup(s(),C);return D.createElement("span",{className:kr("rbc-label",A&&"rbc-now")},o.format(E,"timeGutterFormat"))},[y,o,s]);return D.createElement(h,{slotMetrics:y},D.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},y.groups.map(function(E,C){return D.createElement(UZ,{key:C,group:E,resource:l,components:u,renderSlot:S,getters:d})})))},y7e=D.forwardRef(function(t,e){return D.createElement(v7e,Object.assign({gutterRef:e},t))}),rA={};function x7e(t,e){return{map:function(n){return t?t.map(function(i,a){return n([e.resourceId(i),i],a)}):[n([rA,null],0)]},groupEvents:function(n){var i=new Map;return t?(n.forEach(function(a){var o=e.resource(a)||rA;if(Array.isArray(o))o.forEach(function(l){var u=i.get(l)||[];u.push(a),i.set(l,u)});else{var s=i.get(o)||[];s.push(a),i.set(o,s)}}),i):(i.set(rA,n),i)}}}var yp=function(t){function e(r){var n;return dn(this,e),n=oi(this,e,[r]),n.handleScroll=function(i){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=i.target.scrollLeft)},n.handleResize=function(){_5(n.rafHandle),n.rafHandle=TQ(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];or(n.props.onKeyPressEvent,a)},n.handleSelectEvent=function(){n.clearSelection();for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];or(n.props.onSelectEvent,a)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];or(n.props.onDoubleClickEvent,a)},n.handleShowMore=function(i,a,o,s,l){var u=n.props,d=u.popup,f=u.onDrillDown,h=u.onShowMore,p=u.getDrilldownView,m=u.doShowMoreDrillDown;if(n.clearSelection(),d){var g=CQ(o,n.containerRef.current);n.setState({overlay:{date:a,events:i,position:Vt(Vt({},g),{},{width:"200px"}),target:l}})}else m&&or(f,[a,p(a)||yi.DAY]);or(h,[i,a,s])},n.handleSelectAllDaySlot=function(i,a){var o=n.props.onSelectSlot,s=new Date(i[0]),l=new Date(i[i.length-1]);l.setDate(i[i.length-1].getDate()+1),or(o,{slots:i,start:s,end:l,action:a.action,resourceId:a.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var i=n.contentRef.current;if(i!=null&&i.scrollHeight){var a=i.scrollHeight>i.clientHeight;n.state.isOverflowing!==a&&(n._updatingOverflow=!0,n.setState({isOverflowing:a},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=sZ(function(i,a){return x7e(i,a)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=D.createRef(),n.contentRef=D.createRef(),n.containerRef=D.createRef(),n._scrollRatio=null,n.gutterRef=b.createRef(),n}return ai(e,t),fn(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),_5(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,i,a,o,s,l,u,d,f,h){var p=this.props,m=p.min,g=p.max,v=(o.get(i)||[]).filter(function(y){return l.inRange(n,u.start(y),u.end(y),"day")}),x=(s.get(i)||[]).filter(function(y){return l.inRange(n,u.start(y),u.end(y),"day")});return D.createElement(VZ,Object.assign({},this.props,{localizer:l,min:l.merge(n,m),max:l.merge(n,g),resource:a&&i,components:d,isNow:l.isSameDate(n,h),key:"".concat(i,"-").concat(n),date:n,events:v,backgroundEvents:x,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(n,i,a,o,s,l,u,d,f){var h=this;return i.map(function(p){var m=td(p,2),g=m[0],v=m[1];return n.map(function(x){return h.renderDayColumn(x,g,v,a,o,s,l,d,f,u)})})}},{key:"renderRangeFirst",value:function(n,i,a,o,s,l,u,d,f){var h=this;return n.map(function(p){return D.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:p},i.map(function(m){var g=td(m,2),v=g[0],x=g[1];return D.createElement("div",{style:{flex:1},key:l.resourceId(x)},h.renderDayColumn(p,v,x,a,o,s,l,d,f,u))}))})}},{key:"renderEvents",value:function(n,i,a,o){var s=this.props,l=s.accessors,u=s.localizer,d=s.resourceGroupingLayout,f=s.components,h=s.dayLayoutAlgorithm,p=this.memoizedResources(this.props.resources,l),m=p.groupEvents(i),g=p.groupEvents(a);return d?this.renderRangeFirst(n,p,m,g,u,l,o,f,h):this.renderResourcesFirst(n,p,m,g,u,l,o,f,h)}},{key:"render",value:function(){var n,i=this.props,a=i.events,o=i.backgroundEvents,s=i.range,l=i.width,u=i.rtl,d=i.selected,f=i.getNow,h=i.resources,p=i.components,m=i.accessors,g=i.getters,v=i.localizer,x=i.min,y=i.max,w=i.showMultiDayTimes,S=i.longPressThreshold,E=i.resizable,C=i.resourceGroupingLayout;l=l||this.state.gutterWidth;var A=s[0],T=s[s.length-1];this.slots=s.length;var N=[],I=[],j=[];a.forEach(function(P){if(yv(P,A,T,m,v)){var M=m.start(P),F=m.end(P);m.allDay(P)||v.startAndEndAreDateOnly(M,F)||!w&&!v.isSameDate(M,F)?N.push(P):I.push(P)}}),o.forEach(function(P){yv(P,A,T,m,v)&&j.push(P)}),N.sort(function(P,M){return wN(P,M,m,v)});var O={range:s,events:N,width:l,rtl:u,getNow:f,localizer:v,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(h,m),selectable:this.props.selectable,accessors:m,getters:g,components:p,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:S,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:E};return D.createElement("div",{className:kr("rbc-time-view",h&&"rbc-time-view-resources"),ref:this.containerRef},h&&h.length>1&&C?D.createElement(m7e,O):D.createElement(p7e,O),this.props.popup&&this.renderOverlay(),D.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},D.createElement(y7e,{date:A,ref:this.gutterRef,localizer:v,min:v.merge(A,x),max:v.merge(A,y),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:p,className:"rbc-time-gutter",getters:g}),this.renderEvents(s,I,j,f())))}},{key:"renderOverlay",value:function(){var n,i,a=this,o=(n=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&n!==void 0?n:{},s=this.props,l=s.accessors,u=s.localizer,d=s.components,f=s.getters,h=s.selected,p=s.popupOffset,m=s.handleDragStart,g=function(){return a.setState({overlay:null})};return D.createElement(Jk,{overlay:o,accessors:l,localizer:u,components:d,getters:f,selected:h,popupOffset:p,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:m,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,a=(i=n.gutterRef)!==null&&i!==void 0&&i.current?vN(n.gutterRef.current):void 0;a&&n.state.gutterWidth!==a&&n.setState({gutterWidth:a})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=n.min,a=n.max,o=n.scrollToTime,s=n.localizer,l=s.diff(s.merge(o,i),o,"milliseconds"),u=s.diff(i,a,"milliseconds");this._scrollRatio=l/u}}])}(b.Component);yp.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var w7e=["date","localizer","min","max","scrollToTime","enableAutoScroll"],y_=function(t){function e(){return dn(this,e),oi(this,e,arguments)}return ai(e,t),fn(e,[{key:"render",value:function(){var n=this.props,i=n.date,a=n.localizer,o=n.min,s=o===void 0?a.startOf(new Date,"day"):o,l=n.max,u=l===void 0?a.endOf(new Date,"day"):l,d=n.scrollToTime,f=d===void 0?a.startOf(new Date,"day"):d,h=n.enableAutoScroll,p=h===void 0?!0:h,m=ss(n,w7e),g=e.range(i,{localizer:a});return D.createElement(yp,Object.assign({},m,{range:g,eventOffset:10,localizer:a,min:s,max:u,scrollToTime:f,enableAutoScroll:p}))}}])}(D.Component);y_.range=function(t,e){var r=e.localizer;return[r.startOf(t,"day")]};y_.navigate=function(t,e,r){var n=r.localizer;switch(e){case Gi.PREVIOUS:return n.add(t,-1,"day");case Gi.NEXT:return n.add(t,1,"day");default:return t}};y_.title=function(t,e){var r=e.localizer;return r.format(t,"dayHeaderFormat")};var b7e=["date","localizer","min","max","scrollToTime","enableAutoScroll"],jc=function(t){function e(){return dn(this,e),oi(this,e,arguments)}return ai(e,t),fn(e,[{key:"render",value:function(){var n=this.props,i=n.date,a=n.localizer,o=n.min,s=o===void 0?a.startOf(new Date,"day"):o,l=n.max,u=l===void 0?a.endOf(new Date,"day"):l,d=n.scrollToTime,f=d===void 0?a.startOf(new Date,"day"):d,h=n.enableAutoScroll,p=h===void 0?!0:h,m=ss(n,b7e),g=e.range(i,this.props);return D.createElement(yp,Object.assign({},m,{range:g,eventOffset:15,localizer:a,min:s,max:u,scrollToTime:f,enableAutoScroll:p}))}}])}(D.Component);jc.defaultProps=yp.defaultProps;jc.navigate=function(t,e,r){var n=r.localizer;switch(e){case Gi.PREVIOUS:return n.add(t,-1,"week");case Gi.NEXT:return n.add(t,1,"week");default:return t}};jc.range=function(t,e){var r=e.localizer,n=r.startOfWeek(),i=r.startOf(t,"week",n),a=r.endOf(t,"week",n);return r.range(i,a)};jc.title=function(t,e){var r=e.localizer,n=jc.range(t,{localizer:r}),i=pZ(n),a=i[0],o=i.slice(1);return r.format({start:a,end:o.pop()},"dayRangeHeaderFormat")};var _7e=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function r3(t,e){return jc.range(t,e).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var U0=function(t){function e(){return dn(this,e),oi(this,e,arguments)}return ai(e,t),fn(e,[{key:"render",value:function(){var n=this.props,i=n.date,a=n.localizer,o=n.min,s=o===void 0?a.startOf(new Date,"day"):o,l=n.max,u=l===void 0?a.endOf(new Date,"day"):l,d=n.scrollToTime,f=d===void 0?a.startOf(new Date,"day"):d,h=n.enableAutoScroll,p=h===void 0?!0:h,m=ss(n,_7e),g=r3(i,this.props);return D.createElement(yp,Object.assign({},m,{range:g,eventOffset:15,localizer:a,min:s,max:u,scrollToTime:f,enableAutoScroll:p}))}}])}(D.Component);U0.defaultProps=yp.defaultProps;U0.range=r3;U0.navigate=jc.navigate;U0.title=function(t,e){var r=e.localizer,n=r3(t,{localizer:r}),i=pZ(n),a=i[0],o=i.slice(1);return r.format({start:a,end:o.pop()},"dayRangeHeaderFormat")};var x_=30;function w_(t){var e=t.accessors,r=t.components,n=t.date,i=t.events,a=t.getters,o=t.length,s=o===void 0?x_:o,l=t.localizer,u=t.onDoubleClickEvent,d=t.onSelectEvent,f=t.selected,h=b.useRef(null),p=b.useRef(null),m=b.useRef(null),g=b.useRef(null),v=b.useRef(null);b.useEffect(function(){w()});var x=function(T,N,I){var j=r.event,O=r.date;return N=N.filter(function(P){return yv(P,l.startOf(T,"day"),l.endOf(T,"day"),e,l)}),N.map(function(P,M){var F=e.title(P),B=e.end(P),W=e.start(P),$=a.eventProp(P,W,B,g_(P,f)),U=M===0&&l.format(T,"agendaDateFormat"),X=M===0?D.createElement("td",{rowSpan:N.length,className:"rbc-agenda-date-cell"},O?D.createElement(O,{day:T,label:U}):U):!1;return D.createElement("tr",{key:I+"_"+M,className:$.className,style:$.style},X,D.createElement("td",{className:"rbc-agenda-time-cell"},y(T,P)),D.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(Y){return d&&d(P,Y)},onDoubleClick:function(Y){return u&&u(P,Y)}},j?D.createElement(j,{event:P,title:F}):F))},[])},y=function(T,N){var I="",j=r.time,O=l.messages.allDay,P=e.end(N),M=e.start(N);return e.allDay(N)||(l.eq(M,P)?O=l.format(M,"agendaTimeFormat"):l.isSameDate(M,P)?O=l.format({start:M,end:P},"agendaTimeRangeFormat"):l.isSameDate(T,M)?O=l.format(M,"agendaTimeFormat"):l.isSameDate(T,P)&&(O=l.format(P,"agendaTimeFormat"))),l.gt(T,M,"day")&&(I="rbc-continues-prior"),l.lt(T,P,"day")&&(I+=" rbc-continues-after"),D.createElement("span",{className:I.trim()},j?D.createElement(j,{event:N,day:T,label:O}):O)},w=function(){if(v.current){var T=h.current,N=v.current.firstChild;if(N){var I=g.current.scrollHeight>g.current.clientHeight,j=[],O=j;j=[vN(N.children[0]),vN(N.children[1])],(O[0]!==j[0]||O[1]!==j[1])&&(p.current.style.width=j[0]+"px",m.current.style.width=j[1]+"px"),I?($Oe(T,"rbc-header-overflowing"),T.style.marginRight=Ok()+"px"):FOe(T,"rbc-header-overflowing")}}},S=l.messages,E=l.add(n,s,"day"),C=l.range(n,E,"day");return i=i.filter(function(A){return yv(A,l.startOf(n,"day"),l.endOf(E,"day"),e,l)}),i.sort(function(A,T){return+e.start(A)-+e.start(T)}),D.createElement("div",{className:"rbc-agenda-view"},i.length!==0?D.createElement(D.Fragment,null,D.createElement("table",{ref:h,className:"rbc-agenda-table"},D.createElement("thead",null,D.createElement("tr",null,D.createElement("th",{className:"rbc-header",ref:p},S.date),D.createElement("th",{className:"rbc-header",ref:m},S.time),D.createElement("th",{className:"rbc-header"},S.event)))),D.createElement("div",{className:"rbc-agenda-content",ref:g},D.createElement("table",{className:"rbc-agenda-table"},D.createElement("tbody",{ref:v},C.map(function(A,T){return x(A,i,T)}))))):D.createElement("span",{className:"rbc-agenda-empty"},S.noEventsInRange))}w_.range=function(t,e){var r=e.length,n=r===void 0?x_:r,i=e.localizer,a=i.add(t,n,"day");return{start:t,end:a}};w_.navigate=function(t,e,r){var n=r.length,i=n===void 0?x_:n,a=r.localizer;switch(e){case Gi.PREVIOUS:return a.add(t,-i,"day");case Gi.NEXT:return a.add(t,i,"day");default:return t}};w_.title=function(t,e){var r=e.length,n=r===void 0?x_:r,i=e.localizer,a=i.add(t,n,"day");return i.format({start:t,end:a},"agendaHeaderFormat")};var ex=gu(gu(gu(gu(gu({},yi.MONTH,v_),yi.WEEK,jc),yi.WORK_WEEK,U0),yi.DAY,y_),yi.AGENDA,w_),S7e=["action","date","today"];function E7e(t,e){var r=e.action,n=e.date,i=e.today,a=ss(e,S7e);switch(t=typeof t=="string"?ex[t]:t,r){case Gi.TODAY:n=i||new Date;break;case Gi.DATE:break;default:av(t&&typeof t.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=t.navigate(n,r,a)}return n}function A7e(t,e){var r=null;return typeof e=="function"?r=e(t):typeof e=="string"&&Ao(t)==="object"&&t!=null&&e in t&&(r=t[e]),r}var ys=function(e){return function(r){return A7e(r,e)}},C7e=["view","date","getNow","onNavigate"],T7e=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function WZ(t){if(Array.isArray(t))return t;for(var e=[],r=0,n=Object.entries(t);r<n.length;r++){var i=td(n[r],2),a=i[0],o=i[1];o&&e.push(a)}return e}function N7e(t,e){var r=e.views,n=WZ(r);return n.indexOf(t)!==-1}var HZ=function(t){function e(){var r;dn(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=oi(this,e,[].concat(i)),r.getViews=function(){var o=r.props.views;return Array.isArray(o)?i9e(o,function(s,l){return s[l]=ex[l]},{}):Ao(o)==="object"?gZ(o,function(s,l){return s===!0?ex[l]:s}):ex},r.getView=function(){var o=r.getViews();return o[r.props.view]},r.getDrilldownView=function(o){var s=r.props,l=s.view,u=s.drilldownView,d=s.getDrilldownView;return d?d(o,l,Object.keys(r.getViews())):u},r.handleRangeChange=function(o,s,l){var u=r.props,d=u.onRangeChange,f=u.localizer;d&&s.range&&d(s.range(o,{localizer:f}),l)},r.handleNavigate=function(o,s){var l=r.props,u=l.view,d=l.date,f=l.getNow,h=l.onNavigate,p=ss(l,C7e),m=r.getView(),g=f();d=E7e(m,Vt(Vt({},p),{},{action:o,date:s||d||g,today:g})),h(d,u,o),r.handleRangeChange(d,m)},r.handleViewChange=function(o){o!==r.props.view&&N7e(o,r.props)&&r.props.onView(o);var s=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),s[o],o)},r.handleSelectEvent=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];or(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];or(r.props.onDoubleClickEvent,s)},r.handleKeyPressEvent=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];or(r.props.onKeyPressEvent,s)},r.handleSelectSlot=function(o){or(r.props.onSelectSlot,o)},r.handleDrillDown=function(o,s){var l=r.props.onDrillDown;if(l){l(o,s,r.drilldownView);return}s&&r.handleViewChange(s),r.handleNavigate(Gi.DATE,o)},r.state={context:e.getContext(r.props)},r}return ai(e,t),fn(e,[{key:"render",value:function(){var n=this.props,i=n.view,a=n.toolbar,o=n.events,s=n.backgroundEvents,l=n.resourceGroupingLayout,u=n.style,d=n.className,f=n.elementProps,h=n.date,p=n.getNow,m=n.length,g=n.showMultiDayTimes,v=n.onShowMore,x=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var y=ss(n,T7e);h=h||p();var w=this.getView(),S=this.state.context,E=S.accessors,C=S.components,A=S.getters,T=S.localizer,N=S.viewNames,I=C.toolbar||O9e,j=w.title(h,{localizer:T,length:m});return D.createElement("div",Object.assign({},f,{className:kr(d,"rbc-calendar",y.rtl&&"rbc-rtl"),style:u}),a&&D.createElement(I,{date:h,view:i,views:N,label:j,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:T}),D.createElement(w,Object.assign({},y,{events:o,backgroundEvents:s,date:h,getNow:p,length:m,localizer:T,getters:A,components:C,accessors:E,showMultiDayTimes:g,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:v,doShowMoreDrillDown:x,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:e.getContext(n)}}},{key:"getContext",value:function(n){var i=n.startAccessor,a=n.endAccessor,o=n.allDayAccessor,s=n.tooltipAccessor,l=n.titleAccessor,u=n.resourceAccessor,d=n.resourceIdAccessor,f=n.resourceTitleAccessor,h=n.eventIdAccessor,p=n.eventPropGetter,m=n.backgroundEventPropGetter,g=n.slotPropGetter,v=n.slotGroupPropGetter,x=n.dayPropGetter,y=n.view,w=n.views,S=n.localizer,E=n.culture,C=n.messages,A=C===void 0?{}:C,T=n.components,N=T===void 0?{}:T,I=n.formats,j=I===void 0?{}:I,O=WZ(w),P=k9e(A);return{viewNames:O,localizer:P9e(S,E,j,P),getters:{eventProp:function(){return p&&p.apply(void 0,arguments)||{}},backgroundEventProp:function(){return m&&m.apply(void 0,arguments)||{}},slotProp:function(){return g&&g.apply(void 0,arguments)||{}},slotGroupProp:function(){return v&&v.apply(void 0,arguments)||{}},dayProp:function(){return x&&x.apply(void 0,arguments)||{}}},components:Z8e(N[y]||{},HFe(N,O),{eventWrapper:Ro,backgroundEventWrapper:Ro,eventContainerWrapper:Ro,dateCellWrapper:Ro,weekWrapper:Ro,timeSlotWrapper:Ro,timeGutterWrapper:Ro,timeIndicatorWrapper:Ro}),accessors:{start:ys(i),end:ys(a),allDay:ys(o),tooltip:ys(s),title:ys(l),resource:ys(u),resourceId:ys(d),resourceTitle:ys(f),eventId:ys(h)}}}}])}(D.Component);HZ.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:yi.MONTH,views:[yi.MONTH,yi.WEEK,yi.DAY,yi.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:yi.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var I7e=oQ(HZ,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),P7e=function(e,r,n){var i=e.start,a=e.end;return"".concat(n.format(i,"P",r),"  ").concat(n.format(a,"P",r))},nA=function(e,r,n){var i=e.start,a=e.end;return"".concat(n.format(i,"p",r),"  ").concat(n.format(a,"p",r))},O7e=function(e,r,n){var i=e.start;return"".concat(n.format(i,"h:mma",r),"  ")},j7e=function(e,r,n){var i=e.end;return"  ".concat(n.format(i,"h:mma",r))},k7e=function(e,r,n){var i=e.start,a=e.end;return"".concat(n.format(i,"MMMM dd",r),"  ").concat(n.format(a,np(i,a,"month")?"dd":"MMMM dd",r))},R7e={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:nA,eventTimeRangeFormat:nA,eventTimeRangeStartFormat:O7e,eventTimeRangeEndFormat:j7e,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:k7e,agendaHeaderFormat:P7e,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:nA},D7e=function(e){var r=e.startOfWeek,n=e.getDay,i=e.format,a=e.locales;return new I9e({formats:R7e,firstOfWeek:function(s){return n(r(new Date,{locale:a[s]}))},format:function(s,l,u){return i(new Date(s),l,{locale:a[u]})}})};const M7e=ZY,L7e=JY,GZ=b.forwardRef(({className:t,...e},r)=>c.jsx(H2,{className:je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));GZ.displayName=H2.displayName;const $7e=Wh("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),qZ=b.forwardRef(({side:t="right",className:e,children:r,...n},i)=>c.jsxs(L7e,{children:[c.jsx(GZ,{}),c.jsxs(G2,{ref:i,className:je($7e({side:t}),e),...n,children:[r,c.jsxs(eX,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[c.jsx(Li,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));qZ.displayName=G2.displayName;const KZ=({className:t,...e})=>c.jsx("div",{className:je("flex flex-col space-y-2 text-center sm:text-left",t),...e});KZ.displayName="SheetHeader";const YZ=b.forwardRef(({className:t,...e},r)=>c.jsx(q2,{ref:r,className:je("text-lg font-semibold text-foreground",t),...e}));YZ.displayName=q2.displayName;const XZ=b.forwardRef(({className:t,...e},r)=>c.jsx(K2,{ref:r,className:je("text-sm text-muted-foreground",t),...e}));XZ.displayName=K2.displayName;function F7e(t,e){return b.useReducer((r,n)=>e[r][n]??r,t)}var n3="ScrollArea",[QZ,Hlt]=za(n3),[B7e,Ga]=QZ(n3),ZZ=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...o}=t,[s,l]=b.useState(null),[u,d]=b.useState(null),[f,h]=b.useState(null),[p,m]=b.useState(null),[g,v]=b.useState(null),[x,y]=b.useState(0),[w,S]=b.useState(0),[E,C]=b.useState(!1),[A,T]=b.useState(!1),N=et(e,j=>l(j)),I=T0(i);return c.jsx(B7e,{scope:r,type:n,dir:I,scrollHideDelay:a,scrollArea:s,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:m,scrollbarXEnabled:E,onScrollbarXEnabledChange:C,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:A,onScrollbarYEnabledChange:T,onCornerWidthChange:y,onCornerHeightChange:S,children:c.jsx(Le.div,{dir:I,...o,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});ZZ.displayName=n3;var JZ="ScrollAreaViewport",eJ=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,asChild:i,nonce:a,...o}=t,s=Ga(JZ,r),l=b.useRef(null),u=et(e,l,s.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),c.jsx(Le.div,{"data-radix-scroll-area-viewport":"",...o,asChild:i,ref:u,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:X7e({asChild:i,children:n},d=>c.jsx("div",{"data-radix-scroll-area-content":"",ref:s.onContentChange,style:{minWidth:s.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});eJ.displayName=JZ;var hs="ScrollAreaScrollbar",i3=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Ga(hs,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,s=t.orientation==="horizontal";return b.useEffect(()=>(s?a(!0):o(!0),()=>{s?a(!1):o(!1)}),[s,a,o]),i.type==="hover"?c.jsx(U7e,{...n,ref:e,forceMount:r}):i.type==="scroll"?c.jsx(V7e,{...n,ref:e,forceMount:r}):i.type==="auto"?c.jsx(tJ,{...n,ref:e,forceMount:r}):i.type==="always"?c.jsx(a3,{...n,ref:e}):null});i3.displayName=hs;var U7e=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Ga(hs,t.__scopeScrollArea),[a,o]=b.useState(!1);return b.useEffect(()=>{const s=i.scrollArea;let l=0;if(s){const u=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",u),s.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",u),s.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),c.jsx(_n,{present:r||a,children:c.jsx(tJ,{"data-state":a?"visible":"hidden",...n,ref:e})})}),V7e=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Ga(hs,t.__scopeScrollArea),a=t.orientation==="horizontal",o=__(()=>l("SCROLL_END"),100),[s,l]=F7e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(s==="idle"){const u=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[s,i.scrollHideDelay,l]),b.useEffect(()=>{const u=i.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(l("SCROLL"),o()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[i.viewport,a,l,o]),c.jsx(_n,{present:r||s!=="hidden",children:c.jsx(a3,{"data-state":s==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:be(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:be(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),tJ=b.forwardRef((t,e)=>{const r=Ga(hs,t.__scopeScrollArea),{forceMount:n,...i}=t,[a,o]=b.useState(!1),s=t.orientation==="horizontal",l=__(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(s?u:d)}},10);return gh(r.viewport,l),gh(r.content,l),c.jsx(_n,{present:n||a,children:c.jsx(a3,{"data-state":a?"visible":"hidden",...i,ref:e})})}),a3=b.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,i=Ga(hs,t.__scopeScrollArea),a=b.useRef(null),o=b.useRef(0),[s,l]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=oJ(s.viewport,s.content),d={...n,sizes:s,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return K7e(h,o.current,s,p)}return r==="horizontal"?c.jsx(z7e,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollLeft,p=LL(h,s,i.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):r==="vertical"?c.jsx(W7e,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollTop,p=LL(h,s);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),z7e=b.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,a=Ga(hs,t.__scopeScrollArea),[o,s]=b.useState(),l=b.useRef(null),u=et(e,l,a.onScrollbarXChange);return b.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),c.jsx(nJ,{"data-orientation":"horizontal",...i,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":b_(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),lJ(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Ow(o.paddingLeft),paddingEnd:Ow(o.paddingRight)}})}})}),W7e=b.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,a=Ga(hs,t.__scopeScrollArea),[o,s]=b.useState(),l=b.useRef(null),u=et(e,l,a.onScrollbarYChange);return b.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),c.jsx(nJ,{"data-orientation":"vertical",...i,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":b_(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),lJ(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Ow(o.paddingTop),paddingEnd:Ow(o.paddingBottom)}})}})}),[H7e,rJ]=QZ(hs),nJ=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=t,p=Ga(hs,r),[m,g]=b.useState(null),v=et(e,N=>g(N)),x=b.useRef(null),y=b.useRef(""),w=p.viewport,S=n.content-n.viewport,E=hr(d),C=hr(l),A=__(f,10);function T(N){if(x.current){const I=N.clientX-x.current.left,j=N.clientY-x.current.top;u({x:I,y:j})}}return b.useEffect(()=>{const N=I=>{const j=I.target;(m==null?void 0:m.contains(j))&&E(I,S)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[w,m,S,E]),b.useEffect(C,[n,C]),gh(m,A),gh(p.content,A),c.jsx(H7e,{scope:r,scrollbar:m,hasThumb:i,onThumbChange:hr(a),onThumbPointerUp:hr(o),onThumbPositionChange:C,onThumbPointerDown:hr(s),children:c.jsx(Le.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:be(t.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),x.current=m.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),T(N))}),onPointerMove:be(t.onPointerMove,T),onPointerUp:be(t.onPointerUp,N=>{const I=N.target;I.hasPointerCapture(N.pointerId)&&I.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=y.current,p.viewport&&(p.viewport.style.scrollBehavior=""),x.current=null})})})}),Pw="ScrollAreaThumb",iJ=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=rJ(Pw,t.__scopeScrollArea);return c.jsx(_n,{present:r||i.hasThumb,children:c.jsx(G7e,{ref:e,...n})})}),G7e=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...i}=t,a=Ga(Pw,r),o=rJ(Pw,r),{onThumbPositionChange:s}=o,l=et(e,f=>o.onThumbChange(f)),u=b.useRef(),d=__(()=>{u.current&&(u.current(),u.current=void 0)},100);return b.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!u.current){const p=Y7e(f,s);u.current=p,s()}};return s(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,s]),c.jsx(Le.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:be(t.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),m=f.clientX-p.left,g=f.clientY-p.top;o.onThumbPointerDown({x:m,y:g})}),onPointerUp:be(t.onPointerUp,o.onThumbPointerUp)})});iJ.displayName=Pw;var o3="ScrollAreaCorner",aJ=b.forwardRef((t,e)=>{const r=Ga(o3,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?c.jsx(q7e,{...t,ref:e}):null});aJ.displayName=o3;var q7e=b.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,i=Ga(o3,r),[a,o]=b.useState(0),[s,l]=b.useState(0),u=!!(a&&s);return gh(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),gh(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),o(d)}),u?c.jsx(Le.div,{...n,ref:e,style:{width:a,height:s,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Ow(t){return t?parseInt(t,10):0}function oJ(t,e){const r=t/e;return isNaN(r)?0:r}function b_(t){const e=oJ(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function K7e(t,e,r,n="ltr"){const i=b_(r),a=i/2,o=e||a,s=i-o,l=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-s,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return sJ([l,u],f)(t)}function LL(t,e,r="ltr"){const n=b_(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,o=e.content-e.viewport,s=a-n,l=r==="ltr"?[0,o]:[o*-1,0],u=JT(t,l);return sJ([0,o],[0,s])(u)}function sJ(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function lJ(t,e){return t>0&&t<e}var Y7e=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function i(){const a={left:t.scrollLeft,top:t.scrollTop},o=r.left!==a.left,s=r.top!==a.top;(o||s)&&e(),r=a,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function __(t,e){const r=hr(t),n=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),b.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function gh(t,e){const r=hr(e);cn(()=>{let n=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(t),()=>{window.cancelAnimationFrame(n),i.unobserve(t)}}},[t,r])}function X7e(t,e){const{asChild:r,children:n}=t;if(!r)return typeof e=="function"?e(n):e;const i=b.Children.only(n);return b.cloneElement(i,{children:typeof e=="function"?e(i.props.children):e})}var cJ=ZZ,Q7e=eJ,Z7e=aJ;const uJ=b.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(cJ,{ref:n,className:je("relative overflow-hidden",t),...r,children:[c.jsx(Q7e,{className:"h-full w-full rounded-[inherit]",children:e}),c.jsx(dJ,{}),c.jsx(Z7e,{})]}));uJ.displayName=cJ.displayName;const dJ=b.forwardRef(({className:t,orientation:e="vertical",...r},n)=>c.jsx(i3,{ref:n,orientation:e,className:je("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:c.jsx(iJ,{className:"relative flex-1 rounded-full bg-border"})}));dJ.displayName=i3.displayName;var J7e="Separator",$L="horizontal",eBe=["horizontal","vertical"],fJ=b.forwardRef((t,e)=>{const{decorative:r,orientation:n=$L,...i}=t,a=tBe(n)?n:$L,s=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return c.jsx(Le.div,{"data-orientation":a,...s,...i,ref:e})});fJ.displayName=J7e;function tBe(t){return eBe.includes(t)}var hJ=fJ;const pJ=b.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>c.jsx(hJ,{ref:i,decorative:r,orientation:e,className:je("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));pJ.displayName=hJ.displayName;const rBe={"en-US":wj},nBe=D7e({format:Yt,startOfWeek:fG,getDay:nwe,locales:rBe}),iBe=({event:t,onClick:e})=>{const r=t.resource,n=r.items.length,i=r.items.filter(a=>!a.checked).length;return c.jsxs("div",{className:"p-1 overflow-hidden cursor-pointer hover:opacity-90",onClick:()=>e(t),children:[c.jsx("div",{className:"font-medium truncate",children:r.store}),c.jsxs("div",{className:"text-xs flex items-center gap-1 flex-wrap",children:[c.jsx(mt,{variant:"outline",className:r.status==="completed"?"bg-green-100 text-green-800":r.status==="shopping"?"bg-blue-100 text-blue-800":r.status==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800",children:r.status}),c.jsxs("span",{children:[n," items"]}),i>0&&c.jsxs("span",{className:"text-amber-600",children:["(",i," pending)"]})]})]})},aBe=t=>{if(typeof t!="string"||!t.includes(":"))return 12*60;const[e,r]=t.split(":").map(Number);return(e||0)*60+(r||0)};function oBe({isOpen:t,onClose:e}){const{trips:r,addTrip:n,updateTrip:i}=os(),{user:a}=qr(),[o,s]=b.useState("month"),[l,u]=b.useState(new Date),[d,f]=b.useState(null),[h,p]=b.useState(!1),[m,g]=b.useState({name:"",quantity:"1",notes:""}),v=b.useCallback(C=>{u(C)},[]),x=b.useCallback(C=>{s(C)},[]),y=b.useCallback(C=>{f(C.resource)},[]),w=b.useCallback(()=>{if(!d||!m.name)return;const C={...d,items:[...d.items,{id:Date.now().toString(),name:m.name,quantity:parseInt(m.quantity)||1,notes:m.notes,checked:!1,addedBy:{name:(a==null?void 0:a.name)||"User",id:"current-user",avatar:(a==null?void 0:a.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((a==null?void 0:a.name)||"User")}&background=random`},addedAt:new Date().toISOString()}]};i(d.id,C),f(C),g({name:"",quantity:"1",notes:""}),p(!1),Vl({title:"Item Added",description:`${m.name} has been added to your trip.`,variant:"default"})},[d,m,i,a]),S=r.map(C=>{const A=nh(C.date),T=aBe(C.time);A.setHours(Math.floor(T/60)),A.setMinutes(T%60);let N=1;return C.eta&&(C.eta.includes("min")?N=parseInt(C.eta)/60:C.eta.includes("hour")&&(N=parseFloat(C.eta))),{id:C.id,title:`Shopping at ${C.store}`,start:A,end:$1e(A,N),resource:C,allDay:!1}}),E=({onNavigate:C,onView:A,date:T,view:N})=>c.jsxs("div",{className:"flex justify-between items-center mb-4 p-2",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx(K,{variant:"outline",size:"sm",onClick:()=>C("PREV"),children:c.jsx(Qb,{className:"h-4 w-4"})}),c.jsx(K,{variant:"outline",size:"sm",onClick:()=>C("TODAY"),children:"Today"}),c.jsx(K,{variant:"outline",size:"sm",onClick:()=>C("NEXT"),children:c.jsx(c0,{className:"h-4 w-4"})})]}),c.jsx("h2",{className:"text-lg font-semibold",children:Yt(T,"MMMM yyyy")}),c.jsx("div",{className:"flex gap-2",children:["month","week","day"].map(I=>c.jsx(K,{variant:N===I?"default":"outline",size:"sm",onClick:()=>A(I),children:I.charAt(0).toUpperCase()+I.slice(1)},I))})]});return c.jsxs(_r,{open:t,onOpenChange:e,children:[c.jsxs(pr,{className:"max-w-4xl h-[80vh]",children:[c.jsx(mr,{children:c.jsx(gr,{children:"Shopping Trip Calendar"})}),c.jsx("div",{className:"flex-1 mt-4",children:c.jsx(I7e,{localizer:nBe,events:S,startAccessor:"start",endAccessor:"end",style:{height:"calc(80vh - 100px)"},views:{month:!0,week:!0,day:!0},view:o,date:l,onNavigate:v,onView:x,components:{event:C=>c.jsx(iBe,{...C,onClick:y}),toolbar:E},eventPropGetter:C=>{const A=C.resource;let T="#60A5FA";switch(A.status){case"completed":T="#34D399";break;case"shopping":T="#60A5FA";break;case"cancelled":T="#F87171";break;default:T="#9CA3AF"}return{style:{backgroundColor:T,border:"none",borderRadius:"4px"}}}})})]}),c.jsx(M7e,{open:d!==null,onOpenChange:()=>f(null),children:c.jsxs(qZ,{className:"w-[400px] sm:w-[540px]",children:[c.jsxs(KZ,{children:[c.jsxs(YZ,{className:"flex items-center justify-between",children:[c.jsx("span",{children:d==null?void 0:d.store}),c.jsx(K,{variant:"ghost",size:"icon",onClick:()=>f(null),children:c.jsx(Li,{className:"h-4 w-4"})})]}),c.jsx(XZ,{children:c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(Wu,{className:"h-4 w-4"}),d&&Yt(nh(d.date),"PPP")," at ",d==null?void 0:d.time]})})]}),c.jsxs("div",{className:"mt-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-sm font-medium",children:"Items"}),c.jsxs(K,{variant:"outline",size:"sm",onClick:()=>p(!0),children:[c.jsx(Or,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),h?c.jsxs("div",{className:"space-y-4 mb-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"itemName",children:"Item Name"}),c.jsx(Ue,{id:"itemName",value:m.name,onChange:C=>g(A=>({...A,name:C.target.value})),placeholder:"Enter item name"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"quantity",children:"Quantity"}),c.jsx(Ue,{id:"quantity",type:"number",min:"1",value:m.quantity,onChange:C=>g(A=>({...A,quantity:C.target.value}))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"notes",children:"Notes (optional)"}),c.jsx(Ue,{id:"notes",value:m.notes,onChange:C=>g(A=>({...A,notes:C.target.value})),placeholder:"Add any notes"})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(K,{variant:"outline",onClick:()=>{p(!1),g({name:"",quantity:"1",notes:""})},children:"Cancel"}),c.jsx(K,{onClick:w,children:"Add Item"})]})]}):c.jsx(uJ,{className:"h-[300px] pr-4",children:d==null?void 0:d.items.map((C,A)=>c.jsxs("div",{className:"flex items-center justify-between py-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",checked:C.checked,onChange:()=>{if(!d)return;const T=[...d.items];T[A]={...C,checked:!C.checked};const N={...d,items:T};i(d.id,N),f(N)},className:"rounded border-gray-300"}),c.jsx("span",{className:C.checked?"line-through text-gray-500":"",children:C.name})]}),c.jsx("span",{className:"text-sm text-gray-500",children:C.quantity>1?`${C.quantity}`:""})]},C.id))}),c.jsx(pJ,{className:"my-4"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Status"}),c.jsx(mt,{variant:"outline",className:(d==null?void 0:d.status)==="completed"?"bg-green-100 text-green-800":(d==null?void 0:d.status)==="shopping"?"bg-blue-100 text-blue-800":(d==null?void 0:d.status)==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800",children:d==null?void 0:d.status})]}),(d==null?void 0:d.eta)&&c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Duration"}),c.jsx("span",{children:d.eta})]}),(d==null?void 0:d.budget)&&c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Budget"}),c.jsxs("span",{children:["$",d.budget]})]})]})]})]})})]})}function sBe({isOpen:t,onClose:e,currentBudget:r,onSave:n}){const[i,a]=b.useState(r),{toast:o}=un(),s=()=>{if(i<0){o({title:"Invalid Budget",description:"Budget cannot be negative.",variant:"destructive"});return}n(i),e(),o({title:"Budget Updated",description:"Your monthly budget has been updated successfully."})};return c.jsx(_r,{open:t,onOpenChange:e,children:c.jsxs(pr,{className:"sm:max-w-[425px]",children:[c.jsxs(mr,{children:[c.jsx(gr,{children:"Adjust Monthly Budget"}),c.jsx(Ei,{children:"Set your monthly shopping budget. This helps you track and manage your spending."})]}),c.jsx("div",{className:"grid gap-4 py-4",children:c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(ce,{htmlFor:"budget",className:"text-right",children:"Budget"}),c.jsxs("div",{className:"col-span-3 relative",children:[c.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:"$"}),c.jsx(Ue,{id:"budget",type:"number",value:i,onChange:l=>a(Number(l.target.value)),className:"pl-7",min:"0",step:"0.01"})]})]})}),c.jsxs(Si,{children:[c.jsx(K,{variant:"outline",onClick:e,children:"Cancel"}),c.jsx(K,{onClick:s,children:"Save Changes"})]})]})})}const iA=new Set;function mJ(t){return new Promise((e,r)=>{if(iA.has(t)){e();return}if(document.querySelector(`script[src="${t}"]`)){iA.add(t),e();return}const i=document.createElement("script");i.src=t,i.async=!0,i.defer=!0,i.onload=()=>{iA.add(t),e()},i.onerror=a=>{console.error("Failed to load script:",t,a),r(new Error(`Failed to load script: ${t}`))},document.head.appendChild(i)})}const _N="AIzaSyCC9n6z-koJp5qiyOOPRRag3qudrcfOeK8",aA=new Set;let FL=!1;async function lBe(t){if(window.google&&window.google.maps&&FL&&(a=>{switch(a){case"places":return!!window.google.maps.places;case"geometry":return!!window.google.maps.geometry;case"core":return!!window.google.maps.DirectionsService;default:return!1}})(t)){aA.add(t);return}const e=new Set([...aA,t]),r=Array.from(e).filter(i=>i!=="core"),n=r.length>0?r.join(","):"";try{const i=n?`https://maps.googleapis.com/maps/api/js?key=${_N}&libraries=${n}`:`https://maps.googleapis.com/maps/api/js?key=${_N}`;await mJ(i),await new Promise((a,o)=>{let s=0;const l=100,u=()=>{if(s++,window.google&&window.google.maps&&(f=>{switch(f){case"places":return!!window.google.maps.places;case"geometry":return!!window.google.maps.geometry;case"core":return!!window.google.maps.DirectionsService;default:return!0}})(t)){FL=!0,e.forEach(f=>aA.add(f)),console.log(`Google Maps API loaded successfully with ${t} library`),a();return}if(s>=l){o(new Error("Google Maps API failed to load within 10 seconds"));return}setTimeout(u,100)};u()})}catch(i){throw console.error("Failed to load Google Maps API:",i),i}}const cBe=()=>lBe("places"),uBe=async()=>{if(console.log("Loading Google Maps API..."),window.google&&window.google.maps&&window.google.maps.DirectionsService){console.log("Google Maps API already loaded");return}try{const t=`https://maps.googleapis.com/maps/api/js?key=${_N}`;console.log("Loading Google Maps script..."),await mJ(t),console.log("Script loaded, waiting for Google Maps to initialize..."),await new Promise((e,r)=>{let n=0;const i=100,a=()=>{if(n++,window.google&&window.google.maps&&window.google.maps.DirectionsService){console.log("Google Maps API loaded successfully"),e();return}if(n>=i){console.error("Google Maps API failed to load within 10 seconds"),r(new Error("Google Maps API failed to load within 10 seconds. This usually indicates an invalid API key or billing issue."));return}setTimeout(a,100)};a()})}catch(t){throw console.error("Failed to load Google Maps API:",t),new Error("Failed to load Google Maps API. Please check your API key and billing settings.")}};function dBe({open:t,onOpenChange:e}){const[r,n]=b.useState(""),[i,a]=b.useState(),[o,s]=b.useState(""),[l,u]=b.useState(""),[d,f]=b.useState(""),[h,p]=b.useState(""),[m,g]=b.useState(null),[v,x]=b.useState(!1),[y,w]=b.useState([]),[S,E]=b.useState(!1),[C,A]=b.useState(),T=b.useRef(null),N=b.useRef(),{addTrip:I}=os(),{toast:j}=un(),{user:O,isAdmin:P}=qr();b.useEffect(()=>(t&&cBe().catch(U=>{console.error("Failed to initialize Google Maps:",U),j({title:"Location Search Unavailable",description:"Please try refreshing the page",variant:"destructive"})}),()=>{N.current&&clearTimeout(N.current)}),[t]);const M=U=>{var X,H;if(n(U),g(null),E(!0),!C&&((H=(X=window.google)==null?void 0:X.maps)!=null&&H.places)&&A(new google.maps.places.AutocompleteSessionToken),N.current&&clearTimeout(N.current),!U.trim()){w([]);return}N.current=setTimeout(async()=>{var Y,Q;if(!((Q=(Y=window.google)==null?void 0:Y.maps)!=null&&Q.places)){w([]);return}try{const ue={input:U,includedPrimaryTypes:["establishment"],sessionToken:C},{suggestions:de}=await google.maps.places.AutocompleteSuggestion.fetchAutocompleteSuggestions(ue);w(de)}catch(ue){console.error("Error fetching autocomplete suggestions:",ue),w([])}},300)},F=async U=>{var X;if(U.placePrediction){n(U.placePrediction.text.text),E(!1),(X=T.current)==null||X.blur();try{const H=new google.maps.places.Place({id:U.placePrediction.placeId});await H.fetchFields({fields:["location","formattedAddress","displayName"]}),H.location&&(g({lat:H.location.lat(),lng:H.location.lng()}),n(H.displayName||U.placePrediction.text.text))}catch(H){console.error("Error fetching place details:",H),j({title:"Error",description:"Could not fetch place details.",variant:"destructive"})}finally{A(void 0)}}},B=()=>{n(""),a(void 0),s(""),u(""),f(""),p(""),g(null),x(!1),w([]),E(!1),A(void 0)},W=U=>{U||B(),e(U)},$=async U=>{if(U.preventDefault(),!r||!i||!o){j({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}try{let X,H;P?(X=[{id:(O==null?void 0:O.id)||"1",name:(O==null?void 0:O.name)||"You",avatar:(O==null?void 0:O.avatar)||"https://i.pravatar.cc/150?u=a042581f4e29026024d"},{id:"2",name:"Rachel",avatar:"https://i.pravatar.cc/150?u=rachel"},{id:"3",name:"Dev",avatar:"https://i.pravatar.cc/150?u=dev"}],H={name:(O==null?void 0:O.name)||"You",avatar:(O==null?void 0:O.avatar)||"https://i.pravatar.cc/150?u=a042581f4e29026024d"}):(X=[{id:(O==null?void 0:O.id)||"1",name:(O==null?void 0:O.name)||"User",avatar:(O==null?void 0:O.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((O==null?void 0:O.name)||"User")}&background=random`}],H={name:(O==null?void 0:O.name)||"User",avatar:(O==null?void 0:O.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((O==null?void 0:O.name)||"User")}&background=random`});const Y={store:r,date:i.toISOString(),time:o,notes:h,budget:d?parseFloat(d):void 0,eta:l,location:"",coordinates:{lat:0,lng:0},participants:X,shopper:H,items:[]};I(Y),j({title:"Success",description:"Trip created successfully"}),W(!1)}catch(X){console.error("Failed to create trip:",X),j({title:"Error",description:"Failed to create trip. Please try again.",variant:"destructive"})}finally{x(!1)}};return c.jsx(_r,{open:t,onOpenChange:W,children:c.jsxs(pr,{className:"sm:max-w-[425px]",children:[c.jsxs(mr,{children:[c.jsx(gr,{children:"Add New Shopping Trip"}),c.jsx(Ei,{children:"Fill in the details below to add a new shopping trip. Search for a store to get started."})]}),c.jsxs("form",{onSubmit:$,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"store",children:"Store Location*"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ue,{id:"store",ref:T,value:r,onChange:U=>M(U.target.value),onFocus:()=>E(!0),onBlur:()=>setTimeout(()=>E(!1),200),placeholder:"Search for a store",className:"pr-8",autoComplete:"off"}),r&&c.jsx("button",{type:"button",onClick:()=>{var U;n(""),g(null),w([]),(U=T.current)==null||U.focus()},className:"absolute right-8 top-1/2 -translate-y-1/2",children:c.jsx(Li,{className:"h-4 w-4 text-gray-500 hover:text-gray-700"})}),c.jsx(la,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),S&&y.length>0&&c.jsx("div",{className:"absolute z-10 w-full mt-1 bg-background border rounded-md shadow-lg",children:c.jsx("ul",{className:"py-1",children:y.map(U=>{if(!U.placePrediction)return null;const[X,...H]=U.placePrediction.text.text.split(","),Y=H.join(",").trim();return c.jsx("li",{onMouseDown:()=>F(U),className:"px-3 py-2 text-sm cursor-pointer hover:bg-accent",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(la,{className:"h-4 w-4 mt-0.5 mr-2 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold",children:X}),c.jsx("p",{className:"text-xs text-muted-foreground",children:Y})]})]})},U.placePrediction.placeId)})})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{children:"Date*"}),c.jsxs(nv,{children:[c.jsx(iv,{asChild:!0,children:c.jsxs(K,{variant:"outline",className:je("w-full justify-start text-left font-normal",!i&&"text-muted-foreground"),children:[c.jsx(Hu,{className:"mr-2 h-4 w-4"}),i?Yt(i,"PPP"):"Select a date"]})}),c.jsx(lh,{className:"w-auto p-0",align:"start",children:c.jsx(Y2,{mode:"single",selected:i,onSelect:a,initialFocus:!0,disabled:U=>U<new Date(new Date().setHours(0,0,0,0)),className:"rounded-md border"})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{children:"Time"}),c.jsxs($t,{value:o,onValueChange:s,children:[c.jsx(Ot,{children:c.jsx(Ft,{placeholder:"Select a time"})}),c.jsx(jt,{children:Array.from({length:24}).flatMap((U,X)=>{const H=X,Y=H===0?12:H>12?H-12:H,Q=H<12?"AM":"PM",ue=H.toString().padStart(2,"0");return[c.jsx(Se,{value:`${ue}:00`,children:`${Y}:00 ${Q}`},`${H}:00`),c.jsx(Se,{value:`${ue}:30`,children:`${Y}:30 ${Q}`},`${H}:30`)]})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{children:"Estimated Duration"}),c.jsxs($t,{value:l,onValueChange:u,children:[c.jsx(Ot,{children:c.jsx(Ft,{placeholder:"Select duration"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"15 min",children:"15 minutes"}),c.jsx(Se,{value:"30 min",children:"30 minutes"}),c.jsx(Se,{value:"45 min",children:"45 minutes"}),c.jsx(Se,{value:"1 hour",children:"1 hour"}),c.jsx(Se,{value:"1.5 hours",children:"1.5 hours"}),c.jsx(Se,{value:"2 hours",children:"2 hours"}),c.jsx(Se,{value:"2.5 hours",children:"2.5 hours"}),c.jsx(Se,{value:"3 hours",children:"3 hours"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"budget",children:"Budget"}),c.jsx(Ue,{id:"budget",type:"number",value:d,onChange:U=>f(U.target.value),placeholder:"Enter budget amount",min:"0",step:"0.01"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"notes",children:"Notes"}),c.jsx(Ue,{id:"notes",value:h,onChange:U=>p(U.target.value),placeholder:"Add any notes about this trip"})]}),c.jsxs(Si,{children:[c.jsx(K,{type:"button",variant:"outline",onClick:()=>W(!1),disabled:v,children:"Cancel"}),c.jsx(K,{type:"submit",disabled:v,children:v?"Creating...":"Create Trip"})]})]})]})})}var s3="Checkbox",[fBe,Glt]=za(s3),[hBe,pBe]=fBe(s3),gJ=b.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:l="on",onCheckedChange:u,form:d,...f}=t,[h,p]=b.useState(null),m=et(e,S=>p(S)),g=b.useRef(!1),v=h?d||!!h.closest("form"):!0,[x=!1,y]=ts({prop:i,defaultProp:a,onChange:u}),w=b.useRef(x);return b.useEffect(()=>{const S=h==null?void 0:h.form;if(S){const E=()=>y(w.current);return S.addEventListener("reset",E),()=>S.removeEventListener("reset",E)}},[h,y]),c.jsxs(hBe,{scope:r,state:x,disabled:s,children:[c.jsx(Le.button,{type:"button",role:"checkbox","aria-checked":cc(x)?"mixed":x,"aria-required":o,"data-state":xJ(x),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:m,onKeyDown:be(t.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:be(t.onClick,S=>{y(E=>cc(E)?!0:!E),v&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})}),v&&c.jsx(mBe,{control:h,bubbles:!g.current,name:n,value:l,checked:x,required:o,disabled:s,form:d,style:{transform:"translateX(-100%)"},defaultChecked:cc(a)?!1:a})]})});gJ.displayName=s3;var vJ="CheckboxIndicator",yJ=b.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,a=pBe(vJ,r);return c.jsx(_n,{present:n||cc(a.state)||a.state===!0,children:c.jsx(Le.span,{"data-state":xJ(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});yJ.displayName=vJ;var mBe=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:i,...a}=t,o=b.useRef(null),s=hk(r),l=yO(e);b.useEffect(()=>{const d=o.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(s!==r&&p){const m=new Event("click",{bubbles:n});d.indeterminate=cc(r),p.call(d,cc(r)?!1:r),d.dispatchEvent(m)}},[s,r,n]);const u=b.useRef(cc(r)?!1:r);return c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??u.current,...a,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function cc(t){return t==="indeterminate"}function xJ(t){return cc(t)?"indeterminate":t?"checked":"unchecked"}var wJ=gJ,gBe=yJ;const kc=b.forwardRef(({className:t,...e},r)=>c.jsx(wJ,{ref:r,className:je("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:c.jsx(gBe,{className:je("flex items-center justify-center text-current"),children:c.jsx(fo,{className:"h-4 w-4"})})}));kc.displayName=wJ.displayName;const wv=b.forwardRef(({className:t,...e},r)=>c.jsx("textarea",{className:je("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));wv.displayName="Textarea";const vBe=Wh("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),bJ=b.forwardRef(({className:t,variant:e,...r},n)=>c.jsx("div",{ref:n,role:"alert",className:je(vBe({variant:e}),t),...r}));bJ.displayName="Alert";const yBe=b.forwardRef(({className:t,...e},r)=>c.jsx("h5",{ref:r,className:je("mb-1 font-medium leading-none tracking-tight",t),...e}));yBe.displayName="AlertTitle";const _J=b.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:je("text-sm [&_p]:leading-relaxed",t),...e}));_J.displayName="AlertDescription";const xBe=({isOpen:t,onClose:e,onAddItems:r})=>{const{toast:n}=un(),[i,a]=b.useState(""),[o,s]=b.useState([]),[l,u]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[m,g]=b.useState("input"),{user:v}=qr(),x=`#taska
You are helping me create a structured grocery list from a block of unstructured text.

Here's how it works:
1. I will paste a recipe, list of meals, event plan, or raw text containing food or product needs.
2. You will:
  - Parse what items I might need.
  - Extract quantities if mentioned.
  - Infer appropriate items from context.

Output Format Instructions (CRITICAL):
- Respond ONLY with the formatted grocery list - no introduction, explanation, or additional text.
- Use EXACTLY this format:

 Grocery List
- [Item name] ([quantity] [unit])
- [Item name]
- ...

Example of a correct response:
 Grocery List
- Milk (1 gallon)
- Eggs (12)
- Bread (1 loaf)

Make sure the list is:
- In plain, copy-friendly text
- Organized and clean (no duplicates)
- Ready for direct copy/paste into the app

Now, here is the text I want to base my grocery list on:

${i}`,y=()=>{navigator.clipboard.writeText(x),f(!0),n({title:"Prompt copied to clipboard",description:"Now paste it into ChatGPT to generate your list"}),setTimeout(()=>f(!1),2e3)},w=A=>{try{console.log("Parsing input:",A);const T=A.split(`
`);console.log(`Processing ${T.length} lines`);const N=[];for(const I of T){const j=I.trim();if(!j){console.log("Skipping empty line");continue}console.log("Processing line:",j);const O=j.includes(" Grocery List"),P=j.startsWith("-");if(O){console.log("Skipping header line:",j);continue}let M=j;P&&(M=j.substring(1).trim(),console.log("Removed bullet point, processing:",M));let F=!1;const B=M.match(/^(.*?)\s*\(([^)]+)\)$/);if(B){F=!0,console.log("Found structured format match:",B);const W=B[1].trim(),$=B[2].trim(),U=$.match(/^(\d+(?:\.\d+)?)/);let X=1,H="";U?(X=parseFloat(U[1]),H=$.substring(U[0].length).trim(),console.log(`Extracted quantity: ${X}, unit: ${H}`)):(H=$,console.log(`No numeric quantity found, using as unit: ${H}`));const Y={name:W,quantity:X,unit:H,checked:!1,addedBy:{name:(v==null?void 0:v.name)||"User",avatar:(v==null?void 0:v.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((v==null?void 0:v.name)||"User")}&background=random`},isRecurring:!1,recurrenceFrequency:null};console.log("Adding structured item:",Y),N.push(Y)}if(!F){const W=M.match(/^(.*?)\s+(\d+(?:\.\d+)?)(?:\s+(\w+))?$/);if(W){F=!0,console.log("Found simple format match:",W);const $=W[1].trim(),U=parseFloat(W[2]),X=W[3]?W[3].trim():"",H={name:$,quantity:U,unit:X,checked:!1,addedBy:{name:(v==null?void 0:v.name)||"User",avatar:(v==null?void 0:v.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((v==null?void 0:v.name)||"User")}&background=random`},isRecurring:!1,recurrenceFrequency:null};console.log("Adding simple format item:",H),N.push(H)}}if(!F){const W=M.match(/^(.*?)\s+-\s+(\d+(?:\.\d+)?)(?:\s+(\w+))?$/);if(W){F=!0,console.log("Found dash format match:",W);const $=W[1].trim(),U=parseFloat(W[2]),X=W[3]?W[3].trim():"",H={name:$,quantity:U,unit:X,checked:!1,addedBy:{name:(v==null?void 0:v.name)||"User",avatar:(v==null?void 0:v.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((v==null?void 0:v.name)||"User")}&background=random`},isRecurring:!1,recurrenceFrequency:null};console.log("Adding dash format item:",H),N.push(H)}}if(!F){console.log("No format match, treating as plain item:",M);const W={name:M,quantity:1,unit:"",checked:!1,addedBy:{name:(v==null?void 0:v.name)||"User",avatar:(v==null?void 0:v.avatar)||`https://ui-avatars.com/api/?name=${encodeURIComponent((v==null?void 0:v.name)||"User")}&background=random`},isRecurring:!1,recurrenceFrequency:null};console.log("Adding plain item:",W),N.push(W)}}return console.log("Final parsed items:",N),N}catch(T){return console.error("Error parsing output:",T),[]}},S=()=>{if(!i.trim()){n({title:"Empty input",description:"Please paste the AI-generated grocery list",variant:"destructive"});return}u(!0);const A=w(i);setTimeout(()=>{s(A),u(!1),g("output"),A.length===0&&n({title:"Parsing failed",description:"Could not identify any items in the format. Please make sure it follows the proper format.",variant:"destructive"})},1e3)},E=()=>{if(o.length===0){n({title:"No items",description:"No items to add to your trip",variant:"destructive"});return}r(o),n({title:"Items added",description:`${o.length} items added to your trip`}),a(""),s([]),g("input"),e()},C=()=>{g("input"),a(""),s([])};return c.jsx(_r,{open:t,onOpenChange:e,children:c.jsxs(pr,{className:"sm:max-w-md md:max-w-lg max-h-[80vh] overflow-y-auto",children:[c.jsxs(mr,{children:[c.jsxs(gr,{className:"flex items-center gap-2 bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-green-500",children:[c.jsx(vse,{className:"h-5 w-5 text-blue-500"}),"Smart List Parser"]}),c.jsx(Ei,{children:"Turn unstructured text into an organized grocery list using AI."})]}),c.jsxs("div",{className:"pt-4 space-y-4",children:[m==="input"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs(ce,{className:"flex items-center",children:[c.jsx(use,{className:"h-4 w-4 mr-2 text-blue-500"}),"Step 1: Copy this prompt to ChatGPT"]}),c.jsxs("div",{className:"relative bg-gray-100 dark:bg-gray-800 rounded-md p-3 mt-1 text-sm text-gray-700 dark:text-gray-300",children:[c.jsx("div",{className:"absolute top-2 right-2",children:c.jsx(K,{variant:"ghost",size:"icon",onClick:y,className:"h-6 w-6",children:d?c.jsx(fo,{className:"h-3 w-3"}):c.jsx(Qoe,{className:"h-3 w-3"})})}),c.jsx("div",{className:"pr-6 max-h-32 overflow-y-auto font-mono",children:c.jsx("pre",{className:"whitespace-pre-wrap",children:x})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs(ce,{htmlFor:"output",className:"flex items-center",children:[c.jsx(Xoe,{className:"h-4 w-4 mr-2 text-blue-500"}),"Step 2: Paste AI-generated grocery list here or type items directly (e.g., milk 1 gallon, bread - 2 loaves)"]}),c.jsx(wv,{id:"output",value:i,onChange:A=>a(A.target.value),placeholder:"Paste list here or type items directly (e.g., milk 1 gallon, bread - 2 loaves)",className:"min-h-[150px]"})]}),c.jsxs(bJ,{className:"bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 border-blue-200 dark:border-blue-900",children:[c.jsx(bV,{className:"h-4 w-4"}),c.jsx(_J,{children:'Use ChatGPT to convert recipes, meal plans, or any food-related text into a structured grocery list, then paste it here. Or simply type items directly, one per line, like "milk 1 gallon" or "bread - 2 loaves" to add with quantities.'})]}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[c.jsx(K,{variant:"outline",onClick:e,children:"Cancel"}),c.jsxs(K,{onClick:S,className:"bg-gradient-to-r from-blue-500 to-green-500 text-white hover:from-blue-600 hover:to-green-600",children:[c.jsx(ose,{className:"h-4 w-4 mr-2"}),"Process List"]})]})]}),m==="output"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs(ce,{className:"flex items-center",children:[c.jsx(lr,{className:"h-4 w-4 mr-2 text-blue-500"}),"Parsed Items (",o.length,")"]}),c.jsxs(mt,{variant:"outline",className:"font-normal",children:[o.length," items"]})]}),c.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-md p-4 max-h-[300px] overflow-y-auto",children:o.length>0?c.jsx("ul",{className:"space-y-2",children:o.map((A,T)=>c.jsxs(On.li,{className:"flex justify-between items-center p-2 bg-white dark:bg-gray-700 rounded-md border border-gray-200 dark:border-gray-600",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:T*.05},children:[c.jsx("span",{children:A.name}),c.jsxs(mt,{variant:"secondary",className:"text-xs",children:[A.quantity," ",A.unit]})]},T))}):c.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No items could be parsed from the input"})})]}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[c.jsx(K,{variant:"outline",onClick:C,children:"Back"}),c.jsxs(K,{onClick:E,disabled:o.length===0,className:"bg-gradient-to-r from-blue-500 to-green-500 text-white hover:from-blue-600 hover:to-green-600",children:[c.jsx(lr,{className:"h-4 w-4 mr-2"}),"Add to Trip"]})]})]})]})]})})},oA=[{barcode:"0123456789012",name:"Organic Milk",defaultPrice:3.99,defaultCategory:"Dairy",unit:"gal"},{barcode:"5901234123457",name:"Whole Wheat Bread",defaultPrice:2.49,defaultCategory:"Bakery",unit:"ea"},{barcode:"9780201379624",name:"Organic Bananas",defaultPrice:1.99,defaultCategory:"Produce",unit:"lb"},{barcode:"4006381333931",name:"Extra Virgin Olive Oil",defaultPrice:8.99,defaultCategory:"Oils & Vinegars",unit:"floz"},{barcode:"8410154011417",name:"Cereal",defaultPrice:4.29,defaultCategory:"Breakfast",unit:"box"},{barcode:"3800020430781",name:"Pasta Sauce",defaultPrice:3.49,defaultCategory:"Canned Goods",unit:"can"},{barcode:"7622210100221",name:"Chocolate Bar",defaultPrice:2.25,defaultCategory:"Snacks",unit:"ea"},{barcode:"5449000000996",name:"Coca-Cola",defaultPrice:1.79,defaultCategory:"Beverages",unit:"bottle"},{barcode:"8000500310427",name:"Nutella",defaultPrice:4.99,defaultCategory:"Spreads",unit:"jar"}],wBe=t=>{const e=oA.findIndex(r=>r.barcode===t.barcode);e>=0?oA[e]=t:oA.push(t),console.log("Product saved:",t)},S_=[{id:"g",name:"Gram",abbreviation:"g",type:"weight",system:"metric",conversionFactor:1,commonItems:["spices","flour","sugar"]},{id:"kg",name:"Kilogram",abbreviation:"kg",type:"weight",system:"metric",conversionFactor:1e3,commonItems:["potatoes","rice","onions"]},{id:"oz",name:"Ounce",abbreviation:"oz",type:"weight",system:"imperial",conversionFactor:28.35,commonItems:["meat","cheese"]},{id:"lb",name:"Pound",abbreviation:"lb",type:"weight",system:"imperial",conversionFactor:453.59,commonItems:["meat","fruits","vegetables"]},{id:"ml",name:"Milliliter",abbreviation:"ml",type:"volume",system:"metric",conversionFactor:1,commonItems:["sauce","oil"]},{id:"l",name:"Liter",abbreviation:"L",type:"volume",system:"metric",conversionFactor:1e3,commonItems:["milk","juice","water"]},{id:"floz",name:"Fluid Ounce",abbreviation:"fl oz",type:"volume",system:"imperial",conversionFactor:29.57,commonItems:["beverages"]},{id:"cup",name:"Cup",abbreviation:"cup",type:"volume",system:"imperial",conversionFactor:236.59,commonItems:["flour","sugar","rice"]},{id:"pt",name:"Pint",abbreviation:"pt",type:"volume",system:"imperial",conversionFactor:473.18,commonItems:["berries","ice cream"]},{id:"qt",name:"Quart",abbreviation:"qt",type:"volume",system:"imperial",conversionFactor:946.35,commonItems:["milk"]},{id:"gal",name:"Gallon",abbreviation:"gal",type:"volume",system:"imperial",conversionFactor:3785.41,commonItems:["milk","water"]},{id:"ea",name:"Each",abbreviation:"ea",type:"quantity",system:"universal",conversionFactor:1,commonItems:["eggs","fruit","canned goods"]},{id:"pc",name:"Piece",abbreviation:"pc",type:"quantity",system:"universal",conversionFactor:1,commonItems:["fruit","bread","cheese"]},{id:"dz",name:"Dozen",abbreviation:"dz",type:"quantity",system:"universal",conversionFactor:12,commonItems:["eggs","pastries","donuts"]},{id:"pack",name:"Package",abbreviation:"pack",type:"package",system:"universal",conversionFactor:1,commonItems:["pasta","bacon","cheese","snacks"]},{id:"box",name:"Box",abbreviation:"box",type:"package",system:"universal",conversionFactor:1,commonItems:["cereal","crackers"]},{id:"can",name:"Can",abbreviation:"can",type:"package",system:"universal",conversionFactor:1,commonItems:["soup","beans","tomatoes","soda"]},{id:"bottle",name:"Bottle",abbreviation:"btl",type:"package",system:"universal",conversionFactor:1,commonItems:["soda","wine","oils","water","juice"]},{id:"bunch",name:"Bunch",abbreviation:"bunch",type:"quantity",system:"universal",conversionFactor:1,commonItems:["bananas","grapes","carrots","herbs"]},{id:"jar",name:"Jar",abbreviation:"jar",type:"package",system:"universal",conversionFactor:1,commonItems:["sauces","pickles","jam","peanut butter"]}],Es=S_.reduce((t,e)=>({...t,[e.id]:e}),{}),bBe=(t,e,r)=>{const n=Es[e],i=Es[r];return!n||!i||n.type!==i.type?null:t*n.conversionFactor/i.conversionFactor},BL=t=>S_.filter(e=>e.type===t),SJ=t=>{const e=t.toLowerCase().trim();return S_.filter(r=>{var n;return(n=r.commonItems)==null?void 0:n.some(i=>e.includes(i)||i.includes(e))})},jw=t=>{const e=SJ(t);if(e.length===0)return Es.ea;const r=["quantity","weight","volume","package"];for(const n of r){const i=e.find(a=>a.type===n);if(i)return i}return e[0]};function _Be(t){return"value"in t&&"onChange"in t}const SBe=t=>{if(_Be(t)){const{value:y,onChange:w,className:S=""}=t;return c.jsx("div",{className:S,children:c.jsxs($t,{value:y,onValueChange:w,children:[c.jsx(Ot,{children:c.jsx(Ft,{placeholder:"Select unit"})}),c.jsx(jt,{children:S_.map(E=>c.jsxs(Se,{value:E.id,children:[E.name," (",E.abbreviation,")"]},E.id))})]})})}const{itemName:e,quantity:r,unit:n,onQuantityChange:i,onUnitChange:a,className:o="",showConversion:s=!1,compact:l=!1}=t,[u,d]=b.useState(n?Es[n]:jw(e)),[f,h]=b.useState([]),[p,m]=b.useState((u==null?void 0:u.type)||"quantity");b.useEffect(()=>{const y=SJ(e);if(y.length>0){if(h(y),!n&&!y.some(w=>w.id===(u==null?void 0:u.id))){const w=jw(e);d(w),m(w.type),a(w.id)}}else h(BL("quantity"))},[e]),b.useEffect(()=>{n&&Es[n]&&(d(Es[n]),m(Es[n].type))},[n]);const g=y=>{m(y);const w=BL(y);if(h(w),w.length>0){const S=w[0];d(S),a(S.id)}},v=y=>{if(!y||!Es[y])return;const w=Es[y];if(d(w),a(y),u&&w.type===u.type&&s){const S=bBe(r,u.id,w.id);S!==null&&i(Math.round(S*100)/100)}},x=[{type:"quantity",label:"Qty"},{type:"weight",label:"Weight"},{type:"volume",label:"Volume"},{type:"package",label:"Package"}];return l?c.jsx("div",{className:o,children:c.jsxs(nv,{children:[c.jsx(iv,{asChild:!0,children:c.jsxs(K,{variant:"outline",size:"sm",className:"h-10 px-2 flex items-center justify-between rounded-l-none border-l-0","aria-label":`Current unit: ${(u==null?void 0:u.abbreviation)||"each"}`,"aria-haspopup":"true",children:[c.jsx("span",{children:(u==null?void 0:u.abbreviation)||"ea"}),c.jsx(Px,{className:"h-3.5 w-3.5 ml-1 opacity-50"})]})}),c.jsx(lh,{className:"w-[240px] p-2",children:c.jsxs("div",{className:"flex flex-col space-y-2",children:[c.jsx(ce,{htmlFor:"unit-type",className:"text-xs pl-1",children:"Measurement Type"}),c.jsx("div",{className:"grid grid-cols-4 gap-1",children:x.map(y=>c.jsx(K,{variant:p===y.type?"default":"outline",size:"sm",className:"h-8 text-xs",onClick:()=>g(y.type),"aria-label":`Select ${y.label} measurement type`,"aria-pressed":p===y.type,children:y.label},y.type))}),c.jsx(ce,{htmlFor:"unit",className:"text-xs mt-2 pl-1",children:"Unit"}),c.jsx("div",{className:"grid grid-cols-3 gap-1",children:f.filter(y=>y.type===p).map(y=>c.jsx(K,{variant:(u==null?void 0:u.id)===y.id?"default":"outline",size:"sm",className:"h-8 text-xs",onClick:()=>v(y.id),"aria-label":`Select ${y.name} (${y.abbreviation})`,"aria-pressed":(u==null?void 0:u.id)===y.id,children:y.abbreviation},y.id))})]})})]})}):c.jsxs("div",{className:`flex items-center space-x-2 ${o}`,children:[c.jsxs(nv,{children:[c.jsx(iv,{asChild:!0,children:c.jsxs(K,{variant:"outline",size:"sm",className:"h-9 px-2 flex items-center justify-between",children:[c.jsx("span",{className:"mr-1",children:(u==null?void 0:u.abbreviation)||"ea"}),c.jsx(Px,{className:"h-3.5 w-3.5 opacity-50"})]})}),c.jsx(lh,{className:"w-[240px] p-2",children:c.jsxs("div",{className:"flex flex-col space-y-2",children:[c.jsx(ce,{htmlFor:"unit-type",className:"text-xs pl-1",children:"Measurement Type"}),c.jsx("div",{className:"grid grid-cols-4 gap-1",children:x.map(y=>c.jsx(K,{variant:p===y.type?"default":"outline",size:"sm",className:"h-8 text-xs",onClick:()=>g(y.type),"aria-label":`Select ${y.label} measurement type`,"aria-pressed":p===y.type,children:y.label},y.type))}),c.jsx(ce,{htmlFor:"unit",className:"text-xs mt-2 pl-1",children:"Unit"}),c.jsx("div",{className:"grid grid-cols-3 gap-1",children:f.filter(y=>y.type===p).map(y=>c.jsx(K,{variant:(u==null?void 0:u.id)===y.id?"default":"outline",size:"sm",className:"h-8 text-xs",onClick:()=>v(y.id),"aria-label":`Select ${y.name} (${y.abbreviation})`,"aria-pressed":(u==null?void 0:u.id)===y.id,children:y.abbreviation},y.id))})]})})]}),c.jsx(Ue,{type:"number",min:"0.01",step:"0.01",value:r,onChange:y=>i(parseFloat(y.target.value)||0),className:"h-9 w-20"})]})},EBe=({barcode:t,isOpen:e,onClose:r,onSave:n})=>{const[i,a]=b.useState(""),[o,s]=b.useState(void 0),[l,u]=b.useState(""),[d,f]=b.useState(1),[h,p]=b.useState("ea"),{toast:m}=un(),g=x=>{if(x.trim()){const y=jw(x);p(y.id)}},v=()=>{if(!i.trim()){m({title:"Product name required",description:"Please enter a name for this product",variant:"destructive"});return}const x={barcode:t,name:i,defaultPrice:o,defaultCategory:l||void 0,unit:h};wBe(x),n(x),a(""),s(void 0),u(""),f(1),p("ea"),r(),m({title:"Product saved",description:`"${i}" has been added to the product database`})};return c.jsx(_r,{open:e,onOpenChange:x=>{x||r()},children:c.jsxs(pr,{className:"sm:max-w-md",children:[c.jsxs(mr,{children:[c.jsxs(gr,{className:"flex items-center gap-2",children:[c.jsx(zoe,{className:"h-5 w-5"}),"Save New Product"]}),c.jsx(Ei,{children:"Save this product to your database for future scans."})]}),c.jsxs("div",{className:"grid gap-4 py-2",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ce,{htmlFor:"barcode",children:"Barcode"}),c.jsx(Ue,{id:"barcode",value:t,readOnly:!0,className:"bg-muted"})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ce,{htmlFor:"productName",children:"Product Name*"}),c.jsx(Ue,{id:"productName",value:i,onChange:x=>{a(x.target.value),g(x.target.value)},placeholder:"Enter product name",autoFocus:!0})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ce,{htmlFor:"productPrice",children:"Default Price (optional)"}),c.jsx(Ue,{id:"productPrice",type:"number",step:"0.01",min:"0",value:o===void 0?"":o,onChange:x=>{const y=x.target.value?parseFloat(x.target.value):void 0;s(y)},placeholder:"0.00"})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ce,{htmlFor:"productCategory",children:"Category (optional)"}),c.jsx(Ue,{id:"productCategory",value:l,onChange:x=>u(x.target.value),placeholder:"Enter category"})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(ce,{htmlFor:"productUnit",children:"Unit"}),c.jsxs("div",{className:"flex gap-2 items-center",children:[c.jsx(SBe,{itemName:i,quantity:d,unit:h,onQuantityChange:f,onUnitChange:p,showConversion:!1}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"Suggested based on product name"})]})]})]}),c.jsxs(Si,{children:[c.jsx(K,{variant:"outline",onClick:r,children:"Cancel"}),c.jsx(K,{onClick:v,children:"Save Product"})]})]})})},ABe=({suggestion:t,isOpen:e,onClose:r,onAddAnyway:n,onMergeItems:i,onUpdate:a})=>{if(!t)return null;const{type:o,newItemName:s,existingItem:l,confidence:u,message:d}=t,f=o==="duplicate",h=()=>{n(),r()},p=()=>{i(l,1),r()},m=()=>{a(l),r()};return c.jsx(_r,{open:e,onOpenChange:r,children:c.jsxs(pr,{className:"sm:max-w-md",children:[c.jsxs(mr,{children:[c.jsxs(gr,{className:"flex items-center gap-2",children:[c.jsx(_o,{className:"h-5 w-5 text-amber-500"}),f?"Duplicate Item":"Similar Item Found"]}),c.jsx(Ei,{children:d})]}),c.jsxs("div",{className:"p-4 border rounded-md bg-amber-50 dark:bg-amber-900/20",children:[c.jsxs("div",{className:"mb-2",children:[c.jsx("span",{className:"text-sm font-medium",children:"New item:"})," ",c.jsx("span",{className:"text-sm",children:s})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium",children:"Existing item:"})," ",c.jsx("span",{className:"text-sm",children:l.name}),c.jsxs("div",{className:"flex items-center mt-1 gap-2",children:[c.jsxs(mt,{variant:"outline",className:"text-xs",children:["Qty: ",l.quantity]}),l.price&&c.jsxs(mt,{variant:"outline",className:"text-xs",children:["$",l.price.toFixed(2)]}),!f&&c.jsxs(mt,{variant:"outline",className:`text-xs ${u>85?"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400":u>75?"bg-amber-50 text-amber-700 dark:bg-amber-900/20 dark:text-amber-400":"bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400"}`,children:[u,"% match"]})]})]})]}),c.jsx(Si,{className:"gap-2 sm:gap-0",children:c.jsxs("div",{className:"flex flex-col gap-2 w-full sm:flex-row sm:justify-end",children:[c.jsx(K,{type:"button",variant:"outline",onClick:h,className:"sm:w-auto w-full",children:"Add Anyway"}),c.jsx(K,{type:"button",variant:"secondary",onClick:p,className:"sm:w-auto w-full",children:"Increase Quantity (+1)"}),!f&&c.jsx(K,{type:"button",variant:"default",onClick:m,className:"sm:w-auto w-full",children:"Update Existing"})]})})]})})},CBe=(t,e)=>{try{const r=`tripSplit_${t}`;localStorage.setItem(r,JSON.stringify(e))}catch(r){console.error("Failed to save split configuration:",r)}},SN=t=>{try{const e=`tripSplit_${t}`,r=localStorage.getItem(e);if(r)return JSON.parse(r)}catch(e){console.error("Failed to load split configuration:",e)}return[]},TBe=(t,e)=>{if(!Array.isArray(e)||e.length===0)return{itemId:t,splitType:"equal",details:[]};const r=e.filter(i=>i&&i.id&&i.name);if(r.length===0)return{itemId:t,splitType:"equal",details:[]};const n=100/r.length;return{itemId:t,splitType:"equal",details:r.map(i=>({userId:i.id,userName:i.name,share:n}))}},sA=(t,e,r,n)=>{const i=t.findIndex(a=>a.itemId===e);if(i>=0){const a=[...t];return a[i]={itemId:e,splitType:r,details:n},a}else return[...t,{itemId:e,splitType:r,details:n}]},NBe=(t,e,r)=>{if(!Array.isArray(r))return[];const n=r.filter(s=>s&&s.id&&s.name);if(n.length===0)return[];const i=SN(t),a=n.map(s=>({userId:s.id,userName:s.name,totalAmount:0,itemCount:0})),o=n.find(s=>s.name==="You");return e.forEach(s=>{if(s.price===void 0)return;const l=i.find(d=>d.itemId===s.id),u=s.price*s.quantity;if(l)if(l.splitType==="equal"){if(l.details.length===0)return;const d=u/l.details.length;l.details.forEach(f=>{const h=a.find(p=>p.userId===f.userId);h&&(h.totalAmount+=d,h.itemCount+=1)})}else l.splitType==="percentage"?l.details.forEach(d=>{const f=a.find(h=>h.userId===d.userId);f&&(f.totalAmount+=u*d.share/100,f.itemCount+=1)}):l.splitType==="person"&&l.details.forEach(d=>{const f=a.find(h=>h.userId===d.userId);f&&(f.totalAmount+=d.share,f.itemCount+=1)});else{const d=u/n.length;n.forEach(f=>{const h=a.find(p=>p.userId===f.id);h&&(h.totalAmount+=d,h.itemCount+=1)})}}),o&&(e.reduce((s,l)=>s+(l.price||0)*l.quantity,0),a.find(s=>s.userId===o.id)),a.forEach(s=>{s.totalAmount=Math.round(s.totalAmount*100)/100}),a};let EN=null;const EJ=()=>EN?`taska_ledger_transactions_${EN}`:"taska_ledger_transactions",IBe=t=>{EN=t},E_=()=>{try{const t=localStorage.getItem(EJ());if(t)return JSON.parse(t)}catch(t){console.error("Failed to load ledger transactions:",t)}return[]},AJ=t=>{try{localStorage.setItem(EJ(),JSON.stringify(t))}catch(e){console.error("Failed to save ledger transactions:",e)}},CJ=t=>{const e=E_(),r={...t,id:Date.now().toString()};return e.push(r),AJ(e),r},l3=(t,e)=>{const r=E_(),n=r.findIndex(a=>a.id===t);if(n===-1)return null;const i={...r[n],...e};return r[n]=i,AJ(r),i},TJ=()=>{const t=E_(),e=new Map;return t.forEach(r=>{if(r.status!=="completed")return;e.has(r.fromUserId)||e.set(r.fromUserId,{userId:r.fromUserId,userName:r.fromUserName,totalSpent:0,owesAmount:0,owedAmount:0,netBalance:0}),e.has(r.toUserId)||e.set(r.toUserId,{userId:r.toUserId,userName:r.toUserName,totalSpent:0,owesAmount:0,owedAmount:0,netBalance:0});const n=e.get(r.fromUserId),i=e.get(r.toUserId);if(r.type==="expense")if(r.isSplit){i.totalSpent+=r.amount;const a=r.amount/2;n.owesAmount+=a,i.owedAmount+=a}else i.totalSpent+=r.amount,n.owesAmount+=r.amount,i.owedAmount+=r.amount;else r.type==="payment"&&(n.totalSpent+=r.amount,n.owedAmount+=r.amount,i.owesAmount+=r.amount)}),e.forEach(r=>{r.netBalance=r.owedAmount-r.owesAmount}),Array.from(e.values())},PBe=()=>{const t=TJ(),e=t.filter(o=>o.netBalance<0).sort((o,s)=>o.netBalance-s.netBalance),r=t.filter(o=>o.netBalance>0).sort((o,s)=>s.netBalance-o.netBalance),n=[];let i=0,a=0;for(;i<e.length&&a<r.length;){const o=e[i],s=r[a],l=Math.min(Math.abs(o.netBalance),s.netBalance);l>0&&n.push({from:o,to:s,amount:Math.round(l*100)/100}),o.netBalance+=l,s.netBalance-=l,Math.abs(o.netBalance)<.01&&i++,Math.abs(s.netBalance)<.01&&a++}return n},OBe=(t,e,r,n,i,a,o,s=!0,l="other")=>CJ({tripId:t,timestamp:Date.now(),amount:o,type:"expense",fromUserId:r,fromUserName:n,toUserId:i,toUserName:a,description:`Expenses from trip to ${e}`,status:"completed",isSplit:s,category:l}),jBe=(t,e,r,n,i,a="Payment",o)=>CJ({timestamp:Date.now(),amount:i,type:"payment",fromUserId:t,fromUserName:e,toUserId:r,toUserName:n,description:a,status:"pending",category:o}),kBe=t=>l3(t,{status:"completed"}),RBe=t=>l3(t,{status:"cancelled"}),AN=()=>[{id:"food",label:"Food & Dining",icon:"utensils"},{id:"groceries",label:"Groceries",icon:"shopping-cart"},{id:"household",label:"Household",icon:"home"},{id:"utilities",label:"Utilities",icon:"bolt"},{id:"rent",label:"Rent & Mortgage",icon:"building"},{id:"transportation",label:"Transportation",icon:"car"},{id:"entertainment",label:"Entertainment",icon:"film"},{id:"personal",label:"Personal",icon:"user"},{id:"medical",label:"Medical",icon:"stethoscope"},{id:"other",label:"Other",icon:"circle"}],DBe=(t,e)=>l3(t,{category:e}),NJ=({tripId:t=`trip-${Date.now()}`,tripName:e="Shopping Trip",items:r,participants:n,onSettleUp:i,onSplitUpdated:a})=>{const[o,s]=b.useState([]),[l,u]=b.useState(0),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[m,g]=b.useState(!1),[v,x]=b.useState("equal"),[y,w]=b.useState([]),[S,E]=b.useState([]),[C,A]=b.useState(""),[T,N]=b.useState(""),[I,j]=b.useState([]),{toast:O}=un(),{inviteForExpense:P}=Ej(),{user:M}=qr();b.useEffect(()=>{const L=r.reduce((ye,me)=>ye+(me.price||0)*me.quantity,0);u(L);const q=NBe(t,r,n);s(q);const G=SN(t);f(G.length>0)},[t,r,n]),b.useEffect(()=>{if(h){const L=n.map(ye=>ye.id);E(L);const q=100/L.length,G=L.map(ye=>{const me=n.find(ie=>ie.id===ye);return{userId:ye,userName:(me==null?void 0:me.name)||"Unknown",share:q}});w(G),x("equal")}},[h,n]),b.useEffect(()=>{if(m){const L=r.filter(G=>G.price!==void 0&&G.price>0).map(G=>G.id);j(L);const q=r.filter(G=>L.includes(G.id)).reduce((G,ye)=>G+(ye.price||0)*ye.quantity,0);if(q>0){const G=`I'd like to split some expenses from our ${e||"shopping trip"} with you!

Total amount: $${q.toFixed(2)}
Your share: $${(q/2).toFixed(2)} (split equally)

Download TaskaLoop to easily split expenses and track payments!`;N(G)}else{const G=`I'd like to invite you to join our ${e||"shopping trip"} on TaskaLoop!

TaskaLoop helps us coordinate shopping trips, split expenses, and manage household tasks together.

Download TaskaLoop to get started!`;N(G)}}},[m,r,e]);const F=o.find(L=>L.userName==="You"),B=o.filter(L=>L.userName!=="You"),W=r.filter(L=>L.price!==void 0).length,$=()=>{O({title:"Share split summary",description:"This feature is coming soon!"})},U=()=>{O({title:"Export to CSV",description:"This feature is coming soon!"})},X=async()=>{if(!C.trim()){O({title:"Email required",description:"Please enter an email address to send the invitation",variant:"destructive"});return}try{const L=r.filter(q=>I.includes(q.id)).reduce((q,G)=>q+(G.price||0)*G.quantity,0);if(L>0){const q=r.filter(ye=>I.includes(ye.id)).map(ye=>ye.name).join(", "),G=q.length>50?`${q.substring(0,50)}...`:q;await P(C,L,G,t,e),O({title:"Expense split invitation sent!",description:`Invitation to split $${L.toFixed(2)} sent to ${C}`})}else await qg.sendAppDownloadInvite({email:C,message:T||void 0,fromUser:{id:(M==null?void 0:M.id)||"current-user",name:(M==null?void 0:M.name)||"Someone",email:(M==null?void 0:M.email)||""}}),O({title:"Invitation sent!",description:`App invitation sent to ${C}`});g(!1),A(""),N(""),j([])}catch(L){console.error("Error sending invitation:",L),O({title:"Failed to send invitation",description:"Please try again later",variant:"destructive"})}},H=L=>{if(!F||!i)return;const q=o.find(G=>G.userId===L);q&&(OBe(t,e,F.userId,F.userName,q.userId,q.userName,q.totalAmount),i(q.totalAmount,L,F.userId),O({title:"Payment recorded",description:`Payment of $${q.totalAmount.toFixed(2)} to ${q.userName} has been recorded in the ledger`}))},Y=()=>"You",Q=L=>{if(S.includes(L)){const G=S.filter(me=>me!==L);E(G);const ye=y.filter(me=>me.userId!==L);if(G.length>0){if(v==="equal"){const me=100/G.length;ye.forEach(ie=>ie.share=me)}else if(v==="percentage"){const me=ye.reduce((ie,ne)=>ie+ne.share,0);if(me>0){const ie=100/me;ye.forEach(ne=>ne.share=ne.share*ie)}}}w(ye)}else{const G=[...S,L];E(G);const ye=n.find(ie=>ie.id===L);if(!ye)return;let me=0;if(v==="equal"){me=100/G.length;const ie=[...y.map(ne=>({...ne,share:me})),{userId:L,userName:ye.name,share:me}];w(ie)}else if(v==="percentage"){const ie=[...y,{userId:L,userName:ye.name,share:0}];w(ie)}else if(v==="person"){const ie=[...y,{userId:L,userName:ye.name,share:0}];w(ie)}}},ue=L=>{const q=L;if(x(q),q==="equal"){const G=100/S.length,ye=S.map(me=>{const ie=n.find(ne=>ne.id===me);return{userId:me,userName:(ie==null?void 0:ie.name)||"Unknown",share:G}});w(ye)}else if(q==="percentage"){const G=100/S.length,ye=S.map(me=>{const ie=n.find(ne=>ne.id===me);return{userId:me,userName:(ie==null?void 0:ie.name)||"Unknown",share:G}});w(ye)}else if(q==="person"){const G=l/S.length,ye=S.map(me=>{const ie=n.find(ne=>ne.id===me);return{userId:me,userName:(ie==null?void 0:ie.name)||"Unknown",share:G}});w(ye)}},de=(L,q)=>{const G=parseFloat(q);if(isNaN(G))return;const ye=y.map(me=>me.userId===L?{...me,share:G}:me);w(ye)},he=v==="percentage"?y.reduce((L,q)=>L+q.share,0):100,pe=v==="person"?y.reduce((L,q)=>L+q.share,0):0,J=v!=="person"||Math.abs(pe-l)<.01,re=()=>{if(v==="percentage"&&Math.abs(he-100)>.01){O({title:"Percentages must sum to 100%",variant:"destructive"});return}if(v==="person"&&!J){O({title:`Amounts must sum to ${l.toFixed(2)}`,variant:"destructive"});return}const L=r.filter(G=>G.price!==void 0);if(L.length===0){O({title:"No items to split",description:"Add prices to items before splitting costs",variant:"destructive"});return}let q=SN(t);for(const G of L)if(v==="equal"){const ye=TBe(G.id,n.filter(me=>S.includes(me.id)));q=sA(q,G.id,v,ye.details)}else if(v==="percentage")q=sA(q,G.id,v,y);else if(v==="person"&&G.price){const me=G.price*(G.quantity||1)/l,ie=y.map(ne=>({...ne,share:ne.share*me}));q=sA(q,G.id,v,ie)}CBe(t,q),O({title:"Bulk split applied",description:`Split applied to ${L.length} items`}),p(!1),a&&a()};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs(Te,{children:[c.jsxs(Fe,{className:"pb-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx(Be,{className:"text-lg",children:"Split Summary"}),c.jsx(mt,{variant:d?"secondary":"outline",children:d?"Custom Split":"Equal Split"})]}),c.jsxs(tt,{children:[r.length," items with a total of $",l.toFixed(2)]})]}),c.jsxs(Ne,{className:"pb-3",children:[c.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trip Cost"}),c.jsxs("div",{className:"text-xl font-bold flex items-center",children:[c.jsx(Go,{className:"h-4 w-4 mr-1"}),l.toFixed(2)]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Items with prices"}),c.jsxs("div",{className:"text-base",children:[W," of ",r.length," items"]})]})]}),c.jsx("div",{className:"space-y-3",children:o.map(L=>c.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg border bg-card",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(zr,{className:"h-8 w-8",children:c.jsx(Wr,{className:"text-xs",children:L.userName.charAt(0)})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:L.userName}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:[L.itemCount," items"]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-medium",children:["$",L.totalAmount.toFixed(2)]}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:[(L.totalAmount/l*100).toFixed(0),"% of total"]})]})]},L.userId))}),n.length===0&&c.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[c.jsx(_o,{className:"h-8 w-8 mx-auto mb-2"}),c.jsx("p",{children:"No participants added yet."})]}),c.jsxs("div",{className:"mt-4 space-y-2",children:[c.jsxs(_r,{open:h,onOpenChange:p,children:[c.jsx(ZT,{asChild:!0,children:c.jsxs(K,{variant:"outline",className:"w-full",children:[c.jsx(yse,{className:"h-4 w-4 mr-2"}),"Customize Split"]})}),c.jsxs(pr,{className:"max-h-[90vh] overflow-y-auto",children:[c.jsx(mr,{children:c.jsx(gr,{children:"Customize Cost Split"})}),c.jsxs("div",{className:"space-y-4 py-2",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{children:"Split Type"}),c.jsxs($t,{value:v,onValueChange:L=>ue(L),children:[c.jsx(Ot,{children:c.jsx(Ft,{placeholder:"Select split type"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"equal",children:"Equal Split"}),c.jsx(Se,{value:"percentage",children:"Percentage"}),c.jsx(Se,{value:"person",children:"Custom Amount"})]})]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[v==="equal"&&"Split the cost equally among selected participants",v==="percentage"&&"Assign a percentage of the total to each participant",v==="person"&&"Specify exact amounts for each participant"]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{children:"Select Participants"}),c.jsx("div",{className:"grid grid-cols-1 gap-2",children:n.map(L=>{var q;return c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(kc,{id:`participant-${L.id}`,checked:S.includes(L.id),onCheckedChange:()=>Q(L.id)}),c.jsxs(ce,{htmlFor:`participant-${L.id}`,className:"flex items-center cursor-pointer",children:[c.jsx(zr,{className:"h-6 w-6 mr-2",children:c.jsx(Wr,{className:"text-xs",children:L.name.charAt(0)})}),c.jsx("span",{children:L.name})]}),S.includes(L.id)&&c.jsx("div",{className:"ml-auto flex items-center space-x-2",children:c.jsx(Ue,{type:v==="person"?"number":"text",step:v==="person"?"0.01":void 0,min:"0",placeholder:v==="percentage"?"%":v==="person"?"$":"Equal",className:"w-20 h-8 text-sm",value:v==="equal"?(100/S.length).toFixed(0)+"%":((q=y.find(G=>G.userId===L.id))==null?void 0:q.share.toFixed(v==="percentage"?0:2))+(v==="percentage"?"%":""),onChange:G=>de(L.id,G.target.value),disabled:v==="equal"})})]},L.id)})})]})]}),c.jsxs(Si,{children:[c.jsx(K,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),c.jsx(K,{onClick:re,children:"Apply Split"})]})]})]}),c.jsxs(_r,{open:m,onOpenChange:g,children:[c.jsx(ZT,{asChild:!0,children:c.jsxs(K,{variant:"outline",className:"w-full",children:[c.jsx(Af,{className:"h-4 w-4 mr-2"}),r.filter(L=>L.price!==void 0&&L.price>0).length>0?"Invite Someone to Split":"Invite Someone to TaskaLoop"]})}),c.jsxs(pr,{className:"max-h-[90vh] overflow-y-auto",children:[c.jsx(mr,{children:c.jsx(gr,{children:r.filter(L=>L.price!==void 0&&L.price>0).length>0?"Invite Someone to Split Expenses":"Invite Someone to TaskaLoop"})}),c.jsxs("div",{className:"space-y-4 py-2",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"invite-email",children:"Email Address"}),c.jsx(Ue,{id:"invite-email",type:"email",placeholder:"Enter their email address",value:C,onChange:L=>A(L.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{children:"Select items to split"}),r.filter(L=>L.price!==void 0&&L.price>0).length>0?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:r.filter(L=>L.price!==void 0&&L.price>0).map(L=>c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(kc,{id:`expense-item-${L.id}`,checked:I.includes(L.id),onCheckedChange:q=>{j(q?G=>[...G,L.id]:G=>G.filter(ye=>ye!==L.id))}}),c.jsxs(ce,{htmlFor:`expense-item-${L.id}`,className:"flex-1 cursor-pointer",children:[L.name," - $",((L.price||0)*L.quantity).toFixed(2)]})]},L.id))}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Selected total: $",r.filter(L=>I.includes(L.id)).reduce((L,q)=>L+(q.price||0)*q.quantity,0).toFixed(2)]})]}):c.jsxs("div",{className:"p-4 border border-dashed rounded-lg text-center",children:[c.jsx(_o,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No items with prices found in this trip."}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"You can still invite someone to join TaskaLoop and coordinate future trips together!"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"invite-message",children:"Custom Message (optional)"}),c.jsx(wv,{id:"invite-message",placeholder:"Add a personal message...",value:T,onChange:L=>N(L.target.value),rows:4})]})]}),c.jsxs(Si,{children:[c.jsx(K,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),c.jsxs(K,{onClick:X,children:[c.jsx(ao,{className:"h-4 w-4 mr-2"}),"Send Invitation"]})]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(K,{variant:"outline",onClick:$,className:"flex-1",children:[c.jsx(mse,{className:"h-4 w-4 mr-2"}),"Share"]}),c.jsxs(K,{variant:"outline",onClick:U,className:"flex-1",children:[c.jsx(xV,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})]})]}),F&&c.jsxs(Te,{children:[c.jsx(Fe,{className:"pb-3",children:c.jsx(Be,{className:"text-lg",children:"Your Summary"})}),c.jsxs(Ne,{className:"pb-3",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"You owe"}),c.jsxs("div",{className:"text-xl font-bold",children:["$",F.totalAmount.toFixed(2)]})]}),c.jsxs(mt,{variant:"outline",className:"text-xs",children:[F.itemCount," items"]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-medium",children:"Settle up with:"}),B.map(L=>c.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg border bg-card",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(zr,{className:"h-8 w-8",children:c.jsx(Wr,{className:"text-xs",children:L.userName.charAt(0)})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:L.userName}),c.jsx("div",{className:"text-xs text-muted-foreground",children:Y()===L.userName?"Paid for this trip":"Sharing cost"})]})]}),c.jsxs(K,{variant:"outline",size:"sm",onClick:()=>H(L.userId),disabled:!i,children:[c.jsx(CV,{className:"h-3.5 w-3.5 mr-2"}),"Pay $",L.totalAmount.toFixed(2)]})]},L.userId)),B.length===0&&c.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[c.jsx(ri,{className:"h-8 w-8 mx-auto mb-2"}),c.jsx("p",{children:"No other participants to settle with."})]})]})]})]})]})},IJ=({suggestions:t,value:e,onChange:r,onSelect:n,placeholder:i})=>{const[a,o]=b.useState([]),[s,l]=b.useState(!1),u=b.useRef(null);b.useEffect(()=>{if(e){const f=t.filter(h=>h.toLowerCase().indexOf(e.toLowerCase())>-1);o(f),l(!0)}else o([]),l(!1)},[e,t]),b.useEffect(()=>{const f=h=>{u.current&&!u.current.contains(h.target)&&l(!1)};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[]);const d=f=>{n(f),l(!1)};return c.jsxs("div",{ref:u,className:"relative w-full",children:[c.jsx(Ue,{type:"text",value:e,onChange:f=>r(f.target.value),placeholder:i}),s&&a.length>0&&c.jsx(Te,{className:"absolute z-10 w-full mt-1 overflow-hidden rounded-md shadow-lg",children:c.jsx(Ne,{className:"p-2 max-h-60 overflow-y-auto",children:c.jsx("ul",{className:"space-y-1",children:a.map((f,h)=>c.jsx("li",{onClick:()=>d(f),className:"px-3 py-2 text-sm rounded-md cursor-pointer hover:bg-accent",children:f},h))})})})]})},bv=t=>t.toLowerCase().trim(),MBe=t=>bv(t),LBe=()=>{try{const t=localStorage.getItem("priceHistory");if(t)return JSON.parse(t)}catch(t){console.error("Failed to load price history:",t)}return{}},$Be=t=>{try{localStorage.setItem("priceHistory",JSON.stringify(t))}catch(e){console.error("Failed to save price history:",e)}},FBe=(t,e,r,n=1,i)=>{const a=LBe(),o=MBe(t),s={itemName:t,price:e,store:r,date:new Date().toISOString(),quantity:n,unit:i};a[o]||(a[o]=[]),a[o].push(s),a[o].length>10&&(a[o]=a[o].slice(-10)),$Be(a)},BBe=(t,e)=>{const r=bv(t);return e.find(i=>bv(i.name)===r)||null},UBe=(t,e,r=.75)=>{const n=bv(t),i=n.split(" ");return n.length<3||i.length===0?[]:e.map(o=>{const s=bv(o.name),l=s.split(" ");if(s.length<3||l.length===0)return{item:o,confidence:0};let u=0;for(const p of i)p.length<=2||l.some(m=>m.includes(p)||p.includes(m))&&u++;const d=u/Math.max(i.length,l.length),f=1-zBe(n,s)/Math.max(n.length,s.length),h=d*.7+f*.3;return{item:o,confidence:h}}).filter(o=>o.confidence>=r).sort((o,s)=>s.confidence-o.confidence)},VBe=(t,e)=>{const r=BBe(t,e);if(r)return{type:"duplicate",newItemName:t,existingItem:r,confidence:100,message:`"${r.name}" is already on your list (${r.quantity}x)`};const n=UBe(t,e);if(n.length>0){const i=n[0],a=Math.round(i.confidence*100);return{type:"similar",newItemName:t,existingItem:i.item,confidence:a,message:`"${t}" might be similar to "${i.item.name}" already on your list (${a}% match)`}}return null};function zBe(t,e){const r=Array(e.length+1).fill(null).map(()=>Array(t.length+1).fill(null));for(let n=0;n<=t.length;n+=1)r[0][n]=n;for(let n=0;n<=e.length;n+=1)r[n][0]=n;for(let n=1;n<=e.length;n+=1)for(let i=1;i<=t.length;i+=1){const a=t[i-1]===e[n-1]?0:1;r[n][i]=Math.min(r[n][i-1]+1,r[n-1][i]+1,r[n-1][i-1]+a)}return r[e.length][t.length]}const PJ=["Apple","Banana","Orange","Grape","Strawberry","Blueberry","Raspberry","Blackberry","Watermelon","Cantaloupe","Honeydew","Pineapple","Mango","Peach","Nectarine","Plum","Cherry","Pear","Kiwi","Lemon","Lime","Grapefruit","Pomegranate","Avocado","Coconut","Fig","Guava","Papaya","Passion Fruit","Apricot"],OJ=["Carrot","Broccoli","Spinach","Kale","Arugula","Potato","Sweet Potato","Onion","Garlic","Bell Pepper","Tomato","Cucumber","Zucchini","Eggplant","Cabbage","Lettuce","Celery","Mushroom","Asparagus","Cauliflower","Green Beans","Peas","Corn","Radish","Beet","Artichoke","Leek","Scallion","Ginger","Turnip","Collard Greens","Swiss Chard","Bok Choy","Okra","Pumpkin","Squash","Brussels Sprouts","Fennel","Kohlrabi","Parsnip"],WBe=[{id:"ea",name:"Each"},{id:"kg",name:"Kilograms"},{id:"g",name:"Grams"},{id:"lb",name:"Pounds"},{id:"oz",name:"Ounces"},{id:"l",name:"Liters"},{id:"ml",name:"Milliliters"},{id:"pkg",name:"Package"},{id:"box",name:"Box"},{id:"can",name:"Can"},{id:"bottle",name:"Bottle"}],HBe=[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"bi-weekly",label:"Bi-weekly"},{value:"monthly",label:"Monthly"}],GBe=({isOpen:t,onClose:e,trip:r,onAddItem:n,onRemoveItem:i,onToggleItemCheck:a,onInviteParticipant:o,onCompleteTrip:s,onReactivateTrip:l,onUpdateItemPrice:u,onSettleUp:d,onUpdateItemUnit:f})=>{const[h,p]=b.useState(""),[m,g]=b.useState(1),[v,x]=b.useState(void 0),[y,w]=b.useState("ea"),[S,E]=b.useState("items"),[C,A]=b.useState(!1),[T,N]=b.useState(""),[I,j]=b.useState(null),[O,P]=b.useState(!1),[M,F]=b.useState(null),[B,W]=b.useState(!1),[$,U]=b.useState(void 0),[X,H]=b.useState(!1),{pantryItems:Y}=Aj(),[Q,ue]=b.useState(""),{toast:de}=un(),he=b.useMemo(()=>{const ie=Y.map(ne=>ne.name);return Array.from(new Set([...PJ,...OJ,...ie]))},[Y]);b.useEffect(()=>{t&&(p(""),g(1),x(void 0),w("ea"),W(!1),U(void 0),E("items"))},[t]),b.useEffect(()=>{if(h.trim()){const ie=jw(h);w(ie.id)}},[h]);const pe=ie=>{if(ie.preventDefault(),!r||!h.trim())return;B&&$&&kT(new Date,$);const ne={name:h,quantity:m,price:v,unit:y,checked:!1,addedBy:{name:"You",avatar:"https://example.com/you.jpg"},isRecurring:B,recurrenceFrequency:B?$:void 0},Oe=VBe(h,r.items);if(Oe){j(Oe),P(!0),F(ne);return}J(ne)},J=ie=>{r&&(n(r.id,ie),ie.price&&FBe(ie.name,ie.price,r.store,ie.quantity),p(""),g(1),x(void 0),w("ea"),W(!1),U(void 0),navigator.vibrate&&navigator.vibrate(50),de({title:"Item Added",description:`"${ie.name}" has been added to the trip.`}))},re=()=>{M&&(J(M),F(null))},L=(ie,ne)=>{r&&(r.items.map(Oe=>Oe.id===ie.id?{...Oe,quantity:Oe.quantity+ne}:Oe),p(""),g(1),x(void 0),F(null))},q=ie=>{p(ie.name),g(ie.quantity),x(ie.price),F(null)},G=ie=>{p(ie.name),ie.defaultPrice&&x(ie.defaultPrice);const ne={name:ie.name,quantity:1,price:ie.defaultPrice,unit:ie.unit||"ea",checked:!1,addedBy:{name:"You",avatar:"https://example.com/you.jpg"},isRecurring:!1,recurrenceFrequency:void 0};r&&(n(r.id,ne),p(""),g(1),x(void 0),w("ea"),A(!1))},ye=ie=>{if(!r||(console.log("Received items from parser:",ie),ie.length===0))return;const ne=[];ie.forEach(Oe=>{r.items.some(le=>le.name.toLowerCase()===Oe.name.toLowerCase())||ne.push(Oe)}),ne.length>0&&(console.log("Adding non-duplicate items to trip:",ne),ne.forEach(Oe=>{n(r.id,Oe)}))},me=ie=>{if(!r)return;if(r.items.find(Z=>Z.name.toLowerCase()===ie.name.toLowerCase())){de({title:"Item Already Added",description:`"${ie.name}" is already in this trip.`,variant:"destructive"});return}const Oe={name:ie.name,quantity:1,unit:"ea",checked:!1,addedBy:{name:"You",avatar:"https://example.com/you.jpg"}};n(r.id,Oe),de({title:"Added from Pantry",description:`"${ie.name}" has been added to your trip.`}),navigator.vibrate&&navigator.vibrate(50)};return r?(r.shopper&&r.shopper.name,r.items.reduce((ie,ne)=>ie+(ne.price||0),0),r.participants.map(ie=>({...ie,avatar:ie.avatar||`https://api.dicebear.com/7.x/avatars/svg?seed=${ie.id}`})),c.jsxs(_r,{open:t,onOpenChange:e,children:[c.jsxs(pr,{className:"max-w-4xl h-[90vh] bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[c.jsx(mr,{className:"animate-fade-in",children:c.jsxs(gr,{className:"flex items-center gap-2",children:[c.jsx(jg,{})," ",r.store]})}),c.jsxs(Pc,{value:S,onValueChange:E,className:"mt-4 animate-slide-up",children:[c.jsxs(el,{className:"dark:bg-slate-800",children:[c.jsx(sr,{value:"items",children:"Items"}),c.jsx(sr,{value:"pantry",children:"Add from Pantry"}),c.jsx(sr,{value:"details",children:"Details"}),c.jsx(sr,{value:"cost",children:"Cost Split"})]}),c.jsx(jr,{value:"items",className:"mt-4",children:c.jsx("div",{className:"bg-gradient-to-br from-blue-100 via-indigo-100 to-purple-100 dark:from-blue-900/50 dark:via-indigo-900/50 dark:to-purple-900/50 rounded-xl p-6 border-2 border-blue-200 dark:border-blue-700/50 shadow-lg",children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:c.jsxs("div",{className:"animate-slide-in",children:[c.jsx("h3",{className:"text-lg font-medium dark:text-slate-200 mb-4",children:"Add Item"}),c.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"name",className:"dark:text-slate-300",children:"Item Name"}),c.jsx(IJ,{suggestions:he,value:h,onChange:p,onSelect:p,placeholder:"Enter item name"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"quantity",className:"dark:text-slate-300",children:"Quantity"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Ue,{id:"quantity",type:"number",value:m,onChange:ie=>g(Number(ie.target.value)),min:1,className:"w-24 dark:bg-slate-800 dark:border-slate-700"}),c.jsxs($t,{value:y,onValueChange:w,children:[c.jsx(Ot,{className:"w-24 dark:bg-slate-800 dark:border-slate-700",children:c.jsx(Ft,{placeholder:"Unit"})}),c.jsx(jt,{className:"dark:bg-slate-800 dark:border-slate-700",children:WBe.map(ie=>c.jsx(Se,{value:ie.id,children:ie.name},ie.id))})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"price",className:"dark:text-slate-300",children:"Price (optional)"}),c.jsx(Ue,{id:"price",type:"number",value:v||"",onChange:ie=>x(Number(ie.target.value)),placeholder:"0.00",step:"0.01",min:"0",className:"dark:bg-slate-800 dark:border-slate-700"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(kc,{id:"recurring",checked:B,onCheckedChange:ie=>W(ie)}),c.jsx(ce,{htmlFor:"recurring",className:"dark:text-slate-300",children:"Add to recurring items"})]}),B&&c.jsxs("div",{className:"space-y-2 animate-fade-in",children:[c.jsx(ce,{htmlFor:"frequency",className:"dark:text-slate-300",children:"Recurrence Frequency"}),c.jsxs($t,{value:$||"",onValueChange:ie=>U(ie),children:[c.jsx(Ot,{className:"dark:bg-slate-800 dark:border-slate-700",children:c.jsx(Ft,{placeholder:"Select frequency"})}),c.jsx(jt,{className:"dark:bg-slate-800 dark:border-slate-700",children:HBe.map(ie=>c.jsx(Se,{value:ie.value,children:ie.label},ie.value))})]})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsxs(K,{type:"button",variant:"outline",onClick:()=>H(!0),className:"hover:scale-105 transition-transform duration-200 dark:border-slate-600 dark:text-slate-300",children:[c.jsx(sse,{className:"h-4 w-4 mr-2"}),"Smart Add"]}),c.jsxs(K,{type:"submit",className:"hover:scale-105 transition-transform duration-200",children:[c.jsx(Or,{className:"h-4 w-4 mr-2"}),"Add Item"]})]})]})]})})})}),c.jsx(jr,{value:"pantry",className:"mt-4",children:c.jsxs("div",{className:"bg-gradient-to-br from-emerald-100 via-green-100 to-teal-100 dark:from-emerald-900/50 dark:via-green-900/50 dark:to-teal-900/50 rounded-xl p-6 border-2 border-emerald-200 dark:border-emerald-700/50 shadow-lg",children:[c.jsx("h3",{className:"text-lg font-medium dark:text-slate-200 mb-4",children:"Add from Pantry"}),c.jsx(Ue,{type:"search",placeholder:"Search pantry items...",value:Q,onChange:ie=>ue(ie.target.value),className:"mb-4 dark:bg-slate-800 dark:border-slate-700"}),c.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:(()=>{const ie=Y.filter(ne=>ne.name.toLowerCase().includes(Q.toLowerCase())&&!r.items.some(Oe=>Oe.name.toLowerCase()===ne.name.toLowerCase()));return Y.length===0?c.jsxs("div",{className:"text-center py-8 animate-fade-in",children:[c.jsx(Gn,{className:"h-12 w-12 mx-auto text-emerald-400 dark:text-emerald-500 mb-4"}),c.jsx("h4",{className:"text-lg font-medium text-slate-700 dark:text-slate-300 mb-2",children:"No Pantry Items"}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"You don't have any items in your pantry yet."}),c.jsxs(K,{variant:"outline",onClick:()=>window.open("/pantry","_blank"),className:"hover:scale-105 transition-transform duration-200",children:[c.jsx(Or,{className:"h-4 w-4 mr-2"}),"Add Items to Pantry"]})]}):ie.length===0?c.jsxs("div",{className:"text-center py-8 animate-fade-in",children:[c.jsx(Jb,{className:"h-12 w-12 mx-auto text-emerald-400 dark:text-emerald-500 mb-4"}),c.jsx("h4",{className:"text-lg font-medium text-slate-700 dark:text-slate-300 mb-2",children:Q?"No Matching Items":"All Items Already Added"}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:Q?`No pantry items match "${Q}"`:"All your pantry items are already in this trip"}),Q&&c.jsxs(K,{variant:"outline",onClick:()=>ue(""),className:"hover:scale-105 transition-transform duration-200",children:[c.jsx(Li,{className:"h-4 w-4 mr-2"}),"Clear Search"]})]}):c.jsx("div",{className:"space-y-2",children:ie.map((ne,Oe)=>c.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-white/50 dark:hover:bg-slate-800/50 rounded-lg border border-emerald-200/50 dark:border-emerald-700/30 transition-all duration-200 animate-slide-in",style:{animationDelay:`${Oe*50}ms`},children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-200",children:ne.name}),c.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[c.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["In stock: ",c.jsx("span",{className:"font-medium",children:ne.quantity})]}),ne.category&&c.jsx(mt,{variant:"secondary",className:"text-xs",children:ne.category}),ne.lowStock&&c.jsx(mt,{variant:"destructive",className:"text-xs",children:"Low Stock"})]})]}),c.jsxs(K,{size:"sm",variant:"outline",onClick:()=>me(ne),className:"hover:scale-105 transition-transform duration-200 border-emerald-300 hover:border-emerald-400 hover:bg-emerald-50 dark:border-emerald-600 dark:hover:border-emerald-500 dark:hover:bg-emerald-900/20",children:[c.jsx(Or,{className:"h-4 w-4 mr-2"})," Add"]})]},ne.id))})})()})]})}),c.jsx(jr,{value:"details",className:"mt-4",children:c.jsxs("div",{className:"bg-gradient-to-br from-amber-100 via-orange-100 to-red-100 dark:from-amber-900/50 dark:via-orange-900/50 dark:to-red-900/50 rounded-xl p-6 border-2 border-amber-200 dark:border-amber-700/50 shadow-lg",children:[c.jsx("h3",{className:"text-lg font-medium dark:text-slate-200 mb-4",children:"Trip Details"}),c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Store"}),c.jsx("p",{className:"text-lg font-semibold",children:r.store})]}),c.jsxs("div",{children:[c.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Status"}),c.jsx(mt,{variant:r.status==="completed"?"success":"default",className:"ml-2",children:r.status})]}),c.jsxs("div",{children:[c.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Date"}),c.jsx("p",{className:"text-lg",children:Yt(new Date(r.date),"PPP")})]}),c.jsxs("div",{children:[c.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"ETA"}),c.jsx("p",{className:"text-lg",children:r.eta})]})]})})]})}),c.jsx(jr,{value:"cost",className:"mt-4",children:c.jsxs("div",{className:"bg-gradient-to-br from-violet-100 via-purple-100 to-fuchsia-100 dark:from-violet-900/50 dark:via-purple-900/50 dark:to-fuchsia-900/50 rounded-xl p-6 border-2 border-violet-200 dark:border-violet-700/50 shadow-lg",children:[c.jsx("h3",{className:"text-lg font-medium dark:text-slate-200 mb-4",children:"Cost Split"}),c.jsx(NJ,{items:r.items,participants:r.participants})]})})]})]}),c.jsx(EBe,{isOpen:C,onClose:()=>A(!1),barcode:T,onSave:G}),c.jsx(ABe,{isOpen:O,onClose:()=>P(!1),suggestion:I,onAddAnyway:re,onMergeItems:L,onUpdate:q}),c.jsx(xBe,{isOpen:X,onClose:()=>H(!1),onAddItems:ye})]})):null};function qBe(t,e){const n=(e.lat-t.lat)*Math.PI/180,i=(e.lng-t.lng)*Math.PI/180,a=t.lat*Math.PI/180,o=e.lat*Math.PI/180,s=Math.sin(n/2)*Math.sin(n/2)+Math.sin(i/2)*Math.sin(i/2)*Math.cos(a)*Math.cos(o);return 3959*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))}function KBe(t,e){const r=`${t.lat},${t.lng}`,n=e.map(i=>`${i.coordinates.lat},${i.coordinates.lng}`).join("|");return`https://www.google.com/maps/dir/?api=1&origin=${r}&destination=${e[0].coordinates.lat},${e[0].coordinates.lng}&waypoints=${n}`}function YBe(){const t=Yi(),{trips:e}=os(),[r,n]=b.useState("active"),[i,a]=b.useState(""),[o,s]=b.useState({item1:!1,item2:!1,item3:!1,item4:!1}),[l,u]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(500),{updateBudget:m}=os(),[g,v]=b.useState(null),[x,y]=b.useState(!0),[w,S]=b.useState(null),[E,C]=b.useState([]),[A,T]=b.useState(!1),[N,I]=b.useState(null),[j,O]=b.useState(!1),{pantryItems:P}=Aj(),M=b.useMemo(()=>e.filter(J=>J.status!=="completed"&&J.status!=="cancelled"&&(i?J.store.toLowerCase().includes(i.toLowerCase()):!0)),[e,i]),F=e.filter(J=>(J.status==="completed"||J.status==="cancelled")&&(i?J.store.toLowerCase().includes(i.toLowerCase()):!0)),B=(J=!1)=>{y(!0),S(null);const re={enableHighAccuracy:J,timeout:J?15e3:5e3,maximumAge:0};navigator.geolocation.getCurrentPosition(L=>{v({lat:L.coords.latitude,lng:L.coords.longitude}),y(!1)},L=>{if(!J){B(!0);return}let q="Could not get your current location. Please enable location services in your browser settings.";L.code===L.PERMISSION_DENIED?q="Location access was denied. Please enable it in your browser settings to use location-based features.":L.code===L.POSITION_UNAVAILABLE?q="Your location information is currently unavailable. Please check your device's location services or try again.":L.code===L.TIMEOUT&&(q="Request for your location timed out. Please try again."),console.error("Error getting location:",L),S(q),y(!1)},re)};b.useEffect(()=>{B()},[]),b.useEffect(()=>{if(!g)return;const re=M.reduce((L,q)=>(q.coordinates&&!L.some(G=>G.name===q.store)&&L.push({name:q.store,coordinates:q.coordinates,tripId:q.id,distance:qBe(g,q.coordinates)}),L),[]).sort((L,q)=>L.distance-q.distance);C(re)},[g,M]);const W=()=>{u(!0)},$=()=>{T(!0)},U=()=>{u(!0)},X=()=>{f(!0)},H=()=>{if(w||!g||E.length===0)return;const J=KBe(g,E);window.open(J,"_blank")},Y=J=>{a(J.target.value)},Q=()=>{t("/map")},ue=J=>{if(J){const re=e.find(L=>L.id===J);re&&({...re},t(`/trip/${J}`))}},de=J=>{const re=e.find(L=>L.id===J);re&&(I(re),O(!0))},he=J=>{p(J),m(J)},pe=()=>c.jsx("div",{className:"space-y-2",children:x?c.jsxs("div",{className:"text-center py-3",children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-900 mx-auto"}),c.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Finding nearby stores..."})]}):g?E.length>0?E.slice(0,3).map((J,re)=>c.jsxs("div",{className:"flex justify-between items-center py-1 animate-fade-in",style:{animationDelay:`${re*100}ms`},children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(jg,{className:"h-3 w-3 text-slate-500"}),c.jsx("span",{className:"text-xs text-slate-700 truncate",children:J.name})]}),c.jsx("span",{className:"text-xs text-slate-500",children:J.distance<1?`${(J.distance*1e3).toFixed(0)}m`:`${J.distance.toFixed(1)}km`})]},J.tripId)):c.jsx("div",{className:"text-center py-3",children:c.jsx("p",{className:"text-xs text-slate-500",children:"No stores in your trips"})}):c.jsx("div",{className:"text-center py-3",children:c.jsx("p",{className:"text-xs text-slate-500",children:"Location services not available"})})});return c.jsx(pa,{children:c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[c.jsxs("div",{className:"p-4 md:p-8 animate-fade-in",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8 animate-slide-down",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Shopping Trips"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Plan and manage your shopping trips"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(K,{variant:"outline",className:"border-slate-200 dark:border-slate-600 dark:text-slate-300 hover:scale-105 transition-transform duration-200",onClick:W,children:[c.jsx(Wu,{className:"h-4 w-4 mr-2"}),"Schedule"]}),c.jsxs(K,{className:"bg-teal-600 hover:bg-teal-700 dark:bg-teal-600 dark:hover:bg-teal-700 hover:scale-105 transition-transform duration-200",onClick:$,children:[c.jsx(Or,{className:"h-4 w-4 mr-2"}),"New Trip"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 animate-slide-up",children:[c.jsxs(Te,{className:"border-none shadow-sm dark:bg-slate-800 hover:shadow-lg transition-all duration-300 hover:scale-105",children:[c.jsxs(Fe,{className:"pb-3",children:[c.jsx(Be,{className:"text-base dark:text-slate-200",children:"Upcoming Trips"}),c.jsxs(tt,{className:"text-sm dark:text-slate-400",children:["You have ",M.length," trips scheduled"]})]}),c.jsxs(Ne,{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm animate-fade-in",children:[c.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"This week"}),c.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:[M.filter(J=>{const re=new Date(J.date),L=new Date,q=new Date(L.getTime()+7*24*60*60*1e3);return re>=L&&re<=q}).length," trips"]})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm animate-fade-in",style:{animationDelay:"100ms"},children:[c.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Next week"}),c.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:[M.filter(J=>{const re=new Date(J.date),L=new Date;L.setDate(L.getDate()+7);const q=new Date;return q.setDate(q.getDate()+14),re>=L&&re<=q}).length," trips"]})]})]}),c.jsx(Bt,{className:"pt-3",children:c.jsxs(K,{variant:"outline",className:"w-full border-slate-200 dark:border-slate-700 dark:text-slate-300 h-8 text-sm hover:scale-105 transition-transform duration-200",onClick:U,children:[c.jsx(Wu,{className:"h-3 w-3 mr-2"}),"View Calendar"]})})]}),c.jsxs(Te,{className:"border-none shadow-sm dark:bg-slate-800 hover:shadow-lg transition-all duration-300 hover:scale-105",children:[c.jsxs(Fe,{className:"pb-3",children:[c.jsx(Be,{className:"text-base dark:text-slate-200",children:"Budget Overview"}),c.jsx(tt,{className:"text-sm dark:text-slate-400",children:"May spending across all trips"})]}),c.jsxs(Ne,{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm animate-fade-in",children:[c.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Spent so far"}),c.jsx("span",{className:"font-medium text-slate-800 dark:text-slate-200",children:"$289.45"})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm animate-fade-in",style:{animationDelay:"100ms"},children:[c.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Monthly budget"}),c.jsxs("span",{className:"font-medium text-slate-800 dark:text-slate-200",children:["$",h.toFixed(2)]})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm animate-fade-in",style:{animationDelay:"200ms"},children:[c.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Remaining"}),c.jsxs("span",{className:"font-medium text-green-600 dark:text-green-400",children:["$",(h-289.45).toFixed(2)]})]})]}),c.jsx(Bt,{className:"pt-3",children:c.jsxs(K,{variant:"outline",className:"w-full border-slate-200 dark:border-slate-700 dark:text-slate-300 h-8 text-sm hover:scale-105 transition-transform duration-200",onClick:X,children:[c.jsx(Goe,{className:"h-3 w-3 mr-2"}),"Adjust Budget"]})})]}),c.jsxs(Te,{className:"border-none shadow-sm dark:bg-slate-800 hover:shadow-lg transition-all duration-300 hover:scale-105",children:[c.jsxs(Fe,{className:"pb-3",children:[c.jsx(Be,{className:"text-base dark:text-slate-200",children:"Nearby Stores"}),c.jsx(tt,{className:"text-sm dark:text-slate-400",children:"Sorted by distance from your location"})]}),c.jsx(Ne,{className:"min-h-[80px]",children:pe()}),c.jsx(Bt,{className:"pt-3",children:c.jsxs(K,{variant:"outline",className:"w-full border-slate-200 dark:border-slate-700 dark:text-slate-300 h-8 text-sm hover:scale-105 transition-transform duration-200",onClick:H,disabled:x||!g||E.length===0,children:[c.jsx(la,{className:"h-3 w-3 mr-2"}),x?"Getting Location...":g?E.length===0?"No Stores to Show":"View on Map":"Location Not Available"]})})]})]}),c.jsxs(Pc,{defaultValue:"active",className:"w-full animate-fade-in",value:r,onValueChange:n,children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4 mb-4",children:[c.jsxs(el,{className:"w-full md:w-auto dark:bg-slate-800",children:[c.jsx(sr,{value:"active",children:"Active"}),c.jsx(sr,{value:"completed",children:"Completed"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Jb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-500"}),c.jsx(Ue,{type:"search",placeholder:"Search trips...",className:"pl-9 w-full md:w-[300px] dark:bg-slate-800 dark:border-slate-700",value:i,onChange:Y})]})]}),c.jsx(jr,{value:"active",className:"space-y-4",children:M.length>0?c.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:M.map((J,re)=>c.jsxs(Te,{className:"cursor-pointer hover:shadow-md transition-all duration-300 border-slate-200 hover:border-slate-300 dark:bg-slate-800 dark:border-slate-700 hover:scale-105 animate-slide-in",style:{animationDelay:`${re*100}ms`},onClick:()=>de(J.id),children:[c.jsx(Fe,{className:"pb-2",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(Be,{className:"text-base font-semibold dark:text-slate-200",children:J.store}),c.jsxs(tt,{className:"text-xs text-slate-600 dark:text-slate-400",children:[new Date(J.date).toLocaleDateString()," at ",J.time]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(mt,{variant:J.status==="shopping"?"default":"outline",className:"text-xs",children:J.status}),c.jsx(K,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:scale-110 transition-transform duration-200",onClick:L=>{L.stopPropagation(),ue(J.id)},title:"Start shopping",children:c.jsx(zC,{className:"h-3 w-3"})})]})]})}),c.jsx(Ne,{className:"pb-2",children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(ri,{className:"h-3 w-3 mr-1"}),c.jsx("span",{children:(J.participants||[]).length})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(lr,{className:"h-3 w-3 mr-1"}),c.jsx("span",{children:J.items.length})]}),J.budget&&c.jsx("div",{className:"flex items-center",children:c.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["$",J.budget.toFixed(0)]})})]}),c.jsxs("span",{className:"text-green-600 font-medium dark:text-green-400",children:[J.items.filter(L=>L.checked).length,"/",J.items.length]})]}),J.items.length>0&&c.jsx(Qg,{value:J.items.filter(L=>L.checked).length/J.items.length*100,className:"h-1"}),J.items.length>0&&c.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[c.jsx("span",{className:"font-medium",children:"Items: "}),J.items.slice(0,3).map((L,q)=>c.jsxs("span",{className:L.checked?"line-through text-gray-400 dark:text-gray-500":"",children:[L.name,q<Math.min(2,J.items.length-1)?", ":""]},L.id)),J.items.length>3&&c.jsxs("span",{className:"text-gray-400 dark:text-gray-500",children:[" +",J.items.length-3," more"]})]})]})}),c.jsxs(Bt,{className:"flex justify-between items-center pt-1 pb-2",children:[c.jsxs("div",{className:"flex -space-x-1",children:[(J.participants||[]).slice(0,2).map(L=>c.jsxs(zr,{className:"h-5 w-5 border border-background",children:[c.jsx(Zu,{src:L.avatar}),c.jsx(Wr,{className:"text-xs",children:L.name[0]})]},L.id)),(J.participants||[]).length>2&&c.jsx("div",{className:"h-5 w-5 rounded-full bg-gray-200 dark:bg-gray-700 border border-background flex items-center justify-center",children:c.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:["+",(J.participants||[]).length-2]})})]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx(K,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs hover:scale-105 transition-transform duration-200",onClick:L=>{L.stopPropagation(),t(`/trip/${J.id}`)},children:"Open"}),c.jsx(K,{variant:"outline",size:"sm",className:"h-6 px-2 text-xs hover:scale-105 transition-transform duration-200",onClick:L=>{L.stopPropagation(),Q()},children:"Directions"})]})]})]},J.id))}):c.jsxs("div",{className:"text-center py-8 animate-fade-in",children:[c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-3 text-sm",children:"No active trips"}),c.jsxs(K,{onClick:()=>T(!0),className:"h-8 text-sm hover:scale-105 transition-transform duration-200",children:[c.jsx(Or,{className:"h-3 w-3 mr-2"}),"Create New Trip"]})]})}),c.jsx(jr,{value:"completed",className:"space-y-4",children:F.length>0?c.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:F.map((J,re)=>c.jsxs(Te,{className:"cursor-pointer hover:shadow-md transition-all duration-300 border-slate-200 hover:border-slate-300 dark:bg-slate-800 dark:border-slate-700 hover:scale-105 animate-slide-in",style:{animationDelay:`${re*100}ms`},onClick:()=>de(J.id),children:[c.jsx(Fe,{className:"pb-2",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(Be,{className:"text-base font-semibold dark:text-slate-200",children:J.store}),c.jsxs(tt,{className:"text-xs text-slate-600 dark:text-slate-400",children:[new Date(J.date).toLocaleDateString()," at ",J.time]})]}),c.jsx(mt,{variant:"secondary",className:"text-xs",children:J.status})]})}),c.jsx(Ne,{className:"pb-2",children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(ri,{className:"h-3 w-3 mr-1"}),c.jsx("span",{children:(J.participants||[]).length})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(lr,{className:"h-3 w-3 mr-1"}),c.jsx("span",{children:J.items.length})]}),J.actualSpent&&c.jsx("div",{className:"flex items-center",children:c.jsxs("span",{className:"text-green-600 font-medium dark:text-green-400",children:["$",J.actualSpent.toFixed(0)]})})]}),c.jsxs("span",{className:"text-green-600 font-medium dark:text-green-400",children:[J.items.filter(L=>L.checked).length,"/",J.items.length," completed"]})]}),J.items.length>0&&c.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[c.jsx("span",{className:"font-medium",children:"Purchased: "}),J.items.filter(L=>L.checked).slice(0,3).map((L,q,G)=>c.jsxs("span",{children:[L.name,L.price?` ($${L.price.toFixed(2)})`:"",q<G.length-1?", ":""]},L.id)),J.items.filter(L=>L.checked).length>3&&c.jsxs("span",{className:"text-gray-400 dark:text-gray-500",children:[" +",J.items.filter(L=>L.checked).length-3," more"]})]})]})}),c.jsxs(Bt,{className:"flex justify-between items-center pt-1 pb-2",children:[c.jsxs("div",{className:"flex -space-x-1",children:[(J.participants||[]).slice(0,2).map(L=>c.jsxs(zr,{className:"h-5 w-5 border border-background",children:[c.jsx(Zu,{src:L.avatar}),c.jsx(Wr,{className:"text-xs",children:L.name[0]})]},L.id)),(J.participants||[]).length>2&&c.jsx("div",{className:"h-5 w-5 rounded-full bg-gray-200 dark:bg-gray-700 border border-background flex items-center justify-center",children:c.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:["+",(J.participants||[]).length-2]})})]}),c.jsx(K,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs hover:scale-105 transition-transform duration-200",onClick:L=>{L.stopPropagation(),t(`/trip/${J.id}`)},children:"View Details"})]})]},J.id))}):c.jsx("div",{className:"text-center py-8 animate-fade-in",children:c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No completed trips"})})})]})]}),c.jsx(oBe,{isOpen:l,onClose:()=>u(!1)}),c.jsx(sBe,{isOpen:d,onClose:()=>f(!1),currentBudget:h,onSave:he}),c.jsx(dBe,{open:A,onOpenChange:T}),N&&c.jsx(GBe,{isOpen:j,onClose:()=>O(!1),trip:N,onAddItem:()=>{},onRemoveItem:()=>{},onToggleItemCheck:()=>{},onInviteParticipant:()=>{},onCompleteTrip:()=>{}})]})})}const UL=t=>{const e={high:3,medium:2,low:1},r=new Date().getTime(),n=t.dueDate?new Date(t.dueDate).getTime():r+7*24*60*60*1e3,i=Math.max(1,(n-r)/(1e3*60*60*24));return e[t.priority]*(1+1/i)},XBe=(t,e)=>{var r,n;return{startLocation:{lat:t.start_location.lat(),lng:t.start_location.lng()},endLocation:{lat:t.end_location.lat(),lng:t.end_location.lng()},distance:((r=t.distance)==null?void 0:r.text)||"0 km",duration:((n=t.duration)==null?void 0:n.text)||"0 mins",priority:e}},QBe=async(t,e,r)=>{const n=new google.maps.DirectionsService,i=[...e].sort((s,l)=>UL(l)-UL(s)),a=r.maxStops?i.slice(0,r.maxStops):i,o=a.map(s=>({location:new google.maps.LatLng(s.location.lat,s.location.lng),stopover:!0}));try{const s=await n.route({origin:t,destination:r.returnToStart?t:o[o.length-1].location,waypoints:r.returnToStart?o:o.slice(0,-1),optimizeWaypoints:!0,travelMode:google.maps.TravelMode[r.transportMode||"DRIVING"],avoidHighways:r.avoidHighways,avoidTolls:r.avoidTolls,drivingOptions:r.considerTraffic?{departureTime:new Date,trafficModel:google.maps.TrafficModel.BEST_GUESS}:void 0});if(!s.routes[0])throw new Error("No route found");const l=s.routes[0],u=[];let d=0,f=0;return l.legs.forEach((p,m)=>{var v,x;const g=a[m];u.push(XBe(p,(g==null?void 0:g.priority)||"medium")),d+=((v=p.distance)==null?void 0:v.value)||0,f+=((x=p.duration)==null?void 0:x.value)||0}),{waypoints:o.map(p=>({location:{lat:p.location.lat(),lng:p.location.lng()},stopover:p.stopover})),totalDistance:d,totalDuration:f,segments:u,alternativeRoutes:l.legs.length>1?[]:void 0}}catch(s){throw console.error("Error calculating optimal route:",s),s}};var c3="Switch",[ZBe,qlt]=za(c3),[JBe,eUe]=ZBe(c3),jJ=b.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:l="on",onCheckedChange:u,form:d,...f}=t,[h,p]=b.useState(null),m=et(e,w=>p(w)),g=b.useRef(!1),v=h?d||!!h.closest("form"):!0,[x=!1,y]=ts({prop:i,defaultProp:a,onChange:u});return c.jsxs(JBe,{scope:r,checked:x,disabled:s,children:[c.jsx(Le.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":DJ(x),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:m,onClick:be(t.onClick,w=>{y(S=>!S),v&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),v&&c.jsx(tUe,{control:h,bubbles:!g.current,name:n,value:l,checked:x,required:o,disabled:s,form:d,style:{transform:"translateX(-100%)"}})]})});jJ.displayName=c3;var kJ="SwitchThumb",RJ=b.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=eUe(kJ,r);return c.jsx(Le.span,{"data-state":DJ(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});RJ.displayName=kJ;var tUe=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,a=b.useRef(null),o=hk(r),s=yO(e);return b.useEffect(()=>{const l=a.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(l,r),l.dispatchEvent(h)}},[o,r,n]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...t.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function DJ(t){return t?"checked":"unchecked"}var MJ=jJ,rUe=RJ;const Oi=b.forwardRef(({className:t,onCheckedChange:e,...r},n)=>{const i=a=>{a?Ss.success():Ss.light(),e&&e(a)};return c.jsx(MJ,{className:je("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),onCheckedChange:i,...r,ref:n,children:c.jsx(rUe,{className:je("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});Oi.displayName=MJ.displayName;const nUe=({preferences:t,onPreferencesChange:e})=>{const r=(i,a)=>{e({...t,[i]:a})},n={DRIVING:c.jsx(Ix,{className:"h-4 w-4"}),WALKING:c.jsx(fse,{className:"h-4 w-4"}),TRANSIT:c.jsx(xse,{className:"h-4 w-4"}),BICYCLING:c.jsx(Hoe,{className:"h-4 w-4"})};return c.jsxs("div",{className:"space-y-4 p-4 premium-card rounded-lg",children:[c.jsx("h3",{className:"font-semibold mb-3",children:"Route Preferences"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{children:"Transport Mode"}),c.jsxs($t,{value:t.transportMode||"DRIVING",onValueChange:i=>r("transportMode",i),children:[c.jsx(Ot,{className:"w-full",children:c.jsx(Ft,{})}),c.jsx(jt,{children:Object.entries(n).map(([i,a])=>c.jsx(Se,{value:i,children:c.jsxs("div",{className:"flex items-center gap-2",children:[a,c.jsx("span",{children:i.charAt(0)+i.slice(1).toLowerCase()})]})},i))})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(ce,{htmlFor:"avoid-highways",children:"Avoid Highways"}),c.jsx(Oi,{id:"avoid-highways",checked:t.avoidHighways,onCheckedChange:i=>r("avoidHighways",i)})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(ce,{htmlFor:"avoid-tolls",children:"Avoid Tolls"}),c.jsx(Oi,{id:"avoid-tolls",checked:t.avoidTolls,onCheckedChange:i=>r("avoidTolls",i)})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(ce,{htmlFor:"return-start",children:"Return to Start"}),c.jsx(Oi,{id:"return-start",checked:t.returnToStart,onCheckedChange:i=>r("returnToStart",i)})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(ce,{htmlFor:"consider-traffic",children:"Consider Traffic"}),c.jsx(Oi,{id:"consider-traffic",checked:t.considerTraffic,onCheckedChange:i=>r("considerTraffic",i)})]})]})]})]})};function iUe(){const{toast:t}=un(),{tasks:e,trips:r,addTask:n}=os(),[i,a]=b.useState({lat:39.9789,lng:-82.8677}),[o,s]=b.useState(!0),[l,u]=b.useState(null),[d,f]=b.useState(!1),[h,p]=b.useState({avoidHighways:!1,avoidTolls:!1,transportMode:"DRIVING",returnToStart:!0,considerTraffic:!0,maxStops:void 0}),[m,g]=b.useState(null),[v,x]=b.useState(!1),y=b.useRef(null),w=b.useRef(null),S=b.useRef([]),E=b.useRef(null),C=b.useRef(null),A=b.useRef(!1);b.useEffect(()=>{if(console.log("Initializing geolocation..."),A.current)return;A.current=!0;const O=setTimeout(()=>{console.log("Geolocation timed out, using default location"),s(!1)},5e3);return navigator.geolocation?navigator.geolocation.getCurrentPosition(P=>{console.log("Successfully got user location"),clearTimeout(O),a({lat:P.coords.latitude,lng:P.coords.longitude}),s(!1)},P=>{console.log("Geolocation error:",P.message),clearTimeout(O),s(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):(console.log("Geolocation not supported, using default location"),clearTimeout(O),s(!1)),()=>clearTimeout(O)},[]),b.useEffect(()=>{if(o)return;(async()=>{if(!y.current){console.error("Map container not ready");return}if(w.current){console.log("Map already initialized");return}try{console.log("Initializing Google Maps..."),await uBe(),console.log("Creating map instance..."),w.current=new google.maps.Map(y.current,{center:i,zoom:12,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,zoomControl:!0,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]}),E.current=new google.maps.InfoWindow,console.log("Adding markers..."),T(),t({title:"Map loaded",description:"Google Maps has been loaded successfully."})}catch(P){console.error("Failed to initialize map:",P),t({title:"Map loading failed",description:"There was an error loading the map. Please try again.",variant:"destructive"})}})()},[o,i]);const T=()=>{if(!w.current||!window.google)return;S.current.forEach(M=>M.setMap(null)),S.current=[];const O=new google.maps.Marker({position:i,map:w.current,title:"Your Location",label:{text:"A",color:"white",fontSize:"14px",fontWeight:"bold"},icon:{path:google.maps.SymbolPath.CIRCLE,fillColor:"#2563EB",fillOpacity:1,strokeWeight:3,strokeColor:"#FFFFFF",scale:14,labelOrigin:new google.maps.Point(0,0)}});S.current.push(O);let P=1;e.filter(M=>M.coordinates).forEach(M=>{const F=String.fromCharCode(65+P),B=new google.maps.Marker({position:{lat:M.coordinates.lat,lng:M.coordinates.lng},map:w.current,title:M.title,label:{text:F,color:"white",fontSize:"14px",fontWeight:"bold"},icon:{path:google.maps.SymbolPath.CIRCLE,fillColor:"#EF4444",fillOpacity:1,strokeWeight:2,strokeColor:"#FFFFFF",scale:12,labelOrigin:new google.maps.Point(0,0)}});B.addListener("click",()=>{u(M),E.current&&(E.current.setContent(`
            <div>
              <h4>${M.title}</h4>
              <p>${M.location}</p>
              <p>Priority: ${M.priority}</p>
              <p>Due: ${Yt(new Date(M.dueDate),"PPP")}</p>
            </div>
          `),E.current.open(w.current,B))}),S.current.push(B),P++}),r.filter(M=>M.coordinates&&M.status!=="completed"&&M.status!=="cancelled").forEach(M=>{const F=M.coordinates,B=String.fromCharCode(65+P),W=new google.maps.Marker({position:{lat:F.lat,lng:F.lng},map:w.current,title:M.store,label:{text:B,color:"white",fontSize:"14px",fontWeight:"bold"},icon:{path:google.maps.SymbolPath.CIRCLE,fillColor:"#3B82F6",fillOpacity:1,strokeWeight:2,strokeColor:"#FFFFFF",scale:12,labelOrigin:new google.maps.Point(0,0)}});W.addListener("click",()=>{E.current&&(E.current.setContent(`
            <div>
              <h4>Trip to ${M.store}</h4>
              <p>ETA: ${M.eta}</p>
              <p>Status: ${M.status}</p>
              <p>Items: ${M.items.length}</p>
            </div>
          `),E.current.open(w.current,W))}),S.current.push(W),P++}),console.log(`Created ${S.current.length} markers on map`)};b.useEffect(()=>{w.current&&T()},[e,r,i]);const N=O=>{p(O)},I=async()=>{if(!w.current||!window.google)return;const O=e.filter(F=>F.coordinates).map(F=>({location:{lat:F.coordinates.lat,lng:F.coordinates.lng},priority:F.priority,dueDate:new Date(F.dueDate)})),P=r.filter(F=>F.coordinates&&F.status!=="completed"&&F.status!=="cancelled").map(F=>({location:{lat:F.coordinates.lat,lng:F.coordinates.lng},priority:"medium",dueDate:new Date(F.date)})),M=[...O,...P];if(M.length===0){t({title:"No locations to optimize",description:"Add some tasks or trips with locations to optimize your route.",variant:"destructive"});return}try{const F=new google.maps.LatLng(i.lat,i.lng),B=await QBe(F,M,h);g(B),C.current&&C.current.setMap(null),C.current=new google.maps.DirectionsRenderer({draggable:!0,panel:document.createElement("div")}),C.current.setMap(w.current);const W=B.waypoints.slice(0,-1).map(H=>({location:new google.maps.LatLng(H.location.lat,H.location.lng),stopover:!0})),$=new google.maps.DirectionsService,U=h.returnToStart?new google.maps.LatLng(i.lat,i.lng):new google.maps.LatLng(B.waypoints[B.waypoints.length-1].location.lat,B.waypoints[B.waypoints.length-1].location.lng),X={origin:F,destination:U,waypoints:W,travelMode:google.maps.TravelMode.DRIVING,optimizeWaypoints:!0,avoidHighways:h.avoidHighways,avoidTolls:h.avoidTolls};$.route(X,(H,Y)=>{var Q;Y===google.maps.DirectionsStatus.OK&&H?((Q=C.current)==null||Q.setDirections(H),t({title:"Route optimized",description:`Optimized route with ${B.waypoints.length} stops. Total distance: ${(B.totalDistance/1e3).toFixed(1)} km, time: ${Math.round(B.totalDuration/60)} minutes.`})):t({title:"Route optimization failed",description:"Unable to calculate the optimal route. Please try again.",variant:"destructive"})})}catch(F){console.error("Route optimization error:",F),t({title:"Route optimization failed",description:"There was an error calculating the route. Please try again.",variant:"destructive"})}},j=O=>{n(O),t({title:"Task created",description:"Your task has been successfully created."}),x(!1)};return c.jsxs("div",{className:"w-full h-full",children:[c.jsx("div",{className:"h-full flex flex-col",children:o?c.jsx("div",{className:"flex items-center justify-center flex-1",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):c.jsxs("div",{className:"flex flex-1 gap-4 p-4",children:[c.jsxs("div",{className:"w-80 flex-shrink-0 flex flex-col gap-4",children:[c.jsxs(Te,{className:"shadow-md flex-shrink-0",children:[c.jsx(Fe,{className:"py-3",children:c.jsx(Be,{children:"Route Options"})}),c.jsx(Ne,{children:c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(K,{onClick:()=>f(!0),variant:"outline",size:"sm",className:"flex-1",children:[c.jsx(SV,{className:"mr-2 h-4 w-4"}),"Preferences"]}),c.jsxs(K,{onClick:I,variant:m?"default":"outline",size:"sm",className:"flex-1",disabled:e.filter(O=>O.coordinates).length===0&&r.filter(O=>O.coordinates&&O.status!=="completed"&&O.status!=="cancelled").length===0,children:[c.jsx(dse,{className:"mr-2 h-4 w-4"}),m?"Update":"Optimize"]})]}),m&&c.jsx("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:c.jsxs("span",{className:"text-sm font-medium text-green-900",children:[m.waypoints.length+1," stops  ",(m.totalDistance/1609.34).toFixed(1)," miles  ",Math.round(m.totalDuration/60)," min"]})})]})})]}),c.jsxs(Te,{className:"shadow-md flex-1 min-h-0",children:[c.jsx(Fe,{className:"py-3 flex-shrink-0",children:c.jsxs(Be,{className:"flex items-center justify-between",children:[c.jsx("span",{children:"Locations"}),c.jsxs("span",{className:"text-sm text-gray-500",children:[e.filter(O=>O.coordinates).length+r.filter(O=>O.coordinates&&O.status!=="completed"&&O.status!=="cancelled").length+1," total"]})]})}),c.jsx(Ne,{className:"flex-1 overflow-hidden p-0",children:c.jsx("div",{className:"h-full overflow-y-auto px-6 pb-6",children:e.filter(O=>O.coordinates).length>0||r.filter(O=>O.coordinates&&O.status!=="completed"&&O.status!=="cancelled").length>0?c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"p-3 border rounded-md bg-blue-50 border-blue-200",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-white text-xs font-bold",children:"A"})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("h4",{className:"font-medium text-sm",children:"Your Location"}),c.jsx("p",{className:"text-xs text-gray-600",children:"Starting point"})]})]})}),e.filter(O=>O.coordinates).map((O,P)=>{const M=String.fromCharCode(66+P);return c.jsx("div",{className:"p-3 border rounded-md hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>{if(O.coordinates&&w.current){w.current.panTo({lat:O.coordinates.lat,lng:O.coordinates.lng}),w.current.setZoom(15);const F=S.current.find(B=>{var W,$,U,X;return((W=B.getPosition())==null?void 0:W.lat())===(($=O.coordinates)==null?void 0:$.lat)&&((U=B.getPosition())==null?void 0:U.lng())===((X=O.coordinates)==null?void 0:X.lng)});F&&google.maps&&google.maps.event.trigger(F,"click"),u(O)}},children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-white text-xs font-bold",children:M})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("h4",{className:"font-medium text-sm truncate",children:O.title}),c.jsx("p",{className:"text-xs text-gray-500 truncate",children:O.location})]})]}),c.jsxs("div",{className:"text-right flex-shrink-0",children:[c.jsx("p",{className:"text-xs text-gray-500",children:Yt(new Date(O.dueDate),"MMM d")}),c.jsx("span",{className:`text-xs px-2 py-1 rounded ${O.priority==="high"?"bg-red-100 text-red-800":O.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:O.priority})]})]})},`task-${O.id}`)}),r.filter(O=>O.coordinates&&O.status!=="completed"&&O.status!=="cancelled").map((O,P)=>{const M=String.fromCharCode(66+e.filter(F=>F.coordinates).length+P);return c.jsx("div",{className:"p-3 border rounded-md hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>{O.coordinates&&w.current&&(w.current.panTo({lat:O.coordinates.lat,lng:O.coordinates.lng}),w.current.setZoom(15))},children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-white text-xs font-bold",children:M})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("h4",{className:"font-medium text-sm truncate",children:O.store}),c.jsxs("p",{className:"text-xs text-gray-500",children:[O.items.length," items"]})]})]}),c.jsxs("div",{className:"text-right flex-shrink-0",children:[c.jsxs("p",{className:"text-xs text-gray-500",children:["ETA: ",O.eta]}),c.jsx("span",{className:`text-xs px-2 py-1 rounded ${O.status==="shopping"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:O.status})]})]})},`trip-${O.id}`)})]}):c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-8",children:[c.jsx(la,{className:"h-12 w-12 text-gray-300 mb-3"}),c.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"No locations to display"}),c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Add tasks or trips with locations to see them here"})]})})})]}),m&&c.jsxs(Te,{className:"shadow-md flex-shrink-0",children:[c.jsx(Fe,{className:"py-3",children:c.jsx(Be,{className:"text-sm",children:"Route Details"})}),c.jsx(Ne,{className:"p-4",children:c.jsxs("div",{className:"space-y-3 max-h-48 overflow-y-auto",children:[m.segments.map((O,P)=>c.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("span",{className:"text-xs font-medium text-gray-600",children:[P===0?"A":String.fromCharCode(65+P),"  ",String.fromCharCode(66+P)]}),c.jsx("span",{className:"text-xs text-gray-500",children:O.distance})]}),c.jsx("span",{className:"text-xs text-gray-500",children:O.duration})]},P)),c.jsx("div",{className:"border-t pt-2 mt-2",children:c.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[c.jsx("span",{children:"Total:"}),c.jsxs("span",{children:[(m.totalDistance/1609.34).toFixed(1)," mi  ",Math.round(m.totalDuration/60)," min"]})]})})]})})]})]}),c.jsx("div",{className:"flex-1 min-w-0",children:c.jsx("div",{ref:y,className:"w-full h-full rounded-lg border shadow-sm"})})]})}),l&&c.jsxs(On.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"absolute bottom-4 left-4 right-4 bg-white rounded-lg shadow-lg p-4 border",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"font-medium",children:l.title}),c.jsx(K,{variant:"ghost",size:"sm",onClick:()=>u(null),children:""})]}),c.jsxs("div",{className:"mt-2 space-y-2",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(la,{className:"h-4 w-4 text-gray-400"}),c.jsx("span",{className:"text-sm",children:l.location})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Pr,{className:"h-4 w-4 text-gray-400"}),c.jsxs("span",{className:"text-sm",children:["Due: ",Yt(new Date(l.dueDate),"PPP")]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("span",{className:`text-sm px-2 py-1 rounded ${l.priority==="high"?"bg-red-100 text-red-800":l.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[l.priority," priority"]}),l.completed&&c.jsx("span",{className:"text-sm px-2 py-1 rounded bg-green-100 text-green-800",children:"Completed"})]})]}),c.jsx("div",{className:"mt-3 flex justify-end",children:c.jsx(K,{size:"sm",className:"bg-primary text-white hover:bg-primary/90",onClick:()=>{if(l.coordinates){const O=`https://www.google.com/maps/dir/?api=1&destination=${l.coordinates.lat},${l.coordinates.lng}`;window.open(O,"_blank")}},children:"Get Directions"})})]}),c.jsx(_r,{open:d,onOpenChange:f,children:c.jsxs(pr,{children:[c.jsxs(mr,{children:[c.jsx(gr,{children:"Route Preferences"}),c.jsx(Ei,{children:"Customize how your route is calculated"})]}),c.jsx(nUe,{preferences:h,onPreferencesChange:N}),c.jsx(Si,{children:c.jsx(K,{onClick:()=>f(!1),children:"Save Preferences"})})]})}),c.jsx(mk,{isOpen:v,onClose:()=>x(!1),onSubmit:j})]})}const lA=["Trader Joe's","Kroger","Walmart","Target","Costco","Whole Foods","Aldi"],aUe=({isOpen:t,onClose:e,onSubmit:r})=>{const{toast:n}=un(),[i,a]=b.useState(""),[o,s]=b.useState("20"),[l,u]=b.useState(new Date),[d,f]=b.useState({}),[h,p]=b.useState(!1),[m,g]=b.useState(!1),[v,x]=b.useState(lA);b.useEffect(()=>{t&&(a(""),s("20"),f({}),g(!1),u(new Date))},[t]),b.useEffect(()=>{const E={};i.trim()||(E.store="Store name is required");const C=parseInt(o);isNaN(C)||C<5?E.eta="ETA must be at least 5 minutes":C>120&&(E.eta="ETA cannot exceed 120 minutes"),f(E),p(Object.keys(E).length===0)},[i,o]),b.useEffect(()=>{if(i.trim()){const E=lA.filter(C=>C.toLowerCase().includes(i.toLowerCase()));x(E)}else x(lA)},[i]);const y=E=>{if(E.preventDefault(),!h){n({title:"Cannot broadcast trip",description:"Please fix the errors in the form",variant:"destructive"});return}const C=VTe(i),A=C?{lat:C.lat,lng:C.lng}:{lat:39.9622,lng:-83.0007};r({store:i,eta:o,date:l.toISOString(),coordinates:A}),a(""),s("20"),u(new Date),e()},w=E=>{a(E.target.value),g(!0)},S=E=>{a(E),g(!1)};return c.jsx(_r,{open:t,onOpenChange:e,children:c.jsxs(pr,{className:"sm:max-w-md",children:[c.jsxs(mr,{children:[c.jsxs(gr,{className:"flex items-center gap-2 bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-green-500",children:[c.jsx(lr,{className:"h-5 w-5 text-blue-500"}),"I'm heading to..."]}),c.jsx(Ei,{children:"Let others know you're making a shopping trip and they can request items."})]}),c.jsxs("form",{onSubmit:y,className:"space-y-4 pt-4",children:[c.jsxs("div",{className:"space-y-2 relative",children:[c.jsxs(ce,{htmlFor:"store",className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(jg,{className:"h-4 w-4 text-blue-500"}),c.jsx("span",{children:"Store"})]}),d.store&&c.jsxs("span",{className:"text-xs text-destructive flex items-center",children:[c.jsx(_o,{className:"h-3 w-3 mr-1"}),d.store]})]}),c.jsx(Ue,{id:"store",placeholder:"e.g. Trader Joe's, Costco, Target",value:i,onChange:w,onFocus:()=>g(!0),onBlur:()=>{setTimeout(()=>g(!1),200)},className:`premium-card ${d.store?"border-destructive":""}`}),c.jsx(KT,{children:m&&v.length>0&&c.jsx(On.div,{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:c.jsx("ul",{className:"py-1",children:v.map((E,C)=>c.jsxs(On.li,{className:"px-3 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer text-sm flex items-center",onClick:()=>S(E),whileHover:{x:5},children:[c.jsx(jg,{className:"h-3 w-3 mr-2 text-blue-500"}),E]},C))})})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs(ce,{htmlFor:"eta",className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Pr,{className:"h-4 w-4 mr-1 text-blue-500"}),"Time until arrival"]}),d.eta&&c.jsxs("span",{className:"text-xs text-destructive flex items-center",children:[c.jsx(_o,{className:"h-3 w-3 mr-1"}),d.eta]})]}),c.jsxs("div",{className:"flex gap-3 items-center",children:[c.jsx(Ue,{id:"eta",type:"number",min:"5",max:"120",value:o,onChange:E=>s(E.target.value),className:`w-24 premium-card ${d.eta?"border-destructive":""}`}),c.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"minutes"})]}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center",children:[c.jsx(bV,{className:"h-3 w-3 mr-1"}),"Let others know when you expect to arrive at the store"]})]}),c.jsxs("div",{children:[c.jsx(ce,{children:"Date"}),c.jsxs(nv,{children:[c.jsx(iv,{asChild:!0,children:c.jsxs(K,{variant:"outline",className:je("w-full justify-start text-left font-normal",!l&&"text-muted-foreground"),children:[c.jsx(Hu,{className:"mr-2 h-4 w-4"}),l?Yt(l,"PPP"):c.jsx("span",{children:"Pick a date"})]})}),c.jsx(lh,{className:"w-auto p-0",align:"start",children:c.jsx(Y2,{mode:"single",selected:l,onSelect:E=>u(E||new Date),initialFocus:!0})})]})]}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[c.jsx(K,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),c.jsx(K,{type:"submit",disabled:!h,className:"bg-gradient-to-r from-blue-500 to-green-500 text-white hover:from-blue-600 hover:to-green-600",children:"Create Trip"})]})]})]})})};function oUe(){const{toast:t}=un(),{tasks:e,trips:r,addTask:n,addTrip:i}=os(),[a,o]=b.useState(!1),[s,l]=b.useState(!1),u=e.filter(m=>m.coordinates).length,d=r.filter(m=>m.coordinates&&m.status!=="completed"&&m.status!=="cancelled").length,f=u+d+1,h=m=>{n(m),t({title:"Task created",description:"Your task has been successfully created."}),o(!1)},p=m=>{i({store:m.store,location:m.store,coordinates:m.coordinates,eta:m.eta,date:m.date,participants:[],shopper:{name:"You",avatar:"https://example.com/avatar.jpg"},items:[]}),t({title:"Trip created",description:"Your shopping trip has been successfully created."}),l(!1)};return c.jsxs(pa,{children:[c.jsxs("div",{className:"p-4 md:p-8",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[c.jsx(la,{className:"w-6 h-6"}),"Map & Routes"]}),c.jsx("p",{className:"text-slate-500",children:"View your tasks and trips on the map, and optimize your routes"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(K,{size:"sm",onClick:()=>l(!0),children:[c.jsx(lr,{className:"w-4 h-4 mr-2"}),"New Trip"]}),c.jsxs(K,{variant:"outline",size:"sm",onClick:()=>o(!0),children:[c.jsx(Or,{className:"w-4 h-4 mr-2"}),"Add Task"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[c.jsx(Te,{className:"border-none shadow-sm",children:c.jsx(Ne,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:c.jsx(la,{className:"w-5 h-5 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-500",children:"Total Locations"}),c.jsx("p",{className:"text-2xl font-bold",children:f})]})]})})}),c.jsx(Te,{className:"border-none shadow-sm",children:c.jsx(Ne,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:c.jsx(SV,{className:"w-5 h-5 text-green-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-500",children:"Tasks"}),c.jsx("p",{className:"text-2xl font-bold",children:u})]})]})})}),c.jsx(Te,{className:"border-none shadow-sm",children:c.jsx(Ne,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:c.jsx(lr,{className:"w-5 h-5 text-purple-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-500",children:"Trips"}),c.jsx("p",{className:"text-2xl font-bold",children:d})]})]})})})]}),f===0?c.jsx(Te,{className:"border-none shadow-sm",children:c.jsx(Ne,{className:"p-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(la,{className:"w-8 h-8 text-slate-400"})}),c.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:"No locations to display"}),c.jsx("p",{className:"text-slate-500 mb-6",children:"Add tasks with locations or create shopping trips to see them on the map"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[c.jsxs(K,{variant:"outline",onClick:()=>o(!0),children:[c.jsx(Or,{className:"w-4 h-4 mr-2"}),"Add Task"]}),c.jsxs(K,{onClick:()=>l(!0),children:[c.jsx(lr,{className:"w-4 h-4 mr-2"}),"Create Trip"]})]})]})})}):c.jsx("div",{className:"w-full h-[600px]",children:c.jsx(iUe,{})})]}),c.jsx(mk,{isOpen:a,onClose:()=>o(!1),onSubmit:h}),c.jsx(aUe,{isOpen:s,onClose:()=>l(!1),onSubmit:p})]})}function sUe(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function lUe(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var cUe=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uUe=function(t){cUe(e,t);function e(r,n){var i=this.constructor,a=t.call(this,r,n)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),sUe(a,i.prototype),lUe(a),a}return e}(Error),dUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xi=function(t){dUe(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(uUe),fUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),to=function(t){fUe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(Xi),hUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),We=function(t){hUe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(Xi),pUe=function(){function t(e){if(this.binarizer=e,e===null)throw new We("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var a=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(a))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),mUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xn=function(t){mUe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Xi),gUe=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),Qt=function(){function t(){}return t.arraycopy=function(e,r,n,i,a){for(;a--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),vUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),u3=function(t){vUe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(Xi),yUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),VL=function(t){yUe(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(u3),xUe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nn=function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var a=r;a<n;a++)e[a]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new We("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new VL(r);if(n>e)throw new VL(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var a=xUe(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=31*i+s}}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,a=new Int32Array(i);return Qt.arraycopy(e,r,a,0,i),a},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,s=n(r,e[o]);if(s>0)i=o+1;else if(s<0)a=o-1;else return o}return-i-1},t.numberComparator=function(e,r){return e-r},t}(),at=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),wn=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);Qt.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=n[i]}var s=i*32+at.numberOfTrailingZeros(a);return s>r?r:s},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=~n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=~n[i]}var s=i*32+at.numberOfTrailingZeros(a);return s>r?r:s},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new We;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),a=this.bits,o=n;o<=i;o++){var s=o>n?0:e&31,l=o<i?31:r&31,u=(2<<l)-(1<<s);a[o]|=u}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new We;if(r===e)return!0;r--;for(var i=Math.floor(e/32),a=Math.floor(r/32),o=this.bits,s=i;s<=a;s++){var l=s>i?0:e&31,u=s<a?31:r&31,d=(2<<u)-(1<<l)&4294967295;if((o[s]&d)!==(n?d:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new We("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new We("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var a=0;a<i;a++){for(var o=0,s=0;s<8;s++)this.get(e)&&(o|=1<<7-s),e++;r[n+a]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,a=0;a<n;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[r-a]=o}if(this.size!==n*32){for(var s=n*32-this.size,l=e[0]>>>s,a=1;a<n;a++){var u=e[a];l|=u<<32-s,e[a-1]=l,l=u>>>s}e[n-1]=l}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&nn.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+nn.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t}(),CN;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(CN||(CN={}));const ur=CN;var wUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ce=function(t){wUe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Xi),bUe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Nt;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(Nt||(Nt={}));var tn=function(){function t(e,r,n){for(var i,a,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var l=this.values,u=0,d=l.length;u!==d;u++){var f=l[u];t.VALUES_TO_ECI.set(f,this)}try{for(var h=bUe(o),p=h.next();!p.done;p=h.next()){var m=p.value;t.NAME_TO_ECI.set(m,this)}}catch(g){i={error:g}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new Ce("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new Ce("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new Ce("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(Nt.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(Nt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(Nt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(Nt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(Nt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(Nt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(Nt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(Nt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(Nt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(Nt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(Nt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(Nt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(Nt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(Nt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(Nt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(Nt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(Nt.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(Nt.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(Nt.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(Nt.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(Nt.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(Nt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(Nt.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(Nt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(Nt.Big5,28,"Big5"),t.GB18030=new t(Nt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(Nt.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),_Ue=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tx=function(t){_Ue(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(Xi),Ma=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof tn?e:tn.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",a=0,o=e.length;a<o;a++){var s=e[a].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(n.equals(tn.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new tx("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(tn.UTF8)||e.equals(tn.ISO8859_1)||e.equals(tn.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],a=0;a<n.length;a++)i.push(n[a].charCodeAt(0));return new Uint8Array(i)},t}(),pt=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return Ma.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(ur.CHARACTER_SET)!==void 0)return r.get(ur.CHARACTER_SET).toString();for(var n=e.length,i=!0,a=!0,o=!0,s=0,l=0,u=0,d=0,f=0,h=0,p=0,m=0,g=0,v=0,x=0,y=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,w=0;w<n&&(i||a||o);w++){var S=e[w]&255;o&&(s>0?S&128?s--:o=!1:S&128&&(S&64?(s++,S&32?(s++,S&16?(s++,S&8?o=!1:d++):u++):l++):o=!1)),i&&(S>127&&S<160?i=!1:S>159&&(S<192||S===215||S===247)&&x++),a&&(f>0?S<64||S===127||S>252?a=!1:f--:S===128||S===160||S>239?a=!1:S>160&&S<224?(h++,m=0,p++,p>g&&(g=p)):S>127?(f++,p=0,m++,m>v&&(v=m)):(p=0,m=0))}return o&&s>0&&(o=!1),a&&f>0&&(a=!1),o&&(y||l+u+d>0)?t.UTF8:a&&(t.ASSUME_SHIFT_JIS||g>=3||v>=3)?t.SHIFT_JIS:i&&a?g===2&&h===2||x*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:a?t.SHIFT_JIS:o?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function a(s,l,u,d,f,h){if(s==="%%")return"%";if(r[++i]!==void 0){s=d?parseInt(d.substr(1)):void 0;var p=f?parseInt(f.substr(1)):void 0,m;switch(h){case"s":m=r[i];break;case"c":m=r[i][0];break;case"f":m=parseFloat(r[i]).toFixed(s);break;case"p":m=parseFloat(r[i]).toPrecision(s);break;case"e":m=parseFloat(r[i]).toExponential(s);break;case"x":m=parseInt(r[i]).toString(p||16);break;case"d":m=parseFloat(parseInt(r[i],p||10).toPrecision(s)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(p);for(var g=parseInt(u),v=u&&u[0]+""=="0"?"0":" ";m.length<g;)m=l!==void 0?m+v:v+m;return m}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},t.getBytes=function(e,r){return Ma.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=tn.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=tn.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=tn.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),rt=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=pt.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t}(),ls=function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new We("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),a=0;a<r;a++)for(var o=e[a],s=0;s<n;s++)o[s]&&i.set(s,a);return i},t.parseFromString=function(e,r,n){if(e===null)throw new We("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,s=-1,l=0,u=0;u<e.length;)if(e.charAt(u)===`
`||e.charAt(u)==="\r"){if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new We("row lengths do not match");o=a,l++}u++}else if(e.substring(u,u+r.length)===r)u+=r.length,i[a]=!0,a++;else if(e.substring(u,u+n.length)===n)u+=n.length,i[a]=!1,a++;else throw new We("illegal character encountered: "+e.substring(u));if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new We("row lengths do not match");l++}for(var d=new t(s,l),f=0;f<a;f++)i[f]&&d.set(Math.floor(f%s),Math.floor(f/s));return d},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new We("input matrix dimensions do not match");for(var r=new wn(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var s=a*n,l=e.getRow(a,r).getBitArray(),u=0;u<n;u++)i[s+u]^=l[u]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new We("Left and top must be nonnegative");if(i<1||n<1)throw new We("Height and width must be at least 1");var a=e+n,o=r+i;if(o>this.height||a>this.width)throw new We("The region must fit inside the matrix");for(var s=this.rowSize,l=this.bits,u=r;u<o;u++)for(var d=u*s,f=e;f<a;f++)l[d+Math.floor(f/32)]|=1<<(f&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new wn(this.width):r.clear();for(var n=this.rowSize,i=this.bits,a=e*n,o=0;o<n;o++)r.setBulk(o*32,i[a+o]);return r},t.prototype.setRow=function(e,r){Qt.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new wn(e),i=new wn(e),a=0,o=Math.floor((r+1)/2);a<o;a++)n=this.getRow(a,n),i=this.getRow(r-1-a,i),n.reverse(),i.reverse(),this.setRow(a,i),this.setRow(r-1-a,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,a=e,o=r,s=-1,l=-1,u=0;u<r;u++)for(var d=0;d<n;d++){var f=i[u*n+d];if(f!==0){if(u<o&&(o=u),u>l&&(l=u),d*32<a){for(var h=0;!(f<<31-h&4294967295);)h++;d*32+h<a&&(a=d*32+h)}if(d*32+31>s){for(var h=31;!(f>>>h);)h--;d*32+h>s&&(s=d*32+h)}}}return s<a||l<o?null:Int32Array.from([a,o,s-a+1,l-o+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,a=n%e*32,o=r[n],s=0;!(o<<31-s&4294967295);)s++;return a+=s,Int32Array.from([a,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),a=Math.floor(n%e)*32,o=r[n],s=31;!(o>>>s);)s--;return a+=s,Int32Array.from([a,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&nn.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+nn.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new rt,a=0,o=this.height;a<o;a++){for(var s=0,l=this.width;s<l;s++)i.append(this.get(s,a)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),SUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oe=function(t){SUe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Xi),EUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),AUe=function(t){EUe(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),a=i.getWidth();n==null||n.getSize()<a?n=new wn(a):n.clear(),this.initArrays(a);for(var o=i.getRow(r,this.luminances),s=this.buckets,l=0;l<a;l++)s[(o[l]&255)>>e.LUMINANCE_SHIFT]++;var u=e.estimateBlackPoint(s);if(a<3)for(var l=0;l<a;l++)(o[l]&255)<u&&n.set(l);else for(var d=o[0]&255,f=o[1]&255,l=1;l<a-1;l++){var h=o[l+1]&255;(f*4-d-h)/2<u&&n.set(l),d=f,f=h}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),a=new ls(n,i);this.initArrays(n);for(var o=this.buckets,s=1;s<5;s++)for(var l=Math.floor(i*s/5),u=r.getRow(l,this.luminances),d=Math.floor(n*4/5),f=Math.floor(n/5);f<d;f++){var h=u[f]&255;o[h>>e.LUMINANCE_SHIFT]++}for(var p=e.estimateBlackPoint(o),m=r.getMatrix(),s=0;s<i;s++)for(var g=s*n,f=0;f<n;f++){var h=m[g+f]&255;h<p&&a.set(f,s)}return a},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,a=0,o=0,s=0;s<n;s++)r[s]>o&&(a=s,o=r[s]),r[s]>i&&(i=r[s]);for(var l=0,u=0,s=0;s<n;s++){var d=s-a,f=r[s]*d*d;f>u&&(l=s,u=f)}if(a>l){var h=a;a=l,l=h}if(l-a<=n/16)throw new oe;for(var p=l-1,m=-1,s=l-1;s>a;s--){var g=s-a,f=g*g*(l-s)*(i-r[s]);f>m&&(p=s,m=f)}return p<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(gUe),CUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),TUe=function(t){CUe(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=r.getMatrix(),o=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&o++;var s=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&s++;var l=e.calculateBlackPoints(a,o,s,n,i),u=new ls(n,i);e.calculateThresholdForBlock(a,o,s,n,i,l,u),this.matrix=u}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,a,o,s,l){for(var u=o-e.BLOCK_SIZE,d=a-e.BLOCK_SIZE,f=0;f<i;f++){var h=f<<e.BLOCK_SIZE_POWER;h>u&&(h=u);for(var p=e.cap(f,2,i-3),m=0;m<n;m++){var g=m<<e.BLOCK_SIZE_POWER;g>d&&(g=d);for(var v=e.cap(m,2,n-3),x=0,y=-2;y<=2;y++){var w=s[p+y];x+=w[v-2]+w[v-1]+w[v]+w[v+1]+w[v+2]}var S=x/25;e.thresholdBlock(r,g,h,S,a,l)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,a,o,s){for(var l=0,u=i*o+n;l<e.BLOCK_SIZE;l++,u+=o)for(var d=0;d<e.BLOCK_SIZE;d++)(r[u+d]&255)<=a&&s.set(n+d,i+l)},e.calculateBlackPoints=function(r,n,i,a,o){for(var s=o-e.BLOCK_SIZE,l=a-e.BLOCK_SIZE,u=new Array(i),d=0;d<i;d++){u[d]=new Int32Array(n);var f=d<<e.BLOCK_SIZE_POWER;f>s&&(f=s);for(var h=0;h<n;h++){var p=h<<e.BLOCK_SIZE_POWER;p>l&&(p=l);for(var m=0,g=255,v=0,x=0,y=f*a+p;x<e.BLOCK_SIZE;x++,y+=a){for(var w=0;w<e.BLOCK_SIZE;w++){var S=r[y+w]&255;m+=S,S<g&&(g=S),S>v&&(v=S)}if(v-g>e.MIN_DYNAMIC_RANGE)for(x++,y+=a;x<e.BLOCK_SIZE;x++,y+=a)for(var w=0;w<e.BLOCK_SIZE;w++)m+=r[y+w]&255}var E=m>>e.BLOCK_SIZE_POWER*2;if(v-g<=e.MIN_DYNAMIC_RANGE&&(E=g/2,d>0&&h>0)){var C=(u[d-1][h]+2*u[d][h-1]+u[d-1][h-1])/4;g<C&&(E=C)}u[d][h]=E}}return u},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(AUe),A_=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new tx("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new tx("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new tx("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new rt,n=0;n<this.height;n++){for(var i=this.getRow(n,e),a=0;a<this.width;a++){var o=i[a]&255,s=void 0;o<64?s="#":o<128?s="+":o<192?s=".":s=" ",r.append(s)}r.append(`
`)}return r.toString()},t}(),NUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),d3=function(t){NUe(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),a=0;a<n;a++)i[a]=255-(r[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,a){return new e(this.delegate.crop(r,n,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(A_),IUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),PUe=function(t){IUe(e,t);function e(r,n){n===void 0&&(n=!1);var i=t.call(this,r.width,r.height)||this;return i.canvas=r,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(r,n),i}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var i=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,i,a){a===void 0&&(a=!1);var o=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var s=0,l=0,u=r.length;s<u;s+=4,l++){var d=void 0,f=r[s+3];if(f===0)d=255;else{var h=r[s],p=r[s+1],m=r[s+2];d=306*h+601*p+117*m+512>>10}o[l]=d}else for(var s=0,l=0,g=r.length;s<g;s+=4,l++){var d=void 0,f=r[s+3];if(f===0)d=255;else{var h=r[s],p=r[s+1],m=r[s+2];d=306*h+601*p+117*m+512>>10}o[l]=255-d}return o},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new We("Requested row is outside the image: "+r);var i=this.getWidth(),a=r*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return t.prototype.crop.call(this,r,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),a=r*e.DEGREE_TO_RADIANS,o=this.canvas.width,s=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*s),u=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*s);return n.width=l,n.height=u,i.translate(l/2,u/2),i.rotate(a),i.drawImage(this.canvas,o/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new d3(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(A_),OUe=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),di=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,l)}u((n=n.apply(t,e||[])).next())})},fi=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},jUe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xp=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return di(this,void 0,void 0,function(){var e,r,n,i,a,o,s,l,u,d,f,h;return fi(this,function(p){switch(p.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=p.sent(),r=[];try{for(n=jUe(e),i=n.next();!i.done;i=n.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(s=a.deviceId||a.id,l=a.label||"Video device "+(r.length+1),u=a.groupId,d={deviceId:s,label:l,kind:o,groupId:u},r.push(d))}catch(m){f={error:m}}finally{try{i&&!i.done&&(h=n.return)&&h.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return di(this,void 0,void 0,function(){var e;return fi(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new OUe(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return di(this,void 0,void 0,function(){var r;return fi(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return di(this,void 0,void 0,function(){return fi(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return di(this,void 0,void 0,function(){var n,i;return fi(this,function(a){switch(a.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return di(this,void 0,void 0,function(){var n;return fi(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return di(this,void 0,void 0,function(){var n,i;return fi(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=a.sent(),[4,this.decodeOnce(n)];case 2:return i=a.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return di(this,void 0,void 0,function(){return fi(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return di(this,void 0,void 0,function(){var i,a;return fi(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return di(this,void 0,void 0,function(){var i;return fi(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,a.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return di(this,void 0,void 0,function(){var i;return fi(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,a.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return di(this,void 0,void 0,function(){var n;return fi(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return di(this,void 0,void 0,function(){return fi(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new to("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new to("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new to("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new to("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new to("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new to("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new to("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new to("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new to("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new to("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return di(this,void 0,void 0,function(){return fi(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return di(this,void 0,void 0,function(){return fi(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var a=function(o,s){if(i._stopAsyncDecode){s(new oe("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var l=i.decode(e);o(l)}catch(h){var u=r&&h instanceof oe,d=h instanceof xn||h instanceof Ce,f=d&&n;if(u||f)return setTimeout(a,i._timeBetweenDecodingAttempts,o,s);s(h)}};return new Promise(function(o,s){return a(o,s)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var a=n.decode(e);r(a,null),setTimeout(i,n.timeBetweenScansMillis)}catch(l){r(null,l);var o=l instanceof xn||l instanceof Ce,s=l instanceof oe;(o||s)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new PUe(n,r),a=new TUe(i);return new pUe(a)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),li=function(){function t(e,r,n,i,a,o){n===void 0&&(n=r==null?0:8*r.length),o===void 0&&(o=Qt.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=Qt.currentTimeMillis():this.timestamp=o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);Qt.arraycopy(r,0,n,0,r.length),Qt.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),TN;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(TN||(TN={}));const ze=TN;var NN;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(NN||(NN={}));const jn=NN;var C_=function(){function t(e,r,n,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),jm=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new We;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),uc=function(){function t(e,r){if(r.length===0)throw new We;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),Qt.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,a=r.length;i!==a;i++){var o=r[i];n=jm.addOrSubtract(n,o)}return n}n=r[0];for(var s=r.length,l=this.field,i=1;i<s;i++)n=jm.addOrSubtract(l.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new We("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;Qt.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=jm.addOrSubtract(r[s-o],n[s]);return new t(this.field,a)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new We("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=this.field,l=0;l<n;l++)for(var u=r[l],d=0;d<a;d++)o[l+d]=jm.addOrSubtract(o[l+d],s.multiply(u,i[d]));return new t(s,o)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),a=this.coefficients,o=0;o<r;o++)i[o]=n.multiply(a[o],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new We;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+e),o=this.field,s=0;s<i;s++)a[s]=o.multiply(n[s],r);return new t(o,a)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new We("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new We("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=r.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var s=i.getDegree()-e.getDegree(),l=r.multiply(i.getCoefficient(i.getDegree()),o),u=e.multiplyByMonomial(s,l),d=r.buildMonomial(s,l);n=n.addOrSubtract(d),i=i.addOrSubtract(u)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),kUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),LJ=function(t){kUe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(Xi),RUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Di=function(t){RUe(e,t);function e(r,n,i){var a=t.call(this)||this;a.primitive=r,a.size=n,a.generatorBase=i;for(var o=new Int32Array(n),s=1,l=0;l<n;l++)o[l]=s,s*=2,s>=n&&(s^=r,s&=n-1);a.expTable=o;for(var u=new Int32Array(n),l=0;l<n-1;l++)u[o[l]]=l;return a.logTable=u,a.zero=new uc(a,Int32Array.from([0])),a.one=new uc(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new We;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new uc(this,i)},e.prototype.inverse=function(r){if(r===0)throw new LJ;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+at.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(jm),DUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),e1=function(t){DUe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(Xi),MUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),V0=function(t){MUe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(Xi),T_=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new uc(n,e),a=new Int32Array(r),o=!0,s=0;s<r;s++){var l=i.evaluateAt(n.exp(s+n.getGeneratorBase()));a[a.length-1-s]=l,l!==0&&(o=!1)}if(!o)for(var u=new uc(n,a),d=this.runEuclideanAlgorithm(n.buildMonomial(r,1),u,r),f=d[0],h=d[1],p=this.findErrorLocations(f),m=this.findErrorMagnitudes(h,p),s=0;s<p.length;s++){var g=e.length-1-n.log(p[s]);if(g<0)throw new e1("Bad error location");e[g]=Di.addOrSubtract(e[g],m[s])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=this.field,o=e,s=r,l=a.getZero(),u=a.getOne();s.getDegree()>=(n/2|0);){var d=o,f=l;if(o=s,l=u,o.isZero())throw new e1("r_{i-1} was zero");s=d;for(var h=a.getZero(),p=o.getCoefficient(o.getDegree()),m=a.inverse(p);s.getDegree()>=o.getDegree()&&!s.isZero();){var g=s.getDegree()-o.getDegree(),v=a.multiply(s.getCoefficient(s.getDegree()),m);h=h.addOrSubtract(a.buildMonomial(g,v)),s=s.addOrSubtract(o.multiplyByMonomial(g,v))}if(u=h.multiply(l).addOrSubtract(f),s.getDegree()>=o.getDegree())throw new V0("Division algorithm failed to reduce polynomial?")}var x=u.getCoefficient(0);if(x===0)throw new e1("sigmaTilde(0) was zero");var y=a.inverse(x),w=u.multiplyScalar(y),S=s.multiplyScalar(y);return[w,S]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,a=this.field,o=1;o<a.getSize()&&i<r;o++)e.evaluateAt(o)===0&&(n[i]=a.inverse(o),i++);if(i!==r)throw new e1("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),a=this.field,o=0;o<n;o++){for(var s=a.inverse(r[o]),l=1,u=0;u<n;u++)if(o!==u){var d=a.multiply(r[u],s),f=d&1?d&-2:d|1;l=a.multiply(l,f)}i[o]=a.multiply(e.evaluateAt(s),a.inverse(l)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],s))}return i},t}(),Cn;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(Cn||(Cn={}));var zL=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),a=t.convertBoolArrayToByteArray(i),o=t.getEncodedData(i),s=new C_(a,o,null,null);return s.setNumBits(i.length),s},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=Cn.UPPER,i=Cn.UPPER,a="",o=0;o<r;)if(i===Cn.BINARY){if(r-o<5)break;var s=t.readCode(e,o,5);if(o+=5,s===0){if(r-o<11)break;s=t.readCode(e,o,11)+31,o+=11}for(var l=0;l<s;l++){if(r-o<8){o=r;break}var u=t.readCode(e,o,8);a+=pt.castAsNonUtf8Char(u),o+=8}i=n}else{var d=i===Cn.DIGIT?4:5;if(r-o<d)break;var u=t.readCode(e,o,d);o+=d;var f=t.getCharacter(i,u);f.startsWith("CTRL_")?(n=i,i=t.getTable(f.charAt(5)),f.charAt(6)==="L"&&(n=i)):(a+=f,i=n)}return a},t.getTable=function(e){switch(e){case"L":return Cn.LOWER;case"P":return Cn.PUNCT;case"M":return Cn.MIXED;case"D":return Cn.DIGIT;case"B":return Cn.BINARY;case"U":default:return Cn.UPPER}},t.getCharacter=function(e,r){switch(e){case Cn.UPPER:return t.UPPER_TABLE[r];case Cn.LOWER:return t.LOWER_TABLE[r];case Cn.MIXED:return t.MIXED_TABLE[r];case Cn.PUNCT:return t.PUNCT_TABLE[r];case Cn.DIGIT:return t.DIGIT_TABLE[r];default:throw new V0("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=Di.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=Di.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=Di.AZTEC_DATA_10):(n=12,r=Di.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/n;if(a<i)throw new Ce;for(var o=e.length%n,s=new Int32Array(a),l=0;l<a;l++,o+=n)s[l]=t.readCode(e,o,n);try{var u=new T_(r);u.decode(s,a-i)}catch(v){throw new Ce(v)}for(var d=(1<<n)-1,f=0,l=0;l<i;l++){var h=s[l];if(h===0||h===d)throw new Ce;(h===1||h===d-1)&&f++}for(var p=new Array(i*n-f),m=0,l=0;l<i;l++){var h=s[l];if(h===1||h===d-1)p.fill(h>1,m,m+n-1),m+=n-1;else for(var g=n-1;g>=0;--g)p[m++]=(h&1<<g)!==0}return p},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(n,r));if(r)for(var s=0;s<a.length;s++)a[s]=s;else for(var l=i+1+2*at.truncDivision(at.truncDivision(i,2)-1,15),u=i/2,d=at.truncDivision(l,2),s=0;s<u;s++){var f=s+at.truncDivision(s,15);a[u-s-1]=d-f-1,a[u+s]=d+f+1}for(var s=0,h=0;s<n;s++){for(var p=(n-s)*4+(r?9:12),m=s*2,g=i-1-m,v=0;v<p;v++)for(var x=v*2,y=0;y<2;y++)o[h+x+y]=e.get(a[m+y],a[m+v]),o[h+2*p+x+y]=e.get(a[m+v],a[g-y]),o[h+4*p+x+y]=e.get(a[g-y],a[g-v]),o[h+6*p+x+y]=e.get(a[g-v],a[m+y]);h+=p*8}return o},t.readCode=function(e,r,n){for(var i=0,a=r;a<r+n;a++)i<<=1,e[a]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),_t=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var a=e-n,o=r-i;return Math.sqrt(a*a+o*o)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var a=e[n];r+=a}return r},t}(),IN=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),Me=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*IN.floatToIntBits(this.x)+IN.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,s;if(n>=r&&n>=i?(o=e[0],a=e[1],s=e[2]):i>=n&&i>=r?(o=e[1],a=e[0],s=e[2]):(o=e[2],a=e[0],s=e[1]),this.crossProductZ(a,o,s)<0){var l=a;a=s,s=l}e[0]=a,e[1]=o,e[2]=s},t.distance=function(e,r){return _t.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,a=r.y;return(n.x-i)*(e.y-a)-(n.y-a)*(e.x-i)},t}(),f3=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),LUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$Ue=function(t){LUe(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n)||this;return s.compact=i,s.nbDatablocks=a,s.nbLayers=o,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(f3),PN=function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=r/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new oe}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,a=!1,o=!0,s=!1,l=!1,u=!1,d=!1,f=!1,h=this.width,p=this.height;o;){o=!1;for(var m=!0;(m||!l)&&r<h;)m=this.containsBlackPoint(n,i,r,!1),m?(r++,o=!0,l=!0):l||r++;if(r>=h){a=!0;break}for(var g=!0;(g||!u)&&i<p;)g=this.containsBlackPoint(e,r,i,!0),g?(i++,o=!0,u=!0):u||i++;if(i>=p){a=!0;break}for(var v=!0;(v||!d)&&e>=0;)v=this.containsBlackPoint(n,i,e,!1),v?(e--,o=!0,d=!0):d||e--;if(e<0){a=!0;break}for(var x=!0;(x||!f)&&n>=0;)x=this.containsBlackPoint(e,r,n,!0),x?(n--,o=!0,f=!0):f||n--;if(n<0){a=!0;break}o&&(s=!0)}if(!a&&s){for(var y=r-e,w=null,S=1;w===null&&S<y;S++)w=this.getBlackPointOnSegment(e,i-S,e+S,i);if(w==null)throw new oe;for(var E=null,S=1;E===null&&S<y;S++)E=this.getBlackPointOnSegment(e,n+S,e+S,n);if(E==null)throw new oe;for(var C=null,S=1;C===null&&S<y;S++)C=this.getBlackPointOnSegment(r,n+S,r-S,n);if(C==null)throw new oe;for(var A=null,S=1;A===null&&S<y;S++)A=this.getBlackPointOnSegment(r,i-S,r-S,i);if(A==null)throw new oe;return this.centerEdges(A,w,C,E)}else throw new oe},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var a=_t.round(_t.distance(e,r,n,i)),o=(n-e)/a,s=(i-r)/a,l=this.image,u=0;u<a;u++){var d=_t.round(e+u*o),f=_t.round(r+u*s);if(l.get(d,f))return new Me(d,f)}return null},t.prototype.centerEdges=function(e,r,n,i){var a=e.getX(),o=e.getY(),s=r.getX(),l=r.getY(),u=n.getX(),d=n.getY(),f=i.getX(),h=i.getY(),p=t.CORR;return a<this.width/2?[new Me(f-p,h+p),new Me(s+p,l+p),new Me(u-p,d-p),new Me(a+p,o-p)]:[new Me(f+p,h+p),new Me(s+p,l-p),new Me(u-p,d+p),new Me(a-p,o-p)]},t.prototype.containsBlackPoint=function(e,r,n,i){var a=this.image;if(i){for(var o=e;o<=r;o++)if(a.get(o,n))return!0}else for(var s=e;s<=r;s++)if(a.get(n,s))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),WL=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<r.length&&a;o+=2){var s=Math.floor(r[o]),l=Math.floor(r[o+1]);if(s<-1||s>n||l<-1||l>i)throw new oe;a=!1,s===-1?(r[o]=0,a=!0):s===n&&(r[o]=n-1,a=!0),l===-1?(r[o+1]=0,a=!0):l===i&&(r[o+1]=i-1,a=!0)}a=!0;for(var o=r.length-2;o>=0&&a;o-=2){var s=Math.floor(r[o]),l=Math.floor(r[o+1]);if(s<-1||s>n||l<-1||l>i)throw new oe;a=!1,s===-1?(r[o]=0,a=!0):s===n&&(r[o]=n-1,a=!0),l===-1?(r[o+1]=0,a=!0):l===i&&(r[o+1]=i-1,a=!0)}},t}(),$J=function(){function t(e,r,n,i,a,o,s,l,u){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=a,this.a32=o,this.a13=s,this.a23=l,this.a33=u}return t.quadrilateralToQuadrilateral=function(e,r,n,i,a,o,s,l,u,d,f,h,p,m,g,v){var x=t.quadrilateralToSquare(e,r,n,i,a,o,s,l),y=t.squareToQuadrilateral(u,d,f,h,p,m,g,v);return y.times(x)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,l=this.a23,u=this.a31,d=this.a32,f=this.a33,h=0;h<r;h+=2){var p=e[h],m=e[h+1],g=a*p+l*m+f;e[h]=(n*p+o*m+u)/g,e[h+1]=(i*p+s*m+d)/g}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,l=this.a23,u=this.a31,d=this.a32,f=this.a33,h=e.length,p=0;p<h;p++){var m=e[p],g=r[p],v=a*m+l*g+f;e[p]=(n*m+o*g+u)/v,r[p]=(i*m+s*g+d)/v}},t.squareToQuadrilateral=function(e,r,n,i,a,o,s,l){var u=e-n+a-s,d=r-i+o-l;if(u===0&&d===0)return new t(n-e,a-n,e,i-r,o-i,r,0,0,1);var f=n-a,h=s-a,p=i-o,m=l-o,g=f*m-h*p,v=(u*m-h*d)/g,x=(f*d-u*p)/g;return new t(n-e+v*n,s-e+x*s,e,i-r+v*i,l-r+x*l,r,v,x,1)},t.quadrilateralToSquare=function(e,r,n,i,a,o,s,l){return t.squareToQuadrilateral(e,r,n,i,a,o,s,l).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),FUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),BUe=function(t){FUe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,a,o,s,l,u,d,f,h,p,m,g,v,x,y,w,S){var E=$J.quadrilateralToQuadrilateral(a,o,s,l,u,d,f,h,p,m,g,v,x,y,w,S);return this.sampleGridWithTransform(r,n,i,E)},e.prototype.sampleGridWithTransform=function(r,n,i,a){if(n<=0||i<=0)throw new oe;for(var o=new ls(n,i),s=new Float32Array(2*n),l=0;l<i;l++){for(var u=s.length,d=l+.5,f=0;f<u;f+=2)s[f]=f/2+.5,s[f+1]=d;a.transformPoints(s),WL.checkAndNudgePoints(r,s);try{for(var f=0;f<u;f+=2)r.get(Math.floor(s[f]),Math.floor(s[f+1]))&&o.set(f/2,l)}catch{throw new oe}}return o},e}(WL),h3=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new BUe,t}(),Ii=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new Me(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),UUe=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new $Ue(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new oe;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,a=0;a<4;a++){var o=n[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(a,o,s){var l=(a>>r-2<<1)+(a&1);n=(n<<3)+l}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(at.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new oe},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var a=n-i,o=new Int32Array(n),s=n-1;s>=0;--s)o[s]=e&15,e>>=4;try{var l=new T_(Di.AZTEC_PARAM);l.decode(o,a)}catch{throw new oe}for(var u=0,s=0;s<i;s++)u=(u<<4)+o[s];return u},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(r,o,1,-1),l=this.getFirstDifferent(n,o,1,1),u=this.getFirstDifferent(i,o,-1,1),d=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(d,s)*this.nbCenterLayers/(this.distancePoint(a,r)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(s,l,u,d))break}r=s,n=l,i=u,a=d,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new oe;this.compact=this.nbCenterLayers===5;var h=new Me(r.getX()+.5,r.getY()-.5),p=new Me(n.getX()+.5,n.getY()+.5),m=new Me(i.getX()-.5,i.getY()+.5),g=new Me(a.getX()-.5,a.getY()-.5);return this.expandSquare([h,p,m,g],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var a=new PN(this.image).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new Ii(o+7,s-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Ii(o+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Ii(o-7,s+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Ii(o-7,s-7),!1,-1,-1).toResultPoint()}var l=_t.round((e.getX()+i.getX()+r.getX()+n.getX())/4),u=_t.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var a=new PN(this.image,15,l,u).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{e=this.getFirstDifferent(new Ii(l+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Ii(l+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Ii(l-7,u+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Ii(l-7,u-7),!1,-1,-1).toResultPoint()}return l=_t.round((e.getX()+i.getX()+r.getX()+n.getX())/4),u=_t.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new Ii(l,u)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,a){var o=h3.getInstance(),s=this.getDimension(),l=s/2-this.nbCenterLayers,u=s/2+this.nbCenterLayers;return o.sampleGrid(e,s,s,l,l,u,l,u,u,l,u,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,a=this.distanceResultPoint(e,r),o=a/n,s=e.getX(),l=e.getY(),u=o*(r.getX()-e.getX())/a,d=o*(r.getY()-e.getY())/a,f=0;f<n;f++)this.image.get(_t.round(s+f*u),_t.round(l+f*d))&&(i|=1<<n-f-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var a=3;e=new Ii(e.getX()-a,e.getY()+a),r=new Ii(r.getX()-a,r.getY()-a),n=new Ii(n.getX()+a,n.getY()-a),i=new Ii(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var s=this.getColor(e,r);return s!==o||(s=this.getColor(r,n),s!==o)?!1:(s=this.getColor(n,i),s===o)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,a=(r.getY()-e.getY())/n,o=0,s=e.getX(),l=e.getY(),u=this.image.get(e.getX(),e.getY()),d=Math.ceil(n),f=0;f<d;f++)s+=i,l+=a,this.image.get(_t.round(s),_t.round(l))!==u&&o++;var h=o/n;return h>.1&&h<.9?0:h<=.1===u?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var a=e.getX()+n,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n,o+=i;for(a-=n,o-=i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n;for(a-=n;this.isValid(a,o)&&this.image.get(a,o)===r;)o+=i;return o-=i,new Ii(a,o)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,l=(e[0].getY()+e[2].getY())/2,u=new Me(s+i*a,l+i*o),d=new Me(s-i*a,l-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,l=(e[1].getY()+e[3].getY())/2;var f=new Me(s+i*a,l+i*o),h=new Me(s-i*a,l-i*o),p=[u,f,d,h];return p},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=_t.round(e.getX()),n=_t.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return _t.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return _t.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(at.truncDivision(this.nbLayers-4,8)+1)+15},t}(),ON=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new UUe(e.getBlackMatrix()),a=null,o=null;try{var s=i.detectMirror(!1);a=s.getPoints(),this.reportFoundResultPoints(r,a),o=new zL().decode(s)}catch(f){n=f}if(o==null)try{var s=i.detectMirror(!0);a=s.getPoints(),this.reportFoundResultPoints(r,a),o=new zL().decode(s)}catch(f){throw n??f}var l=new li(o.getText(),o.getRawBytes(),o.getNumBits(),a,ze.AZTEC,Qt.currentTimeMillis()),u=o.getByteSegments();u!=null&&l.putMetadata(jn.BYTE_SEGMENTS,u);var d=o.getECLevel();return d!=null&&l.putMetadata(jn.ERROR_CORRECTION_LEVEL,d),l},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(ur.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,a,o){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t}(),VUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){VUe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new ON,r)||this}return e})(xp);var on=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(ur.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,r),o=a.getResultMetadata(),s=270;o!==null&&o.get(jn.ORIENTATION)===!0&&(s=s+o.get(jn.ORIENTATION)%360),a.putMetadata(jn.ORIENTATION,s);var l=a.getResultPoints();if(l!==null)for(var u=i.getHeight(),d=0;d<l.length;d++)l[d]=new Me(u-l[d].getY()-1,l[d].getX());return a}else throw new oe}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),a=new wn(n),o=r&&r.get(ur.TRY_HARDER)===!0,s=Math.max(1,i>>(o?8:5)),l;o?l=i:l=15;for(var u=Math.trunc(i/2),d=0;d<l;d++){var f=Math.trunc((d+1)/2),h=(d&1)===0,p=u+s*(h?f:-f);if(p<0||p>=i)break;try{a=e.getBlackRow(p,a)}catch{continue}for(var m=function(y){if(y===1&&(a.reverse(),r&&r.get(ur.NEED_RESULT_POINT_CALLBACK)===!0)){var w=new Map;r.forEach(function(C,A){return w.set(A,C)}),w.delete(ur.NEED_RESULT_POINT_CALLBACK),r=w}try{var S=g.decodeRow(p,a,r);if(y===1){S.putMetadata(jn.ORIENTATION,180);var E=S.getResultPoints();E!==null&&(E[0]=new Me(n-E[0].getX()-1,E[0].getY()),E[1]=new Me(n-E[1].getX()-1,E[1].getY()))}return{value:S}}catch{}},g=this,v=0;v<2;v++){var x=m(v);if(typeof x=="object")return x.value}}throw new oe},t.recordPattern=function(e,r,n){for(var i=n.length,a=0;a<i;a++)n[a]=0;var o=e.getSize();if(r>=o)throw new oe;for(var s=!e.get(r),l=0,u=r;u<o;){if(e.get(u)!==s)n[l]++;else{if(++l===i)break;n[l]=1,s=!s}u++}if(!(l===i||l===i-1&&u===o))throw new oe},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,a=e.get(r);r>0&&i>=0;)e.get(--r)!==a&&(i--,a=!a);if(i>=0)throw new oe;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=r[s];if(a<o)return Number.POSITIVE_INFINITY;var l=a/o;n*=l;for(var u=0,d=0;d<i;d++){var f=e[d],h=r[d]*l,p=f>h?f-h:h-f;if(p>n)return Number.POSITIVE_INFINITY;u+=p}return u/a},t}(),zUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),HL=function(t){zUe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),s=i,l=!1,u=6,d=i;d<n;d++)if(r.get(d)!==l)o[a]++;else{if(a===u-1){for(var f=e.MAX_AVG_VARIANCE,h=-1,p=e.CODE_START_A;p<=e.CODE_START_C;p++){var m=on.patternMatchVariance(o,e.CODE_PATTERNS[p],e.MAX_INDIVIDUAL_VARIANCE);m<f&&(f=m,h=p)}if(h>=0&&r.isRange(Math.max(0,s-(d-s)/2),s,!1))return Int32Array.from([s,d,h]);s+=o[0]+o[1],o=o.slice(2,o.length),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,l=!l}throw new oe},e.decodeCode=function(r,n,i){on.recordPattern(r,i,n);for(var a=e.MAX_AVG_VARIANCE,o=-1,s=0;s<e.CODE_PATTERNS.length;s++){var l=e.CODE_PATTERNS[s],u=this.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);u<a&&(a=u,o=s)}if(o>=0)return o;throw new oe},e.prototype.decodeRow=function(r,n,i){var a=i&&i.get(ur.ASSUME_GS1)===!0,o=e.findStartPattern(n),s=o[2],l=0,u=new Uint8Array(20);u[l++]=s;var d;switch(s){case e.CODE_START_A:d=e.CODE_CODE_A;break;case e.CODE_START_B:d=e.CODE_CODE_B;break;case e.CODE_START_C:d=e.CODE_CODE_C;break;default:throw new Ce}for(var f=!1,h=!1,p="",m=o[0],g=o[1],v=Int32Array.from([0,0,0,0,0,0]),x=0,y=0,w=s,S=0,E=!0,C=!1,A=!1;!f;){var T=h;switch(h=!1,x=y,y=e.decodeCode(n,v,g),u[l++]=y,y!==e.CODE_STOP&&(E=!0),y!==e.CODE_STOP&&(S++,w+=S*y),m=g,g+=v.reduce(function(W,$){return W+$},0),y){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new Ce}switch(d){case e.CODE_CODE_A:if(y<64)A===C?p+=String.fromCharCode(32+y):p+=String.fromCharCode(32+y+128),A=!1;else if(y<96)A===C?p+=String.fromCharCode(y-64):p+=String.fromCharCode(y+64),A=!1;else switch(y!==e.CODE_STOP&&(E=!1),y){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!C&&A?(C=!0,A=!1):C&&A?(C=!1,A=!1):A=!0;break;case e.CODE_SHIFT:h=!0,d=e.CODE_CODE_B;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_B:if(y<96)A===C?p+=String.fromCharCode(32+y):p+=String.fromCharCode(32+y+128),A=!1;else switch(y!==e.CODE_STOP&&(E=!1),y){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!C&&A?(C=!0,A=!1):C&&A?(C=!1,A=!1):A=!0;break;case e.CODE_SHIFT:h=!0,d=e.CODE_CODE_A;break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_C:if(y<100)y<10&&(p+="0"),p+=y;else switch(y!==e.CODE_STOP&&(E=!1),y){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+="");break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_STOP:f=!0;break}break}T&&(d=d===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var N=g-m;if(g=n.getNextUnset(g),!n.isRange(g,Math.min(n.getSize(),g+(g-m)/2),!1))throw new oe;if(w-=S*x,w%103!==x)throw new xn;var I=p.length;if(I===0)throw new oe;I>0&&E&&(d===e.CODE_CODE_C?p=p.substring(0,I-2):p=p.substring(0,I-1));for(var j=(o[1]+o[0])/2,O=m+N/2,P=u.length,M=new Uint8Array(P),F=0;F<P;F++)M[F]=u[F];var B=[new Me(j,r),new Me(O,r)];return new li(p,M,0,B,ze.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(on),WUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},GL=function(t){WUe(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var a,o,s,l,u=this.counters;u.fill(0),this.decodeRowResult="";var d=e.findAsteriskPattern(n,u),f=n.getNextSet(d[1]),h=n.getSize(),p,m;do{e.recordPattern(n,f,u);var g=e.toNarrowWidePattern(u);if(g<0)throw new oe;p=e.patternToChar(g),this.decodeRowResult+=p,m=f;try{for(var v=(a=void 0,cA(u)),x=v.next();!x.done;x=v.next()){var y=x.value;f+=y}}catch(P){a={error:P}}finally{try{x&&!x.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}f=n.getNextSet(f)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var S=cA(u),E=S.next();!E.done;E=S.next()){var y=E.value;w+=y}}catch(P){s={error:P}}finally{try{E&&!E.done&&(l=S.return)&&l.call(S)}finally{if(s)throw s.error}}var C=f-m-w;if(f!==h&&C*2<w)throw new oe;if(this.usingCheckDigit){for(var A=this.decodeRowResult.length-1,T=0,N=0;N<A;N++)T+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(N));if(this.decodeRowResult.charAt(A)!==e.ALPHABET_STRING.charAt(T%43))throw new xn;this.decodeRowResult=this.decodeRowResult.substring(0,A)}if(this.decodeRowResult.length===0)throw new oe;var I;this.extendedMode?I=e.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;var j=(d[1]+d[0])/2,O=m+w/2;return new li(I,null,0,[new Me(j,r),new Me(O,r)],ze.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),a=r.getNextSet(0),o=0,s=a,l=!1,u=n.length,d=a;d<i;d++)if(r.get(d)!==l)n[o]++;else{if(o===u-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,s-Math.floor((d-s)/2)),s,!1))return[s,d];s+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,l=!l}throw new oe},e.toNarrowWidePattern=function(r){var n,i,a=r.length,o=0,s;do{var l=2147483647;try{for(var u=(n=void 0,cA(r)),d=u.next();!d.done;d=u.next()){var f=d.value;f<l&&f>o&&(l=f)}}catch(g){n={error:g}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}o=l,s=0;for(var h=0,p=0,m=0;m<a;m++){var f=r[m];f>o&&(p|=1<<a-1-m,s++,h+=f)}if(s===3){for(var m=0;m<a&&s>0;m++){var f=r[m];if(f>o&&(s--,f*2>=h))return-1}return p}}while(s>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new oe},e.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var s=r.charAt(a+1),l="\0";switch(o){case"+":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new Ce;break;case"$":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new Ce;break;case"%":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s==="X"||s==="Y"||s==="Z")l="";else throw new Ce;break;case"/":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new Ce;break}i+=l,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(on),HUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qL=function(t){HUe(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,i){var a,o,s,l,u=this.findAsteriskPattern(n),d=n.getNextSet(u[1]),f=n.getSize(),h=this.counters;h.fill(0),this.decodeRowResult="";var p,m;do{e.recordPattern(n,d,h);var g=this.toPattern(h);if(g<0)throw new oe;p=this.patternToChar(g),this.decodeRowResult+=p,m=d;try{for(var v=(a=void 0,uA(h)),x=v.next();!x.done;x=v.next()){var y=x.value;d+=y}}catch(N){a={error:N}}finally{try{x&&!x.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}d=n.getNextSet(d)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var w=0;try{for(var S=uA(h),E=S.next();!E.done;E=S.next()){var y=E.value;w+=y}}catch(N){s={error:N}}finally{try{E&&!E.done&&(l=S.return)&&l.call(S)}finally{if(s)throw s.error}}if(d===f||!n.get(d))throw new oe;if(this.decodeRowResult.length<2)throw new oe;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var C=this.decodeExtended(this.decodeRowResult),A=(u[1]+u[0])/2,T=m+w/2;return new li(C,null,0,[new Me(A,r),new Me(T,r)],ze.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),i=r.getNextSet(0);this.counters.fill(0);for(var a=this.counters,o=i,s=!1,l=a.length,u=0,d=i;d<n;d++)if(r.get(d)!==s)a[u]++;else{if(u===l-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([o,d]);o+=a[0]+a[1],a.copyWithin(0,2,2+u-1),a[u-1]=0,a[u]=0,u--}else u++;a[u]=1,s=!s}throw new oe},e.prototype.toPattern=function(r){var n,i,a=0;try{for(var o=uA(r),s=o.next();!s.done;s=o.next()){var l=s.value;a+=l}}catch(m){n={error:m}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}for(var u=0,d=r.length,f=0;f<d;f++){var h=Math.round(r[f]*9/a);if(h<1||h>4)return-1;if(f&1)u<<=h;else for(var p=0;p<h;p++)u=u<<1|1}return u},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new oe},e.prototype.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o>="a"&&o<="d"){if(a>=n-1)throw new Ce;var s=r.charAt(a+1),l="\0";switch(o){case"d":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new Ce;break;case"a":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new Ce;break;case"b":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s>="X"&&s<="Z")l="";else throw new Ce;break;case"c":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new Ce;break}i+=l,a++}else i+=o}return i},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,i){for(var a=1,o=0,s=n-1;s>=0;s--)o+=a*e.ALPHABET_STRING.indexOf(r.charAt(s)),++a>i&&(a=1);if(r.charAt(n)!==e.ALPHABET_STRING[o%47])throw new xn},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(on),GUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qUe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},KL=function(t){GUe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var a,o,s=this.decodeStart(n),l=this.decodeEnd(n),u=new rt;e.decodeMiddle(n,s[1],l[0],u);var d=u.toString(),f=null;i!=null&&(f=i.get(ur.ALLOWED_LENGTHS)),f==null&&(f=e.DEFAULT_ALLOWED_LENGTHS);var h=d.length,p=!1,m=0;try{for(var g=qUe(f),v=g.next();!v.done;v=g.next()){var x=v.value;if(h===x){p=!0;break}x>m&&(m=x)}}catch(S){a={error:S}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}if(!p&&h>m&&(p=!0),!p)throw new Ce;var y=[new Me(s[1],r),new Me(l[0],r)],w=new li(d,null,0,y,ze.ITF,new Date().getTime());return w},e.decodeMiddle=function(r,n,i,a){var o=new Int32Array(10),s=new Int32Array(5),l=new Int32Array(5);for(o.fill(0),s.fill(0),l.fill(0);n<i;){on.recordPattern(r,n,o);for(var u=0;u<5;u++){var d=2*u;s[u]=o[d],l[u]=o[d+1]}var f=e.decodeDigit(s);a.append(f.toString()),f=this.decodeDigit(l),a.append(f.toString()),o.forEach(function(h){n+=h})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var a=n-1;i>0&&a>=0&&!r.get(a);a--)i--;if(i!==0)throw new oe},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new oe;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof oe&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var a=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-a,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var a=i.length,o=new Int32Array(a),s=r.getSize(),l=!1,u=0,d=n;o.fill(0);for(var f=n;f<s;f++)if(r.get(f)!==l)o[u]++;else{if(u===a-1){if(on.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[d,f];d+=o[0]+o[1],Qt.arraycopy(o,2,o,0,u-1),o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,l=!l}throw new oe},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var s=e.PATTERNS[o],l=on.patternMatchVariance(r,s,e.MAX_INDIVIDUAL_VARIANCE);l<n?(n=l,i=o):l===n&&(i=-1)}if(i>=0)return i%10;throw new oe},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(on),KUe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vh=function(t){KUe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,a=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,a,!1,this.START_END_PATTERN,o);var s=i[0];a=i[1];var l=s-(a-s);l>=0&&(n=r.isRange(l,s,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new Ce;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new Ce;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,a){return this.findGuardPattern(r,n,i,a,new Int32Array(a.length))},e.findGuardPattern=function(r,n,i,a,o){var s=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var l=0,u=n,d=a.length,f=i,h=n;h<s;h++)if(r.get(h)!==f)o[l]++;else{if(l===d-1){if(on.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([u,h]);u+=o[0]+o[1];for(var p=o.slice(2,o.length),m=0;m<l-1;m++)o[m]=p[m];o[l-1]=0,o[l]=0,l--}else l++;o[l]=1,f=!f}throw new oe},e.decodeDigit=function(r,n,i,a){this.recordPattern(r,i,n);for(var o=this.MAX_AVG_VARIANCE,s=-1,l=a.length,u=0;u<l;u++){var d=a[u],f=on.patternMatchVariance(n,d,e.MAX_INDIVIDUAL_VARIANCE);f<o&&(o=f,s=u)}if(s>=0)return s;throw new oe},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(on),YUe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},XUe=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),s=t.parseExtensionString(o),l=[new Me((n[0]+n[1])/2,e),new Me(a,e)],u=new li(o,null,0,l,ze.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&u.putAllMetadata(s),u},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),l=r[1],u=0,d=0;d<5&&l<s;d++){var f=vh.decodeDigit(e,o,l,vh.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var h=(i=void 0,YUe(o)),p=h.next();!p.done;p=h.next()){var m=p.value;l+=m}}catch(v){i={error:v}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}f>=10&&(u|=1<<4-d),d!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==5)throw new oe;var g=this.determineCheckDigit(u);if(t.extensionChecksum(n.toString())!==g)throw new oe;return l},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new oe},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[jn.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),a=n%100,o=a<10?"0"+a:a.toString();return r+i+"."+o},t}(),QUe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZUe=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),s=t.parseExtensionString(o),l=[new Me((n[0]+n[1])/2,e),new Me(a,e)],u=new li(o,null,0,l,ze.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&u.putAllMetadata(s),u},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),l=r[1],u=0,d=0;d<2&&l<s;d++){var f=vh.decodeDigit(e,o,l,vh.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var h=(i=void 0,QUe(o)),p=h.next();!p.done;p=h.next()){var m=p.value;l+=m}}catch(g){i={error:g}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}f>=10&&(u|=1<<1-d),d!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==2)throw new oe;if(parseInt(n.toString())%4!==u)throw new oe;return l},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[jn.ISSUE_NUMBER,parseInt(e)]])},t}(),JUe=function(){function t(){}return t.decodeRow=function(e,r,n){var i=vh.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new XUe;return a.decodeRow(e,r,i)}catch{var o=new ZUe;return o.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),eVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),en=function(t){eVe(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[n]=a}return r}return e.prototype.decodeRow=function(r,n,i){var a=e.findStartGuardPattern(n),o=i==null?null:i.get(ur.NEED_RESULT_POINT_CALLBACK);if(o!=null){var s=new Me((a[0]+a[1])/2,r);o.foundPossibleResultPoint(s)}var l=this.decodeMiddle(n,a,this.decodeRowStringBuffer),u=l.rowOffset,d=l.resultString;if(o!=null){var f=new Me(u,r);o.foundPossibleResultPoint(f)}var h=e.decodeEnd(n,u);if(o!=null){var p=new Me((h[0]+h[1])/2,r);o.foundPossibleResultPoint(p)}var m=h[1],g=m+(m-h[0]);if(g>=n.getSize()||!n.isRange(m,g,!1))throw new oe;var v=d.toString();if(v.length<8)throw new Ce;if(!e.checkChecksum(v))throw new xn;var x=(a[1]+a[0])/2,y=(h[1]+h[0])/2,w=this.getBarcodeFormat(),S=[new Me(x,r),new Me(y,r)],E=new li(v,null,0,S,w,new Date().getTime()),C=0;try{var A=JUe.decodeRow(r,n,h[1]);E.putMetadata(jn.UPC_EAN_EXTENSION,A.getText()),E.putAllMetadata(A.getResultMetadata()),E.addResultPoints(A.getResultPoints()),C=A.getText().length}catch{}var T=i==null?null:i.get(ur.ALLOWED_EAN_EXTENSIONS);if(T!=null){var N=!1;for(var I in T)if(C.toString()===I){N=!0;break}if(!N)throw new oe}return w===ze.EAN_13||ze.UPC_A,E},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new Ce;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new Ce;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(vh),tVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),YL=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jN=function(t){tVe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s,l,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),f=n[1],h=0,p=0;p<6&&f<d;p++){var m=en.decodeDigit(r,u,f,en.L_AND_G_PATTERNS);i+=String.fromCharCode(48+m%10);try{for(var g=(a=void 0,YL(u)),v=g.next();!v.done;v=g.next()){var x=v.value;f+=x}}catch(E){a={error:E}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}m>=10&&(h|=1<<5-p)}i=e.determineFirstDigit(i,h);var y=en.findGuardPattern(r,f,!0,en.MIDDLE_PATTERN,new Int32Array(en.MIDDLE_PATTERN.length).fill(0));f=y[1];for(var p=0;p<6&&f<d;p++){var m=en.decodeDigit(r,u,f,en.L_PATTERNS);i+=String.fromCharCode(48+m);try{for(var w=(s=void 0,YL(u)),S=w.next();!S.done;S=w.next()){var x=S.value;f+=x}}catch(A){s={error:A}}finally{try{S&&!S.done&&(l=w.return)&&l.call(w)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return ze.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode(48+i)+r,r;throw new oe},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(en),rVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),XL=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},QL=function(t){rVe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s,l,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var d=r.getSize(),f=n[1],h=0;h<4&&f<d;h++){var p=en.decodeDigit(r,u,f,en.L_PATTERNS);i+=String.fromCharCode(48+p);try{for(var m=(a=void 0,XL(u)),g=m.next();!g.done;g=m.next()){var v=g.value;f+=v}}catch(S){a={error:S}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}}var x=en.findGuardPattern(r,f,!0,en.MIDDLE_PATTERN,new Int32Array(en.MIDDLE_PATTERN.length).fill(0));f=x[1];for(var h=0;h<4&&f<d;h++){var p=en.decodeDigit(r,u,f,en.L_PATTERNS);i+=String.fromCharCode(48+p);try{for(var y=(s=void 0,XL(u)),w=y.next();!w.done;w=y.next()){var v=w.value;f+=v}}catch(C){s={error:C}}finally{try{w&&!w.done&&(l=y.return)&&l.call(y)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return ze.EAN_8},e}(en),nVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ZL=function(t){nVe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new jN,r}return e.prototype.getBarcodeFormat=function(){return ze.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new li(n.substring(1),null,null,r.getResultPoints(),ze.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new oe},e.prototype.reset=function(){this.ean13Reader.reset()},e}(en),iVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),aVe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},JL=function(t){iVe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s=this.decodeMiddleCounters.map(function(v){return v});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var l=r.getSize(),u=n[1],d=0,f=0;f<6&&u<l;f++){var h=e.decodeDigit(r,s,u,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+h%10);try{for(var p=(a=void 0,aVe(s)),m=p.next();!m.done;m=p.next()){var g=m.value;u+=g}}catch(v){a={error:v}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}h>=10&&(d|=1<<5-f)}return e.determineNumSysAndCheckDigit(new rt(i),d),u},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return en.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){r.insert(0,"0"+i),r.append("0"+a);return}throw oe.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return ze.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new rt;i.append(r.charAt(0));var a=n[5];switch(a){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(a),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(a);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(en),oVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),e$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dA=function(t){oVe(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(ur.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(ze.EAN_13)>-1&&a.push(new jN),i.indexOf(ze.UPC_A)>-1&&a.push(new ZL),i.indexOf(ze.EAN_8)>-1&&a.push(new QL),i.indexOf(ze.UPC_E)>-1&&a.push(new JL)),a.length===0&&(a.push(new jN),a.push(new ZL),a.push(new QL),a.push(new JL)),n.readers=a,n}return e.prototype.decodeRow=function(r,n,i){var a,o;try{for(var s=e$(this.readers),l=s.next();!l.done;l=s.next()){var u=l.value;try{var d=u.decodeRow(r,n,i),f=d.getBarcodeFormat()===ze.EAN_13&&d.getText().charAt(0)==="0",h=i==null?null:i.get(ur.POSSIBLE_FORMATS),p=h==null||h.includes(ze.UPC_A);if(f&&p){var m=d.getRawBytes(),g=new li(d.getText().substring(1),m,m?m.length:null,d.getResultPoints(),ze.UPC_A);return g.putAllMetadata(d.getResultMetadata()),g}return d}catch{}}}catch(v){a={error:v}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(a)throw a.error}}throw new oe},e.prototype.reset=function(){var r,n;try{for(var i=e$(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e}(on),sVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lVe=function(t){sVe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,i){var a=this.getValidRowData(n);if(!a)throw new oe;var o=this.codaBarDecodeRow(a.row);if(!o)throw new oe;return new li(o,null,0,[new Me(a.left,r),new Me(a.right,r)],ze.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),i=n.indexOf(!0);if(i===-1)return null;var a=n.lastIndexOf(!0);if(a<=i)return null;n=n.slice(i,a+1);for(var o=[],s=n[0],l=1,u=1;u<n.length;u++)n[u]===s?l++:(s=n[u],o.push(l),l=1);return o.push(l),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:i,right:a}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],i=Math.ceil(r.reduce(function(l,u){return(l+u)/2},0));r.length>0;){var a=r.splice(0,8).splice(0,7),o=a.map(function(l){return l<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[o])}var s=n.join("");return this.validCodaBarString(s)?s:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e}(on),cVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uVe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hu=function(t){cVe(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(on.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new oe},e.count=function(r){return _t.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]>a&&(a=n[o],i=o);r[i]++},e.decrement=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]<a&&(a=n[o],i=o);r[i]--},e.isFinderPattern=function(r){var n,i,a=r[0]+r[1],o=a+r[2]+r[3],s=a/o;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var l=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;try{for(var d=uVe(r),f=d.next();!f.done;f=d.next()){var h=f.value;h>u&&(u=h),h<l&&(l=h)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}return u<10*l}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(on),kw=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),FJ=function(){function t(e,r,n,i,a){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Me(n,a)),this.resultPoints.push(new Me(i,a))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),dVe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pf=function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,a,o=0;try{for(var s=dVe(e),l=s.next();!l.done;l=s.next()){var u=l.value;o+=u}}catch(y){i={error:y}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}for(var d=0,f=0,h=e.length,p=0;p<h-1;p++){var m=void 0;for(m=1,f|=1<<p;m<e[p];m++,f&=~(1<<p)){var g=t.combins(o-m-1,h-p-2);if(n&&f===0&&o-m-(h-p-1)>=h-p-1&&(g-=t.combins(o-m-(h-p),h-p-2)),h-p-1>1){for(var v=0,x=o-m-(h-p-2);x>r;x--)v+=t.combins(o-m-x-1,h-p-3);g-=v*(h-1-p)}else o-m>r&&g--;d+=g}o-=m}return d},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var a=1,o=1,s=e;s>n;s--)a*=s,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},t}(),fVe=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new wn(n),a=0,o=e[0],s=o.getRightChar().getValue(),l=11;l>=0;--l)s&1<<l&&i.set(a),a++;for(var l=1;l<e.length;++l){for(var u=e[l],d=u.getLeftChar().getValue(),f=11;f>=0;--f)d&1<<f&&i.set(a),a++;if(u.getRightChar()!==null)for(var h=u.getRightChar().getValue(),f=11;f>=0;--f)h&1<<f&&i.set(a),a++}return i},t}(),ru=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),p3=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),hVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Za=function(t){hVe(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(p3),pVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),nu=function(t){pVe(e,t);function e(r,n,i){var a=t.call(this,r)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(p3),mVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fd=function(t){mVe(e,t);function e(r,n,i){var a=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new Ce;return a.firstDigit=n,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(p3),t1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gVe=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,a,o,s,l,u;if(!e)return null;if(e.length<2)throw new oe;var d=e.substring(0,2);try{for(var f=t1(t.TWO_DIGIT_DATA_LENGTH),h=f.next();!h.done;h=f.next()){var p=h.value;if(p[0]===d)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,p[2],e):t.processFixedAI(2,p[1],e)}}catch(C){r={error:C}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(e.length<3)throw new oe;var m=e.substring(0,3);try{for(var g=t1(t.THREE_DIGIT_DATA_LENGTH),v=g.next();!v.done;v=g.next()){var p=v.value;if(p[0]===m)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,p[2],e):t.processFixedAI(3,p[1],e)}}catch(C){i={error:C}}finally{try{v&&!v.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}try{for(var x=t1(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),y=x.next();!y.done;y=x.next()){var p=y.value;if(p[0]===m)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(C){o={error:C}}finally{try{y&&!y.done&&(s=x.return)&&s.call(x)}finally{if(o)throw o.error}}if(e.length<4)throw new oe;var w=e.substring(0,4);try{for(var S=t1(t.FOUR_DIGIT_DATA_LENGTH),E=S.next();!E.done;E=S.next()){var p=E.value;if(p[0]===w)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(C){l={error:C}}finally{try{E&&!E.done&&(u=S.return)&&u.call(S)}finally{if(l)throw l.error}}throw new oe},t.processFixedAI=function(e,r,n){if(n.length<e)throw new oe;var i=n.substring(0,e);if(n.length<e+r)throw new oe;var a=n.substring(e,e+r),o=n.substring(e+r),s="("+i+")"+a,l=t.parseFieldsInGeneralPurpose(o);return l==null?s:s+l},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),a;n.length<e+r?a=n.length:a=e+r;var o=n.substring(e,a),s=n.substring(a),l="("+i+")"+o,u=t.parseFieldsInGeneralPurpose(s);return u==null?l:l+u},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),rx=function(){function t(e){this.buffer=new rt,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var a=this.decodeGeneralPurposeField(n,i),o=gVe.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,n===a.getNewPosition())break;n=a.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new Fd(this.information.getSize(),Fd.FNC1,Fd.FNC1):new Fd(this.information.getSize(),r-1,Fd.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,a=(n-8)%11;return new Fd(e+7,i,a)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,a=0;a<n;++a)e.get(r+a)&&(i|=1<<n-a-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new nu(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new nu(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new nu(this.current.getPosition(),this.buffer.toString()):r=new nu(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new ru(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new nu(this.current.getPosition(),this.buffer.toString());return new ru(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ru(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new nu(this.current.getPosition(),this.buffer.toString());return new ru(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ru(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new nu(this.current.getPosition(),this.buffer.toString());return new ru(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ru(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Za(e+5,Za.FNC1);if(r>=5&&r<15)return new Za(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Za(e+7,""+(n+1));if(n>=90&&n<116)return new Za(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new Ce}return new Za(e+8,a)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Za(e+5,Za.FNC1);if(r>=5&&r<15)return new Za(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Za(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new V0("Decoding invalid alphanumeric value: "+n)}return new Za(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),BJ=function(){function t(e){this.information=e,this.generalDecoder=new rx(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),vVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lo=function(t){vVe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);o/100===0&&r.append("0"),o/10===0&&r.append("0"),r.append(o)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,a=0;a<13;a++){var o=r.charAt(a+n).charCodeAt(0)-48;i+=a&1?o:3*o}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e}(BJ),yVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xVe=function(t){yVe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new rt;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(lo),wVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bVe=function(t){wVe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new rt;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(BJ),_Ve=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),nx=function(t){_Ve(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,a);for(var o=this.checkWeight(a),s=1e5,l=0;l<5;++l)o/s===0&&r.append("0"),s/=10;r.append(o)},e}(lo),SVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),UJ=function(t){SVe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+nx.GTIN_SIZE+e.WEIGHT_SIZE)throw new oe;var r=new rt;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+nx.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(nx),EVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),AVe=function(t){EVe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(UJ),CVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),TVe=function(t){CVe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(UJ),NVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),IVe=function(t){NVe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+lo.GTIN_SIZE)throw new oe;var r=new rt;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+lo.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+lo.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(lo),PVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),OVe=function(t){PVe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+lo.GTIN_SIZE)throw new oe;var r=new rt;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+lo.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+lo.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&r.append("0"),i/10===0&&r.append("0"),r.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+lo.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(lo),jVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),El=function(t){jVe(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.dateCode=i,a.firstAIdigits=n,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new oe;var r=new rt;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){r.append("("),r.append(this.dateCode),r.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var s=i;s/10===0&&r.append("0"),r.append(s),o/10===0&&r.append("0"),r.append(o),a/10===0&&r.append("0"),r.append(a)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(nx);function kVe(t){try{if(t.get(1))return new xVe(t);if(!t.get(2))return new bVe(t);var e=rx.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new AVe(t);case 5:return new TVe(t)}var r=rx.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new IVe(t);case 13:return new OVe(t)}var n=rx.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new El(t,"310","11");case 57:return new El(t,"320","11");case 58:return new El(t,"310","13");case 59:return new El(t,"320","13");case 60:return new El(t,"310","15");case 61:return new El(t,"320","15");case 62:return new El(t,"310","17");case 63:return new El(t,"320","17")}}catch(i){throw console.log(i),new V0("unknown decoder: "+t)}}var t$=function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),RVe=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,a){r.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),DVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Al=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},MVe=function(t){DVe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(s){if(s instanceof oe){if(!this.pairs.length)throw new oe;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(r,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new oe},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,a,o=n;o<this.rows.length;o++){var s=this.rows[o];this.pairs.length=0;try{for(var l=(i=void 0,Al(r)),u=l.next();!u.done;u=l.next()){var d=u.value;this.pairs.push(d.getPairs())}}catch(h){i={error:h}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(r);f.push(s);try{return this.checkRows(f,o+1)}catch(h){console.log(h)}}}throw new oe},e.isValidSequence=function(r){var n,i;try{for(var a=Al(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var s=o.value;if(!(r.length>s.length)){for(var l=!0,u=0;u<r.length;u++)if(r[u].getFinderPattern().getValue()!==s[u]){l=!1;break}if(l)return!0}}}catch(d){n={error:d}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,a=!1,o=!1;i<this.rows.length;){var s=this.rows[i];if(s.getRowNumber()>r){o=s.isEquivalent(this.pairs);break}a=s.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new RVe(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,a,o,s,l,u;try{for(var d=Al(n),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.getPairs().length!==r.length){var p=!0;try{for(var m=(o=void 0,Al(h.getPairs())),g=m.next();!g.done;g=m.next()){var v=g.value,x=!1;try{for(var y=(l=void 0,Al(r)),w=y.next();!w.done;w=y.next()){var S=w.value;if(t$.equals(v,S)){x=!0;break}}}catch(E){l={error:E}}finally{try{w&&!w.done&&(u=y.return)&&u.call(y)}finally{if(l)throw l.error}}x||(p=!1)}}catch(E){o={error:E}}finally{try{g&&!g.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}}}}catch(E){i={error:E}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,a,o,s,l,u;try{for(var d=Al(n),f=d.next();!f.done;f=d.next()){var h=f.value,p=!0;try{for(var m=(o=void 0,Al(r)),g=m.next();!g.done;g=m.next()){var v=g.value,x=!1;try{for(var y=(l=void 0,Al(h.getPairs())),w=y.next();!w.done;w=y.next()){var S=w.value;if(v.equals(S)){x=!0;break}}}catch(E){l={error:E}}finally{try{w&&!w.done&&(u=y.return)&&u.call(y)}finally{if(l)throw l.error}}if(!x){p=!1;break}}}catch(E){o={error:E}}finally{try{g&&!g.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}if(p)return!0}}catch(E){i={error:E}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=fVe.buildBitArray(r),i=kVe(n),a=i.parseInformation(),o=r[0].getFinderPattern().getResultPoints(),s=r[r.length-1].getFinderPattern().getResultPoints(),l=[o[0],o[1],s[0],s[1]];return new li(a,null,null,l,ze.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),o=2,s=1;s<this.pairs.size();++s){var l=this.pairs.get(s);a+=l.getLeftChar().getChecksumPortion(),o++;var u=l.getRightChar();u!=null&&(a+=u.getChecksumPortion(),o++)}a%=211;var d=211*(o-4)+a;return d===n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var a=n.length%2===0;this.startFromEven&&(a=!a);var o,s=!0,l=-1;do this.findNextPair(r,n,l),o=this.parseFoundFinderPattern(r,i,a),o===null?l=e.getNextSecondBar(r,this.startEnd[0]):s=!1;while(s);var u=this.decodeDataCharacter(r,o,a,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new oe;var d;try{d=this.decodeDataCharacter(r,o,a,!1)}catch(f){d=null,console.log(f)}return new t$(u,d,o,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=r.getSize(),s;if(i>=0)s=i;else if(this.isEmptyPair(n))s=0;else{var l=n[n.length-1];s=l.getFinderPattern().getStartEnd()[1]}var u=n.length%2!==0;this.startFromEven&&(u=!u);for(var d=!1;s<o&&(d=!r.get(s),!!d);)s++;for(var f=0,h=s,p=s;p<o;p++)if(r.get(p)!==d)a[f]++;else{if(f===3){if(u&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=h,this.startEnd[1]=p;return}u&&e.reverseCounters(a),h+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,f--}else f++;a[f]=1,d=!d}throw new oe},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var a=r[i];r[i]=r[n-i-1],r[n-i-1]=a}},e.prototype.parseFoundFinderPattern=function(r,n,i){var a,o,s;if(i){for(var l=this.startEnd[0]-1;l>=0&&!r.get(l);)l--;l++,a=this.startEnd[0]-l,o=l,s=this.startEnd[1]}else o=this.startEnd[0],s=r.getNextUnset(this.startEnd[1]+1),a=s-this.startEnd[1];var u=this.getDecodeFinderCounters();Qt.arraycopy(u,0,u,1,u.length-1),u[0]=a;var d;try{d=this.parseFinderValue(u,e.FINDER_PATTERNS)}catch{return null}return new FJ(d,[o,s],o,s,n)},e.prototype.decodeDataCharacter=function(r,n,i,a){for(var o=this.getDataCharacterCounters(),s=0;s<o.length;s++)o[s]=0;if(a)e.recordPatternInReverse(r,n.getStartEnd()[0],o);else{e.recordPattern(r,n.getStartEnd()[1],o);for(var l=0,u=o.length-1;l<u;l++,u--){var d=o[l];o[l]=o[u],o[u]=d}}var f=17,h=_t.sum(new Int32Array(o))/f,p=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(h-p)/p>.3)throw new oe;for(var m=this.getOddCounts(),g=this.getEvenCounts(),v=this.getOddRoundingErrors(),x=this.getEvenRoundingErrors(),l=0;l<o.length;l++){var y=1*o[l]/h,w=y+.5;if(w<1){if(y<.3)throw new oe;w=1}else if(w>8){if(y>8.7)throw new oe;w=8}var S=l/2;l&1?(g[S]=w,x[S]=y-w):(m[S]=w,v[S]=y-w)}this.adjustOddEvenCounts(f);for(var E=4*n.getValue()+(i?0:2)+(a?0:1)-1,C=0,A=0,l=m.length-1;l>=0;l--){if(e.isNotA1left(n,i,a)){var T=e.WEIGHTS[E][2*l];A+=m[l]*T}C+=m[l]}for(var N=0,l=g.length-1;l>=0;l--)if(e.isNotA1left(n,i,a)){var T=e.WEIGHTS[E][2*l+1];N+=g[l]*T}var I=A+N;if(C&1||C>13||C<4)throw new oe;var j=(13-C)/2,O=e.SYMBOL_WIDEST[j],P=9-O,M=pf.getRSSvalue(m,O,!0),F=pf.getRSSvalue(g,P,!1),B=e.EVEN_TOTAL_SUBSET[j],W=e.GSUM[j],$=M*B+F+W;return new kw($,I)},e.isNotA1left=function(r,n,i){return!(r.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=_t.sum(new Int32Array(this.getOddCounts())),i=_t.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;n>13?o=!0:n<4&&(a=!0);var s=!1,l=!1;i>13?l=!0:i<4&&(s=!0);var u=n+i-r,d=(n&1)===1,f=(i&1)===0;if(u===1)if(d){if(f)throw new oe;o=!0}else{if(!f)throw new oe;l=!0}else if(u===-1)if(d){if(f)throw new oe;a=!0}else{if(!f)throw new oe;s=!0}else if(u===0){if(d){if(!f)throw new oe;n<i?(a=!0,l=!0):(o=!0,s=!0)}else if(f)throw new oe}else throw new oe;if(a){if(o)throw new oe;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(l)throw new oe;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(hu),LVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$Ve=function(t){LVe(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(kw),FVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r$=function(t){FVe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var a,o,s,l,u=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,u),n.reverse();var d=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,d),n.reverse();try{for(var f=fA(this.possibleLeftPairs),h=f.next();!h.done;h=f.next()){var p=h.value;if(p.getCount()>1)try{for(var m=(s=void 0,fA(this.possibleRightPairs)),g=m.next();!g.done;g=m.next()){var v=g.value;if(v.getCount()>1&&e.checkChecksum(p,v))return e.constructResult(p,v)}}catch(x){s={error:x}}finally{try{g&&!g.done&&(l=m.return)&&l.call(m)}finally{if(s)throw s.error}}}}catch(x){a={error:x}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(a)throw a.error}}throw new oe},e.addOrTally=function(r,n){var i,a;if(n!=null){var o=!1;try{for(var s=fA(r),l=s.next();!l.done;l=s.next()){var u=l.value;if(u.getValue()===n.getValue()){u.incrementCount(),o=!0;break}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}o||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),a=new String(i).toString(),o=new rt,s=13-a.length;s>0;s--)o.append("0");o.append(a);for(var l=0,s=0;s<13;s++){var u=o.charAt(s).charCodeAt(0)-48;l+=s&1?u:3*u}l=10-l%10,l===10&&(l=0),o.append(l.toString());var d=r.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new li(o.toString(),null,0,[d[0],d[1],f[0],f[1]],ze.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,a=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(r,n,i,a){try{var o=this.findFinderPattern(r,n),s=this.parseFoundFinderPattern(r,i,n,o),l=a==null?null:a.get(ur.NEED_RESULT_POINT_CALLBACK);if(l!=null){var u=(o[0]+o[1])/2;n&&(u=r.getSize()-1-u),l.foundPossibleResultPoint(new Me(u,i))}var d=this.decodeDataCharacter(r,s,!0),f=this.decodeDataCharacter(r,s,!1);return new $Ve(1597*d.getValue()+f.getValue(),d.getChecksumPortion()+4*f.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)on.recordPatternInReverse(r,n.getStartEnd()[0],a);else{on.recordPattern(r,n.getStartEnd()[1]+1,a);for(var s=0,l=a.length-1;s<l;s++,l--){var u=a[s];a[s]=a[l],a[l]=u}}for(var d=i?16:15,f=_t.sum(new Int32Array(a))/d,h=this.getOddCounts(),p=this.getEvenCounts(),m=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors(),s=0;s<a.length;s++){var v=a[s]/f,x=Math.floor(v+.5);x<1?x=1:x>8&&(x=8);var y=Math.floor(s/2);s&1?(p[y]=x,g[y]=v-x):(h[y]=x,m[y]=v-x)}this.adjustOddEvenCounts(i,d);for(var w=0,S=0,s=h.length-1;s>=0;s--)S*=9,S+=h[s],w+=h[s];for(var E=0,C=0,s=p.length-1;s>=0;s--)E*=9,E+=p[s],C+=p[s];var A=S+3*E;if(i){if(w&1||w>12||w<4)throw new oe;var T=(12-w)/2,N=e.OUTSIDE_ODD_WIDEST[T],I=9-N,j=pf.getRSSvalue(h,N,!1),O=pf.getRSSvalue(p,I,!0),P=e.OUTSIDE_EVEN_TOTAL_SUBSET[T],M=e.OUTSIDE_GSUM[T];return new kw(j*P+O+M,A)}else{if(C&1||C>10||C<4)throw new oe;var T=(10-C)/2,N=e.INSIDE_ODD_WIDEST[T],I=9-N,j=pf.getRSSvalue(h,N,!0),O=pf.getRSSvalue(p,I,!1),F=e.INSIDE_ODD_TOTAL_SUBSET[T],M=e.INSIDE_GSUM[T];return new kw(O*F+j+M,A)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=r.getSize(),o=!1,s=0;s<a&&(o=!r.get(s),n!==o);)s++;for(var l=0,u=s,d=s;d<a;d++)if(r.get(d)!==o)i[l]++;else{if(l===3){if(hu.isFinderPattern(i))return[u,d];u+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,l--}else l++;i[l]=1,o=!o}throw new oe},e.prototype.parseFoundFinderPattern=function(r,n,i,a){for(var o=r.get(a[0]),s=a[0]-1;s>=0&&o!==r.get(s);)s--;s++;var l=a[0]-s,u=this.getDecodeFinderCounters(),d=new Int32Array(u.length);Qt.arraycopy(u,0,d,1,u.length-1),d[0]=l;var f=this.parseFinderValue(d,e.FINDER_PATTERNS),h=s,p=a[1];return i&&(h=r.getSize()-1-h,p=r.getSize()-1-p),new FJ(f,[s,a[1]],h,p,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=_t.sum(new Int32Array(this.getOddCounts())),a=_t.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1,l=!1,u=!1;r?(i>12?s=!0:i<4&&(o=!0),a>12?u=!0:a<4&&(l=!0)):(i>11?s=!0:i<5&&(o=!0),a>10?u=!0:a<4&&(l=!0));var d=i+a-n,f=(i&1)===(r?1:0),h=(a&1)===1;if(d===1)if(f){if(h)throw new oe;s=!0}else{if(!h)throw new oe;u=!0}else if(d===-1)if(f){if(h)throw new oe;o=!0}else{if(!h)throw new oe;l=!0}else if(d===0){if(f){if(!h)throw new oe;i<a?(o=!0,u=!0):(s=!0,l=!0)}else if(h)throw new oe}else throw new oe;if(o){if(s)throw new oe;hu.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&hu.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(u)throw new oe;hu.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&hu.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(hu),BVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),km=function(t){BVe(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(ur.POSSIBLE_FORMATS):null,a=r&&r.get(ur.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=r&&r.get(ur.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(ze.EAN_13)||i.includes(ze.UPC_A)||i.includes(ze.EAN_8)||i.includes(ze.UPC_E))&&n.readers.push(new dA(r)),i.includes(ze.CODE_39)&&n.readers.push(new GL(a,o)),i.includes(ze.CODE_93)&&n.readers.push(new qL),i.includes(ze.CODE_128)&&n.readers.push(new HL),i.includes(ze.ITF)&&n.readers.push(new KL),i.includes(ze.CODABAR)&&n.readers.push(new lVe),i.includes(ze.RSS_14)&&n.readers.push(new r$),i.includes(ze.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new MVe))),n.readers.length===0&&(n.readers.push(new dA(r)),n.readers.push(new GL),n.readers.push(new qL),n.readers.push(new dA(r)),n.readers.push(new HL),n.readers.push(new KL),n.readers.push(new r$)),n}return e.prototype.decodeRow=function(r,n,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(r,n,i)}catch{}throw new oe},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(on),UVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){UVe(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new km(n),r,n)||this}return e})(xp);var n$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ct=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),Et=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),VVe=function(){function t(e,r,n,i,a,o){var s,l;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var u=0,d=o.getECCodewords(),f=o.getECBlocks();try{for(var h=n$(f),p=h.next();!p.done;p=h.next()){var m=p.value;u+=m.getCount()*(m.getDataCodewords()+d)}}catch(g){s={error:g}}finally{try{p&&!p.done&&(l=h.return)&&l.call(h)}finally{if(s)throw s.error}}this.totalCodewords=u}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if(e&1||r&1)throw new Ce;try{for(var a=n$(t.VERSIONS),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===r)return s}}catch(l){n={error:l}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}throw new Ce},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new Ct(5,new Et(1,3))),new t(2,12,12,10,10,new Ct(7,new Et(1,5))),new t(3,14,14,12,12,new Ct(10,new Et(1,8))),new t(4,16,16,14,14,new Ct(12,new Et(1,12))),new t(5,18,18,16,16,new Ct(14,new Et(1,18))),new t(6,20,20,18,18,new Ct(18,new Et(1,22))),new t(7,22,22,20,20,new Ct(20,new Et(1,30))),new t(8,24,24,22,22,new Ct(24,new Et(1,36))),new t(9,26,26,24,24,new Ct(28,new Et(1,44))),new t(10,32,32,14,14,new Ct(36,new Et(1,62))),new t(11,36,36,16,16,new Ct(42,new Et(1,86))),new t(12,40,40,18,18,new Ct(48,new Et(1,114))),new t(13,44,44,20,20,new Ct(56,new Et(1,144))),new t(14,48,48,22,22,new Ct(68,new Et(1,174))),new t(15,52,52,24,24,new Ct(42,new Et(2,102))),new t(16,64,64,14,14,new Ct(56,new Et(2,140))),new t(17,72,72,16,16,new Ct(36,new Et(4,92))),new t(18,80,80,18,18,new Ct(48,new Et(4,114))),new t(19,88,88,20,20,new Ct(56,new Et(4,144))),new t(20,96,96,22,22,new Ct(68,new Et(4,174))),new t(21,104,104,24,24,new Ct(56,new Et(6,136))),new t(22,120,120,18,18,new Ct(68,new Et(6,175))),new t(23,132,132,20,20,new Ct(62,new Et(8,163))),new t(24,144,144,22,22,new Ct(62,new Et(8,156),new Et(2,155))),new t(25,8,18,6,16,new Ct(7,new Et(1,5))),new t(26,8,32,6,14,new Ct(11,new Et(1,10))),new t(27,12,26,10,24,new Ct(14,new Et(1,16))),new t(28,12,36,10,16,new Ct(18,new Et(1,22))),new t(29,16,36,14,16,new Ct(24,new Et(1,32))),new t(30,16,48,14,22,new Ct(28,new Et(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),zVe=function(){function t(e){var r=e.getHeight();if(r<8||r>144||r&1)throw new Ce;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ls(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return VVe.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),s=!1,l=!1,u=!1,d=!1;do if(n===a&&i===0&&!s)e[r++]=this.readCorner1(a,o)&255,n-=2,i+=2,s=!0;else if(n===a-2&&i===0&&o&3&&!l)e[r++]=this.readCorner2(a,o)&255,n-=2,i+=2,l=!0;else if(n===a+4&&i===2&&!(o&7)&&!u)e[r++]=this.readCorner3(a,o)&255,n-=2,i+=2,u=!0;else if(n===a-2&&i===0&&(o&7)===4&&!d)e[r++]=this.readCorner4(a,o)&255,n-=2,i+=2,d=!0;else{do n<a&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n-=2,i+=2;while(n>=0&&i<o);n+=1,i+=3;do n>=0&&i<o&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n+=2,i-=2;while(n<a&&i>=0);n+=3,i+=1}while(n<a||i<o);if(r!==this.version.getTotalCodewords())throw new Ce;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var a=0;return this.readModule(e-2,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-2,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r,n,i)&&(a|=1),a<<=1,this.readModule(e,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e,r,n,i)&&(a|=1),a},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new We("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=r/i|0,s=n/a|0,l=o*i,u=s*a,d=new ls(u,l),f=0;f<o;++f)for(var h=f*i,p=0;p<s;++p)for(var m=p*a,g=0;g<i;++g)for(var v=f*(i+2)+1+g,x=h+g,y=0;y<a;++y){var w=p*(a+2)+1+y;if(e.get(w,v)){var S=m+y;d.set(S,x)}}return d},t}(),i$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},WVe=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,a,o,s=r.getECBlocks(),l=0,u=s.getECBlocks();try{for(var d=i$(u),f=d.next();!f.done;f=d.next()){var h=f.value;l+=h.getCount()}}catch(M){n={error:M}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}var p=new Array(l),m=0;try{for(var g=i$(u),v=g.next();!v.done;v=g.next())for(var h=v.value,x=0;x<h.getCount();x++){var y=h.getDataCodewords(),w=s.getECCodewords()+y;p[m++]=new t(y,new Uint8Array(w))}}catch(M){a={error:M}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}for(var S=p[0].codewords.length,E=S-s.getECCodewords(),C=E-1,A=0,x=0;x<C;x++)for(var T=0;T<m;T++)p[T].codewords[x]=e[A++];for(var N=r.getVersionNumber()===24,I=N?8:m,T=0;T<I;T++)p[T].codewords[E-1]=e[A++];for(var j=p[0].codewords.length,x=E;x<j;x++)for(var T=0;T<m;T++){var O=N?(T+8)%m:T,P=N&&O>7?x-1:x;p[O].codewords[P]=e[A++]}if(A!==e.length)throw new We;return p},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),VJ=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new We(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,a=this.bytes;if(n>0){var o=8-n,s=e<o?e:o,l=o-s,u=255>>8-s<<l;r=(a[i]&u)>>l,e-=s,n+=s,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|a[i]&255,i++,e-=8;if(e>0){var l=8-e,u=255>>l<<l;r=r<<e|(a[i]&u)>>l,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),Xr;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(Xr||(Xr={}));var HVe=function(){function t(){}return t.decode=function(e){var r=new VJ(e),n=new rt,i=new rt,a=new Array,o=Xr.ASCII_ENCODE;do if(o===Xr.ASCII_ENCODE)o=this.decodeAsciiSegment(r,n,i);else{switch(o){case Xr.C40_ENCODE:this.decodeC40Segment(r,n);break;case Xr.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case Xr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case Xr.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case Xr.BASE256_ENCODE:this.decodeBase256Segment(r,n,a);break;default:throw new Ce}o=Xr.ASCII_ENCODE}while(o!==Xr.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new C_(e,n.toString(),a.length===0?null:a,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var a=e.readBits(8);if(a===0)throw new Ce;if(a<=128)return i&&(a+=128),r.append(String.fromCharCode(a-1)),Xr.ASCII_ENCODE;if(a===129)return Xr.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&r.append("0"),r.append(""+o)}else switch(a){case 230:return Xr.C40_ENCODE;case 231:return Xr.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return Xr.ANSIX12_ENCODE;case 239:return Xr.TEXT_ENCODE;case 240:return Xr.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new Ce;break}}while(e.available()>0);return Xr.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var l=i[s];switch(a){case 0:if(l<3)a=l+1;else if(l<this.C40_BASIC_SET_CHARS.length){var u=this.C40_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new Ce;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),a=0;break;case 2:if(l<this.C40_SHIFT2_SET_CHARS.length){var u=this.C40_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(l){case 27:r.append("");break;case 30:n=!0;break;default:throw new Ce}a=0;break;case 3:n?(r.append(String.fromCharCode(l+224)),n=!1):r.append(String.fromCharCode(l+96)),a=0;break;default:throw new Ce}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var l=i[s];switch(a){case 0:if(l<3)a=l+1;else if(l<this.TEXT_BASIC_SET_CHARS.length){var u=this.TEXT_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new Ce;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),a=0;break;case 2:if(l<this.TEXT_SHIFT2_SET_CHARS.length){var u=this.TEXT_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(l){case 27:r.append("");break;case 30:n=!0;break;default:throw new Ce}a=0;break;case 3:if(l<this.TEXT_SHIFT3_SET_CHARS.length){var u=this.TEXT_SHIFT3_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u),a=0}else throw new Ce;break;default:throw new Ce}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var a=0;a<3;a++){var o=n[a];switch(o){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(o<14)r.append(String.fromCharCode(o+44));else if(o<40)r.append(String.fromCharCode(o+51));else throw new Ce;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,a=Math.floor(i/1600);n[0]=a,i-=a*1600,a=Math.floor(i/40),n[1]=a,n[2]=i-a*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}i&32||(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new Ce;for(var s=new Uint8Array(o),l=0;l<o;l++){if(e.available()<8)throw new Ce;s[l]=this.unrandomize255State(e.readBits(8),i++)}n.push(s);try{r.append(Ma.decode(s,pt.ISO88591))}catch(u){throw new V0("Platform does not support required encoding: "+u.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t}(),GVe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qVe=function(){function t(){this.rsDecoder=new T_(Di.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new zVe(e),a=i.getVersion(),o=i.readCodewords(),s=WVe.getDataBlocks(o,a),l=0;try{for(var u=GVe(s),d=u.next();!d.done;d=u.next()){var f=d.value;l+=f.getNumDataCodewords()}}catch(w){r={error:w}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}for(var h=new Uint8Array(l),p=s.length,m=0;m<p;m++){var g=s[m],v=g.getCodewords(),x=g.getNumDataCodewords();this.correctErrors(v,x);for(var y=0;y<x;y++)h[y*p+m]=v[y]}return HVe.decode(h)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new xn}for(var i=0;i<r;i++)e[i]=n[i]},t}(),KVe=function(){function t(e){this.image=e,this.rectangleDetector=new PN(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new oe;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],a=r[2],o=r[3],s=this.transitionsBetween(n,o)+1,l=this.transitionsBetween(a,o)+1;(s&1)===1&&(s+=1),(l&1)===1&&(l+=1),4*s<7*l&&4*l<7*s&&(s=l=Math.max(s,l));var u=t.sampleGrid(this.image,n,i,a,o,s,l);return new f3(u,[n,i,a,o])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),a=(r.getY()-e.getY())/(n+1);return new Me(e.getX()+i,e.getY()+a)},t.moveAway=function(e,r,n){var i=e.getX(),a=e.getY();return i<r?i-=1:i+=1,a<n?a-=1:a+=1,new Me(i,a)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],a=e[2],o=this.transitionsBetween(r,n),s=this.transitionsBetween(n,i),l=this.transitionsBetween(i,a),u=this.transitionsBetween(a,r),d=o,f=[a,r,n,i];return d>s&&(d=s,f[0]=r,f[1]=n,f[2]=i,f[3]=a),d>l&&(d=l,f[0]=n,f[1]=i,f[2]=a,f[3]=r),d>u&&(f[0]=i,f[1]=a,f[2]=r,f[3]=n),f},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),s=t.shiftPoint(n,i,(o+1)*4),l=t.shiftPoint(i,n,(o+1)*4),u=this.transitionsBetween(s,r),d=this.transitionsBetween(l,a);return u<d?(e[0]=r,e[1]=n,e[2]=i,e[3]=a):(e[0]=n,e[1]=i,e[2]=a,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),s=this.transitionsBetween(n,a),l=t.shiftPoint(r,n,(s+1)*4),u=t.shiftPoint(i,n,(o+1)*4);o=this.transitionsBetween(l,a),s=this.transitionsBetween(u,a);var d=new Me(a.getX()+(i.getX()-n.getX())/(o+1),a.getY()+(i.getY()-n.getY())/(o+1)),f=new Me(a.getX()+(r.getX()-n.getX())/(s+1),a.getY()+(r.getY()-n.getY())/(s+1));if(!this.isValid(d))return this.isValid(f)?f:null;if(!this.isValid(f))return d;var h=this.transitionsBetween(l,d)+this.transitionsBetween(u,d),p=this.transitionsBetween(l,f)+this.transitionsBetween(u,f);return h>p?d:f},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a)+1,s=this.transitionsBetween(i,a)+1,l=t.shiftPoint(r,n,s*4),u=t.shiftPoint(i,n,o*4);o=this.transitionsBetween(l,a)+1,s=this.transitionsBetween(u,a)+1,(o&1)===1&&(o+=1),(s&1)===1&&(s+=1);var d=(r.getX()+n.getX()+i.getX()+a.getX())/4,f=(r.getY()+n.getY()+i.getY()+a.getY())/4;r=t.moveAway(r,d,f),n=t.moveAway(n,d,f),i=t.moveAway(i,d,f),a=t.moveAway(a,d,f);var h,p;return l=t.shiftPoint(r,n,s*4),l=t.shiftPoint(l,a,o*4),h=t.shiftPoint(n,r,s*4),h=t.shiftPoint(h,i,o*4),u=t.shiftPoint(i,a,s*4),u=t.shiftPoint(u,n,o*4),p=t.shiftPoint(a,i,s*4),p=t.shiftPoint(p,r,o*4),[l,h,u,p]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,a,o,s){var l=h3.getInstance();return l.sampleGrid(e,o,s,.5,.5,o-.5,.5,o-.5,s-.5,.5,s-.5,r.getX(),r.getY(),a.getX(),a.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(r.getX()),o=Math.trunc(r.getY()),s=Math.abs(o-i)>Math.abs(a-n);if(s){var l=n;n=i,i=l,l=a,a=o,o=l}for(var u=Math.abs(a-n),d=Math.abs(o-i),f=-u/2,h=i<o?1:-1,p=n<a?1:-1,m=0,g=this.image.get(s?i:n,s?n:i),v=n,x=i;v!==a;v+=p){var y=this.image.get(s?x:v,s?v:x);if(y!==g&&(m++,g=y),f+=d,f>0){if(x===o)break;x+=h,f-=u}}return m},t}(),kN=function(){function t(){this.decoder=new qVe}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(ur.PURE_BARCODE)){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(a),i=t.NO_POINTS}else{var o=new KVe(e.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),i=o.getPoints()}var s=n.getRawBytes(),l=new li(n.getText(),s,8*s.length,i,ze.DATA_MATRIX,Qt.currentTimeMillis()),u=n.getByteSegments();u!=null&&l.putMetadata(jn.BYTE_SEGMENTS,u);var d=n.getECLevel();return d!=null&&l.putMetadata(jn.ERROR_CORRECTION_LEVEL,d),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new oe;var i=this.moduleSize(r,e),a=r[1],o=n[1],s=r[0],l=n[0],u=(l-s+1)/i,d=(o-a+1)/i;if(u<=0||d<=0)throw new oe;var f=i/2;a+=f,s+=f;for(var h=new ls(u,d),p=0;p<d;p++)for(var m=a+p*i,g=0;g<u;g++)e.get(s+g*i,m)&&h.set(g,p);return h},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],a=e[1];i<n&&r.get(i,a);)i++;if(i===n)throw new oe;var o=i-e[0];if(o===0)throw new oe;return o},t.NO_POINTS=[],t}(),YVe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){YVe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new kN,r)||this}return e})(xp);var mf;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(mf||(mf={}));var XVe=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new to(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new We;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(mf.L,"L",1),t.M=new t(mf.M,"M",0),t.Q=new t(mf.Q,"Q",3),t.H=new t(mf.H,"H",2),t}(),QVe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zJ=function(){function t(e){this.errorCorrectionLevel=XVe.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return at.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var s=QVe(t.FORMAT_INFO_DECODE_LOOKUP),l=s.next();!l.done;l=s.next()){var u=l.value,d=u[0];if(d===e||d===r)return new t(u[1]);var f=t.numBitsDiffering(e,d);f<a&&(o=u[1],a=f),e!==r&&(f=t.numBitsDiffering(r,d),f<a&&(o=u[1],a=f))}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a<=3?new t(o):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),ZVe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},te=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var a=ZVe(i),o=a.next();!o.done;o=a.next()){var s=o.value;n+=s.getCount()}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),z=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),JVe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Mu=function(){function t(e,r){for(var n,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=a;var s=0,l=a[0].getECCodewordsPerBlock(),u=a[0].getECBlocks();try{for(var d=JVe(u),f=d.next();!f.done;f=d.next()){var h=f.value;s+=h.getCount()*(h.getDataCodewords()+l)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}this.totalCodewords=s}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new Ce;try{return this.getVersionForNumber((e-17)/4)}catch{throw new Ce}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new We;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var a=t.VERSION_DECODE_INFO[i];if(a===e)return t.getVersionForNumber(i+7);var o=zJ.numBitsDiffering(e,a);o<r&&(n=i+7,r=o)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new ls(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<n;o++)i===0&&(o===0||o===n-1)||i===n-1&&o===0||r.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new te(7,new z(1,19)),new te(10,new z(1,16)),new te(13,new z(1,13)),new te(17,new z(1,9))),new t(2,Int32Array.from([6,18]),new te(10,new z(1,34)),new te(16,new z(1,28)),new te(22,new z(1,22)),new te(28,new z(1,16))),new t(3,Int32Array.from([6,22]),new te(15,new z(1,55)),new te(26,new z(1,44)),new te(18,new z(2,17)),new te(22,new z(2,13))),new t(4,Int32Array.from([6,26]),new te(20,new z(1,80)),new te(18,new z(2,32)),new te(26,new z(2,24)),new te(16,new z(4,9))),new t(5,Int32Array.from([6,30]),new te(26,new z(1,108)),new te(24,new z(2,43)),new te(18,new z(2,15),new z(2,16)),new te(22,new z(2,11),new z(2,12))),new t(6,Int32Array.from([6,34]),new te(18,new z(2,68)),new te(16,new z(4,27)),new te(24,new z(4,19)),new te(28,new z(4,15))),new t(7,Int32Array.from([6,22,38]),new te(20,new z(2,78)),new te(18,new z(4,31)),new te(18,new z(2,14),new z(4,15)),new te(26,new z(4,13),new z(1,14))),new t(8,Int32Array.from([6,24,42]),new te(24,new z(2,97)),new te(22,new z(2,38),new z(2,39)),new te(22,new z(4,18),new z(2,19)),new te(26,new z(4,14),new z(2,15))),new t(9,Int32Array.from([6,26,46]),new te(30,new z(2,116)),new te(22,new z(3,36),new z(2,37)),new te(20,new z(4,16),new z(4,17)),new te(24,new z(4,12),new z(4,13))),new t(10,Int32Array.from([6,28,50]),new te(18,new z(2,68),new z(2,69)),new te(26,new z(4,43),new z(1,44)),new te(24,new z(6,19),new z(2,20)),new te(28,new z(6,15),new z(2,16))),new t(11,Int32Array.from([6,30,54]),new te(20,new z(4,81)),new te(30,new z(1,50),new z(4,51)),new te(28,new z(4,22),new z(4,23)),new te(24,new z(3,12),new z(8,13))),new t(12,Int32Array.from([6,32,58]),new te(24,new z(2,92),new z(2,93)),new te(22,new z(6,36),new z(2,37)),new te(26,new z(4,20),new z(6,21)),new te(28,new z(7,14),new z(4,15))),new t(13,Int32Array.from([6,34,62]),new te(26,new z(4,107)),new te(22,new z(8,37),new z(1,38)),new te(24,new z(8,20),new z(4,21)),new te(22,new z(12,11),new z(4,12))),new t(14,Int32Array.from([6,26,46,66]),new te(30,new z(3,115),new z(1,116)),new te(24,new z(4,40),new z(5,41)),new te(20,new z(11,16),new z(5,17)),new te(24,new z(11,12),new z(5,13))),new t(15,Int32Array.from([6,26,48,70]),new te(22,new z(5,87),new z(1,88)),new te(24,new z(5,41),new z(5,42)),new te(30,new z(5,24),new z(7,25)),new te(24,new z(11,12),new z(7,13))),new t(16,Int32Array.from([6,26,50,74]),new te(24,new z(5,98),new z(1,99)),new te(28,new z(7,45),new z(3,46)),new te(24,new z(15,19),new z(2,20)),new te(30,new z(3,15),new z(13,16))),new t(17,Int32Array.from([6,30,54,78]),new te(28,new z(1,107),new z(5,108)),new te(28,new z(10,46),new z(1,47)),new te(28,new z(1,22),new z(15,23)),new te(28,new z(2,14),new z(17,15))),new t(18,Int32Array.from([6,30,56,82]),new te(30,new z(5,120),new z(1,121)),new te(26,new z(9,43),new z(4,44)),new te(28,new z(17,22),new z(1,23)),new te(28,new z(2,14),new z(19,15))),new t(19,Int32Array.from([6,30,58,86]),new te(28,new z(3,113),new z(4,114)),new te(26,new z(3,44),new z(11,45)),new te(26,new z(17,21),new z(4,22)),new te(26,new z(9,13),new z(16,14))),new t(20,Int32Array.from([6,34,62,90]),new te(28,new z(3,107),new z(5,108)),new te(26,new z(3,41),new z(13,42)),new te(30,new z(15,24),new z(5,25)),new te(28,new z(15,15),new z(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new te(28,new z(4,116),new z(4,117)),new te(26,new z(17,42)),new te(28,new z(17,22),new z(6,23)),new te(30,new z(19,16),new z(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new te(28,new z(2,111),new z(7,112)),new te(28,new z(17,46)),new te(30,new z(7,24),new z(16,25)),new te(24,new z(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new te(30,new z(4,121),new z(5,122)),new te(28,new z(4,47),new z(14,48)),new te(30,new z(11,24),new z(14,25)),new te(30,new z(16,15),new z(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new te(30,new z(6,117),new z(4,118)),new te(28,new z(6,45),new z(14,46)),new te(30,new z(11,24),new z(16,25)),new te(30,new z(30,16),new z(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new te(26,new z(8,106),new z(4,107)),new te(28,new z(8,47),new z(13,48)),new te(30,new z(7,24),new z(22,25)),new te(30,new z(22,15),new z(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new te(28,new z(10,114),new z(2,115)),new te(28,new z(19,46),new z(4,47)),new te(28,new z(28,22),new z(6,23)),new te(30,new z(33,16),new z(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new te(30,new z(8,122),new z(4,123)),new te(28,new z(22,45),new z(3,46)),new te(30,new z(8,23),new z(26,24)),new te(30,new z(12,15),new z(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new te(30,new z(3,117),new z(10,118)),new te(28,new z(3,45),new z(23,46)),new te(30,new z(4,24),new z(31,25)),new te(30,new z(11,15),new z(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new te(30,new z(7,116),new z(7,117)),new te(28,new z(21,45),new z(7,46)),new te(30,new z(1,23),new z(37,24)),new te(30,new z(19,15),new z(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new te(30,new z(5,115),new z(10,116)),new te(28,new z(19,47),new z(10,48)),new te(30,new z(15,24),new z(25,25)),new te(30,new z(23,15),new z(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new te(30,new z(13,115),new z(3,116)),new te(28,new z(2,46),new z(29,47)),new te(30,new z(42,24),new z(1,25)),new te(30,new z(23,15),new z(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new te(30,new z(17,115)),new te(28,new z(10,46),new z(23,47)),new te(30,new z(10,24),new z(35,25)),new te(30,new z(19,15),new z(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new te(30,new z(17,115),new z(1,116)),new te(28,new z(14,46),new z(21,47)),new te(30,new z(29,24),new z(19,25)),new te(30,new z(11,15),new z(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new te(30,new z(13,115),new z(6,116)),new te(28,new z(14,46),new z(23,47)),new te(30,new z(44,24),new z(7,25)),new te(30,new z(59,16),new z(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new te(30,new z(12,121),new z(7,122)),new te(28,new z(12,47),new z(26,48)),new te(30,new z(39,24),new z(14,25)),new te(30,new z(22,15),new z(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new te(30,new z(6,121),new z(14,122)),new te(28,new z(6,47),new z(34,48)),new te(30,new z(46,24),new z(10,25)),new te(30,new z(2,15),new z(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new te(30,new z(17,122),new z(4,123)),new te(28,new z(29,46),new z(14,47)),new te(30,new z(49,24),new z(10,25)),new te(30,new z(24,15),new z(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new te(30,new z(4,122),new z(18,123)),new te(28,new z(13,46),new z(32,47)),new te(30,new z(48,24),new z(14,25)),new te(30,new z(42,15),new z(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new te(30,new z(20,117),new z(4,118)),new te(28,new z(40,47),new z(7,48)),new te(30,new z(43,24),new z(22,25)),new te(30,new z(10,15),new z(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new te(30,new z(19,118),new z(6,119)),new te(28,new z(18,47),new z(31,48)),new te(30,new z(34,24),new z(34,25)),new te(30,new z(20,15),new z(61,16)))],t}(),pn;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(pn||(pn={}));var a$=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[pn.DATA_MASK_000,new t(pn.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[pn.DATA_MASK_001,new t(pn.DATA_MASK_001,function(e,r){return(e&1)===0})],[pn.DATA_MASK_010,new t(pn.DATA_MASK_010,function(e,r){return r%3===0})],[pn.DATA_MASK_011,new t(pn.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[pn.DATA_MASK_100,new t(pn.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[pn.DATA_MASK_101,new t(pn.DATA_MASK_101,function(e,r){return e*r%6===0})],[pn.DATA_MASK_110,new t(pn.DATA_MASK_110,function(e,r){return e*r%6<3})],[pn.DATA_MASK_111,new t(pn.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),eze=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new Ce;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,n=i-1;n>=o;n--)a=this.copyBit(8,n,a);for(var r=i-8;r<i;r++)a=this.copyBit(r,8,a);if(this.parsedFormatInfo=zJ.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Ce},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Mu.getVersionForNumber(r);for(var n=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(o,a,n);var s=Mu.decodeVersionInformation(n);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;n=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(o,a,n);if(s=Mu.decodeVersionInformation(n),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new Ce},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=a$.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var a=r.buildFunctionPattern(),o=!0,s=new Uint8Array(r.getTotalCodewords()),l=0,u=0,d=0,f=i-1;f>0;f-=2){f===6&&f--;for(var h=0;h<i;h++)for(var p=o?i-1-h:h,m=0;m<2;m++)a.get(f-m,p)||(d++,u<<=1,this.bitMatrix.get(f-m,p)&&(u|=1),d===8&&(s[l++]=u,d=0,u=0));o=!o}if(l!==r.getTotalCodewords())throw new Ce;return s},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=a$.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,a=e.getHeight();i<a;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t}(),o$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tze=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,a,o,s;if(e.length!==r.getTotalCodewords())throw new We;var l=r.getECBlocksForLevel(n),u=0,d=l.getECBlocks();try{for(var f=o$(d),h=f.next();!h.done;h=f.next()){var p=h.value;u+=p.getCount()}}catch(P){i={error:P}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}var m=new Array(u),g=0;try{for(var v=o$(d),x=v.next();!x.done;x=v.next())for(var p=x.value,y=0;y<p.getCount();y++){var w=p.getDataCodewords(),S=l.getECCodewordsPerBlock()+w;m[g++]=new t(w,new Uint8Array(S))}}catch(P){o={error:P}}finally{try{x&&!x.done&&(s=v.return)&&s.call(v)}finally{if(o)throw o.error}}for(var E=m[0].codewords.length,C=m.length-1;C>=0;){var A=m[C].codewords.length;if(A===E)break;C--}C++;for(var T=E-l.getECCodewordsPerBlock(),N=0,y=0;y<T;y++)for(var I=0;I<g;I++)m[I].codewords[y]=e[N++];for(var I=C;I<g;I++)m[I].codewords[T]=e[N++];for(var j=m[0].codewords.length,y=T;y<j;y++)for(var I=0;I<g;I++){var O=I<C?y:y+1;m[I].codewords[O]=e[N++]}return m},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),Aa;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(Aa||(Aa={}));var ir=function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new We;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(Aa.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(Aa.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(Aa.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(Aa.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(Aa.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(Aa.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(Aa.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(Aa.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(Aa.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(Aa.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),rze=function(){function t(){}return t.decode=function(e,r,n,i){var a=new VJ(e),o=new rt,s=new Array,l=-1,u=-1;try{var d=null,f=!1,h=void 0;do{if(a.available()<4)h=ir.TERMINATOR;else{var p=a.readBits(4);h=ir.forBits(p)}switch(h){case ir.TERMINATOR:break;case ir.FNC1_FIRST_POSITION:case ir.FNC1_SECOND_POSITION:f=!0;break;case ir.STRUCTURED_APPEND:if(a.available()<16)throw new Ce;l=a.readBits(8),u=a.readBits(8);break;case ir.ECI:var m=t.parseECIValue(a);if(d=tn.getCharacterSetECIByValue(m),d===null)throw new Ce;break;case ir.HANZI:var g=a.readBits(4),v=a.readBits(h.getCharacterCountBits(r));g===t.GB2312_SUBSET&&t.decodeHanziSegment(a,o,v);break;default:var x=a.readBits(h.getCharacterCountBits(r));switch(h){case ir.NUMERIC:t.decodeNumericSegment(a,o,x);break;case ir.ALPHANUMERIC:t.decodeAlphanumericSegment(a,o,x,f);break;case ir.BYTE:t.decodeByteSegment(a,o,x,d,s,i);break;case ir.KANJI:t.decodeKanjiSegment(a,o,x);break;default:throw new Ce}break}}while(h!==ir.TERMINATOR)}catch{throw new Ce}return new C_(e,o.toString(),s.length===0?null:s,n===null?null:n.toString(),l,u)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new Ce;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/96<<8&4294967295|o%96;s<959?s+=41377:s+=42657,i[a]=s>>8&255,i[a+1]=s&255,a+=2,n--}try{r.append(Ma.decode(i,pt.GB2312))}catch(l){throw new Ce(l)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new Ce;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/192<<8&4294967295|o%192;s<7936?s+=33088:s+=49472,i[a]=s>>8,i[a+1]=s,a+=2,n--}try{r.append(Ma.decode(i,pt.SHIFT_JIS))}catch(l){throw new Ce(l)}},t.decodeByteSegment=function(e,r,n,i,a,o){if(8*n>e.available())throw new Ce;for(var s=new Uint8Array(n),l=0;l<n;l++)s[l]=e.readBits(8);var u;i===null?u=pt.guessEncoding(s,o):u=i.getName();try{r.append(Ma.decode(s,u))}catch(d){throw new Ce(d)}a.push(s)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new Ce;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var a=r.length();n>1;){if(e.available()<11)throw new Ce;var o=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(o/45))),r.append(t.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(e.available()<6)throw new Ce;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=a;s<r.length();s++)r.charAt(s)==="%"&&(s<r.length()-1&&r.charAt(s+1)==="%"?r.deleteCharAt(s+1):r.setCharAt(s,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new Ce;var i=e.readBits(10);if(i>=1e3)throw new Ce;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new Ce;var a=e.readBits(7);if(a>=100)throw new Ce;r.append(t.toAlphaNumericChar(Math.floor(a/10))),r.append(t.toAlphaNumericChar(a%10))}else if(n===1){if(e.available()<4)throw new Ce;var o=e.readBits(4);if(o>=10)throw new Ce;r.append(t.toAlphaNumericChar(o))}},t.parseECIValue=function(e){var r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new Ce},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),WJ=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),s$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nze=function(){function t(){this.rsDecoder=new T_(Di.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(ls.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new eze(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(o){i=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,r);return a.setOther(new WJ(!0)),a}catch(o){throw i!==null?i:o}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,a,o,s=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),u=e.readCodewords(),d=tze.getDataBlocks(u,s,l),f=0;try{for(var h=s$(d),p=h.next();!p.done;p=h.next()){var m=p.value;f+=m.getNumDataCodewords()}}catch(C){n={error:C}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}var g=new Uint8Array(f),v=0;try{for(var x=s$(d),y=x.next();!y.done;y=x.next()){var m=y.value,w=m.getCodewords(),S=m.getNumDataCodewords();this.correctErrors(w,S);for(var E=0;E<S;E++)g[v++]=w[E]}}catch(C){a={error:C}}finally{try{y&&!y.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}return rze.decode(g,s,l,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new xn}for(var i=0;i<r;i++)e[i]=n[i]},t}(),ize=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),aze=function(t){ize(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=(this.getX()+n)/2,o=(this.getY()+r)/2,s=(this.estimatedModuleSize+i)/2;return new e(a,o,s)},e}(Me),oze=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sze=function(){function t(e,r,n,i,a,o,s){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,a=this.startY+r/2,o=new Int32Array(3),s=this.image,l=0;l<r;l++){var u=a+(l&1?-Math.floor((l+1)/2):Math.floor((l+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var d=e;d<i&&!s.get(d,u);)d++;for(var f=0;d<i;){if(s.get(d,u))if(f===1)o[1]++;else if(f===2){if(this.foundPatternCross(o)){var h=this.handlePossibleCenter(o,u,d);if(h!==null)return h}o[0]=o[2],o[1]=1,o[2]=0,f=1}else o[++f]++;else f===1&&f++,o[f]++;d++}if(this.foundPatternCross(o)){var h=this.handlePossibleCenter(o,u,i);if(h!==null)return h}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new oe},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var a=this.image,o=a.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var l=e;l>=0&&a.get(r,l)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&!a.get(r,l)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(r,l)&&s[1]<=n;)s[1]++,l++;if(l===o||s[1]>n)return NaN;for(;l<o&&!a.get(r,l)&&s[2]<=n;)s[2]++,l++;if(s[2]>n)return NaN;var u=s[0]+s[1]+s[2];return 5*Math.abs(u-i)>=2*i?NaN:this.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,a,o=e[0]+e[1]+e[2],s=t.centerFromEnd(e,n),l=this.crossCheckVertical(r,s,2*e[1],o);if(!isNaN(l)){var u=(e[0]+e[1]+e[2])/3;try{for(var d=oze(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.aboutEquals(u,l,s))return h.combineEstimate(l,s,u)}}catch(m){i={error:m}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}var p=new aze(s,l,u);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null},t}(),lze=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cze=function(t){lze(e,t);function e(r,n,i,a){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=this.count+1,o=(this.count*this.getX()+n)/a,s=(this.count*this.getY()+r)/a,l=(this.count*this.estimatedModuleSize+i)/a;return new e(o,s,l,a)},e}(Me),uze=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),om=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dze=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(ur.TRY_HARDER)!==void 0,n=e!=null&&e.get(ur.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),s=Math.floor(3*a/(4*t.MAX_MODULES));(s<t.MIN_SKIP||r)&&(s=t.MIN_SKIP);for(var l=!1,u=new Int32Array(5),d=s-1;d<a&&!l;d+=s){u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0;for(var f=0,h=0;h<o;h++)if(i.get(h,d))(f&1)===1&&f++,u[f]++;else if(f&1)u[f]++;else if(f===4)if(t.foundPatternCross(u)){var p=this.handlePossibleCenter(u,d,h,n);if(p===!0)if(s=2,this.hasSkipped===!0)l=this.haveMultiplyConfirmedCenters();else{var m=this.findRowSkip();m>u[2]&&(d+=m-u[2]-s,h=o-1)}else{u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,f=3;continue}f=0,u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0}else u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,f=3;else u[++f]++;if(t.foundPatternCross(u)){var p=this.handlePossibleCenter(u,d,o,n);p===!0&&(s=u[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}}var g=this.selectBestPatterns();return Me.orderBestPatterns(g),new uze(g)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var a=r/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var a=this.getCrossCheckStateCount(),o=0,s=this.image;e>=o&&r>=o&&s.get(r-o,e-o);)a[2]++,o++;if(e<o||r<o)return!1;for(;e>=o&&r>=o&&!s.get(r-o,e-o)&&a[1]<=n;)a[1]++,o++;if(e<o||r<o||a[1]>n)return!1;for(;e>=o&&r>=o&&s.get(r-o,e-o)&&a[0]<=n;)a[0]++,o++;if(a[0]>n)return!1;var l=s.getHeight(),u=s.getWidth();for(o=1;e+o<l&&r+o<u&&s.get(r+o,e+o);)a[2]++,o++;if(e+o>=l||r+o>=u)return!1;for(;e+o<l&&r+o<u&&!s.get(r+o,e+o)&&a[3]<n;)a[3]++,o++;if(e+o>=l||r+o>=u||a[3]>=n)return!1;for(;e+o<l&&r+o<u&&s.get(r+o,e+o)&&a[4]<n;)a[4]++,o++;if(a[4]>=n)return!1;var d=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(d-i)<2*i&&t.foundPatternCross(a)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var a=this.image,o=a.getHeight(),s=this.getCrossCheckStateCount(),l=e;l>=0&&a.get(r,l);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!a.get(r,l)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&a.get(r,l)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(r,l);)s[2]++,l++;if(l===o)return NaN;for(;l<o&&!a.get(r,l)&&s[3]<n;)s[3]++,l++;if(l===o||s[3]>=n)return NaN;for(;l<o&&a.get(r,l)&&s[4]<n;)s[4]++,l++;if(s[4]>=n)return NaN;var u=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(u-i)>=2*i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var a=this.image,o=a.getWidth(),s=this.getCrossCheckStateCount(),l=e;l>=0&&a.get(l,r);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!a.get(l,r)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&a.get(l,r)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(l,r);)s[2]++,l++;if(l===o)return NaN;for(;l<o&&!a.get(l,r)&&s[3]<n;)s[3]++,l++;if(l===o||s[3]>=n)return NaN;for(;l<o&&a.get(l,r)&&s[4]<n;)s[4]++,l++;if(s[4]>=n)return NaN;var u=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(u-i)>=i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=t.centerFromEnd(e,n),s=this.crossCheckVertical(r,Math.floor(o),e[2],a);if(!isNaN(s)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(s),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(o),e[2],a)))){for(var l=a/7,u=!1,d=this.possibleCenters,f=0,h=d.length;f<h;f++){var p=d[f];if(p.aboutEquals(l,s,o)){d[f]=p.combineEstimate(s,o,l),u=!0;break}}if(!u){var m=new cze(o,s,l);d.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var a=om(this.possibleCenters),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.getCount()>=t.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,a=0,o=0,s=this.possibleCenters.length;try{for(var l=om(this.possibleCenters),u=l.next();!u.done;u=l.next()){var d=u.value;d.getCount()>=t.CENTER_QUORUM&&(a++,o+=d.getEstimatedModuleSize())}}catch(g){e={error:g}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}if(a<3)return!1;var f=o/s,h=0;try{for(var p=om(this.possibleCenters),m=p.next();!m.done;m=p.next()){var d=m.value;h+=Math.abs(d.getEstimatedModuleSize()-f)}}catch(g){n={error:g}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}return h<=.05*o},t.prototype.selectBestPatterns=function(){var e,r,n,i,a=this.possibleCenters.length;if(a<3)throw new oe;var o=this.possibleCenters,s;if(a>3){var l=0,u=0;try{for(var d=om(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value,p=h.getEstimatedModuleSize();l+=p,u+=p*p}}catch(E){e={error:E}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}s=l/a;var m=Math.sqrt(u/a-s*s);o.sort(function(E,C){var A=Math.abs(C.getEstimatedModuleSize()-s),T=Math.abs(E.getEstimatedModuleSize()-s);return A<T?-1:A>T?1:0});for(var g=Math.max(.2*s,m),v=0;v<o.length&&o.length>3;v++){var x=o[v];Math.abs(x.getEstimatedModuleSize()-s)>g&&(o.splice(v,1),v--)}}if(o.length>3){var l=0;try{for(var y=om(o),w=y.next();!w.done;w=y.next()){var S=w.value;l+=S.getEstimatedModuleSize()}}catch(C){n={error:C}}finally{try{w&&!w.done&&(i=y.return)&&i.call(y)}finally{if(n)throw n.error}}s=l/o.length,o.sort(function(C,A){if(A.getCount()===C.getCount()){var T=Math.abs(A.getEstimatedModuleSize()-s),N=Math.abs(C.getEstimatedModuleSize()-s);return T<N?1:T>N?-1:0}else return A.getCount()-C.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),fze=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(ur.NEED_RESULT_POINT_CALLBACK);var r=new dze(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(r,n,i);if(a<1)throw new oe("No pattern found in proccess finder.");var o=t.computeDimension(r,n,i,a),s=Mu.getProvisionalVersionForDimension(o),l=s.getDimensionForVersion()-7,u=null;if(s.getAlignmentPatternCenters().length>0)for(var d=n.getX()-r.getX()+i.getX(),f=n.getY()-r.getY()+i.getY(),h=1-3/l,p=Math.floor(r.getX()+h*(d-r.getX())),m=Math.floor(r.getY()+h*(f-r.getY())),g=4;g<=16;g<<=1)try{u=this.findAlignmentInRegion(a,p,m,g);break}catch(w){if(!(w instanceof oe))throw w}var v=t.createTransform(r,n,i,u,o),x=t.sampleGrid(this.image,v,o),y;return u===null?y=[i,r,n]:y=[i,r,n,u],new f3(x,y)},t.createTransform=function(e,r,n,i,a){var o=a-3.5,s,l,u,d;return i!==null?(s=i.getX(),l=i.getY(),u=o-3,d=u):(s=r.getX()-e.getX()+n.getX(),l=r.getY()-e.getY()+n.getY(),u=o,d=o),$J.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,u,d,3.5,o,e.getX(),e.getY(),r.getX(),r.getY(),s,l,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=h3.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var a=_t.round(Me.distance(e,r)/i),o=_t.round(Me.distance(e,n)/i),s=Math.floor((a+o)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new oe("Dimensions could be not found.")}return s},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var a=this.sizeOfBlackWhiteBlackRun(e,r,n,i),o=1,s=e-(n-e);s<0?(o=e/(e-s),s=0):s>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var l=Math.floor(r-(i-r)*o);return o=1,l<0?(o=r/(r-l),l=0):l>=this.image.getHeight()&&(o=(this.image.getHeight()-1-r)/(l-r),l=this.image.getHeight()-1),s=Math.floor(e+(s-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,r,s,l),a-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var a=Math.abs(i-r)>Math.abs(n-e);if(a){var o=e;e=r,r=o,o=n,n=i,i=o}for(var s=Math.abs(n-e),l=Math.abs(i-r),u=-s/2,d=e<n?1:-1,f=r<i?1:-1,h=0,p=n+d,m=e,g=r;m!==p;m+=d){var v=a?g:m,x=a?m:g;if(h===1===this.image.get(v,x)){if(h===2)return _t.distance(m,g,e,r);h++}if(u+=l,u>0){if(g===i)break;g+=f,u-=s}}return h===2?_t.distance(n+d,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var a=Math.floor(i*e),o=Math.max(0,r-a),s=Math.min(this.image.getWidth()-1,r+a);if(s-o<e*3)throw new oe("Alignment top exceeds estimated module size.");var l=Math.max(0,n-a),u=Math.min(this.image.getHeight()-1,n+a);if(u-l<e*3)throw new oe("Alignment bottom exceeds estimated module size.");var d=new sze(this.image,o,l,s-o,u-l,e,this.resultPointCallback);return d.find()},t}(),RN=function(){function t(){this.decoder=new nze}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(ur.PURE_BARCODE)!==void 0){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,r),i=t.NO_POINTS}else{var o=new fze(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(o.getBits(),r),i=o.getPoints()}n.getOther()instanceof WJ&&n.getOther().applyMirroredCorrection(i);var s=new li(n.getText(),n.getRawBytes(),void 0,i,ze.QR_CODE,void 0),l=n.getByteSegments();l!==null&&s.putMetadata(jn.BYTE_SEGMENTS,l);var u=n.getECLevel();return u!==null&&s.putMetadata(jn.ERROR_CORRECTION_LEVEL,u),n.hasStructuredAppend()&&(s.putMetadata(jn.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(jn.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new oe;var i=this.moduleSize(r,e),a=r[1],o=n[1],s=r[0],l=n[0];if(s>=l||a>=o)throw new oe;if(o-a!==l-s&&(l=s+(o-a),l>=e.getWidth()))throw new oe;var u=Math.round((l-s+1)/i),d=Math.round((o-a+1)/i);if(u<=0||d<=0)throw new oe;if(d!==u)throw new oe;var f=Math.floor(i/2);a+=f,s+=f;var h=s+Math.floor((u-1)*i)-l;if(h>0){if(h>f)throw new oe;s-=h}var p=a+Math.floor((d-1)*i)-o;if(p>0){if(p>f)throw new oe;a-=p}for(var m=new ls(u,d),g=0;g<d;g++)for(var v=a+Math.floor(g*i),x=0;x<u;x++)e.get(s+Math.floor(x*i),v)&&m.set(x,g);return m},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),a=e[0],o=e[1],s=!0,l=0;a<i&&o<n;){if(s!==r.get(a,o)){if(++l===5)break;s=!s}a++,o++}if(a===i||o===n)throw new oe;return(a-e[0])/7},t.NO_POINTS=new Array,t}(),hze=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yt=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return _t.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=hze(e),s=o.next();!s.done;s=o.next()){var l=s.value;i[a++]=l}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=nn.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),pze=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),mze=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gze=function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),a=t.detect(n,i);return a.length||(i=i.clone(),i.rotate180(),a=t.detect(n,i)),new pze(i,a)},t.detect=function(e,r){for(var n,i,a=new Array,o=0,s=0,l=!1;o<r.getHeight();){var u=t.findVertices(r,o,s);if(u[0]==null&&u[3]==null){if(!l)break;l=!1,s=0;try{for(var d=(n=void 0,mze(a)),f=d.next();!f.done;f=d.next()){var h=f.value;h[1]!=null&&(o=Math.trunc(Math.max(o,h[1].getY()))),h[3]!=null&&(o=Math.max(o,Math.trunc(h[3].getY())))}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}o+=t.ROW_STEP;continue}if(l=!0,a.push(u),!e)break;u[2]!=null?(s=Math.trunc(u[2].getX()),o=Math.trunc(u[2].getY())):(s=Math.trunc(u[4].getX()),o=Math.trunc(u[4].getY()))}return a},t.findVertices=function(e,r,n){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),r=Math.trunc(o[4].getY())),t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),o},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,a,o){for(var s=new Array(4),l=!1,u=new Int32Array(o.length);i<r;i+=t.ROW_STEP){var d=t.findGuardPattern(e,a,i,n,!1,o,u);if(d!=null){for(;i>0;){var f=t.findGuardPattern(e,a,--i,n,!1,o,u);if(f!=null)d=f;else{i++;break}}s[0]=new Me(d[0],i),s[1]=new Me(d[1],i),l=!0;break}}var h=i+1;if(l){for(var p=0,f=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);h<r;h++){var d=t.findGuardPattern(e,f[0],h,n,!1,o,u);if(d!=null&&Math.abs(f[0]-d[0])<t.MAX_PATTERN_DRIFT&&Math.abs(f[1]-d[1])<t.MAX_PATTERN_DRIFT)f=d,p=0;else{if(p>t.SKIPPED_ROW_COUNT_MAX)break;p++}}h-=p+1,s[2]=new Me(f[0],h),s[3]=new Me(f[1],h)}return h-i<t.BARCODE_MIN_HEIGHT&&nn.fill(s,null),s},t.findGuardPattern=function(e,r,n,i,a,o,s){nn.fillWithin(s,0,s.length,0);for(var l=r,u=0;e.get(l,n)&&l>0&&u++<t.MAX_PIXEL_DRIFT;)l--;for(var d=l,f=0,h=o.length,p=a;d<i;d++){var m=e.get(d,n);if(m!==p)s[f]++;else{if(f===h-1){if(t.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([l,d]);l+=s[0]+s[1],Qt.arraycopy(s,2,s,0,f-1),s[f-1]=0,s[f]=0,f--}else f++;s[f]=1,p=!p}}return f===h-1&&t.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([l,d-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=r[s];if(a<o)return 1/0;var l=a/o;n*=l;for(var u=0,d=0;d<i;d++){var f=e[d],h=r[d]*l,p=f>h?f-h:h-f;if(p>n)return 1/0;u+=p}return u/a},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),vze=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Eu=function(){function t(e,r){if(r.length===0)throw new We;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),Qt.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=vze(this.coefficients),o=a.next();!o.done;o=a.next()){var s=o.value;i=this.field.add(i,s)}}catch(f){r={error:f}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}for(var l=this.coefficients[0],u=this.coefficients.length,d=1;d<u;d++)l=this.field.add(this.field.multiply(e,l),this.coefficients[d]);return l},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new We("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;Qt.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=this.field.add(r[s-o],n[s]);return new t(this.field,a)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new We("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new We("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=0;s<n;s++)for(var l=r[s],u=0;u<a;u++)o[s+u]=this.field.add(o[s+u],this.field.multiply(l,i[u]));return new t(this.field,o)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new We;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),a=0;a<n;a++)i[a]=this.field.multiply(this.coefficients[a],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new rt,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),yze=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new We;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new LJ;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),xze=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wze=function(t){xze(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var a=1,o=0;o<r;o++)i.expTable[o]=a,a=a*n%r;for(var o=0;o<r-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new Eu(i,new Int32Array([0])),i.one=new Eu(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new We;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new Eu(this,i)},e.PDF417_GF=new e(yt.NUMBER_OF_CODEWORDS,3),e}(yze),bze=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_ze=function(){function t(){this.field=wze.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,a,o=new Eu(this.field,e),s=new Int32Array(r),l=!1,u=r;u>0;u--){var d=o.evaluateAt(this.field.exp(u));s[r-u]=d,d!==0&&(l=!0)}if(!l)return 0;var f=this.field.getOne();if(n!=null)try{for(var h=bze(n),p=h.next();!p.done;p=h.next()){var m=p.value,g=this.field.exp(e.length-1-m),v=new Eu(this.field,new Int32Array([this.field.subtract(0,g),1]));f=f.multiply(v)}}catch(T){i={error:T}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}for(var x=new Eu(this.field,s),y=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),x,r),w=y[0],S=y[1],E=this.findErrorLocations(w),C=this.findErrorMagnitudes(S,w,E),u=0;u<E.length;u++){var A=e.length-1-this.field.log(E[u]);if(A<0)throw xn.getChecksumInstance();e[A]=this.field.subtract(e[A],C[u])}return E.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=e,o=r,s=this.field.getZero(),l=this.field.getOne();o.getDegree()>=Math.round(n/2);){var u=a,d=s;if(a=o,s=l,a.isZero())throw xn.getChecksumInstance();o=u;for(var f=this.field.getZero(),h=a.getCoefficient(a.getDegree()),p=this.field.inverse(h);o.getDegree()>=a.getDegree()&&!o.isZero();){var m=o.getDegree()-a.getDegree(),g=this.field.multiply(o.getCoefficient(o.getDegree()),p);f=f.add(this.field.buildMonomial(m,g)),o=o.subtract(a.multiplyByMonomial(m,g))}l=f.multiply(s).subtract(d).negative()}var v=l.getCoefficient(0);if(v===0)throw xn.getChecksumInstance();var x=this.field.inverse(v),y=l.multiply(x),w=o.multiply(x);return[y,w]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,a=1;a<this.field.getSize()&&i<r;a++)e.evaluateAt(a)===0&&(n[i]=this.field.inverse(a),i++);if(i!==r)throw xn.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,r.getCoefficient(o));for(var s=new Eu(this.field,a),l=n.length,u=new Int32Array(l),o=0;o<l;o++){var d=this.field.inverse(n[o]),f=this.field.subtract(0,e.evaluateAt(d)),h=this.field.inverse(s.evaluateAt(d));u[o]=this.field.multiply(f,h)}return u},t}(),DN=function(){function t(e,r,n,i,a){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,a)}return t.prototype.constructor_1=function(e,r,n,i,a){var o=r==null||n==null,s=i==null||a==null;if(o&&s)throw new oe;o?(r=new Me(0,i.getY()),n=new Me(0,a.getY())):s&&(i=new Me(e.getWidth()-1,r.getY()),a=new Me(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,s=this.bottomRight;if(e>0){var l=n?this.topLeft:this.topRight,u=Math.trunc(l.getY()-e);u<0&&(u=0);var d=new Me(l.getX(),u);n?i=d:o=d}if(r>0){var f=n?this.bottomLeft:this.bottomRight,h=Math.trunc(f.getY()+r);h>=this.image.getHeight()&&(h=this.image.getHeight()-1);var p=new Me(f.getX(),h);n?a=p:s=p}return new t(this.image,i,a,o,s)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),Sze=function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),m3=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(o,s,l,u,d,f){if(o==="%%")return"%";if(r[++n]!==void 0){o=u?parseInt(u.substr(1)):void 0;var h=d?parseInt(d.substr(1)):void 0,p;switch(f){case"s":p=r[n];break;case"c":p=r[n][0];break;case"f":p=parseFloat(r[n]).toFixed(o);break;case"p":p=parseFloat(r[n]).toPrecision(o);break;case"e":p=parseFloat(r[n]).toExponential(o);break;case"x":p=parseInt(r[n]).toString(h||16);break;case"d":p=parseFloat(parseInt(r[n],h||10).toPrecision(o)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(h);for(var m=parseInt(l),g=l&&l[0]+""=="0"?"0":" ";p.length<m;)p=s!==void 0?p+g:g+p;return p}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),Eze=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},HJ=function(){function t(e){this.boundingBox=new DN(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new m3,i=0;try{for(var a=Eze(this.codewords),o=a.next();!o.done;o=a.next()){var s=o.value;if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),Aze=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cze=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},Rm=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,a=function(f,h){var p={getKey:function(){return f},getValue:function(){return h}};p.getValue()>n?(n=p.getValue(),i=[],i.push(p.getKey())):p.getValue()===n&&i.push(p.getKey())};try{for(var o=Aze(this.values.entries()),s=o.next();!s.done;s=o.next()){var l=Cze(s.value,2),u=l[0],d=l[1];a(u,d)}}catch(f){e={error:f}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return yt.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),Tze=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),hA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l$=function(t){Tze(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=hA(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o!=null&&o.setRowNumberAsRowIndicatorColumn()}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=-1,d=1,f=0,h=s;h<l;h++)if(n[h]!=null){var p=n[h],m=p.getRowNumber()-u;if(m===0)f++;else if(m===1)d=Math.max(d,f),f=1,u=p.getRowNumber();else if(m<0||p.getRowNumber()>=r.getRowCount()||m>h)n[h]=null;else{var g=void 0;d>2?g=(d-2)*m:g=m;for(var v=g>=h,x=1;x<=g&&!v;x++)v=n[h-x]!=null;v?n[h]=null:(u=p.getRowNumber(),f=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=hA(this.getCodewords()),s=o.next();!s.done;s=o.next()){var l=s.value;if(l!=null){var u=l.getRowNumber();if(u>=a.length)continue;a[u]++}}}catch(d){r={error:d}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.getCodewords(),u=-1,d=o;d<s;d++)if(l[d]!=null){var f=l[d];f.setRowNumberAsRowIndicatorColumn();var h=f.getRowNumber()-u;h===0||(h===1?u=f.getRowNumber():f.getRowNumber()>=r.getRowCount()?l[d]=null:u=f.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),a=new Rm,o=new Rm,s=new Rm,l=new Rm;try{for(var u=hA(i),d=u.next();!d.done;d=u.next()){var f=d.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var h=f.getValue()%30,p=f.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:o.setValue(h*3+1);break;case 1:l.setValue(h/3),s.setValue(h%3);break;case 2:a.setValue(h+1);break}}}}catch(g){r={error:g}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}if(a.getValue().length===0||o.getValue().length===0||s.getValue().length===0||l.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+s.getValue()[0]<yt.MIN_ROWS_IN_BARCODE||o.getValue()[0]+s.getValue()[0]>yt.MAX_ROWS_IN_BARCODE)return null;var m=new Sze(a.getValue()[0],o.getValue()[0],s.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(i,m),m},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var a=r[i];if(r[i]!=null){var o=a.getValue()%30,s=a.getRowNumber();if(s>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:o+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(HJ),Nze=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ize=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=yt.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[n];a!=null&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=t.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=t.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=n[r],s=this.detectionResultColumns[e-1].getCodewords(),l=s;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());var u=new Array(14);u[2]=s[r],u[3]=l[r],r>0&&(u[0]=n[r-1],u[4]=s[r-1],u[5]=l[r-1]),r>1&&(u[8]=n[r-2],u[10]=s[r-2],u[11]=l[r-2]),r<n.length-1&&(u[1]=n[r+1],u[6]=s[r+1],u[7]=l[r+1]),r<n.length-2&&(u[9]=n[r+2],u[12]=s[r+2],u[13]=l[r+2]);try{for(var d=Nze(u),f=d.next();!f.done;f=d.next()){var h=f.value;if(t.adjustRowNumber(o,h))return}}catch(p){i={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new m3,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[n];if(a==null){r.format("    |   ");continue}r.format(" %3d|%3d",a.getRowNumber(),a.getValue())}r.format("%n")}return r.toString()},t}(),Pze=function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),Oze=function(){function t(){}return t.initialize=function(){for(var e=0;e<yt.SYMBOL_TABLE.length;e++)for(var r=yt.SYMBOL_TABLE[e],n=r&1,i=0;i<yt.BARS_IN_MODULE;i++){for(var a=0;(r&1)===n;)a+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(yt.BARS_IN_MODULE)),t.RATIOS_TABLE[e][yt.BARS_IN_MODULE-i-1]=Math.fround(a/yt.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=_t.sum(e),n=new Int32Array(yt.BARS_IN_MODULE),i=0,a=0,o=0;o<yt.MODULES_IN_CODEWORD;o++){var s=r/(2*yt.MODULES_IN_CODEWORD)+o*r/yt.MODULES_IN_CODEWORD;a+e[i]<=s&&(a+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return yt.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=_t.sum(e),n=new Array(yt.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var a=IN.MAX_VALUE,o=-1;this.bSymbolTableReady||t.initialize();for(var s=0;s<t.RATIOS_TABLE.length;s++){for(var l=0,u=t.RATIOS_TABLE[s],d=0;d<yt.BARS_IN_MODULE;d++){var f=Math.fround(u[d]-n[d]);if(l+=Math.fround(f*f),l>=a)break}l<a&&(a=l,o=yt.SYMBOL_TABLE[s])}return o},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(yt.SYMBOL_TABLE.length).map(function(e){return new Array(yt.BARS_IN_MODULE)}),t}(),jze=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),c$=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),kze=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rze=function(t){kze(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(Xi),Dze=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new Rze;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new u3;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),Mze=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Lze=function(t){Mze(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Xi),$ze=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fze=function(t){$ze(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new We("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new Lze;i=at.MAX_VALUE}this.buf=nn.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new u3;this.ensureCapacity(this.count+i),Qt.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return nn.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(Dze),Mt;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Mt||(Mt={}));function GJ(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var r1;function jl(t){if(typeof r1>"u"&&(r1=GJ()),r1===null)throw new Error("BigInt is not supported!");return r1(t)}function Bze(){var t=[];t[0]=jl(1);var e=jl(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var Uze=function(){function t(){}return t.decode=function(e,r){var n=new rt(""),i=tn.ISO8859_1;n.enableDecoding(i);for(var a=1,o=e[a++],s=new jze;a<e[0];){switch(o){case t.TEXT_COMPACTION_MODE_LATCH:a=t.textCompaction(e,a,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:a=t.byteCompaction(o,e,i,a,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:a=t.numericCompaction(e,a,n);break;case t.ECI_CHARSET:tn.getCharacterSetECIByValue(e[a++]);break;case t.ECI_GENERAL_PURPOSE:a+=2;break;case t.ECI_USER_DEFINED:a++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=t.decodeMacroBlock(e,a,s);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new Ce;default:a--,a=t.textCompaction(e,a,n);break}if(a<e.length)o=e[a++];else throw Ce.getFormatInstance()}if(n.length()===0)throw Ce.getFormatInstance();var l=new C_(null,n.toString(),null,r);return l.setOther(s),l},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw Ce.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<t.NUMBER_OF_SEQUENCE_CODEWORDS;a++,r++)i[a]=e[r];n.setSegmentIndex(at.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new rt;r=t.textCompaction(e,r,o),n.setFileId(o.toString());var s=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new rt;r=t.textCompaction(e,r+1,l),n.setFileName(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var u=new rt;r=t.textCompaction(e,r+1,u),n.setSender(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new rt;r=t.textCompaction(e,r+1,d),n.setAddressee(d.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new rt;r=t.numericCompaction(e,r+1,f),n.setSegmentCount(at.parseInt(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var h=new rt;r=t.numericCompaction(e,r+1,h),n.setTimestamp(c$.parseLong(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var p=new rt;r=t.numericCompaction(e,r+1,p),n.setChecksum(at.parseInt(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var m=new rt;r=t.numericCompaction(e,r+1,m),n.setFileSize(c$.parseLong(m.toString()));break;default:throw Ce.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw Ce.getFormatInstance()}if(s!==-1){var g=r-s;n.isLastSegment()&&g--,n.setOptionalData(nn.copyOfRange(e,s,s+g))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),a=new Int32Array((e[0]-r)*2),o=0,s=!1;r<e[0]&&!s;){var l=e[r++];if(l<t.TEXT_COMPACTION_MODE_LATCH)i[o]=l/30,i[o+1]=l%30,o+=2;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:i[o++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,s=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=e[r++],a[o]=l,o++;break}}return t.decodeTextCompaction(i,a,o,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var a=Mt.ALPHA,o=Mt.ALPHA,s=0;s<n;){var l=e[s],u="";switch(a){case Mt.ALPHA:if(l<26)u=String.fromCharCode(65+l);else switch(l){case 26:u=" ";break;case t.LL:a=Mt.LOWER;break;case t.ML:a=Mt.MIXED;break;case t.PS:o=a,a=Mt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Mt.ALPHA;break}break;case Mt.LOWER:if(l<26)u=String.fromCharCode(97+l);else switch(l){case 26:u=" ";break;case t.AS:o=a,a=Mt.ALPHA_SHIFT;break;case t.ML:a=Mt.MIXED;break;case t.PS:o=a,a=Mt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Mt.ALPHA;break}break;case Mt.MIXED:if(l<t.PL)u=t.MIXED_CHARS[l];else switch(l){case t.PL:a=Mt.PUNCT;break;case 26:u=" ";break;case t.LL:a=Mt.LOWER;break;case t.AL:a=Mt.ALPHA;break;case t.PS:o=a,a=Mt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Mt.ALPHA;break}break;case Mt.PUNCT:if(l<t.PAL)u=t.PUNCT_CHARS[l];else switch(l){case t.PAL:a=Mt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Mt.ALPHA;break}break;case Mt.ALPHA_SHIFT:if(a=o,l<26)u=String.fromCharCode(65+l);else switch(l){case 26:u=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:a=Mt.ALPHA;break}break;case Mt.PUNCT_SHIFT:if(a=o,l<t.PAL)u=t.PUNCT_CHARS[l];else switch(l){case t.PAL:a=Mt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Mt.ALPHA;break}break}u!==""&&i.append(u),s++}},t.byteCompaction=function(e,r,n,i,a){var o=new Fze,s=0,l=0,u=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),f=r[i++];i<r[0]&&!u;)switch(d[s++]=f,l=900*l+f,f=r[i++],f){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,u=!0;break;default:if(s%5===0&&s>0){for(var h=0;h<6;++h)o.write(Number(jl(l)>>jl(8*(5-h))));l=0,s=0}break}i===r[0]&&f<t.TEXT_COMPACTION_MODE_LATCH&&(d[s++]=f);for(var p=0;p<s;p++)o.write(d[p]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!u;){var m=r[i++];if(m<t.TEXT_COMPACTION_MODE_LATCH)s++,l=900*l+m;else switch(m){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,u=!0;break}if(s%5===0&&s>0){for(var h=0;h<6;++h)o.write(Number(jl(l)>>jl(8*(5-h))));l=0,s=0}}break}return a.append(Ma.decode(o.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,a=!1,o=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!a;){var s=e[r++];if(r===e[0]&&(a=!0),s<t.TEXT_COMPACTION_MODE_LATCH)o[i]=s,i++;else switch(s){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,a=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||s===t.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(n.append(t.decodeBase900toBase10(o,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=jl(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*jl(e[i]);var a=n.toString();if(a.charAt(0)!=="1")throw new Ce;return a.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=GJ()?Bze():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),sm=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Vze=function(){function t(){}return t.decode=function(e,r,n,i,a,o,s){for(var l=new DN(e,r,n,i,a),u=null,d=null,f,h=!0;;h=!1){if(r!=null&&(u=t.getRowIndicatorColumn(e,l,r,!0,o,s)),i!=null&&(d=t.getRowIndicatorColumn(e,l,i,!1,o,s)),f=t.merge(u,d),f==null)throw oe.getNotFoundInstance();var p=f.getBoundingBox();if(h&&p!=null&&(p.getMinY()<l.getMinY()||p.getMaxY()>l.getMaxY()))l=p;else break}f.setBoundingBox(l);var m=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,u),f.setDetectionResultColumn(m,d);for(var g=u!=null,v=1;v<=m;v++){var x=g?v:m-v;if(f.getDetectionResultColumn(x)===void 0){var y=void 0;x===0||x===m?y=new l$(l,x===0):y=new HJ(l),f.setDetectionResultColumn(x,y);for(var w=-1,S=w,E=l.getMinY();E<=l.getMaxY();E++){if(w=t.getStartColumn(f,x,E,g),w<0||w>l.getMaxX()){if(S===-1)continue;w=S}var C=t.detectCodeword(e,l.getMinX(),l.getMaxX(),g,w,E,o,s);C!=null&&(y.setCodeword(E,C),S=w,o=Math.min(o,C.getWidth()),s=Math.max(s,C.getWidth()))}}}return t.createDecoderResult(f)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=DN.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new Ize(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=t.getMax(i),o=0;try{for(var s=sm(i),l=s.next();!l.done;l=s.next()){var u=l.value;if(o+=a-u,u>0)break}}catch(p){r={error:p}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}for(var d=e.getCodewords(),f=0;o>0&&d[f]==null;f++)o--;for(var h=0,f=i.length-1;f>=0&&(h+=a-i[f],!(i[f]>0));f--);for(var f=d.length-1;h>0&&d[f]==null;f--)h--;return e.getBoundingBox().addMissingRows(o,h,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var a=sm(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=Math.max(i,s)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,a,o){for(var s=new l$(r,i),l=0;l<2;l++)for(var u=l===0?1:-1,d=Math.trunc(Math.trunc(n.getX())),f=Math.trunc(Math.trunc(n.getY()));f<=r.getMaxY()&&f>=r.getMinY();f+=u){var h=t.detectCodeword(e,0,e.getWidth(),i,d,f,a,o);h!=null&&(s.setCodeword(f,h),i?d=h.getStartX():d=h.getEndX())}return s},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>yt.MAX_CODEWORDS_IN_BARCODE)throw oe.getNotFoundInstance();n.setValue(a)}else i[0]!==a&&n.setValue(a)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var l=0;l<e.getBarcodeColumnCount();l++){var u=r[s][l+1].getValue(),d=s*e.getBarcodeColumnCount()+l;u.length===0?n.push(d):u.length===1?i[d]=u[0]:(o.push(d),a.push(u))}for(var f=new Array(a.length),h=0;h<f.length;h++)f[h]=a[h];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,yt.toIntArray(n),yt.toIntArray(o),f)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,a){for(var o=new Int32Array(i.length),s=100;s-- >0;){for(var l=0;l<o.length;l++)r[i[l]]=a[l][o[l]];try{return t.decodeCodewords(r,e,n)}catch(d){var u=d instanceof xn;if(!u)throw d}if(o.length===0)throw xn.getChecksumInstance();for(var l=0;l<o.length;l++)if(o[l]<a[l].length-1){o[l]++;break}else if(o[l]=0,l===o.length-1)throw xn.getChecksumInstance()}throw xn.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<o.length;s++)for(var l=0;l<o[s].length;l++)o[s][l]=new Rm;var u=0;try{for(var d=sm(e.getDetectionResultColumns()),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)try{for(var p=(i=void 0,sm(h.getCodewords())),m=p.next();!m.done;m=p.next()){var g=m.value;if(g!=null){var v=g.getRowNumber();if(v>=0){if(v>=o.length)continue;o[v][u].setValue(g.getValue())}}}}catch(x){i={error:x}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}u++}}catch(x){r={error:x}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}return o},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var a,o,s=i?1:-1,l=null;if(t.isValidBarcodeColumn(e,r-s)&&(l=e.getDetectionResultColumn(r-s).getCodeword(n)),l!=null)return i?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(r).getCodewordNearby(n),l!=null)return i?l.getStartX():l.getEndX();if(t.isValidBarcodeColumn(e,r-s)&&(l=e.getDetectionResultColumn(r-s).getCodewordNearby(n)),l!=null)return i?l.getEndX():l.getStartX();for(var u=0;t.isValidBarcodeColumn(e,r-s);){r-=s;try{for(var d=(a=void 0,sm(e.getDetectionResultColumn(r).getCodewords())),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)return(i?h.getEndX():h.getStartX())+s*u*(h.getEndX()-h.getStartX())}}catch(p){a={error:p}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}u++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,a,o,s,l){a=t.adjustCodewordStartColumn(e,r,n,i,a,o);var u=t.getModuleBitCount(e,r,n,i,a,o);if(u==null)return null;var d,f=_t.sum(u);if(i)d=a+f;else{for(var h=0;h<u.length/2;h++){var p=u[h];u[h]=u[u.length-1-h],u[u.length-1-h]=p}d=a,a=d-f}if(!t.checkCodewordSkew(f,s,l))return null;var m=Oze.getDecodedValue(u),g=yt.getCodeword(m);return g===-1?null:new Pze(a,d,t.getCodewordBucketNumber(m),g)},t.getModuleBitCount=function(e,r,n,i,a,o){for(var s=a,l=new Int32Array(8),u=0,d=i?1:-1,f=i;(i?s<n:s>=r)&&u<l.length;)e.get(s,o)===f?(l[u]++,s+=d):(u++,f=!f);return u===l.length||s===(i?n:r)&&u===l.length-1?l:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,a,o){for(var s=a,l=i?-1:1,u=0;u<2;u++){for(;(i?s>=r:s<n)&&i===e.get(s,o);){if(Math.abs(a-s)>t.CODEWORD_SKEW_SIZE)return a;s+=l}l=-l,i=!i}return s},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw Ce.getFormatInstance();var i=1<<r+1,a=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var o=Uze.decode(e,""+r);return o.setErrorsCorrected(a),o.setErasures(n.length),o},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw xn.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw Ce.getFormatInstance();var n=e[0];if(n>e.length)throw Ce.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw Ce.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new m3,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var a=e[n][i];a.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new _ze,t}(),zze=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},MN=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw oe.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof Ce||n instanceof xn?oe.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,a,o=new Array,s=gze.detectMultiple(e,r,n);try{for(var l=zze(s.getPoints()),u=l.next();!u.done;u=l.next()){var d=u.value,f=Vze.decode(s.getBits(),d[4],d[5],d[6],d[7],t.getMinCodewordWidth(d),t.getMaxCodewordWidth(d)),h=new li(f.getText(),f.getRawBytes(),void 0,d,ze.PDF_417);h.putMetadata(jn.ERROR_CORRECTION_LEVEL,f.getECLevel());var p=f.getOther();p!=null&&h.putMetadata(jn.PDF417_EXTRA_METADATA,p),o.push(h)}}catch(m){i={error:m}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return o.map(function(m){return m})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?at.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),Wze=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),u$=function(t){Wze(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(Xi),d$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hze=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(ur.TRY_HARDER)!==void 0,n=e==null?null:e.get(ur.POSSIBLE_FORMATS),i=new Array;if(n!=null){var a=n.some(function(o){return o===ze.UPC_A||o===ze.UPC_E||o===ze.EAN_13||o===ze.EAN_8||o===ze.CODABAR||o===ze.CODE_39||o===ze.CODE_93||o===ze.CODE_128||o===ze.ITF||o===ze.RSS_14||o===ze.RSS_EXPANDED});a&&!r&&i.push(new km(e)),n.includes(ze.QR_CODE)&&i.push(new RN),n.includes(ze.DATA_MATRIX)&&i.push(new kN),n.includes(ze.AZTEC)&&i.push(new ON),n.includes(ze.PDF_417)&&i.push(new MN),a&&r&&i.push(new km(e))}i.length===0&&(r||i.push(new km(e)),i.push(new RN),i.push(new kN),i.push(new ON),i.push(new MN),r&&i.push(new km(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=d$(this.readers),i=n.next();!i.done;i=n.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new u$("No readers where selected, nothing can be read.");try{for(var i=d$(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(s){if(s instanceof u$)continue}}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new oe("No MultiFormat Readers were able to detect the code.")},t}(),Gze=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qze=function(t){Gze(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,a=new Hze;return a.setHints(r),i=t.call(this,a,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e}(xp),Kze=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Kze(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new MN,r)||this}return e})(xp);var Yze=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Yze(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new RN,r)||this}return e})(xp);var LN;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(LN||(LN={}));const n1=LN;var qJ=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new uc(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,a=r.length;a<=e;a++){var o=n.multiply(new uc(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));r.push(o),n=o}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new We("No error correction bytes");var n=e.length-r;if(n<=0)throw new We("No data bytes provided");var i=this.buildGenerator(r),a=new Int32Array(n);Qt.arraycopy(e,0,a,0,n);var o=new uc(this.field,a);o=o.multiplyByMonomial(r,1);for(var s=o.divide(i)[1],l=s.getCoefficients(),u=r-l.length,d=0;d<u;d++)e[n+d]=0;Qt.arraycopy(l,0,e,n+u,l.length)},t}(),Dm=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var s=n[o],l=0;l<i-1;l++){var u=s[l];u===s[l+1]&&u===n[o+1][l]&&u===n[o+1][l+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=0;s<i;s++){var l=n[o];s+6<i&&l[s]===1&&l[s+1]===0&&l[s+2]===1&&l[s+3]===1&&l[s+4]===1&&l[s+5]===0&&l[s+6]===1&&(t.isWhiteHorizontal(l,s-4,s)||t.isWhiteHorizontal(l,s+7,s+11))&&r++,o+6<a&&n[o][s]===1&&n[o+1][s]===0&&n[o+2][s]===1&&n[o+3][s]===1&&n[o+4][s]===1&&n[o+5][s]===0&&n[o+6][s]===1&&(t.isWhiteVertical(n,s,o-4,o)||t.isWhiteVertical(n,s,o+7,o+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var a=n;a<i;a++)if(e[a][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=n[o],l=0;l<i;l++)s[l]===1&&r++;var u=e.getHeight()*e.getWidth(),d=Math.floor(Math.abs(r*2-u)*10/u);return d*t.N4},t.getDataMaskBit=function(e,r,n){var i,a;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:a=n*r,i=(a&1)+a%3;break;case 6:a=n*r,i=(a&1)+a%3&1;break;case 7:a=n*r,i=a%3+(n+r&1)&1;break;default:throw new We("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),a=r?e.getWidth():e.getHeight(),o=e.getArray(),s=0;s<i;s++){for(var l=0,u=-1,d=0;d<a;d++){var f=r?o[s][d]:o[d][s];f===u?l++:(l>=5&&(n+=t.N1+(l-5)),l=1,u=f)}l>=5&&(n+=t.N1+(l-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),Xze=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qze=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=Xze(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;nn.fill(o,e)}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var a=this.bytes[n],o=r.bytes[n],s=0,l=this.width;s<l;++s)if(a[s]!==o[s])return!1;return!0},t.prototype.toString=function(){for(var e=new rt,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),$N=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new rt;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),Zze=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rr=function(t){Zze(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(Xi),f$=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,a){t.clearMatrix(a),t.embedBasicPatterns(n,a),t.embedTypeInfo(r,i,a),t.maybeEmbedVersionInfo(n,a),t.embedDataBits(e,i,a)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new wn;t.makeTypeInfoBits(e,r,i);for(var a=0,o=i.getSize();a<o;++a){var s=i.get(i.getSize()-1-a),l=t.TYPE_INFO_COORDINATES[a],u=l[0],d=l[1];if(n.setBoolean(u,d,s),a<8){var f=n.getWidth()-a-1,h=8;n.setBoolean(f,h,s)}else{var f=8,h=n.getHeight()-7+(a-8);n.setBoolean(f,h,s)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new wn;t.makeVersionInfoBits(e,n);for(var i=6*3-1,a=0;a<6;++a)for(var o=0;o<3;++o){var s=n.get(i);i--,r.setBoolean(a,r.getHeight()-11+o,s),r.setBoolean(r.getHeight()-11+o,a,s)}}},t.embedDataBits=function(e,r,n){for(var i=0,a=-1,o=n.getWidth()-1,s=n.getHeight()-1;o>0;){for(o===6&&(o-=1);s>=0&&s<n.getHeight();){for(var l=0;l<2;++l){var u=o-l;if(t.isEmpty(n.get(u,s))){var d=void 0;i<e.getSize()?(d=e.get(i),++i):d=!1,r!==255&&Dm.getDataMaskBit(r,u,s)&&(d=!d),n.setBoolean(u,s,d)}}s+=a}a=-a,s+=a,o-=2}if(i!==e.getSize())throw new rr("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-at.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new We("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!$N.isValidMaskPattern(r))throw new rr("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var a=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(a,10);var o=new wn;if(o.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new rr("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new rr("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new rr;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new rr;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new rr;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var a=t.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var a=t.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],a=0,o=i.length;a!==o;a++){var s=i[a];if(s>=0)for(var l=0;l!==o;l++){var u=i[l];u>=0&&t.isEmpty(r.get(u,s))&&t.embedPositionAdjustmentPattern(u-2,s-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),Jze=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),h$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return Dm.applyMaskPenaltyRule1(e)+Dm.applyMaskPenaltyRule2(e)+Dm.applyMaskPenaltyRule3(e)+Dm.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,a=n!==null&&n.get(n1.CHARACTER_SET)!==void 0;a&&(i=n.get(n1.CHARACTER_SET).toString());var o=this.chooseMode(e,i),s=new wn;if(o===ir.BYTE&&(a||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var l=tn.getCharacterSetECIByName(i);l!==void 0&&this.appendECI(l,s)}this.appendModeInfo(o,s);var u=new wn;this.appendBytes(e,o,u,i);var d;if(n!==null&&n.get(n1.QR_VERSION)!==void 0){var f=Number.parseInt(n.get(n1.QR_VERSION).toString(),10);d=Mu.getVersionForNumber(f);var h=this.calculateBitsNeeded(o,s,u,d);if(!this.willFit(h,d,r))throw new rr("Data too big for requested version")}else d=this.recommendVersion(r,o,s,u);var p=new wn;p.appendBitArray(s);var m=o===ir.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(m,d,o,p),p.appendBitArray(u);var g=d.getECBlocksForLevel(r),v=d.getTotalCodewords()-g.getTotalECCodewords();this.terminateBits(v,p);var x=this.interleaveWithECBytes(p,d.getTotalCodewords(),v,g.getNumBlocks()),y=new $N;y.setECLevel(r),y.setMode(o),y.setVersion(d);var w=d.getDimensionForVersion(),S=new Qze(w,w),E=this.chooseMaskPattern(x,r,d,S);return y.setMaskPattern(E),f$.buildMatrix(x,r,d,E,S),y.setMatrix(S),y},t.recommendVersion=function(e,r,n,i){var a=this.calculateBitsNeeded(r,n,i,Mu.getVersionForNumber(1)),o=this.chooseVersion(a,e),s=this.calculateBitsNeeded(r,n,i,o);return this.chooseVersion(s,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),tn.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return ir.KANJI;for(var n=!1,i=!1,a=0,o=e.length;a<o;++a){var s=e.charAt(a);if(t.isDigit(s))n=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)i=!0;else return ir.BYTE}return i?ir.ALPHANUMERIC:n?ir.NUMERIC:ir.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=Ma.encode(e,tn.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var a=r[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,s=0;s<$N.NUM_MASK_PATTERNS;s++){f$.buildMatrix(e,r,n,s,i);var l=this.calculateMaskPenalty(i);l<a&&(a=l,o=s)}return o},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=Mu.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new rr("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),a=r.getECBlocksForLevel(n),o=a.getTotalECCodewords(),s=i-o,l=(e+7)/8;return s>=l},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new rr("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var a=r.getSize()&7;if(a>0)for(var i=a;i<8;i++)r.appendBit(!1);for(var o=e-r.getSizeInBytes(),i=0;i<o;++i)r.appendBits(i&1?17:236,8);if(r.getSize()!==n)throw new rr("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,a,o){if(i>=n)throw new rr("Block ID too large");var s=e%n,l=n-s,u=Math.floor(e/n),d=u+1,f=Math.floor(r/n),h=f+1,p=u-f,m=d-h;if(p!==m)throw new rr("EC bytes mismatch");if(n!==l+s)throw new rr("RS blocks mismatch");if(e!==(f+p)*l+(h+m)*s)throw new rr("Total bytes mismatch");i<l?(a[0]=f,o[0]=p):(a[0]=h,o[0]=m)},t.interleaveWithECBytes=function(e,r,n,i){var a,o,s,l;if(e.getSizeInBytes()!==n)throw new rr("Number of bits and data bytes does not match");for(var u=0,d=0,f=0,h=new Array,p=0;p<i;++p){var m=new Int32Array(1),g=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,p,m,g);var v=m[0],x=new Uint8Array(v);e.toBytes(8*u,x,0,v);var y=t.generateECBytes(x,g[0]);h.push(new Jze(x,y)),d=Math.max(d,v),f=Math.max(f,y.length),u+=m[0]}if(n!==u)throw new rr("Data bytes does not match offset");for(var w=new wn,p=0;p<d;++p)try{for(var S=(a=void 0,h$(h)),E=S.next();!E.done;E=S.next()){var C=E.value,x=C.getDataBytes();p<x.length&&w.appendBits(x[p],8)}}catch(I){a={error:I}}finally{try{E&&!E.done&&(o=S.return)&&o.call(S)}finally{if(a)throw a.error}}for(var p=0;p<f;++p)try{for(var A=(s=void 0,h$(h)),T=A.next();!T.done;T=A.next()){var C=T.value,y=C.getErrorCorrectionBytes();p<y.length&&w.appendBits(y[p],8)}}catch(I){s={error:I}}finally{try{T&&!T.done&&(l=A.return)&&l.call(A)}finally{if(s)throw s.error}}if(r!==w.getSizeInBytes())throw new rr("Interleaving error: "+r+" and "+w.getSizeInBytes()+" differ.");return w},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),a=0;a<n;a++)i[a]=e[a]&255;new qJ(Di.QR_CODE_FIELD_256).encode(i,r);for(var o=new Uint8Array(r),a=0;a<r;a++)o[a]=i[n+a];return o},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var a=n.getCharacterCountBits(r);if(e>=1<<a)throw new rr(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},t.appendBytes=function(e,r,n,i){switch(r){case ir.NUMERIC:t.appendNumericBytes(e,n);break;case ir.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case ir.BYTE:t.append8BitBytes(e,n,i);break;case ir.KANJI:t.appendKanjiBytes(e,n);break;default:throw new rr("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getDigit(e.charAt(i));if(i+2<n){var o=t.getDigit(e.charAt(i+1)),s=t.getDigit(e.charAt(i+2));r.appendBits(a*100+o*10+s,10),i+=3}else if(i+1<n){var o=t.getDigit(e.charAt(i+1));r.appendBits(a*10+o,7),i+=2}else r.appendBits(a,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new rr;if(i+1<n){var o=t.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new rr;r.appendBits(a*45+o,11),i+=2}else r.appendBits(a,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=Ma.encode(e,n)}catch(l){throw new rr(l)}for(var a=0,o=i.length;a!==o;a++){var s=i[a];r.appendBits(s,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=Ma.encode(e,tn.SJIS)}catch(f){throw new rr(f)}for(var i=n.length,a=0;a<i;a+=2){var o=n[a]&255,s=n[a+1]&255,l=o<<8&4294967295|s,u=-1;if(l>=33088&&l<=40956?u=l-33088:l>=57408&&l<=60351&&(u=l-49472),u===-1)throw new rr("Invalid byte sequence");var d=(u>>8)*192+(u&255);r.appendBits(d,13)}},t.appendECI=function(e,r){r.appendBits(ir.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=tn.UTF8.getName(),t})();var eWe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){eWe(e,t);function e(r,n,i,a,o,s,l,u){var d=t.call(this,s,l)||this;if(d.yuvData=r,d.dataWidth=n,d.dataHeight=i,d.left=a,d.top=o,a+s>n||o+l>i)throw new We("Crop rectangle does not fit within image data.");return u&&d.reverseHorizontal(s,l),d}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new We("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return Qt.arraycopy(this.yuvData,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Qt.arraycopy(this.yuvData,o,a,0,i),a;for(var s=0;s<n;s++){var l=s*r;Qt.arraycopy(this.yuvData,o,a,l,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,a,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),a=this.yuvData,o=this.top*this.dataWidth+this.left,s=0;s<n;s++){for(var l=s*r,u=0;u<r;u++){var d=a[o+u*e.THUMBNAIL_SCALE_FACTOR]&255;i[l+u]=4278190080|d*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<n;a++,o+=this.dataWidth)for(var s=o+r/2,l=o,u=o+r-1;l<s;l++,u--){var d=i[l];i[l]=i[u],i[u]=d}},e.prototype.invert=function(){return new d3(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(A_);var tWe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){tWe(e,t);function e(r,n,i,a,o,s,l){var u=t.call(this,n,i)||this;if(u.dataWidth=a,u.dataHeight=o,u.left=s,u.top=l,r.BYTES_PER_ELEMENT===4){for(var d=n*i,f=new Uint8ClampedArray(d),h=0;h<d;h++){var p=r[h],m=p>>16&255,g=p>>7&510,v=p&255;f[h]=(m+g+v)/4&255}u.luminances=f}else u.luminances=r;if(a===void 0&&(u.dataWidth=n),o===void 0&&(u.dataHeight=i),s===void 0&&(u.left=0),l===void 0&&(u.top=0),u.left+n>u.dataWidth||u.top+i>u.dataHeight)throw new We("Crop rectangle does not fit within image data.");return u}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new We("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return Qt.arraycopy(this.luminances,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Qt.arraycopy(this.luminances,o,a,0,i),a;for(var s=0;s<n;s++){var l=s*r;Qt.arraycopy(this.luminances,o,a,l,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new d3(this)},e})(A_);var rWe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),nWe=function(t){rWe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(tn),iWe=function(){function t(){}return t.ISO_8859_1=tn.ISO8859_1,t}(),FN,aWe=301,oWe=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=aWe);return{LOG:t,ALOG:e}};FN=oWe([],[]),FN.LOG;FN.ALOG;var p$;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(p$||(p$={}));var m$=129,KJ=230,sWe=231,lWe=235,cWe=236,uWe=237,dWe=238,fWe=239,hWe=240,pA=254,pWe=254,g$="[)>05",v$="[)>06",y$="",It=0,Tn=1,pi=2,Qr=3,mn=4,Wn=5,mWe=function(){function t(){}return t.prototype.getEncodingMode=function(){return It},t.prototype.encode=function(e){var r=co.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=co.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Wn:e.writeCodeword(sWe),e.signalEncoderChange(Wn);return;case Tn:e.writeCodeword(KJ),e.signalEncoderChange(Tn);return;case Qr:e.writeCodeword(dWe),e.signalEncoderChange(Qr);break;case pi:e.writeCodeword(fWe),e.signalEncoderChange(pi);break;case mn:e.writeCodeword(hWe),e.signalEncoderChange(mn);break;default:throw new Error("Illegal mode: "+i)}else co.isExtendedASCII(n)?(e.writeCodeword(lWe),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(co.isDigit(e)&&co.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t}(),gWe=function(){function t(){}return t.prototype.getEncodingMode=function(){return Wn},t.prototype.encode=function(e){var r=new rt;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var i=co.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(It);break}}var a=r.length()-1,o=1,s=e.getCodewordCount()+a+o;e.updateSymbolInfo(s);var l=e.getSymbolInfo().getDataCapacity()-s>0;if(e.hasMoreCharacters()||l)if(a<=249)r.setCharAt(0,pt.getCharAt(a));else if(a<=1555)r.setCharAt(0,pt.getCharAt(Math.floor(a/250)+249)),r.insert(1,pt.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var u=0,n=r.length();u<n;u++)e.writeCodeword(this.randomize255State(r.charAt(u).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,i=e+n;return i<=255?i:i-256},t}(),g3=function(){function t(){}return t.prototype.getEncodingMode=function(){return Tn},t.prototype.encodeMaximal=function(e){for(var r=new rt,n=0,i=e.pos,a=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,n=this.encodeChar(o,r),r.length()%3===0&&(i=e.pos,a=r.length())}if(a!==r.length()){var s=Math.floor(r.length()/3*2),l=Math.floor(e.getCodewordCount()+s+1);e.updateSymbolInfo(l);var u=e.getSymbolInfo().getDataCapacity()-l,d=Math.floor(r.length()%3);(d===2&&u!==2||d===1&&(n>3||u!==1))&&(e.pos=i)}r.length()>0&&e.writeCodeword(KJ),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new rt;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,r),a=Math.floor(r.length()/3)*2,o=e.getCodewordCount()+a;e.updateSymbolInfo(o);var s=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var l=new rt;for(r.length()%3===2&&s!==2&&(i=this.backtrackOneCharacter(e,r,l,i));r.length()%3===1&&(i>3||s!==1);)i=this.backtrackOneCharacter(e,r,l,i);break}var u=r.length();if(u%3===0){var d=co.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){e.signalEncoderChange(It);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,i){var a=r.length(),o=r.toString().substring(0,a-i);r.setLengthToZero(),r.append(o),e.pos--;var s=e.getCurrentChar();return i=this.encodeChar(s,n),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),i=r.length()%3,a=e.getCodewordCount()+n;e.updateSymbolInfo(a);var o=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(pA)}else if(o===1&&i===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(pA),e.pos--}else if(i===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(o>0||e.hasMoreCharacters())&&e.writeCodeword(pA)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(It)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,i=r%256,a=new rt;return a.append(n),a.append(i),a.toString()},t}(),vWe=function(){function t(){}return t.prototype.getEncodingMode=function(){return mn},t.prototype.encode=function(e){for(var r=new rt;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var i=r.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var a=r.toString().substring(4);r.setLengthToZero(),r.append(a);var o=co.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(It);break}}}r.append(pt.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var o=n-1,s=this.encodeToCodewords(r.toString()),l=!e.hasMoreCharacters(),u=l&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(u=!1,e.updateSymbolInfo(e.getCodewordCount()+s.length))}u?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(s)}finally{e.signalEncoderChange(It)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(pt.getCharAt(e-64)):co.illegalCharacter(pt.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=r>=2?e.charAt(1).charCodeAt(0):0,a=r>=3?e.charAt(2).charCodeAt(0):0,o=r>=4?e.charAt(3).charCodeAt(0):0,s=(n<<18)+(i<<12)+(a<<6)+o,l=s>>16&255,u=s>>8&255,d=s&255,f=new rt;return f.append(l),r>=2&&f.append(u),r>=3&&f.append(d),f.toString()},t}(),yWe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xWe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},At=function(){function t(e,r,n,i,a,o,s,l){s===void 0&&(s=0),l===void 0&&(l=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=o,this.rsBlockData=s,this.rsBlockError=l}return t.lookup=function(e,r,n,i,a){var o,s;r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var l=xWe(bWe),u=l.next();!u.done;u=l.next()){var d=u.value;if(!(r===1&&d.rectangular)&&!(r===2&&!d.rectangular)&&!(n!=null&&(d.getSymbolWidth()<n.getWidth()||d.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(d.getSymbolWidth()>i.getWidth()||d.getSymbolHeight()>i.getHeight()))&&e<=d.dataCapacity)return d}}catch(f){o={error:f}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),wWe=function(t){yWe(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e}(At),bWe=[new At(!1,3,5,8,8,1),new At(!1,5,7,10,10,1),new At(!0,5,7,16,6,1),new At(!1,8,10,12,12,1),new At(!0,10,11,14,6,2),new At(!1,12,12,14,14,1),new At(!0,16,14,24,10,1),new At(!1,18,14,16,16,1),new At(!1,22,18,18,18,1),new At(!0,22,18,16,10,2),new At(!1,30,20,20,20,1),new At(!0,32,24,16,14,2),new At(!1,36,24,22,22,1),new At(!1,44,28,24,24,1),new At(!0,49,28,22,14,2),new At(!1,62,36,14,14,4),new At(!1,86,42,16,16,4),new At(!1,114,48,18,18,4),new At(!1,144,56,20,20,4),new At(!1,174,68,22,22,4),new At(!1,204,84,24,24,4,102,42),new At(!1,280,112,14,14,16,140,56),new At(!1,368,144,16,16,16,92,36),new At(!1,456,192,18,18,16,114,48),new At(!1,576,224,20,20,16,144,56),new At(!1,696,272,22,22,16,174,68),new At(!1,816,336,24,24,16,136,56),new At(!1,1050,408,18,18,36,175,68),new At(!1,1304,496,20,20,36,163,62),new wWe],_We=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(s){return s.charCodeAt(0)}),n=new rt,i=0,a=r.length;i<a;i++){var o=String.fromCharCode(r[i]&255);if(o==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(o)}this.msg=n.toString(),this.shape=0,this.codewords=new rt,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=At.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),SWe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),EWe=function(t){SWe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Qr},e.prototype.encode=function(r){for(var n=new rt;r.hasMoreCharacters();){var i=r.getCurrentChar();r.pos++,this.encodeChar(i,n);var a=n.length();if(a%3===0){this.writeNextTriplet(r,n);var o=co.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){r.signalEncoderChange(It);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):co.illegalCharacter(pt.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var i=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),a=n.length();r.pos-=a,(r.getRemainingCharacters()>1||i>1||r.getRemainingCharacters()!==i)&&r.writeCodeword(pWe),r.getNewEncoding()<0&&r.signalEncoderChange(It)},e}(g3),AWe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),CWe=function(t){AWe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return pi},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(r-128,n),i},e}(g3),co=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=m$+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,i,a){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!1);var o=new g3,s=[new mWe,o,new CWe,new EWe,new vWe,new gWe],l=new _We(e);l.setSymbolShape(r),l.setSizeConstraints(n,i),e.startsWith(g$)&&e.endsWith(y$)?(l.writeCodeword(cWe),l.setSkipAtEnd(2),l.pos+=g$.length):e.startsWith(v$)&&e.endsWith(y$)&&(l.writeCodeword(uWe),l.setSkipAtEnd(2),l.pos+=v$.length);var u=It;for(a&&(o.encodeMaximal(l),u=l.getNewEncoding(),l.resetEncoderSignal());l.hasMoreCharacters();)s[u].encode(l),l.getNewEncoding()>=0&&(u=l.getNewEncoding(),l.resetEncoderSignal());var d=l.getCodewordCount();l.updateSymbolInfo();var f=l.getSymbolInfo().getDataCapacity();d<f&&u!==It&&u!==Wn&&u!==mn&&l.writeCodeword("");var h=l.getCodewords();for(h.length()<f&&h.append(m$);h.length()<f;)h.append(this.randomize253State(h.length()+1));return l.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var i=this.lookAheadTestIntern(e,r,n);if(n===Qr&&i===Qr){for(var a=Math.min(r+3,e.length),o=r;o<a;o++)if(!this.isNativeX12(e.charCodeAt(o)))return It}else if(n===mn&&i===mn){for(var a=Math.min(r+4,e.length),o=r;o<a;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return It}return i},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var i;n===It?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var a=0,o=new Uint8Array(6),s=[];;){if(r+a===e.length){nn.fill(o,0),nn.fill(s,0);var l=this.findMinimums(i,s,at.MAX_VALUE,o),u=this.getMinimumCount(o);if(s[It]===l)return It;if(u===1){if(o[Wn]>0)return Wn;if(o[mn]>0)return mn;if(o[pi]>0)return pi;if(o[Qr]>0)return Qr}return Tn}var d=e.charCodeAt(r+a);if(a++,this.isDigit(d)?i[It]+=.5:this.isExtendedASCII(d)?(i[It]=Math.ceil(i[It]),i[It]+=2):(i[It]=Math.ceil(i[It]),i[It]++),this.isNativeC40(d)?i[Tn]+=2/3:this.isExtendedASCII(d)?i[Tn]+=8/3:i[Tn]+=4/3,this.isNativeText(d)?i[pi]+=2/3:this.isExtendedASCII(d)?i[pi]+=8/3:i[pi]+=4/3,this.isNativeX12(d)?i[Qr]+=2/3:this.isExtendedASCII(d)?i[Qr]+=13/3:i[Qr]+=10/3,this.isNativeEDIFACT(d)?i[mn]+=3/4:this.isExtendedASCII(d)?i[mn]+=17/4:i[mn]+=13/4,this.isSpecialB256(d)?i[Wn]+=4:i[Wn]++,a>=4){if(nn.fill(o,0),nn.fill(s,0),this.findMinimums(i,s,at.MAX_VALUE,o),s[It]<this.min(s[Wn],s[Tn],s[pi],s[Qr],s[mn]))return It;if(s[Wn]<s[It]||s[Wn]+1<this.min(s[Tn],s[pi],s[Qr],s[mn]))return Wn;if(s[mn]+1<this.min(s[Wn],s[Tn],s[pi],s[Qr],s[It]))return mn;if(s[pi]+1<this.min(s[Wn],s[Tn],s[mn],s[Qr],s[It]))return pi;if(s[Qr]+1<this.min(s[Wn],s[Tn],s[mn],s[pi],s[It]))return Qr;if(s[Tn]+1<this.min(s[It],s[Wn],s[mn],s[pi])){if(s[Tn]<s[Qr])return Tn;if(s[Tn]===s[Qr]){for(var f=r+a+1;f<e.length;){var h=e.charCodeAt(f);if(this.isX12TermSep(h))return Qr;if(!this.isNativeX12(h))break;f++}return Tn}}}}},t.min=function(e,r,n,i,a){var o=Math.min(e,Math.min(r,Math.min(n,i)));return a===void 0?o:Math.min(o,a)},t.findMinimums=function(e,r,n,i){for(var a=0;a<6;a++){var o=r[a]=Math.ceil(e[a]);n>o&&(n=o,nn.fill(i,0)),n===o&&(i[a]=i[a]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,i=r;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-r},t.illegalCharacter=function(e){var r=at.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t}(),mA=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},x$=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return Ma.encode(e,this.charset)!=null}catch{return!1}},t}(),TWe=function(){function t(e,r,n){var i,a,o,s,l,u;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(N){return new x$(nWe.forName(N))}),this.encoders=[];var d=[];d.push(new x$(iWe.ISO_8859_1));for(var f=r!=null&&r.name.startsWith("UTF"),h=0;h<e.length;h++){var p=!1;try{for(var m=(i=void 0,mA(d)),g=m.next();!g.done;g=m.next()){var v=g.value,x=e.charAt(h),y=x.charCodeAt(0);if(y===n||v.canEncode(x)){p=!0;break}}}catch(N){i={error:N}}finally{try{g&&!g.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}if(!p)try{for(var w=(o=void 0,mA(this.ENCODERS)),S=w.next();!S.done;S=w.next()){var v=S.value;if(v.canEncode(e.charAt(h))){d.push(v),p=!0;break}}}catch(N){o={error:N}}finally{try{S&&!S.done&&(s=w.return)&&s.call(w)}finally{if(o)throw o.error}}p||(f=!0)}if(d.length===1&&!f)this.encoders=[d[0]];else{this.encoders=[];var E=0;try{for(var C=mA(d),A=C.next();!A.done;A=C.next()){var v=A.value;this.encoders[E++]=v}}catch(N){l={error:N}}finally{try{A&&!A.done&&(u=C.return)&&u.call(C)}finally{if(l)throw l.error}}}var T=-1;if(r!=null){for(var h=0;h<this.encoders.length;h++)if(this.encoders[h]!=null&&r.name===this.encoders[h].name){T=h;break}}this.priorityEncoderIndex=T}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return Ma.encode(pt.getCharAt(e),this.encoders[r].name)},t}(),NWe=3,IWe=function(){function t(e,r,n){this.fnc1=n;var i=new TWe(e,r,n);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var o=e.charAt(a).charCodeAt(0);this.bytes[a]=o===n?1e3:o}else this.bytes=this.encodeMinimally(e,i,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new rt,i=e;i<r;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,i,a,o){var s=e.charAt(i).charCodeAt(0),l=0,u=r.length();r.getPriorityEncoderIndex()>=0&&(s===o||r.canEncode(s,r.getPriorityEncoderIndex()))&&(l=r.getPriorityEncoderIndex(),u=l+1);for(var d=l;d<u;d++)(s===o||r.canEncode(s,d))&&this.addEdge(n,i+1,new w$(s,r,d,a,o))},t.prototype.encodeMinimally=function(e,r,n){var i=e.length,a=new w$[i+1][r.length()];this.addEdges(e,r,a,0,null,n);for(var o=1;o<=i;o++){for(var s=0;s<r.length();s++)a[o][s]!=null&&o<i&&this.addEdges(e,r,a,o,a[o][s],n);for(var s=0;s<r.length();s++)a[o-1][s]=null}for(var l=-1,u=at.MAX_VALUE,s=0;s<r.length();s++)if(a[i][s]!=null){var d=a[i][s];d.cachedTotalSize<u&&(u=d.cachedTotalSize,l=s)}if(l<0)throw new Error('Failed to encode "'+e+'"');for(var f=[],h=a[i][l];h!=null;){if(h.isFNC1())f.unshift(1e3);else for(var p=r.encode(h.c,h.encoderIndex),o=p.length-1;o>=0;o--)f.unshift(p[o]&255);var m=h.previous===null?0:h.previous.encoderIndex;m!==h.encoderIndex&&f.unshift(256+r.getECIValue(h.encoderIndex)),h=h.previous}for(var g=[],o=0;o<g.length;o++)g[o]=f[o];return g},t}(),w$=function(){function t(e,r,n,i,a){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var o=this.isFNC1()?1:r.encode(e,n).length,s=i===null?0:i.encoderIndex;s!==n&&(o+=NWe),i!=null&&(o+=i.cachedTotalSize),this.cachedTotalSize=o}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),PWe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var b$;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(b$||(b$={}));(function(t){PWe(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n,i)||this;return s.shape=a,s.macroId=o,s}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(IWe);var OWe=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),_$=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),jWe=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),kWe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),v3=function(t){kWe(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.value=n,a.bitCount=i,a}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+at.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(jWe),RWe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),DWe=function(t){RWe(e,t);function e(r,n,i){var a=t.call(this,r,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(v3);function MWe(t,e,r){return new DWe(t,e,r)}function lm(t,e,r){return new v3(t,e,r)}var LWe=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],dc=0,Rw=1,Oa=2,YJ=3,Uo=4,$We=new v3(null,0,0),gA=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],FWe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function BWe(t){var e,r;try{for(var n=FWe(t),i=n.next();!i.done;i=n.next()){var a=i.value;nn.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[dc][Uo]=0,t[Rw][Uo]=0,t[Rw][dc]=28,t[YJ][Uo]=0,t[Oa][Uo]=0,t[Oa][dc]=15,t}var XJ=BWe(nn.createInt32Array(6,6)),UWe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},VWe=function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var a=gA[this.mode][e];i=lm(i,a&65535,a>>16),n+=a>>16}var o=e===Oa?4:5;return i=lm(i,r,o),new t(i,e,0,n+o)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===Oa?4:5;return n=lm(n,XJ[this.mode][e],i),n=lm(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===Uo||this.mode===Oa){var a=gA[n][dc];r=lm(r,a&65535,a>>16),i+=a>>16,n=dc}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new t(r,n,this.binaryShiftByteCount+1,i+o);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(e+1)),s},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=MWe(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(gA[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var o=new wn;try{for(var s=UWe(i),l=s.next();!l.done;l=s.next()){var u=l.value;u.appendTo(o,e)}}catch(d){r={error:d}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},t.prototype.toString=function(){return pt.format("%s bits=%d bytes=%d",LWe[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t($We,dc,0,0),t}();function zWe(t){var e=pt.getCharCode(" "),r=pt.getCharCode("."),n=pt.getCharCode(",");t[dc][e]=1;for(var i=pt.getCharCode("Z"),a=pt.getCharCode("A"),o=a;o<=i;o++)t[dc][o]=o-a+2;t[Rw][e]=1;for(var s=pt.getCharCode("z"),l=pt.getCharCode("a"),o=l;o<=s;o++)t[Rw][o]=o-l+2;t[Oa][e]=1;for(var u=pt.getCharCode("9"),d=pt.getCharCode("0"),o=d;o<=u;o++)t[Oa][o]=o-d+2;t[Oa][n]=12,t[Oa][r]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],h=0;h<f.length;h++)t[YJ][pt.getCharCode(f[h])]=h;for(var p=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],h=0;h<p.length;h++)pt.getCharCode(p[h])>0&&(t[Uo][pt.getCharCode(p[h])]=h);return t}var vA=zWe(nn.createInt32Array(5,256)),i1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},WWe=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=pt.getCharCode(" "),r=pt.getCharCode(`
`),n=_$.singletonList(VWe.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case pt.getCharCode("\r"):a=o===r?2:0;break;case pt.getCharCode("."):a=o===e?3:0;break;case pt.getCharCode(","):a=o===e?4:0;break;case pt.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(n=t.updateStateListForPair(n,i,a),i++):n=this.updateStateListForChar(n,i)}var s=_$.min(n,function(l,u){return l.getBitCount()-u.getBitCount()});return s.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,a=[];try{for(var o=i1(e),s=o.next();!s.done;s=o.next()){var l=s.value;this.updateStateForChar(l,r,a)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return t.simplifyStates(a)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,a=vA[e.getMode()][i]>0,o=null,s=0;s<=Uo;s++){var l=vA[s][i];if(l>0){if(o==null&&(o=e.endBinaryShift(r)),!a||s===e.getMode()||s===Oa){var u=o.latchAndAppend(s,l);n.push(u)}if(!a&&XJ[e.getMode()][s]>=0){var d=o.shiftAndAppend(s,l);n.push(d)}}}if(e.getBinaryShiftByteCount()>0||vA[e.getMode()][i]===0){var f=e.addBinaryShiftChar(r);n.push(f)}},t.updateStateListForPair=function(e,r,n){var i,a,o=[];try{for(var s=i1(e),l=s.next();!l.done;l=s.next()){var u=l.value;this.updateStateForPair(u,r,n,o)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return this.simplifyStates(o)},t.updateStateForPair=function(e,r,n,i){var a=e.endBinaryShift(r);if(i.push(a.latchAndAppend(Uo,n)),e.getMode()!==Uo&&i.push(a.shiftAndAppend(Uo,n)),n===3||n===4){var o=a.latchAndAppend(Oa,16-n).latchAndAppend(Oa,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(s)}},t.simplifyStates=function(e){var r,n,i,a,o=[];try{for(var s=i1(e),l=s.next();!l.done;l=s.next()){var u=l.value,d=!0,f=function(v){if(v.isBetterThanOrEqualTo(u))return d=!1,"break";u.isBetterThanOrEqualTo(v)&&(o=o.filter(function(x){return x!==v}))};try{for(var h=(i=void 0,i1(o)),p=h.next();!p.done;p=h.next()){var m=p.value,g=f(m);if(g==="break")break}}catch(v){i={error:v}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}d&&o.push(u)}}catch(v){r={error:v}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},t}(),HWe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new WWe(e).encode(),a=at.truncDivision(i.getSize()*r,100)+11,o=i.getSize()+a,s,l,u,d,f;if(n!==t.DEFAULT_AZTEC_LAYERS){if(s=n<0,l=Math.abs(n),l>(s?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new We(pt.format("Illegal value %s for layers",n));u=t.totalBitsInLayer(l,s),d=t.WORD_SIZE[l];var h=u-u%d;if(f=t.stuffBits(i,d),f.getSize()+a>h)throw new We("Data to large for user specified layer");if(s&&f.getSize()>d*64)throw new We("Data to large for user specified layer")}else{d=0,f=null;for(var p=0;;p++){if(p>t.MAX_NB_BITS)throw new We("Data too large for an Aztec code");if(s=p<=3,l=s?p+1:p,u=t.totalBitsInLayer(l,s),!(o>u)){(f==null||d!==t.WORD_SIZE[l])&&(d=t.WORD_SIZE[l],f=t.stuffBits(i,d));var h=u-u%d;if(!(s&&f.getSize()>d*64)&&f.getSize()+a<=h)break}}}var m=t.generateCheckWords(f,u,d),g=f.getSize()/d,v=t.generateModeMessage(s,l,g),x=(s?11:14)+l*4,y=new Int32Array(x),w;if(s){w=x;for(var p=0;p<y.length;p++)y[p]=p}else{w=x+1+2*at.truncDivision(at.truncDivision(x,2)-1,15);for(var S=at.truncDivision(x,2),E=at.truncDivision(w,2),p=0;p<S;p++){var C=p+at.truncDivision(p,15);y[S-p-1]=E-C-1,y[S+p]=E+C+1}}for(var A=new ls(w),p=0,T=0;p<l;p++){for(var N=(l-p)*4+(s?9:12),I=0;I<N;I++)for(var j=I*2,O=0;O<2;O++)m.get(T+j+O)&&A.set(y[p*2+O],y[p*2+I]),m.get(T+N*2+j+O)&&A.set(y[p*2+I],y[x-1-p*2-O]),m.get(T+N*4+j+O)&&A.set(y[x-1-p*2-O],y[x-1-p*2-I]),m.get(T+N*6+j+O)&&A.set(y[x-1-p*2-I],y[p*2+O]);T+=N*8}if(t.drawModeMessage(A,s,w,v),s)t.drawBullsEye(A,at.truncDivision(w,2),5);else{t.drawBullsEye(A,at.truncDivision(w,2),7);for(var p=0,I=0;p<at.truncDivision(x,2)-1;p+=15,I+=16)for(var O=at.truncDivision(w,2)&1;O<w;O+=2)A.set(at.truncDivision(w,2)-I,O),A.set(at.truncDivision(w,2)+I,O),A.set(O,at.truncDivision(w,2)-I),A.set(O,at.truncDivision(w,2)+I)}var P=new OWe;return P.setCompact(s),P.setSize(w),P.setLayers(l),P.setCodeWords(g),P.setMatrix(A),P},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var a=r-i;a<=r+i;a++)e.set(a,r-i),e.set(a,r+i),e.set(r-i,a),e.set(r+i,a);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new wn;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var a=at.truncDivision(n,2);if(r)for(var o=0;o<7;o++){var s=a-3+o;i.get(o)&&e.set(s,a-5),i.get(o+7)&&e.set(a+5,s),i.get(20-o)&&e.set(s,a+5),i.get(27-o)&&e.set(a-5,s)}else for(var o=0;o<10;o++){var s=a-5+o+at.truncDivision(o,5);i.get(o)&&e.set(s,a-7),i.get(o+10)&&e.set(a+7,s),i.get(29-o)&&e.set(s,a+7),i.get(39-o)&&e.set(a-7,s)}},t.generateCheckWords=function(e,r,n){var i,a,o=e.getSize()/n,s=new qJ(t.getGF(n)),l=at.truncDivision(r,n),u=t.bitsToWords(e,n,l);s.encode(u,l-o);var d=r%n,f=new wn;f.appendBits(0,d);try{for(var h=HWe(Array.from(u)),p=h.next();!p.done;p=h.next()){var m=p.value;f.appendBits(m,n)}}catch(g){i={error:g}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return f},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),a,o;for(a=0,o=e.getSize()/r;a<o;a++){for(var s=0,l=0;l<r;l++)s|=e.get(a*r+l)?1<<r-l-1:0;i[a]=s}return i},t.getGF=function(e){switch(e){case 4:return Di.AZTEC_PARAM;case 6:return Di.AZTEC_DATA_6;case 8:return Di.AZTEC_DATA_8;case 10:return Di.AZTEC_DATA_10;case 12:return Di.AZTEC_DATA_12;default:throw new We("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new wn,i=e.getSize(),a=(1<<r)-2,o=0;o<i;o+=r){for(var s=0,l=0;l<r;l++)(o+l>=i||e.get(o+l))&&(s|=1<<r-1-l);(s&a)===a?(n.appendBits(s&a,r),o--):s&a?n.appendBits(s,r):(n.appendBits(s|1,r),o--)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var QJ={exports:{}};(function(t,e){(function(n,i){t.exports=i(b)})(aa,function(r){return function(n){var i={};function a(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=i,a.d=function(o,s,l){a.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,s){if(s&1&&(o=a(o)),s&8||s&4&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),s&2&&typeof o!="string")for(var u in o)a.d(l,u,(function(d){return o[d]}).bind(null,u));return l},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="",a(a.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(n,i,a){a.r(i);var o=a("react"),s=function(){var h=function(p,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var x in v)v.hasOwnProperty(x)&&(g[x]=v[x])},h(p,m)};return function(p,m){h(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),l=function(){return l=Object.assign||function(h){for(var p,m=1,g=arguments.length;m<g;m++){p=arguments[m];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(h[v]=p[v])}return h},l.apply(this,arguments)},u=function(h,p){var m={};for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&p.indexOf(g)<0&&(m[g]=h[g]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,g=Object.getOwnPropertySymbols(h);v<g.length;v++)p.indexOf(g[v])<0&&Object.prototype.propertyIsEnumerable.call(h,g[v])&&(m[g[v]]=h[g[v]]);return m};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(p){var m=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return m?new Promise(function(g,v){m.call(navigator,p,g,v)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function d(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var f=function(h){s(p,h);function p(m){var g=h.call(this,m)||this;return g.canvas=null,g.ctx=null,g.requestUserMediaId=0,g.unmounted=!1,g.state={hasUserMedia:!1},g}return p.prototype.componentDidMount=function(){var m=this,g=m.state,v=m.props;if(this.unmounted=!1,!d()){v.onUserMediaError("getUserMedia not supported");return}g.hasUserMedia||this.requestUserMedia(),v.children&&typeof v.children!="function"&&console.warn("children must be a function")},p.prototype.componentDidUpdate=function(m){var g=this.props;if(!d()){g.onUserMediaError("getUserMedia not supported");return}var v=JSON.stringify(m.audioConstraints)!==JSON.stringify(g.audioConstraints),x=JSON.stringify(m.videoConstraints)!==JSON.stringify(g.videoConstraints),y=m.minScreenshotWidth!==g.minScreenshotWidth,w=m.minScreenshotHeight!==g.minScreenshotHeight;(x||y||w)&&(this.canvas=null,this.ctx=null),(v||x)&&(this.stopAndCleanup(),this.requestUserMedia())},p.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},p.stopMediaStream=function(m){m&&(m.getVideoTracks&&m.getAudioTracks?(m.getVideoTracks().map(function(g){m.removeTrack(g),g.stop()}),m.getAudioTracks().map(function(g){m.removeTrack(g),g.stop()})):m.stop())},p.prototype.stopAndCleanup=function(){var m=this.state;m.hasUserMedia&&(p.stopMediaStream(this.stream),m.src&&window.URL.revokeObjectURL(m.src))},p.prototype.getScreenshot=function(m){var g=this,v=g.state,x=g.props;if(!v.hasUserMedia)return null;var y=this.getCanvas(m);return y&&y.toDataURL(x.screenshotFormat,x.screenshotQuality)},p.prototype.getCanvas=function(m){var g=this,v=g.state,x=g.props;if(!this.video||!v.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var y=this.video.videoWidth,w=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var S=y/w;y=x.minScreenshotWidth||this.video.clientWidth,w=y/S,x.minScreenshotHeight&&w<x.minScreenshotHeight&&(w=x.minScreenshotHeight,y=w*S)}this.canvas=document.createElement("canvas"),this.canvas.width=(m==null?void 0:m.width)||y,this.canvas.height=(m==null?void 0:m.height)||w,this.ctx=this.canvas.getContext("2d")}var E=this,C=E.ctx,A=E.canvas;return C&&A&&(A.width=(m==null?void 0:m.width)||A.width,A.height=(m==null?void 0:m.height)||A.height,x.mirrored&&(C.translate(A.width,0),C.scale(-1,1)),C.imageSmoothingEnabled=x.imageSmoothing,C.drawImage(this.video,0,0,(m==null?void 0:m.width)||A.width,(m==null?void 0:m.height)||A.height),x.mirrored&&(C.scale(-1,1),C.translate(-A.width,0))),A},p.prototype.requestUserMedia=function(){var m=this,g=this.props,v=function(w,S){var E={video:typeof S<"u"?S:!0};g.audio&&(E.audio=typeof w<"u"?w:!0),m.requestUserMediaId++;var C=m.requestUserMediaId;navigator.mediaDevices.getUserMedia(E).then(function(A){m.unmounted||C!==m.requestUserMediaId?p.stopMediaStream(A):m.handleUserMedia(null,A)}).catch(function(A){m.handleUserMedia(A)})};if("mediaDevices"in navigator)v(g.audioConstraints,g.videoConstraints);else{var x=function(w){return{optional:[{sourceId:w}]}},y=function(w){var S=w.deviceId;return typeof S=="string"?S:Array.isArray(S)&&S.length>0?S[0]:typeof S=="object"&&S.ideal?S.ideal:null};MediaStreamTrack.getSources(function(w){var S=null,E=null;w.forEach(function(T){T.kind==="audio"?S=T.id:T.kind==="video"&&(E=T.id)});var C=y(g.audioConstraints);C&&(S=C);var A=y(g.videoConstraints);A&&(E=A),v(x(S),x(E))})}},p.prototype.handleUserMedia=function(m,g){var v=this.props;if(m||!g){this.setState({hasUserMedia:!1}),v.onUserMediaError(m);return}this.stream=g;try{this.video&&(this.video.srcObject=g),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(g)})}v.onUserMedia(g)},p.prototype.render=function(){var m=this,g=this,v=g.state,x=g.props,y=x.audio;x.forceScreenshotSourceSize;var w=x.disablePictureInPicture;x.onUserMedia,x.onUserMediaError,x.screenshotFormat,x.screenshotQuality,x.minScreenshotWidth,x.minScreenshotHeight,x.audioConstraints,x.videoConstraints,x.imageSmoothing;var S=x.mirrored,E=x.style,C=E===void 0?{}:E,A=x.children,T=u(x,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),N=S?l(l({},C),{transform:(C.transform||"")+" scaleX(-1)"}):C,I={getScreenshot:this.getScreenshot.bind(this)};return o.createElement(o.Fragment,null,o.createElement("video",l({autoPlay:!0,disablePictureInPicture:w,src:v.src,muted:!y,playsInline:!0,ref:function(j){m.video=j},style:N},T)),A&&A(I))},p.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},p}(o.Component);i.default=f},react:function(n,i){n.exports=r}}).default})})(QJ);var GWe=QJ.exports;const qWe=dt(GWe),KWe=({onUpdate:t,onError:e,width:r="100%",height:n="100%",facingMode:i="environment",torch:a,delay:o=500,videoConstraints:s,stopStream:l,formats:u})=>{const d=b.useRef(null),f=b.useCallback(()=>{var m;const h=new qze(new Map([[ur.POSSIBLE_FORMATS,u==null?void 0:u.map(g=>typeof g=="string"?ze[g]:g)]])),p=(m=d==null?void 0:d.current)==null?void 0:m.getScreenshot();p&&h.decodeFromImage(void 0,p).then(g=>{t(null,g)}).catch(g=>{t(g)})},[t,u]);return b.useEffect(()=>{var h,p,m;if(typeof a=="boolean"&&((h=navigator==null?void 0:navigator.mediaDevices)==null?void 0:h.getSupportedConstraints()).torch){const g=(m=(p=d==null?void 0:d.current)==null?void 0:p.video)==null?void 0:m.srcObject,v=g==null?void 0:g.getVideoTracks()[0];v&&v.getCapabilities().torch&&v.applyConstraints({advanced:[{torch:a}]}).catch(x=>t(x))}},[a,t]),b.useEffect(()=>{var h,p;if(l){let m=(p=(h=d==null?void 0:d.current)==null?void 0:h.video)==null?void 0:p.srcObject;m&&(m.getTracks().forEach(g=>{m==null||m.removeTrack(g),g.stop()}),m=null)}},[l]),b.useEffect(()=>{const h=setInterval(f,o);return()=>{clearInterval(h)}},[f,o]),c.jsx(qWe,{width:r,height:n,ref:d,screenshotFormat:"image/jpeg",videoConstraints:s||{facingMode:i},audio:!1,onUserMediaError:e})};var S$;(function(t){t.AZTEC="AZTEC",t.CODABAR="CODABAR",t.CODE_39="CODE_39",t.CODE_93="CODE_93",t.CODE_128="CODE_128",t.DATA_MATRIX="DATA_MATRIX",t.EAN_8="EAN_8",t.EAN_13="EAN_13",t.ITF="ITF",t.MAXICODE="MAXICODE",t.PDF_417="PDF_417",t.QR_CODE="QR_CODE",t.RSS_14="RSS_14",t.RSS_EXPANDED="RSS_EXPANDED",t.UPC_A="UPC_A",t.UPC_E="UPC_E",t.UPC_EAN_EXTENSION="UPC_EAN_EXTENSION"})(S$||(S$={}));const ZJ=()=>!!(navigator.mediaDevices&&typeof navigator.mediaDevices.getUserMedia=="function"),YWe=async()=>{try{return navigator.permissions&&navigator.permissions.query?(await navigator.permissions.query({name:"camera"})).state==="granted":!1}catch(t){return console.warn("Could not check camera permissions:",t),!1}},XWe=async(t={facingMode:"environment",width:{ideal:1280},height:{ideal:720}},e=1e4)=>{try{if(!ZJ())return{stream:null,error:"Your browser doesn't support camera access. Try using a modern browser like Chrome, Firefox, or Safari."};const r=await YWe();console.log(`Camera permission status: ${r?"granted":"not granted"}`);const n=(async()=>{const o={facingMode:{exact:t.facingMode||"environment"}};t.width&&(o.width=t.width),t.height&&(o.height=t.height),t.frameRate&&(o.frameRate=t.frameRate);try{return console.log("Attempting to access camera with constraints:",o),await navigator.mediaDevices.getUserMedia({video:o,audio:!1})}catch(s){return console.warn("Failed with exact constraints, trying with more flexible settings:",s),await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1})}})(),i=new Promise((o,s)=>{setTimeout(()=>s(new Error("Camera access timeout")),e)});return{stream:await Promise.race([n,i]),error:null}}catch(r){console.error("Camera access error:",r);let n="Failed to access camera";const i=r.message||r.name||String(r);switch(r.name){case"NotAllowedError":n="Camera access was denied. Please grant camera permissions in your browser settings and try again.";break;case"NotFoundError":n="No camera found on your device.";break;case"NotReadableError":case"AbortError":n="The camera is already in use by another application or tab. Please close other applications using the camera and try again.";break;case"SecurityError":n="Camera access is blocked by your browser's security settings.";break;case"OverconstrainedError":n="Could not access the camera with the requested settings. Try using different settings.";break;case"TypeError":n="Invalid camera constraints. Please try again with different settings.";break;default:r.message==="Camera access timeout"?n="Camera access timed out. This often happens on mobile devices. Please try again or check your device settings.":n=`Camera error: ${i}`}return console.error(`Camera error details - Name: ${r.name}, Message: ${r.message}`),{stream:null,error:n}}},QWe=async(t=3)=>{const e=[{facingMode:"environment",width:{ideal:1280},height:{ideal:720}},{facingMode:"environment",width:{ideal:640},height:{ideal:480}},{facingMode:"environment"}];let r=null;for(let n=0;n<Math.min(t,e.length);n++)try{console.log(`Camera access attempt ${n+1}/${t} with constraints:`,e[n]);const i=await XWe(e[n]);if(i.stream)return i;r=i.error,console.warn(`Attempt ${n+1} failed: ${r}`)}catch(i){r=`Unexpected error: ${i}`,console.error(`Attempt ${n+1} error:`,i)}return{stream:null,error:`Failed after ${t} attempts. ${r}`}},E$=t=>{if(t)try{t.getTracks().forEach(e=>{try{e.stop()}catch(r){console.warn("Error stopping media track:",r)}})}catch(e){console.error("Error stopping media stream:",e)}},ZWe=async(t,e)=>{try{const r=t.getVideoTracks()[0];if(!r)return!1;const n=r.getCapabilities();return!n||typeof n.torch!="boolean"?!1:(await r.applyConstraints({advanced:[{torch:e}]}),!0)}catch(r){return console.error("Error toggling torch:",r),!1}},JJ={corsAnywhere:{url:"https://cors-anywhere.herokuapp.com/",headers:{Origin:typeof window<"u"?window.location.origin:"","X-Requested-With":"XMLHttpRequest"}},allOrigins:{url:"https://api.allorigins.win/raw?url=",headers:{}}};async function eee(t,e={},r="direct"){const n=nHe(r);let i=null;for(const a of n)try{const o=await JWe(t,e,a);if(o)return console.log(`[Proxy] Successfully fetched with ${a} strategy`),o}catch(o){console.error(`[Proxy] ${a} strategy failed:`,o),i=o}return console.error("[Proxy] All strategies failed. Last error:",i),null}async function JWe(t,e={},r){switch(console.log(`[Proxy] Attempting ${r} strategy for: ${t}`),r){case"direct":return eHe(t,e);case"corsAnywhere":return tHe(t,e);case"allOrigins":return rHe(t,e);case"jsonp":throw new Error("JSONP strategy not implemented yet");default:throw new Error(`Unknown proxy strategy: ${r}`)}}async function eHe(t,e={}){const r=await fetch(t,e);if(!r.ok)throw console.error(`[Proxy] Direct fetch failed with status: ${r.status}`),new Error(`HTTP error: ${r.status}`);return await r.json()}async function tHe(t,e={}){const r=JJ.corsAnywhere,n=`${r.url}${t}`,i=await fetch(n,{...e,headers:{...e.headers,...r.headers}});if(!i.ok)throw console.error(`[Proxy] CORS Anywhere fetch failed with status: ${i.status}`),new Error(`HTTP error: ${i.status}`);return await i.json()}async function rHe(t,e={}){const r=JJ.allOrigins,n=`${r.url}${encodeURIComponent(t)}`,i=await fetch(n,{...e,headers:{...e.headers,...r.headers}});if(!i.ok)throw console.error(`[Proxy] AllOrigins fetch failed with status: ${i.status}`),new Error(`HTTP error: ${i.status}`);return await i.json()}function nHe(t){const e=["direct","corsAnywhere","allOrigins"];if(t==="direct")return e;const r=e.filter(n=>n!==t&&n!=="direct");return["direct",t,...r]}const iHe="Taska-Loop",aHe="1.0",oHe="vanold101@gmail.com",sHe="https://world.openfoodfacts.org/api/v2";async function lHe(t){try{console.log(`[OpenFoodFacts] Fetching data for barcode: ${t}`);const e=t.replace(/^0+/,""),r=`${sHe}/product/${e}.json`;console.log(`[OpenFoodFacts] API URL: ${r}`);const n={headers:{"User-Agent":`${iHe}/${aHe} (${oHe})`}},i=await eee(r,n,"direct");if(!i)return console.error("[OpenFoodFacts] Failed to fetch data"),null;if(console.log(`[OpenFoodFacts] API response status: ${i.status} (${i.status_verbose})`),i.product?(console.log(`[OpenFoodFacts] Product found: ${i.product.product_name||"Unknown product"}`),console.log(`[OpenFoodFacts] Brand: ${i.product.brands||"Unknown brand"}`)):console.log("[OpenFoodFacts] Full response:",JSON.stringify(i).substring(0,200)+"..."),i.status===0||!i.product)return console.log("[OpenFoodFacts] Product not found",i),null;const a={name:i.product.product_name||"",brand:i.product.brands||"",image:i.product.image_front_url||i.product.image_url||"",category:i.product.categories||"",ingredients:i.product.ingredients_text||"",quantity:i.product.quantity||"",nutriscore:i.product.nutriscore_grade||"",ecoscore:i.product.ecoscore_grade||"",novaGroup:i.product.nova_group,stores:i.product.stores||""};return console.log("[OpenFoodFacts] Successfully extracted product details:",a),a}catch(e){return console.error("[OpenFoodFacts] Error fetching from Open Food Facts API:",e),null}}async function cHe(t){try{console.log(`[UPCItemDB] Fetching data for barcode: ${t}`);const e=`https://api.upcitemdb.com/prod/trial/lookup?upc=${t}`;console.log(`[UPCItemDB] API URL: ${e}`);const r=await eee(e,{},"allOrigins");if(!r)return console.error("[UPCItemDB] Failed to fetch data"),null;if(console.log(`[UPCItemDB] API response code: ${r.code}`),r.code==="OK"&&r.items&&r.items.length>0){const n=r.items[0];console.log(`[UPCItemDB] Product found: ${n.title||"Unknown title"}`);const i={name:n.title,brand:n.brand,image:n.images&&n.images.length>0?n.images[0]:void 0};return console.log("[UPCItemDB] Successfully extracted product details:",i),i}return console.log("[UPCItemDB] No items found or error in response",r),null}catch(e){return console.error("[UPCItemDB] Error fetching from UPCItemDB:",e),null}}const uHe=({onItemScanned:t,onScan:e,buttonText:r="Scan Barcode",buttonVariant:n="outline",buttonSize:i="sm",className:a="",tripId:o})=>{const[s,l]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(null),[p,m]=b.useState(!1),[g,v]=b.useState(!1),[x,y]=b.useState(!1),[w,S]=b.useState(!0),[E,C]=b.useState("Waiting for barcode..."),[A,T]=b.useState(null),[N,I]=b.useState("none"),[j,O]=b.useState(0),[P,M]=b.useState(0),[F,B]=b.useState(""),[W,$]=b.useState(!1),[U,X]=b.useState(!1),[H,Y]=b.useState(0),Q=b.useRef(null),ue=b.useRef(null),{toast:de}=un();b.useEffect(()=>()=>{var ne;(ne=Q.current)!=null&&ne.srcObject&&E$(Q.current.srcObject),ue.current&&clearInterval(ue.current)},[]),b.useEffect(()=>{if(s&&!u){const ne=setTimeout(()=>{he()},100);return()=>{clearTimeout(ne),ue.current&&clearInterval(ue.current)}}else!s&&u&&(d(!1),m(!1),M(0),h(null),ue.current&&clearInterval(ue.current))},[s]);const he=async()=>{if(!U)try{X(!0),h(null),C("Initializing camera...");const{stream:ne,error:Oe}=await QWe();if(Oe){console.error("Camera initialization failed:",Oe),h(Oe),C("Camera access failed"),d(!1);return}ne&&(d(!0),C("Waiting for barcode..."),ue.current&&clearInterval(ue.current),ue.current=setInterval(()=>{M(Z=>{const le=Z+1;return le%5===0&&C("Still searching for barcode... Please ensure good lighting and hold steady."),le})},2e3))}catch(ne){console.error("Error initializing camera:",ne),h(`Error accessing camera: ${ne}`),C("Camera initialization failed")}finally{X(!1)}},pe=async(ne,Oe)=>{if(x)return;const Z=Date.now();if(Oe&&Z-j>3e3){O(Z),y(!0),C("Barcode detected! Processing..."),T(Oe.text),I("detected"),ue.current&&clearInterval(ue.current);const le=Oe.text;if(console.log(`[Scanner] Barcode detected: ${le}`),de({title:"Barcode Detected",description:`UPC: ${le}. Fetching details...`}),e){console.log(`[Scanner] Using onScan callback with barcode: ${le}`),e(le),q();return}t&&J(le)}},J=async ne=>{if(!(!ne||ne.trim()==="")){y(!0),C("Processing barcode...");try{console.log(`[Scanner] Looking up product details for UPC: ${ne}`);let Oe=await lHe(ne);if(Oe&&Object.keys(Oe).length>0){console.log(`[Scanner] Found product in Open Food Facts: ${Oe.name||"Unknown"}`),t==null||t({upc:ne,...Oe}),de({title:"Product Found",description:`Found: ${Oe.name||ne} in Open Food Facts database.`}),q();return}console.log("[Scanner] Product not found in Open Food Facts, trying UPCItemDB...");const Z=await cHe(ne);if(Z){console.log(`[Scanner] Found product in UPCItemDB: ${Z.name||"Unknown"}`),t==null||t({upc:ne,...Z}),de({title:"Product Found",description:`Found: ${Z.name||ne} in UPCItemDB.`}),q();return}console.log("[Scanner] Product not found in any database"),I("not_in_db"),t==null||t({upc:ne,name:`Item (${ne})`}),de({title:"Limited Information",description:"Product not found in database. Added with barcode only.",variant:"default"}),q()}catch(Oe){console.error("[Scanner] Error looking up product:",Oe),I("error"),t==null||t({upc:ne,name:`Item (${ne})`}),de({title:"Error Looking Up Product",description:"Added with barcode only. Network issue or database limitation.",variant:"destructive"}),q()}}},re=ne=>{console.error("Camera error in scanner component:",ne),d(!1),h(ne.toString()),C("Camera access failed. You can try again or enter a barcode manually."),$(!0),de({title:"Camera Error",description:"Could not access camera. You can enter a barcode manually or retry.",variant:"destructive"})},L=()=>{Y(ne=>ne+1),h(null),he()},q=()=>{var ne;(ne=Q.current)!=null&&ne.srcObject&&E$(Q.current.srcObject),ue.current&&clearInterval(ue.current),d(!1),y(!1),I("none"),T(null),M(0),h(null),$(!1),B(""),l(!1)},G=async()=>{var Z;if(!((Z=Q.current)!=null&&Z.srcObject))return;const ne=!p;await ZWe(Q.current.srcObject,ne)?m(ne):de({title:"Torch Unavailable",description:"Your device doesn't support flash/torch control.",variant:"destructive"})},ye=async()=>{const ne=ZJ();S(ne),ne||($(!0),h("Your browser doesn't support camera access. Please enter the barcode manually.")),l(!0)},me=ne=>{if(ne.preventDefault(),F.trim()===""){de({title:"Invalid Barcode",description:"Please enter a valid barcode.",variant:"destructive"});return}J(F)},ie=()=>{$(!W)};return b.useEffect(()=>{u&&(async()=>{var Oe;if((Oe=Q.current)!=null&&Oe.srcObject)try{const Z=Q.current.srcObject.getVideoTracks()[0];if(Z){const le=Z.getCapabilities();v(le.torch===!0)}}catch(Z){console.warn("Failed to check flash capabilities:",Z),v(!1)}})()},[u]),c.jsxs(c.Fragment,{children:[c.jsxs(K,{variant:n,size:i,onClick:ye,className:a,"aria-label":r||"Scan Barcode",children:[r&&c.jsx("span",{className:"mr-2",children:r}),c.jsx(EV,{className:"h-4 w-4"})]}),c.jsx(_r,{open:s,onOpenChange:ne=>!ne&&q(),children:c.jsxs(pr,{className:"sm:max-w-md",children:[c.jsx(mr,{children:c.jsx(gr,{className:"text-center",children:f?"Camera Error":A?"Barcode Detected!":"Scan Barcode"})}),!f&&u&&c.jsxs("div",{className:"relative overflow-hidden w-full aspect-square max-h-80 bg-muted rounded-md",children:[c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-full h-full",children:c.jsx(KWe,{width:"100%",height:"100%",onUpdate:pe,onError:re,torch:p})})}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-5/6 h-1/4 border-2 border-white rounded-lg bg-transparent",children:c.jsx("div",{className:"absolute inset-0 flex items-start justify-center mt-1",children:c.jsx("div",{className:"bg-black/40 text-white px-2 py-1 text-xs rounded",children:E})})})}),g&&c.jsx(K,{size:"sm",variant:"outline",className:"absolute bottom-4 left-4 bg-white/80",onClick:G,children:p?"Torch Off":"Torch On"}),c.jsx(K,{size:"sm",variant:"outline",className:"absolute bottom-4 right-4 bg-white/80",onClick:q,children:"Close"})]}),f&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-destructive/10 p-4 rounded-md text-destructive flex items-start",children:[c.jsx(_o,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"font-medium",children:"Camera Error"}),c.jsx("p",{className:"text-sm",children:f})]})]}),c.jsx(K,{variant:"outline",onClick:L,className:"w-full",disabled:U,children:U?"Initializing...":"Retry Camera"})]}),(W||f)&&c.jsx("form",{onSubmit:me,className:"space-y-4",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"manual-barcode",className:"text-sm font-medium",children:"Enter barcode manually"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Ue,{id:"manual-barcode",placeholder:"e.g., 1234567890",value:F,onChange:ne=>B(ne.target.value),className:"flex-1"}),c.jsxs(K,{type:"submit",size:"sm",children:[c.jsx(Or,{className:"h-4 w-4 mr-1"}),"Add"]})]})]})}),u&&!W&&!f&&c.jsx("div",{className:"text-center",children:c.jsx("button",{onClick:ie,className:"text-sm text-blue-600 hover:text-blue-800 underline",children:"Enter barcode manually"})}),c.jsx("div",{className:"text-center text-xs text-muted-foreground mt-2",children:"Scan any product barcode to get information"})]})})]})},A$=({onAddPantryItem:t})=>{const[e,r]=b.useState(null),n=i=>{const a={name:i.name||`Product (${i.upc})`,quantity:1,expiry:new Date(Date.now()+12096e5).toISOString().split("T")[0],category:i.category||"Pantry",lowStock:!1};t(a),r(a.name),Vl({title:" Item Added Successfully!",description:`${a.name} has been added to your pantry`}),setTimeout(()=>r(null),3e3)};return c.jsxs("div",{className:"space-y-3",children:[c.jsx(uHe,{onItemScanned:n,buttonText:" Scan Barcode",buttonVariant:"default",buttonSize:"lg",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg shadow-md transition-all duration-200 hover:shadow-lg"}),e&&c.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:[c.jsx(Kn,{className:"h-4 w-4 text-green-600"}),c.jsxs("span",{className:"text-sm text-green-800 font-medium",children:["Just added: ",e]})]})]})},dHe=["Dairy","Meat","Seafood","Produce","Bakery","Pantry","Snacks","Beverages","Frozen","Household"],C$={Dairy:c.jsx(Gn,{className:"h-4 w-4 text-blue-500"}),Bakery:c.jsx(Gn,{className:"h-4 w-4 text-amber-600"}),Produce:c.jsx(Gn,{className:"h-4 w-4 text-green-500"}),Pantry:c.jsx(Gn,{className:"h-4 w-4 text-orange-500"}),Meat:c.jsx(Gn,{className:"h-4 w-4 text-red-500"}),Seafood:c.jsx(Gn,{className:"h-4 w-4 text-blue-400"}),Snacks:c.jsx(Gn,{className:"h-4 w-4 text-purple-500"}),Beverages:c.jsx(Gn,{className:"h-4 w-4 text-cyan-500"}),Frozen:c.jsx(Gn,{className:"h-4 w-4 text-blue-300"}),Household:c.jsx(Gn,{className:"h-4 w-4 text-gray-500"})};function fHe(){const t=Yi(),{pantryItems:e,addPantryItem:r,updatePantryItem:n,removePantryItem:i}=Aj(),[a,o]=b.useState("all"),[s,l]=b.useState(""),[u,d]=b.useState("name"),[f,h]=b.useState(!1),[p,m]=b.useState({name:"",quantity:1,category:""}),[g,v]=b.useState(!1),[x,y]=b.useState(!1),[w,S]=b.useState(null),[E,C]=b.useState({}),[A,T]=b.useState(""),[N,I]=b.useState(!0),[j,O]=b.useState(!1),[P,M]=b.useState(!1),[F,B]=b.useState(!1),[W,$]=b.useState(!1),[U,X]=b.useState(""),[H,Y]=b.useState(new Set),[Q,ue]=b.useState(7),[de,he]=b.useState("asc"),[pe,J]=b.useState("name"),[re,L]=b.useState("default"),[q,G]=b.useState(1),[ye,me]=b.useState(""),ie=()=>{v(!0)},ne=()=>{h(!0)},Oe=()=>{O(!0)},Z=ve=>{$(!0)},le=()=>{M(!0)},xe=ve=>{J(ve)},it=ve=>{const Ae=e.find($e=>$e.id===ve);Ae&&(m({name:Ae.name,quantity:Ae.quantity,category:Ae.category,expiry:Ae.expiry}),h(!0))},yr=ve=>{i(ve)},Wt=()=>{h(!1),m({name:"",quantity:1,category:""})},Ht=ve=>{if(ve.preventDefault(),!p.name||!p.quantity){Vl({title:"Missing Information",description:"Please provide at least an item name and quantity.",variant:"destructive"});return}const Ae={...p,lowStock:p.quantity<=1};r(Ae),Wt()},En=ve=>{if(!ve)return null;const Ae=new Date,$e=new Date(ve);if(isNaN($e.getTime()))return null;const qe=$e.getTime()-Ae.getTime();return Math.ceil(qe/(1e3*60*60*24))},Zt=e.filter(ve=>ve.lowStock),Dt=e.filter(ve=>{const Ae=En(ve.expiry);return Ae!==null&&Ae>=0&&Ae<=7}),Qi=e.slice(0,3),xa=ve=>{const Ae=e.find($e=>$e.id===ve);Ae&&n(ve,{quantity:Ae.quantity+1,lowStock:Ae.quantity+1<=1})},hl=ve=>{const Ae=e.find($e=>$e.id===ve);Ae&&Ae.quantity>1&&n(ve,{quantity:Ae.quantity-1,lowStock:Ae.quantity-1<=1})},Cp=ve=>{T(ve.target.value)},Ya=e.filter(ve=>{const Ae=A.toLowerCase(),$e=ve.name.toLowerCase().includes(Ae)||ve.category.toLowerCase().includes(Ae),qe=a==="all"||a==="food"&&["Dairy","Meat","Seafood","Produce","Bakery","Pantry","Snacks","Beverages","Frozen"].includes(ve.category)||a==="household"&&ve.category==="Household"||a==="low-stock"&&ve.lowStock;return $e&&qe}),pl=ve=>[...ve].sort((Ae,$e)=>{if(pe==="expiry"){if(!Ae.expiry&&!$e.expiry)return 0;if(!Ae.expiry)return 1;if(!$e.expiry)return-1;const Kr=new Date(Ae.expiry).getTime(),ci=new Date($e.expiry).getTime();return de==="asc"?Kr-ci:ci-Kr}const qe=Ae[pe],Tt=$e[pe];return qe<Tt?de==="asc"?-1:1:qe>Tt?de==="asc"?1:-1:0}),Qc=pl(Ya),Oo=()=>{const ve=Array.from(H).map(Ae=>{const $e=e.find(qe=>qe.id===Ae);return $e==null?void 0:$e.name}).filter(Boolean);if(ve.length===0){Vl({title:"No Items Selected",description:"Please select items to add to your shopping list.",variant:"destructive"});return}Vl({title:"Items Added",description:`${H.size} items have been added to your shopping list: ${ve.join(", ")}`}),t("/trips?action=bulk-add&items="+encodeURIComponent(ve.join(","))),Y(new Set)},wa=Ya.reduce((ve,Ae)=>{const{category:$e}=Ae;return ve[$e]||(ve[$e]=[]),ve[$e].push(Ae),ve},{});return N?c.jsxs(pa,{children:[c.jsxs("div",{className:"flex-1 space-y-4 p-4 md:p-8 pt-6",children:[c.jsxs("div",{className:"flex items-center justify-between space-y-2",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Pantry"}),c.jsx("p",{className:"text-muted-foreground",children:"Track and manage your household inventory"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs(K,{variant:"outline",onClick:ie,children:[c.jsx(Zb,{className:"mr-2 h-4 w-4"})," Update Inventory"]}),c.jsxs(K,{onClick:ne,children:[c.jsx(Or,{className:"mr-2 h-4 w-4"})," Add Item"]})]})]}),c.jsxs(Te,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:[c.jsxs(Fe,{children:[c.jsxs(Be,{className:"flex items-center gap-2 text-blue-800",children:[c.jsx(EV,{className:"h-5 w-5"}),"Quick Add with Barcode Scanner"]}),c.jsx(tt,{className:"text-blue-600",children:"Scan any product barcode to instantly add it to your pantry with product details"})]}),c.jsx(Ne,{children:c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[c.jsx("div",{className:"flex-1",children:c.jsx(A$,{onAddPantryItem:ve=>{r(ve)}})}),c.jsxs("div",{className:"text-sm text-blue-600 max-w-xs",children:[c.jsx("p",{className:"font-medium mb-1",children:"How it works:"}),c.jsxs("ul",{className:"text-xs space-y-1",children:[c.jsx("li",{children:" Click scan and point camera at barcode"}),c.jsx("li",{children:" Product info is automatically fetched"}),c.jsx("li",{children:" Item is added to your pantry instantly"})]})]})]})})]}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[c.jsxs(Te,{className:"bg-teal-500 text-white",children:[c.jsxs(Fe,{children:[c.jsx(Be,{children:"Inventory Summary"}),c.jsxs(tt,{className:"text-teal-100",children:["You have ",e.length," items in your pantry"]})]}),c.jsxs(Ne,{children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Low Stock"}),c.jsxs("span",{children:[Zt.length," items"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Expiring Soon"}),c.jsxs("span",{children:[Dt.length," items"]})]})]}),c.jsx(Bt,{children:c.jsx(K,{variant:"secondary",className:"w-full",onClick:Oe,children:"View All Items"})})]}),c.jsxs(Te,{children:[c.jsxs(Fe,{children:[c.jsx(Be,{children:"Most Used Items"}),c.jsx(tt,{children:"Based on your shopping history"})]}),c.jsx(Ne,{children:c.jsx("ul",{className:"space-y-2",children:Qi.map(ve=>c.jsxs("li",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[C$[ve.category],c.jsx("span",{className:"ml-2",children:ve.name})]}),c.jsx("span",{className:"text-sm text-muted-foreground",children:"Bought 8 times"})]},ve.id))})}),c.jsx(Bt,{children:c.jsxs(K,{variant:"outline",className:"w-full",onClick:()=>Qi.forEach(Z),children:[c.jsx(lr,{className:"mr-2 h-4 w-4"})," Add to Shopping List"]})})]}),c.jsxs(Te,{children:[c.jsxs(Fe,{children:[c.jsx(Be,{children:"Expiring Soon"}),c.jsxs(tt,{children:["Items to use in the next ",Q," days"]})]}),c.jsx(Ne,{children:c.jsx("ul",{className:"space-y-2",children:Dt.map(ve=>c.jsxs("li",{className:"flex items-center justify-between",children:[c.jsx("span",{children:ve.name}),c.jsxs("span",{className:"text-red-500",children:["Expires in ",En(ve.expiry)," days"]})]},ve.id))})}),c.jsx(Bt,{children:c.jsxs(K,{variant:"outline",className:"w-full",onClick:le,children:[c.jsx(Pr,{className:"mr-2 h-4 w-4"})," View All Expiring"]})})]})]}),c.jsxs(Te,{children:[c.jsx(Fe,{children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx(Be,{children:"All Items"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ue,{placeholder:"Search pantry...",value:A,onChange:Cp,className:"max-w-sm"}),c.jsxs($t,{onValueChange:ve=>xe(ve),defaultValue:pe,children:[c.jsx(Ot,{className:"w-[180px]",children:c.jsx(Ft,{placeholder:"Sort by"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"name",children:"Name"}),c.jsx(Se,{value:"expiry",children:"Expiry Date"}),c.jsx(Se,{value:"quantity",children:"Quantity"})]})]}),c.jsx(K,{variant:"ghost",onClick:()=>he(de==="asc"?"desc":"asc"),children:de==="asc"?"":""})]})]})}),c.jsx(Ne,{children:Qc.length>0?c.jsx("ul",{className:"space-y-4",children:Qc.map(ve=>c.jsxs("li",{className:"flex items-center justify-between p-3 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(kc,{checked:H.has(ve.id),onCheckedChange:Ae=>{const $e=new Set(H);Ae?$e.add(ve.id):$e.delete(ve.id),Y($e)}}),c.jsxs("div",{className:"ml-4",children:[c.jsx("div",{className:"font-medium",children:ve.name}),ve.expiry&&c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Expires in ",En(ve.expiry)," days"]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(K,{variant:"outline",size:"icon",onClick:()=>hl(ve.id),children:c.jsx(QS,{className:"h-4 w-4"})}),c.jsx("span",{children:ve.quantity}),c.jsx(K,{variant:"outline",size:"icon",onClick:()=>xa(ve.id),children:c.jsx(Or,{className:"h-4 w-4"})}),c.jsx(K,{variant:"ghost",size:"icon",onClick:()=>Z(),children:c.jsx(lr,{className:"h-4 w-4"})}),c.jsxs(ev,{children:[c.jsx(tv,{asChild:!0,children:c.jsx(K,{variant:"ghost",size:"icon",children:c.jsx(Cf,{className:"h-4 w-4"})})}),c.jsxs(oh,{align:"end",children:[c.jsx(vi,{onClick:()=>it(ve.id),children:"Edit"}),c.jsx(vi,{onClick:()=>yr(ve.id),children:"Remove"})]})]})]})]},ve.id))}):c.jsxs("div",{className:"text-center py-10",children:[c.jsx(Gn,{className:"h-12 w-12 mx-auto text-muted-foreground"}),c.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No items found"}),c.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Your pantry is empty or no items match your search."}),c.jsxs(K,{className:"mt-4",onClick:ne,children:[c.jsx(Or,{className:"mr-2 h-4 w-4"})," Add your first item"]})]})}),c.jsx(Bt,{children:c.jsxs("div",{className:"flex justify-between items-center w-full",children:[c.jsxs("div",{className:"text-sm text-muted-foreground",children:[H.size," of ",e.length," items selected."]}),c.jsxs(K,{onClick:Oo,disabled:H.size===0,children:[c.jsx(lr,{className:"mr-2 h-4 w-4"}),"Add Selected to Cart"]})]})})]})]}),c.jsx(_r,{open:f,onOpenChange:Wt,children:c.jsxs(pr,{children:[c.jsxs(mr,{children:[c.jsx(gr,{children:"Add New Item"}),c.jsx(Ei,{children:"Enter the details of the new item to add to your pantry."})]}),c.jsxs("form",{onSubmit:Ht,children:[c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(ce,{htmlFor:"name",className:"text-right",children:"Name"}),c.jsx(Ue,{id:"name",value:p.name,onChange:ve=>m({...p,name:ve.target.value}),className:"col-span-3",required:!0})]}),c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(ce,{htmlFor:"quantity",className:"text-right",children:"Quantity"}),c.jsx(Ue,{id:"quantity",type:"number",value:p.quantity,onChange:ve=>m({...p,quantity:parseInt(ve.target.value)||1}),className:"col-span-3",required:!0,min:"1"})]}),c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(ce,{htmlFor:"category",className:"text-right",children:"Category"}),c.jsxs($t,{onValueChange:ve=>m({...p,category:ve}),value:p.category,children:[c.jsx(Ot,{className:"col-span-3",children:c.jsx(Ft,{placeholder:"Select a category"})}),c.jsx(jt,{children:dHe.map(ve=>c.jsx(Se,{value:ve,children:ve},ve))})]})]}),c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(ce,{htmlFor:"expiry",className:"text-right",children:"Expiry Date"}),c.jsx(Ue,{id:"expiry",type:"date",value:p.expiry||"",onChange:ve=>m({...p,expiry:ve.target.value}),className:"col-span-3"})]})]}),c.jsx(Si,{children:c.jsx(K,{type:"submit",children:"Add Item"})})]})]})}),c.jsx(_r,{open:g,onOpenChange:v,children:c.jsxs(pr,{children:[c.jsxs(mr,{children:[c.jsx(gr,{children:"Update Inventory"}),c.jsx(Ei,{children:"Scan items or manually update quantities"})]}),c.jsx("div",{className:"mb-4",children:c.jsx(A$,{onAddPantryItem:ve=>{r(ve)}})}),c.jsx("div",{className:"text-center text-sm text-muted-foreground mb-4",children:"- or update quantities manually -"}),c.jsx("div",{className:"space-y-4 py-4",children:e.map(ve=>c.jsxs("div",{className:"flex items-center justify-between gap-4 p-2 rounded-lg hover:bg-slate-50",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:ve.name}),c.jsx("p",{className:"text-sm text-slate-500",children:ve.category})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(K,{type:"button",variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>hl(ve.id),children:c.jsx(QS,{className:"h-4 w-4"})}),c.jsx("span",{className:"w-8 text-center",children:ve.quantity}),c.jsx(K,{type:"button",variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>xa(ve.id),children:c.jsx(Or,{className:"h-4 w-4"})})]})]},ve.id))}),c.jsx(Si,{children:c.jsx(K,{variant:"outline",onClick:()=>v(!1),children:"Done"})})]})}),c.jsx(_r,{open:P,onOpenChange:M,children:c.jsxs(pr,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[c.jsxs(mr,{children:[c.jsx(gr,{children:"Expiring Items"}),c.jsxs("div",{className:"flex items-center justify-between mt-4",children:[c.jsxs($t,{value:Q.toString(),onValueChange:ve=>ue(parseInt(ve)),children:[c.jsx(Ot,{className:"w-[150px]",children:c.jsx(Ft,{placeholder:"Timeframe"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"1",children:"Within 24 hours"}),c.jsx(Se,{value:"3",children:"Within 3 days"}),c.jsx(Se,{value:"7",children:"Within a week"}),c.jsx(Se,{value:"14",children:"Within 2 weeks"})]})]}),c.jsxs(K,{variant:"outline",size:"sm",onClick:Oo,disabled:H.size===0,children:[c.jsx(lr,{className:"h-4 w-4 mr-2"}),"Add Selected to Cart"]})]})]}),c.jsx("div",{className:"space-y-4",children:Object.entries(wa).map(([ve,Ae])=>{const $e=Ae.filter(qe=>{const Tt=En(qe.expiry);return Tt!==null&&Tt<=Q&&Tt>0});return $e.length===0?null:c.jsxs("div",{children:[c.jsxs("h3",{className:"font-semibold text-lg mb-2 flex items-center gap-2",children:[C$[ve],ve,c.jsx(mt,{variant:"outline",children:$e.length})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:pl($e).map(qe=>{const Tt=En(qe.expiry);return c.jsx(Te,{className:`shadow-sm ${H.has(qe.id)?"ring-2 ring-primary":""}`,children:c.jsx(Ne,{className:"p-4",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(kc,{checked:H.has(qe.id),onCheckedChange:Kr=>{const ci=new Set(H);Kr?ci.add(qe.id):ci.delete(qe.id),Y(ci)}}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:qe.name}),c.jsxs("p",{className:`text-sm ${Tt!==null&&Tt<=1?"text-red-500":Tt!==null&&Tt<=3?"text-amber-500":"text-muted-foreground"}`,children:["Expires in ",Tt," days"]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(K,{variant:"outline",size:"sm",onClick:()=>Z(),children:[c.jsx(lr,{className:"h-4 w-4 mr-2"}),"Add to List"]}),c.jsx(K,{variant:"outline",size:"sm",onClick:()=>yr(qe.id),children:"Used"})]})]})})},qe.id)})})]},ve)})})]})}),c.jsx(_r,{open:W,onOpenChange:$,children:c.jsxs(pr,{children:[c.jsxs(mr,{children:[c.jsx(gr,{children:"Add to Shopping List"}),c.jsx(Ei,{children:"Customize your shopping list items"})]}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{children:"Shopping List"}),c.jsxs($t,{value:re,onValueChange:L,children:[c.jsx(Ot,{children:c.jsx(Ft,{placeholder:"Choose a list"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"default",children:"Default List"}),c.jsx(Se,{value:"weekly",children:"Weekly Shopping"}),c.jsx(Se,{value:"monthly",children:"Monthly Stock-up"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{children:"Quantity to Add"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(K,{variant:"outline",size:"sm",onClick:()=>G(Math.max(1,q-1)),children:c.jsx(QS,{className:"h-4 w-4"})}),c.jsx(Ue,{type:"number",min:"1",value:q,onChange:ve=>G(Math.max(1,parseInt(ve.target.value)||1)),className:"w-20 text-center"}),c.jsx(K,{variant:"outline",size:"sm",onClick:()=>G(q+1),children:c.jsx(Or,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{children:"Notes (Optional)"}),c.jsx(Ue,{value:ye,onChange:ve=>me(ve.target.value),placeholder:"e.g., Prefer organic, specific brand, etc."})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{children:"Priority"}),c.jsxs($t,{defaultValue:"normal",children:[c.jsx(Ot,{children:c.jsx(Ft,{placeholder:"Select priority"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"high",children:"High - Need ASAP"}),c.jsx(Se,{value:"normal",children:"Normal"}),c.jsx(Se,{value:"low",children:"Low - When convenient"})]})]})]})]}),c.jsxs(Si,{children:[c.jsx(K,{variant:"outline",onClick:()=>$(!1),children:"Cancel"}),c.jsx(K,{onClick:()=>{$(!1),Vl({title:"Added to shopping list",description:`${q} items added to ${re} list`,variant:"default"})},children:"Add to List"})]})]})})]}):c.jsx("div",{children:"Loading..."})}const hHe=()=>{const{recurringTemplates:t,addRecurringTemplate:e,updateRecurringTemplate:r,removeRecurringTemplate:n,processRecurringItemsNow:i}=os(),{toast:a}=un(),[o,s]=b.useState(!1),[l,u]=b.useState(!1),[d,f]=b.useState(null),[h,p]=b.useState(!1),[m,g]=b.useState({name:"",quantity:1,unit:"ea",price:"",category:"",notes:"",recurrenceFrequency:"weekly",preferredStores:[]}),v=[{value:"ea",label:"Each"},{value:"kg",label:"Kilograms"},{value:"g",label:"Grams"},{value:"lb",label:"Pounds"},{value:"oz",label:"Ounces"},{value:"l",label:"Liters"},{value:"ml",label:"Milliliters"},{value:"pkg",label:"Package"},{value:"box",label:"Box"},{value:"can",label:"Can"},{value:"bottle",label:"Bottle"}],x=[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"bi-weekly",label:"Bi-weekly"},{value:"monthly",label:"Monthly"}],y=["Trader Joe's","Whole Foods","Costco","Kroger","Target","Walmart","Safeway","Publix"],w=()=>{g({name:"",quantity:1,unit:"ea",price:"",category:"",notes:"",recurrenceFrequency:"weekly",preferredStores:[]})},S=()=>{if(!m.name.trim()){a({title:"Name Required",description:"Please enter a name for the recurring item.",variant:"destructive"});return}const P={name:m.name,quantity:m.quantity,unit:m.unit,price:m.price?parseFloat(m.price):void 0,category:m.category||void 0,notes:m.notes||void 0,checked:!1,isRecurringTemplate:!0,isRecurring:!0,recurrenceFrequency:m.recurrenceFrequency,nextDueDate:new Date().toISOString(),preferredStores:m.preferredStores.length>0?m.preferredStores:void 0,addedBy:{name:"You",avatar:"https://example.com/you.jpg"}};e(P),w(),s(!1),a({title:"Recurring Item Created",description:`${P.name} will be added to your shopping lists ${P.recurrenceFrequency}.`})},E=P=>{var M;f(P),g({name:P.name,quantity:P.quantity,unit:P.unit||"ea",price:((M=P.price)==null?void 0:M.toString())||"",category:P.category||"",notes:P.notes||"",recurrenceFrequency:P.recurrenceFrequency,preferredStores:P.preferredStores||[]}),u(!0)},C=()=>{if(!d)return;const P={name:m.name,quantity:m.quantity,unit:m.unit,price:m.price?parseFloat(m.price):void 0,category:m.category||void 0,notes:m.notes||void 0,recurrenceFrequency:m.recurrenceFrequency,preferredStores:m.preferredStores.length>0?m.preferredStores:void 0};r(d.id,P),w(),u(!1),f(null),a({title:"Template Updated",description:"Your recurring item template has been updated."})},A=(P,M)=>{n(P),a({title:"Template Deleted",description:`${M} recurring template has been removed.`})},T=async()=>{p(!0);try{const P=i();P.itemsProcessed>0?a({title:"Recurring Items Processed",description:`Added ${P.itemsProcessed} items to ${P.tripsUpdated} existing trips and created ${P.newTripsCreated} new trips.`}):a({title:"No Items Due",description:"No recurring items are due to be added at this time."}),P.errors.length>0&&console.error("Processing errors:",P.errors)}catch{a({title:"Processing Failed",description:"There was an error processing recurring items.",variant:"destructive"})}finally{p(!1)}},N=P=>{switch(P){case"daily":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";case"weekly":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300";case"bi-weekly":return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-300";case"monthly":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}},I=P=>P.nextDueDate?nh(P.nextDueDate)<=new Date:!1,j=t.filter(I),O=Mo.getStatistics();return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Recurring Items"}),c.jsx("p",{className:"text-muted-foreground",children:"Manage items that automatically get added to your shopping lists"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(K,{onClick:T,disabled:h,variant:"outline",className:"flex items-center gap-2",children:[h?c.jsx(Zb,{className:"h-4 w-4 animate-spin"}):c.jsx(sO,{className:"h-4 w-4"}),"Process Now"]}),c.jsxs(_r,{open:o,onOpenChange:s,children:[c.jsx(ZT,{asChild:!0,children:c.jsxs(K,{className:"flex items-center gap-2",children:[c.jsx(Or,{className:"h-4 w-4"}),"Add Recurring Item"]})}),c.jsxs(pr,{className:"max-w-md",children:[c.jsxs(mr,{children:[c.jsx(gr,{children:"Create Recurring Item"}),c.jsx(Ei,{children:"Add an item that will automatically be added to your shopping lists"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ce,{htmlFor:"name",children:"Item Name"}),c.jsx(Ue,{id:"name",value:m.name,onChange:P=>g(M=>({...M,name:P.target.value})),placeholder:"e.g., Milk, Bread, Bananas"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ce,{htmlFor:"quantity",children:"Quantity"}),c.jsx(Ue,{id:"quantity",type:"number",min:"1",value:m.quantity,onChange:P=>g(M=>({...M,quantity:parseInt(P.target.value)||1}))})]}),c.jsxs("div",{children:[c.jsx(ce,{htmlFor:"unit",children:"Unit"}),c.jsxs($t,{value:m.unit,onValueChange:P=>g(M=>({...M,unit:P})),children:[c.jsx(Ot,{children:c.jsx(Ft,{})}),c.jsx(jt,{children:v.map(P=>c.jsx(Se,{value:P.value,children:P.label},P.value))})]})]})]}),c.jsxs("div",{children:[c.jsx(ce,{htmlFor:"frequency",children:"Frequency"}),c.jsxs($t,{value:m.recurrenceFrequency,onValueChange:P=>g(M=>({...M,recurrenceFrequency:P})),children:[c.jsx(Ot,{children:c.jsx(Ft,{})}),c.jsx(jt,{children:x.map(P=>c.jsx(Se,{value:P.value,children:P.label},P.value))})]})]}),c.jsxs("div",{children:[c.jsx(ce,{htmlFor:"price",children:"Estimated Price (optional)"}),c.jsx(Ue,{id:"price",type:"number",step:"0.01",min:"0",value:m.price,onChange:P=>g(M=>({...M,price:P.target.value})),placeholder:"0.00"})]}),c.jsxs("div",{children:[c.jsx(ce,{children:"Preferred Stores (optional)"}),c.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:y.map(P=>c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(kc,{id:P,checked:m.preferredStores.includes(P),onCheckedChange:M=>{g(M?F=>({...F,preferredStores:[...F.preferredStores,P]}):F=>({...F,preferredStores:F.preferredStores.filter(B=>B!==P)}))}}),c.jsx(ce,{htmlFor:P,className:"text-sm",children:P})]},P))})]})]}),c.jsxs(Si,{children:[c.jsx(K,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),c.jsx(K,{onClick:S,children:"Create Template"})]})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsx(Te,{children:c.jsx(Ne,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Voe,{className:"h-4 w-4 text-blue-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Templates"}),c.jsx("p",{className:"text-2xl font-bold",children:O.totalTemplates})]})]})})}),c.jsx(Te,{children:c.jsx(Ne,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(_o,{className:"h-4 w-4 text-orange-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Due Today"}),c.jsx("p",{className:"text-2xl font-bold",children:O.dueToday})]})]})})}),c.jsx(Te,{children:c.jsx(Ne,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Pr,{className:"h-4 w-4 text-green-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Next Processing"}),c.jsx("p",{className:"text-sm font-medium",children:"Tomorrow 8:00 AM"})]})]})})}),c.jsx(Te,{children:c.jsx(Ne,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Go,{className:"h-4 w-4 text-purple-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Est. Monthly"}),c.jsxs("p",{className:"text-2xl font-bold",children:["$",t.reduce((P,M)=>P+(M.price||0),0).toFixed(0)]})]})]})})})]}),j.length>0&&c.jsx(Te,{className:"border-orange-200 bg-orange-50 dark:border-orange-800 dark:bg-orange-900/20",children:c.jsxs(Ne,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(_o,{className:"h-5 w-5 text-orange-600"}),c.jsxs("h3",{className:"font-semibold text-orange-800 dark:text-orange-200",children:[j.length," Item",j.length>1?"s":""," Due"]})]}),c.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300 mb-3",children:"The following recurring items are ready to be added to your shopping lists."}),c.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:j.map(P=>c.jsx(mt,{variant:"outline",className:"text-orange-800 border-orange-300",children:P.name},P.id))}),c.jsx(K,{onClick:T,disabled:h,size:"sm",className:"bg-orange-600 hover:bg-orange-700",children:h?"Processing...":"Add to Shopping Lists"})]})}),c.jsxs(Te,{children:[c.jsx(Fe,{children:c.jsx(Be,{children:"Your Recurring Items"})}),c.jsx(Ne,{children:t.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Hu,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Recurring Items"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Create recurring items to automatically add them to your shopping lists"}),c.jsxs(K,{onClick:()=>s(!0),children:[c.jsx(Or,{className:"h-4 w-4 mr-2"}),"Add Your First Item"]})]}):c.jsx("div",{className:"space-y-3",children:t.map(P=>c.jsx("div",{className:`p-4 border rounded-lg ${I(P)?"border-orange-200 bg-orange-50 dark:border-orange-800 dark:bg-orange-900/20":""}`,children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("h3",{className:"font-semibold",children:P.name}),c.jsx(mt,{className:N(P.recurrenceFrequency),children:P.recurrenceFrequency}),I(P)&&c.jsx(mt,{variant:"outline",className:"text-orange-600 border-orange-300",children:"Due"})]}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[c.jsxs("span",{children:[P.quantity," ",P.unit]}),P.price&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Go,{className:"h-3 w-3"}),P.price.toFixed(2)]}),P.preferredStores&&P.preferredStores.length>0&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(jg,{className:"h-3 w-3"}),P.preferredStores.join(", ")]})]}),P.nextDueDate&&c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Next due: ",Yt(nh(P.nextDueDate),"PPP")]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(K,{variant:"ghost",size:"sm",onClick:()=>E(P),children:c.jsx(oO,{className:"h-4 w-4"})}),c.jsx(K,{variant:"ghost",size:"sm",onClick:()=>A(P.id,P.name),children:c.jsx(uO,{className:"h-4 w-4"})})]})]})},P.id))})})]}),c.jsx(_r,{open:l,onOpenChange:u,children:c.jsxs(pr,{className:"max-w-md",children:[c.jsxs(mr,{children:[c.jsx(gr,{children:"Edit Recurring Item"}),c.jsx(Ei,{children:"Update your recurring item template"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ce,{htmlFor:"edit-name",children:"Item Name"}),c.jsx(Ue,{id:"edit-name",value:m.name,onChange:P=>g(M=>({...M,name:P.target.value}))})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ce,{htmlFor:"edit-quantity",children:"Quantity"}),c.jsx(Ue,{id:"edit-quantity",type:"number",min:"1",value:m.quantity,onChange:P=>g(M=>({...M,quantity:parseInt(P.target.value)||1}))})]}),c.jsxs("div",{children:[c.jsx(ce,{htmlFor:"edit-unit",children:"Unit"}),c.jsxs($t,{value:m.unit,onValueChange:P=>g(M=>({...M,unit:P})),children:[c.jsx(Ot,{children:c.jsx(Ft,{})}),c.jsx(jt,{children:v.map(P=>c.jsx(Se,{value:P.value,children:P.label},P.value))})]})]})]}),c.jsxs("div",{children:[c.jsx(ce,{htmlFor:"edit-frequency",children:"Frequency"}),c.jsxs($t,{value:m.recurrenceFrequency,onValueChange:P=>g(M=>({...M,recurrenceFrequency:P})),children:[c.jsx(Ot,{children:c.jsx(Ft,{})}),c.jsx(jt,{children:x.map(P=>c.jsx(Se,{value:P.value,children:P.label},P.value))})]})]}),c.jsxs("div",{children:[c.jsx(ce,{htmlFor:"edit-price",children:"Estimated Price"}),c.jsx(Ue,{id:"edit-price",type:"number",step:"0.01",min:"0",value:m.price,onChange:P=>g(M=>({...M,price:P.target.value}))})]})]}),c.jsxs(Si,{children:[c.jsx(K,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),c.jsx(K,{onClick:C,children:"Update Template"})]})]})})]})};function pHe(){return c.jsx(pa,{children:c.jsx("div",{className:"flex-1 space-y-4 p-4 md:p-8 pt-6",children:c.jsx(hHe,{})})})}function yA(){var g,v,x,y,w,S;const{user:t,logout:e,isAdmin:r}=qr(),{currentTier:n,limits:i}=_j(),{startTutorial:a}=Sj(),o=Yi(),{toast:s}=un(),[l,u]=b.useState(!1),[d,f]=b.useState(!1),h=async()=>{try{u(!0),await e(),s({title:"Successfully signed out",description:"You have been signed out of your account."}),o("/")}catch(E){console.error("Sign out failed:",E),s({title:"Sign out failed",description:"There was a problem signing you out. Please try again.",variant:"destructive"})}finally{u(!1)}},m=(()=>{switch(n){case"free":return{name:"TaskaLoop Basic",price:"Free",icon:c.jsx(ri,{className:"h-5 w-5"}),color:"bg-gray-500",badgeColor:"bg-gray-100 text-gray-800"};case"plus":return{name:"TaskaLoop Plus",price:"$4.99/month",icon:c.jsx(Km,{className:"h-5 w-5"}),color:"bg-blue-500",badgeColor:"bg-blue-100 text-blue-800"};case"family":return{name:"TaskaLoop Family",price:"$8.99/month",icon:c.jsx(aO,{className:"h-5 w-5"}),color:"bg-purple-500",badgeColor:"bg-purple-100 text-purple-800"}}})();return c.jsx(pa,{children:c.jsxs("div",{className:"p-4 md:p-8",children:[c.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Profile Settings"}),c.jsx("p",{className:"text-slate-500",children:"Manage your account settings and preferences"})]})}),c.jsxs(Pc,{defaultValue:"account",className:"w-full",children:[c.jsxs(el,{className:"grid w-full md:w-auto grid-cols-4 md:inline-flex mb-6",children:[c.jsx(sr,{value:"account",children:"Account"}),c.jsx(sr,{value:"security",children:"Security"}),c.jsx(sr,{value:"notifications",children:"Notifications"}),c.jsx(sr,{value:"billing",children:"Billing"})]}),c.jsxs(jr,{value:"account",className:"space-y-6",children:[c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsxs(Fe,{children:[c.jsx(Be,{children:"Profile Information"}),c.jsx(tt,{children:"Update your personal information"})]}),c.jsx(Ne,{className:"space-y-6",children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.jsxs(zr,{className:"h-24 w-24",children:[c.jsx(Zu,{src:t==null?void 0:t.avatar}),c.jsx(Wr,{className:"text-2xl bg-teal-100 text-teal-700",children:((v=(g=t==null?void 0:t.name)==null?void 0:g.charAt(0))==null?void 0:v.toUpperCase())||((y=(x=t==null?void 0:t.email)==null?void 0:x.charAt(0))==null?void 0:y.toUpperCase())||"U"})]}),c.jsx(K,{variant:"outline",className:"border-slate-200",children:"Change Avatar"})]}),c.jsxs("div",{className:"flex-1 space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"firstName",children:"First Name"}),c.jsx(Ue,{id:"firstName",defaultValue:((w=t==null?void 0:t.name)==null?void 0:w.split(" ")[0])||"",placeholder:"Enter your first name"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"lastName",children:"Last Name"}),c.jsx(Ue,{id:"lastName",defaultValue:((S=t==null?void 0:t.name)==null?void 0:S.split(" ").slice(1).join(" "))||"",placeholder:"Enter your last name"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"email",children:"Email Address"}),c.jsx(Ue,{id:"email",type:"email",defaultValue:(t==null?void 0:t.email)||"",placeholder:"Enter your email",disabled:!0}),c.jsx("p",{className:"text-xs text-slate-500",children:"Email cannot be changed as it's linked to your Google account"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"phone",children:"Phone Number"}),c.jsx(Ue,{id:"phone",type:"tel",placeholder:"Enter your phone number"})]})]})]})}),c.jsx(Bt,{className:"flex justify-end",children:c.jsxs(K,{className:"bg-teal-600 hover:bg-teal-700",children:[c.jsx(gD,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]}),c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsxs(Fe,{children:[c.jsx(Be,{children:"Preferences"}),c.jsx(tt,{children:"Customize your app experience"})]}),c.jsxs(Ne,{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"language",children:"Language"}),c.jsxs($t,{defaultValue:"en",children:[c.jsx(Ot,{id:"language",className:"w-full md:w-[240px]",children:c.jsx(Ft,{placeholder:"Select language"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"en",children:"English"}),c.jsx(Se,{value:"es",children:"Spanish"}),c.jsx(Se,{value:"fr",children:"French"}),c.jsx(Se,{value:"de",children:"German"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"timezone",children:"Timezone"}),c.jsxs($t,{defaultValue:"america_los_angeles",children:[c.jsx(Ot,{id:"timezone",className:"w-full md:w-[240px]",children:c.jsx(Ft,{placeholder:"Select timezone"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"america_los_angeles",children:"Pacific Time (US & Canada)"}),c.jsx(Se,{value:"america_denver",children:"Mountain Time (US & Canada)"}),c.jsx(Se,{value:"america_chicago",children:"Central Time (US & Canada)"}),c.jsx(Se,{value:"america_new_york",children:"Eastern Time (US & Canada)"})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(ce,{htmlFor:"darkMode",children:"Dark Mode"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Enable dark mode for the application"})]}),c.jsx(Oi,{id:"darkMode"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(ce,{htmlFor:"compactView",children:"Compact View"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Use a more compact layout for lists"})]}),c.jsx(Oi,{id:"compactView"})]})]})]}),c.jsx(Bt,{className:"flex justify-end",children:c.jsxs(K,{className:"bg-teal-600 hover:bg-teal-700",children:[c.jsx(gD,{className:"h-4 w-4 mr-2"}),"Save Preferences"]})})]})]}),c.jsxs(jr,{value:"security",className:"space-y-6",children:[c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsxs(Fe,{children:[c.jsx(Be,{children:"Change Password"}),c.jsx(tt,{children:"Update your password to keep your account secure"})]}),c.jsxs(Ne,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"currentPassword",children:"Current Password"}),c.jsx(Ue,{id:"currentPassword",type:"password"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"newPassword",children:"New Password"}),c.jsx(Ue,{id:"newPassword",type:"password"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"confirmPassword",children:"Confirm New Password"}),c.jsx(Ue,{id:"confirmPassword",type:"password"})]})]}),c.jsx(Bt,{className:"flex justify-end",children:c.jsxs(K,{className:"bg-teal-600 hover:bg-teal-700",children:[c.jsx(ase,{className:"h-4 w-4 mr-2"}),"Update Password"]})})]}),c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsxs(Fe,{children:[c.jsx(Be,{children:"Two-Factor Authentication"}),c.jsx(tt,{children:"Add an extra layer of security to your account"})]}),c.jsx(Ne,{className:"space-y-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("h4",{className:"font-medium text-slate-800",children:"Enable Two-Factor Authentication"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Protect your account with an additional security layer"})]}),c.jsx(Oi,{id:"twoFactor"})]})}),c.jsxs(Bt,{className:"flex justify-between",children:[c.jsxs(K,{variant:"outline",className:"border-slate-200",children:[c.jsx(wV,{className:"h-4 w-4 mr-2"}),"Learn More"]}),c.jsxs(K,{className:"bg-teal-600 hover:bg-teal-700",children:[c.jsx(vD,{className:"h-4 w-4 mr-2"}),"Setup 2FA"]})]})]}),c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsxs(Fe,{children:[c.jsx(Be,{children:"Connected Accounts"}),c.jsx(tt,{children:"Manage accounts connected to your profile"})]}),c.jsx(Ne,{className:"space-y-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:c.jsx(nse,{className:"h-5 w-5 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-slate-800",children:"Google"}),c.jsxs("p",{className:"text-sm text-slate-500",children:["Connected as ",(t==null?void 0:t.email)||"Not connected"]})]})]}),c.jsx(K,{variant:"outline",className:"border-slate-200",disabled:!0,children:"Connected"})]})})]})]}),c.jsx(jr,{value:"notifications",className:"space-y-6",children:c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsxs(Fe,{children:[c.jsx(Be,{children:"Notification Preferences"}),c.jsx(tt,{children:"Manage how you receive notifications"})]}),c.jsxs(Ne,{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-medium text-slate-800",children:"Email Notifications"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(ce,{htmlFor:"emailShoppingReminders",children:"Shopping Reminders"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Receive reminders about your shopping lists"})]}),c.jsx(Oi,{id:"emailShoppingReminders",defaultChecked:!0})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(ce,{htmlFor:"emailExpenseAlerts",children:"Expense Alerts"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Get notified about new expenses and payments"})]}),c.jsx(Oi,{id:"emailExpenseAlerts",defaultChecked:!0})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(ce,{htmlFor:"emailWeeklyDigest",children:"Weekly Digest"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Receive a weekly summary of your activities"})]}),c.jsx(Oi,{id:"emailWeeklyDigest"})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-medium text-slate-800",children:"Push Notifications"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(ce,{htmlFor:"pushShoppingReminders",children:"Shopping Reminders"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Receive reminders about your shopping lists"})]}),c.jsx(Oi,{id:"pushShoppingReminders",defaultChecked:!0})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(ce,{htmlFor:"pushExpenseAlerts",children:"Expense Alerts"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Get notified about new expenses and payments"})]}),c.jsx(Oi,{id:"pushExpenseAlerts",defaultChecked:!0})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(ce,{htmlFor:"pushLocationReminders",children:"Location-based Reminders"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Get reminded when you're near a store on your list"})]}),c.jsx(Oi,{id:"pushLocationReminders",defaultChecked:!0})]})]})]})]}),c.jsx(Bt,{className:"flex justify-end",children:c.jsxs(K,{className:"bg-teal-600 hover:bg-teal-700",children:[c.jsx(Woe,{className:"h-4 w-4 mr-2"}),"Save Notification Settings"]})})]})}),c.jsxs(jr,{value:"billing",className:"space-y-6",children:[!r&&c.jsxs(c.Fragment,{children:[c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsxs(Fe,{children:[c.jsx(Be,{children:"Current Subscription"}),c.jsx(tt,{children:"Your current plan and features"})]}),c.jsx(Ne,{className:"space-y-6",children:c.jsxs("div",{className:`${m.color==="bg-gray-500"?"bg-gray-50 border-gray-200":m.color==="bg-blue-500"?"bg-blue-50 border-blue-200":"bg-purple-50 border-purple-200"} border rounded-lg p-6`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`${m.color} rounded-full p-2 text-white`,children:m.icon}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-slate-800",children:m.name}),c.jsx("p",{className:"text-sm text-slate-600",children:m.price})]})]}),c.jsx(mt,{className:m.badgeColor,children:"Active"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h5",{className:"font-medium text-slate-700",children:"Current Usage & Limits"}),c.jsxs("div",{className:"space-y-1 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-slate-600",children:"Active Trips:"}),c.jsx("span",{className:"font-medium",children:i.maxActiveTrips===1/0?"Unlimited":`${i.maxActiveTrips} max`})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-slate-600",children:"Active Tasks:"}),c.jsx("span",{className:"font-medium",children:i.maxActiveTasks===1/0?"Unlimited":`${i.maxActiveTasks} max`})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-slate-600",children:"Pantry Items:"}),c.jsx("span",{className:"font-medium",children:i.maxPantryItems===1/0?"Unlimited":`${i.maxPantryItems} max`})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-slate-600",children:"Household Members:"}),c.jsx("span",{className:"font-medium",children:i.maxHouseholdMembers===1/0?"Unlimited":`${i.maxHouseholdMembers} max`})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h5",{className:"font-medium text-slate-700",children:"Features Included"}),c.jsxs("div",{className:"space-y-1 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[i.hasReceiptScanning?c.jsx(fo,{className:"h-3 w-3 text-green-600"}):c.jsx("span",{className:"w-3 h-3 text-red-400",children:""}),c.jsx("span",{className:i.hasReceiptScanning?"text-slate-700":"text-slate-400",children:"Receipt Scanning"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[i.hasAIFeatures?c.jsx(fo,{className:"h-3 w-3 text-green-600"}):c.jsx("span",{className:"w-3 h-3 text-red-400",children:""}),c.jsx("span",{className:i.hasAIFeatures?"text-slate-700":"text-slate-400",children:"AI-Powered Features"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[i.hasRecurringItems?c.jsx(fo,{className:"h-3 w-3 text-green-600"}):c.jsx("span",{className:"w-3 h-3 text-red-400",children:""}),c.jsx("span",{className:i.hasRecurringItems?"text-slate-700":"text-slate-400",children:"Recurring Items"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[i.hasAdvancedAnalytics?c.jsx(fo,{className:"h-3 w-3 text-green-600"}):c.jsx("span",{className:"w-3 h-3 text-red-400",children:""}),c.jsx("span",{className:i.hasAdvancedAnalytics?"text-slate-700":"text-slate-400",children:"Advanced Analytics"})]})]})]})]}),n!=="family"&&c.jsxs(K,{onClick:()=>f(!0),className:"w-full bg-blue-600 hover:bg-blue-700",children:[c.jsx(Rg,{className:"h-4 w-4 mr-2"}),"Upgrade Plan"]})]})})]}),n!=="free"&&c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsxs(Fe,{children:[c.jsx(Be,{children:"Billing & Payments"}),c.jsx(tt,{children:"Manage your subscription billing"})]}),c.jsx(Ne,{children:sg.isConfigured()?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(UC,{className:"h-5 w-5 text-blue-600"}),c.jsx("span",{className:"font-medium text-blue-800",children:"Stripe Customer Portal"})]}),c.jsx("p",{className:"text-sm text-blue-700",children:"Manage your subscription, payment methods, and billing history through our secure portal powered by Stripe."})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs(K,{variant:"outline",onClick:async()=>{try{await sg.openCustomerPortal("cus_demo_customer_id")}catch{s({title:"Error",description:"Failed to open customer portal. Please try again.",variant:"destructive"})}},children:[c.jsx(Zoe,{className:"h-4 w-4 mr-2"}),"Manage Billing"]}),c.jsxs(K,{variant:"outline",children:[c.jsx(Gn,{className:"h-4 w-4 mr-2"}),"Download Invoices"]})]})]}):c.jsxs("div",{className:"text-center py-6",children:[c.jsx(UC,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),c.jsx("h3",{className:"font-semibold mb-2",children:"Stripe Configuration Required"}),c.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Stripe is not configured. Please add your Stripe keys to enable billing features."}),c.jsx(K,{variant:"outline",disabled:!0,children:"Manage Billing"})]})})]})]}),r&&c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsxs(Fe,{children:[c.jsx(Be,{children:"Admin Account"}),c.jsx(tt,{children:"You have an admin account with full access to all features"})]}),c.jsxs(Ne,{children:[c.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(vD,{className:"h-5 w-5 text-green-600"}),c.jsx("span",{className:"font-medium text-green-800",children:"Admin Access"})]}),c.jsx("p",{className:"text-sm text-green-700 mt-1",children:"All premium features are enabled for testing and development purposes."})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("h4",{className:"font-medium text-slate-800",children:"Welcome Tutorial"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Restart the welcome tutorial to see the feature overview"})]}),c.jsxs(K,{variant:"outline",className:"border-slate-200",onClick:()=>{t&&(localStorage.removeItem(`tutorial_completed_${t.id}`),a(),s({title:"Tutorial Started",description:"The welcome tutorial has been restarted."}))},children:[c.jsx(sO,{className:"h-4 w-4 mr-2"}),"Restart Tutorial"]})]})]})]})]})]}),c.jsx("div",{className:"mt-8 space-y-4",children:c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsxs(Fe,{children:[c.jsx(Be,{children:"Account Actions"}),c.jsx(tt,{children:"Manage your account status"})]}),c.jsxs(Ne,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("h4",{className:"font-medium text-slate-800",children:"Export Your Data"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Download a copy of your data"})]}),c.jsx(K,{variant:"outline",className:"border-slate-200",children:"Export Data"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("h4",{className:"font-medium text-red-600",children:"Delete Account"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Permanently delete your account and all data"})]}),c.jsx(K,{variant:"destructive",children:"Delete Account"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("h4",{className:"font-medium text-slate-800",children:"Sign Out"}),c.jsx("p",{className:"text-sm text-slate-500",children:"Sign out from your account"})]}),c.jsxs(K,{variant:"outline",className:"border-slate-200",onClick:h,disabled:l,children:[c.jsx(_V,{className:"h-4 w-4 mr-2"}),l?"Signing Out...":"Sign Out"]})]})]})]})}),!r&&c.jsx(JX,{isOpen:d,onClose:()=>f(!1),showUpgradeOnly:n!=="free"})]})})}const mHe=()=>{const{user:t,updateChorePreferences:e,isLoading:r,isAdmin:n}=qr(),{startTutorial:i}=Sj(),{tasks:a}=os(),{toast:o}=un(),[s,l]=b.useState([]);b.useEffect(()=>{t&&t.chorePreferences&&l(t.chorePreferences)},[t]);const u=D.useMemo(()=>{if(!a)return[];const m=new Set;return a.forEach(g=>m.add(g.title)),Array.from(m).map(g=>({id:g,name:g}))},[a]),d=(m,g)=>{l(v=>{const x=v.findIndex(y=>y.choreId===m);if(x>-1){const y=[...v];return y[x]={...y[x],preference:g},y}return[...v,{choreId:m,preference:g}]})},f=async()=>{if(!t){o({title:"Error",description:"You must be logged in to save preferences.",variant:"destructive"});return}try{await e(s),o({title:"Preferences Saved",description:"Your chore preferences have been updated."})}catch(m){o({title:"Save Failed",description:"Could not save your chore preferences. Please try again.",variant:"destructive"}),console.error("Failed to save chore preferences:",m)}},h=()=>{t&&(localStorage.removeItem(`tutorial_completed_${t.id}`),i(),o({title:"Tutorial Started",description:"The welcome tutorial has been restarted."}))};if(r)return c.jsx(pa,{children:c.jsx("div",{className:"p-4",children:"Loading settings..."})});const p=m=>{const g=s.find(v=>v.choreId===m);return g?g.preference:"neutral"};return c.jsx(pa,{children:c.jsx("div",{className:"p-4 md:p-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[c.jsx(lO,{className:"w-6 h-6"}),"Settings"]}),c.jsx("p",{className:"text-slate-500",children:"Manage your application settings and preferences"})]}),c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsxs(Fe,{children:[c.jsxs(Be,{className:"flex items-center gap-2",children:[c.jsx(wV,{className:"w-5 h-5 text-blue-500"}),"Welcome Tutorial"]}),c.jsx(tt,{children:"Take a tour of TaskaLoop's features with our interactive tutorial"})]}),c.jsx(Ne,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("h4",{className:"font-medium text-slate-800",children:"Restart Tutorial"}),c.jsx("p",{className:"text-sm text-slate-500",children:"See the welcome tutorial again to learn about all features"})]}),c.jsxs(K,{variant:"outline",onClick:h,className:"flex items-center gap-2",children:[c.jsx(sO,{className:"w-4 h-4"}),"Start Tutorial"]})]})})]}),c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsxs(Fe,{children:[c.jsxs(Be,{className:"flex items-center gap-2",children:[c.jsx(ise,{className:"w-5 h-5 text-red-500"}),"Chore Preferences"]}),c.jsx(tt,{children:"Let us know which chores you like or dislike. This can help with future chore assignments."})]}),c.jsxs(Ne,{className:"space-y-4",children:[u.length===0&&!r&&c.jsxs("div",{className:"text-center py-8 text-slate-500",children:[c.jsx("p",{children:"No chores available to set preferences for yet."}),c.jsx("p",{className:"text-sm mt-1",children:"Add some tasks first to set your preferences!"})]}),u.map(m=>c.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-lg hover:border-slate-300 transition-colors",children:[c.jsx(ce,{htmlFor:`pref-${m.id}`,className:"flex-grow pr-4 font-medium",children:m.name}),c.jsxs($t,{value:p(m.id),onValueChange:g=>d(m.id,g),children:[c.jsx(Ot,{id:`pref-${m.id}`,className:"w-[150px]",children:c.jsx(Ft,{placeholder:"Set preference"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"liked",children:" Liked"}),c.jsx(Se,{value:"neutral",children:" Neutral"}),c.jsx(Se,{value:"disliked",children:" Disliked"})]})]})]},m.id)),u.length>0&&c.jsx("div",{className:"pt-4",children:c.jsx(K,{onClick:f,disabled:r,className:"w-full sm:w-auto",children:r?"Saving...":"Save Chore Preferences"})})]})]}),c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsxs(Fe,{children:[c.jsx(Be,{children:"Additional Settings"}),c.jsx(tt,{children:"More settings and preferences will be available here in future updates"})]}),c.jsx(Ne,{children:c.jsx("div",{className:"text-center py-8 text-slate-500",children:c.jsx("p",{children:"More settings coming soon..."})})})]})]})})})},tee=t=>{if(!t)return"Uncategorized";const r=AN().find(n=>n.id===t);return r?r.label:"Uncategorized"},BN=({category:t,className:e="h-4 w-4"})=>{switch(t){case"food":return c.jsx(GC,{className:e});case"utilities":return c.jsx(Rg,{className:e});case"rent":return c.jsx(FC,{className:e});case"entertainment":return c.jsx(VC,{className:e});case"transportation":return c.jsx(Ix,{className:e});case"groceries":return c.jsx(lr,{className:e});case"household":return c.jsx(Gf,{className:e});case"personal":return c.jsx(kg,{className:e});case"medical":return c.jsx(WC,{className:e});case"other":default:return c.jsx(BC,{className:e})}},T$=({category:t})=>{if(!t)return null;const e=()=>{switch(t){case"food":return"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-300";case"utilities":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300";case"rent":return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-300";case"entertainment":return"bg-pink-100 text-pink-800 dark:bg-pink-900/20 dark:text-pink-300";case"transportation":return"bg-cyan-100 text-cyan-800 dark:bg-cyan-900/20 dark:text-cyan-300";case"groceries":return"bg-lime-100 text-lime-800 dark:bg-lime-900/20 dark:text-lime-300";case"household":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/20 dark:text-indigo-300";case"personal":return"bg-amber-100 text-amber-800 dark:bg-amber-900/20 dark:text-amber-300";case"medical":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";case"other":return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}};return c.jsxs("div",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${e()}`,children:[c.jsx(BN,{category:t,className:"h-3 w-3 mr-1"}),c.jsx("span",{children:tee(t)})]})},gHe=()=>{const{user:t}=qr(),{members:e}=Ej(),[r,n]=b.useState("balances"),[i,a]=b.useState([]),[o,s]=b.useState([]),[l,u]=b.useState([]),[d,f]=b.useState(!1),[h,p]=b.useState(""),[m,g]=b.useState(""),[v,x]=b.useState(""),[y,w]=b.useState(""),[S,E]=b.useState(!1),[C,A]=b.useState("all"),[T,N]=b.useState("all"),[I,j]=b.useState("all"),[O,P]=b.useState("all"),[M,F]=b.useState(void 0),[B,W]=b.useState(null),{toast:$}=un();b.useEffect(()=>{IBe((t==null?void 0:t.id)||null)},[t]),b.useEffect(()=>{if(B){const Z=le=>{le.target.closest(".category-menu-container")||W(null)};return document.addEventListener("mousedown",Z),()=>{document.removeEventListener("mousedown",Z)}}},[B]),b.useEffect(()=>{U()},[]);const U=()=>{const Z=E_();a(Z);const le=TJ();s(le);const xe=PBe();u(xe)},X=Z=>{const le=e.find(xe=>xe.name===Z.to.userName);le&&x(le.id),p(Z.amount.toFixed(2)),g(`Payment from ${Z.from.userName} to ${Z.to.userName}`),f(!0)},H=Z=>{try{kBe(Z),U(),$({title:"Payment confirmed",description:"The payment has been successfully confirmed."})}catch{$({title:"Error confirming payment",description:"There was a problem confirming this payment.",variant:"destructive"})}},Y=Z=>{try{RBe(Z),U(),$({title:"Payment cancelled",description:"The payment has been cancelled."})}catch{$({title:"Error cancelling payment",description:"There was a problem cancelling this payment.",variant:"destructive"})}},Q=()=>{const Z=parseFloat(h);if(isNaN(Z)||Z<=0){$({title:"Invalid amount",description:"Please enter a valid amount greater than 0.",variant:"destructive"});return}if(!m.trim()){$({title:"Description required",description:"Please enter a description for this payment.",variant:"destructive"});return}if(!v){$({title:"Recipient required",description:"Please select a recipient for this payment.",variant:"destructive"});return}const le=e.find(xe=>xe.id===v);if(!le){$({title:"Recipient not found",description:"The selected recipient could not be found.",variant:"destructive"});return}try{jBe((t==null?void 0:t.id)||"current-user",(t==null?void 0:t.name)||"You",v,le.name,Z,m,M),p(""),g(""),x(""),F(void 0),f(!1),U(),$({title:"Payment recorded",description:"Your payment has been recorded successfully."})}catch{$({title:"Error recording payment",description:"There was a problem recording this payment.",variant:"destructive"})}},ue=()=>{const Z=e.filter(le=>le.id!==(t==null?void 0:t.id));if(Z.length===0){$({title:"No household members",description:"Invite someone to your household to send them payments.",variant:"destructive"});return}x(Z[0].id),p(""),g(""),f(!0)},de=o.find(Z=>Z.userName==="You"),he=(de==null?void 0:de.netBalance)&&de.netBalance>0,pe=(de==null?void 0:de.netBalance)&&de.netBalance<0,J=l.filter(Z=>Z.from.userName==="You"||Z.to.userName==="You"),re=i.filter(Z=>Z.status==="pending");i.filter(Z=>Z.status==="completed");const L=i.filter(Z=>{if(C!=="all"&&Z.status!==C||T!=="all"&&Z.type!==T||O!=="all"&&Z.category!==O)return!1;if(I!=="all"){if(I==="sent"&&Z.fromUserName!=="You")return!1;if(I==="received"&&Z.toUserName!=="You")return!1}if(y.trim()){const le=y.toLowerCase();return Z.description.toLowerCase().includes(le)||Z.fromUserName.toLowerCase().includes(le)||Z.toUserName.toLowerCase().includes(le)||`$${Z.amount.toFixed(2)}`.includes(le)||Z.category&&Z.category.toLowerCase().includes(le)}return!0}),q=re.filter(Z=>{if(C!=="all"&&C!=="pending"||T!=="all"&&Z.type!==T||O!=="all"&&Z.category!==O)return!1;if(I!=="all"){if(I==="sent"&&Z.fromUserName!=="You")return!1;if(I==="received"&&Z.toUserName!=="You")return!1}if(y.trim()){const le=y.toLowerCase();return Z.description.toLowerCase().includes(le)||Z.fromUserName.toLowerCase().includes(le)||Z.toUserName.toLowerCase().includes(le)||`$${Z.amount.toFixed(2)}`.includes(le)||Z.category&&Z.category.toLowerCase().includes(le)}return!0}),G=L.reduce((Z,le)=>{const xe=new Date(le.timestamp).toDateString();return Z[xe]||(Z[xe]=[]),Z[xe].push(le),Z},{}),ye=Object.keys(G).sort((Z,le)=>new Date(le).getTime()-new Date(Z).getTime()),me=q.length>0?{"Pending Transactions":q}:{},ie=()=>{w(""),A("all"),N("all"),j("all"),P("all"),E(!1)},ne=()=>{if(i.length===0){$({title:"No transactions to export",description:"There are no transactions to export."});return}try{const xe=[["Date","Description","From","To","Amount","Status","Category"].join(","),...i.map(Ht=>[Yt(new Date(Ht.timestamp),"yyyy-MM-dd"),`"${Ht.description.replace(/"/g,'""')}"`,Ht.fromUserName,Ht.toUserName,Ht.amount.toFixed(2),Ht.status,tee(Ht.category)].join(","))].join(`
`),it=new Blob([xe],{type:"text/csv;charset=utf-8;"}),yr=URL.createObjectURL(it),Wt=document.createElement("a");Wt.href=yr,Wt.setAttribute("download",`ledger-transactions-${Yt(new Date,"yyyy-MM-dd")}.csv`),document.body.appendChild(Wt),Wt.click(),document.body.removeChild(Wt),$({title:"Export successful",description:"Your transactions have been exported to CSV."})}catch{$({title:"Export failed",description:"There was a problem exporting your transactions.",variant:"destructive"})}};o.filter(Z=>Z.userName!=="You");const Oe=(Z,le)=>{try{DBe(Z,le),W(null),U(),$({title:"Category updated",description:"Transaction category has been updated."})}catch{$({title:"Error updating category",description:"There was a problem updating the category.",variant:"destructive"})}};return c.jsxs(pa,{children:[c.jsxs("div",{className:"px-[5vw] md:px-[8vw] lg:px-[10vw] py-6 md:py-8 pb-20 md:pb-24",children:[c.jsxs("header",{className:"mb-6 md:mb-8",children:[c.jsx("h1",{className:"text-[clamp(1.875rem,4vw,2.5rem)] font-bold mb-2 bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-green-600 dark:from-blue-400 dark:to-green-400",children:"Ledger"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Track expenses and settle debts with your household"})]}),c.jsx(Te,{className:"mb-6 border border-gray-200 dark:border-gray-700 shadow-sm overflow-hidden",children:c.jsx(Ne,{className:"p-6",children:c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Your Balance"}),(de==null?void 0:de.netBalance)===0?c.jsxs("div",{className:"relative",children:[c.jsxs(On.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,type:"spring"},className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:"$0.00"}),c.jsx(On.div,{initial:{opacity:0,scale:0,rotate:-45},animate:{opacity:1,scale:1,rotate:0},transition:{delay:.3,duration:.5,type:"spring"},className:"bg-green-500 dark:bg-green-600 text-white rounded-full p-1",children:c.jsx(fo,{className:"h-4 w-4"})})]}),c.jsx(On.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5,duration:.3},className:"text-sm text-green-600 dark:text-green-400 mt-1",children:"All settled up! "})]}):c.jsxs("div",{className:"flex items-baseline",children:[c.jsx("span",{className:`text-2xl font-bold ${he?"text-green-600 dark:text-green-400":pe?"text-red-600 dark:text-red-400":"text-gray-800 dark:text-gray-200"}`,children:de!=null&&de.netBalance?`$${Math.abs(de.netBalance).toFixed(2)}`:"$0.00"}),c.jsx("span",{className:"ml-2 text-sm text-gray-500",children:he?"owed to you":pe?"you owe":""})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(K,{onClick:ue,className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white",children:[c.jsx(ao,{className:"mr-2 h-4 w-4"}),"Send Money"]}),c.jsx(K,{onClick:U,variant:"outline",className:"border-gray-200 dark:border-gray-700",children:c.jsx(Zb,{className:"h-4 w-4"})})]})]})})}),J.length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-3 bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-green-500",children:"Recommended Payments"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-5",children:J.map((Z,le)=>c.jsxs(Te,{className:"border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-shadow duration-200 flex flex-col overflow-hidden",children:[c.jsx("div",{className:`h-2 w-full ${Z.from.userName==="You"?"bg-gradient-to-r from-amber-400 to-red-400":"bg-gradient-to-r from-green-400 to-teal-400"}`}),c.jsxs(Fe,{className:"p-4 pb-2",children:[c.jsxs(Be,{className:"text-lg font-semibold flex items-center justify-between",children:[Z.from.userName==="You"?"You should pay":"Incoming payment",c.jsx(mt,{variant:Z.from.userName==="You"?"destructive":"secondary",className:"ml-2",children:Z.from.userName==="You"?"Outgoing":"Incoming"})]}),c.jsx(tt,{className:"text-sm text-gray-500 dark:text-gray-400",children:Z.from.userName==="You"?`You owe ${Z.to.userName} money`:`${Z.from.userName} owes you money`})]}),c.jsx(Ne,{className:"p-4 pt-2 flex-grow",children:c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(zr,{className:"h-8 w-8",children:c.jsx(Wr,{className:`${Z.from.userName==="You"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300"}`,children:Z.from.userName==="You"?"Y":Z.from.userName.charAt(0)})}),c.jsx(iO,{className:"h-4 w-4 mx-1 text-gray-400"}),c.jsx(zr,{className:"h-8 w-8",children:c.jsx(Wr,{className:`${Z.to.userName==="You"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300"}`,children:Z.to.userName==="You"?"Y":Z.to.userName.charAt(0)})})]}),c.jsxs("div",{className:"text-xl font-bold",children:["$",Z.amount.toFixed(2)]})]})}),c.jsx(Bt,{className:"p-3 pt-0 flex gap-2 justify-end border-t border-gray-100 dark:border-gray-800",children:Z.from.userName==="You"?c.jsxs(c.Fragment,{children:[c.jsxs(K,{variant:"outline",size:"sm",className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",onClick:()=>{$({title:"Reminder added",description:"You'll be reminded about this payment later."})},children:[c.jsx(Pr,{className:"h-4 w-4 mr-1"}),"Remind me"]}),c.jsxs(K,{onClick:()=>X(Z),size:"sm",className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white",children:[c.jsx(ao,{className:"h-4 w-4 mr-1"}),"Pay now"]})]}):c.jsxs(K,{variant:"outline",size:"sm",className:"border-green-500 text-green-500 hover:bg-green-50 dark:hover:bg-green-900/20",onClick:()=>{$({title:"Payment request sent",description:`A payment reminder was sent to ${Z.from.userName}.`})},children:[c.jsx(ao,{className:"h-4 w-4 mr-1"}),"Request payment"]})})]},le))})]}),c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Transaction History"}),i.length>0&&c.jsxs(K,{variant:"outline",size:"sm",className:"h-8 text-xs border-gray-200 dark:border-gray-700",onClick:ne,children:[c.jsx(xV,{className:"h-4 w-4 mr-1.5"}),"Export Transactions"]})]}),c.jsxs(Pc,{value:r,onValueChange:n,children:[c.jsxs(el,{className:"bg-gray-100/50 dark:bg-gray-800/50 p-1 mb-4",children:[c.jsx(sr,{value:"balances",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm",children:"Balances"}),c.jsxs(sr,{value:"transactions",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm relative",children:["Transactions",q.length>0&&c.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 min-w-5 items-center justify-center rounded-full bg-yellow-500 dark:bg-yellow-600 text-[10px] text-white px-1 font-semibold",children:q.length})]})]}),c.jsx(jr,{value:"balances",className:"mt-0",children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:o.length>0?o.map(Z=>c.jsx(Te,{className:"border border-gray-200 dark:border-gray-700 shadow-sm flex flex-col",children:c.jsx(Ne,{className:"p-4 flex-grow",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(zr,{className:"h-10 w-10",children:c.jsx(Wr,{className:`${Z.userName==="You"?"bg-gradient-to-br from-blue-500 to-green-500 text-white":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}`,children:Z.userName.charAt(0)})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:Z.userName}),c.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:Z.userName==="You"?he?"Others owe you":pe?"You owe others":"All settled up":Z.netBalance>0?`Owes you $${Z.netBalance.toFixed(2)}`:Z.netBalance<0?`You owe $${Math.abs(Z.netBalance).toFixed(2)}`:"All settled up"})]})]}),c.jsx("div",{className:`text-lg font-semibold ${Z.userName!=="You"&&Z.netBalance>0?"text-green-600 dark:text-green-400":Z.userName!=="You"&&Z.netBalance<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-300"}`,children:Z.userName!=="You"&&Z.netBalance!==0&&`${Z.netBalance>0?"+":""}$${Z.netBalance.toFixed(2)}`})]})})},Z.userId)):c.jsx(Te,{className:"border border-dashed border-gray-200 dark:border-gray-700",children:c.jsxs(Ne,{className:"p-6 text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500/20 to-green-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:c.jsx(CV,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"No balance information"}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:"Start making transactions to track balances"})]})})})}),c.jsxs(jr,{value:"transactions",className:"mt-0",children:[c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"relative mb-3",children:[c.jsx(Jb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),c.jsx(Ue,{placeholder:"Search transactions...",value:y,onChange:Z=>w(Z.target.value),className:"pl-9 pr-12"}),y&&c.jsx("button",{className:"absolute right-12 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>w(""),children:c.jsx(Li,{className:"h-4 w-4"})}),c.jsx("button",{className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${S?"text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>E(!S),children:c.jsx(gse,{className:"h-4 w-4"})})]}),S&&c.jsx(Te,{className:"mb-4 border border-gray-200 dark:border-gray-700 shadow-sm",children:c.jsxs(Ne,{className:"p-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-3",children:[c.jsx("h3",{className:"text-sm font-medium",children:"Filters"}),c.jsxs(K,{variant:"ghost",size:"sm",className:"text-xs h-7 px-2 text-blue-600 dark:text-blue-400",onClick:ie,children:[c.jsx(rse,{className:"h-3.5 w-3.5 mr-1"}),"Reset filters"]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[c.jsxs("div",{children:[c.jsx(ce,{htmlFor:"status-filter",className:"text-xs mb-1.5",children:"Status"}),c.jsxs($t,{value:C,onValueChange:A,children:[c.jsx(Ot,{id:"status-filter",className:"h-8 text-xs",children:c.jsx(Ft,{placeholder:"Filter by status"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"all",children:"All Statuses"}),c.jsx(Se,{value:"pending",children:"Pending"}),c.jsx(Se,{value:"completed",children:"Completed"}),c.jsx(Se,{value:"cancelled",children:"Cancelled"})]})]})]}),c.jsxs("div",{children:[c.jsx(ce,{htmlFor:"type-filter",className:"text-xs mb-1.5",children:"Type"}),c.jsxs($t,{value:T,onValueChange:N,children:[c.jsx(Ot,{id:"type-filter",className:"h-8 text-xs",children:c.jsx(Ft,{placeholder:"Filter by type"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"all",children:"All Types"}),c.jsx(Se,{value:"payment",children:"Payments"}),c.jsx(Se,{value:"expense",children:"Expenses"})]})]})]}),c.jsxs("div",{children:[c.jsx(ce,{htmlFor:"user-filter",className:"text-xs mb-1.5",children:"Direction"}),c.jsxs($t,{value:I,onValueChange:j,children:[c.jsx(Ot,{id:"user-filter",className:"h-8 text-xs",children:c.jsx(Ft,{placeholder:"Filter by user"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"all",children:"All Transactions"}),c.jsx(Se,{value:"sent",children:"Sent by You"}),c.jsx(Se,{value:"received",children:"Received by You"})]})]})]}),c.jsxs("div",{children:[c.jsx(ce,{htmlFor:"category-filter",className:"text-xs mb-1.5",children:"Category"}),c.jsxs($t,{value:O,onValueChange:P,children:[c.jsx(Ot,{id:"category-filter",className:"h-8 text-xs",children:c.jsx(Ft,{placeholder:"Filter by category"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"all",children:"All Categories"}),c.jsxs(Se,{value:"food",className:"flex items-center",children:[c.jsx(GC,{className:"h-3.5 w-3.5 mr-2"}),c.jsx("span",{children:"Food & Dining"})]}),c.jsxs(Se,{value:"groceries",className:"flex items-center",children:[c.jsx(lr,{className:"h-3.5 w-3.5 mr-2"}),c.jsx("span",{children:"Groceries"})]}),c.jsxs(Se,{value:"household",className:"flex items-center",children:[c.jsx(Gf,{className:"h-3.5 w-3.5 mr-2"}),c.jsx("span",{children:"Household"})]}),c.jsxs(Se,{value:"utilities",className:"flex items-center",children:[c.jsx(Rg,{className:"h-3.5 w-3.5 mr-2"}),c.jsx("span",{children:"Utilities"})]}),c.jsxs(Se,{value:"rent",className:"flex items-center",children:[c.jsx(FC,{className:"h-3.5 w-3.5 mr-2"}),c.jsx("span",{children:"Rent & Mortgage"})]}),c.jsxs(Se,{value:"transportation",className:"flex items-center",children:[c.jsx(Ix,{className:"h-3.5 w-3.5 mr-2"}),c.jsx("span",{children:"Transportation"})]}),c.jsxs(Se,{value:"entertainment",className:"flex items-center",children:[c.jsx(VC,{className:"h-3.5 w-3.5 mr-2"}),c.jsx("span",{children:"Entertainment"})]}),c.jsxs(Se,{value:"personal",className:"flex items-center",children:[c.jsx(kg,{className:"h-3.5 w-3.5 mr-2"}),c.jsx("span",{children:"Personal"})]}),c.jsxs(Se,{value:"medical",className:"flex items-center",children:[c.jsx(WC,{className:"h-3.5 w-3.5 mr-2"}),c.jsx("span",{children:"Medical"})]}),c.jsxs(Se,{value:"other",className:"flex items-center",children:[c.jsx(BC,{className:"h-3.5 w-3.5 mr-2"}),c.jsx("span",{children:"Other"})]})]})]})]})]})]})})]}),q.length>0&&c.jsx("div",{className:"mb-6 rounded-lg border border-yellow-200 dark:border-yellow-800 bg-yellow-50 dark:bg-yellow-900/20 p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-full bg-yellow-100 dark:bg-yellow-900/50",children:c.jsx(Pr,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium",children:"Pending Payments"}),c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["You have ",q.length," pending payment",q.length!==1?"s":""," that ",q.length!==1?"need":"needs"," attention"]})]})]})})]}),ye.length>0||re.length>0?c.jsxs("div",{className:"space-y-6",children:[Object.entries(me).map(([Z,le])=>c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold mb-3 sticky top-0 bg-opacity-80 backdrop-blur-sm py-2 px-1 -mx-1 z-10 bg-gradient-to-r from-yellow-500/10 via-yellow-500/20 to-yellow-500/10 dark:from-yellow-900/20 dark:via-yellow-900/30 dark:to-yellow-900/20 border-b border-yellow-200 dark:border-yellow-800/50",children:[Z," (",le.length,")"]}),c.jsx("div",{className:"space-y-3",children:le.map(xe=>c.jsxs(Te,{className:`border shadow-sm ${xe.status==="pending"?"border-yellow-500/50 dark:border-yellow-400/40 ring-1 ring-yellow-400/30 dark:ring-yellow-500/30":"border-gray-200 dark:border-gray-700"} flex flex-col`,children:[xe.status==="pending"&&c.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-yellow-400 to-yellow-500"}),c.jsx(Ne,{className:`p-4 flex-grow ${xe.status==="pending"?"bg-yellow-50/50 dark:bg-yellow-900/10":""}`,children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:`p-2 rounded-full ${xe.type==="payment"?xe.status==="pending"?"bg-yellow-100 dark:bg-yellow-900/30":"bg-blue-100 dark:bg-blue-900/30":xe.type==="expense"?"bg-amber-100 dark:bg-amber-900/30":"bg-green-100 dark:bg-green-900/30"}`,children:xe.status==="pending"&&xe.type==="payment"?c.jsx(Pr,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"}):xe.type==="payment"?c.jsx(ao,{className:`h-5 w-5 ${xe.fromUserName==="You"?"text-blue-600 dark:text-blue-400":"text-green-600 dark:text-green-400"}`}):xe.type==="expense"?c.jsx(mD,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"}):c.jsx(Go,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:xe.description}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 mt-1",children:[c.jsx(Hu,{className:"h-3.5 w-3.5 mr-1"}),c.jsxs("span",{children:[Yt(new Date(xe.timestamp),"MMM d, yyyy"),"  ",H6(new Date(xe.timestamp))," ago"]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[c.jsxs("div",{className:"flex items-center text-sm",children:[c.jsx("span",{className:"font-medium mr-1",children:"From:"}),c.jsx(zr,{className:"h-5 w-5 mr-1",children:c.jsx(Wr,{className:"text-xs",children:xe.fromUserName.charAt(0)})}),c.jsx("span",{children:xe.fromUserName})]}),c.jsxs("div",{className:"flex items-center text-sm",children:[c.jsx("span",{className:"font-medium mr-1",children:"To:"}),c.jsx(zr,{className:"h-5 w-5 mr-1",children:c.jsx(Wr,{className:"text-xs",children:xe.toUserName.charAt(0)})}),c.jsx("span",{children:xe.toUserName})]})]}),c.jsx("div",{className:"mt-2 flex items-center",children:c.jsxs("div",{className:"relative inline-block category-menu-container",children:[xe.category?c.jsx("div",{className:"cursor-pointer",onClick:it=>{it.stopPropagation(),W(B===xe.id?null:xe.id)},children:c.jsx(T$,{category:xe.category})}):c.jsxs(K,{variant:"outline",size:"sm",className:"h-6 px-2 text-xs",onClick:it=>{it.stopPropagation(),W(B===xe.id?null:xe.id)},children:[c.jsx(yD,{className:"h-3 w-3 mr-1"}),"Categorize"]}),B===xe.id&&c.jsxs("div",{className:"absolute top-full left-0 mt-1 z-50 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 p-2 w-48 category-menu-container",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2 px-2",children:[c.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Select a category"}),c.jsx("button",{onClick:it=>{it.stopPropagation(),W(null)},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:c.jsx(Li,{className:"h-3 w-3"})})]}),AN().map(it=>c.jsxs("button",{className:"flex items-center gap-2 w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",onClick:yr=>{yr.stopPropagation(),Oe(xe.id,it.id)},children:[c.jsx(BN,{category:it.id,className:"h-3.5 w-3.5"}),c.jsx("span",{children:it.label})]},it.id))]})]})}),xe.status==="pending"&&xe.type==="payment"&&c.jsx("div",{className:"flex gap-2 mt-3",children:xe.fromUserName==="You"?c.jsxs(mt,{variant:"outline",className:"bg-yellow-50 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300",children:[c.jsx(Pr,{className:"h-3 w-3 mr-1"}),"Awaiting confirmation"]}):c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(K,{size:"sm",variant:"outline",className:"h-7 px-2 border-red-200 hover:border-red-300 dark:border-red-900 dark:hover:border-red-800",onClick:()=>Y(xe.id),children:[c.jsx(Li,{className:"h-3 w-3 mr-1 text-red-600 dark:text-red-400"}),c.jsx("span",{className:"text-xs text-red-600 dark:text-red-400",children:"Decline"})]}),c.jsxs(K,{size:"sm",className:"h-7 px-2 bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white",onClick:()=>H(xe.id),children:[c.jsx(fo,{className:"h-3 w-3 mr-1"}),c.jsx("span",{className:"text-xs",children:"Confirm"})]})]})})]})]}),c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsx("span",{className:`font-semibold ${xe.fromUserName==="You"?"text-red-600 dark:text-red-400":xe.toUserName==="You"?"text-green-600 dark:text-green-400":"text-gray-800 dark:text-gray-200"}`,children:xe.fromUserName==="You"?`-$${xe.amount.toFixed(2)}`:xe.toUserName==="You"?`+$${xe.amount.toFixed(2)}`:`$${xe.amount.toFixed(2)}`}),c.jsx(mt,{className:`mt-1 ${xe.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":xe.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300"}`,children:xe.status.charAt(0).toUpperCase()+xe.status.slice(1)})]})]})})]},xe.id))})]},Z)),ye.map(Z=>c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold mb-3 sticky top-0 bg-opacity-80 backdrop-blur-sm py-2 px-1 -mx-1 z-10 bg-gradient-to-r from-blue-500/5 via-green-500/5 to-blue-500/5 dark:from-blue-900/20 dark:via-green-900/20 dark:to-blue-900/20",children:Yt(new Date(Z),"MMMM d, yyyy")}),c.jsx("div",{className:"space-y-3",children:G[Z].filter(le=>le.status!=="pending").map(le=>c.jsx(Te,{className:"border shadow-sm border-gray-200 dark:border-gray-700 flex flex-col",children:c.jsx(Ne,{className:"p-4 flex-grow",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:`p-2 rounded-full ${le.type==="payment"?"bg-blue-100 dark:bg-blue-900/30":le.type==="expense"?"bg-amber-100 dark:bg-amber-900/30":"bg-green-100 dark:bg-green-900/30"}`,children:le.type==="payment"?c.jsx(ao,{className:`h-5 w-5 ${le.fromUserName==="You"?"text-blue-600 dark:text-blue-400":"text-green-600 dark:text-green-400"}`}):le.type==="expense"?c.jsx(mD,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"}):c.jsx(Go,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:le.description}),c.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 mt-1",children:[c.jsx(Hu,{className:"h-3.5 w-3.5 mr-1"}),c.jsxs("span",{children:[Yt(new Date(le.timestamp),"MMM d, yyyy"),"  ",H6(new Date(le.timestamp))," ago"]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[c.jsxs("div",{className:"flex items-center text-sm",children:[c.jsx("span",{className:"font-medium mr-1",children:"From:"}),c.jsx(zr,{className:"h-5 w-5 mr-1",children:c.jsx(Wr,{className:"text-xs",children:le.fromUserName.charAt(0)})}),c.jsx("span",{children:le.fromUserName})]}),c.jsxs("div",{className:"flex items-center text-sm",children:[c.jsx("span",{className:"font-medium mr-1",children:"To:"}),c.jsx(zr,{className:"h-5 w-5 mr-1",children:c.jsx(Wr,{className:"text-xs",children:le.toUserName.charAt(0)})}),c.jsx("span",{children:le.toUserName})]})]}),c.jsx("div",{className:"mt-2 flex items-center",children:c.jsxs("div",{className:"relative inline-block category-menu-container",children:[le.category?c.jsx("div",{className:"cursor-pointer",onClick:xe=>{xe.stopPropagation(),W(B===le.id?null:le.id)},children:c.jsx(T$,{category:le.category})}):c.jsxs(K,{variant:"outline",size:"sm",className:"h-6 px-2 text-xs",onClick:xe=>{xe.stopPropagation(),W(B===le.id?null:le.id)},children:[c.jsx(yD,{className:"h-3 w-3 mr-1"}),"Categorize"]}),B===le.id&&c.jsxs("div",{className:"absolute top-full left-0 mt-1 z-50 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 p-2 w-48 category-menu-container",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2 px-2",children:[c.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Select a category"}),c.jsx("button",{onClick:xe=>{xe.stopPropagation(),W(null)},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:c.jsx(Li,{className:"h-3 w-3"})})]}),AN().map(xe=>c.jsxs("button",{className:"flex items-center gap-2 w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",onClick:it=>{it.stopPropagation(),Oe(le.id,xe.id)},children:[c.jsx(BN,{category:xe.id,className:"h-3.5 w-3.5"}),c.jsx("span",{children:xe.label})]},xe.id))]})]})})]})]}),c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsx("span",{className:`font-semibold ${le.fromUserName==="You"?"text-red-600 dark:text-red-400":le.toUserName==="You"?"text-green-600 dark:text-green-400":"text-gray-800 dark:text-gray-200"}`,children:le.fromUserName==="You"?`-$${le.amount.toFixed(2)}`:le.toUserName==="You"?`+$${le.amount.toFixed(2)}`:`$${le.amount.toFixed(2)}`}),c.jsx(mt,{className:`mt-1 ${le.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":le.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300"}`,children:le.status.charAt(0).toUpperCase()+le.status.slice(1)})]})]})})},le.id))})]},Z))]}):c.jsx(Te,{className:"border border-dashed border-gray-200 dark:border-gray-700",children:c.jsxs(Ne,{className:"p-6 text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500/20 to-green-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:c.jsx(tse,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"No transactions yet"}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:"Start making payments or logging expenses"}),c.jsxs(K,{onClick:ue,className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white",children:[c.jsx(ao,{className:"mr-2 h-4 w-4"}),"Send Money"]})]})})]})]})]}),c.jsx(_r,{open:d,onOpenChange:f,children:c.jsxs(pr,{className:"sm:max-w-md",children:[c.jsxs(mr,{children:[c.jsx(gr,{children:"Send Payment"}),c.jsx(Ei,{children:"Create a payment to settle your balance."})]}),c.jsxs("div",{className:"space-y-4 py-2",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"recipient",children:"Recipient"}),c.jsxs($t,{value:v,onValueChange:x,children:[c.jsx(Ot,{children:c.jsx(Ft,{placeholder:"Select recipient"})}),c.jsx(jt,{children:e.filter(Z=>Z.id!==(t==null?void 0:t.id)).length>0?e.filter(Z=>Z.id!==(t==null?void 0:t.id)).map(Z=>c.jsx(Se,{value:Z.id,children:Z.name},Z.id)):c.jsxs("div",{className:"p-2 text-center text-sm text-muted-foreground",children:["No household members found.",c.jsx(K,{variant:"link",className:"p-0 h-auto font-normal text-blue-600 dark:text-blue-400",onClick:()=>{f(!1),window.location.href="#/profile"},children:"Invite someone to your household"})]})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"amount",children:"Amount"}),c.jsxs("div",{className:"relative",children:[c.jsx(Go,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),c.jsx(Ue,{id:"amount",value:h,onChange:Z=>p(Z.target.value),className:"pl-9",placeholder:"0.00"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"description",children:"Description (optional)"}),c.jsx(Ue,{id:"description",value:m,onChange:Z=>g(Z.target.value),placeholder:"Payment for groceries, etc."})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"category",children:"Category (optional)"}),c.jsxs($t,{value:M,onValueChange:Z=>F(Z),children:[c.jsx(Ot,{id:"category",className:"w-full",children:c.jsx(Ft,{placeholder:"Select a category"})}),c.jsxs(jt,{children:[c.jsxs(Se,{value:"food",className:"flex items-center gap-2",children:[c.jsx(GC,{className:"h-4 w-4"}),c.jsx("span",{children:"Food & Dining"})]}),c.jsxs(Se,{value:"groceries",className:"flex items-center gap-2",children:[c.jsx(lr,{className:"h-4 w-4"}),c.jsx("span",{children:"Groceries"})]}),c.jsxs(Se,{value:"household",className:"flex items-center gap-2",children:[c.jsx(Gf,{className:"h-4 w-4"}),c.jsx("span",{children:"Household"})]}),c.jsxs(Se,{value:"utilities",className:"flex items-center gap-2",children:[c.jsx(Rg,{className:"h-4 w-4"}),c.jsx("span",{children:"Utilities"})]}),c.jsxs(Se,{value:"rent",className:"flex items-center gap-2",children:[c.jsx(FC,{className:"h-4 w-4"}),c.jsx("span",{children:"Rent & Mortgage"})]}),c.jsxs(Se,{value:"transportation",className:"flex items-center gap-2",children:[c.jsx(Ix,{className:"h-4 w-4"}),c.jsx("span",{children:"Transportation"})]}),c.jsxs(Se,{value:"entertainment",className:"flex items-center gap-2",children:[c.jsx(VC,{className:"h-4 w-4"}),c.jsx("span",{children:"Entertainment"})]}),c.jsxs(Se,{value:"personal",className:"flex items-center gap-2",children:[c.jsx(kg,{className:"h-4 w-4"}),c.jsx("span",{children:"Personal"})]}),c.jsxs(Se,{value:"medical",className:"flex items-center gap-2",children:[c.jsx(WC,{className:"h-4 w-4"}),c.jsx("span",{children:"Medical"})]}),c.jsxs(Se,{value:"other",className:"flex items-center gap-2",children:[c.jsx(BC,{className:"h-4 w-4"}),c.jsx("span",{children:"Other"})]})]})]})]})]}),c.jsxs(Si,{className:"flex justify-between sm:justify-between gap-2",children:[c.jsx(K,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),c.jsxs(K,{onClick:Q,className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white",children:[c.jsx(ao,{className:"mr-2 h-4 w-4"}),"Send Payment"]})]})]})})]})},vHe=()=>{const t=ds();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),c.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function yHe(t){return t==null}var xHe=yHe;const ft=dt(xHe);var wHe=ul,bHe=si,_He=Io,SHe="[object String]";function EHe(t){return typeof t=="string"||!bHe(t)&&_He(t)&&wHe(t)==SHe}var AHe=EHe;const cd=dt(AHe);var ree={exports:{}},Rt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y3=Symbol.for("react.element"),x3=Symbol.for("react.portal"),N_=Symbol.for("react.fragment"),I_=Symbol.for("react.strict_mode"),P_=Symbol.for("react.profiler"),O_=Symbol.for("react.provider"),j_=Symbol.for("react.context"),CHe=Symbol.for("react.server_context"),k_=Symbol.for("react.forward_ref"),R_=Symbol.for("react.suspense"),D_=Symbol.for("react.suspense_list"),M_=Symbol.for("react.memo"),L_=Symbol.for("react.lazy"),THe=Symbol.for("react.offscreen"),nee;nee=Symbol.for("react.module.reference");function qa(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case y3:switch(t=t.type,t){case N_:case P_:case I_:case R_:case D_:return t;default:switch(t=t&&t.$$typeof,t){case CHe:case j_:case k_:case L_:case M_:case O_:return t;default:return e}}case x3:return e}}}Rt.ContextConsumer=j_;Rt.ContextProvider=O_;Rt.Element=y3;Rt.ForwardRef=k_;Rt.Fragment=N_;Rt.Lazy=L_;Rt.Memo=M_;Rt.Portal=x3;Rt.Profiler=P_;Rt.StrictMode=I_;Rt.Suspense=R_;Rt.SuspenseList=D_;Rt.isAsyncMode=function(){return!1};Rt.isConcurrentMode=function(){return!1};Rt.isContextConsumer=function(t){return qa(t)===j_};Rt.isContextProvider=function(t){return qa(t)===O_};Rt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===y3};Rt.isForwardRef=function(t){return qa(t)===k_};Rt.isFragment=function(t){return qa(t)===N_};Rt.isLazy=function(t){return qa(t)===L_};Rt.isMemo=function(t){return qa(t)===M_};Rt.isPortal=function(t){return qa(t)===x3};Rt.isProfiler=function(t){return qa(t)===P_};Rt.isStrictMode=function(t){return qa(t)===I_};Rt.isSuspense=function(t){return qa(t)===R_};Rt.isSuspenseList=function(t){return qa(t)===D_};Rt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===N_||t===P_||t===I_||t===R_||t===D_||t===THe||typeof t=="object"&&t!==null&&(t.$$typeof===L_||t.$$typeof===M_||t.$$typeof===O_||t.$$typeof===j_||t.$$typeof===k_||t.$$typeof===nee||t.getModuleId!==void 0)};Rt.typeOf=qa;ree.exports=Rt;var NHe=ree.exports,IHe=ul,PHe=Io,OHe="[object Number]";function jHe(t){return typeof t=="number"||PHe(t)&&IHe(t)==OHe}var iee=jHe;const kHe=dt(iee);var RHe=iee;function DHe(t){return RHe(t)&&t!=+t}var MHe=DHe;const wp=dt(MHe);var mo=function(e){return e===0?0:e>0?1:-1},Au=function(e){return cd(e)&&e.indexOf("%")===e.length-1},Ee=function(e){return kHe(e)&&!wp(e)},sn=function(e){return Ee(e)||cd(e)},LHe=0,z0=function(e){var r=++LHe;return"".concat(e||"").concat(r)},ud=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ee(e)&&!cd(e))return n;var a;if(Au(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return wp(a)&&(a=n),i&&a>r&&(a=r),a},Fl=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},$He=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Ia=function(e,r){return Ee(e)&&Ee(r)?function(n){return e+n*(r-e)}:function(){return r}};function Dw(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Da(n,e))===r})}var FHe=function(e,r){return Ee(e)&&Ee(r)?e-r:cd(e)&&cd(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Df(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function UN(t){"@babel/helpers - typeof";return UN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UN(t)}var BHe=["viewBox","children"],UHe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],N$=["points","pathLength"],xA={svg:BHe,polygon:N$,polyline:N$},w3=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Mw=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),!sp(n))return null;var i={};return Object.keys(n).forEach(function(a){w3.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},VHe=function(e,r,n){return function(i){return e(r,n,i),null}},Lw=function(e,r,n){if(!sp(e)||UN(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];w3.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=VHe(o,r,n))}),i},zHe=["children"],WHe=["children"];function I$(t,e){if(t==null)return{};var r=HHe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HHe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function VN(t){"@babel/helpers - typeof";return VN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VN(t)}var P$={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Bs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},O$=null,wA=null,b3=function t(e){if(e===O$&&Array.isArray(wA))return wA;var r=[];return b.Children.forEach(e,function(n){ft(n)||(NHe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),wA=r,O$=e,r};function wo(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Bs(i)}):n=[Bs(e)],b3(t).forEach(function(i){var a=Da(i,"type.displayName")||Da(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function ra(t,e){var r=wo(t,e);return r&&r[0]}var j$=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Ee(n)||n<=0||!Ee(i)||i<=0)},GHe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],qHe=function(e){return e&&e.type&&cd(e.type)&&GHe.indexOf(e.type)>=0},KHe=function(e){return e&&VN(e)==="object"&&"clipDot"in e},YHe=function(e,r,n,i){var a,o=(a=xA==null?void 0:xA[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Je(e)&&(i&&o.includes(r)||UHe.includes(r))||n&&w3.includes(r)},st=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(b.isValidElement(e)&&(i=e.props),!sp(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;YHe((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},zN=function t(e,r){if(e===r)return!0;var n=b.Children.count(e);if(n!==b.Children.count(r))return!1;if(n===0)return!0;if(n===1)return k$(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!k$(a,o))return!1}return!0},k$=function(e,r){if(ft(e)&&ft(r))return!0;if(!ft(e)&&!ft(r)){var n=e.props||{},i=n.children,a=I$(n,zHe),o=r.props||{},s=o.children,l=I$(o,WHe);return i&&s?Df(a,l)&&zN(i,s):!i&&!s?Df(a,l):!1}return!1},R$=function(e,r){var n=[],i={};return b3(e).forEach(function(a,o){if(qHe(a))n.push(a);else if(a){var s=Bs(a.type),l=r[s]||{},u=l.handler,d=l.once;if(u&&(!d||!i[s])){var f=u(a,s,o);n.push(f),i[s]=!0}}}),n},XHe=function(e){var r=e&&e.type;return r&&P$[r]?P$[r]:null},QHe=function(e,r){return b3(r).indexOf(e)},ZHe=["children","width","height","viewBox","className","style","title","desc"];function WN(){return WN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WN.apply(this,arguments)}function JHe(t,e){if(t==null)return{};var r=eGe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eGe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function HN(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=JHe(t,ZHe),d=i||{width:r,height:n,x:0,y:0},f=gt("recharts-surface",a);return D.createElement("svg",WN({},st(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),D.createElement("title",null,s),D.createElement("desc",null,l),e)}var tGe=["children","className"];function GN(){return GN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GN.apply(this,arguments)}function rGe(t,e){if(t==null)return{};var r=nGe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nGe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var br=D.forwardRef(function(t,e){var r=t.children,n=t.className,i=rGe(t,tGe),a=gt("recharts-layer",n);return D.createElement("g",GN({className:a},st(i,!0),{ref:e}),r)}),Us=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},iGe=yk;function aGe(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:iGe(t,e,r)}var oGe=aGe,sGe="\\ud800-\\udfff",lGe="\\u0300-\\u036f",cGe="\\ufe20-\\ufe2f",uGe="\\u20d0-\\u20ff",dGe=lGe+cGe+uGe,fGe="\\ufe0e\\ufe0f",hGe="\\u200d",pGe=RegExp("["+hGe+sGe+dGe+fGe+"]");function mGe(t){return pGe.test(t)}var aee=mGe;function gGe(t){return t.split("")}var vGe=gGe,oee="\\ud800-\\udfff",yGe="\\u0300-\\u036f",xGe="\\ufe20-\\ufe2f",wGe="\\u20d0-\\u20ff",bGe=yGe+xGe+wGe,_Ge="\\ufe0e\\ufe0f",SGe="["+oee+"]",qN="["+bGe+"]",KN="\\ud83c[\\udffb-\\udfff]",EGe="(?:"+qN+"|"+KN+")",see="[^"+oee+"]",lee="(?:\\ud83c[\\udde6-\\uddff]){2}",cee="[\\ud800-\\udbff][\\udc00-\\udfff]",AGe="\\u200d",uee=EGe+"?",dee="["+_Ge+"]?",CGe="(?:"+AGe+"(?:"+[see,lee,cee].join("|")+")"+dee+uee+")*",TGe=dee+uee+CGe,NGe="(?:"+[see+qN+"?",qN,lee,cee,SGe].join("|")+")",IGe=RegExp(KN+"(?="+KN+")|"+NGe+TGe,"g");function PGe(t){return t.match(IGe)||[]}var OGe=PGe,jGe=vGe,kGe=aee,RGe=OGe;function DGe(t){return kGe(t)?RGe(t):jGe(t)}var MGe=DGe,LGe=oGe,$Ge=aee,FGe=MGe,BGe=iZ;function UGe(t){return function(e){e=BGe(e);var r=$Ge(e)?FGe(e):void 0,n=r?r[0]:e.charAt(0),i=r?LGe(r,1).join(""):e.slice(1);return n[t]()+i}}var VGe=UGe,zGe=VGe,WGe=zGe("toUpperCase"),HGe=WGe;const $_=dt(HGe);function qt(t){return function(){return t}}const fee=Math.cos,$w=Math.sin,Po=Math.sqrt,Fw=Math.PI,F_=2*Fw,YN=Math.PI,XN=2*YN,pu=1e-6,GGe=XN-pu;function hee(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function qGe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return hee;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class KGe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?hee:qGe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-e,u=i-r,d=o-e,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>pu)if(!(Math.abs(f*l-u*d)>pu)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,m=i-s,g=l*l+u*u,v=p*p+m*m,x=Math.sqrt(g),y=Math.sqrt(h),w=a*Math.tan((YN-Math.acos((g+h-v)/(2*x*y)))/2),S=w/y,E=w/x;Math.abs(S-1)>pu&&this._append`L${e+S*d},${r+S*f}`,this._append`A${a},${a},0,0,${+(f*p>d*m)},${this._x1=e+E*l},${this._y1=r+E*u}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),u=e+s,d=r+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>pu||Math.abs(this._y1-d)>pu)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%XN+XN),h>GGe?this._append`A${n},${n},0,1,${f},${e-s},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>pu&&this._append`A${n},${n},0,${+(h>=YN)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function _3(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new KGe(e)}function S3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function pee(t){this._context=t}pee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function B_(t){return new pee(t)}function mee(t){return t[0]}function gee(t){return t[1]}function vee(t,e){var r=qt(!0),n=null,i=B_,a=null,o=_3(s);t=typeof t=="function"?t:t===void 0?mee:qt(t),e=typeof e=="function"?e:e===void 0?gee:qt(e);function s(l){var u,d=(l=S3(l)).length,f,h=!1,p;for(n==null&&(a=i(p=o())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,l),+e(f,u,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:qt(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:qt(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:qt(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function a1(t,e,r){var n=null,i=qt(!0),a=null,o=B_,s=null,l=_3(u);t=typeof t=="function"?t:t===void 0?mee:qt(+t),e=typeof e=="function"?e:qt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?gee:qt(+r);function u(f){var h,p,m,g=(f=S3(f)).length,v,x=!1,y,w=new Array(g),S=new Array(g);for(a==null&&(s=o(y=l())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===x)if(x=!x)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(w[m],S[m]);s.lineEnd(),s.areaEnd()}x&&(w[h]=+t(v,h,f),S[h]=+e(v,h,f),s.point(n?+n(v,h,f):w[h],r?+r(v,h,f):S[h]))}if(y)return s=null,y+""||null}function d(){return vee().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:qt(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:qt(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:qt(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:qt(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:qt(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:qt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:qt(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class yee{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function YGe(t){return new yee(t,!0)}function XGe(t){return new yee(t,!1)}const E3={draw(t,e){const r=Po(e/Fw);t.moveTo(r,0),t.arc(0,0,r,0,F_)}},QGe={draw(t,e){const r=Po(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},xee=Po(1/3),ZGe=xee*2,JGe={draw(t,e){const r=Po(e/ZGe),n=r*xee;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},eqe={draw(t,e){const r=Po(e),n=-r/2;t.rect(n,n,r,r)}},tqe=.8908130915292852,wee=$w(Fw/10)/$w(7*Fw/10),rqe=$w(F_/10)*wee,nqe=-fee(F_/10)*wee,iqe={draw(t,e){const r=Po(e*tqe),n=rqe*r,i=nqe*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=F_*a/5,s=fee(o),l=$w(o);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},bA=Po(3),aqe={draw(t,e){const r=-Po(e/(bA*3));t.moveTo(0,r*2),t.lineTo(-bA*r,-r),t.lineTo(bA*r,-r),t.closePath()}},_a=-.5,Sa=Po(3)/2,QN=1/Po(12),oqe=(QN/2+1)*3,sqe={draw(t,e){const r=Po(e/oqe),n=r/2,i=r*QN,a=n,o=r*QN+r,s=-a,l=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(_a*n-Sa*i,Sa*n+_a*i),t.lineTo(_a*a-Sa*o,Sa*a+_a*o),t.lineTo(_a*s-Sa*l,Sa*s+_a*l),t.lineTo(_a*n+Sa*i,_a*i-Sa*n),t.lineTo(_a*a+Sa*o,_a*o-Sa*a),t.lineTo(_a*s+Sa*l,_a*l-Sa*s),t.closePath()}};function lqe(t,e){let r=null,n=_3(i);t=typeof t=="function"?t:qt(t||E3),e=typeof e=="function"?e:qt(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:qt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:qt(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Bw(){}function Uw(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function bee(t){this._context=t}bee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Uw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Uw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cqe(t){return new bee(t)}function _ee(t){this._context=t}_ee.prototype={areaStart:Bw,areaEnd:Bw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Uw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function uqe(t){return new _ee(t)}function See(t){this._context=t}See.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Uw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dqe(t){return new See(t)}function Eee(t){this._context=t}Eee.prototype={areaStart:Bw,areaEnd:Bw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function fqe(t){return new Eee(t)}function D$(t){return t<0?-1:1}function M$(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(D$(a)+D$(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function L$(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function _A(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function Vw(t){this._context=t}Vw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:_A(this,this._t0,L$(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,_A(this,L$(this,r=M$(this,t,e)),r);break;default:_A(this,this._t0,r=M$(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function Aee(t){this._context=new Cee(t)}(Aee.prototype=Object.create(Vw.prototype)).point=function(t,e){Vw.prototype.point.call(this,e,t)};function Cee(t){this._context=t}Cee.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function hqe(t){return new Vw(t)}function pqe(t){return new Aee(t)}function Tee(t){this._context=t}Tee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=$$(t),i=$$(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function $$(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function mqe(t){return new Tee(t)}function U_(t,e){this._context=t,this._t=e}U_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function gqe(t){return new U_(t,.5)}function vqe(t){return new U_(t,0)}function yqe(t){return new U_(t,1)}function yh(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function ZN(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function xqe(t,e){return t[e]}function wqe(t){const e=[];return e.key=t,e}function bqe(){var t=qt([]),e=ZN,r=yh,n=xqe;function i(a){var o=Array.from(t.apply(this,arguments),wqe),s,l=o.length,u=-1,d;for(const f of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(f,o[s].key,u,a)]).data=f;for(s=0,d=S3(e(o));s<l;++s)o[d[s]].index=s;return r(o,d),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:qt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:qt(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?ZN:typeof a=="function"?a:qt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??yh,i):r},i}function _qe(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}yh(t,e)}}function Sqe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}yh(t,e)}}function Eqe(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,u=0;s<o;++s){for(var d=t[e[s]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,m=0;m<s;++m){var g=t[e[m]],v=g[n][1]||0,x=g[n-1][1]||0;p+=v-x}l+=f,u+=p*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,yh(t,e)}}function _v(t){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_v(t)}var Aqe=["type","size","sizeType"];function JN(){return JN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JN.apply(this,arguments)}function F$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function B$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F$(Object(r),!0).forEach(function(n){Cqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cqe(t,e,r){return e=Tqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tqe(t){var e=Nqe(t,"string");return _v(e)=="symbol"?e:e+""}function Nqe(t,e){if(_v(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iqe(t,e){if(t==null)return{};var r=Pqe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Nee={symbolCircle:E3,symbolCross:QGe,symbolDiamond:JGe,symbolSquare:eqe,symbolStar:iqe,symbolTriangle:aqe,symbolWye:sqe},Oqe=Math.PI/180,jqe=function(e){var r="symbol".concat($_(e));return Nee[r]||E3},kqe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Oqe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Rqe=function(e,r){Nee["symbol".concat($_(e))]=r},A3=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=Iqe(e,Aqe),u=B$(B$({},l),{},{type:n,size:a,sizeType:s}),d=function(){var v=jqe(n),x=lqe().type(v).size(kqe(a,s,n));return x()},f=u.className,h=u.cx,p=u.cy,m=st(u,!0);return h===+h&&p===+p&&a===+a?D.createElement("path",JN({},m,{className:gt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};A3.registerSymbol=Rqe;function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function eI(){return eI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eI.apply(this,arguments)}function U$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dqe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U$(Object(r),!0).forEach(function(n){Sv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lqe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pee(n.key),n)}}function $qe(t,e,r){return e&&Lqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fqe(t,e,r){return e=zw(e),Bqe(t,Iee()?Reflect.construct(e,r||[],zw(t).constructor):e.apply(t,r))}function Bqe(t,e){if(e&&(xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uqe(t)}function Uqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Iee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Iee=function(){return!!t})()}function zw(t){return zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zw(t)}function Vqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tI(t,e)}function tI(t,e){return tI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tI(t,e)}function Sv(t,e,r){return e=Pee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pee(t){var e=zqe(t,"string");return xh(e)=="symbol"?e:e+""}function zqe(t,e){if(xh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ja=32,C3=function(t){function e(){return Mqe(this,e),Fqe(this,e,arguments)}return Vqe(e,t),$qe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Ja/2,o=Ja/6,s=Ja/3,l=n.inactive?i:n.color;if(n.type==="plainline")return D.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Ja,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return D.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Ja,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return D.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ja/8,"h").concat(Ja,"v").concat(Ja*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(D.isValidElement(n.legendIcon)){var u=Dqe({},n);return delete u.legendIcon,D.cloneElement(n.legendIcon,u)}return D.createElement(A3,{fill:l,cx:a,cy:a,size:Ja,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Ja,height:Ja},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,m){var g=p.formatter||l,v=gt(Sv(Sv({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=Je(p.value)?null:p.value;Us(!Je(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return D.createElement("li",eI({className:v,style:f,key:"legend-item-".concat(m)},Lw(n.props,p,m)),D.createElement(HN,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),D.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g?g(x,p,m):x))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return D.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(b.PureComponent);Sv(C3,"displayName","Legend");Sv(C3,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function Wqe(t){return t!==t}var Hqe=Wqe;function Gqe(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var qqe=Gqe,Kqe=ZQ,Yqe=Hqe,Xqe=qqe;function Qqe(t,e,r){return e===e?Xqe(t,e,r):Kqe(t,Yqe,r)}var Zqe=Qqe,Jqe=Zqe;function eKe(t,e){var r=t==null?0:t.length;return!!r&&Jqe(t,e,0)>-1}var tKe=eKe;function rKe(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var nKe=rKe;function iKe(){}var aKe=iKe,SA=KQ,oKe=aKe,sKe=Mk,lKe=1/0,cKe=SA&&1/sKe(new SA([,-0]))[1]==lKe?function(t){return new SA(t)}:oKe,uKe=cKe,dKe=LQ,fKe=tKe,hKe=nKe,pKe=FQ,mKe=uKe,gKe=Mk,vKe=200;function yKe(t,e,r){var n=-1,i=fKe,a=t.length,o=!0,s=[],l=s;if(r)o=!1,i=hKe;else if(a>=vKe){var u=e?null:mKe(t);if(u)return gKe(u);o=!1,i=pKe,l=new dKe}else l=e?[]:s;e:for(;++n<a;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(d)}else i(l,f,r)||(l!==s&&l.push(f),s.push(d))}return s}var xKe=yKe,wKe=dl,bKe=xKe;function _Ke(t,e){return t&&t.length?bKe(t,wKe(e)):[]}var SKe=_Ke;const V$=dt(SKe);function Oee(t,e,r){return e===!0?V$(t,r):Je(e)?V$(t,e):t}function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}var EKe=["ref"];function z$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z$(Object(r),!0).forEach(function(n){V_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kee(n.key),n)}}function CKe(t,e,r){return e&&W$(t.prototype,e),r&&W$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function TKe(t,e,r){return e=Ww(e),NKe(t,jee()?Reflect.construct(e,r||[],Ww(t).constructor):e.apply(t,r))}function NKe(t,e){if(e&&(wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IKe(t)}function IKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jee=function(){return!!t})()}function Ww(t){return Ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ww(t)}function PKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rI(t,e)}function rI(t,e){return rI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rI(t,e)}function V_(t,e,r){return e=kee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kee(t){var e=OKe(t,"string");return wh(e)=="symbol"?e:e+""}function OKe(t,e){if(wh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function jKe(t,e){if(t==null)return{};var r=kKe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kKe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function RKe(t){return t.value}function DKe(t,e){if(D.isValidElement(t))return D.cloneElement(t,e);if(typeof t=="function")return D.createElement(t,e);e.ref;var r=jKe(e,EKe);return D.createElement(C3,r)}var H$=1,Mf=function(t){function e(){var r;AKe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=TKe(this,e,[].concat(i)),V_(r,"lastBoundingBox",{width:-1,height:-1}),r}return PKe(e,t),CKe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>H$||Math.abs(i.height-this.lastBoundingBox.height)>H$)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?xs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return xs(xs({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=xs(xs({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return D.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},DKe(a,xs(xs({},this.props),{},{payload:Oee(d,u,RKe)})))}}],[{key:"getWithHeight",value:function(n,i){var a=xs(xs({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&Ee(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(b.PureComponent);V_(Mf,"displayName","Legend");V_(Mf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});function Ev(t){"@babel/helpers - typeof";return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ev(t)}function nI(){return nI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nI.apply(this,arguments)}function MKe(t,e){return BKe(t)||FKe(t,e)||$Ke(t,e)||LKe()}function LKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ke(t,e){if(t){if(typeof t=="string")return G$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G$(t,e)}}function G$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FKe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function BKe(t){if(Array.isArray(t))return t}function q$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function EA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q$(Object(r),!0).forEach(function(n){UKe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UKe(t,e,r){return e=VKe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VKe(t){var e=zKe(t,"string");return Ev(e)=="symbol"?e:e+""}function zKe(t,e){if(Ev(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WKe(t){return Array.isArray(t)&&sn(t[0])&&sn(t[1])?t.join(" ~ "):t}var HKe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,v=e.labelFormatter,x=e.accessibilityLayer,y=x===void 0?!1:x,w=function(){if(d&&d.length){var O={padding:0,margin:0},P=(h?h_(d,h):d).map(function(M,F){if(M.type==="none")return null;var B=EA({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},s),W=M.formatter||f||WKe,$=M.value,U=M.name,X=$,H=U;if(W&&X!=null&&H!=null){var Y=W($,U,M,F,d);if(Array.isArray(Y)){var Q=MKe(Y,2);X=Q[0],H=Q[1]}else X=Y}return D.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:B},sn(H)?D.createElement("span",{className:"recharts-tooltip-item-name"},H):null,sn(H)?D.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,D.createElement("span",{className:"recharts-tooltip-item-value"},X),D.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return D.createElement("ul",{className:"recharts-tooltip-item-list",style:O},P)}return null},S=EA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=EA({margin:0},u),C=!ft(g),A=C?g:"",T=gt("recharts-default-tooltip",p),N=gt("recharts-tooltip-label",m);C&&v&&d!==void 0&&d!==null&&(A=v(g,d));var I=y?{role:"status","aria-live":"assertive"}:{};return D.createElement("div",nI({className:T,style:S},I),D.createElement("p",{className:N,style:E},D.isValidElement(A)?A:"".concat(A)),w())};function Av(t){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Av(t)}function o1(t,e,r){return e=GKe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GKe(t){var e=qKe(t,"string");return Av(e)=="symbol"?e:e+""}function qKe(t,e){if(Av(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cm="recharts-tooltip-wrapper",KKe={visibility:"hidden"};function YKe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return gt(cm,o1(o1(o1(o1({},"".concat(cm,"-right"),Ee(r)&&e&&Ee(e.x)&&r>=e.x),"".concat(cm,"-left"),Ee(r)&&e&&Ee(e.x)&&r<e.x),"".concat(cm,"-bottom"),Ee(n)&&e&&Ee(e.y)&&n>=e.y),"".concat(cm,"-top"),Ee(n)&&e&&Ee(e.y)&&n<e.y))}function K$(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&Ee(a[n]))return a[n];var d=r[n]-s-i,f=r[n]+i;if(e[n])return o[n]?d:f;if(o[n]){var h=d,p=l[n];return h<p?Math.max(f,l[n]):Math.max(d,l[n])}var m=f+s,g=l[n]+u;return m>g?Math.max(d,l[n]):Math.max(f,l[n])}function XKe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function QKe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=K$({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=K$({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=XKe({translateX:d,translateY:f,useTranslate3d:s})):u=KKe,{cssProperties:u,cssClasses:YKe({translateX:d,translateY:f,coordinate:r})}}function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function Y$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function X$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y$(Object(r),!0).forEach(function(n){aI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JKe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dee(n.key),n)}}function eYe(t,e,r){return e&&JKe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tYe(t,e,r){return e=Hw(e),rYe(t,Ree()?Reflect.construct(e,r||[],Hw(t).constructor):e.apply(t,r))}function rYe(t,e){if(e&&(bh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nYe(t)}function nYe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ree(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ree=function(){return!!t})()}function Hw(t){return Hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hw(t)}function iYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iI(t,e)}function iI(t,e){return iI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iI(t,e)}function aI(t,e,r){return e=Dee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dee(t){var e=aYe(t,"string");return bh(e)=="symbol"?e:e+""}function aYe(t,e){if(bh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Q$=1,oYe=function(t){function e(){var r;ZKe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=tYe(this,e,[].concat(i)),aI(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),aI(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return iYe(e,t),eYe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Q$||Math.abs(n.height-this.state.lastBoundingBox.height)>Q$)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,y=i.wrapperStyle,w=QKe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),S=w.cssClasses,E=w.cssProperties,C=X$(X$({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return D.createElement("div",{tabIndex:-1,className:S,style:C,ref:function(T){n.wrapperNode=T}},u)}}])}(b.PureComponent),sYe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},bp={isSsr:sYe()};function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}function Z$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function J$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z$(Object(r),!0).forEach(function(n){T3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cYe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lee(n.key),n)}}function uYe(t,e,r){return e&&cYe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dYe(t,e,r){return e=Gw(e),fYe(t,Mee()?Reflect.construct(e,r||[],Gw(t).constructor):e.apply(t,r))}function fYe(t,e){if(e&&(_h(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hYe(t)}function hYe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mee=function(){return!!t})()}function Gw(t){return Gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gw(t)}function pYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oI(t,e)}function oI(t,e){return oI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oI(t,e)}function T3(t,e,r){return e=Lee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lee(t){var e=mYe(t,"string");return _h(e)=="symbol"?e:e+""}function mYe(t,e){if(_h(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function gYe(t){return t.dataKey}function vYe(t,e){return D.isValidElement(t)?D.cloneElement(t,e):typeof t=="function"?D.createElement(t,e):D.createElement(HKe,e)}var Lo=function(t){function e(){return lYe(this,e),dYe(this,e,arguments)}return pYe(e,t),uYe(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,v=i.position,x=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,S=i.wrapperStyle,E=m??[];f&&E.length&&(E=Oee(m.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),g,gYe));var C=E.length>0;return D.createElement(oYe,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:d,hasPayload:C,offset:p,position:v,reverseDirection:x,useTranslate3d:y,viewBox:w,wrapperStyle:S},vYe(u,J$(J$({},this.props),{},{payload:E})))}}])}(b.PureComponent);T3(Lo,"displayName","Tooltip");T3(Lo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!bp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var yYe=No,xYe=function(){return yYe.Date.now()},wYe=xYe,bYe=Ha,AA=wYe,eF=wQ,_Ye="Expected a function",SYe=Math.max,EYe=Math.min;function AYe(t,e,r){var n,i,a,o,s,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(_Ye);e=eF(e)||0,bYe(r)&&(d=!!r.leading,f="maxWait"in r,a=f?SYe(eF(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function p(C){var A=n,T=i;return n=i=void 0,u=C,o=t.apply(T,A),o}function m(C){return u=C,s=setTimeout(x,e),d?p(C):o}function g(C){var A=C-l,T=C-u,N=e-A;return f?EYe(N,a-T):N}function v(C){var A=C-l,T=C-u;return l===void 0||A>=e||A<0||f&&T>=a}function x(){var C=AA();if(v(C))return y(C);s=setTimeout(x,g(C))}function y(C){return s=void 0,h&&n?p(C):(n=i=void 0,o)}function w(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function S(){return s===void 0?o:y(AA())}function E(){var C=AA(),A=v(C);if(n=arguments,i=this,l=C,A){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(x,e),p(l)}return s===void 0&&(s=setTimeout(x,e)),o}return E.cancel=w,E.flush=S,E}var CYe=AYe,TYe=CYe,NYe=Ha,IYe="Expected a function";function PYe(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(IYe);return NYe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),TYe(t,e,{leading:n,maxWait:e,trailing:i})}var OYe=PYe;const $ee=dt(OYe);function Cv(t){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cv(t)}function tF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function s1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tF(Object(r),!0).forEach(function(n){jYe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jYe(t,e,r){return e=kYe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kYe(t){var e=RYe(t,"string");return Cv(e)=="symbol"?e:e+""}function RYe(t,e){if(Cv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DYe(t,e){return FYe(t)||$Ye(t,e)||LYe(t,e)||MYe()}function MYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LYe(t,e){if(t){if(typeof t=="string")return rF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rF(t,e)}}function rF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $Ye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function FYe(t){if(Array.isArray(t))return t}var BYe=b.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,v=t.id,x=t.className,y=t.onResize,w=t.style,S=w===void 0?{}:w,E=b.useRef(null),C=b.useRef();C.current=y,b.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var A=b.useState({containerWidth:i.width,containerHeight:i.height}),T=DYe(A,2),N=T[0],I=T[1],j=b.useCallback(function(P,M){I(function(F){var B=Math.round(P),W=Math.round(M);return F.containerWidth===B&&F.containerHeight===W?F:{containerWidth:B,containerHeight:W}})},[]);b.useEffect(function(){var P=function(U){var X,H=U[0].contentRect,Y=H.width,Q=H.height;j(Y,Q),(X=C.current)===null||X===void 0||X.call(C,Y,Q)};g>0&&(P=$ee(P,g,{trailing:!0,leading:!1}));var M=new ResizeObserver(P),F=E.current.getBoundingClientRect(),B=F.width,W=F.height;return j(B,W),M.observe(E.current),function(){M.disconnect()}},[j,g]);var O=b.useMemo(function(){var P=N.containerWidth,M=N.containerHeight;if(P<0||M<0)return null;Us(Au(o)||Au(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Us(!r||r>0,"The aspect(%s) must be greater than zero.",r);var F=Au(o)?P:o,B=Au(l)?M:l;r&&r>0&&(F?B=F/r:B&&(F=B*r),h&&B>h&&(B=h)),Us(F>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,B,o,l,d,f,r);var W=!Array.isArray(p)&&Bs(p.type).endsWith("Chart");return D.Children.map(p,function($){return D.isValidElement($)?b.cloneElement($,s1({width:F,height:B},W?{style:s1({height:"100%",width:"100%",maxHeight:B,maxWidth:F},$.props.style)}:{})):$})},[r,p,l,h,f,d,N,o]);return D.createElement("div",{id:v?"".concat(v):void 0,className:gt("recharts-responsive-container",x),style:s1(s1({},S),{},{width:o,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:E},O)}),Fee=function(e){return null};Fee.displayName="Cell";function Tv(t){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tv(t)}function nF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nF(Object(r),!0).forEach(function(n){UYe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UYe(t,e,r){return e=VYe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VYe(t){var e=zYe(t,"string");return Tv(e)=="symbol"?e:e+""}function zYe(t,e){if(Tv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bd={widthCache:{},cacheCount:0},WYe=2e3,HYe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},iF="recharts_measurement_span";function GYe(t){var e=sI({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var ug=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||bp.isSsr)return{width:0,height:0};var n=GYe(r),i=JSON.stringify({text:e,copyStyle:n});if(Bd.widthCache[i])return Bd.widthCache[i];try{var a=document.getElementById(iF);a||(a=document.createElement("span"),a.setAttribute("id",iF),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=sI(sI({},HYe),n);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Bd.widthCache[i]=l,++Bd.cacheCount>WYe&&(Bd.cacheCount=0,Bd.widthCache={}),l}catch{return{width:0,height:0}}},qYe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Nv(t){"@babel/helpers - typeof";return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nv(t)}function qw(t,e){return QYe(t)||XYe(t,e)||YYe(t,e)||KYe()}function KYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YYe(t,e){if(t){if(typeof t=="string")return aF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aF(t,e)}}function aF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XYe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function QYe(t){if(Array.isArray(t))return t}function ZYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eXe(n.key),n)}}function JYe(t,e,r){return e&&oF(t.prototype,e),r&&oF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function eXe(t){var e=tXe(t,"string");return Nv(e)=="symbol"?e:e+""}function tXe(t,e){if(Nv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rXe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,nXe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Bee={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},iXe=Object.keys(Bee),gf="NaN";function aXe(t,e){return t*Bee[e]}var l1=function(){function t(e,r){ZYe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!rXe.test(r)&&(this.num=NaN,this.unit=""),iXe.includes(r)&&(this.num=aXe(e,r),this.unit="px")}return JYe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=nXe.exec(r))!==null&&n!==void 0?n:[],a=qw(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function Uee(t){if(t.includes(gf))return gf;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=sF.exec(e))!==null&&r!==void 0?r:[],i=qw(n,4),a=i[1],o=i[2],s=i[3],l=l1.parse(a??""),u=l1.parse(s??""),d=o==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return gf;e=e.replace(sF,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=lF.exec(e))!==null&&f!==void 0?f:[],p=qw(h,4),m=p[1],g=p[2],v=p[3],x=l1.parse(m??""),y=l1.parse(v??""),w=g==="+"?x.add(y):x.subtract(y);if(w.isNaN())return gf;e=e.replace(lF,w.toString())}return e}var cF=/\(([^()]*)\)/;function oXe(t){for(var e=t;e.includes("(");){var r=cF.exec(e),n=qw(r,2),i=n[1];e=e.replace(cF,Uee(i))}return e}function sXe(t){var e=t.replace(/\s+/g,"");return e=oXe(e),e=Uee(e),e}function lXe(t){try{return sXe(t)}catch{return gf}}function CA(t){var e=lXe(t.slice(5,-1));return e===gf?"":e}var cXe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],uXe=["dx","dy","angle","className","breakAll"];function lI(){return lI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lI.apply(this,arguments)}function uF(t,e){if(t==null)return{};var r=dXe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dXe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dF(t,e){return mXe(t)||pXe(t,e)||hXe(t,e)||fXe()}function fXe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hXe(t,e){if(t){if(typeof t=="string")return fF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fF(t,e)}}function fF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pXe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function mXe(t){if(Array.isArray(t))return t}var Vee=/[ \f\n\r\t\v\u2028\u2029]+/,zee=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];ft(r)||(n?a=r.toString().split(""):a=r.toString().split(Vee));var o=a.map(function(l){return{word:l,width:ug(l,i).width}}),s=n?0:ug("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},gXe=function(e,r,n,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,d=Ee(o),f=s,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(B,W){var $=W.word,U=W.width,X=B[B.length-1];if(X&&(i==null||a||X.width+U+n<Number(i)))X.words.push($),X.width+=U+n;else{var H={words:[$],width:U};B.push(H)}return B},[])},p=h(r),m=function(F){return F.reduce(function(B,W){return B.width>W.width?B:W})};if(!d)return p;for(var g="",v=function(F){var B=f.slice(0,F),W=zee({breakAll:u,style:l,children:B+g}).wordsWithComputedWidth,$=h(W),U=$.length>o||m($).width>Number(i);return[U,$]},x=0,y=f.length-1,w=0,S;x<=y&&w<=f.length-1;){var E=Math.floor((x+y)/2),C=E-1,A=v(C),T=dF(A,2),N=T[0],I=T[1],j=v(E),O=dF(j,1),P=O[0];if(!N&&!P&&(x=E+1),N&&P&&(y=E-1),!N&&P){S=I;break}w++}return S||p},hF=function(e){var r=ft(e)?[]:e.toString().split(Vee);return[{words:r}]},vXe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((r||n)&&!bp.isSsr){var l,u,d=zee({breakAll:o,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return hF(i);return gXe({breakAll:o,children:i,maxLines:s,style:a},l,u,r,n)}return hF(i)},pF="#808080",Kw=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,m=e.verticalAnchor,g=m===void 0?"end":m,v=e.fill,x=v===void 0?pF:v,y=uF(e,cXe),w=b.useMemo(function(){return vXe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),S=y.dx,E=y.dy,C=y.angle,A=y.className,T=y.breakAll,N=uF(y,uXe);if(!sn(n)||!sn(a))return null;var I=n+(Ee(S)?S:0),j=a+(Ee(E)?E:0),O;switch(g){case"start":O=CA("calc(".concat(u,")"));break;case"middle":O=CA("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:O=CA("calc(".concat(w.length-1," * -").concat(s,")"));break}var P=[];if(f){var M=w[0].width,F=y.width;P.push("scale(".concat((Ee(F)?F/M:1)/M,")"))}return C&&P.push("rotate(".concat(C,", ").concat(I,", ").concat(j,")")),P.length&&(N.transform=P.join(" ")),D.createElement("text",lI({},st(N,!0),{x:I,y:j,className:gt("recharts-text",A),textAnchor:p,fill:x.includes("url")?pF:x}),w.map(function(B,W){var $=B.words.join(T?"":" ");return D.createElement("tspan",{x:I,dy:W===0?O:s,key:"".concat($,"-").concat(W)},$)}))};function fc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yXe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function N3(t){let e,r,n;t.length!==2?(e=fc,r=(s,l)=>fc(t(s),l),n=(s,l)=>t(s)-l):(e=t===fc||t===yXe?t:xXe,r=t,n=t);function i(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;r(s[f],l)<0?u=f+1:d=f}while(u<d)}return u}function a(s,l,u=0,d=s.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;r(s[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,l,u=0,d=s.length){const f=i(s,l,u,d-1);return f>u&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function xXe(){return 0}function Wee(t){return t===null?NaN:+t}function*wXe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const bXe=N3(fc),W0=bXe.right;N3(Wee).center;class mF extends Map{constructor(e,r=EXe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(gF(this,e))}has(e){return super.has(gF(this,e))}set(e,r){return super.set(_Xe(this,e),r)}delete(e){return super.delete(SXe(this,e))}}function gF({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function _Xe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function SXe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function EXe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function AXe(t=fc){if(t===fc)return Hee;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function Hee(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const CXe=Math.sqrt(50),TXe=Math.sqrt(10),NXe=Math.sqrt(2);function Yw(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=CXe?10:a>=TXe?5:a>=NXe?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=r&&r<2?Yw(t,e,r*2):[s,l,u]}function cI(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?Yw(e,t,r):Yw(t,e,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function uI(t,e,r){return e=+e,t=+t,r=+r,Yw(t,e,r)[2]}function dI(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?uI(e,t,r):uI(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function vF(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function yF(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Gee(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?Hee:AXe(i);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(e-u*f/l+h)),m=Math.min(n,Math.floor(e+(l-u)*f/l+h));Gee(t,e,p,m,i)}const a=t[e];let o=r,s=n;for(um(t,r,e),i(t[n],a)>0&&um(t,r,n);o<s;){for(um(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?um(t,r,s):(++s,um(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function um(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function IXe(t,e,r){if(t=Float64Array.from(wXe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return yF(t);if(e>=1)return vF(t);var n,i=(n-1)*e,a=Math.floor(i),o=vF(Gee(t,a).subarray(0,a+1)),s=yF(t.subarray(a+1));return o+(s-o)*(i-a)}}function PXe(t,e,r=Wee){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function OXe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Ka(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function fl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const fI=Symbol("implicit");function I3(){var t=new mF,e=[],r=[],n=fI;function i(a){let o=t.get(a);if(o===void 0){if(n!==fI)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new mF;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return I3(e,r).unknown(n)},Ka.apply(i,arguments),i}function Iv(){var t=I3().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,l=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,p=i<n,m=p?i:n,g=p?n:i;a=(g-m)/Math.max(1,h-l+u*2),s&&(a=Math.floor(a)),m+=(g-m-a*(h-l))*d,o=a*(1-l),s&&(m=Math.round(m),o=Math.round(o));var v=OXe(h).map(function(x){return m+a*x});return r(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return Iv(e(),[n,i]).round(s).paddingInner(l).paddingOuter(u).align(d)},Ka.apply(f(),arguments)}function qee(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return qee(e())},t}function dg(){return qee(Iv.apply(null,arguments).paddingInner(1))}function P3(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Kee(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function H0(){}var Pv=.7,Xw=1/Pv,Lf="\\s*([+-]?\\d+)\\s*",Ov="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jXe=/^#([0-9a-f]{3,8})$/,kXe=new RegExp(`^rgb\\(${Lf},${Lf},${Lf}\\)$`),RXe=new RegExp(`^rgb\\(${Jo},${Jo},${Jo}\\)$`),DXe=new RegExp(`^rgba\\(${Lf},${Lf},${Lf},${Ov}\\)$`),MXe=new RegExp(`^rgba\\(${Jo},${Jo},${Jo},${Ov}\\)$`),LXe=new RegExp(`^hsl\\(${Ov},${Jo},${Jo}\\)$`),$Xe=new RegExp(`^hsla\\(${Ov},${Jo},${Jo},${Ov}\\)$`),xF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};P3(H0,jv,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:wF,formatHex:wF,formatHex8:FXe,formatHsl:BXe,formatRgb:bF,toString:bF});function wF(){return this.rgb().formatHex()}function FXe(){return this.rgb().formatHex8()}function BXe(){return Yee(this).formatHsl()}function bF(){return this.rgb().formatRgb()}function jv(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=jXe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?_F(e):r===3?new $i(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?c1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?c1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=kXe.exec(t))?new $i(e[1],e[2],e[3],1):(e=RXe.exec(t))?new $i(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=DXe.exec(t))?c1(e[1],e[2],e[3],e[4]):(e=MXe.exec(t))?c1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=LXe.exec(t))?AF(e[1],e[2]/100,e[3]/100,1):(e=$Xe.exec(t))?AF(e[1],e[2]/100,e[3]/100,e[4]):xF.hasOwnProperty(t)?_F(xF[t]):t==="transparent"?new $i(NaN,NaN,NaN,0):null}function _F(t){return new $i(t>>16&255,t>>8&255,t&255,1)}function c1(t,e,r,n){return n<=0&&(t=e=r=NaN),new $i(t,e,r,n)}function UXe(t){return t instanceof H0||(t=jv(t)),t?(t=t.rgb(),new $i(t.r,t.g,t.b,t.opacity)):new $i}function hI(t,e,r,n){return arguments.length===1?UXe(t):new $i(t,e,r,n??1)}function $i(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}P3($i,hI,Kee(H0,{brighter(t){return t=t==null?Xw:Math.pow(Xw,t),new $i(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Pv:Math.pow(Pv,t),new $i(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new $i(Lu(this.r),Lu(this.g),Lu(this.b),Qw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SF,formatHex:SF,formatHex8:VXe,formatRgb:EF,toString:EF}));function SF(){return`#${Cu(this.r)}${Cu(this.g)}${Cu(this.b)}`}function VXe(){return`#${Cu(this.r)}${Cu(this.g)}${Cu(this.b)}${Cu((isNaN(this.opacity)?1:this.opacity)*255)}`}function EF(){const t=Qw(this.opacity);return`${t===1?"rgb(":"rgba("}${Lu(this.r)}, ${Lu(this.g)}, ${Lu(this.b)}${t===1?")":`, ${t})`}`}function Qw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Lu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Cu(t){return t=Lu(t),(t<16?"0":"")+t.toString(16)}function AF(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new uo(t,e,r,n)}function Yee(t){if(t instanceof uo)return new uo(t.h,t.s,t.l,t.opacity);if(t instanceof H0||(t=jv(t)),!t)return new uo;if(t instanceof uo)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new uo(o,s,l,t.opacity)}function zXe(t,e,r,n){return arguments.length===1?Yee(t):new uo(t,e,r,n??1)}function uo(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}P3(uo,zXe,Kee(H0,{brighter(t){return t=t==null?Xw:Math.pow(Xw,t),new uo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Pv:Math.pow(Pv,t),new uo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new $i(TA(t>=240?t-240:t+120,i,n),TA(t,i,n),TA(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new uo(CF(this.h),u1(this.s),u1(this.l),Qw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Qw(this.opacity);return`${t===1?"hsl(":"hsla("}${CF(this.h)}, ${u1(this.s)*100}%, ${u1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function CF(t){return t=(t||0)%360,t<0?t+360:t}function u1(t){return Math.max(0,Math.min(1,t||0))}function TA(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const O3=t=>()=>t;function WXe(t,e){return function(r){return t+r*e}}function HXe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function GXe(t){return(t=+t)==1?Xee:function(e,r){return r-e?HXe(e,r,t):O3(isNaN(e)?r:e)}}function Xee(t,e){var r=e-t;return r?WXe(t,r):O3(isNaN(t)?e:t)}const TF=function t(e){var r=GXe(e);function n(i,a){var o=r((i=hI(i)).r,(a=hI(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),u=Xee(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=s(d),i.b=l(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function qXe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function KXe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function YXe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=_p(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function XXe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Zw(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function QXe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=_p(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var pI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,NA=new RegExp(pI.source,"g");function ZXe(t){return function(){return t}}function JXe(t){return function(e){return t(e)+""}}function eQe(t,e){var r=pI.lastIndex=NA.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(n=pI.exec(t))&&(i=NA.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Zw(n,i)})),r=NA.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?JXe(l[0].x):ZXe(e):(e=l.length,function(u){for(var d=0,f;d<e;++d)s[(f=l[d]).i]=f.x(u);return s.join("")})}function _p(t,e){var r=typeof e,n;return e==null||r==="boolean"?O3(e):(r==="number"?Zw:r==="string"?(n=jv(e))?(e=n,TF):eQe:e instanceof jv?TF:e instanceof Date?XXe:KXe(e)?qXe:Array.isArray(e)?YXe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?QXe:Zw)(t,e)}function j3(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function tQe(t,e){e===void 0&&(e=t,t=_p);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function rQe(t){return function(){return t}}function Jw(t){return+t}var NF=[0,1];function wi(t){return t}function mI(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:rQe(isNaN(e)?NaN:.5)}function nQe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function iQe(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=mI(i,n),a=r(o,a)):(n=mI(n,i),a=r(a,o)),function(s){return a(n(s))}}function aQe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=mI(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var l=W0(t,s,1,n)-1;return a[l](i[l](s))}}function G0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function z_(){var t=NF,e=NF,r=_p,n,i,a,o=wi,s,l,u;function d(){var h=Math.min(t.length,e.length);return o!==wi&&(o=nQe(t[0],t[h-1])),s=h>2?aQe:iQe,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(n),e,r)))(n(o(h)))}return f.invert=function(h){return o(i((u||(u=s(e,t.map(n),Zw)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Jw),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=j3,d()},f.clamp=function(h){return arguments.length?(o=h?!0:wi,d()):o!==wi},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,i=p,d()}}function k3(){return z_()(wi,wi)}function oQe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function eb(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Sh(t){return t=eb(Math.abs(t)),t?t[1]:NaN}function sQe(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function lQe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var cQe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kv(t){if(!(e=cQe.exec(t)))throw new Error("invalid format: "+t);var e;return new R3({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}kv.prototype=R3.prototype;function R3(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}R3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uQe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Qee;function dQe(t,e){var r=eb(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(Qee=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+eb(t,Math.max(0,e+a-1))[0]}function IF(t,e){var r=eb(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const PF={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:oQe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>IF(t*100,e),r:IF,s:dQe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function OF(t){return t}var jF=Array.prototype.map,kF=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fQe(t){var e=t.grouping===void 0||t.thousands===void 0?OF:sQe(jF.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?OF:lQe(jF.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=kv(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,v=f.zero,x=f.width,y=f.comma,w=f.precision,S=f.trim,E=f.type;E==="n"?(y=!0,E="g"):PF[E]||(w===void 0&&(w=12),S=!0,E="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var C=g==="$"?r:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",A=g==="$"?n:/[%p]/.test(E)?o:"",T=PF[E],N=/[defgprs%]/.test(E);w=w===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function I(j){var O=C,P=A,M,F,B;if(E==="c")P=T(j)+P,j="";else{j=+j;var W=j<0||1/j<0;if(j=isNaN(j)?l:T(Math.abs(j),w),S&&(j=uQe(j)),W&&+j==0&&m!=="+"&&(W=!1),O=(W?m==="("?m:s:m==="-"||m==="("?"":m)+O,P=(E==="s"?kF[8+Qee/3]:"")+P+(W&&m==="("?")":""),N){for(M=-1,F=j.length;++M<F;)if(B=j.charCodeAt(M),48>B||B>57){P=(B===46?i+j.slice(M+1):j.slice(M))+P,j=j.slice(0,M);break}}}y&&!v&&(j=e(j,1/0));var $=O.length+j.length+P.length,U=$<x?new Array(x-$+1).join(h):"";switch(y&&v&&(j=e(U+j,U.length?x-P.length:1/0),U=""),p){case"<":j=O+j+P+U;break;case"=":j=O+U+j+P;break;case"^":j=U.slice(0,$=U.length>>1)+O+j+P+U.slice($);break;default:j=U+O+j+P;break}return a(j)}return I.toString=function(){return f+""},I}function d(f,h){var p=u((f=kv(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Sh(h)/3)))*3,g=Math.pow(10,-m),v=kF[8+m/3];return function(x){return p(g*x)+v}}return{format:u,formatPrefix:d}}var d1,D3,Zee;hQe({thousands:",",grouping:[3],currency:["$",""]});function hQe(t){return d1=fQe(t),D3=d1.format,Zee=d1.formatPrefix,d1}function pQe(t){return Math.max(0,-Sh(Math.abs(t)))}function mQe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sh(e)/3)))*3-Sh(Math.abs(t)))}function gQe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Sh(e)-Sh(t))+1}function Jee(t,e,r,n){var i=dI(t,e,r),a;switch(n=kv(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=mQe(i,o))&&(n.precision=a),Zee(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=gQe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=pQe(i))&&(n.precision=a-(n.type==="%")*2);break}}return D3(n)}function qc(t){var e=t.domain;return t.ticks=function(r){var n=e();return cI(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return Jee(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],l,u,d=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);d-- >0;){if(u=uI(o,s,r),u===l)return n[i]=o,n[a]=s,e(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function tb(){var t=k3();return t.copy=function(){return G0(t,tb())},Ka.apply(t,arguments),qc(t)}function ete(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Jw),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return ete(t).unknown(e)},t=arguments.length?Array.from(t,Jw):[0,1],qc(r)}function tte(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function RF(t){return Math.log(t)}function DF(t){return Math.exp(t)}function vQe(t){return-Math.log(-t)}function yQe(t){return-Math.exp(-t)}function xQe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function wQe(t){return t===10?xQe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function bQe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function MF(t){return(e,r)=>-t(-e,r)}function M3(t){const e=t(RF,DF),r=e.domain;let n=10,i,a;function o(){return i=bQe(n),a=wQe(n),r()[0]<0?(i=MF(i),a=MF(a),t(vQe,yQe)):t(RF,DF),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),m,g;const v=s==null?10:+s;let x=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<n;++m)if(g=h<0?m/a(-h):m*a(h),!(g<u)){if(g>d)break;x.push(g)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<u)){if(g>d)break;x.push(g)}x.length*2<v&&(x=cI(u,d,v))}else x=cI(h,p,Math.min(p-h,v)).map(a);return f?x.reverse():x},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=kv(l)).precision==null&&(l.trim=!0),l=D3(l)),s===1/0)return l;const u=Math.max(1,n*s/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},e.nice=()=>r(tte(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function rte(){const t=M3(z_()).domain([1,10]);return t.copy=()=>G0(t,rte()).base(t.base()),Ka.apply(t,arguments),t}function LF(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function $F(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function L3(t){var e=1,r=t(LF(e),$F(e));return r.constant=function(n){return arguments.length?t(LF(e=+n),$F(e)):e},qc(r)}function nte(){var t=L3(z_());return t.copy=function(){return G0(t,nte()).constant(t.constant())},Ka.apply(t,arguments)}function FF(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function _Qe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function SQe(t){return t<0?-t*t:t*t}function $3(t){var e=t(wi,wi),r=1;function n(){return r===1?t(wi,wi):r===.5?t(_Qe,SQe):t(FF(r),FF(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},qc(e)}function F3(){var t=$3(z_());return t.copy=function(){return G0(t,F3()).exponent(t.exponent())},Ka.apply(t,arguments),t}function EQe(){return F3.apply(null,arguments).exponent(.5)}function BF(t){return Math.sign(t)*t*t}function AQe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function ite(){var t=k3(),e=[0,1],r=!1,n;function i(a){var o=AQe(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(BF(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Jw)).map(BF)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return ite(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Ka.apply(i,arguments),qc(i)}function ate(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=PXe(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[W0(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(fc),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return ate().domain(t).range(e).unknown(n)},Ka.apply(a,arguments)}function ote(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[W0(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return ote().domain([t,e]).range(i).unknown(a)},Ka.apply(qc(o),arguments)}function ste(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[W0(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return ste().domain(t).range(e).unknown(r)},Ka.apply(i,arguments)}const IA=new Date,PA=new Date;function hn(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>hn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(IA.setTime(+a),PA.setTime(+o),t(IA),t(PA),Math.floor(r(IA,PA))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const rb=hn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);rb.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?hn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):rb);rb.range;const js=1e3,ja=js*60,ks=ja*60,rl=ks*24,B3=rl*7,UF=rl*30,OA=rl*365,Tu=hn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*js)},(t,e)=>(e-t)/js,t=>t.getUTCSeconds());Tu.range;const U3=hn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*js)},(t,e)=>{t.setTime(+t+e*ja)},(t,e)=>(e-t)/ja,t=>t.getMinutes());U3.range;const V3=hn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ja)},(t,e)=>(e-t)/ja,t=>t.getUTCMinutes());V3.range;const z3=hn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*js-t.getMinutes()*ja)},(t,e)=>{t.setTime(+t+e*ks)},(t,e)=>(e-t)/ks,t=>t.getHours());z3.range;const W3=hn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ks)},(t,e)=>(e-t)/ks,t=>t.getUTCHours());W3.range;const q0=hn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ja)/rl,t=>t.getDate()-1);q0.range;const W_=hn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/rl,t=>t.getUTCDate()-1);W_.range;const lte=hn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/rl,t=>Math.floor(t/rl));lte.range;function Td(t){return hn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*ja)/B3)}const H_=Td(0),nb=Td(1),CQe=Td(2),TQe=Td(3),Eh=Td(4),NQe=Td(5),IQe=Td(6);H_.range;nb.range;CQe.range;TQe.range;Eh.range;NQe.range;IQe.range;function Nd(t){return hn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/B3)}const G_=Nd(0),ib=Nd(1),PQe=Nd(2),OQe=Nd(3),Ah=Nd(4),jQe=Nd(5),kQe=Nd(6);G_.range;ib.range;PQe.range;OQe.range;Ah.range;jQe.range;kQe.range;const H3=hn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());H3.range;const G3=hn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());G3.range;const nl=hn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());nl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:hn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});nl.range;const il=hn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());il.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:hn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});il.range;function cte(t,e,r,n,i,a){const o=[[Tu,1,js],[Tu,5,5*js],[Tu,15,15*js],[Tu,30,30*js],[a,1,ja],[a,5,5*ja],[a,15,15*ja],[a,30,30*ja],[i,1,ks],[i,3,3*ks],[i,6,6*ks],[i,12,12*ks],[n,1,rl],[n,2,2*rl],[r,1,B3],[e,1,UF],[e,3,3*UF],[t,1,OA]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:l(u,d,f),m=p?p.range(u,+d+1):[];return h?m.reverse():m}function l(u,d,f){const h=Math.abs(d-u)/f,p=N3(([,,v])=>v).right(o,h);if(p===o.length)return t.every(dI(u/OA,d/OA,f));if(p===0)return rb.every(Math.max(dI(u,d,f),1));const[m,g]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return m.every(g)}return[s,l]}const[RQe,DQe]=cte(il,G3,G_,lte,W3,V3),[MQe,LQe]=cte(nl,H3,H_,q0,z3,U3);function jA(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function kA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function dm(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function $Qe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=fm(i),d=hm(i),f=fm(a),h=hm(a),p=fm(o),m=hm(o),g=fm(s),v=hm(s),x=fm(l),y=hm(l),w={a:W,A:$,b:U,B:X,c:null,d:qF,e:qF,f:sZe,g:vZe,G:xZe,H:iZe,I:aZe,j:oZe,L:ute,m:lZe,M:cZe,p:H,q:Y,Q:XF,s:QF,S:uZe,u:dZe,U:fZe,V:hZe,w:pZe,W:mZe,x:null,X:null,y:gZe,Y:yZe,Z:wZe,"%":YF},S={a:Q,A:ue,b:de,B:he,c:null,d:KF,e:KF,f:EZe,g:RZe,G:MZe,H:bZe,I:_Ze,j:SZe,L:fte,m:AZe,M:CZe,p:pe,q:J,Q:XF,s:QF,S:TZe,u:NZe,U:IZe,V:PZe,w:OZe,W:jZe,x:null,X:null,y:kZe,Y:DZe,Z:LZe,"%":YF},E={a:I,A:j,b:O,B:P,c:M,d:HF,e:HF,f:eZe,g:WF,G:zF,H:GF,I:GF,j:XQe,L:JQe,m:YQe,M:QQe,p:N,q:KQe,Q:rZe,s:nZe,S:ZQe,u:zQe,U:WQe,V:HQe,w:VQe,W:GQe,x:F,X:B,y:WF,Y:zF,Z:qQe,"%":tZe};w.x=C(r,w),w.X=C(n,w),w.c=C(e,w),S.x=C(r,S),S.X=C(n,S),S.c=C(e,S);function C(re,L){return function(q){var G=[],ye=-1,me=0,ie=re.length,ne,Oe,Z;for(q instanceof Date||(q=new Date(+q));++ye<ie;)re.charCodeAt(ye)===37&&(G.push(re.slice(me,ye)),(Oe=VF[ne=re.charAt(++ye)])!=null?ne=re.charAt(++ye):Oe=ne==="e"?" ":"0",(Z=L[ne])&&(ne=Z(q,Oe)),G.push(ne),me=ye+1);return G.push(re.slice(me,ye)),G.join("")}}function A(re,L){return function(q){var G=dm(1900,void 0,1),ye=T(G,re,q+="",0),me,ie;if(ye!=q.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(L&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(me=kA(dm(G.y,0,1)),ie=me.getUTCDay(),me=ie>4||ie===0?ib.ceil(me):ib(me),me=W_.offset(me,(G.V-1)*7),G.y=me.getUTCFullYear(),G.m=me.getUTCMonth(),G.d=me.getUTCDate()+(G.w+6)%7):(me=jA(dm(G.y,0,1)),ie=me.getDay(),me=ie>4||ie===0?nb.ceil(me):nb(me),me=q0.offset(me,(G.V-1)*7),G.y=me.getFullYear(),G.m=me.getMonth(),G.d=me.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),ie="Z"in G?kA(dm(G.y,0,1)).getUTCDay():jA(dm(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(ie+5)%7:G.w+G.U*7-(ie+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,kA(G)):jA(G)}}function T(re,L,q,G){for(var ye=0,me=L.length,ie=q.length,ne,Oe;ye<me;){if(G>=ie)return-1;if(ne=L.charCodeAt(ye++),ne===37){if(ne=L.charAt(ye++),Oe=E[ne in VF?L.charAt(ye++):ne],!Oe||(G=Oe(re,q,G))<0)return-1}else if(ne!=q.charCodeAt(G++))return-1}return G}function N(re,L,q){var G=u.exec(L.slice(q));return G?(re.p=d.get(G[0].toLowerCase()),q+G[0].length):-1}function I(re,L,q){var G=p.exec(L.slice(q));return G?(re.w=m.get(G[0].toLowerCase()),q+G[0].length):-1}function j(re,L,q){var G=f.exec(L.slice(q));return G?(re.w=h.get(G[0].toLowerCase()),q+G[0].length):-1}function O(re,L,q){var G=x.exec(L.slice(q));return G?(re.m=y.get(G[0].toLowerCase()),q+G[0].length):-1}function P(re,L,q){var G=g.exec(L.slice(q));return G?(re.m=v.get(G[0].toLowerCase()),q+G[0].length):-1}function M(re,L,q){return T(re,e,L,q)}function F(re,L,q){return T(re,r,L,q)}function B(re,L,q){return T(re,n,L,q)}function W(re){return o[re.getDay()]}function $(re){return a[re.getDay()]}function U(re){return l[re.getMonth()]}function X(re){return s[re.getMonth()]}function H(re){return i[+(re.getHours()>=12)]}function Y(re){return 1+~~(re.getMonth()/3)}function Q(re){return o[re.getUTCDay()]}function ue(re){return a[re.getUTCDay()]}function de(re){return l[re.getUTCMonth()]}function he(re){return s[re.getUTCMonth()]}function pe(re){return i[+(re.getUTCHours()>=12)]}function J(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var L=C(re+="",w);return L.toString=function(){return re},L},parse:function(re){var L=A(re+="",!1);return L.toString=function(){return re},L},utcFormat:function(re){var L=C(re+="",S);return L.toString=function(){return re},L},utcParse:function(re){var L=A(re+="",!0);return L.toString=function(){return re},L}}}var VF={"-":"",_:" ",0:"0"},Sn=/^\s*\d+/,FQe=/^%/,BQe=/[\\^$*+?|[\]().{}]/g;function St(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function UQe(t){return t.replace(BQe,"\\$&")}function fm(t){return new RegExp("^(?:"+t.map(UQe).join("|")+")","i")}function hm(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function VQe(t,e,r){var n=Sn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function zQe(t,e,r){var n=Sn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function WQe(t,e,r){var n=Sn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function HQe(t,e,r){var n=Sn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function GQe(t,e,r){var n=Sn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function zF(t,e,r){var n=Sn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function WF(t,e,r){var n=Sn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function qQe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function KQe(t,e,r){var n=Sn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function YQe(t,e,r){var n=Sn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function HF(t,e,r){var n=Sn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function XQe(t,e,r){var n=Sn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function GF(t,e,r){var n=Sn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function QQe(t,e,r){var n=Sn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function ZQe(t,e,r){var n=Sn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function JQe(t,e,r){var n=Sn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function eZe(t,e,r){var n=Sn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function tZe(t,e,r){var n=FQe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function rZe(t,e,r){var n=Sn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function nZe(t,e,r){var n=Sn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function qF(t,e){return St(t.getDate(),e,2)}function iZe(t,e){return St(t.getHours(),e,2)}function aZe(t,e){return St(t.getHours()%12||12,e,2)}function oZe(t,e){return St(1+q0.count(nl(t),t),e,3)}function ute(t,e){return St(t.getMilliseconds(),e,3)}function sZe(t,e){return ute(t,e)+"000"}function lZe(t,e){return St(t.getMonth()+1,e,2)}function cZe(t,e){return St(t.getMinutes(),e,2)}function uZe(t,e){return St(t.getSeconds(),e,2)}function dZe(t){var e=t.getDay();return e===0?7:e}function fZe(t,e){return St(H_.count(nl(t)-1,t),e,2)}function dte(t){var e=t.getDay();return e>=4||e===0?Eh(t):Eh.ceil(t)}function hZe(t,e){return t=dte(t),St(Eh.count(nl(t),t)+(nl(t).getDay()===4),e,2)}function pZe(t){return t.getDay()}function mZe(t,e){return St(nb.count(nl(t)-1,t),e,2)}function gZe(t,e){return St(t.getFullYear()%100,e,2)}function vZe(t,e){return t=dte(t),St(t.getFullYear()%100,e,2)}function yZe(t,e){return St(t.getFullYear()%1e4,e,4)}function xZe(t,e){var r=t.getDay();return t=r>=4||r===0?Eh(t):Eh.ceil(t),St(t.getFullYear()%1e4,e,4)}function wZe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+St(e/60|0,"0",2)+St(e%60,"0",2)}function KF(t,e){return St(t.getUTCDate(),e,2)}function bZe(t,e){return St(t.getUTCHours(),e,2)}function _Ze(t,e){return St(t.getUTCHours()%12||12,e,2)}function SZe(t,e){return St(1+W_.count(il(t),t),e,3)}function fte(t,e){return St(t.getUTCMilliseconds(),e,3)}function EZe(t,e){return fte(t,e)+"000"}function AZe(t,e){return St(t.getUTCMonth()+1,e,2)}function CZe(t,e){return St(t.getUTCMinutes(),e,2)}function TZe(t,e){return St(t.getUTCSeconds(),e,2)}function NZe(t){var e=t.getUTCDay();return e===0?7:e}function IZe(t,e){return St(G_.count(il(t)-1,t),e,2)}function hte(t){var e=t.getUTCDay();return e>=4||e===0?Ah(t):Ah.ceil(t)}function PZe(t,e){return t=hte(t),St(Ah.count(il(t),t)+(il(t).getUTCDay()===4),e,2)}function OZe(t){return t.getUTCDay()}function jZe(t,e){return St(ib.count(il(t)-1,t),e,2)}function kZe(t,e){return St(t.getUTCFullYear()%100,e,2)}function RZe(t,e){return t=hte(t),St(t.getUTCFullYear()%100,e,2)}function DZe(t,e){return St(t.getUTCFullYear()%1e4,e,4)}function MZe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Ah(t):Ah.ceil(t),St(t.getUTCFullYear()%1e4,e,4)}function LZe(){return"+0000"}function YF(){return"%"}function XF(t){return+t}function QF(t){return Math.floor(+t/1e3)}var Ud,pte,mte;$Ze({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $Ze(t){return Ud=$Qe(t),pte=Ud.format,Ud.parse,mte=Ud.utcFormat,Ud.utcParse,Ud}function FZe(t){return new Date(t)}function BZe(t){return t instanceof Date?+t:+new Date(+t)}function q3(t,e,r,n,i,a,o,s,l,u){var d=k3(),f=d.invert,h=d.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),y=u("%b %d"),w=u("%B"),S=u("%Y");function E(C){return(l(C)<C?p:s(C)<C?m:o(C)<C?g:a(C)<C?v:n(C)<C?i(C)<C?x:y:r(C)<C?w:S)(C)}return d.invert=function(C){return new Date(f(C))},d.domain=function(C){return arguments.length?h(Array.from(C,BZe)):h().map(FZe)},d.ticks=function(C){var A=h();return t(A[0],A[A.length-1],C??10)},d.tickFormat=function(C,A){return A==null?E:u(A)},d.nice=function(C){var A=h();return(!C||typeof C.range!="function")&&(C=e(A[0],A[A.length-1],C??10)),C?h(tte(A,C)):d},d.copy=function(){return G0(d,q3(t,e,r,n,i,a,o,s,l,u))},d}function UZe(){return Ka.apply(q3(MQe,LQe,nl,H3,H_,q0,z3,U3,Tu,pte).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function VZe(){return Ka.apply(q3(RQe,DQe,il,G3,G_,W_,W3,V3,Tu,mte).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function q_(){var t=0,e=1,r,n,i,a,o=wi,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-r)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,o=f(p,m),u):[o(0),o(1)]}}return u.range=d(_p),u.rangeRound=d(j3),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),u}}function Kc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function gte(){var t=qc(q_()(wi));return t.copy=function(){return Kc(t,gte())},fl.apply(t,arguments)}function vte(){var t=M3(q_()).domain([1,10]);return t.copy=function(){return Kc(t,vte()).base(t.base())},fl.apply(t,arguments)}function yte(){var t=L3(q_());return t.copy=function(){return Kc(t,yte()).constant(t.constant())},fl.apply(t,arguments)}function K3(){var t=$3(q_());return t.copy=function(){return Kc(t,K3()).exponent(t.exponent())},fl.apply(t,arguments)}function zZe(){return K3.apply(null,arguments).exponent(.5)}function xte(){var t=[],e=wi;function r(n){if(n!=null&&!isNaN(n=+n))return e((W0(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(fc),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>IXe(t,a/n))},r.copy=function(){return xte(e).domain(t)},fl.apply(r,arguments)}function K_(){var t=0,e=.5,r=1,n=1,i,a,o,s,l,u=wi,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(n*g<n*a?s:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,r]=g,i=d(t=+t),a=d(e=+e),o=d(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p):[t,e,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(v){var x,y,w;return arguments.length?([x,y,w]=v,u=tQe(g,[x,y,w]),p):[u(0),u(.5),u(1)]}}return p.range=m(_p),p.rangeRound=m(j3),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,i=g(t),a=g(e),o=g(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function wte(){var t=qc(K_()(wi));return t.copy=function(){return Kc(t,wte())},fl.apply(t,arguments)}function bte(){var t=M3(K_()).domain([.1,1,10]);return t.copy=function(){return Kc(t,bte()).base(t.base())},fl.apply(t,arguments)}function _te(){var t=L3(K_());return t.copy=function(){return Kc(t,_te()).constant(t.constant())},fl.apply(t,arguments)}function Y3(){var t=$3(K_());return t.copy=function(){return Kc(t,Y3()).exponent(t.exponent())},fl.apply(t,arguments)}function WZe(){return Y3.apply(null,arguments).exponent(.5)}const ZF=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Iv,scaleDiverging:wte,scaleDivergingLog:bte,scaleDivergingPow:Y3,scaleDivergingSqrt:WZe,scaleDivergingSymlog:_te,scaleIdentity:ete,scaleImplicit:fI,scaleLinear:tb,scaleLog:rte,scaleOrdinal:I3,scalePoint:dg,scalePow:F3,scaleQuantile:ate,scaleQuantize:ote,scaleRadial:ite,scaleSequential:gte,scaleSequentialLog:vte,scaleSequentialPow:K3,scaleSequentialQuantile:xte,scaleSequentialSqrt:zZe,scaleSequentialSymlog:yte,scaleSqrt:EQe,scaleSymlog:nte,scaleThreshold:ste,scaleTime:UZe,scaleUtc:VZe,tickFormat:Jee},Symbol.toStringTag,{value:"Module"}));var HZe=up;function GZe(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],o=e(a);if(o!=null&&(s===void 0?o===o&&!HZe(o):r(o,s)))var s=o,l=a}return l}var Ste=GZe;function qZe(t,e){return t>e}var KZe=qZe,YZe=Ste,XZe=KZe,QZe=vp;function ZZe(t){return t&&t.length?YZe(t,QZe,XZe):void 0}var JZe=ZZe;const Gl=dt(JZe);function eJe(t,e){return t<e}var tJe=eJe,rJe=Ste,nJe=tJe,iJe=vp;function aJe(t){return t&&t.length?rJe(t,iJe,nJe):void 0}var oJe=aJe;const Y_=dt(oJe);var sJe=u_,lJe=dl,cJe=cZ,uJe=si;function dJe(t,e){var r=uJe(t)?sJe:cJe;return r(t,lJe(e))}var fJe=dJe,hJe=Gk,pJe=fJe;function mJe(t,e){return hJe(pJe(t,e),1)}var gJe=mJe;const vJe=dt(gJe);var Sp=1e9,yJe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Q3,vr=!0,Va="[DecimalError] ",$u=Va+"Invalid argument: ",X3=Va+"Exponent out of range: ",Ep=Math.floor,mu=Math.pow,xJe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ia,vn=1e7,ar=7,Ete=9007199254740991,ab=Ep(Ete/ar),De={};De.absoluteValue=De.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};De.comparedTo=De.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};De.decimalPlaces=De.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*ar;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};De.dividedBy=De.div=function(t){return Vs(this,new this.constructor(t))};De.dividedToIntegerBy=De.idiv=function(t){var e=this,r=e.constructor;return zt(Vs(e,new r(t),0,1),r.precision)};De.equals=De.eq=function(t){return!this.cmp(t)};De.exponent=function(){return Gr(this)};De.greaterThan=De.gt=function(t){return this.cmp(t)>0};De.greaterThanOrEqualTo=De.gte=function(t){return this.cmp(t)>=0};De.isInteger=De.isint=function(){return this.e>this.d.length-2};De.isNegative=De.isneg=function(){return this.s<0};De.isPositive=De.ispos=function(){return this.s>0};De.isZero=function(){return this.s===0};De.lessThan=De.lt=function(t){return this.cmp(t)<0};De.lessThanOrEqualTo=De.lte=function(t){return this.cmp(t)<1};De.logarithm=De.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(ia))throw Error(Va+"NaN");if(r.s<1)throw Error(Va+(r.s?"NaN":"-Infinity"));return r.eq(ia)?new n(0):(vr=!1,e=Vs(Rv(r,a),Rv(t,a),a),vr=!0,zt(e,i))};De.minus=De.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Tte(e,t):Ate(e,(t.s=-t.s,t))};De.modulo=De.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Va+"NaN");return r.s?(vr=!1,e=Vs(r,t,0,1).times(t),vr=!0,r.minus(e)):zt(new n(r),i)};De.naturalExponential=De.exp=function(){return Cte(this)};De.naturalLogarithm=De.ln=function(){return Rv(this)};De.negated=De.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};De.plus=De.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Ate(e,t):Tte(e,(t.s=-t.s,t))};De.precision=De.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error($u+t);if(e=Gr(i)+1,n=i.d.length-1,r=n*ar+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};De.squareRoot=De.sqrt=function(){var t,e,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Va+"NaN")}for(t=Gr(s),vr=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Vo(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ep((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(Vs(s,a,o+2)).times(.5),Vo(a.d).slice(0,o)===(e=Vo(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(zt(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return vr=!0,zt(n,r)};De.times=De.mul=function(t){var e,r,n,i,a,o,s,l,u,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,l=h.length,u=p.length,l<u&&(a=h,h=p,p=a,o=l,l=u,u=o),a=[],o=l+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)s=a[i]+p[n]*h[i-n-1]+e,a[i--]=s%vn|0,e=s/vn|0;a[i]=(a[i]+e)%vn|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,vr?zt(t,f.precision):t};De.toDecimalPlaces=De.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(cs(t,0,Sp),e===void 0?e=n.rounding:cs(e,0,8),zt(r,t+Gr(r)+1,e))};De.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=dd(n,!0):(cs(t,0,Sp),e===void 0?e=i.rounding:cs(e,0,8),n=zt(new i(n),t+1,e),r=dd(n,!0,t+1)),r};De.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?dd(i):(cs(t,0,Sp),e===void 0?e=a.rounding:cs(e,0,8),n=zt(new a(i),t+Gr(i)+1,e),r=dd(n.abs(),!1,t+Gr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};De.toInteger=De.toint=function(){var t=this,e=t.constructor;return zt(new e(t),Gr(t)+1,e.rounding)};De.toNumber=function(){return+this};De.toPower=De.pow=function(t){var e,r,n,i,a,o,s=this,l=s.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(ia);if(s=new l(s),!s.s){if(t.s<1)throw Error(Va+"Infinity");return s}if(s.eq(ia))return s;if(n=l.precision,t.eq(ia))return zt(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=d<0?-d:d)<=Ete){for(i=new l(ia),e=Math.ceil(n/ar+4),vr=!1;r%2&&(i=i.times(s),e9(i.d,e)),r=Ep(r/2),r!==0;)s=s.times(s),e9(s.d,e);return vr=!0,t.s<0?new l(ia).div(i):zt(i,n)}}else if(a<0)throw Error(Va+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,vr=!1,i=t.times(Rv(s,n+u)),vr=!0,i=Cte(i),i.s=a,i};De.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Gr(i),n=dd(i,r<=a.toExpNeg||r>=a.toExpPos)):(cs(t,1,Sp),e===void 0?e=a.rounding:cs(e,0,8),i=zt(new a(i),t,e),r=Gr(i),n=dd(i,t<=r||r<=a.toExpNeg,t)),n};De.toSignificantDigits=De.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(cs(t,1,Sp),e===void 0?e=n.rounding:cs(e,0,8)),zt(new n(r),t,e)};De.toString=De.valueOf=De.val=De.toJSON=De[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Gr(t),r=t.constructor;return dd(t,e<=r.toExpNeg||e>=r.toExpPos)};function Ate(t,e){var r,n,i,a,o,s,l,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),vr?zt(e,f):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=u.length):(n=u,i=o,s=l.length),o=Math.ceil(f/ar),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/vn|0,l[a]%=vn;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,vr?zt(e,f):e}function cs(t,e,r){if(t!==~~t||t<e||t>r)throw Error($u+t)}function Vo(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=ar-n.length,r&&(a+=kl(r)),a+=n;o=t[e],n=o+"",r=ar-n.length,r&&(a+=kl(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Vs=function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%vn|0,o=a/vn|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*vn+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,u,d,f,h,p,m,g,v,x,y,w,S,E,C,A,T,N=n.constructor,I=n.s==i.s?1:-1,j=n.d,O=i.d;if(!n.s)return new N(n);if(!i.s)throw Error(Va+"Division by zero");for(l=n.e-i.e,A=O.length,E=j.length,p=new N(I),m=p.d=[],u=0;O[u]==(j[u]||0);)++u;if(O[u]>(j[u]||0)&&--l,a==null?y=a=N.precision:o?y=a+(Gr(n)-Gr(i))+1:y=a,y<0)return new N(0);if(y=y/ar+2|0,u=0,A==1)for(d=0,O=O[0],y++;(u<E||d)&&y--;u++)w=d*vn+(j[u]||0),m[u]=w/O|0,d=w%O|0;else{for(d=vn/(O[0]+1)|0,d>1&&(O=t(O,d),j=t(j,d),A=O.length,E=j.length),S=A,g=j.slice(0,A),v=g.length;v<A;)g[v++]=0;T=O.slice(),T.unshift(0),C=O[0],O[1]>=vn/2&&++C;do d=0,s=e(O,g,A,v),s<0?(x=g[0],A!=v&&(x=x*vn+(g[1]||0)),d=x/C|0,d>1?(d>=vn&&(d=vn-1),f=t(O,d),h=f.length,v=g.length,s=e(f,g,h,v),s==1&&(d--,r(f,A<h?T:O,h))):(d==0&&(s=d=1),f=O.slice()),h=f.length,h<v&&f.unshift(0),r(g,f,v),s==-1&&(v=g.length,s=e(O,g,A,v),s<1&&(d++,r(g,A<v?T:O,v))),v=g.length):s===0&&(d++,g=[0]),m[u++]=d,s&&g[0]?g[v++]=j[S]||0:(g=[j[S]],v=1);while((S++<E||g[0]!==void 0)&&y--)}return m[0]||m.shift(),p.e=l,zt(p,o?a+Gr(p)+1:a)}}();function Cte(t,e){var r,n,i,a,o,s,l=0,u=0,d=t.constructor,f=d.precision;if(Gr(t)>16)throw Error(X3+Gr(t));if(!t.s)return new d(ia);for(vr=!1,s=f,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(mu(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new d(ia),d.precision=s;;){if(i=zt(i.times(t),s),r=r.times(++l),o=a.plus(Vs(i,r,s)),Vo(o.d).slice(0,s)===Vo(a.d).slice(0,s)){for(;u--;)a=zt(a.times(a),s);return d.precision=f,e==null?(vr=!0,zt(a,f)):a}a=o}}function Gr(t){for(var e=t.e*ar,r=t.d[0];r>=10;r/=10)e++;return e}function RA(t,e,r){if(e>t.LN10.sd())throw vr=!0,r&&(t.precision=r),Error(Va+"LN10 precision limit exceeded");return zt(new t(t.LN10),e)}function kl(t){for(var e="";t--;)e+="0";return e}function Rv(t,e){var r,n,i,a,o,s,l,u,d,f=1,h=10,p=t,m=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(Va+(p.s?"NaN":"-Infinity"));if(p.eq(ia))return new g(0);if(e==null?(vr=!1,u=v):u=e,p.eq(10))return e==null&&(vr=!0),RA(g,u);if(u+=h,g.precision=u,r=Vo(m),n=r.charAt(0),a=Gr(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Vo(p.d),n=r.charAt(0),f++;a=Gr(p),n>1?(p=new g("0."+r),a++):p=new g(n+"."+r.slice(1))}else return l=RA(g,u+2,v).times(a+""),p=Rv(new g(n+"."+r.slice(1)),u-h).plus(l),g.precision=v,e==null?(vr=!0,zt(p,v)):p;for(s=o=p=Vs(p.minus(ia),p.plus(ia),u),d=zt(p.times(p),u),i=3;;){if(o=zt(o.times(d),u),l=s.plus(Vs(o,new g(i),u)),Vo(l.d).slice(0,u)===Vo(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(RA(g,u+2,v).times(a+""))),s=Vs(s,new g(f),u),g.precision=v,e==null?(vr=!0,zt(s,v)):s;s=l,i+=2}}function JF(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Ep(r/ar),t.d=[],n=(r+1)%ar,r<0&&(n+=ar),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=ar;n<i;)t.d.push(+e.slice(n,n+=ar));e=e.slice(n),n=ar-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),vr&&(t.e>ab||t.e<-ab))throw Error(X3+r)}else t.s=0,t.e=0,t.d=[0];return t}function zt(t,e,r){var n,i,a,o,s,l,u,d,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=ar,i=e,u=f[d=0];else{if(d=Math.ceil((n+1)/ar),a=f.length,d>=a)return t;for(u=a=f[d],o=1;a>=10;a/=10)o++;n%=ar,i=n-ar+o}if(r!==void 0&&(a=mu(10,o-i-1),s=u/a%10|0,l=e<0||f[d+1]!==void 0||u%a,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?u/mu(10,o-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=Gr(t),f.length=1,e=e-a-1,f[0]=mu(10,(ar-e%ar)%ar),t.e=Ep(-e/ar)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=mu(10,ar-n),f[d]=i>0?(u/mu(10,o-i)%mu(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==vn&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=vn)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(vr&&(t.e>ab||t.e<-ab))throw Error(X3+Gr(t));return t}function Tte(t,e){var r,n,i,a,o,s,l,u,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),vr?zt(e,p):e;if(l=t.d,f=e.d,n=e.e,u=t.e,l=l.slice(),o=u-n,o){for(d=o<0,d?(r=l,o=-o,s=f.length):(r=f,n=u,s=l.length),i=Math.max(Math.ceil(p/ar),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}o=0}for(d&&(r=l,l=f,f=r,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=vn-1;--l[a],l[i]+=vn}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,vr?zt(e,p):e):new h(0)}function dd(t,e,r){var n,i=Gr(t),a=Vo(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+kl(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+kl(-i-1)+a,r&&(n=r-o)>0&&(a+=kl(n))):i>=o?(a+=kl(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+kl(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=kl(n))),t.s<0?"-"+a:a}function e9(t,e){if(t.length>e)return t.length=e,!0}function Nte(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error($u+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return JF(o,a.toString())}else if(typeof a!="string")throw Error($u+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,xJe.test(a))JF(o,a);else throw Error($u+a)}if(i.prototype=De,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Nte,i.config=i.set=wJe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function wJe(t){if(!t||typeof t!="object")throw Error(Va+"Object expected");var e,r,n,i=["precision",1,Sp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Ep(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error($u+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error($u+r+": "+n);return this}var Q3=Nte(yJe);ia=new Q3(1);const Lt=Q3;function bJe(t){return AJe(t)||EJe(t)||SJe(t)||_Je()}function _Je(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SJe(t,e){if(t){if(typeof t=="string")return gI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gI(t,e)}}function EJe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function AJe(t){if(Array.isArray(t))return gI(t)}function gI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var CJe=function(e){return e},Ite={},Pte=function(e){return e===Ite},t9=function(e){return function r(){return arguments.length===0||arguments.length===1&&Pte(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},TJe=function t(e,r){return e===1?r:t9(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==Ite}).length;return o>=e?r.apply(void 0,i):t(e-o,t9(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=i.map(function(f){return Pte(f)?l.shift():f});return r.apply(void 0,bJe(d).concat(l))}))})},X_=function(e){return TJe(e.length,e)},vI=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},NJe=X_(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),IJe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return CJe;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},yI=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Ote=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function PJe(t){var e;return t===0?e=1:e=Math.floor(new Lt(t).abs().log(10).toNumber())+1,e}function OJe(t,e,r){for(var n=new Lt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var jJe=X_(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),kJe=X_(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),RJe=X_(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Q_={rangeStep:OJe,getDigitCount:PJe,interpolateNumber:jJe,uninterpolateNumber:kJe,uninterpolateTruncation:RJe};function xI(t){return LJe(t)||MJe(t)||jte(t)||DJe()}function DJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MJe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function LJe(t){if(Array.isArray(t))return wI(t)}function Dv(t,e){return BJe(t)||FJe(t,e)||jte(t,e)||$Je()}function $Je(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jte(t,e){if(t){if(typeof t=="string")return wI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wI(t,e)}}function wI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FJe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function BJe(t){if(Array.isArray(t))return t}function kte(t){var e=Dv(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function Rte(t,e,r){if(t.lte(0))return new Lt(0);var n=Q_.getDigitCount(t.toNumber()),i=new Lt(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new Lt(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return e?l:new Lt(Math.ceil(l))}function UJe(t,e,r){var n=1,i=new Lt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Lt(10).pow(Q_.getDigitCount(t)-1),i=new Lt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Lt(Math.floor(t)))}else t===0?i=new Lt(Math.floor((e-1)/2)):r||(i=new Lt(Math.floor(t)));var o=Math.floor((e-1)/2),s=IJe(NJe(function(l){return i.add(new Lt(l-o).mul(n)).toNumber()}),vI);return s(0,e)}function Dte(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Lt(0),tickMin:new Lt(0),tickMax:new Lt(0)};var a=Rte(new Lt(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new Lt(0):(o=new Lt(t).add(e).div(2),o=o.sub(new Lt(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new Lt(e).sub(o).div(a).toNumber()),u=s+l+1;return u>r?Dte(t,e,r,n,i+1):(u<r&&(l=e>0?l+(r-u):l,s=e>0?s:s+(r-u)),{step:a,tickMin:o.sub(new Lt(s).mul(a)),tickMax:o.add(new Lt(l).mul(a))})}function VJe(t){var e=Dv(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=kte([r,n]),l=Dv(s,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(xI(vI(0,i-1).map(function(){return 1/0}))):[].concat(xI(vI(0,i-1).map(function(){return-1/0})),[d]);return r>n?yI(f):f}if(u===d)return UJe(u,i,a);var h=Dte(u,d,o,a),p=h.step,m=h.tickMin,g=h.tickMax,v=Q_.rangeStep(m,g.add(new Lt(.1).mul(p)),p);return r>n?yI(v):v}function zJe(t,e){var r=Dv(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=kte([n,i]),s=Dv(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var d=Math.max(e,2),f=Rte(new Lt(u).sub(l).div(d-1),a,0),h=[].concat(xI(Q_.rangeStep(new Lt(l),new Lt(u).sub(new Lt(.99).mul(f)),f)),[u]);return n>i?yI(h):h}var WJe=Ote(VJe),HJe=Ote(zJe),GJe="Invariant failed";function fd(t,e){throw new Error(GJe)}var qJe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function ob(){return ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ob.apply(this,arguments)}function KJe(t,e){return ZJe(t)||QJe(t,e)||XJe(t,e)||YJe()}function YJe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XJe(t,e){if(t){if(typeof t=="string")return r9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r9(t,e)}}function r9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QJe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ZJe(t){if(Array.isArray(t))return t}function JJe(t,e){if(t==null)return{};var r=eet(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eet(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ret(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$te(n.key),n)}}function net(t,e,r){return e&&ret(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iet(t,e,r){return e=sb(e),aet(t,Mte()?Reflect.construct(e,r||[],sb(t).constructor):e.apply(t,r))}function aet(t,e){if(e&&(Ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oet(t)}function oet(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mte=function(){return!!t})()}function sb(t){return sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sb(t)}function set(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bI(t,e)}function bI(t,e){return bI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bI(t,e)}function Lte(t,e,r){return e=$te(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $te(t){var e=cet(t,"string");return Ch(e)=="symbol"?e:e+""}function cet(t,e){if(Ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Z_=function(t){function e(){return tet(this,e),iet(this,e,arguments)}return set(e,t),net(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=JJe(n,qJe),p=st(h,!1);this.props.direction==="x"&&d.type!=="number"&&fd();var m=l.map(function(g){var v=u(g,s),x=v.x,y=v.y,w=v.value,S=v.errorVal;if(!S)return null;var E=[],C,A;if(Array.isArray(S)){var T=KJe(S,2);C=T[0],A=T[1]}else C=A=S;if(a==="vertical"){var N=d.scale,I=y+i,j=I+o,O=I-o,P=N(w-C),M=N(w+A);E.push({x1:M,y1:j,x2:M,y2:O}),E.push({x1:P,y1:I,x2:M,y2:I}),E.push({x1:P,y1:j,x2:P,y2:O})}else if(a==="horizontal"){var F=f.scale,B=x+i,W=B-o,$=B+o,U=F(w-C),X=F(w+A);E.push({x1:W,y1:X,x2:$,y2:X}),E.push({x1:B,y1:U,x2:B,y2:X}),E.push({x1:W,y1:U,x2:$,y2:U})}return D.createElement(br,ob({className:"recharts-errorBar",key:"bar-".concat(E.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},p),E.map(function(H){return D.createElement("line",ob({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return D.createElement(br,{className:"recharts-errorBars"},m)}}])}(D.Component);Lte(Z_,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Lte(Z_,"displayName","ErrorBar");function Mv(t){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mv(t)}function n9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n9(Object(r),!0).forEach(function(n){uet(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uet(t,e,r){return e=det(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function det(t){var e=fet(t,"string");return Mv(e)=="symbol"?e:e+""}function fet(t,e){if(Mv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fte=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=ra(r,Mf);if(!o)return null;var s=Mf.defaultProps,l=s!==void 0?iu(iu({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?iu(iu({},h),f.props):{},m=p.dataKey,g=p.name,v=p.legendType,x=p.hide;return{inactive:x,dataKey:m,type:l.iconType||v||"square",color:Z3(f),value:g||m,payload:p}}),iu(iu(iu({},l),Mf.getWithHeight(o,i)),{},{payload:u,item:o})};function Lv(t){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lv(t)}function i9(t){return get(t)||met(t)||pet(t)||het()}function het(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pet(t,e){if(t){if(typeof t=="string")return _I(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _I(t,e)}}function met(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function get(t){if(Array.isArray(t))return _I(t)}function _I(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ir(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a9(Object(r),!0).forEach(function(n){$f(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $f(t,e,r){return e=vet(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vet(t){var e=yet(t,"string");return Lv(e)=="symbol"?e:e+""}function yet(t,e){if(Lv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ga(t,e,r){return ft(t)||ft(e)?r:sn(e)?Da(t,e,r):Je(e)?e(t):r}function fg(t,e,r,n){var i=vJe(t,function(s){return ga(s,e)});if(r==="number"){var a=i.filter(function(s){return Ee(s)||parseFloat(s)});return a.length?[Y_(a),Gl(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!ft(s)}):i;return o.map(function(s){return sn(s)||s instanceof Date?s:""})}var xet=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var d=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(mo(f-d)!==mo(h-f)){var m=[];if(mo(h-f)===mo(l[1]-l[0])){p=h;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+d)/2),m[1]=Math.max(g,(g+d)/2)}else{p=d;var v=h+l[1]-l[0];m[0]=Math.min(f,(v+f)/2),m[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>x[0]&&e<=x[1]||e>=m[0]&&e<=m[1]){o=i[u].index;break}}else{var y=Math.min(d,h),w=Math.max(d,h);if(e>(y+f)/2&&e<=(w+f)/2){o=i[u].index;break}}}else for(var S=0;S<s;S++)if(S===0&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<s-1&&e>(n[S].coordinate+n[S-1].coordinate)/2&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S===s-1&&e>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},Z3=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ir(Ir({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},wet=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var d=a[s[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],g=m.items,v=m.cateAxisId,x=g.filter(function(A){return Bs(A.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,w=y!==void 0?Ir(Ir({},y),x[0].props):x[0].props,S=w.barSize,E=w[v];o[E]||(o[E]=[]);var C=ft(S)?r:S;o[E].push({item:x[0],stackList:x.slice(1),barSize:ft(C)?void 0:ud(C,n,0)})}}return o},bet=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=ud(r,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/l,m=o.reduce(function(S,E){return S+E.barSize||0},0);m+=(l-1)*u,m>=i&&(m-=(l-1)*u,u=0),m>=i&&p>0&&(h=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,v={offset:g-u,size:0};d=o.reduce(function(S,E){var C={item:E.item,position:{offset:v.offset+v.size+u,size:h?p:E.barSize}},A=[].concat(i9(S),[C]);return v=A[A.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){A.push({item:T,position:v})}),A},f)}else{var x=ud(n,i,0,!0);i-2*x-(l-1)*u<=0&&(u=0);var y=(i-2*x-(l-1)*u)/l;y>1&&(y>>=0);var w=s===+s?Math.min(y,s):y;d=o.reduce(function(S,E,C){var A=[].concat(i9(S),[{item:E.item,position:{offset:x+(y+u)*C+(y-w)/2,size:w}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){A.push({item:T,position:A[A.length-1].position})}),A},f)}return d},_et=function(e,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),u=Fte({children:a,legendWidth:l});if(u){var d=i||{},f=d.width,h=d.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&Ee(e[p]))return Ir(Ir({},e),{},$f({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&Ee(e[m]))return Ir(Ir({},e),{},$f({},m,e[m]+(h||0)))}return e},Eet=function(e,r,n){return ft(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Bte=function(e,r,n,i,a){var o=r.props.children,s=wo(o,Z_).filter(function(u){return Eet(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=ga(d,n);if(ft(f))return u;var h=Array.isArray(f)?[Y_(f),Gl(f)]:[f,f],p=l.reduce(function(m,g){var v=ga(d,g,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),y=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,m[0]),Math.max(y,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Aet=function(e,r,n,i,a){var o=r.map(function(s){return Bte(e,s,n,a,i)}).filter(function(s){return!ft(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},Ute=function(e,r,n,i,a){var o=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&Bte(e,l,u,i)||fg(e,u,n,a)});if(n==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,l.push(u[d]));return l},[])},Vte=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},zte=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(o=!0),l.coordinate});return a||s.push(r),o||s.push(n),s},Rs=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?mo(s[0]-s[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!wp(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},DA=new WeakMap,f1=function(e,r){if(typeof r!="function")return e;DA.has(e)||DA.set(e,new WeakMap);var n=DA.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},Cet=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Iv(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:tb(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:dg(),realScaleType:"point"}:a==="category"?{scale:Iv(),realScaleType:"band"}:{scale:tb(),realScaleType:"linear"};if(cd(i)){var l="scale".concat($_(i));return{scale:(ZF[l]||dg)(),realScaleType:ZF[l]?l:"point"}}return Je(i)?{scale:i}:{scale:dg(),realScaleType:"point"}},o9=1e-4,Tet=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-o9,o=Math.max(i[0],i[1])+o9,s=e(r[0]),l=e(r[n-1]);(s<a||s>o||l<a||l>o)&&e.domain([r[0],r[n-1]])}},Net=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Iet=function(e,r){if(!r||r.length!==2||!Ee(r[0])||!Ee(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!Ee(e[0])||e[0]<n)&&(a[0]=n),(!Ee(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},Pet=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=wp(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1])}},Oet=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=wp(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},jet={sign:Pet,expand:_qe,none:yh,silhouette:Sqe,wiggle:Eqe,positive:Oet},ket=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),a=jet[n],o=bqe().keys(i).value(function(s,l){return+ga(s,l,0)}).order(ZN).offset(a);return o(e)},Ret=function(e,r,n,i,a,o){if(!e)return null;var s=o?r.reverse():r,l={},u=s.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Ir(Ir({},h.type.defaultProps),h.props):h.props,g=m.stackId,v=m.hide;if(v)return f;var x=m[n],y=f[x]||{hasStack:!1,stackGroups:{}};if(sn(g)){var w=y.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(h),y.hasStack=!0,y.stackGroups[g]=w}else y.stackGroups[z0("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return Ir(Ir({},f),{},$f({},x,y))},l),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var x=p.stackGroups[v];return Ir(Ir({},g),{},$f({},v,{numericAxisId:n,cateAxisId:i,items:x.items,stackedData:ket(e,x.items,a)}))},m)}return Ir(Ir({},f),{},$f({},h,p))},d)},Det=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=WJe(u,a,s);return e.domain([Y_(d),Gl(d)]),{niceTicks:d}}if(a&&i==="number"){var f=e.domain(),h=HJe(f,a,s);return{niceTicks:h}}return null};function s9(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ft(i[e.dataKey])){var s=Dw(r,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=ga(i,ft(o)?e.dataKey:o);return ft(l)?null:e.scale(l)}var l9=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=ga(o,r.dataKey,r.domain[s]);return ft(l)?null:r.scale(l)-a/2+i},Met=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Let=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ir(Ir({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(sn(a)){var o=r[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},$et=function(e){return e.reduce(function(r,n){return[Y_(n.concat([r[0]]).filter(Ee)),Gl(n.concat([r[1]]).filter(Ee))]},[1/0,-1/0])},Wte=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,d){var f=$et(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},c9=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,u9=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SI=function(e,r,n){if(Je(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Ee(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(c9.test(e[0])){var a=+c9.exec(e[0])[1];i[0]=r[0]-a}else Je(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Ee(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(u9.test(e[1])){var o=+u9.exec(e[1])[1];i[1]=r[1]+o}else Je(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},lb=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=h_(r,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],d=a[s-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},d9=function(e,r,n){return!e||!e.length||mh(e,Da(n,"type.defaultProps.domain"))?r:e},Hte=function(e,r){var n=e.type.defaultProps?Ir(Ir({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return Ir(Ir({},st(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:Z3(e),value:ga(r,i),type:l,payload:r,chartType:u,hide:d})};function $v(t){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$v(t)}function f9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function h9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f9(Object(r),!0).forEach(function(n){Fet(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fet(t,e,r){return e=Bet(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bet(t){var e=Uet(t,"string");return $v(e)=="symbol"?e:e+""}function Uet(t,e){if($v(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cb=Math.PI/180,Vet=function(e){return e*180/Math.PI},kn=function(e,r,n,i){return{x:e+Math.cos(-cb*i)*n,y:r+Math.sin(-cb*i)*n}},zet=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},Wet=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,s=zet({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:Vet(u),angleInRadian:u}},Het=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},Get=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},p9=function(e,r){var n=e.x,i=e.y,a=Wet({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,u=r.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var d=Het(r),f=d.startAngle,h=d.endAngle,p=s,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?h9(h9({},r),{},{radius:o,angle:Get(p,r)}):null};function Fv(t){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fv(t)}var qet=["offset"];function Ket(t){return Zet(t)||Qet(t)||Xet(t)||Yet()}function Yet(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xet(t,e){if(t){if(typeof t=="string")return EI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EI(t,e)}}function Qet(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zet(t){if(Array.isArray(t))return EI(t)}function EI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jet(t,e){if(t==null)return{};var r=ett(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ett(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function m9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m9(Object(r),!0).forEach(function(n){ttt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ttt(t,e,r){return e=rtt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rtt(t){var e=ntt(t,"string");return Fv(e)=="symbol"?e:e+""}function ntt(t,e){if(Fv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bv(){return Bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bv.apply(this,arguments)}var itt=function(e){var r=e.value,n=e.formatter,i=ft(e.children)?r:e.children;return Je(n)?n(i):i},att=function(e,r){var n=mo(r-e),i=Math.min(Math.abs(r-e),360);return n*i},ott=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,v=(f+h)/2,x=att(p,m),y=x>=0?1:-1,w,S;i==="insideStart"?(w=p+y*o,S=g):i==="insideEnd"?(w=m-y*o,S=!g):i==="end"&&(w=m+y*o,S=g),S=x<=0?S:!S;var E=kn(u,d,v,w),C=kn(u,d,v,w+(S?1:-1)*359),A="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(C.x,",").concat(C.y),T=ft(e.id)?z0("recharts-radial-line-"):e.id;return D.createElement("text",Bv({},n,{dominantBaseline:"central",className:gt("recharts-radial-bar-label",s)}),D.createElement("defs",null,D.createElement("path",{id:T,d:A})),D.createElement("textPath",{xlinkHref:"#".concat(T)},r))},stt=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var p=kn(o,s,u+n,h),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,x=kn(o,s,v,h),y=x.x,w=x.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},ltt=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,s=o.x,l=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=u>=0?1:-1,v=g*i,x=g>0?"end":"start",y=g>0?"start":"end";if(a==="top"){var w={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Yr(Yr({},w),n?{height:Math.max(l-n.y,0),width:u}:{})}if(a==="bottom"){var S={x:s+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:m};return Yr(Yr({},S),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(a==="left"){var E={x:s-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return Yr(Yr({},E),n?{width:Math.max(E.x-n.x,0),height:d}:{})}if(a==="right"){var C={x:s+u+v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return Yr(Yr({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:d}:{})}var A=n?{width:u,height:d}:{};return a==="insideLeft"?Yr({x:s+v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},A):a==="insideRight"?Yr({x:s+u-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},A):a==="insideTop"?Yr({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:m},A):a==="insideBottom"?Yr({x:s+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},A):a==="insideTopLeft"?Yr({x:s+v,y:l+h,textAnchor:y,verticalAnchor:m},A):a==="insideTopRight"?Yr({x:s+u-v,y:l+h,textAnchor:x,verticalAnchor:m},A):a==="insideBottomLeft"?Yr({x:s+v,y:l+d-h,textAnchor:y,verticalAnchor:p},A):a==="insideBottomRight"?Yr({x:s+u-v,y:l+d-h,textAnchor:x,verticalAnchor:p},A):sp(a)&&(Ee(a.x)||Au(a.x))&&(Ee(a.y)||Au(a.y))?Yr({x:s+ud(a.x,u),y:l+ud(a.y,d),textAnchor:"end",verticalAnchor:"end"},A):Yr({x:s+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},ctt=function(e){return"cx"in e&&Ee(e.cx)};function Zn(t){var e=t.offset,r=e===void 0?5:e,n=Jet(t,qet),i=Yr({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||ft(s)&&ft(l)&&!b.isValidElement(u)&&!Je(u))return null;if(b.isValidElement(u))return b.cloneElement(u,i);var p;if(Je(u)){if(p=b.createElement(u,i),b.isValidElement(p))return p}else p=itt(i);var m=ctt(a),g=st(i,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return ott(i,p,g);var v=m?stt(i):ltt(i);return D.createElement(Kw,Bv({className:gt("recharts-label",f)},g,v,{breakAll:h}),p)}Zn.displayName="Label";var Gte=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,p=e.top,m=e.left,g=e.width,v=e.height,x=e.clockWise,y=e.labelViewBox;if(y)return y;if(Ee(g)&&Ee(v)){if(Ee(f)&&Ee(h))return{x:f,y:h,width:g,height:v};if(Ee(p)&&Ee(m))return{x:p,y:m,width:g,height:v}}return Ee(f)&&Ee(h)?{x:f,y:h,width:0,height:0}:Ee(r)&&Ee(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||l||s||0,clockWise:x}:e.viewBox?e.viewBox:{}},utt=function(e,r){return e?e===!0?D.createElement(Zn,{key:"label-implicit",viewBox:r}):sn(e)?D.createElement(Zn,{key:"label-implicit",viewBox:r,value:e}):b.isValidElement(e)?e.type===Zn?b.cloneElement(e,{key:"label-implicit",viewBox:r}):D.createElement(Zn,{key:"label-implicit",content:e,viewBox:r}):Je(e)?D.createElement(Zn,{key:"label-implicit",content:e,viewBox:r}):sp(e)?D.createElement(Zn,Bv({viewBox:r},e,{key:"label-implicit"})):null:null},dtt=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=Gte(e),o=wo(i,Zn).map(function(l,u){return b.cloneElement(l,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var s=utt(e.label,r||a);return[s].concat(Ket(o))};Zn.parseViewBox=Gte;Zn.renderCallByParent=dtt;function Uv(t){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uv(t)}var ftt=["valueAccessor"],htt=["data","dataKey","clockWise","id","textBreakAll"];function ptt(t){return ytt(t)||vtt(t)||gtt(t)||mtt()}function mtt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gtt(t,e){if(t){if(typeof t=="string")return AI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AI(t,e)}}function vtt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ytt(t){if(Array.isArray(t))return AI(t)}function AI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ub(){return ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ub.apply(this,arguments)}function g9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function v9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g9(Object(r),!0).forEach(function(n){xtt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xtt(t,e,r){return e=wtt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wtt(t){var e=btt(t,"string");return Uv(e)=="symbol"?e:e+""}function btt(t,e){if(Uv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function y9(t,e){if(t==null)return{};var r=_tt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _tt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Stt=function(e){return Array.isArray(e.value)?eFe(e.value):e.value};function hc(t){var e=t.valueAccessor,r=e===void 0?Stt:e,n=y9(t,ftt),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,u=y9(n,htt);return!i||!i.length?null:D.createElement(br,{className:"recharts-label-list"},i.map(function(d,f){var h=ft(a)?r(d,f):ga(d&&d.payload,a),p=ft(s)?{}:{id:"".concat(s,"-").concat(f)};return D.createElement(Zn,ub({},st(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:Zn.parseViewBox(ft(o)?d:v9(v9({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}hc.displayName="LabelList";function Ett(t,e){return t?t===!0?D.createElement(hc,{key:"labelList-implicit",data:e}):D.isValidElement(t)||Je(t)?D.createElement(hc,{key:"labelList-implicit",data:e,content:t}):sp(t)?D.createElement(hc,ub({data:e},t,{key:"labelList-implicit"})):null:null}function Att(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=wo(n,hc).map(function(o,s){return b.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var a=Ett(t.label,e);return[a].concat(ptt(i))}hc.renderCallByParent=Att;function Vv(t){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vv(t)}function CI(){return CI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CI.apply(this,arguments)}function x9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function w9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x9(Object(r),!0).forEach(function(n){Ctt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ctt(t,e,r){return e=Ttt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ttt(t){var e=Ntt(t,"string");return Vv(e)=="symbol"?e:e+""}function Ntt(t,e){if(Vv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Itt=function(e,r){var n=mo(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},h1=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(s?1:-1)+i,f=Math.asin(l/d)/cb,h=u?a:a+o*f,p=kn(r,n,d,h),m=kn(r,n,i,h),g=u?a-o*f:a,v=kn(r,n,d*Math.cos(f*cb),g);return{center:p,circleTangency:m,lineTangency:v,theta:f}},qte=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=Itt(o,s),u=o+l,d=kn(r,n,a,o),f=kn(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=kn(r,n,i,o),m=kn(r,n,i,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Ptt=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=mo(d-u),h=h1({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,g=h.theta,v=h1({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),x=v.circleTangency,y=v.lineTangency,w=v.theta,S=l?Math.abs(u-d):Math.abs(u-d)-g-w;if(S<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):qte({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var E="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var C=h1({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),A=C.circleTangency,T=C.lineTangency,N=C.theta,I=h1({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),j=I.circleTangency,O=I.lineTangency,P=I.theta,M=l?Math.abs(u-d):Math.abs(u-d)-N-P;if(M<0&&o===0)return"".concat(E,"L").concat(r,",").concat(n,"Z");E+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(r,",").concat(n,"Z");return E},Ott={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Kte=function(e){var r=w9(w9({},Ott),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<a||d===f)return null;var p=gt("recharts-sector",h),m=o-a,g=ud(s,m,0,!0),v;return g>0&&Math.abs(d-f)<360?v=Ptt({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):v=qte({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),D.createElement("path",CI({},st(r,!0),{className:p,d:v,role:"img"}))};function zv(t){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zv(t)}function TI(){return TI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TI.apply(this,arguments)}function b9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b9(Object(r),!0).forEach(function(n){jtt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jtt(t,e,r){return e=ktt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ktt(t){var e=Rtt(t,"string");return zv(e)=="symbol"?e:e+""}function Rtt(t,e){if(zv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S9={curveBasisClosed:uqe,curveBasisOpen:dqe,curveBasis:cqe,curveBumpX:YGe,curveBumpY:XGe,curveLinearClosed:fqe,curveLinear:B_,curveMonotoneX:hqe,curveMonotoneY:pqe,curveNatural:mqe,curveStep:gqe,curveStepAfter:yqe,curveStepBefore:vqe},p1=function(e){return e.x===+e.x&&e.y===+e.y},pm=function(e){return e.x},mm=function(e){return e.y},Dtt=function(e,r){if(Je(e))return e;var n="curve".concat($_(e));return(n==="curveMonotone"||n==="curveBump")&&r?S9["".concat(n).concat(r==="vertical"?"Y":"X")]:S9[n]||B_},Mtt=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=Dtt(n,s),f=u?a.filter(function(g){return p1(g)}):a,h;if(Array.isArray(o)){var p=u?o.filter(function(g){return p1(g)}):o,m=f.map(function(g,v){return _9(_9({},g),{},{base:p[v]})});return s==="vertical"?h=a1().y(mm).x1(pm).x0(function(g){return g.base.x}):h=a1().x(pm).y1(mm).y0(function(g){return g.base.y}),h.defined(p1).curve(d),h(m)}return s==="vertical"&&Ee(o)?h=a1().y(mm).x1(pm).x0(o):Ee(o)?h=a1().x(pm).y1(mm).y0(o):h=vee().x(pm).y(mm),h.defined(p1).curve(d),h(f)},hg=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Mtt(e):i;return D.createElement("path",TI({},st(e,!1),Mw(e),{className:gt("recharts-curve",r),d:o,ref:a}))},Ltt=Object.getOwnPropertyNames,$tt=Object.getOwnPropertySymbols,Ftt=Object.prototype.hasOwnProperty;function E9(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function m1(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function A9(t){return Ltt(t).concat($tt(t))}var Btt=Object.hasOwn||function(t,e){return Ftt.call(t,e)};function Id(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Utt="__v",Vtt="__o",ztt="_owner",C9=Object.getOwnPropertyDescriptor,T9=Object.keys;function Wtt(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Htt(t,e){return Id(t.getTime(),e.getTime())}function Gtt(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function qtt(t,e){return t===e}function N9(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),d=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var h=o.value,p=s.value;if(r.equals(h[0],p[0],l,f,t,e,r)&&r.equals(h[1],p[1],h[0],p[0],t,e,r)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}var Ktt=Id;function Ytt(t,e,r){var n=T9(t),i=n.length;if(T9(e).length!==i)return!1;for(;i-- >0;)if(!Yte(t,e,r,n[i]))return!1;return!0}function gm(t,e,r){var n=A9(t),i=n.length;if(A9(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!Yte(t,e,r,a)||(o=C9(t,a),s=C9(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Xtt(t,e){return Id(t.valueOf(),e.valueOf())}function Qtt(t,e){return t.source===e.source&&t.flags===e.flags}function I9(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,d=0;(s=l.next())&&!s.done;){if(!i[d]&&r.equals(o.value,s.value,o.value,s.value,t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function Ztt(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Jtt(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Yte(t,e,r,n){return(n===ztt||n===Vtt||n===Utt)&&(t.$$typeof||e.$$typeof)?!0:Btt(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var ert="[object Arguments]",trt="[object Boolean]",rrt="[object Date]",nrt="[object Error]",irt="[object Map]",art="[object Number]",ort="[object Object]",srt="[object RegExp]",lrt="[object Set]",crt="[object String]",urt="[object URL]",drt=Array.isArray,P9=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,O9=Object.assign,frt=Object.prototype.toString.call.bind(Object.prototype.toString);function hrt(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(m,g,v){if(m===g)return!0;if(m==null||g==null)return!1;var x=typeof m;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?o(m,g,v):x==="function"?i(m,g,v):!1;var y=m.constructor;if(y!==g.constructor)return!1;if(y===Object)return s(m,g,v);if(drt(m))return e(m,g,v);if(P9!=null&&P9(m))return f(m,g,v);if(y===Date)return r(m,g,v);if(y===RegExp)return u(m,g,v);if(y===Map)return a(m,g,v);if(y===Set)return d(m,g,v);var w=frt(m);return w===rrt?r(m,g,v):w===srt?u(m,g,v):w===irt?a(m,g,v):w===lrt?d(m,g,v):w===ort?typeof m.then!="function"&&typeof g.then!="function"&&s(m,g,v):w===urt?h(m,g,v):w===nrt?n(m,g,v):w===ert?s(m,g,v):w===trt||w===art||w===crt?l(m,g,v):!1}}function prt(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?gm:Wtt,areDatesEqual:Htt,areErrorsEqual:Gtt,areFunctionsEqual:qtt,areMapsEqual:n?E9(N9,gm):N9,areNumbersEqual:Ktt,areObjectsEqual:n?gm:Ytt,arePrimitiveWrappersEqual:Xtt,areRegExpsEqual:Qtt,areSetsEqual:n?E9(I9,gm):I9,areTypedArraysEqual:n?gm:Ztt,areUrlsEqual:Jtt};if(r&&(i=O9({},i,r(i))),e){var a=m1(i.areArraysEqual),o=m1(i.areMapsEqual),s=m1(i.areObjectsEqual),l=m1(i.areSetsEqual);i=O9({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function mrt(t){return function(e,r,n,i,a,o,s){return t(e,r,s)}}function grt(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,u){var d=n(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return r(l,u,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(l,u){return r(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return r(l,u,o)}}var vrt=Yc();Yc({strict:!0});Yc({circular:!0});Yc({circular:!0,strict:!0});Yc({createInternalComparator:function(){return Id}});Yc({strict:!0,createInternalComparator:function(){return Id}});Yc({circular:!0,createInternalComparator:function(){return Id}});Yc({circular:!0,createInternalComparator:function(){return Id},strict:!0});function Yc(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=prt(t),l=hrt(s),u=n?n(l):mrt(l);return grt({circular:r,comparator:l,createState:i,equals:u,strict:o})}function yrt(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function j9(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):yrt(i)};requestAnimationFrame(n)}function NI(t){"@babel/helpers - typeof";return NI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NI(t)}function xrt(t){return Srt(t)||_rt(t)||brt(t)||wrt()}function wrt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function brt(t,e){if(t){if(typeof t=="string")return k9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k9(t,e)}}function k9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _rt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Srt(t){if(Array.isArray(t))return t}function Ert(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=xrt(o),l=s[0],u=s.slice(1);if(typeof l=="number"){j9(i.bind(null,u),l);return}i(l),j9(i.bind(null,u));return}NI(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Wv(t){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wv(t)}function R9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function D9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R9(Object(r),!0).forEach(function(n){Xte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xte(t,e,r){return e=Art(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Art(t){var e=Crt(t,"string");return Wv(e)==="symbol"?e:String(e)}function Crt(t,e){if(Wv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Trt=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Nrt=function(e){return e},Irt=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},pg=function(e,r){return Object.keys(r).reduce(function(n,i){return D9(D9({},n),{},Xte({},i,e(i,r[i])))},{})},M9=function(e,r,n){return e.map(function(i){return"".concat(Irt(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Prt(t,e){return krt(t)||jrt(t,e)||Qte(t,e)||Ort()}function Ort(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jrt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function krt(t){if(Array.isArray(t))return t}function Rrt(t){return Lrt(t)||Mrt(t)||Qte(t)||Drt()}function Drt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qte(t,e){if(t){if(typeof t=="string")return II(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return II(t,e)}}function Mrt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lrt(t){if(Array.isArray(t))return II(t)}function II(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var db=1e-4,Zte=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},Jte=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},L9=function(e,r){return function(n){var i=Zte(e,r);return Jte(i,n)}},$rt=function(e,r){return function(n){var i=Zte(e,r),a=[].concat(Rrt(i.map(function(o,s){return o*s}).slice(1)),[0]);return Jte(a,n)}},$9=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=Prt(u,4);i=d[0],a=d[1],o=d[2],s=d[3]}}}var f=L9(i,o),h=L9(a,s),p=$rt(i,o),m=function(x){return x>1?1:x<0?0:x},g=function(x){for(var y=x>1?1:x,w=y,S=0;S<8;++S){var E=f(w)-y,C=p(w);if(Math.abs(E-y)<db||C<db)return h(w);w=m(w-E/C)}return h(w)};return g.isStepper=!1,g},Frt=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(d,f,h){var p=-(d-f)*n,m=h*a,g=h+(p-m)*s/1e3,v=h*s/1e3+d;return Math.abs(v-f)<db&&Math.abs(g)<db?[f,0]:[v,g]};return l.isStepper=!0,l.dt=s,l},Brt=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $9(i);case"spring":return Frt();default:if(i.split("(")[0]==="cubic-bezier")return $9(i)}return typeof i=="function"?i:null};function Hv(t){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hv(t)}function F9(t){return zrt(t)||Vrt(t)||ere(t)||Urt()}function Urt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vrt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zrt(t){if(Array.isArray(t))return OI(t)}function B9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B9(Object(r),!0).forEach(function(n){PI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PI(t,e,r){return e=Wrt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wrt(t){var e=Hrt(t,"string");return Hv(e)==="symbol"?e:String(e)}function Hrt(t,e){if(Hv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Grt(t,e){return Yrt(t)||Krt(t,e)||ere(t,e)||qrt()}function qrt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ere(t,e){if(t){if(typeof t=="string")return OI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OI(t,e)}}function OI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Krt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Yrt(t){if(Array.isArray(t))return t}var fb=function(e,r,n){return e+(r-e)*n},jI=function(e){var r=e.from,n=e.to;return r!==n},Xrt=function t(e,r,n){var i=pg(function(a,o){if(jI(o)){var s=e(o.from,o.to,o.velocity),l=Grt(s,2),u=l[0],d=l[1];return Nn(Nn({},o),{},{from:u,velocity:d})}return o},r);return n<1?pg(function(a,o){return jI(o)?Nn(Nn({},o),{},{velocity:fb(o.velocity,i[a].velocity,n),from:fb(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const Qrt=function(t,e,r,n,i){var a=Trt(t,e),o=a.reduce(function(v,x){return Nn(Nn({},v),{},PI({},x,[t[x],e[x]]))},{}),s=a.reduce(function(v,x){return Nn(Nn({},v),{},PI({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return pg(function(x,y){return y.from},s)},p=function(){return!Object.values(s).filter(jI).length},m=function(x){u||(u=x);var y=x-u,w=y/r.dt;s=Xrt(r,s,w),i(Nn(Nn(Nn({},t),e),h())),u=x,p()||(l=requestAnimationFrame(f))},g=function(x){d||(d=x);var y=(x-d)/n,w=pg(function(E,C){return fb.apply(void 0,F9(C).concat([r(y)]))},o);if(i(Nn(Nn(Nn({},t),e),w)),y<1)l=requestAnimationFrame(f);else{var S=pg(function(E,C){return fb.apply(void 0,F9(C).concat([r(1)]))},o);i(Nn(Nn(Nn({},t),e),S))}};return f=r.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}var Zrt=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Jrt(t,e){if(t==null)return{};var r=ent(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ent(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function MA(t){return int(t)||nnt(t)||rnt(t)||tnt()}function tnt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rnt(t,e){if(t){if(typeof t=="string")return kI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kI(t,e)}}function nnt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function int(t){if(Array.isArray(t))return kI(t)}function kI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function U9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U9(Object(r),!0).forEach(function(n){Mm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mm(t,e,r){return e=tre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ant(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ont(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tre(n.key),n)}}function snt(t,e,r){return e&&ont(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tre(t){var e=lnt(t,"string");return Th(e)==="symbol"?e:String(e)}function lnt(t,e){if(Th(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Th(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cnt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RI(t,e)}function RI(t,e){return RI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RI(t,e)}function unt(t){var e=dnt();return function(){var n=hb(t),i;if(e){var a=hb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return DI(this,i)}}function DI(t,e){if(e&&(Th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MI(t)}function MI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dnt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hb(t){return hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hb(t)}var al=function(t){cnt(r,t);var e=unt(r);function r(n,i){var a;ant(this,r),a=e.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(MI(a)),a.changeStyle=a.changeStyle.bind(MI(a)),!s||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),DI(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},DI(a);a.state={style:l?Mm({},l,u):u}}else a.state={style:{}};return a}return snt(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(s){if(!o){var p={style:l?Mm({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(vrt(i.to,d)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?f:i.to;if(this.state&&h){var v={style:l?Mm({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(v)}this.runAnimation(eo(eo({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=Qrt(o,s,Brt(u),l,this.changeStyle),m=function(){a.stopJSAnimation=p()};this.manager.start([h,d,m,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(g,v,x){if(x===0)return g;var y=v.duration,w=v.easing,S=w===void 0?"ease":w,E=v.style,C=v.properties,A=v.onAnimationEnd,T=x>0?o[x-1]:v,N=C||Object.keys(E);if(typeof S=="function"||S==="spring")return[].concat(MA(g),[a.runJSAnimation.bind(a,{from:T.style,to:E,duration:y,easing:S}),y]);var I=M9(N,y,S),j=eo(eo(eo({},T.style),E),{},{transition:I});return[].concat(MA(g),[j,y,A]).filter(Nrt)};return this.manager.start([l].concat(MA(o.reduce(p,[d,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Ert());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=s?Mm({},s,l):l,v=M9(Object.keys(g),o,u);m.start([d,a,eo(eo({},g),{},{transition:v}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Jrt(i,Zrt),u=b.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!s||u===0||o<=0)return a;var f=function(p){var m=p.props,g=m.style,v=g===void 0?{}:g,x=m.className,y=b.cloneElement(p,eo(eo({},l),{},{style:eo(eo({},v),d),className:x}));return y};return u===1?f(b.Children.only(a)):D.createElement("div",null,b.Children.map(a,function(h){return f(h)}))}}]),r}(b.PureComponent);al.displayName="Animate";al.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};al.propTypes={from:fe.oneOfType([fe.object,fe.string]),to:fe.oneOfType([fe.object,fe.string]),attributeName:fe.string,duration:fe.number,begin:fe.number,easing:fe.oneOfType([fe.string,fe.func]),steps:fe.arrayOf(fe.shape({duration:fe.number.isRequired,style:fe.object.isRequired,easing:fe.oneOfType([fe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),fe.func]),properties:fe.arrayOf("string"),onAnimationEnd:fe.func})),children:fe.oneOfType([fe.node,fe.func]),isActive:fe.bool,canBegin:fe.bool,onAnimationEnd:fe.func,shouldReAnimate:fe.bool,onAnimationStart:fe.func,onAnimationReStart:fe.func};function Gv(t){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gv(t)}function pb(){return pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pb.apply(this,arguments)}function fnt(t,e){return gnt(t)||mnt(t,e)||pnt(t,e)||hnt()}function hnt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pnt(t,e){if(t){if(typeof t=="string")return V9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V9(t,e)}}function V9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mnt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function gnt(t){if(Array.isArray(t))return t}function z9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function W9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z9(Object(r),!0).forEach(function(n){vnt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vnt(t,e,r){return e=ynt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ynt(t){var e=xnt(t,"string");return Gv(e)=="symbol"?e:e+""}function xnt(t,e){if(Gv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H9=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>o?o:a[h];d="M".concat(e,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(r)),d+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+s*f[1])),d+="L ".concat(e+n,",").concat(r+i-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),d+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-s*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var m=Math.min(o,a);d="M ".concat(e,",").concat(r+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+l*m,",").concat(r,`
            L `).concat(e+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+n,",").concat(r+s*m,`
            L `).concat(e+n,",").concat(r+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+n-l*m,",").concat(r+i,`
            L `).concat(e+l*m,",").concat(r+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(r+i-s*m," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},wnt=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),d=Math.max(a,a+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return n>=u&&n<=d&&i>=f&&i<=h}return!1},bnt={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},J3=function(e){var r=W9(W9({},bnt),e),n=b.useRef(),i=b.useState(-1),a=fnt(i,2),o=a[0],s=a[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,g=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,y=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=gt("recharts-rectangle",p);return y?D.createElement(al,{canBegin:o>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:g,animationEasing:m,isActive:y},function(S){var E=S.width,C=S.height,A=S.x,T=S.y;return D.createElement(al,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:x,easing:m},D.createElement("path",pb({},st(r,!0),{className:w,d:H9(A,T,E,C,h),ref:n})))}):D.createElement("path",pb({},st(r,!0),{className:w,d:H9(l,u,d,f,h)}))};function LI(){return LI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LI.apply(this,arguments)}var eR=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=gt("recharts-dot",a);return r===+r&&n===+n&&i===+i?D.createElement("circle",LI({},st(e,!1),Mw(e),{className:o,cx:r,cy:n,r:i})):null};function qv(t){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(t)}var _nt=["x","y","top","left","width","height","className"];function $I(){return $I=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$I.apply(this,arguments)}function G9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Snt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G9(Object(r),!0).forEach(function(n){Ent(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ent(t,e,r){return e=Ant(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ant(t){var e=Cnt(t,"string");return qv(e)=="symbol"?e:e+""}function Cnt(t,e){if(qv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tnt(t,e){if(t==null)return{};var r=Nnt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Nnt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Int=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},Pnt=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,p=h===void 0?0:h,m=e.className,g=Tnt(e,_nt),v=Snt({x:n,y:a,top:s,left:u,width:f,height:p},g);return!Ee(n)||!Ee(a)||!Ee(f)||!Ee(p)||!Ee(s)||!Ee(u)?null:D.createElement("path",$I({},st(v,!0),{className:gt("recharts-cross",m),d:Int(n,a,f,p,s,u)}))},Ont=ul,jnt=Io,knt="[object Boolean]";function Rnt(t){return t===!0||t===!1||jnt(t)&&Ont(t)==knt}var Dnt=Rnt;const Mnt=dt(Dnt);function Kv(t){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kv(t)}function mb(){return mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mb.apply(this,arguments)}function Lnt(t,e){return Unt(t)||Bnt(t,e)||Fnt(t,e)||$nt()}function $nt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fnt(t,e){if(t){if(typeof t=="string")return q9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q9(t,e)}}function q9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Bnt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Unt(t){if(Array.isArray(t))return t}function K9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Y9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K9(Object(r),!0).forEach(function(n){Vnt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vnt(t,e,r){return e=znt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function znt(t){var e=Wnt(t,"string");return Kv(e)=="symbol"?e:e+""}function Wnt(t,e){if(Kv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X9=function(e,r,n,i,a){var o=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-o/2,",").concat(r+a),s+="L ".concat(e+n-o/2-i,",").concat(r+a),s+="L ".concat(e,",").concat(r," Z"),s},Hnt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Gnt=function(e){var r=Y9(Y9({},Hnt),e),n=b.useRef(),i=b.useState(-1),a=Lnt(i,2),o=a[0],s=a[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&s(w)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,g=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=gt("recharts-trapezoid",p);return x?D.createElement(al,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:g,animationEasing:m,isActive:x},function(w){var S=w.upperWidth,E=w.lowerWidth,C=w.height,A=w.x,T=w.y;return D.createElement(al,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:m},D.createElement("path",mb({},st(r,!0),{className:y,d:X9(A,T,S,E,C),ref:n})))}):D.createElement("g",null,D.createElement("path",mb({},st(r,!0),{className:y,d:X9(l,u,d,f,h)})))},qnt=["option","shapeType","propTransformer","activeClassName","isActive"];function Yv(t){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(t)}function Knt(t,e){if(t==null)return{};var r=Ynt(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ynt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Q9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q9(Object(r),!0).forEach(function(n){Xnt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xnt(t,e,r){return e=Qnt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qnt(t){var e=Znt(t,"string");return Yv(e)=="symbol"?e:e+""}function Znt(t,e){if(Yv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jnt(t,e){return gb(gb({},e),t)}function eit(t,e){return t==="symbols"}function Z9(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return D.createElement(J3,r);case"trapezoid":return D.createElement(Gnt,r);case"sector":return D.createElement(Kte,r);case"symbols":if(eit(e))return D.createElement(A3,r);break;default:return null}}function tit(t){return b.isValidElement(t)?t.props:t}function rit(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Jnt:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=Knt(t,qnt),u;if(b.isValidElement(e))u=b.cloneElement(e,gb(gb({},l),tit(e)));else if(Je(e))u=e(l);else if(wFe(e)&&!Mnt(e)){var d=i(e,l);u=D.createElement(Z9,{shapeType:r,elementProps:d})}else{var f=l;u=D.createElement(Z9,{shapeType:r,elementProps:f})}return s?D.createElement(br,{className:o},u):u}function J_(t,e){return e!=null&&"trapezoids"in t.props}function eS(t,e){return e!=null&&"sectors"in t.props}function Xv(t,e){return e!=null&&"points"in t.props}function nit(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function iit(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function ait(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function oit(t,e){var r;return J_(t,e)?r=nit:eS(t,e)?r=iit:Xv(t,e)&&(r=ait),r}function sit(t,e){var r;return J_(t,e)?r="trapezoids":eS(t,e)?r="sectors":Xv(t,e)&&(r="points"),r}function lit(t,e){if(J_(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(eS(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Xv(t,e)?e.payload:{}}function cit(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=sit(r,e),a=lit(r,e),o=n.filter(function(l,u){var d=mh(a,l),f=r.props[i].filter(function(m){var g=oit(r,e);return g(m,e)}),h=r.props[i].indexOf(f[f.length-1]),p=u===h;return d&&p}),s=n.indexOf(o[o.length-1]);return s}function Qv(t){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(t)}function J9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function e7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J9(Object(r),!0).forEach(function(n){rre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rre(t,e,r){return e=uit(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uit(t){var e=dit(t,"string");return Qv(e)=="symbol"?e:e+""}function dit(t,e){if(Qv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fit=["Webkit","Moz","O","ms"],hit=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=fit.reduce(function(a,o){return e7(e7({},a),{},rre({},o+n,r))},{});return i[e]=r,i};function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function vb(){return vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vb.apply(this,arguments)}function t7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t7(Object(r),!0).forEach(function(n){Ji(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ire(n.key),n)}}function mit(t,e,r){return e&&r7(t.prototype,e),r&&r7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function git(t,e,r){return e=yb(e),vit(t,nre()?Reflect.construct(e,r||[],yb(t).constructor):e.apply(t,r))}function vit(t,e){if(e&&(Nh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yit(t)}function yit(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nre=function(){return!!t})()}function yb(t){return yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yb(t)}function xit(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FI(t,e)}function FI(t,e){return FI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},FI(t,e)}function Ji(t,e,r){return e=ire(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ire(t){var e=wit(t,"string");return Nh(e)=="symbol"?e:e+""}function wit(t,e){if(Nh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bit=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=dg().domain(vv(0,l)).range([a,a+o-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},n7=function(e){return e.changedTouches&&!!e.changedTouches.length},Ih=function(t){function e(r){var n;return pit(this,e),n=git(this,e,[r]),Ji(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Ji(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Ji(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),Ji(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ji(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ji(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ji(n,"handleSlideDragStart",function(i){var a=n7(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return xit(e,t),mit(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,d=u.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(o,f),m=e.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:m===d?d:m-m%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=ga(a[n],s,n);return Je(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,g=n.pageX-a;g>0?g=Math.min(g,u+d-f-s,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-s));var v=this.getIndex({startX:o+g,endX:s+g});(v.startIndex!==h||v.endIndex!==p)&&m&&m(v),this.setState({startX:o+g,endX:s+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=n7(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,g=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},y=n.pageX-a;y>0?y=Math.min(y,f+h-p-u):y<0&&(y=Math.max(y,f-u)),x[o]=u+y;var w=this.getIndex(x),S=w.startIndex,E=w.endIndex,C=function(){var T=v.length-1;return o==="startX"&&(s>l?S%g===0:E%g===0)||s<l&&E===T||o==="endX"&&(s>l?E%g===0:S%g===0)||s>l&&E===T};this.setState(Ji(Ji({},o,u+y),"brushMoveStartX",n.pageX),function(){m&&C()&&m(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,d=this.state[i],f=s.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Ji({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,u=n.stroke;return D.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,u=n.children,d=n.padding,f=b.Children.only(u);return f?D.cloneElement(f,{x:i,y:a,width:o,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,v=l.endIndex,x=Math.max(n,this.props.x),y=LA(LA({},st(this.props,!1)),{},{x,y:u,width:d,height:f}),w=p||"Min value: ".concat((a=m[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=m[v])===null||o===void 0?void 0:o.name);return D.createElement(br,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),s.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return D.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:u};return D.createElement(br,{className:"recharts-brush-texts"},D.createElement(Kw,vb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+s/2},m),this.getTextOfTick(i)),D.createElement(Kw,vb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+s/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,g=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,y=h.isTravellerFocused;if(!i||!i.length||!Ee(s)||!Ee(l)||!Ee(u)||!Ee(d)||u<=0||d<=0)return null;var w=gt("recharts-brush",a),S=D.Children.count(o)===1,E=hit("userSelect","none");return D.createElement(br,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||v||x||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,u=Math.floor(a+s/2)-1;return D.createElement(D.Fragment,null,D.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),D.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),D.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return D.isValidElement(n)?a=D.cloneElement(n,i):Je(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return LA({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?bit({data:a,width:o,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}])}(b.PureComponent);Ji(Ih,"displayName","Brush");Ji(Ih,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var _it=Kk;function Sit(t,e){var r;return _it(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var Eit=Sit,Ait=$Q,Cit=dl,Tit=Eit,Nit=si,Iit=cp;function Pit(t,e,r){var n=Nit(t)?Ait:Tit;return r&&Iit(t,e,r)&&(e=void 0),n(t,Cit(e))}var Oit=Pit;const jit=dt(Oit);var es=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r};function kit(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var Rit=kit,Dit=Kk;function Mit(t,e){var r=!0;return Dit(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var Lit=Mit,$it=Rit,Fit=Lit,Bit=dl,Uit=si,Vit=cp;function zit(t,e,r){var n=Uit(t)?$it:Fit;return r&&Vit(t,e,r)&&(e=void 0),n(t,Bit(e))}var Wit=zit;const are=dt(Wit);var Hit=["x","y"];function Zv(t){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zv(t)}function BI(){return BI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BI.apply(this,arguments)}function i7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i7(Object(r),!0).forEach(function(n){Git(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Git(t,e,r){return e=qit(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qit(t){var e=Kit(t,"string");return Zv(e)=="symbol"?e:e+""}function Kit(t,e){if(Zv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yit(t,e){if(t==null)return{};var r=Xit(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xit(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Qit(t,e){var r=t.x,n=t.y,i=Yit(t,Hit),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return vm(vm(vm(vm(vm({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function a7(t){return D.createElement(rit,BI({shapeType:"rectangle",propTransformer:Qit,activeClassName:"recharts-active-bar"},t))}var Zit=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=typeof n=="number";return a?e(n,i):(a||fd(),r)}},Jit=["value","background"],ore;function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function eat(t,e){if(t==null)return{};var r=tat(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tat(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xb(){return xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xb.apply(this,arguments)}function o7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o7(Object(r),!0).forEach(function(n){ql(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lre(n.key),n)}}function nat(t,e,r){return e&&s7(t.prototype,e),r&&s7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function iat(t,e,r){return e=wb(e),aat(t,sre()?Reflect.construct(e,r||[],wb(t).constructor):e.apply(t,r))}function aat(t,e){if(e&&(Ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oat(t)}function oat(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sre=function(){return!!t})()}function wb(t){return wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wb(t)}function sat(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UI(t,e)}function UI(t,e){return UI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},UI(t,e)}function ql(t,e,r){return e=lre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lre(t){var e=lat(t,"string");return Ph(e)=="symbol"?e:e+""}function lat(t,e){if(Ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var K0=function(t){function e(){var r;rat(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=iat(this,e,[].concat(i)),ql(r,"state",{isAnimationFinished:!1}),ql(r,"id",z0("recharts-bar-")),ql(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ql(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return sat(e,t),nat(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,d=st(this.props,!1);return n&&n.map(function(f,h){var p=h===l,m=p?u:o,g=Vr(Vr(Vr({},d),f),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return D.createElement(br,xb({className:"recharts-bar-rectangle"},Lw(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),D.createElement(a7,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return D.createElement(al,{begin:l,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=a.map(function(v,x){var y=h&&h[x];if(y){var w=Ia(y.x,v.x),S=Ia(y.y,v.y),E=Ia(y.width,v.width),C=Ia(y.height,v.height);return Vr(Vr({},v),{},{x:w(m),y:S(m),width:E(m),height:C(m)})}if(o==="horizontal"){var A=Ia(0,v.height),T=A(m);return Vr(Vr({},v),{},{y:v.y+v.height-T,height:T})}var N=Ia(0,v.width),I=N(m);return Vr(Vr({},v),{},{width:I})});return D.createElement(br,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!mh(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=st(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=eat(u,Jit);if(!f)return null;var p=Vr(Vr(Vr(Vr(Vr({},h),{},{fill:"#eee"},f),l),Lw(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return D.createElement(a7,xb({key:"background-bar-".concat(d),option:n.props.background,isActive:d===s},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,d=a.children,f=wo(d,Z_);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(v,x){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:ga(v,x)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return D.createElement(br,m,f.map(function(g){return D.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,m=n.background,g=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,x=gt("recharts-bar",o),y=s&&s.allowDataOverflow,w=l&&l.allowDataOverflow,S=y||w,E=ft(g)?this.id:g;return D.createElement(br,{className:x},y||w?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(E)},D.createElement("rect",{x:y?u:u-f/2,y:w?d:d-h/2,width:y?f:f*2,height:w?h:h*2}))):null,D.createElement(br,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(E,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,E),(!p||v)&&hc.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(b.PureComponent);ore=K0;ql(K0,"displayName","Bar");ql(K0,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!bp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ql(K0,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=Net(n,r);if(!p)return null;var m=e.layout,g=r.type.defaultProps,v=g!==void 0?Vr(Vr({},g),r.props):r.props,x=v.dataKey,y=v.children,w=v.minPointSize,S=m==="horizontal"?o:a,E=u?S.scale.domain():null,C=Met({numericAxis:S}),A=wo(y,Fee),T=f.map(function(N,I){var j,O,P,M,F,B;u?j=Iet(u[d+I],E):(j=ga(N,x),Array.isArray(j)||(j=[C,j]));var W=Zit(w,ore.defaultProps.minPointSize)(j[1],I);if(m==="horizontal"){var $,U=[o.scale(j[0]),o.scale(j[1])],X=U[0],H=U[1];O=l9({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:N,index:I}),P=($=H??X)!==null&&$!==void 0?$:void 0,M=p.size;var Y=X-H;if(F=Number.isNaN(Y)?0:Y,B={x:O,y:o.y,width:M,height:o.height},Math.abs(W)>0&&Math.abs(F)<Math.abs(W)){var Q=mo(F||W)*(Math.abs(W)-Math.abs(F));P-=Q,F+=Q}}else{var ue=[a.scale(j[0]),a.scale(j[1])],de=ue[0],he=ue[1];if(O=de,P=l9({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:N,index:I}),M=he-de,F=p.size,B={x:a.x,y:P,width:a.width,height:F},Math.abs(W)>0&&Math.abs(M)<Math.abs(W)){var pe=mo(M||W)*(Math.abs(W)-Math.abs(M));M+=pe}}return Vr(Vr(Vr({},N),{},{x:O,y:P,width:M,height:F,value:u?j:j[1],payload:N,background:B},A&&A[I]&&A[I].props),{},{tooltipPayload:[Hte(r,N)],tooltipPosition:{x:O+M/2,y:P+F/2}})});return Vr({data:T,layout:m},h)});function Jv(t){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jv(t)}function cat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cre(n.key),n)}}function uat(t,e,r){return e&&l7(t.prototype,e),r&&l7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function c7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c7(Object(r),!0).forEach(function(n){tS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tS(t,e,r){return e=cre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cre(t){var e=dat(t,"string");return Jv(e)=="symbol"?e:e+""}function dat(t,e){if(Jv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fat=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!ra(u,K0);return d.reduce(function(p,m){var g=r[m],v=g.orientation,x=g.domain,y=g.padding,w=y===void 0?{}:y,S=g.mirror,E=g.reversed,C="".concat(v).concat(S?"Mirror":""),A,T,N,I,j;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var O=x[1]-x[0],P=1/0,M=g.categoricalDomain.sort(FHe);if(M.forEach(function(ue,de){de>0&&(P=Math.min((ue||0)-(M[de-1]||0),P))}),Number.isFinite(P)){var F=P/O,B=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(A=F*B/2),g.padding==="no-gap"){var W=ud(e.barCategoryGap,F*B),$=F*B/2;A=$-W-($-W)/B*W}}}i==="xAxis"?T=[n.left+(w.left||0)+(A||0),n.left+n.width-(w.right||0)-(A||0)]:i==="yAxis"?T=l==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(A||0),n.top+n.height-(w.bottom||0)-(A||0)]:T=g.range,E&&(T=[T[1],T[0]]);var U=Cet(g,a,h),X=U.scale,H=U.realScaleType;X.domain(x).range(T),Tet(X);var Y=Det(X,oo(oo({},g),{},{realScaleType:H}));i==="xAxis"?(j=v==="top"&&!S||v==="bottom"&&S,N=n.left,I=f[C]-j*g.height):i==="yAxis"&&(j=v==="left"&&!S||v==="right"&&S,N=f[C]-j*g.width,I=n.top);var Q=oo(oo(oo({},g),Y),{},{realScaleType:H,x:N,y:I,scale:X,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return Q.bandSize=lb(Q,Y),!g.hide&&i==="xAxis"?f[C]+=(j?-1:1)*Q.height:g.hide||(f[C]+=(j?-1:1)*Q.width),oo(oo({},p),{},tS({},m,Q))},{})},ure=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},hat=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return ure({x:r,y:n},{x:i,y:a})},dre=function(){function t(e){cat(this,t),this.scale=e}return uat(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();tS(dre,"EPS",1e-4);var tR=function(e){var r=Object.keys(e).reduce(function(n,i){return oo(oo({},n),{},tS({},i,dre.create(e[i])))},{});return oo(oo({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return gZ(i,function(l,u){return r[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return are(i,function(a,o){return r[o].isInRange(a)})}})};function pat(t){return(t%180+180)%180}var mat=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=pat(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},gat=dl,vat=lp,yat=mp;function xat(t){return function(e,r,n){var i=Object(e);if(!vat(e)){var a=gat(r);e=yat(e),r=function(s){return a(i[s],s,i)}}var o=t(e,r,n);return o>-1?i[a?e[o]:o]:void 0}}var wat=xat,bat=wat,_at=oZ,Sat=bat(_at),Eat=Sat;const Aat=dt(Eat);var Cat=RDe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),rR=b.createContext(void 0),nR=b.createContext(void 0),fre=b.createContext(void 0),hre=b.createContext({}),pre=b.createContext(void 0),mre=b.createContext(0),gre=b.createContext(0),u7=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,d=Cat(a);return D.createElement(rR.Provider,{value:n},D.createElement(nR.Provider,{value:i},D.createElement(hre.Provider,{value:a},D.createElement(fre.Provider,{value:d},D.createElement(pre.Provider,{value:o},D.createElement(mre.Provider,{value:u},D.createElement(gre.Provider,{value:l},s)))))))},Tat=function(){return b.useContext(pre)},vre=function(e){var r=b.useContext(rR);r==null&&fd();var n=r[e];return n==null&&fd(),n},Nat=function(){var e=b.useContext(rR);return Fl(e)},Iat=function(){var e=b.useContext(nR),r=Aat(e,function(n){return are(n.domain,Number.isFinite)});return r||Fl(e)},yre=function(e){var r=b.useContext(nR);r==null&&fd();var n=r[e];return n==null&&fd(),n},Pat=function(){var e=b.useContext(fre);return e},Oat=function(){return b.useContext(hre)},iR=function(){return b.useContext(gre)},aR=function(){return b.useContext(mre)};function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function jat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kat(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wre(n.key),n)}}function Rat(t,e,r){return e&&kat(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dat(t,e,r){return e=bb(e),Mat(t,xre()?Reflect.construct(e,r||[],bb(t).constructor):e.apply(t,r))}function Mat(t,e){if(e&&(Oh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lat(t)}function Lat(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xre=function(){return!!t})()}function bb(t){return bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bb(t)}function $at(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VI(t,e)}function VI(t,e){return VI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VI(t,e)}function d7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function f7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d7(Object(r),!0).forEach(function(n){oR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oR(t,e,r){return e=wre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wre(t){var e=Fat(t,"string");return Oh(e)=="symbol"?e:e+""}function Fat(t,e){if(Oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Bat(t,e){return Wat(t)||zat(t,e)||Vat(t,e)||Uat()}function Uat(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vat(t,e){if(t){if(typeof t=="string")return h7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h7(t,e)}}function h7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zat(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Wat(t){if(Array.isArray(t))return t}function zI(){return zI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zI.apply(this,arguments)}var Hat=function(e,r){var n;return D.isValidElement(e)?n=D.cloneElement(e,r):Je(e)?n=e(r):n=D.createElement("line",zI({},r,{className:"recharts-reference-line-line"})),n},Gat=function(e,r,n,i,a,o,s,l,u){var d=a.x,f=a.y,h=a.width,p=a.height;if(n){var m=u.y,g=e.y.apply(m,{position:o});if(es(u,"discard")&&!e.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?v.reverse():v}if(r){var x=u.x,y=e.x.apply(x,{position:o});if(es(u,"discard")&&!e.x.isInRange(y))return null;var w=[{x:y,y:f+p},{x:y,y:f}];return s==="top"?w.reverse():w}if(i){var S=u.segment,E=S.map(function(C){return e.apply(C,{position:o})});return es(u,"discard")&&jit(E,function(C){return!e.isInRange(C)})?null:E}return null};function qat(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=Tat(),d=vre(i),f=yre(a),h=Pat();if(!u||!h)return null;Us(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=tR({x:d.scale,y:f.scale}),m=sn(e),g=sn(r),v=n&&n.length===2,x=Gat(p,m,g,v,h,t.position,d.orientation,f.orientation,t);if(!x)return null;var y=Bat(x,2),w=y[0],S=w.x,E=w.y,C=y[1],A=C.x,T=C.y,N=es(t,"hidden")?"url(#".concat(u,")"):void 0,I=f7(f7({clipPath:N},st(t,!0)),{},{x1:S,y1:E,x2:A,y2:T});return D.createElement(br,{className:gt("recharts-reference-line",s)},Hat(o,I),Zn.renderCallByParent(t,hat({x1:S,y1:E,x2:A,y2:T})))}var sR=function(t){function e(){return jat(this,e),Dat(this,e,arguments)}return $at(e,t),Rat(e,[{key:"render",value:function(){return D.createElement(qat,this.props)}}])}(D.Component);oR(sR,"displayName","ReferenceLine");oR(sR,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function WI(){return WI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WI.apply(this,arguments)}function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function p7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function m7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p7(Object(r),!0).forEach(function(n){rS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yat(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_re(n.key),n)}}function Xat(t,e,r){return e&&Yat(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qat(t,e,r){return e=_b(e),Zat(t,bre()?Reflect.construct(e,r||[],_b(t).constructor):e.apply(t,r))}function Zat(t,e){if(e&&(jh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jat(t)}function Jat(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bre=function(){return!!t})()}function _b(t){return _b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_b(t)}function eot(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HI(t,e)}function HI(t,e){return HI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},HI(t,e)}function rS(t,e,r){return e=_re(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _re(t){var e=tot(t,"string");return jh(e)=="symbol"?e:e+""}function tot(t,e){if(jh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rot=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=tR({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return es(e,"discard")&&!o.isInRange(s)?null:s},nS=function(t){function e(){return Kat(this,e),Qat(this,e,arguments)}return eot(e,t),Xat(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,u=sn(i),d=sn(a);if(Us(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=rot(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,g=m.shape,v=m.className,x=es(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=m7(m7({clipPath:x},st(this.props,!0)),{},{cx:h,cy:p});return D.createElement(br,{className:gt("recharts-reference-dot",v)},e.renderDot(g,y),Zn.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(D.Component);rS(nS,"displayName","ReferenceDot");rS(nS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});rS(nS,"renderDot",function(t,e){var r;return D.isValidElement(t)?r=D.cloneElement(t,e):Je(t)?r=t(e):r=D.createElement(eR,WI({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function GI(){return GI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GI.apply(this,arguments)}function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function g7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function v7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g7(Object(r),!0).forEach(function(n){iS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function not(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iot(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ere(n.key),n)}}function aot(t,e,r){return e&&iot(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oot(t,e,r){return e=Sb(e),sot(t,Sre()?Reflect.construct(e,r||[],Sb(t).constructor):e.apply(t,r))}function sot(t,e){if(e&&(kh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lot(t)}function lot(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sre=function(){return!!t})()}function Sb(t){return Sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sb(t)}function cot(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qI(t,e)}function qI(t,e){return qI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qI(t,e)}function iS(t,e,r){return e=Ere(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ere(t){var e=uot(t,"string");return kh(e)=="symbol"?e:e+""}function uot(t,e){if(kh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dot=function(e,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=tR({x:d.scale,y:f.scale}),p={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return es(a,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:ure(p,m)},aS=function(t){function e(){return not(this,e),oot(this,e,arguments)}return cot(e,t),aot(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;Us(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=sn(i),h=sn(a),p=sn(o),m=sn(s),g=this.props.shape;if(!f&&!h&&!p&&!m&&!g)return null;var v=dot(f,h,p,m,this.props);if(!v&&!g)return null;var x=es(this.props,"hidden")?"url(#".concat(d,")"):void 0;return D.createElement(br,{className:gt("recharts-reference-area",l)},e.renderRect(g,v7(v7({clipPath:x},st(this.props,!0)),v)),Zn.renderCallByParent(this.props,v))}}])}(D.Component);iS(aS,"displayName","ReferenceArea");iS(aS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});iS(aS,"renderRect",function(t,e){var r;return D.isValidElement(t)?r=D.cloneElement(t,e):Je(t)?r=t(e):r=D.createElement(J3,GI({},e,{className:"recharts-reference-area-rect"})),r});function Are(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function fot(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return mat(n,r)}function hot(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function Eb(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function pot(t,e){return Are(t,e+1)}function mot(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,s=e.end,l=0,u=1,d=o,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:Are(n,u)};var g=l,v,x=function(){return v===void 0&&(v=r(m,g)),v},y=m.coordinate,w=l===0||Eb(t,y,x,d,s);w||(l=0,d=o,u+=1),w&&(d=y+t*(x()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function e0(t){"@babel/helpers - typeof";return e0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e0(t)}function y7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y7(Object(r),!0).forEach(function(n){got(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function got(t,e,r){return e=vot(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vot(t){var e=yot(t,"string");return e0(e)=="symbol"?e:e+""}function yot(t,e){if(e0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(e0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xot(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(h){var p=a[h],m,g=function(){return m===void 0&&(m=r(p,h)),m};if(h===o-1){var v=t*(p.coordinate+t*g()/2-l);a[h]=p=qn(qn({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else a[h]=p=qn(qn({},p),{},{tickCoord:p.coordinate});var x=Eb(t,p.tickCoord,g,s,l);x&&(l=p.tickCoord-t*(g()/2+i),a[h]=qn(qn({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function wot(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var d=n[s-1],f=r(d,s-1),h=t*(d.coordinate+t*f/2-u);o[s-1]=d=qn(qn({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var p=Eb(t,d.tickCoord,function(){return f},l,u);p&&(u=d.tickCoord-t*(f/2+i),o[s-1]=qn(qn({},d),{},{isShow:!0}))}for(var m=a?s-1:s,g=function(y){var w=o[y],S,E=function(){return S===void 0&&(S=r(w,y)),S};if(y===0){var C=t*(w.coordinate-t*E()/2-l);o[y]=w=qn(qn({},w),{},{tickCoord:C<0?w.coordinate-C*t:w.coordinate})}else o[y]=w=qn(qn({},w),{},{tickCoord:w.coordinate});var A=Eb(t,w.tickCoord,E,l,u);A&&(l=w.tickCoord+t*(E()/2+i),o[y]=qn(qn({},w),{},{isShow:!0}))},v=0;v<m;v++)g(v);return o}function lR(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(Ee(l)||bp.isSsr)return pot(i,typeof l=="number"&&Ee(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=d&&p==="width"?ug(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(w,S){var E=Je(u)?u(w.value,S):w.value;return p==="width"?fot(ug(E,{fontSize:e,letterSpacing:r}),m,f):ug(E,{fontSize:e,letterSpacing:r})[p]},v=i.length>=2?mo(i[1].coordinate-i[0].coordinate):1,x=hot(a,v,p);return l==="equidistantPreserveStart"?mot(v,x,g,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=wot(v,x,g,i,o,l==="preserveStartEnd"):h=xot(v,x,g,i,o),h.filter(function(y){return y.isShow}))}var bot=["viewBox"],_ot=["viewBox"],Sot=["ticks"];function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function vf(){return vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vf.apply(this,arguments)}function x7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x7(Object(r),!0).forEach(function(n){cR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $A(t,e){if(t==null)return{};var r=Eot(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Eot(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Aot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Tre(n.key),n)}}function Cot(t,e,r){return e&&w7(t.prototype,e),r&&w7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tot(t,e,r){return e=Ab(e),Not(t,Cre()?Reflect.construct(e,r||[],Ab(t).constructor):e.apply(t,r))}function Not(t,e){if(e&&(Rh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iot(t)}function Iot(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cre=function(){return!!t})()}function Ab(t){return Ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ab(t)}function Pot(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KI(t,e)}function KI(t,e){return KI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KI(t,e)}function cR(t,e,r){return e=Tre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tre(t){var e=Oot(t,"string");return Rh(e)=="symbol"?e:e+""}function Oot(t,e){if(Rh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ap=function(t){function e(r){var n;return Aot(this,e),n=Tot(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Pot(e,t),Cot(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=$A(n,bot),s=this.props,l=s.viewBox,u=$A(s,_ot);return!Df(a,l)||!Df(o,u)||!Df(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,m,g,v,x,y,w=f?-1:1,S=n.tickSize||d,E=Ee(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=m=n.coordinate,v=o+ +!f*l,g=v-w*S,y=g-w*h,x=E;break;case"left":g=v=n.coordinate,m=a+ +!f*s,p=m-w*S,x=p-w*h,y=E;break;case"right":g=v=n.coordinate,m=a+ +f*s,p=m+w*S,x=p+w*h,y=E;break;default:p=m=n.coordinate,v=o+ +f*l,g=v+w*S,y=g+w*h,x=E;break}return{line:{x1:p,y1:g,x2:m,y2:v},tick:{x,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,f=hi(hi(hi({},st(this.props,!1)),st(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=hi(hi({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=hi(hi({},f),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return D.createElement("line",vf({},f,{className:gt("recharts-cartesian-axis-line",Da(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,p=lR(hi(hi({},this.props),{},{ticks:n}),i,a),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=st(this.props,!1),x=st(d,!1),y=hi(hi({},v),{},{fill:"none"},st(l,!1)),w=p.map(function(S,E){var C=o.getTickLineCoord(S),A=C.line,T=C.tick,N=hi(hi(hi(hi({textAnchor:m,verticalAnchor:g},v),{},{stroke:"none",fill:u},x),T),{},{index:E,payload:S,visibleTicksCount:p.length,tickFormatter:f});return D.createElement(br,vf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Lw(o.props,S,E)),l&&D.createElement("line",vf({},y,A,{className:gt("recharts-cartesian-axis-tick-line",Da(l,"className"))})),d&&e.renderTickItem(d,N,"".concat(Je(f)?f(S.value,E):S.value).concat(h||"")))});return D.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=$A(f,Sot),m=h;return Je(l)&&(m=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!m||!m.length?null:D.createElement(br,{className:gt("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Zn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return D.isValidElement(n)?o=D.cloneElement(n,i):Je(n)?o=n(i):o=D.createElement(Kw,vf({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(b.Component);cR(Ap,"displayName","CartesianAxis");cR(Ap,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var jot=["x1","y1","x2","y2","key"],kot=["offset"];function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function b7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b7(Object(r),!0).forEach(function(n){Rot(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rot(t,e,r){return e=Dot(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dot(t){var e=Mot(t,"string");return hd(e)=="symbol"?e:e+""}function Mot(t,e){if(hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nu(){return Nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nu.apply(this,arguments)}function _7(t,e){if(t==null)return{};var r=Lot(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lot(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var $ot=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return D.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Nre(t,e){var r;if(D.isValidElement(t))r=D.cloneElement(t,e);else if(Je(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=_7(e,jot),u=st(l,!1);u.offset;var d=_7(u,kot);r=D.createElement("line",Nu({},d,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function Fot(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Jn(Jn({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(l),index:l});return Nre(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Bot(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Jn(Jn({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(l),index:l});return Nre(i,u)});return D.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Uot(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?i+o-h:d[p+1]-h;if(g<=0)return null;var v=p%e.length;return D.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:g,width:a,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Vot(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?a+s-h:d[p+1]-h;if(g<=0)return null;var v=p%n.length;return D.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:g,height:l,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return D.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var zot=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return zte(lR(Jn(Jn(Jn({},Ap.defaultProps),n),{},{ticks:Rs(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},Wot=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return zte(lR(Jn(Jn(Jn({},Ap.defaultProps),n),{},{ticks:Rs(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},Vd={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ire(t){var e,r,n,i,a,o,s=iR(),l=aR(),u=Oat(),d=Jn(Jn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Vd.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Vd.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Vd.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Vd.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Vd.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Vd.verticalFill,x:Ee(t.x)?t.x:u.left,y:Ee(t.y)?t.y:u.top,width:Ee(t.width)?t.width:u.width,height:Ee(t.height)?t.height:u.height}),f=d.x,h=d.y,p=d.width,m=d.height,g=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,y=Nat(),w=Iat();if(!Ee(p)||p<=0||!Ee(m)||m<=0||!Ee(f)||f!==+f||!Ee(h)||h!==+h)return null;var S=d.verticalCoordinatesGenerator||zot,E=d.horizontalCoordinatesGenerator||Wot,C=d.horizontalPoints,A=d.verticalPoints;if((!C||!C.length)&&Je(E)){var T=v&&v.length,N=E({yAxis:w?Jn(Jn({},w),{},{ticks:T?v:w.ticks}):void 0,width:s,height:l,offset:u},T?!0:g);Us(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(hd(N),"]")),Array.isArray(N)&&(C=N)}if((!A||!A.length)&&Je(S)){var I=x&&x.length,j=S({xAxis:y?Jn(Jn({},y),{},{ticks:I?x:y.ticks}):void 0,width:s,height:l,offset:u},I?!0:g);Us(Array.isArray(j),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(hd(j),"]")),Array.isArray(j)&&(A=j)}return D.createElement("g",{className:"recharts-cartesian-grid"},D.createElement($ot,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),D.createElement(Fot,Nu({},d,{offset:u,horizontalPoints:C,xAxis:y,yAxis:w})),D.createElement(Bot,Nu({},d,{offset:u,verticalPoints:A,xAxis:y,yAxis:w})),D.createElement(Uot,Nu({},d,{horizontalPoints:C})),D.createElement(Vot,Nu({},d,{verticalPoints:A})))}Ire.displayName="CartesianGrid";var Hot=["layout","type","stroke","connectNulls","isRange","ref"],Got=["key"],Pre;function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function Ore(t,e){if(t==null)return{};var r=qot(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qot(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Iu(){return Iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Iu.apply(this,arguments)}function S7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S7(Object(r),!0).forEach(function(n){zo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kre(n.key),n)}}function Yot(t,e,r){return e&&E7(t.prototype,e),r&&E7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xot(t,e,r){return e=Cb(e),Qot(t,jre()?Reflect.construct(e,r||[],Cb(t).constructor):e.apply(t,r))}function Qot(t,e){if(e&&(Dh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zot(t)}function Zot(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jre=function(){return!!t})()}function Cb(t){return Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cb(t)}function Jot(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YI(t,e)}function YI(t,e){return YI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YI(t,e)}function zo(t,e,r){return e=kre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kre(t){var e=est(t,"string");return Dh(e)=="symbol"?e:e+""}function est(t,e){if(Dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xc=function(t){function e(){var r;Kot(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Xot(this,e,[].concat(i)),zo(r,"state",{isAnimationFinished:!0}),zo(r,"id",z0("recharts-area-")),zo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Je(o)&&o()}),zo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Je(o)&&o()}),r}return Jot(e,t),Yot(e,[{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,u=l.dot,d=l.points,f=l.dataKey,h=st(this.props,!1),p=st(u,!0),m=d.map(function(v,x){var y=Nl(Nl(Nl({key:"dot-".concat(x),r:3},h),p),{},{index:x,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return e.renderDotItem(u,y)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return D.createElement(br,Iu({className:"recharts-area-dots"},g),m)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].x,u=o[o.length-1].x,d=n*Math.abs(l-u),f=Gl(o.map(function(h){return h.y||0}));return Ee(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Gl(a.map(function(h){return h.y||0})),f)),Ee(f)?D.createElement("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].y,u=o[o.length-1].y,d=n*Math.abs(l-u),f=Gl(o.map(function(h){return h.x||0}));return Ee(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Gl(a.map(function(h){return h.x||0})),f)),Ee(f)?D.createElement("rect",{x:0,y:l<u?l:l-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,o){var s=this.props,l=s.layout,u=s.type,d=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var p=Ore(s,Hot);return D.createElement(br,{clipPath:a?"url(#clipPath-".concat(o,")"):null},D.createElement(hg,Iu({},st(p,!0),{points:n,connectNulls:f,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&D.createElement(hg,Iu({},st(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&D.createElement(hg,Iu({},st(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,l=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,m=this.state,g=m.prevPoints,v=m.prevBaseLine;return D.createElement(al,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var y=x.t;if(g){var w=g.length/s.length,S=s.map(function(T,N){var I=Math.floor(N*w);if(g[I]){var j=g[I],O=Ia(j.x,T.x),P=Ia(j.y,T.y);return Nl(Nl({},T),{},{x:O(y),y:P(y)})}return T}),E;if(Ee(l)&&typeof l=="number"){var C=Ia(v,l);E=C(y)}else if(ft(l)||wp(l)){var A=Ia(v,0);E=A(y)}else E=l.map(function(T,N){var I=Math.floor(N*w);if(v[I]){var j=v[I],O=Ia(j.x,T.x),P=Ia(j.y,T.y);return Nl(Nl({},T),{},{x:O(y),y:P(y)})}return T});return a.renderAreaStatically(S,E,n,i)}return D.createElement(br,null,D.createElement("defs",null,D.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(y))),D.createElement(br,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,l,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,o=a.points,s=a.baseLine,l=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&o&&o.length&&(!d&&h>0||!mh(d,o)||!mh(f,s))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,p=i.width,m=i.height,g=i.isAnimationActive,v=i.id;if(a||!s||!s.length)return null;var x=this.state.isAnimationFinished,y=s.length===1,w=gt("recharts-area",l),S=f&&f.allowDataOverflow,E=h&&h.allowDataOverflow,C=S||E,A=ft(v)?this.id:v,T=(n=st(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},N=T.r,I=N===void 0?3:N,j=T.strokeWidth,O=j===void 0?2:j,P=KHe(o)?o:{},M=P.clipDot,F=M===void 0?!0:M,B=I*2+O;return D.createElement(br,{className:w},S||E?D.createElement("defs",null,D.createElement("clipPath",{id:"clipPath-".concat(A)},D.createElement("rect",{x:S?d:d-p/2,y:E?u:u-m/2,width:S?p:p*2,height:E?m:m*2})),!F&&D.createElement("clipPath",{id:"clipPath-dots-".concat(A)},D.createElement("rect",{x:d-B/2,y:u-B/2,width:p+B,height:m+B}))):null,y?null:this.renderArea(C,A),(o||y)&&this.renderDots(C,F,A),(!g||x)&&hc.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(b.PureComponent);Pre=Xc;zo(Xc,"displayName","Area");zo(Xc,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!bp.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});zo(Xc,"getBaseValue",function(t,e,r,n){var i=t.layout,a=t.baseValue,o=e.props.baseValue,s=o??a;if(Ee(s)&&typeof s=="number")return s;var l=i==="horizontal"?n:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});zo(Xc,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,s=t.bandSize,l=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=e.layout,m=u&&u.length,g=Pre.getBaseValue(e,r,n,i),v=p==="horizontal",x=!1,y=f.map(function(S,E){var C;m?C=u[d+E]:(C=ga(S,l),Array.isArray(C)?x=!0:C=[g,C]);var A=C[1]==null||m&&ga(S,l)==null;return v?{x:s9({axis:n,ticks:a,bandSize:s,entry:S,index:E}),y:A?null:i.scale(C[1]),value:C,payload:S}:{x:A?null:n.scale(C[1]),y:s9({axis:i,ticks:o,bandSize:s,entry:S,index:E}),value:C,payload:S}}),w;return m||x?w=y.map(function(S){var E=Array.isArray(S.value)?S.value[0]:null;return v?{x:S.x,y:E!=null&&S.y!=null?i.scale(E):null}:{x:E!=null?n.scale(E):null,y:S.y}}):w=v?i.scale(g):n.scale(g),Nl({points:y,baseLine:w,layout:p,isRange:x},h)});zo(Xc,"renderDotItem",function(t,e){var r;if(D.isValidElement(t))r=D.cloneElement(t,e);else if(Je(t))r=t(e);else{var n=gt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=Ore(e,Got);r=D.createElement(eR,Iu({},a,{key:i,className:n}))}return r});function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function tst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rst(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mre(n.key),n)}}function nst(t,e,r){return e&&rst(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ist(t,e,r){return e=Tb(e),ast(t,Rre()?Reflect.construct(e,r||[],Tb(t).constructor):e.apply(t,r))}function ast(t,e){if(e&&(Mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ost(t)}function ost(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rre=function(){return!!t})()}function Tb(t){return Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tb(t)}function sst(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XI(t,e)}function XI(t,e){return XI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XI(t,e)}function Dre(t,e,r){return e=Mre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mre(t){var e=lst(t,"string");return Mh(e)=="symbol"?e:e+""}function lst(t,e){if(Mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function QI(){return QI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QI.apply(this,arguments)}function cst(t){var e=t.xAxisId,r=iR(),n=aR(),i=vre(e);return i==null?null:D.createElement(Ap,QI({},i,{className:gt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Rs(o,!0)}}))}var oS=function(t){function e(){return tst(this,e),ist(this,e,arguments)}return sst(e,t),nst(e,[{key:"render",value:function(){return D.createElement(cst,this.props)}}])}(D.Component);Dre(oS,"displayName","XAxis");Dre(oS,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function ust(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dst(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fre(n.key),n)}}function fst(t,e,r){return e&&dst(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hst(t,e,r){return e=Nb(e),pst(t,Lre()?Reflect.construct(e,r||[],Nb(t).constructor):e.apply(t,r))}function pst(t,e){if(e&&(Lh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mst(t)}function mst(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lre=function(){return!!t})()}function Nb(t){return Nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nb(t)}function gst(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZI(t,e)}function ZI(t,e){return ZI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZI(t,e)}function $re(t,e,r){return e=Fre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fre(t){var e=vst(t,"string");return Lh(e)=="symbol"?e:e+""}function vst(t,e){if(Lh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function JI(){return JI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JI.apply(this,arguments)}var yst=function(e){var r=e.yAxisId,n=iR(),i=aR(),a=yre(r);return a==null?null:D.createElement(Ap,JI({},a,{className:gt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return Rs(s,!0)}}))},sS=function(t){function e(){return ust(this,e),hst(this,e,arguments)}return gst(e,t),fst(e,[{key:"render",value:function(){return D.createElement(yst,this.props)}}])}(D.Component);$re(sS,"displayName","YAxis");$re(sS,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function A7(t){return _st(t)||bst(t)||wst(t)||xst()}function xst(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wst(t,e){if(t){if(typeof t=="string")return eP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eP(t,e)}}function bst(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _st(t){if(Array.isArray(t))return eP(t)}function eP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var tP=function(e,r,n,i,a){var o=wo(e,sR),s=wo(e,nS),l=[].concat(A7(o),A7(s)),u=wo(e,aS),d="".concat(i,"Id"),f=i[0],h=r;if(l.length&&(h=l.reduce(function(g,v){if(v.props[d]===n&&es(v.props,"extendDomain")&&Ee(v.props[f])){var x=v.props[f];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},h)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");h=u.reduce(function(g,v){if(v.props[d]===n&&es(v.props,"extendDomain")&&Ee(v.props[p])&&Ee(v.props[m])){var x=v.props[p],y=v.props[m];return[Math.min(g[0],x,y),Math.max(g[1],x,y)]}return g},h)}return a&&a.length&&(h=a.reduce(function(g,v){return Ee(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},Bre={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function a(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||l,h),m=r?r+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,p,m){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],x=arguments.length,y,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,m),!0}for(w=1,y=new Array(x-1);w<x;w++)y[w-1]=arguments[w];v.fn.apply(v.context,y)}else{var S=v.length,E;for(w=0;w<S;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),x){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!y)for(E=1,y=new Array(x-1);E<x;E++)y[E-1]=arguments[E];v[w].fn.apply(v[w].context,y)}}return!0},s.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&o(this,p);else{for(var g=0,v=[],x=m.length;g<x;g++)(m[g].fn!==d||h&&!m[g].once||f&&m[g].context!==f)&&v.push(m[g]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(Bre);var Sst=Bre.exports;const Est=dt(Sst);var FA=new Est,BA="recharts.syncMouseEvents";function t0(t){"@babel/helpers - typeof";return t0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t0(t)}function Ast(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cst(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ure(n.key),n)}}function Tst(t,e,r){return e&&Cst(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UA(t,e,r){return e=Ure(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ure(t){var e=Nst(t,"string");return t0(e)=="symbol"?e:e+""}function Nst(t,e){if(t0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(t0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ist=function(){function t(){Ast(this,t),UA(this,"activeIndex",0),UA(this,"coordinateList",[]),UA(this,"layout","horizontal")}return Tst(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,u=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+u,h=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Pst(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&Ee(n)&&Ee(i))return!0}return!1}function Ost(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function Vre(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=kn(e,r,n,i),s=kn(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function jst(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=kn(s,l,u,f),p=kn(s,l,d,f);n=h.x,i=h.y,a=p.x,o=p.y}else return Vre(e);return[{x:n,y:i},{x:a,y:o}]}function r0(t){"@babel/helpers - typeof";return r0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r0(t)}function C7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function g1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C7(Object(r),!0).forEach(function(n){kst(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kst(t,e,r){return e=Rst(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rst(t){var e=Dst(t,"string");return r0(e)=="symbol"?e:e+""}function Dst(t,e){if(r0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(r0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mst(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var m,g=hg;if(h==="ScatterChart")m=o,g=Pnt;else if(h==="BarChart")m=Ost(f,o,l,d),g=J3;else if(f==="radial"){var v=Vre(o),x=v.cx,y=v.cy,w=v.radius,S=v.startAngle,E=v.endAngle;m={cx:x,cy:y,startAngle:S,endAngle:E,innerRadius:w,outerRadius:w},g=Kte}else m={points:jst(f,o,l)},g=hg;var C=g1(g1(g1(g1({stroke:"#ccc",pointerEvents:"none"},l),m),st(p,!1)),{},{payload:s,payloadIndex:u,className:gt("recharts-tooltip-cursor",p.className)});return b.isValidElement(p)?b.cloneElement(p,C):b.createElement(g,C)}var Lst=["item"],$st=["children","className","width","height","style","compact","title","desc"];function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function yf(){return yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yf.apply(this,arguments)}function T7(t,e){return Ust(t)||Bst(t,e)||Wre(t,e)||Fst()}function Fst(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bst(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Ust(t){if(Array.isArray(t))return t}function N7(t,e){if(t==null)return{};var r=Vst(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vst(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wst(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Hre(n.key),n)}}function Hst(t,e,r){return e&&Wst(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gst(t,e,r){return e=Ib(e),qst(t,zre()?Reflect.construct(e,r||[],Ib(t).constructor):e.apply(t,r))}function qst(t,e){if(e&&($h(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kst(t)}function Kst(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zre=function(){return!!t})()}function Ib(t){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ib(t)}function Yst(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rP(t,e)}function rP(t,e){return rP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rP(t,e)}function Fh(t){return Zst(t)||Qst(t)||Wre(t)||Xst()}function Xst(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wre(t,e){if(t){if(typeof t=="string")return nP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nP(t,e)}}function Qst(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zst(t){if(Array.isArray(t))return nP(t)}function nP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function I7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function se(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I7(Object(r),!0).forEach(function(n){Ge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ge(t,e,r){return e=Hre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hre(t){var e=Jst(t,"string");return $h(e)=="symbol"?e:e+""}function Jst(t,e){if($h(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var elt={xAxis:["bottom","top"],yAxis:["left","right"]},tlt={width:"100%",height:"100%"},Gre={x:0,y:0};function v1(t){return t}var rlt=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},nlt=function(e,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return se(se(se({},i),kn(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return se(se(se({},i),kn(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return Gre},lS=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Fh(s),Fh(u)):s},[]);return o.length>0?o:e&&e.length&&Ee(i)&&Ee(a)?e.slice(i,a+1):[]};function qre(t){return t==="number"?[0,"auto"]:void 0}var iP=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,s=lS(r,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;h=Dw(p,o.dataKey,i)}else h=f&&f[n]||s[n];return h?[].concat(Fh(l),[Hte(u,h)]):l},[])},P7=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=rlt(a,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=xet(o,s,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=iP(e,r,d,f),p=nlt(n,s,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},ilt=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,p=Vte(d,a);return n.reduce(function(m,g){var v,x=g.type.defaultProps!==void 0?se(se({},g.type.defaultProps),g.props):g.props,y=x.type,w=x.dataKey,S=x.allowDataOverflow,E=x.allowDuplicatedCategory,C=x.scale,A=x.ticks,T=x.includeHidden,N=x[o];if(m[N])return m;var I=lS(e.data,{graphicalItems:i.filter(function(Y){var Q,ue=o in Y.props?Y.props[o]:(Q=Y.type.defaultProps)===null||Q===void 0?void 0:Q[o];return ue===N}),dataStartIndex:l,dataEndIndex:u}),j=I.length,O,P,M;Pst(x.domain,S,y)&&(O=SI(x.domain,null,S),p&&(y==="number"||C!=="auto")&&(M=fg(I,w,"category")));var F=qre(y);if(!O||O.length===0){var B,W=(B=x.domain)!==null&&B!==void 0?B:F;if(w){if(O=fg(I,w,y),y==="category"&&p){var $=$He(O);E&&$?(P=O,O=vv(0,j)):E||(O=d9(W,O,g).reduce(function(Y,Q){return Y.indexOf(Q)>=0?Y:[].concat(Fh(Y),[Q])},[]))}else if(y==="category")E?O=O.filter(function(Y){return Y!==""&&!ft(Y)}):O=d9(W,O,g).reduce(function(Y,Q){return Y.indexOf(Q)>=0||Q===""||ft(Q)?Y:[].concat(Fh(Y),[Q])},[]);else if(y==="number"){var U=Aet(I,i.filter(function(Y){var Q,ue,de=o in Y.props?Y.props[o]:(Q=Y.type.defaultProps)===null||Q===void 0?void 0:Q[o],he="hide"in Y.props?Y.props.hide:(ue=Y.type.defaultProps)===null||ue===void 0?void 0:ue.hide;return de===N&&(T||!he)}),w,a,d);U&&(O=U)}p&&(y==="number"||C!=="auto")&&(M=fg(I,w,"category"))}else p?O=vv(0,j):s&&s[N]&&s[N].hasStack&&y==="number"?O=h==="expand"?[0,1]:Wte(s[N].stackGroups,l,u):O=Ute(I,i.filter(function(Y){var Q=o in Y.props?Y.props[o]:Y.type.defaultProps[o],ue="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return Q===N&&(T||!ue)}),y,d,!0);if(y==="number")O=tP(f,O,N,a,A),W&&(O=SI(W,O,S));else if(y==="category"&&W){var X=W,H=O.every(function(Y){return X.indexOf(Y)>=0});H&&(O=X)}}return se(se({},m),{},Ge({},N,se(se({},x),{},{axisType:a,domain:O,categoricalDomain:M,duplicateDomain:P,originalDomain:(v=x.domain)!==null&&v!==void 0?v:F,isCategorical:p,layout:d})))},{})},alt=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=lS(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),p=h.length,m=Vte(d,a),g=-1;return n.reduce(function(v,x){var y=x.type.defaultProps!==void 0?se(se({},x.type.defaultProps),x.props):x.props,w=y[o],S=qre("number");if(!v[w]){g++;var E;return m?E=vv(0,p):s&&s[w]&&s[w].hasStack?(E=Wte(s[w].stackGroups,l,u),E=tP(f,E,w,a)):(E=SI(S,Ute(h,n.filter(function(C){var A,T,N=o in C.props?C.props[o]:(A=C.type.defaultProps)===null||A===void 0?void 0:A[o],I="hide"in C.props?C.props.hide:(T=C.type.defaultProps)===null||T===void 0?void 0:T.hide;return N===w&&!I}),"number",d),i.defaultProps.allowDataOverflow),E=tP(f,E,w,a)),se(se({},v),{},Ge({},w,se(se({axisType:a},i.defaultProps),{},{hide:!0,orientation:Da(elt,"".concat(a,".").concat(g%2),null),domain:E,originalDomain:S,isCategorical:m,layout:d})))}return v},{})},olt=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=wo(d,a),p={};return h&&h.length?p=ilt(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(p=alt(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},slt=function(e){var r=Fl(e),n=Rs(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:h_(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:lb(r,n)}},O7=function(e){var r=e.children,n=e.defaultShowTooltip,i=ra(r,Ih),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},llt=function(e){return!e||!e.length?!1:e.some(function(r){var n=Bs(r&&r.type);return n&&n.indexOf("Bar")>=0})},j7=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},clt=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=ra(f,Ih),m=ra(f,Mf),g=Object.keys(l).reduce(function(E,C){var A=l[C],T=A.orientation;return!A.mirror&&!A.hide?se(se({},E),{},Ge({},T,E[T]+A.width)):E},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(E,C){var A=o[C],T=A.orientation;return!A.mirror&&!A.hide?se(se({},E),{},Ge({},T,Da(E,"".concat(T))+A.height)):E},{top:h.top||0,bottom:h.bottom||0}),x=se(se({},v),g),y=x.bottom;p&&(x.bottom+=p.props.height||Ih.defaultProps.height),m&&r&&(x=_et(x,i,n,r));var w=u-x.left-x.right,S=d-x.top-x.bottom;return se(se({brushBottom:y},x),{},{width:Math.max(w,0),height:Math.max(S,0)})},ult=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},dlt=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(x,y){var w=y.graphicalItems,S=y.stackGroups,E=y.offset,C=y.updateId,A=y.dataStartIndex,T=y.dataEndIndex,N=x.barSize,I=x.layout,j=x.barGap,O=x.barCategoryGap,P=x.maxBarSize,M=j7(I),F=M.numericAxisName,B=M.cateAxisName,W=llt(w),$=[];return w.forEach(function(U,X){var H=lS(x.data,{graphicalItems:[U],dataStartIndex:A,dataEndIndex:T}),Y=U.type.defaultProps!==void 0?se(se({},U.type.defaultProps),U.props):U.props,Q=Y.dataKey,ue=Y.maxBarSize,de=Y["".concat(F,"Id")],he=Y["".concat(B,"Id")],pe={},J=l.reduce(function(it,yr){var Wt=y["".concat(yr.axisType,"Map")],Ht=Y["".concat(yr.axisType,"Id")];Wt&&Wt[Ht]||yr.axisType==="zAxis"||fd();var En=Wt[Ht];return se(se({},it),{},Ge(Ge({},yr.axisType,En),"".concat(yr.axisType,"Ticks"),Rs(En)))},pe),re=J[B],L=J["".concat(B,"Ticks")],q=S&&S[de]&&S[de].hasStack&&Let(U,S[de].stackGroups),G=Bs(U.type).indexOf("Bar")>=0,ye=lb(re,L),me=[],ie=W&&wet({barSize:N,stackGroups:S,totalSize:ult(J,B)});if(G){var ne,Oe,Z=ft(ue)?P:ue,le=(ne=(Oe=lb(re,L,!0))!==null&&Oe!==void 0?Oe:Z)!==null&&ne!==void 0?ne:0;me=bet({barGap:j,barCategoryGap:O,bandSize:le!==ye?le:ye,sizeList:ie[he],maxBarSize:Z}),le!==ye&&(me=me.map(function(it){return se(se({},it),{},{position:se(se({},it.position),{},{offset:it.position.offset-le/2})})}))}var xe=U&&U.type&&U.type.getComposedData;xe&&$.push({props:se(se({},xe(se(se({},J),{},{displayedData:H,props:x,dataKey:Q,item:U,bandSize:ye,barPosition:me,offset:E,stackedData:q,layout:I,dataStartIndex:A,dataEndIndex:T}))),{},Ge(Ge(Ge({key:U.key||"item-".concat(X)},F,J[F]),B,J[B]),"animationId",C)),childIndex:QHe(U,x.children),item:U})}),$},p=function(x,y){var w=x.props,S=x.dataStartIndex,E=x.dataEndIndex,C=x.updateId;if(!j$({props:w}))return null;var A=w.children,T=w.layout,N=w.stackOffset,I=w.data,j=w.reverseStackOrder,O=j7(T),P=O.numericAxisName,M=O.cateAxisName,F=wo(A,n),B=Ret(I,F,"".concat(P,"Id"),"".concat(M,"Id"),N,j),W=l.reduce(function(Y,Q){var ue="".concat(Q.axisType,"Map");return se(se({},Y),{},Ge({},ue,olt(w,se(se({},Q),{},{graphicalItems:F,stackGroups:Q.axisType===P&&B,dataStartIndex:S,dataEndIndex:E}))))},{}),$=clt(se(se({},W),{},{props:w,graphicalItems:F}),y==null?void 0:y.legendBBox);Object.keys(W).forEach(function(Y){W[Y]=d(w,W[Y],$,Y.replace("Map",""),r)});var U=W["".concat(M,"Map")],X=slt(U),H=h(w,se(se({},W),{},{dataStartIndex:S,dataEndIndex:E,updateId:C,graphicalItems:F,stackGroups:B,offset:$}));return se(se({formattedGraphicalItems:H,graphicalItems:F,offset:$,stackGroups:B},X),W)},m=function(v){function x(y){var w,S,E;return zst(this,x),E=Gst(this,x,[y]),Ge(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ge(E,"accessibilityManager",new Ist),Ge(E,"handleLegendBBoxUpdate",function(C){if(C){var A=E.state,T=A.dataStartIndex,N=A.dataEndIndex,I=A.updateId;E.setState(se({legendBBox:C},p({props:E.props,dataStartIndex:T,dataEndIndex:N,updateId:I},se(se({},E.state),{},{legendBBox:C}))))}}),Ge(E,"handleReceiveSyncEvent",function(C,A,T){if(E.props.syncId===C){if(T===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(A)}}),Ge(E,"handleBrushChange",function(C){var A=C.startIndex,T=C.endIndex;if(A!==E.state.dataStartIndex||T!==E.state.dataEndIndex){var N=E.state.updateId;E.setState(function(){return se({dataStartIndex:A,dataEndIndex:T},p({props:E.props,dataStartIndex:A,dataEndIndex:T,updateId:N},E.state))}),E.triggerSyncEvent({dataStartIndex:A,dataEndIndex:T})}}),Ge(E,"handleMouseEnter",function(C){var A=E.getMouseInfo(C);if(A){var T=se(se({},A),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var N=E.props.onMouseEnter;Je(N)&&N(T,C)}}),Ge(E,"triggeredAfterMouseMove",function(C){var A=E.getMouseInfo(C),T=A?se(se({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var N=E.props.onMouseMove;Je(N)&&N(T,C)}),Ge(E,"handleItemMouseEnter",function(C){E.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Ge(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Ge(E,"handleMouseMove",function(C){C.persist(),E.throttleTriggeredAfterMouseMove(C)}),Ge(E,"handleMouseLeave",function(C){E.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};E.setState(A),E.triggerSyncEvent(A);var T=E.props.onMouseLeave;Je(T)&&T(A,C)}),Ge(E,"handleOuterEvent",function(C){var A=XHe(C),T=Da(E.props,"".concat(A));if(A&&Je(T)){var N,I;/.*touch.*/i.test(A)?I=E.getMouseInfo(C.changedTouches[0]):I=E.getMouseInfo(C),T((N=I)!==null&&N!==void 0?N:{},C)}}),Ge(E,"handleClick",function(C){var A=E.getMouseInfo(C);if(A){var T=se(se({},A),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var N=E.props.onClick;Je(N)&&N(T,C)}}),Ge(E,"handleMouseDown",function(C){var A=E.props.onMouseDown;if(Je(A)){var T=E.getMouseInfo(C);A(T,C)}}),Ge(E,"handleMouseUp",function(C){var A=E.props.onMouseUp;if(Je(A)){var T=E.getMouseInfo(C);A(T,C)}}),Ge(E,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Ge(E,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.handleMouseDown(C.changedTouches[0])}),Ge(E,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.handleMouseUp(C.changedTouches[0])}),Ge(E,"handleDoubleClick",function(C){var A=E.props.onDoubleClick;if(Je(A)){var T=E.getMouseInfo(C);A(T,C)}}),Ge(E,"handleContextMenu",function(C){var A=E.props.onContextMenu;if(Je(A)){var T=E.getMouseInfo(C);A(T,C)}}),Ge(E,"triggerSyncEvent",function(C){E.props.syncId!==void 0&&FA.emit(BA,E.props.syncId,C,E.eventEmitterSymbol)}),Ge(E,"applySyncEvent",function(C){var A=E.props,T=A.layout,N=A.syncMethod,I=E.state.updateId,j=C.dataStartIndex,O=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)E.setState(se({dataStartIndex:j,dataEndIndex:O},p({props:E.props,dataStartIndex:j,dataEndIndex:O,updateId:I},E.state)));else if(C.activeTooltipIndex!==void 0){var P=C.chartX,M=C.chartY,F=C.activeTooltipIndex,B=E.state,W=B.offset,$=B.tooltipTicks;if(!W)return;if(typeof N=="function")F=N($,C);else if(N==="value"){F=-1;for(var U=0;U<$.length;U++)if($[U].value===C.activeLabel){F=U;break}}var X=se(se({},W),{},{x:W.left,y:W.top}),H=Math.min(P,X.x+X.width),Y=Math.min(M,X.y+X.height),Q=$[F]&&$[F].value,ue=iP(E.state,E.props.data,F),de=$[F]?{x:T==="horizontal"?$[F].coordinate:H,y:T==="horizontal"?Y:$[F].coordinate}:Gre;E.setState(se(se({},C),{},{activeLabel:Q,activeCoordinate:de,activePayload:ue,activeTooltipIndex:F}))}else E.setState(C)}),Ge(E,"renderCursor",function(C){var A,T=E.state,N=T.isTooltipActive,I=T.activeCoordinate,j=T.activePayload,O=T.offset,P=T.activeTooltipIndex,M=T.tooltipAxisBandSize,F=E.getTooltipEventType(),B=(A=C.props.active)!==null&&A!==void 0?A:N,W=E.props.layout,$=C.key||"_recharts-cursor";return D.createElement(Mst,{key:$,activeCoordinate:I,activePayload:j,activeTooltipIndex:P,chartName:r,element:C,isActive:B,layout:W,offset:O,tooltipAxisBandSize:M,tooltipEventType:F})}),Ge(E,"renderPolarAxis",function(C,A,T){var N=Da(C,"type.axisType"),I=Da(E.state,"".concat(N,"Map")),j=C.type.defaultProps,O=j!==void 0?se(se({},j),C.props):C.props,P=I&&I[O["".concat(N,"Id")]];return b.cloneElement(C,se(se({},P),{},{className:gt(N,P.className),key:C.key||"".concat(A,"-").concat(T),ticks:Rs(P,!0)}))}),Ge(E,"renderPolarGrid",function(C){var A=C.props,T=A.radialLines,N=A.polarAngles,I=A.polarRadius,j=E.state,O=j.radiusAxisMap,P=j.angleAxisMap,M=Fl(O),F=Fl(P),B=F.cx,W=F.cy,$=F.innerRadius,U=F.outerRadius;return b.cloneElement(C,{polarAngles:Array.isArray(N)?N:Rs(F,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(I)?I:Rs(M,!0).map(function(X){return X.coordinate}),cx:B,cy:W,innerRadius:$,outerRadius:U,key:C.key||"polar-grid",radialLines:T})}),Ge(E,"renderLegend",function(){var C=E.state.formattedGraphicalItems,A=E.props,T=A.children,N=A.width,I=A.height,j=E.props.margin||{},O=N-(j.left||0)-(j.right||0),P=Fte({children:T,formattedGraphicalItems:C,legendWidth:O,legendContent:u});if(!P)return null;var M=P.item,F=N7(P,Lst);return b.cloneElement(M,se(se({},F),{},{chartWidth:N,chartHeight:I,margin:j,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Ge(E,"renderTooltip",function(){var C,A=E.props,T=A.children,N=A.accessibilityLayer,I=ra(T,Lo);if(!I)return null;var j=E.state,O=j.isTooltipActive,P=j.activeCoordinate,M=j.activePayload,F=j.activeLabel,B=j.offset,W=(C=I.props.active)!==null&&C!==void 0?C:O;return b.cloneElement(I,{viewBox:se(se({},B),{},{x:B.left,y:B.top}),active:W,label:F,payload:W?M:[],coordinate:P,accessibilityLayer:N})}),Ge(E,"renderBrush",function(C){var A=E.props,T=A.margin,N=A.data,I=E.state,j=I.offset,O=I.dataStartIndex,P=I.dataEndIndex,M=I.updateId;return b.cloneElement(C,{key:C.key||"_recharts-brush",onChange:f1(E.handleBrushChange,C.props.onChange),data:N,x:Ee(C.props.x)?C.props.x:j.left,y:Ee(C.props.y)?C.props.y:j.top+j.height+j.brushBottom-(T.bottom||0),width:Ee(C.props.width)?C.props.width:j.width,startIndex:O,endIndex:P,updateId:"brush-".concat(M)})}),Ge(E,"renderReferenceElement",function(C,A,T){if(!C)return null;var N=E,I=N.clipPathId,j=E.state,O=j.xAxisMap,P=j.yAxisMap,M=j.offset,F=C.type.defaultProps||{},B=C.props,W=B.xAxisId,$=W===void 0?F.xAxisId:W,U=B.yAxisId,X=U===void 0?F.yAxisId:U;return b.cloneElement(C,{key:C.key||"".concat(A,"-").concat(T),xAxis:O[$],yAxis:P[X],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:I})}),Ge(E,"renderActivePoints",function(C){var A=C.item,T=C.activePoint,N=C.basePoint,I=C.childIndex,j=C.isRange,O=[],P=A.props.key,M=A.item.type.defaultProps!==void 0?se(se({},A.item.type.defaultProps),A.item.props):A.item.props,F=M.activeDot,B=M.dataKey,W=se(se({index:I,dataKey:B,cx:T.x,cy:T.y,r:4,fill:Z3(A.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},st(F,!1)),Mw(F));return O.push(x.renderActiveDot(F,W,"".concat(P,"-activePoint-").concat(I))),N?O.push(x.renderActiveDot(F,se(se({},W),{},{cx:N.x,cy:N.y}),"".concat(P,"-basePoint-").concat(I))):j&&O.push(null),O}),Ge(E,"renderGraphicChild",function(C,A,T){var N=E.filterFormatItem(C,A,T);if(!N)return null;var I=E.getTooltipEventType(),j=E.state,O=j.isTooltipActive,P=j.tooltipAxis,M=j.activeTooltipIndex,F=j.activeLabel,B=E.props.children,W=ra(B,Lo),$=N.props,U=$.points,X=$.isRange,H=$.baseLine,Y=N.item.type.defaultProps!==void 0?se(se({},N.item.type.defaultProps),N.item.props):N.item.props,Q=Y.activeDot,ue=Y.hide,de=Y.activeBar,he=Y.activeShape,pe=!!(!ue&&O&&W&&(Q||de||he)),J={};I!=="axis"&&W&&W.props.trigger==="click"?J={onClick:f1(E.handleItemMouseEnter,C.props.onClick)}:I!=="axis"&&(J={onMouseLeave:f1(E.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:f1(E.handleItemMouseEnter,C.props.onMouseEnter)});var re=b.cloneElement(C,se(se({},N.props),J));function L(yr){return typeof P.dataKey=="function"?P.dataKey(yr.payload):null}if(pe)if(M>=0){var q,G;if(P.dataKey&&!P.allowDuplicatedCategory){var ye=typeof P.dataKey=="function"?L:"payload.".concat(P.dataKey.toString());q=Dw(U,ye,F),G=X&&H&&Dw(H,ye,F)}else q=U==null?void 0:U[M],G=X&&H&&H[M];if(he||de){var me=C.props.activeIndex!==void 0?C.props.activeIndex:M;return[b.cloneElement(C,se(se(se({},N.props),J),{},{activeIndex:me})),null,null]}if(!ft(q))return[re].concat(Fh(E.renderActivePoints({item:N,activePoint:q,basePoint:G,childIndex:M,isRange:X})))}else{var ie,ne=(ie=E.getItemByXY(E.state.activeCoordinate))!==null&&ie!==void 0?ie:{graphicalItem:re},Oe=ne.graphicalItem,Z=Oe.item,le=Z===void 0?C:Z,xe=Oe.childIndex,it=se(se(se({},N.props),J),{},{activeIndex:xe});return[b.cloneElement(le,it),null,null]}return X?[re,null,null]:[re,null]}),Ge(E,"renderCustomized",function(C,A,T){return b.cloneElement(C,se(se({key:"recharts-customized-".concat(T)},E.props),E.state))}),Ge(E,"renderMap",{CartesianGrid:{handler:v1,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:v1},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:v1},YAxis:{handler:v1},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:z0("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=$ee(E.triggeredAfterMouseMove,(S=y.throttleDelay)!==null&&S!==void 0?S:1e3/60),E.state={},E}return Yst(x,v),Hst(x,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,E=w.data,C=w.height,A=w.layout,T=ra(S,Lo);if(T){var N=T.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,j=iP(this.state,E,N,I),O=this.state.tooltipTicks[N].coordinate,P=(this.state.offset.top+C)/2,M=A==="horizontal",F=M?{x:O,y:P}:{y:O,x:P},B=this.state.formattedGraphicalItems.find(function($){var U=$.item;return U.type.name==="Scatter"});B&&(F=se(se({},F),B.props.points[N].tooltipPosition),j=B.props.points[N].tooltipPayload);var W={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:I,activePayload:j,activeCoordinate:F};this.setState(W),this.renderCursor(T),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var E,C;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(w){zN([ra(w.children,Lo)],[ra(this.props.children,Lo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=ra(this.props.children,Lo);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return s.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,E=S.getBoundingClientRect(),C=qYe(E),A={chartX:Math.round(w.pageX-C.left),chartY:Math.round(w.pageY-C.top)},T=E.width/S.offsetWidth||1,N=this.inRange(A.chartX,A.chartY,T);if(!N)return null;var I=this.state,j=I.xAxisMap,O=I.yAxisMap,P=this.getTooltipEventType(),M=P7(this.state,this.props.data,this.props.layout,N);if(P!=="axis"&&j&&O){var F=Fl(j).scale,B=Fl(O).scale,W=F&&F.invert?F.invert(A.chartX):null,$=B&&B.invert?B.invert(A.chartY):null;return se(se({},A),{},{xValue:W,yValue:$},M)}return M?se(se({},A),M):null}},{key:"inRange",value:function(w,S){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,A=w/E,T=S/E;if(C==="horizontal"||C==="vertical"){var N=this.state.offset,I=A>=N.left&&A<=N.left+N.width&&T>=N.top&&T<=N.top+N.height;return I?{x:A,y:T}:null}var j=this.state,O=j.angleAxisMap,P=j.radiusAxisMap;if(O&&P){var M=Fl(O);return p9({x:A,y:T},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),E=ra(w,Lo),C={};E&&S==="axis"&&(E.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Mw(this.props,this.handleOuterEvent);return se(se({},A),C)}},{key:"addListener",value:function(){FA.on(BA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){FA.removeListener(BA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,E){for(var C=this.state.formattedGraphicalItems,A=0,T=C.length;A<T;A++){var N=C[A];if(N.item===w||N.props.key===w.key||S===Bs(N.item.type)&&E===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,E=S.left,C=S.top,A=S.height,T=S.width;return D.createElement("defs",null,D.createElement("clipPath",{id:w},D.createElement("rect",{x:E,y:C,height:A,width:T})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,E){var C=T7(E,2),A=C[0],T=C[1];return se(se({},S),{},Ge({},A,T.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,E){var C=T7(E,2),A=C[0],T=C[1];return se(se({},S),{},Ge({},A,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,E=S.formattedGraphicalItems,C=S.activeItem;if(E&&E.length)for(var A=0,T=E.length;A<T;A++){var N=E[A],I=N.props,j=N.item,O=j.type.defaultProps!==void 0?se(se({},j.type.defaultProps),j.props):j.props,P=Bs(j.type);if(P==="Bar"){var M=(I.data||[]).find(function($){return wnt(w,$)});if(M)return{graphicalItem:N,payload:M}}else if(P==="RadialBar"){var F=(I.data||[]).find(function($){return p9(w,$)});if(F)return{graphicalItem:N,payload:F}}else if(J_(N,C)||eS(N,C)||Xv(N,C)){var B=cit({graphicalItem:N,activeTooltipItem:C,itemData:O.data}),W=O.activeIndex===void 0?B:O.activeIndex;return{graphicalItem:se(se({},N),{},{childIndex:W}),payload:Xv(N,C)?O.data[B]:N.props.data[B]}}}return null}},{key:"render",value:function(){var w=this;if(!j$(this))return null;var S=this.props,E=S.children,C=S.className,A=S.width,T=S.height,N=S.style,I=S.compact,j=S.title,O=S.desc,P=N7(S,$st),M=st(P,!1);if(I)return D.createElement(u7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement(HN,yf({},M,{width:A,height:T,title:j,desc:O}),this.renderClipPath(),R$(E,this.renderMap)));if(this.props.accessibilityLayer){var F,B;M.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,M.role=(B=this.props.role)!==null&&B!==void 0?B:"application",M.onKeyDown=function($){w.accessibilityManager.keyboardEvent($)},M.onFocus=function(){w.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return D.createElement(u7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},D.createElement("div",yf({className:gt("recharts-wrapper",C),style:se({position:"relative",cursor:"default",width:A,height:T},N)},W,{ref:function(U){w.container=U}}),D.createElement(HN,yf({},M,{width:A,height:T,title:j,desc:O,style:tlt}),this.renderClipPath(),R$(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);Ge(m,"displayName",r),Ge(m,"defaultProps",se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ge(m,"getDerivedStateFromProps",function(v,x){var y=v.dataKey,w=v.data,S=v.children,E=v.width,C=v.height,A=v.layout,T=v.stackOffset,N=v.margin,I=x.dataStartIndex,j=x.dataEndIndex;if(x.updateId===void 0){var O=O7(v);return se(se(se({},O),{},{updateId:0},p(se(se({props:v},O),{},{updateId:0}),x)),{},{prevDataKey:y,prevData:w,prevWidth:E,prevHeight:C,prevLayout:A,prevStackOffset:T,prevMargin:N,prevChildren:S})}if(y!==x.prevDataKey||w!==x.prevData||E!==x.prevWidth||C!==x.prevHeight||A!==x.prevLayout||T!==x.prevStackOffset||!Df(N,x.prevMargin)){var P=O7(v),M={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},F=se(se({},P7(x,w,A)),{},{updateId:x.updateId+1}),B=se(se(se({},P),M),F);return se(se(se({},B),p(se({props:v},B),x)),{},{prevDataKey:y,prevData:w,prevWidth:E,prevHeight:C,prevLayout:A,prevStackOffset:T,prevMargin:N,prevChildren:S})}if(!zN(S,x.prevChildren)){var W,$,U,X,H=ra(S,Ih),Y=H&&(W=($=H.props)===null||$===void 0?void 0:$.startIndex)!==null&&W!==void 0?W:I,Q=H&&(U=(X=H.props)===null||X===void 0?void 0:X.endIndex)!==null&&U!==void 0?U:j,ue=Y!==I||Q!==j,de=!ft(w),he=de&&!ue?x.updateId:x.updateId+1;return se(se({updateId:he},p(se(se({props:v},x),{},{updateId:he,dataStartIndex:Y,dataEndIndex:Q}),x)),{},{prevChildren:S,dataStartIndex:Y,dataEndIndex:Q})}return null}),Ge(m,"renderActiveDot",function(v,x,y){var w;return b.isValidElement(v)?w=b.cloneElement(v,x):Je(v)?w=v(x):w=D.createElement(eR,x),D.createElement(br,{className:"recharts-active-dot",key:y},w)});var g=b.forwardRef(function(x,y){return D.createElement(m,yf({},x,{ref:y}))});return g.displayName=m.displayName,g},flt=dlt({chartName:"AreaChart",GraphicalChild:Xc,axisComponents:[{axisType:"xAxis",AxisComp:oS},{axisType:"yAxis",AxisComp:sS}],formatAxisMap:fat});const hlt=()=>{const{trips:t}=Owe(),[e,r]=b.useState([]),[n,i]=b.useState({total:0,percentageChange:0}),a=b.useMemo(()=>{const u=new Map;return t.forEach(d=>{if(d.status==="completed"){const f=new Date(d.createdAt),h=Yt(f,"MMM yyyy"),p=d.items.reduce((g,v)=>g+(v.price||0)*v.quantity,0);u.has(h)||u.set(h,{total:0,count:0,byCategory:{}});const m=u.get(h);m.total+=p,m.count+=1,d.items.forEach(g=>{g.category&&(m.byCategory[g.category]=(m.byCategory[g.category]||0)+(g.price||0)*g.quantity)})}}),Array.from(u.entries()).map(([d,f])=>({month:d,total:Number(f.total.toFixed(2)),average:Number((f.total/f.count).toFixed(2)),...f.byCategory})).sort((d,f)=>{const h=new Date(d.month),p=new Date(f.month);return h.getTime()-p.getTime()})},[t]),o=b.useMemo(()=>{const u=Yt(new Date,"MMM yyyy"),d=a.find(m=>m.month===u),f=Yt(new Date(new Date().setMonth(new Date().getMonth()-1)),"MMM yyyy"),h=a.find(m=>m.month===f),p=h&&d?(d.total-h.total)/h.total*100:0;return{total:(d==null?void 0:d.total)||0,percentageChange:Number(p.toFixed(1))}},[a]);b.useMemo(()=>{const u=Yt(new Date,"MMM yyyy"),d=a.find(f=>f.month===u);return d?Object.entries(d).filter(([f])=>!["month","total","average"].includes(f)).map(([f,h])=>({category:f,amount:typeof h=="number"?Number(h.toFixed(2)):0,percentage:typeof h=="number"?Number((h/d.total*100).toFixed(1)):0})).sort((f,h)=>h.amount-f.amount):[]},[a]);const s=b.useMemo(()=>t.filter(u=>u.status==="open"||u.status==="shopping").length,[t]),l=b.useMemo(()=>t.filter(u=>u.status==="completed").sort((u,d)=>new Date(d.createdAt).getTime()-new Date(u.createdAt).getTime()).slice(0,5),[t]);return b.useEffect(()=>{r(a),i(o)},[a,o]),c.jsx(pa,{children:c.jsxs("div",{className:"p-4 md:p-8 space-y-8",children:[c.jsx("h1",{className:"text-4xl font-bold text-blue-600",children:"Dashboard"}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c.jsxs(Te,{className:"bg-white",children:[c.jsxs(Fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(Be,{className:"text-sm font-medium",children:"Total Spent (This Month)"}),c.jsxs(mt,{variant:n.percentageChange>=0?"default":"destructive",children:[n.percentageChange>=0?"+":"",n.percentageChange,"%"]})]}),c.jsxs(Ne,{children:[c.jsxs("div",{className:"text-2xl font-bold",children:["$",n.total.toFixed(2)]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.percentageChange>=0?"Increase":"Decrease"," from last month"]})]})]}),c.jsxs(Te,{className:"bg-white",children:[c.jsx(Fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:c.jsx(Be,{className:"text-sm font-medium",children:"Active Trips"})}),c.jsxs(Ne,{children:[c.jsx("div",{className:"text-2xl font-bold",children:s}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Open or in progress"})]})]})]}),c.jsx(Te,{className:"bg-white",children:c.jsxs(Ne,{className:"p-6",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-600 mb-4",children:"Recent Activity"}),c.jsx("div",{className:"space-y-4",children:l.map((u,d)=>{const f=u.items.reduce((h,p)=>h+(p.price||0)*p.quantity,0);return c.jsxs("div",{className:"flex items-center justify-between py-2",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:c.jsx(zC,{className:"h-4 w-4 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:u.name}),c.jsx("p",{className:"text-sm text-gray-500",children:new Date(u.createdAt).toLocaleDateString()})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"font-medium",children:["$",f.toFixed(2)]}),c.jsxs("p",{className:"text-sm text-gray-500",children:[u.items.length," items"]})]})]},u.id)})})]})}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c.jsx(Te,{className:"bg-white",children:c.jsxs(Ne,{className:"p-6",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-600 mb-4",children:"Spending Analysis"}),c.jsxs(Pc,{defaultValue:"trend",className:"w-full",children:[c.jsxs(el,{children:[c.jsx(sr,{value:"trend",className:"flex-1",children:"Trend"}),c.jsx(sr,{value:"categories",className:"flex-1",children:"Categories"})]}),c.jsx(jr,{value:"trend",children:c.jsx("div",{className:"h-[300px] w-full",children:c.jsx(BYe,{width:"100%",height:"100%",children:c.jsxs(flt,{data:a,children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"total",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#0ea5e9",stopOpacity:.3}),c.jsx("stop",{offset:"95%",stopColor:"#0ea5e9",stopOpacity:0})]})}),c.jsx(Ire,{strokeDasharray:"3 3",className:"stroke-muted"}),c.jsx(oS,{dataKey:"month"}),c.jsx(sS,{}),c.jsx(Lo,{content:({active:u,payload:d})=>u&&d&&d.length?c.jsx("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-[0.70rem] uppercase text-muted-foreground",children:"Month"}),c.jsx("span",{className:"font-bold text-muted-foreground",children:d[0].payload.month})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-[0.70rem] uppercase text-muted-foreground",children:"Total"}),c.jsxs("span",{className:"font-bold",children:["$",d[0].value]})]})]})}):null}),c.jsx(Xc,{type:"monotone",dataKey:"total",stroke:"#0ea5e9",fillOpacity:1,fill:"url(#total)"})]})})})}),c.jsx(jr,{value:"categories",children:c.jsx("div",{className:"text-center text-gray-500 py-8",children:"Category breakdown coming soon"})})]})]})}),c.jsx(Te,{className:"bg-white",children:c.jsxs(Ne,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(zC,{className:"h-5 w-5"}),c.jsx("h2",{className:"text-lg font-medium text-gray-600",children:"Shopping Insights"})]}),c.jsxs(Pc,{defaultValue:"hotspots",className:"w-full",children:[c.jsxs(el,{className:"mb-4",children:[c.jsx(sr,{value:"hotspots",className:"flex-1",children:"My List Hotspots"}),c.jsx(sr,{value:"overview",className:"flex-1",children:"Store Overview"}),c.jsx(sr,{value:"dive",className:"flex-1",children:"Item Deep Dive"}),c.jsx(sr,{value:"visits",className:"flex-1",children:"Recent Visits"})]}),c.jsx(jr,{value:"hotspots",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-4 border rounded-lg",children:[c.jsx("h3",{className:"font-medium mb-2",children:"Milk"}),c.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[c.jsx(Pr,{className:"h-4 w-4"}),c.jsx("span",{children:"No purchase frequency data yet."})]}),c.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2 mt-1",children:[c.jsx(Go,{className:"h-4 w-4"}),c.jsx("span",{children:"No pricing data to determine cheapest store."})]})]}),c.jsxs("div",{className:"p-4 border rounded-lg",children:[c.jsx("h3",{className:"font-medium mb-2",children:"Eggs"}),c.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[c.jsx(Pr,{className:"h-4 w-4"}),c.jsx("span",{children:"No purchase frequency data yet."})]}),c.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2 mt-1",children:[c.jsx(Go,{className:"h-4 w-4"}),c.jsx("span",{children:"No pricing data to determine cheapest store."})]})]})]})})]})]})})]})]})})},plt=()=>{var A,T;const{loginWithGoogle:t,loginWithEmail:e,registerWithEmail:r,isLoading:n,error:i,user:a}=qr(),o=Yi(),s=ds(),[l,u]=b.useState(null),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[m,g]=b.useState(!1),[v,x]=b.useState({email:"",password:"",name:"",confirmPassword:""}),y=((T=(A=s.state)==null?void 0:A.from)==null?void 0:T.pathname)||"/home",w=async()=>{u(null);try{await t()}catch(N){u("Login failed. Please try again."),console.error("Login failed on page:",N)}},S=async N=>{if(N.preventDefault(),u(null),!v.email||!v.password){u("Please fill in all required fields.");return}if(d){if(!v.name){u("Please enter your name.");return}if(v.password!==v.confirmPassword){u("Passwords do not match.");return}if(v.password.length<6){u("Password must be at least 6 characters long.");return}}try{d?await r(v.email,v.password,v.name):await e(v.email,v.password)}catch{}},E=()=>{f(!d),u(null),x({email:"",password:"",name:"",confirmPassword:""})},C=()=>{p(!h),u(null),x({email:"",password:"",name:"",confirmPassword:""})};return D.useEffect(()=>{a&&o(y,{replace:!0})},[a,o,y]),c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 via-purple-100 to-teal-100 flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute top-6 left-6",children:c.jsxs(k1,{to:"/",className:"flex items-center gap-2 text-teal-600 hover:text-teal-700 transition-colors",children:[c.jsx(nO,{className:"h-5 w-5"}),c.jsx("span",{className:"font-medium",children:"Back to Home"})]})}),c.jsxs(Te,{className:"w-full max-w-md border-none shadow-lg",children:[c.jsxs(Fe,{className:"space-y-1 text-center",children:[c.jsx("div",{className:"flex justify-center mb-2",children:c.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-50 flex items-center justify-center",children:c.jsx(cO,{className:"h-8 w-8 text-blue-500"})})}),c.jsx(Be,{className:"text-2xl font-bold text-slate-800",children:h&&d?"Create Account":"Welcome Back!"}),c.jsx(tt,{className:"text-slate-600",children:h&&d?"Sign up to get started with TaskaLoop.":"Sign in to continue to TaskaLoop."})]}),c.jsxs(Ne,{className:"space-y-4",children:[(i||l)&&c.jsx("p",{className:"text-center text-red-500 dark:text-red-400 bg-red-500/10 p-3 rounded-md",children:i||l}),h?c.jsxs("form",{onSubmit:S,className:"space-y-4",children:[d&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"name",children:"Full Name"}),c.jsx(Ue,{id:"name",type:"text",placeholder:"Enter your full name",value:v.name,onChange:N=>x({...v,name:N.target.value}),required:d})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"email",children:"Email"}),c.jsx(Ue,{id:"email",type:"email",placeholder:"Enter your email",value:v.email,onChange:N=>x({...v,email:N.target.value}),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"password",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ue,{id:"password",type:m?"text":"password",placeholder:"Enter your password",value:v.password,onChange:N=>x({...v,password:N.target.value}),required:!0,minLength:6}),c.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700",onClick:()=>g(!m),children:m?c.jsx(Joe,{className:"h-4 w-4"}):c.jsx(ese,{className:"h-4 w-4"})})]})]}),d&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"confirmPassword",children:"Confirm Password"}),c.jsx(Ue,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:v.confirmPassword,onChange:N=>x({...v,confirmPassword:N.target.value}),required:d})]}),c.jsxs(K,{type:"submit",className:"w-full py-6 bg-gradient-to-r from-blue-500 to-teal-500 hover:from-blue-600 hover:to-teal-600 text-white",disabled:n,children:[n?c.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,d?"Create Account":"Sign In"]}),c.jsx("div",{className:"flex items-center justify-center space-x-2",children:c.jsx(K,{type:"button",variant:"ghost",onClick:E,className:"text-sm text-slate-600 hover:text-slate-800",children:d?"Already have an account? Sign in":"Need an account? Sign up"})}),c.jsx(K,{type:"button",variant:"ghost",onClick:C,className:"w-full text-sm text-slate-500 hover:text-slate-700",children:" Back to other options"})]}):c.jsxs(c.Fragment,{children:[c.jsxs(K,{className:"w-full py-6 bg-gradient-to-r from-blue-500 to-teal-500 hover:from-blue-600 hover:to-teal-600 text-white",onClick:w,disabled:n,children:[n?c.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):c.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[c.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),c.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),c.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),c.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),c.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]}),"Sign in with Google"]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("span",{className:"w-full border-t border-gray-200"})}),c.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:c.jsx("span",{className:"bg-white px-2 text-slate-500",children:"Or continue with"})})]}),c.jsxs(K,{variant:"outline",className:"w-full py-6 border-slate-300 text-slate-700 hover:bg-slate-50",onClick:C,disabled:n,children:[c.jsx(Af,{className:"mr-2 h-4 w-4"}),"Sign in with Email"]})]})]}),c.jsxs(Bt,{className:"flex flex-col space-y-4",children:[c.jsxs("p",{className:"text-center text-sm text-slate-500",children:["By signing in, you agree to our"," ",c.jsx(k1,{to:"#",className:"text-teal-600 hover:text-teal-700 underline underline-offset-4",children:"Terms of Service"})," ","and"," ",c.jsx(k1,{to:"#",className:"text-teal-600 hover:text-teal-700 underline underline-offset-4",children:"Privacy Policy"}),"."]}),!h&&c.jsx("p",{className:"text-center text-sm text-slate-500",children:"Don't have an account? It will be created automatically."})]})]})]})};function mlt(){const t=Yi(),[e,r]=b.useState(null),[n,i]=b.useState(!1),a="May",o=2025,s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],l={20:[{id:1,title:"Grocery Shopping",time:"3:30 PM",type:"shopping",location:"Trader Joe's",description:"Weekly grocery shopping for household items",status:"scheduled"},{id:2,title:"Dinner with Alex",time:"7:00 PM",type:"social",location:"Italian Restaurant",description:"Catch up dinner with Alex",status:"scheduled"}],22:[{id:3,title:"Pay Internet Bill",time:"All day",type:"task",description:"Monthly internet bill payment",status:"pending"}],25:[{id:4,title:"Household Supplies",time:"11:00 AM",type:"shopping",location:"Target",description:"Buy cleaning supplies and toiletries",status:"scheduled"}]},u=Array.from({length:35},(m,g)=>{const v=g-3;return{date:v<=0?`Apr ${30+v}`:v>31?`Jun ${v-31}`:`May ${v}`,day:v,isCurrentMonth:v>0&&v<=31,hasEvents:[1,5,10,15,20,22,25].includes(v),events:l[v]||[]}}),d=m=>{r(m),i(!0)},f=m=>{m.type==="shopping"?t("/trips"):console.log("Edit event:",m)},h=m=>{console.log("Complete task:",m),i(!1)},p=m=>{console.log("Delete event:",m),i(!1)};return c.jsxs("div",{className:"min-h-screen bg-slate-50",children:[c.jsx(DY,{}),c.jsx("main",{className:"md:pl-64 pb-16 md:pb-0",children:c.jsxs("div",{className:"p-4 md:p-8",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Calendar"}),c.jsx("p",{className:"text-slate-500",children:"Plan and manage your schedule"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("div",{className:"flex items-center border border-slate-200 rounded-md",children:[c.jsx(K,{variant:"ghost",size:"icon",className:"h-9 w-9 text-slate-500",children:c.jsx(Qb,{className:"h-4 w-4"})}),c.jsxs("div",{className:"px-2 font-medium",children:[a," ",o]}),c.jsx(K,{variant:"ghost",size:"icon",className:"h-9 w-9 text-slate-500",children:c.jsx(c0,{className:"h-4 w-4"})})]}),c.jsxs($t,{defaultValue:"month",children:[c.jsx(Ot,{className:"w-[120px] border-slate-200",children:c.jsx(Ft,{placeholder:"View"})}),c.jsxs(jt,{children:[c.jsx(Se,{value:"day",children:"Day"}),c.jsx(Se,{value:"week",children:"Week"}),c.jsx(Se,{value:"month",children:"Month"}),c.jsx(Se,{value:"agenda",children:"Agenda"})]})]}),c.jsxs(K,{className:"bg-teal-600 hover:bg-teal-700",children:[c.jsx(Or,{className:"h-4 w-4 mr-2"}),"Add Event"]})]})]}),c.jsx(Te,{className:"border-none shadow-sm",children:c.jsxs(Ne,{className:"p-0",children:[c.jsx("div",{className:"grid grid-cols-7 border-b border-slate-200",children:s.map((m,g)=>c.jsx("div",{className:`py-2 text-center text-sm font-medium ${g===0||g===6?"text-red-500":"text-slate-700"}`,children:m},m))}),c.jsx("div",{className:"grid grid-cols-7 grid-rows-5 divide-x divide-y divide-slate-200",children:u.map((m,g)=>c.jsxs("div",{className:`min-h-[120px] p-2 ${m.isCurrentMonth?"bg-white":"bg-slate-50"} hover:bg-slate-50 transition-colors`,children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("span",{className:`text-sm font-medium ${m.isCurrentMonth?m.date.includes("May 20")?"bg-teal-100 text-teal-800 w-6 h-6 rounded-full flex items-center justify-center":"text-slate-700":"text-slate-400"}`,children:m.day<=0?30+m.day:m.day>31?m.day-31:m.day}),m.hasEvents&&c.jsx("div",{className:"flex",children:c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-teal-500"})})]}),c.jsx("div",{className:"mt-1 space-y-1",children:m.events.map((v,x)=>c.jsxs("div",{className:`text-xs p-1 rounded truncate cursor-pointer hover:opacity-80 transition-opacity ${v.type==="shopping"?"bg-blue-100 text-blue-800":v.type==="social"?"bg-purple-100 text-purple-800":"bg-amber-100 text-amber-800"}`,onClick:()=>d(v),children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Pr,{className:"h-3 w-3"}),c.jsx("span",{children:v.time})]}),c.jsx("div",{className:"truncate font-medium",children:v.title})]},x))})]},g))})]})}),c.jsxs("div",{className:"mt-8",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Upcoming Events"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsx(Fe,{className:"pb-2",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx(Be,{children:"Today, May 20"}),c.jsx(tt,{children:"2 events scheduled"})]}),c.jsx(mt,{className:"bg-teal-100 text-teal-800 hover:bg-teal-100",children:"Today"})]})}),c.jsx(Ne,{className:"pb-2",children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-blue-50 border border-blue-100 cursor-pointer hover:bg-blue-100 transition-colors",onClick:()=>d(l[20][0]),children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:c.jsx(lr,{className:"h-5 w-5 text-blue-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-medium text-slate-800",children:"Grocery Shopping"}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx(Pr,{className:"h-3.5 w-3.5 text-slate-500"}),c.jsx("span",{className:"text-sm text-slate-500",children:"3:30 PM"})]}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx(la,{className:"h-3.5 w-3.5 text-slate-500"}),c.jsx("span",{className:"text-sm text-slate-500",children:"Trader Joe's"})]})]}),c.jsxs(ev,{children:[c.jsx(tv,{asChild:!0,children:c.jsx(K,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400",onClick:m=>m.stopPropagation(),children:c.jsx(Cf,{className:"h-4 w-4"})})}),c.jsxs(oh,{align:"end",children:[c.jsx(vi,{onClick:()=>f(l[20][0]),children:"Edit Event"}),c.jsx(vi,{onClick:()=>t("/trips"),children:"View Shopping List"}),c.jsx(rv,{}),c.jsx(vi,{className:"text-red-600",onClick:()=>p(l[20][0]),children:"Cancel"})]})]})]}),c.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-purple-50 border border-purple-100 cursor-pointer hover:bg-purple-100 transition-colors",onClick:()=>d(l[20][1]),children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center flex-shrink-0",children:c.jsx(ri,{className:"h-5 w-5 text-purple-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-medium text-slate-800",children:"Dinner with Alex"}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx(Pr,{className:"h-3.5 w-3.5 text-slate-500"}),c.jsx("span",{className:"text-sm text-slate-500",children:"7:00 PM"})]}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx(la,{className:"h-3.5 w-3.5 text-slate-500"}),c.jsx("span",{className:"text-sm text-slate-500",children:"Italian Restaurant"})]})]}),c.jsxs(ev,{children:[c.jsx(tv,{asChild:!0,children:c.jsx(K,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400",onClick:m=>m.stopPropagation(),children:c.jsx(Cf,{className:"h-4 w-4"})})}),c.jsxs(oh,{align:"end",children:[c.jsx(vi,{onClick:()=>f(l[20][1]),children:"Edit Event"}),c.jsx(vi,{children:"Send Message"}),c.jsx(rv,{}),c.jsx(vi,{className:"text-red-600",onClick:()=>p(l[20][1]),children:"Cancel"})]})]})]})]})})]}),c.jsxs(Te,{className:"border-none shadow-sm",children:[c.jsx(Fe,{className:"pb-2",children:c.jsx("div",{className:"flex justify-between items-start",children:c.jsxs("div",{children:[c.jsx(Be,{children:"Upcoming"}),c.jsx(tt,{children:"Events in the next 7 days"})]})})}),c.jsx(Ne,{className:"pb-2",children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>d(l[22][0]),children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center flex-shrink-0",children:c.jsx(rc,{className:"h-5 w-5 text-amber-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-medium text-slate-800",children:"Pay Internet Bill"}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx(Wu,{className:"h-3.5 w-3.5 text-slate-500"}),c.jsx("span",{className:"text-sm text-slate-500",children:"May 22, 2025"})]}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx(Pr,{className:"h-3.5 w-3.5 text-slate-500"}),c.jsx("span",{className:"text-sm text-slate-500",children:"All day"})]})]}),c.jsx(K,{variant:"outline",size:"sm",className:"border-slate-200",onClick:m=>m.stopPropagation(),children:"Remind Me"})]}),c.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>d(l[25][0]),children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:c.jsx(lr,{className:"h-5 w-5 text-blue-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-medium text-slate-800",children:"Household Supplies"}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx(Wu,{className:"h-3.5 w-3.5 text-slate-500"}),c.jsx("span",{className:"text-sm text-slate-500",children:"May 25, 2025"})]}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx(Pr,{className:"h-3.5 w-3.5 text-slate-500"}),c.jsx("span",{className:"text-sm text-slate-500",children:"11:00 AM"})]})]}),c.jsx(K,{variant:"outline",size:"sm",className:"border-slate-200",onClick:m=>m.stopPropagation(),children:"Remind Me"})]})]})}),c.jsx(Bt,{className:"pt-2",children:c.jsx(K,{variant:"ghost",className:"w-full text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:"View All Events"})})]})]})]})]})}),c.jsx(_r,{open:n,onOpenChange:i,children:c.jsxs(pr,{className:"max-w-md",children:[c.jsx(mr,{children:c.jsxs(gr,{className:"flex items-center gap-2",children:[(e==null?void 0:e.type)==="shopping"&&c.jsx(lr,{className:"h-5 w-5"}),(e==null?void 0:e.type)==="social"&&c.jsx(ri,{className:"h-5 w-5"}),(e==null?void 0:e.type)==="task"&&c.jsx(rc,{className:"h-5 w-5"}),"Event Details"]})}),e&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Title"}),c.jsx("p",{className:"text-lg font-semibold",children:e.title})]}),c.jsxs("div",{children:[c.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Time"}),c.jsxs("p",{className:"text-sm flex items-center gap-2",children:[c.jsx(Pr,{className:"h-4 w-4"}),e.time]})]}),e.location&&c.jsxs("div",{children:[c.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Location"}),c.jsxs("p",{className:"text-sm flex items-center gap-2",children:[c.jsx(la,{className:"h-4 w-4"}),e.location]})]}),e.description&&c.jsxs("div",{children:[c.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Description"}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:e.description})]}),c.jsxs("div",{children:[c.jsx(ce,{className:"text-sm font-medium text-muted-foreground",children:"Type"}),c.jsx(mt,{variant:e.type==="shopping"?"default":e.type==="social"?"secondary":"outline",children:e.type})]}),c.jsxs("div",{className:"flex gap-2 pt-4",children:[e.type==="task"&&c.jsxs(K,{variant:"outline",size:"sm",onClick:()=>h(e),className:"flex-1",children:[c.jsx(Kn,{className:"h-4 w-4 mr-2"}),"Mark Complete"]}),c.jsx(K,{variant:"outline",size:"sm",onClick:()=>{i(!1),f(e)},children:c.jsx(oO,{className:"h-4 w-4"})}),c.jsx(K,{variant:"outline",size:"sm",onClick:()=>p(e),children:c.jsx(uO,{className:"h-4 w-4"})})]})]})]})})]})}const glt=async(t,e)=>{try{if(!Zr||!Tc)return console.error("Firebase services not available for admin login"),null;const r=Zr,n=Tc,a=(await wH(r,t,e)).user.uid,o=await XW(WW(n,"admins",a));return o.exists()?{...o.data(),id:a}:(console.error("User is not an admin"),await r.signOut(),null)}catch(r){return console.error("Admin login error:",r),null}},Kre=async()=>{try{if(!Zr||!Tc)return console.warn("Firebase services not available for admin check"),!1;const t=Zr,e=Tc,r=t.currentUser;return r?(await XW(WW(e,"admins",r.uid))).exists():!1}catch(t){return console.error("Error checking admin status:",t),!1}},vlt=async()=>{try{const e=(await XM(HM(Tc,"users"))).docs.map(i=>({id:i.id,...i.data()})),n=(await XM(HM(Tc,"admins"))).docs.map(i=>i.id);return e.filter(i=>!n.includes(i.id))}catch(t){return console.error("Error fetching users:",t),[]}},ylt=({onSuccess:t})=>{const[e,r]=b.useState(""),[n,i]=b.useState(""),[a,o]=b.useState(!1),[s,l]=b.useState(null),u=Yi(),d=async f=>{f.preventDefault(),l(null),o(!0);try{const h=await glt(e,n);h?(localStorage.setItem("adminUser",JSON.stringify(h)),t&&t(h),u("/admin/dashboard")):l("Invalid admin credentials. Please try again.")}catch(h){console.error("Admin login error:",h),l("Login failed. Please check your credentials and try again.")}finally{o(!1)}};return c.jsxs(Te,{className:"w-full max-w-md mx-auto",children:[c.jsxs(Fe,{className:"space-y-1",children:[c.jsx("div",{className:"flex items-center justify-center mb-4",children:c.jsx(cO,{className:"h-12 w-12 text-primary"})}),c.jsx(Be,{className:"text-2xl text-center",children:"Admin Login"}),c.jsx(tt,{className:"text-center",children:"Enter your admin credentials to access the dashboard"})]}),c.jsx(Ne,{children:c.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s&&c.jsx("div",{className:"p-3 text-sm bg-destructive/10 text-destructive rounded-md",children:s}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"email",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:c.jsx(Af,{className:"h-5 w-5 text-gray-400"})}),c.jsx(Ue,{id:"email",type:"email",placeholder:"admin@example.com",value:e,onChange:f=>r(f.target.value),className:"pl-10",required:!0})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"password",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:c.jsx(lse,{className:"h-5 w-5 text-gray-400"})}),c.jsx(Ue,{id:"password",type:"password",value:n,onChange:f=>i(f.target.value),className:"pl-10",required:!0})]})]}),c.jsx(K,{type:"submit",className:"w-full",disabled:a,children:a?"Logging in...":"Login as Admin"})]})}),c.jsx(Bt,{className:"flex justify-center",children:c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Not an admin? ",c.jsx("a",{href:"/login",className:"underline text-primary",children:"User Login"})]})})]})},xlt=()=>{const t=Yi();b.useEffect(()=>{(async()=>{if(localStorage.getItem("adminUser"))try{await Kre()?(Ym.success("Welcome back, admin!"),t("/admin/dashboard")):localStorage.removeItem("adminUser")}catch(i){console.error("Error checking admin status:",i),localStorage.removeItem("adminUser")}})()},[t]);const e=r=>{Ym.success("Successfully logged in as admin!")};return c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:c.jsx("div",{className:"max-w-md w-full",children:c.jsx(ylt,{onSuccess:e})})})},Yre=b.forwardRef(({className:t,...e},r)=>c.jsx("div",{className:"relative w-full overflow-auto",children:c.jsx("table",{ref:r,className:je("w-full caption-bottom text-sm",t),...e})}));Yre.displayName="Table";const Xre=b.forwardRef(({className:t,...e},r)=>c.jsx("thead",{ref:r,className:je("[&_tr]:border-b",t),...e}));Xre.displayName="TableHeader";const Qre=b.forwardRef(({className:t,...e},r)=>c.jsx("tbody",{ref:r,className:je("[&_tr:last-child]:border-0",t),...e}));Qre.displayName="TableBody";const wlt=b.forwardRef(({className:t,...e},r)=>c.jsx("tfoot",{ref:r,className:je("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));wlt.displayName="TableFooter";const ix=b.forwardRef(({className:t,...e},r)=>c.jsx("tr",{ref:r,className:je("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));ix.displayName="TableRow";const Lm=b.forwardRef(({className:t,...e},r)=>c.jsx("th",{ref:r,className:je("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Lm.displayName="TableHead";const Kd=b.forwardRef(({className:t,...e},r)=>c.jsx("td",{ref:r,className:je("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Kd.displayName="TableCell";const blt=b.forwardRef(({className:t,...e},r)=>c.jsx("caption",{ref:r,className:je("mt-4 text-sm text-muted-foreground",t),...e}));blt.displayName="TableCaption";const _lt=()=>{const[t,e]=b.useState([]),[r,n]=b.useState(!0),[i,a]=b.useState(null),o=Yi();b.useEffect(()=>{if(!localStorage.getItem("adminUser")||!Zr.currentUser){Ym.error("Please login as admin to access this page"),o("/admin/login");return}s()},[o]);const s=async()=>{try{n(!0);const h=await vlt();e(h)}catch(h){console.error("Error fetching users:",h),a("Failed to load users. Please try again.")}finally{n(!1)}},l=async()=>{try{await Zr.signOut(),localStorage.removeItem("adminUser"),Ym.success("Successfully logged out"),o("/admin/login")}catch(h){console.error("Error signing out:",h),Ym.error("Failed to log out. Please try again.")}},u=h=>{try{const p=localStorage.getItem(`tasks_${h}`);return p?JSON.parse(p):[]}catch(p){return console.error("Error loading user tasks:",p),[]}},d=()=>{try{let h=0;return t.forEach(p=>{const m=u(p.id);h+=m.length}),h}catch{return 0}},f=()=>{try{let h=0;return t.forEach(p=>{try{const m=localStorage.getItem(`trips_${p.id}`);if(m){const g=JSON.parse(m);h+=g.length}}catch{}}),h}catch{return 0}};return c.jsx("div",{className:"min-h-screen bg-background p-6",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(cO,{className:"h-10 w-10 text-primary"}),c.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"})]}),c.jsxs(K,{variant:"outline",onClick:l,children:[c.jsx(_V,{className:"h-4 w-4 mr-2"}),"Logout"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[c.jsxs(Te,{children:[c.jsx(Fe,{className:"pb-2",children:c.jsx(Be,{className:"text-sm font-medium",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ri,{className:"h-4 w-4"}),"Total Users"]})})}),c.jsx(Ne,{children:c.jsx("div",{className:"text-3xl font-bold",children:t.length})})]}),c.jsxs(Te,{children:[c.jsx(Fe,{className:"pb-2",children:c.jsx(Be,{className:"text-sm font-medium",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Yoe,{className:"h-4 w-4"}),"Total Tasks"]})})}),c.jsx(Ne,{children:c.jsx("div",{className:"text-3xl font-bold",children:d()})})]}),c.jsxs(Te,{children:[c.jsx(Fe,{className:"pb-2",children:c.jsx(Be,{className:"text-sm font-medium",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(lr,{className:"h-4 w-4"}),"Shopping Trips"]})})}),c.jsx(Ne,{children:c.jsx("div",{className:"text-3xl font-bold",children:f()})})]})]}),c.jsxs(Te,{className:"mb-8",children:[c.jsx(Fe,{children:c.jsx(Be,{children:"User Management"})}),c.jsx(Ne,{children:r?c.jsx("div",{className:"text-center py-4",children:"Loading users..."}):i?c.jsx("div",{className:"text-center text-red-500 py-4",children:i}):c.jsxs(Yre,{children:[c.jsx(Xre,{children:c.jsxs(ix,{children:[c.jsx(Lm,{children:"Name"}),c.jsx(Lm,{children:"Email"}),c.jsx(Lm,{children:"Tasks"}),c.jsx(Lm,{children:"Actions"})]})}),c.jsx(Qre,{children:t.length>0?t.map(h=>{const p=u(h.id);return c.jsxs(ix,{children:[c.jsx(Kd,{className:"font-medium",children:h.name}),c.jsx(Kd,{children:h.email||"N/A"}),c.jsx(Kd,{children:p.length}),c.jsx(Kd,{children:c.jsx(K,{variant:"outline",size:"sm",children:"View Details"})})]},h.id)}):c.jsx(ix,{children:c.jsx(Kd,{colSpan:4,className:"text-center",children:"No users found."})})})]})})]})]})})};function Slt(){const t=Yi(),{user:e,isAdmin:r}=qr(),{members:n,currentHousehold:i,inviteMember:a,removeMember:o,updateMember:s}=Ej(),{toast:l}=un(),[u,d]=b.useState(""),[f,h]=b.useState(""),[p,m]=b.useState(""),[g,v]=b.useState(!1),[x,y]=b.useState("email"),[w,S]=b.useState([]);b.useEffect(()=>{(async()=>{if(e)try{const j=await qg.getSentInvitations(e.id);S(j)}catch(j){console.error("Error loading sent invitations:",j)}})()},[e]);const E=async I=>{if(I.preventDefault(),!u.trim()){l({title:"Email required",description:"Please enter an email address to send the invitation.",variant:"destructive"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)){l({title:"Invalid email",description:"Please enter a valid email address.",variant:"destructive"});return}try{v(!0),await a(u,p||void 0),l({title:"Invitation sent!",description:`Invitation sent to ${u}. Check the browser console to see the invitation details (demo mode).`}),d(""),m("");const O=await qg.getSentInvitations((e==null?void 0:e.id)||"");S(O)}catch{l({title:"Failed to send invitation",description:"Please try again later.",variant:"destructive"})}finally{v(!1)}},C=async I=>{if(I.preventDefault(),!f.trim()){l({title:"Phone number required",description:"Please enter a phone number to send the invitation.",variant:"destructive"});return}l({title:"Phone invites coming soon!",description:"SMS invitations are not yet available. Please use email invitations for now.",variant:"default"})},A=async(I,j)=>{if(I===(e==null?void 0:e.id)){l({title:"Cannot remove yourself",description:"You cannot remove yourself from the household.",variant:"destructive"});return}try{o(I),l({title:"Member removed",description:`${j} has been removed from your household.`})}catch{l({title:"Failed to remove member",description:"Please try again later.",variant:"destructive"})}},T=I=>{switch(I){case"owner":return c.jsx(aO,{className:"h-4 w-4 text-yellow-600"});case"admin":return c.jsx(lO,{className:"h-4 w-4 text-blue-600"});default:return c.jsx(kg,{className:"h-4 w-4 text-gray-600"})}},N=I=>{switch(I){case"owner":return"bg-yellow-100 text-yellow-800";case"admin":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return c.jsx(pa,{children:c.jsxs("div",{className:"p-4 md:p-8",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[c.jsx(K,{variant:"ghost",size:"icon",onClick:()=>t("/profile"),children:c.jsx(nO,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Manage Household"}),c.jsx("p",{className:"text-slate-500",children:"Invite people to join your household and manage shared expenses"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs(Te,{children:[c.jsxs(Fe,{children:[c.jsxs(Be,{className:"flex items-center gap-2",children:[c.jsx(ri,{className:"h-5 w-5"}),"Current Members"]}),c.jsxs(tt,{children:[i==null?void 0:i.name,"  ",n.length," member",n.length!==1?"s":""]})]}),c.jsx(Ne,{children:c.jsx("div",{className:"space-y-4",children:n.map(I=>c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs(zr,{children:[c.jsx(Zu,{src:I.avatar}),c.jsx(Wr,{className:"bg-teal-100 text-teal-700",children:I.name.charAt(0).toUpperCase()})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-medium",children:I.name}),I.id===(e==null?void 0:e.id)&&c.jsx(mt,{variant:"outline",className:"text-xs",children:"You"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[T(I.role),c.jsx("span",{className:"capitalize",children:I.role}),I.email&&c.jsxs("span",{children:[" ",I.email]})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(mt,{className:N(I.role),children:I.role}),I.id!==(e==null?void 0:e.id)&&I.role!=="owner"&&c.jsx(K,{variant:"ghost",size:"sm",onClick:()=>A(I.id,I.name),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:c.jsx(Li,{className:"h-4 w-4"})})]})]},I.id))})})]}),c.jsxs(Te,{children:[c.jsxs(Fe,{children:[c.jsxs(Be,{className:"flex items-center gap-2",children:[c.jsx(HC,{className:"h-5 w-5"}),"Invite New Members"]}),c.jsx(tt,{children:"Send invitations to join your household"})]}),c.jsx(Ne,{children:c.jsxs(Pc,{value:x,onValueChange:y,children:[c.jsxs(el,{className:"grid w-full grid-cols-2",children:[c.jsxs(sr,{value:"email",className:"flex items-center gap-2",children:[c.jsx(Af,{className:"h-4 w-4"}),"Email"]}),c.jsxs(sr,{value:"phone",className:"flex items-center gap-2",children:[c.jsx(hse,{className:"h-4 w-4"}),"Phone"]})]}),c.jsx(jr,{value:"email",className:"space-y-4",children:c.jsxs("form",{onSubmit:E,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"email",children:"Email Address"}),c.jsx(Ue,{id:"email",type:"email",placeholder:"friend@example.com",value:u,onChange:I=>d(I.target.value),disabled:g})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"message",children:"Custom Message (optional)"}),c.jsx(wv,{id:"message",placeholder:"Join our household on TaskaLoop to coordinate shopping trips and split expenses...",value:p,onChange:I=>m(I.target.value),rows:4,disabled:g})]}),c.jsx(K,{type:"submit",disabled:g,className:"w-full",children:g?"Sending...":c.jsxs(c.Fragment,{children:[c.jsx(ao,{className:"h-4 w-4 mr-2"}),"Send Email Invitation"]})})]})}),c.jsx(jr,{value:"phone",className:"space-y-4",children:c.jsxs("form",{onSubmit:C,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"phone",children:"Phone Number"}),c.jsx(Ue,{id:"phone",type:"tel",placeholder:"+1 (555) 123-4567",value:f,onChange:I=>h(I.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ce,{htmlFor:"sms-message",children:"Custom Message (optional)"}),c.jsx(wv,{id:"sms-message",placeholder:"Join our household on TaskaLoop...",value:p,onChange:I=>m(I.target.value),rows:3})]}),c.jsxs(K,{type:"submit",className:"w-full",variant:"outline",children:[c.jsx(ao,{className:"h-4 w-4 mr-2"}),"Send SMS Invitation (Coming Soon)"]})]})})]})})]})]}),c.jsxs(Te,{className:"mt-8",children:[c.jsx(Fe,{children:c.jsx(Be,{children:"How it works"})}),c.jsx(Ne,{children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-3",children:c.jsx(Af,{className:"h-6 w-6 text-blue-600"})}),c.jsx("h3",{className:"font-semibold mb-1",children:"Send Invitation"}),c.jsx("p",{className:"text-sm text-slate-600",children:"Enter their email or phone number and send an invitation"})]}),c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-3",children:c.jsx(HC,{className:"h-6 w-6 text-green-600"})}),c.jsx("h3",{className:"font-semibold mb-1",children:"They Join"}),c.jsx("p",{className:"text-sm text-slate-600",children:"They'll receive instructions to download TaskaLoop and join your household"})]}),c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mb-3",children:c.jsx(ri,{className:"h-6 w-6 text-purple-600"})}),c.jsx("h3",{className:"font-semibold mb-1",children:"Start Collaborating"}),c.jsx("p",{className:"text-sm text-slate-600",children:"Share shopping lists, split expenses, and coordinate household tasks"})]})]})})]}),w.length>0&&c.jsxs(Te,{className:"mt-8",children:[c.jsxs(Fe,{children:[c.jsxs(Be,{className:"flex items-center gap-2",children:[c.jsx(ao,{className:"h-5 w-5"}),"Recent Invitations"]}),c.jsx(tt,{children:"Invitations you've sent recently"})]}),c.jsxs(Ne,{children:[c.jsx("div",{className:"space-y-3",children:w.slice(0,5).map(I=>c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:c.jsx(Af,{className:"h-5 w-5 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:I.toEmail}),c.jsxs("div",{className:"text-sm text-slate-500 flex items-center gap-2",children:[c.jsx(Pr,{className:"h-3 w-3"}),new Date(I.createdAt).toLocaleDateString()]})]})]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs(mt,{variant:I.status==="pending"?"default":I.status==="accepted"?"success":"destructive",className:"flex items-center gap-1",children:[I.status==="pending"&&c.jsx(Pr,{className:"h-3 w-3"}),I.status==="accepted"&&c.jsx(Kn,{className:"h-3 w-3"}),I.status==="rejected"&&c.jsx(_o,{className:"h-3 w-3"}),I.status.charAt(0).toUpperCase()+I.status.slice(1)]})})]},I.id))}),c.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(_o,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),c.jsxs("div",{className:"text-sm text-blue-800",children:[c.jsx("strong",{children:"Demo Mode:"})," Invitations are currently simulated. Check the browser console (Developer Tools) to see the invitation details and links. In production, these would be sent as real emails."]})]})})]})]})]})})}const Pi=({children:t})=>{const{user:e,isLoading:r}=qr(),n=ds();return r?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-500/40 via-green-500/40 to-blue-500/40 dark:from-blue-700/50 dark:via-green-700/50 dark:to-blue-700/50",children:c.jsxs("svg",{className:"animate-spin h-10 w-10 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):e?c.jsx(c.Fragment,{children:t}):c.jsx(TO,{to:"/login",state:{from:n},replace:!0})},Elt=({children:t})=>{const[e,r]=b.useState(null),[n,i]=b.useState(!0),a=ds();return b.useEffect(()=>{(async()=>{try{if(i(!0),!Zr.currentUser){r(!1);return}const s=await Kre();r(s)}catch(s){console.error("Error checking admin status:",s),r(!1)}finally{i(!1)}})()},[]),n?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("svg",{className:"animate-spin h-10 w-10 text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):e?c.jsx(c.Fragment,{children:t}):c.jsx(TO,{to:"/admin/login",state:{from:a},replace:!0})},Alt=()=>{const{id:t}=Iue(),{trips:e,updateTrip:r}=os(),[n,i]=b.useState(null),[a,o]=b.useState([]),[s,l]=b.useState("");b.useEffect(()=>{const m=e.find(v=>v.id===t);m&&i(m),o([{id:"p1",name:"Milk",quantity:1,category:"Dairy",lowStock:!1},{id:"p2",name:"Bread",quantity:2,category:"Bakery",lowStock:!0},{id:"p3",name:"Eggs",quantity:12,category:"Dairy",lowStock:!1}])},[t,e]);const u=b.useMemo(()=>{const m=a.map(g=>g.name);return Array.from(new Set([...PJ,...OJ,...m]))},[a]),d=()=>{if(!n||!s.trim())return;const m={name:s,quantity:1,checked:!1,addedBy:{name:"You",avatar:""}},g={...n,items:[...n.items,{...m,id:Date.now().toString()}]};r(n.id,g),l(""),Vl({title:"Item Added",description:`${s} has been added to the trip.`})},f=m=>{if(!n)return;const g=n.items.map(v=>v.id===m?{...v,checked:!v.checked}:v);r(n.id,{...n,items:g})},h=m=>{if(!n)return;const g=n.items.filter(v=>v.id!==m);r(n.id,{...n,items:g})};if(!n)return c.jsx(pa,{children:c.jsx("div",{className:"p-4 md:p-8",children:c.jsx("p",{children:"Trip not found."})})});const p=n.items.length>0?n.items.filter(m=>m.checked).length/n.items.length*100:0;return c.jsx(pa,{children:c.jsxs("div",{className:"p-4 md:p-8 space-y-6",children:[c.jsxs(Te,{children:[c.jsx(Fe,{children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx(Be,{className:"text-2xl",children:n.store}),c.jsxs(tt,{className:"flex items-center gap-2",children:[c.jsx(Pr,{className:"h-4 w-4"}),new Date(n.date).toLocaleDateString()]})]}),c.jsx(mt,{variant:n.status==="shopping"?"default":"outline",children:n.status})]})}),c.jsxs(Ne,{children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[c.jsx(ri,{className:"h-4 w-4 mr-2"}),c.jsxs("span",{children:[n.participants.length," participants"]})]}),c.jsx("div",{className:"flex -space-x-2",children:n.participants.map(m=>c.jsxs(zr,{className:"h-8 w-8 border-2 border-background",children:[c.jsx(Zu,{src:m.avatar}),c.jsx(Wr,{children:m.name[0]})]},m.id))})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx(ce,{children:"Progress"}),c.jsx(Qg,{value:p,className:"mt-1"})]})]}),c.jsxs(Bt,{className:"flex gap-2",children:[c.jsxs(K,{children:[c.jsx(Kn,{className:"h-4 w-4 mr-2"}),"Complete Trip"]}),c.jsxs(K,{variant:"outline",children:[c.jsx(HC,{className:"h-4 w-4 mr-2"}),"Invite"]})]})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"md:col-span-2 space-y-6",children:[c.jsxs(Te,{children:[c.jsx(Fe,{children:c.jsx(Be,{children:"Shopping List"})}),c.jsxs(Ne,{className:"space-y-4",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx(IJ,{suggestions:u,value:s,onChange:l,onSelect:l,placeholder:"Add an item..."}),c.jsxs(K,{onClick:d,children:[c.jsx(Or,{className:"h-4 w-4 mr-2"}),"Add"]})]}),c.jsx("ul",{className:"space-y-2",children:n.items.map(m=>c.jsxs("li",{className:"flex items-center justify-between p-3 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(kc,{checked:m.checked,onCheckedChange:()=>f(m.id)}),c.jsx("span",{className:m.checked?"line-through text-muted-foreground":"",children:m.name})]}),c.jsx(K,{variant:"ghost",size:"icon",onClick:()=>h(m.id),children:c.jsx(uO,{className:"h-4 w-4"})})]},m.id))})]})]}),c.jsxs(Te,{children:[c.jsx(Fe,{children:c.jsx(Be,{children:"Cost Summary"})}),c.jsx(Ne,{children:c.jsx(NJ,{tripId:n.id,tripName:n.store,items:n.items,participants:n.participants})})]})]}),c.jsx("div",{className:"space-y-6",children:c.jsxs(Te,{children:[c.jsx(Fe,{children:c.jsx(Be,{children:"Add from Pantry"})}),c.jsx(Ne,{children:c.jsx("ul",{className:"space-y-2",children:a.map(m=>c.jsxs("li",{className:"flex items-center justify-between",children:[c.jsx("span",{children:m.name}),c.jsx(K,{variant:"outline",size:"icon",onClick:()=>{l(m.name),d()},children:c.jsx(Or,{className:"h-4 w-4"})})]},m.id))})})]})})]})]})})},Clt=()=>(b.useEffect(()=>{const t=localStorage.getItem("theme");t==="dark"?document.documentElement.classList.add("dark"):(t||localStorage.setItem("theme","light"),document.documentElement.classList.remove("dark"))},[]),c.jsx(Zce,{children:c.jsx(M1e,{children:c.jsx(Nwe,{children:c.jsx(Iwe,{children:c.jsx(Cwe,{children:c.jsx(Pwe,{children:c.jsx(jwe,{children:c.jsx(Rwe,{children:c.jsx(Dwe,{children:c.jsxs(Yue,{children:[c.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[c.jsx("div",{className:"pattern-overlay"}),c.jsx(Lwe,{}),c.jsxs(zue,{children:[c.jsx(Rr,{path:"/",element:c.jsx(lEe,{})}),c.jsx(Rr,{path:"/login",element:c.jsx(plt,{})}),c.jsx(Rr,{path:"/admin/login",element:c.jsx(xlt,{})}),c.jsx(Rr,{path:"/admin/dashboard",element:c.jsx(Elt,{children:c.jsx(_lt,{})})}),c.jsx(Rr,{path:"/home",element:c.jsx(Pi,{children:c.jsx(aNe,{})})}),c.jsx(Rr,{path:"/dashboard",element:c.jsx(Pi,{children:c.jsx(hlt,{})})}),c.jsx(Rr,{path:"/map",element:c.jsx(Pi,{children:c.jsx(oUe,{})})}),c.jsx(Rr,{path:"/trips",element:c.jsx(Pi,{children:c.jsx(YBe,{})})}),c.jsx(Rr,{path:"/trip/:id",element:c.jsx(Pi,{children:c.jsx(Alt,{})})}),c.jsx(Rr,{path:"/ledger",element:c.jsx(Pi,{children:c.jsx(gHe,{})})}),c.jsx(Rr,{path:"/pantry",element:c.jsx(Pi,{children:c.jsx(fHe,{})})}),c.jsx(Rr,{path:"/calendar",element:c.jsx(Pi,{children:c.jsx(mlt,{})})}),c.jsx(Rr,{path:"/profile",element:c.jsx(Pi,{children:c.jsx(yA,{})})}),c.jsx(Rr,{path:"/invite-household",element:c.jsx(Pi,{children:c.jsx(Slt,{})})}),c.jsx(Rr,{path:"/household",element:c.jsx(Pi,{children:c.jsx(yA,{})})}),c.jsx(Rr,{path:"/roommates",element:c.jsx(Pi,{children:c.jsx(yA,{})})}),c.jsx(Rr,{path:"/settings",element:c.jsx(Pi,{children:c.jsx(mHe,{})})}),c.jsx(Rr,{path:"/history",element:c.jsx(TO,{to:"/trips?view=past",replace:!0})}),c.jsx(Rr,{path:"/recurring-items",element:c.jsx(Pi,{children:c.jsx(pHe,{})})}),c.jsx(Rr,{path:"*",element:c.jsx(vHe,{})})]}),c.jsx(sEe,{})]}),c.jsx(tle,{}),c.jsx(Cle,{})]})})})})})})})})})})),uR=document.createElement("meta");uR.name="viewport";uR.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover";document.getElementsByTagName("head")[0].appendChild(uR);const cS=document.createElement("meta");cS.name="theme-color";cS.content="#F0F9FF";document.getElementsByTagName("head")[0].appendChild(cS);const k7=localStorage.getItem("theme");k7==="dark"?(document.documentElement.classList.add("dark"),cS.content="#0F172A"):(document.documentElement.classList.remove("dark"),k7||localStorage.setItem("theme","light"));qU(document.getElementById("root")).render(c.jsx(Clt,{}));
