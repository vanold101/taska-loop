function Hte(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Wi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ot(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var PF={exports:{}},nb={},OF={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv=Symbol.for("react.element"),Gte=Symbol.for("react.portal"),qte=Symbol.for("react.fragment"),Kte=Symbol.for("react.strict_mode"),Yte=Symbol.for("react.profiler"),Xte=Symbol.for("react.provider"),Qte=Symbol.for("react.context"),Zte=Symbol.for("react.forward_ref"),Jte=Symbol.for("react.suspense"),ere=Symbol.for("react.memo"),tre=Symbol.for("react.lazy"),ZR=Symbol.iterator;function rre(t){return t===null||typeof t!="object"?null:(t=ZR&&t[ZR]||t["@@iterator"],typeof t=="function"?t:null)}var kF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RF=Object.assign,DF={};function bh(t,e,r){this.props=t,this.context=e,this.refs=DF,this.updater=r||kF}bh.prototype.isReactComponent={};bh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};bh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jF(){}jF.prototype=bh.prototype;function mN(t,e,r){this.props=t,this.context=e,this.refs=DF,this.updater=r||kF}var gN=mN.prototype=new jF;gN.constructor=mN;RF(gN,bh.prototype);gN.isPureReactComponent=!0;var JR=Array.isArray,MF=Object.prototype.hasOwnProperty,vN={current:null},LF={key:!0,ref:!0,__self:!0,__source:!0};function $F(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)MF.call(e,n)&&!LF.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Dv,type:t,key:a,ref:o,props:i,_owner:vN.current}}function nre(t,e){return{$$typeof:Dv,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yN(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dv}function ire(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var eD=/\/+/g;function H_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ire(""+t.key):e.toString(36)}function Hy(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Dv:case Gte:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+H_(o,0):n,JR(i)?(r="",t!=null&&(r=t.replace(eD,"$&/")+"/"),Hy(i,e,r,"",function(c){return c})):i!=null&&(yN(i)&&(i=nre(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(eD,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",JR(t))for(var s=0;s<t.length;s++){a=t[s];var l=n+H_(a,s);o+=Hy(a,e,r,l,i)}else if(l=rre(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=n+H_(a,s++),o+=Hy(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function V0(t,e,r){if(t==null)return t;var n=[],i=0;return Hy(t,n,"","",function(a){return e.call(r,a,i++)}),n}function are(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pi={current:null},Gy={transition:null},ore={ReactCurrentDispatcher:pi,ReactCurrentBatchConfig:Gy,ReactCurrentOwner:vN};function FF(){throw Error("act(...) is not supported in production builds of React.")}it.Children={map:V0,forEach:function(t,e,r){V0(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return V0(t,function(){e++}),e},toArray:function(t){return V0(t,function(e){return e})||[]},only:function(t){if(!yN(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};it.Component=bh;it.Fragment=qte;it.Profiler=Yte;it.PureComponent=mN;it.StrictMode=Kte;it.Suspense=Jte;it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ore;it.act=FF;it.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=RF({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=vN.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)MF.call(e,l)&&!LF.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:Dv,type:t.type,key:i,ref:a,props:n,_owner:o}};it.createContext=function(t){return t={$$typeof:Qte,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Xte,_context:t},t.Consumer=t};it.createElement=$F;it.createFactory=function(t){var e=$F.bind(null,t);return e.type=t,e};it.createRef=function(){return{current:null}};it.forwardRef=function(t){return{$$typeof:Zte,render:t}};it.isValidElement=yN;it.lazy=function(t){return{$$typeof:tre,_payload:{_status:-1,_result:t},_init:are}};it.memo=function(t,e){return{$$typeof:ere,type:t,compare:e===void 0?null:e}};it.startTransition=function(t){var e=Gy.transition;Gy.transition={};try{t()}finally{Gy.transition=e}};it.unstable_act=FF;it.useCallback=function(t,e){return pi.current.useCallback(t,e)};it.useContext=function(t){return pi.current.useContext(t)};it.useDebugValue=function(){};it.useDeferredValue=function(t){return pi.current.useDeferredValue(t)};it.useEffect=function(t,e){return pi.current.useEffect(t,e)};it.useId=function(){return pi.current.useId()};it.useImperativeHandle=function(t,e,r){return pi.current.useImperativeHandle(t,e,r)};it.useInsertionEffect=function(t,e){return pi.current.useInsertionEffect(t,e)};it.useLayoutEffect=function(t,e){return pi.current.useLayoutEffect(t,e)};it.useMemo=function(t,e){return pi.current.useMemo(t,e)};it.useReducer=function(t,e,r){return pi.current.useReducer(t,e,r)};it.useRef=function(t){return pi.current.useRef(t)};it.useState=function(t){return pi.current.useState(t)};it.useSyncExternalStore=function(t,e,r){return pi.current.useSyncExternalStore(t,e,r)};it.useTransition=function(){return pi.current.useTransition()};it.version="18.3.1";OF.exports=it;var _=OF.exports;const j=ot(_),BF=Hte({__proto__:null,default:j},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sre=_,lre=Symbol.for("react.element"),cre=Symbol.for("react.fragment"),ure=Object.prototype.hasOwnProperty,dre=sre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fre={key:!0,ref:!0,__self:!0,__source:!0};function VF(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)ure.call(e,n)&&!fre.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:lre,type:t,key:a,ref:o,props:i,_owner:dre.current}}nb.Fragment=cre;nb.jsx=VF;nb.jsxs=VF;PF.exports=nb;var d=PF.exports,UF={exports:{}},ea={},zF={exports:{}},WF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,$){var W=B.length;B.push($);e:for(;0<W;){var H=W-1>>>1,G=B[H];if(0<i(G,$))B[H]=$,B[W]=G,W=H;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var $=B[0],W=B.pop();if(W!==$){B[0]=W;e:for(var H=0,G=B.length,Z=G>>>1;H<Z;){var se=2*(H+1)-1,ce=B[se],Oe=se+1,pe=B[Oe];if(0>i(ce,W))Oe<G&&0>i(pe,ce)?(B[H]=pe,B[Oe]=W,H=Oe):(B[H]=ce,B[se]=W,H=se);else if(Oe<G&&0>i(pe,W))B[H]=pe,B[Oe]=W,H=Oe;else break e}}return $}function i(B,$){var W=B.sortIndex-$.sortIndex;return W!==0?W:B.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,f=null,h=3,p=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(B){for(var $=r(c);$!==null;){if($.callback===null)n(c);else if($.startTime<=B)n(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=r(c)}}function S(B){if(g=!1,b(B),!m)if(r(l)!==null)m=!0,L(E);else{var $=r(c);$!==null&&z(S,$.startTime-B)}}function E(B,$){m=!1,g&&(g=!1,y(T),T=-1),p=!0;var W=h;try{for(b($),f=r(l);f!==null&&(!(f.expirationTime>$)||B&&!O());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var G=H(f.expirationTime<=$);$=t.unstable_now(),typeof G=="function"?f.callback=G:f===r(l)&&n(l),b($)}else n(l);f=r(l)}if(f!==null)var Z=!0;else{var se=r(c);se!==null&&z(S,se.startTime-$),Z=!1}return Z}finally{f=null,h=W,p=!1}}var C=!1,A=null,T=-1,I=5,N=-1;function O(){return!(t.unstable_now()-N<I)}function R(){if(A!==null){var B=t.unstable_now();N=B;var $=!0;try{$=A(!0,B)}finally{$?k():(C=!1,A=null)}}else C=!1}var k;if(typeof x=="function")k=function(){x(R)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,U=M.port2;M.port1.onmessage=R,k=function(){U.postMessage(null)}}else k=function(){v(R,0)};function L(B){A=B,C||(C=!0,k())}function z(B,$){T=v(function(){B(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,L(E))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(B){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var W=h;h=$;try{return B()}finally{h=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,$){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var W=h;h=B;try{return $()}finally{h=W}},t.unstable_scheduleCallback=function(B,$,W){var H=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?H+W:H):W=H,B){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=W+G,B={id:u++,callback:$,priorityLevel:B,startTime:W,expirationTime:G,sortIndex:-1},W>H?(B.sortIndex=W,e(c,B),r(l)===null&&B===r(c)&&(g?(y(T),T=-1):g=!0,z(S,W-H))):(B.sortIndex=G,e(l,B),m||p||(m=!0,L(E))),B},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(B){var $=h;return function(){var W=h;h=$;try{return B.apply(this,arguments)}finally{h=W}}}})(WF);zF.exports=WF;var hre=zF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pre=_,Yi=hre;function me(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var HF=new Set,Km={};function qu(t,e){wf(t,e),wf(t+"Capture",e)}function wf(t,e){for(Km[t]=e,t=0;t<e.length;t++)HF.add(e[t])}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sA=Object.prototype.hasOwnProperty,mre=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tD={},rD={};function gre(t){return sA.call(rD,t)?!0:sA.call(tD,t)?!1:mre.test(t)?rD[t]=!0:(tD[t]=!0,!1)}function vre(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yre(t,e,r,n){if(e===null||typeof e>"u"||vre(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mi(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var An={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){An[t]=new mi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];An[e]=new mi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){An[t]=new mi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){An[t]=new mi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){An[t]=new mi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){An[t]=new mi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){An[t]=new mi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){An[t]=new mi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){An[t]=new mi(t,5,!1,t.toLowerCase(),null,!1,!1)});var xN=/[\-:]([a-z])/g;function wN(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xN,wN);An[e]=new mi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xN,wN);An[e]=new mi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xN,wN);An[e]=new mi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){An[t]=new mi(t,1,!1,t.toLowerCase(),null,!1,!1)});An.xlinkHref=new mi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){An[t]=new mi(t,1,!1,t.toLowerCase(),null,!0,!0)});function bN(t,e,r,n){var i=An.hasOwnProperty(e)?An[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yre(e,r,i,n)&&(r=null),n||i===null?gre(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ws=pre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U0=Symbol.for("react.element"),Nd=Symbol.for("react.portal"),Pd=Symbol.for("react.fragment"),_N=Symbol.for("react.strict_mode"),lA=Symbol.for("react.profiler"),GF=Symbol.for("react.provider"),qF=Symbol.for("react.context"),SN=Symbol.for("react.forward_ref"),cA=Symbol.for("react.suspense"),uA=Symbol.for("react.suspense_list"),EN=Symbol.for("react.memo"),dl=Symbol.for("react.lazy"),KF=Symbol.for("react.offscreen"),nD=Symbol.iterator;function Sp(t){return t===null||typeof t!="object"?null:(t=nD&&t[nD]||t["@@iterator"],typeof t=="function"?t:null)}var lr=Object.assign,G_;function Jp(t){if(G_===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);G_=e&&e[1]||""}return`
`+G_+t}var q_=!1;function K_(t,e){if(!t||q_)return"";q_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{q_=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Jp(t):""}function xre(t){switch(t.tag){case 5:return Jp(t.type);case 16:return Jp("Lazy");case 13:return Jp("Suspense");case 19:return Jp("SuspenseList");case 0:case 2:case 15:return t=K_(t.type,!1),t;case 11:return t=K_(t.type.render,!1),t;case 1:return t=K_(t.type,!0),t;default:return""}}function dA(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pd:return"Fragment";case Nd:return"Portal";case lA:return"Profiler";case _N:return"StrictMode";case cA:return"Suspense";case uA:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qF:return(t.displayName||"Context")+".Consumer";case GF:return(t._context.displayName||"Context")+".Provider";case SN:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case EN:return e=t.displayName||null,e!==null?e:dA(t.type)||"Memo";case dl:e=t._payload,t=t._init;try{return dA(t(e))}catch{}}return null}function wre(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dA(e);case 8:return e===_N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function YF(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bre(t){var e=YF(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function z0(t){t._valueTracker||(t._valueTracker=bre(t))}function XF(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=YF(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function O1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fA(t,e){var r=e.checked;return lr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function iD(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Xl(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function QF(t,e){e=e.checked,e!=null&&bN(t,"checked",e,!1)}function hA(t,e){QF(t,e);var r=Xl(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pA(t,e.type,r):e.hasOwnProperty("defaultValue")&&pA(t,e.type,Xl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function aD(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function pA(t,e,r){(e!=="number"||O1(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var em=Array.isArray;function Qd(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Xl(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function mA(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(me(91));return lr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function oD(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(me(92));if(em(r)){if(1<r.length)throw Error(me(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Xl(r)}}function ZF(t,e){var r=Xl(e.value),n=Xl(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function sD(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function JF(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gA(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?JF(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var W0,e7=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(W0=W0||document.createElement("div"),W0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=W0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ym(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var xm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_re=["Webkit","ms","Moz","O"];Object.keys(xm).forEach(function(t){_re.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xm[e]=xm[t]})});function t7(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||xm.hasOwnProperty(t)&&xm[t]?(""+e).trim():e+"px"}function r7(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=t7(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Sre=lr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vA(t,e){if(e){if(Sre[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(me(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(me(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(me(62))}}function yA(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xA=null;function AN(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wA=null,Zd=null,Jd=null;function lD(t){if(t=Lv(t)){if(typeof wA!="function")throw Error(me(280));var e=t.stateNode;e&&(e=lb(e),wA(t.stateNode,t.type,e))}}function n7(t){Zd?Jd?Jd.push(t):Jd=[t]:Zd=t}function i7(){if(Zd){var t=Zd,e=Jd;if(Jd=Zd=null,lD(t),e)for(t=0;t<e.length;t++)lD(e[t])}}function a7(t,e){return t(e)}function o7(){}var Y_=!1;function s7(t,e,r){if(Y_)return t(e,r);Y_=!0;try{return a7(t,e,r)}finally{Y_=!1,(Zd!==null||Jd!==null)&&(o7(),i7())}}function Xm(t,e){var r=t.stateNode;if(r===null)return null;var n=lb(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(me(231,e,typeof r));return r}var bA=!1;if(Es)try{var Ep={};Object.defineProperty(Ep,"passive",{get:function(){bA=!0}}),window.addEventListener("test",Ep,Ep),window.removeEventListener("test",Ep,Ep)}catch{bA=!1}function Ere(t,e,r,n,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var wm=!1,k1=null,R1=!1,_A=null,Are={onError:function(t){wm=!0,k1=t}};function Cre(t,e,r,n,i,a,o,s,l){wm=!1,k1=null,Ere.apply(Are,arguments)}function Tre(t,e,r,n,i,a,o,s,l){if(Cre.apply(this,arguments),wm){if(wm){var c=k1;wm=!1,k1=null}else throw Error(me(198));R1||(R1=!0,_A=c)}}function Ku(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function l7(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cD(t){if(Ku(t)!==t)throw Error(me(188))}function Ire(t){var e=t.alternate;if(!e){if(e=Ku(t),e===null)throw Error(me(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return cD(i),t;if(a===n)return cD(i),e;a=a.sibling}throw Error(me(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(me(189))}}if(r.alternate!==n)throw Error(me(190))}if(r.tag!==3)throw Error(me(188));return r.stateNode.current===r?t:e}function c7(t){return t=Ire(t),t!==null?u7(t):null}function u7(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=u7(t);if(e!==null)return e;t=t.sibling}return null}var d7=Yi.unstable_scheduleCallback,uD=Yi.unstable_cancelCallback,Nre=Yi.unstable_shouldYield,Pre=Yi.unstable_requestPaint,wr=Yi.unstable_now,Ore=Yi.unstable_getCurrentPriorityLevel,CN=Yi.unstable_ImmediatePriority,f7=Yi.unstable_UserBlockingPriority,D1=Yi.unstable_NormalPriority,kre=Yi.unstable_LowPriority,h7=Yi.unstable_IdlePriority,ib=null,Po=null;function Rre(t){if(Po&&typeof Po.onCommitFiberRoot=="function")try{Po.onCommitFiberRoot(ib,t,void 0,(t.current.flags&128)===128)}catch{}}var Qa=Math.clz32?Math.clz32:Mre,Dre=Math.log,jre=Math.LN2;function Mre(t){return t>>>=0,t===0?32:31-(Dre(t)/jre|0)|0}var H0=64,G0=4194304;function tm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function j1(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=tm(s):(a&=o,a!==0&&(n=tm(a)))}else o=r&~i,o!==0?n=tm(o):a!==0&&(n=tm(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Qa(e),i=1<<r,n|=t[r],e&=~i;return n}function Lre(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $re(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Qa(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=Lre(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function SA(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function p7(){var t=H0;return H0<<=1,!(H0&4194240)&&(H0=64),t}function X_(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function jv(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qa(e),t[e]=r}function Fre(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Qa(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function TN(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Qa(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var It=0;function m7(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var g7,IN,v7,y7,x7,EA=!1,q0=[],Pl=null,Ol=null,kl=null,Qm=new Map,Zm=new Map,gl=[],Bre="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dD(t,e){switch(t){case"focusin":case"focusout":Pl=null;break;case"dragenter":case"dragleave":Ol=null;break;case"mouseover":case"mouseout":kl=null;break;case"pointerover":case"pointerout":Qm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zm.delete(e.pointerId)}}function Ap(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Lv(e),e!==null&&IN(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Vre(t,e,r,n,i){switch(e){case"focusin":return Pl=Ap(Pl,t,e,r,n,i),!0;case"dragenter":return Ol=Ap(Ol,t,e,r,n,i),!0;case"mouseover":return kl=Ap(kl,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Qm.set(a,Ap(Qm.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Zm.set(a,Ap(Zm.get(a)||null,t,e,r,n,i)),!0}return!1}function w7(t){var e=Zc(t.target);if(e!==null){var r=Ku(e);if(r!==null){if(e=r.tag,e===13){if(e=l7(r),e!==null){t.blockedOn=e,x7(t.priority,function(){v7(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=AA(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);xA=n,r.target.dispatchEvent(n),xA=null}else return e=Lv(r),e!==null&&IN(e),t.blockedOn=r,!1;e.shift()}return!0}function fD(t,e,r){qy(t)&&r.delete(e)}function Ure(){EA=!1,Pl!==null&&qy(Pl)&&(Pl=null),Ol!==null&&qy(Ol)&&(Ol=null),kl!==null&&qy(kl)&&(kl=null),Qm.forEach(fD),Zm.forEach(fD)}function Cp(t,e){t.blockedOn===e&&(t.blockedOn=null,EA||(EA=!0,Yi.unstable_scheduleCallback(Yi.unstable_NormalPriority,Ure)))}function Jm(t){function e(i){return Cp(i,t)}if(0<q0.length){Cp(q0[0],t);for(var r=1;r<q0.length;r++){var n=q0[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Pl!==null&&Cp(Pl,t),Ol!==null&&Cp(Ol,t),kl!==null&&Cp(kl,t),Qm.forEach(e),Zm.forEach(e),r=0;r<gl.length;r++)n=gl[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<gl.length&&(r=gl[0],r.blockedOn===null);)w7(r),r.blockedOn===null&&gl.shift()}var ef=Ws.ReactCurrentBatchConfig,M1=!0;function zre(t,e,r,n){var i=It,a=ef.transition;ef.transition=null;try{It=1,NN(t,e,r,n)}finally{It=i,ef.transition=a}}function Wre(t,e,r,n){var i=It,a=ef.transition;ef.transition=null;try{It=4,NN(t,e,r,n)}finally{It=i,ef.transition=a}}function NN(t,e,r,n){if(M1){var i=AA(t,e,r,n);if(i===null)oS(t,e,n,L1,r),dD(t,n);else if(Vre(i,t,e,r,n))n.stopPropagation();else if(dD(t,n),e&4&&-1<Bre.indexOf(t)){for(;i!==null;){var a=Lv(i);if(a!==null&&g7(a),a=AA(t,e,r,n),a===null&&oS(t,e,n,L1,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else oS(t,e,n,null,r)}}var L1=null;function AA(t,e,r,n){if(L1=null,t=AN(n),t=Zc(t),t!==null)if(e=Ku(t),e===null)t=null;else if(r=e.tag,r===13){if(t=l7(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return L1=t,null}function b7(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ore()){case CN:return 1;case f7:return 4;case D1:case kre:return 16;case h7:return 536870912;default:return 16}default:return 16}}var Sl=null,PN=null,Ky=null;function _7(){if(Ky)return Ky;var t,e=PN,r=e.length,n,i="value"in Sl?Sl.value:Sl.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return Ky=i.slice(t,1<n?1-n:void 0)}function Yy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function K0(){return!0}function hD(){return!1}function ta(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?K0:hD,this.isPropagationStopped=hD,this}return lr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=K0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=K0)},persist:function(){},isPersistent:K0}),e}var _h={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ON=ta(_h),Mv=lr({},_h,{view:0,detail:0}),Hre=ta(Mv),Q_,Z_,Tp,ab=lr({},Mv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kN,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Tp&&(Tp&&t.type==="mousemove"?(Q_=t.screenX-Tp.screenX,Z_=t.screenY-Tp.screenY):Z_=Q_=0,Tp=t),Q_)},movementY:function(t){return"movementY"in t?t.movementY:Z_}}),pD=ta(ab),Gre=lr({},ab,{dataTransfer:0}),qre=ta(Gre),Kre=lr({},Mv,{relatedTarget:0}),J_=ta(Kre),Yre=lr({},_h,{animationName:0,elapsedTime:0,pseudoElement:0}),Xre=ta(Yre),Qre=lr({},_h,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Zre=ta(Qre),Jre=lr({},_h,{data:0}),mD=ta(Jre),ene={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tne={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nne(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rne[t])?!!e[t]:!1}function kN(){return nne}var ine=lr({},Mv,{key:function(t){if(t.key){var e=ene[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tne[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kN,charCode:function(t){return t.type==="keypress"?Yy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ane=ta(ine),one=lr({},ab,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gD=ta(one),sne=lr({},Mv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kN}),lne=ta(sne),cne=lr({},_h,{propertyName:0,elapsedTime:0,pseudoElement:0}),une=ta(cne),dne=lr({},ab,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fne=ta(dne),hne=[9,13,27,32],RN=Es&&"CompositionEvent"in window,bm=null;Es&&"documentMode"in document&&(bm=document.documentMode);var pne=Es&&"TextEvent"in window&&!bm,S7=Es&&(!RN||bm&&8<bm&&11>=bm),vD=" ",yD=!1;function E7(t,e){switch(t){case"keyup":return hne.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A7(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Od=!1;function mne(t,e){switch(t){case"compositionend":return A7(e);case"keypress":return e.which!==32?null:(yD=!0,vD);case"textInput":return t=e.data,t===vD&&yD?null:t;default:return null}}function gne(t,e){if(Od)return t==="compositionend"||!RN&&E7(t,e)?(t=_7(),Ky=PN=Sl=null,Od=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return S7&&e.locale!=="ko"?null:e.data;default:return null}}var vne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xD(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vne[t.type]:e==="textarea"}function C7(t,e,r,n){n7(n),e=$1(e,"onChange"),0<e.length&&(r=new ON("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var _m=null,eg=null;function yne(t){L7(t,0)}function ob(t){var e=Dd(t);if(XF(e))return t}function xne(t,e){if(t==="change")return e}var T7=!1;if(Es){var eS;if(Es){var tS="oninput"in document;if(!tS){var wD=document.createElement("div");wD.setAttribute("oninput","return;"),tS=typeof wD.oninput=="function"}eS=tS}else eS=!1;T7=eS&&(!document.documentMode||9<document.documentMode)}function bD(){_m&&(_m.detachEvent("onpropertychange",I7),eg=_m=null)}function I7(t){if(t.propertyName==="value"&&ob(eg)){var e=[];C7(e,eg,t,AN(t)),s7(yne,e)}}function wne(t,e,r){t==="focusin"?(bD(),_m=e,eg=r,_m.attachEvent("onpropertychange",I7)):t==="focusout"&&bD()}function bne(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ob(eg)}function _ne(t,e){if(t==="click")return ob(e)}function Sne(t,e){if(t==="input"||t==="change")return ob(e)}function Ene(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var no=typeof Object.is=="function"?Object.is:Ene;function tg(t,e){if(no(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!sA.call(e,i)||!no(t[i],e[i]))return!1}return!0}function _D(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function SD(t,e){var r=_D(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_D(r)}}function N7(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?N7(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function P7(){for(var t=window,e=O1();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=O1(t.document)}return e}function DN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ane(t){var e=P7(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&N7(r.ownerDocument.documentElement,r)){if(n!==null&&DN(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=SD(r,a);var o=SD(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Cne=Es&&"documentMode"in document&&11>=document.documentMode,kd=null,CA=null,Sm=null,TA=!1;function ED(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;TA||kd==null||kd!==O1(n)||(n=kd,"selectionStart"in n&&DN(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Sm&&tg(Sm,n)||(Sm=n,n=$1(CA,"onSelect"),0<n.length&&(e=new ON("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=kd)))}function Y0(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Rd={animationend:Y0("Animation","AnimationEnd"),animationiteration:Y0("Animation","AnimationIteration"),animationstart:Y0("Animation","AnimationStart"),transitionend:Y0("Transition","TransitionEnd")},rS={},O7={};Es&&(O7=document.createElement("div").style,"AnimationEvent"in window||(delete Rd.animationend.animation,delete Rd.animationiteration.animation,delete Rd.animationstart.animation),"TransitionEvent"in window||delete Rd.transitionend.transition);function sb(t){if(rS[t])return rS[t];if(!Rd[t])return t;var e=Rd[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in O7)return rS[t]=e[r];return t}var k7=sb("animationend"),R7=sb("animationiteration"),D7=sb("animationstart"),j7=sb("transitionend"),M7=new Map,AD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mc(t,e){M7.set(t,e),qu(e,[t])}for(var nS=0;nS<AD.length;nS++){var iS=AD[nS],Tne=iS.toLowerCase(),Ine=iS[0].toUpperCase()+iS.slice(1);mc(Tne,"on"+Ine)}mc(k7,"onAnimationEnd");mc(R7,"onAnimationIteration");mc(D7,"onAnimationStart");mc("dblclick","onDoubleClick");mc("focusin","onFocus");mc("focusout","onBlur");mc(j7,"onTransitionEnd");wf("onMouseEnter",["mouseout","mouseover"]);wf("onMouseLeave",["mouseout","mouseover"]);wf("onPointerEnter",["pointerout","pointerover"]);wf("onPointerLeave",["pointerout","pointerover"]);qu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qu("onBeforeInput",["compositionend","keypress","textInput","paste"]);qu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nne=new Set("cancel close invalid load scroll toggle".split(" ").concat(rm));function CD(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Tre(n,e,void 0,t),t.currentTarget=null}function L7(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;CD(i,s,c),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;CD(i,s,c),a=l}}}if(R1)throw t=_A,R1=!1,_A=null,t}function Ut(t,e){var r=e[kA];r===void 0&&(r=e[kA]=new Set);var n=t+"__bubble";r.has(n)||($7(e,t,2,!1),r.add(n))}function aS(t,e,r){var n=0;e&&(n|=4),$7(r,t,n,e)}var X0="_reactListening"+Math.random().toString(36).slice(2);function rg(t){if(!t[X0]){t[X0]=!0,HF.forEach(function(r){r!=="selectionchange"&&(Nne.has(r)||aS(r,!1,t),aS(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[X0]||(e[X0]=!0,aS("selectionchange",!1,e))}}function $7(t,e,r,n){switch(b7(e)){case 1:var i=zre;break;case 4:i=Wre;break;default:i=NN}r=i.bind(null,e,r,t),i=void 0,!bA||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function oS(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Zc(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}s7(function(){var c=a,u=AN(r),f=[];e:{var h=M7.get(t);if(h!==void 0){var p=ON,m=t;switch(t){case"keypress":if(Yy(r)===0)break e;case"keydown":case"keyup":p=ane;break;case"focusin":m="focus",p=J_;break;case"focusout":m="blur",p=J_;break;case"beforeblur":case"afterblur":p=J_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=pD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=qre;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=lne;break;case k7:case R7:case D7:p=Xre;break;case j7:p=une;break;case"scroll":p=Hre;break;case"wheel":p=fne;break;case"copy":case"cut":case"paste":p=Zre;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=gD}var g=(e&4)!==0,v=!g&&t==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var x=c,b;x!==null;){b=x;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,y!==null&&(S=Xm(x,y),S!=null&&g.push(ng(x,S,b)))),v)break;x=x.return}0<g.length&&(h=new p(h,m,null,r,u),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==xA&&(m=r.relatedTarget||r.fromElement)&&(Zc(m)||m[As]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?Zc(m):null,m!==null&&(v=Ku(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=pD,S="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(g=gD,S="onPointerLeave",y="onPointerEnter",x="pointer"),v=p==null?h:Dd(p),b=m==null?h:Dd(m),h=new g(S,x+"leave",p,r,u),h.target=v,h.relatedTarget=b,S=null,Zc(u)===c&&(g=new g(y,x+"enter",m,r,u),g.target=b,g.relatedTarget=v,S=g),v=S,p&&m)t:{for(g=p,y=m,x=0,b=g;b;b=hd(b))x++;for(b=0,S=y;S;S=hd(S))b++;for(;0<x-b;)g=hd(g),x--;for(;0<b-x;)y=hd(y),b--;for(;x--;){if(g===y||y!==null&&g===y.alternate)break t;g=hd(g),y=hd(y)}g=null}else g=null;p!==null&&TD(f,h,p,g,!1),m!==null&&v!==null&&TD(f,v,m,g,!0)}}e:{if(h=c?Dd(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=xne;else if(xD(h))if(T7)E=Sne;else{E=bne;var C=wne}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=_ne);if(E&&(E=E(t,c))){C7(f,E,r,u);break e}C&&C(t,h,c),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&pA(h,"number",h.value)}switch(C=c?Dd(c):window,t){case"focusin":(xD(C)||C.contentEditable==="true")&&(kd=C,CA=c,Sm=null);break;case"focusout":Sm=CA=kd=null;break;case"mousedown":TA=!0;break;case"contextmenu":case"mouseup":case"dragend":TA=!1,ED(f,r,u);break;case"selectionchange":if(Cne)break;case"keydown":case"keyup":ED(f,r,u)}var A;if(RN)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Od?E7(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(S7&&r.locale!=="ko"&&(Od||T!=="onCompositionStart"?T==="onCompositionEnd"&&Od&&(A=_7()):(Sl=u,PN="value"in Sl?Sl.value:Sl.textContent,Od=!0)),C=$1(c,T),0<C.length&&(T=new mD(T,t,null,r,u),f.push({event:T,listeners:C}),A?T.data=A:(A=A7(r),A!==null&&(T.data=A)))),(A=pne?mne(t,r):gne(t,r))&&(c=$1(c,"onBeforeInput"),0<c.length&&(u=new mD("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=A))}L7(f,e)})}function ng(t,e,r){return{instance:t,listener:e,currentTarget:r}}function $1(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Xm(t,r),a!=null&&n.unshift(ng(t,a,i)),a=Xm(t,e),a!=null&&n.push(ng(t,a,i))),t=t.return}return n}function hd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function TD(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,i?(l=Xm(r,a),l!=null&&o.unshift(ng(r,l,s))):i||(l=Xm(r,a),l!=null&&o.push(ng(r,l,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Pne=/\r\n?/g,One=/\u0000|\uFFFD/g;function ID(t){return(typeof t=="string"?t:""+t).replace(Pne,`
`).replace(One,"")}function Q0(t,e,r){if(e=ID(e),ID(t)!==e&&r)throw Error(me(425))}function F1(){}var IA=null,NA=null;function PA(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var OA=typeof setTimeout=="function"?setTimeout:void 0,kne=typeof clearTimeout=="function"?clearTimeout:void 0,ND=typeof Promise=="function"?Promise:void 0,Rne=typeof queueMicrotask=="function"?queueMicrotask:typeof ND<"u"?function(t){return ND.resolve(null).then(t).catch(Dne)}:OA;function Dne(t){setTimeout(function(){throw t})}function sS(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Jm(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Jm(e)}function Rl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function PD(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Sh=Math.random().toString(36).slice(2),Eo="__reactFiber$"+Sh,ig="__reactProps$"+Sh,As="__reactContainer$"+Sh,kA="__reactEvents$"+Sh,jne="__reactListeners$"+Sh,Mne="__reactHandles$"+Sh;function Zc(t){var e=t[Eo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[As]||r[Eo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=PD(t);t!==null;){if(r=t[Eo])return r;t=PD(t)}return e}t=r,r=t.parentNode}return null}function Lv(t){return t=t[Eo]||t[As],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Dd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(me(33))}function lb(t){return t[ig]||null}var RA=[],jd=-1;function gc(t){return{current:t}}function Kt(t){0>jd||(t.current=RA[jd],RA[jd]=null,jd--)}function $t(t,e){jd++,RA[jd]=t.current,t.current=e}var Ql={},qn=gc(Ql),Ai=gc(!1),xu=Ql;function bf(t,e){var r=t.type.contextTypes;if(!r)return Ql;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ci(t){return t=t.childContextTypes,t!=null}function B1(){Kt(Ai),Kt(qn)}function OD(t,e,r){if(qn.current!==Ql)throw Error(me(168));$t(qn,e),$t(Ai,r)}function F7(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(me(108,wre(t)||"Unknown",i));return lr({},r,n)}function V1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ql,xu=qn.current,$t(qn,t),$t(Ai,Ai.current),!0}function kD(t,e,r){var n=t.stateNode;if(!n)throw Error(me(169));r?(t=F7(t,e,xu),n.__reactInternalMemoizedMergedChildContext=t,Kt(Ai),Kt(qn),$t(qn,t)):Kt(Ai),$t(Ai,r)}var is=null,cb=!1,lS=!1;function B7(t){is===null?is=[t]:is.push(t)}function Lne(t){cb=!0,B7(t)}function vc(){if(!lS&&is!==null){lS=!0;var t=0,e=It;try{var r=is;for(It=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}is=null,cb=!1}catch(i){throw is!==null&&(is=is.slice(t+1)),d7(CN,vc),i}finally{It=e,lS=!1}}return null}var Md=[],Ld=0,U1=null,z1=0,da=[],fa=0,wu=null,os=1,ss="";function Vc(t,e){Md[Ld++]=z1,Md[Ld++]=U1,U1=t,z1=e}function V7(t,e,r){da[fa++]=os,da[fa++]=ss,da[fa++]=wu,wu=t;var n=os;t=ss;var i=32-Qa(n)-1;n&=~(1<<i),r+=1;var a=32-Qa(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,os=1<<32-Qa(e)+i|r<<i|n,ss=a+t}else os=1<<a|r<<i|n,ss=t}function jN(t){t.return!==null&&(Vc(t,1),V7(t,1,0))}function MN(t){for(;t===U1;)U1=Md[--Ld],Md[Ld]=null,z1=Md[--Ld],Md[Ld]=null;for(;t===wu;)wu=da[--fa],da[fa]=null,ss=da[--fa],da[fa]=null,os=da[--fa],da[fa]=null}var Gi=null,Hi=null,Qt=!1,Wa=null;function U7(t,e){var r=ma(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function RD(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gi=t,Hi=Rl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gi=t,Hi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=wu!==null?{id:os,overflow:ss}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ma(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Gi=t,Hi=null,!0):!1;default:return!1}}function DA(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jA(t){if(Qt){var e=Hi;if(e){var r=e;if(!RD(t,e)){if(DA(t))throw Error(me(418));e=Rl(r.nextSibling);var n=Gi;e&&RD(t,e)?U7(n,r):(t.flags=t.flags&-4097|2,Qt=!1,Gi=t)}}else{if(DA(t))throw Error(me(418));t.flags=t.flags&-4097|2,Qt=!1,Gi=t}}}function DD(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gi=t}function Z0(t){if(t!==Gi)return!1;if(!Qt)return DD(t),Qt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!PA(t.type,t.memoizedProps)),e&&(e=Hi)){if(DA(t))throw z7(),Error(me(418));for(;e;)U7(t,e),e=Rl(e.nextSibling)}if(DD(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(me(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Hi=Rl(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Hi=null}}else Hi=Gi?Rl(t.stateNode.nextSibling):null;return!0}function z7(){for(var t=Hi;t;)t=Rl(t.nextSibling)}function _f(){Hi=Gi=null,Qt=!1}function LN(t){Wa===null?Wa=[t]:Wa.push(t)}var $ne=Ws.ReactCurrentBatchConfig;function Ip(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(me(309));var n=r.stateNode}if(!n)throw Error(me(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(me(284));if(!r._owner)throw Error(me(290,t))}return t}function J0(t,e){throw t=Object.prototype.toString.call(e),Error(me(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jD(t){var e=t._init;return e(t._payload)}function W7(t){function e(y,x){if(t){var b=y.deletions;b===null?(y.deletions=[x],y.flags|=16):b.push(x)}}function r(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Ll(y,x),y.index=0,y.sibling=null,y}function a(y,x,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<x?(y.flags|=2,x):b):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function s(y,x,b,S){return x===null||x.tag!==6?(x=mS(b,y.mode,S),x.return=y,x):(x=i(x,b),x.return=y,x)}function l(y,x,b,S){var E=b.type;return E===Pd?u(y,x,b.props.children,S,b.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===dl&&jD(E)===x.type)?(S=i(x,b.props),S.ref=Ip(y,x,b),S.return=y,S):(S=r1(b.type,b.key,b.props,null,y.mode,S),S.ref=Ip(y,x,b),S.return=y,S)}function c(y,x,b,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=gS(b,y.mode,S),x.return=y,x):(x=i(x,b.children||[]),x.return=y,x)}function u(y,x,b,S,E){return x===null||x.tag!==7?(x=du(b,y.mode,S,E),x.return=y,x):(x=i(x,b),x.return=y,x)}function f(y,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=mS(""+x,y.mode,b),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case U0:return b=r1(x.type,x.key,x.props,null,y.mode,b),b.ref=Ip(y,null,x),b.return=y,b;case Nd:return x=gS(x,y.mode,b),x.return=y,x;case dl:var S=x._init;return f(y,S(x._payload),b)}if(em(x)||Sp(x))return x=du(x,y.mode,b,null),x.return=y,x;J0(y,x)}return null}function h(y,x,b,S){var E=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:s(y,x,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case U0:return b.key===E?l(y,x,b,S):null;case Nd:return b.key===E?c(y,x,b,S):null;case dl:return E=b._init,h(y,x,E(b._payload),S)}if(em(b)||Sp(b))return E!==null?null:u(y,x,b,S,null);J0(y,b)}return null}function p(y,x,b,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(b)||null,s(x,y,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case U0:return y=y.get(S.key===null?b:S.key)||null,l(x,y,S,E);case Nd:return y=y.get(S.key===null?b:S.key)||null,c(x,y,S,E);case dl:var C=S._init;return p(y,x,b,C(S._payload),E)}if(em(S)||Sp(S))return y=y.get(b)||null,u(x,y,S,E,null);J0(x,S)}return null}function m(y,x,b,S){for(var E=null,C=null,A=x,T=x=0,I=null;A!==null&&T<b.length;T++){A.index>T?(I=A,A=null):I=A.sibling;var N=h(y,A,b[T],S);if(N===null){A===null&&(A=I);break}t&&A&&N.alternate===null&&e(y,A),x=a(N,x,T),C===null?E=N:C.sibling=N,C=N,A=I}if(T===b.length)return r(y,A),Qt&&Vc(y,T),E;if(A===null){for(;T<b.length;T++)A=f(y,b[T],S),A!==null&&(x=a(A,x,T),C===null?E=A:C.sibling=A,C=A);return Qt&&Vc(y,T),E}for(A=n(y,A);T<b.length;T++)I=p(A,y,T,b[T],S),I!==null&&(t&&I.alternate!==null&&A.delete(I.key===null?T:I.key),x=a(I,x,T),C===null?E=I:C.sibling=I,C=I);return t&&A.forEach(function(O){return e(y,O)}),Qt&&Vc(y,T),E}function g(y,x,b,S){var E=Sp(b);if(typeof E!="function")throw Error(me(150));if(b=E.call(b),b==null)throw Error(me(151));for(var C=E=null,A=x,T=x=0,I=null,N=b.next();A!==null&&!N.done;T++,N=b.next()){A.index>T?(I=A,A=null):I=A.sibling;var O=h(y,A,N.value,S);if(O===null){A===null&&(A=I);break}t&&A&&O.alternate===null&&e(y,A),x=a(O,x,T),C===null?E=O:C.sibling=O,C=O,A=I}if(N.done)return r(y,A),Qt&&Vc(y,T),E;if(A===null){for(;!N.done;T++,N=b.next())N=f(y,N.value,S),N!==null&&(x=a(N,x,T),C===null?E=N:C.sibling=N,C=N);return Qt&&Vc(y,T),E}for(A=n(y,A);!N.done;T++,N=b.next())N=p(A,y,T,N.value,S),N!==null&&(t&&N.alternate!==null&&A.delete(N.key===null?T:N.key),x=a(N,x,T),C===null?E=N:C.sibling=N,C=N);return t&&A.forEach(function(R){return e(y,R)}),Qt&&Vc(y,T),E}function v(y,x,b,S){if(typeof b=="object"&&b!==null&&b.type===Pd&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case U0:e:{for(var E=b.key,C=x;C!==null;){if(C.key===E){if(E=b.type,E===Pd){if(C.tag===7){r(y,C.sibling),x=i(C,b.props.children),x.return=y,y=x;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===dl&&jD(E)===C.type){r(y,C.sibling),x=i(C,b.props),x.ref=Ip(y,C,b),x.return=y,y=x;break e}r(y,C);break}else e(y,C);C=C.sibling}b.type===Pd?(x=du(b.props.children,y.mode,S,b.key),x.return=y,y=x):(S=r1(b.type,b.key,b.props,null,y.mode,S),S.ref=Ip(y,x,b),S.return=y,y=S)}return o(y);case Nd:e:{for(C=b.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(y,x.sibling),x=i(x,b.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else e(y,x);x=x.sibling}x=gS(b,y.mode,S),x.return=y,y=x}return o(y);case dl:return C=b._init,v(y,x,C(b._payload),S)}if(em(b))return m(y,x,b,S);if(Sp(b))return g(y,x,b,S);J0(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(y,x.sibling),x=i(x,b),x.return=y,y=x):(r(y,x),x=mS(b,y.mode,S),x.return=y,y=x),o(y)):r(y,x)}return v}var Sf=W7(!0),H7=W7(!1),W1=gc(null),H1=null,$d=null,$N=null;function FN(){$N=$d=H1=null}function BN(t){var e=W1.current;Kt(W1),t._currentValue=e}function MA(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function tf(t,e){H1=t,$N=$d=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Si=!0),t.firstContext=null)}function _a(t){var e=t._currentValue;if($N!==t)if(t={context:t,memoizedValue:e,next:null},$d===null){if(H1===null)throw Error(me(308));$d=t,H1.dependencies={lanes:0,firstContext:t}}else $d=$d.next=t;return e}var Jc=null;function VN(t){Jc===null?Jc=[t]:Jc.push(t)}function G7(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,VN(e)):(r.next=i.next,i.next=r),e.interleaved=r,Cs(t,n)}function Cs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var fl=!1;function UN(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function q7(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Dl(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,yt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Cs(t,r)}return i=n.interleaved,i===null?(e.next=e,VN(n)):(e.next=i.next,i.next=e),n.interleaved=e,Cs(t,r)}function Xy(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,TN(t,r)}}function MD(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function G1(t,e,r,n){var i=t.updateQueue;fl=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,u=c=l=null,s=a;do{var h=s.lane,p=s.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=t,g=s;switch(h=e,p=r,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=lr({},f,h);break e;case 2:fl=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);_u|=o,t.lanes=o,t.memoizedState=f}}function LD(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(me(191,i));i.call(n)}}}var $v={},Oo=gc($v),ag=gc($v),og=gc($v);function eu(t){if(t===$v)throw Error(me(174));return t}function zN(t,e){switch($t(og,e),$t(ag,t),$t(Oo,$v),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gA(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gA(e,t)}Kt(Oo),$t(Oo,e)}function Ef(){Kt(Oo),Kt(ag),Kt(og)}function K7(t){eu(og.current);var e=eu(Oo.current),r=gA(e,t.type);e!==r&&($t(ag,t),$t(Oo,r))}function WN(t){ag.current===t&&(Kt(Oo),Kt(ag))}var er=gc(0);function q1(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cS=[];function HN(){for(var t=0;t<cS.length;t++)cS[t]._workInProgressVersionPrimary=null;cS.length=0}var Qy=Ws.ReactCurrentDispatcher,uS=Ws.ReactCurrentBatchConfig,bu=0,or=null,Fr=null,sn=null,K1=!1,Em=!1,sg=0,Fne=0;function On(){throw Error(me(321))}function GN(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!no(t[r],e[r]))return!1;return!0}function qN(t,e,r,n,i,a){if(bu=a,or=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qy.current=t===null||t.memoizedState===null?zne:Wne,t=r(n,i),Em){a=0;do{if(Em=!1,sg=0,25<=a)throw Error(me(301));a+=1,sn=Fr=null,e.updateQueue=null,Qy.current=Hne,t=r(n,i)}while(Em)}if(Qy.current=Y1,e=Fr!==null&&Fr.next!==null,bu=0,sn=Fr=or=null,K1=!1,e)throw Error(me(300));return t}function KN(){var t=sg!==0;return sg=0,t}function xo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?or.memoizedState=sn=t:sn=sn.next=t,sn}function Sa(){if(Fr===null){var t=or.alternate;t=t!==null?t.memoizedState:null}else t=Fr.next;var e=sn===null?or.memoizedState:sn.next;if(e!==null)sn=e,Fr=t;else{if(t===null)throw Error(me(310));Fr=t,t={memoizedState:Fr.memoizedState,baseState:Fr.baseState,baseQueue:Fr.baseQueue,queue:Fr.queue,next:null},sn===null?or.memoizedState=sn=t:sn=sn.next=t}return sn}function lg(t,e){return typeof e=="function"?e(t):e}function dS(t){var e=Sa(),r=e.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=t;var n=Fr,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,c=a;do{var u=c.lane;if((bu&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,o=n):l=l.next=f,or.lanes|=u,_u|=u}c=c.next}while(c!==null&&c!==a);l===null?o=n:l.next=s,no(n,e.memoizedState)||(Si=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,or.lanes|=a,_u|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function fS(t){var e=Sa(),r=e.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);no(a,e.memoizedState)||(Si=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function Y7(){}function X7(t,e){var r=or,n=Sa(),i=e(),a=!no(n.memoizedState,i);if(a&&(n.memoizedState=i,Si=!0),n=n.queue,YN(J7.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||sn!==null&&sn.memoizedState.tag&1){if(r.flags|=2048,cg(9,Z7.bind(null,r,n,i,e),void 0,null),hn===null)throw Error(me(349));bu&30||Q7(r,e,i)}return i}function Q7(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=or.updateQueue,e===null?(e={lastEffect:null,stores:null},or.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Z7(t,e,r,n){e.value=r,e.getSnapshot=n,eB(e)&&tB(t)}function J7(t,e,r){return r(function(){eB(e)&&tB(t)})}function eB(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!no(t,r)}catch{return!0}}function tB(t){var e=Cs(t,1);e!==null&&Za(e,t,1,-1)}function $D(t){var e=xo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lg,lastRenderedState:t},e.queue=t,t=t.dispatch=Une.bind(null,or,t),[e.memoizedState,t]}function cg(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=or.updateQueue,e===null?(e={lastEffect:null,stores:null},or.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function rB(){return Sa().memoizedState}function Zy(t,e,r,n){var i=xo();or.flags|=t,i.memoizedState=cg(1|e,r,void 0,n===void 0?null:n)}function ub(t,e,r,n){var i=Sa();n=n===void 0?null:n;var a=void 0;if(Fr!==null){var o=Fr.memoizedState;if(a=o.destroy,n!==null&&GN(n,o.deps)){i.memoizedState=cg(e,r,a,n);return}}or.flags|=t,i.memoizedState=cg(1|e,r,a,n)}function FD(t,e){return Zy(8390656,8,t,e)}function YN(t,e){return ub(2048,8,t,e)}function nB(t,e){return ub(4,2,t,e)}function iB(t,e){return ub(4,4,t,e)}function aB(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function oB(t,e,r){return r=r!=null?r.concat([t]):null,ub(4,4,aB.bind(null,e,t),r)}function XN(){}function sB(t,e){var r=Sa();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&GN(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function lB(t,e){var r=Sa();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&GN(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function cB(t,e,r){return bu&21?(no(r,e)||(r=p7(),or.lanes|=r,_u|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Si=!0),t.memoizedState=r)}function Bne(t,e){var r=It;It=r!==0&&4>r?r:4,t(!0);var n=uS.transition;uS.transition={};try{t(!1),e()}finally{It=r,uS.transition=n}}function uB(){return Sa().memoizedState}function Vne(t,e,r){var n=Ml(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},dB(t))fB(e,r);else if(r=G7(t,e,r,n),r!==null){var i=di();Za(r,t,n,i),hB(r,e,n)}}function Une(t,e,r){var n=Ml(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(dB(t))fB(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,no(s,o)){var l=e.interleaved;l===null?(i.next=i,VN(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=G7(t,e,i,n),r!==null&&(i=di(),Za(r,t,n,i),hB(r,e,n))}}function dB(t){var e=t.alternate;return t===or||e!==null&&e===or}function fB(t,e){Em=K1=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function hB(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,TN(t,r)}}var Y1={readContext:_a,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},zne={readContext:_a,useCallback:function(t,e){return xo().memoizedState=[t,e===void 0?null:e],t},useContext:_a,useEffect:FD,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Zy(4194308,4,aB.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Zy(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zy(4,2,t,e)},useMemo:function(t,e){var r=xo();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=xo();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Vne.bind(null,or,t),[n.memoizedState,t]},useRef:function(t){var e=xo();return t={current:t},e.memoizedState=t},useState:$D,useDebugValue:XN,useDeferredValue:function(t){return xo().memoizedState=t},useTransition:function(){var t=$D(!1),e=t[0];return t=Bne.bind(null,t[1]),xo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=or,i=xo();if(Qt){if(r===void 0)throw Error(me(407));r=r()}else{if(r=e(),hn===null)throw Error(me(349));bu&30||Q7(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,FD(J7.bind(null,n,a,t),[t]),n.flags|=2048,cg(9,Z7.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=xo(),e=hn.identifierPrefix;if(Qt){var r=ss,n=os;r=(n&~(1<<32-Qa(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=sg++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Fne++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Wne={readContext:_a,useCallback:sB,useContext:_a,useEffect:YN,useImperativeHandle:oB,useInsertionEffect:nB,useLayoutEffect:iB,useMemo:lB,useReducer:dS,useRef:rB,useState:function(){return dS(lg)},useDebugValue:XN,useDeferredValue:function(t){var e=Sa();return cB(e,Fr.memoizedState,t)},useTransition:function(){var t=dS(lg)[0],e=Sa().memoizedState;return[t,e]},useMutableSource:Y7,useSyncExternalStore:X7,useId:uB,unstable_isNewReconciler:!1},Hne={readContext:_a,useCallback:sB,useContext:_a,useEffect:YN,useImperativeHandle:oB,useInsertionEffect:nB,useLayoutEffect:iB,useMemo:lB,useReducer:fS,useRef:rB,useState:function(){return fS(lg)},useDebugValue:XN,useDeferredValue:function(t){var e=Sa();return Fr===null?e.memoizedState=t:cB(e,Fr.memoizedState,t)},useTransition:function(){var t=fS(lg)[0],e=Sa().memoizedState;return[t,e]},useMutableSource:Y7,useSyncExternalStore:X7,useId:uB,unstable_isNewReconciler:!1};function Va(t,e){if(t&&t.defaultProps){e=lr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function LA(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:lr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var db={isMounted:function(t){return(t=t._reactInternals)?Ku(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=di(),i=Ml(t),a=vs(n,i);a.payload=e,r!=null&&(a.callback=r),e=Dl(t,a,i),e!==null&&(Za(e,t,i,n),Xy(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=di(),i=Ml(t),a=vs(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Dl(t,a,i),e!==null&&(Za(e,t,i,n),Xy(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=di(),n=Ml(t),i=vs(r,n);i.tag=2,e!=null&&(i.callback=e),e=Dl(t,i,n),e!==null&&(Za(e,t,n,r),Xy(e,t,n))}};function BD(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!tg(r,n)||!tg(i,a):!0}function pB(t,e,r){var n=!1,i=Ql,a=e.contextType;return typeof a=="object"&&a!==null?a=_a(a):(i=Ci(e)?xu:qn.current,n=e.contextTypes,a=(n=n!=null)?bf(t,i):Ql),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=db,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function VD(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&db.enqueueReplaceState(e,e.state,null)}function $A(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},UN(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=_a(a):(a=Ci(e)?xu:qn.current,i.context=bf(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(LA(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&db.enqueueReplaceState(i,i.state,null),G1(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Af(t,e){try{var r="",n=e;do r+=xre(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function hS(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function FA(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Gne=typeof WeakMap=="function"?WeakMap:Map;function mB(t,e,r){r=vs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Q1||(Q1=!0,YA=n),FA(t,e)},r}function gB(t,e,r){r=vs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){FA(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){FA(t,e),typeof n!="function"&&(jl===null?jl=new Set([this]):jl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function UD(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Gne;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=oie.bind(null,t,e,r),e.then(t,t))}function zD(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function WD(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=vs(-1,1),e.tag=2,Dl(r,e,1))),r.lanes|=1),t)}var qne=Ws.ReactCurrentOwner,Si=!1;function ai(t,e,r,n){e.child=t===null?H7(e,null,r,n):Sf(e,t.child,r,n)}function HD(t,e,r,n,i){r=r.render;var a=e.ref;return tf(e,i),n=qN(t,e,r,n,a,i),r=KN(),t!==null&&!Si?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ts(t,e,i)):(Qt&&r&&jN(e),e.flags|=1,ai(t,e,n,i),e.child)}function GD(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!iP(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,vB(t,e,a,n,i)):(t=r1(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:tg,r(o,n)&&t.ref===e.ref)return Ts(t,e,i)}return e.flags|=1,t=Ll(a,n),t.ref=e.ref,t.return=e,e.child=t}function vB(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(tg(a,n)&&t.ref===e.ref)if(Si=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Si=!0);else return e.lanes=t.lanes,Ts(t,e,i)}return BA(t,e,r,n,i)}function yB(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(Bd,Bi),Bi|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$t(Bd,Bi),Bi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,$t(Bd,Bi),Bi|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,$t(Bd,Bi),Bi|=n;return ai(t,e,i,r),e.child}function xB(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function BA(t,e,r,n,i){var a=Ci(r)?xu:qn.current;return a=bf(e,a),tf(e,i),r=qN(t,e,r,n,a,i),n=KN(),t!==null&&!Si?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ts(t,e,i)):(Qt&&n&&jN(e),e.flags|=1,ai(t,e,r,i),e.child)}function qD(t,e,r,n,i){if(Ci(r)){var a=!0;V1(e)}else a=!1;if(tf(e,i),e.stateNode===null)Jy(t,e),pB(e,r,n),$A(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=_a(c):(c=Ci(r)?xu:qn.current,c=bf(e,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==c)&&VD(e,o,n,c),fl=!1;var h=e.memoizedState;o.state=h,G1(e,n,o,i),l=e.memoizedState,s!==n||h!==l||Ai.current||fl?(typeof u=="function"&&(LA(e,r,u,n),l=e.memoizedState),(s=fl||BD(e,r,s,n,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,q7(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:Va(e.type,s),o.props=c,f=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=_a(l):(l=Ci(r)?xu:qn.current,l=bf(e,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&VD(e,o,n,l),fl=!1,h=e.memoizedState,o.state=h,G1(e,n,o,i);var m=e.memoizedState;s!==f||h!==m||Ai.current||fl?(typeof p=="function"&&(LA(e,r,p,n),m=e.memoizedState),(c=fl||BD(e,r,c,n,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),o.props=n,o.state=m,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return VA(t,e,r,n,a,i)}function VA(t,e,r,n,i,a){xB(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&kD(e,r,!1),Ts(t,e,a);n=e.stateNode,qne.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Sf(e,t.child,null,a),e.child=Sf(e,null,s,a)):ai(t,e,s,a),e.memoizedState=n.state,i&&kD(e,r,!0),e.child}function wB(t){var e=t.stateNode;e.pendingContext?OD(t,e.pendingContext,e.pendingContext!==e.context):e.context&&OD(t,e.context,!1),zN(t,e.containerInfo)}function KD(t,e,r,n,i){return _f(),LN(i),e.flags|=256,ai(t,e,r,n),e.child}var UA={dehydrated:null,treeContext:null,retryLane:0};function zA(t){return{baseLanes:t,cachePool:null,transitions:null}}function bB(t,e,r){var n=e.pendingProps,i=er.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),$t(er,i&1),t===null)return jA(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=pb(o,n,0,null),t=du(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=zA(r),e.memoizedState=UA,t):QN(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Kne(t,e,o,n,s,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ll(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Ll(s,a):(a=du(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?zA(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=UA,n}return a=t.child,t=a.sibling,n=Ll(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function QN(t,e){return e=pb({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ey(t,e,r,n){return n!==null&&LN(n),Sf(e,t.child,null,r),t=QN(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Kne(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=hS(Error(me(422))),ey(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=pb({mode:"visible",children:n.children},i,0,null),a=du(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Sf(e,t.child,null,o),e.child.memoizedState=zA(o),e.memoizedState=UA,a);if(!(e.mode&1))return ey(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(me(419)),n=hS(a,n,void 0),ey(t,e,o,n)}if(s=(o&t.childLanes)!==0,Si||s){if(n=hn,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Cs(t,i),Za(n,t,i,-1))}return nP(),n=hS(Error(me(421))),ey(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=sie.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Hi=Rl(i.nextSibling),Gi=e,Qt=!0,Wa=null,t!==null&&(da[fa++]=os,da[fa++]=ss,da[fa++]=wu,os=t.id,ss=t.overflow,wu=e),e=QN(e,n.children),e.flags|=4096,e)}function YD(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),MA(t.return,e,r)}function pS(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function _B(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(ai(t,e,n.children,r),n=er.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&YD(t,r,e);else if(t.tag===19)YD(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if($t(er,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&q1(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),pS(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&q1(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}pS(e,!0,r,null,a);break;case"together":pS(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ts(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),_u|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(me(153));if(e.child!==null){for(t=e.child,r=Ll(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ll(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Yne(t,e,r){switch(e.tag){case 3:wB(e),_f();break;case 5:K7(e);break;case 1:Ci(e.type)&&V1(e);break;case 4:zN(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;$t(W1,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?($t(er,er.current&1),e.flags|=128,null):r&e.child.childLanes?bB(t,e,r):($t(er,er.current&1),t=Ts(t,e,r),t!==null?t.sibling:null);$t(er,er.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return _B(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$t(er,er.current),n)break;return null;case 22:case 23:return e.lanes=0,yB(t,e,r)}return Ts(t,e,r)}var SB,WA,EB,AB;SB=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};WA=function(){};EB=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,eu(Oo.current);var a=null;switch(r){case"input":i=fA(t,i),n=fA(t,n),a=[];break;case"select":i=lr({},i,{value:void 0}),n=lr({},n,{value:void 0}),a=[];break;case"textarea":i=mA(t,i),n=mA(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=F1)}vA(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Km.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(s=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Km.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ut("scroll",t),a||s===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};AB=function(t,e,r,n){r!==n&&(e.flags|=4)};function Np(t,e){if(!Qt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function kn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Xne(t,e,r){var n=e.pendingProps;switch(MN(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(e),null;case 1:return Ci(e.type)&&B1(),kn(e),null;case 3:return n=e.stateNode,Ef(),Kt(Ai),Kt(qn),HN(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Z0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wa!==null&&(ZA(Wa),Wa=null))),WA(t,e),kn(e),null;case 5:WN(e);var i=eu(og.current);if(r=e.type,t!==null&&e.stateNode!=null)EB(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(me(166));return kn(e),null}if(t=eu(Oo.current),Z0(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Eo]=e,n[ig]=a,t=(e.mode&1)!==0,r){case"dialog":Ut("cancel",n),Ut("close",n);break;case"iframe":case"object":case"embed":Ut("load",n);break;case"video":case"audio":for(i=0;i<rm.length;i++)Ut(rm[i],n);break;case"source":Ut("error",n);break;case"img":case"image":case"link":Ut("error",n),Ut("load",n);break;case"details":Ut("toggle",n);break;case"input":iD(n,a),Ut("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ut("invalid",n);break;case"textarea":oD(n,a),Ut("invalid",n)}vA(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&Q0(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Q0(n.textContent,s,t),i=["children",""+s]):Km.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Ut("scroll",n)}switch(r){case"input":z0(n),aD(n,a,!0);break;case"textarea":z0(n),sD(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=F1)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=JF(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Eo]=e,t[ig]=n,SB(t,e,!1,!1),e.stateNode=t;e:{switch(o=yA(r,n),r){case"dialog":Ut("cancel",t),Ut("close",t),i=n;break;case"iframe":case"object":case"embed":Ut("load",t),i=n;break;case"video":case"audio":for(i=0;i<rm.length;i++)Ut(rm[i],t);i=n;break;case"source":Ut("error",t),i=n;break;case"img":case"image":case"link":Ut("error",t),Ut("load",t),i=n;break;case"details":Ut("toggle",t),i=n;break;case"input":iD(t,n),i=fA(t,n),Ut("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=lr({},n,{value:void 0}),Ut("invalid",t);break;case"textarea":oD(t,n),i=mA(t,n),Ut("invalid",t);break;default:i=n}vA(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?r7(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&e7(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ym(t,l):typeof l=="number"&&Ym(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Km.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Ut("scroll",t):l!=null&&bN(t,a,l,o))}switch(r){case"input":z0(t),aD(t,n,!1);break;case"textarea":z0(t),sD(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Xl(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Qd(t,!!n.multiple,a,!1):n.defaultValue!=null&&Qd(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=F1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kn(e),null;case 6:if(t&&e.stateNode!=null)AB(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(me(166));if(r=eu(og.current),eu(Oo.current),Z0(e)){if(n=e.stateNode,r=e.memoizedProps,n[Eo]=e,(a=n.nodeValue!==r)&&(t=Gi,t!==null))switch(t.tag){case 3:Q0(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Q0(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Eo]=e,e.stateNode=n}return kn(e),null;case 13:if(Kt(er),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qt&&Hi!==null&&e.mode&1&&!(e.flags&128))z7(),_f(),e.flags|=98560,a=!1;else if(a=Z0(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(me(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(me(317));a[Eo]=e}else _f(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kn(e),a=!1}else Wa!==null&&(ZA(Wa),Wa=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||er.current&1?Kr===0&&(Kr=3):nP())),e.updateQueue!==null&&(e.flags|=4),kn(e),null);case 4:return Ef(),WA(t,e),t===null&&rg(e.stateNode.containerInfo),kn(e),null;case 10:return BN(e.type._context),kn(e),null;case 17:return Ci(e.type)&&B1(),kn(e),null;case 19:if(Kt(er),a=e.memoizedState,a===null)return kn(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Np(a,!1);else{if(Kr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=q1(t),o!==null){for(e.flags|=128,Np(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return $t(er,er.current&1|2),e.child}t=t.sibling}a.tail!==null&&wr()>Cf&&(e.flags|=128,n=!0,Np(a,!1),e.lanes=4194304)}else{if(!n)if(t=q1(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Np(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Qt)return kn(e),null}else 2*wr()-a.renderingStartTime>Cf&&r!==1073741824&&(e.flags|=128,n=!0,Np(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=wr(),e.sibling=null,r=er.current,$t(er,n?r&1|2:r&1),e):(kn(e),null);case 22:case 23:return rP(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Bi&1073741824&&(kn(e),e.subtreeFlags&6&&(e.flags|=8192)):kn(e),null;case 24:return null;case 25:return null}throw Error(me(156,e.tag))}function Qne(t,e){switch(MN(e),e.tag){case 1:return Ci(e.type)&&B1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ef(),Kt(Ai),Kt(qn),HN(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return WN(e),null;case 13:if(Kt(er),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(me(340));_f()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Kt(er),null;case 4:return Ef(),null;case 10:return BN(e.type._context),null;case 22:case 23:return rP(),null;case 24:return null;default:return null}}var ty=!1,Fn=!1,Zne=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Fd(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){dr(t,e,n)}else r.current=null}function HA(t,e,r){try{r()}catch(n){dr(t,e,n)}}var XD=!1;function Jne(t,e){if(IA=M1,t=P7(),DN(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(s=o+i),f!==a||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++c===i&&(s=o),h===a&&++u===n&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(NA={focusedElem:t,selectionRange:r},M1=!1,Te=e;Te!==null;)if(e=Te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Te=t;else for(;Te!==null;){e=Te;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:Va(e.type,g),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(me(163))}}catch(S){dr(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Te=t;break}Te=e.return}return m=XD,XD=!1,m}function Am(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&HA(e,r,a)}i=i.next}while(i!==n)}}function fb(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function GA(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function CB(t){var e=t.alternate;e!==null&&(t.alternate=null,CB(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Eo],delete e[ig],delete e[kA],delete e[jne],delete e[Mne])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function TB(t){return t.tag===5||t.tag===3||t.tag===4}function QD(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||TB(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qA(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=F1));else if(n!==4&&(t=t.child,t!==null))for(qA(t,e,r),t=t.sibling;t!==null;)qA(t,e,r),t=t.sibling}function KA(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(KA(t,e,r),t=t.sibling;t!==null;)KA(t,e,r),t=t.sibling}var wn=null,Ua=!1;function tl(t,e,r){for(r=r.child;r!==null;)IB(t,e,r),r=r.sibling}function IB(t,e,r){if(Po&&typeof Po.onCommitFiberUnmount=="function")try{Po.onCommitFiberUnmount(ib,r)}catch{}switch(r.tag){case 5:Fn||Fd(r,e);case 6:var n=wn,i=Ua;wn=null,tl(t,e,r),wn=n,Ua=i,wn!==null&&(Ua?(t=wn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):wn.removeChild(r.stateNode));break;case 18:wn!==null&&(Ua?(t=wn,r=r.stateNode,t.nodeType===8?sS(t.parentNode,r):t.nodeType===1&&sS(t,r),Jm(t)):sS(wn,r.stateNode));break;case 4:n=wn,i=Ua,wn=r.stateNode.containerInfo,Ua=!0,tl(t,e,r),wn=n,Ua=i;break;case 0:case 11:case 14:case 15:if(!Fn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&HA(r,e,o),i=i.next}while(i!==n)}tl(t,e,r);break;case 1:if(!Fn&&(Fd(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){dr(r,e,s)}tl(t,e,r);break;case 21:tl(t,e,r);break;case 22:r.mode&1?(Fn=(n=Fn)||r.memoizedState!==null,tl(t,e,r),Fn=n):tl(t,e,r);break;default:tl(t,e,r)}}function ZD(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Zne),e.forEach(function(n){var i=lie.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Da(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:wn=s.stateNode,Ua=!1;break e;case 3:wn=s.stateNode.containerInfo,Ua=!0;break e;case 4:wn=s.stateNode.containerInfo,Ua=!0;break e}s=s.return}if(wn===null)throw Error(me(160));IB(a,o,i),wn=null,Ua=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){dr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)NB(e,t),e=e.sibling}function NB(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Da(e,t),yo(t),n&4){try{Am(3,t,t.return),fb(3,t)}catch(g){dr(t,t.return,g)}try{Am(5,t,t.return)}catch(g){dr(t,t.return,g)}}break;case 1:Da(e,t),yo(t),n&512&&r!==null&&Fd(r,r.return);break;case 5:if(Da(e,t),yo(t),n&512&&r!==null&&Fd(r,r.return),t.flags&32){var i=t.stateNode;try{Ym(i,"")}catch(g){dr(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&QF(i,a),yA(s,o);var c=yA(s,a);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?r7(i,f):u==="dangerouslySetInnerHTML"?e7(i,f):u==="children"?Ym(i,f):bN(i,u,f,c)}switch(s){case"input":hA(i,a);break;case"textarea":ZF(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Qd(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Qd(i,!!a.multiple,a.defaultValue,!0):Qd(i,!!a.multiple,a.multiple?[]:"",!1))}i[ig]=a}catch(g){dr(t,t.return,g)}}break;case 6:if(Da(e,t),yo(t),n&4){if(t.stateNode===null)throw Error(me(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){dr(t,t.return,g)}}break;case 3:if(Da(e,t),yo(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Jm(e.containerInfo)}catch(g){dr(t,t.return,g)}break;case 4:Da(e,t),yo(t);break;case 13:Da(e,t),yo(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(eP=wr())),n&4&&ZD(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Fn=(c=Fn)||u,Da(e,t),Fn=c):Da(e,t),yo(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Te=t,u=t.child;u!==null;){for(f=Te=u;Te!==null;){switch(h=Te,p=h.child,h.tag){case 0:case 11:case 14:case 15:Am(4,h,h.return);break;case 1:Fd(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){dr(n,r,g)}}break;case 5:Fd(h,h.return);break;case 22:if(h.memoizedState!==null){ej(f);continue}}p!==null?(p.return=h,Te=p):ej(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=t7("display",o))}catch(g){dr(t,t.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){dr(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Da(e,t),yo(t),n&4&&ZD(t);break;case 21:break;default:Da(e,t),yo(t)}}function yo(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(TB(r)){var n=r;break e}r=r.return}throw Error(me(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ym(i,""),n.flags&=-33);var a=QD(t);KA(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=QD(t);qA(t,s,o);break;default:throw Error(me(161))}}catch(l){dr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eie(t,e,r){Te=t,PB(t)}function PB(t,e,r){for(var n=(t.mode&1)!==0;Te!==null;){var i=Te,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||ty;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Fn;s=ty;var c=Fn;if(ty=o,(Fn=l)&&!c)for(Te=i;Te!==null;)o=Te,l=o.child,o.tag===22&&o.memoizedState!==null?tj(i):l!==null?(l.return=o,Te=l):tj(i);for(;a!==null;)Te=a,PB(a),a=a.sibling;Te=i,ty=s,Fn=c}JD(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Te=a):JD(t)}}function JD(t){for(;Te!==null;){var e=Te;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Fn||fb(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Fn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Va(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&LD(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}LD(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Jm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(me(163))}Fn||e.flags&512&&GA(e)}catch(h){dr(e,e.return,h)}}if(e===t){Te=null;break}if(r=e.sibling,r!==null){r.return=e.return,Te=r;break}Te=e.return}}function ej(t){for(;Te!==null;){var e=Te;if(e===t){Te=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Te=r;break}Te=e.return}}function tj(t){for(;Te!==null;){var e=Te;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{fb(4,e)}catch(l){dr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){dr(e,i,l)}}var a=e.return;try{GA(e)}catch(l){dr(e,a,l)}break;case 5:var o=e.return;try{GA(e)}catch(l){dr(e,o,l)}}}catch(l){dr(e,e.return,l)}if(e===t){Te=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Te=s;break}Te=e.return}}var tie=Math.ceil,X1=Ws.ReactCurrentDispatcher,ZN=Ws.ReactCurrentOwner,ya=Ws.ReactCurrentBatchConfig,yt=0,hn=null,Ir=null,En=0,Bi=0,Bd=gc(0),Kr=0,ug=null,_u=0,hb=0,JN=0,Cm=null,bi=null,eP=0,Cf=1/0,rs=null,Q1=!1,YA=null,jl=null,ry=!1,El=null,Z1=0,Tm=0,XA=null,e1=-1,t1=0;function di(){return yt&6?wr():e1!==-1?e1:e1=wr()}function Ml(t){return t.mode&1?yt&2&&En!==0?En&-En:$ne.transition!==null?(t1===0&&(t1=p7()),t1):(t=It,t!==0||(t=window.event,t=t===void 0?16:b7(t.type)),t):1}function Za(t,e,r,n){if(50<Tm)throw Tm=0,XA=null,Error(me(185));jv(t,r,n),(!(yt&2)||t!==hn)&&(t===hn&&(!(yt&2)&&(hb|=r),Kr===4&&vl(t,En)),Ti(t,n),r===1&&yt===0&&!(e.mode&1)&&(Cf=wr()+500,cb&&vc()))}function Ti(t,e){var r=t.callbackNode;$re(t,e);var n=j1(t,t===hn?En:0);if(n===0)r!==null&&uD(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&uD(r),e===1)t.tag===0?Lne(rj.bind(null,t)):B7(rj.bind(null,t)),Rne(function(){!(yt&6)&&vc()}),r=null;else{switch(m7(n)){case 1:r=CN;break;case 4:r=f7;break;case 16:r=D1;break;case 536870912:r=h7;break;default:r=D1}r=$B(r,OB.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function OB(t,e){if(e1=-1,t1=0,yt&6)throw Error(me(327));var r=t.callbackNode;if(rf()&&t.callbackNode!==r)return null;var n=j1(t,t===hn?En:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=J1(t,n);else{e=n;var i=yt;yt|=2;var a=RB();(hn!==t||En!==e)&&(rs=null,Cf=wr()+500,uu(t,e));do try{iie();break}catch(s){kB(t,s)}while(!0);FN(),X1.current=a,yt=i,Ir!==null?e=0:(hn=null,En=0,e=Kr)}if(e!==0){if(e===2&&(i=SA(t),i!==0&&(n=i,e=QA(t,i))),e===1)throw r=ug,uu(t,0),vl(t,n),Ti(t,wr()),r;if(e===6)vl(t,n);else{if(i=t.current.alternate,!(n&30)&&!rie(i)&&(e=J1(t,n),e===2&&(a=SA(t),a!==0&&(n=a,e=QA(t,a))),e===1))throw r=ug,uu(t,0),vl(t,n),Ti(t,wr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(me(345));case 2:Uc(t,bi,rs);break;case 3:if(vl(t,n),(n&130023424)===n&&(e=eP+500-wr(),10<e)){if(j1(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){di(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=OA(Uc.bind(null,t,bi,rs),e);break}Uc(t,bi,rs);break;case 4:if(vl(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Qa(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=wr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*tie(n/1960))-n,10<n){t.timeoutHandle=OA(Uc.bind(null,t,bi,rs),n);break}Uc(t,bi,rs);break;case 5:Uc(t,bi,rs);break;default:throw Error(me(329))}}}return Ti(t,wr()),t.callbackNode===r?OB.bind(null,t):null}function QA(t,e){var r=Cm;return t.current.memoizedState.isDehydrated&&(uu(t,e).flags|=256),t=J1(t,e),t!==2&&(e=bi,bi=r,e!==null&&ZA(e)),t}function ZA(t){bi===null?bi=t:bi.push.apply(bi,t)}function rie(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!no(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vl(t,e){for(e&=~JN,e&=~hb,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Qa(e),n=1<<r;t[r]=-1,e&=~n}}function rj(t){if(yt&6)throw Error(me(327));rf();var e=j1(t,0);if(!(e&1))return Ti(t,wr()),null;var r=J1(t,e);if(t.tag!==0&&r===2){var n=SA(t);n!==0&&(e=n,r=QA(t,n))}if(r===1)throw r=ug,uu(t,0),vl(t,e),Ti(t,wr()),r;if(r===6)throw Error(me(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Uc(t,bi,rs),Ti(t,wr()),null}function tP(t,e){var r=yt;yt|=1;try{return t(e)}finally{yt=r,yt===0&&(Cf=wr()+500,cb&&vc())}}function Su(t){El!==null&&El.tag===0&&!(yt&6)&&rf();var e=yt;yt|=1;var r=ya.transition,n=It;try{if(ya.transition=null,It=1,t)return t()}finally{It=n,ya.transition=r,yt=e,!(yt&6)&&vc()}}function rP(){Bi=Bd.current,Kt(Bd)}function uu(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,kne(r)),Ir!==null)for(r=Ir.return;r!==null;){var n=r;switch(MN(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&B1();break;case 3:Ef(),Kt(Ai),Kt(qn),HN();break;case 5:WN(n);break;case 4:Ef();break;case 13:Kt(er);break;case 19:Kt(er);break;case 10:BN(n.type._context);break;case 22:case 23:rP()}r=r.return}if(hn=t,Ir=t=Ll(t.current,null),En=Bi=e,Kr=0,ug=null,JN=hb=_u=0,bi=Cm=null,Jc!==null){for(e=0;e<Jc.length;e++)if(r=Jc[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Jc=null}return t}function kB(t,e){do{var r=Ir;try{if(FN(),Qy.current=Y1,K1){for(var n=or.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}K1=!1}if(bu=0,sn=Fr=or=null,Em=!1,sg=0,ZN.current=null,r===null||r.return===null){Kr=1,ug=e,Ir=null;break}e:{var a=t,o=r.return,s=r,l=e;if(e=En,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=zD(o);if(p!==null){p.flags&=-257,WD(p,o,s,a,e),p.mode&1&&UD(a,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){UD(a,c,e),nP();break e}l=Error(me(426))}}else if(Qt&&s.mode&1){var v=zD(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),WD(v,o,s,a,e),LN(Af(l,s));break e}}a=l=Af(l,s),Kr!==4&&(Kr=2),Cm===null?Cm=[a]:Cm.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=mB(a,l,e);MD(a,y);break e;case 1:s=l;var x=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(jl===null||!jl.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var S=gB(a,s,e);MD(a,S);break e}}a=a.return}while(a!==null)}jB(r)}catch(E){e=E,Ir===r&&r!==null&&(Ir=r=r.return);continue}break}while(!0)}function RB(){var t=X1.current;return X1.current=Y1,t===null?Y1:t}function nP(){(Kr===0||Kr===3||Kr===2)&&(Kr=4),hn===null||!(_u&268435455)&&!(hb&268435455)||vl(hn,En)}function J1(t,e){var r=yt;yt|=2;var n=RB();(hn!==t||En!==e)&&(rs=null,uu(t,e));do try{nie();break}catch(i){kB(t,i)}while(!0);if(FN(),yt=r,X1.current=n,Ir!==null)throw Error(me(261));return hn=null,En=0,Kr}function nie(){for(;Ir!==null;)DB(Ir)}function iie(){for(;Ir!==null&&!Nre();)DB(Ir)}function DB(t){var e=LB(t.alternate,t,Bi);t.memoizedProps=t.pendingProps,e===null?jB(t):Ir=e,ZN.current=null}function jB(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Qne(r,e),r!==null){r.flags&=32767,Ir=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Kr=6,Ir=null;return}}else if(r=Xne(r,e,Bi),r!==null){Ir=r;return}if(e=e.sibling,e!==null){Ir=e;return}Ir=e=t}while(e!==null);Kr===0&&(Kr=5)}function Uc(t,e,r){var n=It,i=ya.transition;try{ya.transition=null,It=1,aie(t,e,r,n)}finally{ya.transition=i,It=n}return null}function aie(t,e,r,n){do rf();while(El!==null);if(yt&6)throw Error(me(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(me(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(Fre(t,a),t===hn&&(Ir=hn=null,En=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ry||(ry=!0,$B(D1,function(){return rf(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ya.transition,ya.transition=null;var o=It;It=1;var s=yt;yt|=4,ZN.current=null,Jne(t,r),NB(r,t),Ane(NA),M1=!!IA,NA=IA=null,t.current=r,eie(r),Pre(),yt=s,It=o,ya.transition=a}else t.current=r;if(ry&&(ry=!1,El=t,Z1=i),a=t.pendingLanes,a===0&&(jl=null),Rre(r.stateNode),Ti(t,wr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Q1)throw Q1=!1,t=YA,YA=null,t;return Z1&1&&t.tag!==0&&rf(),a=t.pendingLanes,a&1?t===XA?Tm++:(Tm=0,XA=t):Tm=0,vc(),null}function rf(){if(El!==null){var t=m7(Z1),e=ya.transition,r=It;try{if(ya.transition=null,It=16>t?16:t,El===null)var n=!1;else{if(t=El,El=null,Z1=0,yt&6)throw Error(me(331));var i=yt;for(yt|=4,Te=t.current;Te!==null;){var a=Te,o=a.child;if(Te.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(Te=c;Te!==null;){var u=Te;switch(u.tag){case 0:case 11:case 15:Am(8,u,a)}var f=u.child;if(f!==null)f.return=u,Te=f;else for(;Te!==null;){u=Te;var h=u.sibling,p=u.return;if(CB(u),u===c){Te=null;break}if(h!==null){h.return=p,Te=h;break}Te=p}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}Te=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Te=o;else e:for(;Te!==null;){if(a=Te,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Am(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,Te=y;break e}Te=a.return}}var x=t.current;for(Te=x;Te!==null;){o=Te;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Te=b;else e:for(o=x;Te!==null;){if(s=Te,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:fb(9,s)}}catch(E){dr(s,s.return,E)}if(s===o){Te=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,Te=S;break e}Te=s.return}}if(yt=i,vc(),Po&&typeof Po.onPostCommitFiberRoot=="function")try{Po.onPostCommitFiberRoot(ib,t)}catch{}n=!0}return n}finally{It=r,ya.transition=e}}return!1}function nj(t,e,r){e=Af(r,e),e=mB(t,e,1),t=Dl(t,e,1),e=di(),t!==null&&(jv(t,1,e),Ti(t,e))}function dr(t,e,r){if(t.tag===3)nj(t,t,r);else for(;e!==null;){if(e.tag===3){nj(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(jl===null||!jl.has(n))){t=Af(r,t),t=gB(e,t,1),e=Dl(e,t,1),t=di(),e!==null&&(jv(e,1,t),Ti(e,t));break}}e=e.return}}function oie(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=di(),t.pingedLanes|=t.suspendedLanes&r,hn===t&&(En&r)===r&&(Kr===4||Kr===3&&(En&130023424)===En&&500>wr()-eP?uu(t,0):JN|=r),Ti(t,e)}function MB(t,e){e===0&&(t.mode&1?(e=G0,G0<<=1,!(G0&130023424)&&(G0=4194304)):e=1);var r=di();t=Cs(t,e),t!==null&&(jv(t,e,r),Ti(t,r))}function sie(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),MB(t,r)}function lie(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(me(314))}n!==null&&n.delete(e),MB(t,r)}var LB;LB=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ai.current)Si=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Si=!1,Yne(t,e,r);Si=!!(t.flags&131072)}else Si=!1,Qt&&e.flags&1048576&&V7(e,z1,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Jy(t,e),t=e.pendingProps;var i=bf(e,qn.current);tf(e,r),i=qN(null,e,n,t,i,r);var a=KN();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ci(n)?(a=!0,V1(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,UN(e),i.updater=db,e.stateNode=i,i._reactInternals=e,$A(e,n,t,r),e=VA(null,e,n,!0,a,r)):(e.tag=0,Qt&&a&&jN(e),ai(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Jy(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=uie(n),t=Va(n,t),i){case 0:e=BA(null,e,n,t,r);break e;case 1:e=qD(null,e,n,t,r);break e;case 11:e=HD(null,e,n,t,r);break e;case 14:e=GD(null,e,n,Va(n.type,t),r);break e}throw Error(me(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Va(n,i),BA(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Va(n,i),qD(t,e,n,i,r);case 3:e:{if(wB(e),t===null)throw Error(me(387));n=e.pendingProps,a=e.memoizedState,i=a.element,q7(t,e),G1(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Af(Error(me(423)),e),e=KD(t,e,n,r,i);break e}else if(n!==i){i=Af(Error(me(424)),e),e=KD(t,e,n,r,i);break e}else for(Hi=Rl(e.stateNode.containerInfo.firstChild),Gi=e,Qt=!0,Wa=null,r=H7(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_f(),n===i){e=Ts(t,e,r);break e}ai(t,e,n,r)}e=e.child}return e;case 5:return K7(e),t===null&&jA(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,PA(n,i)?o=null:a!==null&&PA(n,a)&&(e.flags|=32),xB(t,e),ai(t,e,o,r),e.child;case 6:return t===null&&jA(e),null;case 13:return bB(t,e,r);case 4:return zN(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Sf(e,null,n,r):ai(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Va(n,i),HD(t,e,n,i,r);case 7:return ai(t,e,e.pendingProps,r),e.child;case 8:return ai(t,e,e.pendingProps.children,r),e.child;case 12:return ai(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,$t(W1,n._currentValue),n._currentValue=o,a!==null)if(no(a.value,o)){if(a.children===i.children&&!Ai.current){e=Ts(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=vs(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),MA(a.return,r,e),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(me(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),MA(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ai(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,tf(e,r),i=_a(i),n=n(i),e.flags|=1,ai(t,e,n,r),e.child;case 14:return n=e.type,i=Va(n,e.pendingProps),i=Va(n.type,i),GD(t,e,n,i,r);case 15:return vB(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Va(n,i),Jy(t,e),e.tag=1,Ci(n)?(t=!0,V1(e)):t=!1,tf(e,r),pB(e,n,i),$A(e,n,i,r),VA(null,e,n,!0,t,r);case 19:return _B(t,e,r);case 22:return yB(t,e,r)}throw Error(me(156,e.tag))};function $B(t,e){return d7(t,e)}function cie(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ma(t,e,r,n){return new cie(t,e,r,n)}function iP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function uie(t){if(typeof t=="function")return iP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===SN)return 11;if(t===EN)return 14}return 2}function Ll(t,e){var r=t.alternate;return r===null?(r=ma(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function r1(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")iP(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Pd:return du(r.children,i,a,e);case _N:o=8,i|=8;break;case lA:return t=ma(12,r,e,i|2),t.elementType=lA,t.lanes=a,t;case cA:return t=ma(13,r,e,i),t.elementType=cA,t.lanes=a,t;case uA:return t=ma(19,r,e,i),t.elementType=uA,t.lanes=a,t;case KF:return pb(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case GF:o=10;break e;case qF:o=9;break e;case SN:o=11;break e;case EN:o=14;break e;case dl:o=16,n=null;break e}throw Error(me(130,t==null?t:typeof t,""))}return e=ma(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function du(t,e,r,n){return t=ma(7,t,n,e),t.lanes=r,t}function pb(t,e,r,n){return t=ma(22,t,n,e),t.elementType=KF,t.lanes=r,t.stateNode={isHidden:!1},t}function mS(t,e,r){return t=ma(6,t,null,e),t.lanes=r,t}function gS(t,e,r){return e=ma(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function die(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=X_(0),this.expirationTimes=X_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=X_(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function aP(t,e,r,n,i,a,o,s,l){return t=new die(t,e,r,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=ma(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},UN(a),t}function fie(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nd,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function FB(t){if(!t)return Ql;t=t._reactInternals;e:{if(Ku(t)!==t||t.tag!==1)throw Error(me(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ci(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(me(171))}if(t.tag===1){var r=t.type;if(Ci(r))return F7(t,r,e)}return e}function BB(t,e,r,n,i,a,o,s,l){return t=aP(r,n,!0,t,i,a,o,s,l),t.context=FB(null),r=t.current,n=di(),i=Ml(r),a=vs(n,i),a.callback=e??null,Dl(r,a,i),t.current.lanes=i,jv(t,i,n),Ti(t,n),t}function mb(t,e,r,n){var i=e.current,a=di(),o=Ml(i);return r=FB(r),e.context===null?e.context=r:e.pendingContext=r,e=vs(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Dl(i,e,o),t!==null&&(Za(t,i,o,a),Xy(t,i,o)),o}function ex(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ij(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function oP(t,e){ij(t,e),(t=t.alternate)&&ij(t,e)}function hie(){return null}var VB=typeof reportError=="function"?reportError:function(t){console.error(t)};function sP(t){this._internalRoot=t}gb.prototype.render=sP.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(me(409));mb(t,e,null,null)};gb.prototype.unmount=sP.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Su(function(){mb(null,t,null,null)}),e[As]=null}};function gb(t){this._internalRoot=t}gb.prototype.unstable_scheduleHydration=function(t){if(t){var e=y7();t={blockedOn:null,target:t,priority:e};for(var r=0;r<gl.length&&e!==0&&e<gl[r].priority;r++);gl.splice(r,0,t),r===0&&w7(t)}};function lP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function aj(){}function pie(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=ex(o);a.call(c)}}var o=BB(e,n,t,0,null,!1,!1,"",aj);return t._reactRootContainer=o,t[As]=o.current,rg(t.nodeType===8?t.parentNode:t),Su(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var c=ex(l);s.call(c)}}var l=aP(t,0,!1,null,null,!1,!1,"",aj);return t._reactRootContainer=l,t[As]=l.current,rg(t.nodeType===8?t.parentNode:t),Su(function(){mb(e,l,r,n)}),l}function yb(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=ex(o);s.call(l)}}mb(e,o,t,i)}else o=pie(r,e,t,i,n);return ex(o)}g7=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=tm(e.pendingLanes);r!==0&&(TN(e,r|1),Ti(e,wr()),!(yt&6)&&(Cf=wr()+500,vc()))}break;case 13:Su(function(){var n=Cs(t,1);if(n!==null){var i=di();Za(n,t,1,i)}}),oP(t,1)}};IN=function(t){if(t.tag===13){var e=Cs(t,134217728);if(e!==null){var r=di();Za(e,t,134217728,r)}oP(t,134217728)}};v7=function(t){if(t.tag===13){var e=Ml(t),r=Cs(t,e);if(r!==null){var n=di();Za(r,t,e,n)}oP(t,e)}};y7=function(){return It};x7=function(t,e){var r=It;try{return It=t,e()}finally{It=r}};wA=function(t,e,r){switch(e){case"input":if(hA(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=lb(n);if(!i)throw Error(me(90));XF(n),hA(n,i)}}}break;case"textarea":ZF(t,r);break;case"select":e=r.value,e!=null&&Qd(t,!!r.multiple,e,!1)}};a7=tP;o7=Su;var mie={usingClientEntryPoint:!1,Events:[Lv,Dd,lb,n7,i7,tP]},Pp={findFiberByHostInstance:Zc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gie={bundleType:Pp.bundleType,version:Pp.version,rendererPackageName:Pp.rendererPackageName,rendererConfig:Pp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ws.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=c7(t),t===null?null:t.stateNode},findFiberByHostInstance:Pp.findFiberByHostInstance||hie,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ny=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ny.isDisabled&&ny.supportsFiber)try{ib=ny.inject(gie),Po=ny}catch{}}ea.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mie;ea.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lP(e))throw Error(me(200));return fie(t,e,null,r)};ea.createRoot=function(t,e){if(!lP(t))throw Error(me(299));var r=!1,n="",i=VB;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=aP(t,1,!1,null,null,r,!1,n,i),t[As]=e.current,rg(t.nodeType===8?t.parentNode:t),new sP(e)};ea.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(me(188)):(t=Object.keys(t).join(","),Error(me(268,t)));return t=c7(e),t=t===null?null:t.stateNode,t};ea.flushSync=function(t){return Su(t)};ea.hydrate=function(t,e,r){if(!vb(e))throw Error(me(200));return yb(null,t,e,!0,r)};ea.hydrateRoot=function(t,e,r){if(!lP(t))throw Error(me(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=VB;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=BB(e,null,t,1,r??null,i,!1,a,o),t[As]=e.current,rg(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new gb(e)};ea.render=function(t,e,r){if(!vb(e))throw Error(me(200));return yb(null,t,e,!1,r)};ea.unmountComponentAtNode=function(t){if(!vb(t))throw Error(me(40));return t._reactRootContainer?(Su(function(){yb(null,null,t,!1,function(){t._reactRootContainer=null,t[As]=null})}),!0):!1};ea.unstable_batchedUpdates=tP;ea.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!vb(r))throw Error(me(200));if(t==null||t._reactInternals===void 0)throw Error(me(38));return yb(t,e,r,!1,n)};ea.version="18.3.1-next-f1338f8080-20240426";function UB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UB)}catch(t){console.error(t)}}UB(),UF.exports=ea;var Eh=UF.exports;const cP=ot(Eh);var zB,oj=Eh;zB=oj.createRoot,oj.hydrateRoot;function _e(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function vie(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function xb(...t){return e=>t.forEach(r=>vie(r,e))}function Ze(...t){return _.useCallback(xb(...t),t)}function yie(t,e){const r=_.createContext(e),n=a=>{const{children:o,...s}=a,l=_.useMemo(()=>s,Object.values(s));return d.jsx(r.Provider,{value:l,children:o})};n.displayName=t+"Provider";function i(a){const o=_.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function co(t,e=[]){let r=[];function n(a,o){const s=_.createContext(o),l=r.length;r=[...r,o];const c=f=>{var y;const{scope:h,children:p,...m}=f,g=((y=h==null?void 0:h[t])==null?void 0:y[l])||s,v=_.useMemo(()=>m,Object.values(m));return d.jsx(g.Provider,{value:v,children:p})};c.displayName=a+"Provider";function u(f,h){var g;const p=((g=h==null?void 0:h[t])==null?void 0:g[l])||s,m=_.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[c,u]}const i=()=>{const a=r.map(o=>_.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return _.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,xie(i,...e)]}function xie(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...s,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Is=_.forwardRef((t,e)=>{const{children:r,...n}=t,i=_.Children.toArray(r),a=i.find(wie);if(a){const o=a.props.children,s=i.map(l=>l===a?_.Children.count(o)>1?_.Children.only(null):_.isValidElement(o)?o.props.children:null:l);return d.jsx(JA,{...n,ref:e,children:_.isValidElement(o)?_.cloneElement(o,void 0,s):null})}return d.jsx(JA,{...n,ref:e,children:r})});Is.displayName="Slot";var JA=_.forwardRef((t,e)=>{const{children:r,...n}=t;if(_.isValidElement(r)){const i=_ie(r);return _.cloneElement(r,{...bie(n,r.props),ref:e?xb(e,i):i})}return _.Children.count(r)>1?_.Children.only(null):null});JA.displayName="SlotClone";var WB=({children:t})=>d.jsx(d.Fragment,{children:t});function wie(t){return _.isValidElement(t)&&t.type===WB}function bie(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...s)=>{a(...s),i(...s)}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function _ie(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Sie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],je=Sie.reduce((t,e)=>{const r=_.forwardRef((n,i)=>{const{asChild:a,...o}=n,s=a?Is:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(s,{...o,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function HB(t,e){t&&Eh.flushSync(()=>t.dispatchEvent(e))}function Nr(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Eie(t,e=globalThis==null?void 0:globalThis.document){const r=Nr(t);_.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Aie="DismissableLayer",eC="dismissableLayer.update",Cie="dismissableLayer.pointerDownOutside",Tie="dismissableLayer.focusOutside",sj,GB=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ah=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=t,c=_.useContext(GB),[u,f]=_.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=_.useState({}),m=Ze(e,A=>f(A)),g=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(v),x=u?g.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,S=x>=y,E=Pie(A=>{const T=A.target,I=[...c.branches].some(N=>N.contains(T));!S||I||(i==null||i(A),o==null||o(A),A.defaultPrevented||s==null||s())},h),C=Oie(A=>{const T=A.target;[...c.branches].some(N=>N.contains(T))||(a==null||a(A),o==null||o(A),A.defaultPrevented||s==null||s())},h);return Eie(A=>{x===c.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&s&&(A.preventDefault(),s()))},h),_.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(sj=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),lj(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=sj)}},[u,h,r,c]),_.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),lj())},[u,c]),_.useEffect(()=>{const A=()=>p({});return document.addEventListener(eC,A),()=>document.removeEventListener(eC,A)},[]),d.jsx(je.div,{...l,ref:m,style:{pointerEvents:b?S?"auto":"none":void 0,...t.style},onFocusCapture:_e(t.onFocusCapture,C.onFocusCapture),onBlurCapture:_e(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:_e(t.onPointerDownCapture,E.onPointerDownCapture)})});Ah.displayName=Aie;var Iie="DismissableLayerBranch",Nie=_.forwardRef((t,e)=>{const r=_.useContext(GB),n=_.useRef(null),i=Ze(e,n);return _.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),d.jsx(je.div,{...t,ref:i})});Nie.displayName=Iie;function Pie(t,e=globalThis==null?void 0:globalThis.document){const r=Nr(t),n=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const a=s=>{if(s.target&&!n.current){let l=function(){qB(Cie,r,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Oie(t,e=globalThis==null?void 0:globalThis.document){const r=Nr(t),n=_.useRef(!1);return _.useEffect(()=>{const i=a=>{a.target&&!n.current&&qB(Tie,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function lj(){const t=new CustomEvent(eC);document.dispatchEvent(t)}function qB(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?HB(i,a):i.dispatchEvent(a)}var pn=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},kie=BF.useId||(()=>{}),Rie=0;function Ja(t){const[e,r]=_.useState(kie());return pn(()=>{r(n=>n??String(Rie++))},[t]),e?`radix-${e}`:""}const Die=["top","right","bottom","left"],Zl=Math.min,Ui=Math.max,tx=Math.round,iy=Math.floor,Jl=t=>({x:t,y:t}),jie={left:"right",right:"left",bottom:"top",top:"bottom"},Mie={start:"end",end:"start"};function tC(t,e,r){return Ui(t,Zl(e,r))}function Ns(t,e){return typeof t=="function"?t(e):t}function Ps(t){return t.split("-")[0]}function Ch(t){return t.split("-")[1]}function uP(t){return t==="x"?"y":"x"}function dP(t){return t==="y"?"height":"width"}function ec(t){return["top","bottom"].includes(Ps(t))?"y":"x"}function fP(t){return uP(ec(t))}function Lie(t,e,r){r===void 0&&(r=!1);const n=Ch(t),i=fP(t),a=dP(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=rx(o)),[o,rx(o)]}function $ie(t){const e=rx(t);return[rC(t),e,rC(e)]}function rC(t){return t.replace(/start|end/g,e=>Mie[e])}function Fie(t,e,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?a:o;default:return[]}}function Bie(t,e,r,n){const i=Ch(t);let a=Fie(Ps(t),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(rC)))),a}function rx(t){return t.replace(/left|right|bottom|top/g,e=>jie[e])}function Vie(t){return{top:0,right:0,bottom:0,left:0,...t}}function KB(t){return typeof t!="number"?Vie(t):{top:t,right:t,bottom:t,left:t}}function nx(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function cj(t,e,r){let{reference:n,floating:i}=t;const a=ec(e),o=fP(e),s=dP(o),l=Ps(e),c=a==="y",u=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,h=n[s]/2-i[s]/2;let p;switch(l){case"top":p={x:u,y:n.y-i.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-i.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Ch(e)){case"start":p[o]-=h*(r&&c?-1:1);break;case"end":p[o]+=h*(r&&c?-1:1);break}return p}const Uie=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=cj(c,n,l),h=n,p={},m=0;for(let g=0;g<s.length;g++){const{name:v,fn:y}=s[g],{x,y:b,data:S,reset:E}=await y({x:u,y:f,initialPlacement:n,placement:h,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});u=x??u,f=b??f,p={...p,[v]:{...p[v],...S}},E&&m<=50&&(m++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(c=E.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:u,y:f}=cj(c,h,l)),g=-1)}return{x:u,y:f,placement:h,strategy:i,middlewareData:p}};async function dg(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:o,elements:s,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Ns(e,t),m=KB(p),v=s[h?f==="floating"?"reference":"floating":f],y=nx(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),x=f==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),S=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},E=nx(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:x,offsetParent:b,strategy:l}):x);return{top:(y.top-E.top+m.top)/S.y,bottom:(E.bottom-y.bottom+m.bottom)/S.y,left:(y.left-E.left+m.left)/S.x,right:(E.right-y.right+m.right)/S.x}}const zie=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=e,{element:c,padding:u=0}=Ns(t,e)||{};if(c==null)return{};const f=KB(u),h={x:r,y:n},p=fP(i),m=dP(p),g=await o.getDimensions(c),v=p==="y",y=v?"top":"left",x=v?"bottom":"right",b=v?"clientHeight":"clientWidth",S=a.reference[m]+a.reference[p]-h[p]-a.floating[m],E=h[p]-a.reference[p],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let A=C?C[b]:0;(!A||!await(o.isElement==null?void 0:o.isElement(C)))&&(A=s.floating[b]||a.floating[m]);const T=S/2-E/2,I=A/2-g[m]/2-1,N=Zl(f[y],I),O=Zl(f[x],I),R=N,k=A-g[m]-O,M=A/2-g[m]/2+T,U=tC(R,M,k),L=!l.arrow&&Ch(i)!=null&&M!==U&&a.reference[m]/2-(M<R?N:O)-g[m]/2<0,z=L?M<R?M-R:M-k:0;return{[p]:h[p]+z,data:{[p]:U,centerOffset:M-U-z,...L&&{alignmentOffset:z}},reset:L}}}),Wie=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...v}=Ns(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=Ps(i),x=ec(s),b=Ps(s)===s,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=h||(b||!g?[rx(s)]:$ie(s)),C=m!=="none";!h&&C&&E.push(...Bie(s,g,m,S));const A=[s,...E],T=await dg(e,v),I=[];let N=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&I.push(T[y]),f){const M=Lie(i,o,S);I.push(T[M[0]],T[M[1]])}if(N=[...N,{placement:i,overflows:I}],!I.every(M=>M<=0)){var O,R;const M=(((O=a.flip)==null?void 0:O.index)||0)+1,U=A[M];if(U)return{data:{index:M,overflows:N},reset:{placement:U}};let L=(R=N.filter(z=>z.overflows[0]<=0).sort((z,B)=>z.overflows[1]-B.overflows[1])[0])==null?void 0:R.placement;if(!L)switch(p){case"bestFit":{var k;const z=(k=N.filter(B=>{if(C){const $=ec(B.placement);return $===x||$==="y"}return!0}).map(B=>[B.placement,B.overflows.filter($=>$>0).reduce(($,W)=>$+W,0)]).sort((B,$)=>B[1]-$[1])[0])==null?void 0:k[0];z&&(L=z);break}case"initialPlacement":L=s;break}if(i!==L)return{reset:{placement:L}}}return{}}}};function uj(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function dj(t){return Die.some(e=>t[e]>=0)}const Hie=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Ns(t,e);switch(n){case"referenceHidden":{const a=await dg(e,{...i,elementContext:"reference"}),o=uj(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:dj(o)}}}case"escaped":{const a=await dg(e,{...i,altBoundary:!0}),o=uj(a,r.floating);return{data:{escapedOffsets:o,escaped:dj(o)}}}default:return{}}}}};async function Gie(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Ps(r),s=Ch(r),l=ec(r)==="y",c=["left","top"].includes(o)?-1:1,u=a&&l?-1:1,f=Ns(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof m=="number"&&(p=s==="end"?m*-1:m),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const qie=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:o,middlewareData:s}=e,l=await Gie(e,t);return o===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},Kie=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:v=>{let{x:y,y:x}=v;return{x:y,y:x}}},...l}=Ns(t,e),c={x:r,y:n},u=await dg(e,l),f=ec(Ps(i)),h=uP(f);let p=c[h],m=c[f];if(a){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=p+u[v],b=p-u[y];p=tC(x,p,b)}if(o){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=m+u[v],b=m-u[y];m=tC(x,m,b)}const g=s.fn({...e,[h]:p,[f]:m});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:a,[f]:o}}}}}},Yie=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=e,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=Ns(t,e),u={x:r,y:n},f=ec(i),h=uP(f);let p=u[h],m=u[f];const g=Ns(s,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const b=h==="y"?"height":"width",S=a.reference[h]-a.floating[b]+v.mainAxis,E=a.reference[h]+a.reference[b]-v.mainAxis;p<S?p=S:p>E&&(p=E)}if(c){var y,x;const b=h==="y"?"width":"height",S=["top","left"].includes(Ps(i)),E=a.reference[f]-a.floating[b]+(S&&((y=o.offset)==null?void 0:y[f])||0)+(S?0:v.crossAxis),C=a.reference[f]+a.reference[b]+(S?0:((x=o.offset)==null?void 0:x[f])||0)-(S?v.crossAxis:0);m<E?m=E:m>C&&(m=C)}return{[h]:p,[f]:m}}}},Xie=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:o,elements:s}=e,{apply:l=()=>{},...c}=Ns(t,e),u=await dg(e,c),f=Ps(i),h=Ch(i),p=ec(i)==="y",{width:m,height:g}=a.floating;let v,y;f==="top"||f==="bottom"?(v=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(y=f,v=h==="end"?"top":"bottom");const x=g-u.top-u.bottom,b=m-u.left-u.right,S=Zl(g-u[v],x),E=Zl(m-u[y],b),C=!e.middlewareData.shift;let A=S,T=E;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(T=b),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(A=x),C&&!h){const N=Ui(u.left,0),O=Ui(u.right,0),R=Ui(u.top,0),k=Ui(u.bottom,0);p?T=m-2*(N!==0||O!==0?N+O:Ui(u.left,u.right)):A=g-2*(R!==0||k!==0?R+k:Ui(u.top,u.bottom))}await l({...e,availableWidth:T,availableHeight:A});const I=await o.getDimensions(s.floating);return m!==I.width||g!==I.height?{reset:{rects:!0}}:{}}}};function wb(){return typeof window<"u"}function Th(t){return YB(t)?(t.nodeName||"").toLowerCase():"#document"}function qi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ko(t){var e;return(e=(YB(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function YB(t){return wb()?t instanceof Node||t instanceof qi(t).Node:!1}function io(t){return wb()?t instanceof Element||t instanceof qi(t).Element:!1}function Vo(t){return wb()?t instanceof HTMLElement||t instanceof qi(t).HTMLElement:!1}function fj(t){return!wb()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof qi(t).ShadowRoot}function Fv(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=ao(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function Qie(t){return["table","td","th"].includes(Th(t))}function bb(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function hP(t){const e=pP(),r=io(t)?ao(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Zie(t){let e=tc(t);for(;Vo(e)&&!Tf(e);){if(hP(e))return e;if(bb(e))return null;e=tc(e)}return null}function pP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Tf(t){return["html","body","#document"].includes(Th(t))}function ao(t){return qi(t).getComputedStyle(t)}function _b(t){return io(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function tc(t){if(Th(t)==="html")return t;const e=t.assignedSlot||t.parentNode||fj(t)&&t.host||Ko(t);return fj(e)?e.host:e}function XB(t){const e=tc(t);return Tf(e)?t.ownerDocument?t.ownerDocument.body:t.body:Vo(e)&&Fv(e)?e:XB(e)}function fg(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=XB(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),o=qi(i);if(a){const s=nC(o);return e.concat(o,o.visualViewport||[],Fv(i)?i:[],s&&r?fg(s):[])}return e.concat(i,fg(i,[],r))}function nC(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function QB(t){const e=ao(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Vo(t),a=i?t.offsetWidth:r,o=i?t.offsetHeight:n,s=tx(r)!==a||tx(n)!==o;return s&&(r=a,n=o),{width:r,height:n,$:s}}function mP(t){return io(t)?t:t.contextElement}function nf(t){const e=mP(t);if(!Vo(e))return Jl(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=QB(e);let o=(a?tx(r.width):r.width)/n,s=(a?tx(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const Jie=Jl(0);function ZB(t){const e=qi(t);return!pP()||!e.visualViewport?Jie:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function eae(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==qi(t)?!1:e}function Eu(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=mP(t);let o=Jl(1);e&&(n?io(n)&&(o=nf(n)):o=nf(t));const s=eae(a,r,n)?ZB(a):Jl(0);let l=(i.left+s.x)/o.x,c=(i.top+s.y)/o.y,u=i.width/o.x,f=i.height/o.y;if(a){const h=qi(a),p=n&&io(n)?qi(n):n;let m=h,g=nC(m);for(;g&&n&&p!==m;){const v=nf(g),y=g.getBoundingClientRect(),x=ao(g),b=y.left+(g.clientLeft+parseFloat(x.paddingLeft))*v.x,S=y.top+(g.clientTop+parseFloat(x.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,f*=v.y,l+=b,c+=S,m=qi(g),g=nC(m)}}return nx({width:u,height:f,x:l,y:c})}function tae(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",o=Ko(n),s=e?bb(e.floating):!1;if(n===o||s&&a)return r;let l={scrollLeft:0,scrollTop:0},c=Jl(1);const u=Jl(0),f=Vo(n);if((f||!f&&!a)&&((Th(n)!=="body"||Fv(o))&&(l=_b(n)),Vo(n))){const h=Eu(n);c=nf(n),u.x=h.x+n.clientLeft,u.y=h.y+n.clientTop}return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x,y:r.y*c.y-l.scrollTop*c.y+u.y}}function rae(t){return Array.from(t.getClientRects())}function iC(t,e){const r=_b(t).scrollLeft;return e?e.left+r:Eu(Ko(t)).left+r}function nae(t){const e=Ko(t),r=_b(t),n=t.ownerDocument.body,i=Ui(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=Ui(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+iC(t);const s=-r.scrollTop;return ao(n).direction==="rtl"&&(o+=Ui(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:s}}function iae(t,e){const r=qi(t),n=Ko(t),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const c=pP();(!c||c&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}function aae(t,e){const r=Eu(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=Vo(t)?nf(t):Jl(1),o=t.clientWidth*a.x,s=t.clientHeight*a.y,l=i*a.x,c=n*a.y;return{width:o,height:s,x:l,y:c}}function hj(t,e,r){let n;if(e==="viewport")n=iae(t,r);else if(e==="document")n=nae(Ko(t));else if(io(e))n=aae(e,r);else{const i=ZB(t);n={...e,x:e.x-i.x,y:e.y-i.y}}return nx(n)}function JB(t,e){const r=tc(t);return r===e||!io(r)||Tf(r)?!1:ao(r).position==="fixed"||JB(r,e)}function oae(t,e){const r=e.get(t);if(r)return r;let n=fg(t,[],!1).filter(s=>io(s)&&Th(s)!=="body"),i=null;const a=ao(t).position==="fixed";let o=a?tc(t):t;for(;io(o)&&!Tf(o);){const s=ao(o),l=hP(o);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Fv(o)&&!l&&JB(t,o))?n=n.filter(u=>u!==o):i=s,o=tc(o)}return e.set(t,n),n}function sae(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?bb(e)?[]:oae(e,this._c):[].concat(r),n],s=o[0],l=o.reduce((c,u)=>{const f=hj(e,u,i);return c.top=Ui(f.top,c.top),c.right=Zl(f.right,c.right),c.bottom=Zl(f.bottom,c.bottom),c.left=Ui(f.left,c.left),c},hj(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function lae(t){const{width:e,height:r}=QB(t);return{width:e,height:r}}function cae(t,e,r){const n=Vo(e),i=Ko(e),a=r==="fixed",o=Eu(t,!0,a,e);let s={scrollLeft:0,scrollTop:0};const l=Jl(0);if(n||!n&&!a)if((Th(e)!=="body"||Fv(i))&&(s=_b(e)),n){const p=Eu(e,!0,a,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&(l.x=iC(i));let c=0,u=0;if(i&&!n&&!a){const p=i.getBoundingClientRect();u=p.top+s.scrollTop,c=p.left+s.scrollLeft-iC(i,p)}const f=o.left+s.scrollLeft-l.x-c,h=o.top+s.scrollTop-l.y-u;return{x:f,y:h,width:o.width,height:o.height}}function vS(t){return ao(t).position==="static"}function pj(t,e){if(!Vo(t)||ao(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Ko(t)===r&&(r=r.ownerDocument.body),r}function eV(t,e){const r=qi(t);if(bb(t))return r;if(!Vo(t)){let i=tc(t);for(;i&&!Tf(i);){if(io(i)&&!vS(i))return i;i=tc(i)}return r}let n=pj(t,e);for(;n&&Qie(n)&&vS(n);)n=pj(n,e);return n&&Tf(n)&&vS(n)&&!hP(n)?r:n||Zie(t)||r}const uae=async function(t){const e=this.getOffsetParent||eV,r=this.getDimensions,n=await r(t.floating);return{reference:cae(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function dae(t){return ao(t).direction==="rtl"}const fae={convertOffsetParentRelativeRectToViewportRelativeRect:tae,getDocumentElement:Ko,getClippingRect:sae,getOffsetParent:eV,getElementRects:uae,getClientRects:rae,getDimensions:lae,getScale:nf,isElement:io,isRTL:dae};function hae(t,e){let r=null,n;const i=Ko(t);function a(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const{left:c,top:u,width:f,height:h}=t.getBoundingClientRect();if(s||e(),!f||!h)return;const p=iy(u),m=iy(i.clientWidth-(c+f)),g=iy(i.clientHeight-(u+h)),v=iy(c),x={rootMargin:-p+"px "+-m+"px "+-g+"px "+-v+"px",threshold:Ui(0,Zl(1,l))||1};let b=!0;function S(E){const C=E[0].intersectionRatio;if(C!==l){if(!b)return o();C?o(!1,C):n=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(S,{...x,root:i.ownerDocument})}catch{r=new IntersectionObserver(S,x)}r.observe(t)}return o(!0),a}function pae(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=mP(t),u=i||a?[...c?fg(c):[],...fg(e)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),a&&y.addEventListener("resize",r)});const f=c&&s?hae(c,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(y=>{let[x]=y;x&&x.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),r()}),c&&!l&&p.observe(c),p.observe(e));let m,g=l?Eu(t):null;l&&v();function v(){const y=Eu(t);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&r(),g=y,m=requestAnimationFrame(v)}return r(),()=>{var y;u.forEach(x=>{i&&x.removeEventListener("scroll",r),a&&x.removeEventListener("resize",r)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const mae=qie,gae=Kie,vae=Wie,yae=Xie,xae=Hie,mj=zie,wae=Yie,bae=(t,e,r)=>{const n=new Map,i={platform:fae,...r},a={...i.platform,_c:n};return Uie(t,e,{...i,platform:a})};var n1=typeof document<"u"?_.useLayoutEffect:_.useEffect;function ix(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!ix(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!ix(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function tV(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function gj(t,e){const r=tV(t);return Math.round(e*r)/r}function yS(t){const e=_.useRef(t);return n1(()=>{e.current=t}),e}function _ae(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:l,open:c}=t,[u,f]=_.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=_.useState(n);ix(h,n)||p(n);const[m,g]=_.useState(null),[v,y]=_.useState(null),x=_.useCallback(B=>{B!==C.current&&(C.current=B,g(B))},[]),b=_.useCallback(B=>{B!==A.current&&(A.current=B,y(B))},[]),S=a||m,E=o||v,C=_.useRef(null),A=_.useRef(null),T=_.useRef(u),I=l!=null,N=yS(l),O=yS(i),R=yS(c),k=_.useCallback(()=>{if(!C.current||!A.current)return;const B={placement:e,strategy:r,middleware:h};O.current&&(B.platform=O.current),bae(C.current,A.current,B).then($=>{const W={...$,isPositioned:R.current!==!1};M.current&&!ix(T.current,W)&&(T.current=W,Eh.flushSync(()=>{f(W)}))})},[h,e,r,O,R]);n1(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(B=>({...B,isPositioned:!1})))},[c]);const M=_.useRef(!1);n1(()=>(M.current=!0,()=>{M.current=!1}),[]),n1(()=>{if(S&&(C.current=S),E&&(A.current=E),S&&E){if(N.current)return N.current(S,E,k);k()}},[S,E,k,N,I]);const U=_.useMemo(()=>({reference:C,floating:A,setReference:x,setFloating:b}),[x,b]),L=_.useMemo(()=>({reference:S,floating:E}),[S,E]),z=_.useMemo(()=>{const B={position:r,left:0,top:0};if(!L.floating)return B;const $=gj(L.floating,u.x),W=gj(L.floating,u.y);return s?{...B,transform:"translate("+$+"px, "+W+"px)",...tV(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:W}},[r,s,L.floating,u.x,u.y]);return _.useMemo(()=>({...u,update:k,refs:U,elements:L,floatingStyles:z}),[u,k,U,L,z])}const Sae=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?mj({element:n.current,padding:i}).fn(r):{}:n?mj({element:n,padding:i}).fn(r):{}}}},Eae=(t,e)=>({...mae(t),options:[t,e]}),Aae=(t,e)=>({...gae(t),options:[t,e]}),Cae=(t,e)=>({...wae(t),options:[t,e]}),Tae=(t,e)=>({...vae(t),options:[t,e]}),Iae=(t,e)=>({...yae(t),options:[t,e]}),Nae=(t,e)=>({...xae(t),options:[t,e]}),Pae=(t,e)=>({...Sae(t),options:[t,e]});var Oae="Arrow",rV=_.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return d.jsx(je.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});rV.displayName=Oae;var kae=rV;function Rae(t,e=[]){let r=[];function n(a,o){const s=_.createContext(o),l=r.length;r=[...r,o];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||s,v=_.useMemo(()=>m,Object.values(m));return d.jsx(g.Provider,{value:v,children:p})}function u(f,h){const p=(h==null?void 0:h[t][l])||s,m=_.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,u]}const i=()=>{const a=r.map(o=>_.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return _.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,Dae(i,...e)]}function Dae(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...s,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function gP(t){const[e,r]=_.useState(void 0);return pn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,s;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,s=c.blockSize}else o=t.offsetWidth,s=t.offsetHeight;r({width:o,height:s})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var vP="Popper",[nV,yc]=Rae(vP),[jae,iV]=nV(vP),aV=t=>{const{__scopePopper:e,children:r}=t,[n,i]=_.useState(null);return d.jsx(jae,{scope:e,anchor:n,onAnchorChange:i,children:r})};aV.displayName=vP;var oV="PopperAnchor",sV=_.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=iV(oV,r),o=_.useRef(null),s=Ze(e,o);return _.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:d.jsx(je.div,{...i,ref:s})});sV.displayName=oV;var yP="PopperContent",[Mae,Lae]=nV(yP),lV=_.forwardRef((t,e)=>{var pe,J,q,ae,re,ee;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:m,...g}=t,v=iV(yP,r),[y,x]=_.useState(null),b=Ze(e,$e=>x($e)),[S,E]=_.useState(null),C=gP(S),A=(C==null?void 0:C.width)??0,T=(C==null?void 0:C.height)??0,I=n+(a!=="center"?"-"+a:""),N=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},O=Array.isArray(c)?c:[c],R=O.length>0,k={padding:N,boundary:O.filter(Fae),altBoundary:R},{refs:M,floatingStyles:U,placement:L,isPositioned:z,middlewareData:B}=_ae({strategy:"fixed",placement:I,whileElementsMounted:(...$e)=>pae(...$e,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[Eae({mainAxis:i+T,alignmentAxis:o}),l&&Aae({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Cae():void 0,...k}),l&&Tae({...k}),Iae({...k,apply:({elements:$e,rects:De,availableWidth:fe,availableHeight:ue})=>{const{width:ke,height:X}=De.reference,de=$e.floating.style;de.setProperty("--radix-popper-available-width",`${fe}px`),de.setProperty("--radix-popper-available-height",`${ue}px`),de.setProperty("--radix-popper-anchor-width",`${ke}px`),de.setProperty("--radix-popper-anchor-height",`${X}px`)}}),S&&Pae({element:S,padding:s}),Bae({arrowWidth:A,arrowHeight:T}),h&&Nae({strategy:"referenceHidden",...k})]}),[$,W]=dV(L),H=Nr(m);pn(()=>{z&&(H==null||H())},[z,H]);const G=(pe=B.arrow)==null?void 0:pe.x,Z=(J=B.arrow)==null?void 0:J.y,se=((q=B.arrow)==null?void 0:q.centerOffset)!==0,[ce,Oe]=_.useState();return pn(()=>{y&&Oe(window.getComputedStyle(y).zIndex)},[y]),d.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:z?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(ae=B.transformOrigin)==null?void 0:ae.x,(re=B.transformOrigin)==null?void 0:re.y].join(" "),...((ee=B.hide)==null?void 0:ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(Mae,{scope:r,placedSide:$,onArrowChange:E,arrowX:G,arrowY:Z,shouldHideArrow:se,children:d.jsx(je.div,{"data-side":$,"data-align":W,...g,ref:b,style:{...g.style,animation:z?void 0:"none"}})})})});lV.displayName=yP;var cV="PopperArrow",$ae={top:"bottom",right:"left",bottom:"top",left:"right"},uV=_.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=Lae(cV,n),o=$ae[a.placedSide];return d.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:d.jsx(kae,{...i,ref:r,style:{...i.style,display:"block"}})})});uV.displayName=cV;function Fae(t){return t!==null}var Bae=t=>({name:"transformOrigin",options:t,fn(e){var v,y,x;const{placement:r,rects:n,middlewareData:i}=e,o=((v=i.arrow)==null?void 0:v.centerOffset)!==0,s=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=dV(r),f={start:"0%",center:"50%",end:"100%"}[u],h=(((y=i.arrow)==null?void 0:y.x)??0)+s/2,p=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let m="",g="";return c==="bottom"?(m=o?f:`${h}px`,g=`${-l}px`):c==="top"?(m=o?f:`${h}px`,g=`${n.floating.height+l}px`):c==="right"?(m=`${-l}px`,g=o?f:`${p}px`):c==="left"&&(m=`${n.floating.width+l}px`,g=o?f:`${p}px`),{data:{x:m,y:g}}}});function dV(t){const[e,r="center"]=t.split("-");return[e,r]}var xP=aV,Bv=sV,Sb=lV,Eb=uV,Vae="Portal",Vv=_.forwardRef((t,e)=>{var s;const{container:r,...n}=t,[i,a]=_.useState(!1);pn(()=>a(!0),[]);const o=r||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return o?cP.createPortal(d.jsx(je.div,{...n,ref:e}),o):null});Vv.displayName=Vae;function Uae(t,e){return _.useReducer((r,n)=>e[r][n]??r,t)}var In=t=>{const{present:e,children:r}=t,n=zae(e),i=typeof r=="function"?r({present:n.isPresent}):_.Children.only(r),a=Ze(n.ref,Wae(i));return typeof r=="function"||n.isPresent?_.cloneElement(i,{ref:a}):null};In.displayName="Presence";function zae(t){const[e,r]=_.useState(),n=_.useRef({}),i=_.useRef(t),a=_.useRef("none"),o=t?"mounted":"unmounted",[s,l]=Uae(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const c=ay(n.current);a.current=s==="mounted"?c:"none"},[s]),pn(()=>{const c=n.current,u=i.current;if(u!==t){const h=a.current,p=ay(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),pn(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,f=p=>{const g=ay(n.current).includes(p.animationName);if(p.target===e&&g&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},h=p=>{p.target===e&&(a.current=ay(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:_.useCallback(c=>{c&&(n.current=getComputedStyle(c)),r(c)},[])}}function ay(t){return(t==null?void 0:t.animationName)||"none"}function Wae(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Os({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=Hae({defaultProp:e,onChange:r}),a=t!==void 0,o=a?t:n,s=Nr(r),l=_.useCallback(c=>{if(a){const f=typeof c=="function"?c(t):c;f!==t&&s(f)}else i(c)},[a,t,i,s]);return[o,l]}function Hae({defaultProp:t,onChange:e}){const r=_.useState(t),[n]=r,i=_.useRef(n),a=Nr(e);return _.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}var Gae="VisuallyHidden",wP=_.forwardRef((t,e)=>d.jsx(je.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));wP.displayName=Gae;var qae=wP,[Ab,Oat]=co("Tooltip",[yc]),bP=yc(),fV="TooltipProvider",Kae=700,vj="tooltip.open",[Yae,hV]=Ab(fV),pV=t=>{const{__scopeTooltip:e,delayDuration:r=Kae,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=t,[o,s]=_.useState(!0),l=_.useRef(!1),c=_.useRef(0);return _.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),d.jsx(Yae,{scope:e,isOpenDelayed:o,delayDuration:r,onOpen:_.useCallback(()=>{window.clearTimeout(c.current),s(!1)},[]),onClose:_.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s(!0),n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:_.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:a})};pV.displayName=fV;var mV="Tooltip",[kat,Cb]=Ab(mV),aC="TooltipTrigger",Xae=_.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=Cb(aC,r),a=hV(aC,r),o=bP(r),s=_.useRef(null),l=Ze(e,s,i.onTriggerChange),c=_.useRef(!1),u=_.useRef(!1),f=_.useCallback(()=>c.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),d.jsx(Bv,{asChild:!0,...o,children:d.jsx(je.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:_e(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:_e(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:_e(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:_e(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:_e(t.onBlur,i.onClose),onClick:_e(t.onClick,i.onClose)})})});Xae.displayName=aC;var Qae="TooltipPortal",[Rat,Zae]=Ab(Qae,{forceMount:void 0}),If="TooltipContent",gV=_.forwardRef((t,e)=>{const r=Zae(If,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=t,o=Cb(If,t.__scopeTooltip);return d.jsx(In,{present:n||o.open,children:o.disableHoverableContent?d.jsx(vV,{side:i,...a,ref:e}):d.jsx(Jae,{side:i,...a,ref:e})})}),Jae=_.forwardRef((t,e)=>{const r=Cb(If,t.__scopeTooltip),n=hV(If,t.__scopeTooltip),i=_.useRef(null),a=Ze(e,i),[o,s]=_.useState(null),{trigger:l,onClose:c}=r,u=i.current,{onPointerInTransitChange:f}=n,h=_.useCallback(()=>{s(null),f(!1)},[f]),p=_.useCallback((m,g)=>{const v=m.currentTarget,y={x:m.clientX,y:m.clientY},x=noe(y,v.getBoundingClientRect()),b=ioe(y,x),S=aoe(g.getBoundingClientRect()),E=soe([...b,...S]);s(E),f(!0)},[f]);return _.useEffect(()=>()=>h(),[h]),_.useEffect(()=>{if(l&&u){const m=v=>p(v,u),g=v=>p(v,l);return l.addEventListener("pointerleave",m),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",m),u.removeEventListener("pointerleave",g)}}},[l,u,p,h]),_.useEffect(()=>{if(o){const m=g=>{const v=g.target,y={x:g.clientX,y:g.clientY},x=(l==null?void 0:l.contains(v))||(u==null?void 0:u.contains(v)),b=!ooe(y,o);x?h():b&&(h(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,u,o,c,h]),d.jsx(vV,{...t,ref:a})}),[eoe,toe]=Ab(mV,{isInside:!1}),vV=_.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...s}=t,l=Cb(If,r),c=bP(r),{onClose:u}=l;return _.useEffect(()=>(document.addEventListener(vj,u),()=>document.removeEventListener(vj,u)),[u]),_.useEffect(()=>{if(l.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),d.jsx(Ah,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:d.jsxs(Sb,{"data-state":l.stateAttribute,...c,...s,ref:e,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(WB,{children:n}),d.jsx(eoe,{scope:r,isInside:!0,children:d.jsx(qae,{id:l.contentId,role:"tooltip",children:i||n})})]})})});gV.displayName=If;var yV="TooltipArrow",roe=_.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=bP(r);return toe(yV,r).isInside?null:d.jsx(Eb,{...i,...n,ref:e})});roe.displayName=yV;function noe(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function ioe(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function aoe(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function ooe(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const s=e[a].x,l=e[a].y,c=e[o].x,u=e[o].y;l>n!=u>n&&r<(c-s)*(n-l)/(u-l)+s&&(i=!i)}return i}function soe(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),loe(e)}function loe(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var coe=pV,xV=gV;function wV(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=wV(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function ht(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=wV(t))&&(n&&(n+=" "),n+=e);return n}const _P="-",uoe=t=>{const e=foe(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const s=o.split(_P);return s[0]===""&&s.length!==1&&s.shift(),bV(s,e)||doe(o)},getConflictingClassGroupIds:(o,s)=>{const l=r[o]||[];return s&&n[o]?[...l,...n[o]]:l}}},bV=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?bV(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(_P);return(o=e.validators.find(({validator:s})=>s(a)))==null?void 0:o.classGroupId},yj=/^\[(.+)\]$/,doe=t=>{if(yj.test(t)){const e=yj.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},foe=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return poe(Object.entries(t.classGroups),r).forEach(([a,o])=>{oC(o,n,a,e)}),n},oC=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:xj(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(hoe(i)){oC(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{oC(o,xj(e,a),r,n)})})},xj=(t,e)=>{let r=t;return e.split(_P).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},hoe=t=>t.isThemeGetter,poe=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,s])=>[e+o,s])):a);return[r,i]}):t,moe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},_V="!",goe=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,o=s=>{const l=[];let c=0,u=0,f;for(let v=0;v<s.length;v++){let y=s[v];if(c===0){if(y===i&&(n||s.slice(v,v+a)===e)){l.push(s.slice(u,v)),u=v+a;continue}if(y==="/"){f=v;continue}}y==="["?c++:y==="]"&&c--}const h=l.length===0?s:s.substring(u),p=h.startsWith(_V),m=p?h.substring(1):h,g=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}};return r?s=>r({className:s,parseClassName:o}):o},voe=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},yoe=t=>({cache:moe(t.cacheSize),parseClassName:goe(t),...uoe(t)}),xoe=/\s+/,woe=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(xoe);let s="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(c);let m=!!p,g=n(m?h.substring(0,p):h);if(!g){if(!m){s=c+(s.length>0?" "+s:s);continue}if(g=n(h),!g){s=c+(s.length>0?" "+s:s);continue}m=!1}const v=voe(u).join(":"),y=f?v+_V:v,x=y+g;if(a.includes(x))continue;a.push(x);const b=i(g,m);for(let S=0;S<b.length;++S){const E=b[S];a.push(y+E)}s=c+(s.length>0?" "+s:s)}return s};function boe(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=SV(e))&&(n&&(n+=" "),n+=r);return n}const SV=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=SV(t[n]))&&(r&&(r+=" "),r+=e);return r};function _oe(t,...e){let r,n,i,a=o;function o(l){const c=e.reduce((u,f)=>f(u),t());return r=yoe(c),n=r.cache.get,i=r.cache.set,a=s,s(l)}function s(l){const c=n(l);if(c)return c;const u=woe(l,r);return i(l,u),u}return function(){return a(boe.apply(null,arguments))}}const Vt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},EV=/^\[(?:([a-z-]+):)?(.+)\]$/i,Soe=/^\d+\/\d+$/,Eoe=new Set(["px","full","screen"]),Aoe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Coe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Toe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ioe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Noe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jo=t=>af(t)||Eoe.has(t)||Soe.test(t),rl=t=>Ih(t,"length",Loe),af=t=>!!t&&!Number.isNaN(Number(t)),xS=t=>Ih(t,"number",af),Op=t=>!!t&&Number.isInteger(Number(t)),Poe=t=>t.endsWith("%")&&af(t.slice(0,-1)),Ye=t=>EV.test(t),nl=t=>Aoe.test(t),Ooe=new Set(["length","size","percentage"]),koe=t=>Ih(t,Ooe,AV),Roe=t=>Ih(t,"position",AV),Doe=new Set(["image","url"]),joe=t=>Ih(t,Doe,Foe),Moe=t=>Ih(t,"",$oe),kp=()=>!0,Ih=(t,e,r)=>{const n=EV.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},Loe=t=>Coe.test(t)&&!Toe.test(t),AV=()=>!1,$oe=t=>Ioe.test(t),Foe=t=>Noe.test(t),Boe=()=>{const t=Vt("colors"),e=Vt("spacing"),r=Vt("blur"),n=Vt("brightness"),i=Vt("borderColor"),a=Vt("borderRadius"),o=Vt("borderSpacing"),s=Vt("borderWidth"),l=Vt("contrast"),c=Vt("grayscale"),u=Vt("hueRotate"),f=Vt("invert"),h=Vt("gap"),p=Vt("gradientColorStops"),m=Vt("gradientColorStopPositions"),g=Vt("inset"),v=Vt("margin"),y=Vt("opacity"),x=Vt("padding"),b=Vt("saturate"),S=Vt("scale"),E=Vt("sepia"),C=Vt("skew"),A=Vt("space"),T=Vt("translate"),I=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Ye,e],R=()=>[Ye,e],k=()=>["",Jo,rl],M=()=>["auto",af,Ye],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",Ye],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[af,Ye];return{cacheSize:500,separator:":",theme:{colors:[kp],spacing:[Jo,rl],blur:["none","",nl,Ye],brightness:H(),borderColor:[t],borderRadius:["none","","full",nl,Ye],borderSpacing:R(),borderWidth:k(),contrast:H(),grayscale:$(),hueRotate:H(),invert:$(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[Poe,rl],inset:O(),margin:O(),opacity:H(),padding:R(),saturate:H(),scale:H(),sepia:$(),skew:H(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",Ye]}],container:["container"],columns:[{columns:[nl]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),Ye]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Op,Ye]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ye]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Op,Ye]}],"grid-cols":[{"grid-cols":[kp]}],"col-start-end":[{col:["auto",{span:["full",Op,Ye]},Ye]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[kp]}],"row-start-end":[{row:["auto",{span:[Op,Ye]},Ye]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ye]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ye,e]}],"min-w":[{"min-w":[Ye,e,"min","max","fit"]}],"max-w":[{"max-w":[Ye,e,"none","full","min","max","fit","prose",{screen:[nl]},nl]}],h:[{h:[Ye,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ye,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ye,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ye,e,"auto","min","max","fit"]}],"font-size":[{text:["base",nl,rl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xS]}],"font-family":[{font:[kp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ye]}],"line-clamp":[{"line-clamp":["none",af,xS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Jo,Ye]}],"list-image":[{"list-image":["none",Ye]}],"list-style-type":[{list:["none","disc","decimal",Ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Jo,rl]}],"underline-offset":[{"underline-offset":["auto",Jo,Ye]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),Roe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",koe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},joe]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:L()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[Jo,Ye]}],"outline-w":[{outline:[Jo,rl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Jo,rl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",nl,Moe]}],"shadow-color":[{shadow:[kp]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",nl,Ye]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ye]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",Ye]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Op,Ye]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ye]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Jo,rl,xS]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Voe=_oe(Boe);function Ae(...t){return Voe(ht(t))}const So={light:()=>{navigator.vibrate&&navigator.vibrate(25)},medium:()=>{navigator.vibrate&&navigator.vibrate(50)},heavy:()=>{navigator.vibrate&&navigator.vibrate(75)},success:()=>{navigator.vibrate&&navigator.vibrate([25,50,75])},error:()=>{navigator.vibrate&&navigator.vibrate([75,50,75])},warning:()=>{navigator.vibrate&&navigator.vibrate([50,30,50])},notification:()=>{navigator.vibrate&&navigator.vibrate([25,50,25])},longPress:()=>{navigator.vibrate&&navigator.vibrate([30,30,60])},custom:t=>{navigator.vibrate&&navigator.vibrate(t)}},Uoe=coe,zoe=_.forwardRef(({className:t,sideOffset:e=4,...r},n)=>d.jsx(xV,{ref:n,sideOffset:e,className:Ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));zoe.displayName=xV.displayName;/**
 * @remix-run/router v1.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hg(){return hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hg.apply(this,arguments)}var Al;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Al||(Al={}));const wj="popstate";function Woe(t){t===void 0&&(t={});function e(i,a){let{pathname:o="/",search:s="",hash:l=""}=Yu(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),sC("",{pathname:o,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let o=i.document.querySelector("base"),s="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");s=c===-1?l:l.slice(0,c)}return s+"#"+(typeof a=="string"?a:ax(a))}function n(i,a){Tb(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return Goe(e,r,n,t)}function _r(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Tb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Hoe(){return Math.random().toString(36).substr(2,8)}function bj(t,e){return{usr:t.state,key:t.key,idx:e}}function sC(t,e,r,n){return r===void 0&&(r=null),hg({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Yu(e):e,{state:r,key:e&&e.key||n||Hoe()})}function ax(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Yu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Goe(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s=Al.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(hg({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function f(){s=Al.Pop;let v=u(),y=v==null?null:v-c;c=v,l&&l({action:s,location:g.location,delta:y})}function h(v,y){s=Al.Push;let x=sC(g.location,v,y);r&&r(x,v),c=u()+1;let b=bj(x,c),S=g.createHref(x);try{o.pushState(b,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(S)}a&&l&&l({action:s,location:g.location,delta:1})}function p(v,y){s=Al.Replace;let x=sC(g.location,v,y);r&&r(x,v),c=u();let b=bj(x,c),S=g.createHref(x);o.replaceState(b,"",S),a&&l&&l({action:s,location:g.location,delta:0})}function m(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof v=="string"?v:ax(v);return _r(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let g={get action(){return s},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(wj,f),l=v,()=>{i.removeEventListener(wj,f),l=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let y=m(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(v){return o.go(v)}};return g}var _j;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(_j||(_j={}));function qoe(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?Yu(e):e,i=SP(n.pathname||"/",r);if(i==null)return null;let a=CV(t);Koe(a);let o=null;for(let s=0;o==null&&s<a.length;++s)o=nse(a[s],ose(i));return o}function CV(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(_r(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=$l([n,l.relativePath]),u=r.concat(l);a.children&&a.children.length>0&&(_r(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),CV(a.children,e,u,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:tse(c,a.index),routesMeta:u})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of TV(a.path))i(a,o,l)}),e}function TV(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=TV(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function Koe(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:rse(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Yoe=/^:\w+$/,Xoe=3,Qoe=2,Zoe=1,Joe=10,ese=-2,Sj=t=>t==="*";function tse(t,e){let r=t.split("/"),n=r.length;return r.some(Sj)&&(n+=ese),e&&(n+=Qoe),r.filter(i=>!Sj(i)).reduce((i,a)=>i+(Yoe.test(a)?Xoe:a===""?Zoe:Joe),n)}function rse(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function nse(t,e){let{routesMeta:r}=t,n={},i="/",a=[];for(let o=0;o<r.length;++o){let s=r[o],l=o===r.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=ise({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c);if(!u)return null;Object.assign(n,u.params);let f=s.route;a.push({params:n,pathname:$l([i,u.pathname]),pathnameBase:dse($l([i,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(i=$l([i,u.pathnameBase]))}return a}function ise(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=ase(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((c,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let g=s[f]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=s[f];return p&&!m?c[h]=void 0:c[h]=sse(m||"",h),c},{}),pathname:a,pathnameBase:o,pattern:t}}function ase(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Tb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function ose(t){try{return decodeURI(t)}catch(e){return Tb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function sse(t,e){try{return decodeURIComponent(t)}catch(r){return Tb(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function SP(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function lse(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Yu(t):t;return{pathname:r?r.startsWith("/")?r:cse(r,e):e,search:fse(n),hash:hse(i)}}function cse(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function wS(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function use(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function EP(t){return use(t).map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function AP(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Yu(t):(i=hg({},t),_r(!i.pathname||!i.pathname.includes("?"),wS("?","pathname","search",i)),_r(!i.pathname||!i.pathname.includes("#"),wS("#","pathname","hash",i)),_r(!i.search||!i.search.includes("#"),wS("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else if(n){let f=e[e.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f.pop();i.pathname=h.join("/")}s="/"+f.join("/")}else{let f=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=lse(i,s),c=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const $l=t=>t.join("/").replace(/\/\/+/g,"/"),dse=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fse=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hse=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pse(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const IV=["post","put","patch","delete"];new Set(IV);const mse=["get",...IV];new Set(mse);/**
 * React Router v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ox(){return ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ox.apply(this,arguments)}const CP=_.createContext(null),gse=_.createContext(null),Nh=_.createContext(null),Ib=_.createContext(null),Hs=_.createContext({outlet:null,matches:[],isDataRoute:!1}),NV=_.createContext(null);function vse(t,e){let{relative:r}=e===void 0?{}:e;Ph()||_r(!1);let{basename:n,navigator:i}=_.useContext(Nh),{hash:a,pathname:o,search:s}=OV(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:$l([n,o])),i.createHref({pathname:l,search:s,hash:a})}function Ph(){return _.useContext(Ib)!=null}function uo(){return Ph()||_r(!1),_.useContext(Ib).location}function PV(t){_.useContext(Nh).static||_.useLayoutEffect(t)}function ra(){let{isDataRoute:t}=_.useContext(Hs);return t?Ose():yse()}function yse(){Ph()||_r(!1);let t=_.useContext(CP),{basename:e,navigator:r}=_.useContext(Nh),{matches:n}=_.useContext(Hs),{pathname:i}=uo(),a=JSON.stringify(EP(n)),o=_.useRef(!1);return PV(()=>{o.current=!0}),_.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){r.go(l);return}let u=AP(l,JSON.parse(a),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:$l([e,u.pathname])),(c.replace?r.replace:r.push)(u,c.state,c)},[e,r,a,i,t])}function xse(){let{matches:t}=_.useContext(Hs),e=t[t.length-1];return e?e.params:{}}function OV(t,e){let{relative:r}=e===void 0?{}:e,{matches:n}=_.useContext(Hs),{pathname:i}=uo(),a=JSON.stringify(EP(n));return _.useMemo(()=>AP(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function wse(t,e){return bse(t,e)}function bse(t,e,r){Ph()||_r(!1);let{navigator:n}=_.useContext(Nh),{matches:i}=_.useContext(Hs),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let s=a?a.pathnameBase:"/";a&&a.route;let l=uo(),c;if(e){var u;let g=typeof e=="string"?Yu(e):e;s==="/"||(u=g.pathname)!=null&&u.startsWith(s)||_r(!1),c=g}else c=l;let f=c.pathname||"/",h=s==="/"?f:f.slice(s.length)||"/",p=qoe(t,{pathname:h}),m=Cse(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:$l([s,n.encodeLocation?n.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?s:$l([s,n.encodeLocation?n.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r);return e&&m?_.createElement(Ib.Provider,{value:{location:ox({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Al.Pop}},m):m}function _se(){let t=Pse(),e=pse(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),r?_.createElement("pre",{style:i},r):null,null)}const Sse=_.createElement(_se,null);class Ese extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?_.createElement(Hs.Provider,{value:this.props.routeContext},_.createElement(NV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ase(t){let{routeContext:e,match:r,children:n}=t,i=_.useContext(CP);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(Hs.Provider,{value:e},n)}function Cse(t,e,r){var n;if(e===void 0&&(e=[]),r===void 0&&(r=null),t==null){var i;if((i=r)!=null&&i.errors)t=r.matches;else return null}let a=t,o=(n=r)==null?void 0:n.errors;if(o!=null){let s=a.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));s>=0||_r(!1),a=a.slice(0,Math.min(a.length,s+1))}return a.reduceRight((s,l,c)=>{let u=l.route.id?o==null?void 0:o[l.route.id]:null,f=null;r&&(f=l.route.errorElement||Sse);let h=e.concat(a.slice(0,c+1)),p=()=>{let m;return u?m=f:l.route.Component?m=_.createElement(l.route.Component,null):l.route.element?m=l.route.element:m=s,_.createElement(Ase,{match:l,routeContext:{outlet:s,matches:h,isDataRoute:r!=null},children:m})};return r&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?_.createElement(Ese,{location:r.location,revalidation:r.revalidation,component:f,error:u,children:p(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):p()},null)}var kV=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(kV||{}),RV=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(RV||{});function Tse(t){let e=_.useContext(CP);return e||_r(!1),e}function Ise(t){let e=_.useContext(gse);return e||_r(!1),e}function Nse(t){let e=_.useContext(Hs);return e||_r(!1),e}function DV(t){let e=Nse(),r=e.matches[e.matches.length-1];return r.route.id||_r(!1),r.route.id}function Pse(){var t;let e=_.useContext(NV),r=Ise(),n=DV();return e||((t=r.errors)==null?void 0:t[n])}function Ose(){let{router:t}=Tse(kV.UseNavigateStable),e=DV(RV.UseNavigateStable),r=_.useRef(!1);return PV(()=>{r.current=!0}),_.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ox({fromRouteId:e},a)))},[t,e])}function TP(t){let{to:e,replace:r,state:n,relative:i}=t;Ph()||_r(!1);let{matches:a}=_.useContext(Hs),{pathname:o}=uo(),s=ra(),l=AP(e,EP(a),o,i==="path"),c=JSON.stringify(l);return _.useEffect(()=>s(JSON.parse(c),{replace:r,state:n,relative:i}),[s,c,i,r,n]),null}function jr(t){_r(!1)}function kse(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Al.Pop,navigator:a,static:o=!1}=t;Ph()&&_r(!1);let s=e.replace(/^\/*/,"/"),l=_.useMemo(()=>({basename:s,navigator:a,static:o}),[s,a,o]);typeof n=="string"&&(n=Yu(n));let{pathname:c="/",search:u="",hash:f="",state:h=null,key:p="default"}=n,m=_.useMemo(()=>{let g=SP(c,s);return g==null?null:{location:{pathname:g,search:u,hash:f,state:h,key:p},navigationType:i}},[s,c,u,f,h,p,i]);return m==null?null:_.createElement(Nh.Provider,{value:l},_.createElement(Ib.Provider,{children:r,value:m}))}function Rse(t){let{children:e,location:r}=t;return wse(lC(e),r)}new Promise(()=>{});function lC(t,e){e===void 0&&(e=[]);let r=[];return _.Children.forEach(t,(n,i)=>{if(!_.isValidElement(n))return;let a=[...e,i];if(n.type===_.Fragment){r.push.apply(r,lC(n.props.children,a));return}n.type!==jr&&_r(!1),!n.props.index||!n.props.children||_r(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=lC(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cC(){return cC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cC.apply(this,arguments)}function Dse(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function jse(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Mse(t,e){return t.button===0&&(!e||e==="_self")&&!jse(t)}const Lse=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],$se="startTransition",Ej=BF[$se];function Fse(t){let{basename:e,children:r,future:n,window:i}=t,a=_.useRef();a.current==null&&(a.current=Woe({window:i,v5Compat:!0}));let o=a.current,[s,l]=_.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},u=_.useCallback(f=>{c&&Ej?Ej(()=>l(f)):l(f)},[l,c]);return _.useLayoutEffect(()=>o.listen(u),[o,u]),_.createElement(kse,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:o})}const Bse=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vse=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,of=_.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:c,preventScrollReset:u,unstable_viewTransition:f}=e,h=Dse(e,Lse),{basename:p}=_.useContext(Nh),m,g=!1;if(typeof c=="string"&&Vse.test(c)&&(m=c,Bse))try{let b=new URL(window.location.href),S=c.startsWith("//")?new URL(b.protocol+c):new URL(c),E=SP(S.pathname,p);S.origin===b.origin&&E!=null?c=E+S.search+S.hash:g=!0}catch{}let v=vse(c,{relative:i}),y=Use(c,{replace:o,state:s,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:f});function x(b){n&&n(b),b.defaultPrevented||y(b)}return _.createElement("a",cC({},h,{href:m||v,onClick:g||a?n:x,ref:r,target:l}))});var Aj;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Aj||(Aj={}));var Cj;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Cj||(Cj={}));function Use(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:s}=e===void 0?{}:e,l=ra(),c=uo(),u=OV(t,{relative:o});return _.useCallback(f=>{if(Mse(f,r)){f.preventDefault();let h=n!==void 0?n:ax(c)===ax(u);l(t,{replace:h,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:s})}},[c,l,u,n,i,r,t,a,o,s])}const zse=[{id:"1",title:"Pick up dry cleaning",dueDate:"2025-05-05",location:"Downtown Cleaners",coordinates:{lat:39.9622,lng:-83.0007},priority:"high",completed:!1,isRotating:!1,assignees:[{id:"1",name:"You",avatar:""},{id:"2",name:"Rachel",avatar:""}],notes:"Don't forget the receipt"},{id:"2",title:"Return library books",dueDate:"2025-05-08",location:"Columbus Public Library",coordinates:{lat:39.9611,lng:-83.0101},priority:"medium",completed:!1,isRotating:!0,assignees:[{id:"1",name:"You",avatar:""}],notes:"Books due by 8pm"},{id:"3",title:"Get groceries from Trader Joe's",dueDate:"2025-05-02",location:"Trader Joe's",coordinates:{lat:39.9702,lng:-83.015},priority:"high",completed:!0,isRotating:!1,assignees:[{id:"3",name:"Brian",avatar:""},{id:"4",name:"Ella",avatar:""}],notes:"See shopping list in app"}],Wse=[{id:"1",store:"Trader Joe's",date:new Date().toISOString(),time:"10:00",status:"pending",coordinates:{lat:39.9702,lng:-83.015},items:[{id:"1-1",name:"Milk",quantity:1,price:3.99,unit:"gal",addedBy:{name:"You",avatar:"https://example.com/you.jpg"},checked:!1},{id:"1-2",name:"Eggs",quantity:1,price:4.49,unit:"dozen",addedBy:{name:"You",avatar:"https://example.com/you.jpg"},checked:!1}],participants:[{id:"1",name:"You",avatar:"https://example.com/you.jpg"},{id:"2",name:"Rachel",avatar:"https://example.com/rachel.jpg"}],shopper:{name:"You",avatar:"https://example.com/you.jpg"}},{id:"2",store:"Costco",date:new Date(Date.now()+864e5).toISOString(),time:"14:00",status:"shopping",coordinates:{lat:39.965,lng:-83.02},items:[{id:"2-1",name:"Paper Towels",quantity:2,price:19.99,unit:"pack",addedBy:{name:"You",avatar:"https://example.com/you.jpg"},checked:!0}],participants:[{id:"1",name:"You",avatar:"https://example.com/you.jpg"}],shopper:{name:"You",avatar:"https://example.com/you.jpg"}},{id:"3",store:"Whole Foods",date:new Date(Date.now()-864e5).toISOString(),time:"15:00",status:"completed",coordinates:{lat:39.96,lng:-83.018},items:[{id:"3-1",name:"Organic Bananas",quantity:1,price:3.99,unit:"bunch",addedBy:{name:"Alex",avatar:"https://example.com/alex.jpg"},checked:!0}],participants:[{id:"1",name:"You",avatar:"https://example.com/you.jpg"},{id:"3",name:"Alex",avatar:"https://example.com/alex.jpg"}],shopper:{name:"Alex",avatar:"https://example.com/alex.jpg"}}],jV=_.createContext(void 0);function Hse({children:t}){const[e,r]=_.useState(zse),[n,i]=_.useState(Wse),[a,o]=_.useState(500);_.useEffect(()=>{const y=localStorage.getItem("tasks"),x=localStorage.getItem("trips");if(y)try{r(JSON.parse(y))}catch(b){console.error("Error parsing stored tasks:",b)}if(x)try{const b=JSON.parse(x);i(b)}catch(b){console.error("Error parsing stored trips:",b)}},[]),_.useEffect(()=>{localStorage.setItem("tasks",JSON.stringify(e))},[e]);const s=(y,x)=>x instanceof Date?x.toISOString():x;_.useEffect(()=>{try{localStorage.setItem("trips",JSON.stringify(n,s))}catch(y){console.error("Error saving trips to localStorage:",y)}},[n]),_.useEffect(()=>{localStorage.setItem("budget",JSON.stringify(a))},[a]);const l=y=>{const x={...y,id:Date.now().toString(),completed:y.completed!==void 0?y.completed:!1};r([...e,x])},c=(y,x)=>{r(e.map(b=>b.id===y?{...b,...x}:b))},u=y=>{r(e.filter(x=>x.id!==y))},v={tasks:e,trips:n,addTask:l,updateTask:c,deleteTask:u,addTrip:y=>{const x={id:Math.random().toString(36).substr(2,9),...y,items:y.items||[],status:"pending",shopper:y.shopper||{name:"You",avatar:"https://example.com/you.jpg"}};return i(b=>[...b,x]),x},updateTrip:(y,x)=>{i(b=>b.map(S=>S.id===y?{...S,...x}:S))},deleteTrip:y=>{const x=n.find(b=>b.id===y);if(i(n.filter(b=>b.id!==y)),x){const b=`Trip to ${x.store}`,S=e.find(E=>E.title===b);S&&u(S.id)}},syncTasksWithTrips:()=>{n.forEach(y=>{const x=`Trip to ${y.store}`;!e.find(S=>S.title===x)&&y.coordinates&&l({title:x,dueDate:new Date().toISOString().split("T")[0],location:y.store,coordinates:y.coordinates,priority:"medium"})}),e.forEach(y=>{if(y.title.startsWith("Trip to ")){const x=y.title.replace("Trip to ",""),b=n.find(S=>S.store===x);b!=null&&b.coordinates&&c(y.id,{location:b.store,coordinates:b.coordinates})}})},budget:a,updateBudget:y=>{o(y)}};return d.jsx(jV.Provider,{value:v,children:t})}function ks(){const t=_.useContext(jV);if(t===void 0)throw new Error("useTaskContext must be used within a TaskProvider");return t}const MV=_.createContext(void 0),pd="authUser",Gse=({children:t})=>{const[e,r]=_.useState(null),[n,i]=_.useState(!0),[a,o]=_.useState(null);_.useEffect(()=>{try{i(!0);const f=localStorage.getItem(pd),h={id:"default_user",name:"Default User",email:"default@example.com",avatar:"https://ui-avatars.com/api/?name=Default+User&background=random",chorePreferences:[]};if(f){const p=JSON.parse(f);r({...p,chorePreferences:p.chorePreferences||[]})}else r(h),localStorage.setItem(pd,JSON.stringify(h))}catch(f){console.error("Error loading auth state:",f),localStorage.removeItem(pd)}finally{i(!1)}},[]);const u={user:e,isLoading:n,error:a,loginWithGoogle:async()=>{try{i(!0),o(null),await new Promise(h=>setTimeout(h,1e3));const f={id:"google_"+Math.random().toString(36).substring(2,9),name:"Demo User",email:"demo@example.com",avatar:"https://ui-avatars.com/api/?name=Demo+User&background=random",chorePreferences:[]};r(f),localStorage.setItem(pd,JSON.stringify(f))}catch(f){console.error("Google login error:",f),o("Failed to login with Google. Please try again.")}finally{i(!1)}},logout:async()=>{try{i(!0),await new Promise(f=>setTimeout(f,500)),localStorage.removeItem(pd),r(null)}catch(f){console.error("Logout error:",f),o("Failed to logout. Please try again.")}finally{i(!1)}},updateChorePreferences:async f=>{if(e)try{i(!0);const h={...e,chorePreferences:f};r(h),localStorage.setItem(pd,JSON.stringify(h))}catch(h){console.error("Error updating preferences:",h),o("Failed to update preferences. Please try again.")}finally{i(!1)}}};return d.jsx(MV.Provider,{value:u,children:t})},Nb=()=>{const t=_.useContext(MV);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},qse=_.createContext(void 0),Tj="taska_trips",Kse=({children:t})=>{const[e,r]=_.useState([]);_.useEffect(()=>{const u=localStorage.getItem(Tj);u&&r(JSON.parse(u))},[]),_.useEffect(()=>{localStorage.setItem(Tj,JSON.stringify(e))},[e]);const n=u=>{const f={...u,id:Date.now().toString(),createdAt:Date.now()};r(h=>[...h,f])},i=(u,f)=>{r(h=>h.map(p=>p.id===u?{...p,...f}:p))},a=u=>{r(f=>f.filter(h=>h.id!==u))},o=(u,f)=>{const h={...f,id:Date.now().toString()};r(p=>p.map(m=>m.id===u?{...m,items:[...m.items,h]}:m))},s=(u,f,h)=>{r(p=>p.map(m=>m.id===u?{...m,items:m.items.map(g=>g.id===f?{...g,...h}:g)}:m))},l=(u,f)=>{r(h=>h.map(p=>p.id===u?{...p,items:p.items.filter(m=>m.id!==f)}:p))},c=u=>{r(f=>f.map(h=>h.id===u?{...h,isComplete:!0}:h))};return d.jsx(qse.Provider,{value:{trips:e,setTrips:r,addTrip:n,updateTrip:i,deleteTrip:a,addItemToTrip:o,updateTripItem:s,deleteTripItem:l,completeTrip:c},children:t})},Yse=()=>{const t=new Date,e=[],r=["Trader Joe's","Whole Foods","Costco","Target","Walmart","Kroger"],n=[{name:"Milk",category:"Dairy",price:4.99,unit:"gal"},{name:"Eggs",category:"Dairy",price:5.99,unit:"dozen"},{name:"Bread",category:"Pantry",price:3.99,unit:"loaf"},{name:"Bananas",category:"Produce",price:2.99,unit:"bunch"},{name:"Chicken Breast",category:"Meat",price:12.99,unit:"lb"},{name:"Paper Towels",category:"Household",price:15.99,unit:"pack"},{name:"Chips",category:"Snacks",price:4.49,unit:"bag"},{name:"Apples",category:"Produce",price:5.99,unit:"lb"},{name:"Cheese",category:"Dairy",price:6.99,unit:"lb"},{name:"Pasta",category:"Pantry",price:2.99,unit:"box"}];for(let a=0;a<6;a++){const o=4+Math.floor(Math.random()*3);for(let s=0;s<o;s++){const l=new Date(t.getFullYear(),t.getMonth()-a,Math.floor(Math.random()*28)+1),c=r[Math.floor(Math.random()*r.length)],u=3+Math.floor(Math.random()*8),f=[];let h=0;[...n].sort(()=>Math.random()-.5).slice(0,u).forEach((m,g)=>{const v=1+Math.floor(Math.random()*3),y=Number((m.price*(.9+Math.random()*.2)).toFixed(2)),x=y*v;h+=x,f.push({id:`item-${l.getTime()}-${g}`,name:m.name,quantity:v,category:m.category,addedBy:"user123",addedAt:l.toISOString(),price:y,checked:!0,unit:m.unit})}),e.push({id:`trip-${l.getTime()}-${s}`,name:`Trip to ${c}`,store:c,status:"completed",createdAt:l.toISOString(),updatedAt:l.toISOString(),items:f,members:["user123"],totalAmount:Number(h.toFixed(2))})}}const i=2;for(let a=0;a<i;a++){const o=r[Math.floor(Math.random()*r.length)],s=[],l=2+Math.floor(Math.random()*4);let c=0;[...n].sort(()=>Math.random()-.5).slice(0,l).forEach((f,h)=>{const p=1+Math.floor(Math.random()*3),m=Number((f.price*(.9+Math.random()*.2)).toFixed(2)),g=m*p;c+=g,s.push({id:`item-${Date.now()}-active-${h}`,name:f.name,quantity:p,category:f.category,addedBy:"user123",addedAt:new Date().toISOString(),price:m,checked:!1,unit:f.unit})}),e.push({id:`trip-${Date.now()}-active-${a}`,name:`Trip to ${o}`,store:o,status:a===0?"open":"shopping",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),items:s,members:["user123"],totalAmount:Number(c.toFixed(2))})}return e.sort((a,o)=>new Date(o.createdAt).getTime()-new Date(a.createdAt).getTime())},LV=_.createContext(void 0);function Xse({children:t}){const[e,r]=_.useState([]);_.useEffect(()=>{const c=localStorage.getItem("trips");if(c)r(JSON.parse(c));else{const u=Yse();r(u),localStorage.setItem("trips",JSON.stringify(u))}},[]),_.useEffect(()=>{localStorage.setItem("trips",JSON.stringify(e))},[e]);const n=c=>{const u={...c,id:Date.now().toString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};r(f=>[...f,u])},i=(c,u)=>{r(f=>f.map(h=>h.id===c?{...h,...u,updatedAt:new Date().toISOString()}:h))},a=c=>{r(u=>u.filter(f=>f.id!==c))},o=(c,u)=>{r(f=>f.map(h=>{if(h.id===c){const p=u.map(g=>({...g,id:Date.now().toString(),addedAt:new Date().toISOString()})),m=h.items.concat(p).reduce((g,v)=>g+(v.price||0)*v.quantity,0);return{...h,items:[...h.items,...p],updatedAt:new Date().toISOString(),totalAmount:Number(m.toFixed(2))}}return h}))},s=(c,u)=>{r(f=>f.map(h=>{if(h.id===c){const p=h.items.filter(g=>g.id!==u),m=p.reduce((g,v)=>g+(v.price||0)*v.quantity,0);return{...h,items:p,updatedAt:new Date().toISOString(),totalAmount:Number(m.toFixed(2))}}return h}))},l=(c,u,f)=>{r(h=>h.map(p=>{if(p.id===c){const m=p.items.map(v=>v.id===u?{...v,...f}:v),g=m.reduce((v,y)=>v+(y.price||0)*y.quantity,0);return{...p,items:m,updatedAt:new Date().toISOString(),totalAmount:Number(g.toFixed(2))}}return p}))};return d.jsx(LV.Provider,{value:{trips:e,addTrip:n,updateTrip:i,deleteTrip:a,addItemToTrip:o,removeItemFromTrip:s,updateTripItem:l},children:t})}function Qse(){const t=_.useContext(LV);if(t===void 0)throw new Error("useTrips must be used within a TripsProvider");return t}const Zse=_.createContext(void 0),Jse=({children:t})=>{const[e,r]=_.useState([{id:"1",type:"info",title:"Welcome to Taska-Loop",message:"Your household management companion. Start by creating a shopping trip!",timestamp:new Date,read:!1,actionText:"New Trip",actionUrl:"/trips"}]);_.useEffect(()=>{const l=localStorage.getItem("notifications");if(l)try{const u=JSON.parse(l).map(f=>({...f,timestamp:new Date(f.timestamp)}));r(u)}catch(c){console.error("Failed to parse stored notifications:",c)}},[]),_.useEffect(()=>{localStorage.setItem("notifications",JSON.stringify(e))},[e]);const n=l=>{const c={...l,id:Date.now().toString(),timestamp:new Date};r(u=>[c,...u])},i=l=>{r(c=>c.filter(u=>u.id!==l))},a=l=>{r(c=>c.map(u=>u.id===l?{...u,read:!0}:u))},o=()=>{r(l=>l.map(c=>({...c,read:!0})))},s=()=>{r([])};return d.jsx(Zse.Provider,{value:{notifications:e,addNotification:n,removeNotification:i,markAsRead:a,markAllAsRead:o,clearAll:s},children:t})},$V=_.createContext(void 0),ele=[{id:"p1",name:"Milk",quantity:1,category:"Dairy",lowStock:!1,expiry:"2025-05-05"},{id:"p2",name:"Bread",quantity:2,category:"Bakery",lowStock:!0,expiry:"2025-05-04"},{id:"p3",name:"Eggs",quantity:12,category:"Dairy",lowStock:!1,expiry:"2025-05-10"},{id:"p4",name:"Bananas",quantity:2,category:"Produce",lowStock:!0,expiry:"2025-05-03"}],tle=({children:t})=>{const[e,r]=_.useState(ele),n=o=>{const s=e.find(l=>l.name.toLowerCase()===o.name.toLowerCase());r(s?l=>l.map(c=>c.id===s.id?{...c,quantity:c.quantity+o.quantity,lowStock:c.quantity+o.quantity<=1}:c):l=>[...l,{...o,id:Date.now().toString()}])},i=(o,s)=>{r(l=>l.map(c=>c.id===o?{...c,...s}:c))},a=o=>{r(s=>s.filter(l=>l.id!==o))};return d.jsx($V.Provider,{value:{pantryItems:e,addPantryItem:n,updatePantryItem:i,removePantryItem:a},children:t})},IP=()=>{const t=_.useContext($V);if(!t)throw new Error("usePantry must be used within a PantryProvider");return t},Ij=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Nj=ht,Uv=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return Nj(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(c=>{const u=r==null?void 0:r[c],f=a==null?void 0:a[c];if(u===null)return null;const h=Ij(u)||Ij(f);return i[c][h]}),s=r&&Object.entries(r).reduce((c,u)=>{let[f,h]=u;return h===void 0||(c[f]=h),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:f,className:h,...p}=u;return Object.entries(p).every(m=>{let[g,v]=m;return Array.isArray(v)?v.includes({...a,...s}[g]):{...a,...s}[g]===v})?[...c,f,h]:c},[]);return Nj(t,o,l,r==null?void 0:r.class,r==null?void 0:r.className)},i1=Uv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Y=_.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,withHaptics:i=!1,onClick:a,...o},s)=>{const l=n?Is:"button",c=u=>{i&&(i===!0||i==="light"?So.light():i==="medium"?So.medium():i==="heavy"?So.heavy():i==="success"?So.success():i==="error"?So.error():i==="warning"&&So.warning()),a&&a(u)};return d.jsx(l,{className:Ae(i1({variant:e,size:r,className:t})),ref:s,onClick:c,...o})});Y.displayName="Button";const Ie=_.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:Ae("rounded-lg border border-slate-200/30 dark:border-slate-700/30 bg-white/80 dark:bg-slate-800/90 backdrop-blur-sm text-card-foreground shadow-md dark:shadow-lg",t),...e}));Ie.displayName="Card";const We=_.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:Ae("flex flex-col space-y-1.5 p-6",t),...e}));We.displayName="CardHeader";const He=_.forwardRef(({className:t,...e},r)=>d.jsx("h3",{ref:r,className:Ae("text-2xl font-semibold leading-none tracking-tight",t),...e}));He.displayName="CardTitle";const gt=_.forwardRef(({className:t,...e},r)=>d.jsx("p",{ref:r,className:Ae("text-sm text-muted-foreground",t),...e}));gt.displayName="CardDescription";const Pe=_.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:Ae("p-6 pt-0",t),...e}));Pe.displayName="CardContent";const Dt=_.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:Ae("flex items-center p-6 pt-0",t),...e}));Dt.displayName="CardFooter";/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rle={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nle=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ye=(t,e)=>{const r=_.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:s="",children:l,...c},u)=>_.createElement("svg",{ref:u,...rle,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${nle(t)}`,s].join(" "),...c},[...e.map(([f,h])=>_.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=ye("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ile=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ale=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ole=ye("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sle=ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lle=ye("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=ye("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cle=ye("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=ye("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=ye("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=ye("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=ye("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ule=ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=ye("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dle=ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fle=ye("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hle=ye("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ple=ye("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mle=ye("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gle=ye("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=ye("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vle=ye("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yle=ye("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xle=ye("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=ye("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wle=ye("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ble=ye("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _le=ye("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sle=ye("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ele=ye("ListPlus",[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=ye("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ale=ye("LockKeyhole",[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=ye("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=ye("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cle=ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tle=ye("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=ye("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ile=ye("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=ye("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nle=ye("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=ye("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ple=ye("PersonStanding",[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["path",{d:"m9 20 3-6 3 6",key:"se2kox"}],["path",{d:"m6 8 6 2 6-2",key:"4o3us4"}],["path",{d:"M12 10v4",key:"1kjpxc"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ole=ye("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=ye("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kle=ye("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=ye("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=ye("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=ye("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rle=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dle=ye("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jle=ye("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=ye("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=ye("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=ye("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mle=ye("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lle=ye("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $le=ye("SplitSquareVertical",[["path",{d:"M5 8V5c0-1 1-2 2-2h10c1 0 2 1 2 2v3",key:"1pi83i"}],["path",{d:"M19 16v3c0 1-1 2-2 2H7c-1 0-2-1-2-2v-3",key:"ido5k7"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=ye("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=ye("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=ye("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=ye("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fle=ye("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=ye("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ble=ye("TramFront",[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h0",key:"q9eq1f"}],["path",{d:"M16 15h0",key:"pzrbjg"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vle=ye("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=ye("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=ye("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=ye("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Ule=()=>{const t=ra();return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-teal-50 dark:from-blue-900/30 dark:via-purple-900/20 dark:to-teal-900/30",children:[d.jsx("header",{className:"container mx-auto py-4",children:d.jsxs("nav",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(lf,{className:"h-6 w-6 text-teal-600 dark:text-teal-400"}),d.jsx("span",{className:"text-xl font-bold text-teal-600 dark:text-teal-400",children:"TaskaLoop"})]}),d.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[d.jsx(Y,{variant:"ghost",className:"text-teal-700 hover:text-teal-900 hover:bg-teal-50 dark:text-teal-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20",children:"Home"}),d.jsx(Y,{variant:"ghost",className:"text-slate-600 hover:text-teal-900 hover:bg-teal-50 dark:text-slate-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20",children:"Features"}),d.jsx(Y,{variant:"ghost",className:"text-slate-600 hover:text-teal-900 hover:bg-teal-50 dark:text-slate-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20",children:"About"}),d.jsx(Y,{variant:"ghost",className:"text-slate-600 hover:text-teal-900 hover:bg-teal-50 dark:text-slate-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20",children:"Contact"})]}),d.jsx("div",{children:d.jsx(Y,{className:"bg-teal-600 hover:bg-teal-700 dark:bg-teal-500 dark:hover:bg-teal-600 text-white",onClick:()=>t("/home"),children:"Get Started"})})]})}),d.jsx("section",{className:"container mx-auto py-16 md:py-24",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-slate-800 dark:text-slate-200 leading-tight",children:["Simplify Your ",d.jsx("span",{className:"text-teal-600 dark:text-teal-400",children:"Daily Tasks"})," With TaskaLoop"]}),d.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 max-w-md",children:"The all-in-one solution for managing shopping lists, splitting expenses, and organizing your daily tasks."}),d.jsxs("div",{className:"flex gap-4 pt-4",children:[d.jsx(Y,{className:"bg-teal-600 hover:bg-teal-700 dark:bg-teal-500 dark:hover:bg-teal-600 px-6 py-6 h-auto",onClick:()=>t("/home"),children:"Try It Free"}),d.jsx(Y,{variant:"outline",className:"border-teal-600 text-teal-600 hover:bg-teal-50 dark:border-teal-400 dark:text-teal-400 dark:hover:bg-teal-900/20 px-6 py-6 h-auto",children:"Learn More"})]})]}),d.jsx("div",{className:"flex justify-center",children:d.jsx("div",{className:"relative w-full max-w-md aspect-square bg-gradient-to-br from-teal-200 to-blue-200 dark:from-teal-600/50 dark:to-blue-600/50 rounded-full flex items-center justify-center",children:d.jsx("div",{className:"absolute inset-4 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-full flex items-center justify-center",children:d.jsx(lf,{className:"h-24 w-24 text-teal-600 dark:text-teal-400"})})})})]})}),d.jsxs("section",{className:"container mx-auto py-16",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"All Features in One Place"}),d.jsx("p",{className:"text-slate-600 dark:text-slate-400 max-w-2xl mx-auto",children:"TaskaLoop brings together everything you need to organize your shopping and daily activities."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsxs(Ie,{className:"border-none shadow-md hover:shadow-lg transition-shadow dark:bg-gray-800/60 backdrop-blur-sm",children:[d.jsxs(We,{className:"pb-2",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/50 flex items-center justify-center mb-2",children:d.jsx(Wr,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),d.jsx(He,{className:"text-xl text-slate-800 dark:text-slate-200",children:"Shopping Trips"}),d.jsx(gt,{className:"dark:text-slate-400",children:"Organize your shopping lists by store or trip"})]}),d.jsx(Pe,{children:d.jsxs("ul",{className:"space-y-2",children:[d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx(Fi,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),d.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Create multiple shopping lists"})]}),d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx(Fi,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),d.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Categorize items automatically"})]}),d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx(Fi,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),d.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Track prices and budgets"})]})]})}),d.jsx(Dt,{children:d.jsx(Y,{variant:"ghost",className:"text-teal-600 hover:text-teal-700 hover:bg-teal-50 dark:text-teal-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20 px-0",children:"Learn more "})})]}),d.jsxs(Ie,{className:"border-none shadow-md hover:shadow-lg transition-shadow dark:bg-gray-800/60 backdrop-blur-sm",children:[d.jsxs(We,{className:"pb-2",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-100 dark:bg-purple-900/50 flex items-center justify-center mb-2",children:d.jsx(GV,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),d.jsx(He,{className:"text-xl text-slate-800 dark:text-slate-200",children:"Cart Splitting"}),d.jsx(gt,{className:"dark:text-slate-400",children:"Easily split expenses with roommates or friends"})]}),d.jsx(Pe,{children:d.jsxs("ul",{className:"space-y-2",children:[d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx(Fi,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),d.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Assign items to different people"})]}),d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx(Fi,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),d.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Calculate individual totals"})]}),d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx(Fi,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),d.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Share expense reports"})]})]})}),d.jsx(Dt,{children:d.jsx(Y,{variant:"ghost",className:"text-teal-600 hover:text-teal-700 hover:bg-teal-50 dark:text-teal-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20 px-0",children:"Learn more "})})]}),d.jsxs(Ie,{className:"border-none shadow-md hover:shadow-lg transition-shadow dark:bg-gray-800/60 backdrop-blur-sm",children:[d.jsxs(We,{className:"pb-2",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-teal-100 dark:bg-teal-900/50 flex items-center justify-center mb-2",children:d.jsx(rc,{className:"h-6 w-6 text-teal-600 dark:text-teal-400"})}),d.jsx(He,{className:"text-xl text-slate-800 dark:text-slate-200",children:"Group Management"}),d.jsx(gt,{className:"dark:text-slate-400",children:"Collaborate with family and friends"})]}),d.jsx(Pe,{children:d.jsxs("ul",{className:"space-y-2",children:[d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx(Fi,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),d.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Create household groups"})]}),d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx(Fi,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),d.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Share lists with specific people"})]}),d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx(Fi,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),d.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Real-time updates for all members"})]})]})}),d.jsx(Dt,{children:d.jsx(Y,{variant:"ghost",className:"text-teal-600 hover:text-teal-700 hover:bg-teal-50 dark:text-teal-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20 px-0",children:"Learn more "})})]})]})]}),d.jsx("section",{className:"container mx-auto py-16 mb-8",children:d.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-blue-500 dark:from-teal-600 dark:to-blue-600 rounded-2xl p-8 md:p-12 text-center text-white",children:[d.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Simplify Your Life?"}),d.jsx("p",{className:"max-w-2xl mx-auto mb-8",children:"Join thousands of users who are already enjoying the benefits of TaskaLoop."}),d.jsx(Y,{className:"bg-white text-teal-600 hover:bg-gray-100 dark:hover:bg-gray-200 px-8 py-6 h-auto text-lg",onClick:()=>t("/home"),children:"Get Started for Free"})]})}),d.jsx("footer",{className:"container mx-auto py-8 border-t border-gray-200 dark:border-gray-700",children:d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4 md:mb-0",children:[d.jsx(lf,{className:"h-5 w-5 text-teal-600 dark:text-teal-400"}),d.jsx("span",{className:"text-lg font-semibold text-teal-600 dark:text-teal-400",children:"TaskaLoop"})]}),d.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:[" ",new Date().getFullYear()," TaskaLoop. All rights reserved."]})]})})]})};function zle(t,e=[]){let r=[];function n(a,o){const s=_.createContext(o),l=r.length;r=[...r,o];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||s,v=_.useMemo(()=>m,Object.values(m));return d.jsx(g.Provider,{value:v,children:p})}function u(f,h){const p=(h==null?void 0:h[t][l])||s,m=_.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,u]}const i=()=>{const a=r.map(o=>_.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return _.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,Wle(i,...e)]}function Wle(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...s,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function kP(t){const e=t+"CollectionProvider",[r,n]=zle(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:m,children:g}=p,v=j.useRef(null),y=j.useRef(new Map).current;return d.jsx(i,{scope:m,itemMap:y,collectionRef:v,children:g})};o.displayName=e;const s=t+"CollectionSlot",l=j.forwardRef((p,m)=>{const{scope:g,children:v}=p,y=a(s,g),x=Ze(m,y.collectionRef);return d.jsx(Is,{ref:x,children:v})});l.displayName=s;const c=t+"CollectionItemSlot",u="data-radix-collection-item",f=j.forwardRef((p,m)=>{const{scope:g,children:v,...y}=p,x=j.useRef(null),b=Ze(m,x),S=a(c,g);return j.useEffect(()=>(S.itemMap.set(x,{ref:x,...y}),()=>void S.itemMap.delete(x))),d.jsx(Is,{[u]:"",ref:b,children:v})});f.displayName=c;function h(p){const m=a(t+"CollectionConsumer",p);return j.useCallback(()=>{const v=m.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${u}]`));return Array.from(m.itemMap.values()).sort((S,E)=>y.indexOf(S.ref.current)-y.indexOf(E.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},h,n]}function Hle(t,e=[]){let r=[];function n(a,o){const s=_.createContext(o),l=r.length;r=[...r,o];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||s,v=_.useMemo(()=>m,Object.values(m));return d.jsx(g.Provider,{value:v,children:p})}function u(f,h){const p=(h==null?void 0:h[t][l])||s,m=_.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,u]}const i=()=>{const a=r.map(o=>_.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return _.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,Gle(i,...e)]}function Gle(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...s,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var qle=_.createContext(void 0);function Wv(t){const e=_.useContext(qle);return t||e||"ltr"}var _S="rovingFocusGroup.onEntryFocus",Kle={bubbles:!1,cancelable:!0},Ob="RovingFocusGroup",[yC,YV,Yle]=kP(Ob),[Xle,kb]=Hle(Ob,[Yle]),[Qle,Zle]=Xle(Ob),XV=_.forwardRef((t,e)=>d.jsx(yC.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(yC.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(Jle,{...t,ref:e})})}));XV.displayName=Ob;var Jle=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...f}=t,h=_.useRef(null),p=Ze(e,h),m=Wv(a),[g=null,v]=Os({prop:o,defaultProp:s,onChange:l}),[y,x]=_.useState(!1),b=Nr(c),S=YV(r),E=_.useRef(!1),[C,A]=_.useState(0);return _.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(_S,b),()=>T.removeEventListener(_S,b)},[b]),d.jsx(Qle,{scope:r,orientation:n,dir:m,loop:i,currentTabStopId:g,onItemFocus:_.useCallback(T=>v(T),[v]),onItemShiftTab:_.useCallback(()=>x(!0),[]),onFocusableItemAdd:_.useCallback(()=>A(T=>T+1),[]),onFocusableItemRemove:_.useCallback(()=>A(T=>T-1),[]),children:d.jsx(je.div,{tabIndex:y||C===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:_e(t.onMouseDown,()=>{E.current=!0}),onFocus:_e(t.onFocus,T=>{const I=!E.current;if(T.target===T.currentTarget&&I&&!y){const N=new CustomEvent(_S,Kle);if(T.currentTarget.dispatchEvent(N),!N.defaultPrevented){const O=S().filter(L=>L.focusable),R=O.find(L=>L.active),k=O.find(L=>L.id===g),U=[R,k,...O].filter(Boolean).map(L=>L.ref.current);JV(U,u)}}E.current=!1}),onBlur:_e(t.onBlur,()=>x(!1))})})}),QV="RovingFocusGroupItem",ZV=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,...o}=t,s=Ja(),l=a||s,c=Zle(QV,r),u=c.currentTabStopId===l,f=YV(r),{onFocusableItemAdd:h,onFocusableItemRemove:p}=c;return _.useEffect(()=>{if(n)return h(),()=>p()},[n,h,p]),d.jsx(yC.ItemSlot,{scope:r,id:l,focusable:n,active:i,children:d.jsx(je.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:_e(t.onMouseDown,m=>{n?c.onItemFocus(l):m.preventDefault()}),onFocus:_e(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:_e(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){c.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const g=rce(m,c.orientation,c.dir);if(g!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let y=f().filter(x=>x.focusable).map(x=>x.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const x=y.indexOf(m.currentTarget);y=c.loop?nce(y,x+1):y.slice(x+1)}setTimeout(()=>JV(y))}})})})});ZV.displayName=QV;var ece={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function tce(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function rce(t,e,r){const n=tce(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return ece[n]}function JV(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function nce(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var eU=XV,tU=ZV,RP="Tabs",[ice,Dat]=co(RP,[kb]),rU=kb(),[ace,DP]=ice(RP),nU=_.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:l="automatic",...c}=t,u=Wv(s),[f,h]=Os({prop:n,onChange:i,defaultProp:a});return d.jsx(ace,{scope:r,baseId:Ja(),value:f,onValueChange:h,orientation:o,dir:u,activationMode:l,children:d.jsx(je.div,{dir:u,"data-orientation":o,...c,ref:e})})});nU.displayName=RP;var iU="TabsList",aU=_.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,a=DP(iU,r),o=rU(r);return d.jsx(eU,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:d.jsx(je.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});aU.displayName=iU;var oU="TabsTrigger",sU=_.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=t,o=DP(oU,r),s=rU(r),l=uU(o.baseId,n),c=dU(o.baseId,n),u=n===o.value;return d.jsx(tU,{asChild:!0,...s,focusable:!i,active:u,children:d.jsx(je.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:e,onMouseDown:_e(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:_e(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:_e(t.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!i&&f&&o.onValueChange(n)})})})});sU.displayName=oU;var lU="TabsContent",cU=_.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=t,s=DP(lU,r),l=uU(s.baseId,n),c=dU(s.baseId,n),u=n===s.value,f=_.useRef(u);return _.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),d.jsx(In,{present:i||u,children:({present:h})=>d.jsx(je.div,{"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});cU.displayName=lU;function uU(t,e){return`${t}-trigger-${e}`}function dU(t,e){return`${t}-content-${e}`}var oce=nU,fU=aU,hU=sU,pU=cU;const Cu=oce,nc=_.forwardRef(({className:t,...e},r)=>d.jsx(fU,{ref:r,className:Ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));nc.displayName=fU.displayName;const tr=_.forwardRef(({className:t,onClick:e,...r},n)=>{const i=a=>{So.light(),e&&e(a)};return d.jsx(hU,{ref:n,className:Ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),onClick:i,...r})});tr.displayName=hU.displayName;const Pr=_.forwardRef(({className:t,...e},r)=>d.jsx(pU,{ref:r,className:Ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Pr.displayName=pU.displayName;var jP="Avatar",[sce,jat]=co(jP),[lce,mU]=sce(jP),gU=_.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,a]=_.useState("idle");return d.jsx(lce,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:d.jsx(je.span,{...n,ref:e})})});gU.displayName=jP;var vU="AvatarImage",yU=_.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=t,o=mU(vU,r),s=cce(n,a.referrerPolicy),l=Nr(c=>{i(c),o.onImageLoadingStatusChange(c)});return pn(()=>{s!=="idle"&&l(s)},[s,l]),s==="loaded"?d.jsx(je.img,{...a,ref:e,src:n}):null});yU.displayName=vU;var xU="AvatarFallback",wU=_.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,a=mU(xU,r),[o,s]=_.useState(n===void 0);return _.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>s(!0),n);return()=>window.clearTimeout(l)}},[n]),o&&a.imageLoadingStatus!=="loaded"?d.jsx(je.span,{...i,ref:e}):null});wU.displayName=xU;function cce(t,e){const[r,n]=_.useState("idle");return pn(()=>{if(!t){n("error");return}let i=!0;const a=new window.Image,o=s=>()=>{i&&n(s)};return n("loading"),a.onload=o("loaded"),a.onerror=o("error"),a.src=t,e&&(a.referrerPolicy=e),()=>{i=!1}},[t,e]),r}var bU=gU,_U=yU,SU=wU;const Vr=_.forwardRef(({className:t,...e},r)=>d.jsx(bU,{ref:r,className:Ae("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Vr.displayName=bU.displayName;const Pf=_.forwardRef(({className:t,...e},r)=>d.jsx(_U,{ref:r,className:Ae("aspect-square h-full w-full",t),...e}));Pf.displayName=_U.displayName;const Ur=_.forwardRef(({className:t,...e},r)=>d.jsx(SU,{ref:r,className:Ae("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Ur.displayName=SU.displayName;function uce(t,e=[]){let r=[];function n(a,o){const s=_.createContext(o),l=r.length;r=[...r,o];function c(f){const{scope:h,children:p,...m}=f,g=(h==null?void 0:h[t][l])||s,v=_.useMemo(()=>m,Object.values(m));return d.jsx(g.Provider,{value:v,children:p})}function u(f,h){const p=(h==null?void 0:h[t][l])||s,m=_.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return c.displayName=a+"Provider",[c,u]}const i=()=>{const a=r.map(o=>_.createContext(o));return function(s){const l=(s==null?void 0:s[t])||a;return _.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[n,dce(i,...e)]}function dce(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...s,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var MP="Progress",LP=100,[fce,Mat]=uce(MP),[hce,pce]=fce(MP),EU=_.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=mce,...o}=t;(i||i===0)&&!Dj(i)&&console.error(gce(`${i}`,"Progress"));const s=Dj(i)?i:LP;n!==null&&!jj(n,s)&&console.error(vce(`${n}`,"Progress"));const l=jj(n,s)?n:null,c=cx(l)?a(l,s):void 0;return d.jsx(hce,{scope:r,value:l,max:s,children:d.jsx(je.div,{"aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":cx(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":TU(l,s),"data-value":l??void 0,"data-max":s,...o,ref:e})})});EU.displayName=MP;var AU="ProgressIndicator",CU=_.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=pce(AU,r);return d.jsx(je.div,{"data-state":TU(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});CU.displayName=AU;function mce(t,e){return`${Math.round(t/e*100)}%`}function TU(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function cx(t){return typeof t=="number"}function Dj(t){return cx(t)&&!isNaN(t)&&t>0}function jj(t,e){return cx(t)&&!isNaN(t)&&t<=e&&t>=0}function gce(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${LP}\`.`}function vce(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${LP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var IU=EU,yce=CU;const gg=_.forwardRef(({className:t,value:e,...r},n)=>d.jsx(IU,{ref:n,className:Ae("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:d.jsx(yce,{className:"h-full w-full flex-1 bg-gradient-to-r from-gloop-primary to-gloop-primary-light transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));gg.displayName=IU.displayName;var SS=0;function Rb(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Mj()),document.body.insertAdjacentElement("beforeend",t[1]??Mj()),SS++,()=>{SS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),SS--}},[])}function Mj(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ES="focusScope.autoFocusOnMount",AS="focusScope.autoFocusOnUnmount",Lj={bubbles:!1,cancelable:!0},xce="FocusScope",Hv=_.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[s,l]=_.useState(null),c=Nr(i),u=Nr(a),f=_.useRef(null),h=Ze(e,g=>l(g)),p=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(n){let g=function(b){if(p.paused||!s)return;const S=b.target;s.contains(S)?f.current=S:ll(f.current,{select:!0})},v=function(b){if(p.paused||!s)return;const S=b.relatedTarget;S!==null&&(s.contains(S)||ll(f.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const E of b)E.removedNodes.length>0&&ll(s)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const x=new MutationObserver(y);return s&&x.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),x.disconnect()}}},[n,s,p.paused]),_.useEffect(()=>{if(s){Fj.add(p);const g=document.activeElement;if(!s.contains(g)){const y=new CustomEvent(ES,Lj);s.addEventListener(ES,c),s.dispatchEvent(y),y.defaultPrevented||(wce(Ace(NU(s)),{select:!0}),document.activeElement===g&&ll(s))}return()=>{s.removeEventListener(ES,c),setTimeout(()=>{const y=new CustomEvent(AS,Lj);s.addEventListener(AS,u),s.dispatchEvent(y),y.defaultPrevented||ll(g??document.body,{select:!0}),s.removeEventListener(AS,u),Fj.remove(p)},0)}}},[s,c,u,p]);const m=_.useCallback(g=>{if(!r&&!n||p.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(v&&y){const x=g.currentTarget,[b,S]=bce(x);b&&S?!g.shiftKey&&y===S?(g.preventDefault(),r&&ll(b,{select:!0})):g.shiftKey&&y===b&&(g.preventDefault(),r&&ll(S,{select:!0})):y===x&&g.preventDefault()}},[r,n,p.paused]);return d.jsx(je.div,{tabIndex:-1,...o,ref:h,onKeyDown:m})});Hv.displayName=xce;function wce(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(ll(n,{select:e}),document.activeElement!==r)return}function bce(t){const e=NU(t),r=$j(e,t),n=$j(e.reverse(),t);return[r,n]}function NU(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function $j(t,e){for(const r of t)if(!_ce(r,{upTo:e}))return r}function _ce(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Sce(t){return t instanceof HTMLInputElement&&"select"in t}function ll(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Sce(t)&&e&&t.select()}}var Fj=Ece();function Ece(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=Bj(t,e),t.unshift(e)},remove(e){var r;t=Bj(t,e),(r=t[0])==null||r.resume()}}}function Bj(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Ace(t){return t.filter(e=>e.tagName!=="A")}var Cce=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},md=new WeakMap,oy=new WeakMap,sy={},CS=0,PU=function(t){return t&&(t.host||PU(t.parentNode))},Tce=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=PU(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Ice=function(t,e,r,n){var i=Tce(e,Array.isArray(t)?t:[t]);sy[r]||(sy[r]=new WeakMap);var a=sy[r],o=[],s=new Set,l=new Set(i),c=function(f){!f||s.has(f)||(s.add(f),c(f.parentNode))};i.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(s.has(h))u(h);else try{var p=h.getAttribute(n),m=p!==null&&p!=="false",g=(md.get(h)||0)+1,v=(a.get(h)||0)+1;md.set(h,g),a.set(h,v),o.push(h),g===1&&m&&oy.set(h,!0),v===1&&h.setAttribute(r,"true"),m||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return u(e),s.clear(),CS++,function(){o.forEach(function(f){var h=md.get(f)-1,p=a.get(f)-1;md.set(f,h),a.set(f,p),h||(oy.has(f)||f.removeAttribute(n),oy.delete(f)),p||f.removeAttribute(r)}),CS--,CS||(md=new WeakMap,md=new WeakMap,oy=new WeakMap,sy={})}},Db=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=Cce(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),Ice(n,i,r,"aria-hidden")):function(){return null}},Ao=function(){return Ao=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ao.apply(this,arguments)};function Gv(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Nce(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var a1="right-scroll-bar-position",o1="width-before-scroll-bar",Pce="with-scroll-bars-hidden",Oce="--removed-body-scroll-bar-size";function TS(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function kce(t,e){var r=_.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var Rce=typeof window<"u"?_.useLayoutEffect:_.useEffect,Vj=new WeakMap;function Dce(t,e){var r=kce(null,function(n){return t.forEach(function(i){return TS(i,n)})});return Rce(function(){var n=Vj.get(r);if(n){var i=new Set(n),a=new Set(t),o=r.current;i.forEach(function(s){a.has(s)||TS(s,null)}),a.forEach(function(s){i.has(s)||TS(s,o)})}Vj.set(r,t)},[t]),r}function jce(t){return t}function Mce(t,e){e===void 0&&(e=jce);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var o=e(a,n);return r.push(o),function(){r=r.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(s){return a(s)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var s=r;r=[],s.forEach(a),o=r}var l=function(){var u=o;o=[],u.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),r}}}};return i}function Lce(t){t===void 0&&(t={});var e=Mce(null);return e.options=Ao({async:!0,ssr:!1},t),e}var OU=function(t){var e=t.sideCar,r=Gv(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return _.createElement(n,Ao({},r))};OU.isSideCarExport=!0;function $ce(t,e){return t.useMedium(e),OU}var kU=Lce(),IS=function(){},jb=_.forwardRef(function(t,e){var r=_.useRef(null),n=_.useState({onScrollCapture:IS,onWheelCapture:IS,onTouchMoveCapture:IS}),i=n[0],a=n[1],o=t.forwardProps,s=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,h=t.sideCar,p=t.noIsolation,m=t.inert,g=t.allowPinchZoom,v=t.as,y=v===void 0?"div":v,x=t.gapMode,b=Gv(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,E=Dce([r,e]),C=Ao(Ao({},b),i);return _.createElement(_.Fragment,null,u&&_.createElement(S,{sideCar:kU,removeScrollBar:c,shards:f,noIsolation:p,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:r,gapMode:x}),o?_.cloneElement(_.Children.only(s),Ao(Ao({},C),{ref:E})):_.createElement(y,Ao({},C,{className:l,ref:E}),s))});jb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jb.classNames={fullWidth:o1,zeroRight:a1};var Fce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Bce(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Fce();return e&&t.setAttribute("nonce",e),t}function Vce(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Uce(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var zce=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Bce())&&(Vce(e,r),Uce(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Wce=function(){var t=zce();return function(e,r){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},RU=function(){var t=Wce(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},Hce={left:0,top:0,right:0,gap:0},NS=function(t){return parseInt(t||"",10)||0},Gce=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[NS(r),NS(n),NS(i)]},qce=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Hce;var e=Gce(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},Kce=RU(),uf="data-scroll-locked",Yce=function(t,e,r,n){var i=t.left,a=t.top,o=t.right,s=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Pce,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(uf,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(a1,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(o1,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(a1," .").concat(a1,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(o1," .").concat(o1,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(uf,`] {
    `).concat(Oce,": ").concat(s,`px;
  }
`)},Uj=function(){var t=parseInt(document.body.getAttribute(uf)||"0",10);return isFinite(t)?t:0},Xce=function(){_.useEffect(function(){return document.body.setAttribute(uf,(Uj()+1).toString()),function(){var t=Uj()-1;t<=0?document.body.removeAttribute(uf):document.body.setAttribute(uf,t.toString())}},[])},Qce=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;Xce();var a=_.useMemo(function(){return qce(i)},[i]);return _.createElement(Kce,{styles:Yce(a,!e,i,r?"":"!important")})},xC=!1;if(typeof window<"u")try{var ly=Object.defineProperty({},"passive",{get:function(){return xC=!0,!0}});window.addEventListener("test",ly,ly),window.removeEventListener("test",ly,ly)}catch{xC=!1}var gd=xC?{passive:!1}:!1,Zce=function(t){return t.tagName==="TEXTAREA"},DU=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Zce(t)&&r[e]==="visible")},Jce=function(t){return DU(t,"overflowY")},eue=function(t){return DU(t,"overflowX")},zj=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=jU(t,n);if(i){var a=MU(t,n),o=a[1],s=a[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},tue=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},rue=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},jU=function(t,e){return t==="v"?Jce(e):eue(e)},MU=function(t,e){return t==="v"?tue(e):rue(e)},nue=function(t,e){return t==="h"&&e==="rtl"?-1:1},iue=function(t,e,r,n,i){var a=nue(t,window.getComputedStyle(e).direction),o=a*n,s=r.target,l=e.contains(s),c=!1,u=o>0,f=0,h=0;do{var p=MU(t,s),m=p[0],g=p[1],v=p[2],y=g-v-a*m;(m||y)&&jU(t,s)&&(f+=y,h+=m),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!l&&s!==document.body||l&&(e.contains(s)||e===s));return(u&&Math.abs(f)<1||!u&&Math.abs(h)<1)&&(c=!0),c},cy=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Wj=function(t){return[t.deltaX,t.deltaY]},Hj=function(t){return t&&"current"in t?t.current:t},aue=function(t,e){return t[0]===e[0]&&t[1]===e[1]},oue=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},sue=0,vd=[];function lue(t){var e=_.useRef([]),r=_.useRef([0,0]),n=_.useRef(),i=_.useState(sue++)[0],a=_.useState(RU)[0],o=_.useRef(t);_.useEffect(function(){o.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=Nce([t.lockRef.current],(t.shards||[]).map(Hj),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=_.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var y=cy(g),x=r.current,b="deltaX"in g?g.deltaX:x[0]-y[0],S="deltaY"in g?g.deltaY:x[1]-y[1],E,C=g.target,A=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in g&&A==="h"&&C.type==="range")return!1;var T=zj(A,C);if(!T)return!0;if(T?E=A:(E=A==="v"?"h":"v",T=zj(A,C)),!T)return!1;if(!n.current&&"changedTouches"in g&&(b||S)&&(n.current=E),!E)return!0;var I=n.current||E;return iue(I,v,g,I==="h"?b:S)},[]),l=_.useCallback(function(g){var v=g;if(!(!vd.length||vd[vd.length-1]!==a)){var y="deltaY"in v?Wj(v):cy(v),x=e.current.filter(function(E){return E.name===v.type&&(E.target===v.target||v.target===E.shadowParent)&&aue(E.delta,y)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var b=(o.current.shards||[]).map(Hj).filter(Boolean).filter(function(E){return E.contains(v.target)}),S=b.length>0?s(v,b[0]):!o.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),c=_.useCallback(function(g,v,y,x){var b={name:g,delta:v,target:y,should:x,shadowParent:cue(y)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(S){return S!==b})},1)},[]),u=_.useCallback(function(g){r.current=cy(g),n.current=void 0},[]),f=_.useCallback(function(g){c(g.type,Wj(g),g.target,s(g,t.lockRef.current))},[]),h=_.useCallback(function(g){c(g.type,cy(g),g.target,s(g,t.lockRef.current))},[]);_.useEffect(function(){return vd.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,gd),document.addEventListener("touchmove",l,gd),document.addEventListener("touchstart",u,gd),function(){vd=vd.filter(function(g){return g!==a}),document.removeEventListener("wheel",l,gd),document.removeEventListener("touchmove",l,gd),document.removeEventListener("touchstart",u,gd)}},[]);var p=t.removeScrollBar,m=t.inert;return _.createElement(_.Fragment,null,m?_.createElement(a,{styles:oue(i)}):null,p?_.createElement(Qce,{gapMode:t.gapMode}):null)}function cue(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const uue=$ce(kU,lue);var qv=_.forwardRef(function(t,e){return _.createElement(jb,Ao({},t,{ref:e,sideCar:uue}))});qv.classNames=jb.classNames;var wC=["Enter"," "],due=["ArrowDown","PageUp","Home"],LU=["ArrowUp","PageDown","End"],fue=[...due,...LU],hue={ltr:[...wC,"ArrowRight"],rtl:[...wC,"ArrowLeft"]},pue={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Kv="Menu",[vg,mue,gue]=kP(Kv),[Xu,$U]=co(Kv,[gue,yc,kb]),Mb=yc(),FU=kb(),[vue,Qu]=Xu(Kv),[yue,Yv]=Xu(Kv),BU=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:a,modal:o=!0}=t,s=Mb(e),[l,c]=_.useState(null),u=_.useRef(!1),f=Nr(a),h=Wv(i);return _.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),d.jsx(xP,{...s,children:d.jsx(vue,{scope:e,open:r,onOpenChange:f,content:l,onContentChange:c,children:d.jsx(yue,{scope:e,onClose:_.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:h,modal:o,children:n})})})};BU.displayName=Kv;var xue="MenuAnchor",$P=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Mb(r);return d.jsx(Bv,{...i,...n,ref:e})});$P.displayName=xue;var FP="MenuPortal",[wue,VU]=Xu(FP,{forceMount:void 0}),UU=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,a=Qu(FP,e);return d.jsx(wue,{scope:e,forceMount:r,children:d.jsx(In,{present:r||a.open,children:d.jsx(Vv,{asChild:!0,container:i,children:n})})})};UU.displayName=FP;var xa="MenuContent",[bue,BP]=Xu(xa),zU=_.forwardRef((t,e)=>{const r=VU(xa,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=Qu(xa,t.__scopeMenu),o=Yv(xa,t.__scopeMenu);return d.jsx(vg.Provider,{scope:t.__scopeMenu,children:d.jsx(In,{present:n||a.open,children:d.jsx(vg.Slot,{scope:t.__scopeMenu,children:o.modal?d.jsx(_ue,{...i,ref:e}):d.jsx(Sue,{...i,ref:e})})})})}),_ue=_.forwardRef((t,e)=>{const r=Qu(xa,t.__scopeMenu),n=_.useRef(null),i=Ze(e,n);return _.useEffect(()=>{const a=n.current;if(a)return Db(a)},[]),d.jsx(VP,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:_e(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Sue=_.forwardRef((t,e)=>{const r=Qu(xa,t.__scopeMenu);return d.jsx(VP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),VP=_.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:m,...g}=t,v=Qu(xa,r),y=Yv(xa,r),x=Mb(r),b=FU(r),S=mue(r),[E,C]=_.useState(null),A=_.useRef(null),T=Ze(e,A,v.onContentChange),I=_.useRef(0),N=_.useRef(""),O=_.useRef(0),R=_.useRef(null),k=_.useRef("right"),M=_.useRef(0),U=m?qv:_.Fragment,L=m?{as:Is,allowPinchZoom:!0}:void 0,z=$=>{var pe,J;const W=N.current+$,H=S().filter(q=>!q.disabled),G=document.activeElement,Z=(pe=H.find(q=>q.ref.current===G))==null?void 0:pe.textValue,se=H.map(q=>q.textValue),ce=jue(se,W,Z),Oe=(J=H.find(q=>q.textValue===ce))==null?void 0:J.ref.current;(function q(ae){N.current=ae,window.clearTimeout(I.current),ae!==""&&(I.current=window.setTimeout(()=>q(""),1e3))})(W),Oe&&setTimeout(()=>Oe.focus())};_.useEffect(()=>()=>window.clearTimeout(I.current),[]),Rb();const B=_.useCallback($=>{var H,G;return k.current===((H=R.current)==null?void 0:H.side)&&Lue($,(G=R.current)==null?void 0:G.area)},[]);return d.jsx(bue,{scope:r,searchRef:N,onItemEnter:_.useCallback($=>{B($)&&$.preventDefault()},[B]),onItemLeave:_.useCallback($=>{var W;B($)||((W=A.current)==null||W.focus(),C(null))},[B]),onTriggerLeave:_.useCallback($=>{B($)&&$.preventDefault()},[B]),pointerGraceTimerRef:O,onPointerGraceIntentChange:_.useCallback($=>{R.current=$},[]),children:d.jsx(U,{...L,children:d.jsx(Hv,{asChild:!0,trapped:i,onMountAutoFocus:_e(a,$=>{var W;$.preventDefault(),(W=A.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:d.jsx(Ah,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:d.jsx(eU,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:E,onCurrentTabStopIdChange:C,onEntryFocus:_e(l,$=>{y.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(Sb,{role:"menu","aria-orientation":"vertical","data-state":az(v.open),"data-radix-menu-content":"",dir:y.dir,...x,...g,ref:T,style:{outline:"none",...g.style},onKeyDown:_e(g.onKeyDown,$=>{const H=$.target.closest("[data-radix-menu-content]")===$.currentTarget,G=$.ctrlKey||$.altKey||$.metaKey,Z=$.key.length===1;H&&($.key==="Tab"&&$.preventDefault(),!G&&Z&&z($.key));const se=A.current;if($.target!==se||!fue.includes($.key))return;$.preventDefault();const Oe=S().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);LU.includes($.key)&&Oe.reverse(),Rue(Oe)}),onBlur:_e(t.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(I.current),N.current="")}),onPointerMove:_e(t.onPointerMove,yg($=>{const W=$.target,H=M.current!==$.clientX;if($.currentTarget.contains(W)&&H){const G=$.clientX>M.current?"right":"left";k.current=G,M.current=$.clientX}}))})})})})})})});zU.displayName=xa;var Eue="MenuGroup",UP=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return d.jsx(je.div,{role:"group",...n,ref:e})});UP.displayName=Eue;var Aue="MenuLabel",WU=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return d.jsx(je.div,{...n,ref:e})});WU.displayName=Aue;var ux="MenuItem",Gj="menu.itemSelect",Lb=_.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,a=_.useRef(null),o=Yv(ux,t.__scopeMenu),s=BP(ux,t.__scopeMenu),l=Ze(e,a),c=_.useRef(!1),u=()=>{const f=a.current;if(!r&&f){const h=new CustomEvent(Gj,{bubbles:!0,cancelable:!0});f.addEventListener(Gj,p=>n==null?void 0:n(p),{once:!0}),HB(f,h),h.defaultPrevented?c.current=!1:o.onClose()}};return d.jsx(HU,{...i,ref:l,disabled:r,onClick:_e(t.onClick,u),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),c.current=!0},onPointerUp:_e(t.onPointerUp,f=>{var h;c.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:_e(t.onKeyDown,f=>{const h=s.searchRef.current!=="";r||h&&f.key===" "||wC.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Lb.displayName=ux;var HU=_.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=t,o=BP(ux,r),s=FU(r),l=_.useRef(null),c=Ze(e,l),[u,f]=_.useState(!1),[h,p]=_.useState("");return _.useEffect(()=>{const m=l.current;m&&p((m.textContent??"").trim())},[a.children]),d.jsx(vg.ItemSlot,{scope:r,disabled:n,textValue:i??h,children:d.jsx(tU,{asChild:!0,...s,focusable:!n,children:d.jsx(je.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:c,onPointerMove:_e(t.onPointerMove,yg(m=>{n?o.onItemLeave(m):(o.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:_e(t.onPointerLeave,yg(m=>o.onItemLeave(m))),onFocus:_e(t.onFocus,()=>f(!0)),onBlur:_e(t.onBlur,()=>f(!1))})})})}),Cue="MenuCheckboxItem",GU=_.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return d.jsx(QU,{scope:t.__scopeMenu,checked:r,children:d.jsx(Lb,{role:"menuitemcheckbox","aria-checked":dx(r)?"mixed":r,...i,ref:e,"data-state":WP(r),onSelect:_e(i.onSelect,()=>n==null?void 0:n(dx(r)?!0:!r),{checkForDefaultPrevented:!1})})})});GU.displayName=Cue;var qU="MenuRadioGroup",[Tue,Iue]=Xu(qU,{value:void 0,onValueChange:()=>{}}),KU=_.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,a=Nr(n);return d.jsx(Tue,{scope:t.__scopeMenu,value:r,onValueChange:a,children:d.jsx(UP,{...i,ref:e})})});KU.displayName=qU;var YU="MenuRadioItem",XU=_.forwardRef((t,e)=>{const{value:r,...n}=t,i=Iue(YU,t.__scopeMenu),a=r===i.value;return d.jsx(QU,{scope:t.__scopeMenu,checked:a,children:d.jsx(Lb,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":WP(a),onSelect:_e(n.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,r)},{checkForDefaultPrevented:!1})})})});XU.displayName=YU;var zP="MenuItemIndicator",[QU,Nue]=Xu(zP,{checked:!1}),ZU=_.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,a=Nue(zP,r);return d.jsx(In,{present:n||dx(a.checked)||a.checked===!0,children:d.jsx(je.span,{...i,ref:e,"data-state":WP(a.checked)})})});ZU.displayName=zP;var Pue="MenuSeparator",JU=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return d.jsx(je.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});JU.displayName=Pue;var Oue="MenuArrow",ez=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Mb(r);return d.jsx(Eb,{...i,...n,ref:e})});ez.displayName=Oue;var kue="MenuSub",[Lat,tz]=Xu(kue),nm="MenuSubTrigger",rz=_.forwardRef((t,e)=>{const r=Qu(nm,t.__scopeMenu),n=Yv(nm,t.__scopeMenu),i=tz(nm,t.__scopeMenu),a=BP(nm,t.__scopeMenu),o=_.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:l}=a,c={__scopeMenu:t.__scopeMenu},u=_.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return _.useEffect(()=>u,[u]),_.useEffect(()=>{const f=s.current;return()=>{window.clearTimeout(f),l(null)}},[s,l]),d.jsx($P,{asChild:!0,...c,children:d.jsx(HU,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":az(r.open),...t,ref:xb(e,i.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:_e(t.onPointerMove,yg(f=>{a.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:_e(t.onPointerLeave,yg(f=>{var p,m;u();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const g=(m=r.content)==null?void 0:m.dataset.side,v=g==="right",y=v?-5:5,x=h[v?"left":"right"],b=h[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x,y:h.bottom}],side:g}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:_e(t.onKeyDown,f=>{var p;const h=a.searchRef.current!=="";t.disabled||h&&f.key===" "||hue[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});rz.displayName=nm;var nz="MenuSubContent",iz=_.forwardRef((t,e)=>{const r=VU(xa,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=Qu(xa,t.__scopeMenu),o=Yv(xa,t.__scopeMenu),s=tz(nz,t.__scopeMenu),l=_.useRef(null),c=Ze(e,l);return d.jsx(vg.Provider,{scope:t.__scopeMenu,children:d.jsx(In,{present:n||a.open,children:d.jsx(vg.Slot,{scope:t.__scopeMenu,children:d.jsx(VP,{id:s.contentId,"aria-labelledby":s.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:_e(t.onFocusOutside,u=>{u.target!==s.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:_e(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:_e(t.onKeyDown,u=>{var p;const f=u.currentTarget.contains(u.target),h=pue[o.dir].includes(u.key);f&&h&&(a.onOpenChange(!1),(p=s.trigger)==null||p.focus(),u.preventDefault())})})})})})});iz.displayName=nz;function az(t){return t?"open":"closed"}function dx(t){return t==="indeterminate"}function WP(t){return dx(t)?"indeterminate":t?"checked":"unchecked"}function Rue(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function Due(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function jue(t,e,r){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=Due(t,Math.max(a,0));i.length===1&&(o=o.filter(c=>c!==r));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function Mue(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const s=e[a].x,l=e[a].y,c=e[o].x,u=e[o].y;l>n!=u>n&&r<(c-s)*(n-l)/(u-l)+s&&(i=!i)}return i}function Lue(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return Mue(r,e)}function yg(t){return e=>e.pointerType==="mouse"?t(e):void 0}var $ue=BU,Fue=$P,Bue=UU,Vue=zU,Uue=UP,zue=WU,Wue=Lb,Hue=GU,Gue=KU,que=XU,Kue=ZU,Yue=JU,Xue=ez,Que=rz,Zue=iz,HP="DropdownMenu",[Jue,$at]=co(HP,[$U]),gi=$U(),[ede,oz]=Jue(HP),sz=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:o,modal:s=!0}=t,l=gi(e),c=_.useRef(null),[u=!1,f]=Os({prop:i,defaultProp:a,onChange:o});return d.jsx(ede,{scope:e,triggerId:Ja(),triggerRef:c,contentId:Ja(),open:u,onOpenChange:f,onOpenToggle:_.useCallback(()=>f(h=>!h),[f]),modal:s,children:d.jsx($ue,{...l,open:u,onOpenChange:f,dir:n,modal:s,children:r})})};sz.displayName=HP;var lz="DropdownMenuTrigger",cz=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,a=oz(lz,r),o=gi(r);return d.jsx(Fue,{asChild:!0,...o,children:d.jsx(je.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:xb(e,a.triggerRef),onPointerDown:_e(t.onPointerDown,s=>{!n&&s.button===0&&s.ctrlKey===!1&&(a.onOpenToggle(),a.open||s.preventDefault())}),onKeyDown:_e(t.onKeyDown,s=>{n||(["Enter"," "].includes(s.key)&&a.onOpenToggle(),s.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});cz.displayName=lz;var tde="DropdownMenuPortal",uz=t=>{const{__scopeDropdownMenu:e,...r}=t,n=gi(e);return d.jsx(Bue,{...n,...r})};uz.displayName=tde;var dz="DropdownMenuContent",fz=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=oz(dz,r),a=gi(r),o=_.useRef(!1);return d.jsx(Vue,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:e,onCloseAutoFocus:_e(t.onCloseAutoFocus,s=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,s.preventDefault()}),onInteractOutside:_e(t.onInteractOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fz.displayName=dz;var rde="DropdownMenuGroup",nde=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=gi(r);return d.jsx(Uue,{...i,...n,ref:e})});nde.displayName=rde;var ide="DropdownMenuLabel",hz=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=gi(r);return d.jsx(zue,{...i,...n,ref:e})});hz.displayName=ide;var ade="DropdownMenuItem",pz=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=gi(r);return d.jsx(Wue,{...i,...n,ref:e})});pz.displayName=ade;var ode="DropdownMenuCheckboxItem",mz=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=gi(r);return d.jsx(Hue,{...i,...n,ref:e})});mz.displayName=ode;var sde="DropdownMenuRadioGroup",lde=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=gi(r);return d.jsx(Gue,{...i,...n,ref:e})});lde.displayName=sde;var cde="DropdownMenuRadioItem",gz=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=gi(r);return d.jsx(que,{...i,...n,ref:e})});gz.displayName=cde;var ude="DropdownMenuItemIndicator",vz=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=gi(r);return d.jsx(Kue,{...i,...n,ref:e})});vz.displayName=ude;var dde="DropdownMenuSeparator",yz=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=gi(r);return d.jsx(Yue,{...i,...n,ref:e})});yz.displayName=dde;var fde="DropdownMenuArrow",hde=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=gi(r);return d.jsx(Xue,{...i,...n,ref:e})});hde.displayName=fde;var pde="DropdownMenuSubTrigger",xz=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=gi(r);return d.jsx(Que,{...i,...n,ref:e})});xz.displayName=pde;var mde="DropdownMenuSubContent",wz=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=gi(r);return d.jsx(Zue,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wz.displayName=mde;var gde=sz,vde=cz,yde=uz,bz=fz,_z=hz,Sz=pz,Ez=mz,Az=gz,Cz=vz,Tz=yz,Iz=xz,Nz=wz;const xg=gde,wg=vde,xde=_.forwardRef(({className:t,inset:e,children:r,...n},i)=>d.jsxs(Iz,{ref:i,className:Ae("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...n,children:[r,d.jsx(zv,{className:"ml-auto h-4 w-4"})]}));xde.displayName=Iz.displayName;const wde=_.forwardRef(({className:t,...e},r)=>d.jsx(Nz,{ref:r,className:Ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));wde.displayName=Nz.displayName;const Of=_.forwardRef(({className:t,sideOffset:e=4,...r},n)=>d.jsx(yde,{children:d.jsx(bz,{ref:n,sideOffset:e,className:Ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Of.displayName=bz.displayName;const oi=_.forwardRef(({className:t,inset:e,...r},n)=>d.jsx(Sz,{ref:n,className:Ae("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...r}));oi.displayName=Sz.displayName;const bde=_.forwardRef(({className:t,children:e,checked:r,...n},i)=>d.jsxs(Ez,{ref:i,className:Ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Cz,{children:d.jsx(Nf,{className:"h-4 w-4"})})}),e]}));bde.displayName=Ez.displayName;const _de=_.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(Az,{ref:n,className:Ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Cz,{children:d.jsx(dle,{className:"h-2 w-2 fill-current"})})}),e]}));_de.displayName=Az.displayName;const Sde=_.forwardRef(({className:t,inset:e,...r},n)=>d.jsx(_z,{ref:n,className:Ae("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));Sde.displayName=_z.displayName;const bg=_.forwardRef(({className:t,...e},r)=>d.jsx(Tz,{ref:r,className:Ae("-mx-1 my-1 h-px bg-muted",t),...e}));bg.displayName=Tz.displayName;const Ede=5,Ade=1e6,cs={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let PS=0;function Cde(){return PS=(PS+1)%Number.MAX_VALUE,PS.toString()}const OS=new Map,qj=t=>{if(OS.has(t))return;const e=setTimeout(()=>{OS.delete(t),Im({type:cs.REMOVE_TOAST,toastId:t})},Ade);OS.set(t,e)},Tde=(t,e)=>{switch(e.type){case cs.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,Ede)};case cs.UPDATE_TOAST:return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case cs.DISMISS_TOAST:{const{toastId:r}=e;return r?qj(r):t.toasts.forEach(n=>{qj(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case cs.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},s1=[];let l1={toasts:[]};function Im(t){l1=Tde(l1,t),s1.forEach(e=>{e(l1)})}function un({...t}){const e=Cde(),r=i=>Im({type:cs.UPDATE_TOAST,toast:{...i,id:e}}),n=()=>Im({type:cs.DISMISS_TOAST,toastId:e});return Im({type:cs.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function Ta(){const[t,e]=_.useState(l1);return _.useEffect(()=>(s1.push(e),()=>{const r=s1.indexOf(e);r>-1&&s1.splice(r,1)}),[t]),{...t,toast:un,dismiss:r=>Im({type:cs.DISMISS_TOAST,toastId:r})}}const Pz=_.createContext(void 0);function Ide({children:t}){const[e,r]=_.useState(!0),[n,i]=_.useState(!1);_.useEffect(()=>{const s=()=>{i(window.innerWidth<768),window.innerWidth<768?r(!1):r(!0)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const a=()=>r(!e),o=()=>r(!1);return d.jsx(Pz.Provider,{value:{isOpen:e,toggleSidebar:a,closeSidebar:o},children:t})}function Oz(){const t=_.useContext(Pz);if(t===void 0)throw new Error("useSidebar must be used within a SidebarProvider");return t}const Nde=[{path:"/home",icon:d.jsx(pg,{className:"h-5 w-5"}),label:"Home"},{path:"/map",icon:d.jsx(Rs,{className:"h-5 w-5"}),label:"Map"},{path:"/trips",icon:d.jsx(rc,{className:"h-5 w-5"}),label:"Trips"},{path:"/pantry",icon:d.jsx(Li,{className:"h-5 w-5"}),label:"Pantry"},{path:"/ledger",icon:d.jsx(Ole,{className:"h-5 w-5"}),label:"Ledger"},{path:"/dashboard",icon:d.jsx(Wr,{className:"h-5 w-5"}),label:"Dashboard"},{path:"/profile",icon:d.jsx(mg,{className:"h-5 w-5"}),label:"Profile"}];function Pde(){const{toggleSidebar:t}=Oz();return d.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 h-14 bg-white border-b border-slate-200 z-40 flex items-center px-4",children:[d.jsx(Y,{variant:"ghost",size:"icon",onClick:t,children:d.jsx(Cle,{className:"h-5 w-5"})}),d.jsxs("div",{className:"flex items-center gap-2 mx-auto",children:[d.jsx(lf,{className:"h-5 w-5 text-teal-600"}),d.jsx("span",{className:"text-lg font-bold text-teal-600",children:"TaskaLoop"})]})]})}function kz(){const t=uo(),e=ra(),{isOpen:r,closeSidebar:n}=Oz(),i=t.pathname,a=o=>{e(o),window.innerWidth<768&&n()};return d.jsxs(d.Fragment,{children:[r&&d.jsx("div",{className:"md:hidden fixed inset-0 bg-black/30 z-40",onClick:n}),d.jsxs("aside",{className:Ae("fixed inset-y-0 left-0 w-64 bg-white border-r border-slate-200 z-50 transition-transform duration-300 ease-in-out",r?"translate-x-0":"-translate-x-full md:translate-x-0"),children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(lf,{className:"h-6 w-6 text-teal-600"}),d.jsx("span",{className:"text-xl font-bold text-teal-600",children:"TaskaLoop"})]}),d.jsx(Y,{variant:"ghost",size:"icon",className:"md:hidden",onClick:n,children:d.jsx(ls,{className:"h-5 w-5"})})]}),d.jsxs("nav",{className:"px-2 py-4",children:[d.jsx("div",{className:"px-3 py-2",children:d.jsx("h3",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Main"})}),d.jsx("div",{className:"space-y-1",children:Nde.map(o=>d.jsxs(of,{to:o.path,className:`flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-md ${i.startsWith(o.path)?"bg-slate-100 text-teal-700":"text-slate-700 hover:bg-slate-100"}`,onClick:()=>a(o.path),children:[o.icon,o.label]},o.path))})]}),d.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-slate-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{onClick:()=>a("/profile"),className:"cursor-pointer",children:d.jsxs(Vr,{children:[d.jsx(Pf,{src:"/placeholder.svg?height=40&width=40"}),d.jsx(Ur,{className:"bg-teal-100 text-teal-700",children:"JD"})]})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{onClick:()=>a("/profile"),className:"text-sm font-medium text-slate-700 truncate cursor-pointer hover:underline",children:"Jane Doe"}),d.jsx("p",{className:"text-xs text-slate-500 truncate",children:"jane.doe@example.com"})]}),d.jsx(Y,{variant:"ghost",size:"icon",className:"text-slate-500 hover:text-slate-700",onClick:()=>a("/settings"),children:d.jsx(Rle,{className:"h-5 w-5"})})]})})]})]})}function Ds({children:t}){return d.jsx(Ide,{children:d.jsxs("div",{className:"flex min-h-screen bg-slate-50",children:[d.jsx(kz,{}),d.jsx(Pde,{}),d.jsx("main",{className:"flex-1 md:pl-64 pb-16 md:pb-0 pt-14 md:pt-0",children:t})]})})}function oo(t){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oo(t)}function hi(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function rt(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function st(t){rt(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||oo(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function fx(t,e){rt(2,arguments);var r=st(t),n=hi(e);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function GP(t,e){rt(2,arguments);var r=st(t),n=hi(e);if(isNaN(n))return new Date(NaN);if(!n)return r;var i=r.getDate(),a=new Date(r.getTime());a.setMonth(r.getMonth()+n+1,0);var o=a.getDate();return i>=o?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}function Rz(t,e){rt(2,arguments);var r=st(t).getTime(),n=hi(e);return new Date(r+n)}var Ode=36e5;function kde(t,e){rt(2,arguments);var r=hi(e);return Rz(t,r*Ode)}var Rde={};function Zu(){return Rde}function Dz(t,e){var r,n,i,a,o,s,l,c;rt(1,arguments);var u=Zu(),f=hi((r=(n=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=st(t),p=h.getDay(),m=(p<f?7:0)+p-f;return h.setDate(h.getDate()-m),h.setHours(0,0,0,0),h}function bC(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Kj(t){rt(1,arguments);var e=st(t);return e.setHours(0,0,0,0),e}function Yj(t,e){rt(2,arguments);var r=hi(e),n=r*7;return fx(t,n)}function c1(t,e){rt(2,arguments);var r=st(t),n=st(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}var jz=6e4,Mz=36e5;function Dde(t,e){rt(2,arguments);var r=Kj(t),n=Kj(e);return r.getTime()===n.getTime()}function jde(t){return rt(1,arguments),t instanceof Date||oo(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Mde(t){if(rt(1,arguments),!jde(t)&&typeof t!="number")return!1;var e=st(t);return!isNaN(Number(e))}function Lde(t,e){rt(2,arguments);var r=st(t),n=st(e),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function $de(t,e){return rt(2,arguments),st(t).getTime()-st(e).getTime()}var Fde={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},Bde="trunc";function Vde(t){return Fde[Bde]}function Ude(t){rt(1,arguments);var e=st(t);return e.setHours(23,59,59,999),e}function Lz(t){rt(1,arguments);var e=st(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function zde(t){rt(1,arguments);var e=st(t);return Ude(e).getTime()===Lz(e).getTime()}function Wde(t,e){rt(2,arguments);var r=st(t),n=st(e),i=c1(r,n),a=Math.abs(Lde(r,n)),o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*a);var s=c1(r,n)===-i;zde(st(t))&&a===1&&c1(t,n)===1&&(s=!1),o=i*(a-Number(s))}return o===0?0:o}function Hde(t,e,r){rt(2,arguments);var n=$de(t,e)/1e3;return Vde()(n)}function Gde(t){rt(1,arguments);var e=st(t);return e.setDate(1),e.setHours(0,0,0,0),e}function qde(t,e){var r,n,i,a,o,s;rt(1,arguments);var l=Zu(),c=hi((r=(n=(i=(a=void 0)!==null&&a!==void 0?a:void 0)!==null&&i!==void 0?i:l.weekStartsOn)!==null&&n!==void 0?n:(o=l.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&r!==void 0?r:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=st(t),f=u.getDay(),h=(f<c?-7:0)+6-(f-c);return u.setDate(u.getDate()+h),u.setHours(23,59,59,999),u}function Kde(t,e){rt(2,arguments);var r=hi(e);return Rz(t,-r)}var Yde=864e5;function Xde(t){rt(1,arguments);var e=st(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),i=r-n;return Math.floor(i/Yde)+1}function hx(t){rt(1,arguments);var e=1,r=st(t),n=r.getUTCDay(),i=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}function $z(t){rt(1,arguments);var e=st(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=hx(n),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var o=hx(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function Qde(t){rt(1,arguments);var e=$z(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var n=hx(r);return n}var Zde=6048e5;function Jde(t){rt(1,arguments);var e=st(t),r=hx(e).getTime()-Qde(e).getTime();return Math.round(r/Zde)+1}function px(t,e){var r,n,i,a,o,s,l,c;rt(1,arguments);var u=Zu(),f=hi((r=(n=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=st(t),p=h.getUTCDay(),m=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function Fz(t,e){var r,n,i,a,o,s,l,c;rt(1,arguments);var u=st(t),f=u.getUTCFullYear(),h=Zu(),p=hi((r=(n=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(f+1,0,p),m.setUTCHours(0,0,0,0);var g=px(m,e),v=new Date(0);v.setUTCFullYear(f,0,p),v.setUTCHours(0,0,0,0);var y=px(v,e);return u.getTime()>=g.getTime()?f+1:u.getTime()>=y.getTime()?f:f-1}function efe(t,e){var r,n,i,a,o,s,l,c;rt(1,arguments);var u=Zu(),f=hi((r=(n=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=Fz(t,e),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var m=px(p,e);return m}var tfe=6048e5;function rfe(t,e){rt(1,arguments);var r=st(t),n=px(r,e).getTime()-efe(r,e).getTime();return Math.round(n/tfe)+1}function Tt(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}var il={y:function(e,r){var n=e.getUTCFullYear(),i=n>0?n:1-n;return Tt(r==="yy"?i%100:i,r.length)},M:function(e,r){var n=e.getUTCMonth();return r==="M"?String(n+1):Tt(n+1,2)},d:function(e,r){return Tt(e.getUTCDate(),r.length)},a:function(e,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,r){return Tt(e.getUTCHours()%12||12,r.length)},H:function(e,r){return Tt(e.getUTCHours(),r.length)},m:function(e,r){return Tt(e.getUTCMinutes(),r.length)},s:function(e,r){return Tt(e.getUTCSeconds(),r.length)},S:function(e,r){var n=r.length,i=e.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,n-3));return Tt(a,r.length)}},yd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},nfe={G:function(e,r,n){var i=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){var i=e.getUTCFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return il.y(e,r)},Y:function(e,r,n,i){var a=Fz(e,i),o=a>0?a:1-a;if(r==="YY"){var s=o%100;return Tt(s,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):Tt(o,r.length)},R:function(e,r){var n=$z(e);return Tt(n,r.length)},u:function(e,r){var n=e.getUTCFullYear();return Tt(n,r.length)},Q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(i);case"QQ":return Tt(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(i);case"qq":return Tt(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,r,n){var i=e.getUTCMonth();switch(r){case"M":case"MM":return il.M(e,r);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,r,n){var i=e.getUTCMonth();switch(r){case"L":return String(i+1);case"LL":return Tt(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,r,n,i){var a=rfe(e,i);return r==="wo"?n.ordinalNumber(a,{unit:"week"}):Tt(a,r.length)},I:function(e,r,n){var i=Jde(e);return r==="Io"?n.ordinalNumber(i,{unit:"week"}):Tt(i,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):il.d(e,r)},D:function(e,r,n){var i=Xde(e);return r==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Tt(i,r.length)},E:function(e,r,n){var i=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,r,n,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return Tt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,r,n,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return Tt(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,r,n){var i=e.getUTCDay(),a=i===0?7:i;switch(r){case"i":return String(a);case"ii":return Tt(a,r.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,r,n){var i=e.getUTCHours(),a=i/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,r,n){var i=e.getUTCHours(),a;switch(i===12?a=yd.noon:i===0?a=yd.midnight:a=i/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,r,n){var i=e.getUTCHours(),a;switch(i>=17?a=yd.evening:i>=12?a=yd.afternoon:i>=4?a=yd.morning:a=yd.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return il.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):il.H(e,r)},K:function(e,r,n){var i=e.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Tt(i,r.length)},k:function(e,r,n){var i=e.getUTCHours();return i===0&&(i=24),r==="ko"?n.ordinalNumber(i,{unit:"hour"}):Tt(i,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):il.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):il.s(e,r)},S:function(e,r){return il.S(e,r)},X:function(e,r,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return Qj(o);case"XXXX":case"XX":return zc(o);case"XXXXX":case"XXX":default:return zc(o,":")}},x:function(e,r,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(r){case"x":return Qj(o);case"xxxx":case"xx":return zc(o);case"xxxxx":case"xxx":default:return zc(o,":")}},O:function(e,r,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Xj(o,":");case"OOOO":default:return"GMT"+zc(o,":")}},z:function(e,r,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Xj(o,":");case"zzzz":default:return"GMT"+zc(o,":")}},t:function(e,r,n,i){var a=i._originalDate||e,o=Math.floor(a.getTime()/1e3);return Tt(o,r.length)},T:function(e,r,n,i){var a=i._originalDate||e,o=a.getTime();return Tt(o,r.length)}};function Xj(t,e){var r=t>0?"-":"+",n=Math.abs(t),i=Math.floor(n/60),a=n%60;if(a===0)return r+String(i);var o=e;return r+String(i)+o+Tt(a,2)}function Qj(t,e){if(t%60===0){var r=t>0?"-":"+";return r+Tt(Math.abs(t)/60,2)}return zc(t,e)}function zc(t,e){var r=e||"",n=t>0?"-":"+",i=Math.abs(t),a=Tt(Math.floor(i/60),2),o=Tt(i%60,2);return n+a+r+o}var Zj=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Bz=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},ife=function(e,r){var n=e.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return Zj(e,r);var o;switch(i){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",Zj(i,r)).replace("{{time}}",Bz(a,r))},afe={p:Bz,P:ife},ofe=["D","DD"],sfe=["YY","YYYY"];function lfe(t){return ofe.indexOf(t)!==-1}function cfe(t){return sfe.indexOf(t)!==-1}function Jj(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var ufe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dfe=function(e,r,n){var i,a=ufe[e];return typeof a=="string"?i=a:r===1?i=a.one:i=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function kS(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}var ffe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hfe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pfe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mfe={date:kS({formats:ffe,defaultWidth:"full"}),time:kS({formats:hfe,defaultWidth:"full"}),dateTime:kS({formats:pfe,defaultWidth:"full"})},gfe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vfe=function(e,r,n,i){return gfe[e]};function Rp(t){return function(e,r){var n=r!=null&&r.context?String(r.context):"standalone",i;if(n==="formatting"&&t.formattingValues){var a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{var s=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[s]}var c=t.argumentCallback?t.argumentCallback(e):e;return i[c]}}var yfe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xfe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wfe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bfe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_fe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Sfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Efe=function(e,r){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Afe={ordinalNumber:Efe,era:Rp({values:yfe,defaultWidth:"wide"}),quarter:Rp({values:xfe,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Rp({values:wfe,defaultWidth:"wide"}),day:Rp({values:bfe,defaultWidth:"wide"}),dayPeriod:Rp({values:_fe,defaultWidth:"wide",formattingValues:Sfe,defaultFormattingWidth:"wide"})};function Dp(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;var o=a[0],s=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?Tfe(s,function(f){return f.test(o)}):Cfe(s,function(f){return f.test(o)}),c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;var u=e.slice(o.length);return{value:c,rest:u}}}function Cfe(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function Tfe(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function Ife(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var i=n[0],a=e.match(t.parsePattern);if(!a)return null;var o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;var s=e.slice(i.length);return{value:o,rest:s}}}var Nfe=/^(\d+)(th|st|nd|rd)?/i,Pfe=/\d+/i,Ofe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kfe={any:[/^b/i,/^(a|c)/i]},Rfe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Dfe={any:[/1/i,/2/i,/3/i,/4/i]},jfe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Mfe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Lfe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$fe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ffe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Bfe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Vfe={ordinalNumber:Ife({matchPattern:Nfe,parsePattern:Pfe,valueCallback:function(e){return parseInt(e,10)}}),era:Dp({matchPatterns:Ofe,defaultMatchWidth:"wide",parsePatterns:kfe,defaultParseWidth:"any"}),quarter:Dp({matchPatterns:Rfe,defaultMatchWidth:"wide",parsePatterns:Dfe,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Dp({matchPatterns:jfe,defaultMatchWidth:"wide",parsePatterns:Mfe,defaultParseWidth:"any"}),day:Dp({matchPatterns:Lfe,defaultMatchWidth:"wide",parsePatterns:$fe,defaultParseWidth:"any"}),dayPeriod:Dp({matchPatterns:Ffe,defaultMatchWidth:"any",parsePatterns:Bfe,defaultParseWidth:"any"})},qP={code:"en-US",formatDistance:dfe,formatLong:mfe,formatRelative:vfe,localize:Afe,match:Vfe,options:{weekStartsOn:0,firstWeekContainsDate:1}},Ufe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zfe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Wfe=/^'([^]*?)'?$/,Hfe=/''/g,Gfe=/[a-zA-Z]/;function Hr(t,e,r){var n,i,a,o,s,l,c,u,f,h,p,m,g,v,y,x,b,S;rt(2,arguments);var E=String(e),C=Zu(),A=(n=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:C.locale)!==null&&n!==void 0?n:qP,T=hi((a=(o=(s=(l=r==null?void 0:r.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(c=r.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&s!==void 0?s:C.firstWeekContainsDate)!==null&&o!==void 0?o:(f=C.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var I=hi((p=(m=(g=(v=r==null?void 0:r.weekStartsOn)!==null&&v!==void 0?v:r==null||(y=r.locale)===null||y===void 0||(x=y.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&g!==void 0?g:C.weekStartsOn)!==null&&m!==void 0?m:(b=C.locale)===null||b===void 0||(S=b.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&p!==void 0?p:0);if(!(I>=0&&I<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!A.localize)throw new RangeError("locale must contain localize property");if(!A.formatLong)throw new RangeError("locale must contain formatLong property");var N=st(t);if(!Mde(N))throw new RangeError("Invalid time value");var O=bC(N),R=Kde(N,O),k={firstWeekContainsDate:T,weekStartsOn:I,locale:A,_originalDate:N},M=E.match(zfe).map(function(U){var L=U[0];if(L==="p"||L==="P"){var z=afe[L];return z(U,A.formatLong)}return U}).join("").match(Ufe).map(function(U){if(U==="''")return"'";var L=U[0];if(L==="'")return qfe(U);var z=nfe[L];if(z)return!(r!=null&&r.useAdditionalWeekYearTokens)&&cfe(U)&&Jj(U,e,String(t)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&lfe(U)&&Jj(U,e,String(t)),z(R,U,A.localize,k);if(L.match(Gfe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");return U}).join("");return M}function qfe(t){var e=t.match(Wfe);return e?e[1].replace(Hfe,"'"):t}function Vz(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function Kfe(t){return Vz({},t)}var e4=1440,Yfe=2520,RS=43200,Xfe=86400;function Qfe(t,e,r){var n,i;rt(2,arguments);var a=Zu(),o=(n=(i=void 0)!==null&&i!==void 0?i:a.locale)!==null&&n!==void 0?n:qP;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var s=c1(t,e);if(isNaN(s))throw new RangeError("Invalid time value");var l=Vz(Kfe(r),{addSuffix:!1,comparison:s}),c,u;s>0?(c=st(e),u=st(t)):(c=st(t),u=st(e));var f=Hde(u,c),h=(bC(u)-bC(c))/1e3,p=Math.round((f-h)/60),m;if(p<2)return p===0?o.formatDistance("lessThanXMinutes",1,l):o.formatDistance("xMinutes",p,l);if(p<45)return o.formatDistance("xMinutes",p,l);if(p<90)return o.formatDistance("aboutXHours",1,l);if(p<e4){var g=Math.round(p/60);return o.formatDistance("aboutXHours",g,l)}else{if(p<Yfe)return o.formatDistance("xDays",1,l);if(p<RS){var v=Math.round(p/e4);return o.formatDistance("xDays",v,l)}else if(p<Xfe)return m=Math.round(p/RS),o.formatDistance("aboutXMonths",m,l)}if(m=Wde(u,c),m<12){var y=Math.round(p/RS);return o.formatDistance("xMonths",y,l)}else{var x=m%12,b=Math.floor(m/12);return x<3?o.formatDistance("aboutXYears",b,l):x<9?o.formatDistance("overXYears",b,l):o.formatDistance("almostXYears",b+1,l)}}function t4(t,e){return rt(1,arguments),Qfe(t,Date.now(),e)}function Zfe(t){rt(1,arguments);var e=st(t),r=e.getDay();return r}function _C(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function KP(t,e){if(t){if(typeof t=="string")return _C(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_C(t,e):void 0}}function Jfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mx(t,e){return mx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},mx(t,e)}function Yn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mx(t,e)}function gx(t){return gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gx(t)}function Uz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uz=function(){return!!t})()}function ehe(t,e){if(e&&(oo(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jfe(t)}function Zr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function the(t,e){if(oo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zz(t){var e=the(t,"string");return oo(e)=="symbol"?e:e+""}function r4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zz(n.key),n)}}function Jr(t,e,r){return e&&r4(t.prototype,e),r&&r4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qc(t,e,r){return(e=zz(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rhe(t,e){rt(2,arguments);var r=st(t),n=st(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function n4(t,e){var r;rt(1,arguments);var n=hi((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=ohe(t),a;if(i.date){var o=she(i.date,n);a=lhe(o.restDateString,o.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var s=a.getTime(),l=0,c;if(i.time&&(l=che(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(c=uhe(i.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(s+l),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(s+l+c)}var uy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},nhe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ihe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ahe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ohe(t){var e={},r=t.split(uy.dateTimeDelimiter),n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],uy.timeZoneDelimiter.test(e.date)&&(e.date=t.split(uy.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){var i=uy.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function she(t,e){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};var i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:t.slice((n[1]||n[2]).length)}}function lhe(t,e){if(e===null)return new Date(NaN);var r=t.match(nhe);if(!r)return new Date(NaN);var n=!!r[4],i=jp(r[1]),a=jp(r[2])-1,o=jp(r[3]),s=jp(r[4]),l=jp(r[5])-1;if(n)return mhe(e,s,l)?dhe(e,s,l):new Date(NaN);var c=new Date(0);return!hhe(e,a,o)||!phe(e,i)?new Date(NaN):(c.setUTCFullYear(e,a,Math.max(i,o)),c)}function jp(t){return t?parseInt(t):1}function che(t){var e=t.match(ihe);if(!e)return NaN;var r=DS(e[1]),n=DS(e[2]),i=DS(e[3]);return ghe(r,n,i)?r*Mz+n*jz+i*1e3:NaN}function DS(t){return t&&parseFloat(t.replace(",","."))||0}function uhe(t){if(t==="Z")return 0;var e=t.match(ahe);if(!e)return 0;var r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return vhe(n,i)?r*(n*Mz+i*jz):NaN}function dhe(t,e,r){var n=new Date(0);n.setUTCFullYear(t,0,4);var i=n.getUTCDay()||7,a=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}var fhe=[31,null,31,30,31,30,31,31,30,31,30,31];function Wz(t){return t%400===0||t%4===0&&t%100!==0}function hhe(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(fhe[e]||(Wz(t)?29:28))}function phe(t,e){return e>=1&&e<=(Wz(t)?366:365)}function mhe(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function ghe(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function vhe(t,e){return e>=0&&e<=59}function yhe(t,e){rt(2,arguments);var r=hi(e);return GP(t,-r)}function xhe(){var R,k;const t=ra(),{user:e}=Nb(),{tasks:r,trips:n,updateTask:i,deleteTask:a}=ks(),[o,s]=_.useState("all"),{toast:l}=Ta(),[c,u]=_.useState(new Date),f=r.filter(M=>{const U=new Date().toISOString().split("T")[0];return M.dueDate===U}),h=f.filter(M=>M.completed),p=f.length,m=h.length,g=p>0?m/p*100:0,v=n.filter(M=>M.status!=="completed"&&M.status!=="cancelled"),y=_.useMemo(()=>{const M=Gde(c),U=Lz(M),L=Dz(M),z=qde(U),B="d",$=[];let W=[],H=L,G="";for(;H<=z;){for(let Z=0;Z<7;Z++){G=Hr(H,B);const se=Hr(H,"yyyy-MM-dd"),ce=r.filter(J=>J.dueDate===se),Oe=ce.length,pe=ce.filter(J=>J.completed).length;W.push({date:H,dayOfMonth:G,isCurrentMonth:rhe(H,M),isToday:Dde(H,new Date),tasksCount:Oe,completedCount:pe,tasks:ce}),H=fx(H,1)}$.push(W),W=[]}return $},[c,r]),x=()=>{t("/dashboard"),l({title:"New Task",description:"Navigating to dashboard to create a new task"})},b=()=>{t("/dashboard"),l({title:"Tasks",description:"Viewing all tasks"})},S=M=>{const U=r.find(L=>L.id===M);U&&(i(M,{completed:!U.completed}),l({title:U.completed?"Task Uncompleted":"Task Completed",description:`"${U.title}" has been marked as ${U.completed?"uncompleted":"completed"}`}))},E=M=>{const U=r.find(L=>L.id===M);if(U){const L=U.priority==="high"?"medium":"high";i(M,{priority:L}),l({title:L==="high"?"Task Starred":"Star Removed",description:`"${U.title}" has been ${L==="high"?"marked as important":"unmarked as important"}`})}},C=M=>{const U=r.find(L=>L.id===M);U&&(a(M),l({title:"Task Deleted",description:`"${U.title}" has been deleted`}))},A=M=>{t(`/dashboard?edit=${M}`),l({title:"Edit Task",description:"Navigating to edit task"})},T=M=>{t(`/dashboard?reschedule=${M}`),l({title:"Reschedule Task",description:"Navigating to reschedule task"})},I=()=>{l({title:"Filter Tasks",description:"Task filtering options would appear here"})},N=()=>{u(yhe(c,1))},O=()=>{u(GP(c,1))};return d.jsx(Ds,{children:d.jsxs("div",{className:"p-4 md:p-8",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Home"}),d.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:["Welcome back, ",((R=e==null?void 0:e.name)==null?void 0:R.split(" ")[0])||"User","! Here's what's happening today."]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(Y,{variant:"outline",className:"border-slate-200 dark:border-slate-600 dark:text-slate-300",onClick:()=>{s("today"),l({title:"Recent Tasks",description:"Showing your recent tasks"})},children:[d.jsx(ln,{className:"h-4 w-4 mr-2"}),"Recent"]}),d.jsxs(Y,{className:"bg-teal-600 hover:bg-teal-700 dark:bg-teal-600 dark:hover:bg-teal-700",onClick:x,children:[d.jsx(cn,{className:"h-4 w-4 mr-2"}),"New Task"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[d.jsxs(Ie,{className:"bg-gradient-to-br from-teal-500 to-teal-600 text-white border-none shadow-md",children:[d.jsxs(We,{className:"pb-2",children:[d.jsx(He,{className:"text-white",children:"Today's Tasks"}),d.jsxs(gt,{className:"text-teal-100",children:["You have ",p," ",p===1?"task":"tasks"," for today"]})]}),d.jsx(Pe,{children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{children:"Completed"}),d.jsxs("span",{children:[m,"/",p]})]}),d.jsx(gg,{value:g,className:"h-2 bg-teal-400"})]})}),d.jsx(Dt,{children:d.jsx(Y,{variant:"secondary",className:"w-full bg-white/20 hover:bg-white/30 text-white border-none",onClick:()=>{s("today"),l({title:"Today's Tasks",description:"Viewing tasks for today"})},children:"View All Tasks"})})]}),d.jsxs(Ie,{className:"border-none shadow-md dark:bg-slate-800",children:[d.jsxs(We,{className:"pb-2",children:[d.jsx(He,{className:"dark:text-slate-200",children:"Shopping Lists"}),d.jsxs(gt,{className:"dark:text-slate-400",children:["You have ",v.length," active ",v.length===1?"list":"lists"]})]}),d.jsx(Pe,{children:d.jsx("div",{className:"space-y-2",children:v.length>0?v.slice(0,2).map((M,U)=>{var L,z,B,$;return d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:M.store||"Shopping Trip"}),d.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:[((L=M.items)==null?void 0:L.length)||0," ",(((z=M.items)==null?void 0:z.length)||0)===1?"item":"items"]})]}),d.jsx(gg,{value:((B=M.items)==null?void 0:B.filter(W=>W.checked).length)/((($=M.items)==null?void 0:$.length)||1)*100,className:"h-2 dark:bg-slate-700"})]},M.id)}):d.jsx("div",{className:"text-center py-2 text-slate-500 dark:text-slate-400",children:"No active shopping lists"})})}),d.jsx(Dt,{children:d.jsxs(Y,{variant:"outline",className:"w-full border-slate-200 dark:border-slate-700 dark:text-slate-300",onClick:()=>t("/trips"),children:[d.jsx(Wr,{className:"h-4 w-4 mr-2"}),"View Shopping Lists"]})})]}),d.jsxs(Ie,{className:"border-none shadow-md dark:bg-slate-800",children:[d.jsxs(We,{className:"pb-2",children:[d.jsx(He,{className:"dark:text-slate-200",children:"Expense Splitting"}),d.jsx(gt,{className:"dark:text-slate-400",children:"May expenses with roommates"})]}),d.jsx(Pe,{children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Vr,{className:"h-6 w-6",children:d.jsx(Ur,{className:"text-xs bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300",children:((k=e==null?void 0:e.name)==null?void 0:k.substring(0,2))||"U"})}),d.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"You"})]}),d.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:"$63.69"})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Vr,{className:"h-6 w-6",children:d.jsx(Ur,{className:"text-xs bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-300",children:"SM"})}),d.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Sam"})]}),d.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:"+$12.45"})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Vr,{className:"h-6 w-6",children:d.jsx(Ur,{className:"text-xs bg-amber-100 text-amber-700 dark:bg-amber-900 dark:text-amber-300",children:"AL"})}),d.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Alex"})]}),d.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:"-$8.75"})]})]})}),d.jsx(Dt,{children:d.jsxs(Y,{variant:"outline",className:"w-full border-slate-200 dark:border-slate-700 dark:text-slate-300",onClick:()=>t("/ledger"),children:[d.jsx(GV,{className:"h-4 w-4 mr-2"}),"Manage Expenses"]})})]})]}),d.jsxs(Cu,{defaultValue:"all",className:"w-full",value:o,onValueChange:s,children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs(nc,{className:"grid w-full md:w-auto grid-cols-4 md:inline-flex dark:bg-slate-800",children:[d.jsx(tr,{value:"all",children:"All Tasks"}),d.jsx(tr,{value:"today",children:"Today"}),d.jsx(tr,{value:"upcoming",children:"Upcoming"}),d.jsx(tr,{value:"calendar",children:"Calendar"})]}),d.jsxs(Y,{variant:"ghost",size:"sm",className:"hidden md:flex dark:text-slate-300",onClick:I,children:[d.jsx(cf,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),d.jsx(Pr,{value:"all",className:"space-y-4",children:d.jsxs(Ie,{className:"border-none shadow-sm dark:bg-slate-800",children:[d.jsx(Pe,{className:"p-0",children:d.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:r.length>0?r.slice(0,5).map((M,U)=>d.jsxs("div",{className:`flex items-center p-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${M.completed?"bg-slate-50/50 dark:bg-slate-700/30":""}`,children:[d.jsxs("div",{className:"flex items-center flex-1 min-w-0 gap-3",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("div",{className:`h-5 w-5 rounded-full ${M.completed?"bg-teal-500 flex items-center justify-center cursor-pointer text-white":"border-2 border-teal-500 flex items-center justify-center cursor-pointer hover:bg-teal-50 dark:hover:bg-teal-900/30"}`,onClick:()=>S(M.id),children:M.completed&&d.jsx(Fi,{className:"h-3 w-3"})})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:`text-sm font-medium ${M.completed?"text-slate-500 dark:text-slate-400 line-through":"text-slate-800 dark:text-slate-200"} truncate`,children:M.title}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300",children:M.priority==="high"?"High":M.priority==="medium"?"Medium":"Low"}),d.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center",children:[d.jsx(ln,{className:"h-3 w-3 mr-1"}),M.dueDate]})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[d.jsx(Y,{variant:"ghost",size:"icon",className:`h-8 w-8 ${M.priority==="high"?"text-yellow-500 hover:text-yellow-600 dark:text-yellow-400 dark:hover:text-yellow-300":"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300"}`,onClick:()=>E(M.id),children:d.jsx(kj,{className:"h-4 w-4",fill:M.priority==="high"?"currentColor":"none"})}),d.jsxs(xg,{children:[d.jsx(wg,{asChild:!0,children:d.jsx(Y,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300",children:d.jsx(cf,{className:"h-4 w-4"})})}),d.jsxs(Of,{align:"end",children:[d.jsx(oi,{onClick:()=>A(M.id),children:"Edit"}),d.jsx(oi,{onClick:()=>T(M.id),children:"Reschedule"}),d.jsx(bg,{}),d.jsx(oi,{className:"text-red-600",onClick:()=>C(M.id),children:"Delete"})]})]})]})]},M.id)):d.jsxs("div",{className:"py-8 text-center",children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No tasks found. Create a new task to get started."}),d.jsxs(Y,{className:"mt-4 bg-teal-600 hover:bg-teal-700",onClick:x,children:[d.jsx(cn,{className:"h-4 w-4 mr-2"}),"Create Task"]})]})})}),d.jsx(Dt,{className:"flex justify-center border-t border-slate-100 dark:border-slate-700 p-4",children:d.jsx(Y,{variant:"ghost",className:"text-teal-600 hover:text-teal-700 hover:bg-teal-50 dark:text-teal-400 dark:hover:text-teal-300 dark:hover:bg-teal-900/20",onClick:b,children:"View All Tasks"})})]})}),d.jsx(Pr,{value:"today",className:"space-y-4",children:d.jsx(Ie,{className:"border-none shadow-sm dark:bg-slate-800",children:d.jsx(Pe,{className:"p-6",children:f.length>0?d.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:f.map((M,U)=>d.jsxs("div",{className:`flex items-center p-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${M.completed?"bg-slate-50/50 dark:bg-slate-700/30":""}`,children:[d.jsxs("div",{className:"flex items-center flex-1 min-w-0 gap-3",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("div",{className:`h-5 w-5 rounded-full ${M.completed?"bg-teal-500 flex items-center justify-center cursor-pointer text-white":"border-2 border-teal-500 flex items-center justify-center cursor-pointer hover:bg-teal-50 dark:hover:bg-teal-900/30"}`,onClick:()=>S(M.id),children:M.completed&&d.jsx(Fi,{className:"h-3 w-3"})})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:`text-sm font-medium ${M.completed?"text-slate-500 dark:text-slate-400 line-through":"text-slate-800 dark:text-slate-200"} truncate`,children:M.title}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300",children:M.priority==="high"?"High":M.priority==="medium"?"Medium":"Low"}),d.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center",children:[d.jsx(ln,{className:"h-3 w-3 mr-1"}),"Today"]})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[d.jsx(Y,{variant:"ghost",size:"icon",className:`h-8 w-8 ${M.priority==="high"?"text-yellow-500 hover:text-yellow-600 dark:text-yellow-400 dark:hover:text-yellow-300":"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300"}`,onClick:()=>E(M.id),children:d.jsx(kj,{className:"h-4 w-4",fill:M.priority==="high"?"currentColor":"none"})}),d.jsxs(xg,{children:[d.jsx(wg,{asChild:!0,children:d.jsx(Y,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300",children:d.jsx(cf,{className:"h-4 w-4"})})}),d.jsxs(Of,{align:"end",children:[d.jsx(oi,{onClick:()=>A(M.id),children:"Edit"}),d.jsx(oi,{onClick:()=>T(M.id),children:"Reschedule"}),d.jsx(bg,{}),d.jsx(oi,{className:"text-red-600",onClick:()=>C(M.id),children:"Delete"})]})]})]})]},M.id))}):d.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[d.jsx("div",{className:"w-16 h-16 rounded-full bg-teal-100 dark:bg-teal-900/50 flex items-center justify-center mb-4",children:d.jsx(Au,{className:"h-8 w-8 text-teal-600 dark:text-teal-400"})}),d.jsx("h3",{className:"text-lg font-medium text-slate-800 dark:text-slate-200 mb-2",children:"No Tasks Today"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center max-w-md mb-6",children:"You don't have any tasks scheduled for today."}),d.jsxs(Y,{className:"bg-teal-600 hover:bg-teal-700",onClick:x,children:[d.jsx(cn,{className:"h-4 w-4 mr-2"}),"Create Task"]})]})})})}),d.jsx(Pr,{value:"upcoming",className:"space-y-4",children:d.jsx(Ie,{className:"border-none shadow-sm dark:bg-slate-800",children:d.jsx(Pe,{className:"p-6",children:d.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[d.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-100 dark:bg-purple-900/50 flex items-center justify-center mb-4",children:d.jsx(Au,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"})}),d.jsx("h3",{className:"text-lg font-medium text-slate-800 dark:text-slate-200 mb-2",children:"Upcoming Tasks"}),d.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-center max-w-md mb-6",children:["You have ",r.filter(M=>!M.completed&&M.dueDate>new Date().toISOString().split("T")[0]).length," tasks coming up in the next 7 days. Plan ahead to stay organized!"]}),d.jsx(Y,{className:"bg-purple-600 hover:bg-purple-700",onClick:b,children:"View Upcoming Tasks"})]})})})}),d.jsx(Pr,{value:"calendar",className:"space-y-4",children:d.jsx(Ie,{className:"border-none shadow-sm dark:bg-slate-800",children:d.jsxs(Pe,{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h3",{className:"text-lg font-medium text-slate-800 dark:text-slate-200",children:Hr(c,"MMMM yyyy")}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Y,{variant:"outline",size:"icon",onClick:N,className:"h-8 w-8 p-0 text-slate-600 dark:text-slate-300",children:d.jsx(Pb,{className:"h-4 w-4"})}),d.jsx(Y,{variant:"outline",size:"icon",onClick:O,className:"h-8 w-8 p-0 text-slate-600 dark:text-slate-300",children:d.jsx(zv,{className:"h-4 w-4"})})]})]}),d.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2 text-center",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(M=>d.jsx("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 py-2",children:M},M))}),d.jsx("div",{className:"grid grid-cols-7 gap-1",children:y.map((M,U)=>M.map((L,z)=>d.jsx("div",{className:`
                          relative p-1 min-h-[80px] border 
                          ${L.isToday?"border-teal-500 bg-teal-50 dark:bg-teal-900/20":L.isCurrentMonth?"border-slate-200 dark:border-slate-700":"border-slate-100 bg-slate-50 dark:border-slate-800 dark:bg-slate-800/30"}
                          ${L.isCurrentMonth?"text-slate-800 dark:text-slate-200":"text-slate-400 dark:text-slate-600"}
                          hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors
                        `,onClick:()=>L.tasksCount>0&&s("all"),children:d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("span",{className:`
                              text-sm font-medium p-1 rounded-full w-6 h-6 flex items-center justify-center
                              ${L.isToday?"bg-teal-500 text-white":""}
                            `,children:L.dayOfMonth}),L.tasksCount>0&&d.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300 px-1.5 py-0.5 rounded-full",children:L.tasksCount})]}),d.jsxs("div",{className:"flex-1 mt-1 overflow-hidden",children:[L.tasks.slice(0,2).map((B,$)=>d.jsx("div",{className:`text-xs truncate p-1 mb-0.5 rounded
                                  ${B.completed?"line-through text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-700/30":B.priority==="high"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":B.priority==="medium"?"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"}
                                `,onClick:W=>{W.stopPropagation(),A(B.id)},children:B.title},B.id)),L.tasksCount>2&&d.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 pl-1",children:["+",L.tasksCount-2," more"]})]})]})},`${U}-${z}`)))})]})})})]})]})})}const tt=_.forwardRef(({className:t,type:e,...r},n)=>d.jsx("input",{type:e,className:Ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));tt.displayName="Input";const whe=Uv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600"}},defaultVariants:{variant:"default"}});function Or({className:t,variant:e,...r}){return d.jsx("div",{className:Ae(whe({variant:e}),t),...r})}function i4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i4(Object(r),!0).forEach(function(n){Qc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $b(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Uo(t,e){if(t==null)return{};var r,n,i=$b(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Xn(t,e,r){return e=gx(e),ehe(t,Uz()?Reflect.construct(e,r||[],gx(t).constructor):e.apply(t,r))}function Hz(t){if(Array.isArray(t))return t}function bhe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function Gz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tu(t,e){return Hz(t)||bhe(t,e)||KP(t,e)||Gz()}function qz(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=qz(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function gr(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=qz(t))&&(n&&(n+=" "),n+=e);return n}function fr(){return fr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fr.apply(null,arguments)}var _he=function(t,e,r,n,i,a,o,s){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,i,a,o,s],u=0;l=new Error(e.replace(/%s/g,function(){return c[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},She=_he;const _g=ot(She);var Ehe=function(){};function Ahe(t,e){var r={};return Object.keys(t).forEach(function(n){r[u1(n)]=Ehe}),r}function a4(t,e){return t[e]!==void 0}function u1(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function Che(t){return!!t&&(typeof t!="function"||t.prototype&&t.prototype.isReactComponent)}function The(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,mx(t,e)}function Kz(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function Yz(t){function e(r){var n=this.constructor.getDerivedStateFromProps(t,r);return n??null}this.setState(e.bind(this))}function Xz(t,e){try{var r=this.props,n=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}Kz.__suppressDeprecationWarning=!0;Yz.__suppressDeprecationWarning=!0;Xz.__suppressDeprecationWarning=!0;function Ihe(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var r=null,n=null,i=null;if(typeof e.componentWillMount=="function"?r="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||n!==null||i!==null){var a=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+o+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=Kz,e.componentWillReceiveProps=Yz),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=Xz;var s=e.componentDidUpdate;e.componentDidUpdate=function(c,u,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;s.call(this,c,u,h)}}return t}var Nhe="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function Qz(t,e,r){r===void 0&&(r=[]);var n=t.displayName||t.name||"Component",i=Che(t),a=Object.keys(e),o=a.map(u1);i||!r.length||_g(!1);var s=function(c){The(u,c);function u(){for(var h,p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];h=c.call.apply(c,[this].concat(m))||this,h.handlers=Object.create(null),a.forEach(function(y){var x=e[y],b=function(E){if(h.props[x]){var C;h._notifying=!0;for(var A=arguments.length,T=new Array(A>1?A-1:0),I=1;I<A;I++)T[I-1]=arguments[I];(C=h.props)[x].apply(C,[E].concat(T)),h._notifying=!1}h.unmounted||h.setState(function(N){var O,R=N.values;return{values:fr(Object.create(null),R,(O={},O[y]=E,O))}})};h.handlers[x]=b}),r.length&&(h.attachRef=function(y){h.inner=y});var v=Object.create(null);return a.forEach(function(y){v[y]=h.props[u1(y)]}),h.state={values:v,prevProps:{}},h}var f=u.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},u.getDerivedStateFromProps=function(p,m){var g=m.values,v=m.prevProps,y={values:fr(Object.create(null),g),prevProps:{}};return a.forEach(function(x){y.prevProps[x]=p[x],!a4(p,x)&&a4(v,x)&&(y.values[x]=p[u1(x)])}),y},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var p=this,m=this.props,g=m.innerRef,v=$b(m,["innerRef"]);o.forEach(function(x){delete v[x]});var y={};return a.forEach(function(x){var b=p.props[x];y[x]=b!==void 0?b:p.state.values[x]}),j.createElement(t,fr({},v,y,this.handlers,{ref:g||this.attachRef}))},u}(j.Component);Ihe(s),s.displayName="Uncontrolled("+n+")",s.propTypes=fr({innerRef:function(){}},Ahe(e)),r.forEach(function(c){s.prototype[c]=function(){var f;return(f=this.inner)[c].apply(f,arguments)}});var l=s;return j.forwardRef&&(l=j.forwardRef(function(c,u){return j.createElement(s,fr({},c,{innerRef:u,__source:{fileName:Nhe,lineNumber:128},__self:this}))}),l.propTypes=s.propTypes),l.ControlledComponent=t,l.deferControlTo=function(c,u,f){return u===void 0&&(u={}),Qz(c,fr({},e,u),f)},l}var Zz={exports:{}},Phe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ohe=Phe,khe=Ohe;function Jz(){}function eW(){}eW.resetWarningCache=Jz;var Rhe=function(){function t(n,i,a,o,s,l){if(l!==khe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:eW,resetWarningCache:Jz};return r.PropTypes=r,r};Zz.exports=Rhe();var Dhe=Zz.exports;const oe=ot(Dhe);var vx="milliseconds",Sg="seconds",Eg="minutes",Ag="hours",Iu="day",kf="week",Cg="month",Nu="year",Pu="decade",Ou="century",tW={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},jhe={month:1,year:12,decade:10*12,century:100*12};function Mhe(t){return[31,Lhe(t),31,30,31,30,31,31,30,31,30,31]}function Lhe(t){return t%4===0&&t%100!==0||t%400===0?29:28}function so(t,e,r){switch(t=new Date(t),r){case vx:case Sg:case Eg:case Ag:case Iu:case kf:return $he(t,e*tW[r]);case Cg:case Nu:case Pu:case Ou:return Fhe(t,e*jhe[r])}throw new TypeError('Invalid units: "'+r+'"')}function $he(t,e){var r=new Date(+t+e);return Bhe(t,r)}function Fhe(t,e){var r=t.getFullYear(),n=t.getMonth(),i=t.getDate(),a=r*12+n+e,o=Math.trunc(a/12),s=a%12,l=Math.min(i,Mhe(o)[s]),c=new Date(t);return c.setFullYear(o),c.setDate(1),c.setMonth(s),c.setDate(l),c}function Bhe(t,e){var r=t.getTimezoneOffset(),n=e.getTimezoneOffset(),i=n-r;return new Date(+e+i*tW.minutes)}function Tg(t,e,r){return so(t,-e,r)}function Cn(t,e,r){switch(t=new Date(t),e){case Ou:case Pu:case Nu:t=xx(t,0);case Cg:t=oW(t,1);case kf:case Iu:t=Pg(t,0);case Ag:t=Rf(t,0);case Eg:t=Ng(t,0);case Sg:t=Ig(t,0)}return e===Pu&&(t=Tg(t,ku(t)%10,"year")),e===Ou&&(t=Tg(t,ku(t)%100,"year")),e===kf&&(t=sW(t,0,r)),t}function yx(t,e,r){switch(t=new Date(t),t=Cn(t,e,r),e){case Ou:case Pu:case Nu:case Cg:case kf:t=so(t,1,e),t=Tg(t,1,Iu),t.setHours(23,59,59,999);break;case Iu:t.setHours(23,59,59,999);break;case Ag:case Eg:case Sg:t=so(t,1,e),t=Tg(t,1,vx)}return t}var Oh=Rh(function(t,e){return t===e}),YP=Rh(function(t,e){return t!==e}),Fb=Rh(function(t,e){return t>e}),Xv=Rh(function(t,e){return t>=e}),XP=Rh(function(t,e){return t<e}),kh=Rh(function(t,e){return t<=e});function rW(){return new Date(Math.min.apply(Math,arguments))}function nW(){return new Date(Math.max.apply(Math,arguments))}function iW(t,e,r,n){return n=n||"day",(!e||Xv(t,e,n))&&(!r||kh(t,r,n))}var Ig=xc("Milliseconds"),Ng=xc("Seconds"),Rf=xc("Minutes"),Pg=xc("Hours"),aW=xc("Day"),oW=xc("Date"),xx=xc("Month"),ku=xc("FullYear");function Vhe(t,e){return e===void 0?ku(Cn(t,Pu)):so(t,e+10,Nu)}function Uhe(t,e){return e===void 0?ku(Cn(t,Ou)):so(t,e+100,Nu)}function sW(t,e,r){var n=(aW(t)+7-(r||0))%7;return e===void 0?n:so(t,e-n,Iu)}function zhe(t,e,r,n){var i,a,o;switch(r){case vx:case Sg:case Eg:case Ag:case Iu:case kf:i=e.getTime()-t.getTime();break;case Cg:case Nu:case Pu:case Ou:i=(ku(e)-ku(t))*12+xx(e)-xx(t);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case vx:a=1;break;case Sg:a=1e3;break;case Eg:a=1e3*60;break;case Ag:a=1e3*60*60;break;case Iu:a=1e3*60*60*24;break;case kf:a=1e3*60*60*24*7;break;case Cg:a=1;break;case Nu:a=12;break;case Pu:a=120;break;case Ou:a=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return o=i/a,n?o:Math.round(o)}function xc(t){var e=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(t);return function(r,n){if(n===void 0)return r["get"+t]();var i=new Date(r);return i["set"+t](n),e&&i["get"+t]()!=n&&(t==="Hours"||n>=e&&i.getHours()-r.getHours()<Math.floor(n/e))&&i["set"+t](n+e),i}}function Rh(t){return function(e,r,n){return t(+Cn(e,n),+Cn(r,n))}}const o4=Object.freeze(Object.defineProperty({__proto__:null,add:so,century:Uhe,date:oW,day:aW,decade:Vhe,diff:zhe,endOf:yx,eq:Oh,gt:Fb,gte:Xv,hours:Pg,inRange:iW,lt:XP,lte:kh,max:nW,milliseconds:Ig,min:rW,minutes:Rf,month:xx,neq:YP,seconds:Ng,startOf:Cn,subtract:Tg,weekday:sW,year:ku},Symbol.toStringTag,{value:"Module"}));function Whe(t){if(Array.isArray(t))return _C(t)}function lW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d1(t){return Whe(t)||lW(t)||KP(t)||Hhe()}function Ghe(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var QP=Ghe;function qhe(t,e){return t===e||t!==t&&e!==e}var Qv=qhe,Khe=typeof Wi=="object"&&Wi&&Wi.Object===Object&&Wi,cW=Khe,Yhe=cW,Xhe=typeof self=="object"&&self&&self.Object===Object&&self,Qhe=Yhe||Xhe||Function("return this")(),fo=Qhe,Zhe=fo,Jhe=Zhe.Symbol,Dh=Jhe,s4=Dh,uW=Object.prototype,epe=uW.hasOwnProperty,tpe=uW.toString,Mp=s4?s4.toStringTag:void 0;function rpe(t){var e=epe.call(t,Mp),r=t[Mp];try{t[Mp]=void 0;var n=!0}catch{}var i=tpe.call(t);return n&&(e?t[Mp]=r:delete t[Mp]),i}var npe=rpe,ipe=Object.prototype,ape=ipe.toString;function ope(t){return ape.call(t)}var spe=ope,l4=Dh,lpe=npe,cpe=spe,upe="[object Null]",dpe="[object Undefined]",c4=l4?l4.toStringTag:void 0;function fpe(t){return t==null?t===void 0?dpe:upe:c4&&c4 in Object(t)?lpe(t):cpe(t)}var Gs=fpe;function hpe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ia=hpe;const jh=ot(Ia);var ppe=Gs,mpe=Ia,gpe="[object AsyncFunction]",vpe="[object Function]",ype="[object GeneratorFunction]",xpe="[object Proxy]";function wpe(t){if(!mpe(t))return!1;var e=ppe(t);return e==vpe||e==ype||e==gpe||e==xpe}var Bb=wpe;const Xe=ot(Bb);var bpe=9007199254740991;function _pe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=bpe}var ZP=_pe,Spe=Bb,Epe=ZP;function Ape(t){return t!=null&&Epe(t.length)&&!Spe(t)}var Mh=Ape,Cpe=9007199254740991,Tpe=/^(?:0|[1-9]\d*)$/;function Ipe(t,e){var r=typeof t;return e=e??Cpe,!!e&&(r=="number"||r!="symbol"&&Tpe.test(t))&&t>-1&&t%1==0&&t<e}var JP=Ipe,Npe=Qv,Ppe=Mh,Ope=JP,kpe=Ia;function Rpe(t,e,r){if(!kpe(r))return!1;var n=typeof e;return(n=="number"?Ppe(r)&&Ope(e,r.length):n=="string"&&e in r)?Npe(r[e],t):!1}var Lh=Rpe,Dpe=/\s/;function jpe(t){for(var e=t.length;e--&&Dpe.test(t.charAt(e)););return e}var Mpe=jpe,Lpe=Mpe,$pe=/^\s+/;function Fpe(t){return t&&t.slice(0,Lpe(t)+1).replace($pe,"")}var Bpe=Fpe;function Vpe(t){return t!=null&&typeof t=="object"}var ho=Vpe,Upe=Gs,zpe=ho,Wpe="[object Symbol]";function Hpe(t){return typeof t=="symbol"||zpe(t)&&Upe(t)==Wpe}var $h=Hpe,Gpe=Bpe,u4=Ia,qpe=$h,d4=NaN,Kpe=/^[-+]0x[0-9a-f]+$/i,Ype=/^0b[01]+$/i,Xpe=/^0o[0-7]+$/i,Qpe=parseInt;function Zpe(t){if(typeof t=="number")return t;if(qpe(t))return d4;if(u4(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=u4(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Gpe(t);var r=Ype.test(t);return r||Xpe.test(t)?Qpe(t.slice(2),r?2:8):Kpe.test(t)?d4:+t}var dW=Zpe,Jpe=dW,eme=1/0,tme=17976931348623157e292;function rme(t){if(!t)return t===0?t:0;if(t=Jpe(t),t===eme||t===-1/0){var e=t<0?-1:1;return e*tme}return t===t?t:0}var fW=rme,nme=fW;function ime(t){var e=nme(t),r=e%1;return e===e?r?e-r:e:0}var hW=ime,ame=QP,ome=Lh,sme=hW,lme=Math.ceil,cme=Math.max;function ume(t,e,r){(r?ome(t,e,r):e===void 0)?e=1:e=cme(sme(e),0);var n=t==null?0:t.length;if(!n||e<1)return[];for(var i=0,a=0,o=Array(lme(n/e));i<n;)o[a++]=ame(t,i,i+=e);return o}var dme=ume;const fme=ot(dme);function Zv(t){return t&&t.ownerDocument||document}function hme(t){var e=Zv(t);return e&&e.defaultView||window}function pme(t,e){return hme(t).getComputedStyle(t,e)}var mme=/([A-Z])/g;function gme(t){return t.replace(mme,"-$1").toLowerCase()}var vme=/^ms-/;function dy(t){return gme(t).replace(vme,"-ms-")}var yme=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function xme(t){return!!(t&&yme.test(t))}function Sd(t,e){var r="",n="";if(typeof e=="string")return t.style.getPropertyValue(dy(e))||pme(t).getPropertyValue(dy(e));Object.keys(e).forEach(function(i){var a=e[i];!a&&a!==0?t.style.removeProperty(dy(i)):xme(i)?n+=i+"("+a+") ":r+=dy(i)+": "+a+";"}),n&&(r+="transform: "+n+";"),t.style.cssText+=";"+r}function Og(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function wme(t){return"nodeType"in t&&t.nodeType===document.DOCUMENT_NODE}function eO(t){return"window"in t&&t.window===t?t:wme(t)&&t.defaultView||!1}function pW(t){var e=t==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,i){var a=eO(n);if(i===void 0)return a?a[t]:n[e];a?a.scrollTo(a[t],i):n[e]=i}return r}const mW=pW("pageXOffset"),gW=pW("pageYOffset");function fu(t){var e=Zv(t),r={top:0,left:0,height:0,width:0},n=e&&e.documentElement;return!n||!Og(n,t)||(t.getBoundingClientRect!==void 0&&(r=t.getBoundingClientRect()),r={top:r.top+gW(n)-(n.clientTop||0),left:r.left+mW(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var bme=function(e){return!!e&&"offsetParent"in e};function _me(t){for(var e=Zv(t),r=t&&t.offsetParent;bme(r)&&r.nodeName!=="HTML"&&Sd(r,"position")==="static";)r=r.offsetParent;return r||e.documentElement}var Sme=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function vW(t,e){var r={top:0,left:0},n;if(Sd(t,"position")==="fixed")n=t.getBoundingClientRect();else{var i=e||_me(t);n=fu(t),Sme(i)!=="html"&&(r=fu(i));var a=String(Sd(i,"borderTopWidth")||0);r.top+=parseInt(a,10)-gW(i)||0;var o=String(Sd(i,"borderLeftWidth")||0);r.left+=parseInt(o,10)-mW(i)||0}var s=String(Sd(t,"marginTop")||0),l=String(Sd(t,"marginLeft")||0);return fr({},n,{top:n.top-r.top-(parseInt(s,10)||0),left:n.left-r.left-(parseInt(l,10)||0)})}const tO=!!(typeof window<"u"&&window.document&&window.document.createElement);var f4=new Date().getTime();function Eme(t){var e=new Date().getTime(),r=Math.max(0,16-(e-f4)),n=setTimeout(t,r);return f4=e,n}var Ame=["","webkit","moz","o","ms"],SC="clearTimeout",EC=Eme,h4=function(e,r){return e+(e?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};tO&&Ame.some(function(t){var e=h4(t,"request");return e in window&&(SC=h4(t,"cancel"),EC=function(n){return window[e](n)}),!!EC});var p4=function(e){typeof window[SC]=="function"&&window[SC](e)},yW=EC,jS;function Cme(t,e){if(!jS){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;jS=function(a,o){return n.call(a,o)}}return jS(t,e)}var Tme=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ime(t,e){return Tme(t.querySelectorAll(e))}var AC=!1,CC=!1;try{var MS={get passive(){return AC=!0},get once(){return CC=AC=!0}};tO&&(window.addEventListener("test",MS,MS),window.removeEventListener("test",MS,!0))}catch{}function Nme(t,e,r,n){if(n&&typeof n!="boolean"&&!CC){var i=n.once,a=n.capture,o=r;!CC&&i&&(o=r.__once||function s(l){this.removeEventListener(e,s,a),r.call(this,l)},r.__once=o),t.addEventListener(e,o,AC?n:a)}t.addEventListener(e,r,n)}function Pme(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t},[t]),e}function m4(t){const e=Pme(t);return _.useCallback(function(...r){return e.current&&e.current(...r)},[e])}function g4(){return _.useState(null)}function Ome(){const t=_.useRef(!0),e=_.useRef(()=>t.current);return _.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function kme(t){const e=Ome();return[t[0],_.useCallback(r=>{if(e())return t[1](r)},[e,t[1]])]}var Ii="top",Ea="bottom",Aa="right",Ni="left",rO="auto",Jv=[Ii,Ea,Aa,Ni],Df="start",kg="end",Rme="clippingParents",xW="viewport",Lp="popper",Dme="reference",v4=Jv.reduce(function(t,e){return t.concat([e+"-"+Df,e+"-"+kg])},[]),nO=[].concat(Jv,[rO]).reduce(function(t,e){return t.concat([e,e+"-"+Df,e+"-"+kg])},[]),jme="beforeRead",Mme="read",Lme="afterRead",$me="beforeMain",Fme="main",Bme="afterMain",Vme="beforeWrite",Ume="write",zme="afterWrite",Wme=[jme,Mme,Lme,$me,Fme,Bme,Vme,Ume,zme];function ko(t){return t.split("-")[0]}function Xi(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ru(t){var e=Xi(t).Element;return t instanceof e||t instanceof Element}function Ro(t){var e=Xi(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function iO(t){if(typeof ShadowRoot>"u")return!1;var e=Xi(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var hu=Math.max,wx=Math.min,jf=Math.round;function TC(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function wW(){return!/^((?!chrome|android).)*safari/i.test(TC())}function Mf(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,a=1;e&&Ro(t)&&(i=t.offsetWidth>0&&jf(n.width)/t.offsetWidth||1,a=t.offsetHeight>0&&jf(n.height)/t.offsetHeight||1);var o=Ru(t)?Xi(t):window,s=o.visualViewport,l=!wW()&&r,c=(n.left+(l&&s?s.offsetLeft:0))/i,u=(n.top+(l&&s?s.offsetTop:0))/a,f=n.width/i,h=n.height/a;return{width:f,height:h,top:u,right:c+f,bottom:u+h,left:c,x:c,y:u}}function aO(t){var e=Mf(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function bW(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&iO(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ic(t){return t?(t.nodeName||"").toLowerCase():null}function js(t){return Xi(t).getComputedStyle(t)}function Hme(t){return["table","td","th"].indexOf(ic(t))>=0}function wc(t){return((Ru(t)?t.ownerDocument:t.document)||window.document).documentElement}function Vb(t){return ic(t)==="html"?t:t.assignedSlot||t.parentNode||(iO(t)?t.host:null)||wc(t)}function y4(t){return!Ro(t)||js(t).position==="fixed"?null:t.offsetParent}function Gme(t){var e=/firefox/i.test(TC()),r=/Trident/i.test(TC());if(r&&Ro(t)){var n=js(t);if(n.position==="fixed")return null}var i=Vb(t);for(iO(i)&&(i=i.host);Ro(i)&&["html","body"].indexOf(ic(i))<0;){var a=js(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function e0(t){for(var e=Xi(t),r=y4(t);r&&Hme(r)&&js(r).position==="static";)r=y4(r);return r&&(ic(r)==="html"||ic(r)==="body"&&js(r).position==="static")?e:r||Gme(t)||e}function oO(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Nm(t,e,r){return hu(t,wx(e,r))}function qme(t,e,r){var n=Nm(t,e,r);return n>r?r:n}function _W(){return{top:0,right:0,bottom:0,left:0}}function SW(t){return Object.assign({},_W(),t)}function EW(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var Kme=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,SW(typeof e!="number"?e:EW(e,Jv))};function Yme(t){var e,r=t.state,n=t.name,i=t.options,a=r.elements.arrow,o=r.modifiersData.popperOffsets,s=ko(r.placement),l=oO(s),c=[Ni,Aa].indexOf(s)>=0,u=c?"height":"width";if(!(!a||!o)){var f=Kme(i.padding,r),h=aO(a),p=l==="y"?Ii:Ni,m=l==="y"?Ea:Aa,g=r.rects.reference[u]+r.rects.reference[l]-o[l]-r.rects.popper[u],v=o[l]-r.rects.reference[l],y=e0(a),x=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,b=g/2-v/2,S=f[p],E=x-h[u]-f[m],C=x/2-h[u]/2+b,A=Nm(S,C,E),T=l;r.modifiersData[n]=(e={},e[T]=A,e.centerOffset=A-C,e)}}function Xme(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||bW(e.elements.popper,i)&&(e.elements.arrow=i))}const Qme={name:"arrow",enabled:!0,phase:"main",fn:Yme,effect:Xme,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Lf(t){return t.split("-")[1]}var Zme={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Jme(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:jf(r*i)/i||0,y:jf(n*i)/i||0}}function x4(t){var e,r=t.popper,n=t.popperRect,i=t.placement,a=t.variation,o=t.offsets,s=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,f=t.isFixed,h=o.x,p=h===void 0?0:h,m=o.y,g=m===void 0?0:m,v=typeof u=="function"?u({x:p,y:g}):{x:p,y:g};p=v.x,g=v.y;var y=o.hasOwnProperty("x"),x=o.hasOwnProperty("y"),b=Ni,S=Ii,E=window;if(c){var C=e0(r),A="clientHeight",T="clientWidth";if(C===Xi(r)&&(C=wc(r),js(C).position!=="static"&&s==="absolute"&&(A="scrollHeight",T="scrollWidth")),C=C,i===Ii||(i===Ni||i===Aa)&&a===kg){S=Ea;var I=f&&C===E&&E.visualViewport?E.visualViewport.height:C[A];g-=I-n.height,g*=l?1:-1}if(i===Ni||(i===Ii||i===Ea)&&a===kg){b=Aa;var N=f&&C===E&&E.visualViewport?E.visualViewport.width:C[T];p-=N-n.width,p*=l?1:-1}}var O=Object.assign({position:s},c&&Zme),R=u===!0?Jme({x:p,y:g},Xi(r)):{x:p,y:g};if(p=R.x,g=R.y,l){var k;return Object.assign({},O,(k={},k[S]=x?"0":"",k[b]=y?"0":"",k.transform=(E.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",k))}return Object.assign({},O,(e={},e[S]=x?g+"px":"",e[b]=y?p+"px":"",e.transform="",e))}function ege(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,a=r.adaptive,o=a===void 0?!0:a,s=r.roundOffsets,l=s===void 0?!0:s,c={placement:ko(e.placement),variation:Lf(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,x4(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,x4(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const tge={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ege,data:{}};var fy={passive:!0};function rge(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,a=i===void 0?!0:i,o=n.resize,s=o===void 0?!0:o,l=Xi(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&c.forEach(function(u){u.addEventListener("scroll",r.update,fy)}),s&&l.addEventListener("resize",r.update,fy),function(){a&&c.forEach(function(u){u.removeEventListener("scroll",r.update,fy)}),s&&l.removeEventListener("resize",r.update,fy)}}const nge={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:rge,data:{}};var ige={left:"right",right:"left",bottom:"top",top:"bottom"};function f1(t){return t.replace(/left|right|bottom|top/g,function(e){return ige[e]})}var age={start:"end",end:"start"};function w4(t){return t.replace(/start|end/g,function(e){return age[e]})}function sO(t){var e=Xi(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function lO(t){return Mf(wc(t)).left+sO(t).scrollLeft}function oge(t,e){var r=Xi(t),n=wc(t),i=r.visualViewport,a=n.clientWidth,o=n.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;var c=wW();(c||!c&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s+lO(t),y:l}}function sge(t){var e,r=wc(t),n=sO(t),i=(e=t.ownerDocument)==null?void 0:e.body,a=hu(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=hu(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+lO(t),l=-n.scrollTop;return js(i||r).direction==="rtl"&&(s+=hu(r.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:l}}function cO(t){var e=js(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function AW(t){return["html","body","#document"].indexOf(ic(t))>=0?t.ownerDocument.body:Ro(t)&&cO(t)?t:AW(Vb(t))}function Pm(t,e){var r;e===void 0&&(e=[]);var n=AW(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),a=Xi(n),o=i?[a].concat(a.visualViewport||[],cO(n)?n:[]):n,s=e.concat(o);return i?s:s.concat(Pm(Vb(o)))}function IC(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function lge(t,e){var r=Mf(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function b4(t,e,r){return e===xW?IC(oge(t,r)):Ru(e)?lge(e,r):IC(sge(wc(t)))}function cge(t){var e=Pm(Vb(t)),r=["absolute","fixed"].indexOf(js(t).position)>=0,n=r&&Ro(t)?e0(t):t;return Ru(n)?e.filter(function(i){return Ru(i)&&bW(i,n)&&ic(i)!=="body"}):[]}function uge(t,e,r,n){var i=e==="clippingParents"?cge(t):[].concat(e),a=[].concat(i,[r]),o=a[0],s=a.reduce(function(l,c){var u=b4(t,c,n);return l.top=hu(u.top,l.top),l.right=wx(u.right,l.right),l.bottom=wx(u.bottom,l.bottom),l.left=hu(u.left,l.left),l},b4(t,o,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function CW(t){var e=t.reference,r=t.element,n=t.placement,i=n?ko(n):null,a=n?Lf(n):null,o=e.x+e.width/2-r.width/2,s=e.y+e.height/2-r.height/2,l;switch(i){case Ii:l={x:o,y:e.y-r.height};break;case Ea:l={x:o,y:e.y+e.height};break;case Aa:l={x:e.x+e.width,y:s};break;case Ni:l={x:e.x-r.width,y:s};break;default:l={x:e.x,y:e.y}}var c=i?oO(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(a){case Df:l[c]=l[c]-(e[u]/2-r[u]/2);break;case kg:l[c]=l[c]+(e[u]/2-r[u]/2);break}}return l}function Rg(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,a=r.strategy,o=a===void 0?t.strategy:a,s=r.boundary,l=s===void 0?Rme:s,c=r.rootBoundary,u=c===void 0?xW:c,f=r.elementContext,h=f===void 0?Lp:f,p=r.altBoundary,m=p===void 0?!1:p,g=r.padding,v=g===void 0?0:g,y=SW(typeof v!="number"?v:EW(v,Jv)),x=h===Lp?Dme:Lp,b=t.rects.popper,S=t.elements[m?x:h],E=uge(Ru(S)?S:S.contextElement||wc(t.elements.popper),l,u,o),C=Mf(t.elements.reference),A=CW({reference:C,element:b,placement:i}),T=IC(Object.assign({},b,A)),I=h===Lp?T:C,N={top:E.top-I.top+y.top,bottom:I.bottom-E.bottom+y.bottom,left:E.left-I.left+y.left,right:I.right-E.right+y.right},O=t.modifiersData.offset;if(h===Lp&&O){var R=O[i];Object.keys(N).forEach(function(k){var M=[Aa,Ea].indexOf(k)>=0?1:-1,U=[Ii,Ea].indexOf(k)>=0?"y":"x";N[k]+=R[U]*M})}return N}function dge(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,a=r.rootBoundary,o=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?nO:l,u=Lf(n),f=u?s?v4:v4.filter(function(m){return Lf(m)===u}):Jv,h=f.filter(function(m){return c.indexOf(m)>=0});h.length===0&&(h=f);var p=h.reduce(function(m,g){return m[g]=Rg(t,{placement:g,boundary:i,rootBoundary:a,padding:o})[ko(g)],m},{});return Object.keys(p).sort(function(m,g){return p[m]-p[g]})}function fge(t){if(ko(t)===rO)return[];var e=f1(t);return[w4(t),e,w4(e)]}function hge(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,a=i===void 0?!0:i,o=r.altAxis,s=o===void 0?!0:o,l=r.fallbackPlacements,c=r.padding,u=r.boundary,f=r.rootBoundary,h=r.altBoundary,p=r.flipVariations,m=p===void 0?!0:p,g=r.allowedAutoPlacements,v=e.options.placement,y=ko(v),x=y===v,b=l||(x||!m?[f1(v)]:fge(v)),S=[v].concat(b).reduce(function(se,ce){return se.concat(ko(ce)===rO?dge(e,{placement:ce,boundary:u,rootBoundary:f,padding:c,flipVariations:m,allowedAutoPlacements:g}):ce)},[]),E=e.rects.reference,C=e.rects.popper,A=new Map,T=!0,I=S[0],N=0;N<S.length;N++){var O=S[N],R=ko(O),k=Lf(O)===Df,M=[Ii,Ea].indexOf(R)>=0,U=M?"width":"height",L=Rg(e,{placement:O,boundary:u,rootBoundary:f,altBoundary:h,padding:c}),z=M?k?Aa:Ni:k?Ea:Ii;E[U]>C[U]&&(z=f1(z));var B=f1(z),$=[];if(a&&$.push(L[R]<=0),s&&$.push(L[z]<=0,L[B]<=0),$.every(function(se){return se})){I=O,T=!1;break}A.set(O,$)}if(T)for(var W=m?3:1,H=function(ce){var Oe=S.find(function(pe){var J=A.get(pe);if(J)return J.slice(0,ce).every(function(q){return q})});if(Oe)return I=Oe,"break"},G=W;G>0;G--){var Z=H(G);if(Z==="break")break}e.placement!==I&&(e.modifiersData[n]._skip=!0,e.placement=I,e.reset=!0)}}const pge={name:"flip",enabled:!0,phase:"main",fn:hge,requiresIfExists:["offset"],data:{_skip:!1}};function _4(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function S4(t){return[Ii,Aa,Ea,Ni].some(function(e){return t[e]>=0})}function mge(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,o=Rg(e,{elementContext:"reference"}),s=Rg(e,{altBoundary:!0}),l=_4(o,n),c=_4(s,i,a),u=S4(l),f=S4(c);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const gge={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:mge};function vge(t,e,r){var n=ko(t),i=[Ni,Ii].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[Ni,Aa].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}function yge(t){var e=t.state,r=t.options,n=t.name,i=r.offset,a=i===void 0?[0,0]:i,o=nO.reduce(function(u,f){return u[f]=vge(f,e.rects,a),u},{}),s=o[e.placement],l=s.x,c=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=o}const xge={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:yge};function wge(t){var e=t.state,r=t.name;e.modifiersData[r]=CW({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const bge={name:"popperOffsets",enabled:!0,phase:"read",fn:wge,data:{}};function _ge(t){return t==="x"?"y":"x"}function Sge(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,a=i===void 0?!0:i,o=r.altAxis,s=o===void 0?!1:o,l=r.boundary,c=r.rootBoundary,u=r.altBoundary,f=r.padding,h=r.tether,p=h===void 0?!0:h,m=r.tetherOffset,g=m===void 0?0:m,v=Rg(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),y=ko(e.placement),x=Lf(e.placement),b=!x,S=oO(y),E=_ge(S),C=e.modifiersData.popperOffsets,A=e.rects.reference,T=e.rects.popper,I=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,N=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,R={x:0,y:0};if(C){if(a){var k,M=S==="y"?Ii:Ni,U=S==="y"?Ea:Aa,L=S==="y"?"height":"width",z=C[S],B=z+v[M],$=z-v[U],W=p?-T[L]/2:0,H=x===Df?A[L]:T[L],G=x===Df?-T[L]:-A[L],Z=e.elements.arrow,se=p&&Z?aO(Z):{width:0,height:0},ce=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:_W(),Oe=ce[M],pe=ce[U],J=Nm(0,A[L],se[L]),q=b?A[L]/2-W-J-Oe-N.mainAxis:H-J-Oe-N.mainAxis,ae=b?-A[L]/2+W+J+pe+N.mainAxis:G+J+pe+N.mainAxis,re=e.elements.arrow&&e0(e.elements.arrow),ee=re?S==="y"?re.clientTop||0:re.clientLeft||0:0,$e=(k=O==null?void 0:O[S])!=null?k:0,De=z+q-$e-ee,fe=z+ae-$e,ue=Nm(p?wx(B,De):B,z,p?hu($,fe):$);C[S]=ue,R[S]=ue-z}if(s){var ke,X=S==="x"?Ii:Ni,de=S==="x"?Ea:Aa,ge=C[E],ct=E==="y"?"height":"width",Rr=ge+v[X],Dr=ge-v[de],Er=[Ii,Ni].indexOf(y)!==-1,vi=(ke=O==null?void 0:O[E])!=null?ke:0,vr=Er?Rr:ge-A[ct]-T[ct]-vi+N.altAxis,yr=Er?ge+A[ct]+T[ct]-vi-N.altAxis:Dr,go=p&&Er?qme(vr,ge,yr):Nm(p?vr:Rr,ge,p?yr:Dr);C[E]=go,R[E]=go-ge}e.modifiersData[n]=R}}const Ege={name:"preventOverflow",enabled:!0,phase:"main",fn:Sge,requiresIfExists:["offset"]};function Age(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Cge(t){return t===Xi(t)||!Ro(t)?sO(t):Age(t)}function Tge(t){var e=t.getBoundingClientRect(),r=jf(e.width)/t.offsetWidth||1,n=jf(e.height)/t.offsetHeight||1;return r!==1||n!==1}function Ige(t,e,r){r===void 0&&(r=!1);var n=Ro(e),i=Ro(e)&&Tge(e),a=wc(e),o=Mf(t,i,r),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((ic(e)!=="body"||cO(a))&&(s=Cge(e)),Ro(e)?(l=Mf(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):a&&(l.x=lO(a))),{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function Nge(t){var e=new Map,r=new Set,n=[];t.forEach(function(a){e.set(a.name,a)});function i(a){r.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(s){if(!r.has(s)){var l=e.get(s);l&&i(l)}}),n.push(a)}return t.forEach(function(a){r.has(a.name)||i(a)}),n}function Pge(t){var e=Nge(t);return Wme.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function Oge(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function kge(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var E4={placement:"bottom",modifiers:[],strategy:"absolute"};function A4(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Rge(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,a=i===void 0?E4:i;return function(s,l,c){c===void 0&&(c=a);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},E4,a),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},f=[],h=!1,p={state:u,setOptions:function(y){var x=typeof y=="function"?y(u.options):y;g(),u.options=Object.assign({},a,u.options,x),u.scrollParents={reference:Ru(s)?Pm(s):s.contextElement?Pm(s.contextElement):[],popper:Pm(l)};var b=Pge(kge([].concat(n,u.options.modifiers)));return u.orderedModifiers=b.filter(function(S){return S.enabled}),m(),p.update()},forceUpdate:function(){if(!h){var y=u.elements,x=y.reference,b=y.popper;if(A4(x,b)){u.rects={reference:Ige(x,e0(b),u.options.strategy==="fixed"),popper:aO(b)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(N){return u.modifiersData[N.name]=Object.assign({},N.data)});for(var S=0;S<u.orderedModifiers.length;S++){if(u.reset===!0){u.reset=!1,S=-1;continue}var E=u.orderedModifiers[S],C=E.fn,A=E.options,T=A===void 0?{}:A,I=E.name;typeof C=="function"&&(u=C({state:u,options:T,name:I,instance:p})||u)}}}},update:Oge(function(){return new Promise(function(v){p.forceUpdate(),v(u)})}),destroy:function(){g(),h=!0}};if(!A4(s,l))return p;p.setOptions(c).then(function(v){!h&&c.onFirstUpdate&&c.onFirstUpdate(v)});function m(){u.orderedModifiers.forEach(function(v){var y=v.name,x=v.options,b=x===void 0?{}:x,S=v.effect;if(typeof S=="function"){var E=S({state:u,name:y,instance:p,options:b}),C=function(){};f.push(E||C)}})}function g(){f.forEach(function(v){return v()}),f=[]}return p}}var Dge=Rge({defaultModifiers:[gge,bge,tge,nge,xge,pge,Ege,Qme]}),C4=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},jge={name:"applyStyles",enabled:!1},Mge={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var r=e.state;return function(){var n=r.elements,i=n.reference,a=n.popper;if("removeAttribute"in i){var o=(i.getAttribute("aria-describedby")||"").split(",").filter(function(s){return s.trim()!==a.id});o.length?i.setAttribute("aria-describedby",o.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(e){var r,n=e.state,i=n.elements,a=i.popper,o=i.reference,s=(r=a.getAttribute("role"))==null?void 0:r.toLowerCase();if(a.id&&s==="tooltip"&&"setAttribute"in o){var l=o.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(a.id)!==-1)return;o.setAttribute("aria-describedby",l?l+","+a.id:a.id)}}},Lge=[];function $ge(t,e,r){var n=r===void 0?{}:r,i=n.enabled,a=i===void 0?!0:i,o=n.placement,s=o===void 0?"bottom":o,l=n.strategy,c=l===void 0?"absolute":l,u=n.modifiers,f=u===void 0?Lge:u,h=$b(n,["enabled","placement","strategy","modifiers"]),p=_.useRef(),m=_.useCallback(function(){var S;(S=p.current)==null||S.update()},[]),g=_.useCallback(function(){var S;(S=p.current)==null||S.forceUpdate()},[]),v=kme(_.useState({placement:s,update:m,forceUpdate:g,attributes:{},styles:{popper:C4(c),arrow:{}}})),y=v[0],x=v[1],b=_.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(E){var C=E.state,A={},T={};Object.keys(C.elements).forEach(function(I){A[I]=C.styles[I],T[I]=C.attributes[I]}),x({state:C,styles:A,attributes:T,update:m,forceUpdate:g,placement:C.placement})}}},[m,g,x]);return _.useEffect(function(){!p.current||!a||p.current.setOptions({placement:s,strategy:c,modifiers:[].concat(f,[b,jge])})},[c,s,b,a]),_.useEffect(function(){if(!(!a||t==null||e==null))return p.current=Dge(t,e,fr({},h,{placement:s,strategy:c,modifiers:[].concat(f,[Mge,b])})),function(){p.current!=null&&(p.current.destroy(),p.current=void 0,x(function(S){return fr({},S,{attributes:{},styles:{popper:C4(c)}})}))}},[a,t,e]),y}function Fge(t,e,r,n){var i=n&&typeof n!="boolean"?n.capture:n;t.removeEventListener(e,r,i),r.__once&&t.removeEventListener(e,r.__once,i)}function im(t,e,r,n){return Nme(t,e,r,n),function(){Fge(t,e,r,n)}}var Bge=function(){},Vge=Bge;const Uge=ot(Vge);function zge(t){return t&&"setState"in t?cP.findDOMNode(t):t??null}const Wge=function(t){return Zv(zge(t))};var Hge=27,T4=function(){};function Gge(t){return t.button===0}function qge(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var I4=function(e){return e&&("current"in e?e.current:e)};function Kge(t,e,r){var n=r===void 0?{}:r,i=n.disabled,a=n.clickTrigger,o=a===void 0?"click":a,s=_.useRef(!1),l=e||T4,c=_.useCallback(function(h){var p,m=I4(t);Uge(!!m,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),s.current=!m||qge(h)||!Gge(h)||!!Og(m,(p=h.composedPath==null?void 0:h.composedPath()[0])!=null?p:h.target)},[t]),u=m4(function(h){s.current||l(h)}),f=m4(function(h){h.keyCode===Hge&&l(h)});_.useEffect(function(){if(!(i||t==null)){var h=window.event,p=Wge(I4(t)),m=im(p,o,c,!0),g=im(p,o,function(x){if(x===h){h=void 0;return}u(x)}),v=im(p,"keyup",function(x){if(x===h){h=void 0;return}f(x)}),y=[];return"ontouchstart"in p.documentElement&&(y=[].slice.call(p.body.children).map(function(x){return im(x,"mousemove",T4)})),function(){m(),g(),v(),y.forEach(function(x){return x()})}}},[t,i,o,c,u,f])}function Yge(t){var e={};return Array.isArray(t)?(t==null||t.forEach(function(r){e[r.name]=r}),e):t||e}function Xge(t){return t===void 0&&(t={}),Array.isArray(t)?t:Object.keys(t).map(function(e){return t[e].name=e,t[e]})}function Qge(t){var e,r,n,i,a=t.enabled,o=t.enableEvents,s=t.placement,l=t.flip,c=t.offset,u=t.fixed,f=t.containerPadding,h=t.arrowElement,p=t.popperConfig,m=p===void 0?{}:p,g=Yge(m.modifiers);return fr({},m,{placement:s,enabled:a,strategy:u?"fixed":m.strategy,modifiers:Xge(fr({},g,{eventListeners:{enabled:o},preventOverflow:fr({},g.preventOverflow,{options:f?fr({padding:f},(e=g.preventOverflow)==null?void 0:e.options):(r=g.preventOverflow)==null?void 0:r.options}),offset:{options:fr({offset:c},(n=g.offset)==null?void 0:n.options)},arrow:fr({},g.arrow,{enabled:!!h,options:fr({},(i=g.arrow)==null?void 0:i.options,{element:h})}),flip:fr({enabled:!!l},g.flip)}))})}function Zge(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Jge(t,e){t.classList?t.classList.add(e):Zge(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function N4(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function eve(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=N4(t.className,e):t.setAttribute("class",N4(t.className&&t.className.baseVal||"",e))}var hy;function uO(t){if((!hy&&hy!==0||t)&&tO){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),hy=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return hy}var LS=function(e){var r;return typeof document>"u"?null:e==null?Zv().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(r=e)!=null&&r.nodeType&&e||null)};function P4(t,e){var r=_.useState(function(){return LS(t)}),n=r[0],i=r[1];if(!n){var a=LS(t);a&&i(a)}return _.useEffect(function(){},[e,n]),_.useEffect(function(){var o=LS(t);o!==n&&i(o)},[t,n]),n}const O4=t=>!t||typeof t=="function"?t:e=>{t.current=e};function tve(t,e){const r=O4(t),n=O4(e);return i=>{r&&r(i),n&&n(i)}}function rve(t,e){return _.useMemo(()=>tve(t,e),[t,e])}var dO=j.forwardRef(function(t,e){var r=t.flip,n=t.offset,i=t.placement,a=t.containerPadding,o=a===void 0?5:a,s=t.popperConfig,l=s===void 0?{}:s,c=t.transition,u=g4(),f=u[0],h=u[1],p=g4(),m=p[0],g=p[1],v=rve(h,e),y=P4(t.container),x=P4(t.target),b=_.useState(!t.show),S=b[0],E=b[1],C=$ge(x,f,Qge({placement:i,enableEvents:!!t.show,containerPadding:o||5,flip:r,offset:n,arrowElement:m,popperConfig:l})),A=C.styles,T=C.attributes,I=$b(C,["styles","attributes"]);t.show?S&&E(!1):!t.transition&&!S&&E(!0);var N=function(){E(!0),t.onExited&&t.onExited.apply(t,arguments)},O=t.show||c&&!S;if(Kge(f,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!O)return null;var R=t.children(fr({},I,{show:!!t.show,props:fr({},T.popper,{style:A.popper,ref:v}),arrowProps:fr({},T.arrow,{style:A.arrow,ref:g})}));if(c){var k=t.onExit,M=t.onExiting,U=t.onEnter,L=t.onEntering,z=t.onEntered;R=j.createElement(c,{in:t.show,appear:!0,onExit:k,onExiting:M,onExited:N,onEnter:U,onEntering:L,onEntered:z},R)}return y?cP.createPortal(R,y):null});dO.displayName="Overlay";dO.propTypes={show:oe.bool,placement:oe.oneOf(nO),target:oe.any,container:oe.any,flip:oe.bool,children:oe.func.isRequired,containerPadding:oe.number,popperConfig:oe.object,rootClose:oe.bool,rootCloseEvent:oe.oneOf(["click","mousedown"]),rootCloseDisabled:oe.bool,onHide:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(e.rootClose){var a;return(a=oe.func).isRequired.apply(a,[e].concat(n))}return oe.func.apply(oe,[e].concat(n))},transition:oe.elementType,onEnter:oe.func,onEntering:oe.func,onEntered:oe.func,onExit:oe.func,onExiting:oe.func,onExited:oe.func};function nve(){this.__data__=[],this.size=0}var ive=nve,ave=Qv;function ove(t,e){for(var r=t.length;r--;)if(ave(t[r][0],e))return r;return-1}var Ub=ove,sve=Ub,lve=Array.prototype,cve=lve.splice;function uve(t){var e=this.__data__,r=sve(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():cve.call(e,r,1),--this.size,!0}var dve=uve,fve=Ub;function hve(t){var e=this.__data__,r=fve(e,t);return r<0?void 0:e[r][1]}var pve=hve,mve=Ub;function gve(t){return mve(this.__data__,t)>-1}var vve=gve,yve=Ub;function xve(t,e){var r=this.__data__,n=yve(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var wve=xve,bve=ive,_ve=dve,Sve=pve,Eve=vve,Ave=wve;function Fh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Fh.prototype.clear=bve;Fh.prototype.delete=_ve;Fh.prototype.get=Sve;Fh.prototype.has=Eve;Fh.prototype.set=Ave;var zb=Fh,Cve=zb;function Tve(){this.__data__=new Cve,this.size=0}var Ive=Tve;function Nve(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var Pve=Nve;function Ove(t){return this.__data__.get(t)}var kve=Ove;function Rve(t){return this.__data__.has(t)}var Dve=Rve,jve=fo,Mve=jve["__core-js_shared__"],Lve=Mve,$S=Lve,k4=function(){var t=/[^.]+$/.exec($S&&$S.keys&&$S.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function $ve(t){return!!k4&&k4 in t}var Fve=$ve,Bve=Function.prototype,Vve=Bve.toString;function Uve(t){if(t!=null){try{return Vve.call(t)}catch{}try{return t+""}catch{}}return""}var TW=Uve,zve=Bb,Wve=Fve,Hve=Ia,Gve=TW,qve=/[\\^$.*+?()[\]{}|]/g,Kve=/^\[object .+?Constructor\]$/,Yve=Function.prototype,Xve=Object.prototype,Qve=Yve.toString,Zve=Xve.hasOwnProperty,Jve=RegExp("^"+Qve.call(Zve).replace(qve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function e0e(t){if(!Hve(t)||Wve(t))return!1;var e=zve(t)?Jve:Kve;return e.test(Gve(t))}var t0e=e0e;function r0e(t,e){return t==null?void 0:t[e]}var n0e=r0e,i0e=t0e,a0e=n0e;function o0e(t,e){var r=a0e(t,e);return i0e(r)?r:void 0}var Ju=o0e,s0e=Ju,l0e=fo,c0e=s0e(l0e,"Map"),fO=c0e,u0e=Ju,d0e=u0e(Object,"create"),Wb=d0e,R4=Wb;function f0e(){this.__data__=R4?R4(null):{},this.size=0}var h0e=f0e;function p0e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var m0e=p0e,g0e=Wb,v0e="__lodash_hash_undefined__",y0e=Object.prototype,x0e=y0e.hasOwnProperty;function w0e(t){var e=this.__data__;if(g0e){var r=e[t];return r===v0e?void 0:r}return x0e.call(e,t)?e[t]:void 0}var b0e=w0e,_0e=Wb,S0e=Object.prototype,E0e=S0e.hasOwnProperty;function A0e(t){var e=this.__data__;return _0e?e[t]!==void 0:E0e.call(e,t)}var C0e=A0e,T0e=Wb,I0e="__lodash_hash_undefined__";function N0e(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=T0e&&e===void 0?I0e:e,this}var P0e=N0e,O0e=h0e,k0e=m0e,R0e=b0e,D0e=C0e,j0e=P0e;function Bh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Bh.prototype.clear=O0e;Bh.prototype.delete=k0e;Bh.prototype.get=R0e;Bh.prototype.has=D0e;Bh.prototype.set=j0e;var M0e=Bh,D4=M0e,L0e=zb,$0e=fO;function F0e(){this.size=0,this.__data__={hash:new D4,map:new($0e||L0e),string:new D4}}var B0e=F0e;function V0e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var U0e=V0e,z0e=U0e;function W0e(t,e){var r=t.__data__;return z0e(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Hb=W0e,H0e=Hb;function G0e(t){var e=H0e(this,t).delete(t);return this.size-=e?1:0,e}var q0e=G0e,K0e=Hb;function Y0e(t){return K0e(this,t).get(t)}var X0e=Y0e,Q0e=Hb;function Z0e(t){return Q0e(this,t).has(t)}var J0e=Z0e,eye=Hb;function tye(t,e){var r=eye(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var rye=tye,nye=B0e,iye=q0e,aye=X0e,oye=J0e,sye=rye;function Vh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Vh.prototype.clear=nye;Vh.prototype.delete=iye;Vh.prototype.get=aye;Vh.prototype.has=oye;Vh.prototype.set=sye;var hO=Vh,lye=zb,cye=fO,uye=hO,dye=200;function fye(t,e){var r=this.__data__;if(r instanceof lye){var n=r.__data__;if(!cye||n.length<dye-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new uye(n)}return r.set(t,e),this.size=r.size,this}var hye=fye,pye=zb,mye=Ive,gye=Pve,vye=kve,yye=Dve,xye=hye;function Uh(t){var e=this.__data__=new pye(t);this.size=e.size}Uh.prototype.clear=mye;Uh.prototype.delete=gye;Uh.prototype.get=vye;Uh.prototype.has=yye;Uh.prototype.set=xye;var pO=Uh,wye="__lodash_hash_undefined__";function bye(t){return this.__data__.set(t,wye),this}var _ye=bye;function Sye(t){return this.__data__.has(t)}var Eye=Sye,Aye=hO,Cye=_ye,Tye=Eye;function bx(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Aye;++e<r;)this.add(t[e])}bx.prototype.add=bx.prototype.push=Cye;bx.prototype.has=Tye;var IW=bx;function Iye(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var NW=Iye;function Nye(t,e){return t.has(e)}var PW=Nye,Pye=IW,Oye=NW,kye=PW,Rye=1,Dye=2;function jye(t,e,r,n,i,a){var o=r&Rye,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,p=r&Dye?new Pye:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var m=t[f],g=e[f];if(n)var v=o?n(g,m,f,e,t,a):n(m,g,f,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!Oye(e,function(y,x){if(!kye(p,x)&&(m===y||i(m,y,r,n,a)))return p.push(x)})){h=!1;break}}else if(!(m===g||i(m,g,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var OW=jye,Mye=fo,Lye=Mye.Uint8Array,kW=Lye;function $ye(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var Fye=$ye;function Bye(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var mO=Bye,j4=Dh,M4=kW,Vye=Qv,Uye=OW,zye=Fye,Wye=mO,Hye=1,Gye=2,qye="[object Boolean]",Kye="[object Date]",Yye="[object Error]",Xye="[object Map]",Qye="[object Number]",Zye="[object RegExp]",Jye="[object Set]",e1e="[object String]",t1e="[object Symbol]",r1e="[object ArrayBuffer]",n1e="[object DataView]",L4=j4?j4.prototype:void 0,FS=L4?L4.valueOf:void 0;function i1e(t,e,r,n,i,a,o){switch(r){case n1e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case r1e:return!(t.byteLength!=e.byteLength||!a(new M4(t),new M4(e)));case qye:case Kye:case Qye:return Vye(+t,+e);case Yye:return t.name==e.name&&t.message==e.message;case Zye:case e1e:return t==e+"";case Xye:var s=zye;case Jye:var l=n&Hye;if(s||(s=Wye),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;n|=Gye,o.set(t,e);var u=Uye(s(t),s(e),n,i,a,o);return o.delete(t),u;case t1e:if(FS)return FS.call(t)==FS.call(e)}return!1}var a1e=i1e;function o1e(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var gO=o1e,s1e=Array.isArray,Qn=s1e,l1e=gO,c1e=Qn;function u1e(t,e,r){var n=e(t);return c1e(t)?n:l1e(n,r(t))}var RW=u1e;function d1e(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var f1e=d1e;function h1e(){return[]}var DW=h1e,p1e=f1e,m1e=DW,g1e=Object.prototype,v1e=g1e.propertyIsEnumerable,$4=Object.getOwnPropertySymbols,y1e=$4?function(t){return t==null?[]:(t=Object(t),p1e($4(t),function(e){return v1e.call(t,e)}))}:m1e,vO=y1e;function x1e(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var w1e=x1e,b1e=Gs,_1e=ho,S1e="[object Arguments]";function E1e(t){return _1e(t)&&b1e(t)==S1e}var A1e=E1e,F4=A1e,C1e=ho,jW=Object.prototype,T1e=jW.hasOwnProperty,I1e=jW.propertyIsEnumerable,N1e=F4(function(){return arguments}())?F4:function(t){return C1e(t)&&T1e.call(t,"callee")&&!I1e.call(t,"callee")},yO=N1e,_x={exports:{}};function P1e(){return!1}var O1e=P1e;_x.exports;(function(t,e){var r=fo,n=O1e,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||n;t.exports=c})(_x,_x.exports);var Gb=_x.exports,k1e=Gs,R1e=ZP,D1e=ho,j1e="[object Arguments]",M1e="[object Array]",L1e="[object Boolean]",$1e="[object Date]",F1e="[object Error]",B1e="[object Function]",V1e="[object Map]",U1e="[object Number]",z1e="[object Object]",W1e="[object RegExp]",H1e="[object Set]",G1e="[object String]",q1e="[object WeakMap]",K1e="[object ArrayBuffer]",Y1e="[object DataView]",X1e="[object Float32Array]",Q1e="[object Float64Array]",Z1e="[object Int8Array]",J1e="[object Int16Array]",exe="[object Int32Array]",txe="[object Uint8Array]",rxe="[object Uint8ClampedArray]",nxe="[object Uint16Array]",ixe="[object Uint32Array]",Wt={};Wt[X1e]=Wt[Q1e]=Wt[Z1e]=Wt[J1e]=Wt[exe]=Wt[txe]=Wt[rxe]=Wt[nxe]=Wt[ixe]=!0;Wt[j1e]=Wt[M1e]=Wt[K1e]=Wt[L1e]=Wt[Y1e]=Wt[$1e]=Wt[F1e]=Wt[B1e]=Wt[V1e]=Wt[U1e]=Wt[z1e]=Wt[W1e]=Wt[H1e]=Wt[G1e]=Wt[q1e]=!1;function axe(t){return D1e(t)&&R1e(t.length)&&!!Wt[k1e(t)]}var oxe=axe;function sxe(t){return function(e){return t(e)}}var qb=sxe,Sx={exports:{}};Sx.exports;(function(t,e){var r=cW,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(Sx,Sx.exports);var xO=Sx.exports,lxe=oxe,cxe=qb,B4=xO,V4=B4&&B4.isTypedArray,uxe=V4?cxe(V4):lxe,wO=uxe,dxe=w1e,fxe=yO,hxe=Qn,pxe=Gb,mxe=JP,gxe=wO,vxe=Object.prototype,yxe=vxe.hasOwnProperty;function xxe(t,e){var r=hxe(t),n=!r&&fxe(t),i=!r&&!n&&pxe(t),a=!r&&!n&&!i&&gxe(t),o=r||n||i||a,s=o?dxe(t.length,String):[],l=s.length;for(var c in t)(e||yxe.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||mxe(c,l)))&&s.push(c);return s}var MW=xxe,wxe=Object.prototype;function bxe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||wxe;return t===r}var bO=bxe;function _xe(t,e){return function(r){return t(e(r))}}var LW=_xe,Sxe=LW,Exe=Sxe(Object.keys,Object),Axe=Exe,Cxe=bO,Txe=Axe,Ixe=Object.prototype,Nxe=Ixe.hasOwnProperty;function Pxe(t){if(!Cxe(t))return Txe(t);var e=[];for(var r in Object(t))Nxe.call(t,r)&&r!="constructor"&&e.push(r);return e}var Oxe=Pxe,kxe=MW,Rxe=Oxe,Dxe=Mh;function jxe(t){return Dxe(t)?kxe(t):Rxe(t)}var zh=jxe,Mxe=RW,Lxe=vO,$xe=zh;function Fxe(t){return Mxe(t,$xe,Lxe)}var $W=Fxe,U4=$W,Bxe=1,Vxe=Object.prototype,Uxe=Vxe.hasOwnProperty;function zxe(t,e,r,n,i,a){var o=r&Bxe,s=U4(t),l=s.length,c=U4(e),u=c.length;if(l!=u&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in e:Uxe.call(e,h)))return!1}var p=a.get(t),m=a.get(e);if(p&&m)return p==e&&m==t;var g=!0;a.set(t,e),a.set(e,t);for(var v=o;++f<l;){h=s[f];var y=t[h],x=e[h];if(n)var b=o?n(x,y,h,e,t,a):n(y,x,h,t,e,a);if(!(b===void 0?y===x||i(y,x,r,n,a):b)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var S=t.constructor,E=e.constructor;S!=E&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof E=="function"&&E instanceof E)&&(g=!1)}return a.delete(t),a.delete(e),g}var Wxe=zxe,Hxe=Ju,Gxe=fo,qxe=Hxe(Gxe,"DataView"),Kxe=qxe,Yxe=Ju,Xxe=fo,Qxe=Yxe(Xxe,"Promise"),Zxe=Qxe,Jxe=Ju,ewe=fo,twe=Jxe(ewe,"Set"),FW=twe,rwe=Ju,nwe=fo,iwe=rwe(nwe,"WeakMap"),awe=iwe,NC=Kxe,PC=fO,OC=Zxe,kC=FW,RC=awe,BW=Gs,Wh=TW,z4="[object Map]",owe="[object Object]",W4="[object Promise]",H4="[object Set]",G4="[object WeakMap]",q4="[object DataView]",swe=Wh(NC),lwe=Wh(PC),cwe=Wh(OC),uwe=Wh(kC),dwe=Wh(RC),Wc=BW;(NC&&Wc(new NC(new ArrayBuffer(1)))!=q4||PC&&Wc(new PC)!=z4||OC&&Wc(OC.resolve())!=W4||kC&&Wc(new kC)!=H4||RC&&Wc(new RC)!=G4)&&(Wc=function(t){var e=BW(t),r=e==owe?t.constructor:void 0,n=r?Wh(r):"";if(n)switch(n){case swe:return q4;case lwe:return z4;case cwe:return W4;case uwe:return H4;case dwe:return G4}return e});var Kb=Wc,BS=pO,fwe=OW,hwe=a1e,pwe=Wxe,K4=Kb,Y4=Qn,X4=Gb,mwe=wO,gwe=1,Q4="[object Arguments]",Z4="[object Array]",py="[object Object]",vwe=Object.prototype,J4=vwe.hasOwnProperty;function ywe(t,e,r,n,i,a){var o=Y4(t),s=Y4(e),l=o?Z4:K4(t),c=s?Z4:K4(e);l=l==Q4?py:l,c=c==Q4?py:c;var u=l==py,f=c==py,h=l==c;if(h&&X4(t)){if(!X4(e))return!1;o=!0,u=!1}if(h&&!u)return a||(a=new BS),o||mwe(t)?fwe(t,e,r,n,i,a):hwe(t,e,l,r,n,i,a);if(!(r&gwe)){var p=u&&J4.call(t,"__wrapped__"),m=f&&J4.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,v=m?e.value():e;return a||(a=new BS),i(g,v,r,n,a)}}return h?(a||(a=new BS),pwe(t,e,r,n,i,a)):!1}var xwe=ywe,wwe=xwe,eM=ho;function VW(t,e,r,n,i){return t===e?!0:t==null||e==null||!eM(t)&&!eM(e)?t!==t&&e!==e:wwe(t,e,r,n,VW,i)}var _O=VW,bwe=_O;function _we(t,e){return bwe(t,e)}var Swe=_we;const $f=ot(Swe);function VS(t,e){var r=eO(t);return r?r.innerHeight:fu(t).height}function UW(t,e,r){t.closest&&!r&&t.closest(e);var n=t;do{if(Cme(n,e))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}function Ewe(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var zW=Ewe,Awe=pO,Cwe=_O,Twe=1,Iwe=2;function Nwe(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var l=s[0],c=t[l],u=s[1];if(o&&s[2]){if(c===void 0&&!(l in t))return!1}else{var f=new Awe;if(n)var h=n(c,u,l,t,e,f);if(!(h===void 0?Cwe(u,c,Twe|Iwe,n,f):h))return!1}}return!0}var Pwe=Nwe,Owe=Ia;function kwe(t){return t===t&&!Owe(t)}var WW=kwe,Rwe=WW,Dwe=zh;function jwe(t){for(var e=Dwe(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Rwe(i)]}return e}var Mwe=jwe;function Lwe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var HW=Lwe,$we=Pwe,Fwe=Mwe,Bwe=HW;function Vwe(t){var e=Fwe(t);return e.length==1&&e[0][2]?Bwe(e[0][0],e[0][1]):function(r){return r===t||$we(r,t,e)}}var Uwe=Vwe,zwe=Qn,Wwe=$h,Hwe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gwe=/^\w*$/;function qwe(t,e){if(zwe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Wwe(t)?!0:Gwe.test(t)||!Hwe.test(t)||e!=null&&t in Object(e)}var SO=qwe,GW=hO,Kwe="Expected a function";function EO(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Kwe);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(EO.Cache||GW),r}EO.Cache=GW;var qW=EO;const Ywe=ot(qW);var Xwe=qW,Qwe=500;function Zwe(t){var e=Xwe(t,function(n){return r.size===Qwe&&r.clear(),n}),r=e.cache;return e}var Jwe=Zwe,ebe=Jwe,tbe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rbe=/\\(\\)?/g,nbe=ebe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(tbe,function(r,n,i,a){e.push(i?a.replace(rbe,"$1"):n||r)}),e}),ibe=nbe;function abe(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Yb=abe,tM=Dh,obe=Yb,sbe=Qn,lbe=$h,rM=tM?tM.prototype:void 0,nM=rM?rM.toString:void 0;function KW(t){if(typeof t=="string")return t;if(sbe(t))return obe(t,KW)+"";if(lbe(t))return nM?nM.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var cbe=KW,ube=cbe;function dbe(t){return t==null?"":ube(t)}var YW=dbe,fbe=Qn,hbe=SO,pbe=ibe,mbe=YW;function gbe(t,e){return fbe(t)?t:hbe(t,e)?[t]:pbe(mbe(t))}var Xb=gbe,vbe=$h;function ybe(t){if(typeof t=="string"||vbe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var t0=ybe,xbe=Xb,wbe=t0;function bbe(t,e){e=xbe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[wbe(e[r++])];return r&&r==n?t:void 0}var Qb=bbe,_be=Qb;function Sbe(t,e,r){var n=t==null?void 0:_be(t,e);return n===void 0?r:n}var XW=Sbe;const wa=ot(XW);function Ebe(t,e){return t!=null&&e in Object(t)}var Abe=Ebe,Cbe=Xb,Tbe=yO,Ibe=Qn,Nbe=JP,Pbe=ZP,Obe=t0;function kbe(t,e,r){e=Cbe(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=Obe(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&Pbe(i)&&Nbe(o,i)&&(Ibe(t)||Tbe(t)))}var Rbe=kbe,Dbe=Abe,jbe=Rbe;function Mbe(t,e){return t!=null&&jbe(t,e,Dbe)}var Lbe=Mbe,$be=_O,Fbe=XW,Bbe=Lbe,Vbe=SO,Ube=WW,zbe=HW,Wbe=t0,Hbe=1,Gbe=2;function qbe(t,e){return Vbe(t)&&Ube(e)?zbe(Wbe(t),e):function(r){var n=Fbe(r,t);return n===void 0&&n===e?Bbe(r,t):$be(e,n,Hbe|Gbe)}}var Kbe=qbe;function Ybe(t){return t}var Hh=Ybe;function Xbe(t){return function(e){return e==null?void 0:e[t]}}var Qbe=Xbe,Zbe=Qb;function Jbe(t){return function(e){return Zbe(e,t)}}var e2e=Jbe,t2e=Qbe,r2e=e2e,n2e=SO,i2e=t0;function a2e(t){return n2e(t)?t2e(i2e(t)):r2e(t)}var o2e=a2e,s2e=Uwe,l2e=Kbe,c2e=Hh,u2e=Qn,d2e=o2e;function f2e(t){return typeof t=="function"?t:t==null?c2e:typeof t=="object"?u2e(t)?l2e(t[0],t[1]):s2e(t):d2e(t)}var qs=f2e,h2e=zW,p2e=qs,m2e=hW,g2e=Math.max;function v2e(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:m2e(r);return i<0&&(i=g2e(n+i,0)),h2e(t,p2e(e),i)}var QW=v2e;const y2e=ot(QW);var x2e=Math.ceil,w2e=Math.max;function b2e(t,e,r,n){for(var i=-1,a=w2e(x2e((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var _2e=b2e,S2e=_2e,E2e=Lh,US=fW;function A2e(t){return function(e,r,n){return n&&typeof n!="number"&&E2e(e,r,n)&&(r=n=void 0),e=US(e),r===void 0?(r=e,e=0):r=US(r),n=n===void 0?e<r?1:-1:US(n),S2e(e,r,n,t)}}var C2e=A2e,T2e=C2e,I2e=T2e(),N2e=I2e;const Dg=ot(N2e);var iM=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function P2e(t,e){return!!(t===e||iM(t)&&iM(e))}function O2e(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!P2e(t[r],e[r]))return!1;return!0}function ZW(t,e){e===void 0&&(e=O2e);var r=null;function n(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(r&&r.lastThis===this&&e(i,r.lastArgs))return r.lastResult;var o=t.apply(this,i);return r={lastResult:o,lastArgs:i,lastThis:this},o}return n.clear=function(){r=null},n}function DC(t,e){var r=eO(t);return r?r.innerWidth:fu(t).width}var aM=Dh,k2e=yO,R2e=Qn,oM=aM?aM.isConcatSpreadable:void 0;function D2e(t){return R2e(t)||k2e(t)||!!(oM&&t&&t[oM])}var j2e=D2e,M2e=gO,L2e=j2e;function JW(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=L2e),i||(i=[]);++a<o;){var s=t[a];e>0&&r(s)?e>1?JW(s,e-1,r,n,i):M2e(i,s):n||(i[i.length]=s)}return i}var AO=JW;function $2e(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var l=o[t?s:++i];if(r(a[l],l,a)===!1)break}return e}}var F2e=$2e,B2e=F2e,V2e=B2e(),U2e=V2e,z2e=U2e,W2e=zh;function H2e(t,e){return t&&z2e(t,e,W2e)}var CO=H2e,G2e=Mh;function q2e(t,e){return function(r,n){if(r==null)return r;if(!G2e(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var K2e=q2e,Y2e=CO,X2e=K2e,Q2e=X2e(Y2e),TO=Q2e,Z2e=TO,J2e=Mh;function e_e(t,e){var r=-1,n=J2e(t)?Array(t.length):[];return Z2e(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var eH=e_e;function t_e(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var r_e=t_e,sM=$h;function n_e(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=sM(t),o=e!==void 0,s=e===null,l=e===e,c=sM(e);if(!s&&!c&&!a&&t>e||a&&o&&l&&!s&&!c||n&&o&&l||!r&&l||!i)return 1;if(!n&&!a&&!c&&t<e||c&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!l)return-1}return 0}var i_e=n_e,a_e=i_e;function o_e(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,o=i.length,s=r.length;++n<o;){var l=a_e(i[n],a[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return t.index-e.index}var s_e=o_e,zS=Yb,l_e=Qb,c_e=qs,u_e=eH,d_e=r_e,f_e=qb,h_e=s_e,p_e=Hh,m_e=Qn;function g_e(t,e,r){e.length?e=zS(e,function(a){return m_e(a)?function(o){return l_e(o,a.length===1?a[0]:a)}:a}):e=[p_e];var n=-1;e=zS(e,f_e(c_e));var i=u_e(t,function(a,o,s){var l=zS(e,function(c){return c(a)});return{criteria:l,index:++n,value:a}});return d_e(i,function(a,o){return h_e(a,o,r)})}var v_e=g_e;function y_e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var x_e=y_e,w_e=x_e,lM=Math.max;function b_e(t,e,r){return e=lM(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=lM(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),w_e(t,this,s)}}var tH=b_e;function __e(t){return function(){return t}}var S_e=__e,E_e=Ju,A_e=function(){try{var t=E_e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),rH=A_e,C_e=S_e,cM=rH,T_e=Hh,I_e=cM?function(t,e){return cM(t,"toString",{configurable:!0,enumerable:!1,value:C_e(e),writable:!0})}:T_e,N_e=I_e,P_e=800,O_e=16,k_e=Date.now;function R_e(t){var e=0,r=0;return function(){var n=k_e(),i=O_e-(n-r);if(r=n,i>0){if(++e>=P_e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var D_e=R_e,j_e=N_e,M_e=D_e,L_e=M_e(j_e),nH=L_e,$_e=Hh,F_e=tH,B_e=nH;function V_e(t,e){return B_e(F_e(t,e,$_e),t+"")}var iH=V_e,U_e=AO,z_e=v_e,W_e=iH,uM=Lh,H_e=W_e(function(t,e){if(t==null)return[];var r=e.length;return r>1&&uM(t,e[0],e[1])?e=[]:r>2&&uM(e[0],e[1],e[2])&&(e=[e[0]]),z_e(t,U_e(e,1),[])}),G_e=H_e;const Zb=ot(G_e);function aH(t){return Hz(t)||lW(t)||KP(t)||Gz()}function q_e(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var K_e=q_e,Y_e=Ia,X_e=bO,Q_e=K_e,Z_e=Object.prototype,J_e=Z_e.hasOwnProperty;function eSe(t){if(!Y_e(t))return Q_e(t);var e=X_e(t),r=[];for(var n in t)n=="constructor"&&(e||!J_e.call(t,n))||r.push(n);return r}var tSe=eSe,rSe=MW,nSe=tSe,iSe=Mh;function aSe(t){return iSe(t)?rSe(t,!0):nSe(t)}var Jb=aSe,oSe=iH,sSe=Qv,lSe=Lh,cSe=Jb,oH=Object.prototype,uSe=oH.hasOwnProperty,dSe=oSe(function(t,e){t=Object(t);var r=-1,n=e.length,i=n>2?e[2]:void 0;for(i&&lSe(e[0],e[1],i)&&(n=1);++r<n;)for(var a=e[r],o=cSe(a),s=-1,l=o.length;++s<l;){var c=o[s],u=t[c];(u===void 0||sSe(u,oH[c])&&!uSe.call(t,c))&&(t[c]=a[c])}return t}),fSe=dSe;const hSe=ot(fSe);var dM=rH;function pSe(t,e,r){e=="__proto__"&&dM?dM(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var IO=pSe,mSe=IO,gSe=CO,vSe=qs;function ySe(t,e){var r={};return e=vSe(e),gSe(t,function(n,i,a){mSe(r,i,e(n,i,a))}),r}var xSe=ySe;const sH=ot(xSe);function wSe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var lH=wSe,bSe=IO,_Se=Qv,SSe=Object.prototype,ESe=SSe.hasOwnProperty;function ASe(t,e,r){var n=t[e];(!(ESe.call(t,e)&&_Se(n,r))||r===void 0&&!(e in t))&&bSe(t,e,r)}var cH=ASe,CSe=cH,TSe=IO;function ISe(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],l=n?n(r[s],t[s],s,r,t):void 0;l===void 0&&(l=t[s]),i?TSe(r,s,l):CSe(r,s,l)}return r}var r0=ISe,NSe=r0,PSe=zh;function OSe(t,e){return t&&NSe(e,PSe(e),t)}var kSe=OSe,RSe=r0,DSe=Jb;function jSe(t,e){return t&&RSe(e,DSe(e),t)}var MSe=jSe,Ex={exports:{}};Ex.exports;(function(t,e){var r=fo,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var f=c.length,h=s?s(f):new c.constructor(f);return c.copy(h),h}t.exports=l})(Ex,Ex.exports);var LSe=Ex.exports;function $Se(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var FSe=$Se,BSe=r0,VSe=vO;function USe(t,e){return BSe(t,VSe(t),e)}var zSe=USe,WSe=LW,HSe=WSe(Object.getPrototypeOf,Object),e2=HSe,GSe=gO,qSe=e2,KSe=vO,YSe=DW,XSe=Object.getOwnPropertySymbols,QSe=XSe?function(t){for(var e=[];t;)GSe(e,KSe(t)),t=qSe(t);return e}:YSe,uH=QSe,ZSe=r0,JSe=uH;function eEe(t,e){return ZSe(t,JSe(t),e)}var tEe=eEe,rEe=RW,nEe=uH,iEe=Jb;function aEe(t){return rEe(t,iEe,nEe)}var dH=aEe,oEe=Object.prototype,sEe=oEe.hasOwnProperty;function lEe(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&sEe.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var cEe=lEe,fM=kW;function uEe(t){var e=new t.constructor(t.byteLength);return new fM(e).set(new fM(t)),e}var NO=uEe,dEe=NO;function fEe(t,e){var r=e?dEe(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var hEe=fEe,pEe=/\w*$/;function mEe(t){var e=new t.constructor(t.source,pEe.exec(t));return e.lastIndex=t.lastIndex,e}var gEe=mEe,hM=Dh,pM=hM?hM.prototype:void 0,mM=pM?pM.valueOf:void 0;function vEe(t){return mM?Object(mM.call(t)):{}}var yEe=vEe,xEe=NO;function wEe(t,e){var r=e?xEe(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var bEe=wEe,_Ee=NO,SEe=hEe,EEe=gEe,AEe=yEe,CEe=bEe,TEe="[object Boolean]",IEe="[object Date]",NEe="[object Map]",PEe="[object Number]",OEe="[object RegExp]",kEe="[object Set]",REe="[object String]",DEe="[object Symbol]",jEe="[object ArrayBuffer]",MEe="[object DataView]",LEe="[object Float32Array]",$Ee="[object Float64Array]",FEe="[object Int8Array]",BEe="[object Int16Array]",VEe="[object Int32Array]",UEe="[object Uint8Array]",zEe="[object Uint8ClampedArray]",WEe="[object Uint16Array]",HEe="[object Uint32Array]";function GEe(t,e,r){var n=t.constructor;switch(e){case jEe:return _Ee(t);case TEe:case IEe:return new n(+t);case MEe:return SEe(t,r);case LEe:case $Ee:case FEe:case BEe:case VEe:case UEe:case zEe:case WEe:case HEe:return CEe(t,r);case NEe:return new n;case PEe:case REe:return new n(t);case OEe:return EEe(t);case kEe:return new n;case DEe:return AEe(t)}}var qEe=GEe,KEe=Ia,gM=Object.create,YEe=function(){function t(){}return function(e){if(!KEe(e))return{};if(gM)return gM(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),fH=YEe,XEe=fH,QEe=e2,ZEe=bO;function JEe(t){return typeof t.constructor=="function"&&!ZEe(t)?XEe(QEe(t)):{}}var eAe=JEe,tAe=Kb,rAe=ho,nAe="[object Map]";function iAe(t){return rAe(t)&&tAe(t)==nAe}var aAe=iAe,oAe=aAe,sAe=qb,vM=xO,yM=vM&&vM.isMap,lAe=yM?sAe(yM):oAe,cAe=lAe,uAe=Kb,dAe=ho,fAe="[object Set]";function hAe(t){return dAe(t)&&uAe(t)==fAe}var pAe=hAe,mAe=pAe,gAe=qb,xM=xO,wM=xM&&xM.isSet,vAe=wM?gAe(wM):mAe,yAe=vAe,xAe=pO,wAe=lH,bAe=cH,_Ae=kSe,SAe=MSe,EAe=LSe,AAe=FSe,CAe=zSe,TAe=tEe,IAe=$W,NAe=dH,PAe=Kb,OAe=cEe,kAe=qEe,RAe=eAe,DAe=Qn,jAe=Gb,MAe=cAe,LAe=Ia,$Ae=yAe,FAe=zh,BAe=Jb,VAe=1,UAe=2,zAe=4,hH="[object Arguments]",WAe="[object Array]",HAe="[object Boolean]",GAe="[object Date]",qAe="[object Error]",pH="[object Function]",KAe="[object GeneratorFunction]",YAe="[object Map]",XAe="[object Number]",mH="[object Object]",QAe="[object RegExp]",ZAe="[object Set]",JAe="[object String]",eCe="[object Symbol]",tCe="[object WeakMap]",rCe="[object ArrayBuffer]",nCe="[object DataView]",iCe="[object Float32Array]",aCe="[object Float64Array]",oCe="[object Int8Array]",sCe="[object Int16Array]",lCe="[object Int32Array]",cCe="[object Uint8Array]",uCe="[object Uint8ClampedArray]",dCe="[object Uint16Array]",fCe="[object Uint32Array]",Mt={};Mt[hH]=Mt[WAe]=Mt[rCe]=Mt[nCe]=Mt[HAe]=Mt[GAe]=Mt[iCe]=Mt[aCe]=Mt[oCe]=Mt[sCe]=Mt[lCe]=Mt[YAe]=Mt[XAe]=Mt[mH]=Mt[QAe]=Mt[ZAe]=Mt[JAe]=Mt[eCe]=Mt[cCe]=Mt[uCe]=Mt[dCe]=Mt[fCe]=!0;Mt[qAe]=Mt[pH]=Mt[tCe]=!1;function h1(t,e,r,n,i,a){var o,s=e&VAe,l=e&UAe,c=e&zAe;if(r&&(o=i?r(t,n,i,a):r(t)),o!==void 0)return o;if(!LAe(t))return t;var u=DAe(t);if(u){if(o=OAe(t),!s)return AAe(t,o)}else{var f=PAe(t),h=f==pH||f==KAe;if(jAe(t))return EAe(t,s);if(f==mH||f==hH||h&&!i){if(o=l||h?{}:RAe(t),!s)return l?TAe(t,SAe(o,t)):CAe(t,_Ae(o,t))}else{if(!Mt[f])return i?t:{};o=kAe(t,f,s)}}a||(a=new xAe);var p=a.get(t);if(p)return p;a.set(t,o),$Ae(t)?t.forEach(function(v){o.add(h1(v,e,r,v,t,a))}):MAe(t)&&t.forEach(function(v,y){o.set(y,h1(v,e,r,y,t,a))});var m=c?l?NAe:IAe:l?BAe:FAe,g=u?void 0:m(t);return wAe(g||t,function(v,y){g&&(y=v,v=t[y]),bAe(o,y,h1(v,e,r,y,t,a))}),o}var hCe=h1;function pCe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var gH=pCe;const mCe=ot(gH);var gCe=Qb,vCe=QP;function yCe(t,e){return e.length<2?t:gCe(t,vCe(e,0,-1))}var xCe=yCe,wCe=Xb,bCe=gH,_Ce=xCe,SCe=t0;function ECe(t,e){return e=wCe(e,t),t=_Ce(t,e),t==null||delete t[SCe(bCe(e))]}var ACe=ECe,CCe=Gs,TCe=e2,ICe=ho,NCe="[object Object]",PCe=Function.prototype,OCe=Object.prototype,vH=PCe.toString,kCe=OCe.hasOwnProperty,RCe=vH.call(Object);function DCe(t){if(!ICe(t)||CCe(t)!=NCe)return!1;var e=TCe(t);if(e===null)return!0;var r=kCe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&vH.call(r)==RCe}var yH=DCe;const jCe=ot(yH);var MCe=yH;function LCe(t){return MCe(t)?void 0:t}var $Ce=LCe,FCe=AO;function BCe(t){var e=t==null?0:t.length;return e?FCe(t,1):[]}var VCe=BCe,UCe=VCe,zCe=tH,WCe=nH;function HCe(t){return WCe(zCe(t,void 0,UCe),t+"")}var GCe=HCe,qCe=Yb,KCe=hCe,YCe=ACe,XCe=Xb,QCe=r0,ZCe=$Ce,JCe=GCe,eTe=dH,tTe=1,rTe=2,nTe=4,iTe=JCe(function(t,e){var r={};if(t==null)return r;var n=!1;e=qCe(e,function(a){return a=XCe(a,t),n||(n=a.length>1),a}),QCe(t,eTe(t),r),n&&(r=KCe(r,tTe|rTe|nTe,ZCe));for(var i=e.length;i--;)YCe(r,e[i]);return r}),aTe=iTe;const oTe=ot(aTe);var sTe=lH,lTe=fH,cTe=CO,uTe=qs,dTe=e2,fTe=Qn,hTe=Gb,pTe=Bb,mTe=Ia,gTe=wO;function vTe(t,e,r){var n=fTe(t),i=n||hTe(t)||gTe(t);if(e=uTe(e),r==null){var a=t&&t.constructor;i?r=n?new a:[]:mTe(t)?r=pTe(a)?lTe(dTe(t)):{}:r={}}return(i?sTe:cTe)(t,function(o,s,l){return e(r,o,s,l)}),r}var yTe=vTe;const xTe=ot(yTe);var wTe={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Wi,function(){return function(r,n,i){n.prototype.isBetween=function(a,o,s,l){var c=i(a),u=i(o),f=(l=l||"()")[0]==="(",h=l[1]===")";return(f?this.isAfter(c,s):!this.isBefore(c,s))&&(h?this.isBefore(u,s):!this.isAfter(u,s))||(f?this.isBefore(c,s):!this.isAfter(c,s))&&(h?this.isAfter(u,s):!this.isBefore(u,s))}}})})(wTe);var bTe={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Wi,function(){return function(r,n){n.prototype.isSameOrAfter=function(i,a){return this.isSame(i,a)||this.isAfter(i,a)}}})})(bTe);var _Te={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Wi,function(){return function(r,n){n.prototype.isSameOrBefore=function(i,a){return this.isSame(i,a)||this.isBefore(i,a)}}})})(_Te);var STe={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Wi,function(){return function(r,n,i){var a=n.prototype,o=function(f){return f&&(f.indexOf?f:f.s)},s=function(f,h,p,m,g){var v=f.name?f:f.$locale(),y=o(v[h]),x=o(v[p]),b=y||x.map(function(E){return E.slice(0,m)});if(!g)return b;var S=v.weekStart;return b.map(function(E,C){return b[(C+(S||0))%7]})},l=function(){return i.Ls[i.locale()]},c=function(f,h){return f.formats[h]||function(p){return p.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(m,g,v){return g||v.slice(1)})}(f.formats[h.toUpperCase()])},u=function(){var f=this;return{months:function(h){return h?h.format("MMMM"):s(f,"months")},monthsShort:function(h){return h?h.format("MMM"):s(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):s(f,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):s(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):s(f,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return c(f.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return u.bind(this)()},i.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(h){return c(f,h)},meridiem:f.meridiem,ordinal:f.ordinal}},i.months=function(){return s(l(),"months")},i.monthsShort=function(){return s(l(),"monthsShort","months",3)},i.weekdays=function(f){return s(l(),"weekdays",null,null,f)},i.weekdaysShort=function(f){return s(l(),"weekdaysShort","weekdays",3,f)},i.weekdaysMin=function(f){return s(l(),"weekdaysMin","weekdays",2,f)}}})})(STe);var ETe={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Wi,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,i,a){var o=i.prototype,s=o.format;a.en.formats=r,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,u=function(f,h){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(p,m,g){var v=g&&g.toUpperCase();return m||h[g]||r[g]||h[v].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(y,x,b){return x||b.slice(1)})})}(l,c===void 0?{}:c);return s.call(this,u)}}})})(ETe);var ATe={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Wi,function(){return function(r,n,i){var a=function(o,s){if(!s||!s.length||s.length===1&&!s[0]||s.length===1&&Array.isArray(s[0])&&!s[0].length)return null;var l;s.length===1&&s[0].length>0&&(s=s[0]),l=(s=s.filter(function(u){return u}))[0];for(var c=1;c<s.length;c+=1)s[c].isValid()&&!s[c][o](l)||(l=s[c]);return l};i.max=function(){var o=[].slice.call(arguments,0);return a("isAfter",o)},i.min=function(){var o=[].slice.call(arguments,0);return a("isBefore",o)}}})})(ATe);var CTe={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Wi,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(a,o,s){var l=o.prototype;s.utc=function(g){var v={date:g,utc:!0,args:arguments};return new o(v)},l.utc=function(g){var v=s(this.toDate(),{locale:this.$L,utc:!0});return g?v.add(this.utcOffset(),r):v},l.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var c=l.parse;l.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),c.call(this,g)};var u=l.init;l.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else u.call(this)};var f=l.utcOffset;l.utcOffset=function(g,v){var y=this.$utils().u;if(y(g))return this.$u?0:y(this.$offset)?f.call(this):this.$offset;if(typeof g=="string"&&(g=function(E){E===void 0&&(E="");var C=E.match(n);if(!C)return null;var A=(""+C[0]).match(i)||["-",0,0],T=A[0],I=60*+A[1]+ +A[2];return I===0?0:T==="+"?I:-I}(g),g===null))return this;var x=Math.abs(g)<=16?60*g:g,b=this;if(v)return b.$offset=x,b.$u=g===0,b;if(g!==0){var S=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(b=this.local().add(x+S,r)).$offset=x,b.$x.$localOffset=S}else b=this.utc();return b};var h=l.format;l.format=function(g){var v=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,v)},l.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var p=l.toDate;l.toDate=function(g){return g==="s"&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var m=l.diff;l.diff=function(g,v,y){if(g&&this.$u===g.$u)return m.call(this,g,v,y);var x=this.local(),b=s(g).local();return m.call(x,b,v,y)}}})})(CTe);var TTe={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Wi,function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(TTe);function wo(t){return t.children}var Pi={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},si={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},bM=Object.keys(si).map(function(t){return si[t]});oe.oneOfType([oe.string,oe.func]);oe.any;oe.func;oe.oneOfType([oe.arrayOf(oe.oneOf(bM)),oe.objectOf(function(t,e){var r=bM.indexOf(e)!==-1&&typeof t[e]=="boolean";if(r)return null;for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];return oe.elementType.apply(oe,[t,e].concat(i))})]);oe.oneOfType([oe.oneOf(["overlap","no-overlap"]),oe.func]);var _M={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function xH(t,e){var r=Cn(t,"month");return Cn(r,"week",e.startOfWeek())}function wH(t,e){var r=yx(t,"month");return yx(r,"week",e.startOfWeek())}function ITe(t,e){for(var r=xH(t,e),n=wH(t,e),i=[];kh(r,n,"day");)i.push(r),r=so(r,1,"day");return i}function NTe(t,e){var r=Cn(t,e);return Oh(r,t)?r:so(r,1,e)}function PTe(t,e){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=t,i=[];kh(n,e,r);)i.push(n),n=so(n,1,r);return i}function OTe(t,e){return e==null&&t==null?null:(e==null&&(e=new Date),t==null&&(t=new Date),t=Cn(t,"day"),t=Pg(t,Pg(e)),t=Rf(t,Rf(e)),t=Ng(t,Ng(e)),Ig(t,Ig(e)))}function SM(t){return Pg(t)===0&&Rf(t)===0&&Ng(t)===0&&Ig(t)===0}function kTe(t,e,r,n){return r==="day"&&(r="date"),Math.abs(o4[r](t,void 0,n)-o4[r](e,void 0,n))}function PO(t,e,r){return!r||r==="milliseconds"?Math.abs(+t-+e):Math.round(Math.abs(+Cn(t,r)/_M[r]-+Cn(e,r)/_M[r]))}var RTe=oe.oneOfType([oe.string,oe.func]);function DTe(t,e,r,n,i){var a=typeof n=="function"?n(r,i,t):e.call(t,r,n,i);return _g(a==null||typeof a=="string","`localizer format(..)` must return a string, null, or undefined"),a}function jTe(t,e,r){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,e+r,0,0)}function OO(t,e){return t.getTimezoneOffset()-e.getTimezoneOffset()}function MTe(t,e){return PO(t,e,"minutes")+OO(t,e)}function LTe(t){var e=Cn(t,"day");return PO(e,t,"minutes")+OO(e,t)}function $Te(t,e){return XP(t,e,"day")}function FTe(t,e,r){var n=Oh(t,e,"minutes");return n?Xv(e,r,"minutes"):Fb(e,r,"minutes")}function jC(t,e){return kTe(t,e,"day")}function BTe(t){var e=t.evtA,r=e.start,n=e.end,i=e.allDay,a=t.evtB,o=a.start,s=a.end,l=a.allDay,c=+Cn(r,"day")-+Cn(o,"day"),u=jC(r,n),f=jC(o,s);return c||f-u||!!l-!!i||+r-+o||+n-+s}function VTe(t){var e=t.event,r=e.start,n=e.end,i=t.range,a=i.start,o=i.end,s=Cn(r,"day"),l=kh(s,o,"day"),c=YP(s,n,"minutes"),u=c?Fb(n,a,"minutes"):Xv(n,a,"minutes");return l&&u}function UTe(t,e){return Oh(t,e,"day")}function zTe(t,e){return SM(t)&&SM(e)}var WTe=Jr(function t(e){var r=this;Zr(this,t),_g(typeof e.format=="function","date localizer `format(..)` must be a function"),_g(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||RTe,this.formats=e.formats,this.format=function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return DTe.apply(void 0,[r,e.format].concat(i))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||OTe,this.inRange=e.inRange||iW,this.lt=e.lt||XP,this.lte=e.lte||kh,this.gt=e.gt||Fb,this.gte=e.gte||Xv,this.eq=e.eq||Oh,this.neq=e.neq||YP,this.startOf=e.startOf||Cn,this.endOf=e.endOf||yx,this.add=e.add||so,this.range=e.range||PTe,this.diff=e.diff||PO,this.ceil=e.ceil||NTe,this.min=e.min||rW,this.max=e.max||nW,this.minutes=e.minutes||Rf,this.daySpan=e.daySpan||jC,this.firstVisibleDay=e.firstVisibleDay||xH,this.lastVisibleDay=e.lastVisibleDay||wH,this.visibleDays=e.visibleDays||ITe,this.getSlotDate=e.getSlotDate||jTe,this.getTimezoneOffset=e.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||OO,this.getTotalMin=e.getTotalMin||MTe,this.getMinutesFromMidnight=e.getMinutesFromMidnight||LTe,this.continuesPrior=e.continuesPrior||$Te,this.continuesAfter=e.continuesAfter||FTe,this.sortEvents=e.sortEvents||BTe,this.inEventRange=e.inEventRange||VTe,this.isSameDate=e.isSameDate||UTe,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||zTe,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function HTe(t,e,r,n){var i=Rt(Rt({},t.formats),r);return Rt(Rt({},t),{},{messages:n,startOfWeek:function(){return t.startOfWeek(e)},format:function(o,s){return t.format(o,i[s]||s,e)}})}var GTe=function(t){function e(){var r;Zr(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Xn(this,e,[].concat(i)),r.navigate=function(o){r.props.onNavigate(o)},r.view=function(o){r.props.onView(o)},r}return Yn(e,t),Jr(e,[{key:"render",value:function(){var n=this.props,i=n.localizer.messages,a=n.label;return j.createElement("div",{className:"rbc-toolbar"},j.createElement("span",{className:"rbc-btn-group"},j.createElement("button",{type:"button",onClick:this.navigate.bind(null,Pi.TODAY)},i.today),j.createElement("button",{type:"button",onClick:this.navigate.bind(null,Pi.PREVIOUS)},i.previous),j.createElement("button",{type:"button",onClick:this.navigate.bind(null,Pi.NEXT)},i.next)),j.createElement("span",{className:"rbc-toolbar-label"},a),j.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(n){var i=this,a=this.props.views,o=this.props.view;if(a.length>1)return a.map(function(s){return j.createElement("button",{type:"button",key:s,className:gr({"rbc-active":o===s}),onClick:i.view.bind(null,s)},n[s])})}}])}(j.Component);function qt(t,e){t&&t.apply(null,[].concat(e))}var qTe={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function KTe(t){return Rt(Rt({},qTe),t)}function YTe(t){var e=t.ref,r=t.callback;_.useEffect(function(){var n=function(a){e.current&&!e.current.contains(a.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[e,r])}var XTe=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],bH=function(t){function e(){return Zr(this,e),Xn(this,e,arguments)}return Yn(e,t),Jr(e,[{key:"render",value:function(){var n=this.props,i=n.style,a=n.className,o=n.event,s=n.selected,l=n.isAllDay,c=n.onSelect,u=n.onDoubleClick,f=n.onKeyPress,h=n.localizer,p=n.continuesPrior,m=n.continuesAfter,g=n.accessors,v=n.getters,y=n.children,x=n.components,b=x.event,S=x.eventWrapper,E=n.slotStart,C=n.slotEnd,A=Uo(n,XTe);delete A.resizable;var T=g.title(o),I=g.tooltip(o),N=g.end(o),O=g.start(o),R=g.allDay(o),k=l||R||h.diff(O,h.ceil(N,"day"),"day")>1,M=v.eventProp(o,O,N,s),U=j.createElement("div",{className:"rbc-event-content",title:I||void 0},b?j.createElement(b,{event:o,continuesPrior:p,continuesAfter:m,title:T,isAllDay:R,localizer:h,slotStart:E,slotEnd:C}):T);return j.createElement(S,Object.assign({},this.props,{type:"date"}),j.createElement("div",Object.assign({},A,{style:Rt(Rt({},M.style),i),className:gr("rbc-event",a,M.className,{"rbc-selected":s,"rbc-event-allday":k,"rbc-event-continues-prior":p,"rbc-event-continues-after":m}),onClick:function(z){return c&&c(o,z)},onDoubleClick:function(z){return u&&u(o,z)},onKeyDown:function(z){return f&&f(o,z)}}),typeof y=="function"?y(U):U))}}])}(j.Component);function t2(t,e){return!t||e==null?!1:$f(t,e)}function _H(t,e){var r=t.right-t.left,n=r/e;return n}function SH(t,e,r,n){var i=_H(t,n);return r?n-1-Math.floor((e-t.left)/i):Math.floor((e-t.left)/i)}function QTe(t,e){var r=e.x,n=e.y;return n>=t.top&&n<=t.bottom&&r>=t.left&&r<=t.right}function ZTe(t,e,r,n,i){var a=-1,o=-1,s=n-1,l=_H(e,n),c=SH(e,r.x,i,n),u=e.top<r.y&&e.bottom>r.y,f=e.top<t.y&&e.bottom>t.y,h=t.y>e.bottom,p=e.top>t.y,m=r.top<e.top&&r.bottom>e.bottom;return m&&(a=0,o=s),u&&(p?(a=0,o=c):h&&(a=c,o=s)),f&&(a=o=i?s-Math.floor((t.x-e.left)/l):Math.floor((t.x-e.left)/l),u?c<a?a=c:o=c:t.y<r.y?o=s:a=0),{startIdx:a,endIdx:o}}function JTe(t){var e=t.target,r=t.offset,n=t.container,i=t.box,a=fu(e),o=a.top,s=a.left,l=a.width,c=a.height,u=fu(n),f=u.top,h=u.left,p=u.width,m=u.height,g=fu(i),v=g.width,y=g.height,x=f+m,b=h+p,S=o+y,E=s+v,C=r.x,A=r.y,T=S>x?o-y-A:o+A+c,I=E>b?s+C-v+l:s+C;return{topOffset:T,leftOffset:I}}function eIe(t){var e=t.containerRef,r=t.accessors,n=t.getters,i=t.selected,a=t.components,o=t.localizer,s=t.position,l=t.show,c=t.events,u=t.slotStart,f=t.slotEnd,h=t.onSelect,p=t.onDoubleClick,m=t.onKeyPress,g=t.handleDragStart,v=t.popperRef,y=t.target,x=t.offset;YTe({ref:v,callback:l}),_.useLayoutEffect(function(){var E=JTe({target:y,offset:x,container:e.current,box:v.current}),C=E.topOffset,A=E.leftOffset;v.current.style.top="".concat(C,"px"),v.current.style.left="".concat(A,"px")},[x.x,x.y,y]);var b=s.width,S={minWidth:b+b/2};return j.createElement("div",{style:S,className:"rbc-overlay",ref:v},j.createElement("div",{className:"rbc-overlay-header"},o.format(u,"dayHeaderFormat")),c.map(function(E,C){return j.createElement(bH,{key:C,type:"popup",localizer:o,event:E,getters:n,onSelect:h,accessors:r,components:a,onDoubleClick:p,onKeyPress:m,continuesPrior:o.lt(r.end(E),u,"day"),continuesAfter:o.gte(r.start(E),f,"day"),slotStart:u,slotEnd:f,selected:t2(E,i),draggable:!0,onDragStart:function(){return g(E)},onDragEnd:function(){return l()}})}))}var EH=j.forwardRef(function(t,e){return j.createElement(eIe,Object.assign({},t,{popperRef:e}))});EH.propTypes={accessors:oe.object.isRequired,getters:oe.object.isRequired,selected:oe.object,components:oe.object.isRequired,localizer:oe.object.isRequired,position:oe.object.isRequired,show:oe.func.isRequired,events:oe.array.isRequired,slotStart:oe.instanceOf(Date).isRequired,slotEnd:oe.instanceOf(Date),onSelect:oe.func,onDoubleClick:oe.func,onKeyPress:oe.func,handleDragStart:oe.func,style:oe.object,offset:oe.shape({x:oe.number,y:oe.number})};function tIe(t){var e=t.containerRef,r=t.popupOffset,n=r===void 0?5:r,i=t.overlay,a=t.accessors,o=t.localizer,s=t.components,l=t.getters,c=t.selected,u=t.handleSelectEvent,f=t.handleDoubleClickEvent,h=t.handleKeyPressEvent,p=t.handleDragStart,m=t.onHide,g=t.overlayDisplay,v=_.useRef(null);if(!i.position)return null;var y=n;isNaN(n)||(y={x:n,y:n});var x=i.position,b=i.events,S=i.date,E=i.end;return j.createElement(dO,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:m,target:i.target},function(C){var A=C.props;return j.createElement(EH,Object.assign({},A,{containerRef:e,ref:v,target:i.target,offset:y,accessors:a,getters:l,selected:c,components:s,localizer:o,position:x,show:g,events:b,slotStart:S,slotEnd:E,onSelect:u,onDoubleClick:f,onKeyPress:h,handleDragStart:p}))})}var kO=j.forwardRef(function(t,e){return j.createElement(tIe,Object.assign({},t,{containerRef:e}))});kO.propTypes={popupOffset:oe.oneOfType([oe.number,oe.shape({x:oe.number,y:oe.number})]),overlay:oe.shape({position:oe.object,events:oe.array,date:oe.instanceOf(Date),end:oe.instanceOf(Date)}),accessors:oe.object.isRequired,localizer:oe.object.isRequired,components:oe.object.isRequired,getters:oe.object.isRequired,selected:oe.object,handleSelectEvent:oe.func,handleDoubleClickEvent:oe.func,handleKeyPressEvent:oe.func,handleDragStart:oe.func,onHide:oe.func,overlayDisplay:oe.func};function Rn(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return im(r,t,e,{passive:!1})}function rIe(t,e,r){return!t||Og(t,document.elementFromPoint(e,r))}function nIe(t,e){var r=e.clientX,n=e.clientY,i=document.elementFromPoint(r,n);return UW(i,".rbc-event",t)}function iIe(t,e){var r=e.clientX,n=e.clientY,i=document.elementFromPoint(r,n);return UW(i,".rbc-show-more",t)}function Ax(t,e){return!!nIe(t,e)}function aIe(t,e){return!!iIe(t,e)}function $p(t){var e=t;return t.touches&&t.touches.length&&(e=t.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var EM=5,oIe=250,AH=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,i=n===void 0?!1:n,a=r.longPressThreshold,o=a===void 0?250:a,s=r.validContainers,l=s===void 0?[]:s;Zr(this,t),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||i,this.longPressThreshold=o,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Rn("touchmove",function(){},window),this._removeKeyDownListener=Rn("keydown",this._keyListener),this._removeKeyUpListener=Rn("keyup",this._keyListener),this._removeDropFromOutsideListener=Rn("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Rn("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Jr(t,[{key:"on",value:function(r,n){var i=this._listeners[r]||(this._listeners[r]=[]);return i.push(n),{remove:function(){var o=i.indexOf(n);o!==-1&&i.splice(o,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var o,s=this._listeners[r]||[];return s.forEach(function(l){o===void 0&&(o=l.apply(void 0,i))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:AM(n,Du(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var i=this,a=null,o=null,s=null,l=function(h){a=setTimeout(function(){u(),r(h)},i.longPressThreshold),o=Rn("touchmove",function(){return u()}),s=Rn("touchend",function(){return u()})},c=Rn("touchstart",l),u=function(){a&&clearTimeout(a),o&&o(),s&&s(),a=null,o=null,s=null};return n&&l(n),function(){u(),c()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=Rn("mousedown",function(a){r._removeInitialEventListener(),r._handleInitialEvent(a),r._removeInitialEventListener=Rn("mousedown",r._handleInitialEvent)}),i=Rn("touchstart",function(a){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,a)});this._removeInitialEventListener=function(){n(),i()}}},{key:"_dropFromOutsideListener",value:function(r){var n=$p(r),i=n.pageX,a=n.pageY,o=n.clientX,s=n.clientY;this.emit("dropFromOutside",{x:i,y:a,clientX:o,clientY:s}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=$p(r),i=n.pageX,a=n.pageY,o=n.clientX,s=n.clientY;this.emit("dragOverFromOutside",{x:i,y:a,clientX:o,clientY:s}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=$p(r),i=n.clientX,a=n.clientY,o=n.pageX,s=n.pageY,l=this.container(),c,u;if(!(r.which===3||r.button===2||!rIe(l,i,a))){if(!this.globalMouse&&l&&!Og(l,r.target)){var f=sIe(0),h=f.top,p=f.left,m=f.bottom,g=f.right;if(u=Du(l),c=AM({top:u.top-h,left:u.left-p,bottom:u.bottom+m,right:u.right+g},{top:s,left:o}),!c)return}var v=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:o,y:s,clientX:i,clientY:a});if(v!==!1)switch(r.type){case"mousedown":this._removeEndListener=Rn("mouseup",this._handleTerminatingEvent),this._onEscListener=Rn("keydown",this._handleTerminatingEvent),this._removeMoveListener=Rn("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=Rn("touchend",this._handleTerminatingEvent),this._removeMoveListener=Rn("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,i=this.validContainers;return!i||!i.length||!n?!0:i.some(function(a){return!!n.closest(a)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,i=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var a=!this.container||Og(this.container(),r.target),o=this._isWithinValidContainer(r);return r.key==="Escape"||!o?this.emit("reset"):!n&&a?this._handleClickEvent(r):n?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=$p(r),i=n.pageX,a=n.pageY,o=n.clientX,s=n.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<oIe?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:a,clientX:o,clientY:s})):(this._lastClickData={timestamp:l},this.emit("click",{x:i,y:a,clientX:o,clientY:s}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,i=n.x,a=n.y,o=$p(r),s=o.pageX,l=o.pageY,c=Math.abs(i-s),u=Math.abs(a-l),f=Math.min(s,i),h=Math.min(l,a),p=this.selecting,m=this.isClick(s,l);m&&!p&&!(c||u)||(!p&&!m&&this.emit("selectStart",this._initialEventData),m||(this.selecting=!0,this._selectRect={top:h,left:f,x:s,y:l,right:f+c,bottom:h+u},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var i=this._initialEventData,a=i.x,o=i.y,s=i.isTouch;return!s&&Math.abs(r-a)<=EM&&Math.abs(n-o)<=EM}}])}();function sIe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return oo(t)!=="object"&&(t={top:t,left:t,right:t,bottom:t}),t}function AM(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=Du(t),i=n.top,a=n.left,o=n.right,s=o===void 0?a:o,l=n.bottom,c=l===void 0?i:l,u=Du(e),f=u.top,h=u.left,p=u.right,m=p===void 0?h:p,g=u.bottom,v=g===void 0?f:g;return!(c-r<f||i+r>v||s-r<h||a+r>m)}function Du(t){if(!t.getBoundingClientRect)return t;var e=t.getBoundingClientRect(),r=e.left+CM("left"),n=e.top+CM("top");return{top:n,left:r,right:(t.offsetWidth||0)+r,bottom:(t.offsetHeight||0)+n}}function CM(t){if(t==="left")return window.pageXOffset||document.body.scrollLeft||0;if(t==="top")return window.pageYOffset||document.body.scrollTop||0}var lIe=function(t){function e(r,n){var i;return Zr(this,e),i=Xn(this,e,[r,n]),i.state={selecting:!1},i.containerRef=_.createRef(),i}return Yn(e,t),Jr(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,i=n.range,a=n.getNow,o=n.getters,s=n.date,l=n.components.dateCellWrapper,c=n.localizer,u=this.state,f=u.selecting,h=u.startIdx,p=u.endIdx,m=a();return j.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(g,v){var y=f&&v>=h&&v<=p,x=o.dayProp(g),b=x.className,S=x.style;return j.createElement(l,{key:v,value:g,range:i},j.createElement("div",{style:S,className:gr("rbc-day-bg",b,y&&"rbc-selected-cell",c.isSameDate(g,m)&&"rbc-today",s&&c.neq(s,g,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,i=this.containerRef.current,a=this._selector=new AH(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(l,c){if(!Ax(i,l)&&!aIe(i,l)){var u=Du(i),f=n.props,h=f.range,p=f.rtl;if(QTe(u,l)){var m=SH(u,l.x,p,h.length);n._selectSlot({startIdx:m,endIdx:m,action:c,box:l})}}n._initial={},n.setState({selecting:!1})};a.on("selecting",function(s){var l=n.props,c=l.range,u=l.rtl,f=-1,h=-1;if(n.state.selecting||(qt(n.props.onSelectStart,[s]),n._initial={x:s.x,y:s.y}),a.isSelected(i)){var p=Du(i),m=ZTe(n._initial,p,s,c.length,u);f=m.startIdx,h=m.endIdx}n.setState({selecting:!0,startIdx:f,endIdx:h})}),a.on("beforeSelect",function(s){if(n.props.selectable==="ignoreEvents")return!Ax(n.containerRef.current,s)}),a.on("click",function(s){return o(s,"click")}),a.on("doubleClick",function(s){return o(s,"doubleClick")}),a.on("select",function(s){n._selectSlot(Rt(Rt({},n.state),{},{action:"select",bounds:s})),n._initial={},n.setState({selecting:!1}),qt(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var i=n.endIdx,a=n.startIdx,o=n.action,s=n.bounds,l=n.box;i!==-1&&a!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:a,end:i,action:o,bounds:s,box:l,resourceId:this.props.resourceId})}}])}(j.Component),ua={propTypes:{slotMetrics:oe.object.isRequired,selected:oe.object,isAllDay:oe.bool,accessors:oe.object.isRequired,localizer:oe.object.isRequired,components:oe.object.isRequired,getters:oe.object.isRequired,onSelect:oe.func,onDoubleClick:oe.func,onKeyPress:oe.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,r){var n=e.selected;e.isAllDay;var i=e.accessors,a=e.getters,o=e.onSelect,s=e.onDoubleClick,l=e.onKeyPress,c=e.localizer,u=e.slotMetrics,f=e.components,h=e.resizable,p=u.continuesPrior(r),m=u.continuesAfter(r);return j.createElement(bH,{event:r,getters:a,localizer:c,accessors:i,components:f,onSelect:o,onDoubleClick:s,onKeyPress:l,continuesPrior:p,continuesAfter:m,slotStart:u.first,slotEnd:u.last,selected:t2(r,n),resizable:h})},renderSpan:function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",a=Math.abs(r)/e*100+"%";return j.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:a,flexBasis:a,maxWidth:a}},i)}},CH=function(t){function e(){return Zr(this,e),Xn(this,e,arguments)}return Yn(e,t),Jr(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.segments,o=i.slotMetrics.slots,s=i.className,l=1;return j.createElement("div",{className:gr(s,"rbc-row")},a.reduce(function(c,u,f){var h=u.event,p=u.left,m=u.right,g=u.span,v="_lvl_"+f,y=p-l,x=ua.renderEvent(n.props,h);return y&&c.push(ua.renderSpan(o,y,"".concat(v,"_gap"))),c.push(ua.renderSpan(o,g,v,x)),l=m+1,c},[]))}}])}(j.Component);CH.defaultProps=Rt({},ua.defaultProps);function TH(t){var e=t.dateRange,r=t.unit,n=r===void 0?"day":r,i=t.localizer;return{first:e[0],last:i.add(e[e.length-1],1,n)}}function cIe(t,e,r,n){var i=TH({dateRange:e,localizer:n}),a=i.first,o=i.last,s=n.diff(a,o,"day"),l=n.max(n.startOf(r.start(t),"day"),a),c=n.min(n.ceil(r.end(t),"day"),o),u=y2e(e,function(h){return n.isSameDate(h,l)}),f=n.diff(l,c,"day");return f=Math.min(f,s),f=Math.max(f-n.segmentOffset,1),{event:t,span:f,left:u+1,right:Math.max(u+f,1)}}function MC(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,i,a=[],o=[];for(r=0;r<t.length;r++){for(i=t[r],n=0;n<a.length&&uIe(i,a[n]);n++);n>=e?o.push(i):(a[n]||(a[n]=[])).push(i)}for(r=0;r<a.length;r++)a[r].sort(function(s,l){return s.left-l.left});return{levels:a,extra:o}}function jg(t,e,r,n,i){var a={start:n.start(t),end:n.end(t)},o={start:e,end:r};return i.inEventRange({event:a,range:o})}function uIe(t,e){return e.some(function(r){return r.left<=t.right&&r.right>=t.left})}function dIe(t,e,r){var n=d1(t),i=[],a=[];n.forEach(function(l){var c=e.start(l),u=e.end(l);r.daySpan(c,u)>1?i.push(l):a.push(l)});var o=i.sort(function(l,c){return LC(l,c,e,r)}),s=a.sort(function(l,c){return LC(l,c,e,r)});return[].concat(d1(o),d1(s))}function LC(t,e,r,n){var i={start:r.start(t),end:r.end(t),allDay:r.allDay(t)},a={start:r.start(e),end:r.end(e),allDay:r.allDay(e)};return n.sortEvents({evtA:i,evtB:a})}var $C=function(e,r){return e.left<=r&&e.right>=r},WS=function(e,r){return e.filter(function(n){return $C(n,r)}).map(function(n){return n.event})},IH=function(t){function e(){return Zr(this,e),Xn(this,e,arguments)}return Yn(e,t),Jr(e,[{key:"render",value:function(){for(var n=this.props,i=n.segments,a=n.slotMetrics.slots,o=MC(i).levels[0],s=1,l=1,c=[];s<=a;){var u="_lvl_"+s,f=o.filter(function(S){return $C(S,s)})[0]||{},h=f.event,p=f.left,m=f.right,g=f.span;if(!h){var v=this.getHiddenEventsForSlot(i,s);if(v.length>0){var y=s-l;y&&c.push(ua.renderSpan(a,y,u+"_gap")),c.push(ua.renderSpan(a,1,u,this.renderShowMore(i,s))),l=s=s+1;continue}s++;continue}var x=Math.max(0,p-l);if(this.canRenderSlotEvent(p,g)){var b=ua.renderEvent(this.props,h);x&&c.push(ua.renderSpan(a,x,u+"_gap")),c.push(ua.renderSpan(a,g,u,b)),l=s=m+1}else x&&c.push(ua.renderSpan(a,x,u+"_gap")),c.push(ua.renderSpan(a,1,u,this.renderShowMore(i,s))),l=s=s+1}return j.createElement("div",{className:"rbc-row"},c)}},{key:"getHiddenEventsForSlot",value:function(n,i){var a=WS(n,i),o=MC(n).levels[0],s=o.filter(function(l){return $C(l,i)}).map(function(l){return l.event});return a.filter(function(l){return!s.some(function(c){return c===l})})}},{key:"canRenderSlotEvent",value:function(n,i){var a=this.props.segments;return Dg(n,n+i).every(function(o){var s=WS(a,o).length;return s===1})}},{key:"renderShowMore",value:function(n,i){var a=this,o=this.props,s=o.localizer,l=o.slotMetrics,c=o.components,u=l.getEventsForSlot(i),f=WS(n,i),h=f.length;if(c!=null&&c.showMore){var p=c.showMore,m=l.getDateForSlot(i-1);return h?j.createElement(p,{localizer:s,slotDate:m,slot:i,count:h,events:u,remainingEvents:f}):!1}return h?j.createElement("button",{type:"button",key:"sm_"+i,className:gr("rbc-button-link","rbc-show-more"),onClick:function(v){return a.showMore(i,v)}},s.messages.showMore(h,f,u)):!1}},{key:"showMore",value:function(n,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(n,i.target)}}])}(j.Component);IH.defaultProps=Rt({},ua.defaultProps);var fIe=function(e){var r=e.children;return j.createElement("div",{className:"rbc-row-content-scroll-container"},r)},hIe=function(e,r){return e.left<=r&&e.right>=r},pIe=function(e,r){return e[0].range===r[0].range&&e[0].events===r[0].events};function NH(){return ZW(function(t){for(var e=t.range,r=t.events,n=t.maxRows,i=t.minRows,a=t.accessors,o=t.localizer,s=TH({dateRange:e,localizer:o}),l=s.first,c=s.last,u=r.map(function(g){return cIe(g,e,a,o)}),f=MC(u,Math.max(n-1,1)),h=f.levels,p=f.extra,m=p.length>0?i-1:i;h.length<m;)h.push([]);return{first:l,last:c,levels:h,extra:p,range:e,slots:e.length,clone:function(v){var y=NH();return y(Rt(Rt({},t),v))},getDateForSlot:function(v){return e[v]},getSlotForDate:function(v){return e.find(function(y){return o.isSameDate(y,v)})},getEventsForSlot:function(v){return u.filter(function(y){return hIe(y,v)}).map(function(y){return y.event})},continuesPrior:function(v){return o.continuesPrior(a.start(v),l)},continuesAfter:function(v){var y=a.start(v),x=a.end(v);return o.continuesAfter(y,x,c)}}},pIe)}var Mg=function(t){function e(){var r;Zr(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Xn(this,e,[].concat(i)),r.handleSelectSlot=function(o){var s=r.props,l=s.range,c=s.onSelectSlot;c(l.slice(o.start,o.end+1),o)},r.handleShowMore=function(o,s){var l=r.props,c=l.range,u=l.onShowMore,f=r.slotMetrics(r.props),h=Ime(r.containerRef.current,".rbc-row-bg")[0],p;h&&(p=h.children[o-1]);var m=f.getEventsForSlot(o);u(m,c[o-1],p,o,s)},r.getContainer=function(){var o=r.props.container;return o?o():r.containerRef.current},r.renderHeadingCell=function(o,s){var l=r.props,c=l.renderHeader,u=l.getNow,f=l.localizer;return c({date:o,key:"header_".concat(s),className:gr("rbc-date-cell",f.isSameDate(o,u())&&"rbc-now")})},r.renderDummy=function(){var o=r.props,s=o.className,l=o.range,c=o.renderHeader,u=o.showAllEvents;return j.createElement("div",{className:s,ref:r.containerRef},j.createElement("div",{className:gr("rbc-row-content",u&&"rbc-row-content-scrollable")},c&&j.createElement("div",{className:"rbc-row",ref:r.headingRowRef},l.map(r.renderHeadingCell)),j.createElement("div",{className:"rbc-row",ref:r.eventRowRef},j.createElement("div",{className:"rbc-row-segment"},j.createElement("div",{className:"rbc-event"},j.createElement("div",{className:"rbc-event-content"},""))))))},r.containerRef=_.createRef(),r.headingRowRef=_.createRef(),r.eventRowRef=_.createRef(),r.slotMetrics=NH(),r}return Yn(e,t),Jr(e,[{key:"getRowLimit",value:function(){var n,i=VS(this.eventRowRef.current),a=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?VS(this.headingRowRef.current):0,o=VS(this.containerRef.current)-a;return Math.max(Math.floor(o/i),1)}},{key:"render",value:function(){var n=this.props,i=n.date,a=n.rtl,o=n.range,s=n.className,l=n.selected,c=n.selectable,u=n.renderForMeasure,f=n.accessors,h=n.getters,p=n.components,m=n.getNow,g=n.renderHeader,v=n.onSelect,y=n.localizer,x=n.onSelectStart,b=n.onSelectEnd,S=n.onDoubleClick,E=n.onKeyPress,C=n.resourceId,A=n.longPressThreshold,T=n.isAllDay,I=n.resizable,N=n.showAllEvents;if(u)return this.renderDummy();var O=this.slotMetrics(this.props),R=O.levels,k=O.extra,M=N?fIe:wo,U=p.weekWrapper,L={selected:l,accessors:f,getters:h,localizer:y,components:p,onSelect:v,onDoubleClick:S,onKeyPress:E,resourceId:C,slotMetrics:O,resizable:I};return j.createElement("div",{className:s,role:"rowgroup",ref:this.containerRef},j.createElement(lIe,{localizer:y,date:i,getNow:m,rtl:a,range:o,selectable:c,container:this.getContainer,getters:h,onSelectStart:x,onSelectEnd:b,onSelectSlot:this.handleSelectSlot,components:p,longPressThreshold:A,resourceId:C}),j.createElement("div",{className:gr("rbc-row-content",N&&"rbc-row-content-scrollable"),role:"row"},g&&j.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),j.createElement(M,null,j.createElement(U,Object.assign({isAllDay:T},L,{rtl:this.props.rtl}),R.map(function(z,B){return j.createElement(CH,Object.assign({key:B,segments:z},L))}),!!k.length&&j.createElement(IH,Object.assign({segments:k,onShowMore:this.handleShowMore},L))))))}}])}(j.Component);Mg.defaultProps={minRows:0,maxRows:1/0};var RO=function(e){var r=e.label;return j.createElement("span",{role:"columnheader","aria-sort":"none"},r)},mIe=function(e){var r=e.label,n=e.drilldownView,i=e.onDrillDown;return n?j.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},r):j.createElement("span",null,r)},gIe=["date","className"],vIe=function(e,r,n,i,a){return e.filter(function(o){return jg(o,r,n,i,a)})},r2=function(t){function e(){var r;Zr(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Xn(this,e,[].concat(i)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(o,s){var l=r.props,c=l.events,u=l.components,f=l.selectable,h=l.getNow,p=l.selected,m=l.date,g=l.localizer,v=l.longPressThreshold,y=l.accessors,x=l.getters,b=l.showAllEvents,S=r.state,E=S.needLimitMeasure,C=S.rowLimit,A=vIe(d1(c),o[0],o[o.length-1],y,g),T=dIe(A,y,g);return j.createElement(Mg,{key:s,ref:s===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:h,date:m,range:o,events:T,maxRows:b?1/0:C,selected:p,selectable:f,components:u,accessors:y,getters:x,localizer:g,renderHeader:r.readerDateHeading,renderForMeasure:E,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:v,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:b})},r.readerDateHeading=function(o){var s=o.date,l=o.className,c=Uo(o,gIe),u=r.props,f=u.date,h=u.getDrilldownView,p=u.localizer,m=p.neq(f,s,"month"),g=p.isSameDate(s,f),v=h(s),y=p.format(s,"dateFormat"),x=r.props.components.dateHeader||mIe;return j.createElement("div",Object.assign({},c,{className:gr(l,m&&"rbc-off-range",g&&"rbc-current"),role:"cell"}),j.createElement(x,{label:y,date:s,drilldownView:v,isOffRange:m,onDrillDown:function(S){return r.handleHeadingClick(s,v,S)}}))},r.handleSelectSlot=function(o,s){r._pendingSelection=r._pendingSelection.concat(o),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(s)})},r.handleHeadingClick=function(o,s,l){l.preventDefault(),r.clearSelection(),qt(r.props.onDrillDown,[o,s])},r.handleSelectEvent=function(){r.clearSelection();for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];qt(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];qt(r.props.onDoubleClickEvent,s)},r.handleKeyPressEvent=function(){r.clearSelection();for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];qt(r.props.onKeyPressEvent,s)},r.handleShowMore=function(o,s,l,c,u){var f=r.props,h=f.popup,p=f.onDrillDown,m=f.onShowMore,g=f.getDrilldownView,v=f.doShowMoreDrillDown;if(r.clearSelection(),h){var y=vW(l,r.containerRef.current);r.setState({overlay:{date:s,events:o,position:y,target:u}})}else v&&qt(p,[s,g(s)||si.DAY]);qt(m,[o,s,c])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=_.createRef(),r.slotRowRef=_.createRef(),r._bgRows=[],r._pendingSelection=[],r}return Yn(e,t),Jr(e,[{key:"componentDidMount",value:function(){var n=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||yW(function(){i=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,i=n.date,a=n.localizer,o=n.className,s=a.visibleDays(i,a),l=fme(s,7);return this._weekCount=l.length,j.createElement("div",{className:gr("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},j.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var i=this.props,a=i.localizer,o=i.components,s=n[0],l=n[n.length-1],c=o.header||RO;return a.range(s,l,"day").map(function(u,f){return j.createElement("div",{key:"header_"+f,className:"rbc-header"},j.createElement(c,{date:u,localizer:a,label:a.format(u,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,i,a=this,o=(n=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&n!==void 0?n:{},s=this.props,l=s.accessors,c=s.localizer,u=s.components,f=s.getters,h=s.selected,p=s.popupOffset,m=s.handleDragStart,g=function(){return a.setState({overlay:null})};return j.createElement(kO,{overlay:o,accessors:l,localizer:c,components:u,getters:f,selected:h,popupOffset:p,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:m,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(s,l){return+s-+l});var a=new Date(i[0]),o=new Date(i[i.length-1]);o.setDate(i[i.length-1].getDate()+1),qt(this.props.onSelectSlot,{slots:i,start:a,end:o,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,i){var a=n.date,o=n.localizer;return{date:a,needLimitMeasure:o.neq(a,i.date,"month")}}}])}(j.Component);r2.range=function(t,e){var r=e.localizer,n=r.firstVisibleDay(t,r),i=r.lastVisibleDay(t,r);return{start:n,end:i}};r2.navigate=function(t,e,r){var n=r.localizer;switch(e){case Pi.PREVIOUS:return n.add(t,-1,"month");case Pi.NEXT:return n.add(t,1,"month");default:return t}};r2.title=function(t,e){var r=e.localizer;return r.format(t,"monthHeaderFormat")};var TM=function(e){var r=e.min,n=e.max,i=e.step,a=e.slots,o=e.localizer;return"".concat(+o.startOf(r,"minutes"))+"".concat(+o.startOf(n,"minutes"))+"".concat(i,"-").concat(a)};function DO(t){for(var e=t.min,r=t.max,n=t.step,i=t.timeslots,a=t.localizer,o=TM({step:n,localizer:a}),s=1+a.getTotalMin(e,r),l=a.getMinutesFromMidnight(e),c=Math.ceil((s-1)/(n*i)),u=c*i,f=new Array(c),h=new Array(u),p=0;p<c;p++){f[p]=new Array(i);for(var m=0;m<i;m++){var g=p*i+m,v=g*n;h[g]=f[p][m]=a.getSlotDate(e,l,v)}}var y=h.length*n;h.push(a.getSlotDate(e,l,y));function x(b){var S=a.diff(e,b,"minutes")+a.getDstOffset(e,b);return Math.min(S,s)}return{groups:f,update:function(S){return TM(S)!==o?DO(S):this},dateIsInGroup:function(S,E){var C=f[E+1];return a.inRange(S,f[E][0],C?C[0]:r,"minutes")},nextSlot:function(S){var E=h[Math.min(h.findIndex(function(C){return C===S||a.eq(C,S)})+1,h.length-1)];return a.eq(E,S)&&(E=a.add(S,n,"minutes")),E},closestSlotToPosition:function(S){var E=Math.min(h.length-1,Math.max(0,Math.floor(S*u)));return h[E]},closestSlotFromPoint:function(S,E){var C=Math.abs(E.top-E.bottom);return this.closestSlotToPosition((S.y-E.top)/C)},closestSlotFromDate:function(S){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(a.lt(S,e,"minutes"))return h[0];if(a.gt(S,r,"minutes"))return h[h.length-1];var C=a.diff(e,S,"minutes");return h[(C-C%n)/n+E]},startsBeforeDay:function(S){return a.lt(S,e,"day")},startsAfterDay:function(S){return a.gt(S,r,"day")},startsBefore:function(S){return a.lt(a.merge(e,S),e,"minutes")},startsAfter:function(S){return a.gt(a.merge(r,S),r,"minutes")},getRange:function(S,E,C,A){C||(S=a.min(r,a.max(e,S))),A||(E=a.min(r,a.max(e,E)));var T=x(S),I=x(E),N=I>n*u&&!a.eq(r,E)?(T-n)/(n*u)*100:T/(n*u)*100;return{top:N,height:I/(n*u)*100-N,start:x(S),startDate:S,end:x(E),endDate:E}},getCurrentTimePosition:function(S){var E=x(S),C=E/(n*u)*100;return C}}}var yIe=function(){function t(e,r){var n=r.accessors,i=r.slotMetrics;Zr(this,t);var a=i.getRange(n.start(e),n.end(e)),o=a.start,s=a.startDate,l=a.end,c=a.endDate,u=a.top,f=a.height;this.start=o,this.end=l,this.startMs=+s,this.endMs=+c,this.top=u,this.height=f,this.data=e}return Jr(t,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(i,a){return Math.max(i,a.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var i=this.row.leaves,a=i.indexOf(this);return a===i.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,i=r.xOffset,a=r._width,o=n.indexOf(this)+1;return i+o*a}}])}();function xIe(t,e,r){return Math.abs(e.start-t.start)<r||e.start>t.start&&e.start<t.end}function wIe(t){for(var e=Zb(t,["startMs",function(s){return-s.endMs}]),r=[];e.length>0;){var n=e.shift();r.push(n);for(var i=0;i<e.length;i++){var a=e[i];if(!(n.endMs>a.startMs)){if(i>0){var o=e.splice(i,1)[0];r.push(o)}break}}}return r}function PH(t){for(var e=t.events,r=t.minimumStartDifference,n=t.slotMetrics,i=t.accessors,a=e.map(function(u){return new yIe(u,{slotMetrics:n,accessors:i})}),o=wIe(a),s=[],l=function(){var f=o[c],h=s.find(function(g){return g.end>f.start||Math.abs(f.start-g.start)<r});if(!h)return f.rows=[],s.push(f),1;f.container=h;for(var p=null,m=h.rows.length-1;!p&&m>=0;m--)xIe(h.rows[m],f,r)&&(p=h.rows[m]);p?(p.leaves.push(f),f.row=p):(f.leaves=[],h.rows.push(f))},c=0;c<o.length;c++)l();return o.map(function(u){return{event:u.data,style:{top:u.top,height:u.height,width:u.width,xOffset:Math.max(0,u.xOffset)}}})}function OH(t,e,r){for(var n=0;n<t.friends.length;++n)if(!(r.indexOf(t.friends[n])>-1)){e=e>t.friends[n].idx?e:t.friends[n].idx,r.push(t.friends[n]);var i=OH(t.friends[n],e,r);e=e>i?e:i}return e}function bIe(t){var e=t.events,r=t.minimumStartDifference,n=t.slotMetrics,i=t.accessors,a=PH({events:e,minimumStartDifference:r,slotMetrics:n,accessors:i});a.sort(function(U,L){return U=U.style,L=L.style,U.top!==L.top?U.top>L.top?1:-1:U.height!==L.height?U.top+U.height<L.top+L.height?1:-1:0});for(var o=0;o<a.length;++o)a[o].friends=[],delete a[o].style.left,delete a[o].style.left,delete a[o].idx,delete a[o].size;for(var s=0;s<a.length-1;++s)for(var l=a[s],c=l.style.top,u=l.style.top+l.style.height,f=s+1;f<a.length;++f){var h=a[f],p=h.style.top,m=h.style.top+h.style.height;(p>=c&&m<=u||m>c&&m<=u||p>=c&&p<u)&&(l.friends.push(h),h.friends.push(l))}for(var g=0;g<a.length;++g){for(var v=a[g],y=[],x=0;x<100;++x)y.push(1);for(var b=0;b<v.friends.length;++b)v.friends[b].idx!==void 0&&(y[v.friends[b].idx]=0);v.idx=y.indexOf(1)}for(var S=0;S<a.length;++S){var E=0;if(!a[S].size){var C=[],A=OH(a[S],0,C);E=100/(A+1),a[S].size=E;for(var T=0;T<C.length;++T)C[T].size=E}}for(var I=0;I<a.length;++I){var N=a[I];N.style.left=N.idx*N.size;for(var O=0,R=0;R<N.friends.length;++R){var k=N.friends[R].idx;O=O>k?O:k}O<=N.idx&&(N.size=100-N.idx*N.size);var M=N.idx===0?0:3;N.style.width="calc(".concat(N.size,"% - ").concat(M,"px)"),N.style.height="calc(".concat(N.style.height,"% - 2px)"),N.style.xOffset="calc(".concat(N.style.left,"% + ").concat(M,"px)")}return a}var IM={overlap:PH,"no-overlap":bIe};function _Ie(t){return!!(t&&t.constructor&&t.call&&t.apply)}function SIe(t){t.events,t.minimumStartDifference,t.slotMetrics,t.accessors;var e=t.dayLayoutAlgorithm,r=e;return e in IM&&(r=IM[e]),_Ie(r)?r.apply(this,arguments):[]}var kH=function(t){function e(){return Zr(this,e),Xn(this,e,arguments)}return Yn(e,t),Jr(e,[{key:"render",value:function(){var n=this.props,i=n.renderSlot,a=n.resource,o=n.group,s=n.getters,l=n.components,c=l===void 0?{}:l,u=c.timeSlotWrapper,f=u===void 0?wo:u,h=s?s.slotGroupProp(o):{};return j.createElement("div",Object.assign({className:"rbc-timeslot-group"},h),o.map(function(p,m){var g=s?s.slotProp(p,a):{};return j.createElement(f,{key:m,value:p,resource:a},j.createElement("div",Object.assign({},g,{className:gr("rbc-time-slot",g.className)}),i&&i(p,m)))}))}}])}(_.Component);function my(t){return typeof t=="string"?t:t+"%"}function EIe(t){var e=t.style,r=t.className,n=t.event,i=t.accessors,a=t.rtl,o=t.selected,s=t.label,l=t.continuesPrior,c=t.continuesAfter,u=t.getters,f=t.onClick,h=t.onDoubleClick,p=t.isBackgroundEvent,m=t.onKeyPress,g=t.components,v=g.event,y=g.eventWrapper,x=i.title(n),b=i.tooltip(n),S=i.end(n),E=i.start(n),C=u.eventProp(n,E,S,o),A=[j.createElement("div",{key:"1",className:"rbc-event-label"},s),j.createElement("div",{key:"2",className:"rbc-event-content"},v?j.createElement(v,{event:n,title:x}):x)],T=e.height,I=e.top,N=e.width,O=e.xOffset,R=Rt(Rt({},C.style),{},Qc({top:my(I),height:my(T),width:my(N)},a?"right":"left",my(O)));return j.createElement(y,Object.assign({type:"time"},t),j.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:h,style:R,onKeyDown:m,title:b?(typeof s=="string"?s+": ":"")+b:void 0,className:gr(p?"rbc-background-event":"rbc-event",r,C.className,{"rbc-selected":o,"rbc-event-continues-earlier":l,"rbc-event-continues-later":c})},A))}var AIe=function(e){var r=e.children,n=e.className,i=e.style,a=e.innerRef;return j.createElement("div",{className:n,style:i,ref:a},r)},CIe=j.forwardRef(function(t,e){return j.createElement(AIe,Object.assign({},t,{innerRef:e}))}),TIe=["dayProp"],IIe=["eventContainerWrapper","timeIndicatorWrapper"],RH=function(t){function e(){var r;Zr(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Xn(this,e,[].concat(i)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(o){var s=o.events,l=o.isBackgroundEvent,c=r.props,u=c.rtl,f=c.selected,h=c.accessors,p=c.localizer,m=c.getters,g=c.components,v=c.step,y=c.timeslots,x=c.dayLayoutAlgorithm,b=c.resizable,S=r,E=S.slotMetrics,C=p.messages,A=SIe({events:s,accessors:h,slotMetrics:E,minimumStartDifference:Math.ceil(v*y/2),dayLayoutAlgorithm:x});return A.map(function(T,I){var N,O=T.event,R=T.style,k=h.end(O),M=h.start(O),U=(N=h.eventId(O))!==null&&N!==void 0?N:"evt_"+I,L="eventTimeRangeFormat",z,B=E.startsBeforeDay(M),$=E.startsAfterDay(k);B?L="eventTimeRangeEndFormat":$&&(L="eventTimeRangeStartFormat"),B&&$?z=C.allDay:z=p.format({start:M,end:k},L);var W=B||E.startsBefore(M),H=$||E.startsAfter(k);return j.createElement(EIe,{style:R,event:O,label:z,key:U,getters:m,rtl:u,components:g,continuesPrior:W,continuesAfter:H,accessors:h,resource:r.props.resource,selected:t2(O,f),onClick:function(Z){return r._select(Rt(Rt(Rt({},O),r.props.resource&&{sourceResource:r.props.resource}),l&&{isBackgroundEvent:!0}),Z)},onDoubleClick:function(Z){return r._doubleClick(O,Z)},isBackgroundEvent:l,onKeyPress:function(Z){return r._keyPress(O,Z)},resizable:b})})},r._selectable=function(){var o=r.containerRef.current,s=r.props,l=s.longPressThreshold,c=s.localizer,u=r._selector=new AH(function(){return o},{longPressThreshold:l}),f=function(g){var v=r.props.onSelecting,y=r.state||{},x=h(g),b=x.startDate,S=x.endDate;v&&(c.eq(y.startDate,b,"minutes")&&c.eq(y.endDate,S,"minutes")||v({start:b,end:S,resourceId:r.props.resource})===!1)||(r.state.start!==x.start||r.state.end!==x.end||r.state.selecting!==x.selecting)&&r.setState(x)},h=function(g){var v=r.slotMetrics.closestSlotFromPoint(g,Du(o));r.state.selecting||(r._initialSlot=v);var y=r._initialSlot;c.lte(y,v)?v=r.slotMetrics.nextSlot(v):c.gt(y,v)&&(y=r.slotMetrics.nextSlot(y));var x=r.slotMetrics.getRange(c.min(y,v),c.max(y,v));return Rt(Rt({},x),{},{selecting:!0,top:"".concat(x.top,"%"),height:"".concat(x.height,"%")})},p=function(g,v){if(!Ax(r.containerRef.current,g)){var y=h(g),x=y.startDate,b=y.endDate;r._selectSlot({startDate:x,endDate:b,action:v,box:g})}r.setState({selecting:!1})};u.on("selecting",f),u.on("selectStart",f),u.on("beforeSelect",function(m){if(r.props.selectable==="ignoreEvents")return!Ax(r.containerRef.current,m)}),u.on("click",function(m){return p(m,"click")}),u.on("doubleClick",function(m){return p(m,"doubleClick")}),u.on("select",function(m){r.state.selecting&&(r._selectSlot(Rt(Rt({},r.state),{},{action:"select",bounds:m})),r.setState({selecting:!1}))}),u.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(o){for(var s=o.startDate,l=o.endDate,c=o.action,u=o.bounds,f=o.box,h=s,p=[];r.props.localizer.lte(h,l);)p.push(h),h=new Date(+h+r.props.step*60*1e3);qt(r.props.onSelectSlot,{slots:p,start:s,end:l,resourceId:r.props.resource,action:c,bounds:u,box:f})},r._select=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];qt(r.props.onSelectEvent,s)},r._doubleClick=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];qt(r.props.onDoubleClickEvent,s)},r._keyPress=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];qt(r.props.onKeyPressEvent,s)},r.slotMetrics=DO(r.props),r.containerRef=_.createRef(),r}return Yn(e,t),Jr(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,i){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var a=this.props,o=a.getNow,s=a.isNow,l=a.localizer,c=a.date,u=a.min,f=a.max,h=l.neq(n.getNow(),o(),"minutes");if(n.isNow!==s||h){if(this.clearTimeIndicatorInterval(),s){var p=!h&&l.eq(n.date,c,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(p)}}else s&&(l.neq(n.min,u,"minutes")||l.neq(n.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,i=n.min,a=n.max,o=n.getNow,s=o();if(s>=i&&s<=a){var l=this.slotMetrics.getCurrentTimePosition(s);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,i=n.date,a=n.max,o=n.rtl,s=n.isNow,l=n.resource,c=n.accessors,u=n.localizer,f=n.getters,h=f.dayProp,p=Uo(f,TIe),m=n.components,g=m.eventContainerWrapper,v=m.timeIndicatorWrapper,y=Uo(m,IIe);this.slotMetrics=this.slotMetrics.update(this.props);var x=this.slotMetrics,b=this.state,S=b.selecting,E=b.top,C=b.height,A=b.startDate,T=b.endDate,I={start:A,end:T},N=h(a,l),O=N.className,R=N.style,k={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},M=y.dayColumnWrapper||CIe;return j.createElement(M,{ref:this.containerRef,date:i,style:R,className:gr(O,"rbc-day-slot","rbc-time-column",s&&"rbc-now",s&&"rbc-today",S&&"rbc-slot-selecting"),slotMetrics:x,resource:l},x.groups.map(function(U,L){return j.createElement(kH,{key:L,group:U,resource:l,getters:p,components:y})}),j.createElement(g,{localizer:u,resource:l,accessors:c,getters:p,components:y,slotMetrics:x},j.createElement("div",{className:gr("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),S&&j.createElement("div",{className:"rbc-slot-selection",style:{top:E,height:C}},j.createElement("span",null,u.format(I,"selectRangeFormat"))),s&&this.intervalTriggered&&j.createElement(v,k,j.createElement("div",k)))}}])}(j.Component);RH.defaultProps={dragThroughEvents:!0,timeslots:2};var DH=function(e){var r=e.label;return j.createElement(j.Fragment,null,r)},NIe=function(t){function e(){var r;Zr(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Xn(this,e,[].concat(i)),r.handleHeaderClick=function(o,s,l){l.preventDefault(),qt(r.props.onDrillDown,[o,s])},r.renderRow=function(o){var s=r.props,l=s.events,c=s.rtl,u=s.selectable,f=s.getNow,h=s.range,p=s.getters,m=s.localizer,g=s.accessors,v=s.components,y=s.resizable,x=g.resourceId(o),b=o?l.filter(function(S){return g.resource(S)===x}):l;return j.createElement(Mg,{isAllDay:!0,rtl:c,getNow:f,minRows:2,maxRows:r.props.allDayMaxRows+1,range:h,events:b,resourceId:x,className:"rbc-allday-cell",selectable:u,selected:r.props.selected,components:v,accessors:g,getters:p,localizer:m,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:y})},r}return Yn(e,t),Jr(e,[{key:"renderHeaderCells",value:function(n){var i=this,a=this.props,o=a.localizer,s=a.getDrilldownView,l=a.getNow,c=a.getters.dayProp,u=a.components.header,f=u===void 0?RO:u,h=l();return n.map(function(p,m){var g=s(p),v=o.format(p,"dayFormat"),y=c(p),x=y.className,b=y.style,S=j.createElement(f,{date:p,label:v,localizer:o});return j.createElement("div",{key:m,style:b,className:gr("rbc-header",x,o.isSameDate(p,h)&&"rbc-today")},g?j.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(C){return i.handleHeaderClick(p,g,C)}},S):j.createElement("span",null,S))})}},{key:"render",value:function(){var n=this,i=this.props,a=i.width,o=i.rtl,s=i.resources,l=i.range,c=i.events,u=i.getNow,f=i.accessors,h=i.selectable,p=i.components,m=i.getters,g=i.scrollRef,v=i.localizer,y=i.isOverflowing,x=i.components,b=x.timeGutterHeader,S=x.resourceHeader,E=S===void 0?DH:S,C=i.resizable,A={};y&&(A[o?"marginLeft":"marginRight"]="".concat(uO()-1,"px"));var T=s.groupEvents(c);return j.createElement("div",{style:A,ref:g,className:gr("rbc-time-header",y&&"rbc-overflowing")},j.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},b&&j.createElement(b,null)),s.map(function(I,N){var O=Tu(I,2),R=O[0],k=O[1];return j.createElement("div",{className:"rbc-time-header-content",key:R||N},k&&j.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(N)},j.createElement("div",{className:"rbc-header"},j.createElement(E,{index:N,label:f.resourceTitle(k),resource:k}))),j.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(l)),j.createElement(Mg,{isAllDay:!0,rtl:o,getNow:u,minRows:2,maxRows:n.props.allDayMaxRows+1,range:l,events:T.get(R)||[],resourceId:k&&R,className:"rbc-allday-cell",selectable:h,selected:n.props.selected,components:p,accessors:f,getters:m,localizer:v,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:C}))}))}}])}(j.Component),PIe=function(t){function e(){var r;Zr(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Xn(this,e,[].concat(i)),r.handleHeaderClick=function(o,s,l){l.preventDefault(),qt(r.props.onDrillDown,[o,s])},r}return Yn(e,t),Jr(e,[{key:"renderHeaderCells",value:function(n){var i=this,a=this.props,o=a.localizer,s=a.getDrilldownView,l=a.getNow,c=a.getters.dayProp,u=a.components,f=u.header,h=f===void 0?RO:f,p=u.resourceHeader,m=p===void 0?DH:p,g=a.resources,v=a.accessors,y=a.events,x=a.rtl,b=a.selectable,S=a.components,E=a.getters,C=a.resizable,A=l(),T=g.groupEvents(y);return n.map(function(I,N){var O=s(I),R=o.format(I,"dayFormat"),k=c(I),M=k.className,U=k.style,L=j.createElement(h,{date:I,label:R,localizer:o});return j.createElement("div",{key:N,className:"rbc-time-header-content rbc-resource-grouping"},j.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},j.createElement("div",{style:U,className:gr("rbc-header",M,o.isSameDate(I,A)&&"rbc-today")},O?j.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(B){return i.handleHeaderClick(I,O,B)}},L):j.createElement("span",null,L))),j.createElement("div",{className:"rbc-row"},g.map(function(z,B){var $=Tu(z,2),W=$[0],H=$[1];return j.createElement("div",{key:"resource_".concat(W,"_").concat(B),className:gr("rbc-header",M,o.isSameDate(I,A)&&"rbc-today")},j.createElement(m,{index:B,label:v.resourceTitle(H),resource:H}))})),j.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},g.map(function(z,B){var $=Tu(z,2),W=$[0],H=$[1],G=(T.get(W)||[]).filter(function(Z){return o.isSameDate(Z.start,I)||o.isSameDate(Z.end,I)});return j.createElement(Mg,{key:"resource_".concat(W,"_").concat(B),isAllDay:!0,rtl:x,getNow:l,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[I],events:G,resourceId:H&&W,className:"rbc-allday-cell",selectable:b,selected:i.props.selected,components:S,accessors:v,getters:E,localizer:o,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:C})})))})}},{key:"render",value:function(){var n=this.props,i=n.width,a=n.rtl,o=n.range,s=n.scrollRef,l=n.isOverflowing,c=n.components.timeGutterHeader,u={};return l&&(u[a?"marginLeft":"marginRight"]="".concat(uO()-1,"px")),j.createElement("div",{style:u,ref:s,className:gr("rbc-time-header",l&&"rbc-overflowing")},j.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},c&&j.createElement(c,null)),this.renderHeaderCells(o))}}])}(j.Component);function OIe(t){var e=t.min,r=t.max,n=t.localizer;return n.getTimezoneOffset(e)!==n.getTimezoneOffset(r)?{start:n.add(e,-1,"day"),end:n.add(r,-1,"day")}:{start:e,end:r}}var kIe=function(e){var r=e.min,n=e.max,i=e.timeslots,a=e.step,o=e.localizer,s=e.getNow,l=e.resource,c=e.components,u=e.getters,f=e.gutterRef,h=c.timeGutterWrapper,p=_.useMemo(function(){return OIe({min:r,max:n,localizer:o})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),o]),m=p.start,g=p.end,v=_.useState(DO({min:m,max:g,timeslots:i,step:a,localizer:o})),y=Tu(v,2),x=y[0],b=y[1];_.useEffect(function(){x&&b(x.update({min:m,max:g,timeslots:i,step:a,localizer:o}))},[m==null?void 0:m.toISOString(),g==null?void 0:g.toISOString(),i,a]);var S=_.useCallback(function(E,C){if(C)return null;var A=x.dateIsInGroup(s(),C);return j.createElement("span",{className:gr("rbc-label",A&&"rbc-now")},o.format(E,"timeGutterFormat"))},[x,o,s]);return j.createElement(h,{slotMetrics:x},j.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},x.groups.map(function(E,C){return j.createElement(kH,{key:C,group:E,resource:l,components:c,renderSlot:S,getters:u})})))},RIe=j.forwardRef(function(t,e){return j.createElement(kIe,Object.assign({gutterRef:e},t))}),HS={};function DIe(t,e){return{map:function(n){return t?t.map(function(i,a){return n([e.resourceId(i),i],a)}):[n([HS,null],0)]},groupEvents:function(n){var i=new Map;return t?(n.forEach(function(a){var o=e.resource(a)||HS;if(Array.isArray(o))o.forEach(function(l){var c=i.get(l)||[];c.push(a),i.set(l,c)});else{var s=i.get(o)||[];s.push(a),i.set(o,s)}}),i):(i.set(HS,n),i)}}}var Gh=function(t){function e(r){var n;return Zr(this,e),n=Xn(this,e,[r]),n.handleScroll=function(i){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=i.target.scrollLeft)},n.handleResize=function(){p4(n.rafHandle),n.rafHandle=yW(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];qt(n.props.onKeyPressEvent,a)},n.handleSelectEvent=function(){n.clearSelection();for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];qt(n.props.onSelectEvent,a)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];qt(n.props.onDoubleClickEvent,a)},n.handleShowMore=function(i,a,o,s,l){var c=n.props,u=c.popup,f=c.onDrillDown,h=c.onShowMore,p=c.getDrilldownView,m=c.doShowMoreDrillDown;if(n.clearSelection(),u){var g=vW(o,n.containerRef.current);n.setState({overlay:{date:a,events:i,position:Rt(Rt({},g),{},{width:"200px"}),target:l}})}else m&&qt(f,[a,p(a)||si.DAY]);qt(h,[i,a,s])},n.handleSelectAllDaySlot=function(i,a){var o=n.props.onSelectSlot,s=new Date(i[0]),l=new Date(i[i.length-1]);l.setDate(i[i.length-1].getDate()+1),qt(o,{slots:i,start:s,end:l,action:a.action,resourceId:a.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var i=n.contentRef.current;if(i!=null&&i.scrollHeight){var a=i.scrollHeight>i.clientHeight;n.state.isOverflowing!==a&&(n._updatingOverflow=!0,n.setState({isOverflowing:a},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=ZW(function(i,a){return DIe(i,a)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=j.createRef(),n.contentRef=j.createRef(),n.containerRef=j.createRef(),n._scrollRatio=null,n.gutterRef=_.createRef(),n}return Yn(e,t),Jr(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),p4(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,i,a,o,s,l,c,u,f,h){var p=this.props,m=p.min,g=p.max,v=(o.get(i)||[]).filter(function(x){return l.inRange(n,c.start(x),c.end(x),"day")}),y=(s.get(i)||[]).filter(function(x){return l.inRange(n,c.start(x),c.end(x),"day")});return j.createElement(RH,Object.assign({},this.props,{localizer:l,min:l.merge(n,m),max:l.merge(n,g),resource:a&&i,components:u,isNow:l.isSameDate(n,h),key:"".concat(i,"-").concat(n),date:n,events:v,backgroundEvents:y,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(n,i,a,o,s,l,c,u,f){var h=this;return i.map(function(p){var m=Tu(p,2),g=m[0],v=m[1];return n.map(function(y){return h.renderDayColumn(y,g,v,a,o,s,l,u,f,c)})})}},{key:"renderRangeFirst",value:function(n,i,a,o,s,l,c,u,f){var h=this;return n.map(function(p){return j.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:p},i.map(function(m){var g=Tu(m,2),v=g[0],y=g[1];return j.createElement("div",{style:{flex:1},key:l.resourceId(y)},h.renderDayColumn(p,v,y,a,o,s,l,u,f,c))}))})}},{key:"renderEvents",value:function(n,i,a,o){var s=this.props,l=s.accessors,c=s.localizer,u=s.resourceGroupingLayout,f=s.components,h=s.dayLayoutAlgorithm,p=this.memoizedResources(this.props.resources,l),m=p.groupEvents(i),g=p.groupEvents(a);return u?this.renderRangeFirst(n,p,m,g,c,l,o,f,h):this.renderResourcesFirst(n,p,m,g,c,l,o,f,h)}},{key:"render",value:function(){var n,i=this.props,a=i.events,o=i.backgroundEvents,s=i.range,l=i.width,c=i.rtl,u=i.selected,f=i.getNow,h=i.resources,p=i.components,m=i.accessors,g=i.getters,v=i.localizer,y=i.min,x=i.max,b=i.showMultiDayTimes,S=i.longPressThreshold,E=i.resizable,C=i.resourceGroupingLayout;l=l||this.state.gutterWidth;var A=s[0],T=s[s.length-1];this.slots=s.length;var I=[],N=[],O=[];a.forEach(function(k){if(jg(k,A,T,m,v)){var M=m.start(k),U=m.end(k);m.allDay(k)||v.startAndEndAreDateOnly(M,U)||!b&&!v.isSameDate(M,U)?I.push(k):N.push(k)}}),o.forEach(function(k){jg(k,A,T,m,v)&&O.push(k)}),I.sort(function(k,M){return LC(k,M,m,v)});var R={range:s,events:I,width:l,rtl:c,getNow:f,localizer:v,selected:u,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(h,m),selectable:this.props.selectable,accessors:m,getters:g,components:p,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:S,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:E};return j.createElement("div",{className:gr("rbc-time-view",h&&"rbc-time-view-resources"),ref:this.containerRef},h&&h.length>1&&C?j.createElement(PIe,R):j.createElement(NIe,R),this.props.popup&&this.renderOverlay(),j.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},j.createElement(RIe,{date:A,ref:this.gutterRef,localizer:v,min:v.merge(A,y),max:v.merge(A,x),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:p,className:"rbc-time-gutter",getters:g}),this.renderEvents(s,N,O,f())))}},{key:"renderOverlay",value:function(){var n,i,a=this,o=(n=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&n!==void 0?n:{},s=this.props,l=s.accessors,c=s.localizer,u=s.components,f=s.getters,h=s.selected,p=s.popupOffset,m=s.handleDragStart,g=function(){return a.setState({overlay:null})};return j.createElement(kO,{overlay:o,accessors:l,localizer:c,components:u,getters:f,selected:h,popupOffset:p,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:m,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,a=(i=n.gutterRef)!==null&&i!==void 0&&i.current?DC(n.gutterRef.current):void 0;a&&n.state.gutterWidth!==a&&n.setState({gutterWidth:a})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=n.min,a=n.max,o=n.scrollToTime,s=n.localizer,l=s.diff(s.merge(o,i),o,"milliseconds"),c=s.diff(i,a,"milliseconds");this._scrollRatio=l/c}}])}(_.Component);Gh.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var jIe=["date","localizer","min","max","scrollToTime","enableAutoScroll"],n2=function(t){function e(){return Zr(this,e),Xn(this,e,arguments)}return Yn(e,t),Jr(e,[{key:"render",value:function(){var n=this.props,i=n.date,a=n.localizer,o=n.min,s=o===void 0?a.startOf(new Date,"day"):o,l=n.max,c=l===void 0?a.endOf(new Date,"day"):l,u=n.scrollToTime,f=u===void 0?a.startOf(new Date,"day"):u,h=n.enableAutoScroll,p=h===void 0?!0:h,m=Uo(n,jIe),g=e.range(i,{localizer:a});return j.createElement(Gh,Object.assign({},m,{range:g,eventOffset:10,localizer:a,min:s,max:c,scrollToTime:f,enableAutoScroll:p}))}}])}(j.Component);n2.range=function(t,e){var r=e.localizer;return[r.startOf(t,"day")]};n2.navigate=function(t,e,r){var n=r.localizer;switch(e){case Pi.PREVIOUS:return n.add(t,-1,"day");case Pi.NEXT:return n.add(t,1,"day");default:return t}};n2.title=function(t,e){var r=e.localizer;return r.format(t,"dayHeaderFormat")};var MIe=["date","localizer","min","max","scrollToTime","enableAutoScroll"],ac=function(t){function e(){return Zr(this,e),Xn(this,e,arguments)}return Yn(e,t),Jr(e,[{key:"render",value:function(){var n=this.props,i=n.date,a=n.localizer,o=n.min,s=o===void 0?a.startOf(new Date,"day"):o,l=n.max,c=l===void 0?a.endOf(new Date,"day"):l,u=n.scrollToTime,f=u===void 0?a.startOf(new Date,"day"):u,h=n.enableAutoScroll,p=h===void 0?!0:h,m=Uo(n,MIe),g=e.range(i,this.props);return j.createElement(Gh,Object.assign({},m,{range:g,eventOffset:15,localizer:a,min:s,max:c,scrollToTime:f,enableAutoScroll:p}))}}])}(j.Component);ac.defaultProps=Gh.defaultProps;ac.navigate=function(t,e,r){var n=r.localizer;switch(e){case Pi.PREVIOUS:return n.add(t,-1,"week");case Pi.NEXT:return n.add(t,1,"week");default:return t}};ac.range=function(t,e){var r=e.localizer,n=r.startOfWeek(),i=r.startOf(t,"week",n),a=r.endOf(t,"week",n);return r.range(i,a)};ac.title=function(t,e){var r=e.localizer,n=ac.range(t,{localizer:r}),i=aH(n),a=i[0],o=i.slice(1);return r.format({start:a,end:o.pop()},"dayRangeHeaderFormat")};var LIe=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function jO(t,e){return ac.range(t,e).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var n0=function(t){function e(){return Zr(this,e),Xn(this,e,arguments)}return Yn(e,t),Jr(e,[{key:"render",value:function(){var n=this.props,i=n.date,a=n.localizer,o=n.min,s=o===void 0?a.startOf(new Date,"day"):o,l=n.max,c=l===void 0?a.endOf(new Date,"day"):l,u=n.scrollToTime,f=u===void 0?a.startOf(new Date,"day"):u,h=n.enableAutoScroll,p=h===void 0?!0:h,m=Uo(n,LIe),g=jO(i,this.props);return j.createElement(Gh,Object.assign({},m,{range:g,eventOffset:15,localizer:a,min:s,max:c,scrollToTime:f,enableAutoScroll:p}))}}])}(j.Component);n0.defaultProps=Gh.defaultProps;n0.range=jO;n0.navigate=ac.navigate;n0.title=function(t,e){var r=e.localizer,n=jO(t,{localizer:r}),i=aH(n),a=i[0],o=i.slice(1);return r.format({start:a,end:o.pop()},"dayRangeHeaderFormat")};var i2=30;function a2(t){var e=t.accessors,r=t.components,n=t.date,i=t.events,a=t.getters,o=t.length,s=o===void 0?i2:o,l=t.localizer,c=t.onDoubleClickEvent,u=t.onSelectEvent,f=t.selected,h=_.useRef(null),p=_.useRef(null),m=_.useRef(null),g=_.useRef(null),v=_.useRef(null);_.useEffect(function(){b()});var y=function(T,I,N){var O=r.event,R=r.date;return I=I.filter(function(k){return jg(k,l.startOf(T,"day"),l.endOf(T,"day"),e,l)}),I.map(function(k,M){var U=e.title(k),L=e.end(k),z=e.start(k),B=a.eventProp(k,z,L,t2(k,f)),$=M===0&&l.format(T,"agendaDateFormat"),W=M===0?j.createElement("td",{rowSpan:I.length,className:"rbc-agenda-date-cell"},R?j.createElement(R,{day:T,label:$}):$):!1;return j.createElement("tr",{key:N+"_"+M,className:B.className,style:B.style},W,j.createElement("td",{className:"rbc-agenda-time-cell"},x(T,k)),j.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(G){return u&&u(k,G)},onDoubleClick:function(G){return c&&c(k,G)}},O?j.createElement(O,{event:k,title:U}):U))},[])},x=function(T,I){var N="",O=r.time,R=l.messages.allDay,k=e.end(I),M=e.start(I);return e.allDay(I)||(l.eq(M,k)?R=l.format(M,"agendaTimeFormat"):l.isSameDate(M,k)?R=l.format({start:M,end:k},"agendaTimeRangeFormat"):l.isSameDate(T,M)?R=l.format(M,"agendaTimeFormat"):l.isSameDate(T,k)&&(R=l.format(k,"agendaTimeFormat"))),l.gt(T,M,"day")&&(N="rbc-continues-prior"),l.lt(T,k,"day")&&(N+=" rbc-continues-after"),j.createElement("span",{className:N.trim()},O?j.createElement(O,{event:I,day:T,label:R}):R)},b=function(){if(v.current){var T=h.current,I=v.current.firstChild;if(I){var N=g.current.scrollHeight>g.current.clientHeight,O=[],R=O;O=[DC(I.children[0]),DC(I.children[1])],(R[0]!==O[0]||R[1]!==O[1])&&(p.current.style.width=O[0]+"px",m.current.style.width=O[1]+"px"),N?(Jge(T,"rbc-header-overflowing"),T.style.marginRight=uO()+"px"):eve(T,"rbc-header-overflowing")}}},S=l.messages,E=l.add(n,s,"day"),C=l.range(n,E,"day");return i=i.filter(function(A){return jg(A,l.startOf(n,"day"),l.endOf(E,"day"),e,l)}),i.sort(function(A,T){return+e.start(A)-+e.start(T)}),j.createElement("div",{className:"rbc-agenda-view"},i.length!==0?j.createElement(j.Fragment,null,j.createElement("table",{ref:h,className:"rbc-agenda-table"},j.createElement("thead",null,j.createElement("tr",null,j.createElement("th",{className:"rbc-header",ref:p},S.date),j.createElement("th",{className:"rbc-header",ref:m},S.time),j.createElement("th",{className:"rbc-header"},S.event)))),j.createElement("div",{className:"rbc-agenda-content",ref:g},j.createElement("table",{className:"rbc-agenda-table"},j.createElement("tbody",{ref:v},C.map(function(A,T){return y(A,i,T)}))))):j.createElement("span",{className:"rbc-agenda-empty"},S.noEventsInRange))}a2.range=function(t,e){var r=e.length,n=r===void 0?i2:r,i=e.localizer,a=i.add(t,n,"day");return{start:t,end:a}};a2.navigate=function(t,e,r){var n=r.length,i=n===void 0?i2:n,a=r.localizer;switch(e){case Pi.PREVIOUS:return a.add(t,-i,"day");case Pi.NEXT:return a.add(t,i,"day");default:return t}};a2.title=function(t,e){var r=e.length,n=r===void 0?i2:r,i=e.localizer,a=i.add(t,n,"day");return i.format({start:t,end:a},"agendaHeaderFormat")};var p1=Qc(Qc(Qc(Qc(Qc({},si.MONTH,r2),si.WEEK,ac),si.WORK_WEEK,n0),si.DAY,n2),si.AGENDA,a2),$Ie=["action","date","today"];function FIe(t,e){var r=e.action,n=e.date,i=e.today,a=Uo(e,$Ie);switch(t=typeof t=="string"?p1[t]:t,r){case Pi.TODAY:n=i||new Date;break;case Pi.DATE:break;default:_g(t&&typeof t.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=t.navigate(n,r,a)}return n}function BIe(t,e){var r=null;return typeof e=="function"?r=e(t):typeof e=="string"&&oo(t)==="object"&&t!=null&&e in t&&(r=t[e]),r}var es=function(e){return function(r){return BIe(r,e)}},VIe=["view","date","getNow","onNavigate"],UIe=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function jH(t){if(Array.isArray(t))return t;for(var e=[],r=0,n=Object.entries(t);r<n.length;r++){var i=Tu(n[r],2),a=i[0],o=i[1];o&&e.push(a)}return e}function zIe(t,e){var r=e.views,n=jH(r);return n.indexOf(t)!==-1}var MH=function(t){function e(){var r;Zr(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Xn(this,e,[].concat(i)),r.getViews=function(){var o=r.props.views;return Array.isArray(o)?xTe(o,function(s,l){return s[l]=p1[l]},{}):oo(o)==="object"?sH(o,function(s,l){return s===!0?p1[l]:s}):p1},r.getView=function(){var o=r.getViews();return o[r.props.view]},r.getDrilldownView=function(o){var s=r.props,l=s.view,c=s.drilldownView,u=s.getDrilldownView;return u?u(o,l,Object.keys(r.getViews())):c},r.handleRangeChange=function(o,s,l){var c=r.props,u=c.onRangeChange,f=c.localizer;u&&s.range&&u(s.range(o,{localizer:f}),l)},r.handleNavigate=function(o,s){var l=r.props,c=l.view,u=l.date,f=l.getNow,h=l.onNavigate,p=Uo(l,VIe),m=r.getView(),g=f();u=FIe(m,Rt(Rt({},p),{},{action:o,date:s||u||g,today:g})),h(u,c,o),r.handleRangeChange(u,m)},r.handleViewChange=function(o){o!==r.props.view&&zIe(o,r.props)&&r.props.onView(o);var s=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),s[o],o)},r.handleSelectEvent=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];qt(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];qt(r.props.onDoubleClickEvent,s)},r.handleKeyPressEvent=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];qt(r.props.onKeyPressEvent,s)},r.handleSelectSlot=function(o){qt(r.props.onSelectSlot,o)},r.handleDrillDown=function(o,s){var l=r.props.onDrillDown;if(l){l(o,s,r.drilldownView);return}s&&r.handleViewChange(s),r.handleNavigate(Pi.DATE,o)},r.state={context:e.getContext(r.props)},r}return Yn(e,t),Jr(e,[{key:"render",value:function(){var n=this.props,i=n.view,a=n.toolbar,o=n.events,s=n.backgroundEvents,l=n.resourceGroupingLayout,c=n.style,u=n.className,f=n.elementProps,h=n.date,p=n.getNow,m=n.length,g=n.showMultiDayTimes,v=n.onShowMore,y=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var x=Uo(n,UIe);h=h||p();var b=this.getView(),S=this.state.context,E=S.accessors,C=S.components,A=S.getters,T=S.localizer,I=S.viewNames,N=C.toolbar||GTe,O=b.title(h,{localizer:T,length:m});return j.createElement("div",Object.assign({},f,{className:gr(u,"rbc-calendar",x.rtl&&"rbc-rtl"),style:c}),a&&j.createElement(N,{date:h,view:i,views:I,label:O,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:T}),j.createElement(b,Object.assign({},x,{events:o,backgroundEvents:s,date:h,getNow:p,length:m,localizer:T,getters:A,components:C,accessors:E,showMultiDayTimes:g,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:v,doShowMoreDrillDown:y,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:e.getContext(n)}}},{key:"getContext",value:function(n){var i=n.startAccessor,a=n.endAccessor,o=n.allDayAccessor,s=n.tooltipAccessor,l=n.titleAccessor,c=n.resourceAccessor,u=n.resourceIdAccessor,f=n.resourceTitleAccessor,h=n.eventIdAccessor,p=n.eventPropGetter,m=n.backgroundEventPropGetter,g=n.slotPropGetter,v=n.slotGroupPropGetter,y=n.dayPropGetter,x=n.view,b=n.views,S=n.localizer,E=n.culture,C=n.messages,A=C===void 0?{}:C,T=n.components,I=T===void 0?{}:T,N=n.formats,O=N===void 0?{}:N,R=jH(b),k=KTe(A);return{viewNames:R,localizer:HTe(S,E,O,k),getters:{eventProp:function(){return p&&p.apply(void 0,arguments)||{}},backgroundEventProp:function(){return m&&m.apply(void 0,arguments)||{}},slotProp:function(){return g&&g.apply(void 0,arguments)||{}},slotGroupProp:function(){return v&&v.apply(void 0,arguments)||{}},dayProp:function(){return y&&y.apply(void 0,arguments)||{}}},components:hSe(I[x]||{},oTe(I,R),{eventWrapper:wo,backgroundEventWrapper:wo,eventContainerWrapper:wo,dateCellWrapper:wo,weekWrapper:wo,timeSlotWrapper:wo,timeGutterWrapper:wo,timeIndicatorWrapper:wo}),accessors:{start:es(i),end:es(a),allDay:es(o),tooltip:es(s),title:es(l),resource:es(c),resourceId:es(u),resourceTitle:es(f),eventId:es(h)}}}}])}(j.Component);MH.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:si.MONTH,views:[si.MONTH,si.WEEK,si.DAY,si.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:si.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var WIe=Qz(MH,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),HIe=function(e,r,n){var i=e.start,a=e.end;return"".concat(n.format(i,"P",r),"  ").concat(n.format(a,"P",r))},GS=function(e,r,n){var i=e.start,a=e.end;return"".concat(n.format(i,"p",r),"  ").concat(n.format(a,"p",r))},GIe=function(e,r,n){var i=e.start;return"".concat(n.format(i,"h:mma",r),"  ")},qIe=function(e,r,n){var i=e.end;return"  ".concat(n.format(i,"h:mma",r))},KIe=function(e,r,n){var i=e.start,a=e.end;return"".concat(n.format(i,"MMMM dd",r),"  ").concat(n.format(a,Oh(i,a,"month")?"dd":"MMMM dd",r))},YIe={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:GS,eventTimeRangeFormat:GS,eventTimeRangeStartFormat:GIe,eventTimeRangeEndFormat:qIe,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:KIe,agendaHeaderFormat:HIe,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:GS},XIe=function(e){var r=e.startOfWeek,n=e.getDay,i=e.format,a=e.locales;return new WTe({formats:YIe,firstOfWeek:function(s){return n(r(new Date,{locale:a[s]}))},format:function(s,l,c){return i(new Date(s),l,{locale:a[c]})}})},MO="Dialog",[LH,Fat]=co(MO),[QIe,po]=LH(MO),$H=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,s=_.useRef(null),l=_.useRef(null),[c=!1,u]=Os({prop:n,defaultProp:i,onChange:a});return d.jsx(QIe,{scope:e,triggerRef:s,contentRef:l,contentId:Ja(),titleId:Ja(),descriptionId:Ja(),open:c,onOpenChange:u,onOpenToggle:_.useCallback(()=>u(f=>!f),[u]),modal:o,children:r})};$H.displayName=MO;var FH="DialogTrigger",BH=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=po(FH,r),a=Ze(e,i.triggerRef);return d.jsx(je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":FO(i.open),...n,ref:a,onClick:_e(t.onClick,i.onOpenToggle)})});BH.displayName=FH;var LO="DialogPortal",[ZIe,VH]=LH(LO,{forceMount:void 0}),UH=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=po(LO,e);return d.jsx(ZIe,{scope:e,forceMount:r,children:_.Children.map(n,o=>d.jsx(In,{present:r||a.open,children:d.jsx(Vv,{asChild:!0,container:i,children:o})}))})};UH.displayName=LO;var Cx="DialogOverlay",zH=_.forwardRef((t,e)=>{const r=VH(Cx,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=po(Cx,t.__scopeDialog);return a.modal?d.jsx(In,{present:n||a.open,children:d.jsx(JIe,{...i,ref:e})}):null});zH.displayName=Cx;var JIe=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=po(Cx,r);return d.jsx(qv,{as:Is,allowPinchZoom:!0,shards:[i.contentRef],children:d.jsx(je.div,{"data-state":FO(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),ju="DialogContent",WH=_.forwardRef((t,e)=>{const r=VH(ju,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=po(ju,t.__scopeDialog);return d.jsx(In,{present:n||a.open,children:a.modal?d.jsx(eNe,{...i,ref:e}):d.jsx(tNe,{...i,ref:e})})});WH.displayName=ju;var eNe=_.forwardRef((t,e)=>{const r=po(ju,t.__scopeDialog),n=_.useRef(null),i=Ze(e,r.contentRef,n);return _.useEffect(()=>{const a=n.current;if(a)return Db(a)},[]),d.jsx(HH,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:_e(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&a.preventDefault()}),onFocusOutside:_e(t.onFocusOutside,a=>a.preventDefault())})}),tNe=_.forwardRef((t,e)=>{const r=po(ju,t.__scopeDialog),n=_.useRef(!1),i=_.useRef(!1);return d.jsx(HH,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((c=r.triggerRef.current)==null?void 0:c.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),HH=_.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,s=po(ju,r),l=_.useRef(null),c=Ze(e,l);return Rb(),d.jsxs(d.Fragment,{children:[d.jsx(Hv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:d.jsx(Ah,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":FO(s.open),...o,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(rNe,{titleId:s.titleId}),d.jsx(iNe,{contentRef:l,descriptionId:s.descriptionId})]})]})}),$O="DialogTitle",GH=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=po($O,r);return d.jsx(je.h2,{id:i.titleId,...n,ref:e})});GH.displayName=$O;var qH="DialogDescription",KH=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=po(qH,r);return d.jsx(je.p,{id:i.descriptionId,...n,ref:e})});KH.displayName=qH;var YH="DialogClose",XH=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=po(YH,r);return d.jsx(je.button,{type:"button",...n,ref:e,onClick:_e(t.onClick,()=>i.onOpenChange(!1))})});XH.displayName=YH;function FO(t){return t?"open":"closed"}var QH="DialogTitleWarning",[Bat,ZH]=yie(QH,{contentName:ju,titleName:$O,docsSlug:"dialog"}),rNe=({titleId:t})=>{const e=ZH(QH),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},nNe="DialogDescriptionWarning",iNe=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ZH(nNe).contentName}}.`;return _.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},JH=$H,aNe=BH,eG=UH,o2=zH,s2=WH,l2=GH,c2=KH,tG=XH;const ci=JH,oNe=aNe,sNe=eG,rG=_.forwardRef(({className:t,...e},r)=>d.jsx(o2,{ref:r,className:Ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));rG.displayName=o2.displayName;const zn=_.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(sNe,{children:[d.jsx(rG,{}),d.jsxs(s2,{ref:n,className:Ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,d.jsxs(tG,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(ls,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zn.displayName=s2.displayName;const Wn=({className:t,...e})=>d.jsx("div",{className:Ae("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Wn.displayName="DialogHeader";const eo=({className:t,...e})=>d.jsx("div",{className:Ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});eo.displayName="DialogFooter";const Hn=_.forwardRef(({className:t,...e},r)=>d.jsx(l2,{ref:r,className:Ae("text-lg font-semibold leading-none tracking-tight",t),...e}));Hn.displayName=l2.displayName;const to=_.forwardRef(({className:t,...e},r)=>d.jsx(c2,{ref:r,className:Ae("text-sm text-muted-foreground",t),...e}));to.displayName=c2.displayName;const lNe=JH,cNe=eG,nG=_.forwardRef(({className:t,...e},r)=>d.jsx(o2,{className:Ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));nG.displayName=o2.displayName;const uNe=Uv("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),iG=_.forwardRef(({side:t="right",className:e,children:r,...n},i)=>d.jsxs(cNe,{children:[d.jsx(nG,{}),d.jsxs(s2,{ref:i,className:Ae(uNe({side:t}),e),...n,children:[r,d.jsxs(tG,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[d.jsx(ls,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));iG.displayName=s2.displayName;const aG=({className:t,...e})=>d.jsx("div",{className:Ae("flex flex-col space-y-2 text-center sm:text-left",t),...e});aG.displayName="SheetHeader";const oG=_.forwardRef(({className:t,...e},r)=>d.jsx(l2,{ref:r,className:Ae("text-lg font-semibold text-foreground",t),...e}));oG.displayName=l2.displayName;const sG=_.forwardRef(({className:t,...e},r)=>d.jsx(c2,{ref:r,className:Ae("text-sm text-muted-foreground",t),...e}));sG.displayName=c2.displayName;function FC(t,[e,r]){return Math.min(r,Math.max(e,t))}function dNe(t,e){return _.useReducer((r,n)=>e[r][n]??r,t)}var BO="ScrollArea",[lG,Vat]=co(BO),[fNe,Na]=lG(BO),cG=_.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...o}=t,[s,l]=_.useState(null),[c,u]=_.useState(null),[f,h]=_.useState(null),[p,m]=_.useState(null),[g,v]=_.useState(null),[y,x]=_.useState(0),[b,S]=_.useState(0),[E,C]=_.useState(!1),[A,T]=_.useState(!1),I=Ze(e,O=>l(O)),N=Wv(i);return d.jsx(fNe,{scope:r,type:n,dir:N,scrollHideDelay:a,scrollArea:s,viewport:c,onViewportChange:u,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:m,scrollbarXEnabled:E,onScrollbarXEnabledChange:C,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:A,onScrollbarYEnabledChange:T,onCornerWidthChange:x,onCornerHeightChange:S,children:d.jsx(je.div,{dir:N,...o,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});cG.displayName=BO;var uG="ScrollAreaViewport",dG=_.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,asChild:i,nonce:a,...o}=t,s=Na(uG,r),l=_.useRef(null),c=Ze(e,l,s.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),d.jsx(je.div,{"data-radix-scroll-area-viewport":"",...o,asChild:i,ref:c,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:_Ne({asChild:i,children:n},u=>d.jsx("div",{"data-radix-scroll-area-content":"",ref:s.onContentChange,style:{minWidth:s.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});dG.displayName=uG;var Yo="ScrollAreaScrollbar",VO=_.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Na(Yo,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,s=t.orientation==="horizontal";return _.useEffect(()=>(s?a(!0):o(!0),()=>{s?a(!1):o(!1)}),[s,a,o]),i.type==="hover"?d.jsx(hNe,{...n,ref:e,forceMount:r}):i.type==="scroll"?d.jsx(pNe,{...n,ref:e,forceMount:r}):i.type==="auto"?d.jsx(fG,{...n,ref:e,forceMount:r}):i.type==="always"?d.jsx(UO,{...n,ref:e}):null});VO.displayName=Yo;var hNe=_.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Na(Yo,t.__scopeScrollArea),[a,o]=_.useState(!1);return _.useEffect(()=>{const s=i.scrollArea;let l=0;if(s){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return s.addEventListener("pointerenter",c),s.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),s.removeEventListener("pointerenter",c),s.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),d.jsx(In,{present:r||a,children:d.jsx(fG,{"data-state":a?"visible":"hidden",...n,ref:e})})}),pNe=_.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Na(Yo,t.__scopeScrollArea),a=t.orientation==="horizontal",o=d2(()=>l("SCROLL_END"),100),[s,l]=dNe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return _.useEffect(()=>{if(s==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[s,i.scrollHideDelay,l]),_.useEffect(()=>{const c=i.viewport,u=a?"scrollLeft":"scrollTop";if(c){let f=c[u];const h=()=>{const p=c[u];f!==p&&(l("SCROLL"),o()),f=p};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,a,l,o]),d.jsx(In,{present:r||s!=="hidden",children:d.jsx(UO,{"data-state":s==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:_e(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:_e(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),fG=_.forwardRef((t,e)=>{const r=Na(Yo,t.__scopeScrollArea),{forceMount:n,...i}=t,[a,o]=_.useState(!1),s=t.orientation==="horizontal",l=d2(()=>{if(r.viewport){const c=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(s?c:u)}},10);return Ff(r.viewport,l),Ff(r.content,l),d.jsx(In,{present:n||a,children:d.jsx(UO,{"data-state":a?"visible":"hidden",...i,ref:e})})}),UO=_.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,i=Na(Yo,t.__scopeScrollArea),a=_.useRef(null),o=_.useRef(0),[s,l]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=vG(s.viewport,s.content),u={...n,sizes:s,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return wNe(h,o.current,s,p)}return r==="horizontal"?d.jsx(mNe,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollLeft,p=NM(h,s,i.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):r==="vertical"?d.jsx(gNe,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollTop,p=NM(h,s);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),mNe=_.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,a=Na(Yo,t.__scopeScrollArea),[o,s]=_.useState(),l=_.useRef(null),c=Ze(e,l,a.onScrollbarXChange);return _.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),d.jsx(pG,{"data-orientation":"horizontal",...i,ref:c,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":u2(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+u.deltaX;t.onWheelScroll(h),xG(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Ix(o.paddingLeft),paddingEnd:Ix(o.paddingRight)}})}})}),gNe=_.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,a=Na(Yo,t.__scopeScrollArea),[o,s]=_.useState(),l=_.useRef(null),c=Ze(e,l,a.onScrollbarYChange);return _.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),d.jsx(pG,{"data-orientation":"vertical",...i,ref:c,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":u2(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(a.viewport){const h=a.viewport.scrollTop+u.deltaY;t.onWheelScroll(h),xG(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Ix(o.paddingTop),paddingEnd:Ix(o.paddingBottom)}})}})}),[vNe,hG]=lG(Yo),pG=_.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:f,...h}=t,p=Na(Yo,r),[m,g]=_.useState(null),v=Ze(e,I=>g(I)),y=_.useRef(null),x=_.useRef(""),b=p.viewport,S=n.content-n.viewport,E=Nr(u),C=Nr(l),A=d2(f,10);function T(I){if(y.current){const N=I.clientX-y.current.left,O=I.clientY-y.current.top;c({x:N,y:O})}}return _.useEffect(()=>{const I=N=>{const O=N.target;(m==null?void 0:m.contains(O))&&E(N,S)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[b,m,S,E]),_.useEffect(C,[n,C]),Ff(m,A),Ff(p.content,A),d.jsx(vNe,{scope:r,scrollbar:m,hasThumb:i,onThumbChange:Nr(a),onThumbPointerUp:Nr(o),onThumbPositionChange:C,onThumbPointerDown:Nr(s),children:d.jsx(je.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:_e(t.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),y.current=m.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),T(I))}),onPointerMove:_e(t.onPointerMove,T),onPointerUp:_e(t.onPointerUp,I=>{const N=I.target;N.hasPointerCapture(I.pointerId)&&N.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),Tx="ScrollAreaThumb",mG=_.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=hG(Tx,t.__scopeScrollArea);return d.jsx(In,{present:r||i.hasThumb,children:d.jsx(yNe,{ref:e,...n})})}),yNe=_.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...i}=t,a=Na(Tx,r),o=hG(Tx,r),{onThumbPositionChange:s}=o,l=Ze(e,f=>o.onThumbChange(f)),c=_.useRef(),u=d2(()=>{c.current&&(c.current(),c.current=void 0)},100);return _.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(u(),!c.current){const p=bNe(f,s);c.current=p,s()}};return s(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,u,s]),d.jsx(je.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:_e(t.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),m=f.clientX-p.left,g=f.clientY-p.top;o.onThumbPointerDown({x:m,y:g})}),onPointerUp:_e(t.onPointerUp,o.onThumbPointerUp)})});mG.displayName=Tx;var zO="ScrollAreaCorner",gG=_.forwardRef((t,e)=>{const r=Na(zO,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?d.jsx(xNe,{...t,ref:e}):null});gG.displayName=zO;var xNe=_.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,i=Na(zO,r),[a,o]=_.useState(0),[s,l]=_.useState(0),c=!!(a&&s);return Ff(i.scrollbarX,()=>{var f;const u=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),Ff(i.scrollbarY,()=>{var f;const u=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(u),o(u)}),c?d.jsx(je.div,{...n,ref:e,style:{width:a,height:s,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Ix(t){return t?parseInt(t,10):0}function vG(t,e){const r=t/e;return isNaN(r)?0:r}function u2(t){const e=vG(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function wNe(t,e,r,n="ltr"){const i=u2(r),a=i/2,o=e||a,s=i-o,l=r.scrollbar.paddingStart+o,c=r.scrollbar.size-r.scrollbar.paddingEnd-s,u=r.content-r.viewport,f=n==="ltr"?[0,u]:[u*-1,0];return yG([l,c],f)(t)}function NM(t,e,r="ltr"){const n=u2(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,o=e.content-e.viewport,s=a-n,l=r==="ltr"?[0,o]:[o*-1,0],c=FC(t,l);return yG([0,o],[0,s])(c)}function yG(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function xG(t,e){return t>0&&t<e}var bNe=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function i(){const a={left:t.scrollLeft,top:t.scrollTop},o=r.left!==a.left,s=r.top!==a.top;(o||s)&&e(),r=a,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function d2(t,e){const r=Nr(t),n=_.useRef(0);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),_.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function Ff(t,e){const r=Nr(e);pn(()=>{let n=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(t),()=>{window.cancelAnimationFrame(n),i.unobserve(t)}}},[t,r])}function _Ne(t,e){const{asChild:r,children:n}=t;if(!r)return typeof e=="function"?e(n):e;const i=_.Children.only(n);return _.cloneElement(i,{children:typeof e=="function"?e(i.props.children):e})}var wG=cG,SNe=dG,ENe=gG;const bG=_.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(wG,{ref:n,className:Ae("relative overflow-hidden",t),...r,children:[d.jsx(SNe,{className:"h-full w-full rounded-[inherit]",children:e}),d.jsx(_G,{}),d.jsx(ENe,{})]}));bG.displayName=wG.displayName;const _G=_.forwardRef(({className:t,orientation:e="vertical",...r},n)=>d.jsx(VO,{ref:n,orientation:e,className:Ae("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:d.jsx(mG,{className:"relative flex-1 rounded-full bg-border"})}));_G.displayName=VO.displayName;var ANe="Separator",PM="horizontal",CNe=["horizontal","vertical"],SG=_.forwardRef((t,e)=>{const{decorative:r,orientation:n=PM,...i}=t,a=TNe(n)?n:PM,s=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return d.jsx(je.div,{"data-orientation":a,...s,...i,ref:e})});SG.displayName=ANe;function TNe(t){return CNe.includes(t)}var EG=SG;const AG=_.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>d.jsx(EG,{ref:i,decorative:r,orientation:e,className:Ae("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));AG.displayName=EG.displayName;var INe="Label",CG=_.forwardRef((t,e)=>d.jsx(je.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));CG.displayName=INe;var TG=CG;const NNe=Uv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ee=_.forwardRef(({className:t,...e},r)=>d.jsx(TG,{ref:r,className:Ae(NNe(),t),...e}));Ee.displayName=TG.displayName;const PNe={"en-US":qP},ONe=XIe({format:Hr,startOfWeek:Dz,getDay:Zfe,locales:PNe}),kNe=({event:t,onClick:e})=>{const r=t.resource,n=r.items.length,i=r.items.filter(a=>!a.checked).length;return d.jsxs("div",{className:"p-1 overflow-hidden cursor-pointer hover:opacity-90",onClick:()=>e(t),children:[d.jsx("div",{className:"font-medium truncate",children:r.store}),d.jsxs("div",{className:"text-xs flex items-center gap-1 flex-wrap",children:[d.jsx(Or,{variant:"outline",className:r.status==="completed"?"bg-green-100 text-green-800":r.status==="shopping"?"bg-blue-100 text-blue-800":r.status==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800",children:r.status}),d.jsxs("span",{children:[n," items"]}),i>0&&d.jsxs("span",{className:"text-amber-600",children:["(",i," pending)"]})]})]})},RNe=t=>{if(typeof t!="string"||!t.includes(":"))return 12*60;const[e,r]=t.split(":").map(Number);return(e||0)*60+(r||0)};function DNe({isOpen:t,onClose:e}){const{trips:r,addTrip:n,updateTrip:i}=ks(),[a,o]=_.useState("month"),[s,l]=_.useState(new Date),[c,u]=_.useState(null),[f,h]=_.useState(!1),[p,m]=_.useState({name:"",quantity:"1",notes:""}),g=_.useCallback(E=>{l(E)},[]),v=_.useCallback(E=>{o(E)},[]),y=_.useCallback(E=>{u(E.resource)},[]),x=_.useCallback(()=>{if(!c||!p.name)return;const E={...c,items:[...c.items,{id:Date.now().toString(),name:p.name,quantity:parseInt(p.quantity)||1,notes:p.notes,checked:!1,addedBy:{name:"You",id:"current-user",avatar:"https://api.dicebear.com/7.x/avatars/svg?seed=current-user"},addedAt:new Date().toISOString()}]};i(c.id,E),u(E),m({name:"",quantity:"1",notes:""}),h(!1),un({title:"Item Added",description:`${p.name} has been added to your trip.`,variant:"default"})},[c,p,i]),b=r.map(E=>{const C=n4(E.date),A=RNe(E.time);C.setHours(Math.floor(A/60)),C.setMinutes(A%60);let T=1;return E.eta&&(E.eta.includes("min")?T=parseInt(E.eta)/60:E.eta.includes("hour")&&(T=parseFloat(E.eta))),{id:E.id,title:`Shopping at ${E.store}`,start:C,end:kde(C,T),resource:E,allDay:!1}}),S=({onNavigate:E,onView:C,date:A,view:T})=>d.jsxs("div",{className:"flex justify-between items-center mb-4 p-2",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Y,{variant:"outline",size:"sm",onClick:()=>E("PREV"),children:d.jsx(Pb,{className:"h-4 w-4"})}),d.jsx(Y,{variant:"outline",size:"sm",onClick:()=>E("TODAY"),children:"Today"}),d.jsx(Y,{variant:"outline",size:"sm",onClick:()=>E("NEXT"),children:d.jsx(zv,{className:"h-4 w-4"})})]}),d.jsx("h2",{className:"text-lg font-semibold",children:Hr(A,"MMMM yyyy")}),d.jsx("div",{className:"flex gap-2",children:["month","week","day"].map(I=>d.jsx(Y,{variant:T===I?"default":"outline",size:"sm",onClick:()=>C(I),children:I.charAt(0).toUpperCase()+I.slice(1)},I))})]});return d.jsxs(ci,{open:t,onOpenChange:e,children:[d.jsxs(zn,{className:"max-w-4xl h-[80vh]",children:[d.jsx(Wn,{children:d.jsx(Hn,{children:"Shopping Trip Calendar"})}),d.jsx("div",{className:"flex-1 mt-4",children:d.jsx(WIe,{localizer:ONe,events:b,startAccessor:"start",endAccessor:"end",style:{height:"calc(80vh - 100px)"},views:{month:!0,week:!0,day:!0},view:a,date:s,onNavigate:g,onView:v,components:{event:E=>d.jsx(kNe,{...E,onClick:y}),toolbar:S},eventPropGetter:E=>{const C=E.resource;let A="#60A5FA";switch(C.status){case"completed":A="#34D399";break;case"shopping":A="#60A5FA";break;case"cancelled":A="#F87171";break;default:A="#9CA3AF"}return{style:{backgroundColor:A,border:"none",borderRadius:"4px"}}}})})]}),d.jsx(lNe,{open:c!==null,onOpenChange:()=>u(null),children:d.jsxs(iG,{className:"w-[400px] sm:w-[540px]",children:[d.jsxs(aG,{children:[d.jsxs(oG,{className:"flex items-center justify-between",children:[d.jsx("span",{children:c==null?void 0:c.store}),d.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>u(null),children:d.jsx(ls,{className:"h-4 w-4"})})]}),d.jsx(sG,{children:d.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[d.jsx(Au,{className:"h-4 w-4"}),c&&Hr(n4(c.date),"PPP")," at ",c==null?void 0:c.time]})})]}),d.jsxs("div",{className:"mt-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Items"}),d.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>h(!0),children:[d.jsx(cn,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),f?d.jsxs("div",{className:"space-y-4 mb-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"itemName",children:"Item Name"}),d.jsx(tt,{id:"itemName",value:p.name,onChange:E=>m(C=>({...C,name:E.target.value})),placeholder:"Enter item name"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"quantity",children:"Quantity"}),d.jsx(tt,{id:"quantity",type:"number",min:"1",value:p.quantity,onChange:E=>m(C=>({...C,quantity:E.target.value}))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"notes",children:"Notes (optional)"}),d.jsx(tt,{id:"notes",value:p.notes,onChange:E=>m(C=>({...C,notes:E.target.value})),placeholder:"Add any notes"})]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(Y,{variant:"outline",onClick:()=>{h(!1),m({name:"",quantity:"1",notes:""})},children:"Cancel"}),d.jsx(Y,{onClick:x,children:"Add Item"})]})]}):d.jsx(bG,{className:"h-[300px] pr-4",children:c==null?void 0:c.items.map((E,C)=>d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:E.checked,onChange:()=>{if(!c)return;const A=[...c.items];A[C]={...E,checked:!E.checked};const T={...c,items:A};i(c.id,T),u(T)},className:"rounded border-gray-300"}),d.jsx("span",{className:E.checked?"line-through text-gray-500":"",children:E.name})]}),d.jsx("span",{className:"text-sm text-gray-500",children:E.quantity>1?`${E.quantity}`:""})]},E.id))}),d.jsx(AG,{className:"my-4"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Status"}),d.jsx(Or,{variant:"outline",className:(c==null?void 0:c.status)==="completed"?"bg-green-100 text-green-800":(c==null?void 0:c.status)==="shopping"?"bg-blue-100 text-blue-800":(c==null?void 0:c.status)==="cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800",children:c==null?void 0:c.status})]}),(c==null?void 0:c.eta)&&d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Duration"}),d.jsx("span",{children:c.eta})]}),(c==null?void 0:c.budget)&&d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Budget"}),d.jsxs("span",{children:["$",c.budget]})]})]})]})]})})]})}function jNe({isOpen:t,onClose:e,currentBudget:r,onSave:n}){const[i,a]=_.useState(r),{toast:o}=Ta(),s=()=>{if(i<0){o({title:"Invalid Budget",description:"Budget cannot be negative.",variant:"destructive"});return}n(i),e(),o({title:"Budget Updated",description:"Your monthly budget has been updated successfully."})};return d.jsx(ci,{open:t,onOpenChange:e,children:d.jsxs(zn,{className:"sm:max-w-[425px]",children:[d.jsxs(Wn,{children:[d.jsx(Hn,{children:"Adjust Monthly Budget"}),d.jsx(to,{children:"Set your monthly shopping budget. This helps you track and manage your spending."})]}),d.jsx("div",{className:"grid gap-4 py-4",children:d.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[d.jsx(Ee,{htmlFor:"budget",className:"text-right",children:"Budget"}),d.jsxs("div",{className:"col-span-3 relative",children:[d.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:"$"}),d.jsx(tt,{id:"budget",type:"number",value:i,onChange:l=>a(Number(l.target.value)),className:"pl-7",min:"0",step:"0.01"})]})]})}),d.jsxs(eo,{children:[d.jsx(Y,{variant:"outline",onClick:e,children:"Cancel"}),d.jsx(Y,{onClick:s,children:"Save Changes"})]})]})})}function MNe(t){return new Promise((e,r)=>{const n=document.createElement("script");n.src=t,n.async=!0,n.defer=!0,n.setAttribute("async",""),n.setAttribute("defer",""),n.onload=()=>e(),n.onerror=()=>r(new Error(`Failed to load script: ${t}`)),document.head.appendChild(n)})}const LNe="AIzaSyCC9n6z-koJp5qiyOOPRRag3qudrcfOeK8",OM=new Set;async function WO(t){const e=new Set([...OM,t]),r=Array.from(e).join(","),n=i=>{switch(i){case"places":return!!window.google.maps.places;case"directions":return!!window.google.maps.DirectionsService;case"geometry":return!!window.google.maps.geometry;default:return!1}};(!window.google||!window.google.maps||!n(t))&&(await MNe(`https://maps.googleapis.com/maps/api/js?key=${LNe}&libraries=${r}`),e.forEach(i=>OM.add(i)))}const $Ne=()=>WO("places"),FNe=()=>WO("directions"),BNe=()=>WO("geometry");function IG({className:t,selected:e,onSelect:r,showOutsideDays:n=!0,...i}){const[a,o]=_.useState(e||new Date),s=()=>{o(y=>{const x=new Date(y);return x.setMonth(x.getMonth()-1),x})},l=()=>{o(y=>{const x=new Date(y);return x.setMonth(x.getMonth()+1),x})},c=(y,x)=>new Date(y,x+1,0).getDate(),u=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],f=a.toLocaleString("default",{month:"long"}),h=a.getFullYear(),p=a.getMonth(),m=c(h,p),g=new Date(h,p,1).getDay(),v=[];for(let y=0;y<g;y++)v.push(null);for(let y=1;y<=m;y++)v.push(new Date(h,p,y));return d.jsxs("div",{className:Ae("p-3",t),children:[d.jsxs("div",{className:"flex justify-center pt-1 relative items-center",children:[d.jsx("button",{onClick:s,className:Ae(i1({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 absolute left-1"),children:d.jsx(Pb,{className:"h-4 w-4"})}),d.jsxs("div",{className:"text-sm font-medium",children:[f," ",h]}),d.jsx("button",{onClick:l,className:Ae(i1({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100 absolute right-1"),children:d.jsx(zv,{className:"h-4 w-4"})})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("div",{className:"flex w-full",children:u.map(y=>d.jsx("div",{className:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem] text-center",children:y},y))}),d.jsx("div",{className:"flex flex-wrap mt-2",children:v.map((y,x)=>d.jsx("button",{disabled:!y,className:Ae(i1({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100",y&&e&&y.toDateString()===e.toDateString()?"bg-primary text-primary-foreground":"",y&&y.toDateString()===new Date().toDateString()?"bg-accent text-accent-foreground":"",y?"":"invisible"),onClick:()=>y&&r&&r(y),children:y?y.getDate():""},x))})]})]})}IG.displayName="Calendar";var HO="Popover",[NG,Uat]=co(HO,[yc]),i0=yc(),[VNe,bc]=NG(HO),PG=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!1}=t,s=i0(e),l=_.useRef(null),[c,u]=_.useState(!1),[f=!1,h]=Os({prop:n,defaultProp:i,onChange:a});return d.jsx(xP,{...s,children:d.jsx(VNe,{scope:e,contentId:Ja(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:_.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:c,onCustomAnchorAdd:_.useCallback(()=>u(!0),[]),onCustomAnchorRemove:_.useCallback(()=>u(!1),[]),modal:o,children:r})})};PG.displayName=HO;var OG="PopoverAnchor",UNe=_.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=bc(OG,r),a=i0(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:s}=i;return _.useEffect(()=>(o(),()=>s()),[o,s]),d.jsx(Bv,{...a,...n,ref:e})});UNe.displayName=OG;var kG="PopoverTrigger",RG=_.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=bc(kG,r),a=i0(r),o=Ze(e,i.triggerRef),s=d.jsx(je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":$G(i.open),...n,ref:o,onClick:_e(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:d.jsx(Bv,{asChild:!0,...a,children:s})});RG.displayName=kG;var GO="PopoverPortal",[zNe,WNe]=NG(GO,{forceMount:void 0}),DG=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,a=bc(GO,e);return d.jsx(zNe,{scope:e,forceMount:r,children:d.jsx(In,{present:r||a.open,children:d.jsx(Vv,{asChild:!0,container:i,children:n})})})};DG.displayName=GO;var Bf="PopoverContent",jG=_.forwardRef((t,e)=>{const r=WNe(Bf,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,a=bc(Bf,t.__scopePopover);return d.jsx(In,{present:n||a.open,children:a.modal?d.jsx(HNe,{...i,ref:e}):d.jsx(GNe,{...i,ref:e})})});jG.displayName=Bf;var HNe=_.forwardRef((t,e)=>{const r=bc(Bf,t.__scopePopover),n=_.useRef(null),i=Ze(e,n),a=_.useRef(!1);return _.useEffect(()=>{const o=n.current;if(o)return Db(o)},[]),d.jsx(qv,{as:Is,allowPinchZoom:!0,children:d.jsx(MG,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),a.current||(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:_e(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0,c=s.button===2||l;a.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:_e(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),GNe=_.forwardRef((t,e)=>{const r=bc(Bf,t.__scopePopover),n=_.useRef(!1),i=_.useRef(!1);return d.jsx(MG,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((c=r.triggerRef.current)==null?void 0:c.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),MG=_.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...f}=t,h=bc(Bf,r),p=i0(r);return Rb(),d.jsx(Hv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:d.jsx(Ah,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:d.jsx(Sb,{"data-state":$G(h.open),role:"dialog",id:h.contentId,...p,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),LG="PopoverClose",qNe=_.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=bc(LG,r);return d.jsx(je.button,{type:"button",...n,ref:e,onClick:_e(t.onClick,()=>i.onOpenChange(!1))})});qNe.displayName=LG;var KNe="PopoverArrow",YNe=_.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=i0(r);return d.jsx(Eb,{...i,...n,ref:e})});YNe.displayName=KNe;function $G(t){return t?"open":"closed"}var XNe=PG,QNe=RG,ZNe=DG,FG=jG;const BC=XNe,VC=QNe,Nx=_.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>d.jsx(ZNe,{children:d.jsx(FG,{ref:i,align:e,sideOffset:r,className:Ae("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Nx.displayName=FG.displayName;function qO(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var JNe=[" ","Enter","ArrowUp","ArrowDown"],ePe=[" ","Enter"],a0="Select",[f2,h2,tPe]=kP(a0),[qh,zat]=co(a0,[tPe,yc]),p2=yc(),[rPe,_c]=qh(a0),[nPe,iPe]=qh(a0),BG=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:h,required:p,form:m}=t,g=p2(e),[v,y]=_.useState(null),[x,b]=_.useState(null),[S,E]=_.useState(!1),C=Wv(c),[A=!1,T]=Os({prop:n,defaultProp:i,onChange:a}),[I,N]=Os({prop:o,defaultProp:s,onChange:l}),O=_.useRef(null),R=v?m||!!v.closest("form"):!0,[k,M]=_.useState(new Set),U=Array.from(k).map(L=>L.props.value).join(";");return d.jsx(xP,{...g,children:d.jsxs(rPe,{required:p,scope:e,trigger:v,onTriggerChange:y,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:E,contentId:Ja(),value:I,onValueChange:N,open:A,onOpenChange:T,dir:C,triggerPointerDownPosRef:O,disabled:h,children:[d.jsx(f2.Provider,{scope:e,children:d.jsx(nPe,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback(L=>{M(z=>new Set(z).add(L))},[]),onNativeOptionRemove:_.useCallback(L=>{M(z=>{const B=new Set(z);return B.delete(L),B})},[]),children:r})}),R?d.jsxs(dq,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:f,value:I,onChange:L=>N(L.target.value),disabled:h,form:m,children:[I===void 0?d.jsx("option",{value:""}):null,Array.from(k)]},U):null]})})};BG.displayName=a0;var VG="SelectTrigger",UG=_.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=p2(r),o=_c(VG,r),s=o.disabled||n,l=Ze(e,o.onTriggerChange),c=h2(r),u=_.useRef("touch"),[f,h,p]=fq(g=>{const v=c().filter(b=>!b.disabled),y=v.find(b=>b.value===o.value),x=hq(v,g,y);x!==void 0&&o.onValueChange(x.value)}),m=g=>{s||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return d.jsx(Bv,{asChild:!0,...a,children:d.jsx(je.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":uq(o.value)?"":void 0,...i,ref:l,onClick:_e(i.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&m(g)}),onPointerDown:_e(i.onPointerDown,g=>{u.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(m(g),g.preventDefault())}),onKeyDown:_e(i.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(v&&g.key===" ")&&JNe.includes(g.key)&&(m(),g.preventDefault())})})})});UG.displayName=VG;var zG="SelectValue",WG=_.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...s}=t,l=_c(zG,r),{onValueNodeHasChildrenChange:c}=l,u=a!==void 0,f=Ze(e,l.onValueNodeChange);return pn(()=>{c(u)},[c,u]),d.jsx(je.span,{...s,ref:f,style:{pointerEvents:"none"},children:uq(l.value)?d.jsx(d.Fragment,{children:o}):a})});WG.displayName=zG;var aPe="SelectIcon",HG=_.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return d.jsx(je.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});HG.displayName=aPe;var oPe="SelectPortal",GG=t=>d.jsx(Vv,{asChild:!0,...t});GG.displayName=oPe;var Mu="SelectContent",qG=_.forwardRef((t,e)=>{const r=_c(Mu,t.__scopeSelect),[n,i]=_.useState();if(pn(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?Eh.createPortal(d.jsx(KG,{scope:t.__scopeSelect,children:d.jsx(f2.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),a):null}return d.jsx(YG,{...t,ref:e})});qG.displayName=Mu;var Fa=10,[KG,Sc]=qh(Mu),sPe="SelectContentImpl",YG=_.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:v,...y}=t,x=_c(Mu,r),[b,S]=_.useState(null),[E,C]=_.useState(null),A=Ze(e,pe=>S(pe)),[T,I]=_.useState(null),[N,O]=_.useState(null),R=h2(r),[k,M]=_.useState(!1),U=_.useRef(!1);_.useEffect(()=>{if(b)return Db(b)},[b]),Rb();const L=_.useCallback(pe=>{const[J,...q]=R().map(ee=>ee.ref.current),[ae]=q.slice(-1),re=document.activeElement;for(const ee of pe)if(ee===re||(ee==null||ee.scrollIntoView({block:"nearest"}),ee===J&&E&&(E.scrollTop=0),ee===ae&&E&&(E.scrollTop=E.scrollHeight),ee==null||ee.focus(),document.activeElement!==re))return},[R,E]),z=_.useCallback(()=>L([T,b]),[L,T,b]);_.useEffect(()=>{k&&z()},[k,z]);const{onOpenChange:B,triggerPointerDownPosRef:$}=x;_.useEffect(()=>{if(b){let pe={x:0,y:0};const J=ae=>{var re,ee;pe={x:Math.abs(Math.round(ae.pageX)-(((re=$.current)==null?void 0:re.x)??0)),y:Math.abs(Math.round(ae.pageY)-(((ee=$.current)==null?void 0:ee.y)??0))}},q=ae=>{pe.x<=10&&pe.y<=10?ae.preventDefault():b.contains(ae.target)||B(!1),document.removeEventListener("pointermove",J),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",J),document.addEventListener("pointerup",q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",q,{capture:!0})}}},[b,B,$]),_.useEffect(()=>{const pe=()=>B(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[B]);const[W,H]=fq(pe=>{const J=R().filter(re=>!re.disabled),q=J.find(re=>re.ref.current===document.activeElement),ae=hq(J,pe,q);ae&&setTimeout(()=>ae.ref.current.focus())}),G=_.useCallback((pe,J,q)=>{const ae=!U.current&&!q;(x.value!==void 0&&x.value===J||ae)&&(I(pe),ae&&(U.current=!0))},[x.value]),Z=_.useCallback(()=>b==null?void 0:b.focus(),[b]),se=_.useCallback((pe,J,q)=>{const ae=!U.current&&!q;(x.value!==void 0&&x.value===J||ae)&&O(pe)},[x.value]),ce=n==="popper"?UC:XG,Oe=ce===UC?{side:s,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:v}:{};return d.jsx(KG,{scope:r,content:b,viewport:E,onViewportChange:C,itemRefCallback:G,selectedItem:T,onItemLeave:Z,itemTextRefCallback:se,focusSelectedItem:z,selectedItemText:N,position:n,isPositioned:k,searchRef:W,children:d.jsx(qv,{as:Is,allowPinchZoom:!0,children:d.jsx(Hv,{asChild:!0,trapped:x.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:_e(i,pe=>{var J;(J=x.trigger)==null||J.focus({preventScroll:!0}),pe.preventDefault()}),children:d.jsx(Ah,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:d.jsx(ce,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:pe=>pe.preventDefault(),...y,...Oe,onPlaced:()=>M(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:_e(y.onKeyDown,pe=>{const J=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!J&&pe.key.length===1&&H(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let ae=R().filter(re=>!re.disabled).map(re=>re.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(ae=ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const re=pe.target,ee=ae.indexOf(re);ae=ae.slice(ee+1)}setTimeout(()=>L(ae)),pe.preventDefault()}})})})})})})});YG.displayName=sPe;var lPe="SelectItemAlignedPosition",XG=_.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=_c(Mu,r),o=Sc(Mu,r),[s,l]=_.useState(null),[c,u]=_.useState(null),f=Ze(e,A=>u(A)),h=h2(r),p=_.useRef(!1),m=_.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:y,focusSelectedItem:x}=o,b=_.useCallback(()=>{if(a.trigger&&a.valueNode&&s&&c&&g&&v&&y){const A=a.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),I=a.valueNode.getBoundingClientRect(),N=y.getBoundingClientRect();if(a.dir!=="rtl"){const re=N.left-T.left,ee=I.left-re,$e=A.left-ee,De=A.width+$e,fe=Math.max(De,T.width),ue=window.innerWidth-Fa,ke=FC(ee,[Fa,Math.max(Fa,ue-fe)]);s.style.minWidth=De+"px",s.style.left=ke+"px"}else{const re=T.right-N.right,ee=window.innerWidth-I.right-re,$e=window.innerWidth-A.right-ee,De=A.width+$e,fe=Math.max(De,T.width),ue=window.innerWidth-Fa,ke=FC(ee,[Fa,Math.max(Fa,ue-fe)]);s.style.minWidth=De+"px",s.style.right=ke+"px"}const O=h(),R=window.innerHeight-Fa*2,k=g.scrollHeight,M=window.getComputedStyle(c),U=parseInt(M.borderTopWidth,10),L=parseInt(M.paddingTop,10),z=parseInt(M.borderBottomWidth,10),B=parseInt(M.paddingBottom,10),$=U+L+k+B+z,W=Math.min(v.offsetHeight*5,$),H=window.getComputedStyle(g),G=parseInt(H.paddingTop,10),Z=parseInt(H.paddingBottom,10),se=A.top+A.height/2-Fa,ce=R-se,Oe=v.offsetHeight/2,pe=v.offsetTop+Oe,J=U+L+pe,q=$-J;if(J<=se){const re=O.length>0&&v===O[O.length-1].ref.current;s.style.bottom="0px";const ee=c.clientHeight-g.offsetTop-g.offsetHeight,$e=Math.max(ce,Oe+(re?Z:0)+ee+z),De=J+$e;s.style.height=De+"px"}else{const re=O.length>0&&v===O[0].ref.current;s.style.top="0px";const $e=Math.max(se,U+g.offsetTop+(re?G:0)+Oe)+q;s.style.height=$e+"px",g.scrollTop=J-se+g.offsetTop}s.style.margin=`${Fa}px 0`,s.style.minHeight=W+"px",s.style.maxHeight=R+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,s,c,g,v,y,a.dir,n]);pn(()=>b(),[b]);const[S,E]=_.useState();pn(()=>{c&&E(window.getComputedStyle(c).zIndex)},[c]);const C=_.useCallback(A=>{A&&m.current===!0&&(b(),x==null||x(),m.current=!1)},[b,x]);return d.jsx(uPe,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:d.jsx(je.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});XG.displayName=lPe;var cPe="SelectPopperPosition",UC=_.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Fa,...a}=t,o=p2(r);return d.jsx(Sb,{...o,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});UC.displayName=cPe;var[uPe,KO]=qh(Mu,{}),zC="SelectViewport",QG=_.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=Sc(zC,r),o=KO(zC,r),s=Ze(e,a.onViewportChange),l=_.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),d.jsx(f2.Slot,{scope:r,children:d.jsx(je.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:_e(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(l.current-u.scrollTop);if(p>0){const m=window.innerHeight-Fa*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),y=Math.max(g,v);if(y<m){const x=y+p,b=Math.min(m,x),S=x-b;f.style.height=b+"px",f.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});QG.displayName=zC;var ZG="SelectGroup",[dPe,fPe]=qh(ZG),hPe=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Ja();return d.jsx(dPe,{scope:r,id:i,children:d.jsx(je.div,{role:"group","aria-labelledby":i,...n,ref:e})})});hPe.displayName=ZG;var JG="SelectLabel",eq=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=fPe(JG,r);return d.jsx(je.div,{id:i.id,...n,ref:e})});eq.displayName=JG;var Px="SelectItem",[pPe,tq]=qh(Px),rq=_.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=t,s=_c(Px,r),l=Sc(Px,r),c=s.value===n,[u,f]=_.useState(a??""),[h,p]=_.useState(!1),m=Ze(e,x=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,x,n,i)}),g=Ja(),v=_.useRef("touch"),y=()=>{i||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(pPe,{scope:r,value:n,disabled:i,textId:g,isSelected:c,onItemTextChange:_.useCallback(x=>{f(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:d.jsx(f2.ItemSlot,{scope:r,value:n,disabled:i,textValue:u,children:d.jsx(je.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:m,onFocus:_e(o.onFocus,()=>p(!0)),onBlur:_e(o.onBlur,()=>p(!1)),onClick:_e(o.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:_e(o.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:_e(o.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:_e(o.onPointerMove,x=>{var b;v.current=x.pointerType,i?(b=l.onItemLeave)==null||b.call(l):v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:_e(o.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:_e(o.onKeyDown,x=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&x.key===" "||(ePe.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});rq.displayName=Px;var am="SelectItemText",nq=_.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,o=_c(am,r),s=Sc(am,r),l=tq(am,r),c=iPe(am,r),[u,f]=_.useState(null),h=Ze(e,y=>f(y),l.onItemTextChange,y=>{var x;return(x=s.itemTextRefCallback)==null?void 0:x.call(s,y,l.value,l.disabled)}),p=u==null?void 0:u.textContent,m=_.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=c;return pn(()=>(g(m),()=>v(m)),[g,v,m]),d.jsxs(d.Fragment,{children:[d.jsx(je.span,{id:l.textId,...a,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Eh.createPortal(a.children,o.valueNode):null]})});nq.displayName=am;var iq="SelectItemIndicator",aq=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return tq(iq,r).isSelected?d.jsx(je.span,{"aria-hidden":!0,...n,ref:e}):null});aq.displayName=iq;var WC="SelectScrollUpButton",oq=_.forwardRef((t,e)=>{const r=Sc(WC,t.__scopeSelect),n=KO(WC,t.__scopeSelect),[i,a]=_.useState(!1),o=Ze(e,n.onScrollButtonChange);return pn(()=>{if(r.viewport&&r.isPositioned){let s=function(){const c=l.scrollTop>0;a(c)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?d.jsx(lq,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});oq.displayName=WC;var HC="SelectScrollDownButton",sq=_.forwardRef((t,e)=>{const r=Sc(HC,t.__scopeSelect),n=KO(HC,t.__scopeSelect),[i,a]=_.useState(!1),o=Ze(e,n.onScrollButtonChange);return pn(()=>{if(r.viewport&&r.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;a(u)};const l=r.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?d.jsx(lq,{...t,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=r;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});sq.displayName=HC;var lq=_.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=Sc("SelectScrollButton",r),o=_.useRef(null),s=h2(r),l=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>l(),[l]),pn(()=>{var u;const c=s().find(f=>f.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[s]),d.jsx(je.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:_e(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:_e(i.onPointerMove,()=>{var c;(c=a.onItemLeave)==null||c.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:_e(i.onPointerLeave,()=>{l()})})}),mPe="SelectSeparator",cq=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return d.jsx(je.div,{"aria-hidden":!0,...n,ref:e})});cq.displayName=mPe;var GC="SelectArrow",gPe=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=p2(r),a=_c(GC,r),o=Sc(GC,r);return a.open&&o.position==="popper"?d.jsx(Eb,{...i,...n,ref:e}):null});gPe.displayName=GC;function uq(t){return t===""||t===void 0}var dq=_.forwardRef((t,e)=>{const{value:r,...n}=t,i=_.useRef(null),a=Ze(e,i),o=qO(r);return _.useEffect(()=>{const s=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==r&&u){const f=new Event("change",{bubbles:!0});u.call(s,r),s.dispatchEvent(f)}},[o,r]),d.jsx(wP,{asChild:!0,children:d.jsx("select",{...n,ref:a,defaultValue:r})})});dq.displayName="BubbleSelect";function fq(t){const e=Nr(t),r=_.useRef(""),n=_.useRef(0),i=_.useCallback(o=>{const s=r.current+o;e(s),function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(s)},[e]),a=_.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function hq(t,e,r){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=vPe(t,Math.max(a,0));i.length===1&&(o=o.filter(c=>c!==r));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function vPe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var yPe=BG,pq=UG,xPe=WG,wPe=HG,bPe=GG,mq=qG,_Pe=QG,gq=eq,vq=rq,SPe=nq,EPe=aq,yq=oq,xq=sq,wq=cq;const pr=yPe,mr=xPe,rr=_.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(pq,{ref:n,className:Ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,d.jsx(wPe,{asChild:!0,children:d.jsx(lx,{className:"h-4 w-4 opacity-50"})})]}));rr.displayName=pq.displayName;const bq=_.forwardRef(({className:t,...e},r)=>d.jsx(yq,{ref:r,className:Ae("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(ule,{className:"h-4 w-4"})}));bq.displayName=yq.displayName;const _q=_.forwardRef(({className:t,...e},r)=>d.jsx(xq,{ref:r,className:Ae("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(lx,{className:"h-4 w-4"})}));_q.displayName=xq.displayName;const nr=_.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>d.jsx(bPe,{children:d.jsxs(mq,{ref:i,className:Ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[d.jsx(bq,{}),d.jsx(_Pe,{className:Ae("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(_q,{})]})}));nr.displayName=mq.displayName;const APe=_.forwardRef(({className:t,...e},r)=>d.jsx(gq,{ref:r,className:Ae("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));APe.displayName=gq.displayName;const Se=_.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(vq,{ref:n,className:Ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(EPe,{children:d.jsx(Nf,{className:"h-4 w-4"})})}),d.jsx(SPe,{children:e})]}));Se.displayName=vq.displayName;const CPe=_.forwardRef(({className:t,...e},r)=>d.jsx(wq,{ref:r,className:Ae("-mx-1 my-1 h-px bg-muted",t),...e}));CPe.displayName=wq.displayName;function TPe({open:t,onOpenChange:e}){const[r,n]=_.useState(""),[i,a]=_.useState(),[o,s]=_.useState(""),[l,c]=_.useState(""),[u,f]=_.useState(""),[h,p]=_.useState(""),[m,g]=_.useState(null),[v,y]=_.useState(!1),[x,b]=_.useState([]),[S,E]=_.useState(!1),[C,A]=_.useState(),T=_.useRef(null),I=_.useRef(),{addTrip:N}=ks();_.useEffect(()=>(t&&$Ne().catch(L=>{console.error("Failed to initialize Google Maps:",L),un({title:"Location Search Unavailable",description:"Please try refreshing the page",variant:"destructive"})}),()=>{I.current&&clearTimeout(I.current)}),[t]);const O=L=>{var z,B;if(n(L),g(null),E(!0),!C&&((B=(z=window.google)==null?void 0:z.maps)!=null&&B.places)&&A(new google.maps.places.AutocompleteSessionToken),I.current&&clearTimeout(I.current),!L.trim()){b([]);return}I.current=setTimeout(async()=>{var $,W;if(!((W=($=window.google)==null?void 0:$.maps)!=null&&W.places)){b([]);return}try{const H={input:L,includedPrimaryTypes:["establishment"],sessionToken:C},{suggestions:G}=await google.maps.places.AutocompleteSuggestion.fetchAutocompleteSuggestions(H);b(G)}catch(H){console.error("Error fetching autocomplete suggestions:",H),b([])}},300)},R=async L=>{var z;if(L.placePrediction){n(L.placePrediction.text.text),E(!1),(z=T.current)==null||z.blur();try{const B=new google.maps.places.Place({id:L.placePrediction.placeId});await B.fetchFields({fields:["location","formattedAddress","displayName"]}),B.location&&(g({lat:B.location.lat(),lng:B.location.lng()}),n(B.displayName||L.placePrediction.text.text))}catch(B){console.error("Error fetching place details:",B),un({title:"Error",description:"Could not fetch place details.",variant:"destructive"})}finally{A(void 0)}}},k=()=>{n(""),a(void 0),s(""),c(""),f(""),p(""),g(null),y(!1),b([]),E(!1),A(void 0)},M=L=>{L||k(),e(L)},U=async L=>{if(L.preventDefault(),!r||!i){un({title:"Missing Information",description:"Please fill in all required fields (Store and Date)",variant:"destructive"});return}try{y(!0);const z={store:r,date:i.toISOString(),time:o||void 0,eta:l,budget:u?parseFloat(u):void 0,notes:h,location:r,coordinates:m||void 0,participants:[{id:"1",name:"You",avatar:"https://i.pravatar.cc/150?u=a042581f4e29026024d"}],shopper:{name:"You",avatar:"https://i.pravatar.cc/150?u=a042581f4e29026024d"}};N(z),un({title:"Success",description:"Trip created successfully"}),M(!1)}catch(z){console.error("Failed to create trip:",z),un({title:"Error",description:"Failed to create trip. Please try again.",variant:"destructive"})}finally{y(!1)}};return d.jsx(ci,{open:t,onOpenChange:M,children:d.jsxs(zn,{className:"sm:max-w-[425px]",children:[d.jsxs(Wn,{children:[d.jsx(Hn,{children:"Add New Shopping Trip"}),d.jsx(to,{children:"Fill in the details below to add a new shopping trip. Search for a store to get started."})]}),d.jsxs("form",{onSubmit:U,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"store",children:"Store Location*"}),d.jsxs("div",{className:"relative",children:[d.jsx(tt,{id:"store",ref:T,value:r,onChange:L=>O(L.target.value),onFocus:()=>E(!0),onBlur:()=>setTimeout(()=>E(!1),200),placeholder:"Search for a store",className:"pr-8",autoComplete:"off"}),r&&d.jsx("button",{type:"button",onClick:()=>{var L;n(""),g(null),b([]),(L=T.current)==null||L.focus()},className:"absolute right-8 top-1/2 -translate-y-1/2",children:d.jsx(ls,{className:"h-4 w-4 text-gray-500 hover:text-gray-700"})}),d.jsx(Rs,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),S&&x.length>0&&d.jsx("div",{className:"absolute z-10 w-full mt-1 bg-background border rounded-md shadow-lg",children:d.jsx("ul",{className:"py-1",children:x.map(L=>{if(!L.placePrediction)return null;const[z,...B]=L.placePrediction.text.text.split(","),$=B.join(",").trim();return d.jsx("li",{onMouseDown:()=>R(L),className:"px-3 py-2 text-sm cursor-pointer hover:bg-accent",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx(Rs,{className:"h-4 w-4 mt-0.5 mr-2 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold",children:z}),d.jsx("p",{className:"text-xs text-muted-foreground",children:$})]})]})},L.placePrediction.placeId)})})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{children:"Date*"}),d.jsxs(BC,{children:[d.jsx(VC,{asChild:!0,children:d.jsxs(Y,{variant:"outline",className:Ae("w-full justify-start text-left font-normal",!i&&"text-muted-foreground"),children:[d.jsx(dC,{className:"mr-2 h-4 w-4"}),i?Hr(i,"PPP"):"Select a date"]})}),d.jsx(Nx,{className:"w-auto p-0",align:"start",children:d.jsx(IG,{mode:"single",selected:i,onSelect:a,initialFocus:!0,disabled:L=>L<new Date(new Date().setHours(0,0,0,0)),className:"rounded-md border"})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{children:"Time"}),d.jsxs(pr,{value:o,onValueChange:s,children:[d.jsx(rr,{children:d.jsx(mr,{placeholder:"Select a time"})}),d.jsx(nr,{children:Array.from({length:24}).flatMap((L,z)=>{const B=z,$=B===0?12:B>12?B-12:B,W=B<12?"AM":"PM",H=B.toString().padStart(2,"0");return[d.jsx(Se,{value:`${H}:00`,children:`${$}:00 ${W}`},`${B}:00`),d.jsx(Se,{value:`${H}:30`,children:`${$}:30 ${W}`},`${B}:30`)]})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{children:"Estimated Duration"}),d.jsxs(pr,{value:l,onValueChange:c,children:[d.jsx(rr,{children:d.jsx(mr,{placeholder:"Select duration"})}),d.jsxs(nr,{children:[d.jsx(Se,{value:"15 min",children:"15 minutes"}),d.jsx(Se,{value:"30 min",children:"30 minutes"}),d.jsx(Se,{value:"45 min",children:"45 minutes"}),d.jsx(Se,{value:"1 hour",children:"1 hour"}),d.jsx(Se,{value:"1.5 hours",children:"1.5 hours"}),d.jsx(Se,{value:"2 hours",children:"2 hours"}),d.jsx(Se,{value:"2.5 hours",children:"2.5 hours"}),d.jsx(Se,{value:"3 hours",children:"3 hours"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"budget",children:"Budget"}),d.jsx(tt,{id:"budget",type:"number",value:u,onChange:L=>f(L.target.value),placeholder:"Enter budget amount",min:"0",step:"0.01"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"notes",children:"Notes"}),d.jsx(tt,{id:"notes",value:h,onChange:L=>p(L.target.value),placeholder:"Add any notes about this trip"})]}),d.jsxs(eo,{children:[d.jsx(Y,{type:"button",variant:"outline",onClick:()=>M(!1),disabled:v,children:"Cancel"}),d.jsx(Y,{type:"submit",disabled:v,children:v?"Creating...":"Create Trip"})]})]})]})})}const Lg=t=>t.toLowerCase().trim(),IPe=t=>Lg(t),NPe=()=>{try{const t=localStorage.getItem("priceHistory");if(t)return JSON.parse(t)}catch(t){console.error("Failed to load price history:",t)}return{}},PPe=t=>{try{localStorage.setItem("priceHistory",JSON.stringify(t))}catch(e){console.error("Failed to save price history:",e)}},OPe=(t,e,r,n=1,i)=>{const a=NPe(),o=IPe(t),s={itemName:t,price:e,store:r,date:new Date().toISOString(),quantity:n,unit:i};a[o]||(a[o]=[]),a[o].push(s),a[o].length>10&&(a[o]=a[o].slice(-10)),PPe(a)},qS=[{barcode:"0123456789012",name:"Organic Milk",defaultPrice:3.99,defaultCategory:"Dairy",unit:"gal"},{barcode:"5901234123457",name:"Whole Wheat Bread",defaultPrice:2.49,defaultCategory:"Bakery",unit:"ea"},{barcode:"9780201379624",name:"Organic Bananas",defaultPrice:1.99,defaultCategory:"Produce",unit:"lb"},{barcode:"4006381333931",name:"Extra Virgin Olive Oil",defaultPrice:8.99,defaultCategory:"Oils & Vinegars",unit:"floz"},{barcode:"8410154011417",name:"Cereal",defaultPrice:4.29,defaultCategory:"Breakfast",unit:"box"},{barcode:"3800020430781",name:"Pasta Sauce",defaultPrice:3.49,defaultCategory:"Canned Goods",unit:"can"},{barcode:"7622210100221",name:"Chocolate Bar",defaultPrice:2.25,defaultCategory:"Snacks",unit:"ea"},{barcode:"5449000000996",name:"Coca-Cola",defaultPrice:1.79,defaultCategory:"Beverages",unit:"bottle"},{barcode:"8000500310427",name:"Nutella",defaultPrice:4.99,defaultCategory:"Spreads",unit:"jar"}],kPe=t=>{const e=qS.findIndex(r=>r.barcode===t.barcode);e>=0?qS[e]=t:qS.push(t),console.log("Product saved:",t)},m2=[{id:"g",name:"Gram",abbreviation:"g",type:"weight",system:"metric",conversionFactor:1,commonItems:["spices","flour","sugar"]},{id:"kg",name:"Kilogram",abbreviation:"kg",type:"weight",system:"metric",conversionFactor:1e3,commonItems:["potatoes","rice","onions"]},{id:"oz",name:"Ounce",abbreviation:"oz",type:"weight",system:"imperial",conversionFactor:28.35,commonItems:["meat","cheese"]},{id:"lb",name:"Pound",abbreviation:"lb",type:"weight",system:"imperial",conversionFactor:453.59,commonItems:["meat","fruits","vegetables"]},{id:"ml",name:"Milliliter",abbreviation:"ml",type:"volume",system:"metric",conversionFactor:1,commonItems:["sauce","oil"]},{id:"l",name:"Liter",abbreviation:"L",type:"volume",system:"metric",conversionFactor:1e3,commonItems:["milk","juice","water"]},{id:"floz",name:"Fluid Ounce",abbreviation:"fl oz",type:"volume",system:"imperial",conversionFactor:29.57,commonItems:["beverages"]},{id:"cup",name:"Cup",abbreviation:"cup",type:"volume",system:"imperial",conversionFactor:236.59,commonItems:["flour","sugar","rice"]},{id:"pt",name:"Pint",abbreviation:"pt",type:"volume",system:"imperial",conversionFactor:473.18,commonItems:["berries","ice cream"]},{id:"qt",name:"Quart",abbreviation:"qt",type:"volume",system:"imperial",conversionFactor:946.35,commonItems:["milk"]},{id:"gal",name:"Gallon",abbreviation:"gal",type:"volume",system:"imperial",conversionFactor:3785.41,commonItems:["milk","water"]},{id:"ea",name:"Each",abbreviation:"ea",type:"quantity",system:"universal",conversionFactor:1,commonItems:["eggs","fruit","canned goods"]},{id:"pc",name:"Piece",abbreviation:"pc",type:"quantity",system:"universal",conversionFactor:1,commonItems:["fruit","bread","cheese"]},{id:"dz",name:"Dozen",abbreviation:"dz",type:"quantity",system:"universal",conversionFactor:12,commonItems:["eggs","pastries","donuts"]},{id:"pack",name:"Package",abbreviation:"pack",type:"package",system:"universal",conversionFactor:1,commonItems:["pasta","bacon","cheese","snacks"]},{id:"box",name:"Box",abbreviation:"box",type:"package",system:"universal",conversionFactor:1,commonItems:["cereal","crackers"]},{id:"can",name:"Can",abbreviation:"can",type:"package",system:"universal",conversionFactor:1,commonItems:["soup","beans","tomatoes","soda"]},{id:"bottle",name:"Bottle",abbreviation:"btl",type:"package",system:"universal",conversionFactor:1,commonItems:["soda","wine","oils","water","juice"]},{id:"bunch",name:"Bunch",abbreviation:"bunch",type:"quantity",system:"universal",conversionFactor:1,commonItems:["bananas","grapes","carrots","herbs"]},{id:"jar",name:"Jar",abbreviation:"jar",type:"package",system:"universal",conversionFactor:1,commonItems:["sauces","pickles","jam","peanut butter"]}],as=m2.reduce((t,e)=>({...t,[e.id]:e}),{}),RPe=(t,e,r)=>{const n=as[e],i=as[r];return!n||!i||n.type!==i.type?null:t*n.conversionFactor/i.conversionFactor},kM=t=>m2.filter(e=>e.type===t),Sq=t=>{const e=t.toLowerCase().trim();return m2.filter(r=>{var n;return(n=r.commonItems)==null?void 0:n.some(i=>e.includes(i)||i.includes(e))})},Ox=t=>{const e=Sq(t);if(e.length===0)return as.ea;const r=["quantity","weight","volume","package"];for(const n of r){const i=e.find(a=>a.type===n);if(i)return i}return e[0]};function DPe(t){return"value"in t&&"onChange"in t}const jPe=t=>{if(DPe(t)){const{value:x,onChange:b,className:S=""}=t;return d.jsx("div",{className:S,children:d.jsxs(pr,{value:x,onValueChange:b,children:[d.jsx(rr,{children:d.jsx(mr,{placeholder:"Select unit"})}),d.jsx(nr,{children:m2.map(E=>d.jsxs(Se,{value:E.id,children:[E.name," (",E.abbreviation,")"]},E.id))})]})})}const{itemName:e,quantity:r,unit:n,onQuantityChange:i,onUnitChange:a,className:o="",showConversion:s=!1,compact:l=!1}=t,[c,u]=_.useState(n?as[n]:Ox(e)),[f,h]=_.useState([]),[p,m]=_.useState((c==null?void 0:c.type)||"quantity");_.useEffect(()=>{const x=Sq(e);if(x.length>0){if(h(x),!n&&!x.some(b=>b.id===(c==null?void 0:c.id))){const b=Ox(e);u(b),m(b.type),a(b.id)}}else h(kM("quantity"))},[e]),_.useEffect(()=>{n&&as[n]&&(u(as[n]),m(as[n].type))},[n]);const g=x=>{m(x);const b=kM(x);if(h(b),b.length>0){const S=b[0];u(S),a(S.id)}},v=x=>{if(!x||!as[x])return;const b=as[x];if(u(b),a(x),c&&b.type===c.type&&s){const S=RPe(r,c.id,b.id);S!==null&&i(Math.round(S*100)/100)}},y=[{type:"quantity",label:"Qty"},{type:"weight",label:"Weight"},{type:"volume",label:"Volume"},{type:"package",label:"Package"}];return l?d.jsx("div",{className:o,children:d.jsxs(BC,{children:[d.jsx(VC,{asChild:!0,children:d.jsxs(Y,{variant:"outline",size:"sm",className:"h-10 px-2 flex items-center justify-between rounded-l-none border-l-0","aria-label":`Current unit: ${(c==null?void 0:c.abbreviation)||"each"}`,"aria-haspopup":"true",children:[d.jsx("span",{children:(c==null?void 0:c.abbreviation)||"ea"}),d.jsx(lx,{className:"h-3.5 w-3.5 ml-1 opacity-50"})]})}),d.jsx(Nx,{className:"w-[240px] p-2",children:d.jsxs("div",{className:"flex flex-col space-y-2",children:[d.jsx(Ee,{htmlFor:"unit-type",className:"text-xs pl-1",children:"Measurement Type"}),d.jsx("div",{className:"grid grid-cols-4 gap-1",children:y.map(x=>d.jsx(Y,{variant:p===x.type?"default":"outline",size:"sm",className:"h-8 text-xs",onClick:()=>g(x.type),"aria-label":`Select ${x.label} measurement type`,"aria-pressed":p===x.type,children:x.label},x.type))}),d.jsx(Ee,{htmlFor:"unit",className:"text-xs mt-2 pl-1",children:"Unit"}),d.jsx("div",{className:"grid grid-cols-3 gap-1",children:f.filter(x=>x.type===p).map(x=>d.jsx(Y,{variant:(c==null?void 0:c.id)===x.id?"default":"outline",size:"sm",className:"h-8 text-xs",onClick:()=>v(x.id),"aria-label":`Select ${x.name} (${x.abbreviation})`,"aria-pressed":(c==null?void 0:c.id)===x.id,children:x.abbreviation},x.id))})]})})]})}):d.jsxs("div",{className:`flex items-center space-x-2 ${o}`,children:[d.jsxs(BC,{children:[d.jsx(VC,{asChild:!0,children:d.jsxs(Y,{variant:"outline",size:"sm",className:"h-9 px-2 flex items-center justify-between",children:[d.jsx("span",{className:"mr-1",children:(c==null?void 0:c.abbreviation)||"ea"}),d.jsx(lx,{className:"h-3.5 w-3.5 opacity-50"})]})}),d.jsx(Nx,{className:"w-[240px] p-2",children:d.jsxs("div",{className:"flex flex-col space-y-2",children:[d.jsx(Ee,{htmlFor:"unit-type",className:"text-xs pl-1",children:"Measurement Type"}),d.jsx("div",{className:"grid grid-cols-4 gap-1",children:y.map(x=>d.jsx(Y,{variant:p===x.type?"default":"outline",size:"sm",className:"h-8 text-xs",onClick:()=>g(x.type),"aria-label":`Select ${x.label} measurement type`,"aria-pressed":p===x.type,children:x.label},x.type))}),d.jsx(Ee,{htmlFor:"unit",className:"text-xs mt-2 pl-1",children:"Unit"}),d.jsx("div",{className:"grid grid-cols-3 gap-1",children:f.filter(x=>x.type===p).map(x=>d.jsx(Y,{variant:(c==null?void 0:c.id)===x.id?"default":"outline",size:"sm",className:"h-8 text-xs",onClick:()=>v(x.id),"aria-label":`Select ${x.name} (${x.abbreviation})`,"aria-pressed":(c==null?void 0:c.id)===x.id,children:x.abbreviation},x.id))})]})})]}),d.jsx(tt,{type:"number",min:"0.01",step:"0.01",value:r,onChange:x=>i(parseFloat(x.target.value)||0),className:"h-9 w-20"})]})},MPe=({barcode:t,isOpen:e,onClose:r,onSave:n})=>{const[i,a]=_.useState(""),[o,s]=_.useState(void 0),[l,c]=_.useState(""),[u,f]=_.useState(1),[h,p]=_.useState("ea"),{toast:m}=Ta(),g=y=>{if(y.trim()){const x=Ox(y);p(x.id)}},v=()=>{if(!i.trim()){m({title:"Product name required",description:"Please enter a name for this product",variant:"destructive"});return}const y={barcode:t,name:i,defaultPrice:o,defaultCategory:l||void 0,unit:h};kPe(y),n(y),a(""),s(void 0),c(""),f(1),p("ea"),r(),m({title:"Product saved",description:`"${i}" has been added to the product database`})};return d.jsx(ci,{open:e,onOpenChange:y=>{y||r()},children:d.jsxs(zn,{className:"sm:max-w-md",children:[d.jsxs(Wn,{children:[d.jsxs(Hn,{className:"flex items-center gap-2",children:[d.jsx(ole,{className:"h-5 w-5"}),"Save New Product"]}),d.jsx(to,{children:"Save this product to your database for future scans."})]}),d.jsxs("div",{className:"grid gap-4 py-2",children:[d.jsxs("div",{className:"grid gap-2",children:[d.jsx(Ee,{htmlFor:"barcode",children:"Barcode"}),d.jsx(tt,{id:"barcode",value:t,readOnly:!0,className:"bg-muted"})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(Ee,{htmlFor:"productName",children:"Product Name*"}),d.jsx(tt,{id:"productName",value:i,onChange:y=>{a(y.target.value),g(y.target.value)},placeholder:"Enter product name",autoFocus:!0})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(Ee,{htmlFor:"productPrice",children:"Default Price (optional)"}),d.jsx(tt,{id:"productPrice",type:"number",step:"0.01",min:"0",value:o===void 0?"":o,onChange:y=>{const x=y.target.value?parseFloat(y.target.value):void 0;s(x)},placeholder:"0.00"})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(Ee,{htmlFor:"productCategory",children:"Category (optional)"}),d.jsx(tt,{id:"productCategory",value:l,onChange:y=>c(y.target.value),placeholder:"Enter category"})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(Ee,{htmlFor:"productUnit",children:"Unit"}),d.jsxs("div",{className:"flex gap-2 items-center",children:[d.jsx(jPe,{itemName:i,quantity:u,unit:h,onQuantityChange:f,onUnitChange:p,showConversion:!1}),d.jsx("span",{className:"text-sm text-muted-foreground",children:"Suggested based on product name"})]})]})]}),d.jsxs(eo,{children:[d.jsx(Y,{variant:"outline",onClick:r,children:"Cancel"}),d.jsx(Y,{onClick:v,children:"Save Product"})]})]})})},LPe=(t,e)=>{const r=Lg(t);return e.find(i=>Lg(i.name)===r)||null},$Pe=(t,e,r=.75)=>{const n=Lg(t),i=n.split(" ");return n.length<3||i.length===0?[]:e.map(o=>{const s=Lg(o.name),l=s.split(" ");if(s.length<3||l.length===0)return{item:o,confidence:0};let c=0;for(const p of i)p.length<=2||l.some(m=>m.includes(p)||p.includes(m))&&c++;const u=c/Math.max(i.length,l.length),f=1-BPe(n,s)/Math.max(n.length,s.length),h=u*.7+f*.3;return{item:o,confidence:h}}).filter(o=>o.confidence>=r).sort((o,s)=>s.confidence-o.confidence)},FPe=(t,e)=>{const r=LPe(t,e);if(r)return{type:"duplicate",newItemName:t,existingItem:r,confidence:100,message:`"${r.name}" is already on your list (${r.quantity}x)`};const n=$Pe(t,e);if(n.length>0){const i=n[0],a=Math.round(i.confidence*100);return{type:"similar",newItemName:t,existingItem:i.item,confidence:a,message:`"${t}" might be similar to "${i.item.name}" already on your list (${a}% match)`}}return null};function BPe(t,e){const r=Array(e.length+1).fill(null).map(()=>Array(t.length+1).fill(null));for(let n=0;n<=t.length;n+=1)r[0][n]=n;for(let n=0;n<=e.length;n+=1)r[n][0]=n;for(let n=1;n<=e.length;n+=1)for(let i=1;i<=t.length;i+=1){const a=t[i-1]===e[n-1]?0:1;r[n][i]=Math.min(r[n][i-1]+1,r[n-1][i]+1,r[n-1][i-1]+a)}return r[e.length][t.length]}const VPe=({suggestion:t,isOpen:e,onClose:r,onAddAnyway:n,onMergeItems:i,onUpdate:a})=>{if(!t)return null;const{type:o,newItemName:s,existingItem:l,confidence:c,message:u}=t,f=o==="duplicate",h=()=>{n(),r()},p=()=>{i(l,1),r()},m=()=>{a(l),r()};return d.jsx(ci,{open:e,onOpenChange:r,children:d.jsxs(zn,{className:"sm:max-w-md",children:[d.jsxs(Wn,{children:[d.jsxs(Hn,{className:"flex items-center gap-2",children:[d.jsx(NP,{className:"h-5 w-5 text-amber-500"}),f?"Duplicate Item":"Similar Item Found"]}),d.jsx(to,{children:u})]}),d.jsxs("div",{className:"p-4 border rounded-md bg-amber-50 dark:bg-amber-900/20",children:[d.jsxs("div",{className:"mb-2",children:[d.jsx("span",{className:"text-sm font-medium",children:"New item:"})," ",d.jsx("span",{className:"text-sm",children:s})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-sm font-medium",children:"Existing item:"})," ",d.jsx("span",{className:"text-sm",children:l.name}),d.jsxs("div",{className:"flex items-center mt-1 gap-2",children:[d.jsxs(Or,{variant:"outline",className:"text-xs",children:["Qty: ",l.quantity]}),l.price&&d.jsxs(Or,{variant:"outline",className:"text-xs",children:["$",l.price.toFixed(2)]}),!f&&d.jsxs(Or,{variant:"outline",className:`text-xs ${c>85?"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400":c>75?"bg-amber-50 text-amber-700 dark:bg-amber-900/20 dark:text-amber-400":"bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400"}`,children:[c,"% match"]})]})]})]}),d.jsx(eo,{className:"gap-2 sm:gap-0",children:d.jsxs("div",{className:"flex flex-col gap-2 w-full sm:flex-row sm:justify-end",children:[d.jsx(Y,{type:"button",variant:"outline",onClick:h,className:"sm:w-auto w-full",children:"Add Anyway"}),d.jsx(Y,{type:"button",variant:"secondary",onClick:p,className:"sm:w-auto w-full",children:"Increase Quantity (+1)"}),!f&&d.jsx(Y,{type:"button",variant:"default",onClick:m,className:"sm:w-auto w-full",children:"Update Existing"})]})})]})})};function UPe(t,e){const r=typeof t=="string"?new Date(t):t;let n;switch(e){case"daily":n=fx(r,1);break;case"weekly":n=Yj(r,1);break;case"bi-weekly":n=Yj(r,2);break;case"monthly":n=GP(r,1);break;default:console.warn("Invalid recurrence frequency:",e),n=fx(r,7);break}return n.toISOString()}const Eq=_.forwardRef(({className:t,...e},r)=>d.jsx("textarea",{className:Ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Eq.displayName="Textarea";const Aq=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),g2=_.createContext({}),YO=_.createContext(null),v2=typeof document<"u",zPe=v2?_.useLayoutEffect:_.useEffect,Cq=_.createContext({strict:!1}),XO=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),WPe="framerAppearId",Tq="data-"+XO(WPe);function HPe(t,e,r,n){const{visualElement:i}=_.useContext(g2),a=_.useContext(Cq),o=_.useContext(YO),s=_.useContext(Aq).reducedMotion,l=_.useRef();n=n||a.renderer,!l.current&&n&&(l.current=n(t,{visualState:e,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:s}));const c=l.current;_.useInsertionEffect(()=>{c&&c.update(r,o)});const u=_.useRef(!!(r[Tq]&&!window.HandoffComplete));return zPe(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),_.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function Vd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function GPe(t,e,r){return _.useCallback(n=>{n&&t.mount&&t.mount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Vd(r)&&(r.current=n))},[e])}function $g(t){return typeof t=="string"||Array.isArray(t)}function y2(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const QO=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ZO=["initial",...QO];function x2(t){return y2(t.animate)||ZO.some(e=>$g(t[e]))}function Iq(t){return!!(x2(t)||t.variants)}function qPe(t,e){if(x2(t)){const{initial:r,animate:n}=t;return{initial:r===!1||$g(r)?r:void 0,animate:$g(n)?n:void 0}}return t.inherit!==!1?e:{}}function KPe(t){const{initial:e,animate:r}=qPe(t,_.useContext(g2));return _.useMemo(()=>({initial:e,animate:r}),[RM(e),RM(r)])}function RM(t){return Array.isArray(t)?t.join(" "):t}const DM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fg={};for(const t in DM)Fg[t]={isEnabled:e=>DM[t].some(r=>!!e[r])};function YPe(t){for(const e in t)Fg[e]={...Fg[e],...t[e]}}const Nq=_.createContext({}),Pq=_.createContext({}),XPe=Symbol.for("motionComponentSymbol");function QPe({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:i}){t&&YPe(t);function a(s,l){let c;const u={..._.useContext(Aq),...s,layoutId:ZPe(s)},{isStatic:f}=u,h=KPe(s),p=n(s,f);if(!f&&v2){h.visualElement=HPe(i,p,u,e);const m=_.useContext(Pq),g=_.useContext(Cq).strict;h.visualElement&&(c=h.visualElement.loadFeatures(u,g,t,m))}return _.createElement(g2.Provider,{value:h},c&&h.visualElement?_.createElement(c,{visualElement:h.visualElement,...u}):null,r(i,s,GPe(p,h.visualElement,l),p,f,h.visualElement))}const o=_.forwardRef(a);return o[XPe]=i,o}function ZPe({layoutId:t}){const e=_.useContext(Nq).id;return e&&t!==void 0?e+"-"+t:t}function JPe(t){function e(n,i={}){return QPe(t(n,i))}if(typeof Proxy>"u")return e;const r=new Map;return new Proxy(e,{get:(n,i)=>(r.has(i)||r.set(i,e(i)),r.get(i))})}const eOe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function JO(t){return typeof t!="string"||t.includes("-")?!1:!!(eOe.indexOf(t)>-1||/[A-Z]/.test(t))}const kx={};function tOe(t){Object.assign(kx,t)}const o0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ed=new Set(o0);function Oq(t,{layout:e,layoutId:r}){return ed.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!kx[t]||t==="opacity")}const Ri=t=>!!(t&&t.getVelocity),rOe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nOe=o0.length;function iOe(t,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},n,i){let a="";for(let o=0;o<nOe;o++){const s=o0[o];if(t[s]!==void 0){const l=rOe[s]||s;a+=`${l}(${t[s]}) `}}return e&&!t.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(t,n?"":a):r&&n&&(a="none"),a}const kq=t=>e=>typeof e=="string"&&e.startsWith(t),Rq=kq("--"),qC=kq("var(--"),aOe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,oOe=(t,e)=>e&&typeof t=="number"?e.transform(t):t,oc=(t,e,r)=>Math.min(Math.max(r,t),e),td={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Om={...td,transform:t=>oc(0,1,t)},gy={...td,default:1},km=t=>Math.round(t*1e5)/1e5,w2=/(-)?([\d]*\.?[\d])+/g,Dq=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,sOe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function s0(t){return typeof t=="string"}const l0=t=>({test:e=>s0(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),cl=l0("deg"),Do=l0("%"),Ue=l0("px"),lOe=l0("vh"),cOe=l0("vw"),jM={...Do,parse:t=>Do.parse(t)/100,transform:t=>Do.transform(t*100)},MM={...td,transform:Math.round},jq={borderWidth:Ue,borderTopWidth:Ue,borderRightWidth:Ue,borderBottomWidth:Ue,borderLeftWidth:Ue,borderRadius:Ue,radius:Ue,borderTopLeftRadius:Ue,borderTopRightRadius:Ue,borderBottomRightRadius:Ue,borderBottomLeftRadius:Ue,width:Ue,maxWidth:Ue,height:Ue,maxHeight:Ue,size:Ue,top:Ue,right:Ue,bottom:Ue,left:Ue,padding:Ue,paddingTop:Ue,paddingRight:Ue,paddingBottom:Ue,paddingLeft:Ue,margin:Ue,marginTop:Ue,marginRight:Ue,marginBottom:Ue,marginLeft:Ue,rotate:cl,rotateX:cl,rotateY:cl,rotateZ:cl,scale:gy,scaleX:gy,scaleY:gy,scaleZ:gy,skew:cl,skewX:cl,skewY:cl,distance:Ue,translateX:Ue,translateY:Ue,translateZ:Ue,x:Ue,y:Ue,z:Ue,perspective:Ue,transformPerspective:Ue,opacity:Om,originX:jM,originY:jM,originZ:Ue,zIndex:MM,fillOpacity:Om,strokeOpacity:Om,numOctaves:MM};function e3(t,e,r,n){const{style:i,vars:a,transform:o,transformOrigin:s}=t;let l=!1,c=!1,u=!0;for(const f in e){const h=e[f];if(Rq(f)){a[f]=h;continue}const p=jq[f],m=oOe(h,p);if(ed.has(f)){if(l=!0,o[f]=m,!u)continue;h!==(p.default||0)&&(u=!1)}else f.startsWith("origin")?(c=!0,s[f]=m):i[f]=m}if(e.transform||(l||n?i.transform=iOe(t.transform,r,u,n):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:p=0}=s;i.transformOrigin=`${f} ${h} ${p}`}}const t3=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Mq(t,e,r){for(const n in e)!Ri(e[n])&&!Oq(n,r)&&(t[n]=e[n])}function uOe({transformTemplate:t},e,r){return _.useMemo(()=>{const n=t3();return e3(n,e,{enableHardwareAcceleration:!r},t),Object.assign({},n.vars,n.style)},[e])}function dOe(t,e,r){const n=t.style||{},i={};return Mq(i,n,t),Object.assign(i,uOe(t,e,r)),t.transformValues?t.transformValues(i):i}function fOe(t,e,r){const n={},i=dOe(t,e,r);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const hOe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Rx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||hOe.has(t)}let Lq=t=>!Rx(t);function pOe(t){t&&(Lq=e=>e.startsWith("on")?!Rx(e):t(e))}try{pOe(require("@emotion/is-prop-valid").default)}catch{}function mOe(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(Lq(i)||r===!0&&Rx(i)||!e&&!Rx(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}function LM(t,e,r){return typeof t=="string"?t:Ue.transform(e+r*t)}function gOe(t,e,r){const n=LM(e,t.x,t.width),i=LM(r,t.y,t.height);return`${n} ${i}`}const vOe={offset:"stroke-dashoffset",array:"stroke-dasharray"},yOe={offset:"strokeDashoffset",array:"strokeDasharray"};function xOe(t,e,r=1,n=0,i=!0){t.pathLength=1;const a=i?vOe:yOe;t[a.offset]=Ue.transform(-n);const o=Ue.transform(e),s=Ue.transform(r);t[a.array]=`${o} ${s}`}function r3(t,{attrX:e,attrY:r,attrScale:n,originX:i,originY:a,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...c},u,f,h){if(e3(t,c,u,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:g}=t;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(i!==void 0||a!==void 0||m.transform)&&(m.transformOrigin=gOe(g,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(p.x=e),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),o!==void 0&&xOe(p,o,s,l,!1)}const $q=()=>({...t3(),attrs:{}}),n3=t=>typeof t=="string"&&t.toLowerCase()==="svg";function wOe(t,e,r,n){const i=_.useMemo(()=>{const a=$q();return r3(a,e,{enableHardwareAcceleration:!1},n3(n),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};Mq(a,t.style,t),i.style={...a,...i.style}}return i}function bOe(t=!1){return(r,n,i,{latestValues:a},o)=>{const l=(JO(r)?wOe:fOe)(n,a,o,r),u={...mOe(n,typeof r=="string",t),...l,ref:i},{children:f}=n,h=_.useMemo(()=>Ri(f)?f.get():f,[f]);return _.createElement(r,{...u,children:h})}}function Fq(t,{style:e,vars:r},n,i){Object.assign(t.style,e,i&&i.getProjectionStyles(n));for(const a in r)t.style.setProperty(a,r[a])}const Bq=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Vq(t,e,r,n){Fq(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(Bq.has(i)?i:XO(i),e.attrs[i])}function i3(t,e){const{style:r}=t,n={};for(const i in r)(Ri(r[i])||e.style&&Ri(e.style[i])||Oq(i,t))&&(n[i]=r[i]);return n}function Uq(t,e){const r=i3(t,e);for(const n in t)if(Ri(t[n])||Ri(e[n])){const i=o0.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[i]=t[n]}return r}function a3(t,e,r,n={},i={}){return typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,i)),e}function _Oe(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const Dx=t=>Array.isArray(t),SOe=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),EOe=t=>Dx(t)?t[t.length-1]||0:t;function m1(t){const e=Ri(t)?t.get():t;return SOe(e)?e.toValue():e}function AOe({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},n,i,a){const o={latestValues:COe(n,i,a,t),renderState:e()};return r&&(o.mount=s=>r(n,s,o)),o}const zq=t=>(e,r)=>{const n=_.useContext(g2),i=_.useContext(YO),a=()=>AOe(t,e,n,i);return r?a():_Oe(a)};function COe(t,e,r,n){const i={},a=n(t,{});for(const h in a)i[h]=m1(a[h]);let{initial:o,animate:s}=t;const l=x2(t),c=Iq(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),s===void 0&&(s=e.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const f=u?s:o;return f&&typeof f!="boolean"&&!y2(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const m=a3(t,p);if(!m)return;const{transitionEnd:g,transition:v,...y}=m;for(const x in y){let b=y[x];if(Array.isArray(b)){const S=u?b.length-1:0;b=b[S]}b!==null&&(i[x]=b)}for(const x in g)i[x]=g[x]}),i}const br=t=>t;class $M{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const r=this.order.indexOf(e);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function TOe(t){let e=new $M,r=new $M,n=0,i=!1,a=!1;const o=new WeakSet,s={schedule:(l,c=!1,u=!1)=>{const f=u&&i,h=f?e:r;return c&&o.add(l),h.add(l)&&f&&i&&(n=e.order.length),l},cancel:l=>{r.remove(l),o.delete(l)},process:l=>{if(i){a=!0;return}if(i=!0,[e,r]=[r,e],r.clear(),n=e.order.length,n)for(let c=0;c<n;c++){const u=e.order[c];u(l),o.has(u)&&(s.schedule(u),t())}i=!1,a&&(a=!1,s.process(l))}};return s}const vy=["prepare","read","update","preRender","render","postRender"],IOe=40;function NOe(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=vy.reduce((f,h)=>(f[h]=TOe(()=>r=!0),f),{}),o=f=>a[f].process(i),s=()=>{const f=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(f-i.timestamp,IOe),1),i.timestamp=f,i.isProcessing=!0,vy.forEach(o),i.isProcessing=!1,r&&e&&(n=!1,t(s))},l=()=>{r=!0,n=!0,i.isProcessing||t(s)};return{schedule:vy.reduce((f,h)=>{const p=a[h];return f[h]=(m,g=!1,v=!1)=>(r||l(),p.schedule(m,g,v)),f},{}),cancel:f=>vy.forEach(h=>a[h].cancel(f)),state:i,steps:a}}const{schedule:Yt,cancel:Ms,state:Mn,steps:KS}=NOe(typeof requestAnimationFrame<"u"?requestAnimationFrame:br,!0),POe={useVisualState:zq({scrapeMotionValuesFromProps:Uq,createRenderState:$q,onMount:(t,e,{renderState:r,latestValues:n})=>{Yt.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Yt.render(()=>{r3(r,n,{enableHardwareAcceleration:!1},n3(e.tagName),t.transformTemplate),Vq(e,r)})}})},OOe={useVisualState:zq({scrapeMotionValuesFromProps:i3,createRenderState:t3})};function kOe(t,{forwardMotionProps:e=!1},r,n){return{...JO(t)?POe:OOe,preloadedFeatures:r,useRender:bOe(e),createVisualElement:n,Component:t}}function us(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}const Wq=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function b2(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const ROe=t=>e=>Wq(e)&&t(e,b2(e));function ys(t,e,r,n){return us(t,e,ROe(r),n)}const DOe=(t,e)=>r=>e(t(r)),Fl=(...t)=>t.reduce(DOe);function Hq(t){let e=null;return()=>{const r=()=>{e=null};return e===null?(e=t,r):!1}}const FM=Hq("dragHorizontal"),BM=Hq("dragVertical");function Gq(t){let e=!1;if(t==="y")e=BM();else if(t==="x")e=FM();else{const r=FM(),n=BM();r&&n?e=()=>{r(),n()}:(r&&r(),n&&n())}return e}function qq(){const t=Gq(!0);return t?(t(),!1):!0}class Ec{constructor(e){this.isMounted=!1,this.node=e}update(){}}function VM(t,e){const r="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),i=(a,o)=>{if(a.pointerType==="touch"||qq())return;const s=t.getProps();t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",e),s[n]&&Yt.update(()=>s[n](a,o))};return ys(t.current,r,i,{passive:!t.getProps()[n]})}class jOe extends Ec{mount(){this.unmount=Fl(VM(this.node,!0),VM(this.node,!1))}unmount(){}}class MOe extends Ec{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fl(us(this.node.current,"focus",()=>this.onFocus()),us(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Kq=(t,e)=>e?t===e?!0:Kq(t,e.parentElement):!1;function YS(t,e){if(!e)return;const r=new PointerEvent("pointer"+t);e(r,b2(r))}class LOe extends Ec{constructor(){super(...arguments),this.removeStartListeners=br,this.removeEndListeners=br,this.removeAccessibleListeners=br,this.startPointerPress=(e,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),a=ys(window,"pointerup",(s,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:f}=this.node.getProps();Yt.update(()=>{!f&&!Kq(this.node.current,s.target)?u&&u(s,l):c&&c(s,l)})},{passive:!(n.onTap||n.onPointerUp)}),o=ys(window,"pointercancel",(s,l)=>this.cancelPress(s,l),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Fl(a,o),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=s=>{s.key!=="Enter"||!this.checkPressEnd()||YS("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Yt.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=us(this.node.current,"keyup",o),YS("down",(s,l)=>{this.startPress(s,l)})},r=us(this.node.current,"keydown",e),n=()=>{this.isPressing&&YS("cancel",(a,o)=>this.cancelPress(a,o))},i=us(this.node.current,"blur",n);this.removeAccessibleListeners=Fl(r,i)}}startPress(e,r){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Yt.update(()=>n(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!qq()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Yt.update(()=>n(e,r))}mount(){const e=this.node.getProps(),r=ys(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=us(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Fl(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const KC=new WeakMap,XS=new WeakMap,$Oe=t=>{const e=KC.get(t.target);e&&e(t)},FOe=t=>{t.forEach($Oe)};function BOe({root:t,...e}){const r=t||document;XS.has(r)||XS.set(r,{});const n=XS.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(FOe,{root:t,...e})),n[i]}function VOe(t,e,r){const n=BOe(e);return KC.set(t,r),n.observe(t),()=>{KC.delete(t),n.unobserve(t)}}const UOe={some:0,all:1};class zOe extends Ec{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:UOe[i]},s=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return VOe(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(WOe(e,r))&&this.startObserver()}unmount(){}}function WOe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const HOe={inView:{Feature:zOe},tap:{Feature:LOe},focus:{Feature:MOe},hover:{Feature:jOe}};function Yq(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function GOe(t){const e={};return t.values.forEach((r,n)=>e[n]=r.get()),e}function qOe(t){const e={};return t.values.forEach((r,n)=>e[n]=r.getVelocity()),e}function _2(t,e,r){const n=t.getProps();return a3(n,e,r!==void 0?r:n.custom,GOe(t),qOe(t))}let o3=br;const pu=t=>t*1e3,xs=t=>t/1e3,KOe={current:!1},Xq=t=>Array.isArray(t)&&typeof t[0]=="number";function Qq(t){return!!(!t||typeof t=="string"&&Zq[t]||Xq(t)||Array.isArray(t)&&t.every(Qq))}const om=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,Zq={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:om([0,.65,.55,1]),circOut:om([.55,0,1,.45]),backIn:om([.31,.01,.66,-.59]),backOut:om([.33,1.53,.69,.99])};function Jq(t){if(t)return Xq(t)?om(t):Array.isArray(t)?t.map(Jq):Zq[t]}function YOe(t,e,r,{delay:n=0,duration:i,repeat:a=0,repeatType:o="loop",ease:s,times:l}={}){const c={[e]:r};l&&(c.offset=l);const u=Jq(s);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:n,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function XOe(t,{repeat:e,repeatType:r="loop"}){const n=e&&r!=="loop"&&e%2===1?0:t.length-1;return t[n]}const eK=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,QOe=1e-7,ZOe=12;function JOe(t,e,r,n,i){let a,o,s=0;do o=e+(r-e)/2,a=eK(o,n,i)-t,a>0?r=o:e=o;while(Math.abs(a)>QOe&&++s<ZOe);return o}function c0(t,e,r,n){if(t===e&&r===n)return br;const i=a=>JOe(a,0,1,t,r);return a=>a===0||a===1?a:eK(i(a),e,n)}const e3e=c0(.42,0,1,1),t3e=c0(0,0,.58,1),tK=c0(.42,0,.58,1),r3e=t=>Array.isArray(t)&&typeof t[0]!="number",rK=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,nK=t=>e=>1-t(1-e),s3=t=>1-Math.sin(Math.acos(t)),iK=nK(s3),n3e=rK(s3),aK=c0(.33,1.53,.69,.99),l3=nK(aK),i3e=rK(l3),a3e=t=>(t*=2)<1?.5*l3(t):.5*(2-Math.pow(2,-10*(t-1))),o3e={linear:br,easeIn:e3e,easeInOut:tK,easeOut:t3e,circIn:s3,circInOut:n3e,circOut:iK,backIn:l3,backInOut:i3e,backOut:aK,anticipate:a3e},UM=t=>{if(Array.isArray(t)){o3(t.length===4);const[e,r,n,i]=t;return c0(e,r,n,i)}else if(typeof t=="string")return o3e[t];return t},c3=(t,e)=>r=>!!(s0(r)&&sOe.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),oK=(t,e,r)=>n=>{if(!s0(n))return n;const[i,a,o,s]=n.match(w2);return{[t]:parseFloat(i),[e]:parseFloat(a),[r]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},s3e=t=>oc(0,255,t),QS={...td,transform:t=>Math.round(s3e(t))},tu={test:c3("rgb","red"),parse:oK("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+QS.transform(t)+", "+QS.transform(e)+", "+QS.transform(r)+", "+km(Om.transform(n))+")"};function l3e(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const YC={test:c3("#"),parse:l3e,transform:tu.transform},Ud={test:c3("hsl","hue"),parse:oK("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Do.transform(km(e))+", "+Do.transform(km(r))+", "+km(Om.transform(n))+")"},ii={test:t=>tu.test(t)||YC.test(t)||Ud.test(t),parse:t=>tu.test(t)?tu.parse(t):Ud.test(t)?Ud.parse(t):YC.parse(t),transform:t=>s0(t)?t:t.hasOwnProperty("red")?tu.transform(t):Ud.transform(t)},ir=(t,e,r)=>-r*t+r*e+t;function ZS(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function c3e({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,a=0,o=0;if(!e)i=a=o=r;else{const s=r<.5?r*(1+e):r+e-r*e,l=2*r-s;i=ZS(l,s,t+1/3),a=ZS(l,s,t),o=ZS(l,s,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}const JS=(t,e,r)=>{const n=t*t;return Math.sqrt(Math.max(0,r*(e*e-n)+n))},u3e=[YC,tu,Ud],d3e=t=>u3e.find(e=>e.test(t));function zM(t){const e=d3e(t);let r=e.parse(t);return e===Ud&&(r=c3e(r)),r}const sK=(t,e)=>{const r=zM(t),n=zM(e),i={...r};return a=>(i.red=JS(r.red,n.red,a),i.green=JS(r.green,n.green,a),i.blue=JS(r.blue,n.blue,a),i.alpha=ir(r.alpha,n.alpha,a),tu.transform(i))};function f3e(t){var e,r;return isNaN(t)&&s0(t)&&(((e=t.match(w2))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(Dq))===null||r===void 0?void 0:r.length)||0)>0}const lK={regex:aOe,countKey:"Vars",token:"${v}",parse:br},cK={regex:Dq,countKey:"Colors",token:"${c}",parse:ii.parse},uK={regex:w2,countKey:"Numbers",token:"${n}",parse:td.parse};function eE(t,{regex:e,countKey:r,token:n,parse:i}){const a=t.tokenised.match(e);a&&(t["num"+r]=a.length,t.tokenised=t.tokenised.replace(e,n),t.values.push(...a.map(i)))}function jx(t){const e=t.toString(),r={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&eE(r,lK),eE(r,cK),eE(r,uK),r}function dK(t){return jx(t).values}function fK(t){const{values:e,numColors:r,numVars:n,tokenised:i}=jx(t),a=e.length;return o=>{let s=i;for(let l=0;l<a;l++)l<n?s=s.replace(lK.token,o[l]):l<n+r?s=s.replace(cK.token,ii.transform(o[l])):s=s.replace(uK.token,km(o[l]));return s}}const h3e=t=>typeof t=="number"?0:t;function p3e(t){const e=dK(t);return fK(t)(e.map(h3e))}const sc={test:f3e,parse:dK,createTransformer:fK,getAnimatableNone:p3e},hK=(t,e)=>r=>`${r>0?e:t}`;function pK(t,e){return typeof t=="number"?r=>ir(t,e,r):ii.test(t)?sK(t,e):t.startsWith("var(")?hK(t,e):gK(t,e)}const mK=(t,e)=>{const r=[...t],n=r.length,i=t.map((a,o)=>pK(a,e[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}},m3e=(t,e)=>{const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=pK(t[i],e[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}},gK=(t,e)=>{const r=sc.createTransformer(e),n=jx(t),i=jx(e);return n.numVars===i.numVars&&n.numColors===i.numColors&&n.numNumbers>=i.numNumbers?Fl(mK(n.values,i.values),r):hK(t,e)},Bg=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},WM=(t,e)=>r=>ir(t,e,r);function g3e(t){return typeof t=="number"?WM:typeof t=="string"?ii.test(t)?sK:gK:Array.isArray(t)?mK:typeof t=="object"?m3e:WM}function v3e(t,e,r){const n=[],i=r||g3e(t[0]),a=t.length-1;for(let o=0;o<a;o++){let s=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||br:e;s=Fl(l,s)}n.push(s)}return n}function vK(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const a=t.length;if(o3(a===e.length),a===1)return()=>e[0];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=v3e(e,n,i),s=o.length,l=c=>{let u=0;if(s>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const f=Bg(t[u],t[u+1],c);return o[u](f)};return r?c=>l(oc(t[0],t[a-1],c)):l}function y3e(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=Bg(0,e,n);t.push(ir(r,1,i))}}function x3e(t){const e=[0];return y3e(e,t.length-1),e}function w3e(t,e){return t.map(r=>r*e)}function b3e(t,e){return t.map(()=>e||tK).splice(0,t.length-1)}function Mx({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=r3e(n)?n.map(UM):UM(n),a={done:!1,value:e[0]},o=w3e(r&&r.length===e.length?r:x3e(e),t),s=vK(o,e,{ease:Array.isArray(i)?i:b3e(e,i)});return{calculatedDuration:t,next:l=>(a.value=s(l),a.done=l>=t,a)}}function yK(t,e){return e?t*(1e3/e):0}const _3e=5;function xK(t,e,r){const n=Math.max(e-_3e,0);return yK(r-t(n),e-n)}const HM=.001,S3e=.01,E3e=10,A3e=.05,C3e=1;function T3e({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let i,a,o=1-e;o=oc(A3e,C3e,o),t=oc(S3e,E3e,xs(t)),o<1?(i=c=>{const u=c*o,f=u*t,h=u-r,p=XC(c,o),m=Math.exp(-f);return HM-h/p*m},a=c=>{const f=c*o*t,h=f*r+r,p=Math.pow(o,2)*Math.pow(c,2)*t,m=Math.exp(-f),g=XC(Math.pow(c,2),o);return(-i(c)+HM>0?-1:1)*((h-p)*m)/g}):(i=c=>{const u=Math.exp(-c*t),f=(c-r)*t+1;return-.001+u*f},a=c=>{const u=Math.exp(-c*t),f=(r-c)*(t*t);return u*f});const s=5/t,l=N3e(i,a,s);if(t=pu(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:o*2*Math.sqrt(n*c),duration:t}}}const I3e=12;function N3e(t,e,r){let n=r;for(let i=1;i<I3e;i++)n=n-t(n)/e(n);return n}function XC(t,e){return t*Math.sqrt(1-e*e)}const P3e=["duration","bounce"],O3e=["stiffness","damping","mass"];function GM(t,e){return e.some(r=>t[r]!==void 0)}function k3e(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!GM(t,O3e)&&GM(t,P3e)){const r=T3e(t);e={...e,...r,mass:1},e.isResolvedFromDuration=!0}return e}function wK({keyframes:t,restDelta:e,restSpeed:r,...n}){const i=t[0],a=t[t.length-1],o={done:!1,value:i},{stiffness:s,damping:l,mass:c,duration:u,velocity:f,isResolvedFromDuration:h}=k3e({...n,velocity:-xs(n.velocity||0)}),p=f||0,m=l/(2*Math.sqrt(s*c)),g=a-i,v=xs(Math.sqrt(s/c)),y=Math.abs(g)<5;r||(r=y?.01:2),e||(e=y?.005:.5);let x;if(m<1){const b=XC(v,m);x=S=>{const E=Math.exp(-m*v*S);return a-E*((p+m*v*g)/b*Math.sin(b*S)+g*Math.cos(b*S))}}else if(m===1)x=b=>a-Math.exp(-v*b)*(g+(p+v*g)*b);else{const b=v*Math.sqrt(m*m-1);x=S=>{const E=Math.exp(-m*v*S),C=Math.min(b*S,300);return a-E*((p+m*v*g)*Math.sinh(C)+b*g*Math.cosh(C))/b}}return{calculatedDuration:h&&u||null,next:b=>{const S=x(b);if(h)o.done=b>=u;else{let E=p;b!==0&&(m<1?E=xK(x,b,S):E=0);const C=Math.abs(E)<=r,A=Math.abs(a-S)<=e;o.done=C&&A}return o.value=o.done?a:S,o}}}function qM({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:l,restDelta:c=.5,restSpeed:u}){const f=t[0],h={done:!1,value:f},p=T=>s!==void 0&&T<s||l!==void 0&&T>l,m=T=>s===void 0?l:l===void 0||Math.abs(s-T)<Math.abs(l-T)?s:l;let g=r*e;const v=f+g,y=o===void 0?v:o(v);y!==v&&(g=y-f);const x=T=>-g*Math.exp(-T/n),b=T=>y+x(T),S=T=>{const I=x(T),N=b(T);h.done=Math.abs(I)<=c,h.value=h.done?y:N};let E,C;const A=T=>{p(h.value)&&(E=T,C=wK({keyframes:[h.value,m(h.value)],velocity:xK(b,T,h.value),damping:i,stiffness:a,restDelta:c,restSpeed:u}))};return A(0),{calculatedDuration:null,next:T=>{let I=!1;return!C&&E===void 0&&(I=!0,S(T),A(T)),E!==void 0&&T>E?C.next(T-E):(!I&&S(T),h)}}}const R3e=t=>{const e=({timestamp:r})=>t(r);return{start:()=>Yt.update(e,!0),stop:()=>Ms(e),now:()=>Mn.isProcessing?Mn.timestamp:performance.now()}},KM=2e4;function YM(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<KM;)e+=r,n=t.next(e);return e>=KM?1/0:e}const D3e={decay:qM,inertia:qM,tween:Mx,keyframes:Mx,spring:wK};function Lx({autoplay:t=!0,delay:e=0,driver:r=R3e,keyframes:n,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:s="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:f,...h}){let p=1,m=!1,g,v;const y=()=>{v=new Promise(H=>{g=H})};y();let x;const b=D3e[i]||Mx;let S;b!==Mx&&typeof n[0]!="number"&&(S=vK([0,100],n,{clamp:!1}),n=[0,100]);const E=b({...h,keyframes:n});let C;s==="mirror"&&(C=b({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let A="idle",T=null,I=null,N=null;E.calculatedDuration===null&&a&&(E.calculatedDuration=YM(E));const{calculatedDuration:O}=E;let R=1/0,k=1/0;O!==null&&(R=O+o,k=R*(a+1)-o);let M=0;const U=H=>{if(I===null)return;p>0&&(I=Math.min(I,H)),p<0&&(I=Math.min(H-k/p,I)),T!==null?M=T:M=Math.round(H-I)*p;const G=M-e*(p>=0?1:-1),Z=p>=0?G<0:G>k;M=Math.max(G,0),A==="finished"&&T===null&&(M=k);let se=M,ce=E;if(a){const q=Math.min(M,k)/R;let ae=Math.floor(q),re=q%1;!re&&q>=1&&(re=1),re===1&&ae--,ae=Math.min(ae,a+1),!!(ae%2)&&(s==="reverse"?(re=1-re,o&&(re-=o/R)):s==="mirror"&&(ce=C)),se=oc(0,1,re)*R}const Oe=Z?{done:!1,value:n[0]}:ce.next(se);S&&(Oe.value=S(Oe.value));let{done:pe}=Oe;!Z&&O!==null&&(pe=p>=0?M>=k:M<=0);const J=T===null&&(A==="finished"||A==="running"&&pe);return f&&f(Oe.value),J&&B(),Oe},L=()=>{x&&x.stop(),x=void 0},z=()=>{A="idle",L(),g(),y(),I=N=null},B=()=>{A="finished",u&&u(),L(),g()},$=()=>{if(m)return;x||(x=r(U));const H=x.now();l&&l(),T!==null?I=H-T:(!I||A==="finished")&&(I=H),A==="finished"&&y(),N=I,T=null,A="running",x.start()};t&&$();const W={then(H,G){return v.then(H,G)},get time(){return xs(M)},set time(H){H=pu(H),M=H,T!==null||!x||p===0?T=H:I=x.now()-H/p},get duration(){const H=E.calculatedDuration===null?YM(E):E.calculatedDuration;return xs(H)},get speed(){return p},set speed(H){H===p||!x||(p=H,W.time=xs(M))},get state(){return A},play:$,pause:()=>{A="paused",T=M},stop:()=>{m=!0,A!=="idle"&&(A="idle",c&&c(),z())},cancel:()=>{N!==null&&U(N),z()},complete:()=>{A="finished"},sample:H=>(I=0,U(H))};return W}function j3e(t){let e;return()=>(e===void 0&&(e=t()),e)}const M3e=j3e(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),L3e=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),yy=10,$3e=2e4,F3e=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Qq(e.ease);function B3e(t,e,{onUpdate:r,onComplete:n,...i}){if(!(M3e()&&L3e.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,s,l,c=!1;const u=()=>{l=new Promise(b=>{s=b})};u();let{keyframes:f,duration:h=300,ease:p,times:m}=i;if(F3e(e,i)){const b=Lx({...i,repeat:0,delay:0});let S={done:!1,value:f[0]};const E=[];let C=0;for(;!S.done&&C<$3e;)S=b.sample(C),E.push(S.value),C+=yy;m=void 0,f=E,h=C-yy,p="linear"}const g=YOe(t.owner.current,e,f,{...i,duration:h,ease:p,times:m}),v=()=>{c=!1,g.cancel()},y=()=>{c=!0,Yt.update(v),s(),u()};return g.onfinish=()=>{c||(t.set(XOe(f,i)),n&&n(),y())},{then(b,S){return l.then(b,S)},attachTimeline(b){return g.timeline=b,g.onfinish=null,br},get time(){return xs(g.currentTime||0)},set time(b){g.currentTime=pu(b)},get speed(){return g.playbackRate},set speed(b){g.playbackRate=b},get duration(){return xs(h)},play:()=>{o||(g.play(),Ms(v))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:b}=g;if(b){const S=Lx({...i,autoplay:!1});t.setWithVelocity(S.sample(b-yy).value,S.sample(b).value,yy)}y()},complete:()=>{c||g.finish()},cancel:y}}function V3e({keyframes:t,delay:e,onUpdate:r,onComplete:n}){const i=()=>(r&&r(t[t.length-1]),n&&n(),{time:0,speed:1,duration:0,play:br,pause:br,stop:br,then:a=>(a(),Promise.resolve()),cancel:br,complete:br});return e?Lx({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const U3e={type:"spring",stiffness:500,damping:25,restSpeed:10},z3e=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),W3e={type:"keyframes",duration:.8},H3e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},G3e=(t,{keyframes:e})=>e.length>2?W3e:ed.has(t)?t.startsWith("scale")?z3e(e[1]):U3e:H3e,QC=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(sc.test(e)||e==="0")&&!e.startsWith("url(")),q3e=new Set(["brightness","contrast","saturate","opacity"]);function K3e(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(w2)||[];if(!n)return t;const i=r.replace(n,"");let a=q3e.has(e)?1:0;return n!==r&&(a*=100),e+"("+a+i+")"}const Y3e=/([a-z-]*)\(.*?\)/g,ZC={...sc,getAnimatableNone:t=>{const e=t.match(Y3e);return e?e.map(K3e).join(" "):t}},X3e={...jq,color:ii,backgroundColor:ii,outlineColor:ii,fill:ii,stroke:ii,borderColor:ii,borderTopColor:ii,borderRightColor:ii,borderBottomColor:ii,borderLeftColor:ii,filter:ZC,WebkitFilter:ZC},u3=t=>X3e[t];function bK(t,e){let r=u3(t);return r!==ZC&&(r=sc),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const _K=t=>/^0[^.\s]+$/.test(t);function Q3e(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||_K(t)}function Z3e(t,e,r,n){const i=QC(e,r);let a;Array.isArray(r)?a=[...r]:a=[null,r];const o=n.from!==void 0?n.from:t.get();let s;const l=[];for(let c=0;c<a.length;c++)a[c]===null&&(a[c]=c===0?o:a[c-1]),Q3e(a[c])&&l.push(c),typeof a[c]=="string"&&a[c]!=="none"&&a[c]!=="0"&&(s=a[c]);if(i&&l.length&&s)for(let c=0;c<l.length;c++){const u=l[c];a[u]=bK(e,s)}return a}function J3e({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function d3(t,e){return t[e]||t.default||t}const eke={skipAnimations:!1},f3=(t,e,r,n={})=>i=>{const a=d3(n,t)||{},o=a.delay||n.delay||0;let{elapsed:s=0}=n;s=s-pu(o);const l=Z3e(e,t,r,a),c=l[0],u=l[l.length-1],f=QC(t,c),h=QC(t,u);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-s,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(J3e(a)||(p={...p,...G3e(t,p)}),p.duration&&(p.duration=pu(p.duration)),p.repeatDelay&&(p.repeatDelay=pu(p.repeatDelay)),!f||!h||KOe.current||a.type===!1||eke.skipAnimations)return V3e(p);if(!n.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const m=B3e(e,t,p);if(m)return m}return Lx(p)};function $x(t){return!!(Ri(t)&&t.add)}const SK=t=>/^\-?\d*\.?\d+$/.test(t);function h3(t,e){t.indexOf(e)===-1&&t.push(e)}function p3(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class m3{constructor(){this.subscriptions=[]}add(e){return h3(this.subscriptions,e),()=>p3(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const tke=t=>!isNaN(parseFloat(t));class rke{constructor(e,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:a,timestamp:o}=Mn;this.lastUpdated!==o&&(this.timeDelta=a,this.lastUpdated=o,Yt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Yt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=tke(this.current),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new m3);const n=this.events[e].add(r);return e==="change"?()=>{n(),Yt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?yK(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vf(t,e){return new rke(t,e)}const EK=t=>e=>e.test(t),nke={test:t=>t==="auto",parse:t=>t},AK=[td,Ue,Do,cl,cOe,lOe,nke],Fp=t=>AK.find(EK(t)),ike=[...AK,ii,sc],ake=t=>ike.find(EK(t));function oke(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Vf(r))}function ske(t,e){const r=_2(t,e);let{transitionEnd:n={},transition:i={},...a}=r?t.makeTargetAnimatable(r,!1):{};a={...a,...n};for(const o in a){const s=EOe(a[o]);oke(t,o,s)}}function lke(t,e,r){var n,i;const a=Object.keys(e).filter(s=>!t.hasValue(s)),o=a.length;if(o)for(let s=0;s<o;s++){const l=a[s],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(n=r[l])!==null&&n!==void 0?n:t.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(SK(u)||_K(u))?u=parseFloat(u):!ake(u)&&sc.test(c)&&(u=bK(l,c)),t.addValue(l,Vf(u,{owner:t})),r[l]===void 0&&(r[l]=u),u!==null&&t.setBaseTarget(l,u))}}function cke(t,e){return e?(e[t]||e.default||e).from:void 0}function uke(t,e,r){const n={};for(const i in t){const a=cke(i,e);if(a!==void 0)n[i]=a;else{const o=r.getValue(i);o&&(n[i]=o.get())}}return n}function dke({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function fke(t,e){const r=t.get();if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(e[n]!==r)return!0}else return r!==e}function CK(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...s}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");n&&(a=n);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in s){const h=t.getValue(f),p=s[f];if(!h||p===void 0||u&&dke(u,f))continue;const m={delay:r,elapsed:0,...d3(a||{},f)};if(window.HandoffAppearAnimations){const y=t.getProps()[Tq];if(y){const x=window.HandoffAppearAnimations(y,f,h,Yt);x!==null&&(m.elapsed=x,m.isHandoff=!0)}}let g=!m.isHandoff&&!fke(h,p);if(m.type==="spring"&&(h.getVelocity()||m.velocity)&&(g=!1),h.animation&&(g=!1),g)continue;h.start(f3(f,h,p,t.shouldReduceMotion&&ed.has(f)?{type:!1}:m));const v=h.animation;$x(l)&&(l.add(f),v.then(()=>l.remove(f))),c.push(v)}return o&&Promise.all(c).then(()=>{o&&ske(t,o)}),c}function JC(t,e,r={}){const n=_2(t,e,r.custom);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const a=n?()=>Promise.all(CK(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:f}=i;return hke(t,e,c+l,u,f,r)}:()=>Promise.resolve(),{when:s}=i;if(s){const[l,c]=s==="beforeChildren"?[a,o]:[o,a];return l().then(()=>c())}else return Promise.all([a(),o(r.delay)])}function hke(t,e,r=0,n=0,i=1,a){const o=[],s=(t.variantChildren.size-1)*n,l=i===1?(c=0)=>c*n:(c=0)=>s-c*n;return Array.from(t.variantChildren).sort(pke).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(JC(c,e,{...a,delay:r+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function pke(t,e){return t.sortNodePosition(e)}function mke(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(a=>JC(t,a,r));n=Promise.all(i)}else if(typeof e=="string")n=JC(t,e,r);else{const i=typeof e=="function"?_2(t,e,r.custom):e;n=Promise.all(CK(t,i,r))}return n.then(()=>t.notify("AnimationComplete",e))}const gke=[...QO].reverse(),vke=QO.length;function yke(t){return e=>Promise.all(e.map(({animation:r,options:n})=>mke(t,r,n)))}function xke(t){let e=yke(t);const r=bke();let n=!0;const i=(l,c)=>{const u=_2(t,c);if(u){const{transition:f,transitionEnd:h,...p}=u;l={...l,...p,...h}}return l};function a(l){e=l(t)}function o(l,c){const u=t.getProps(),f=t.getVariantContext(!0)||{},h=[],p=new Set;let m={},g=1/0;for(let y=0;y<vke;y++){const x=gke[y],b=r[x],S=u[x]!==void 0?u[x]:f[x],E=$g(S),C=x===c?b.isActive:null;C===!1&&(g=y);let A=S===f[x]&&S!==u[x]&&E;if(A&&n&&t.manuallyAnimateOnMount&&(A=!1),b.protectedKeys={...m},!b.isActive&&C===null||!S&&!b.prevProp||y2(S)||typeof S=="boolean")continue;let I=wke(b.prevProp,S)||x===c&&b.isActive&&!A&&E||y>g&&E,N=!1;const O=Array.isArray(S)?S:[S];let R=O.reduce(i,{});C===!1&&(R={});const{prevResolvedValues:k={}}=b,M={...k,...R},U=L=>{I=!0,p.has(L)&&(N=!0,p.delete(L)),b.needsAnimating[L]=!0};for(const L in M){const z=R[L],B=k[L];if(m.hasOwnProperty(L))continue;let $=!1;Dx(z)&&Dx(B)?$=!Yq(z,B):$=z!==B,$?z!==void 0?U(L):p.add(L):z!==void 0&&p.has(L)?U(L):b.protectedKeys[L]=!0}b.prevProp=S,b.prevResolvedValues=R,b.isActive&&(m={...m,...R}),n&&t.blockInitialAnimation&&(I=!1),I&&(!A||N)&&h.push(...O.map(L=>({animation:L,options:{type:x,...l}})))}if(p.size){const y={};p.forEach(x=>{const b=t.getBaseTarget(x);b!==void 0&&(y[x]=b)}),h.push({animation:y})}let v=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(v=!1),n=!1,v?e(h):Promise.resolve()}function s(l,c,u){var f;if(r[l].isActive===c)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),r[l].isActive=c;const h=o(u,l);for(const p in r)r[p].protectedKeys={};return h}return{animateChanges:o,setActive:s,setAnimateFunction:a,getState:()=>r}}function wke(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Yq(e,t):!1}function Mc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bke(){return{animate:Mc(!0),whileInView:Mc(),whileHover:Mc(),whileTap:Mc(),whileDrag:Mc(),whileFocus:Mc(),exit:Mc()}}class _ke extends Ec{constructor(e){super(e),e.animationState||(e.animationState=xke(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),y2(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let Ske=0;class Eke extends Ec{constructor(){super(...arguments),this.id=Ske++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});r&&!e&&a.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Ake={animation:{Feature:_ke},exit:{Feature:Eke}},XM=(t,e)=>Math.abs(t-e);function Cke(t,e){const r=XM(t.x,e.x),n=XM(t.y,e.y);return Math.sqrt(r**2+n**2)}class TK{constructor(e,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=rE(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=Cke(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:m}=f,{timestamp:g}=Mn;this.history.push({...m,timestamp:g});const{onStart:v,onMove:y}=this.handlers;h||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=tE(h,this.transformPagePoint),Yt.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=rE(f.type==="pointercancel"?this.lastMoveEventInfo:tE(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,v),m&&m(f,v)},!Wq(e))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const o=b2(e),s=tE(o,this.transformPagePoint),{point:l}=s,{timestamp:c}=Mn;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=r;u&&u(e,rE(s,this.history)),this.removeListeners=Fl(ys(this.contextWindow,"pointermove",this.handlePointerMove),ys(this.contextWindow,"pointerup",this.handlePointerUp),ys(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ms(this.updatePoint)}}function tE(t,e){return e?{point:e(t.point)}:t}function QM(t,e){return{x:t.x-e.x,y:t.y-e.y}}function rE({point:t},e){return{point:t,delta:QM(t,IK(e)),offset:QM(t,Tke(e)),velocity:Ike(e,.1)}}function Tke(t){return t[0]}function IK(t){return t[t.length-1]}function Ike(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=IK(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>pu(e)));)r--;if(!n)return{x:0,y:0};const a=xs(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Qi(t){return t.max-t.min}function eT(t,e=0,r=.01){return Math.abs(t-e)<=r}function ZM(t,e,r,n=.5){t.origin=n,t.originPoint=ir(e.min,e.max,t.origin),t.scale=Qi(r)/Qi(e),(eT(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ir(r.min,r.max,t.origin)-t.originPoint,(eT(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Rm(t,e,r,n){ZM(t.x,e.x,r.x,n?n.originX:void 0),ZM(t.y,e.y,r.y,n?n.originY:void 0)}function JM(t,e,r){t.min=r.min+e.min,t.max=t.min+Qi(e)}function Nke(t,e,r){JM(t.x,e.x,r.x),JM(t.y,e.y,r.y)}function e8(t,e,r){t.min=e.min-r.min,t.max=t.min+Qi(e)}function Dm(t,e,r){e8(t.x,e.x,r.x),e8(t.y,e.y,r.y)}function Pke(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?ir(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?ir(r,t,n.max):Math.min(t,r)),t}function t8(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function Oke(t,{top:e,left:r,bottom:n,right:i}){return{x:t8(t.x,r,i),y:t8(t.y,e,n)}}function r8(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function kke(t,e){return{x:r8(t.x,e.x),y:r8(t.y,e.y)}}function Rke(t,e){let r=.5;const n=Qi(t),i=Qi(e);return i>n?r=Bg(e.min,e.max-n,t.min):n>i&&(r=Bg(t.min,t.max-i,e.min)),oc(0,1,r)}function Dke(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const tT=.35;function jke(t=tT){return t===!1?t=0:t===!0&&(t=tT),{x:n8(t,"left","right"),y:n8(t,"top","bottom")}}function n8(t,e,r){return{min:i8(t,e),max:i8(t,r)}}function i8(t,e){return typeof t=="number"?t:t[e]||0}const a8=()=>({translate:0,scale:1,origin:0,originPoint:0}),zd=()=>({x:a8(),y:a8()}),o8=()=>({min:0,max:0}),Cr=()=>({x:o8(),y:o8()});function la(t){return[t("x"),t("y")]}function NK({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function Mke({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Lke(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function nE(t){return t===void 0||t===1}function rT({scale:t,scaleX:e,scaleY:r}){return!nE(t)||!nE(e)||!nE(r)}function Hc(t){return rT(t)||PK(t)||t.z||t.rotate||t.rotateX||t.rotateY}function PK(t){return s8(t.x)||s8(t.y)}function s8(t){return t&&t!=="0%"}function Fx(t,e,r){const n=t-r,i=e*n;return r+i}function l8(t,e,r,n,i){return i!==void 0&&(t=Fx(t,i,n)),Fx(t,r,n)+e}function nT(t,e=0,r=1,n,i){t.min=l8(t.min,e,r,n,i),t.max=l8(t.max,e,r,n,i)}function OK(t,{x:e,y:r}){nT(t.x,e.translate,e.scale,e.originPoint),nT(t.y,r.translate,r.scale,r.originPoint)}function $ke(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let a,o;for(let s=0;s<i;s++){a=r[s],o=a.projectionDelta;const l=a.instance;l&&l.style&&l.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Wd(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,OK(t,o)),n&&Hc(a.latestValues)&&Wd(t,a.latestValues))}e.x=c8(e.x),e.y=c8(e.y)}function c8(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function hl(t,e){t.min=t.min+e,t.max=t.max+e}function u8(t,e,[r,n,i]){const a=e[i]!==void 0?e[i]:.5,o=ir(t.min,t.max,a);nT(t,e[r],e[n],o,e.scale)}const Fke=["x","scaleX","originX"],Bke=["y","scaleY","originY"];function Wd(t,e){u8(t.x,e,Fke),u8(t.y,e,Bke)}function kK(t,e){return NK(Lke(t.getBoundingClientRect(),e))}function Vke(t,e,r){const n=kK(t,r),{scroll:i}=e;return i&&(hl(n.x,i.offset.x),hl(n.y,i.offset.y)),n}const RK=({current:t})=>t?t.ownerDocument.defaultView:null,Uke=new WeakMap;class zke{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Cr(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(b2(u,"page").point)},a=(u,f)=>{const{drag:h,dragPropagation:p,onDragStart:m}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Gq(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),la(v=>{let y=this.getAxisMotionValue(v).get()||0;if(Do.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const b=x.layout.layoutBox[v];b&&(y=Qi(b)*(parseFloat(y)/100))}}this.originPoint[v]=y}),m&&Yt.update(()=>m(u,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:m,onDrag:g}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:v}=f;if(p&&this.currentDirection===null){this.currentDirection=Wke(v),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),g&&g(u,f)},s=(u,f)=>this.stop(u,f),l=()=>la(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new TK(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:RK(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Yt.update(()=>a(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!xy(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=Pke(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;r&&Vd(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=Oke(i.layoutBox,r):this.constraints=!1,this.elastic=jke(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&la(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Dke(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Vd(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Vke(n,i.root,this.visualElement.getTransformPagePoint());let o=kke(i.layout.layoutBox,a);if(r){const s=r(Mke(o));this.hasMutatedConstraints=!!s,s&&(o=NK(s))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},c=la(u=>{if(!xy(u,r,this.currentDirection))return;let f=l&&l[u]||{};o&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,m={type:"inertia",velocity:n?e[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(s)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return n.start(f3(e,n,0,r))}stopAnimation(){la(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){la(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){la(r=>{const{drag:n}=this.getProps();if(!xy(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:s}=i.layout.layoutBox[r];a.set(e[r]-ir(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Vd(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};la(o=>{const s=this.getAxisMotionValue(o);if(s){const l=s.get();i[o]=Rke({min:l,max:l},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),la(o=>{if(!xy(o,e,null))return;const s=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];s.set(ir(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;Uke.set(this.visualElement,this);const e=this.visualElement.current,r=ys(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Vd(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),n();const o=us(window,"resize",()=>this.scalePositionWithinConstraints()),s=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(la(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=tT,dragMomentum:s=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:s}}}function xy(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function Wke(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class Hke extends Ec{constructor(e){super(e),this.removeGroupControls=br,this.removeListeners=br,this.controls=new zke(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||br}unmount(){this.removeGroupControls(),this.removeListeners()}}const d8=t=>(e,r)=>{t&&Yt.update(()=>t(e,r))};class Gke extends Ec{constructor(){super(...arguments),this.removePointerDownListener=br}onPointerDown(e){this.session=new TK(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:RK(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:d8(e),onStart:d8(r),onMove:n,onEnd:(a,o)=>{delete this.session,i&&Yt.update(()=>i(a,o))}}}mount(){this.removePointerDownListener=ys(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function qke(){const t=_.useContext(YO);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:n}=t,i=_.useId();return _.useEffect(()=>n(i),[]),!e&&r?[!1,()=>r&&r(i)]:[!0]}const g1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function f8(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Bp={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ue.test(t))t=parseFloat(t);else return t;const r=f8(t,e.target.x),n=f8(t,e.target.y);return`${r}% ${n}%`}},Kke={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=sc.parse(t);if(i.length>5)return n;const a=sc.createTransformer(t),o=typeof i[0]!="number"?1:0,s=r.x.scale*e.x,l=r.y.scale*e.y;i[0+o]/=s,i[1+o]/=l;const c=ir(s,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),a(i)}};class Yke extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=e;tOe(Xke),a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),g1.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,o=n.projection;return o&&(o.isPresent=a,i||e.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||Yt.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function DK(t){const[e,r]=qke(),n=_.useContext(Nq);return j.createElement(Yke,{...t,layoutGroup:n,switchLayoutGroup:_.useContext(Pq),isPresent:e,safeToRemove:r})}const Xke={borderRadius:{...Bp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bp,borderTopRightRadius:Bp,borderBottomLeftRadius:Bp,borderBottomRightRadius:Bp,boxShadow:Kke},jK=["TopLeft","TopRight","BottomLeft","BottomRight"],Qke=jK.length,h8=t=>typeof t=="string"?parseFloat(t):t,p8=t=>typeof t=="number"||Ue.test(t);function Zke(t,e,r,n,i,a){i?(t.opacity=ir(0,r.opacity!==void 0?r.opacity:1,Jke(n)),t.opacityExit=ir(e.opacity!==void 0?e.opacity:1,0,eRe(n))):a&&(t.opacity=ir(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<Qke;o++){const s=`border${jK[o]}Radius`;let l=m8(e,s),c=m8(r,s);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||p8(l)===p8(c)?(t[s]=Math.max(ir(h8(l),h8(c),n),0),(Do.test(c)||Do.test(l))&&(t[s]+="%")):t[s]=c}(e.rotate||r.rotate)&&(t.rotate=ir(e.rotate||0,r.rotate||0,n))}function m8(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Jke=MK(0,.5,iK),eRe=MK(.5,.95,br);function MK(t,e,r){return n=>n<t?0:n>e?1:r(Bg(t,e,n))}function g8(t,e){t.min=e.min,t.max=e.max}function ia(t,e){g8(t.x,e.x),g8(t.y,e.y)}function v8(t,e,r,n,i){return t-=e,t=Fx(t,1/r,n),i!==void 0&&(t=Fx(t,1/i,n)),t}function tRe(t,e=0,r=1,n=.5,i,a=t,o=t){if(Do.test(e)&&(e=parseFloat(e),e=ir(o.min,o.max,e/100)-o.min),typeof e!="number")return;let s=ir(a.min,a.max,n);t===a&&(s-=e),t.min=v8(t.min,e,r,s,i),t.max=v8(t.max,e,r,s,i)}function y8(t,e,[r,n,i],a,o){tRe(t,e[r],e[n],e[i],e.scale,a,o)}const rRe=["x","scaleX","originX"],nRe=["y","scaleY","originY"];function x8(t,e,r,n){y8(t.x,e,rRe,r?r.x:void 0,n?n.x:void 0),y8(t.y,e,nRe,r?r.y:void 0,n?n.y:void 0)}function w8(t){return t.translate===0&&t.scale===1}function LK(t){return w8(t.x)&&w8(t.y)}function iRe(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function $K(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function b8(t){return Qi(t.x)/Qi(t.y)}class aRe{constructor(){this.members=[]}add(e){h3(this.members,e),e.scheduleRender()}remove(e){if(p3(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _8(t,e,r){let n="";const i=t.x.translate/e.x,a=t.y.translate/e.y;if((i||a)&&(n=`translate3d(${i}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{rotate:l,rotateX:c,rotateY:u}=r;l&&(n+=`rotate(${l}deg) `),c&&(n+=`rotateX(${c}deg) `),u&&(n+=`rotateY(${u}deg) `)}const o=t.x.scale*e.x,s=t.y.scale*e.y;return(o!==1||s!==1)&&(n+=`scale(${o}, ${s})`),n||"none"}const oRe=(t,e)=>t.depth-e.depth;class sRe{constructor(){this.children=[],this.isDirty=!1}add(e){h3(this.children,e),this.isDirty=!0}remove(e){p3(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(oRe),this.isDirty=!1,this.children.forEach(e)}}function lRe(t,e){const r=performance.now(),n=({timestamp:i})=>{const a=i-r;a>=e&&(Ms(n),t(a-e))};return Yt.read(n,!0),()=>Ms(n)}function cRe(t){window.MotionDebug&&window.MotionDebug.record(t)}function uRe(t){return t instanceof SVGElement&&t.tagName!=="svg"}function dRe(t,e,r){const n=Ri(t)?t:Vf(t);return n.start(f3("",n,e,r)),n.animation}const S8=["","X","Y","Z"],fRe={visibility:"hidden"},E8=1e3;let hRe=0;const Gc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function FK({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},s=e==null?void 0:e()){this.id=hRe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Gc.totalNodes=Gc.resolvedTargetDeltas=Gc.recalculatedProjection=0,this.nodes.forEach(gRe),this.nodes.forEach(bRe),this.nodes.forEach(_Re),this.nodes.forEach(vRe),cRe(Gc)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new sRe)}addEventListener(o,s){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new m3),this.eventHandlers.get(o).add(s)}notifyListeners(o,...s){const l=this.eventHandlers.get(o);l&&l.notify(...s)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=uRe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=lRe(h,250),g1.hasAnimatedSinceResize&&(g1.hasAnimatedSinceResize=!1,this.nodes.forEach(C8))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||TRe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:y}=u.getProps(),x=!this.targetLayout||!$K(this.targetLayout,m)||p,b=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const S={...d3(g,"layout"),onPlay:v,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||C8(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ms(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SRe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:s,layout:l}=this.options;if(s===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(A8);return}this.isUpdating||this.nodes.forEach(xRe),this.isUpdating=!1,this.nodes.forEach(wRe),this.nodes.forEach(pRe),this.nodes.forEach(mRe),this.clearAllSnapshots();const s=performance.now();Mn.delta=oc(0,1e3/60,s-Mn.timestamp),Mn.timestamp=s,Mn.isProcessing=!0,KS.update.process(Mn),KS.preRender.process(Mn),KS.render.process(Mn),Mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(yRe),this.sharedNodes.forEach(ERe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Yt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Yt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Cr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let s=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(s=!1),s&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,s=this.projectionDelta&&!LK(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(s||Hc(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const s=this.measurePageBox();let l=this.removeElementScroll(s);return o&&(l=this.removeTransform(l)),IRe(l),{animationId:this.root.animationId,measuredBox:s,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Cr();const s=o.measureViewportBox(),{scroll:l}=this.root;return l&&(hl(s.x,l.offset.x),hl(s.y,l.offset.y)),s}removeElementScroll(o){const s=Cr();ia(s,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:f}=c;if(c!==this.root&&u&&f.layoutScroll){if(u.isRoot){ia(s,o);const{scroll:h}=this.root;h&&(hl(s.x,-h.offset.x),hl(s.y,-h.offset.y))}hl(s.x,u.offset.x),hl(s.y,u.offset.y)}}return s}applyTransform(o,s=!1){const l=Cr();ia(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Wd(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Hc(u.latestValues)&&Wd(l,u.latestValues)}return Hc(this.latestValues)&&Wd(l,this.latestValues),l}removeTransform(o){const s=Cr();ia(s,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Hc(c.latestValues))continue;rT(c.latestValues)&&c.updateSnapshot();const u=Cr(),f=c.measurePageBox();ia(u,f),x8(s,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Hc(this.latestValues)&&x8(s,this.latestValues),s}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var s;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Mn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cr(),this.relativeTargetOrigin=Cr(),Dm(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ia(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Cr(),this.targetWithTransforms=Cr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Nke(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ia(this.target,this.layout.layoutBox),OK(this.target,this.targetDelta)):ia(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cr(),this.relativeTargetOrigin=Cr(),Dm(this.relativeTargetOrigin,this.target,p.target),ia(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Gc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||rT(this.parent.latestValues)||PK(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Mn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;ia(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;$ke(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox);const{target:m}=s;if(!m){this.projectionTransform&&(this.projectionDelta=zd(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=zd(),this.projectionDeltaWithTransform=zd());const g=this.projectionTransform;Rm(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=_8(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Gc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const s=this.getStack();s&&s.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,s=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=zd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const h=Cr(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=p!==m,v=this.getStack(),y=!v||v.members.length<=1,x=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(CRe));this.animationProgress=0;let b;this.mixTargetDelta=S=>{const E=S/1e3;T8(f.x,o.x,E),T8(f.y,o.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Dm(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ARe(this.relativeTarget,this.relativeTargetOrigin,h,E),b&&iRe(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Cr()),ia(b,this.relativeTarget)),g&&(this.animationValues=u,Zke(u,c,this.latestValues,E,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ms(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Yt.update(()=>{g1.hasAnimatedSinceResize=!0,this.currentAnimation=dRe(0,E8,{...o,onUpdate:s=>{this.mixTargetDelta(s),o.onUpdate&&o.onUpdate(s)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(E8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:s,target:l,layout:c,latestValues:u}=o;if(!(!s||!l||!c)){if(this!==o&&this.layout&&c&&BK(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Cr();const f=Qi(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=Qi(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}ia(s,l),Wd(s,u),Rm(this.projectionDeltaWithTransform,this.layoutCorrected,s,u)}}registerSharedNode(o,s){this.sharedNodes.has(o)||this.sharedNodes.set(o,new aRe),this.sharedNodes.get(o).add(s);const c=s.options.initialPromotionConfig;s.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(s):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:s,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let s=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(s=!0),!s)return;const c={};for(let u=0;u<S8.length;u++){const f="rotate"+S8[u];l[f]&&(c[f]=l[f],o.setStaticValue(f,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o){var s,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return fRe;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=m1(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=m1(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Hc(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=_8(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:p,y:m}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(s=h.opacity)!==null&&s!==void 0?s:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in kx){if(h[g]===void 0)continue;const{correct:v,applyTo:y}=kx[g],x=c.transform==="none"?h[g]:v(h[g],f);if(y){const b=y.length;for(let S=0;S<b;S++)c[y[S]]=x}else c[g]=x}return this.options.layoutId&&(c.pointerEvents=f===this?m1(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var s;return(s=o.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(A8),this.root.sharedNodes.clear()}}}function pRe(t){t.updateLayout()}function mRe(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,o=r.source!==t.layout.source;a==="size"?la(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=Qi(h);h.min=n[f].min,h.max=h.min+p}):BK(a,r.layoutBox,n)&&la(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=Qi(n[f]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const s=zd();Rm(s,n,r.layoutBox);const l=zd();o?Rm(l,t.applyTransform(i,!0),r.measuredBox):Rm(l,n,r.layoutBox);const c=!LK(s);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const m=Cr();Dm(m,r.layoutBox,h.layoutBox);const g=Cr();Dm(g,n,p.layoutBox),$K(m,g)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=m,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:s,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function gRe(t){Gc.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function vRe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function yRe(t){t.clearSnapshot()}function A8(t){t.clearMeasurements()}function xRe(t){t.isLayoutDirty=!1}function wRe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function C8(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function bRe(t){t.resolveTargetDelta()}function _Re(t){t.calcProjection()}function SRe(t){t.resetRotation()}function ERe(t){t.removeLeadSnapshot()}function T8(t,e,r){t.translate=ir(e.translate,0,r),t.scale=ir(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function I8(t,e,r,n){t.min=ir(e.min,r.min,n),t.max=ir(e.max,r.max,n)}function ARe(t,e,r,n){I8(t.x,e.x,r.x,n),I8(t.y,e.y,r.y,n)}function CRe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const TRe={duration:.45,ease:[.4,0,.1,1]},N8=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),P8=N8("applewebkit/")&&!N8("chrome/")?Math.round:br;function O8(t){t.min=P8(t.min),t.max=P8(t.max)}function IRe(t){O8(t.x),O8(t.y)}function BK(t,e,r){return t==="position"||t==="preserve-aspect"&&!eT(b8(e),b8(r),.2)}const NRe=FK({attachResizeListener:(t,e)=>us(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),iE={current:void 0},VK=FK({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!iE.current){const t=new NRe({});t.mount(window),t.setOptions({layoutScroll:!0}),iE.current=t}return iE.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),PRe={pan:{Feature:Gke},drag:{Feature:Hke,ProjectionNode:VK,MeasureLayout:DK}},ORe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function kRe(t){const e=ORe.exec(t);if(!e)return[,];const[,r,n]=e;return[r,n]}function iT(t,e,r=1){const[n,i]=kRe(t);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const o=a.trim();return SK(o)?parseFloat(o):o}else return qC(i)?iT(i,e,r+1):i}function RRe(t,{...e},r){const n=t.current;if(!(n instanceof Element))return{target:e,transitionEnd:r};r&&(r={...r}),t.values.forEach(i=>{const a=i.get();if(!qC(a))return;const o=iT(a,n);o&&i.set(o)});for(const i in e){const a=e[i];if(!qC(a))continue;const o=iT(a,n);o&&(e[i]=o,r||(r={}),r[i]===void 0&&(r[i]=a))}return{target:e,transitionEnd:r}}const DRe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),UK=t=>DRe.has(t),jRe=t=>Object.keys(t).some(UK),k8=t=>t===td||t===Ue,R8=(t,e)=>parseFloat(t.split(", ")[e]),D8=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/);if(i)return R8(i[1],e);{const a=n.match(/^matrix\((.+)\)$/);return a?R8(a[1],t):0}},MRe=new Set(["x","y","z"]),LRe=o0.filter(t=>!MRe.has(t));function $Re(t){const e=[];return LRe.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Uf={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:D8(4,13),y:D8(5,14)};Uf.translateX=Uf.x;Uf.translateY=Uf.y;const FRe=(t,e,r)=>{const n=e.measureViewportBox(),i=e.current,a=getComputedStyle(i),{display:o}=a,s={};o==="none"&&e.setStaticValue("display",t.display||"block"),r.forEach(c=>{s[c]=Uf[c](n,a)}),e.render();const l=e.measureViewportBox();return r.forEach(c=>{const u=e.getValue(c);u&&u.jump(s[c]),t[c]=Uf[c](l,a)}),t},BRe=(t,e,r={},n={})=>{e={...e},n={...n};const i=Object.keys(e).filter(UK);let a=[],o=!1;const s=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=r[l],f=Fp(u);const h=e[l];let p;if(Dx(h)){const m=h.length,g=h[0]===null?1:0;u=h[g],f=Fp(u);for(let v=g;v<m&&h[v]!==null;v++)p?o3(Fp(h[v])===p):p=Fp(h[v])}else p=Fp(h);if(f!==p)if(k8(f)&&k8(p)){const m=c.get();typeof m=="string"&&c.set(parseFloat(m)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&p===Ue&&(e[l]=h.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(u===0||h===0)?u===0?c.set(p.transform(u)):e[l]=f.transform(h):(o||(a=$Re(t),o=!0),s.push(l),n[l]=n[l]!==void 0?n[l]:e[l],c.jump(h))}),s.length){const l=s.indexOf("height")>=0?window.pageYOffset:null,c=FRe(e,t,s);return a.length&&a.forEach(([u,f])=>{t.getValue(u).set(f)}),t.render(),v2&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:n}}else return{target:e,transitionEnd:n}};function VRe(t,e,r,n){return jRe(e)?BRe(t,e,r,n):{target:e,transitionEnd:n}}const URe=(t,e,r,n)=>{const i=RRe(t,e,n);return e=i.target,n=i.transitionEnd,VRe(t,e,r,n)},aT={current:null},zK={current:!1};function zRe(){if(zK.current=!0,!!v2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>aT.current=t.matches;t.addListener(e),e()}else aT.current=!1}function WRe(t,e,r){const{willChange:n}=e;for(const i in e){const a=e[i],o=r[i];if(Ri(a))t.addValue(i,a),$x(n)&&n.add(i);else if(Ri(o))t.addValue(i,Vf(a,{owner:t})),$x(n)&&n.remove(i);else if(o!==a)if(t.hasValue(i)){const s=t.getValue(i);!s.hasAnimated&&s.set(a)}else{const s=t.getStaticValue(i);t.addValue(i,Vf(s!==void 0?s:a,{owner:t}))}}for(const i in r)e[i]===void 0&&t.removeValue(i);return e}const j8=new WeakMap,WK=Object.keys(Fg),HRe=WK.length,M8=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],GRe=ZO.length;class qRe{constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Yt.render(this.render,!1,!0);const{latestValues:s,renderState:l}=a;this.latestValues=s,this.baseTarget={...s},this.initialValues=r.initial?{...s}:{},this.renderState=l,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=x2(r),this.isVariantNode=Iq(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(r,{});for(const f in u){const h=u[f];s[f]!==void 0&&Ri(h)&&(h.set(s[f],!1),$x(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,r){return{}}mount(e){this.current=e,j8.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),zK.current||zRe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:aT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){j8.delete(this.current),this.projection&&this.projection.unmount(),Ms(this.notifyUpdate),Ms(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,r){const n=ed.has(e),i=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Yt.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...r},n,i,a){let o,s;for(let l=0;l<HRe;l++){const c=WK[l],{isEnabled:u,Feature:f,ProjectionNode:h,MeasureLayout:p}=Fg[c];h&&(o=h),u(r)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),p&&(s=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:f,layoutScroll:h,layoutRoot:p}=r;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||f&&Vd(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,layoutScroll:h,layoutRoot:p})}return s}updateFeatures(){for(const e in this.features){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Cr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}makeTargetAnimatable(e,r=!0){return this.makeTargetAnimatableFromInstance(e,this.props,r)}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<M8.length;n++){const i=M8[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=e["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=WRe(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<GRe;n++){const i=ZO[n],a=this.props[i];($g(a)||a===!1)&&(r[i]=a)}return r}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){r!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,r)),this.values.set(e,r),this.latestValues[e]=r.get()}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Vf(r,{owner:this}),this.addValue(e,n)),n}readValue(e){var r;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props,i=typeof n=="string"||typeof n=="object"?(r=a3(this.props,n))===null||r===void 0?void 0:r[e]:void 0;if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Ri(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new m3),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class HK extends qRe{sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:r,...n},{transformValues:i},a){let o=uke(n,e||{},this);if(i&&(r&&(r=i(r)),n&&(n=i(n)),o&&(o=i(o))),a){lke(this,n,o);const s=URe(this,n,o,r);r=s.transitionEnd,n=s.target}return{transition:e,transitionEnd:r,...n}}}function KRe(t){return window.getComputedStyle(t)}class YRe extends HK{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,r){if(ed.has(r)){const n=u3(r);return n&&n.default||0}else{const n=KRe(e),i=(Rq(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return kK(e,r)}build(e,r,n,i){e3(e,r,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,r){return i3(e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ri(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(e,r,n,i){Fq(e,r,n,i)}}class XRe extends HK{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(ed.has(r)){const n=u3(r);return n&&n.default||0}return r=Bq.has(r)?r:XO(r),e.getAttribute(r)}measureInstanceViewportBox(){return Cr()}scrapeMotionValuesFromProps(e,r){return Uq(e,r)}build(e,r,n,i){r3(e,r,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,r,n,i){Vq(e,r,n,i)}mount(e){this.isSVGTag=n3(e.tagName),super.mount(e)}}const QRe=(t,e)=>JO(t)?new XRe(e,{enableHardwareAcceleration:!1}):new YRe(e,{enableHardwareAcceleration:!0}),ZRe={layout:{ProjectionNode:VK,MeasureLayout:DK}},JRe={...Ake,...HOe,...PRe,...ZRe},ds=JPe((t,e)=>kOe(t,e,JRe,QRe)),eDe=Uv("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),GK=_.forwardRef(({className:t,variant:e,...r},n)=>d.jsx("div",{ref:n,role:"alert",className:Ae(eDe({variant:e}),t),...r}));GK.displayName="Alert";const tDe=_.forwardRef(({className:t,...e},r)=>d.jsx("h5",{ref:r,className:Ae("mb-1 font-medium leading-none tracking-tight",t),...e}));tDe.displayName="AlertTitle";const qK=_.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:Ae("text-sm [&_p]:leading-relaxed",t),...e}));qK.displayName="AlertDescription";const rDe=({isOpen:t,onClose:e,onAddItems:r})=>{const{toast:n}=Ta(),[i,a]=_.useState(""),[o,s]=_.useState([]),[l,c]=_.useState(!1),[u,f]=_.useState(!1),[h,p]=_.useState(!1),[m,g]=_.useState("input"),v=`#taska
You are helping me create a structured grocery list from a block of unstructured text.

Here's how it works:
1. I will paste a recipe, list of meals, event plan, or raw text containing food or product needs.
2. You will:
  - Parse what items I might need.
  - Extract quantities if mentioned.
  - Infer appropriate items from context.

Output Format Instructions (CRITICAL):
- Respond ONLY with the formatted grocery list - no introduction, explanation, or additional text.
- Use EXACTLY this format:

 Grocery List
- [Item name] ([quantity] [unit])
- [Item name]
- ...

Example of a correct response:
 Grocery List
- Milk (1 gallon)
- Eggs (12)
- Bread (1 loaf)

Make sure the list is:
- In plain, copy-friendly text
- Organized and clean (no duplicates)
- Ready for direct copy/paste into the app

Now, here is the text I want to base my grocery list on:

${i}`,y=()=>{navigator.clipboard.writeText(v),f(!0),n({title:"Prompt copied to clipboard",description:"Now paste it into ChatGPT to generate your list"}),setTimeout(()=>f(!1),2e3)},x=C=>{try{console.log("Parsing input:",C);const A=C.split(`
`);console.log(`Processing ${A.length} lines`);const T=[];for(const I of A){const N=I.trim();if(!N){console.log("Skipping empty line");continue}console.log("Processing line:",N);const O=N.includes(" Grocery List"),R=N.startsWith("-");if(O){console.log("Skipping header line:",N);continue}let k=N;R&&(k=N.substring(1).trim(),console.log("Removed bullet point, processing:",k));let M=!1;const U=k.match(/^(.*?)\s*\(([^)]+)\)$/);if(U){M=!0,console.log("Found structured format match:",U);const L=U[1].trim(),z=U[2].trim(),B=z.match(/^(\d+(?:\.\d+)?)/);let $=1,W="";B?($=parseFloat(B[1]),W=z.substring(B[0].length).trim(),console.log(`Extracted quantity: ${$}, unit: ${W}`)):(W=z,console.log(`No numeric quantity found, using as unit: ${W}`));const H={name:L,quantity:$,unit:W,checked:!1,addedBy:{name:"You",avatar:"https://example.com/you.jpg"},isRecurring:!1,recurrenceFrequency:null};console.log("Adding structured item:",H),T.push(H)}if(!M){const L=k.match(/^(.*?)\s+(\d+(?:\.\d+)?)(?:\s+(\w+))?$/);if(L){M=!0,console.log("Found simple format match:",L);const z=L[1].trim(),B=parseFloat(L[2]),$=L[3]?L[3].trim():"",W={name:z,quantity:B,unit:$,checked:!1,addedBy:{name:"You",avatar:"https://example.com/you.jpg"},isRecurring:!1,recurrenceFrequency:null};console.log("Adding simple format item:",W),T.push(W)}}if(!M){const L=k.match(/^(.*?)\s+-\s+(\d+(?:\.\d+)?)(?:\s+(\w+))?$/);if(L){M=!0,console.log("Found dash format match:",L);const z=L[1].trim(),B=parseFloat(L[2]),$=L[3]?L[3].trim():"",W={name:z,quantity:B,unit:$,checked:!1,addedBy:{name:"You",avatar:"https://example.com/you.jpg"},isRecurring:!1,recurrenceFrequency:null};console.log("Adding dash format item:",W),T.push(W)}}if(!M){console.log("No format match, treating as plain item:",k);const L={name:k,quantity:1,unit:"",checked:!1,addedBy:{name:"You",avatar:"https://example.com/you.jpg"},isRecurring:!1,recurrenceFrequency:null};console.log("Adding plain item:",L),T.push(L)}}return console.log("Final parsed items:",T),T}catch(A){return console.error("Error parsing output:",A),[]}},b=()=>{if(!i.trim()){n({title:"Empty input",description:"Please paste the AI-generated grocery list",variant:"destructive"});return}c(!0);const C=x(i);setTimeout(()=>{s(C),c(!1),g("output"),C.length===0&&n({title:"Parsing failed",description:"Could not identify any items in the format. Please make sure it follows the proper format.",variant:"destructive"})},1e3)},S=()=>{if(o.length===0){n({title:"No items",description:"No items to add to your trip",variant:"destructive"});return}r(o),n({title:"Items added",description:`${o.length} items added to your trip`}),a(""),s([]),g("input"),e()},E=()=>{g("input"),a(""),s([])};return d.jsx(ci,{open:t,onOpenChange:e,children:d.jsxs(zn,{className:"sm:max-w-md md:max-w-lg max-h-[80vh] overflow-y-auto",children:[d.jsxs(Wn,{children:[d.jsxs(Hn,{className:"flex items-center gap-2 bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-green-500",children:[d.jsx(Lle,{className:"h-5 w-5 text-blue-500"}),"Smart List Parser"]}),d.jsx(to,{children:"Turn unstructured text into an organized grocery list using AI."})]}),d.jsxs("div",{className:"pt-4 space-y-4",children:[m==="input"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs(Ee,{className:"flex items-center",children:[d.jsx(Tle,{className:"h-4 w-4 mr-2 text-blue-500"}),"Step 1: Copy this prompt to ChatGPT"]}),d.jsxs("div",{className:"relative bg-gray-100 dark:bg-gray-800 rounded-md p-3 mt-1 text-sm text-gray-700 dark:text-gray-300",children:[d.jsx("div",{className:"absolute top-2 right-2",children:d.jsx(Y,{variant:"ghost",size:"icon",onClick:y,className:"h-6 w-6",children:u?d.jsx(Nf,{className:"h-3 w-3"}):d.jsx(ple,{className:"h-3 w-3"})})}),d.jsx("div",{className:"pr-6 max-h-32 overflow-y-auto font-mono",children:d.jsx("pre",{className:"whitespace-pre-wrap",children:v})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(Ee,{htmlFor:"output",className:"flex items-center",children:[d.jsx(hle,{className:"h-4 w-4 mr-2 text-blue-500"}),"Step 2: Paste AI-generated grocery list here or type items directly (e.g., milk 1 gallon, bread - 2 loaves)"]}),d.jsx(Eq,{id:"output",value:i,onChange:C=>a(C.target.value),placeholder:"Paste list here or type items directly (e.g., milk 1 gallon, bread - 2 loaves)",className:"min-h-[150px]"})]}),d.jsxs(GK,{className:"bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 border-blue-200 dark:border-blue-900",children:[d.jsx(wle,{className:"h-4 w-4"}),d.jsx(qK,{children:'Use ChatGPT to convert recipes, meal plans, or any food-related text into a structured grocery list, then paste it here. Or simply type items directly, one per line, like "milk 1 gallon" or "bread - 2 loaves" to add with quantities.'})]}),d.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[d.jsx(Y,{variant:"outline",onClick:e,children:"Cancel"}),d.jsxs(Y,{onClick:b,className:"bg-gradient-to-r from-blue-500 to-green-500 text-white hover:from-blue-600 hover:to-green-600",children:[d.jsx(Sle,{className:"h-4 w-4 mr-2"}),"Process List"]})]})]}),m==="output"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs(Ee,{className:"flex items-center",children:[d.jsx(Wr,{className:"h-4 w-4 mr-2 text-blue-500"}),"Parsed Items (",o.length,")"]}),d.jsxs(Or,{variant:"outline",className:"font-normal",children:[o.length," items"]})]}),d.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-md p-4 max-h-[300px] overflow-y-auto",children:o.length>0?d.jsx("ul",{className:"space-y-2",children:o.map((C,A)=>d.jsxs(ds.li,{className:"flex justify-between items-center p-2 bg-white dark:bg-gray-700 rounded-md border border-gray-200 dark:border-gray-600",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:A*.05},children:[d.jsx("span",{children:C.name}),d.jsxs(Or,{variant:"secondary",className:"text-xs",children:[C.quantity," ",C.unit]})]},A))}):d.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No items could be parsed from the input"})})]}),d.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[d.jsx(Y,{variant:"outline",onClick:E,children:"Back"}),d.jsxs(Y,{onClick:S,disabled:o.length===0,className:"bg-gradient-to-r from-blue-500 to-green-500 text-white hover:from-blue-600 hover:to-green-600",children:[d.jsx(Wr,{className:"h-4 w-4 mr-2"}),"Add to Trip"]})]})]})]})]})})},nDe=(t,e)=>{try{const r=`tripSplit_${t}`;localStorage.setItem(r,JSON.stringify(e))}catch(r){console.error("Failed to save split configuration:",r)}},oT=t=>{try{const e=`tripSplit_${t}`,r=localStorage.getItem(e);if(r)return JSON.parse(r)}catch(e){console.error("Failed to load split configuration:",e)}return[]},iDe=(t,e)=>{if(!Array.isArray(e)||e.length===0)return{itemId:t,splitType:"equal",details:[]};const r=e.filter(i=>i&&i.id&&i.name);if(r.length===0)return{itemId:t,splitType:"equal",details:[]};const n=100/r.length;return{itemId:t,splitType:"equal",details:r.map(i=>({userId:i.id,userName:i.name,share:n}))}},aE=(t,e,r,n)=>{const i=t.findIndex(a=>a.itemId===e);if(i>=0){const a=[...t];return a[i]={itemId:e,splitType:r,details:n},a}else return[...t,{itemId:e,splitType:r,details:n}]},aDe=(t,e,r)=>{if(!Array.isArray(r))return[];const n=r.filter(s=>s&&s.id&&s.name);if(n.length===0)return[];const i=oT(t),a=n.map(s=>({userId:s.id,userName:s.name,totalAmount:0,itemCount:0})),o=n.find(s=>s.name==="You");return e.forEach(s=>{if(s.price===void 0)return;const l=i.find(u=>u.itemId===s.id),c=s.price*s.quantity;if(l)if(l.splitType==="equal"){if(l.details.length===0)return;const u=c/l.details.length;l.details.forEach(f=>{const h=a.find(p=>p.userId===f.userId);h&&(h.totalAmount+=u,h.itemCount+=1)})}else l.splitType==="percentage"?l.details.forEach(u=>{const f=a.find(h=>h.userId===u.userId);f&&(f.totalAmount+=c*u.share/100,f.itemCount+=1)}):l.splitType==="person"&&l.details.forEach(u=>{const f=a.find(h=>h.userId===u.userId);f&&(f.totalAmount+=u.share,f.itemCount+=1)});else{const u=c/n.length;n.forEach(f=>{const h=a.find(p=>p.userId===f.id);h&&(h.totalAmount+=u,h.itemCount+=1)})}}),o&&(e.reduce((s,l)=>s+(l.price||0)*l.quantity,0),a.find(s=>s.userId===o.id)),a.forEach(s=>{s.totalAmount=Math.round(s.totalAmount*100)/100}),a};var g3="Checkbox",[oDe,Hat]=co(g3),[sDe,lDe]=oDe(g3),KK=_.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:l="on",onCheckedChange:c,form:u,...f}=t,[h,p]=_.useState(null),m=Ze(e,S=>p(S)),g=_.useRef(!1),v=h?u||!!h.closest("form"):!0,[y=!1,x]=Os({prop:i,defaultProp:a,onChange:c}),b=_.useRef(y);return _.useEffect(()=>{const S=h==null?void 0:h.form;if(S){const E=()=>x(b.current);return S.addEventListener("reset",E),()=>S.removeEventListener("reset",E)}},[h,x]),d.jsxs(sDe,{scope:r,state:y,disabled:s,children:[d.jsx(je.button,{type:"button",role:"checkbox","aria-checked":Bl(y)?"mixed":y,"aria-required":o,"data-state":QK(y),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:m,onKeyDown:_e(t.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:_e(t.onClick,S=>{x(E=>Bl(E)?!0:!E),v&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})}),v&&d.jsx(cDe,{control:h,bubbles:!g.current,name:n,value:l,checked:y,required:o,disabled:s,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Bl(a)?!1:a})]})});KK.displayName=g3;var YK="CheckboxIndicator",XK=_.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,a=lDe(YK,r);return d.jsx(In,{present:n||Bl(a.state)||a.state===!0,children:d.jsx(je.span,{"data-state":QK(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});XK.displayName=YK;var cDe=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:i,...a}=t,o=_.useRef(null),s=qO(r),l=gP(e);_.useEffect(()=>{const u=o.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(s!==r&&p){const m=new Event("click",{bubbles:n});u.indeterminate=Bl(r),p.call(u,Bl(r)?!1:r),u.dispatchEvent(m)}},[s,r,n]);const c=_.useRef(Bl(r)?!1:r);return d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??c.current,...a,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Bl(t){return t==="indeterminate"}function QK(t){return Bl(t)?"indeterminate":t?"checked":"unchecked"}var ZK=KK,uDe=XK;const zf=_.forwardRef(({className:t,...e},r)=>d.jsx(ZK,{ref:r,className:Ae("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:d.jsx(uDe,{className:Ae("flex items-center justify-center text-current"),children:d.jsx(Nf,{className:"h-4 w-4"})})}));zf.displayName=ZK.displayName;const JK="taska_ledger_transactions",S2=()=>{try{const t=localStorage.getItem(JK);if(t)return JSON.parse(t)}catch(t){console.error("Failed to load ledger transactions:",t)}return[]},eY=t=>{try{localStorage.setItem(JK,JSON.stringify(t))}catch(e){console.error("Failed to save ledger transactions:",e)}},tY=t=>{const e=S2(),r={...t,id:Date.now().toString()};return e.push(r),eY(e),r},v3=(t,e)=>{const r=S2(),n=r.findIndex(a=>a.id===t);if(n===-1)return null;const i={...r[n],...e};return r[n]=i,eY(r),i},rY=()=>{const t=S2(),e=new Map;return t.forEach(r=>{if(r.status!=="completed")return;e.has(r.fromUserId)||e.set(r.fromUserId,{userId:r.fromUserId,userName:r.fromUserName,totalSpent:0,owesAmount:0,owedAmount:0,netBalance:0}),e.has(r.toUserId)||e.set(r.toUserId,{userId:r.toUserId,userName:r.toUserName,totalSpent:0,owesAmount:0,owedAmount:0,netBalance:0});const n=e.get(r.fromUserId),i=e.get(r.toUserId);if(r.type==="expense")if(r.isSplit){i.totalSpent+=r.amount;const a=r.amount/2;n.owesAmount+=a,i.owedAmount+=a}else i.totalSpent+=r.amount,n.owesAmount+=r.amount,i.owedAmount+=r.amount;else r.type==="payment"&&(n.totalSpent+=r.amount,n.owedAmount+=r.amount,i.owesAmount+=r.amount)}),e.forEach(r=>{r.netBalance=r.owedAmount-r.owesAmount}),Array.from(e.values())},dDe=()=>{const t=rY(),e=t.filter(o=>o.netBalance<0).sort((o,s)=>o.netBalance-s.netBalance),r=t.filter(o=>o.netBalance>0).sort((o,s)=>s.netBalance-o.netBalance),n=[];let i=0,a=0;for(;i<e.length&&a<r.length;){const o=e[i],s=r[a],l=Math.min(Math.abs(o.netBalance),s.netBalance);l>0&&n.push({from:o,to:s,amount:Math.round(l*100)/100}),o.netBalance+=l,s.netBalance-=l,Math.abs(o.netBalance)<.01&&i++,Math.abs(s.netBalance)<.01&&a++}return n},fDe=(t,e,r,n,i,a,o,s=!0,l="other")=>tY({tripId:t,timestamp:Date.now(),amount:o,type:"expense",fromUserId:r,fromUserName:n,toUserId:i,toUserName:a,description:`Expenses from trip to ${e}`,status:"completed",isSplit:s,category:l}),hDe=(t,e,r,n,i,a="Payment",o)=>tY({timestamp:Date.now(),amount:i,type:"payment",fromUserId:t,fromUserName:e,toUserId:r,toUserName:n,description:a,status:"pending",category:o}),pDe=t=>v3(t,{status:"completed"}),mDe=t=>v3(t,{status:"cancelled"}),sT=()=>[{id:"food",label:"Food & Dining",icon:"utensils"},{id:"groceries",label:"Groceries",icon:"shopping-cart"},{id:"household",label:"Household",icon:"home"},{id:"utilities",label:"Utilities",icon:"bolt"},{id:"rent",label:"Rent & Mortgage",icon:"building"},{id:"transportation",label:"Transportation",icon:"car"},{id:"entertainment",label:"Entertainment",icon:"film"},{id:"personal",label:"Personal",icon:"user"},{id:"medical",label:"Medical",icon:"stethoscope"},{id:"other",label:"Other",icon:"circle"}],gDe=(t,e)=>v3(t,{category:e}),nY=({tripId:t=`trip-${Date.now()}`,tripName:e="Shopping Trip",items:r,participants:n,onSettleUp:i,onSplitUpdated:a})=>{const[o,s]=_.useState([]),[l,c]=_.useState(0),[u,f]=_.useState(!1),[h,p]=_.useState(!1),[m,g]=_.useState("equal"),[v,y]=_.useState([]),[x,b]=_.useState([]),{toast:S}=Ta();_.useEffect(()=>{const $=r.reduce((G,Z)=>G+(Z.price||0)*Z.quantity,0);c($);const W=aDe(t,r,n);s(W);const H=oT(t);f(H.length>0)},[t,r,n]),_.useEffect(()=>{if(h){const $=n.map(G=>G.id);b($);const W=100/$.length,H=$.map(G=>{const Z=n.find(se=>se.id===G);return{userId:G,userName:(Z==null?void 0:Z.name)||"Unknown",share:W}});y(H),g("equal")}},[h,n]);const E=o.find($=>$.userName==="You"),C=o.filter($=>$.userName!=="You"),A=r.filter($=>$.price!==void 0).length,T=()=>{S({title:"Share split summary",description:"This feature is coming soon!"})},I=()=>{S({title:"Export to CSV",description:"This feature is coming soon!"})},N=$=>{if(!E||!i)return;const W=o.find(H=>H.userId===$);W&&(fDe(t,e,E.userId,E.userName,W.userId,W.userName,W.totalAmount),i(W.totalAmount,$,E.userId),S({title:"Payment recorded",description:`Payment of $${W.totalAmount.toFixed(2)} to ${W.userName} has been recorded in the ledger`}))},O=()=>"You",R=$=>{if(x.includes($)){const H=x.filter(Z=>Z!==$);b(H);const G=v.filter(Z=>Z.userId!==$);if(H.length>0){if(m==="equal"){const Z=100/H.length;G.forEach(se=>se.share=Z)}else if(m==="percentage"){const Z=G.reduce((se,ce)=>se+ce.share,0);if(Z>0){const se=100/Z;G.forEach(ce=>ce.share=ce.share*se)}}}y(G)}else{const H=[...x,$];b(H);const G=n.find(se=>se.id===$);if(!G)return;let Z=0;if(m==="equal"){Z=100/H.length;const se=[...v.map(ce=>({...ce,share:Z})),{userId:$,userName:G.name,share:Z}];y(se)}else if(m==="percentage"){const se=[...v,{userId:$,userName:G.name,share:0}];y(se)}else if(m==="person"){const se=[...v,{userId:$,userName:G.name,share:0}];y(se)}}},k=$=>{const W=$;if(g(W),W==="equal"){const H=100/x.length,G=x.map(Z=>{const se=n.find(ce=>ce.id===Z);return{userId:Z,userName:(se==null?void 0:se.name)||"Unknown",share:H}});y(G)}else if(W==="percentage"){const H=100/x.length,G=x.map(Z=>{const se=n.find(ce=>ce.id===Z);return{userId:Z,userName:(se==null?void 0:se.name)||"Unknown",share:H}});y(G)}else if(W==="person"){const H=l/x.length,G=x.map(Z=>{const se=n.find(ce=>ce.id===Z);return{userId:Z,userName:(se==null?void 0:se.name)||"Unknown",share:H}});y(G)}},M=($,W)=>{const H=parseFloat(W);if(isNaN(H))return;const G=v.map(Z=>Z.userId===$?{...Z,share:H}:Z);y(G)},U=m==="percentage"?v.reduce(($,W)=>$+W.share,0):100,L=m==="person"?v.reduce(($,W)=>$+W.share,0):0,z=m!=="person"||Math.abs(L-l)<.01,B=()=>{if(m==="percentage"&&Math.abs(U-100)>.01){S({title:"Percentages must sum to 100%",variant:"destructive"});return}if(m==="person"&&!z){S({title:`Amounts must sum to ${l.toFixed(2)}`,variant:"destructive"});return}const $=r.filter(H=>H.price!==void 0);if($.length===0){S({title:"No items to split",description:"Add prices to items before splitting costs",variant:"destructive"});return}let W=oT(t);for(const H of $)if(m==="equal"){const G=iDe(H.id,n.filter(Z=>x.includes(Z.id)));W=aE(W,H.id,m,G.details)}else if(m==="percentage")W=aE(W,H.id,m,v);else if(m==="person"&&H.price){const Z=H.price*(H.quantity||1)/l,se=v.map(ce=>({...ce,share:ce.share*Z}));W=aE(W,H.id,m,se)}nDe(t,W),S({title:"Bulk split applied",description:`Split applied to ${$.length} items`}),p(!1),a&&a()};return d.jsxs("div",{className:"space-y-4",children:[d.jsxs(Ie,{children:[d.jsxs(We,{className:"pb-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx(He,{className:"text-lg",children:"Split Summary"}),d.jsx(Or,{variant:u?"secondary":"outline",children:u?"Custom Split":"Equal Split"})]}),d.jsxs(gt,{children:[r.length," items with a total of $",l.toFixed(2)]})]}),d.jsxs(Pe,{className:"pb-3",children:[d.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Trip Cost"}),d.jsxs("div",{className:"text-xl font-bold flex items-center",children:[d.jsx(sf,{className:"h-4 w-4 mr-1"}),l.toFixed(2)]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-sm text-muted-foreground",children:"Items with prices"}),d.jsxs("div",{className:"text-base",children:[A," of ",r.length," items"]})]})]}),d.jsx("div",{className:"space-y-3",children:o.map($=>d.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg border bg-card",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Vr,{className:"h-8 w-8",children:d.jsx(Ur,{className:"text-xs",children:$.userName.charAt(0)})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:$.userName}),d.jsxs("div",{className:"text-xs text-muted-foreground",children:[$.itemCount," items"]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"font-medium",children:["$",$.totalAmount.toFixed(2)]}),d.jsxs("div",{className:"text-xs text-muted-foreground",children:[($.totalAmount/l*100).toFixed(0),"% of total"]})]})]},$.userId))}),n.length===0&&d.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[d.jsx(NP,{className:"h-8 w-8 mx-auto mb-2"}),d.jsx("p",{children:"No participants added yet."})]}),d.jsxs("div",{className:"mt-4 space-y-2",children:[d.jsxs(ci,{open:h,onOpenChange:p,children:[d.jsx(oNe,{asChild:!0,children:d.jsxs(Y,{variant:"outline",className:"w-full",children:[d.jsx($le,{className:"h-4 w-4 mr-2"}),"Customize Split"]})}),d.jsxs(zn,{className:"max-h-[90vh] overflow-y-auto",children:[d.jsx(Wn,{children:d.jsx(Hn,{children:"Customize Cost Split"})}),d.jsxs("div",{className:"space-y-4 py-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{children:"Split Type"}),d.jsxs(pr,{value:m,onValueChange:$=>k($),children:[d.jsx(rr,{children:d.jsx(mr,{placeholder:"Select split type"})}),d.jsxs(nr,{children:[d.jsx(Se,{value:"equal",children:"Equal Split"}),d.jsx(Se,{value:"percentage",children:"Percentage"}),d.jsx(Se,{value:"custom",children:"Custom Amount"})]})]}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[m==="equal"&&"Split the cost equally among selected participants",m==="percentage"&&"Assign a percentage of the total to each participant",m==="custom"&&"Specify exact amounts for each participant"]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{children:"Select Participants"}),d.jsx("div",{className:"grid grid-cols-1 gap-2",children:n.map($=>{var W;return d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(zf,{id:`participant-${$.id}`,checked:x.includes($.id),onCheckedChange:()=>R($.id)}),d.jsxs(Ee,{htmlFor:`participant-${$.id}`,className:"flex items-center cursor-pointer",children:[d.jsx(Vr,{className:"h-6 w-6 mr-2",children:d.jsx(Ur,{className:"text-xs",children:$.name.charAt(0)})}),d.jsx("span",{children:$.name})]}),x.includes($.id)&&d.jsx("div",{className:"ml-auto flex items-center space-x-2",children:d.jsx(tt,{type:m==="custom"?"number":"text",step:m==="custom"?"0.01":void 0,min:"0",placeholder:m==="percentage"?"%":m==="custom"?"$":"Equal",className:"w-20 h-8 text-sm",value:m==="equal"?(100/x.length).toFixed(0)+"%":((W=v.find(H=>H.userId===$.id))==null?void 0:W.share.toFixed(m==="percentage"?0:2))+(m==="percentage"?"%":""),onChange:H=>M($.id,H.target.value),disabled:m==="equal"})})]},$.id)})})]})]}),d.jsxs(eo,{children:[d.jsx(Y,{variant:"ghost",onClick:()=>p(!1),children:"Cancel"}),d.jsx(Y,{onClick:B,children:"Apply Split"})]})]})]}),d.jsxs(Y,{variant:"outline",className:"w-full",onClick:T,children:[d.jsx(Dle,{className:"h-4 w-4 mr-2"}),"Share Split Summary"]}),d.jsxs(Y,{variant:"outline",className:"w-full",onClick:I,children:[d.jsx(FV,{className:"h-4 w-4 mr-2"}),"Export as CSV"]})]})]})]}),E&&d.jsxs(Ie,{children:[d.jsx(We,{className:"pb-3",children:d.jsx(He,{className:"text-lg",children:"Your Summary"})}),d.jsxs(Pe,{className:"pb-3",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-muted-foreground",children:"You owe"}),d.jsxs("div",{className:"text-xl font-bold",children:["$",E.totalAmount.toFixed(2)]})]}),d.jsxs(Or,{variant:"outline",className:"text-xs",children:[E.itemCount," items"]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"text-sm font-medium",children:"Settle up with:"}),C.map($=>d.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg border bg-card",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Vr,{className:"h-8 w-8",children:d.jsx(Ur,{className:"text-xs",children:$.userName.charAt(0)})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:$.userName}),d.jsx("div",{className:"text-xs text-muted-foreground",children:O()===$.userName?"Paid for this trip":"Sharing cost"})]})]}),d.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>N($.userId),disabled:!i,children:[d.jsx(OP,{className:"h-3.5 w-3.5 mr-2"}),"Pay $",$.totalAmount.toFixed(2)]})]},$.userId)),C.length===0&&d.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[d.jsx(rc,{className:"h-8 w-8 mx-auto mb-2"}),d.jsx("p",{children:"No other participants to settle with."})]})]})]})]})]})},iY=({suggestions:t,value:e,onChange:r,onSelect:n,placeholder:i})=>{const[a,o]=_.useState([]),[s,l]=_.useState(!1),c=_.useRef(null);_.useEffect(()=>{if(e){const f=t.filter(h=>h.toLowerCase().indexOf(e.toLowerCase())>-1);o(f),l(!0)}else o([]),l(!1)},[e,t]),_.useEffect(()=>{const f=h=>{c.current&&!c.current.contains(h.target)&&l(!1)};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[]);const u=f=>{n(f),l(!1)};return d.jsxs("div",{ref:c,className:"relative w-full",children:[d.jsx(tt,{type:"text",value:e,onChange:f=>r(f.target.value),placeholder:i}),s&&a.length>0&&d.jsx(Ie,{className:"absolute z-10 w-full mt-1 overflow-hidden rounded-md shadow-lg",children:d.jsx(Pe,{className:"p-2 max-h-60 overflow-y-auto",children:d.jsx("ul",{className:"space-y-1",children:a.map((f,h)=>d.jsx("li",{onClick:()=>u(f),className:"px-3 py-2 text-sm rounded-md cursor-pointer hover:bg-accent",children:f},h))})})})]})},aY=["Apple","Banana","Orange","Grape","Strawberry","Blueberry","Raspberry","Blackberry","Watermelon","Cantaloupe","Honeydew","Pineapple","Mango","Peach","Nectarine","Plum","Cherry","Pear","Kiwi","Lemon","Lime","Grapefruit","Pomegranate","Avocado","Coconut","Fig","Guava","Papaya","Passion Fruit","Apricot"],oY=["Carrot","Broccoli","Spinach","Kale","Arugula","Potato","Sweet Potato","Onion","Garlic","Bell Pepper","Tomato","Cucumber","Zucchini","Eggplant","Cabbage","Lettuce","Celery","Mushroom","Asparagus","Cauliflower","Green Beans","Peas","Corn","Radish","Beet","Artichoke","Leek","Scallion","Ginger","Turnip","Collard Greens","Swiss Chard","Bok Choy","Okra","Pumpkin","Squash","Brussels Sprouts","Fennel","Kohlrabi","Parsnip"],vDe=[{id:"ea",name:"Each"},{id:"kg",name:"Kilograms"},{id:"g",name:"Grams"},{id:"lb",name:"Pounds"},{id:"oz",name:"Ounces"},{id:"l",name:"Liters"},{id:"ml",name:"Milliliters"},{id:"pkg",name:"Package"},{id:"box",name:"Box"},{id:"can",name:"Can"},{id:"bottle",name:"Bottle"}],yDe=[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"bi-weekly",label:"Bi-weekly"},{value:"monthly",label:"Monthly"}],xDe=({isOpen:t,onClose:e,trip:r,onAddItem:n,onRemoveItem:i,onToggleItemCheck:a,onInviteParticipant:o,onCompleteTrip:s,onReactivateTrip:l,onUpdateItemPrice:c,onSettleUp:u,onUpdateItemUnit:f})=>{const[h,p]=_.useState(""),[m,g]=_.useState(1),[v,y]=_.useState(void 0),[x,b]=_.useState("ea"),[S,E]=_.useState("items"),[C,A]=_.useState(!1),[T,I]=_.useState(""),[N,O]=_.useState(null),[R,k]=_.useState(!1),[M,U]=_.useState(null),[L,z]=_.useState(!1),[B,$]=_.useState(void 0),[W,H]=_.useState(!1),{toast:G}=Ta(),{pantryItems:Z}=IP(),[se,ce]=_.useState(""),Oe=_.useMemo(()=>{const fe=Z.map(ue=>ue.name);return Array.from(new Set([...aY,...oY,...fe]))},[Z]);_.useEffect(()=>{t&&(p(""),g(1),y(void 0),b("ea"),z(!1),$(void 0),E("items"))},[t]),_.useEffect(()=>{if(h.trim()){const fe=Ox(h);b(fe.id)}},[h]);const pe=fe=>{if(fe.preventDefault(),!r)return;if(!h.trim()){G({title:"Item Name Required",description:"Please enter a name for the item.",variant:"destructive"});return}L&&B&&UPe(new Date,B);const ue={name:h,quantity:m,price:v,unit:x,checked:!1,addedBy:{name:"You",avatar:"https://example.com/you.jpg"},isRecurring:L,recurrenceFrequency:L?B:void 0},ke=FPe(h,r.items);if(ke){O(ke),k(!0),U(ue);return}J(ue)},J=fe=>{r&&(n(r.id,fe),fe.price&&OPe(fe.name,fe.price,r.store,fe.quantity),p(""),g(1),y(void 0),b("ea"),z(!1),$(void 0),navigator.vibrate&&navigator.vibrate(50),G({title:"Item Added",description:`${fe.name} has been added to your trip.`}))},q=()=>{M&&(J(M),U(null))},ae=(fe,ue)=>{r&&(r.items.map(ke=>ke.id===fe.id?{...ke,quantity:ke.quantity+ue}:ke),p(""),g(1),y(void 0),U(null))},re=fe=>{p(fe.name),g(fe.quantity),y(fe.price),U(null)},ee=fe=>{p(fe.name),fe.defaultPrice&&y(fe.defaultPrice);const ue={name:fe.name,quantity:1,price:fe.defaultPrice,unit:fe.unit||"ea",checked:!1,addedBy:{name:"You",avatar:"https://example.com/you.jpg"},isRecurring:!1,recurrenceFrequency:void 0};r&&(n(r.id,ue),p(""),g(1),y(void 0),b("ea"),A(!1))},$e=fe=>{if(!r)return;console.log("Received items from parser:",fe);let ue=0,ke=0;if(fe.length===0){G({title:"No items to add",description:"No items were received from the parser.",variant:"destructive"});return}const X=[];fe.forEach(de=>{r.items.some(ct=>ct.name.toLowerCase()===de.name.toLowerCase())?ke++:(X.push(de),ue++)}),X.length>0&&(console.log("Adding non-duplicate items to trip:",X),X.forEach(de=>{n(r.id,de)})),G({title:`${ue} items added`,description:ke>0?`Added ${ue} items. ${ke} items were skipped because they already exist in the trip.`:`Added ${ue} items to your trip.`})},De=fe=>{if(!r)return;const ue={name:fe.name,quantity:1,checked:!1,addedBy:{name:"You",avatar:"https://example.com/you.jpg"}};J(ue),G({title:"Item Added",description:`${ue.name} has been added to your trip from the pantry.`})};return r?(r.shopper&&r.shopper.name,r.items.reduce((fe,ue)=>fe+(ue.price||0),0),r.participants.map(fe=>({...fe,avatar:fe.avatar||`https://api.dicebear.com/7.x/avatars/svg?seed=${fe.id}`})),d.jsxs(ci,{open:t,onOpenChange:e,children:[d.jsxs(zn,{className:"max-w-4xl h-[90vh]",children:[d.jsx(Wn,{children:d.jsxs(Hn,{className:"flex items-center gap-2",children:[d.jsx(qV,{})," ",r.store]})}),d.jsxs(Cu,{value:S,onValueChange:E,className:"mt-4",children:[d.jsxs(nc,{children:[d.jsx(tr,{value:"items",children:"Items"}),d.jsx(tr,{value:"pantry",children:"Add from Pantry"}),d.jsx(tr,{value:"details",children:"Details"}),d.jsx(tr,{value:"cost",children:"Cost Split"})]}),d.jsx(Pr,{value:"items",className:"mt-4",children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-medium",children:"Add Item"}),d.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"name",children:"Item Name"}),d.jsx(iY,{suggestions:Oe,value:h,onChange:p,onSelect:p,placeholder:"Enter item name"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"quantity",children:"Quantity"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(tt,{id:"quantity",type:"number",value:m,onChange:fe=>g(Number(fe.target.value)),min:1,className:"w-24"}),d.jsxs(pr,{value:x,onValueChange:b,children:[d.jsx(rr,{className:"w-24",children:d.jsx(mr,{placeholder:"Unit"})}),d.jsx(nr,{children:vDe.map(fe=>d.jsx(Se,{value:fe.id,children:fe.name},fe.id))})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"price",children:"Price (optional)"}),d.jsx(tt,{id:"price",type:"number",value:v||"",onChange:fe=>y(Number(fe.target.value)),placeholder:"0.00",step:"0.01",min:"0"})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(zf,{id:"recurring",checked:L,onCheckedChange:fe=>z(fe)}),d.jsx(Ee,{htmlFor:"recurring",children:"Add to recurring items"})]}),L&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"frequency",children:"Recurrence Frequency"}),d.jsxs(pr,{value:B||"",onValueChange:fe=>$(fe),children:[d.jsx(rr,{children:d.jsx(mr,{placeholder:"Select frequency"})}),d.jsx(nr,{children:yDe.map(fe=>d.jsx(Se,{value:fe.value,children:fe.label},fe.value))})]})]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsxs(Y,{type:"button",variant:"outline",onClick:()=>H(!0),children:[d.jsx(Ele,{className:"h-4 w-4 mr-2"}),"Smart Add"]}),d.jsxs(Y,{type:"submit",children:[d.jsx(cn,{className:"h-4 w-4 mr-2"}),"Add Item"]})]})]})]})})}),d.jsx(Pr,{value:"pantry",className:"mt-4",children:d.jsxs("div",{children:[d.jsx(tt,{type:"search",placeholder:"Search pantry...",value:se,onChange:fe=>ce(fe.target.value),className:"mb-4"}),d.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:Z.filter(fe=>fe.name.toLowerCase().includes(se.toLowerCase())&&!r.items.some(ue=>ue.name.toLowerCase()===fe.name.toLowerCase())).map(fe=>d.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-muted/50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:fe.name}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["In stock: ",fe.quantity]})]}),d.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>De(fe),children:[d.jsx(cn,{className:"h-4 w-4 mr-2"})," Add"]})]},fe.id))})]})}),d.jsx(Pr,{value:"details",className:"mt-4"}),d.jsx(Pr,{value:"cost",className:"mt-4",children:d.jsx(nY,{items:r.items,participants:r.participants})})]})]}),d.jsx(MPe,{isOpen:C,onClose:()=>A(!1),barcode:T,onSave:ee}),d.jsx(VPe,{isOpen:R,onClose:()=>k(!1),suggestion:N,onAddAnyway:q,onMergeItems:ae,onUpdate:re}),d.jsx(rDe,{isOpen:W,onClose:()=>H(!1),onAddItems:$e})]})):null};function wDe(t,e){const n=(e.lat-t.lat)*Math.PI/180,i=(e.lng-t.lng)*Math.PI/180,a=t.lat*Math.PI/180,o=e.lat*Math.PI/180,s=Math.sin(n/2)*Math.sin(n/2)+Math.sin(i/2)*Math.sin(i/2)*Math.cos(a)*Math.cos(o);return 3959*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))}function bDe(t,e){const r=`${t.lat},${t.lng}`,n=e.map(i=>`${i.coordinates.lat},${i.coordinates.lng}`).join("|");return`https://www.google.com/maps/dir/?api=1&origin=${r}&destination=${e[0].coordinates.lat},${e[0].coordinates.lng}&waypoints=${n}`}function _De(){const t=ra(),{trips:e}=ks(),[r,n]=_.useState("active"),[i,a]=_.useState(""),[o,s]=_.useState({item1:!1,item2:!1,item3:!1,item4:!1}),[l,c]=_.useState(!1),[u,f]=_.useState(!1),[h,p]=_.useState(500),{updateBudget:m}=ks(),[g,v]=_.useState(null),[y,x]=_.useState(!0),[b,S]=_.useState(null),[E,C]=_.useState([]),[A,T]=_.useState(!1),[I,N]=_.useState(null),[O,R]=_.useState(!1),{pantryItems:k}=IP(),M=_.useMemo(()=>e.filter(J=>J.status!=="completed"&&J.status!=="cancelled"&&(i?J.store.toLowerCase().includes(i.toLowerCase()):!0)),[e,i]),U=e.filter(J=>(J.status==="completed"||J.status==="cancelled")&&(i?J.store.toLowerCase().includes(i.toLowerCase()):!0)),L=(J=!1)=>{x(!0),S(null);const q={enableHighAccuracy:J,timeout:J?15e3:5e3,maximumAge:0};navigator.geolocation.getCurrentPosition(ae=>{v({lat:ae.coords.latitude,lng:ae.coords.longitude}),x(!1)},ae=>{if(!J){L(!0);return}let re="Could not get your current location. Please enable location services in your browser settings.";ae.code===ae.PERMISSION_DENIED?re="Location access was denied. Please enable it in your browser settings to use location-based features.":ae.code===ae.POSITION_UNAVAILABLE?re="Your location information is currently unavailable. Please check your device's location services or try again.":ae.code===ae.TIMEOUT&&(re="Request for your location timed out. Please try again."),console.error("Error getting location:",ae),un({title:"Location Error",description:re,variant:"destructive"}),S(re),x(!1)},q)};_.useEffect(()=>{L()},[]),_.useEffect(()=>{if(!g)return;const q=M.reduce((ae,re)=>(re.coordinates&&!ae.some(ee=>ee.name===re.store)&&ae.push({name:re.store,coordinates:re.coordinates,tripId:re.id,distance:wDe(g,re.coordinates)}),ae),[]).sort((ae,re)=>ae.distance-re.distance);C(q)},[g,M]);const z=()=>{c(!0)},B=()=>{T(!0)},$=()=>{c(!0)},W=()=>{f(!0)},H=()=>{if(b){un({title:"Location Not Available",description:"Please allow location access or retry to use the map feature.",variant:"destructive"});return}if(!g||E.length===0){un({title:"Cannot Open Map",description:"Current location or store information is not available",variant:"destructive"});return}const J=bDe(g,E);window.open(J,"_blank")},G=J=>{a(J.target.value)},Z=()=>{t("/map")},se=J=>{if(J){const q=e.find(ae=>ae.id===J);q&&({...q},un({title:"Trip Started",description:`Started shopping trip to ${q.store}`}),t(`/trip/${J}`))}else un({title:"Start Shopping",description:"Please select a trip to start shopping",variant:"destructive"})},ce=J=>{const q=e.find(ae=>ae.id===J);q&&(N(q),R(!0))},Oe=J=>{p(J),m(J)},pe=()=>d.jsx("div",{className:"space-y-2",children:y?d.jsxs("div",{className:"text-center py-3",children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-900 mx-auto"}),d.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Finding nearby stores..."})]}):g?E.length>0?E.slice(0,3).map(J=>d.jsxs("div",{className:"flex justify-between items-center py-1",children:[d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx(qV,{className:"h-3 w-3 text-slate-500"}),d.jsx("span",{className:"text-xs text-slate-700 truncate",children:J.name})]}),d.jsx("span",{className:"text-xs text-slate-500",children:J.distance<1?`${(J.distance*1e3).toFixed(0)}m`:`${J.distance.toFixed(1)}km`})]},J.tripId)):d.jsx("div",{className:"text-center py-3",children:d.jsx("p",{className:"text-xs text-slate-500",children:"No stores in your trips"})}):d.jsx("div",{className:"text-center py-3",children:d.jsx("p",{className:"text-xs text-slate-500",children:"Location services not available"})})});return d.jsxs(Ds,{children:[d.jsxs("div",{className:"p-4 md:p-8",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Shopping Trips"}),d.jsx("p",{className:"text-slate-500",children:"Plan and manage your shopping trips"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(Y,{variant:"outline",className:"border-slate-200",onClick:z,children:[d.jsx(Au,{className:"h-4 w-4 mr-2"}),"Schedule"]}),d.jsxs(Y,{className:"bg-teal-600 hover:bg-teal-700",onClick:B,children:[d.jsx(cn,{className:"h-4 w-4 mr-2"}),"New Trip"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[d.jsxs(Ie,{className:"border-none shadow-sm",children:[d.jsxs(We,{className:"pb-3",children:[d.jsx(He,{className:"text-base",children:"Upcoming Trips"}),d.jsxs(gt,{className:"text-sm",children:["You have ",M.length," trips scheduled"]})]}),d.jsxs(Pe,{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{className:"text-slate-700",children:"This week"}),d.jsxs("span",{className:"text-slate-500",children:[M.filter(J=>{const q=new Date(J.date),ae=new Date,re=new Date(ae.getTime()+7*24*60*60*1e3);return q>=ae&&q<=re}).length," trips"]})]}),d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{className:"text-slate-700",children:"Next week"}),d.jsxs("span",{className:"text-slate-500",children:[M.filter(J=>{const q=new Date(J.date),ae=new Date;ae.setDate(ae.getDate()+7);const re=new Date;return re.setDate(re.getDate()+14),q>=ae&&q<=re}).length," trips"]})]})]}),d.jsx(Dt,{className:"pt-3",children:d.jsxs(Y,{variant:"outline",className:"w-full border-slate-200 h-8 text-sm",onClick:$,children:[d.jsx(Au,{className:"h-3 w-3 mr-2"}),"View Calendar"]})})]}),d.jsxs(Ie,{className:"border-none shadow-sm",children:[d.jsxs(We,{className:"pb-3",children:[d.jsx(He,{className:"text-base",children:"Budget Overview"}),d.jsx(gt,{className:"text-sm",children:"May spending across all trips"})]}),d.jsxs(Pe,{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{className:"text-slate-700",children:"Spent so far"}),d.jsx("span",{className:"font-medium text-slate-800",children:"$289.45"})]}),d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{className:"text-slate-700",children:"Monthly budget"}),d.jsxs("span",{className:"font-medium text-slate-800",children:["$",h.toFixed(2)]})]}),d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{className:"text-slate-700",children:"Remaining"}),d.jsxs("span",{className:"font-medium text-green-600",children:["$",(h-289.45).toFixed(2)]})]})]}),d.jsx(Dt,{className:"pt-3",children:d.jsxs(Y,{variant:"outline",className:"w-full border-slate-200 h-8 text-sm",onClick:W,children:[d.jsx(cle,{className:"h-3 w-3 mr-2"}),"Adjust Budget"]})})]}),d.jsxs(Ie,{className:"border-none shadow-sm",children:[d.jsxs(We,{className:"pb-3",children:[d.jsx(He,{className:"text-base",children:"Nearby Stores"}),d.jsx(gt,{className:"text-sm",children:"Sorted by distance from your location"})]}),d.jsx(Pe,{className:"min-h-[80px]",children:y?d.jsxs("div",{className:"flex items-center justify-center p-3",children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary mr-2"}),d.jsx("span",{className:"text-sm",children:"Getting location..."})]}):b?d.jsxs("div",{className:"text-center p-3",children:[d.jsx("p",{className:"text-destructive text-sm",children:b}),d.jsx(Y,{onClick:()=>L(),className:"mt-2 h-7 text-xs",children:"Retry"})]}):E.length>0?pe():d.jsx("p",{className:"text-sm text-gray-500 text-center py-3",children:"No active trips with stores nearby."})}),d.jsx(Dt,{className:"pt-3",children:d.jsxs(Y,{variant:"outline",className:"w-full border-slate-200 h-8 text-sm",onClick:H,disabled:y||!g||E.length===0,children:[d.jsx(Rs,{className:"h-3 w-3 mr-2"}),y?"Getting Location...":g?E.length===0?"No Stores to Show":"View on Map":"Location Not Available"]})})]})]}),d.jsxs(Cu,{defaultValue:"active",className:"w-full",value:r,onValueChange:n,children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4 mb-4",children:[d.jsxs(nc,{className:"w-full md:w-auto",children:[d.jsx(tr,{value:"active",children:"Active"}),d.jsx(tr,{value:"completed",children:"Completed"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(HV,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-500"}),d.jsx(tt,{type:"search",placeholder:"Search trips...",className:"pl-9 w-full md:w-[300px]",value:i,onChange:G})]})]}),d.jsx(Pr,{value:"active",className:"space-y-4",children:M.length>0?d.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:M.map(J=>d.jsxs(Ie,{className:"cursor-pointer hover:shadow-md transition-shadow border-slate-200 hover:border-slate-300",onClick:()=>ce(J.id),children:[d.jsx(We,{className:"pb-2",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx(He,{className:"text-base font-semibold",children:J.store}),d.jsxs(gt,{className:"text-xs text-slate-600",children:[new Date(J.date).toLocaleDateString()," at ",J.time]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Or,{variant:J.status==="shopping"?"default":"outline",className:"text-xs",children:J.status}),d.jsx(Y,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:q=>{q.stopPropagation(),se(J.id)},title:"Start shopping",children:d.jsx(pC,{className:"h-3 w-3"})})]})]})}),d.jsx(Pe,{className:"pb-2",children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(rc,{className:"h-3 w-3 mr-1"}),d.jsx("span",{children:(J.participants||[]).length})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Wr,{className:"h-3 w-3 mr-1"}),d.jsx("span",{children:J.items.length})]}),J.budget&&d.jsx("div",{className:"flex items-center",children:d.jsxs("span",{className:"text-green-600",children:["$",J.budget.toFixed(0)]})})]}),d.jsxs("span",{className:"text-green-600 font-medium",children:[J.items.filter(q=>q.checked).length,"/",J.items.length]})]}),J.items.length>0&&d.jsx(gg,{value:J.items.filter(q=>q.checked).length/J.items.length*100,className:"h-1"}),J.items.length>0&&d.jsxs("div",{className:"text-xs text-gray-600",children:[d.jsx("span",{className:"font-medium",children:"Items: "}),J.items.slice(0,3).map((q,ae)=>d.jsxs("span",{className:q.checked?"line-through text-gray-400":"",children:[q.name,ae<Math.min(2,J.items.length-1)?", ":""]},q.id)),J.items.length>3&&d.jsxs("span",{className:"text-gray-400",children:[" +",J.items.length-3," more"]})]})]})}),d.jsxs(Dt,{className:"flex justify-between items-center pt-1 pb-2",children:[d.jsxs("div",{className:"flex -space-x-1",children:[(J.participants||[]).slice(0,2).map(q=>d.jsxs(Vr,{className:"h-5 w-5 border border-background",children:[d.jsx(Pf,{src:q.avatar}),d.jsx(Ur,{className:"text-xs",children:q.name[0]})]},q.id)),(J.participants||[]).length>2&&d.jsx("div",{className:"h-5 w-5 rounded-full bg-gray-200 border border-background flex items-center justify-center",children:d.jsxs("span",{className:"text-xs text-gray-600",children:["+",(J.participants||[]).length-2]})})]}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx(Y,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:q=>{q.stopPropagation(),t(`/trip/${J.id}`)},children:"Open"}),d.jsx(Y,{variant:"outline",size:"sm",className:"h-6 px-2 text-xs",onClick:q=>{q.stopPropagation(),Z()},children:"Directions"})]})]})]},J.id))}):d.jsxs("div",{className:"text-center py-8",children:[d.jsx("p",{className:"text-gray-500 mb-3 text-sm",children:"No active trips"}),d.jsxs(Y,{onClick:()=>T(!0),className:"h-8 text-sm",children:[d.jsx(cn,{className:"h-3 w-3 mr-2"}),"Create New Trip"]})]})}),d.jsx(Pr,{value:"completed",className:"space-y-4",children:U.length>0?d.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:U.map(J=>d.jsxs(Ie,{className:"cursor-pointer hover:shadow-md transition-shadow border-slate-200 hover:border-slate-300",onClick:()=>ce(J.id),children:[d.jsx(We,{className:"pb-2",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx(He,{className:"text-base font-semibold",children:J.store}),d.jsxs(gt,{className:"text-xs text-slate-600",children:[new Date(J.date).toLocaleDateString()," at ",J.time]})]}),d.jsx(Or,{variant:"secondary",className:"text-xs",children:J.status})]})}),d.jsx(Pe,{className:"pb-2",children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(rc,{className:"h-3 w-3 mr-1"}),d.jsx("span",{children:(J.participants||[]).length})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Wr,{className:"h-3 w-3 mr-1"}),d.jsx("span",{children:J.items.length})]}),J.actualSpent&&d.jsx("div",{className:"flex items-center",children:d.jsxs("span",{className:"text-green-600 font-medium",children:["$",J.actualSpent.toFixed(0)]})})]}),d.jsxs("span",{className:"text-green-600 font-medium",children:[J.items.filter(q=>q.checked).length,"/",J.items.length," completed"]})]}),J.items.length>0&&d.jsxs("div",{className:"text-xs text-gray-600",children:[d.jsx("span",{className:"font-medium",children:"Purchased: "}),J.items.filter(q=>q.checked).slice(0,3).map((q,ae,re)=>d.jsxs("span",{children:[q.name,q.price?` ($${q.price.toFixed(2)})`:"",ae<re.length-1?", ":""]},q.id)),J.items.filter(q=>q.checked).length>3&&d.jsxs("span",{className:"text-gray-400",children:[" +",J.items.filter(q=>q.checked).length-3," more"]})]})]})}),d.jsxs(Dt,{className:"flex justify-between items-center pt-1 pb-2",children:[d.jsxs("div",{className:"flex -space-x-1",children:[(J.participants||[]).slice(0,2).map(q=>d.jsxs(Vr,{className:"h-5 w-5 border border-background",children:[d.jsx(Pf,{src:q.avatar}),d.jsx(Ur,{className:"text-xs",children:q.name[0]})]},q.id)),(J.participants||[]).length>2&&d.jsx("div",{className:"h-5 w-5 rounded-full bg-gray-200 border border-background flex items-center justify-center",children:d.jsxs("span",{className:"text-xs text-gray-600",children:["+",(J.participants||[]).length-2]})})]}),d.jsx(Y,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:q=>{q.stopPropagation(),t(`/trip/${J.id}`)},children:"View Details"})]})]},J.id))}):d.jsx("div",{className:"text-center py-8",children:d.jsx("p",{className:"text-gray-500 text-sm",children:"No completed trips"})})})]})]}),d.jsx(DNe,{isOpen:l,onClose:()=>c(!1)}),d.jsx(jNe,{isOpen:u,onClose:()=>f(!1),currentBudget:h,onSave:Oe}),d.jsx(TPe,{open:A,onOpenChange:T}),I&&d.jsx(xDe,{isOpen:O,onClose:()=>R(!1),trip:I,onAddItem:()=>{},onRemoveItem:()=>{},onToggleItemCheck:()=>{},onInviteParticipant:()=>{},onCompleteTrip:()=>{}})]})}const L8=t=>{const e={high:3,medium:2,low:1},r=new Date().getTime(),n=t.dueDate?new Date(t.dueDate).getTime():r+7*24*60*60*1e3,i=Math.max(1,(n-r)/(1e3*60*60*24));return e[t.priority]*(1+1/i)},SDe=(t,e)=>{var r,n;return{startLocation:{lat:t.start_location.lat(),lng:t.start_location.lng()},endLocation:{lat:t.end_location.lat(),lng:t.end_location.lng()},distance:((r=t.distance)==null?void 0:r.text)||"0 km",duration:((n=t.duration)==null?void 0:n.text)||"0 mins",priority:e}},EDe=async(t,e,r)=>{const n=new google.maps.DirectionsService,i=[...e].sort((s,l)=>L8(l)-L8(s)),a=r.maxStops?i.slice(0,r.maxStops):i,o=a.map(s=>({location:new google.maps.LatLng(s.location.lat,s.location.lng),stopover:!0}));try{const s=await n.route({origin:t,destination:r.returnToStart?t:o[o.length-1].location,waypoints:r.returnToStart?o:o.slice(0,-1),optimizeWaypoints:!0,travelMode:google.maps.TravelMode[r.transportMode||"DRIVING"],avoidHighways:r.avoidHighways,avoidTolls:r.avoidTolls,drivingOptions:r.considerTraffic?{departureTime:new Date,trafficModel:google.maps.TrafficModel.BEST_GUESS}:void 0});if(!s.routes[0])throw new Error("No route found");const l=s.routes[0],c=[];let u=0,f=0;return l.legs.forEach((p,m)=>{var v,y;const g=a[m];c.push(SDe(p,(g==null?void 0:g.priority)||"medium")),u+=((v=p.distance)==null?void 0:v.value)||0,f+=((y=p.duration)==null?void 0:y.value)||0}),{waypoints:o.map(p=>({location:{lat:p.location.lat(),lng:p.location.lng()},stopover:p.stopover})),totalDistance:u,totalDuration:f,segments:c,alternativeRoutes:l.legs.length>1?[]:void 0}}catch(s){throw console.error("Error calculating optimal route:",s),s}};var y3="Switch",[ADe,Gat]=co(y3),[CDe,TDe]=ADe(y3),sY=_.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:l="on",onCheckedChange:c,form:u,...f}=t,[h,p]=_.useState(null),m=Ze(e,b=>p(b)),g=_.useRef(!1),v=h?u||!!h.closest("form"):!0,[y=!1,x]=Os({prop:i,defaultProp:a,onChange:c});return d.jsxs(CDe,{scope:r,checked:y,disabled:s,children:[d.jsx(je.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":uY(y),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:m,onClick:_e(t.onClick,b=>{x(S=>!S),v&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),v&&d.jsx(IDe,{control:h,bubbles:!g.current,name:n,value:l,checked:y,required:o,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});sY.displayName=y3;var lY="SwitchThumb",cY=_.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=TDe(lY,r);return d.jsx(je.span,{"data-state":uY(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});cY.displayName=lY;var IDe=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,a=_.useRef(null),o=qO(r),s=gP(e);return _.useEffect(()=>{const l=a.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(l,r),l.dispatchEvent(h)}},[o,r,n]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...t.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function uY(t){return t?"checked":"unchecked"}var dY=sY,NDe=cY;const xi=_.forwardRef(({className:t,onCheckedChange:e,...r},n)=>{const i=a=>{a?So.success():So.light(),e&&e(a)};return d.jsx(dY,{className:Ae("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),onCheckedChange:i,...r,ref:n,children:d.jsx(NDe,{className:Ae("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});xi.displayName=dY.displayName;const PDe=({preferences:t,onPreferencesChange:e})=>{const r=(i,a)=>{e({...t,[i]:a})},n={DRIVING:d.jsx(sx,{className:"h-4 w-4"}),WALKING:d.jsx(Ple,{className:"h-4 w-4"}),TRANSIT:d.jsx(Ble,{className:"h-4 w-4"}),BICYCLING:d.jsx(lle,{className:"h-4 w-4"})};return d.jsxs("div",{className:"space-y-4 p-4 premium-card rounded-lg",children:[d.jsx("h3",{className:"font-semibold mb-3",children:"Route Preferences"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{children:"Transport Mode"}),d.jsxs(pr,{value:t.transportMode||"DRIVING",onValueChange:i=>r("transportMode",i),children:[d.jsx(rr,{className:"w-full",children:d.jsx(mr,{})}),d.jsx(nr,{children:Object.entries(n).map(([i,a])=>d.jsx(Se,{value:i,children:d.jsxs("div",{className:"flex items-center gap-2",children:[a,d.jsx("span",{children:i.charAt(0)+i.slice(1).toLowerCase()})]})},i))})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Ee,{htmlFor:"avoid-highways",children:"Avoid Highways"}),d.jsx(xi,{id:"avoid-highways",checked:t.avoidHighways,onCheckedChange:i=>r("avoidHighways",i)})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Ee,{htmlFor:"avoid-tolls",children:"Avoid Tolls"}),d.jsx(xi,{id:"avoid-tolls",checked:t.avoidTolls,onCheckedChange:i=>r("avoidTolls",i)})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Ee,{htmlFor:"return-start",children:"Return to Start"}),d.jsx(xi,{id:"return-start",checked:t.returnToStart,onCheckedChange:i=>r("returnToStart",i)})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Ee,{htmlFor:"consider-traffic",children:"Consider Traffic"}),d.jsx(xi,{id:"consider-traffic",checked:t.considerTraffic,onCheckedChange:i=>r("considerTraffic",i)})]})]})]})]})};function ODe(){const{toast:t}=Ta(),{tasks:e}=ks(),[r,n]=_.useState({lat:39.9789,lng:-82.8677}),[i,a]=_.useState(!0),[o,s]=_.useState(null),[l,c]=_.useState(!1),[u,f]=_.useState({avoidHighways:!1,avoidTolls:!1,transportMode:"DRIVING",returnToStart:!0,considerTraffic:!0,maxStops:void 0}),[h,p]=_.useState(null),m=_.useRef(null),g=_.useRef(null),v=_.useRef([]),y=_.useRef(null),x=_.useRef(null),b=_.useRef(!1);_.useEffect(()=>{if(console.log("Initializing geolocation..."),b.current)return;b.current=!0;const N=setTimeout(()=>{console.log("Geolocation timed out, using default location"),a(!1)},5e3);return navigator.geolocation?navigator.geolocation.getCurrentPosition(O=>{console.log("Successfully got user location"),clearTimeout(N),n({lat:O.coords.latitude,lng:O.coords.longitude}),a(!1)},O=>{console.log("Geolocation error:",O.message),clearTimeout(N),a(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):(console.log("Geolocation not supported, using default location"),clearTimeout(N),a(!1)),()=>clearTimeout(N)},[]),_.useEffect(()=>{if(i)return;(async()=>{if(!(!m.current||g.current))try{await FNe(),await BNe(),g.current=new window.google.maps.Map(m.current,{center:r,zoom:12,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,zoomControl:!0}),y.current=new window.google.maps.InfoWindow,S(),E()}catch(O){console.error("Failed to initialize Google Maps",O),t({title:"Map Error",description:"Could not load the map. Please try again later.",variant:"destructive"})}})()},[i,r,e]);const S=()=>{if(!g.current||!window.google)return;console.log("Adding task markers..."),v.current.forEach(O=>O.setMap(null)),v.current=[];const N=new window.google.maps.LatLngBounds;N.extend(r),e.forEach((O,R)=>{if(O.coordinates)try{const k=new window.google.maps.Marker({position:{lat:O.coordinates.lat,lng:O.coordinates.lng},map:g.current,title:O.title,label:{text:`${R+1}`,color:"white",fontSize:"12px",fontWeight:"bold"},icon:{path:window.google.maps.SymbolPath.CIRCLE,fillColor:C(O.priority),fillOpacity:1,strokeWeight:2,strokeColor:"#FFFFFF",scale:12,labelOrigin:new window.google.maps.Point(0,0)}});k.addListener("click",()=>{if(!y.current)return;s(O);const M=`
              <div style="padding: 8px; min-width: 200px;">
                <h3 style="font-weight: bold; margin-bottom: 4px;">${O.title}</h3>
                <p style="color: #666; font-size: 14px; margin: 4px 0;">
                  <span style="display: inline-block; margin-right: 4px;"></span>${O.location}
                </p>
                <p style="color: #666; font-size: 14px; margin: 4px 0;">
                  <span style="display: inline-block; margin-right: 4px;"></span>${Hr(new Date(O.dueDate),"PPP")}
                </p>
              </div>
            `;y.current.setContent(M),y.current.open(g.current,k)}),v.current.push(k),N.extend({lat:O.coordinates.lat,lng:O.coordinates.lng})}catch(k){console.error(`Error adding marker for task ${O.id}:`,k)}}),E(),e.some(O=>O.coordinates)&&g.current&&(g.current.fitBounds(N),e.filter(O=>O.coordinates).length===1&&g.current.setZoom(14))},E=()=>{if(!(!g.current||!window.google))try{const N=new window.google.maps.Marker({position:r,map:g.current,title:"Your Location",icon:{path:window.google.maps.SymbolPath.CIRCLE,fillColor:"#4285F4",fillOpacity:1,strokeWeight:2,strokeColor:"#FFFFFF",scale:8},zIndex:999});v.current.push(N)}catch(N){console.error("Error adding user location marker:",N)}},C=N=>{switch(N){case"high":return"#EF4444";case"medium":return"#F59E0B";case"low":return"#10B981";default:return"#6B7280"}},A=async()=>{if(!g.current){t({title:"Map not ready",description:"Please wait for the map to initialize"});return}if(!window.google||!window.google.maps){t({title:"Google Maps not loaded",description:"Please wait for Google Maps to load completely"});return}const N=e.filter(O=>O.coordinates);if(N.length===0){t({title:"No locations to route",description:"Add tasks with locations to generate a route"});return}try{a(!0),console.log("Calculating optimized route..."),x.current||(x.current=new window.google.maps.DirectionsRenderer({suppressMarkers:!0,polylineOptions:{strokeColor:"#4285F4",strokeWeight:5,strokeOpacity:.8}})),x.current.setMap(g.current);const O=N.map(z=>({location:{lat:z.coordinates.lat,lng:z.coordinates.lng},duration:15,priority:z.priority,dueDate:new Date(z.dueDate)})),R=new window.google.maps.LatLng(r.lat,r.lng),k=await EDe(R,O,u);p(k),console.log("Route calculated:",k);const M=new window.google.maps.DirectionsService,U=k.waypoints.map(z=>({location:new window.google.maps.LatLng(z.location.lat,z.location.lng),stopover:z.stopover}));console.log("Requesting directions with waypoints:",U);const L=await M.route({origin:R,destination:u.returnToStart?R:U[U.length-1].location,waypoints:u.returnToStart?U:U.slice(0,-1),optimizeWaypoints:!0,travelMode:window.google.maps.TravelMode[u.transportMode||"DRIVING"],avoidHighways:u.avoidHighways,avoidTolls:u.avoidTolls});console.log("Direction service returned result:",L.status),x.current&&x.current.setDirections(L),t({title:"Route optimized",description:`Total travel time: ${Math.round(k.totalDuration/60)} mins, Distance: ${(k.totalDistance/1e3).toFixed(1)} km`})}catch(O){console.error("Error showing optimized route:",O),t({title:"Route optimization failed",description:"Could not calculate the optimal route"})}finally{a(!1)}},T=()=>{x.current&&(x.current.setMap(null),x.current=null),p(null)},I=N=>{f(N)};return _.useEffect(()=>{g.current&&!i&&S()},[e]),d.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[d.jsx("div",{className:"border-b",children:d.jsxs("div",{className:"flex h-16 items-center px-4",children:[d.jsx("h1",{className:"text-xl font-bold",children:"Map View"}),d.jsx("div",{className:"ml-auto flex items-center space-x-4",children:d.jsx(of,{to:"/dashboard",children:d.jsxs(Y,{className:"bg-primary text-white hover:bg-primary/90",children:[d.jsx(cn,{className:"mr-2 h-4 w-4"}),"Add Task"]})})})]})}),d.jsx("div",{className:"flex-1 relative p-4",children:i?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):d.jsxs("div",{className:"grid gap-4",children:[d.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[d.jsxs(Y,{onClick:()=>c(!0),variant:"outline",className:"flex items-center",children:[d.jsx(kle,{className:"mr-2 h-4 w-4"}),"Route Preferences"]}),d.jsxs(Y,{onClick:A,variant:h?"default":"outline",className:"flex items-center",disabled:e.filter(N=>N.coordinates).length===0,children:[d.jsx(Nle,{className:"mr-2 h-4 w-4"}),h?"Update Route":"Show Optimized Route"]}),h&&d.jsxs(d.Fragment,{children:[d.jsxs(Y,{onClick:T,variant:"outline",className:"flex items-center",children:[d.jsx(KV,{className:"mr-2 h-4 w-4"}),"Clear Route"]}),d.jsxs(Y,{onClick:()=>{const N=h.waypoints.map(k=>`${k.location.lat},${k.location.lng}`).join("|"),O=`${r.lat},${r.lng}`,R=`https://www.google.com/maps/dir/?api=1&origin=${O}&destination=${u.returnToStart?O:N.split("|").pop()}&waypoints=${N}&travelmode=${u.transportMode.toLowerCase()}`;window.open(R,"_blank")},variant:"outline",className:"flex items-center",children:[d.jsx(UV,{className:"mr-2 h-4 w-4"}),"Open in Google Maps"]})]})]}),d.jsxs(Ie,{className:"overflow-hidden shadow-lg",children:[d.jsx(We,{className:"py-3",children:d.jsx(He,{children:"Tasks Map"})}),d.jsx(Pe,{className:"p-0",children:d.jsx("div",{ref:m,className:"h-[400px] w-full rounded-b-lg"})})]}),h&&d.jsxs(Ie,{className:"shadow-md",children:[d.jsx(We,{className:"py-3",children:d.jsx(He,{children:"Optimized Route"})}),d.jsx(Pe,{children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Total distance:"}),d.jsxs("span",{className:"font-medium",children:[(h.totalDistance/1e3).toFixed(1)," km"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Total duration:"}),d.jsxs("span",{className:"font-medium",children:[Math.round(h.totalDuration/60)," mins"]})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("h4",{className:"text-sm font-medium mb-2",children:"Route segments:"}),d.jsx("div",{className:"space-y-2",children:h.segments.map((N,O)=>d.jsxs("div",{className:"p-2 border rounded-md",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("span",{className:"text-sm flex items-center",children:[d.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-primary text-white text-xs font-bold mr-2",children:O+1}),"Segment ",O+1]}),d.jsx("div",{className:`px-2 py-0.5 rounded-full text-xs font-medium 
                                ${N.priority==="high"?"bg-red-100 text-red-800":N.priority==="medium"?"bg-amber-100 text-amber-800":"bg-green-100 text-green-800"}`,children:N.priority})]}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:[N.distance,"  ",N.duration]})]},O))})]})]})})]}),d.jsxs(Ie,{className:"shadow-md",children:[d.jsx(We,{className:"py-3",children:d.jsx(He,{children:"Nearby Tasks"})}),d.jsx(Pe,{children:e.length>0?d.jsx("div",{className:"space-y-2",children:e.map((N,O)=>d.jsx("div",{className:"p-3 border rounded-md hover:bg-gray-50 cursor-pointer",onClick:()=>{if(N.coordinates&&g.current){g.current.panTo({lat:N.coordinates.lat,lng:N.coordinates.lng}),g.current.setZoom(15);const R=v.current.find(k=>{var M,U,L,z;return((M=k.getPosition())==null?void 0:M.lat())===((U=N.coordinates)==null?void 0:U.lat)&&((L=k.getPosition())==null?void 0:L.lng())===((z=N.coordinates)==null?void 0:z.lng)});R&&window.google&&window.google.maps.event.trigger(R,"click"),s(N)}},children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full bg-primary text-white text-xs font-bold mr-3",children:O+1}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium",children:N.title}),d.jsxs("p",{className:"text-sm text-gray-500 flex items-center",children:[d.jsx(Rs,{className:"h-3 w-3 mr-1"})," ",N.location]}),d.jsxs("p",{className:"text-sm text-gray-500 flex items-center",children:[d.jsx(ln,{className:"h-3 w-3 mr-1"})," ",Hr(new Date(N.dueDate),"PPP")]})]})]}),d.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium 
                            ${N.priority==="high"?"bg-red-100 text-red-800":N.priority==="medium"?"bg-amber-100 text-amber-800":"bg-green-100 text-green-800"}`,children:N.priority})]})},N.id))}):d.jsx("p",{className:"text-gray-500 text-center py-4",children:"No tasks found"})})]})]})}),o&&d.jsxs(ds.div,{className:"fixed bottom-28 left-4 right-4 bg-white dark:bg-gray-800 p-4 rounded-lg shadow-xl z-50",initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-lg",children:o.title}),d.jsxs("p",{className:"text-sm text-gray-500 flex items-center mt-1",children:[d.jsx(Rs,{className:"h-3 w-3 mr-1"})," ",o.location]}),d.jsxs("p",{className:"text-sm text-gray-500 flex items-center mt-1",children:[d.jsx(ln,{className:"h-3 w-3 mr-1"})," Due: ",Hr(new Date(o.dueDate),"PPP")]})]}),d.jsxs(Y,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full",onClick:()=>s(null),children:[d.jsx("span",{className:"sr-only",children:"Close"}),d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})]})]}),d.jsx("div",{className:"mt-3 flex justify-end",children:d.jsx(Y,{size:"sm",className:"bg-primary text-white hover:bg-primary/90",onClick:()=>{if(o.coordinates){const N=`https://www.google.com/maps/dir/?api=1&destination=${o.coordinates.lat},${o.coordinates.lng}`;window.open(N,"_blank")}},children:"Get Directions"})})]}),d.jsx(ci,{open:l,onOpenChange:c,children:d.jsxs(zn,{children:[d.jsxs(Wn,{children:[d.jsx(Hn,{children:"Route Preferences"}),d.jsx(to,{children:"Customize how your route is calculated"})]}),d.jsx(PDe,{preferences:u,onPreferencesChange:I}),d.jsx(eo,{children:d.jsx(Y,{onClick:()=>c(!1),children:"Save Preferences"})})]})})]})}function kDe(){Ta();const{tasks:t}=ks(),[e,r]=_.useState(""),[n,i]=_.useState(2),[a,o]=_.useState(!1),[s,l]=_.useState({avoidHighways:!1,avoidTolls:!1,transportMode:"DRIVING",returnToStart:!0,considerTraffic:!0,maxStops:void 0});return d.jsx(Ds,{children:d.jsxs("div",{className:"p-4 md:p-8",children:[d.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Map"}),d.jsx("p",{className:"text-slate-500",children:"Find and optimize your route for tasks"})]})}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsx("div",{className:"lg:col-span-1 space-y-4",children:d.jsxs(Ie,{className:"border-none shadow-sm",children:[d.jsx(We,{className:"pb-2",children:d.jsx("div",{className:"flex items-center justify-between",children:d.jsx(He,{className:"text-lg",children:"Nearby Tasks"})})}),d.jsx(Pe,{className:"pb-2",children:d.jsx("div",{className:"space-y-3",children:t.filter(c=>c.title.toLowerCase().includes(e.toLowerCase())||c.location.toLowerCase().includes(e.toLowerCase())).length>0?d.jsx("div",{className:"divide-y divide-slate-100",children:t.filter(c=>c.title.toLowerCase().includes(e.toLowerCase())||c.location.toLowerCase().includes(e.toLowerCase())).map((c,u)=>d.jsx("div",{className:"p-3 hover:bg-slate-50 cursor-pointer transition-colors",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center flex-shrink-0",children:d.jsx("div",{className:"flex justify-center items-center w-full h-full font-medium text-slate-700",children:u+1})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsx("h3",{className:"text-sm font-medium text-slate-800 truncate",children:c.title})}),d.jsx("p",{className:"text-xs text-slate-500 truncate mt-1",children:c.location}),d.jsx("div",{className:"flex items-center justify-between mt-2",children:d.jsx("span",{className:"text-xs font-medium text-teal-600",children:c.priority})})]})]})},c.id))}):d.jsxs("div",{className:"py-8 text-center",children:[d.jsx(Rs,{className:"h-8 w-8 text-slate-300 mx-auto mb-2"}),d.jsx("p",{className:"text-sm text-slate-500",children:"No tasks found"}),d.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Try adjusting your search"})]})})})]})}),d.jsx("div",{className:"lg:col-span-2 space-y-4",children:d.jsx(Ie,{className:"border-none shadow-sm overflow-hidden",children:d.jsx("div",{className:"relative w-full h-[calc(100vh-200px)]",children:d.jsx(ODe,{})})})})]})]})})}function RDe(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function DDe(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var jDe=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),MDe=function(t){jDe(e,t);function e(r,n){var i=this.constructor,a=t.call(this,r,n)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),RDe(a,i.prototype),DDe(a),a}return e}(Error),LDe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ji=function(t){LDe(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(MDe),$De=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$a=function(t){$De(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(ji),FDe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fe=function(t){FDe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(ji),BDe=function(){function t(e){if(this.binarizer=e,e===null)throw new Fe("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var a=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(a))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),VDe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dn=function(t){VDe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(ji),UDe=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),Ft=function(){function t(){}return t.arraycopy=function(e,r,n,i,a){for(;a--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),zDe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),x3=function(t){zDe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(ji),WDe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$8=function(t){WDe(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(x3),HDe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gr=function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var a=r;a<n;a++)e[a]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new Fe("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new $8(r);if(n>e)throw new $8(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var a=HDe(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=31*i+s}}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,a=new Int32Array(i);return Ft.arraycopy(e,r,a,0,i),a},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,s=n(r,e[o]);if(s>0)i=o+1;else if(s<0)a=o-1;else return o}return-i-1},t.numberComparator=function(e,r){return e-r},t}(),Je=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),fn=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);Ft.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=n[i]}var s=i*32+Je.numberOfTrailingZeros(a);return s>r?r:s},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=~n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=~n[i]}var s=i*32+Je.numberOfTrailingZeros(a);return s>r?r:s},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new Fe;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),a=this.bits,o=n;o<=i;o++){var s=o>n?0:e&31,l=o<i?31:r&31,c=(2<<l)-(1<<s);a[o]|=c}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new Fe;if(r===e)return!0;r--;for(var i=Math.floor(e/32),a=Math.floor(r/32),o=this.bits,s=i;s<=a;s++){var l=s>i?0:e&31,c=s<a?31:r&31,u=(2<<c)-(1<<l)&4294967295;if((o[s]&u)!==(n?u:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new Fe("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new Fe("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var a=0;a<i;a++){for(var o=0,s=0;s<8;s++)this.get(e)&&(o|=1<<7-s),e++;r[n+a]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,a=0;a<n;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[r-a]=o}if(this.size!==n*32){for(var s=n*32-this.size,l=e[0]>>>s,a=1;a<n;a++){var c=e[a];l|=c<<32-s,e[a-1]=l,l=c>>>s}e[n-1]=l}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&Gr.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+Gr.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t}(),lT;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(lT||(lT={}));const Xt=lT;var GDe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xe=function(t){GDe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(ji),qDe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},At;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(At||(At={}));var zr=function(){function t(e,r,n){for(var i,a,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var l=this.values,c=0,u=l.length;c!==u;c++){var f=l[c];t.VALUES_TO_ECI.set(f,this)}try{for(var h=qDe(o),p=h.next();!p.done;p=h.next()){var m=p.value;t.NAME_TO_ECI.set(m,this)}}catch(g){i={error:g}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new xe("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new xe("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new xe("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(At.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(At.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(At.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(At.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(At.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(At.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(At.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(At.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(At.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(At.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(At.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(At.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(At.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(At.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(At.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(At.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(At.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(At.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(At.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(At.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(At.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(At.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(At.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(At.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(At.Big5,28,"Big5"),t.GB18030=new t(At.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(At.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),KDe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),v1=function(t){KDe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(ji),ba=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof zr?e:zr.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",a=0,o=e.length;a<o;a++){var s=e[a].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(n.equals(zr.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new v1("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(zr.UTF8)||e.equals(zr.ISO8859_1)||e.equals(zr.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],a=0;a<n.length;a++)i.push(n[a].charCodeAt(0));return new Uint8Array(i)},t}(),ft=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return ba.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(Xt.CHARACTER_SET)!==void 0)return r.get(Xt.CHARACTER_SET).toString();for(var n=e.length,i=!0,a=!0,o=!0,s=0,l=0,c=0,u=0,f=0,h=0,p=0,m=0,g=0,v=0,y=0,x=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,b=0;b<n&&(i||a||o);b++){var S=e[b]&255;o&&(s>0?S&128?s--:o=!1:S&128&&(S&64?(s++,S&32?(s++,S&16?(s++,S&8?o=!1:u++):c++):l++):o=!1)),i&&(S>127&&S<160?i=!1:S>159&&(S<192||S===215||S===247)&&y++),a&&(f>0?S<64||S===127||S>252?a=!1:f--:S===128||S===160||S>239?a=!1:S>160&&S<224?(h++,m=0,p++,p>g&&(g=p)):S>127?(f++,p=0,m++,m>v&&(v=m)):(p=0,m=0))}return o&&s>0&&(o=!1),a&&f>0&&(a=!1),o&&(x||l+c+u>0)?t.UTF8:a&&(t.ASSUME_SHIFT_JIS||g>=3||v>=3)?t.SHIFT_JIS:i&&a?g===2&&h===2||y*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:a?t.SHIFT_JIS:o?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function a(s,l,c,u,f,h){if(s==="%%")return"%";if(r[++i]!==void 0){s=u?parseInt(u.substr(1)):void 0;var p=f?parseInt(f.substr(1)):void 0,m;switch(h){case"s":m=r[i];break;case"c":m=r[i][0];break;case"f":m=parseFloat(r[i]).toFixed(s);break;case"p":m=parseFloat(r[i]).toPrecision(s);break;case"e":m=parseFloat(r[i]).toExponential(s);break;case"x":m=parseInt(r[i]).toString(p||16);break;case"d":m=parseFloat(parseInt(r[i],p||10).toPrecision(s)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(p);for(var g=parseInt(c),v=c&&c[0]+""=="0"?"0":" ";m.length<g;)m=l!==void 0?m+v:v+m;return m}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},t.getBytes=function(e,r){return ba.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=zr.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=zr.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=zr.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),Qe=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ft.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t}(),zo=function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new Fe("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),a=0;a<r;a++)for(var o=e[a],s=0;s<n;s++)o[s]&&i.set(s,a);return i},t.parseFromString=function(e,r,n){if(e===null)throw new Fe("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,s=-1,l=0,c=0;c<e.length;)if(e.charAt(c)===`
`||e.charAt(c)==="\r"){if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new Fe("row lengths do not match");o=a,l++}c++}else if(e.substring(c,c+r.length)===r)c+=r.length,i[a]=!0,a++;else if(e.substring(c,c+n.length)===n)c+=n.length,i[a]=!1,a++;else throw new Fe("illegal character encountered: "+e.substring(c));if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new Fe("row lengths do not match");l++}for(var u=new t(s,l),f=0;f<a;f++)i[f]&&u.set(Math.floor(f%s),Math.floor(f/s));return u},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Fe("input matrix dimensions do not match");for(var r=new fn(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var s=a*n,l=e.getRow(a,r).getBitArray(),c=0;c<n;c++)i[s+c]^=l[c]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new Fe("Left and top must be nonnegative");if(i<1||n<1)throw new Fe("Height and width must be at least 1");var a=e+n,o=r+i;if(o>this.height||a>this.width)throw new Fe("The region must fit inside the matrix");for(var s=this.rowSize,l=this.bits,c=r;c<o;c++)for(var u=c*s,f=e;f<a;f++)l[u+Math.floor(f/32)]|=1<<(f&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new fn(this.width):r.clear();for(var n=this.rowSize,i=this.bits,a=e*n,o=0;o<n;o++)r.setBulk(o*32,i[a+o]);return r},t.prototype.setRow=function(e,r){Ft.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new fn(e),i=new fn(e),a=0,o=Math.floor((r+1)/2);a<o;a++)n=this.getRow(a,n),i=this.getRow(r-1-a,i),n.reverse(),i.reverse(),this.setRow(a,i),this.setRow(r-1-a,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,a=e,o=r,s=-1,l=-1,c=0;c<r;c++)for(var u=0;u<n;u++){var f=i[c*n+u];if(f!==0){if(c<o&&(o=c),c>l&&(l=c),u*32<a){for(var h=0;!(f<<31-h&4294967295);)h++;u*32+h<a&&(a=u*32+h)}if(u*32+31>s){for(var h=31;!(f>>>h);)h--;u*32+h>s&&(s=u*32+h)}}}return s<a||l<o?null:Int32Array.from([a,o,s-a+1,l-o+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,a=n%e*32,o=r[n],s=0;!(o<<31-s&4294967295);)s++;return a+=s,Int32Array.from([a,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),a=Math.floor(n%e)*32,o=r[n],s=31;!(o>>>s);)s--;return a+=s,Int32Array.from([a,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&Gr.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Gr.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new Qe,a=0,o=this.height;a<o;a++){for(var s=0,l=this.width;s<l;s++)i.append(this.get(s,a)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),YDe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ne=function(t){YDe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(ji),XDe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),QDe=function(t){XDe(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),a=i.getWidth();n==null||n.getSize()<a?n=new fn(a):n.clear(),this.initArrays(a);for(var o=i.getRow(r,this.luminances),s=this.buckets,l=0;l<a;l++)s[(o[l]&255)>>e.LUMINANCE_SHIFT]++;var c=e.estimateBlackPoint(s);if(a<3)for(var l=0;l<a;l++)(o[l]&255)<c&&n.set(l);else for(var u=o[0]&255,f=o[1]&255,l=1;l<a-1;l++){var h=o[l+1]&255;(f*4-u-h)/2<c&&n.set(l),u=f,f=h}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),a=new zo(n,i);this.initArrays(n);for(var o=this.buckets,s=1;s<5;s++)for(var l=Math.floor(i*s/5),c=r.getRow(l,this.luminances),u=Math.floor(n*4/5),f=Math.floor(n/5);f<u;f++){var h=c[f]&255;o[h>>e.LUMINANCE_SHIFT]++}for(var p=e.estimateBlackPoint(o),m=r.getMatrix(),s=0;s<i;s++)for(var g=s*n,f=0;f<n;f++){var h=m[g+f]&255;h<p&&a.set(f,s)}return a},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,a=0,o=0,s=0;s<n;s++)r[s]>o&&(a=s,o=r[s]),r[s]>i&&(i=r[s]);for(var l=0,c=0,s=0;s<n;s++){var u=s-a,f=r[s]*u*u;f>c&&(l=s,c=f)}if(a>l){var h=a;a=l,l=h}if(l-a<=n/16)throw new ne;for(var p=l-1,m=-1,s=l-1;s>a;s--){var g=s-a,f=g*g*(l-s)*(i-r[s]);f>m&&(p=s,m=f)}return p<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(UDe),ZDe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),JDe=function(t){ZDe(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=r.getMatrix(),o=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&o++;var s=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&s++;var l=e.calculateBlackPoints(a,o,s,n,i),c=new zo(n,i);e.calculateThresholdForBlock(a,o,s,n,i,l,c),this.matrix=c}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,a,o,s,l){for(var c=o-e.BLOCK_SIZE,u=a-e.BLOCK_SIZE,f=0;f<i;f++){var h=f<<e.BLOCK_SIZE_POWER;h>c&&(h=c);for(var p=e.cap(f,2,i-3),m=0;m<n;m++){var g=m<<e.BLOCK_SIZE_POWER;g>u&&(g=u);for(var v=e.cap(m,2,n-3),y=0,x=-2;x<=2;x++){var b=s[p+x];y+=b[v-2]+b[v-1]+b[v]+b[v+1]+b[v+2]}var S=y/25;e.thresholdBlock(r,g,h,S,a,l)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,a,o,s){for(var l=0,c=i*o+n;l<e.BLOCK_SIZE;l++,c+=o)for(var u=0;u<e.BLOCK_SIZE;u++)(r[c+u]&255)<=a&&s.set(n+u,i+l)},e.calculateBlackPoints=function(r,n,i,a,o){for(var s=o-e.BLOCK_SIZE,l=a-e.BLOCK_SIZE,c=new Array(i),u=0;u<i;u++){c[u]=new Int32Array(n);var f=u<<e.BLOCK_SIZE_POWER;f>s&&(f=s);for(var h=0;h<n;h++){var p=h<<e.BLOCK_SIZE_POWER;p>l&&(p=l);for(var m=0,g=255,v=0,y=0,x=f*a+p;y<e.BLOCK_SIZE;y++,x+=a){for(var b=0;b<e.BLOCK_SIZE;b++){var S=r[x+b]&255;m+=S,S<g&&(g=S),S>v&&(v=S)}if(v-g>e.MIN_DYNAMIC_RANGE)for(y++,x+=a;y<e.BLOCK_SIZE;y++,x+=a)for(var b=0;b<e.BLOCK_SIZE;b++)m+=r[x+b]&255}var E=m>>e.BLOCK_SIZE_POWER*2;if(v-g<=e.MIN_DYNAMIC_RANGE&&(E=g/2,u>0&&h>0)){var C=(c[u-1][h]+2*c[u][h-1]+c[u-1][h-1])/4;g<C&&(E=C)}c[u][h]=E}}return c},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(QDe),E2=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new v1("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new v1("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new v1("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new Qe,n=0;n<this.height;n++){for(var i=this.getRow(n,e),a=0;a<this.width;a++){var o=i[a]&255,s=void 0;o<64?s="#":o<128?s="+":o<192?s=".":s=" ",r.append(s)}r.append(`
`)}return r.toString()},t}(),eje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),w3=function(t){eje(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),a=0;a<n;a++)i[a]=255-(r[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,a){return new e(this.delegate.crop(r,n,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(E2),tje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rje=function(t){tje(e,t);function e(r,n){n===void 0&&(n=!1);var i=t.call(this,r.width,r.height)||this;return i.canvas=r,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(r,n),i}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var i=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,i,a){a===void 0&&(a=!1);var o=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var s=0,l=0,c=r.length;s<c;s+=4,l++){var u=void 0,f=r[s+3];if(f===0)u=255;else{var h=r[s],p=r[s+1],m=r[s+2];u=306*h+601*p+117*m+512>>10}o[l]=u}else for(var s=0,l=0,g=r.length;s<g;s+=4,l++){var u=void 0,f=r[s+3];if(f===0)u=255;else{var h=r[s],p=r[s+1],m=r[s+2];u=306*h+601*p+117*m+512>>10}o[l]=255-u}return o},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Fe("Requested row is outside the image: "+r);var i=this.getWidth(),a=r*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return t.prototype.crop.call(this,r,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),a=r*e.DEGREE_TO_RADIANS,o=this.canvas.width,s=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*s),c=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*s);return n.width=l,n.height=c,i.translate(l/2,c/2),i.rotate(a),i.drawImage(this.canvas,o/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new w3(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(E2),nje=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),ei=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((n=n.apply(t,e||[])).next())})},ti=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},ije=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kh=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return ei(this,void 0,void 0,function(){var e,r,n,i,a,o,s,l,c,u,f,h;return ti(this,function(p){switch(p.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=p.sent(),r=[];try{for(n=ije(e),i=n.next();!i.done;i=n.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(s=a.deviceId||a.id,l=a.label||"Video device "+(r.length+1),c=a.groupId,u={deviceId:s,label:l,kind:o,groupId:c},r.push(u))}catch(m){f={error:m}}finally{try{i&&!i.done&&(h=n.return)&&h.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return ei(this,void 0,void 0,function(){var e;return ti(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new nje(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return ei(this,void 0,void 0,function(){var r;return ti(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return ei(this,void 0,void 0,function(){return ti(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return ei(this,void 0,void 0,function(){var n,i;return ti(this,function(a){switch(a.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return ei(this,void 0,void 0,function(){var n;return ti(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return ei(this,void 0,void 0,function(){var n,i;return ti(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=a.sent(),[4,this.decodeOnce(n)];case 2:return i=a.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return ei(this,void 0,void 0,function(){return ti(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return ei(this,void 0,void 0,function(){var i,a;return ti(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return ei(this,void 0,void 0,function(){var i;return ti(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,a.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return ei(this,void 0,void 0,function(){var i;return ti(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,a.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return ei(this,void 0,void 0,function(){var n;return ti(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return ei(this,void 0,void 0,function(){return ti(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new $a("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new $a("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new $a("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new $a("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new $a("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new $a("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new $a("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new $a("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new $a("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new $a("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return ei(this,void 0,void 0,function(){return ti(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return ei(this,void 0,void 0,function(){return ti(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var a=function(o,s){if(i._stopAsyncDecode){s(new ne("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var l=i.decode(e);o(l)}catch(h){var c=r&&h instanceof ne,u=h instanceof dn||h instanceof xe,f=u&&n;if(c||f)return setTimeout(a,i._timeBetweenDecodingAttempts,o,s);s(h)}};return new Promise(function(o,s){return a(o,s)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var a=n.decode(e);r(a,null),setTimeout(i,n.timeBetweenScansMillis)}catch(l){r(null,l);var o=l instanceof dn||l instanceof xe,s=l instanceof ne;(o||s)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new rje(n,r),a=new JDe(i);return new BDe(a)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),Zn=function(){function t(e,r,n,i,a,o){n===void 0&&(n=r==null?0:8*r.length),o===void 0&&(o=Ft.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=Ft.currentTimeMillis():this.timestamp=o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);Ft.arraycopy(r,0,n,0,r.length),Ft.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),cT;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(cT||(cT={}));const Le=cT;var uT;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(uT||(uT={}));const _n=uT;var A2=function(){function t(e,r,n,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),sm=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Fe;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),Vl=function(){function t(e,r){if(r.length===0)throw new Fe;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),Ft.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,a=r.length;i!==a;i++){var o=r[i];n=sm.addOrSubtract(n,o)}return n}n=r[0];for(var s=r.length,l=this.field,i=1;i<s;i++)n=sm.addOrSubtract(l.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Fe("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;Ft.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=sm.addOrSubtract(r[s-o],n[s]);return new t(this.field,a)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Fe("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=this.field,l=0;l<n;l++)for(var c=r[l],u=0;u<a;u++)o[l+u]=sm.addOrSubtract(o[l+u],s.multiply(c,i[u]));return new t(s,o)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),a=this.coefficients,o=0;o<r;o++)i[o]=n.multiply(a[o],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Fe;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+e),o=this.field,s=0;s<i;s++)a[s]=o.multiply(n[s],r);return new t(o,a)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Fe("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Fe("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=r.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var s=i.getDegree()-e.getDegree(),l=r.multiply(i.getCoefficient(i.getDegree()),o),c=e.multiplyByMonomial(s,l),u=r.buildMonomial(s,l);n=n.addOrSubtract(u),i=i.addOrSubtract(c)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),aje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fY=function(t){aje(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(ji),oje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_i=function(t){oje(e,t);function e(r,n,i){var a=t.call(this)||this;a.primitive=r,a.size=n,a.generatorBase=i;for(var o=new Int32Array(n),s=1,l=0;l<n;l++)o[l]=s,s*=2,s>=n&&(s^=r,s&=n-1);a.expTable=o;for(var c=new Int32Array(n),l=0;l<n-1;l++)c[o[l]]=l;return a.logTable=c,a.zero=new Vl(a,Int32Array.from([0])),a.one=new Vl(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Fe;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new Vl(this,i)},e.prototype.inverse=function(r){if(r===0)throw new fY;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Je.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(sm),sje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wy=function(t){sje(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(ji),lje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),u0=function(t){lje(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(ji),C2=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new Vl(n,e),a=new Int32Array(r),o=!0,s=0;s<r;s++){var l=i.evaluateAt(n.exp(s+n.getGeneratorBase()));a[a.length-1-s]=l,l!==0&&(o=!1)}if(!o)for(var c=new Vl(n,a),u=this.runEuclideanAlgorithm(n.buildMonomial(r,1),c,r),f=u[0],h=u[1],p=this.findErrorLocations(f),m=this.findErrorMagnitudes(h,p),s=0;s<p.length;s++){var g=e.length-1-n.log(p[s]);if(g<0)throw new wy("Bad error location");e[g]=_i.addOrSubtract(e[g],m[s])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=this.field,o=e,s=r,l=a.getZero(),c=a.getOne();s.getDegree()>=(n/2|0);){var u=o,f=l;if(o=s,l=c,o.isZero())throw new wy("r_{i-1} was zero");s=u;for(var h=a.getZero(),p=o.getCoefficient(o.getDegree()),m=a.inverse(p);s.getDegree()>=o.getDegree()&&!s.isZero();){var g=s.getDegree()-o.getDegree(),v=a.multiply(s.getCoefficient(s.getDegree()),m);h=h.addOrSubtract(a.buildMonomial(g,v)),s=s.addOrSubtract(o.multiplyByMonomial(g,v))}if(c=h.multiply(l).addOrSubtract(f),s.getDegree()>=o.getDegree())throw new u0("Division algorithm failed to reduce polynomial?")}var y=c.getCoefficient(0);if(y===0)throw new wy("sigmaTilde(0) was zero");var x=a.inverse(y),b=c.multiplyScalar(x),S=s.multiplyScalar(x);return[b,S]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,a=this.field,o=1;o<a.getSize()&&i<r;o++)e.evaluateAt(o)===0&&(n[i]=a.inverse(o),i++);if(i!==r)throw new wy("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),a=this.field,o=0;o<n;o++){for(var s=a.inverse(r[o]),l=1,c=0;c<n;c++)if(o!==c){var u=a.multiply(r[c],s),f=u&1?u&-2:u|1;l=a.multiply(l,f)}i[o]=a.multiply(e.evaluateAt(s),a.inverse(l)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],s))}return i},t}(),vn;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(vn||(vn={}));var F8=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),a=t.convertBoolArrayToByteArray(i),o=t.getEncodedData(i),s=new A2(a,o,null,null);return s.setNumBits(i.length),s},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=vn.UPPER,i=vn.UPPER,a="",o=0;o<r;)if(i===vn.BINARY){if(r-o<5)break;var s=t.readCode(e,o,5);if(o+=5,s===0){if(r-o<11)break;s=t.readCode(e,o,11)+31,o+=11}for(var l=0;l<s;l++){if(r-o<8){o=r;break}var c=t.readCode(e,o,8);a+=ft.castAsNonUtf8Char(c),o+=8}i=n}else{var u=i===vn.DIGIT?4:5;if(r-o<u)break;var c=t.readCode(e,o,u);o+=u;var f=t.getCharacter(i,c);f.startsWith("CTRL_")?(n=i,i=t.getTable(f.charAt(5)),f.charAt(6)==="L"&&(n=i)):(a+=f,i=n)}return a},t.getTable=function(e){switch(e){case"L":return vn.LOWER;case"P":return vn.PUNCT;case"M":return vn.MIXED;case"D":return vn.DIGIT;case"B":return vn.BINARY;case"U":default:return vn.UPPER}},t.getCharacter=function(e,r){switch(e){case vn.UPPER:return t.UPPER_TABLE[r];case vn.LOWER:return t.LOWER_TABLE[r];case vn.MIXED:return t.MIXED_TABLE[r];case vn.PUNCT:return t.PUNCT_TABLE[r];case vn.DIGIT:return t.DIGIT_TABLE[r];default:throw new u0("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=_i.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=_i.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=_i.AZTEC_DATA_10):(n=12,r=_i.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/n;if(a<i)throw new xe;for(var o=e.length%n,s=new Int32Array(a),l=0;l<a;l++,o+=n)s[l]=t.readCode(e,o,n);try{var c=new C2(r);c.decode(s,a-i)}catch(v){throw new xe(v)}for(var u=(1<<n)-1,f=0,l=0;l<i;l++){var h=s[l];if(h===0||h===u)throw new xe;(h===1||h===u-1)&&f++}for(var p=new Array(i*n-f),m=0,l=0;l<i;l++){var h=s[l];if(h===1||h===u-1)p.fill(h>1,m,m+n-1),m+=n-1;else for(var g=n-1;g>=0;--g)p[m++]=(h&1<<g)!==0}return p},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(n,r));if(r)for(var s=0;s<a.length;s++)a[s]=s;else for(var l=i+1+2*Je.truncDivision(Je.truncDivision(i,2)-1,15),c=i/2,u=Je.truncDivision(l,2),s=0;s<c;s++){var f=s+Je.truncDivision(s,15);a[c-s-1]=u-f-1,a[c+s]=u+f+1}for(var s=0,h=0;s<n;s++){for(var p=(n-s)*4+(r?9:12),m=s*2,g=i-1-m,v=0;v<p;v++)for(var y=v*2,x=0;x<2;x++)o[h+y+x]=e.get(a[m+x],a[m+v]),o[h+2*p+y+x]=e.get(a[m+v],a[g-x]),o[h+4*p+y+x]=e.get(a[g-x],a[g-v]),o[h+6*p+y+x]=e.get(a[g-v],a[m+x]);h+=p*8}return o},t.readCode=function(e,r,n){for(var i=0,a=r;a<r+n;a++)i<<=1,e[a]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),wt=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var a=e-n,o=r-i;return Math.sqrt(a*a+o*o)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var a=e[n];r+=a}return r},t}(),dT=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),Re=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*dT.floatToIntBits(this.x)+dT.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,s;if(n>=r&&n>=i?(o=e[0],a=e[1],s=e[2]):i>=n&&i>=r?(o=e[1],a=e[0],s=e[2]):(o=e[2],a=e[0],s=e[1]),this.crossProductZ(a,o,s)<0){var l=a;a=s,s=l}e[0]=a,e[1]=o,e[2]=s},t.distance=function(e,r){return wt.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,a=r.y;return(n.x-i)*(e.y-a)-(n.y-a)*(e.x-i)},t}(),b3=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),cje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uje=function(t){cje(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n)||this;return s.compact=i,s.nbDatablocks=a,s.nbLayers=o,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(b3),fT=function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=r/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ne}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,a=!1,o=!0,s=!1,l=!1,c=!1,u=!1,f=!1,h=this.width,p=this.height;o;){o=!1;for(var m=!0;(m||!l)&&r<h;)m=this.containsBlackPoint(n,i,r,!1),m?(r++,o=!0,l=!0):l||r++;if(r>=h){a=!0;break}for(var g=!0;(g||!c)&&i<p;)g=this.containsBlackPoint(e,r,i,!0),g?(i++,o=!0,c=!0):c||i++;if(i>=p){a=!0;break}for(var v=!0;(v||!u)&&e>=0;)v=this.containsBlackPoint(n,i,e,!1),v?(e--,o=!0,u=!0):u||e--;if(e<0){a=!0;break}for(var y=!0;(y||!f)&&n>=0;)y=this.containsBlackPoint(e,r,n,!0),y?(n--,o=!0,f=!0):f||n--;if(n<0){a=!0;break}o&&(s=!0)}if(!a&&s){for(var x=r-e,b=null,S=1;b===null&&S<x;S++)b=this.getBlackPointOnSegment(e,i-S,e+S,i);if(b==null)throw new ne;for(var E=null,S=1;E===null&&S<x;S++)E=this.getBlackPointOnSegment(e,n+S,e+S,n);if(E==null)throw new ne;for(var C=null,S=1;C===null&&S<x;S++)C=this.getBlackPointOnSegment(r,n+S,r-S,n);if(C==null)throw new ne;for(var A=null,S=1;A===null&&S<x;S++)A=this.getBlackPointOnSegment(r,i-S,r-S,i);if(A==null)throw new ne;return this.centerEdges(A,b,C,E)}else throw new ne},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var a=wt.round(wt.distance(e,r,n,i)),o=(n-e)/a,s=(i-r)/a,l=this.image,c=0;c<a;c++){var u=wt.round(e+c*o),f=wt.round(r+c*s);if(l.get(u,f))return new Re(u,f)}return null},t.prototype.centerEdges=function(e,r,n,i){var a=e.getX(),o=e.getY(),s=r.getX(),l=r.getY(),c=n.getX(),u=n.getY(),f=i.getX(),h=i.getY(),p=t.CORR;return a<this.width/2?[new Re(f-p,h+p),new Re(s+p,l+p),new Re(c-p,u-p),new Re(a+p,o-p)]:[new Re(f+p,h+p),new Re(s+p,l-p),new Re(c-p,u+p),new Re(a-p,o-p)]},t.prototype.containsBlackPoint=function(e,r,n,i){var a=this.image;if(i){for(var o=e;o<=r;o++)if(a.get(o,n))return!0}else for(var s=e;s<=r;s++)if(a.get(n,s))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),B8=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<r.length&&a;o+=2){var s=Math.floor(r[o]),l=Math.floor(r[o+1]);if(s<-1||s>n||l<-1||l>i)throw new ne;a=!1,s===-1?(r[o]=0,a=!0):s===n&&(r[o]=n-1,a=!0),l===-1?(r[o+1]=0,a=!0):l===i&&(r[o+1]=i-1,a=!0)}a=!0;for(var o=r.length-2;o>=0&&a;o-=2){var s=Math.floor(r[o]),l=Math.floor(r[o+1]);if(s<-1||s>n||l<-1||l>i)throw new ne;a=!1,s===-1?(r[o]=0,a=!0):s===n&&(r[o]=n-1,a=!0),l===-1?(r[o+1]=0,a=!0):l===i&&(r[o+1]=i-1,a=!0)}},t}(),hY=function(){function t(e,r,n,i,a,o,s,l,c){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=a,this.a32=o,this.a13=s,this.a23=l,this.a33=c}return t.quadrilateralToQuadrilateral=function(e,r,n,i,a,o,s,l,c,u,f,h,p,m,g,v){var y=t.quadrilateralToSquare(e,r,n,i,a,o,s,l),x=t.squareToQuadrilateral(c,u,f,h,p,m,g,v);return x.times(y)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,l=this.a23,c=this.a31,u=this.a32,f=this.a33,h=0;h<r;h+=2){var p=e[h],m=e[h+1],g=a*p+l*m+f;e[h]=(n*p+o*m+c)/g,e[h+1]=(i*p+s*m+u)/g}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,l=this.a23,c=this.a31,u=this.a32,f=this.a33,h=e.length,p=0;p<h;p++){var m=e[p],g=r[p],v=a*m+l*g+f;e[p]=(n*m+o*g+c)/v,r[p]=(i*m+s*g+u)/v}},t.squareToQuadrilateral=function(e,r,n,i,a,o,s,l){var c=e-n+a-s,u=r-i+o-l;if(c===0&&u===0)return new t(n-e,a-n,e,i-r,o-i,r,0,0,1);var f=n-a,h=s-a,p=i-o,m=l-o,g=f*m-h*p,v=(c*m-h*u)/g,y=(f*u-c*p)/g;return new t(n-e+v*n,s-e+y*s,e,i-r+v*i,l-r+y*l,r,v,y,1)},t.quadrilateralToSquare=function(e,r,n,i,a,o,s,l){return t.squareToQuadrilateral(e,r,n,i,a,o,s,l).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),dje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fje=function(t){dje(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,a,o,s,l,c,u,f,h,p,m,g,v,y,x,b,S){var E=hY.quadrilateralToQuadrilateral(a,o,s,l,c,u,f,h,p,m,g,v,y,x,b,S);return this.sampleGridWithTransform(r,n,i,E)},e.prototype.sampleGridWithTransform=function(r,n,i,a){if(n<=0||i<=0)throw new ne;for(var o=new zo(n,i),s=new Float32Array(2*n),l=0;l<i;l++){for(var c=s.length,u=l+.5,f=0;f<c;f+=2)s[f]=f/2+.5,s[f+1]=u;a.transformPoints(s),B8.checkAndNudgePoints(r,s);try{for(var f=0;f<c;f+=2)r.get(Math.floor(s[f]),Math.floor(s[f+1]))&&o.set(f/2,l)}catch{throw new ne}}return o},e}(B8),_3=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new fje,t}(),yi=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new Re(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),hje=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new uje(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new ne;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,a=0;a<4;a++){var o=n[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(a,o,s){var l=(a>>r-2<<1)+(a&1);n=(n<<3)+l}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(Je.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new ne},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var a=n-i,o=new Int32Array(n),s=n-1;s>=0;--s)o[s]=e&15,e>>=4;try{var l=new C2(_i.AZTEC_PARAM);l.decode(o,a)}catch{throw new ne}for(var c=0,s=0;s<i;s++)c=(c<<4)+o[s];return c},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(r,o,1,-1),l=this.getFirstDifferent(n,o,1,1),c=this.getFirstDifferent(i,o,-1,1),u=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(u,s)*this.nbCenterLayers/(this.distancePoint(a,r)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(s,l,c,u))break}r=s,n=l,i=c,a=u,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ne;this.compact=this.nbCenterLayers===5;var h=new Re(r.getX()+.5,r.getY()-.5),p=new Re(n.getX()+.5,n.getY()+.5),m=new Re(i.getX()-.5,i.getY()+.5),g=new Re(a.getX()-.5,a.getY()-.5);return this.expandSquare([h,p,m,g],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var a=new fT(this.image).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new yi(o+7,s-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new yi(o+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new yi(o-7,s+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new yi(o-7,s-7),!1,-1,-1).toResultPoint()}var l=wt.round((e.getX()+i.getX()+r.getX()+n.getX())/4),c=wt.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var a=new fT(this.image,15,l,c).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{e=this.getFirstDifferent(new yi(l+7,c-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new yi(l+7,c+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new yi(l-7,c+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new yi(l-7,c-7),!1,-1,-1).toResultPoint()}return l=wt.round((e.getX()+i.getX()+r.getX()+n.getX())/4),c=wt.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new yi(l,c)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,a){var o=_3.getInstance(),s=this.getDimension(),l=s/2-this.nbCenterLayers,c=s/2+this.nbCenterLayers;return o.sampleGrid(e,s,s,l,l,c,l,c,c,l,c,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,a=this.distanceResultPoint(e,r),o=a/n,s=e.getX(),l=e.getY(),c=o*(r.getX()-e.getX())/a,u=o*(r.getY()-e.getY())/a,f=0;f<n;f++)this.image.get(wt.round(s+f*c),wt.round(l+f*u))&&(i|=1<<n-f-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var a=3;e=new yi(e.getX()-a,e.getY()+a),r=new yi(r.getX()-a,r.getY()-a),n=new yi(n.getX()+a,n.getY()-a),i=new yi(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var s=this.getColor(e,r);return s!==o||(s=this.getColor(r,n),s!==o)?!1:(s=this.getColor(n,i),s===o)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,a=(r.getY()-e.getY())/n,o=0,s=e.getX(),l=e.getY(),c=this.image.get(e.getX(),e.getY()),u=Math.ceil(n),f=0;f<u;f++)s+=i,l+=a,this.image.get(wt.round(s),wt.round(l))!==c&&o++;var h=o/n;return h>.1&&h<.9?0:h<=.1===c?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var a=e.getX()+n,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n,o+=i;for(a-=n,o-=i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n;for(a-=n;this.isValid(a,o)&&this.image.get(a,o)===r;)o+=i;return o-=i,new yi(a,o)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,l=(e[0].getY()+e[2].getY())/2,c=new Re(s+i*a,l+i*o),u=new Re(s-i*a,l-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,l=(e[1].getY()+e[3].getY())/2;var f=new Re(s+i*a,l+i*o),h=new Re(s-i*a,l-i*o),p=[c,f,u,h];return p},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=wt.round(e.getX()),n=wt.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return wt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return wt.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Je.truncDivision(this.nbLayers-4,8)+1)+15},t}(),hT=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new hje(e.getBlackMatrix()),a=null,o=null;try{var s=i.detectMirror(!1);a=s.getPoints(),this.reportFoundResultPoints(r,a),o=new F8().decode(s)}catch(f){n=f}if(o==null)try{var s=i.detectMirror(!0);a=s.getPoints(),this.reportFoundResultPoints(r,a),o=new F8().decode(s)}catch(f){throw n??f}var l=new Zn(o.getText(),o.getRawBytes(),o.getNumBits(),a,Le.AZTEC,Ft.currentTimeMillis()),c=o.getByteSegments();c!=null&&l.putMetadata(_n.BYTE_SEGMENTS,c);var u=o.getECLevel();return u!=null&&l.putMetadata(_n.ERROR_CORRECTION_LEVEL,u),l},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(Xt.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,a,o){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t}(),pje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){pje(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new hT,r)||this}return e})(Kh);var Yr=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(Xt.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,r),o=a.getResultMetadata(),s=270;o!==null&&o.get(_n.ORIENTATION)===!0&&(s=s+o.get(_n.ORIENTATION)%360),a.putMetadata(_n.ORIENTATION,s);var l=a.getResultPoints();if(l!==null)for(var c=i.getHeight(),u=0;u<l.length;u++)l[u]=new Re(c-l[u].getY()-1,l[u].getX());return a}else throw new ne}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),a=new fn(n),o=r&&r.get(Xt.TRY_HARDER)===!0,s=Math.max(1,i>>(o?8:5)),l;o?l=i:l=15;for(var c=Math.trunc(i/2),u=0;u<l;u++){var f=Math.trunc((u+1)/2),h=(u&1)===0,p=c+s*(h?f:-f);if(p<0||p>=i)break;try{a=e.getBlackRow(p,a)}catch{continue}for(var m=function(x){if(x===1&&(a.reverse(),r&&r.get(Xt.NEED_RESULT_POINT_CALLBACK)===!0)){var b=new Map;r.forEach(function(C,A){return b.set(A,C)}),b.delete(Xt.NEED_RESULT_POINT_CALLBACK),r=b}try{var S=g.decodeRow(p,a,r);if(x===1){S.putMetadata(_n.ORIENTATION,180);var E=S.getResultPoints();E!==null&&(E[0]=new Re(n-E[0].getX()-1,E[0].getY()),E[1]=new Re(n-E[1].getX()-1,E[1].getY()))}return{value:S}}catch{}},g=this,v=0;v<2;v++){var y=m(v);if(typeof y=="object")return y.value}}throw new ne},t.recordPattern=function(e,r,n){for(var i=n.length,a=0;a<i;a++)n[a]=0;var o=e.getSize();if(r>=o)throw new ne;for(var s=!e.get(r),l=0,c=r;c<o;){if(e.get(c)!==s)n[l]++;else{if(++l===i)break;n[l]=1,s=!s}c++}if(!(l===i||l===i-1&&c===o))throw new ne},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,a=e.get(r);r>0&&i>=0;)e.get(--r)!==a&&(i--,a=!a);if(i>=0)throw new ne;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=r[s];if(a<o)return Number.POSITIVE_INFINITY;var l=a/o;n*=l;for(var c=0,u=0;u<i;u++){var f=e[u],h=r[u]*l,p=f>h?f-h:h-f;if(p>n)return Number.POSITIVE_INFINITY;c+=p}return c/a},t}(),mje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),V8=function(t){mje(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),s=i,l=!1,c=6,u=i;u<n;u++)if(r.get(u)!==l)o[a]++;else{if(a===c-1){for(var f=e.MAX_AVG_VARIANCE,h=-1,p=e.CODE_START_A;p<=e.CODE_START_C;p++){var m=Yr.patternMatchVariance(o,e.CODE_PATTERNS[p],e.MAX_INDIVIDUAL_VARIANCE);m<f&&(f=m,h=p)}if(h>=0&&r.isRange(Math.max(0,s-(u-s)/2),s,!1))return Int32Array.from([s,u,h]);s+=o[0]+o[1],o=o.slice(2,o.length),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,l=!l}throw new ne},e.decodeCode=function(r,n,i){Yr.recordPattern(r,i,n);for(var a=e.MAX_AVG_VARIANCE,o=-1,s=0;s<e.CODE_PATTERNS.length;s++){var l=e.CODE_PATTERNS[s],c=this.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);c<a&&(a=c,o=s)}if(o>=0)return o;throw new ne},e.prototype.decodeRow=function(r,n,i){var a=i&&i.get(Xt.ASSUME_GS1)===!0,o=e.findStartPattern(n),s=o[2],l=0,c=new Uint8Array(20);c[l++]=s;var u;switch(s){case e.CODE_START_A:u=e.CODE_CODE_A;break;case e.CODE_START_B:u=e.CODE_CODE_B;break;case e.CODE_START_C:u=e.CODE_CODE_C;break;default:throw new xe}for(var f=!1,h=!1,p="",m=o[0],g=o[1],v=Int32Array.from([0,0,0,0,0,0]),y=0,x=0,b=s,S=0,E=!0,C=!1,A=!1;!f;){var T=h;switch(h=!1,y=x,x=e.decodeCode(n,v,g),c[l++]=x,x!==e.CODE_STOP&&(E=!0),x!==e.CODE_STOP&&(S++,b+=S*x),m=g,g+=v.reduce(function(z,B){return z+B},0),x){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new xe}switch(u){case e.CODE_CODE_A:if(x<64)A===C?p+=String.fromCharCode(32+x):p+=String.fromCharCode(32+x+128),A=!1;else if(x<96)A===C?p+=String.fromCharCode(x-64):p+=String.fromCharCode(x+64),A=!1;else switch(x!==e.CODE_STOP&&(E=!1),x){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!C&&A?(C=!0,A=!1):C&&A?(C=!1,A=!1):A=!0;break;case e.CODE_SHIFT:h=!0,u=e.CODE_CODE_B;break;case e.CODE_CODE_B:u=e.CODE_CODE_B;break;case e.CODE_CODE_C:u=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_B:if(x<96)A===C?p+=String.fromCharCode(32+x):p+=String.fromCharCode(32+x+128),A=!1;else switch(x!==e.CODE_STOP&&(E=!1),x){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!C&&A?(C=!0,A=!1):C&&A?(C=!1,A=!1):A=!0;break;case e.CODE_SHIFT:h=!0,u=e.CODE_CODE_A;break;case e.CODE_CODE_A:u=e.CODE_CODE_A;break;case e.CODE_CODE_C:u=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_C:if(x<100)x<10&&(p+="0"),p+=x;else switch(x!==e.CODE_STOP&&(E=!1),x){case e.CODE_FNC_1:a&&(p.length===0?p+="]C1":p+="");break;case e.CODE_CODE_A:u=e.CODE_CODE_A;break;case e.CODE_CODE_B:u=e.CODE_CODE_B;break;case e.CODE_STOP:f=!0;break}break}T&&(u=u===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var I=g-m;if(g=n.getNextUnset(g),!n.isRange(g,Math.min(n.getSize(),g+(g-m)/2),!1))throw new ne;if(b-=S*y,b%103!==y)throw new dn;var N=p.length;if(N===0)throw new ne;N>0&&E&&(u===e.CODE_CODE_C?p=p.substring(0,N-2):p=p.substring(0,N-1));for(var O=(o[1]+o[0])/2,R=m+I/2,k=c.length,M=new Uint8Array(k),U=0;U<k;U++)M[U]=c[U];var L=[new Re(O,r),new Re(R,r)];return new Zn(p,M,0,L,Le.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(Yr),gje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},U8=function(t){gje(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var a,o,s,l,c=this.counters;c.fill(0),this.decodeRowResult="";var u=e.findAsteriskPattern(n,c),f=n.getNextSet(u[1]),h=n.getSize(),p,m;do{e.recordPattern(n,f,c);var g=e.toNarrowWidePattern(c);if(g<0)throw new ne;p=e.patternToChar(g),this.decodeRowResult+=p,m=f;try{for(var v=(a=void 0,oE(c)),y=v.next();!y.done;y=v.next()){var x=y.value;f+=x}}catch(k){a={error:k}}finally{try{y&&!y.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}f=n.getNextSet(f)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var b=0;try{for(var S=oE(c),E=S.next();!E.done;E=S.next()){var x=E.value;b+=x}}catch(k){s={error:k}}finally{try{E&&!E.done&&(l=S.return)&&l.call(S)}finally{if(s)throw s.error}}var C=f-m-b;if(f!==h&&C*2<b)throw new ne;if(this.usingCheckDigit){for(var A=this.decodeRowResult.length-1,T=0,I=0;I<A;I++)T+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(I));if(this.decodeRowResult.charAt(A)!==e.ALPHABET_STRING.charAt(T%43))throw new dn;this.decodeRowResult=this.decodeRowResult.substring(0,A)}if(this.decodeRowResult.length===0)throw new ne;var N;this.extendedMode?N=e.decodeExtended(this.decodeRowResult):N=this.decodeRowResult;var O=(u[1]+u[0])/2,R=m+b/2;return new Zn(N,null,0,[new Re(O,r),new Re(R,r)],Le.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),a=r.getNextSet(0),o=0,s=a,l=!1,c=n.length,u=a;u<i;u++)if(r.get(u)!==l)n[o]++;else{if(o===c-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,s-Math.floor((u-s)/2)),s,!1))return[s,u];s+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,l=!l}throw new ne},e.toNarrowWidePattern=function(r){var n,i,a=r.length,o=0,s;do{var l=2147483647;try{for(var c=(n=void 0,oE(r)),u=c.next();!u.done;u=c.next()){var f=u.value;f<l&&f>o&&(l=f)}}catch(g){n={error:g}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}o=l,s=0;for(var h=0,p=0,m=0;m<a;m++){var f=r[m];f>o&&(p|=1<<a-1-m,s++,h+=f)}if(s===3){for(var m=0;m<a&&s>0;m++){var f=r[m];if(f>o&&(s--,f*2>=h))return-1}return p}}while(s>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new ne},e.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var s=r.charAt(a+1),l="\0";switch(o){case"+":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new xe;break;case"$":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new xe;break;case"%":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s==="X"||s==="Y"||s==="Z")l="";else throw new xe;break;case"/":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new xe;break}i+=l,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(Yr),vje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},z8=function(t){vje(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,i){var a,o,s,l,c=this.findAsteriskPattern(n),u=n.getNextSet(c[1]),f=n.getSize(),h=this.counters;h.fill(0),this.decodeRowResult="";var p,m;do{e.recordPattern(n,u,h);var g=this.toPattern(h);if(g<0)throw new ne;p=this.patternToChar(g),this.decodeRowResult+=p,m=u;try{for(var v=(a=void 0,sE(h)),y=v.next();!y.done;y=v.next()){var x=y.value;u+=x}}catch(I){a={error:I}}finally{try{y&&!y.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}u=n.getNextSet(u)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var b=0;try{for(var S=sE(h),E=S.next();!E.done;E=S.next()){var x=E.value;b+=x}}catch(I){s={error:I}}finally{try{E&&!E.done&&(l=S.return)&&l.call(S)}finally{if(s)throw s.error}}if(u===f||!n.get(u))throw new ne;if(this.decodeRowResult.length<2)throw new ne;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var C=this.decodeExtended(this.decodeRowResult),A=(c[1]+c[0])/2,T=m+b/2;return new Zn(C,null,0,[new Re(A,r),new Re(T,r)],Le.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),i=r.getNextSet(0);this.counters.fill(0);for(var a=this.counters,o=i,s=!1,l=a.length,c=0,u=i;u<n;u++)if(r.get(u)!==s)a[c]++;else{if(c===l-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([o,u]);o+=a[0]+a[1],a.copyWithin(0,2,2+c-1),a[c-1]=0,a[c]=0,c--}else c++;a[c]=1,s=!s}throw new ne},e.prototype.toPattern=function(r){var n,i,a=0;try{for(var o=sE(r),s=o.next();!s.done;s=o.next()){var l=s.value;a+=l}}catch(m){n={error:m}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}for(var c=0,u=r.length,f=0;f<u;f++){var h=Math.round(r[f]*9/a);if(h<1||h>4)return-1;if(f&1)c<<=h;else for(var p=0;p<h;p++)c=c<<1|1}return c},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new ne},e.prototype.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o>="a"&&o<="d"){if(a>=n-1)throw new xe;var s=r.charAt(a+1),l="\0";switch(o){case"d":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new xe;break;case"a":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new xe;break;case"b":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s>="X"&&s<="Z")l="";else throw new xe;break;case"c":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new xe;break}i+=l,a++}else i+=o}return i},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,i){for(var a=1,o=0,s=n-1;s>=0;s--)o+=a*e.ALPHABET_STRING.indexOf(r.charAt(s)),++a>i&&(a=1);if(r.charAt(n)!==e.ALPHABET_STRING[o%47])throw new dn},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(Yr),yje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xje=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},W8=function(t){yje(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var a,o,s=this.decodeStart(n),l=this.decodeEnd(n),c=new Qe;e.decodeMiddle(n,s[1],l[0],c);var u=c.toString(),f=null;i!=null&&(f=i.get(Xt.ALLOWED_LENGTHS)),f==null&&(f=e.DEFAULT_ALLOWED_LENGTHS);var h=u.length,p=!1,m=0;try{for(var g=xje(f),v=g.next();!v.done;v=g.next()){var y=v.value;if(h===y){p=!0;break}y>m&&(m=y)}}catch(S){a={error:S}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}if(!p&&h>m&&(p=!0),!p)throw new xe;var x=[new Re(s[1],r),new Re(l[0],r)],b=new Zn(u,null,0,x,Le.ITF,new Date().getTime());return b},e.decodeMiddle=function(r,n,i,a){var o=new Int32Array(10),s=new Int32Array(5),l=new Int32Array(5);for(o.fill(0),s.fill(0),l.fill(0);n<i;){Yr.recordPattern(r,n,o);for(var c=0;c<5;c++){var u=2*c;s[c]=o[u],l[c]=o[u+1]}var f=e.decodeDigit(s);a.append(f.toString()),f=this.decodeDigit(l),a.append(f.toString()),o.forEach(function(h){n+=h})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var a=n-1;i>0&&a>=0&&!r.get(a);a--)i--;if(i!==0)throw new ne},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new ne;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof ne&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var a=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-a,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var a=i.length,o=new Int32Array(a),s=r.getSize(),l=!1,c=0,u=n;o.fill(0);for(var f=n;f<s;f++)if(r.get(f)!==l)o[c]++;else{if(c===a-1){if(Yr.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[u,f];u+=o[0]+o[1],Ft.arraycopy(o,2,o,0,c-1),o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,l=!l}throw new ne},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var s=e.PATTERNS[o],l=Yr.patternMatchVariance(r,s,e.MAX_INDIVIDUAL_VARIANCE);l<n?(n=l,i=o):l===n&&(i=-1)}if(i>=0)return i%10;throw new ne},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(Yr),wje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wf=function(t){wje(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,a=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,a,!1,this.START_END_PATTERN,o);var s=i[0];a=i[1];var l=s-(a-s);l>=0&&(n=r.isRange(l,s,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new xe;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new xe;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,a){return this.findGuardPattern(r,n,i,a,new Int32Array(a.length))},e.findGuardPattern=function(r,n,i,a,o){var s=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var l=0,c=n,u=a.length,f=i,h=n;h<s;h++)if(r.get(h)!==f)o[l]++;else{if(l===u-1){if(Yr.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([c,h]);c+=o[0]+o[1];for(var p=o.slice(2,o.length),m=0;m<l-1;m++)o[m]=p[m];o[l-1]=0,o[l]=0,l--}else l++;o[l]=1,f=!f}throw new ne},e.decodeDigit=function(r,n,i,a){this.recordPattern(r,i,n);for(var o=this.MAX_AVG_VARIANCE,s=-1,l=a.length,c=0;c<l;c++){var u=a[c],f=Yr.patternMatchVariance(n,u,e.MAX_INDIVIDUAL_VARIANCE);f<o&&(o=f,s=c)}if(s>=0)return s;throw new ne},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(Yr),bje=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_je=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),s=t.parseExtensionString(o),l=[new Re((n[0]+n[1])/2,e),new Re(a,e)],c=new Zn(o,null,0,l,Le.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&c.putAllMetadata(s),c},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),l=r[1],c=0,u=0;u<5&&l<s;u++){var f=Wf.decodeDigit(e,o,l,Wf.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var h=(i=void 0,bje(o)),p=h.next();!p.done;p=h.next()){var m=p.value;l+=m}}catch(v){i={error:v}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}f>=10&&(c|=1<<4-u),u!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==5)throw new ne;var g=this.determineCheckDigit(c);if(t.extensionChecksum(n.toString())!==g)throw new ne;return l},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new ne},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[_n.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),a=n%100,o=a<10?"0"+a:a.toString();return r+i+"."+o},t}(),Sje=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Eje=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),s=t.parseExtensionString(o),l=[new Re((n[0]+n[1])/2,e),new Re(a,e)],c=new Zn(o,null,0,l,Le.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&c.putAllMetadata(s),c},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),l=r[1],c=0,u=0;u<2&&l<s;u++){var f=Wf.decodeDigit(e,o,l,Wf.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var h=(i=void 0,Sje(o)),p=h.next();!p.done;p=h.next()){var m=p.value;l+=m}}catch(g){i={error:g}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}f>=10&&(c|=1<<1-u),u!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==2)throw new ne;if(parseInt(n.toString())%4!==c)throw new ne;return l},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[_n.ISSUE_NUMBER,parseInt(e)]])},t}(),Aje=function(){function t(){}return t.decodeRow=function(e,r,n){var i=Wf.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new _je;return a.decodeRow(e,r,i)}catch{var o=new Eje;return o.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),Cje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Br=function(t){Cje(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[n]=a}return r}return e.prototype.decodeRow=function(r,n,i){var a=e.findStartGuardPattern(n),o=i==null?null:i.get(Xt.NEED_RESULT_POINT_CALLBACK);if(o!=null){var s=new Re((a[0]+a[1])/2,r);o.foundPossibleResultPoint(s)}var l=this.decodeMiddle(n,a,this.decodeRowStringBuffer),c=l.rowOffset,u=l.resultString;if(o!=null){var f=new Re(c,r);o.foundPossibleResultPoint(f)}var h=e.decodeEnd(n,c);if(o!=null){var p=new Re((h[0]+h[1])/2,r);o.foundPossibleResultPoint(p)}var m=h[1],g=m+(m-h[0]);if(g>=n.getSize()||!n.isRange(m,g,!1))throw new ne;var v=u.toString();if(v.length<8)throw new xe;if(!e.checkChecksum(v))throw new dn;var y=(a[1]+a[0])/2,x=(h[1]+h[0])/2,b=this.getBarcodeFormat(),S=[new Re(y,r),new Re(x,r)],E=new Zn(v,null,0,S,b,new Date().getTime()),C=0;try{var A=Aje.decodeRow(r,n,h[1]);E.putMetadata(_n.UPC_EAN_EXTENSION,A.getText()),E.putAllMetadata(A.getResultMetadata()),E.addResultPoints(A.getResultPoints()),C=A.getText().length}catch{}var T=i==null?null:i.get(Xt.ALLOWED_EAN_EXTENSIONS);if(T!=null){var I=!1;for(var N in T)if(C.toString()===N){I=!0;break}if(!I)throw new ne}return b===Le.EAN_13||Le.UPC_A,E},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new xe;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new xe;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(Wf),Tje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),H8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pT=function(t){Tje(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var u=r.getSize(),f=n[1],h=0,p=0;p<6&&f<u;p++){var m=Br.decodeDigit(r,c,f,Br.L_AND_G_PATTERNS);i+=String.fromCharCode(48+m%10);try{for(var g=(a=void 0,H8(c)),v=g.next();!v.done;v=g.next()){var y=v.value;f+=y}}catch(E){a={error:E}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}m>=10&&(h|=1<<5-p)}i=e.determineFirstDigit(i,h);var x=Br.findGuardPattern(r,f,!0,Br.MIDDLE_PATTERN,new Int32Array(Br.MIDDLE_PATTERN.length).fill(0));f=x[1];for(var p=0;p<6&&f<u;p++){var m=Br.decodeDigit(r,c,f,Br.L_PATTERNS);i+=String.fromCharCode(48+m);try{for(var b=(s=void 0,H8(c)),S=b.next();!S.done;S=b.next()){var y=S.value;f+=y}}catch(A){s={error:A}}finally{try{S&&!S.done&&(l=b.return)&&l.call(b)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return Le.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode(48+i)+r,r;throw new ne},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(Br),Ije=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),G8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},q8=function(t){Ije(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var u=r.getSize(),f=n[1],h=0;h<4&&f<u;h++){var p=Br.decodeDigit(r,c,f,Br.L_PATTERNS);i+=String.fromCharCode(48+p);try{for(var m=(a=void 0,G8(c)),g=m.next();!g.done;g=m.next()){var v=g.value;f+=v}}catch(S){a={error:S}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(a)throw a.error}}}var y=Br.findGuardPattern(r,f,!0,Br.MIDDLE_PATTERN,new Int32Array(Br.MIDDLE_PATTERN.length).fill(0));f=y[1];for(var h=0;h<4&&f<u;h++){var p=Br.decodeDigit(r,c,f,Br.L_PATTERNS);i+=String.fromCharCode(48+p);try{for(var x=(s=void 0,G8(c)),b=x.next();!b.done;b=x.next()){var v=b.value;f+=v}}catch(C){s={error:C}}finally{try{b&&!b.done&&(l=x.return)&&l.call(x)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return Le.EAN_8},e}(Br),Nje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),K8=function(t){Nje(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new pT,r}return e.prototype.getBarcodeFormat=function(){return Le.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new Zn(n.substring(1),null,null,r.getResultPoints(),Le.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new ne},e.prototype.reset=function(){this.ean13Reader.reset()},e}(Br),Pje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Oje=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Y8=function(t){Pje(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s=this.decodeMiddleCounters.map(function(v){return v});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var l=r.getSize(),c=n[1],u=0,f=0;f<6&&c<l;f++){var h=e.decodeDigit(r,s,c,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+h%10);try{for(var p=(a=void 0,Oje(s)),m=p.next();!m.done;m=p.next()){var g=m.value;c+=g}}catch(v){a={error:v}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}h>=10&&(u|=1<<5-f)}return e.determineNumSysAndCheckDigit(new Qe(i),u),c},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return Br.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){r.insert(0,"0"+i),r.append("0"+a);return}throw ne.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Le.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new Qe;i.append(r.charAt(0));var a=n[5];switch(a){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(a),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(a);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(Br),kje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),X8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lE=function(t){kje(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(Xt.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(Le.EAN_13)>-1&&a.push(new pT),i.indexOf(Le.UPC_A)>-1&&a.push(new K8),i.indexOf(Le.EAN_8)>-1&&a.push(new q8),i.indexOf(Le.UPC_E)>-1&&a.push(new Y8)),a.length===0&&(a.push(new pT),a.push(new K8),a.push(new q8),a.push(new Y8)),n.readers=a,n}return e.prototype.decodeRow=function(r,n,i){var a,o;try{for(var s=X8(this.readers),l=s.next();!l.done;l=s.next()){var c=l.value;try{var u=c.decodeRow(r,n,i),f=u.getBarcodeFormat()===Le.EAN_13&&u.getText().charAt(0)==="0",h=i==null?null:i.get(Xt.POSSIBLE_FORMATS),p=h==null||h.includes(Le.UPC_A);if(f&&p){var m=u.getRawBytes(),g=new Zn(u.getText().substring(1),m,m?m.length:null,u.getResultPoints(),Le.UPC_A);return g.putAllMetadata(u.getResultMetadata()),g}return u}catch{}}}catch(v){a={error:v}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(a)throw a.error}}throw new ne},e.prototype.reset=function(){var r,n;try{for(var i=X8(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e}(Yr),Rje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Dje=function(t){Rje(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,i){var a=this.getValidRowData(n);if(!a)throw new ne;var o=this.codaBarDecodeRow(a.row);if(!o)throw new ne;return new Zn(o,null,0,[new Re(a.left,r),new Re(a.right,r)],Le.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),i=n.indexOf(!0);if(i===-1)return null;var a=n.lastIndexOf(!0);if(a<=i)return null;n=n.slice(i,a+1);for(var o=[],s=n[0],l=1,c=1;c<n.length;c++)n[c]===s?l++:(s=n[c],o.push(l),l=1);return o.push(l),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:i,right:a}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],i=Math.ceil(r.reduce(function(l,c){return(l+c)/2},0));r.length>0;){var a=r.splice(0,8).splice(0,7),o=a.map(function(l){return l<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[o])}var s=n.join("");return this.validCodaBarString(s)?s:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e}(Yr),jje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mje=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qc=function(t){jje(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(Yr.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new ne},e.count=function(r){return wt.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]>a&&(a=n[o],i=o);r[i]++},e.decrement=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]<a&&(a=n[o],i=o);r[i]--},e.isFinderPattern=function(r){var n,i,a=r[0]+r[1],o=a+r[2]+r[3],s=a/o;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;try{for(var u=Mje(r),f=u.next();!f.done;f=u.next()){var h=f.value;h>c&&(c=h),h<l&&(l=h)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return c<10*l}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(Yr),Bx=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),pY=function(){function t(e,r,n,i,a){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Re(n,a)),this.resultPoints.push(new Re(i,a))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),Lje=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hd=function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,a,o=0;try{for(var s=Lje(e),l=s.next();!l.done;l=s.next()){var c=l.value;o+=c}}catch(x){i={error:x}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}for(var u=0,f=0,h=e.length,p=0;p<h-1;p++){var m=void 0;for(m=1,f|=1<<p;m<e[p];m++,f&=~(1<<p)){var g=t.combins(o-m-1,h-p-2);if(n&&f===0&&o-m-(h-p-1)>=h-p-1&&(g-=t.combins(o-m-(h-p),h-p-2)),h-p-1>1){for(var v=0,y=o-m-(h-p-2);y>r;y--)v+=t.combins(o-m-y-1,h-p-3);g-=v*(h-1-p)}else o-m>r&&g--;u+=g}o-=m}return u},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var a=1,o=1,s=e;s>n;s--)a*=s,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},t}(),$je=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new fn(n),a=0,o=e[0],s=o.getRightChar().getValue(),l=11;l>=0;--l)s&1<<l&&i.set(a),a++;for(var l=1;l<e.length;++l){for(var c=e[l],u=c.getLeftChar().getValue(),f=11;f>=0;--f)u&1<<f&&i.set(a),a++;if(c.getRightChar()!==null)for(var h=c.getRightChar().getValue(),f=11;f>=0;--f)h&1<<f&&i.set(a),a++}return i},t}(),Lc=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),S3=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),Fje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ja=function(t){Fje(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(S3),Bje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$c=function(t){Bje(e,t);function e(r,n,i){var a=t.call(this,r)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(S3),Vje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xd=function(t){Vje(e,t);function e(r,n,i){var a=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new xe;return a.firstDigit=n,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(S3),by=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Uje=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,a,o,s,l,c;if(!e)return null;if(e.length<2)throw new ne;var u=e.substring(0,2);try{for(var f=by(t.TWO_DIGIT_DATA_LENGTH),h=f.next();!h.done;h=f.next()){var p=h.value;if(p[0]===u)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,p[2],e):t.processFixedAI(2,p[1],e)}}catch(C){r={error:C}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(e.length<3)throw new ne;var m=e.substring(0,3);try{for(var g=by(t.THREE_DIGIT_DATA_LENGTH),v=g.next();!v.done;v=g.next()){var p=v.value;if(p[0]===m)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,p[2],e):t.processFixedAI(3,p[1],e)}}catch(C){i={error:C}}finally{try{v&&!v.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}try{for(var y=by(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),x=y.next();!x.done;x=y.next()){var p=x.value;if(p[0]===m)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(C){o={error:C}}finally{try{x&&!x.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}if(e.length<4)throw new ne;var b=e.substring(0,4);try{for(var S=by(t.FOUR_DIGIT_DATA_LENGTH),E=S.next();!E.done;E=S.next()){var p=E.value;if(p[0]===b)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(C){l={error:C}}finally{try{E&&!E.done&&(c=S.return)&&c.call(S)}finally{if(l)throw l.error}}throw new ne},t.processFixedAI=function(e,r,n){if(n.length<e)throw new ne;var i=n.substring(0,e);if(n.length<e+r)throw new ne;var a=n.substring(e,e+r),o=n.substring(e+r),s="("+i+")"+a,l=t.parseFieldsInGeneralPurpose(o);return l==null?s:s+l},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),a;n.length<e+r?a=n.length:a=e+r;var o=n.substring(e,a),s=n.substring(a),l="("+i+")"+o,c=t.parseFieldsInGeneralPurpose(s);return c==null?l:l+c},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),y1=function(){function t(e){this.buffer=new Qe,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var a=this.decodeGeneralPurposeField(n,i),o=Uje.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,n===a.getNewPosition())break;n=a.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new xd(this.information.getSize(),xd.FNC1,xd.FNC1):new xd(this.information.getSize(),r-1,xd.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,a=(n-8)%11;return new xd(e+7,i,a)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,a=0;a<n;++a)e.get(r+a)&&(i|=1<<n-a-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new $c(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new $c(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new $c(this.current.getPosition(),this.buffer.toString()):r=new $c(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Lc(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new $c(this.current.getPosition(),this.buffer.toString());return new Lc(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Lc(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new $c(this.current.getPosition(),this.buffer.toString());return new Lc(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Lc(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new $c(this.current.getPosition(),this.buffer.toString());return new Lc(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Lc(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new ja(e+5,ja.FNC1);if(r>=5&&r<15)return new ja(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new ja(e+7,""+(n+1));if(n>=90&&n<116)return new ja(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new xe}return new ja(e+8,a)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new ja(e+5,ja.FNC1);if(r>=5&&r<15)return new ja(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new ja(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new u0("Decoding invalid alphanumeric value: "+n)}return new ja(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),mY=function(){function t(e){this.information=e,this.generalDecoder=new y1(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),zje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ha=function(t){zje(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);o/100===0&&r.append("0"),o/10===0&&r.append("0"),r.append(o)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,a=0;a<13;a++){var o=r.charAt(a+n).charCodeAt(0)-48;i+=a&1?o:3*o}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e}(mY),Wje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hje=function(t){Wje(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Qe;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(Ha),Gje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qje=function(t){Gje(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Qe;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(mY),Kje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),x1=function(t){Kje(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,a);for(var o=this.checkWeight(a),s=1e5,l=0;l<5;++l)o/s===0&&r.append("0"),s/=10;r.append(o)},e}(Ha),Yje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gY=function(t){Yje(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+x1.GTIN_SIZE+e.WEIGHT_SIZE)throw new ne;var r=new Qe;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+x1.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(x1),Xje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qje=function(t){Xje(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(gY),Zje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jje=function(t){Zje(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(gY),e4e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),t4e=function(t){e4e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Ha.GTIN_SIZE)throw new ne;var r=new Qe;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Ha.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Ha.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(Ha),r4e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),n4e=function(t){r4e(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Ha.GTIN_SIZE)throw new ne;var r=new Qe;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Ha.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Ha.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&r.append("0"),i/10===0&&r.append("0"),r.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Ha.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(Ha),i4e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),al=function(t){i4e(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.dateCode=i,a.firstAIdigits=n,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new ne;var r=new Qe;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){r.append("("),r.append(this.dateCode),r.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var s=i;s/10===0&&r.append("0"),r.append(s),o/10===0&&r.append("0"),r.append(o),a/10===0&&r.append("0"),r.append(a)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(x1);function a4e(t){try{if(t.get(1))return new Hje(t);if(!t.get(2))return new qje(t);var e=y1.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new Qje(t);case 5:return new Jje(t)}var r=y1.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new t4e(t);case 13:return new n4e(t)}var n=y1.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new al(t,"310","11");case 57:return new al(t,"320","11");case 58:return new al(t,"310","13");case 59:return new al(t,"320","13");case 60:return new al(t,"310","15");case 61:return new al(t,"320","15");case 62:return new al(t,"310","17");case 63:return new al(t,"320","17")}}catch(i){throw console.log(i),new u0("unknown decoder: "+t)}}var Q8=function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),o4e=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,a){r.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),s4e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ol=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l4e=function(t){s4e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(s){if(s instanceof ne){if(!this.pairs.length)throw new ne;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(r,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new ne},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,a,o=n;o<this.rows.length;o++){var s=this.rows[o];this.pairs.length=0;try{for(var l=(i=void 0,ol(r)),c=l.next();!c.done;c=l.next()){var u=c.value;this.pairs.push(u.getPairs())}}catch(h){i={error:h}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(r);f.push(s);try{return this.checkRows(f,o+1)}catch(h){console.log(h)}}}throw new ne},e.isValidSequence=function(r){var n,i;try{for(var a=ol(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var s=o.value;if(!(r.length>s.length)){for(var l=!0,c=0;c<r.length;c++)if(r[c].getFinderPattern().getValue()!==s[c]){l=!1;break}if(l)return!0}}}catch(u){n={error:u}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,a=!1,o=!1;i<this.rows.length;){var s=this.rows[i];if(s.getRowNumber()>r){o=s.isEquivalent(this.pairs);break}a=s.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new o4e(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,a,o,s,l,c;try{for(var u=ol(n),f=u.next();!f.done;f=u.next()){var h=f.value;if(h.getPairs().length!==r.length){var p=!0;try{for(var m=(o=void 0,ol(h.getPairs())),g=m.next();!g.done;g=m.next()){var v=g.value,y=!1;try{for(var x=(l=void 0,ol(r)),b=x.next();!b.done;b=x.next()){var S=b.value;if(Q8.equals(v,S)){y=!0;break}}}catch(E){l={error:E}}finally{try{b&&!b.done&&(c=x.return)&&c.call(x)}finally{if(l)throw l.error}}y||(p=!1)}}catch(E){o={error:E}}finally{try{g&&!g.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}}}}catch(E){i={error:E}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,a,o,s,l,c;try{for(var u=ol(n),f=u.next();!f.done;f=u.next()){var h=f.value,p=!0;try{for(var m=(o=void 0,ol(r)),g=m.next();!g.done;g=m.next()){var v=g.value,y=!1;try{for(var x=(l=void 0,ol(h.getPairs())),b=x.next();!b.done;b=x.next()){var S=b.value;if(v.equals(S)){y=!0;break}}}catch(E){l={error:E}}finally{try{b&&!b.done&&(c=x.return)&&c.call(x)}finally{if(l)throw l.error}}if(!y){p=!1;break}}}catch(E){o={error:E}}finally{try{g&&!g.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}if(p)return!0}}catch(E){i={error:E}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=$je.buildBitArray(r),i=a4e(n),a=i.parseInformation(),o=r[0].getFinderPattern().getResultPoints(),s=r[r.length-1].getFinderPattern().getResultPoints(),l=[o[0],o[1],s[0],s[1]];return new Zn(a,null,null,l,Le.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),o=2,s=1;s<this.pairs.size();++s){var l=this.pairs.get(s);a+=l.getLeftChar().getChecksumPortion(),o++;var c=l.getRightChar();c!=null&&(a+=c.getChecksumPortion(),o++)}a%=211;var u=211*(o-4)+a;return u===n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var a=n.length%2===0;this.startFromEven&&(a=!a);var o,s=!0,l=-1;do this.findNextPair(r,n,l),o=this.parseFoundFinderPattern(r,i,a),o===null?l=e.getNextSecondBar(r,this.startEnd[0]):s=!1;while(s);var c=this.decodeDataCharacter(r,o,a,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new ne;var u;try{u=this.decodeDataCharacter(r,o,a,!1)}catch(f){u=null,console.log(f)}return new Q8(c,u,o,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=r.getSize(),s;if(i>=0)s=i;else if(this.isEmptyPair(n))s=0;else{var l=n[n.length-1];s=l.getFinderPattern().getStartEnd()[1]}var c=n.length%2!==0;this.startFromEven&&(c=!c);for(var u=!1;s<o&&(u=!r.get(s),!!u);)s++;for(var f=0,h=s,p=s;p<o;p++)if(r.get(p)!==u)a[f]++;else{if(f===3){if(c&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=h,this.startEnd[1]=p;return}c&&e.reverseCounters(a),h+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,f--}else f++;a[f]=1,u=!u}throw new ne},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var a=r[i];r[i]=r[n-i-1],r[n-i-1]=a}},e.prototype.parseFoundFinderPattern=function(r,n,i){var a,o,s;if(i){for(var l=this.startEnd[0]-1;l>=0&&!r.get(l);)l--;l++,a=this.startEnd[0]-l,o=l,s=this.startEnd[1]}else o=this.startEnd[0],s=r.getNextUnset(this.startEnd[1]+1),a=s-this.startEnd[1];var c=this.getDecodeFinderCounters();Ft.arraycopy(c,0,c,1,c.length-1),c[0]=a;var u;try{u=this.parseFinderValue(c,e.FINDER_PATTERNS)}catch{return null}return new pY(u,[o,s],o,s,n)},e.prototype.decodeDataCharacter=function(r,n,i,a){for(var o=this.getDataCharacterCounters(),s=0;s<o.length;s++)o[s]=0;if(a)e.recordPatternInReverse(r,n.getStartEnd()[0],o);else{e.recordPattern(r,n.getStartEnd()[1],o);for(var l=0,c=o.length-1;l<c;l++,c--){var u=o[l];o[l]=o[c],o[c]=u}}var f=17,h=wt.sum(new Int32Array(o))/f,p=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(h-p)/p>.3)throw new ne;for(var m=this.getOddCounts(),g=this.getEvenCounts(),v=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors(),l=0;l<o.length;l++){var x=1*o[l]/h,b=x+.5;if(b<1){if(x<.3)throw new ne;b=1}else if(b>8){if(x>8.7)throw new ne;b=8}var S=l/2;l&1?(g[S]=b,y[S]=x-b):(m[S]=b,v[S]=x-b)}this.adjustOddEvenCounts(f);for(var E=4*n.getValue()+(i?0:2)+(a?0:1)-1,C=0,A=0,l=m.length-1;l>=0;l--){if(e.isNotA1left(n,i,a)){var T=e.WEIGHTS[E][2*l];A+=m[l]*T}C+=m[l]}for(var I=0,l=g.length-1;l>=0;l--)if(e.isNotA1left(n,i,a)){var T=e.WEIGHTS[E][2*l+1];I+=g[l]*T}var N=A+I;if(C&1||C>13||C<4)throw new ne;var O=(13-C)/2,R=e.SYMBOL_WIDEST[O],k=9-R,M=Hd.getRSSvalue(m,R,!0),U=Hd.getRSSvalue(g,k,!1),L=e.EVEN_TOTAL_SUBSET[O],z=e.GSUM[O],B=M*L+U+z;return new Bx(B,N)},e.isNotA1left=function(r,n,i){return!(r.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=wt.sum(new Int32Array(this.getOddCounts())),i=wt.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;n>13?o=!0:n<4&&(a=!0);var s=!1,l=!1;i>13?l=!0:i<4&&(s=!0);var c=n+i-r,u=(n&1)===1,f=(i&1)===0;if(c===1)if(u){if(f)throw new ne;o=!0}else{if(!f)throw new ne;l=!0}else if(c===-1)if(u){if(f)throw new ne;a=!0}else{if(!f)throw new ne;s=!0}else if(c===0){if(u){if(!f)throw new ne;n<i?(a=!0,l=!0):(o=!0,s=!0)}else if(f)throw new ne}else throw new ne;if(a){if(o)throw new ne;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(l)throw new ne;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(qc),c4e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),u4e=function(t){c4e(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(Bx),d4e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Z8=function(t){d4e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var a,o,s,l,c=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,c),n.reverse();var u=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,u),n.reverse();try{for(var f=cE(this.possibleLeftPairs),h=f.next();!h.done;h=f.next()){var p=h.value;if(p.getCount()>1)try{for(var m=(s=void 0,cE(this.possibleRightPairs)),g=m.next();!g.done;g=m.next()){var v=g.value;if(v.getCount()>1&&e.checkChecksum(p,v))return e.constructResult(p,v)}}catch(y){s={error:y}}finally{try{g&&!g.done&&(l=m.return)&&l.call(m)}finally{if(s)throw s.error}}}}catch(y){a={error:y}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(a)throw a.error}}throw new ne},e.addOrTally=function(r,n){var i,a;if(n!=null){var o=!1;try{for(var s=cE(r),l=s.next();!l.done;l=s.next()){var c=l.value;if(c.getValue()===n.getValue()){c.incrementCount(),o=!0;break}}}catch(u){i={error:u}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}o||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),a=new String(i).toString(),o=new Qe,s=13-a.length;s>0;s--)o.append("0");o.append(a);for(var l=0,s=0;s<13;s++){var c=o.charAt(s).charCodeAt(0)-48;l+=s&1?c:3*c}l=10-l%10,l===10&&(l=0),o.append(l.toString());var u=r.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new Zn(o.toString(),null,0,[u[0],u[1],f[0],f[1]],Le.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,a=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(r,n,i,a){try{var o=this.findFinderPattern(r,n),s=this.parseFoundFinderPattern(r,i,n,o),l=a==null?null:a.get(Xt.NEED_RESULT_POINT_CALLBACK);if(l!=null){var c=(o[0]+o[1])/2;n&&(c=r.getSize()-1-c),l.foundPossibleResultPoint(new Re(c,i))}var u=this.decodeDataCharacter(r,s,!0),f=this.decodeDataCharacter(r,s,!1);return new u4e(1597*u.getValue()+f.getValue(),u.getChecksumPortion()+4*f.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)Yr.recordPatternInReverse(r,n.getStartEnd()[0],a);else{Yr.recordPattern(r,n.getStartEnd()[1]+1,a);for(var s=0,l=a.length-1;s<l;s++,l--){var c=a[s];a[s]=a[l],a[l]=c}}for(var u=i?16:15,f=wt.sum(new Int32Array(a))/u,h=this.getOddCounts(),p=this.getEvenCounts(),m=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors(),s=0;s<a.length;s++){var v=a[s]/f,y=Math.floor(v+.5);y<1?y=1:y>8&&(y=8);var x=Math.floor(s/2);s&1?(p[x]=y,g[x]=v-y):(h[x]=y,m[x]=v-y)}this.adjustOddEvenCounts(i,u);for(var b=0,S=0,s=h.length-1;s>=0;s--)S*=9,S+=h[s],b+=h[s];for(var E=0,C=0,s=p.length-1;s>=0;s--)E*=9,E+=p[s],C+=p[s];var A=S+3*E;if(i){if(b&1||b>12||b<4)throw new ne;var T=(12-b)/2,I=e.OUTSIDE_ODD_WIDEST[T],N=9-I,O=Hd.getRSSvalue(h,I,!1),R=Hd.getRSSvalue(p,N,!0),k=e.OUTSIDE_EVEN_TOTAL_SUBSET[T],M=e.OUTSIDE_GSUM[T];return new Bx(O*k+R+M,A)}else{if(C&1||C>10||C<4)throw new ne;var T=(10-C)/2,I=e.INSIDE_ODD_WIDEST[T],N=9-I,O=Hd.getRSSvalue(h,I,!0),R=Hd.getRSSvalue(p,N,!1),U=e.INSIDE_ODD_TOTAL_SUBSET[T],M=e.INSIDE_GSUM[T];return new Bx(R*U+O+M,A)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=r.getSize(),o=!1,s=0;s<a&&(o=!r.get(s),n!==o);)s++;for(var l=0,c=s,u=s;u<a;u++)if(r.get(u)!==o)i[l]++;else{if(l===3){if(qc.isFinderPattern(i))return[c,u];c+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,l--}else l++;i[l]=1,o=!o}throw new ne},e.prototype.parseFoundFinderPattern=function(r,n,i,a){for(var o=r.get(a[0]),s=a[0]-1;s>=0&&o!==r.get(s);)s--;s++;var l=a[0]-s,c=this.getDecodeFinderCounters(),u=new Int32Array(c.length);Ft.arraycopy(c,0,u,1,c.length-1),u[0]=l;var f=this.parseFinderValue(u,e.FINDER_PATTERNS),h=s,p=a[1];return i&&(h=r.getSize()-1-h,p=r.getSize()-1-p),new pY(f,[s,a[1]],h,p,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=wt.sum(new Int32Array(this.getOddCounts())),a=wt.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1,l=!1,c=!1;r?(i>12?s=!0:i<4&&(o=!0),a>12?c=!0:a<4&&(l=!0)):(i>11?s=!0:i<5&&(o=!0),a>10?c=!0:a<4&&(l=!0));var u=i+a-n,f=(i&1)===(r?1:0),h=(a&1)===1;if(u===1)if(f){if(h)throw new ne;s=!0}else{if(!h)throw new ne;c=!0}else if(u===-1)if(f){if(h)throw new ne;o=!0}else{if(!h)throw new ne;l=!0}else if(u===0){if(f){if(!h)throw new ne;i<a?(o=!0,c=!0):(s=!0,l=!0)}else if(h)throw new ne}else throw new ne;if(o){if(s)throw new ne;qc.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&qc.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new ne;qc.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&qc.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(qc),f4e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lm=function(t){f4e(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(Xt.POSSIBLE_FORMATS):null,a=r&&r.get(Xt.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=r&&r.get(Xt.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(Le.EAN_13)||i.includes(Le.UPC_A)||i.includes(Le.EAN_8)||i.includes(Le.UPC_E))&&n.readers.push(new lE(r)),i.includes(Le.CODE_39)&&n.readers.push(new U8(a,o)),i.includes(Le.CODE_93)&&n.readers.push(new z8),i.includes(Le.CODE_128)&&n.readers.push(new V8),i.includes(Le.ITF)&&n.readers.push(new W8),i.includes(Le.CODABAR)&&n.readers.push(new Dje),i.includes(Le.RSS_14)&&n.readers.push(new Z8),i.includes(Le.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new l4e))),n.readers.length===0&&(n.readers.push(new lE(r)),n.readers.push(new U8),n.readers.push(new z8),n.readers.push(new lE(r)),n.readers.push(new V8),n.readers.push(new W8),n.readers.push(new Z8)),n}return e.prototype.decodeRow=function(r,n,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(r,n,i)}catch{}throw new ne},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(Yr),h4e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){h4e(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new lm(n),r,n)||this}return e})(Kh);var J8=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Et=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),_t=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),p4e=function(){function t(e,r,n,i,a,o){var s,l;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var c=0,u=o.getECCodewords(),f=o.getECBlocks();try{for(var h=J8(f),p=h.next();!p.done;p=h.next()){var m=p.value;c+=m.getCount()*(m.getDataCodewords()+u)}}catch(g){s={error:g}}finally{try{p&&!p.done&&(l=h.return)&&l.call(h)}finally{if(s)throw s.error}}this.totalCodewords=c}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if(e&1||r&1)throw new xe;try{for(var a=J8(t.VERSIONS),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===r)return s}}catch(l){n={error:l}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}throw new xe},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new Et(5,new _t(1,3))),new t(2,12,12,10,10,new Et(7,new _t(1,5))),new t(3,14,14,12,12,new Et(10,new _t(1,8))),new t(4,16,16,14,14,new Et(12,new _t(1,12))),new t(5,18,18,16,16,new Et(14,new _t(1,18))),new t(6,20,20,18,18,new Et(18,new _t(1,22))),new t(7,22,22,20,20,new Et(20,new _t(1,30))),new t(8,24,24,22,22,new Et(24,new _t(1,36))),new t(9,26,26,24,24,new Et(28,new _t(1,44))),new t(10,32,32,14,14,new Et(36,new _t(1,62))),new t(11,36,36,16,16,new Et(42,new _t(1,86))),new t(12,40,40,18,18,new Et(48,new _t(1,114))),new t(13,44,44,20,20,new Et(56,new _t(1,144))),new t(14,48,48,22,22,new Et(68,new _t(1,174))),new t(15,52,52,24,24,new Et(42,new _t(2,102))),new t(16,64,64,14,14,new Et(56,new _t(2,140))),new t(17,72,72,16,16,new Et(36,new _t(4,92))),new t(18,80,80,18,18,new Et(48,new _t(4,114))),new t(19,88,88,20,20,new Et(56,new _t(4,144))),new t(20,96,96,22,22,new Et(68,new _t(4,174))),new t(21,104,104,24,24,new Et(56,new _t(6,136))),new t(22,120,120,18,18,new Et(68,new _t(6,175))),new t(23,132,132,20,20,new Et(62,new _t(8,163))),new t(24,144,144,22,22,new Et(62,new _t(8,156),new _t(2,155))),new t(25,8,18,6,16,new Et(7,new _t(1,5))),new t(26,8,32,6,14,new Et(11,new _t(1,10))),new t(27,12,26,10,24,new Et(14,new _t(1,16))),new t(28,12,36,10,16,new Et(18,new _t(1,22))),new t(29,16,36,14,16,new Et(24,new _t(1,32))),new t(30,16,48,14,22,new Et(28,new _t(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),m4e=function(){function t(e){var r=e.getHeight();if(r<8||r>144||r&1)throw new xe;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new zo(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return p4e.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),s=!1,l=!1,c=!1,u=!1;do if(n===a&&i===0&&!s)e[r++]=this.readCorner1(a,o)&255,n-=2,i+=2,s=!0;else if(n===a-2&&i===0&&o&3&&!l)e[r++]=this.readCorner2(a,o)&255,n-=2,i+=2,l=!0;else if(n===a+4&&i===2&&!(o&7)&&!c)e[r++]=this.readCorner3(a,o)&255,n-=2,i+=2,c=!0;else if(n===a-2&&i===0&&(o&7)===4&&!u)e[r++]=this.readCorner4(a,o)&255,n-=2,i+=2,u=!0;else{do n<a&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n-=2,i+=2;while(n>=0&&i<o);n+=1,i+=3;do n>=0&&i<o&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n+=2,i-=2;while(n<a&&i>=0);n+=3,i+=1}while(n<a||i<o);if(r!==this.version.getTotalCodewords())throw new xe;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var a=0;return this.readModule(e-2,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-2,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r,n,i)&&(a|=1),a<<=1,this.readModule(e,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e,r,n,i)&&(a|=1),a},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new Fe("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=r/i|0,s=n/a|0,l=o*i,c=s*a,u=new zo(c,l),f=0;f<o;++f)for(var h=f*i,p=0;p<s;++p)for(var m=p*a,g=0;g<i;++g)for(var v=f*(i+2)+1+g,y=h+g,x=0;x<a;++x){var b=p*(a+2)+1+x;if(e.get(b,v)){var S=m+x;u.set(S,y)}}return u},t}(),e6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},g4e=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,a,o,s=r.getECBlocks(),l=0,c=s.getECBlocks();try{for(var u=e6(c),f=u.next();!f.done;f=u.next()){var h=f.value;l+=h.getCount()}}catch(M){n={error:M}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}var p=new Array(l),m=0;try{for(var g=e6(c),v=g.next();!v.done;v=g.next())for(var h=v.value,y=0;y<h.getCount();y++){var x=h.getDataCodewords(),b=s.getECCodewords()+x;p[m++]=new t(x,new Uint8Array(b))}}catch(M){a={error:M}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}for(var S=p[0].codewords.length,E=S-s.getECCodewords(),C=E-1,A=0,y=0;y<C;y++)for(var T=0;T<m;T++)p[T].codewords[y]=e[A++];for(var I=r.getVersionNumber()===24,N=I?8:m,T=0;T<N;T++)p[T].codewords[E-1]=e[A++];for(var O=p[0].codewords.length,y=E;y<O;y++)for(var T=0;T<m;T++){var R=I?(T+8)%m:T,k=I&&R>7?y-1:y;p[R].codewords[k]=e[A++]}if(A!==e.length)throw new Fe;return p},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),vY=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Fe(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,a=this.bytes;if(n>0){var o=8-n,s=e<o?e:o,l=o-s,c=255>>8-s<<l;r=(a[i]&c)>>l,e-=s,n+=s,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|a[i]&255,i++,e-=8;if(e>0){var l=8-e,c=255>>l<<l;r=r<<e|(a[i]&c)>>l,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),Lr;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(Lr||(Lr={}));var v4e=function(){function t(){}return t.decode=function(e){var r=new vY(e),n=new Qe,i=new Qe,a=new Array,o=Lr.ASCII_ENCODE;do if(o===Lr.ASCII_ENCODE)o=this.decodeAsciiSegment(r,n,i);else{switch(o){case Lr.C40_ENCODE:this.decodeC40Segment(r,n);break;case Lr.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case Lr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case Lr.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case Lr.BASE256_ENCODE:this.decodeBase256Segment(r,n,a);break;default:throw new xe}o=Lr.ASCII_ENCODE}while(o!==Lr.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new A2(e,n.toString(),a.length===0?null:a,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var a=e.readBits(8);if(a===0)throw new xe;if(a<=128)return i&&(a+=128),r.append(String.fromCharCode(a-1)),Lr.ASCII_ENCODE;if(a===129)return Lr.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&r.append("0"),r.append(""+o)}else switch(a){case 230:return Lr.C40_ENCODE;case 231:return Lr.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return Lr.ANSIX12_ENCODE;case 239:return Lr.TEXT_ENCODE;case 240:return Lr.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new xe;break}}while(e.available()>0);return Lr.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var l=i[s];switch(a){case 0:if(l<3)a=l+1;else if(l<this.C40_BASIC_SET_CHARS.length){var c=this.C40_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else throw new xe;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),a=0;break;case 2:if(l<this.C40_SHIFT2_SET_CHARS.length){var c=this.C40_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else switch(l){case 27:r.append("");break;case 30:n=!0;break;default:throw new xe}a=0;break;case 3:n?(r.append(String.fromCharCode(l+224)),n=!1):r.append(String.fromCharCode(l+96)),a=0;break;default:throw new xe}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var l=i[s];switch(a){case 0:if(l<3)a=l+1;else if(l<this.TEXT_BASIC_SET_CHARS.length){var c=this.TEXT_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else throw new xe;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),a=0;break;case 2:if(l<this.TEXT_SHIFT2_SET_CHARS.length){var c=this.TEXT_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else switch(l){case 27:r.append("");break;case 30:n=!0;break;default:throw new xe}a=0;break;case 3:if(l<this.TEXT_SHIFT3_SET_CHARS.length){var c=this.TEXT_SHIFT3_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c),a=0}else throw new xe;break;default:throw new xe}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var a=0;a<3;a++){var o=n[a];switch(o){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(o<14)r.append(String.fromCharCode(o+44));else if(o<40)r.append(String.fromCharCode(o+51));else throw new xe;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,a=Math.floor(i/1600);n[0]=a,i-=a*1600,a=Math.floor(i/40),n[1]=a,n[2]=i-a*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}i&32||(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new xe;for(var s=new Uint8Array(o),l=0;l<o;l++){if(e.available()<8)throw new xe;s[l]=this.unrandomize255State(e.readBits(8),i++)}n.push(s);try{r.append(ba.decode(s,ft.ISO88591))}catch(c){throw new u0("Platform does not support required encoding: "+c.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t}(),y4e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},x4e=function(){function t(){this.rsDecoder=new C2(_i.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new m4e(e),a=i.getVersion(),o=i.readCodewords(),s=g4e.getDataBlocks(o,a),l=0;try{for(var c=y4e(s),u=c.next();!u.done;u=c.next()){var f=u.value;l+=f.getNumDataCodewords()}}catch(b){r={error:b}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}for(var h=new Uint8Array(l),p=s.length,m=0;m<p;m++){var g=s[m],v=g.getCodewords(),y=g.getNumDataCodewords();this.correctErrors(v,y);for(var x=0;x<y;x++)h[x*p+m]=v[x]}return v4e.decode(h)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new dn}for(var i=0;i<r;i++)e[i]=n[i]},t}(),w4e=function(){function t(e){this.image=e,this.rectangleDetector=new fT(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new ne;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],a=r[2],o=r[3],s=this.transitionsBetween(n,o)+1,l=this.transitionsBetween(a,o)+1;(s&1)===1&&(s+=1),(l&1)===1&&(l+=1),4*s<7*l&&4*l<7*s&&(s=l=Math.max(s,l));var c=t.sampleGrid(this.image,n,i,a,o,s,l);return new b3(c,[n,i,a,o])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),a=(r.getY()-e.getY())/(n+1);return new Re(e.getX()+i,e.getY()+a)},t.moveAway=function(e,r,n){var i=e.getX(),a=e.getY();return i<r?i-=1:i+=1,a<n?a-=1:a+=1,new Re(i,a)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],a=e[2],o=this.transitionsBetween(r,n),s=this.transitionsBetween(n,i),l=this.transitionsBetween(i,a),c=this.transitionsBetween(a,r),u=o,f=[a,r,n,i];return u>s&&(u=s,f[0]=r,f[1]=n,f[2]=i,f[3]=a),u>l&&(u=l,f[0]=n,f[1]=i,f[2]=a,f[3]=r),u>c&&(f[0]=i,f[1]=a,f[2]=r,f[3]=n),f},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),s=t.shiftPoint(n,i,(o+1)*4),l=t.shiftPoint(i,n,(o+1)*4),c=this.transitionsBetween(s,r),u=this.transitionsBetween(l,a);return c<u?(e[0]=r,e[1]=n,e[2]=i,e[3]=a):(e[0]=n,e[1]=i,e[2]=a,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),s=this.transitionsBetween(n,a),l=t.shiftPoint(r,n,(s+1)*4),c=t.shiftPoint(i,n,(o+1)*4);o=this.transitionsBetween(l,a),s=this.transitionsBetween(c,a);var u=new Re(a.getX()+(i.getX()-n.getX())/(o+1),a.getY()+(i.getY()-n.getY())/(o+1)),f=new Re(a.getX()+(r.getX()-n.getX())/(s+1),a.getY()+(r.getY()-n.getY())/(s+1));if(!this.isValid(u))return this.isValid(f)?f:null;if(!this.isValid(f))return u;var h=this.transitionsBetween(l,u)+this.transitionsBetween(c,u),p=this.transitionsBetween(l,f)+this.transitionsBetween(c,f);return h>p?u:f},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a)+1,s=this.transitionsBetween(i,a)+1,l=t.shiftPoint(r,n,s*4),c=t.shiftPoint(i,n,o*4);o=this.transitionsBetween(l,a)+1,s=this.transitionsBetween(c,a)+1,(o&1)===1&&(o+=1),(s&1)===1&&(s+=1);var u=(r.getX()+n.getX()+i.getX()+a.getX())/4,f=(r.getY()+n.getY()+i.getY()+a.getY())/4;r=t.moveAway(r,u,f),n=t.moveAway(n,u,f),i=t.moveAway(i,u,f),a=t.moveAway(a,u,f);var h,p;return l=t.shiftPoint(r,n,s*4),l=t.shiftPoint(l,a,o*4),h=t.shiftPoint(n,r,s*4),h=t.shiftPoint(h,i,o*4),c=t.shiftPoint(i,a,s*4),c=t.shiftPoint(c,n,o*4),p=t.shiftPoint(a,i,s*4),p=t.shiftPoint(p,r,o*4),[l,h,c,p]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,a,o,s){var l=_3.getInstance();return l.sampleGrid(e,o,s,.5,.5,o-.5,.5,o-.5,s-.5,.5,s-.5,r.getX(),r.getY(),a.getX(),a.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(r.getX()),o=Math.trunc(r.getY()),s=Math.abs(o-i)>Math.abs(a-n);if(s){var l=n;n=i,i=l,l=a,a=o,o=l}for(var c=Math.abs(a-n),u=Math.abs(o-i),f=-c/2,h=i<o?1:-1,p=n<a?1:-1,m=0,g=this.image.get(s?i:n,s?n:i),v=n,y=i;v!==a;v+=p){var x=this.image.get(s?y:v,s?v:y);if(x!==g&&(m++,g=x),f+=u,f>0){if(y===o)break;y+=h,f-=c}}return m},t}(),mT=function(){function t(){this.decoder=new x4e}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(Xt.PURE_BARCODE)){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(a),i=t.NO_POINTS}else{var o=new w4e(e.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),i=o.getPoints()}var s=n.getRawBytes(),l=new Zn(n.getText(),s,8*s.length,i,Le.DATA_MATRIX,Ft.currentTimeMillis()),c=n.getByteSegments();c!=null&&l.putMetadata(_n.BYTE_SEGMENTS,c);var u=n.getECLevel();return u!=null&&l.putMetadata(_n.ERROR_CORRECTION_LEVEL,u),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new ne;var i=this.moduleSize(r,e),a=r[1],o=n[1],s=r[0],l=n[0],c=(l-s+1)/i,u=(o-a+1)/i;if(c<=0||u<=0)throw new ne;var f=i/2;a+=f,s+=f;for(var h=new zo(c,u),p=0;p<u;p++)for(var m=a+p*i,g=0;g<c;g++)e.get(s+g*i,m)&&h.set(g,p);return h},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],a=e[1];i<n&&r.get(i,a);)i++;if(i===n)throw new ne;var o=i-e[0];if(o===0)throw new ne;return o},t.NO_POINTS=[],t}(),b4e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){b4e(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new mT,r)||this}return e})(Kh);var Gd;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(Gd||(Gd={}));var _4e=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new $a(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new Fe;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(Gd.L,"L",1),t.M=new t(Gd.M,"M",0),t.Q=new t(Gd.Q,"Q",3),t.H=new t(Gd.H,"H",2),t}(),S4e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yY=function(){function t(e){this.errorCorrectionLevel=_4e.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return Je.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var s=S4e(t.FORMAT_INFO_DECODE_LOOKUP),l=s.next();!l.done;l=s.next()){var c=l.value,u=c[0];if(u===e||u===r)return new t(c[1]);var f=t.numBitsDiffering(e,u);f<a&&(o=c[1],a=f),e!==r&&(f=t.numBitsDiffering(r,u),f<a&&(o=c[1],a=f))}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a<=3?new t(o):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),E4e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Q=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var a=E4e(i),o=a.next();!o.done;o=a.next()){var s=o.value;n+=s.getCount()}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),V=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),A4e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mu=function(){function t(e,r){for(var n,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=a;var s=0,l=a[0].getECCodewordsPerBlock(),c=a[0].getECBlocks();try{for(var u=A4e(c),f=u.next();!f.done;f=u.next()){var h=f.value;s+=h.getCount()*(h.getDataCodewords()+l)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}this.totalCodewords=s}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new xe;try{return this.getVersionForNumber((e-17)/4)}catch{throw new xe}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new Fe;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var a=t.VERSION_DECODE_INFO[i];if(a===e)return t.getVersionForNumber(i+7);var o=yY.numBitsDiffering(e,a);o<r&&(n=i+7,r=o)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new zo(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<n;o++)i===0&&(o===0||o===n-1)||i===n-1&&o===0||r.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new Q(7,new V(1,19)),new Q(10,new V(1,16)),new Q(13,new V(1,13)),new Q(17,new V(1,9))),new t(2,Int32Array.from([6,18]),new Q(10,new V(1,34)),new Q(16,new V(1,28)),new Q(22,new V(1,22)),new Q(28,new V(1,16))),new t(3,Int32Array.from([6,22]),new Q(15,new V(1,55)),new Q(26,new V(1,44)),new Q(18,new V(2,17)),new Q(22,new V(2,13))),new t(4,Int32Array.from([6,26]),new Q(20,new V(1,80)),new Q(18,new V(2,32)),new Q(26,new V(2,24)),new Q(16,new V(4,9))),new t(5,Int32Array.from([6,30]),new Q(26,new V(1,108)),new Q(24,new V(2,43)),new Q(18,new V(2,15),new V(2,16)),new Q(22,new V(2,11),new V(2,12))),new t(6,Int32Array.from([6,34]),new Q(18,new V(2,68)),new Q(16,new V(4,27)),new Q(24,new V(4,19)),new Q(28,new V(4,15))),new t(7,Int32Array.from([6,22,38]),new Q(20,new V(2,78)),new Q(18,new V(4,31)),new Q(18,new V(2,14),new V(4,15)),new Q(26,new V(4,13),new V(1,14))),new t(8,Int32Array.from([6,24,42]),new Q(24,new V(2,97)),new Q(22,new V(2,38),new V(2,39)),new Q(22,new V(4,18),new V(2,19)),new Q(26,new V(4,14),new V(2,15))),new t(9,Int32Array.from([6,26,46]),new Q(30,new V(2,116)),new Q(22,new V(3,36),new V(2,37)),new Q(20,new V(4,16),new V(4,17)),new Q(24,new V(4,12),new V(4,13))),new t(10,Int32Array.from([6,28,50]),new Q(18,new V(2,68),new V(2,69)),new Q(26,new V(4,43),new V(1,44)),new Q(24,new V(6,19),new V(2,20)),new Q(28,new V(6,15),new V(2,16))),new t(11,Int32Array.from([6,30,54]),new Q(20,new V(4,81)),new Q(30,new V(1,50),new V(4,51)),new Q(28,new V(4,22),new V(4,23)),new Q(24,new V(3,12),new V(8,13))),new t(12,Int32Array.from([6,32,58]),new Q(24,new V(2,92),new V(2,93)),new Q(22,new V(6,36),new V(2,37)),new Q(26,new V(4,20),new V(6,21)),new Q(28,new V(7,14),new V(4,15))),new t(13,Int32Array.from([6,34,62]),new Q(26,new V(4,107)),new Q(22,new V(8,37),new V(1,38)),new Q(24,new V(8,20),new V(4,21)),new Q(22,new V(12,11),new V(4,12))),new t(14,Int32Array.from([6,26,46,66]),new Q(30,new V(3,115),new V(1,116)),new Q(24,new V(4,40),new V(5,41)),new Q(20,new V(11,16),new V(5,17)),new Q(24,new V(11,12),new V(5,13))),new t(15,Int32Array.from([6,26,48,70]),new Q(22,new V(5,87),new V(1,88)),new Q(24,new V(5,41),new V(5,42)),new Q(30,new V(5,24),new V(7,25)),new Q(24,new V(11,12),new V(7,13))),new t(16,Int32Array.from([6,26,50,74]),new Q(24,new V(5,98),new V(1,99)),new Q(28,new V(7,45),new V(3,46)),new Q(24,new V(15,19),new V(2,20)),new Q(30,new V(3,15),new V(13,16))),new t(17,Int32Array.from([6,30,54,78]),new Q(28,new V(1,107),new V(5,108)),new Q(28,new V(10,46),new V(1,47)),new Q(28,new V(1,22),new V(15,23)),new Q(28,new V(2,14),new V(17,15))),new t(18,Int32Array.from([6,30,56,82]),new Q(30,new V(5,120),new V(1,121)),new Q(26,new V(9,43),new V(4,44)),new Q(28,new V(17,22),new V(1,23)),new Q(28,new V(2,14),new V(19,15))),new t(19,Int32Array.from([6,30,58,86]),new Q(28,new V(3,113),new V(4,114)),new Q(26,new V(3,44),new V(11,45)),new Q(26,new V(17,21),new V(4,22)),new Q(26,new V(9,13),new V(16,14))),new t(20,Int32Array.from([6,34,62,90]),new Q(28,new V(3,107),new V(5,108)),new Q(26,new V(3,41),new V(13,42)),new Q(30,new V(15,24),new V(5,25)),new Q(28,new V(15,15),new V(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new Q(28,new V(4,116),new V(4,117)),new Q(26,new V(17,42)),new Q(28,new V(17,22),new V(6,23)),new Q(30,new V(19,16),new V(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new Q(28,new V(2,111),new V(7,112)),new Q(28,new V(17,46)),new Q(30,new V(7,24),new V(16,25)),new Q(24,new V(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new Q(30,new V(4,121),new V(5,122)),new Q(28,new V(4,47),new V(14,48)),new Q(30,new V(11,24),new V(14,25)),new Q(30,new V(16,15),new V(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new Q(30,new V(6,117),new V(4,118)),new Q(28,new V(6,45),new V(14,46)),new Q(30,new V(11,24),new V(16,25)),new Q(30,new V(30,16),new V(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new Q(26,new V(8,106),new V(4,107)),new Q(28,new V(8,47),new V(13,48)),new Q(30,new V(7,24),new V(22,25)),new Q(30,new V(22,15),new V(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new Q(28,new V(10,114),new V(2,115)),new Q(28,new V(19,46),new V(4,47)),new Q(28,new V(28,22),new V(6,23)),new Q(30,new V(33,16),new V(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new Q(30,new V(8,122),new V(4,123)),new Q(28,new V(22,45),new V(3,46)),new Q(30,new V(8,23),new V(26,24)),new Q(30,new V(12,15),new V(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new Q(30,new V(3,117),new V(10,118)),new Q(28,new V(3,45),new V(23,46)),new Q(30,new V(4,24),new V(31,25)),new Q(30,new V(11,15),new V(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new Q(30,new V(7,116),new V(7,117)),new Q(28,new V(21,45),new V(7,46)),new Q(30,new V(1,23),new V(37,24)),new Q(30,new V(19,15),new V(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new Q(30,new V(5,115),new V(10,116)),new Q(28,new V(19,47),new V(10,48)),new Q(30,new V(15,24),new V(25,25)),new Q(30,new V(23,15),new V(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new Q(30,new V(13,115),new V(3,116)),new Q(28,new V(2,46),new V(29,47)),new Q(30,new V(42,24),new V(1,25)),new Q(30,new V(23,15),new V(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new Q(30,new V(17,115)),new Q(28,new V(10,46),new V(23,47)),new Q(30,new V(10,24),new V(35,25)),new Q(30,new V(19,15),new V(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new Q(30,new V(17,115),new V(1,116)),new Q(28,new V(14,46),new V(21,47)),new Q(30,new V(29,24),new V(19,25)),new Q(30,new V(11,15),new V(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new Q(30,new V(13,115),new V(6,116)),new Q(28,new V(14,46),new V(23,47)),new Q(30,new V(44,24),new V(7,25)),new Q(30,new V(59,16),new V(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new Q(30,new V(12,121),new V(7,122)),new Q(28,new V(12,47),new V(26,48)),new Q(30,new V(39,24),new V(14,25)),new Q(30,new V(22,15),new V(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new Q(30,new V(6,121),new V(14,122)),new Q(28,new V(6,47),new V(34,48)),new Q(30,new V(46,24),new V(10,25)),new Q(30,new V(2,15),new V(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new Q(30,new V(17,122),new V(4,123)),new Q(28,new V(29,46),new V(14,47)),new Q(30,new V(49,24),new V(10,25)),new Q(30,new V(24,15),new V(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new Q(30,new V(4,122),new V(18,123)),new Q(28,new V(13,46),new V(32,47)),new Q(30,new V(48,24),new V(14,25)),new Q(30,new V(42,15),new V(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new Q(30,new V(20,117),new V(4,118)),new Q(28,new V(40,47),new V(7,48)),new Q(30,new V(43,24),new V(22,25)),new Q(30,new V(10,15),new V(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new Q(30,new V(19,118),new V(6,119)),new Q(28,new V(18,47),new V(31,48)),new Q(30,new V(34,24),new V(34,25)),new Q(30,new V(20,15),new V(61,16)))],t}(),rn;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(rn||(rn={}));var t6=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[rn.DATA_MASK_000,new t(rn.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[rn.DATA_MASK_001,new t(rn.DATA_MASK_001,function(e,r){return(e&1)===0})],[rn.DATA_MASK_010,new t(rn.DATA_MASK_010,function(e,r){return r%3===0})],[rn.DATA_MASK_011,new t(rn.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[rn.DATA_MASK_100,new t(rn.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[rn.DATA_MASK_101,new t(rn.DATA_MASK_101,function(e,r){return e*r%6===0})],[rn.DATA_MASK_110,new t(rn.DATA_MASK_110,function(e,r){return e*r%6<3})],[rn.DATA_MASK_111,new t(rn.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),C4e=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new xe;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,n=i-1;n>=o;n--)a=this.copyBit(8,n,a);for(var r=i-8;r<i;r++)a=this.copyBit(r,8,a);if(this.parsedFormatInfo=yY.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new xe},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return mu.getVersionForNumber(r);for(var n=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(o,a,n);var s=mu.decodeVersionInformation(n);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;n=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(o,a,n);if(s=mu.decodeVersionInformation(n),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new xe},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=t6.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var a=r.buildFunctionPattern(),o=!0,s=new Uint8Array(r.getTotalCodewords()),l=0,c=0,u=0,f=i-1;f>0;f-=2){f===6&&f--;for(var h=0;h<i;h++)for(var p=o?i-1-h:h,m=0;m<2;m++)a.get(f-m,p)||(u++,c<<=1,this.bitMatrix.get(f-m,p)&&(c|=1),u===8&&(s[l++]=c,u=0,c=0));o=!o}if(l!==r.getTotalCodewords())throw new xe;return s},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=t6.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,a=e.getHeight();i<a;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t}(),r6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},T4e=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,a,o,s;if(e.length!==r.getTotalCodewords())throw new Fe;var l=r.getECBlocksForLevel(n),c=0,u=l.getECBlocks();try{for(var f=r6(u),h=f.next();!h.done;h=f.next()){var p=h.value;c+=p.getCount()}}catch(k){i={error:k}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}var m=new Array(c),g=0;try{for(var v=r6(u),y=v.next();!y.done;y=v.next())for(var p=y.value,x=0;x<p.getCount();x++){var b=p.getDataCodewords(),S=l.getECCodewordsPerBlock()+b;m[g++]=new t(b,new Uint8Array(S))}}catch(k){o={error:k}}finally{try{y&&!y.done&&(s=v.return)&&s.call(v)}finally{if(o)throw o.error}}for(var E=m[0].codewords.length,C=m.length-1;C>=0;){var A=m[C].codewords.length;if(A===E)break;C--}C++;for(var T=E-l.getECCodewordsPerBlock(),I=0,x=0;x<T;x++)for(var N=0;N<g;N++)m[N].codewords[x]=e[I++];for(var N=C;N<g;N++)m[N].codewords[T]=e[I++];for(var O=m[0].codewords.length,x=T;x<O;x++)for(var N=0;N<g;N++){var R=N<C?x:x+1;m[N].codewords[R]=e[I++]}return m},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),ca;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(ca||(ca={}));var Ht=function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new Fe;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(ca.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(ca.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(ca.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(ca.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(ca.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(ca.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(ca.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(ca.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(ca.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(ca.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),I4e=function(){function t(){}return t.decode=function(e,r,n,i){var a=new vY(e),o=new Qe,s=new Array,l=-1,c=-1;try{var u=null,f=!1,h=void 0;do{if(a.available()<4)h=Ht.TERMINATOR;else{var p=a.readBits(4);h=Ht.forBits(p)}switch(h){case Ht.TERMINATOR:break;case Ht.FNC1_FIRST_POSITION:case Ht.FNC1_SECOND_POSITION:f=!0;break;case Ht.STRUCTURED_APPEND:if(a.available()<16)throw new xe;l=a.readBits(8),c=a.readBits(8);break;case Ht.ECI:var m=t.parseECIValue(a);if(u=zr.getCharacterSetECIByValue(m),u===null)throw new xe;break;case Ht.HANZI:var g=a.readBits(4),v=a.readBits(h.getCharacterCountBits(r));g===t.GB2312_SUBSET&&t.decodeHanziSegment(a,o,v);break;default:var y=a.readBits(h.getCharacterCountBits(r));switch(h){case Ht.NUMERIC:t.decodeNumericSegment(a,o,y);break;case Ht.ALPHANUMERIC:t.decodeAlphanumericSegment(a,o,y,f);break;case Ht.BYTE:t.decodeByteSegment(a,o,y,u,s,i);break;case Ht.KANJI:t.decodeKanjiSegment(a,o,y);break;default:throw new xe}break}}while(h!==Ht.TERMINATOR)}catch{throw new xe}return new A2(e,o.toString(),s.length===0?null:s,n===null?null:n.toString(),l,c)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new xe;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/96<<8&4294967295|o%96;s<959?s+=41377:s+=42657,i[a]=s>>8&255,i[a+1]=s&255,a+=2,n--}try{r.append(ba.decode(i,ft.GB2312))}catch(l){throw new xe(l)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new xe;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/192<<8&4294967295|o%192;s<7936?s+=33088:s+=49472,i[a]=s>>8,i[a+1]=s,a+=2,n--}try{r.append(ba.decode(i,ft.SHIFT_JIS))}catch(l){throw new xe(l)}},t.decodeByteSegment=function(e,r,n,i,a,o){if(8*n>e.available())throw new xe;for(var s=new Uint8Array(n),l=0;l<n;l++)s[l]=e.readBits(8);var c;i===null?c=ft.guessEncoding(s,o):c=i.getName();try{r.append(ba.decode(s,c))}catch(u){throw new xe(u)}a.push(s)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new xe;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var a=r.length();n>1;){if(e.available()<11)throw new xe;var o=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(o/45))),r.append(t.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(e.available()<6)throw new xe;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=a;s<r.length();s++)r.charAt(s)==="%"&&(s<r.length()-1&&r.charAt(s+1)==="%"?r.deleteCharAt(s+1):r.setCharAt(s,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new xe;var i=e.readBits(10);if(i>=1e3)throw new xe;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new xe;var a=e.readBits(7);if(a>=100)throw new xe;r.append(t.toAlphaNumericChar(Math.floor(a/10))),r.append(t.toAlphaNumericChar(a%10))}else if(n===1){if(e.available()<4)throw new xe;var o=e.readBits(4);if(o>=10)throw new xe;r.append(t.toAlphaNumericChar(o))}},t.parseECIValue=function(e){var r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new xe},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),xY=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),n6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},N4e=function(){function t(){this.rsDecoder=new C2(_i.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(zo.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new C4e(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(o){i=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,r);return a.setOther(new xY(!0)),a}catch(o){throw i!==null?i:o}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,a,o,s=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),c=e.readCodewords(),u=T4e.getDataBlocks(c,s,l),f=0;try{for(var h=n6(u),p=h.next();!p.done;p=h.next()){var m=p.value;f+=m.getNumDataCodewords()}}catch(C){n={error:C}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}var g=new Uint8Array(f),v=0;try{for(var y=n6(u),x=y.next();!x.done;x=y.next()){var m=x.value,b=m.getCodewords(),S=m.getNumDataCodewords();this.correctErrors(b,S);for(var E=0;E<S;E++)g[v++]=b[E]}}catch(C){a={error:C}}finally{try{x&&!x.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}return I4e.decode(g,s,l,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new dn}for(var i=0;i<r;i++)e[i]=n[i]},t}(),P4e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),O4e=function(t){P4e(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=(this.getX()+n)/2,o=(this.getY()+r)/2,s=(this.estimatedModuleSize+i)/2;return new e(a,o,s)},e}(Re),k4e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},R4e=function(){function t(e,r,n,i,a,o,s){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,a=this.startY+r/2,o=new Int32Array(3),s=this.image,l=0;l<r;l++){var c=a+(l&1?-Math.floor((l+1)/2):Math.floor((l+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var u=e;u<i&&!s.get(u,c);)u++;for(var f=0;u<i;){if(s.get(u,c))if(f===1)o[1]++;else if(f===2){if(this.foundPatternCross(o)){var h=this.handlePossibleCenter(o,c,u);if(h!==null)return h}o[0]=o[2],o[1]=1,o[2]=0,f=1}else o[++f]++;else f===1&&f++,o[f]++;u++}if(this.foundPatternCross(o)){var h=this.handlePossibleCenter(o,c,i);if(h!==null)return h}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ne},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var a=this.image,o=a.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var l=e;l>=0&&a.get(r,l)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&!a.get(r,l)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(r,l)&&s[1]<=n;)s[1]++,l++;if(l===o||s[1]>n)return NaN;for(;l<o&&!a.get(r,l)&&s[2]<=n;)s[2]++,l++;if(s[2]>n)return NaN;var c=s[0]+s[1]+s[2];return 5*Math.abs(c-i)>=2*i?NaN:this.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,a,o=e[0]+e[1]+e[2],s=t.centerFromEnd(e,n),l=this.crossCheckVertical(r,s,2*e[1],o);if(!isNaN(l)){var c=(e[0]+e[1]+e[2])/3;try{for(var u=k4e(this.possibleCenters),f=u.next();!f.done;f=u.next()){var h=f.value;if(h.aboutEquals(c,l,s))return h.combineEstimate(l,s,c)}}catch(m){i={error:m}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}var p=new O4e(s,l,c);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null},t}(),D4e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),j4e=function(t){D4e(e,t);function e(r,n,i,a){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=this.count+1,o=(this.count*this.getX()+n)/a,s=(this.count*this.getY()+r)/a,l=(this.count*this.estimatedModuleSize+i)/a;return new e(o,s,l,a)},e}(Re),M4e=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),Vp=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},L4e=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(Xt.TRY_HARDER)!==void 0,n=e!=null&&e.get(Xt.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),s=Math.floor(3*a/(4*t.MAX_MODULES));(s<t.MIN_SKIP||r)&&(s=t.MIN_SKIP);for(var l=!1,c=new Int32Array(5),u=s-1;u<a&&!l;u+=s){c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0;for(var f=0,h=0;h<o;h++)if(i.get(h,u))(f&1)===1&&f++,c[f]++;else if(f&1)c[f]++;else if(f===4)if(t.foundPatternCross(c)){var p=this.handlePossibleCenter(c,u,h,n);if(p===!0)if(s=2,this.hasSkipped===!0)l=this.haveMultiplyConfirmedCenters();else{var m=this.findRowSkip();m>c[2]&&(u+=m-c[2]-s,h=o-1)}else{c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,f=3;continue}f=0,c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0}else c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,f=3;else c[++f]++;if(t.foundPatternCross(c)){var p=this.handlePossibleCenter(c,u,o,n);p===!0&&(s=c[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}}var g=this.selectBestPatterns();return Re.orderBestPatterns(g),new M4e(g)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var a=r/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var a=this.getCrossCheckStateCount(),o=0,s=this.image;e>=o&&r>=o&&s.get(r-o,e-o);)a[2]++,o++;if(e<o||r<o)return!1;for(;e>=o&&r>=o&&!s.get(r-o,e-o)&&a[1]<=n;)a[1]++,o++;if(e<o||r<o||a[1]>n)return!1;for(;e>=o&&r>=o&&s.get(r-o,e-o)&&a[0]<=n;)a[0]++,o++;if(a[0]>n)return!1;var l=s.getHeight(),c=s.getWidth();for(o=1;e+o<l&&r+o<c&&s.get(r+o,e+o);)a[2]++,o++;if(e+o>=l||r+o>=c)return!1;for(;e+o<l&&r+o<c&&!s.get(r+o,e+o)&&a[3]<n;)a[3]++,o++;if(e+o>=l||r+o>=c||a[3]>=n)return!1;for(;e+o<l&&r+o<c&&s.get(r+o,e+o)&&a[4]<n;)a[4]++,o++;if(a[4]>=n)return!1;var u=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(u-i)<2*i&&t.foundPatternCross(a)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var a=this.image,o=a.getHeight(),s=this.getCrossCheckStateCount(),l=e;l>=0&&a.get(r,l);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!a.get(r,l)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&a.get(r,l)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(r,l);)s[2]++,l++;if(l===o)return NaN;for(;l<o&&!a.get(r,l)&&s[3]<n;)s[3]++,l++;if(l===o||s[3]>=n)return NaN;for(;l<o&&a.get(r,l)&&s[4]<n;)s[4]++,l++;if(s[4]>=n)return NaN;var c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-i)>=2*i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var a=this.image,o=a.getWidth(),s=this.getCrossCheckStateCount(),l=e;l>=0&&a.get(l,r);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!a.get(l,r)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&a.get(l,r)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(l,r);)s[2]++,l++;if(l===o)return NaN;for(;l<o&&!a.get(l,r)&&s[3]<n;)s[3]++,l++;if(l===o||s[3]>=n)return NaN;for(;l<o&&a.get(l,r)&&s[4]<n;)s[4]++,l++;if(s[4]>=n)return NaN;var c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-i)>=i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=t.centerFromEnd(e,n),s=this.crossCheckVertical(r,Math.floor(o),e[2],a);if(!isNaN(s)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(s),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(o),e[2],a)))){for(var l=a/7,c=!1,u=this.possibleCenters,f=0,h=u.length;f<h;f++){var p=u[f];if(p.aboutEquals(l,s,o)){u[f]=p.combineEstimate(s,o,l),c=!0;break}}if(!c){var m=new j4e(o,s,l);u.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var a=Vp(this.possibleCenters),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.getCount()>=t.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,a=0,o=0,s=this.possibleCenters.length;try{for(var l=Vp(this.possibleCenters),c=l.next();!c.done;c=l.next()){var u=c.value;u.getCount()>=t.CENTER_QUORUM&&(a++,o+=u.getEstimatedModuleSize())}}catch(g){e={error:g}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}if(a<3)return!1;var f=o/s,h=0;try{for(var p=Vp(this.possibleCenters),m=p.next();!m.done;m=p.next()){var u=m.value;h+=Math.abs(u.getEstimatedModuleSize()-f)}}catch(g){n={error:g}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}return h<=.05*o},t.prototype.selectBestPatterns=function(){var e,r,n,i,a=this.possibleCenters.length;if(a<3)throw new ne;var o=this.possibleCenters,s;if(a>3){var l=0,c=0;try{for(var u=Vp(this.possibleCenters),f=u.next();!f.done;f=u.next()){var h=f.value,p=h.getEstimatedModuleSize();l+=p,c+=p*p}}catch(E){e={error:E}}finally{try{f&&!f.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}s=l/a;var m=Math.sqrt(c/a-s*s);o.sort(function(E,C){var A=Math.abs(C.getEstimatedModuleSize()-s),T=Math.abs(E.getEstimatedModuleSize()-s);return A<T?-1:A>T?1:0});for(var g=Math.max(.2*s,m),v=0;v<o.length&&o.length>3;v++){var y=o[v];Math.abs(y.getEstimatedModuleSize()-s)>g&&(o.splice(v,1),v--)}}if(o.length>3){var l=0;try{for(var x=Vp(o),b=x.next();!b.done;b=x.next()){var S=b.value;l+=S.getEstimatedModuleSize()}}catch(C){n={error:C}}finally{try{b&&!b.done&&(i=x.return)&&i.call(x)}finally{if(n)throw n.error}}s=l/o.length,o.sort(function(C,A){if(A.getCount()===C.getCount()){var T=Math.abs(A.getEstimatedModuleSize()-s),I=Math.abs(C.getEstimatedModuleSize()-s);return T<I?1:T>I?-1:0}else return A.getCount()-C.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),$4e=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Xt.NEED_RESULT_POINT_CALLBACK);var r=new L4e(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(r,n,i);if(a<1)throw new ne("No pattern found in proccess finder.");var o=t.computeDimension(r,n,i,a),s=mu.getProvisionalVersionForDimension(o),l=s.getDimensionForVersion()-7,c=null;if(s.getAlignmentPatternCenters().length>0)for(var u=n.getX()-r.getX()+i.getX(),f=n.getY()-r.getY()+i.getY(),h=1-3/l,p=Math.floor(r.getX()+h*(u-r.getX())),m=Math.floor(r.getY()+h*(f-r.getY())),g=4;g<=16;g<<=1)try{c=this.findAlignmentInRegion(a,p,m,g);break}catch(b){if(!(b instanceof ne))throw b}var v=t.createTransform(r,n,i,c,o),y=t.sampleGrid(this.image,v,o),x;return c===null?x=[i,r,n]:x=[i,r,n,c],new b3(y,x)},t.createTransform=function(e,r,n,i,a){var o=a-3.5,s,l,c,u;return i!==null?(s=i.getX(),l=i.getY(),c=o-3,u=c):(s=r.getX()-e.getX()+n.getX(),l=r.getY()-e.getY()+n.getY(),c=o,u=o),hY.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,c,u,3.5,o,e.getX(),e.getY(),r.getX(),r.getY(),s,l,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=_3.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var a=wt.round(Re.distance(e,r)/i),o=wt.round(Re.distance(e,n)/i),s=Math.floor((a+o)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new ne("Dimensions could be not found.")}return s},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var a=this.sizeOfBlackWhiteBlackRun(e,r,n,i),o=1,s=e-(n-e);s<0?(o=e/(e-s),s=0):s>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var l=Math.floor(r-(i-r)*o);return o=1,l<0?(o=r/(r-l),l=0):l>=this.image.getHeight()&&(o=(this.image.getHeight()-1-r)/(l-r),l=this.image.getHeight()-1),s=Math.floor(e+(s-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,r,s,l),a-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var a=Math.abs(i-r)>Math.abs(n-e);if(a){var o=e;e=r,r=o,o=n,n=i,i=o}for(var s=Math.abs(n-e),l=Math.abs(i-r),c=-s/2,u=e<n?1:-1,f=r<i?1:-1,h=0,p=n+u,m=e,g=r;m!==p;m+=u){var v=a?g:m,y=a?m:g;if(h===1===this.image.get(v,y)){if(h===2)return wt.distance(m,g,e,r);h++}if(c+=l,c>0){if(g===i)break;g+=f,c-=s}}return h===2?wt.distance(n+u,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var a=Math.floor(i*e),o=Math.max(0,r-a),s=Math.min(this.image.getWidth()-1,r+a);if(s-o<e*3)throw new ne("Alignment top exceeds estimated module size.");var l=Math.max(0,n-a),c=Math.min(this.image.getHeight()-1,n+a);if(c-l<e*3)throw new ne("Alignment bottom exceeds estimated module size.");var u=new R4e(this.image,o,l,s-o,c-l,e,this.resultPointCallback);return u.find()},t}(),gT=function(){function t(){this.decoder=new N4e}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(Xt.PURE_BARCODE)!==void 0){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,r),i=t.NO_POINTS}else{var o=new $4e(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(o.getBits(),r),i=o.getPoints()}n.getOther()instanceof xY&&n.getOther().applyMirroredCorrection(i);var s=new Zn(n.getText(),n.getRawBytes(),void 0,i,Le.QR_CODE,void 0),l=n.getByteSegments();l!==null&&s.putMetadata(_n.BYTE_SEGMENTS,l);var c=n.getECLevel();return c!==null&&s.putMetadata(_n.ERROR_CORRECTION_LEVEL,c),n.hasStructuredAppend()&&(s.putMetadata(_n.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(_n.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new ne;var i=this.moduleSize(r,e),a=r[1],o=n[1],s=r[0],l=n[0];if(s>=l||a>=o)throw new ne;if(o-a!==l-s&&(l=s+(o-a),l>=e.getWidth()))throw new ne;var c=Math.round((l-s+1)/i),u=Math.round((o-a+1)/i);if(c<=0||u<=0)throw new ne;if(u!==c)throw new ne;var f=Math.floor(i/2);a+=f,s+=f;var h=s+Math.floor((c-1)*i)-l;if(h>0){if(h>f)throw new ne;s-=h}var p=a+Math.floor((u-1)*i)-o;if(p>0){if(p>f)throw new ne;a-=p}for(var m=new zo(c,u),g=0;g<u;g++)for(var v=a+Math.floor(g*i),y=0;y<c;y++)e.get(s+Math.floor(y*i),v)&&m.set(y,g);return m},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),a=e[0],o=e[1],s=!0,l=0;a<i&&o<n;){if(s!==r.get(a,o)){if(++l===5)break;s=!s}a++,o++}if(a===i||o===n)throw new ne;return(a-e[0])/7},t.NO_POINTS=new Array,t}(),F4e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mt=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return wt.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=F4e(e),s=o.next();!s.done;s=o.next()){var l=s.value;i[a++]=l}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=Gr.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),B4e=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),V4e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},U4e=function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),a=t.detect(n,i);return a.length||(i=i.clone(),i.rotate180(),a=t.detect(n,i)),new B4e(i,a)},t.detect=function(e,r){for(var n,i,a=new Array,o=0,s=0,l=!1;o<r.getHeight();){var c=t.findVertices(r,o,s);if(c[0]==null&&c[3]==null){if(!l)break;l=!1,s=0;try{for(var u=(n=void 0,V4e(a)),f=u.next();!f.done;f=u.next()){var h=f.value;h[1]!=null&&(o=Math.trunc(Math.max(o,h[1].getY()))),h[3]!=null&&(o=Math.max(o,Math.trunc(h[3].getY())))}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}o+=t.ROW_STEP;continue}if(l=!0,a.push(c),!e)break;c[2]!=null?(s=Math.trunc(c[2].getX()),o=Math.trunc(c[2].getY())):(s=Math.trunc(c[4].getX()),o=Math.trunc(c[4].getY()))}return a},t.findVertices=function(e,r,n){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),r=Math.trunc(o[4].getY())),t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),o},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,a,o){for(var s=new Array(4),l=!1,c=new Int32Array(o.length);i<r;i+=t.ROW_STEP){var u=t.findGuardPattern(e,a,i,n,!1,o,c);if(u!=null){for(;i>0;){var f=t.findGuardPattern(e,a,--i,n,!1,o,c);if(f!=null)u=f;else{i++;break}}s[0]=new Re(u[0],i),s[1]=new Re(u[1],i),l=!0;break}}var h=i+1;if(l){for(var p=0,f=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);h<r;h++){var u=t.findGuardPattern(e,f[0],h,n,!1,o,c);if(u!=null&&Math.abs(f[0]-u[0])<t.MAX_PATTERN_DRIFT&&Math.abs(f[1]-u[1])<t.MAX_PATTERN_DRIFT)f=u,p=0;else{if(p>t.SKIPPED_ROW_COUNT_MAX)break;p++}}h-=p+1,s[2]=new Re(f[0],h),s[3]=new Re(f[1],h)}return h-i<t.BARCODE_MIN_HEIGHT&&Gr.fill(s,null),s},t.findGuardPattern=function(e,r,n,i,a,o,s){Gr.fillWithin(s,0,s.length,0);for(var l=r,c=0;e.get(l,n)&&l>0&&c++<t.MAX_PIXEL_DRIFT;)l--;for(var u=l,f=0,h=o.length,p=a;u<i;u++){var m=e.get(u,n);if(m!==p)s[f]++;else{if(f===h-1){if(t.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([l,u]);l+=s[0]+s[1],Ft.arraycopy(s,2,s,0,f-1),s[f-1]=0,s[f]=0,f--}else f++;s[f]=1,p=!p}}return f===h-1&&t.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([l,u-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=r[s];if(a<o)return 1/0;var l=a/o;n*=l;for(var c=0,u=0;u<i;u++){var f=e[u],h=r[u]*l,p=f>h?f-h:h-f;if(p>n)return 1/0;c+=p}return c/a},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),z4e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ru=function(){function t(e,r){if(r.length===0)throw new Fe;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),Ft.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=z4e(this.coefficients),o=a.next();!o.done;o=a.next()){var s=o.value;i=this.field.add(i,s)}}catch(f){r={error:f}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}for(var l=this.coefficients[0],c=this.coefficients.length,u=1;u<c;u++)l=this.field.add(this.field.multiply(e,l),this.coefficients[u]);return l},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new Fe("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;Ft.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=this.field.add(r[s-o],n[s]);return new t(this.field,a)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Fe("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Fe("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=0;s<n;s++)for(var l=r[s],c=0;c<a;c++)o[s+c]=this.field.add(o[s+c],this.field.multiply(l,i[c]));return new t(this.field,o)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Fe;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),a=0;a<n;a++)i[a]=this.field.multiply(this.coefficients[a],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new Qe,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),W4e=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Fe;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new fY;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),H4e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),G4e=function(t){H4e(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var a=1,o=0;o<r;o++)i.expTable[o]=a,a=a*n%r;for(var o=0;o<r-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new ru(i,new Int32Array([0])),i.one=new ru(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Fe;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new ru(this,i)},e.PDF417_GF=new e(mt.NUMBER_OF_CODEWORDS,3),e}(W4e),q4e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},K4e=function(){function t(){this.field=G4e.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,a,o=new ru(this.field,e),s=new Int32Array(r),l=!1,c=r;c>0;c--){var u=o.evaluateAt(this.field.exp(c));s[r-c]=u,u!==0&&(l=!0)}if(!l)return 0;var f=this.field.getOne();if(n!=null)try{for(var h=q4e(n),p=h.next();!p.done;p=h.next()){var m=p.value,g=this.field.exp(e.length-1-m),v=new ru(this.field,new Int32Array([this.field.subtract(0,g),1]));f=f.multiply(v)}}catch(T){i={error:T}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}for(var y=new ru(this.field,s),x=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),y,r),b=x[0],S=x[1],E=this.findErrorLocations(b),C=this.findErrorMagnitudes(S,b,E),c=0;c<E.length;c++){var A=e.length-1-this.field.log(E[c]);if(A<0)throw dn.getChecksumInstance();e[A]=this.field.subtract(e[A],C[c])}return E.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=e,o=r,s=this.field.getZero(),l=this.field.getOne();o.getDegree()>=Math.round(n/2);){var c=a,u=s;if(a=o,s=l,a.isZero())throw dn.getChecksumInstance();o=c;for(var f=this.field.getZero(),h=a.getCoefficient(a.getDegree()),p=this.field.inverse(h);o.getDegree()>=a.getDegree()&&!o.isZero();){var m=o.getDegree()-a.getDegree(),g=this.field.multiply(o.getCoefficient(o.getDegree()),p);f=f.add(this.field.buildMonomial(m,g)),o=o.subtract(a.multiplyByMonomial(m,g))}l=f.multiply(s).subtract(u).negative()}var v=l.getCoefficient(0);if(v===0)throw dn.getChecksumInstance();var y=this.field.inverse(v),x=l.multiply(y),b=o.multiply(y);return[x,b]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,a=1;a<this.field.getSize()&&i<r;a++)e.evaluateAt(a)===0&&(n[i]=this.field.inverse(a),i++);if(i!==r)throw dn.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,r.getCoefficient(o));for(var s=new ru(this.field,a),l=n.length,c=new Int32Array(l),o=0;o<l;o++){var u=this.field.inverse(n[o]),f=this.field.subtract(0,e.evaluateAt(u)),h=this.field.inverse(s.evaluateAt(u));c[o]=this.field.multiply(f,h)}return c},t}(),vT=function(){function t(e,r,n,i,a){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,a)}return t.prototype.constructor_1=function(e,r,n,i,a){var o=r==null||n==null,s=i==null||a==null;if(o&&s)throw new ne;o?(r=new Re(0,i.getY()),n=new Re(0,a.getY())):s&&(i=new Re(e.getWidth()-1,r.getY()),a=new Re(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,s=this.bottomRight;if(e>0){var l=n?this.topLeft:this.topRight,c=Math.trunc(l.getY()-e);c<0&&(c=0);var u=new Re(l.getX(),c);n?i=u:o=u}if(r>0){var f=n?this.bottomLeft:this.bottomRight,h=Math.trunc(f.getY()+r);h>=this.image.getHeight()&&(h=this.image.getHeight()-1);var p=new Re(f.getX(),h);n?a=p:s=p}return new t(this.image,i,a,o,s)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),Y4e=function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),E3=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(o,s,l,c,u,f){if(o==="%%")return"%";if(r[++n]!==void 0){o=c?parseInt(c.substr(1)):void 0;var h=u?parseInt(u.substr(1)):void 0,p;switch(f){case"s":p=r[n];break;case"c":p=r[n][0];break;case"f":p=parseFloat(r[n]).toFixed(o);break;case"p":p=parseFloat(r[n]).toPrecision(o);break;case"e":p=parseFloat(r[n]).toExponential(o);break;case"x":p=parseInt(r[n]).toString(h||16);break;case"d":p=parseFloat(parseInt(r[n],h||10).toPrecision(o)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(h);for(var m=parseInt(l),g=l&&l[0]+""=="0"?"0":" ";p.length<m;)p=s!==void 0?p+g:g+p;return p}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),X4e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wY=function(){function t(e){this.boundingBox=new vT(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new E3,i=0;try{for(var a=X4e(this.codewords),o=a.next();!o.done;o=a.next()){var s=o.value;if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),Q4e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Z4e=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},cm=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,a=function(f,h){var p={getKey:function(){return f},getValue:function(){return h}};p.getValue()>n?(n=p.getValue(),i=[],i.push(p.getKey())):p.getValue()===n&&i.push(p.getKey())};try{for(var o=Q4e(this.values.entries()),s=o.next();!s.done;s=o.next()){var l=Z4e(s.value,2),c=l[0],u=l[1];a(c,u)}}catch(f){e={error:f}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return mt.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),J4e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i6=function(t){J4e(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=uE(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o!=null&&o.setRowNumberAsRowIndicatorColumn()}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),c=-1,u=1,f=0,h=s;h<l;h++)if(n[h]!=null){var p=n[h],m=p.getRowNumber()-c;if(m===0)f++;else if(m===1)u=Math.max(u,f),f=1,c=p.getRowNumber();else if(m<0||p.getRowNumber()>=r.getRowCount()||m>h)n[h]=null;else{var g=void 0;u>2?g=(u-2)*m:g=m;for(var v=g>=h,y=1;y<=g&&!v;y++)v=n[h-y]!=null;v?n[h]=null:(c=p.getRowNumber(),f=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=uE(this.getCodewords()),s=o.next();!s.done;s=o.next()){var l=s.value;if(l!=null){var c=l.getRowNumber();if(c>=a.length)continue;a[c]++}}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.getCodewords(),c=-1,u=o;u<s;u++)if(l[u]!=null){var f=l[u];f.setRowNumberAsRowIndicatorColumn();var h=f.getRowNumber()-c;h===0||(h===1?c=f.getRowNumber():f.getRowNumber()>=r.getRowCount()?l[u]=null:c=f.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),a=new cm,o=new cm,s=new cm,l=new cm;try{for(var c=uE(i),u=c.next();!u.done;u=c.next()){var f=u.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var h=f.getValue()%30,p=f.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:o.setValue(h*3+1);break;case 1:l.setValue(h/3),s.setValue(h%3);break;case 2:a.setValue(h+1);break}}}}catch(g){r={error:g}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}if(a.getValue().length===0||o.getValue().length===0||s.getValue().length===0||l.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+s.getValue()[0]<mt.MIN_ROWS_IN_BARCODE||o.getValue()[0]+s.getValue()[0]>mt.MAX_ROWS_IN_BARCODE)return null;var m=new Y4e(a.getValue()[0],o.getValue()[0],s.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(i,m),m},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var a=r[i];if(r[i]!=null){var o=a.getValue()%30,s=a.getRowNumber();if(s>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:o+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(wY),eMe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tMe=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=mt.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[n];a!=null&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=t.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=t.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=n[r],s=this.detectionResultColumns[e-1].getCodewords(),l=s;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());var c=new Array(14);c[2]=s[r],c[3]=l[r],r>0&&(c[0]=n[r-1],c[4]=s[r-1],c[5]=l[r-1]),r>1&&(c[8]=n[r-2],c[10]=s[r-2],c[11]=l[r-2]),r<n.length-1&&(c[1]=n[r+1],c[6]=s[r+1],c[7]=l[r+1]),r<n.length-2&&(c[9]=n[r+2],c[12]=s[r+2],c[13]=l[r+2]);try{for(var u=eMe(c),f=u.next();!f.done;f=u.next()){var h=f.value;if(t.adjustRowNumber(o,h))return}}catch(p){i={error:p}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new E3,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[n];if(a==null){r.format("    |   ");continue}r.format(" %3d|%3d",a.getRowNumber(),a.getValue())}r.format("%n")}return r.toString()},t}(),rMe=function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),nMe=function(){function t(){}return t.initialize=function(){for(var e=0;e<mt.SYMBOL_TABLE.length;e++)for(var r=mt.SYMBOL_TABLE[e],n=r&1,i=0;i<mt.BARS_IN_MODULE;i++){for(var a=0;(r&1)===n;)a+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(mt.BARS_IN_MODULE)),t.RATIOS_TABLE[e][mt.BARS_IN_MODULE-i-1]=Math.fround(a/mt.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=wt.sum(e),n=new Int32Array(mt.BARS_IN_MODULE),i=0,a=0,o=0;o<mt.MODULES_IN_CODEWORD;o++){var s=r/(2*mt.MODULES_IN_CODEWORD)+o*r/mt.MODULES_IN_CODEWORD;a+e[i]<=s&&(a+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return mt.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=wt.sum(e),n=new Array(mt.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var a=dT.MAX_VALUE,o=-1;this.bSymbolTableReady||t.initialize();for(var s=0;s<t.RATIOS_TABLE.length;s++){for(var l=0,c=t.RATIOS_TABLE[s],u=0;u<mt.BARS_IN_MODULE;u++){var f=Math.fround(c[u]-n[u]);if(l+=Math.fround(f*f),l>=a)break}l<a&&(a=l,o=mt.SYMBOL_TABLE[s])}return o},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(mt.SYMBOL_TABLE.length).map(function(e){return new Array(mt.BARS_IN_MODULE)}),t}(),iMe=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),a6=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),aMe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oMe=function(t){aMe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(ji),sMe=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new oMe;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new x3;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),lMe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cMe=function(t){lMe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(ji),uMe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dMe=function(t){uMe(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new Fe("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new cMe;i=Je.MAX_VALUE}this.buf=Gr.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new x3;this.ensureCapacity(this.count+i),Ft.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Gr.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(sMe),Pt;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Pt||(Pt={}));function bY(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var _y;function pl(t){if(typeof _y>"u"&&(_y=bY()),_y===null)throw new Error("BigInt is not supported!");return _y(t)}function fMe(){var t=[];t[0]=pl(1);var e=pl(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var hMe=function(){function t(){}return t.decode=function(e,r){var n=new Qe(""),i=zr.ISO8859_1;n.enableDecoding(i);for(var a=1,o=e[a++],s=new iMe;a<e[0];){switch(o){case t.TEXT_COMPACTION_MODE_LATCH:a=t.textCompaction(e,a,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:a=t.byteCompaction(o,e,i,a,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:a=t.numericCompaction(e,a,n);break;case t.ECI_CHARSET:zr.getCharacterSetECIByValue(e[a++]);break;case t.ECI_GENERAL_PURPOSE:a+=2;break;case t.ECI_USER_DEFINED:a++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=t.decodeMacroBlock(e,a,s);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new xe;default:a--,a=t.textCompaction(e,a,n);break}if(a<e.length)o=e[a++];else throw xe.getFormatInstance()}if(n.length()===0)throw xe.getFormatInstance();var l=new A2(null,n.toString(),null,r);return l.setOther(s),l},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw xe.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<t.NUMBER_OF_SEQUENCE_CODEWORDS;a++,r++)i[a]=e[r];n.setSegmentIndex(Je.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new Qe;r=t.textCompaction(e,r,o),n.setFileId(o.toString());var s=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new Qe;r=t.textCompaction(e,r+1,l),n.setFileName(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var c=new Qe;r=t.textCompaction(e,r+1,c),n.setSender(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var u=new Qe;r=t.textCompaction(e,r+1,u),n.setAddressee(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new Qe;r=t.numericCompaction(e,r+1,f),n.setSegmentCount(Je.parseInt(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var h=new Qe;r=t.numericCompaction(e,r+1,h),n.setTimestamp(a6.parseLong(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var p=new Qe;r=t.numericCompaction(e,r+1,p),n.setChecksum(Je.parseInt(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var m=new Qe;r=t.numericCompaction(e,r+1,m),n.setFileSize(a6.parseLong(m.toString()));break;default:throw xe.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw xe.getFormatInstance()}if(s!==-1){var g=r-s;n.isLastSegment()&&g--,n.setOptionalData(Gr.copyOfRange(e,s,s+g))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),a=new Int32Array((e[0]-r)*2),o=0,s=!1;r<e[0]&&!s;){var l=e[r++];if(l<t.TEXT_COMPACTION_MODE_LATCH)i[o]=l/30,i[o+1]=l%30,o+=2;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:i[o++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,s=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=e[r++],a[o]=l,o++;break}}return t.decodeTextCompaction(i,a,o,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var a=Pt.ALPHA,o=Pt.ALPHA,s=0;s<n;){var l=e[s],c="";switch(a){case Pt.ALPHA:if(l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case t.LL:a=Pt.LOWER;break;case t.ML:a=Pt.MIXED;break;case t.PS:o=a,a=Pt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Pt.ALPHA;break}break;case Pt.LOWER:if(l<26)c=String.fromCharCode(97+l);else switch(l){case 26:c=" ";break;case t.AS:o=a,a=Pt.ALPHA_SHIFT;break;case t.ML:a=Pt.MIXED;break;case t.PS:o=a,a=Pt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Pt.ALPHA;break}break;case Pt.MIXED:if(l<t.PL)c=t.MIXED_CHARS[l];else switch(l){case t.PL:a=Pt.PUNCT;break;case 26:c=" ";break;case t.LL:a=Pt.LOWER;break;case t.AL:a=Pt.ALPHA;break;case t.PS:o=a,a=Pt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Pt.ALPHA;break}break;case Pt.PUNCT:if(l<t.PAL)c=t.PUNCT_CHARS[l];else switch(l){case t.PAL:a=Pt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Pt.ALPHA;break}break;case Pt.ALPHA_SHIFT:if(a=o,l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:a=Pt.ALPHA;break}break;case Pt.PUNCT_SHIFT:if(a=o,l<t.PAL)c=t.PUNCT_CHARS[l];else switch(l){case t.PAL:a=Pt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Pt.ALPHA;break}break}c!==""&&i.append(c),s++}},t.byteCompaction=function(e,r,n,i,a){var o=new dMe,s=0,l=0,c=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var u=new Int32Array(6),f=r[i++];i<r[0]&&!c;)switch(u[s++]=f,l=900*l+f,f=r[i++],f){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,c=!0;break;default:if(s%5===0&&s>0){for(var h=0;h<6;++h)o.write(Number(pl(l)>>pl(8*(5-h))));l=0,s=0}break}i===r[0]&&f<t.TEXT_COMPACTION_MODE_LATCH&&(u[s++]=f);for(var p=0;p<s;p++)o.write(u[p]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!c;){var m=r[i++];if(m<t.TEXT_COMPACTION_MODE_LATCH)s++,l=900*l+m;else switch(m){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,c=!0;break}if(s%5===0&&s>0){for(var h=0;h<6;++h)o.write(Number(pl(l)>>pl(8*(5-h))));l=0,s=0}}break}return a.append(ba.decode(o.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,a=!1,o=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!a;){var s=e[r++];if(r===e[0]&&(a=!0),s<t.TEXT_COMPACTION_MODE_LATCH)o[i]=s,i++;else switch(s){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,a=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||s===t.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(n.append(t.decodeBase900toBase10(o,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=pl(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*pl(e[i]);var a=n.toString();if(a.charAt(0)!=="1")throw new xe;return a.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=bY()?fMe():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),Up=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pMe=function(){function t(){}return t.decode=function(e,r,n,i,a,o,s){for(var l=new vT(e,r,n,i,a),c=null,u=null,f,h=!0;;h=!1){if(r!=null&&(c=t.getRowIndicatorColumn(e,l,r,!0,o,s)),i!=null&&(u=t.getRowIndicatorColumn(e,l,i,!1,o,s)),f=t.merge(c,u),f==null)throw ne.getNotFoundInstance();var p=f.getBoundingBox();if(h&&p!=null&&(p.getMinY()<l.getMinY()||p.getMaxY()>l.getMaxY()))l=p;else break}f.setBoundingBox(l);var m=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,c),f.setDetectionResultColumn(m,u);for(var g=c!=null,v=1;v<=m;v++){var y=g?v:m-v;if(f.getDetectionResultColumn(y)===void 0){var x=void 0;y===0||y===m?x=new i6(l,y===0):x=new wY(l),f.setDetectionResultColumn(y,x);for(var b=-1,S=b,E=l.getMinY();E<=l.getMaxY();E++){if(b=t.getStartColumn(f,y,E,g),b<0||b>l.getMaxX()){if(S===-1)continue;b=S}var C=t.detectCodeword(e,l.getMinX(),l.getMaxX(),g,b,E,o,s);C!=null&&(x.setCodeword(E,C),S=b,o=Math.min(o,C.getWidth()),s=Math.max(s,C.getWidth()))}}}return t.createDecoderResult(f)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=vT.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new tMe(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=t.getMax(i),o=0;try{for(var s=Up(i),l=s.next();!l.done;l=s.next()){var c=l.value;if(o+=a-c,c>0)break}}catch(p){r={error:p}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}for(var u=e.getCodewords(),f=0;o>0&&u[f]==null;f++)o--;for(var h=0,f=i.length-1;f>=0&&(h+=a-i[f],!(i[f]>0));f--);for(var f=u.length-1;h>0&&u[f]==null;f--)h--;return e.getBoundingBox().addMissingRows(o,h,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var a=Up(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=Math.max(i,s)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,a,o){for(var s=new i6(r,i),l=0;l<2;l++)for(var c=l===0?1:-1,u=Math.trunc(Math.trunc(n.getX())),f=Math.trunc(Math.trunc(n.getY()));f<=r.getMaxY()&&f>=r.getMinY();f+=c){var h=t.detectCodeword(e,0,e.getWidth(),i,u,f,a,o);h!=null&&(s.setCodeword(f,h),i?u=h.getStartX():u=h.getEndX())}return s},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>mt.MAX_CODEWORDS_IN_BARCODE)throw ne.getNotFoundInstance();n.setValue(a)}else i[0]!==a&&n.setValue(a)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var l=0;l<e.getBarcodeColumnCount();l++){var c=r[s][l+1].getValue(),u=s*e.getBarcodeColumnCount()+l;c.length===0?n.push(u):c.length===1?i[u]=c[0]:(o.push(u),a.push(c))}for(var f=new Array(a.length),h=0;h<f.length;h++)f[h]=a[h];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,mt.toIntArray(n),mt.toIntArray(o),f)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,a){for(var o=new Int32Array(i.length),s=100;s-- >0;){for(var l=0;l<o.length;l++)r[i[l]]=a[l][o[l]];try{return t.decodeCodewords(r,e,n)}catch(u){var c=u instanceof dn;if(!c)throw u}if(o.length===0)throw dn.getChecksumInstance();for(var l=0;l<o.length;l++)if(o[l]<a[l].length-1){o[l]++;break}else if(o[l]=0,l===o.length-1)throw dn.getChecksumInstance()}throw dn.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<o.length;s++)for(var l=0;l<o[s].length;l++)o[s][l]=new cm;var c=0;try{for(var u=Up(e.getDetectionResultColumns()),f=u.next();!f.done;f=u.next()){var h=f.value;if(h!=null)try{for(var p=(i=void 0,Up(h.getCodewords())),m=p.next();!m.done;m=p.next()){var g=m.value;if(g!=null){var v=g.getRowNumber();if(v>=0){if(v>=o.length)continue;o[v][c].setValue(g.getValue())}}}}catch(y){i={error:y}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}c++}}catch(y){r={error:y}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return o},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var a,o,s=i?1:-1,l=null;if(t.isValidBarcodeColumn(e,r-s)&&(l=e.getDetectionResultColumn(r-s).getCodeword(n)),l!=null)return i?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(r).getCodewordNearby(n),l!=null)return i?l.getStartX():l.getEndX();if(t.isValidBarcodeColumn(e,r-s)&&(l=e.getDetectionResultColumn(r-s).getCodewordNearby(n)),l!=null)return i?l.getEndX():l.getStartX();for(var c=0;t.isValidBarcodeColumn(e,r-s);){r-=s;try{for(var u=(a=void 0,Up(e.getDetectionResultColumn(r).getCodewords())),f=u.next();!f.done;f=u.next()){var h=f.value;if(h!=null)return(i?h.getEndX():h.getStartX())+s*c*(h.getEndX()-h.getStartX())}}catch(p){a={error:p}}finally{try{f&&!f.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}c++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,a,o,s,l){a=t.adjustCodewordStartColumn(e,r,n,i,a,o);var c=t.getModuleBitCount(e,r,n,i,a,o);if(c==null)return null;var u,f=wt.sum(c);if(i)u=a+f;else{for(var h=0;h<c.length/2;h++){var p=c[h];c[h]=c[c.length-1-h],c[c.length-1-h]=p}u=a,a=u-f}if(!t.checkCodewordSkew(f,s,l))return null;var m=nMe.getDecodedValue(c),g=mt.getCodeword(m);return g===-1?null:new rMe(a,u,t.getCodewordBucketNumber(m),g)},t.getModuleBitCount=function(e,r,n,i,a,o){for(var s=a,l=new Int32Array(8),c=0,u=i?1:-1,f=i;(i?s<n:s>=r)&&c<l.length;)e.get(s,o)===f?(l[c]++,s+=u):(c++,f=!f);return c===l.length||s===(i?n:r)&&c===l.length-1?l:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,a,o){for(var s=a,l=i?-1:1,c=0;c<2;c++){for(;(i?s>=r:s<n)&&i===e.get(s,o);){if(Math.abs(a-s)>t.CODEWORD_SKEW_SIZE)return a;s+=l}l=-l,i=!i}return s},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw xe.getFormatInstance();var i=1<<r+1,a=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var o=hMe.decode(e,""+r);return o.setErrorsCorrected(a),o.setErasures(n.length),o},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw dn.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw xe.getFormatInstance();var n=e[0];if(n>e.length)throw xe.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw xe.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new E3,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var a=e[n][i];a.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new K4e,t}(),mMe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yT=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw ne.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof xe||n instanceof dn?ne.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,a,o=new Array,s=U4e.detectMultiple(e,r,n);try{for(var l=mMe(s.getPoints()),c=l.next();!c.done;c=l.next()){var u=c.value,f=pMe.decode(s.getBits(),u[4],u[5],u[6],u[7],t.getMinCodewordWidth(u),t.getMaxCodewordWidth(u)),h=new Zn(f.getText(),f.getRawBytes(),void 0,u,Le.PDF_417);h.putMetadata(_n.ERROR_CORRECTION_LEVEL,f.getECLevel());var p=f.getOther();p!=null&&h.putMetadata(_n.PDF417_EXTRA_METADATA,p),o.push(h)}}catch(m){i={error:m}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return o.map(function(m){return m})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?Je.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*mt.MODULES_IN_CODEWORD/mt.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*mt.MODULES_IN_CODEWORD/mt.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*mt.MODULES_IN_CODEWORD/mt.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*mt.MODULES_IN_CODEWORD/mt.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),gMe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),o6=function(t){gMe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(ji),s6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vMe=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(Xt.TRY_HARDER)!==void 0,n=e==null?null:e.get(Xt.POSSIBLE_FORMATS),i=new Array;if(n!=null){var a=n.some(function(o){return o===Le.UPC_A||o===Le.UPC_E||o===Le.EAN_13||o===Le.EAN_8||o===Le.CODABAR||o===Le.CODE_39||o===Le.CODE_93||o===Le.CODE_128||o===Le.ITF||o===Le.RSS_14||o===Le.RSS_EXPANDED});a&&!r&&i.push(new lm(e)),n.includes(Le.QR_CODE)&&i.push(new gT),n.includes(Le.DATA_MATRIX)&&i.push(new mT),n.includes(Le.AZTEC)&&i.push(new hT),n.includes(Le.PDF_417)&&i.push(new yT),a&&r&&i.push(new lm(e))}i.length===0&&(r||i.push(new lm(e)),i.push(new gT),i.push(new mT),i.push(new hT),i.push(new yT),r&&i.push(new lm(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=s6(this.readers),i=n.next();!i.done;i=n.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new o6("No readers where selected, nothing can be read.");try{for(var i=s6(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(s){if(s instanceof o6)continue}}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new ne("No MultiFormat Readers were able to detect the code.")},t}(),yMe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xMe=function(t){yMe(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,a=new vMe;return a.setHints(r),i=t.call(this,a,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e}(Kh),wMe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){wMe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new yT,r)||this}return e})(Kh);var bMe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){bMe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new gT,r)||this}return e})(Kh);var xT;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(xT||(xT={}));const Sy=xT;var _Y=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Vl(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,a=r.length;a<=e;a++){var o=n.multiply(new Vl(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));r.push(o),n=o}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new Fe("No error correction bytes");var n=e.length-r;if(n<=0)throw new Fe("No data bytes provided");var i=this.buildGenerator(r),a=new Int32Array(n);Ft.arraycopy(e,0,a,0,n);var o=new Vl(this.field,a);o=o.multiplyByMonomial(r,1);for(var s=o.divide(i)[1],l=s.getCoefficients(),c=r-l.length,u=0;u<c;u++)e[n+u]=0;Ft.arraycopy(l,0,e,n+c,l.length)},t}(),um=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var s=n[o],l=0;l<i-1;l++){var c=s[l];c===s[l+1]&&c===n[o+1][l]&&c===n[o+1][l+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=0;s<i;s++){var l=n[o];s+6<i&&l[s]===1&&l[s+1]===0&&l[s+2]===1&&l[s+3]===1&&l[s+4]===1&&l[s+5]===0&&l[s+6]===1&&(t.isWhiteHorizontal(l,s-4,s)||t.isWhiteHorizontal(l,s+7,s+11))&&r++,o+6<a&&n[o][s]===1&&n[o+1][s]===0&&n[o+2][s]===1&&n[o+3][s]===1&&n[o+4][s]===1&&n[o+5][s]===0&&n[o+6][s]===1&&(t.isWhiteVertical(n,s,o-4,o)||t.isWhiteVertical(n,s,o+7,o+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var a=n;a<i;a++)if(e[a][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=n[o],l=0;l<i;l++)s[l]===1&&r++;var c=e.getHeight()*e.getWidth(),u=Math.floor(Math.abs(r*2-c)*10/c);return u*t.N4},t.getDataMaskBit=function(e,r,n){var i,a;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:a=n*r,i=(a&1)+a%3;break;case 6:a=n*r,i=(a&1)+a%3&1;break;case 7:a=n*r,i=a%3+(n+r&1)&1;break;default:throw new Fe("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),a=r?e.getWidth():e.getHeight(),o=e.getArray(),s=0;s<i;s++){for(var l=0,c=-1,u=0;u<a;u++){var f=r?o[s][u]:o[u][s];f===c?l++:(l>=5&&(n+=t.N1+(l-5)),l=1,c=f)}l>=5&&(n+=t.N1+(l-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),_Me=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},SMe=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=_Me(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;Gr.fill(o,e)}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var a=this.bytes[n],o=r.bytes[n],s=0,l=this.width;s<l;++s)if(a[s]!==o[s])return!1;return!0},t.prototype.toString=function(){for(var e=new Qe,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),wT=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new Qe;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),EMe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),zt=function(t){EMe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(ji),l6=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,a){t.clearMatrix(a),t.embedBasicPatterns(n,a),t.embedTypeInfo(r,i,a),t.maybeEmbedVersionInfo(n,a),t.embedDataBits(e,i,a)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new fn;t.makeTypeInfoBits(e,r,i);for(var a=0,o=i.getSize();a<o;++a){var s=i.get(i.getSize()-1-a),l=t.TYPE_INFO_COORDINATES[a],c=l[0],u=l[1];if(n.setBoolean(c,u,s),a<8){var f=n.getWidth()-a-1,h=8;n.setBoolean(f,h,s)}else{var f=8,h=n.getHeight()-7+(a-8);n.setBoolean(f,h,s)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new fn;t.makeVersionInfoBits(e,n);for(var i=6*3-1,a=0;a<6;++a)for(var o=0;o<3;++o){var s=n.get(i);i--,r.setBoolean(a,r.getHeight()-11+o,s),r.setBoolean(r.getHeight()-11+o,a,s)}}},t.embedDataBits=function(e,r,n){for(var i=0,a=-1,o=n.getWidth()-1,s=n.getHeight()-1;o>0;){for(o===6&&(o-=1);s>=0&&s<n.getHeight();){for(var l=0;l<2;++l){var c=o-l;if(t.isEmpty(n.get(c,s))){var u=void 0;i<e.getSize()?(u=e.get(i),++i):u=!1,r!==255&&um.getDataMaskBit(r,c,s)&&(u=!u),n.setBoolean(c,s,u)}}s+=a}a=-a,s+=a,o-=2}if(i!==e.getSize())throw new zt("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-Je.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new Fe("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!wT.isValidMaskPattern(r))throw new zt("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var a=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(a,10);var o=new fn;if(o.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new zt("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new zt("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new zt;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new zt;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new zt;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var a=t.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var a=t.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],a=0,o=i.length;a!==o;a++){var s=i[a];if(s>=0)for(var l=0;l!==o;l++){var c=i[l];c>=0&&t.isEmpty(r.get(c,s))&&t.embedPositionAdjustmentPattern(c-2,s-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),AMe=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),c6=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return um.applyMaskPenaltyRule1(e)+um.applyMaskPenaltyRule2(e)+um.applyMaskPenaltyRule3(e)+um.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,a=n!==null&&n.get(Sy.CHARACTER_SET)!==void 0;a&&(i=n.get(Sy.CHARACTER_SET).toString());var o=this.chooseMode(e,i),s=new fn;if(o===Ht.BYTE&&(a||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var l=zr.getCharacterSetECIByName(i);l!==void 0&&this.appendECI(l,s)}this.appendModeInfo(o,s);var c=new fn;this.appendBytes(e,o,c,i);var u;if(n!==null&&n.get(Sy.QR_VERSION)!==void 0){var f=Number.parseInt(n.get(Sy.QR_VERSION).toString(),10);u=mu.getVersionForNumber(f);var h=this.calculateBitsNeeded(o,s,c,u);if(!this.willFit(h,u,r))throw new zt("Data too big for requested version")}else u=this.recommendVersion(r,o,s,c);var p=new fn;p.appendBitArray(s);var m=o===Ht.BYTE?c.getSizeInBytes():e.length;this.appendLengthInfo(m,u,o,p),p.appendBitArray(c);var g=u.getECBlocksForLevel(r),v=u.getTotalCodewords()-g.getTotalECCodewords();this.terminateBits(v,p);var y=this.interleaveWithECBytes(p,u.getTotalCodewords(),v,g.getNumBlocks()),x=new wT;x.setECLevel(r),x.setMode(o),x.setVersion(u);var b=u.getDimensionForVersion(),S=new SMe(b,b),E=this.chooseMaskPattern(y,r,u,S);return x.setMaskPattern(E),l6.buildMatrix(y,r,u,E,S),x.setMatrix(S),x},t.recommendVersion=function(e,r,n,i){var a=this.calculateBitsNeeded(r,n,i,mu.getVersionForNumber(1)),o=this.chooseVersion(a,e),s=this.calculateBitsNeeded(r,n,i,o);return this.chooseVersion(s,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),zr.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Ht.KANJI;for(var n=!1,i=!1,a=0,o=e.length;a<o;++a){var s=e.charAt(a);if(t.isDigit(s))n=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)i=!0;else return Ht.BYTE}return i?Ht.ALPHANUMERIC:n?Ht.NUMERIC:Ht.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=ba.encode(e,zr.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var a=r[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,s=0;s<wT.NUM_MASK_PATTERNS;s++){l6.buildMatrix(e,r,n,s,i);var l=this.calculateMaskPenalty(i);l<a&&(a=l,o=s)}return o},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=mu.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new zt("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),a=r.getECBlocksForLevel(n),o=a.getTotalECCodewords(),s=i-o,l=(e+7)/8;return s>=l},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new zt("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var a=r.getSize()&7;if(a>0)for(var i=a;i<8;i++)r.appendBit(!1);for(var o=e-r.getSizeInBytes(),i=0;i<o;++i)r.appendBits(i&1?17:236,8);if(r.getSize()!==n)throw new zt("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,a,o){if(i>=n)throw new zt("Block ID too large");var s=e%n,l=n-s,c=Math.floor(e/n),u=c+1,f=Math.floor(r/n),h=f+1,p=c-f,m=u-h;if(p!==m)throw new zt("EC bytes mismatch");if(n!==l+s)throw new zt("RS blocks mismatch");if(e!==(f+p)*l+(h+m)*s)throw new zt("Total bytes mismatch");i<l?(a[0]=f,o[0]=p):(a[0]=h,o[0]=m)},t.interleaveWithECBytes=function(e,r,n,i){var a,o,s,l;if(e.getSizeInBytes()!==n)throw new zt("Number of bits and data bytes does not match");for(var c=0,u=0,f=0,h=new Array,p=0;p<i;++p){var m=new Int32Array(1),g=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,p,m,g);var v=m[0],y=new Uint8Array(v);e.toBytes(8*c,y,0,v);var x=t.generateECBytes(y,g[0]);h.push(new AMe(y,x)),u=Math.max(u,v),f=Math.max(f,x.length),c+=m[0]}if(n!==c)throw new zt("Data bytes does not match offset");for(var b=new fn,p=0;p<u;++p)try{for(var S=(a=void 0,c6(h)),E=S.next();!E.done;E=S.next()){var C=E.value,y=C.getDataBytes();p<y.length&&b.appendBits(y[p],8)}}catch(N){a={error:N}}finally{try{E&&!E.done&&(o=S.return)&&o.call(S)}finally{if(a)throw a.error}}for(var p=0;p<f;++p)try{for(var A=(s=void 0,c6(h)),T=A.next();!T.done;T=A.next()){var C=T.value,x=C.getErrorCorrectionBytes();p<x.length&&b.appendBits(x[p],8)}}catch(N){s={error:N}}finally{try{T&&!T.done&&(l=A.return)&&l.call(A)}finally{if(s)throw s.error}}if(r!==b.getSizeInBytes())throw new zt("Interleaving error: "+r+" and "+b.getSizeInBytes()+" differ.");return b},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),a=0;a<n;a++)i[a]=e[a]&255;new _Y(_i.QR_CODE_FIELD_256).encode(i,r);for(var o=new Uint8Array(r),a=0;a<r;a++)o[a]=i[n+a];return o},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var a=n.getCharacterCountBits(r);if(e>=1<<a)throw new zt(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},t.appendBytes=function(e,r,n,i){switch(r){case Ht.NUMERIC:t.appendNumericBytes(e,n);break;case Ht.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case Ht.BYTE:t.append8BitBytes(e,n,i);break;case Ht.KANJI:t.appendKanjiBytes(e,n);break;default:throw new zt("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getDigit(e.charAt(i));if(i+2<n){var o=t.getDigit(e.charAt(i+1)),s=t.getDigit(e.charAt(i+2));r.appendBits(a*100+o*10+s,10),i+=3}else if(i+1<n){var o=t.getDigit(e.charAt(i+1));r.appendBits(a*10+o,7),i+=2}else r.appendBits(a,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new zt;if(i+1<n){var o=t.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new zt;r.appendBits(a*45+o,11),i+=2}else r.appendBits(a,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=ba.encode(e,n)}catch(l){throw new zt(l)}for(var a=0,o=i.length;a!==o;a++){var s=i[a];r.appendBits(s,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=ba.encode(e,zr.SJIS)}catch(f){throw new zt(f)}for(var i=n.length,a=0;a<i;a+=2){var o=n[a]&255,s=n[a+1]&255,l=o<<8&4294967295|s,c=-1;if(l>=33088&&l<=40956?c=l-33088:l>=57408&&l<=60351&&(c=l-49472),c===-1)throw new zt("Invalid byte sequence");var u=(c>>8)*192+(c&255);r.appendBits(u,13)}},t.appendECI=function(e,r){r.appendBits(Ht.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=zr.UTF8.getName(),t})();var CMe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){CMe(e,t);function e(r,n,i,a,o,s,l,c){var u=t.call(this,s,l)||this;if(u.yuvData=r,u.dataWidth=n,u.dataHeight=i,u.left=a,u.top=o,a+s>n||o+l>i)throw new Fe("Crop rectangle does not fit within image data.");return c&&u.reverseHorizontal(s,l),u}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Fe("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return Ft.arraycopy(this.yuvData,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Ft.arraycopy(this.yuvData,o,a,0,i),a;for(var s=0;s<n;s++){var l=s*r;Ft.arraycopy(this.yuvData,o,a,l,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,a,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),a=this.yuvData,o=this.top*this.dataWidth+this.left,s=0;s<n;s++){for(var l=s*r,c=0;c<r;c++){var u=a[o+c*e.THUMBNAIL_SCALE_FACTOR]&255;i[l+c]=4278190080|u*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<n;a++,o+=this.dataWidth)for(var s=o+r/2,l=o,c=o+r-1;l<s;l++,c--){var u=i[l];i[l]=i[c],i[c]=u}},e.prototype.invert=function(){return new w3(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(E2);var TMe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){TMe(e,t);function e(r,n,i,a,o,s,l){var c=t.call(this,n,i)||this;if(c.dataWidth=a,c.dataHeight=o,c.left=s,c.top=l,r.BYTES_PER_ELEMENT===4){for(var u=n*i,f=new Uint8ClampedArray(u),h=0;h<u;h++){var p=r[h],m=p>>16&255,g=p>>7&510,v=p&255;f[h]=(m+g+v)/4&255}c.luminances=f}else c.luminances=r;if(a===void 0&&(c.dataWidth=n),o===void 0&&(c.dataHeight=i),s===void 0&&(c.left=0),l===void 0&&(c.top=0),c.left+n>c.dataWidth||c.top+i>c.dataHeight)throw new Fe("Crop rectangle does not fit within image data.");return c}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Fe("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return Ft.arraycopy(this.luminances,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Ft.arraycopy(this.luminances,o,a,0,i),a;for(var s=0;s<n;s++){var l=s*r;Ft.arraycopy(this.luminances,o,a,l,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new w3(this)},e})(E2);var IMe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),NMe=function(t){IMe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(zr),PMe=function(){function t(){}return t.ISO_8859_1=zr.ISO8859_1,t}(),bT,OMe=301,kMe=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=OMe);return{LOG:t,ALOG:e}};bT=kMe([],[]),bT.LOG;bT.ALOG;var u6;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(u6||(u6={}));var d6=129,SY=230,RMe=231,DMe=235,jMe=236,MMe=237,LMe=238,$Me=239,FMe=240,dE=254,BMe=254,f6="[)>05",h6="[)>06",p6="",Ct=0,yn=1,ni=2,$r=3,nn=4,jn=5,VMe=function(){function t(){}return t.prototype.getEncodingMode=function(){return Ct},t.prototype.encode=function(e){var r=Ga.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=Ga.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case jn:e.writeCodeword(RMe),e.signalEncoderChange(jn);return;case yn:e.writeCodeword(SY),e.signalEncoderChange(yn);return;case $r:e.writeCodeword(LMe),e.signalEncoderChange($r);break;case ni:e.writeCodeword($Me),e.signalEncoderChange(ni);break;case nn:e.writeCodeword(FMe),e.signalEncoderChange(nn);break;default:throw new Error("Illegal mode: "+i)}else Ga.isExtendedASCII(n)?(e.writeCodeword(DMe),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(Ga.isDigit(e)&&Ga.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t}(),UMe=function(){function t(){}return t.prototype.getEncodingMode=function(){return jn},t.prototype.encode=function(e){var r=new Qe;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var i=Ga.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(Ct);break}}var a=r.length()-1,o=1,s=e.getCodewordCount()+a+o;e.updateSymbolInfo(s);var l=e.getSymbolInfo().getDataCapacity()-s>0;if(e.hasMoreCharacters()||l)if(a<=249)r.setCharAt(0,ft.getCharAt(a));else if(a<=1555)r.setCharAt(0,ft.getCharAt(Math.floor(a/250)+249)),r.insert(1,ft.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var c=0,n=r.length();c<n;c++)e.writeCodeword(this.randomize255State(r.charAt(c).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,i=e+n;return i<=255?i:i-256},t}(),A3=function(){function t(){}return t.prototype.getEncodingMode=function(){return yn},t.prototype.encodeMaximal=function(e){for(var r=new Qe,n=0,i=e.pos,a=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,n=this.encodeChar(o,r),r.length()%3===0&&(i=e.pos,a=r.length())}if(a!==r.length()){var s=Math.floor(r.length()/3*2),l=Math.floor(e.getCodewordCount()+s+1);e.updateSymbolInfo(l);var c=e.getSymbolInfo().getDataCapacity()-l,u=Math.floor(r.length()%3);(u===2&&c!==2||u===1&&(n>3||c!==1))&&(e.pos=i)}r.length()>0&&e.writeCodeword(SY),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new Qe;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,r),a=Math.floor(r.length()/3)*2,o=e.getCodewordCount()+a;e.updateSymbolInfo(o);var s=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var l=new Qe;for(r.length()%3===2&&s!==2&&(i=this.backtrackOneCharacter(e,r,l,i));r.length()%3===1&&(i>3||s!==1);)i=this.backtrackOneCharacter(e,r,l,i);break}var c=r.length();if(c%3===0){var u=Ga.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(u!==this.getEncodingMode()){e.signalEncoderChange(Ct);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,i){var a=r.length(),o=r.toString().substring(0,a-i);r.setLengthToZero(),r.append(o),e.pos--;var s=e.getCurrentChar();return i=this.encodeChar(s,n),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),i=r.length()%3,a=e.getCodewordCount()+n;e.updateSymbolInfo(a);var o=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(dE)}else if(o===1&&i===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(dE),e.pos--}else if(i===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(o>0||e.hasMoreCharacters())&&e.writeCodeword(dE)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(Ct)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,i=r%256,a=new Qe;return a.append(n),a.append(i),a.toString()},t}(),zMe=function(){function t(){}return t.prototype.getEncodingMode=function(){return nn},t.prototype.encode=function(e){for(var r=new Qe;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var i=r.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var a=r.toString().substring(4);r.setLengthToZero(),r.append(a);var o=Ga.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(Ct);break}}}r.append(ft.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var o=n-1,s=this.encodeToCodewords(r.toString()),l=!e.hasMoreCharacters(),c=l&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(c=!1,e.updateSymbolInfo(e.getCodewordCount()+s.length))}c?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(s)}finally{e.signalEncoderChange(Ct)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(ft.getCharAt(e-64)):Ga.illegalCharacter(ft.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=r>=2?e.charAt(1).charCodeAt(0):0,a=r>=3?e.charAt(2).charCodeAt(0):0,o=r>=4?e.charAt(3).charCodeAt(0):0,s=(n<<18)+(i<<12)+(a<<6)+o,l=s>>16&255,c=s>>8&255,u=s&255,f=new Qe;return f.append(l),r>=2&&f.append(c),r>=3&&f.append(u),f.toString()},t}(),WMe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),HMe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},St=function(){function t(e,r,n,i,a,o,s,l){s===void 0&&(s=0),l===void 0&&(l=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=o,this.rsBlockData=s,this.rsBlockError=l}return t.lookup=function(e,r,n,i,a){var o,s;r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var l=HMe(qMe),c=l.next();!c.done;c=l.next()){var u=c.value;if(!(r===1&&u.rectangular)&&!(r===2&&!u.rectangular)&&!(n!=null&&(u.getSymbolWidth()<n.getWidth()||u.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(u.getSymbolWidth()>i.getWidth()||u.getSymbolHeight()>i.getHeight()))&&e<=u.dataCapacity)return u}}catch(f){o={error:f}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),GMe=function(t){WMe(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e}(St),qMe=[new St(!1,3,5,8,8,1),new St(!1,5,7,10,10,1),new St(!0,5,7,16,6,1),new St(!1,8,10,12,12,1),new St(!0,10,11,14,6,2),new St(!1,12,12,14,14,1),new St(!0,16,14,24,10,1),new St(!1,18,14,16,16,1),new St(!1,22,18,18,18,1),new St(!0,22,18,16,10,2),new St(!1,30,20,20,20,1),new St(!0,32,24,16,14,2),new St(!1,36,24,22,22,1),new St(!1,44,28,24,24,1),new St(!0,49,28,22,14,2),new St(!1,62,36,14,14,4),new St(!1,86,42,16,16,4),new St(!1,114,48,18,18,4),new St(!1,144,56,20,20,4),new St(!1,174,68,22,22,4),new St(!1,204,84,24,24,4,102,42),new St(!1,280,112,14,14,16,140,56),new St(!1,368,144,16,16,16,92,36),new St(!1,456,192,18,18,16,114,48),new St(!1,576,224,20,20,16,144,56),new St(!1,696,272,22,22,16,174,68),new St(!1,816,336,24,24,16,136,56),new St(!1,1050,408,18,18,36,175,68),new St(!1,1304,496,20,20,36,163,62),new GMe],KMe=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(s){return s.charCodeAt(0)}),n=new Qe,i=0,a=r.length;i<a;i++){var o=String.fromCharCode(r[i]&255);if(o==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(o)}this.msg=n.toString(),this.shape=0,this.codewords=new Qe,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=St.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),YMe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),XMe=function(t){YMe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return $r},e.prototype.encode=function(r){for(var n=new Qe;r.hasMoreCharacters();){var i=r.getCurrentChar();r.pos++,this.encodeChar(i,n);var a=n.length();if(a%3===0){this.writeNextTriplet(r,n);var o=Ga.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){r.signalEncoderChange(Ct);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):Ga.illegalCharacter(ft.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var i=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),a=n.length();r.pos-=a,(r.getRemainingCharacters()>1||i>1||r.getRemainingCharacters()!==i)&&r.writeCodeword(BMe),r.getNewEncoding()<0&&r.signalEncoderChange(Ct)},e}(A3),QMe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ZMe=function(t){QMe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return ni},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(r-128,n),i},e}(A3),Ga=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=d6+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,i,a){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!1);var o=new A3,s=[new VMe,o,new ZMe,new XMe,new zMe,new UMe],l=new KMe(e);l.setSymbolShape(r),l.setSizeConstraints(n,i),e.startsWith(f6)&&e.endsWith(p6)?(l.writeCodeword(jMe),l.setSkipAtEnd(2),l.pos+=f6.length):e.startsWith(h6)&&e.endsWith(p6)&&(l.writeCodeword(MMe),l.setSkipAtEnd(2),l.pos+=h6.length);var c=Ct;for(a&&(o.encodeMaximal(l),c=l.getNewEncoding(),l.resetEncoderSignal());l.hasMoreCharacters();)s[c].encode(l),l.getNewEncoding()>=0&&(c=l.getNewEncoding(),l.resetEncoderSignal());var u=l.getCodewordCount();l.updateSymbolInfo();var f=l.getSymbolInfo().getDataCapacity();u<f&&c!==Ct&&c!==jn&&c!==nn&&l.writeCodeword("");var h=l.getCodewords();for(h.length()<f&&h.append(d6);h.length()<f;)h.append(this.randomize253State(h.length()+1));return l.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var i=this.lookAheadTestIntern(e,r,n);if(n===$r&&i===$r){for(var a=Math.min(r+3,e.length),o=r;o<a;o++)if(!this.isNativeX12(e.charCodeAt(o)))return Ct}else if(n===nn&&i===nn){for(var a=Math.min(r+4,e.length),o=r;o<a;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return Ct}return i},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var i;n===Ct?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var a=0,o=new Uint8Array(6),s=[];;){if(r+a===e.length){Gr.fill(o,0),Gr.fill(s,0);var l=this.findMinimums(i,s,Je.MAX_VALUE,o),c=this.getMinimumCount(o);if(s[Ct]===l)return Ct;if(c===1){if(o[jn]>0)return jn;if(o[nn]>0)return nn;if(o[ni]>0)return ni;if(o[$r]>0)return $r}return yn}var u=e.charCodeAt(r+a);if(a++,this.isDigit(u)?i[Ct]+=.5:this.isExtendedASCII(u)?(i[Ct]=Math.ceil(i[Ct]),i[Ct]+=2):(i[Ct]=Math.ceil(i[Ct]),i[Ct]++),this.isNativeC40(u)?i[yn]+=2/3:this.isExtendedASCII(u)?i[yn]+=8/3:i[yn]+=4/3,this.isNativeText(u)?i[ni]+=2/3:this.isExtendedASCII(u)?i[ni]+=8/3:i[ni]+=4/3,this.isNativeX12(u)?i[$r]+=2/3:this.isExtendedASCII(u)?i[$r]+=13/3:i[$r]+=10/3,this.isNativeEDIFACT(u)?i[nn]+=3/4:this.isExtendedASCII(u)?i[nn]+=17/4:i[nn]+=13/4,this.isSpecialB256(u)?i[jn]+=4:i[jn]++,a>=4){if(Gr.fill(o,0),Gr.fill(s,0),this.findMinimums(i,s,Je.MAX_VALUE,o),s[Ct]<this.min(s[jn],s[yn],s[ni],s[$r],s[nn]))return Ct;if(s[jn]<s[Ct]||s[jn]+1<this.min(s[yn],s[ni],s[$r],s[nn]))return jn;if(s[nn]+1<this.min(s[jn],s[yn],s[ni],s[$r],s[Ct]))return nn;if(s[ni]+1<this.min(s[jn],s[yn],s[nn],s[$r],s[Ct]))return ni;if(s[$r]+1<this.min(s[jn],s[yn],s[nn],s[ni],s[Ct]))return $r;if(s[yn]+1<this.min(s[Ct],s[jn],s[nn],s[ni])){if(s[yn]<s[$r])return yn;if(s[yn]===s[$r]){for(var f=r+a+1;f<e.length;){var h=e.charCodeAt(f);if(this.isX12TermSep(h))return $r;if(!this.isNativeX12(h))break;f++}return yn}}}}},t.min=function(e,r,n,i,a){var o=Math.min(e,Math.min(r,Math.min(n,i)));return a===void 0?o:Math.min(o,a)},t.findMinimums=function(e,r,n,i){for(var a=0;a<6;a++){var o=r[a]=Math.ceil(e[a]);n>o&&(n=o,Gr.fill(i,0)),n===o&&(i[a]=i[a]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,i=r;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-r},t.illegalCharacter=function(e){var r=Je.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t}(),fE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},m6=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return ba.encode(e,this.charset)!=null}catch{return!1}},t}(),JMe=function(){function t(e,r,n){var i,a,o,s,l,c;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(I){return new m6(NMe.forName(I))}),this.encoders=[];var u=[];u.push(new m6(PMe.ISO_8859_1));for(var f=r!=null&&r.name.startsWith("UTF"),h=0;h<e.length;h++){var p=!1;try{for(var m=(i=void 0,fE(u)),g=m.next();!g.done;g=m.next()){var v=g.value,y=e.charAt(h),x=y.charCodeAt(0);if(x===n||v.canEncode(y)){p=!0;break}}}catch(I){i={error:I}}finally{try{g&&!g.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}if(!p)try{for(var b=(o=void 0,fE(this.ENCODERS)),S=b.next();!S.done;S=b.next()){var v=S.value;if(v.canEncode(e.charAt(h))){u.push(v),p=!0;break}}}catch(I){o={error:I}}finally{try{S&&!S.done&&(s=b.return)&&s.call(b)}finally{if(o)throw o.error}}p||(f=!0)}if(u.length===1&&!f)this.encoders=[u[0]];else{this.encoders=[];var E=0;try{for(var C=fE(u),A=C.next();!A.done;A=C.next()){var v=A.value;this.encoders[E++]=v}}catch(I){l={error:I}}finally{try{A&&!A.done&&(c=C.return)&&c.call(C)}finally{if(l)throw l.error}}}var T=-1;if(r!=null){for(var h=0;h<this.encoders.length;h++)if(this.encoders[h]!=null&&r.name===this.encoders[h].name){T=h;break}}this.priorityEncoderIndex=T}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return ba.encode(ft.getCharAt(e),this.encoders[r].name)},t}(),e8e=3,t8e=function(){function t(e,r,n){this.fnc1=n;var i=new JMe(e,r,n);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var o=e.charAt(a).charCodeAt(0);this.bytes[a]=o===n?1e3:o}else this.bytes=this.encodeMinimally(e,i,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new Qe,i=e;i<r;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,i,a,o){var s=e.charAt(i).charCodeAt(0),l=0,c=r.length();r.getPriorityEncoderIndex()>=0&&(s===o||r.canEncode(s,r.getPriorityEncoderIndex()))&&(l=r.getPriorityEncoderIndex(),c=l+1);for(var u=l;u<c;u++)(s===o||r.canEncode(s,u))&&this.addEdge(n,i+1,new g6(s,r,u,a,o))},t.prototype.encodeMinimally=function(e,r,n){var i=e.length,a=new g6[i+1][r.length()];this.addEdges(e,r,a,0,null,n);for(var o=1;o<=i;o++){for(var s=0;s<r.length();s++)a[o][s]!=null&&o<i&&this.addEdges(e,r,a,o,a[o][s],n);for(var s=0;s<r.length();s++)a[o-1][s]=null}for(var l=-1,c=Je.MAX_VALUE,s=0;s<r.length();s++)if(a[i][s]!=null){var u=a[i][s];u.cachedTotalSize<c&&(c=u.cachedTotalSize,l=s)}if(l<0)throw new Error('Failed to encode "'+e+'"');for(var f=[],h=a[i][l];h!=null;){if(h.isFNC1())f.unshift(1e3);else for(var p=r.encode(h.c,h.encoderIndex),o=p.length-1;o>=0;o--)f.unshift(p[o]&255);var m=h.previous===null?0:h.previous.encoderIndex;m!==h.encoderIndex&&f.unshift(256+r.getECIValue(h.encoderIndex)),h=h.previous}for(var g=[],o=0;o<g.length;o++)g[o]=f[o];return g},t}(),g6=function(){function t(e,r,n,i,a){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var o=this.isFNC1()?1:r.encode(e,n).length,s=i===null?0:i.encoderIndex;s!==n&&(o+=e8e),i!=null&&(o+=i.cachedTotalSize),this.cachedTotalSize=o}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),r8e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var v6;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(v6||(v6={}));(function(t){r8e(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n,i)||this;return s.shape=a,s.macroId=o,s}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(t8e);var n8e=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),y6=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),i8e=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),a8e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),C3=function(t){a8e(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.value=n,a.bitCount=i,a}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+Je.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(i8e),o8e=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),s8e=function(t){o8e(e,t);function e(r,n,i){var a=t.call(this,r,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(C3);function l8e(t,e,r){return new s8e(t,e,r)}function zp(t,e,r){return new C3(t,e,r)}var c8e=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ul=0,Vx=1,ga=2,EY=3,To=4,u8e=new C3(null,0,0),hE=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],d8e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function f8e(t){var e,r;try{for(var n=d8e(t),i=n.next();!i.done;i=n.next()){var a=i.value;Gr.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[Ul][To]=0,t[Vx][To]=0,t[Vx][Ul]=28,t[EY][To]=0,t[ga][To]=0,t[ga][Ul]=15,t}var AY=f8e(Gr.createInt32Array(6,6)),h8e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},p8e=function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var a=hE[this.mode][e];i=zp(i,a&65535,a>>16),n+=a>>16}var o=e===ga?4:5;return i=zp(i,r,o),new t(i,e,0,n+o)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===ga?4:5;return n=zp(n,AY[this.mode][e],i),n=zp(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===To||this.mode===ga){var a=hE[n][Ul];r=zp(r,a&65535,a>>16),i+=a>>16,n=Ul}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new t(r,n,this.binaryShiftByteCount+1,i+o);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(e+1)),s},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=l8e(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(hE[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var o=new fn;try{for(var s=h8e(i),l=s.next();!l.done;l=s.next()){var c=l.value;c.appendTo(o,e)}}catch(u){r={error:u}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},t.prototype.toString=function(){return ft.format("%s bits=%d bytes=%d",c8e[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(u8e,Ul,0,0),t}();function m8e(t){var e=ft.getCharCode(" "),r=ft.getCharCode("."),n=ft.getCharCode(",");t[Ul][e]=1;for(var i=ft.getCharCode("Z"),a=ft.getCharCode("A"),o=a;o<=i;o++)t[Ul][o]=o-a+2;t[Vx][e]=1;for(var s=ft.getCharCode("z"),l=ft.getCharCode("a"),o=l;o<=s;o++)t[Vx][o]=o-l+2;t[ga][e]=1;for(var c=ft.getCharCode("9"),u=ft.getCharCode("0"),o=u;o<=c;o++)t[ga][o]=o-u+2;t[ga][n]=12,t[ga][r]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],h=0;h<f.length;h++)t[EY][ft.getCharCode(f[h])]=h;for(var p=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],h=0;h<p.length;h++)ft.getCharCode(p[h])>0&&(t[To][ft.getCharCode(p[h])]=h);return t}var pE=m8e(Gr.createInt32Array(5,256)),Ey=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},g8e=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=ft.getCharCode(" "),r=ft.getCharCode(`
`),n=y6.singletonList(p8e.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case ft.getCharCode("\r"):a=o===r?2:0;break;case ft.getCharCode("."):a=o===e?3:0;break;case ft.getCharCode(","):a=o===e?4:0;break;case ft.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(n=t.updateStateListForPair(n,i,a),i++):n=this.updateStateListForChar(n,i)}var s=y6.min(n,function(l,c){return l.getBitCount()-c.getBitCount()});return s.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,a=[];try{for(var o=Ey(e),s=o.next();!s.done;s=o.next()){var l=s.value;this.updateStateForChar(l,r,a)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return t.simplifyStates(a)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,a=pE[e.getMode()][i]>0,o=null,s=0;s<=To;s++){var l=pE[s][i];if(l>0){if(o==null&&(o=e.endBinaryShift(r)),!a||s===e.getMode()||s===ga){var c=o.latchAndAppend(s,l);n.push(c)}if(!a&&AY[e.getMode()][s]>=0){var u=o.shiftAndAppend(s,l);n.push(u)}}}if(e.getBinaryShiftByteCount()>0||pE[e.getMode()][i]===0){var f=e.addBinaryShiftChar(r);n.push(f)}},t.updateStateListForPair=function(e,r,n){var i,a,o=[];try{for(var s=Ey(e),l=s.next();!l.done;l=s.next()){var c=l.value;this.updateStateForPair(c,r,n,o)}}catch(u){i={error:u}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return this.simplifyStates(o)},t.updateStateForPair=function(e,r,n,i){var a=e.endBinaryShift(r);if(i.push(a.latchAndAppend(To,n)),e.getMode()!==To&&i.push(a.shiftAndAppend(To,n)),n===3||n===4){var o=a.latchAndAppend(ga,16-n).latchAndAppend(ga,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(s)}},t.simplifyStates=function(e){var r,n,i,a,o=[];try{for(var s=Ey(e),l=s.next();!l.done;l=s.next()){var c=l.value,u=!0,f=function(v){if(v.isBetterThanOrEqualTo(c))return u=!1,"break";c.isBetterThanOrEqualTo(v)&&(o=o.filter(function(y){return y!==v}))};try{for(var h=(i=void 0,Ey(o)),p=h.next();!p.done;p=h.next()){var m=p.value,g=f(m);if(g==="break")break}}catch(v){i={error:v}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}u&&o.push(c)}}catch(v){r={error:v}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},t}(),v8e=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new g8e(e).encode(),a=Je.truncDivision(i.getSize()*r,100)+11,o=i.getSize()+a,s,l,c,u,f;if(n!==t.DEFAULT_AZTEC_LAYERS){if(s=n<0,l=Math.abs(n),l>(s?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new Fe(ft.format("Illegal value %s for layers",n));c=t.totalBitsInLayer(l,s),u=t.WORD_SIZE[l];var h=c-c%u;if(f=t.stuffBits(i,u),f.getSize()+a>h)throw new Fe("Data to large for user specified layer");if(s&&f.getSize()>u*64)throw new Fe("Data to large for user specified layer")}else{u=0,f=null;for(var p=0;;p++){if(p>t.MAX_NB_BITS)throw new Fe("Data too large for an Aztec code");if(s=p<=3,l=s?p+1:p,c=t.totalBitsInLayer(l,s),!(o>c)){(f==null||u!==t.WORD_SIZE[l])&&(u=t.WORD_SIZE[l],f=t.stuffBits(i,u));var h=c-c%u;if(!(s&&f.getSize()>u*64)&&f.getSize()+a<=h)break}}}var m=t.generateCheckWords(f,c,u),g=f.getSize()/u,v=t.generateModeMessage(s,l,g),y=(s?11:14)+l*4,x=new Int32Array(y),b;if(s){b=y;for(var p=0;p<x.length;p++)x[p]=p}else{b=y+1+2*Je.truncDivision(Je.truncDivision(y,2)-1,15);for(var S=Je.truncDivision(y,2),E=Je.truncDivision(b,2),p=0;p<S;p++){var C=p+Je.truncDivision(p,15);x[S-p-1]=E-C-1,x[S+p]=E+C+1}}for(var A=new zo(b),p=0,T=0;p<l;p++){for(var I=(l-p)*4+(s?9:12),N=0;N<I;N++)for(var O=N*2,R=0;R<2;R++)m.get(T+O+R)&&A.set(x[p*2+R],x[p*2+N]),m.get(T+I*2+O+R)&&A.set(x[p*2+N],x[y-1-p*2-R]),m.get(T+I*4+O+R)&&A.set(x[y-1-p*2-R],x[y-1-p*2-N]),m.get(T+I*6+O+R)&&A.set(x[y-1-p*2-N],x[p*2+R]);T+=I*8}if(t.drawModeMessage(A,s,b,v),s)t.drawBullsEye(A,Je.truncDivision(b,2),5);else{t.drawBullsEye(A,Je.truncDivision(b,2),7);for(var p=0,N=0;p<Je.truncDivision(y,2)-1;p+=15,N+=16)for(var R=Je.truncDivision(b,2)&1;R<b;R+=2)A.set(Je.truncDivision(b,2)-N,R),A.set(Je.truncDivision(b,2)+N,R),A.set(R,Je.truncDivision(b,2)-N),A.set(R,Je.truncDivision(b,2)+N)}var k=new n8e;return k.setCompact(s),k.setSize(b),k.setLayers(l),k.setCodeWords(g),k.setMatrix(A),k},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var a=r-i;a<=r+i;a++)e.set(a,r-i),e.set(a,r+i),e.set(r-i,a),e.set(r+i,a);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new fn;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var a=Je.truncDivision(n,2);if(r)for(var o=0;o<7;o++){var s=a-3+o;i.get(o)&&e.set(s,a-5),i.get(o+7)&&e.set(a+5,s),i.get(20-o)&&e.set(s,a+5),i.get(27-o)&&e.set(a-5,s)}else for(var o=0;o<10;o++){var s=a-5+o+Je.truncDivision(o,5);i.get(o)&&e.set(s,a-7),i.get(o+10)&&e.set(a+7,s),i.get(29-o)&&e.set(s,a+7),i.get(39-o)&&e.set(a-7,s)}},t.generateCheckWords=function(e,r,n){var i,a,o=e.getSize()/n,s=new _Y(t.getGF(n)),l=Je.truncDivision(r,n),c=t.bitsToWords(e,n,l);s.encode(c,l-o);var u=r%n,f=new fn;f.appendBits(0,u);try{for(var h=v8e(Array.from(c)),p=h.next();!p.done;p=h.next()){var m=p.value;f.appendBits(m,n)}}catch(g){i={error:g}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return f},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),a,o;for(a=0,o=e.getSize()/r;a<o;a++){for(var s=0,l=0;l<r;l++)s|=e.get(a*r+l)?1<<r-l-1:0;i[a]=s}return i},t.getGF=function(e){switch(e){case 4:return _i.AZTEC_PARAM;case 6:return _i.AZTEC_DATA_6;case 8:return _i.AZTEC_DATA_8;case 10:return _i.AZTEC_DATA_10;case 12:return _i.AZTEC_DATA_12;default:throw new Fe("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new fn,i=e.getSize(),a=(1<<r)-2,o=0;o<i;o+=r){for(var s=0,l=0;l<r;l++)(o+l>=i||e.get(o+l))&&(s|=1<<r-1-l);(s&a)===a?(n.appendBits(s&a,r),o--):s&a?n.appendBits(s,r):(n.appendBits(s|1,r),o--)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var CY={exports:{}};(function(t,e){(function(n,i){t.exports=i(_)})(Wi,function(r){return function(n){var i={};function a(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=i,a.d=function(o,s,l){a.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,s){if(s&1&&(o=a(o)),s&8||s&4&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),s&2&&typeof o!="string")for(var c in o)a.d(l,c,(function(u){return o[u]}).bind(null,c));return l},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="",a(a.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(n,i,a){a.r(i);var o=a("react"),s=function(){var h=function(p,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var y in v)v.hasOwnProperty(y)&&(g[y]=v[y])},h(p,m)};return function(p,m){h(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),l=function(){return l=Object.assign||function(h){for(var p,m=1,g=arguments.length;m<g;m++){p=arguments[m];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(h[v]=p[v])}return h},l.apply(this,arguments)},c=function(h,p){var m={};for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&p.indexOf(g)<0&&(m[g]=h[g]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,g=Object.getOwnPropertySymbols(h);v<g.length;v++)p.indexOf(g[v])<0&&Object.prototype.propertyIsEnumerable.call(h,g[v])&&(m[g[v]]=h[g[v]]);return m};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(p){var m=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return m?new Promise(function(g,v){m.call(navigator,p,g,v)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function u(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var f=function(h){s(p,h);function p(m){var g=h.call(this,m)||this;return g.canvas=null,g.ctx=null,g.requestUserMediaId=0,g.unmounted=!1,g.state={hasUserMedia:!1},g}return p.prototype.componentDidMount=function(){var m=this,g=m.state,v=m.props;if(this.unmounted=!1,!u()){v.onUserMediaError("getUserMedia not supported");return}g.hasUserMedia||this.requestUserMedia(),v.children&&typeof v.children!="function"&&console.warn("children must be a function")},p.prototype.componentDidUpdate=function(m){var g=this.props;if(!u()){g.onUserMediaError("getUserMedia not supported");return}var v=JSON.stringify(m.audioConstraints)!==JSON.stringify(g.audioConstraints),y=JSON.stringify(m.videoConstraints)!==JSON.stringify(g.videoConstraints),x=m.minScreenshotWidth!==g.minScreenshotWidth,b=m.minScreenshotHeight!==g.minScreenshotHeight;(y||x||b)&&(this.canvas=null,this.ctx=null),(v||y)&&(this.stopAndCleanup(),this.requestUserMedia())},p.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},p.stopMediaStream=function(m){m&&(m.getVideoTracks&&m.getAudioTracks?(m.getVideoTracks().map(function(g){m.removeTrack(g),g.stop()}),m.getAudioTracks().map(function(g){m.removeTrack(g),g.stop()})):m.stop())},p.prototype.stopAndCleanup=function(){var m=this.state;m.hasUserMedia&&(p.stopMediaStream(this.stream),m.src&&window.URL.revokeObjectURL(m.src))},p.prototype.getScreenshot=function(m){var g=this,v=g.state,y=g.props;if(!v.hasUserMedia)return null;var x=this.getCanvas(m);return x&&x.toDataURL(y.screenshotFormat,y.screenshotQuality)},p.prototype.getCanvas=function(m){var g=this,v=g.state,y=g.props;if(!this.video||!v.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var x=this.video.videoWidth,b=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var S=x/b;x=y.minScreenshotWidth||this.video.clientWidth,b=x/S,y.minScreenshotHeight&&b<y.minScreenshotHeight&&(b=y.minScreenshotHeight,x=b*S)}this.canvas=document.createElement("canvas"),this.canvas.width=(m==null?void 0:m.width)||x,this.canvas.height=(m==null?void 0:m.height)||b,this.ctx=this.canvas.getContext("2d")}var E=this,C=E.ctx,A=E.canvas;return C&&A&&(A.width=(m==null?void 0:m.width)||A.width,A.height=(m==null?void 0:m.height)||A.height,y.mirrored&&(C.translate(A.width,0),C.scale(-1,1)),C.imageSmoothingEnabled=y.imageSmoothing,C.drawImage(this.video,0,0,(m==null?void 0:m.width)||A.width,(m==null?void 0:m.height)||A.height),y.mirrored&&(C.scale(-1,1),C.translate(-A.width,0))),A},p.prototype.requestUserMedia=function(){var m=this,g=this.props,v=function(b,S){var E={video:typeof S<"u"?S:!0};g.audio&&(E.audio=typeof b<"u"?b:!0),m.requestUserMediaId++;var C=m.requestUserMediaId;navigator.mediaDevices.getUserMedia(E).then(function(A){m.unmounted||C!==m.requestUserMediaId?p.stopMediaStream(A):m.handleUserMedia(null,A)}).catch(function(A){m.handleUserMedia(A)})};if("mediaDevices"in navigator)v(g.audioConstraints,g.videoConstraints);else{var y=function(b){return{optional:[{sourceId:b}]}},x=function(b){var S=b.deviceId;return typeof S=="string"?S:Array.isArray(S)&&S.length>0?S[0]:typeof S=="object"&&S.ideal?S.ideal:null};MediaStreamTrack.getSources(function(b){var S=null,E=null;b.forEach(function(T){T.kind==="audio"?S=T.id:T.kind==="video"&&(E=T.id)});var C=x(g.audioConstraints);C&&(S=C);var A=x(g.videoConstraints);A&&(E=A),v(y(S),y(E))})}},p.prototype.handleUserMedia=function(m,g){var v=this.props;if(m||!g){this.setState({hasUserMedia:!1}),v.onUserMediaError(m);return}this.stream=g;try{this.video&&(this.video.srcObject=g),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(g)})}v.onUserMedia(g)},p.prototype.render=function(){var m=this,g=this,v=g.state,y=g.props,x=y.audio;y.forceScreenshotSourceSize;var b=y.disablePictureInPicture;y.onUserMedia,y.onUserMediaError,y.screenshotFormat,y.screenshotQuality,y.minScreenshotWidth,y.minScreenshotHeight,y.audioConstraints,y.videoConstraints,y.imageSmoothing;var S=y.mirrored,E=y.style,C=E===void 0?{}:E,A=y.children,T=c(y,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),I=S?l(l({},C),{transform:(C.transform||"")+" scaleX(-1)"}):C,N={getScreenshot:this.getScreenshot.bind(this)};return o.createElement(o.Fragment,null,o.createElement("video",l({autoPlay:!0,disablePictureInPicture:b,src:v.src,muted:!x,playsInline:!0,ref:function(O){m.video=O},style:I},T)),A&&A(N))},p.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},p}(o.Component);i.default=f},react:function(n,i){n.exports=r}}).default})})(CY);var y8e=CY.exports;const x8e=ot(y8e),w8e=({onUpdate:t,onError:e,width:r="100%",height:n="100%",facingMode:i="environment",torch:a,delay:o=500,videoConstraints:s,stopStream:l,formats:c})=>{const u=_.useRef(null),f=_.useCallback(()=>{var m;const h=new xMe(new Map([[Xt.POSSIBLE_FORMATS,c==null?void 0:c.map(g=>typeof g=="string"?Le[g]:g)]])),p=(m=u==null?void 0:u.current)==null?void 0:m.getScreenshot();p&&h.decodeFromImage(void 0,p).then(g=>{t(null,g)}).catch(g=>{t(g)})},[t,c]);return _.useEffect(()=>{var h,p,m;if(typeof a=="boolean"&&((h=navigator==null?void 0:navigator.mediaDevices)==null?void 0:h.getSupportedConstraints()).torch){const g=(m=(p=u==null?void 0:u.current)==null?void 0:p.video)==null?void 0:m.srcObject,v=g==null?void 0:g.getVideoTracks()[0];v&&v.getCapabilities().torch&&v.applyConstraints({advanced:[{torch:a}]}).catch(y=>t(y))}},[a,t]),_.useEffect(()=>{var h,p;if(l){let m=(p=(h=u==null?void 0:u.current)==null?void 0:h.video)==null?void 0:p.srcObject;m&&(m.getTracks().forEach(g=>{m==null||m.removeTrack(g),g.stop()}),m=null)}},[l]),_.useEffect(()=>{const h=setInterval(f,o);return()=>{clearInterval(h)}},[f,o]),d.jsx(x8e,{width:r,height:n,ref:u,screenshotFormat:"image/jpeg",videoConstraints:s||{facingMode:i},audio:!1,onUserMediaError:e})};var x6;(function(t){t.AZTEC="AZTEC",t.CODABAR="CODABAR",t.CODE_39="CODE_39",t.CODE_93="CODE_93",t.CODE_128="CODE_128",t.DATA_MATRIX="DATA_MATRIX",t.EAN_8="EAN_8",t.EAN_13="EAN_13",t.ITF="ITF",t.MAXICODE="MAXICODE",t.PDF_417="PDF_417",t.QR_CODE="QR_CODE",t.RSS_14="RSS_14",t.RSS_EXPANDED="RSS_EXPANDED",t.UPC_A="UPC_A",t.UPC_E="UPC_E",t.UPC_EAN_EXTENSION="UPC_EAN_EXTENSION"})(x6||(x6={}));const TY=()=>!!(navigator.mediaDevices&&typeof navigator.mediaDevices.getUserMedia=="function"),b8e=async()=>{try{return navigator.permissions&&navigator.permissions.query?(await navigator.permissions.query({name:"camera"})).state==="granted":!1}catch(t){return console.warn("Could not check camera permissions:",t),!1}},_8e=async(t={facingMode:"environment",width:{ideal:1280},height:{ideal:720}},e=1e4)=>{try{if(!TY())return{stream:null,error:"Your browser doesn't support camera access. Try using a modern browser like Chrome, Firefox, or Safari."};const r=await b8e();console.log(`Camera permission status: ${r?"granted":"not granted"}`);const n=(async()=>{const o={facingMode:{exact:t.facingMode||"environment"}};t.width&&(o.width=t.width),t.height&&(o.height=t.height),t.frameRate&&(o.frameRate=t.frameRate);try{return console.log("Attempting to access camera with constraints:",o),await navigator.mediaDevices.getUserMedia({video:o,audio:!1})}catch(s){return console.warn("Failed with exact constraints, trying with more flexible settings:",s),await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1})}})(),i=new Promise((o,s)=>{setTimeout(()=>s(new Error("Camera access timeout")),e)});return{stream:await Promise.race([n,i]),error:null}}catch(r){console.error("Camera access error:",r);let n="Failed to access camera";const i=r.message||r.name||String(r);switch(r.name){case"NotAllowedError":n="Camera access was denied. Please grant camera permissions in your browser settings and try again.";break;case"NotFoundError":n="No camera found on your device.";break;case"NotReadableError":case"AbortError":n="The camera is already in use by another application or tab. Please close other applications using the camera and try again.";break;case"SecurityError":n="Camera access is blocked by your browser's security settings.";break;case"OverconstrainedError":n="Could not access the camera with the requested settings. Try using different settings.";break;case"TypeError":n="Invalid camera constraints. Please try again with different settings.";break;default:r.message==="Camera access timeout"?n="Camera access timed out. This often happens on mobile devices. Please try again or check your device settings.":n=`Camera error: ${i}`}return console.error(`Camera error details - Name: ${r.name}, Message: ${r.message}`),{stream:null,error:n}}},S8e=async(t=3)=>{const e=[{facingMode:"environment",width:{ideal:1280},height:{ideal:720}},{facingMode:"environment",width:{ideal:640},height:{ideal:480}},{facingMode:"environment"}];let r=null;for(let n=0;n<Math.min(t,e.length);n++)try{console.log(`Camera access attempt ${n+1}/${t} with constraints:`,e[n]);const i=await _8e(e[n]);if(i.stream)return i;r=i.error,console.warn(`Attempt ${n+1} failed: ${r}`)}catch(i){r=`Unexpected error: ${i}`,console.error(`Attempt ${n+1} error:`,i)}return{stream:null,error:`Failed after ${t} attempts. ${r}`}},w6=t=>{if(t)try{t.getTracks().forEach(e=>{try{e.stop()}catch(r){console.warn("Error stopping media track:",r)}})}catch(e){console.error("Error stopping media stream:",e)}},E8e=async(t,e)=>{try{const r=t.getVideoTracks()[0];if(!r)return!1;const n=r.getCapabilities();return!n||typeof n.torch!="boolean"?!1:(await r.applyConstraints({advanced:[{torch:e}]}),!0)}catch(r){return console.error("Error toggling torch:",r),!1}},IY={corsAnywhere:{url:"https://cors-anywhere.herokuapp.com/",headers:{Origin:typeof window<"u"?window.location.origin:"","X-Requested-With":"XMLHttpRequest"}},allOrigins:{url:"https://api.allorigins.win/raw?url=",headers:{}}};async function NY(t,e={},r="direct"){const n=N8e(r);let i=null;for(const a of n)try{const o=await A8e(t,e,a);if(o)return console.log(`[Proxy] Successfully fetched with ${a} strategy`),o}catch(o){console.error(`[Proxy] ${a} strategy failed:`,o),i=o}return console.error("[Proxy] All strategies failed. Last error:",i),null}async function A8e(t,e={},r){switch(console.log(`[Proxy] Attempting ${r} strategy for: ${t}`),r){case"direct":return C8e(t,e);case"corsAnywhere":return T8e(t,e);case"allOrigins":return I8e(t,e);case"jsonp":throw new Error("JSONP strategy not implemented yet");default:throw new Error(`Unknown proxy strategy: ${r}`)}}async function C8e(t,e={}){const r=await fetch(t,e);if(!r.ok)throw console.error(`[Proxy] Direct fetch failed with status: ${r.status}`),new Error(`HTTP error: ${r.status}`);return await r.json()}async function T8e(t,e={}){const r=IY.corsAnywhere,n=`${r.url}${t}`,i=await fetch(n,{...e,headers:{...e.headers,...r.headers}});if(!i.ok)throw console.error(`[Proxy] CORS Anywhere fetch failed with status: ${i.status}`),new Error(`HTTP error: ${i.status}`);return await i.json()}async function I8e(t,e={}){const r=IY.allOrigins,n=`${r.url}${encodeURIComponent(t)}`,i=await fetch(n,{...e,headers:{...e.headers,...r.headers}});if(!i.ok)throw console.error(`[Proxy] AllOrigins fetch failed with status: ${i.status}`),new Error(`HTTP error: ${i.status}`);return await i.json()}function N8e(t){const e=["direct","corsAnywhere","allOrigins"];if(t==="direct")return e;const r=e.filter(n=>n!==t&&n!=="direct");return["direct",t,...r]}const P8e="Taska-Loop",O8e="1.0",k8e="vanold101@gmail.com",R8e="https://world.openfoodfacts.org/api/v2";async function D8e(t){try{console.log(`[OpenFoodFacts] Fetching data for barcode: ${t}`);const e=t.replace(/^0+/,""),r=`${R8e}/product/${e}.json`;console.log(`[OpenFoodFacts] API URL: ${r}`);const n={headers:{"User-Agent":`${P8e}/${O8e} (${k8e})`}},i=await NY(r,n,"direct");if(!i)return console.error("[OpenFoodFacts] Failed to fetch data"),null;if(console.log(`[OpenFoodFacts] API response status: ${i.status} (${i.status_verbose})`),i.product?(console.log(`[OpenFoodFacts] Product found: ${i.product.product_name||"Unknown product"}`),console.log(`[OpenFoodFacts] Brand: ${i.product.brands||"Unknown brand"}`)):console.log("[OpenFoodFacts] Full response:",JSON.stringify(i).substring(0,200)+"..."),i.status===0||!i.product)return console.log("[OpenFoodFacts] Product not found",i),null;const a={name:i.product.product_name||"",brand:i.product.brands||"",image:i.product.image_front_url||i.product.image_url||"",category:i.product.categories||"",ingredients:i.product.ingredients_text||"",quantity:i.product.quantity||"",nutriscore:i.product.nutriscore_grade||"",ecoscore:i.product.ecoscore_grade||"",novaGroup:i.product.nova_group,stores:i.product.stores||""};return console.log("[OpenFoodFacts] Successfully extracted product details:",a),a}catch(e){return console.error("[OpenFoodFacts] Error fetching from Open Food Facts API:",e),null}}async function j8e(t){try{console.log(`[UPCItemDB] Fetching data for barcode: ${t}`);const e=`https://api.upcitemdb.com/prod/trial/lookup?upc=${t}`;console.log(`[UPCItemDB] API URL: ${e}`);const r=await NY(e,{},"allOrigins");if(!r)return console.error("[UPCItemDB] Failed to fetch data"),null;if(console.log(`[UPCItemDB] API response code: ${r.code}`),r.code==="OK"&&r.items&&r.items.length>0){const n=r.items[0];console.log(`[UPCItemDB] Product found: ${n.title||"Unknown title"}`);const i={name:n.title,brand:n.brand,image:n.images&&n.images.length>0?n.images[0]:void 0};return console.log("[UPCItemDB] Successfully extracted product details:",i),i}return console.log("[UPCItemDB] No items found or error in response",r),null}catch(e){return console.error("[UPCItemDB] Error fetching from UPCItemDB:",e),null}}const M8e=({onItemScanned:t,onScan:e,buttonText:r="Scan Barcode",buttonVariant:n="outline",buttonSize:i="sm",className:a="",tripId:o})=>{const[s,l]=_.useState(!1),[c,u]=_.useState(!1),[f,h]=_.useState(null),[p,m]=_.useState(!1),[g,v]=_.useState(!1),[y,x]=_.useState(!1),[b,S]=_.useState(!0),[E,C]=_.useState("Waiting for barcode..."),[A,T]=_.useState(null),[I,N]=_.useState("none"),[O,R]=_.useState(0),[k,M]=_.useState(0),[U,L]=_.useState(""),[z,B]=_.useState(!1),[$,W]=_.useState(!1),[H,G]=_.useState(0),Z=_.useRef(null),se=_.useRef(null),{toast:ce}=Ta();_.useEffect(()=>()=>{var ue;(ue=Z.current)!=null&&ue.srcObject&&w6(Z.current.srcObject),se.current&&clearInterval(se.current)},[]),_.useEffect(()=>{if(s&&!c){const ue=setTimeout(()=>{Oe()},100);return()=>{clearTimeout(ue),se.current&&clearInterval(se.current)}}else!s&&c&&(u(!1),m(!1),M(0),h(null),se.current&&clearInterval(se.current))},[s]);const Oe=async()=>{if(!$)try{W(!0),h(null),C("Initializing camera...");const{stream:ue,error:ke}=await S8e();if(ke){console.error("Camera initialization failed:",ke),h(ke),C("Camera access failed"),u(!1);return}ue&&(u(!0),C("Waiting for barcode..."),se.current&&clearInterval(se.current),se.current=setInterval(()=>{M(X=>{const de=X+1;return de%5===0&&C("Still searching for barcode... Please ensure good lighting and hold steady."),de})},2e3))}catch(ue){console.error("Error initializing camera:",ue),h(`Error accessing camera: ${ue}`),C("Camera initialization failed")}finally{W(!1)}},pe=async(ue,ke)=>{if(y)return;const X=Date.now();if(ke&&X-O>3e3){R(X),x(!0),C("Barcode detected! Processing..."),T(ke.text),N("detected"),se.current&&clearInterval(se.current);const de=ke.text;if(console.log(`[Scanner] Barcode detected: ${de}`),ce({title:"Barcode Detected",description:`UPC: ${de}. Fetching details...`}),e){console.log(`[Scanner] Using onScan callback with barcode: ${de}`),e(de),re();return}t&&J(de)}},J=async ue=>{if(!(!ue||ue.trim()==="")){x(!0),C("Processing barcode...");try{console.log(`[Scanner] Looking up product details for UPC: ${ue}`);let ke=await D8e(ue);if(ke&&Object.keys(ke).length>0){console.log(`[Scanner] Found product in Open Food Facts: ${ke.name||"Unknown"}`),t==null||t({upc:ue,...ke}),ce({title:"Product Found",description:`Found: ${ke.name||ue} in Open Food Facts database.`}),re();return}console.log("[Scanner] Product not found in Open Food Facts, trying UPCItemDB...");const X=await j8e(ue);if(X){console.log(`[Scanner] Found product in UPCItemDB: ${X.name||"Unknown"}`),t==null||t({upc:ue,...X}),ce({title:"Product Found",description:`Found: ${X.name||ue} in UPCItemDB.`}),re();return}console.log("[Scanner] Product not found in any database"),N("not_in_db"),t==null||t({upc:ue,name:`Item (${ue})`}),ce({title:"Limited Information",description:"Product not found in database. Added with barcode only.",variant:"default"}),re()}catch(ke){console.error("[Scanner] Error looking up product:",ke),N("error"),t==null||t({upc:ue,name:`Item (${ue})`}),ce({title:"Error Looking Up Product",description:"Added with barcode only. Network issue or database limitation.",variant:"destructive"}),re()}}},q=ue=>{console.error("Camera error in scanner component:",ue),u(!1),h(ue.toString()),C("Camera access failed. You can try again or enter a barcode manually."),B(!0),ce({title:"Camera Error",description:"Could not access camera. You can enter a barcode manually or retry.",variant:"destructive"})},ae=()=>{G(ue=>ue+1),h(null),Oe()},re=()=>{var ue;(ue=Z.current)!=null&&ue.srcObject&&w6(Z.current.srcObject),se.current&&clearInterval(se.current),u(!1),x(!1),N("none"),T(null),M(0),h(null),B(!1),L(""),l(!1)},ee=async()=>{var X;if(!((X=Z.current)!=null&&X.srcObject))return;const ue=!p;await E8e(Z.current.srcObject,ue)?m(ue):ce({title:"Torch Unavailable",description:"Your device doesn't support flash/torch control.",variant:"destructive"})},$e=async()=>{const ue=TY();S(ue),ue||(B(!0),h("Your browser doesn't support camera access. Please enter the barcode manually.")),l(!0)},De=ue=>{if(ue.preventDefault(),U.trim()===""){ce({title:"Invalid Barcode",description:"Please enter a valid barcode.",variant:"destructive"});return}J(U)},fe=()=>{B(!z)};return _.useEffect(()=>{c&&(async()=>{var ke;if((ke=Z.current)!=null&&ke.srcObject)try{const X=Z.current.srcObject.getVideoTracks()[0];if(X){const de=X.getCapabilities();v(de.torch===!0)}}catch(X){console.warn("Failed to check flash capabilities:",X),v(!1)}})()},[c]),d.jsxs(d.Fragment,{children:[d.jsxs(Y,{variant:n,size:i,onClick:$e,className:a,"aria-label":r||"Scan Barcode",children:[r&&d.jsx("span",{className:"mr-2",children:r}),d.jsx(WV,{className:"h-4 w-4"})]}),d.jsx(ci,{open:s,onOpenChange:ue=>!ue&&re(),children:d.jsxs(zn,{className:"sm:max-w-md",children:[d.jsx(Wn,{children:d.jsx(Hn,{className:"text-center",children:f?"Camera Error":A?"Barcode Detected!":"Scan Barcode"})}),!f&&c&&d.jsxs("div",{className:"relative overflow-hidden w-full aspect-square max-h-80 bg-muted rounded-md",children:[d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("div",{className:"w-full h-full",children:d.jsx(w8e,{width:"100%",height:"100%",onUpdate:pe,onError:q,torch:p})})}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("div",{className:"w-5/6 h-1/4 border-2 border-white rounded-lg bg-transparent",children:d.jsx("div",{className:"absolute inset-0 flex items-start justify-center mt-1",children:d.jsx("div",{className:"bg-black/40 text-white px-2 py-1 text-xs rounded",children:E})})})}),g&&d.jsx(Y,{size:"sm",variant:"outline",className:"absolute bottom-4 left-4 bg-white/80",onClick:ee,children:p?"Torch Off":"Torch On"}),d.jsx(Y,{size:"sm",variant:"outline",className:"absolute bottom-4 right-4 bg-white/80",onClick:re,children:"Close"})]}),f&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-destructive/10 p-4 rounded-md text-destructive flex items-start",children:[d.jsx(NP,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"font-medium",children:"Camera Error"}),d.jsx("p",{className:"text-sm",children:f})]})]}),d.jsx(Y,{variant:"outline",onClick:ae,className:"w-full",disabled:$,children:$?"Initializing...":"Retry Camera"})]}),(z||f)&&d.jsx("form",{onSubmit:De,className:"space-y-4",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"manual-barcode",className:"text-sm font-medium",children:"Enter barcode manually"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(tt,{id:"manual-barcode",placeholder:"e.g., 1234567890",value:U,onChange:ue=>L(ue.target.value),className:"flex-1"}),d.jsxs(Y,{type:"submit",size:"sm",children:[d.jsx(cn,{className:"h-4 w-4 mr-1"}),"Add"]})]})]})}),c&&!z&&!f&&d.jsx("div",{className:"text-center",children:d.jsx("button",{onClick:fe,className:"text-sm text-blue-600 hover:text-blue-800 underline",children:"Enter barcode manually"})}),d.jsx("div",{className:"text-center text-xs text-muted-foreground mt-2",children:"Scan any product barcode to get information"})]})})]})},b6=({onAddPantryItem:t})=>{const[e,r]=_.useState(null),n=i=>{const a={name:i.name||`Product (${i.upc})`,quantity:1,expiry:new Date(Date.now()+12096e5).toISOString().split("T")[0],category:i.category||"Pantry",lowStock:!1};t(a),r(a.name),un({title:" Item Added Successfully!",description:`${a.name} has been added to your pantry`}),setTimeout(()=>r(null),3e3)};return d.jsxs("div",{className:"space-y-3",children:[d.jsx(M8e,{onItemScanned:n,buttonText:" Scan Barcode",buttonVariant:"default",buttonSize:"lg",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg shadow-md transition-all duration-200 hover:shadow-lg"}),e&&d.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:[d.jsx(Fi,{className:"h-4 w-4 text-green-600"}),d.jsxs("span",{className:"text-sm text-green-800 font-medium",children:["Just added: ",e]})]})]})},L8e=["Dairy","Meat","Seafood","Produce","Bakery","Pantry","Snacks","Beverages","Frozen","Household"],_6={Dairy:d.jsx(Li,{className:"h-4 w-4 text-blue-500"}),Bakery:d.jsx(Li,{className:"h-4 w-4 text-amber-600"}),Produce:d.jsx(Li,{className:"h-4 w-4 text-green-500"}),Pantry:d.jsx(Li,{className:"h-4 w-4 text-orange-500"}),Meat:d.jsx(Li,{className:"h-4 w-4 text-red-500"}),Seafood:d.jsx(Li,{className:"h-4 w-4 text-blue-400"}),Snacks:d.jsx(Li,{className:"h-4 w-4 text-purple-500"}),Beverages:d.jsx(Li,{className:"h-4 w-4 text-cyan-500"}),Frozen:d.jsx(Li,{className:"h-4 w-4 text-blue-300"}),Household:d.jsx(Li,{className:"h-4 w-4 text-gray-500"})};function $8e(){const t=ra(),{pantryItems:e,addPantryItem:r,updatePantryItem:n,removePantryItem:i}=IP(),[a,o]=_.useState("all"),[s,l]=_.useState(""),[c,u]=_.useState("name"),[f,h]=_.useState(!1),[p,m]=_.useState({name:"",quantity:1,category:""}),[g,v]=_.useState(!1),[y,x]=_.useState(!1),[b,S]=_.useState(null),[E,C]=_.useState({}),[A,T]=_.useState(""),[I,N]=_.useState(!0),[O,R]=_.useState(!1),[k,M]=_.useState(!1),[U,L]=_.useState(!1),[z,B]=_.useState(!1),[$,W]=_.useState(""),[H,G]=_.useState(new Set),[Z,se]=_.useState(7),[ce,Oe]=_.useState("asc"),[pe,J]=_.useState("name"),[q,ae]=_.useState("default"),[re,ee]=_.useState(1),[$e,De]=_.useState(""),fe=()=>{v(!0)},ue=()=>{h(!0)},ke=()=>{R(!0)},X=he=>{B(!0)},de=()=>{M(!0)},ge=he=>{J(he)},ct=he=>{const qe=e.find(ut=>ut.id===he);qe&&(m({name:qe.name,quantity:qe.quantity,category:qe.category,expiry:qe.expiry}),h(!0))},Rr=he=>{i(he)},Dr=()=>{h(!1),m({name:"",quantity:1,category:""})},Er=he=>{if(he.preventDefault(),!p.name||!p.quantity){un({title:"Missing Information",description:"Please provide at least an item name and quantity.",variant:"destructive"});return}const qe={...p,lowStock:p.quantity<=1};r(qe),Dr()},vi=he=>{if(!he)return null;const qe=new Date,ut=new Date(he);if(isNaN(ut.getTime()))return null;const cr=ut.getTime()-qe.getTime();return Math.ceil(cr/(1e3*60*60*24))},vr=e.filter(he=>he.lowStock),yr=e.filter(he=>{const qe=vi(he.expiry);return qe!==null&&qe>=0&&qe<=7}),go=e.slice(0,3),lp=he=>{const qe=e.find(ut=>ut.id===he);qe&&n(he,{quantity:qe.quantity+1,lowStock:qe.quantity+1<=1})},cp=he=>{const qe=e.find(ut=>ut.id===he);qe&&qe.quantity>1&&n(he,{quantity:qe.quantity-1,lowStock:qe.quantity-1<=1})},O_=he=>{T(he.target.value)},Xs=e.filter(he=>{const qe=A.toLowerCase(),ut=he.name.toLowerCase().includes(qe)||he.category.toLowerCase().includes(qe),cr=a==="all"||a==="food"&&["Dairy","Meat","Seafood","Produce","Bakery","Pantry","Snacks","Beverages","Frozen"].includes(he.category)||a==="household"&&he.category==="Household"||a==="low-stock"&&he.lowStock;return ut&&cr}),up=he=>[...he].sort((qe,ut)=>{if(pe==="expiry"){if(!qe.expiry&&!ut.expiry)return 0;if(!qe.expiry)return 1;if(!ut.expiry)return-1;const Qs=new Date(qe.expiry).getTime(),vo=new Date(ut.expiry).getTime();return ce==="asc"?Qs-vo:vo-Qs}const cr=qe[pe],tn=ut[pe];return cr<tn?ce==="asc"?-1:1:cr>tn?ce==="asc"?1:-1:0}),dp=up(Xs),ld=()=>{const he=Array.from(H).map(qe=>{const ut=e.find(cr=>cr.id===qe);return ut==null?void 0:ut.name}).filter(Boolean);if(he.length===0){un({title:"No Items Selected",description:"Please select items to add to your shopping list.",variant:"destructive"});return}un({title:"Items Added",description:`${H.size} items have been added to your shopping list: ${he.join(", ")}`}),t("/trips?action=bulk-add&items="+encodeURIComponent(he.join(","))),G(new Set)},k_=Xs.reduce((he,qe)=>{const{category:ut}=qe;return he[ut]||(he[ut]=[]),he[ut].push(qe),he},{});return I?d.jsxs(Ds,{children:[d.jsxs("div",{className:"flex-1 space-y-4 p-4 md:p-8 pt-6",children:[d.jsxs("div",{className:"flex items-center justify-between space-y-2",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Pantry"}),d.jsx("p",{className:"text-muted-foreground",children:"Track and manage your household inventory"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs(Y,{variant:"outline",onClick:fe,children:[d.jsx(zV,{className:"mr-2 h-4 w-4"})," Update Inventory"]}),d.jsxs(Y,{onClick:ue,children:[d.jsx(cn,{className:"mr-2 h-4 w-4"})," Add Item"]})]})]}),d.jsxs(Ie,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:[d.jsxs(We,{children:[d.jsxs(He,{className:"flex items-center gap-2 text-blue-800",children:[d.jsx(WV,{className:"h-5 w-5"}),"Quick Add with Barcode Scanner"]}),d.jsx(gt,{className:"text-blue-600",children:"Scan any product barcode to instantly add it to your pantry with product details"})]}),d.jsx(Pe,{children:d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[d.jsx("div",{className:"flex-1",children:d.jsx(b6,{onAddPantryItem:he=>{r(he)}})}),d.jsxs("div",{className:"text-sm text-blue-600 max-w-xs",children:[d.jsx("p",{className:"font-medium mb-1",children:"How it works:"}),d.jsxs("ul",{className:"text-xs space-y-1",children:[d.jsx("li",{children:" Click scan and point camera at barcode"}),d.jsx("li",{children:" Product info is automatically fetched"}),d.jsx("li",{children:" Item is added to your pantry instantly"})]})]})]})})]}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[d.jsxs(Ie,{className:"bg-teal-500 text-white",children:[d.jsxs(We,{children:[d.jsx(He,{children:"Inventory Summary"}),d.jsxs(gt,{className:"text-teal-100",children:["You have ",e.length," items in your pantry"]})]}),d.jsxs(Pe,{children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Low Stock"}),d.jsxs("span",{children:[vr.length," items"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Expiring Soon"}),d.jsxs("span",{children:[yr.length," items"]})]})]}),d.jsx(Dt,{children:d.jsx(Y,{variant:"secondary",className:"w-full",onClick:ke,children:"View All Items"})})]}),d.jsxs(Ie,{children:[d.jsxs(We,{children:[d.jsx(He,{children:"Most Used Items"}),d.jsx(gt,{children:"Based on your shopping history"})]}),d.jsx(Pe,{children:d.jsx("ul",{className:"space-y-2",children:go.map(he=>d.jsxs("li",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[_6[he.category],d.jsx("span",{className:"ml-2",children:he.name})]}),d.jsx("span",{className:"text-sm text-muted-foreground",children:"Bought 8 times"})]},he.id))})}),d.jsx(Dt,{children:d.jsxs(Y,{variant:"outline",className:"w-full",onClick:()=>go.forEach(X),children:[d.jsx(Wr,{className:"mr-2 h-4 w-4"})," Add to Shopping List"]})})]}),d.jsxs(Ie,{children:[d.jsxs(We,{children:[d.jsx(He,{children:"Expiring Soon"}),d.jsxs(gt,{children:["Items to use in the next ",Z," days"]})]}),d.jsx(Pe,{children:d.jsx("ul",{className:"space-y-2",children:yr.map(he=>d.jsxs("li",{className:"flex items-center justify-between",children:[d.jsx("span",{children:he.name}),d.jsxs("span",{className:"text-red-500",children:["Expires in ",vi(he.expiry)," days"]})]},he.id))})}),d.jsx(Dt,{children:d.jsxs(Y,{variant:"outline",className:"w-full",onClick:de,children:[d.jsx(ln,{className:"mr-2 h-4 w-4"})," View All Expiring"]})})]})]}),d.jsxs(Ie,{children:[d.jsx(We,{children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx(He,{children:"All Items"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(tt,{placeholder:"Search pantry...",value:A,onChange:O_,className:"max-w-sm"}),d.jsxs(pr,{onValueChange:he=>ge(he),defaultValue:pe,children:[d.jsx(rr,{className:"w-[180px]",children:d.jsx(mr,{placeholder:"Sort by"})}),d.jsxs(nr,{children:[d.jsx(Se,{value:"name",children:"Name"}),d.jsx(Se,{value:"expiry",children:"Expiry Date"}),d.jsx(Se,{value:"quantity",children:"Quantity"})]})]}),d.jsx(Y,{variant:"ghost",onClick:()=>Oe(ce==="asc"?"desc":"asc"),children:ce==="asc"?"":""})]})]})}),d.jsx(Pe,{children:dp.length>0?d.jsx("ul",{className:"space-y-4",children:dp.map(he=>d.jsxs("li",{className:"flex items-center justify-between p-3 border rounded-lg",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(zf,{checked:H.has(he.id),onCheckedChange:qe=>{const ut=new Set(H);qe?ut.add(he.id):ut.delete(he.id),G(ut)}}),d.jsxs("div",{className:"ml-4",children:[d.jsx("div",{className:"font-medium",children:he.name}),he.expiry&&d.jsxs("div",{className:"text-sm text-muted-foreground",children:["Expires in ",vi(he.expiry)," days"]})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Y,{variant:"outline",size:"icon",onClick:()=>cp(he.id),children:d.jsx(bS,{className:"h-4 w-4"})}),d.jsx("span",{children:he.quantity}),d.jsx(Y,{variant:"outline",size:"icon",onClick:()=>lp(he.id),children:d.jsx(cn,{className:"h-4 w-4"})}),d.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>X(),children:d.jsx(Wr,{className:"h-4 w-4"})}),d.jsxs(xg,{children:[d.jsx(wg,{asChild:!0,children:d.jsx(Y,{variant:"ghost",size:"icon",children:d.jsx(cf,{className:"h-4 w-4"})})}),d.jsxs(Of,{align:"end",children:[d.jsx(oi,{onClick:()=>ct(he.id),children:"Edit"}),d.jsx(oi,{onClick:()=>Rr(he.id),children:"Remove"})]})]})]})]},he.id))}):d.jsxs("div",{className:"text-center py-10",children:[d.jsx(Li,{className:"h-12 w-12 mx-auto text-muted-foreground"}),d.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No items found"}),d.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Your pantry is empty or no items match your search."}),d.jsxs(Y,{className:"mt-4",onClick:ue,children:[d.jsx(cn,{className:"mr-2 h-4 w-4"})," Add your first item"]})]})}),d.jsx(Dt,{children:d.jsxs("div",{className:"flex justify-between items-center w-full",children:[d.jsxs("div",{className:"text-sm text-muted-foreground",children:[H.size," of ",e.length," items selected."]}),d.jsxs(Y,{onClick:ld,disabled:H.size===0,children:[d.jsx(Wr,{className:"mr-2 h-4 w-4"}),"Add Selected to Cart"]})]})})]})]}),d.jsx(ci,{open:f,onOpenChange:Dr,children:d.jsxs(zn,{children:[d.jsxs(Wn,{children:[d.jsx(Hn,{children:"Add New Item"}),d.jsx(to,{children:"Enter the details of the new item to add to your pantry."})]}),d.jsxs("form",{onSubmit:Er,children:[d.jsxs("div",{className:"grid gap-4 py-4",children:[d.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[d.jsx(Ee,{htmlFor:"name",className:"text-right",children:"Name"}),d.jsx(tt,{id:"name",value:p.name,onChange:he=>m({...p,name:he.target.value}),className:"col-span-3",required:!0})]}),d.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[d.jsx(Ee,{htmlFor:"quantity",className:"text-right",children:"Quantity"}),d.jsx(tt,{id:"quantity",type:"number",value:p.quantity,onChange:he=>m({...p,quantity:parseInt(he.target.value)||1}),className:"col-span-3",required:!0,min:"1"})]}),d.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[d.jsx(Ee,{htmlFor:"category",className:"text-right",children:"Category"}),d.jsxs(pr,{onValueChange:he=>m({...p,category:he}),value:p.category,children:[d.jsx(rr,{className:"col-span-3",children:d.jsx(mr,{placeholder:"Select a category"})}),d.jsx(nr,{children:L8e.map(he=>d.jsx(Se,{value:he,children:he},he))})]})]}),d.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[d.jsx(Ee,{htmlFor:"expiry",className:"text-right",children:"Expiry Date"}),d.jsx(tt,{id:"expiry",type:"date",value:p.expiry||"",onChange:he=>m({...p,expiry:he.target.value}),className:"col-span-3"})]})]}),d.jsx(eo,{children:d.jsx(Y,{type:"submit",children:"Add Item"})})]})]})}),d.jsx(ci,{open:g,onOpenChange:v,children:d.jsxs(zn,{children:[d.jsxs(Wn,{children:[d.jsx(Hn,{children:"Update Inventory"}),d.jsx(to,{children:"Scan items or manually update quantities"})]}),d.jsx("div",{className:"mb-4",children:d.jsx(b6,{onAddPantryItem:he=>{r(he)}})}),d.jsx("div",{className:"text-center text-sm text-muted-foreground mb-4",children:"- or update quantities manually -"}),d.jsx("div",{className:"space-y-4 py-4",children:e.map(he=>d.jsxs("div",{className:"flex items-center justify-between gap-4 p-2 rounded-lg hover:bg-slate-50",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:he.name}),d.jsx("p",{className:"text-sm text-slate-500",children:he.category})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Y,{type:"button",variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>cp(he.id),children:d.jsx(bS,{className:"h-4 w-4"})}),d.jsx("span",{className:"w-8 text-center",children:he.quantity}),d.jsx(Y,{type:"button",variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>lp(he.id),children:d.jsx(cn,{className:"h-4 w-4"})})]})]},he.id))}),d.jsx(eo,{children:d.jsx(Y,{variant:"outline",onClick:()=>v(!1),children:"Done"})})]})}),d.jsx(ci,{open:k,onOpenChange:M,children:d.jsxs(zn,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[d.jsxs(Wn,{children:[d.jsx(Hn,{children:"Expiring Items"}),d.jsxs("div",{className:"flex items-center justify-between mt-4",children:[d.jsxs(pr,{value:Z.toString(),onValueChange:he=>se(parseInt(he)),children:[d.jsx(rr,{className:"w-[150px]",children:d.jsx(mr,{placeholder:"Timeframe"})}),d.jsxs(nr,{children:[d.jsx(Se,{value:"1",children:"Within 24 hours"}),d.jsx(Se,{value:"3",children:"Within 3 days"}),d.jsx(Se,{value:"7",children:"Within a week"}),d.jsx(Se,{value:"14",children:"Within 2 weeks"})]})]}),d.jsxs(Y,{variant:"outline",size:"sm",onClick:ld,disabled:H.size===0,children:[d.jsx(Wr,{className:"h-4 w-4 mr-2"}),"Add Selected to Cart"]})]})]}),d.jsx("div",{className:"space-y-4",children:Object.entries(k_).map(([he,qe])=>{const ut=qe.filter(cr=>{const tn=vi(cr.expiry);return tn!==null&&tn<=Z&&tn>0});return ut.length===0?null:d.jsxs("div",{children:[d.jsxs("h3",{className:"font-semibold text-lg mb-2 flex items-center gap-2",children:[_6[he],he,d.jsx(Or,{variant:"outline",children:ut.length})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:up(ut).map(cr=>{const tn=vi(cr.expiry);return d.jsx(Ie,{className:`shadow-sm ${H.has(cr.id)?"ring-2 ring-primary":""}`,children:d.jsx(Pe,{className:"p-4",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(zf,{checked:H.has(cr.id),onCheckedChange:Qs=>{const vo=new Set(H);Qs?vo.add(cr.id):vo.delete(cr.id),G(vo)}}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium",children:cr.name}),d.jsxs("p",{className:`text-sm ${tn!==null&&tn<=1?"text-red-500":tn!==null&&tn<=3?"text-amber-500":"text-muted-foreground"}`,children:["Expires in ",tn," days"]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>X(),children:[d.jsx(Wr,{className:"h-4 w-4 mr-2"}),"Add to List"]}),d.jsx(Y,{variant:"outline",size:"sm",onClick:()=>Rr(cr.id),children:"Used"})]})]})})},cr.id)})})]},he)})})]})}),d.jsx(ci,{open:z,onOpenChange:B,children:d.jsxs(zn,{children:[d.jsxs(Wn,{children:[d.jsx(Hn,{children:"Add to Shopping List"}),d.jsx(to,{children:"Customize your shopping list items"})]}),d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{children:"Shopping List"}),d.jsxs(pr,{value:q,onValueChange:ae,children:[d.jsx(rr,{children:d.jsx(mr,{placeholder:"Choose a list"})}),d.jsxs(nr,{children:[d.jsx(Se,{value:"default",children:"Default List"}),d.jsx(Se,{value:"weekly",children:"Weekly Shopping"}),d.jsx(Se,{value:"monthly",children:"Monthly Stock-up"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{children:"Quantity to Add"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Y,{variant:"outline",size:"sm",onClick:()=>ee(Math.max(1,re-1)),children:d.jsx(bS,{className:"h-4 w-4"})}),d.jsx(tt,{type:"number",min:"1",value:re,onChange:he=>ee(Math.max(1,parseInt(he.target.value)||1)),className:"w-20 text-center"}),d.jsx(Y,{variant:"outline",size:"sm",onClick:()=>ee(re+1),children:d.jsx(cn,{className:"h-4 w-4"})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{children:"Notes (Optional)"}),d.jsx(tt,{value:$e,onChange:he=>De(he.target.value),placeholder:"e.g., Prefer organic, specific brand, etc."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{children:"Priority"}),d.jsxs(pr,{defaultValue:"normal",children:[d.jsx(rr,{children:d.jsx(mr,{placeholder:"Select priority"})}),d.jsxs(nr,{children:[d.jsx(Se,{value:"high",children:"High - Need ASAP"}),d.jsx(Se,{value:"normal",children:"Normal"}),d.jsx(Se,{value:"low",children:"Low - When convenient"})]})]})]})]}),d.jsxs(eo,{children:[d.jsx(Y,{variant:"outline",onClick:()=>B(!1),children:"Cancel"}),d.jsx(Y,{onClick:()=>{B(!1),un({title:"Added to shopping list",description:`${re} items added to ${q} list`,variant:"default"})},children:"Add to List"})]})]})})]}):d.jsx("div",{children:"Loading..."})}function mE(){return d.jsx(Ds,{children:d.jsxs("div",{className:"p-4 md:p-8",children:[d.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Profile Settings"}),d.jsx("p",{className:"text-slate-500",children:"Manage your account settings and preferences"})]})}),d.jsxs(Cu,{defaultValue:"account",className:"w-full",children:[d.jsxs(nc,{className:"grid w-full md:w-auto grid-cols-4 md:inline-flex mb-6",children:[d.jsx(tr,{value:"account",children:"Account"}),d.jsx(tr,{value:"security",children:"Security"}),d.jsx(tr,{value:"notifications",children:"Notifications"}),d.jsx(tr,{value:"billing",children:"Billing"})]}),d.jsxs(Pr,{value:"account",className:"space-y-6",children:[d.jsxs(Ie,{className:"border-none shadow-sm",children:[d.jsxs(We,{children:[d.jsx(He,{children:"Profile Information"}),d.jsx(gt,{children:"Update your personal information"})]}),d.jsx(Pe,{className:"space-y-6",children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsxs(Vr,{className:"h-24 w-24",children:[d.jsx(Pf,{src:"/placeholder.svg?height=96&width=96"}),d.jsx(Ur,{className:"text-2xl bg-teal-100 text-teal-700",children:"JD"})]}),d.jsx(Y,{variant:"outline",className:"border-slate-200",children:"Change Avatar"})]}),d.jsxs("div",{className:"flex-1 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"firstName",children:"First Name"}),d.jsx(tt,{id:"firstName",defaultValue:"Jane"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"lastName",children:"Last Name"}),d.jsx(tt,{id:"lastName",defaultValue:"Doe"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"email",children:"Email Address"}),d.jsx(tt,{id:"email",type:"email",defaultValue:"jane.doe@example.com"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"phone",children:"Phone Number"}),d.jsx(tt,{id:"phone",type:"tel",defaultValue:"(555) 123-4567"})]})]})]})}),d.jsx(Dt,{className:"flex justify-end",children:d.jsxs(Y,{className:"bg-teal-600 hover:bg-teal-700",children:[d.jsx(Oj,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]}),d.jsxs(Ie,{className:"border-none shadow-sm",children:[d.jsxs(We,{children:[d.jsx(He,{children:"Preferences"}),d.jsx(gt,{children:"Customize your app experience"})]}),d.jsxs(Pe,{className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"language",children:"Language"}),d.jsxs(pr,{defaultValue:"en",children:[d.jsx(rr,{id:"language",className:"w-full md:w-[240px]",children:d.jsx(mr,{placeholder:"Select language"})}),d.jsxs(nr,{children:[d.jsx(Se,{value:"en",children:"English"}),d.jsx(Se,{value:"es",children:"Spanish"}),d.jsx(Se,{value:"fr",children:"French"}),d.jsx(Se,{value:"de",children:"German"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"timezone",children:"Timezone"}),d.jsxs(pr,{defaultValue:"america_los_angeles",children:[d.jsx(rr,{id:"timezone",className:"w-full md:w-[240px]",children:d.jsx(mr,{placeholder:"Select timezone"})}),d.jsxs(nr,{children:[d.jsx(Se,{value:"america_los_angeles",children:"Pacific Time (US & Canada)"}),d.jsx(Se,{value:"america_denver",children:"Mountain Time (US & Canada)"}),d.jsx(Se,{value:"america_chicago",children:"Central Time (US & Canada)"}),d.jsx(Se,{value:"america_new_york",children:"Eastern Time (US & Canada)"})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-0.5",children:[d.jsx(Ee,{htmlFor:"darkMode",children:"Dark Mode"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Enable dark mode for the application"})]}),d.jsx(xi,{id:"darkMode"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-0.5",children:[d.jsx(Ee,{htmlFor:"compactView",children:"Compact View"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Use a more compact layout for lists"})]}),d.jsx(xi,{id:"compactView"})]})]})]}),d.jsx(Dt,{className:"flex justify-end",children:d.jsxs(Y,{className:"bg-teal-600 hover:bg-teal-700",children:[d.jsx(Oj,{className:"h-4 w-4 mr-2"}),"Save Preferences"]})})]})]}),d.jsxs(Pr,{value:"security",className:"space-y-6",children:[d.jsxs(Ie,{className:"border-none shadow-sm",children:[d.jsxs(We,{children:[d.jsx(He,{children:"Change Password"}),d.jsx(gt,{children:"Update your password to keep your account secure"})]}),d.jsxs(Pe,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"currentPassword",children:"Current Password"}),d.jsx(tt,{id:"currentPassword",type:"password"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"newPassword",children:"New Password"}),d.jsx(tt,{id:"newPassword",type:"password"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"confirmPassword",children:"Confirm New Password"}),d.jsx(tt,{id:"confirmPassword",type:"password"})]})]}),d.jsx(Dt,{className:"flex justify-end",children:d.jsxs(Y,{className:"bg-teal-600 hover:bg-teal-700",children:[d.jsx(ble,{className:"h-4 w-4 mr-2"}),"Update Password"]})})]}),d.jsxs(Ie,{className:"border-none shadow-sm",children:[d.jsxs(We,{children:[d.jsx(He,{children:"Two-Factor Authentication"}),d.jsx(gt,{children:"Add an extra layer of security to your account"})]}),d.jsx(Pe,{className:"space-y-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-0.5",children:[d.jsx("h4",{className:"font-medium text-slate-800",children:"Enable Two-Factor Authentication"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Protect your account with an additional security layer"})]}),d.jsx(xi,{id:"twoFactor"})]})}),d.jsxs(Dt,{className:"flex justify-between",children:[d.jsxs(Y,{variant:"outline",className:"border-slate-200",children:[d.jsx(xle,{className:"h-4 w-4 mr-2"}),"Learn More"]}),d.jsxs(Y,{className:"bg-teal-600 hover:bg-teal-700",children:[d.jsx(jle,{className:"h-4 w-4 mr-2"}),"Setup 2FA"]})]})]}),d.jsxs(Ie,{className:"border-none shadow-sm",children:[d.jsxs(We,{children:[d.jsx(He,{children:"Connected Accounts"}),d.jsx(gt,{children:"Manage accounts connected to your profile"})]}),d.jsx(Pe,{className:"space-y-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:d.jsx(yle,{className:"h-5 w-5 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800",children:"Google"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Connected as jane.doe@gmail.com"})]})]}),d.jsx(Y,{variant:"outline",className:"border-slate-200",children:"Disconnect"})]})})]})]}),d.jsx(Pr,{value:"notifications",className:"space-y-6",children:d.jsxs(Ie,{className:"border-none shadow-sm",children:[d.jsxs(We,{children:[d.jsx(He,{children:"Notification Preferences"}),d.jsx(gt,{children:"Manage how you receive notifications"})]}),d.jsxs(Pe,{className:"space-y-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("h4",{className:"font-medium text-slate-800",children:"Email Notifications"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-0.5",children:[d.jsx(Ee,{htmlFor:"emailShoppingReminders",children:"Shopping Reminders"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Receive reminders about your shopping lists"})]}),d.jsx(xi,{id:"emailShoppingReminders",defaultChecked:!0})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-0.5",children:[d.jsx(Ee,{htmlFor:"emailExpenseAlerts",children:"Expense Alerts"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Get notified about new expenses and payments"})]}),d.jsx(xi,{id:"emailExpenseAlerts",defaultChecked:!0})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-0.5",children:[d.jsx(Ee,{htmlFor:"emailWeeklyDigest",children:"Weekly Digest"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Receive a weekly summary of your activities"})]}),d.jsx(xi,{id:"emailWeeklyDigest"})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h4",{className:"font-medium text-slate-800",children:"Push Notifications"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-0.5",children:[d.jsx(Ee,{htmlFor:"pushShoppingReminders",children:"Shopping Reminders"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Receive reminders about your shopping lists"})]}),d.jsx(xi,{id:"pushShoppingReminders",defaultChecked:!0})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-0.5",children:[d.jsx(Ee,{htmlFor:"pushExpenseAlerts",children:"Expense Alerts"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Get notified about new expenses and payments"})]}),d.jsx(xi,{id:"pushExpenseAlerts",defaultChecked:!0})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-0.5",children:[d.jsx(Ee,{htmlFor:"pushLocationReminders",children:"Location-based Reminders"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Get reminded when you're near a store on your list"})]}),d.jsx(xi,{id:"pushLocationReminders",defaultChecked:!0})]})]})]})]}),d.jsx(Dt,{className:"flex justify-end",children:d.jsxs(Y,{className:"bg-teal-600 hover:bg-teal-700",children:[d.jsx(sle,{className:"h-4 w-4 mr-2"}),"Save Notification Settings"]})})]})}),d.jsxs(Pr,{value:"billing",className:"space-y-6",children:[d.jsxs(Ie,{className:"border-none shadow-sm",children:[d.jsxs(We,{children:[d.jsx(He,{children:"Subscription Plan"}),d.jsx(gt,{children:"Manage your subscription and billing information"})]}),d.jsxs(Pe,{className:"space-y-6",children:[d.jsxs("div",{className:"bg-teal-50 border border-teal-100 rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800",children:"Free Plan"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Your current plan"})]}),d.jsx(Or,{className:"bg-teal-100 text-teal-800 hover:bg-teal-100",children:"Active"})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("p",{className:"text-sm text-slate-600",children:"Features included:"}),d.jsxs("ul",{className:"mt-2 space-y-1 text-sm text-slate-600",children:[d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-teal-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Up to 5 shopping lists"]}),d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-teal-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Basic expense splitting"]}),d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-teal-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Limited pantry tracking"]})]})]})]}),d.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-slate-800",children:"Premium Plan"}),d.jsx("p",{className:"text-sm text-slate-500",children:"$4.99/month"})]}),d.jsx(Y,{className:"bg-teal-600 hover:bg-teal-700",children:"Upgrade"})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("p",{className:"text-sm text-slate-600",children:"Additional features:"}),d.jsxs("ul",{className:"mt-2 space-y-1 text-sm text-slate-600",children:[d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-teal-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Unlimited shopping lists"]}),d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-teal-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Advanced expense analytics"]}),d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-teal-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Full pantry management"]}),d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-teal-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Priority support"]})]})]})]})]})]}),d.jsxs(Ie,{className:"border-none shadow-sm",children:[d.jsxs(We,{children:[d.jsx(He,{children:"Payment Methods"}),d.jsx(gt,{children:"Manage your payment methods"})]}),d.jsx(Pe,{children:d.jsxs(Y,{variant:"outline",className:"border-slate-200",children:[d.jsx(mle,{className:"h-4 w-4 mr-2"}),"Add Payment Method"]})})]})]})]}),d.jsx("div",{className:"mt-8 space-y-4",children:d.jsxs(Ie,{className:"border-none shadow-sm",children:[d.jsxs(We,{children:[d.jsx(He,{children:"Account Actions"}),d.jsx(gt,{children:"Manage your account status"})]}),d.jsxs(Pe,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-0.5",children:[d.jsx("h4",{className:"font-medium text-slate-800",children:"Export Your Data"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Download a copy of your data"})]}),d.jsx(Y,{variant:"outline",className:"border-slate-200",children:"Export Data"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-0.5",children:[d.jsx("h4",{className:"font-medium text-red-600",children:"Delete Account"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Permanently delete your account and all data"})]}),d.jsx(Y,{variant:"destructive",children:"Delete Account"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"space-y-0.5",children:[d.jsx("h4",{className:"font-medium text-slate-800",children:"Sign Out"}),d.jsx("p",{className:"text-sm text-slate-500",children:"Sign out from your account"})]}),d.jsxs(Y,{variant:"outline",className:"border-slate-200",children:[d.jsx(BV,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})]})})]})})}function F8e(){return document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"),"light"):(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark"),"dark")}function B8e(){return document.documentElement.classList.contains("dark")?"dark":"light"}const V8e=()=>{const[t,e]=_.useState(!1);_.useEffect(()=>{e(B8e()==="dark")},[]);const r=()=>{const n=F8e();e(n==="dark"),navigator.vibrate&&navigator.vibrate(50)};return d.jsx("button",{onClick:r,className:"dark-mode-toggle","aria-label":t?"Switch to light mode":"Switch to dark mode",children:t?d.jsx(Fle,{className:"w-5 h-5 text-gloop-dark-text-main"}):d.jsx(Ile,{className:"w-5 h-5 text-gloop-text-main"})})},U8e=({activeItem:t})=>{const e=uo();ra();const[r,n]=_.useState(t||e.pathname),[i,a]=_.useState(!1);Ta(),e.pathname==="/home"||e.pathname;const[o,s]=_.useState([{id:"1",type:"info",title:"Rachel added a new item",message:`Rachel added "Milk" to your shopping trip to Trader Joe's`,timestamp:new Date(Date.now()-1e3*60*5),read:!1,actionText:"View Trip",actionUrl:"/trips",sender:{name:"Rachel"}},{id:"2",type:"success",title:"Trip Completed",message:"Your shopping trip to Kroger has been completed successfully",timestamp:new Date(Date.now()-1e3*60*30),read:!0},{id:"3",type:"warning",title:"Item running low",message:"Pasta is running low in your pantry. Add it to your next shopping trip?",timestamp:new Date(Date.now()-1e3*60*60*2),read:!1,actionText:"Add to Trip",actionUrl:"/trips/new"}]);_.useEffect(()=>{n(t||e.pathname)},[e.pathname,t]),_.useEffect(()=>{a(!1)},[e.pathname]);const l=[{name:"Home",path:"/home",icon:d.jsx(pg,{className:"w-4 h-4 sm:w-5 sm:h-5"})},{name:"Map",path:"/map",icon:d.jsx(UV,{className:"w-4 h-4 sm:w-5 sm:h-5"})},{name:"Trips",path:"/trips",icon:d.jsx(Wr,{className:"w-4 h-4 sm:w-5 sm:h-5"})},{name:"Pantry",path:"/pantry",icon:d.jsx(Li,{className:"w-4 h-4 sm:w-5 sm:h-5"})},{name:"Ledger",path:"/ledger",icon:d.jsx(OP,{className:"w-4 h-4 sm:w-5 sm:h-5"})},{name:"Dashboard",path:"/dashboard",icon:d.jsx(_le,{className:"w-4 h-4 sm:w-5 sm:h-5"})},{name:"Profile",path:"/profile",icon:d.jsx(mg,{className:"w-4 h-4 sm:w-5 sm:h-5"})}],c=u=>{So.light(),n(u)};return d.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-30 bg-white dark:bg-gloop-dark-surface border-t border-gloop-outline dark:border-gloop-dark-outline shadow-lg",children:[d.jsx("div",{className:"absolute top-0 right-0 -mt-16 pr-4 flex gap-2",children:d.jsx(V8e,{})}),d.jsx("nav",{className:"flex justify-between items-center w-full max-w-xs sm:max-w-md md:max-w-lg lg:max-w-2xl mx-auto px-1 sm:px-2",children:l.map(u=>{const f=r===u.path||r===u.name.toLowerCase()||u.path==="/home"&&r==="/";return d.jsx(ds.div,{className:"flex flex-col items-center",whileHover:{scale:1.05},whileTap:{scale:.95},transition:{duration:.2},children:d.jsxs(of,{to:u.path,onClick:()=>c(u.path),className:Ae("flex flex-col items-center py-1.5 sm:py-2 px-1.5 sm:px-2.5 transition-all duration-300 relative",f?"text-gloop-primary dark:text-gloop-primary":"text-gloop-text-muted hover:text-gloop-text-main dark:text-gloop-dark-text-muted dark:hover:text-gloop-dark-text-main"),children:[f&&d.jsx(ds.div,{layoutId:"activeTab",className:"absolute -top-1 w-6 sm:w-8 h-1 rounded-full bg-gloop-primary",initial:{opacity:0},animate:{opacity:1},transition:{type:"spring",stiffness:500,damping:30,opacity:{duration:.2}}}),d.jsx(ds.div,{className:Ae("p-1.5 sm:p-2 rounded-full mb-0.5 sm:mb-1 transition-all duration-300",f?"bg-gloop-accent/80 dark:bg-gloop-dark-accent/80 scale-110":"bg-transparent hover:bg-gloop-accent/20 dark:hover:bg-gloop-dark-accent/20"),animate:{scale:f?1.1:1,backgroundColor:f?"var(--gloop-accent-translucent)":"transparent"},transition:{duration:.3},children:u.icon}),d.jsx(ds.span,{className:"text-[10px] sm:text-xs font-medium transition-all duration-300",animate:{scale:f?1.05:1,fontWeight:f?"600":"500"},transition:{duration:.2},children:u.name})]})},u.path)})})]})},z8e=()=>{const{user:t,updateChorePreferences:e,isLoading:r}=Nb(),{tasks:n}=ks(),{toast:i}=Ta(),[a,o]=_.useState([]);_.useEffect(()=>{t&&t.chorePreferences&&o(t.chorePreferences)},[t]);const s=j.useMemo(()=>{if(!n)return[];const f=new Set;return n.forEach(h=>f.add(h.title)),Array.from(f).map(h=>({id:h,name:h}))},[n]),l=(f,h)=>{o(p=>{const m=p.findIndex(g=>g.choreId===f);if(m>-1){const g=[...p];return g[m]={...g[m],preference:h},g}return[...p,{choreId:f,preference:h}]})},c=async()=>{if(!t){i({title:"Error",description:"You must be logged in to save preferences.",variant:"destructive"});return}try{await e(a),i({title:"Preferences Saved",description:"Your chore preferences have been updated."})}catch(f){i({title:"Save Failed",description:"Could not save your chore preferences. Please try again.",variant:"destructive"}),console.error("Failed to save chore preferences:",f)}};if(r)return d.jsx("div",{className:"p-4",children:"Loading settings..."});const u=f=>{const h=a.find(p=>p.choreId===f);return h?h.preference:"neutral"};return d.jsxs("div",{className:"flex flex-col min-h-screen",children:[d.jsx("main",{className:"flex-grow p-4 md:p-8",children:d.jsxs(Ie,{className:"max-w-2xl mx-auto",children:[d.jsxs(We,{children:[d.jsx(He,{className:"text-2xl font-bold",children:"Settings"}),d.jsx(gt,{children:"Manage your application settings and preferences."})]}),d.jsx(Pe,{className:"space-y-6",children:d.jsxs("section",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Chore Preferences"}),d.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Let us know which chores you like or dislike. This can help with future chore assignments."}),s.length===0&&!r&&d.jsx("p",{className:"text-sm text-muted-foreground",children:"No chores available to set preferences for yet. Add some tasks first!"}),d.jsx("div",{className:"space-y-4",children:s.map(f=>d.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[d.jsx(Ee,{htmlFor:`pref-${f.id}`,className:"flex-grow pr-4",children:f.name}),d.jsxs(pr,{value:u(f.id),onValueChange:h=>l(f.id,h),children:[d.jsx(rr,{id:`pref-${f.id}`,className:"w-[150px]",children:d.jsx(mr,{placeholder:"Set preference"})}),d.jsxs(nr,{children:[d.jsx(Se,{value:"liked",children:"Liked"}),d.jsx(Se,{value:"neutral",children:"Neutral"}),d.jsx(Se,{value:"disliked",children:"Disliked"})]})]})]},f.id))}),s.length>0&&d.jsx(Y,{onClick:c,className:"mt-6",disabled:r,children:r?"Saving...":"Save Chore Preferences"})]})})]})}),d.jsx(U8e,{})]})},PY=t=>{if(!t)return"Uncategorized";const r=sT().find(n=>n.id===t);return r?r.label:"Uncategorized"},_T=({category:t,className:e="h-4 w-4"})=>{switch(t){case"food":return d.jsx(gC,{className:e});case"utilities":return d.jsx(vC,{className:e});case"rent":return d.jsx(uC,{className:e});case"entertainment":return d.jsx(hC,{className:e});case"transportation":return d.jsx(sx,{className:e});case"groceries":return d.jsx(Wr,{className:e});case"household":return d.jsx(pg,{className:e});case"personal":return d.jsx(mg,{className:e});case"medical":return d.jsx(mC,{className:e});case"other":default:return d.jsx(fC,{className:e})}},S6=({category:t})=>{if(!t)return null;const e=()=>{switch(t){case"food":return"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-300";case"utilities":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300";case"rent":return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-300";case"entertainment":return"bg-pink-100 text-pink-800 dark:bg-pink-900/20 dark:text-pink-300";case"transportation":return"bg-cyan-100 text-cyan-800 dark:bg-cyan-900/20 dark:text-cyan-300";case"groceries":return"bg-lime-100 text-lime-800 dark:bg-lime-900/20 dark:text-lime-300";case"household":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/20 dark:text-indigo-300";case"personal":return"bg-amber-100 text-amber-800 dark:bg-amber-900/20 dark:text-amber-300";case"medical":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";case"other":return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}};return d.jsxs("div",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${e()}`,children:[d.jsx(_T,{category:t,className:"h-3 w-3 mr-1"}),d.jsx("span",{children:PY(t)})]})},W8e=()=>{const[t,e]=_.useState("balances"),[r,n]=_.useState([]),[i,a]=_.useState([]),[o,s]=_.useState([]),[l,c]=_.useState(!1),[u,f]=_.useState(null),[h,p]=_.useState(""),[m,g]=_.useState(""),[v,y]=_.useState(""),[x,b]=_.useState(""),[S,E]=_.useState(!1),[C,A]=_.useState("all"),[T,I]=_.useState("all"),[N,O]=_.useState("all"),[R,k]=_.useState("all"),[M,U]=_.useState(void 0),[L,z]=_.useState(null),{toast:B}=Ta();_.useEffect(()=>{if(L){const X=de=>{de.target.closest(".category-menu-container")||z(null)};return document.addEventListener("mousedown",X),()=>{document.removeEventListener("mousedown",X)}}},[L]),_.useEffect(()=>{$()},[]);const $=()=>{const X=S2();n(X);const de=rY();a(de);const ge=dDe();s(ge)},W=X=>{f(X),p(X.amount.toFixed(2)),g(`Payment from ${X.from.userName} to ${X.to.userName}`),c(!0)},H=X=>{try{pDe(X),$(),B({title:"Payment confirmed",description:"The payment has been successfully confirmed."})}catch{B({title:"Error confirming payment",description:"There was a problem confirming this payment.",variant:"destructive"})}},G=X=>{try{mDe(X),$(),B({title:"Payment cancelled",description:"The payment has been cancelled."})}catch{B({title:"Error cancelling payment",description:"There was a problem cancelling this payment.",variant:"destructive"})}},Z=()=>{var de;if(!u)return;const X=parseFloat(h);if(isNaN(X)||X<=0){B({title:"Invalid amount",description:"Please enter a valid amount greater than 0.",variant:"destructive"});return}if(!m.trim()){B({title:"Description required",description:"Please enter a description for this payment.",variant:"destructive"});return}if(!v&&!u.to.userId){B({title:"Recipient required",description:"Please select a recipient for this payment.",variant:"destructive"});return}try{hDe(u.from.userId,u.from.userName,v||u.to.userId,v?((de=i.find(ge=>ge.userId===v))==null?void 0:de.userName)||"":u.to.userName,X,m),p(""),g(""),y(""),f(null),c(!1),$(),B({title:"Payment recorded",description:"Your payment has been recorded successfully."})}catch{B({title:"Error recording payment",description:"There was a problem recording this payment.",variant:"destructive"})}},se=()=>{if(i.length===0){B({title:"No users available",description:"You need at least one other user to make a payment.",variant:"destructive"});return}f({from:i[0],to:i.length>1?i[1]:i[0],amount:0}),p(""),g(""),c(!0)},ce=i.find(X=>X.userName==="You"),Oe=(ce==null?void 0:ce.netBalance)&&ce.netBalance>0,pe=(ce==null?void 0:ce.netBalance)&&ce.netBalance<0,J=o.filter(X=>X.from.userName==="You"||X.to.userName==="You"),q=r.filter(X=>X.status==="pending");r.filter(X=>X.status==="completed");const ae=r.filter(X=>{if(C!=="all"&&X.status!==C||T!=="all"&&X.type!==T||R!=="all"&&X.category!==R)return!1;if(N!=="all"){if(N==="sent"&&X.fromUserName!=="You")return!1;if(N==="received"&&X.toUserName!=="You")return!1}if(x.trim()){const de=x.toLowerCase();return X.description.toLowerCase().includes(de)||X.fromUserName.toLowerCase().includes(de)||X.toUserName.toLowerCase().includes(de)||`$${X.amount.toFixed(2)}`.includes(de)||X.category&&X.category.toLowerCase().includes(de)}return!0}),re=q.filter(X=>{if(C!=="all"&&C!=="pending"||T!=="all"&&X.type!==T||R!=="all"&&X.category!==R)return!1;if(N!=="all"){if(N==="sent"&&X.fromUserName!=="You")return!1;if(N==="received"&&X.toUserName!=="You")return!1}if(x.trim()){const de=x.toLowerCase();return X.description.toLowerCase().includes(de)||X.fromUserName.toLowerCase().includes(de)||X.toUserName.toLowerCase().includes(de)||`$${X.amount.toFixed(2)}`.includes(de)||X.category&&X.category.toLowerCase().includes(de)}return!0}),ee=ae.reduce((X,de)=>{const ge=new Date(de.timestamp).toDateString();return X[ge]||(X[ge]=[]),X[ge].push(de),X},{}),$e=Object.keys(ee).sort((X,de)=>new Date(de).getTime()-new Date(X).getTime()),De=re.length>0?{"Pending Transactions":re}:{},fe=()=>{b(""),A("all"),I("all"),O("all"),k("all"),E(!1)},ue=()=>{if(r.length===0){B({title:"No transactions to export",description:"There are no transactions to export."});return}try{const ge=[["Date","Description","From","To","Amount","Status","Category"].join(","),...r.map(Er=>[Hr(new Date(Er.timestamp),"yyyy-MM-dd"),`"${Er.description.replace(/"/g,'""')}"`,Er.fromUserName,Er.toUserName,Er.amount.toFixed(2),Er.status,PY(Er.category)].join(","))].join(`
`),ct=new Blob([ge],{type:"text/csv;charset=utf-8;"}),Rr=URL.createObjectURL(ct),Dr=document.createElement("a");Dr.href=Rr,Dr.setAttribute("download",`ledger-transactions-${Hr(new Date,"yyyy-MM-dd")}.csv`),document.body.appendChild(Dr),Dr.click(),document.body.removeChild(Dr),B({title:"Export successful",description:"Your transactions have been exported to CSV."})}catch{B({title:"Export failed",description:"There was a problem exporting your transactions.",variant:"destructive"})}};i.filter(X=>X.userName!=="You");const ke=(X,de)=>{try{gDe(X,de),z(null),$(),B({title:"Category updated",description:"Transaction category has been updated."})}catch{B({title:"Error updating category",description:"There was a problem updating the category.",variant:"destructive"})}};return d.jsxs(Ds,{children:[d.jsxs("div",{className:"px-[5vw] md:px-[8vw] lg:px-[10vw] py-6 md:py-8 pb-20 md:pb-24",children:[d.jsxs("header",{className:"mb-6 md:mb-8",children:[d.jsx("h1",{className:"text-[clamp(1.875rem,4vw,2.5rem)] font-bold mb-2 bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-green-600 dark:from-blue-400 dark:to-green-400",children:"Ledger"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Track expenses and settle debts with your household"})]}),d.jsx(Ie,{className:"mb-6 border border-gray-200 dark:border-gray-700 shadow-sm overflow-hidden",children:d.jsx(Pe,{className:"p-6",children:d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Your Balance"}),(ce==null?void 0:ce.netBalance)===0?d.jsxs("div",{className:"relative",children:[d.jsxs(ds.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,type:"spring"},className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:"$0.00"}),d.jsx(ds.div,{initial:{opacity:0,scale:0,rotate:-45},animate:{opacity:1,scale:1,rotate:0},transition:{delay:.3,duration:.5,type:"spring"},className:"bg-green-500 dark:bg-green-600 text-white rounded-full p-1",children:d.jsx(Nf,{className:"h-4 w-4"})})]}),d.jsx(ds.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5,duration:.3},className:"text-sm text-green-600 dark:text-green-400 mt-1",children:"All settled up! "})]}):d.jsxs("div",{className:"flex items-baseline",children:[d.jsx("span",{className:`text-2xl font-bold ${Oe?"text-green-600 dark:text-green-400":pe?"text-red-600 dark:text-red-400":"text-gray-800 dark:text-gray-200"}`,children:ce!=null&&ce.netBalance?`$${Math.abs(ce.netBalance).toFixed(2)}`:"$0.00"}),d.jsx("span",{className:"ml-2 text-sm text-gray-500",children:Oe?"owed to you":pe?"you owe":""})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(Y,{onClick:se,className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white",children:[d.jsx(jc,{className:"mr-2 h-4 w-4"}),"Send Money"]}),d.jsx(Y,{onClick:$,variant:"outline",className:"border-gray-200 dark:border-gray-700",children:d.jsx(zV,{className:"h-4 w-4"})})]})]})})}),J.length>0&&d.jsxs("div",{className:"mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold mb-3 bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-green-500",children:"Recommended Payments"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-5",children:J.map((X,de)=>d.jsxs(Ie,{className:"border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-shadow duration-200 flex flex-col overflow-hidden",children:[d.jsx("div",{className:`h-2 w-full ${X.from.userName==="You"?"bg-gradient-to-r from-amber-400 to-red-400":"bg-gradient-to-r from-green-400 to-teal-400"}`}),d.jsxs(We,{className:"p-4 pb-2",children:[d.jsxs(He,{className:"text-lg font-semibold flex items-center justify-between",children:[X.from.userName==="You"?"You should pay":"Incoming payment",d.jsx(Or,{variant:X.from.userName==="You"?"destructive":"secondary",className:"ml-2",children:X.from.userName==="You"?"Outgoing":"Incoming"})]}),d.jsx(gt,{className:"text-sm text-gray-500 dark:text-gray-400",children:X.from.userName==="You"?`You owe ${X.to.userName} money`:`${X.from.userName} owes you money`})]}),d.jsx(Pe,{className:"p-4 pt-2 flex-grow",children:d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Vr,{className:"h-8 w-8",children:d.jsx(Ur,{className:`${X.from.userName==="You"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300"}`,children:X.from.userName==="You"?"Y":X.from.userName.charAt(0)})}),d.jsx(ale,{className:"h-4 w-4 mx-1 text-gray-400"}),d.jsx(Vr,{className:"h-8 w-8",children:d.jsx(Ur,{className:`${X.to.userName==="You"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300"}`,children:X.to.userName==="You"?"Y":X.to.userName.charAt(0)})})]}),d.jsxs("div",{className:"text-xl font-bold",children:["$",X.amount.toFixed(2)]})]})}),d.jsx(Dt,{className:"p-3 pt-0 flex gap-2 justify-end border-t border-gray-100 dark:border-gray-800",children:X.from.userName==="You"?d.jsxs(d.Fragment,{children:[d.jsxs(Y,{variant:"outline",size:"sm",className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",onClick:()=>{B({title:"Reminder added",description:"You'll be reminded about this payment later."})},children:[d.jsx(ln,{className:"h-4 w-4 mr-1"}),"Remind me"]}),d.jsxs(Y,{onClick:()=>W(X),size:"sm",className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white",children:[d.jsx(jc,{className:"h-4 w-4 mr-1"}),"Pay now"]})]}):d.jsxs(Y,{variant:"outline",size:"sm",className:"border-green-500 text-green-500 hover:bg-green-50 dark:hover:bg-green-900/20",onClick:()=>{B({title:"Payment request sent",description:`A payment reminder was sent to ${X.from.userName}.`})},children:[d.jsx(jc,{className:"h-4 w-4 mr-1"}),"Request payment"]})})]},de))})]}),d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Transaction History"}),r.length>0&&d.jsxs(Y,{variant:"outline",size:"sm",className:"h-8 text-xs border-gray-200 dark:border-gray-700",onClick:ue,children:[d.jsx(FV,{className:"h-4 w-4 mr-1.5"}),"Export Transactions"]})]}),d.jsxs(Cu,{value:t,onValueChange:e,children:[d.jsxs(nc,{className:"bg-gray-100/50 dark:bg-gray-800/50 p-1 mb-4",children:[d.jsx(tr,{value:"balances",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm",children:"Balances"}),d.jsxs(tr,{value:"transactions",className:"data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm relative",children:["Transactions",re.length>0&&d.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 min-w-5 items-center justify-center rounded-full bg-yellow-500 dark:bg-yellow-600 text-[10px] text-white px-1 font-semibold",children:re.length})]})]}),d.jsx(Pr,{value:"balances",className:"mt-0",children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:i.length>0?i.map(X=>d.jsx(Ie,{className:"border border-gray-200 dark:border-gray-700 shadow-sm flex flex-col",children:d.jsx(Pe,{className:"p-4 flex-grow",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Vr,{className:"h-10 w-10",children:d.jsx(Ur,{className:`${X.userName==="You"?"bg-gradient-to-br from-blue-500 to-green-500 text-white":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}`,children:X.userName.charAt(0)})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:X.userName}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:X.userName==="You"?Oe?"Others owe you":pe?"You owe others":"All settled up":X.netBalance>0?`Owes you $${X.netBalance.toFixed(2)}`:X.netBalance<0?`You owe $${Math.abs(X.netBalance).toFixed(2)}`:"All settled up"})]})]}),d.jsx("div",{className:`text-lg font-semibold ${X.userName!=="You"&&X.netBalance>0?"text-green-600 dark:text-green-400":X.userName!=="You"&&X.netBalance<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-300"}`,children:X.userName!=="You"&&X.netBalance!==0&&`${X.netBalance>0?"+":""}$${X.netBalance.toFixed(2)}`})]})})},X.userId)):d.jsx(Ie,{className:"border border-dashed border-gray-200 dark:border-gray-700",children:d.jsxs(Pe,{className:"p-6 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500/20 to-green-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:d.jsx(OP,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),d.jsx("h3",{className:"text-lg font-medium mb-2",children:"No balance information"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:"Start making transactions to track balances"})]})})})}),d.jsxs(Pr,{value:"transactions",className:"mt-0",children:[d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"relative",children:[d.jsxs("div",{className:"relative mb-3",children:[d.jsx(HV,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),d.jsx(tt,{placeholder:"Search transactions...",value:x,onChange:X=>b(X.target.value),className:"pl-9 pr-12"}),x&&d.jsx("button",{className:"absolute right-12 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>b(""),children:d.jsx(ls,{className:"h-4 w-4"})}),d.jsx("button",{className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${S?"text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>E(!S),children:d.jsx(Mle,{className:"h-4 w-4"})})]}),S&&d.jsx(Ie,{className:"mb-4 border border-gray-200 dark:border-gray-700 shadow-sm",children:d.jsxs(Pe,{className:"p-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-3",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Filters"}),d.jsxs(Y,{variant:"ghost",size:"sm",className:"text-xs h-7 px-2 text-blue-600 dark:text-blue-400",onClick:fe,children:[d.jsx(vle,{className:"h-3.5 w-3.5 mr-1"}),"Reset filters"]})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[d.jsxs("div",{children:[d.jsx(Ee,{htmlFor:"status-filter",className:"text-xs mb-1.5",children:"Status"}),d.jsxs(pr,{value:C,onValueChange:A,children:[d.jsx(rr,{id:"status-filter",className:"h-8 text-xs",children:d.jsx(mr,{placeholder:"Filter by status"})}),d.jsxs(nr,{children:[d.jsx(Se,{value:"all",children:"All Statuses"}),d.jsx(Se,{value:"pending",children:"Pending"}),d.jsx(Se,{value:"completed",children:"Completed"}),d.jsx(Se,{value:"cancelled",children:"Cancelled"})]})]})]}),d.jsxs("div",{children:[d.jsx(Ee,{htmlFor:"type-filter",className:"text-xs mb-1.5",children:"Type"}),d.jsxs(pr,{value:T,onValueChange:I,children:[d.jsx(rr,{id:"type-filter",className:"h-8 text-xs",children:d.jsx(mr,{placeholder:"Filter by type"})}),d.jsxs(nr,{children:[d.jsx(Se,{value:"all",children:"All Types"}),d.jsx(Se,{value:"payment",children:"Payments"}),d.jsx(Se,{value:"expense",children:"Expenses"})]})]})]}),d.jsxs("div",{children:[d.jsx(Ee,{htmlFor:"user-filter",className:"text-xs mb-1.5",children:"Direction"}),d.jsxs(pr,{value:N,onValueChange:O,children:[d.jsx(rr,{id:"user-filter",className:"h-8 text-xs",children:d.jsx(mr,{placeholder:"Filter by user"})}),d.jsxs(nr,{children:[d.jsx(Se,{value:"all",children:"All Transactions"}),d.jsx(Se,{value:"sent",children:"Sent by You"}),d.jsx(Se,{value:"received",children:"Received by You"})]})]})]}),d.jsxs("div",{children:[d.jsx(Ee,{htmlFor:"category-filter",className:"text-xs mb-1.5",children:"Category"}),d.jsxs(pr,{value:R,onValueChange:k,children:[d.jsx(rr,{id:"category-filter",className:"h-8 text-xs",children:d.jsx(mr,{placeholder:"Filter by category"})}),d.jsxs(nr,{children:[d.jsx(Se,{value:"all",children:"All Categories"}),d.jsxs(Se,{value:"food",className:"flex items-center",children:[d.jsx(gC,{className:"h-3.5 w-3.5 mr-2"}),d.jsx("span",{children:"Food & Dining"})]}),d.jsxs(Se,{value:"groceries",className:"flex items-center",children:[d.jsx(Wr,{className:"h-3.5 w-3.5 mr-2"}),d.jsx("span",{children:"Groceries"})]}),d.jsxs(Se,{value:"household",className:"flex items-center",children:[d.jsx(pg,{className:"h-3.5 w-3.5 mr-2"}),d.jsx("span",{children:"Household"})]}),d.jsxs(Se,{value:"utilities",className:"flex items-center",children:[d.jsx(vC,{className:"h-3.5 w-3.5 mr-2"}),d.jsx("span",{children:"Utilities"})]}),d.jsxs(Se,{value:"rent",className:"flex items-center",children:[d.jsx(uC,{className:"h-3.5 w-3.5 mr-2"}),d.jsx("span",{children:"Rent & Mortgage"})]}),d.jsxs(Se,{value:"transportation",className:"flex items-center",children:[d.jsx(sx,{className:"h-3.5 w-3.5 mr-2"}),d.jsx("span",{children:"Transportation"})]}),d.jsxs(Se,{value:"entertainment",className:"flex items-center",children:[d.jsx(hC,{className:"h-3.5 w-3.5 mr-2"}),d.jsx("span",{children:"Entertainment"})]}),d.jsxs(Se,{value:"personal",className:"flex items-center",children:[d.jsx(mg,{className:"h-3.5 w-3.5 mr-2"}),d.jsx("span",{children:"Personal"})]}),d.jsxs(Se,{value:"medical",className:"flex items-center",children:[d.jsx(mC,{className:"h-3.5 w-3.5 mr-2"}),d.jsx("span",{children:"Medical"})]}),d.jsxs(Se,{value:"other",className:"flex items-center",children:[d.jsx(fC,{className:"h-3.5 w-3.5 mr-2"}),d.jsx("span",{children:"Other"})]})]})]})]})]})]})})]}),re.length>0&&d.jsx("div",{className:"mb-6 rounded-lg border border-yellow-200 dark:border-yellow-800 bg-yellow-50 dark:bg-yellow-900/20 p-4",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-full bg-yellow-100 dark:bg-yellow-900/50",children:d.jsx(ln,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium",children:"Pending Payments"}),d.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["You have ",re.length," pending payment",re.length!==1?"s":""," that ",re.length!==1?"need":"needs"," attention"]})]})]})})]}),$e.length>0||q.length>0?d.jsxs("div",{className:"space-y-6",children:[Object.entries(De).map(([X,de])=>d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold mb-3 sticky top-0 bg-opacity-80 backdrop-blur-sm py-2 px-1 -mx-1 z-10 bg-gradient-to-r from-yellow-500/10 via-yellow-500/20 to-yellow-500/10 dark:from-yellow-900/20 dark:via-yellow-900/30 dark:to-yellow-900/20 border-b border-yellow-200 dark:border-yellow-800/50",children:[X," (",de.length,")"]}),d.jsx("div",{className:"space-y-3",children:de.map(ge=>d.jsxs(Ie,{className:`border shadow-sm ${ge.status==="pending"?"border-yellow-500/50 dark:border-yellow-400/40 ring-1 ring-yellow-400/30 dark:ring-yellow-500/30":"border-gray-200 dark:border-gray-700"} flex flex-col`,children:[ge.status==="pending"&&d.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-yellow-400 to-yellow-500"}),d.jsx(Pe,{className:`p-4 flex-grow ${ge.status==="pending"?"bg-yellow-50/50 dark:bg-yellow-900/10":""}`,children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:`p-2 rounded-full ${ge.type==="payment"?ge.status==="pending"?"bg-yellow-100 dark:bg-yellow-900/30":"bg-blue-100 dark:bg-blue-900/30":ge.type==="expense"?"bg-amber-100 dark:bg-amber-900/30":"bg-green-100 dark:bg-green-900/30"}`,children:ge.status==="pending"&&ge.type==="payment"?d.jsx(ln,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"}):ge.type==="payment"?d.jsx(jc,{className:`h-5 w-5 ${ge.fromUserName==="You"?"text-blue-600 dark:text-blue-400":"text-green-600 dark:text-green-400"}`}):ge.type==="expense"?d.jsx(Pj,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"}):d.jsx(sf,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:ge.description}),d.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 mt-1",children:[d.jsx(dC,{className:"h-3.5 w-3.5 mr-1"}),d.jsxs("span",{children:[Hr(new Date(ge.timestamp),"MMM d, yyyy"),"  ",t4(new Date(ge.timestamp))," ago"]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx("span",{className:"font-medium mr-1",children:"From:"}),d.jsx(Vr,{className:"h-5 w-5 mr-1",children:d.jsx(Ur,{className:"text-xs",children:ge.fromUserName.charAt(0)})}),d.jsx("span",{children:ge.fromUserName})]}),d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx("span",{className:"font-medium mr-1",children:"To:"}),d.jsx(Vr,{className:"h-5 w-5 mr-1",children:d.jsx(Ur,{className:"text-xs",children:ge.toUserName.charAt(0)})}),d.jsx("span",{children:ge.toUserName})]})]}),d.jsx("div",{className:"mt-2 flex items-center",children:d.jsxs("div",{className:"relative inline-block category-menu-container",children:[ge.category?d.jsx("div",{className:"cursor-pointer",onClick:ct=>{ct.stopPropagation(),z(L===ge.id?null:ge.id)},children:d.jsx(S6,{category:ge.category})}):d.jsxs(Y,{variant:"outline",size:"sm",className:"h-6 px-2 text-xs",onClick:ct=>{ct.stopPropagation(),z(L===ge.id?null:ge.id)},children:[d.jsx(Rj,{className:"h-3 w-3 mr-1"}),"Categorize"]}),L===ge.id&&d.jsxs("div",{className:"absolute top-full left-0 mt-1 z-50 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 p-2 w-48 category-menu-container",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2 px-2",children:[d.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Select a category"}),d.jsx("button",{onClick:ct=>{ct.stopPropagation(),z(null)},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:d.jsx(ls,{className:"h-3 w-3"})})]}),sT().map(ct=>d.jsxs("button",{className:"flex items-center gap-2 w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",onClick:Rr=>{Rr.stopPropagation(),ke(ge.id,ct.id)},children:[d.jsx(_T,{category:ct.id,className:"h-3.5 w-3.5"}),d.jsx("span",{children:ct.label})]},ct.id))]})]})}),ge.status==="pending"&&ge.type==="payment"&&d.jsx("div",{className:"flex gap-2 mt-3",children:ge.fromUserName==="You"?d.jsxs(Or,{variant:"outline",className:"bg-yellow-50 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300",children:[d.jsx(ln,{className:"h-3 w-3 mr-1"}),"Awaiting confirmation"]}):d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(Y,{size:"sm",variant:"outline",className:"h-7 px-2 border-red-200 hover:border-red-300 dark:border-red-900 dark:hover:border-red-800",onClick:()=>G(ge.id),children:[d.jsx(ls,{className:"h-3 w-3 mr-1 text-red-600 dark:text-red-400"}),d.jsx("span",{className:"text-xs text-red-600 dark:text-red-400",children:"Decline"})]}),d.jsxs(Y,{size:"sm",className:"h-7 px-2 bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white",onClick:()=>H(ge.id),children:[d.jsx(Nf,{className:"h-3 w-3 mr-1"}),d.jsx("span",{className:"text-xs",children:"Confirm"})]})]})})]})]}),d.jsxs("div",{className:"flex flex-col items-end",children:[d.jsx("span",{className:`font-semibold ${ge.fromUserName==="You"?"text-red-600 dark:text-red-400":ge.toUserName==="You"?"text-green-600 dark:text-green-400":"text-gray-800 dark:text-gray-200"}`,children:ge.fromUserName==="You"?`-$${ge.amount.toFixed(2)}`:ge.toUserName==="You"?`+$${ge.amount.toFixed(2)}`:`$${ge.amount.toFixed(2)}`}),d.jsx(Or,{className:`mt-1 ${ge.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":ge.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300"}`,children:ge.status.charAt(0).toUpperCase()+ge.status.slice(1)})]})]})})]},ge.id))})]},X)),$e.map(X=>d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold mb-3 sticky top-0 bg-opacity-80 backdrop-blur-sm py-2 px-1 -mx-1 z-10 bg-gradient-to-r from-blue-500/5 via-green-500/5 to-blue-500/5 dark:from-blue-900/20 dark:via-green-900/20 dark:to-blue-900/20",children:Hr(new Date(X),"MMMM d, yyyy")}),d.jsx("div",{className:"space-y-3",children:ee[X].filter(de=>de.status!=="pending").map(de=>d.jsx(Ie,{className:"border shadow-sm border-gray-200 dark:border-gray-700 flex flex-col",children:d.jsx(Pe,{className:"p-4 flex-grow",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:`p-2 rounded-full ${de.type==="payment"?"bg-blue-100 dark:bg-blue-900/30":de.type==="expense"?"bg-amber-100 dark:bg-amber-900/30":"bg-green-100 dark:bg-green-900/30"}`,children:de.type==="payment"?d.jsx(jc,{className:`h-5 w-5 ${de.fromUserName==="You"?"text-blue-600 dark:text-blue-400":"text-green-600 dark:text-green-400"}`}):de.type==="expense"?d.jsx(Pj,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"}):d.jsx(sf,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:de.description}),d.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 mt-1",children:[d.jsx(dC,{className:"h-3.5 w-3.5 mr-1"}),d.jsxs("span",{children:[Hr(new Date(de.timestamp),"MMM d, yyyy"),"  ",t4(new Date(de.timestamp))," ago"]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx("span",{className:"font-medium mr-1",children:"From:"}),d.jsx(Vr,{className:"h-5 w-5 mr-1",children:d.jsx(Ur,{className:"text-xs",children:de.fromUserName.charAt(0)})}),d.jsx("span",{children:de.fromUserName})]}),d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx("span",{className:"font-medium mr-1",children:"To:"}),d.jsx(Vr,{className:"h-5 w-5 mr-1",children:d.jsx(Ur,{className:"text-xs",children:de.toUserName.charAt(0)})}),d.jsx("span",{children:de.toUserName})]})]}),d.jsx("div",{className:"mt-2 flex items-center",children:d.jsxs("div",{className:"relative inline-block category-menu-container",children:[de.category?d.jsx("div",{className:"cursor-pointer",onClick:ge=>{ge.stopPropagation(),z(L===de.id?null:de.id)},children:d.jsx(S6,{category:de.category})}):d.jsxs(Y,{variant:"outline",size:"sm",className:"h-6 px-2 text-xs",onClick:ge=>{ge.stopPropagation(),z(L===de.id?null:de.id)},children:[d.jsx(Rj,{className:"h-3 w-3 mr-1"}),"Categorize"]}),L===de.id&&d.jsxs("div",{className:"absolute top-full left-0 mt-1 z-50 bg-white dark:bg-gray-800 shadow-lg rounded-md border border-gray-200 dark:border-gray-700 p-2 w-48 category-menu-container",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2 px-2",children:[d.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Select a category"}),d.jsx("button",{onClick:ge=>{ge.stopPropagation(),z(null)},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:d.jsx(ls,{className:"h-3 w-3"})})]}),sT().map(ge=>d.jsxs("button",{className:"flex items-center gap-2 w-full text-left px-2 py-1.5 text-sm rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",onClick:ct=>{ct.stopPropagation(),ke(de.id,ge.id)},children:[d.jsx(_T,{category:ge.id,className:"h-3.5 w-3.5"}),d.jsx("span",{children:ge.label})]},ge.id))]})]})})]})]}),d.jsxs("div",{className:"flex flex-col items-end",children:[d.jsx("span",{className:`font-semibold ${de.fromUserName==="You"?"text-red-600 dark:text-red-400":de.toUserName==="You"?"text-green-600 dark:text-green-400":"text-gray-800 dark:text-gray-200"}`,children:de.fromUserName==="You"?`-$${de.amount.toFixed(2)}`:de.toUserName==="You"?`+$${de.amount.toFixed(2)}`:`$${de.amount.toFixed(2)}`}),d.jsx(Or,{className:`mt-1 ${de.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":de.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300"}`,children:de.status.charAt(0).toUpperCase()+de.status.slice(1)})]})]})})},de.id))})]},X))]}):d.jsx(Ie,{className:"border border-dashed border-gray-200 dark:border-gray-700",children:d.jsxs(Pe,{className:"p-6 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500/20 to-green-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:d.jsx(gle,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),d.jsx("h3",{className:"text-lg font-medium mb-2",children:"No transactions yet"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:"Start making payments or logging expenses"}),d.jsxs(Y,{onClick:se,className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white",children:[d.jsx(jc,{className:"mr-2 h-4 w-4"}),"Send Money"]})]})})]})]})]}),d.jsx(ci,{open:l,onOpenChange:c,children:d.jsxs(zn,{className:"sm:max-w-md",children:[d.jsxs(Wn,{children:[d.jsx(Hn,{children:"Send Payment"}),d.jsx(to,{children:"Create a payment to settle your balance."})]}),d.jsxs("div",{className:"space-y-4 py-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"recipient",children:"Recipient"}),d.jsxs(pr,{value:v,onValueChange:y,children:[d.jsx(rr,{children:d.jsx(mr,{placeholder:"Select recipient"})}),d.jsx(nr,{children:i.filter(X=>X.userName!=="You").map(X=>d.jsx(Se,{value:X.userId,children:X.userName},X.userId))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"amount",children:"Amount"}),d.jsxs("div",{className:"relative",children:[d.jsx(sf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),d.jsx(tt,{id:"amount",value:h,onChange:X=>p(X.target.value),className:"pl-9",placeholder:"0.00"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"description",children:"Description (optional)"}),d.jsx(tt,{id:"description",value:m,onChange:X=>g(X.target.value),placeholder:"Payment for groceries, etc."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"category",children:"Category (optional)"}),d.jsxs(pr,{value:M,onValueChange:X=>U(X),children:[d.jsx(rr,{id:"category",className:"w-full",children:d.jsx(mr,{placeholder:"Select a category"})}),d.jsxs(nr,{children:[d.jsxs(Se,{value:"food",className:"flex items-center gap-2",children:[d.jsx(gC,{className:"h-4 w-4"}),d.jsx("span",{children:"Food & Dining"})]}),d.jsxs(Se,{value:"groceries",className:"flex items-center gap-2",children:[d.jsx(Wr,{className:"h-4 w-4"}),d.jsx("span",{children:"Groceries"})]}),d.jsxs(Se,{value:"household",className:"flex items-center gap-2",children:[d.jsx(pg,{className:"h-4 w-4"}),d.jsx("span",{children:"Household"})]}),d.jsxs(Se,{value:"utilities",className:"flex items-center gap-2",children:[d.jsx(vC,{className:"h-4 w-4"}),d.jsx("span",{children:"Utilities"})]}),d.jsxs(Se,{value:"rent",className:"flex items-center gap-2",children:[d.jsx(uC,{className:"h-4 w-4"}),d.jsx("span",{children:"Rent & Mortgage"})]}),d.jsxs(Se,{value:"transportation",className:"flex items-center gap-2",children:[d.jsx(sx,{className:"h-4 w-4"}),d.jsx("span",{children:"Transportation"})]}),d.jsxs(Se,{value:"entertainment",className:"flex items-center gap-2",children:[d.jsx(hC,{className:"h-4 w-4"}),d.jsx("span",{children:"Entertainment"})]}),d.jsxs(Se,{value:"personal",className:"flex items-center gap-2",children:[d.jsx(mg,{className:"h-4 w-4"}),d.jsx("span",{children:"Personal"})]}),d.jsxs(Se,{value:"medical",className:"flex items-center gap-2",children:[d.jsx(mC,{className:"h-4 w-4"}),d.jsx("span",{children:"Medical"})]}),d.jsxs(Se,{value:"other",className:"flex items-center gap-2",children:[d.jsx(fC,{className:"h-4 w-4"}),d.jsx("span",{children:"Other"})]})]})]})]})]}),d.jsxs(eo,{className:"flex justify-between sm:justify-between gap-2",children:[d.jsx(Y,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),d.jsxs(Y,{onClick:Z,className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white",children:[d.jsx(jc,{className:"mr-2 h-4 w-4"}),"Send Payment"]})]})]})})]})},H8e=()=>{const t=uo();return _.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),d.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function G8e(t){return t==null}var q8e=G8e;const lt=ot(q8e);var K8e=Gs,Y8e=Qn,X8e=ho,Q8e="[object String]";function Z8e(t){return typeof t=="string"||!Y8e(t)&&X8e(t)&&K8e(t)==Q8e}var J8e=Z8e;const Lu=ot(J8e);var OY={exports:{}},Nt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T3=Symbol.for("react.element"),I3=Symbol.for("react.portal"),T2=Symbol.for("react.fragment"),I2=Symbol.for("react.strict_mode"),N2=Symbol.for("react.profiler"),P2=Symbol.for("react.provider"),O2=Symbol.for("react.context"),e6e=Symbol.for("react.server_context"),k2=Symbol.for("react.forward_ref"),R2=Symbol.for("react.suspense"),D2=Symbol.for("react.suspense_list"),j2=Symbol.for("react.memo"),M2=Symbol.for("react.lazy"),t6e=Symbol.for("react.offscreen"),kY;kY=Symbol.for("react.module.reference");function Pa(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case T3:switch(t=t.type,t){case T2:case N2:case I2:case R2:case D2:return t;default:switch(t=t&&t.$$typeof,t){case e6e:case O2:case k2:case M2:case j2:case P2:return t;default:return e}}case I3:return e}}}Nt.ContextConsumer=O2;Nt.ContextProvider=P2;Nt.Element=T3;Nt.ForwardRef=k2;Nt.Fragment=T2;Nt.Lazy=M2;Nt.Memo=j2;Nt.Portal=I3;Nt.Profiler=N2;Nt.StrictMode=I2;Nt.Suspense=R2;Nt.SuspenseList=D2;Nt.isAsyncMode=function(){return!1};Nt.isConcurrentMode=function(){return!1};Nt.isContextConsumer=function(t){return Pa(t)===O2};Nt.isContextProvider=function(t){return Pa(t)===P2};Nt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===T3};Nt.isForwardRef=function(t){return Pa(t)===k2};Nt.isFragment=function(t){return Pa(t)===T2};Nt.isLazy=function(t){return Pa(t)===M2};Nt.isMemo=function(t){return Pa(t)===j2};Nt.isPortal=function(t){return Pa(t)===I3};Nt.isProfiler=function(t){return Pa(t)===N2};Nt.isStrictMode=function(t){return Pa(t)===I2};Nt.isSuspense=function(t){return Pa(t)===R2};Nt.isSuspenseList=function(t){return Pa(t)===D2};Nt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===T2||t===N2||t===I2||t===R2||t===D2||t===t6e||typeof t=="object"&&t!==null&&(t.$$typeof===M2||t.$$typeof===j2||t.$$typeof===P2||t.$$typeof===O2||t.$$typeof===k2||t.$$typeof===kY||t.getModuleId!==void 0)};Nt.typeOf=Pa;OY.exports=Nt;var r6e=OY.exports,n6e=Gs,i6e=ho,a6e="[object Number]";function o6e(t){return typeof t=="number"||i6e(t)&&n6e(t)==a6e}var RY=o6e;const s6e=ot(RY);var l6e=RY;function c6e(t){return l6e(t)&&t!=+t}var u6e=c6e;const Yh=ot(u6e);var Ka=function(e){return e===0?0:e>0?1:-1},nu=function(e){return Lu(e)&&e.indexOf("%")===e.length-1},ve=function(e){return s6e(e)&&!Yh(e)},Xr=function(e){return ve(e)||Lu(e)},d6e=0,d0=function(e){var r=++d6e;return"".concat(e||"").concat(r)},$u=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ve(e)&&!Lu(e))return n;var a;if(nu(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Yh(a)&&(a=n),i&&a>r&&(a=r),a},yl=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},f6e=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},ha=function(e,r){return ve(e)&&ve(r)?function(n){return e+n*(r-e)}:function(){return r}};function Ux(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):wa(n,e))===r})}var h6e=function(e,r){return ve(e)&&ve(r)?e-r:Lu(e)&&Lu(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function df(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function ST(t){"@babel/helpers - typeof";return ST=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ST(t)}var p6e=["viewBox","children"],m6e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],E6=["points","pathLength"],gE={svg:p6e,polygon:E6,polyline:E6},N3=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],zx=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(_.isValidElement(e)&&(n=e.props),!jh(n))return null;var i={};return Object.keys(n).forEach(function(a){N3.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},g6e=function(e,r,n){return function(i){return e(r,n,i),null}},Wx=function(e,r,n){if(!jh(e)||ST(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];N3.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=g6e(o,r,n))}),i},v6e=["children"],y6e=["children"];function A6(t,e){if(t==null)return{};var r=x6e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function x6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ET(t){"@babel/helpers - typeof";return ET=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ET(t)}var C6={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ws=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},T6=null,vE=null,P3=function t(e){if(e===T6&&Array.isArray(vE))return vE;var r=[];return _.Children.forEach(e,function(n){lt(n)||(r6e.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),vE=r,T6=e,r};function ro(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return ws(i)}):n=[ws(e)],P3(t).forEach(function(i){var a=wa(i,"type.displayName")||wa(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Vi(t,e){var r=ro(t,e);return r&&r[0]}var I6=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ve(n)||n<=0||!ve(i)||i<=0)},w6e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],b6e=function(e){return e&&e.type&&Lu(e.type)&&w6e.indexOf(e.type)>=0},_6e=function(e){return e&&ET(e)==="object"&&"clipDot"in e},S6e=function(e,r,n,i){var a,o=(a=gE==null?void 0:gE[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Xe(e)&&(i&&o.includes(r)||m6e.includes(r))||n&&N3.includes(r)},nt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(_.isValidElement(e)&&(i=e.props),!jh(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;S6e((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},AT=function t(e,r){if(e===r)return!0;var n=_.Children.count(e);if(n!==_.Children.count(r))return!1;if(n===0)return!0;if(n===1)return N6(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!N6(a,o))return!1}return!0},N6=function(e,r){if(lt(e)&&lt(r))return!0;if(!lt(e)&&!lt(r)){var n=e.props||{},i=n.children,a=A6(n,v6e),o=r.props||{},s=o.children,l=A6(o,y6e);return i&&s?df(a,l)&&AT(i,s):!i&&!s?df(a,l):!1}return!1},P6=function(e,r){var n=[],i={};return P3(e).forEach(function(a,o){if(b6e(a))n.push(a);else if(a){var s=ws(a.type),l=r[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var f=c(a,s,o);n.push(f),i[s]=!0}}}),n},E6e=function(e){var r=e&&e.type;return r&&C6[r]?C6[r]:null},A6e=function(e,r){return P3(r).indexOf(e)},C6e=["children","width","height","viewBox","className","style","title","desc"];function CT(){return CT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CT.apply(this,arguments)}function T6e(t,e){if(t==null)return{};var r=I6e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function I6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function TT(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,c=T6e(t,C6e),u=i||{width:r,height:n,x:0,y:0},f=ht("recharts-surface",a);return j.createElement("svg",CT({},nt(c,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),j.createElement("title",null,s),j.createElement("desc",null,l),e)}var N6e=["children","className"];function IT(){return IT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},IT.apply(this,arguments)}function P6e(t,e){if(t==null)return{};var r=O6e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function O6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ar=j.forwardRef(function(t,e){var r=t.children,n=t.className,i=P6e(t,N6e),a=ht("recharts-layer",n);return j.createElement("g",IT({className:a},nt(i,!0),{ref:e}),r)}),bs=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},k6e=QP;function R6e(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:k6e(t,e,r)}var D6e=R6e,j6e="\\ud800-\\udfff",M6e="\\u0300-\\u036f",L6e="\\ufe20-\\ufe2f",$6e="\\u20d0-\\u20ff",F6e=M6e+L6e+$6e,B6e="\\ufe0e\\ufe0f",V6e="\\u200d",U6e=RegExp("["+V6e+j6e+F6e+B6e+"]");function z6e(t){return U6e.test(t)}var DY=z6e;function W6e(t){return t.split("")}var H6e=W6e,jY="\\ud800-\\udfff",G6e="\\u0300-\\u036f",q6e="\\ufe20-\\ufe2f",K6e="\\u20d0-\\u20ff",Y6e=G6e+q6e+K6e,X6e="\\ufe0e\\ufe0f",Q6e="["+jY+"]",NT="["+Y6e+"]",PT="\\ud83c[\\udffb-\\udfff]",Z6e="(?:"+NT+"|"+PT+")",MY="[^"+jY+"]",LY="(?:\\ud83c[\\udde6-\\uddff]){2}",$Y="[\\ud800-\\udbff][\\udc00-\\udfff]",J6e="\\u200d",FY=Z6e+"?",BY="["+X6e+"]?",e5e="(?:"+J6e+"(?:"+[MY,LY,$Y].join("|")+")"+BY+FY+")*",t5e=BY+FY+e5e,r5e="(?:"+[MY+NT+"?",NT,LY,$Y,Q6e].join("|")+")",n5e=RegExp(PT+"(?="+PT+")|"+r5e+t5e,"g");function i5e(t){return t.match(n5e)||[]}var a5e=i5e,o5e=H6e,s5e=DY,l5e=a5e;function c5e(t){return s5e(t)?l5e(t):o5e(t)}var u5e=c5e,d5e=D6e,f5e=DY,h5e=u5e,p5e=YW;function m5e(t){return function(e){e=p5e(e);var r=f5e(e)?h5e(e):void 0,n=r?r[0]:e.charAt(0),i=r?d5e(r,1).join(""):e.slice(1);return n[t]()+i}}var g5e=m5e,v5e=g5e,y5e=v5e("toUpperCase"),x5e=y5e;const L2=ot(x5e);function Lt(t){return function(){return t}}const VY=Math.cos,Hx=Math.sin,mo=Math.sqrt,Gx=Math.PI,$2=2*Gx,OT=Math.PI,kT=2*OT,Kc=1e-6,w5e=kT-Kc;function UY(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function b5e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return UY;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class _5e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?UY:b5e(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-e,c=i-r,u=o-e,f=s-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Kc)if(!(Math.abs(f*l-c*u)>Kc)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,m=i-s,g=l*l+c*c,v=p*p+m*m,y=Math.sqrt(g),x=Math.sqrt(h),b=a*Math.tan((OT-Math.acos((g+h-v)/(2*y*x)))/2),S=b/x,E=b/y;Math.abs(S-1)>Kc&&this._append`L${e+S*u},${r+S*f}`,this._append`A${a},${a},0,0,${+(f*p>u*m)},${this._x1=e+E*l},${this._y1=r+E*c}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),c=e+s,u=r+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Kc||Math.abs(this._y1-u)>Kc)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%kT+kT),h>w5e?this._append`A${n},${n},0,1,${f},${e-s},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>Kc&&this._append`A${n},${n},0,${+(h>=OT)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function O3(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new _5e(e)}function k3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function zY(t){this._context=t}zY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function F2(t){return new zY(t)}function WY(t){return t[0]}function HY(t){return t[1]}function GY(t,e){var r=Lt(!0),n=null,i=F2,a=null,o=O3(s);t=typeof t=="function"?t:t===void 0?WY:Lt(t),e=typeof e=="function"?e:e===void 0?HY:Lt(e);function s(l){var c,u=(l=k3(l)).length,f,h=!1,p;for(n==null&&(a=i(p=o())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,c,l),+e(f,c,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Lt(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Lt(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Lt(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function Ay(t,e,r){var n=null,i=Lt(!0),a=null,o=F2,s=null,l=O3(c);t=typeof t=="function"?t:t===void 0?WY:Lt(+t),e=typeof e=="function"?e:Lt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?HY:Lt(+r);function c(f){var h,p,m,g=(f=k3(f)).length,v,y=!1,x,b=new Array(g),S=new Array(g);for(a==null&&(s=o(x=l())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===y)if(y=!y)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(b[m],S[m]);s.lineEnd(),s.areaEnd()}y&&(b[h]=+t(v,h,f),S[h]=+e(v,h,f),s.point(n?+n(v,h,f):b[h],r?+r(v,h,f):S[h]))}if(x)return s=null,x+""||null}function u(){return GY().defined(i).curve(o).context(a)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Lt(+f),n=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Lt(+f),c):t},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Lt(+f),c):n},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Lt(+f),r=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Lt(+f),c):e},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Lt(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(r)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Lt(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),c):o},c.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),c):a},c}class qY{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function S5e(t){return new qY(t,!0)}function E5e(t){return new qY(t,!1)}const R3={draw(t,e){const r=mo(e/Gx);t.moveTo(r,0),t.arc(0,0,r,0,$2)}},A5e={draw(t,e){const r=mo(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},KY=mo(1/3),C5e=KY*2,T5e={draw(t,e){const r=mo(e/C5e),n=r*KY;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},I5e={draw(t,e){const r=mo(e),n=-r/2;t.rect(n,n,r,r)}},N5e=.8908130915292852,YY=Hx(Gx/10)/Hx(7*Gx/10),P5e=Hx($2/10)*YY,O5e=-VY($2/10)*YY,k5e={draw(t,e){const r=mo(e*N5e),n=P5e*r,i=O5e*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=$2*a/5,s=VY(o),l=Hx(o);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},yE=mo(3),R5e={draw(t,e){const r=-mo(e/(yE*3));t.moveTo(0,r*2),t.lineTo(-yE*r,-r),t.lineTo(yE*r,-r),t.closePath()}},aa=-.5,oa=mo(3)/2,RT=1/mo(12),D5e=(RT/2+1)*3,j5e={draw(t,e){const r=mo(e/D5e),n=r/2,i=r*RT,a=n,o=r*RT+r,s=-a,l=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(aa*n-oa*i,oa*n+aa*i),t.lineTo(aa*a-oa*o,oa*a+aa*o),t.lineTo(aa*s-oa*l,oa*s+aa*l),t.lineTo(aa*n+oa*i,aa*i-oa*n),t.lineTo(aa*a+oa*o,aa*o-oa*a),t.lineTo(aa*s+oa*l,aa*l-oa*s),t.closePath()}};function M5e(t,e){let r=null,n=O3(i);t=typeof t=="function"?t:Lt(t||R3),e=typeof e=="function"?e:Lt(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Lt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Lt(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function qx(){}function Kx(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function XY(t){this._context=t}XY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Kx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Kx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function L5e(t){return new XY(t)}function QY(t){this._context=t}QY.prototype={areaStart:qx,areaEnd:qx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Kx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $5e(t){return new QY(t)}function ZY(t){this._context=t}ZY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Kx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function F5e(t){return new ZY(t)}function JY(t){this._context=t}JY.prototype={areaStart:qx,areaEnd:qx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function B5e(t){return new JY(t)}function O6(t){return t<0?-1:1}function k6(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(O6(a)+O6(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function R6(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function xE(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function Yx(t){this._context=t}Yx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xE(this,this._t0,R6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,xE(this,R6(this,r=k6(this,t,e)),r);break;default:xE(this,this._t0,r=k6(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function eX(t){this._context=new tX(t)}(eX.prototype=Object.create(Yx.prototype)).point=function(t,e){Yx.prototype.point.call(this,e,t)};function tX(t){this._context=t}tX.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function V5e(t){return new Yx(t)}function U5e(t){return new eX(t)}function rX(t){this._context=t}rX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=D6(t),i=D6(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function D6(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function z5e(t){return new rX(t)}function B2(t,e){this._context=t,this._t=e}B2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function W5e(t){return new B2(t,.5)}function H5e(t){return new B2(t,0)}function G5e(t){return new B2(t,1)}function Hf(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function DT(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function q5e(t,e){return t[e]}function K5e(t){const e=[];return e.key=t,e}function Y5e(){var t=Lt([]),e=DT,r=Hf,n=q5e;function i(a){var o=Array.from(t.apply(this,arguments),K5e),s,l=o.length,c=-1,u;for(const f of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(f,o[s].key,c,a)]).data=f;for(s=0,u=k3(e(o));s<l;++s)o[u[s]].index=s;return r(o,u),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Lt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Lt(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?DT:typeof a=="function"?a:Lt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Hf,i):r},i}function X5e(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}Hf(t,e)}}function Q5e(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Hf(t,e)}}function Z5e(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,c=0;s<o;++s){for(var u=t[e[s]],f=u[n][1]||0,h=u[n-1][1]||0,p=(f-h)/2,m=0;m<s;++m){var g=t[e[m]],v=g[n][1]||0,y=g[n-1][1]||0;p+=v-y}l+=f,c+=p*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,Hf(t,e)}}function Vg(t){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vg(t)}var J5e=["type","size","sizeType"];function jT(){return jT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jT.apply(this,arguments)}function j6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function M6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j6(Object(r),!0).forEach(function(n){eLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eLe(t,e,r){return e=tLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tLe(t){var e=rLe(t,"string");return Vg(e)=="symbol"?e:e+""}function rLe(t,e){if(Vg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nLe(t,e){if(t==null)return{};var r=iLe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iLe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var nX={symbolCircle:R3,symbolCross:A5e,symbolDiamond:T5e,symbolSquare:I5e,symbolStar:k5e,symbolTriangle:R5e,symbolWye:j5e},aLe=Math.PI/180,oLe=function(e){var r="symbol".concat(L2(e));return nX[r]||R3},sLe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*aLe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},lLe=function(e,r){nX["symbol".concat(L2(e))]=r},D3=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=nLe(e,J5e),c=M6(M6({},l),{},{type:n,size:a,sizeType:s}),u=function(){var v=oLe(n),y=M5e().type(v).size(sLe(a,s,n));return y()},f=c.className,h=c.cx,p=c.cy,m=nt(c,!0);return h===+h&&p===+p&&a===+a?j.createElement("path",jT({},m,{className:ht("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};D3.registerSymbol=lLe;function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function MT(){return MT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MT.apply(this,arguments)}function L6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cLe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L6(Object(r),!0).forEach(function(n){Ug(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dLe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aX(n.key),n)}}function fLe(t,e,r){return e&&dLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hLe(t,e,r){return e=Xx(e),pLe(t,iX()?Reflect.construct(e,r||[],Xx(t).constructor):e.apply(t,r))}function pLe(t,e){if(e&&(Gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mLe(t)}function mLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iX=function(){return!!t})()}function Xx(t){return Xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xx(t)}function gLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LT(t,e)}function LT(t,e){return LT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},LT(t,e)}function Ug(t,e,r){return e=aX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aX(t){var e=vLe(t,"string");return Gf(e)=="symbol"?e:e+""}function vLe(t,e){if(Gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ma=32,j3=function(t){function e(){return uLe(this,e),hLe(this,e,arguments)}return gLe(e,t),fLe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Ma/2,o=Ma/6,s=Ma/3,l=n.inactive?i:n.color;if(n.type==="plainline")return j.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Ma,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Ma,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return j.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ma/8,"h").concat(Ma,"v").concat(Ma*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(j.isValidElement(n.legendIcon)){var c=cLe({},n);return delete c.legendIcon,j.cloneElement(n.legendIcon,c)}return j.createElement(D3,{fill:l,cx:a,cy:a,size:Ma,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Ma,height:Ma},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,m){var g=p.formatter||l,v=ht(Ug(Ug({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Xe(p.value)?null:p.value;bs(!Xe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?c:p.color;return j.createElement("li",MT({className:v,style:f,key:"legend-item-".concat(m)},Wx(n.props,p,m)),j.createElement(TT,{width:o,height:o,viewBox:u,style:h},n.renderIcon(p)),j.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},g?g(y,p,m):y))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(_.PureComponent);Ug(j3,"displayName","Legend");Ug(j3,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function yLe(t){return t!==t}var xLe=yLe;function wLe(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var bLe=wLe,_Le=zW,SLe=xLe,ELe=bLe;function ALe(t,e,r){return e===e?ELe(t,e,r):_Le(t,SLe,r)}var CLe=ALe,TLe=CLe;function ILe(t,e){var r=t==null?0:t.length;return!!r&&TLe(t,e,0)>-1}var NLe=ILe;function PLe(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var OLe=PLe;function kLe(){}var RLe=kLe,wE=FW,DLe=RLe,jLe=mO,MLe=1/0,LLe=wE&&1/jLe(new wE([,-0]))[1]==MLe?function(t){return new wE(t)}:DLe,$Le=LLe,FLe=IW,BLe=NLe,VLe=OLe,ULe=PW,zLe=$Le,WLe=mO,HLe=200;function GLe(t,e,r){var n=-1,i=BLe,a=t.length,o=!0,s=[],l=s;if(r)o=!1,i=VLe;else if(a>=HLe){var c=e?null:zLe(t);if(c)return WLe(c);o=!1,i=ULe,l=new FLe}else l=e?[]:s;e:for(;++n<a;){var u=t[n],f=e?e(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(u)}else i(l,f,r)||(l!==s&&l.push(f),s.push(u))}return s}var qLe=GLe,KLe=qs,YLe=qLe;function XLe(t,e){return t&&t.length?YLe(t,KLe(e)):[]}var QLe=XLe;const $6=ot(QLe);function oX(t,e,r){return e===!0?$6(t,r):Xe(e)?$6(t,e):t}function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}var ZLe=["ref"];function F6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ts(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F6(Object(r),!0).forEach(function(n){V2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lX(n.key),n)}}function e$e(t,e,r){return e&&B6(t.prototype,e),r&&B6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function t$e(t,e,r){return e=Qx(e),r$e(t,sX()?Reflect.construct(e,r||[],Qx(t).constructor):e.apply(t,r))}function r$e(t,e){if(e&&(qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n$e(t)}function n$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sX=function(){return!!t})()}function Qx(t){return Qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qx(t)}function i$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$T(t,e)}function $T(t,e){return $T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$T(t,e)}function V2(t,e,r){return e=lX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lX(t){var e=a$e(t,"string");return qf(e)=="symbol"?e:e+""}function a$e(t,e){if(qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function o$e(t,e){if(t==null)return{};var r=s$e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function s$e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function l$e(t){return t.value}function c$e(t,e){if(j.isValidElement(t))return j.cloneElement(t,e);if(typeof t=="function")return j.createElement(t,e);e.ref;var r=o$e(e,ZLe);return j.createElement(j3,r)}var V6=1,ff=function(t){function e(){var r;JLe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=t$e(this,e,[].concat(i)),V2(r,"lastBoundingBox",{width:-1,height:-1}),r}return i$e(e,t),e$e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>V6||Math.abs(i.height-this.lastBoundingBox.height)>V6)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ts({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((u||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ts(ts({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=ts(ts({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return j.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},c$e(a,ts(ts({},this.props),{},{payload:oX(u,c,l$e)})))}}],[{key:"getWithHeight",value:function(n,i){var a=ts(ts({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&ve(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(_.PureComponent);V2(ff,"displayName","Legend");V2(ff,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});function zg(t){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zg(t)}function FT(){return FT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FT.apply(this,arguments)}function u$e(t,e){return p$e(t)||h$e(t,e)||f$e(t,e)||d$e()}function d$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f$e(t,e){if(t){if(typeof t=="string")return U6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U6(t,e)}}function U6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function h$e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function p$e(t){if(Array.isArray(t))return t}function z6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z6(Object(r),!0).forEach(function(n){m$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m$e(t,e,r){return e=g$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g$e(t){var e=v$e(t,"string");return zg(e)=="symbol"?e:e+""}function v$e(t,e){if(zg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function y$e(t){return Array.isArray(t)&&Xr(t[0])&&Xr(t[1])?t.join(" ~ "):t}var x$e=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,v=e.labelFormatter,y=e.accessibilityLayer,x=y===void 0?!1:y,b=function(){if(u&&u.length){var R={padding:0,margin:0},k=(h?Zb(u,h):u).map(function(M,U){if(M.type==="none")return null;var L=bE({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},s),z=M.formatter||f||y$e,B=M.value,$=M.name,W=B,H=$;if(z&&W!=null&&H!=null){var G=z(B,$,M,U,u);if(Array.isArray(G)){var Z=u$e(G,2);W=Z[0],H=Z[1]}else W=G}return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:L},Xr(H)?j.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Xr(H)?j.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,j.createElement("span",{className:"recharts-tooltip-item-value"},W),j.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:R},k)}return null},S=bE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=bE({margin:0},c),C=!lt(g),A=C?g:"",T=ht("recharts-default-tooltip",p),I=ht("recharts-tooltip-label",m);C&&v&&u!==void 0&&u!==null&&(A=v(g,u));var N=x?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",FT({className:T,style:S},N),j.createElement("p",{className:I,style:E},j.isValidElement(A)?A:"".concat(A)),b())};function Wg(t){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wg(t)}function Cy(t,e,r){return e=w$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w$e(t){var e=b$e(t,"string");return Wg(e)=="symbol"?e:e+""}function b$e(t,e){if(Wg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wp="recharts-tooltip-wrapper",_$e={visibility:"hidden"};function S$e(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return ht(Wp,Cy(Cy(Cy(Cy({},"".concat(Wp,"-right"),ve(r)&&e&&ve(e.x)&&r>=e.x),"".concat(Wp,"-left"),ve(r)&&e&&ve(e.x)&&r<e.x),"".concat(Wp,"-bottom"),ve(n)&&e&&ve(e.y)&&n>=e.y),"".concat(Wp,"-top"),ve(n)&&e&&ve(e.y)&&n<e.y))}function W6(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(a&&ve(a[n]))return a[n];var u=r[n]-s-i,f=r[n]+i;if(e[n])return o[n]?u:f;if(o[n]){var h=u,p=l[n];return h<p?Math.max(f,l[n]):Math.max(u,l[n])}var m=f+s,g=l[n]+c;return m>g?Math.max(u,l[n]):Math.max(f,l[n])}function E$e(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function A$e(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,u,f;return o.height>0&&o.width>0&&r?(u=W6({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=W6({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=E$e({translateX:u,translateY:f,useTranslate3d:s})):c=_$e,{cssProperties:c,cssClasses:S$e({translateX:u,translateY:f,coordinate:r})}}function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function H6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function G6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H6(Object(r),!0).forEach(function(n){VT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uX(n.key),n)}}function I$e(t,e,r){return e&&T$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function N$e(t,e,r){return e=Zx(e),P$e(t,cX()?Reflect.construct(e,r||[],Zx(t).constructor):e.apply(t,r))}function P$e(t,e){if(e&&(Kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O$e(t)}function O$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cX=function(){return!!t})()}function Zx(t){return Zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zx(t)}function k$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BT(t,e)}function BT(t,e){return BT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BT(t,e)}function VT(t,e,r){return e=uX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uX(t){var e=R$e(t,"string");return Kf(e)=="symbol"?e:e+""}function R$e(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var q6=1,D$e=function(t){function e(){var r;C$e(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=N$e(this,e,[].concat(i)),VT(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),VT(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return k$e(e,t),I$e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>q6||Math.abs(n.height-this.state.lastBoundingBox.height)>q6)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,v=i.useTranslate3d,y=i.viewBox,x=i.wrapperStyle,b=A$e({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),S=b.cssClasses,E=b.cssProperties,C=G6(G6({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return j.createElement("div",{tabIndex:-1,className:S,style:C,ref:function(T){n.wrapperNode=T}},c)}}])}(_.PureComponent),j$e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Xh={isSsr:j$e()};function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function K6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Y6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K6(Object(r),!0).forEach(function(n){M3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function M$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fX(n.key),n)}}function $$e(t,e,r){return e&&L$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function F$e(t,e,r){return e=Jx(e),B$e(t,dX()?Reflect.construct(e,r||[],Jx(t).constructor):e.apply(t,r))}function B$e(t,e){if(e&&(Yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V$e(t)}function V$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dX=function(){return!!t})()}function Jx(t){return Jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jx(t)}function U$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UT(t,e)}function UT(t,e){return UT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},UT(t,e)}function M3(t,e,r){return e=fX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fX(t){var e=z$e(t,"string");return Yf(e)=="symbol"?e:e+""}function z$e(t,e){if(Yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function W$e(t){return t.dataKey}function H$e(t,e){return j.isValidElement(t)?j.cloneElement(t,e):typeof t=="function"?j.createElement(t,e):j.createElement(x$e,e)}var bo=function(t){function e(){return M$e(this,e),F$e(this,e,arguments)}return U$e(e,t),$$e(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,v=i.position,y=i.reverseDirection,x=i.useTranslate3d,b=i.viewBox,S=i.wrapperStyle,E=m??[];f&&E.length&&(E=oX(m.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),g,W$e));var C=E.length>0;return j.createElement(D$e,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:u,hasPayload:C,offset:p,position:v,reverseDirection:y,useTranslate3d:x,viewBox:b,wrapperStyle:S},H$e(c,Y6(Y6({},this.props),{},{payload:E})))}}])}(_.PureComponent);M3(bo,"displayName","Tooltip");M3(bo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Xh.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var G$e=fo,q$e=function(){return G$e.Date.now()},K$e=q$e,Y$e=Ia,_E=K$e,X6=dW,X$e="Expected a function",Q$e=Math.max,Z$e=Math.min;function J$e(t,e,r){var n,i,a,o,s,l,c=0,u=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(X$e);e=X6(e)||0,Y$e(r)&&(u=!!r.leading,f="maxWait"in r,a=f?Q$e(X6(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function p(C){var A=n,T=i;return n=i=void 0,c=C,o=t.apply(T,A),o}function m(C){return c=C,s=setTimeout(y,e),u?p(C):o}function g(C){var A=C-l,T=C-c,I=e-A;return f?Z$e(I,a-T):I}function v(C){var A=C-l,T=C-c;return l===void 0||A>=e||A<0||f&&T>=a}function y(){var C=_E();if(v(C))return x(C);s=setTimeout(y,g(C))}function x(C){return s=void 0,h&&n?p(C):(n=i=void 0,o)}function b(){s!==void 0&&clearTimeout(s),c=0,n=l=i=s=void 0}function S(){return s===void 0?o:x(_E())}function E(){var C=_E(),A=v(C);if(n=arguments,i=this,l=C,A){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(y,e),p(l)}return s===void 0&&(s=setTimeout(y,e)),o}return E.cancel=b,E.flush=S,E}var e9e=J$e,t9e=e9e,r9e=Ia,n9e="Expected a function";function i9e(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(n9e);return r9e(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),t9e(t,e,{leading:n,maxWait:e,trailing:i})}var a9e=i9e;const hX=ot(a9e);function Hg(t){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hg(t)}function Q6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ty(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q6(Object(r),!0).forEach(function(n){o9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o9e(t,e,r){return e=s9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s9e(t){var e=l9e(t,"string");return Hg(e)=="symbol"?e:e+""}function l9e(t,e){if(Hg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c9e(t,e){return h9e(t)||f9e(t,e)||d9e(t,e)||u9e()}function u9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d9e(t,e){if(t){if(typeof t=="string")return Z6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z6(t,e)}}function Z6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f9e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function h9e(t){if(Array.isArray(t))return t}var p9e=_.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,v=t.id,y=t.className,x=t.onResize,b=t.style,S=b===void 0?{}:b,E=_.useRef(null),C=_.useRef();C.current=x,_.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var A=_.useState({containerWidth:i.width,containerHeight:i.height}),T=c9e(A,2),I=T[0],N=T[1],O=_.useCallback(function(k,M){N(function(U){var L=Math.round(k),z=Math.round(M);return U.containerWidth===L&&U.containerHeight===z?U:{containerWidth:L,containerHeight:z}})},[]);_.useEffect(function(){var k=function($){var W,H=$[0].contentRect,G=H.width,Z=H.height;O(G,Z),(W=C.current)===null||W===void 0||W.call(C,G,Z)};g>0&&(k=hX(k,g,{trailing:!0,leading:!1}));var M=new ResizeObserver(k),U=E.current.getBoundingClientRect(),L=U.width,z=U.height;return O(L,z),M.observe(E.current),function(){M.disconnect()}},[O,g]);var R=_.useMemo(function(){var k=I.containerWidth,M=I.containerHeight;if(k<0||M<0)return null;bs(nu(o)||nu(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),bs(!r||r>0,"The aspect(%s) must be greater than zero.",r);var U=nu(o)?k:o,L=nu(l)?M:l;r&&r>0&&(U?L=U/r:L&&(U=L*r),h&&L>h&&(L=h)),bs(U>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,L,o,l,u,f,r);var z=!Array.isArray(p)&&ws(p.type).endsWith("Chart");return j.Children.map(p,function(B){return j.isValidElement(B)?_.cloneElement(B,Ty({width:U,height:L},z?{style:Ty({height:"100%",width:"100%",maxHeight:L,maxWidth:U},B.props.style)}:{})):B})},[r,p,l,h,f,u,I,o]);return j.createElement("div",{id:v?"".concat(v):void 0,className:ht("recharts-responsive-container",y),style:Ty(Ty({},S),{},{width:o,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:E},R)}),pX=function(e){return null};pX.displayName="Cell";function Gg(t){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gg(t)}function J6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J6(Object(r),!0).forEach(function(n){m9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m9e(t,e,r){return e=g9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g9e(t){var e=v9e(t,"string");return Gg(e)=="symbol"?e:e+""}function v9e(t,e){if(Gg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wd={widthCache:{},cacheCount:0},y9e=2e3,x9e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},e5="recharts_measurement_span";function w9e(t){var e=zT({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var jm=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Xh.isSsr)return{width:0,height:0};var n=w9e(r),i=JSON.stringify({text:e,copyStyle:n});if(wd.widthCache[i])return wd.widthCache[i];try{var a=document.getElementById(e5);a||(a=document.createElement("span"),a.setAttribute("id",e5),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=zT(zT({},x9e),n);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return wd.widthCache[i]=l,++wd.cacheCount>y9e&&(wd.cacheCount=0,wd.widthCache={}),l}catch{return{width:0,height:0}}},b9e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function qg(t){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qg(t)}function ew(t,e){return A9e(t)||E9e(t,e)||S9e(t,e)||_9e()}function _9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S9e(t,e){if(t){if(typeof t=="string")return t5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t5(t,e)}}function t5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function E9e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function A9e(t){if(Array.isArray(t))return t}function C9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I9e(n.key),n)}}function T9e(t,e,r){return e&&r5(t.prototype,e),r&&r5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function I9e(t){var e=N9e(t,"string");return qg(e)=="symbol"?e:e+""}function N9e(t,e){if(qg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var n5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,i5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,P9e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,O9e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mX={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},k9e=Object.keys(mX),qd="NaN";function R9e(t,e){return t*mX[e]}var Iy=function(){function t(e,r){C9e(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!P9e.test(r)&&(this.num=NaN,this.unit=""),k9e.includes(r)&&(this.num=R9e(e,r),this.unit="px")}return T9e(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=O9e.exec(r))!==null&&n!==void 0?n:[],a=ew(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function gX(t){if(t.includes(qd))return qd;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=n5.exec(e))!==null&&r!==void 0?r:[],i=ew(n,4),a=i[1],o=i[2],s=i[3],l=Iy.parse(a??""),c=Iy.parse(s??""),u=o==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return qd;e=e.replace(n5,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=i5.exec(e))!==null&&f!==void 0?f:[],p=ew(h,4),m=p[1],g=p[2],v=p[3],y=Iy.parse(m??""),x=Iy.parse(v??""),b=g==="+"?y.add(x):y.subtract(x);if(b.isNaN())return qd;e=e.replace(i5,b.toString())}return e}var a5=/\(([^()]*)\)/;function D9e(t){for(var e=t;e.includes("(");){var r=a5.exec(e),n=ew(r,2),i=n[1];e=e.replace(a5,gX(i))}return e}function j9e(t){var e=t.replace(/\s+/g,"");return e=D9e(e),e=gX(e),e}function M9e(t){try{return j9e(t)}catch{return qd}}function SE(t){var e=M9e(t.slice(5,-1));return e===qd?"":e}var L9e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],$9e=["dx","dy","angle","className","breakAll"];function WT(){return WT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WT.apply(this,arguments)}function o5(t,e){if(t==null)return{};var r=F9e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function F9e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function s5(t,e){return z9e(t)||U9e(t,e)||V9e(t,e)||B9e()}function B9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V9e(t,e){if(t){if(typeof t=="string")return l5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l5(t,e)}}function l5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function U9e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function z9e(t){if(Array.isArray(t))return t}var vX=/[ \f\n\r\t\v\u2028\u2029]+/,yX=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];lt(r)||(n?a=r.toString().split(""):a=r.toString().split(vX));var o=a.map(function(l){return{word:l,width:jm(l,i).width}}),s=n?0:jm("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},W9e=function(e,r,n,i,a){var o=e.maxLines,s=e.children,l=e.style,c=e.breakAll,u=ve(o),f=s,h=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(L,z){var B=z.word,$=z.width,W=L[L.length-1];if(W&&(i==null||a||W.width+$+n<Number(i)))W.words.push(B),W.width+=$+n;else{var H={words:[B],width:$};L.push(H)}return L},[])},p=h(r),m=function(U){return U.reduce(function(L,z){return L.width>z.width?L:z})};if(!u)return p;for(var g="",v=function(U){var L=f.slice(0,U),z=yX({breakAll:c,style:l,children:L+g}).wordsWithComputedWidth,B=h(z),$=B.length>o||m(B).width>Number(i);return[$,B]},y=0,x=f.length-1,b=0,S;y<=x&&b<=f.length-1;){var E=Math.floor((y+x)/2),C=E-1,A=v(C),T=s5(A,2),I=T[0],N=T[1],O=v(E),R=s5(O,1),k=R[0];if(!I&&!k&&(y=E+1),I&&k&&(x=E-1),!I&&k){S=N;break}b++}return S||p},c5=function(e){var r=lt(e)?[]:e.toString().split(vX);return[{words:r}]},H9e=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((r||n)&&!Xh.isSsr){var l,c,u=yX({breakAll:o,children:i,style:a});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return c5(i);return W9e({breakAll:o,children:i,maxLines:s,style:a},l,c,r,n)}return c5(i)},u5="#808080",tw=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,h=e.textAnchor,p=h===void 0?"start":h,m=e.verticalAnchor,g=m===void 0?"end":m,v=e.fill,y=v===void 0?u5:v,x=o5(e,L9e),b=_.useMemo(function(){return H9e({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),S=x.dx,E=x.dy,C=x.angle,A=x.className,T=x.breakAll,I=o5(x,$9e);if(!Xr(n)||!Xr(a))return null;var N=n+(ve(S)?S:0),O=a+(ve(E)?E:0),R;switch(g){case"start":R=SE("calc(".concat(c,")"));break;case"middle":R=SE("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:R=SE("calc(".concat(b.length-1," * -").concat(s,")"));break}var k=[];if(f){var M=b[0].width,U=x.width;k.push("scale(".concat((ve(U)?U/M:1)/M,")"))}return C&&k.push("rotate(".concat(C,", ").concat(N,", ").concat(O,")")),k.length&&(I.transform=k.join(" ")),j.createElement("text",WT({},nt(I,!0),{x:N,y:O,className:ht("recharts-text",A),textAnchor:p,fill:y.includes("url")?u5:y}),b.map(function(L,z){var B=L.words.join(T?"":" ");return j.createElement("tspan",{x:N,dy:z===0?R:s,key:"".concat(B,"-").concat(z)},B)}))};function zl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function G9e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function L3(t){let e,r,n;t.length!==2?(e=zl,r=(s,l)=>zl(t(s),l),n=(s,l)=>t(s)-l):(e=t===zl||t===G9e?t:q9e,r=t,n=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;r(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){const f=i(s,l,c,u-1);return f>c&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function q9e(){return 0}function xX(t){return t===null?NaN:+t}function*K9e(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Y9e=L3(zl),f0=Y9e.right;L3(xX).center;class d5 extends Map{constructor(e,r=Z9e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(f5(this,e))}has(e){return super.has(f5(this,e))}set(e,r){return super.set(X9e(this,e),r)}delete(e){return super.delete(Q9e(this,e))}}function f5({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function X9e({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Q9e({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Z9e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function J9e(t=zl){if(t===zl)return wX;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function wX(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const eFe=Math.sqrt(50),tFe=Math.sqrt(10),rFe=Math.sqrt(2);function rw(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=eFe?10:a>=tFe?5:a>=rFe?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=r&&r<2?rw(t,e,r*2):[s,l,c]}function HT(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?rw(e,t,r):rw(t,e,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function GT(t,e,r){return e=+e,t=+t,r=+r,rw(t,e,r)[2]}function qT(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?GT(e,t,r):GT(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function h5(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function p5(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function bX(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?wX:J9e(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(e-c*f/l+h)),m=Math.min(n,Math.floor(e+(l-c)*f/l+h));bX(t,e,p,m,i)}const a=t[e];let o=r,s=n;for(Hp(t,r,e),i(t[n],a)>0&&Hp(t,r,n);o<s;){for(Hp(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?Hp(t,r,s):(++s,Hp(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function Hp(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function nFe(t,e,r){if(t=Float64Array.from(K9e(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return p5(t);if(e>=1)return h5(t);var n,i=(n-1)*e,a=Math.floor(i),o=h5(bX(t,a).subarray(0,a+1)),s=p5(t.subarray(a+1));return o+(s-o)*(i-a)}}function iFe(t,e,r=xX){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function aFe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Oa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ks(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const KT=Symbol("implicit");function $3(){var t=new d5,e=[],r=[],n=KT;function i(a){let o=t.get(a);if(o===void 0){if(n!==KT)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new d5;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return $3(e,r).unknown(n)},Oa.apply(i,arguments),i}function Kg(){var t=$3().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var h=e().length,p=i<n,m=p?i:n,g=p?n:i;a=(g-m)/Math.max(1,h-l+c*2),s&&(a=Math.floor(a)),m+=(g-m-a*(h-l))*u,o=a*(1-l),s&&(m=Math.round(m),o=Math.round(o));var v=aFe(h).map(function(y){return m+a*y});return r(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},t.copy=function(){return Kg(e(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},Oa.apply(f(),arguments)}function _X(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return _X(e())},t}function Mm(){return _X(Kg.apply(null,arguments).paddingInner(1))}function F3(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function SX(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function h0(){}var Yg=.7,nw=1/Yg,hf="\\s*([+-]?\\d+)\\s*",Xg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",jo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oFe=/^#([0-9a-f]{3,8})$/,sFe=new RegExp(`^rgb\\(${hf},${hf},${hf}\\)$`),lFe=new RegExp(`^rgb\\(${jo},${jo},${jo}\\)$`),cFe=new RegExp(`^rgba\\(${hf},${hf},${hf},${Xg}\\)$`),uFe=new RegExp(`^rgba\\(${jo},${jo},${jo},${Xg}\\)$`),dFe=new RegExp(`^hsl\\(${Xg},${jo},${jo}\\)$`),fFe=new RegExp(`^hsla\\(${Xg},${jo},${jo},${Xg}\\)$`),m5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};F3(h0,Qg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:g5,formatHex:g5,formatHex8:hFe,formatHsl:pFe,formatRgb:v5,toString:v5});function g5(){return this.rgb().formatHex()}function hFe(){return this.rgb().formatHex8()}function pFe(){return EX(this).formatHsl()}function v5(){return this.rgb().formatRgb()}function Qg(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=oFe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?y5(e):r===3?new Ei(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Ny(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Ny(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=sFe.exec(t))?new Ei(e[1],e[2],e[3],1):(e=lFe.exec(t))?new Ei(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=cFe.exec(t))?Ny(e[1],e[2],e[3],e[4]):(e=uFe.exec(t))?Ny(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=dFe.exec(t))?b5(e[1],e[2]/100,e[3]/100,1):(e=fFe.exec(t))?b5(e[1],e[2]/100,e[3]/100,e[4]):m5.hasOwnProperty(t)?y5(m5[t]):t==="transparent"?new Ei(NaN,NaN,NaN,0):null}function y5(t){return new Ei(t>>16&255,t>>8&255,t&255,1)}function Ny(t,e,r,n){return n<=0&&(t=e=r=NaN),new Ei(t,e,r,n)}function mFe(t){return t instanceof h0||(t=Qg(t)),t?(t=t.rgb(),new Ei(t.r,t.g,t.b,t.opacity)):new Ei}function YT(t,e,r,n){return arguments.length===1?mFe(t):new Ei(t,e,r,n??1)}function Ei(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}F3(Ei,YT,SX(h0,{brighter(t){return t=t==null?nw:Math.pow(nw,t),new Ei(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Yg:Math.pow(Yg,t),new Ei(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ei(gu(this.r),gu(this.g),gu(this.b),iw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:x5,formatHex:x5,formatHex8:gFe,formatRgb:w5,toString:w5}));function x5(){return`#${iu(this.r)}${iu(this.g)}${iu(this.b)}`}function gFe(){return`#${iu(this.r)}${iu(this.g)}${iu(this.b)}${iu((isNaN(this.opacity)?1:this.opacity)*255)}`}function w5(){const t=iw(this.opacity);return`${t===1?"rgb(":"rgba("}${gu(this.r)}, ${gu(this.g)}, ${gu(this.b)}${t===1?")":`, ${t})`}`}function iw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function gu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function iu(t){return t=gu(t),(t<16?"0":"")+t.toString(16)}function b5(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new qa(t,e,r,n)}function EX(t){if(t instanceof qa)return new qa(t.h,t.s,t.l,t.opacity);if(t instanceof h0||(t=Qg(t)),!t)return new qa;if(t instanceof qa)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new qa(o,s,l,t.opacity)}function vFe(t,e,r,n){return arguments.length===1?EX(t):new qa(t,e,r,n??1)}function qa(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}F3(qa,vFe,SX(h0,{brighter(t){return t=t==null?nw:Math.pow(nw,t),new qa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Yg:Math.pow(Yg,t),new qa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Ei(EE(t>=240?t-240:t+120,i,n),EE(t,i,n),EE(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new qa(_5(this.h),Py(this.s),Py(this.l),iw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=iw(this.opacity);return`${t===1?"hsl(":"hsla("}${_5(this.h)}, ${Py(this.s)*100}%, ${Py(this.l)*100}%${t===1?")":`, ${t})`}`}}));function _5(t){return t=(t||0)%360,t<0?t+360:t}function Py(t){return Math.max(0,Math.min(1,t||0))}function EE(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const B3=t=>()=>t;function yFe(t,e){return function(r){return t+r*e}}function xFe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function wFe(t){return(t=+t)==1?AX:function(e,r){return r-e?xFe(e,r,t):B3(isNaN(e)?r:e)}}function AX(t,e){var r=e-t;return r?yFe(t,r):B3(isNaN(t)?e:t)}const S5=function t(e){var r=wFe(e);function n(i,a){var o=r((i=YT(i)).r,(a=YT(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),c=AX(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n}(1);function bFe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function _Fe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function SFe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Qh(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function EFe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function aw(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function AFe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Qh(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var XT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,AE=new RegExp(XT.source,"g");function CFe(t){return function(){return t}}function TFe(t){return function(e){return t(e)+""}}function IFe(t,e){var r=XT.lastIndex=AE.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(n=XT.exec(t))&&(i=AE.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:aw(n,i)})),r=AE.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?TFe(l[0].x):CFe(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function Qh(t,e){var r=typeof e,n;return e==null||r==="boolean"?B3(e):(r==="number"?aw:r==="string"?(n=Qg(e))?(e=n,S5):IFe:e instanceof Qg?S5:e instanceof Date?EFe:_Fe(e)?bFe:Array.isArray(e)?SFe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?AFe:aw)(t,e)}function V3(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function NFe(t,e){e===void 0&&(e=t,t=Qh);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function PFe(t){return function(){return t}}function ow(t){return+t}var E5=[0,1];function ui(t){return t}function QT(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:PFe(isNaN(e)?NaN:.5)}function OFe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function kFe(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=QT(i,n),a=r(o,a)):(n=QT(n,i),a=r(a,o)),function(s){return a(n(s))}}function RFe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=QT(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var l=f0(t,s,1,n)-1;return a[l](i[l](s))}}function p0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function U2(){var t=E5,e=E5,r=Qh,n,i,a,o=ui,s,l,c;function u(){var h=Math.min(t.length,e.length);return o!==ui&&(o=OFe(t[0],t[h-1])),s=h>2?RFe:kFe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(n),e,r)))(n(o(h)))}return f.invert=function(h){return o(i((c||(c=s(e,t.map(n),aw)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,ow),u()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=V3,u()},f.clamp=function(h){return arguments.length?(o=h?!0:ui,u()):o!==ui},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,i=p,u()}}function U3(){return U2()(ui,ui)}function DFe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function sw(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Xf(t){return t=sw(Math.abs(t)),t?t[1]:NaN}function jFe(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function MFe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var LFe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zg(t){if(!(e=LFe.exec(t)))throw new Error("invalid format: "+t);var e;return new z3({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Zg.prototype=z3.prototype;function z3(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}z3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $Fe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var CX;function FFe(t,e){var r=sw(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(CX=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+sw(t,Math.max(0,e+a-1))[0]}function A5(t,e){var r=sw(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const C5={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:DFe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>A5(t*100,e),r:A5,s:FFe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function T5(t){return t}var I5=Array.prototype.map,N5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function BFe(t){var e=t.grouping===void 0||t.thousands===void 0?T5:jFe(I5.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?T5:MFe(I5.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=Zg(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,v=f.zero,y=f.width,x=f.comma,b=f.precision,S=f.trim,E=f.type;E==="n"?(x=!0,E="g"):C5[E]||(b===void 0&&(b=12),S=!0,E="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var C=g==="$"?r:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",A=g==="$"?n:/[%p]/.test(E)?o:"",T=C5[E],I=/[defgprs%]/.test(E);b=b===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function N(O){var R=C,k=A,M,U,L;if(E==="c")k=T(O)+k,O="";else{O=+O;var z=O<0||1/O<0;if(O=isNaN(O)?l:T(Math.abs(O),b),S&&(O=$Fe(O)),z&&+O==0&&m!=="+"&&(z=!1),R=(z?m==="("?m:s:m==="-"||m==="("?"":m)+R,k=(E==="s"?N5[8+CX/3]:"")+k+(z&&m==="("?")":""),I){for(M=-1,U=O.length;++M<U;)if(L=O.charCodeAt(M),48>L||L>57){k=(L===46?i+O.slice(M+1):O.slice(M))+k,O=O.slice(0,M);break}}}x&&!v&&(O=e(O,1/0));var B=R.length+O.length+k.length,$=B<y?new Array(y-B+1).join(h):"";switch(x&&v&&(O=e($+O,$.length?y-k.length:1/0),$=""),p){case"<":O=R+O+k+$;break;case"=":O=R+$+O+k;break;case"^":O=$.slice(0,B=$.length>>1)+R+O+k+$.slice(B);break;default:O=$+R+O+k;break}return a(O)}return N.toString=function(){return f+""},N}function u(f,h){var p=c((f=Zg(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Xf(h)/3)))*3,g=Math.pow(10,-m),v=N5[8+m/3];return function(y){return p(g*y)+v}}return{format:c,formatPrefix:u}}var Oy,W3,TX;VFe({thousands:",",grouping:[3],currency:["$",""]});function VFe(t){return Oy=BFe(t),W3=Oy.format,TX=Oy.formatPrefix,Oy}function UFe(t){return Math.max(0,-Xf(Math.abs(t)))}function zFe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xf(e)/3)))*3-Xf(Math.abs(t)))}function WFe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Xf(e)-Xf(t))+1}function IX(t,e,r,n){var i=qT(t,e,r),a;switch(n=Zg(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=zFe(i,o))&&(n.precision=a),TX(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=WFe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=UFe(i))&&(n.precision=a-(n.type==="%")*2);break}}return W3(n)}function Ac(t){var e=t.domain;return t.ticks=function(r){var n=e();return HT(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return IX(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=GT(o,s,r),c===l)return n[i]=o,n[a]=s,e(n);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function lw(){var t=U3();return t.copy=function(){return p0(t,lw())},Oa.apply(t,arguments),Ac(t)}function NX(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,ow),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return NX(t).unknown(e)},t=arguments.length?Array.from(t,ow):[0,1],Ac(r)}function PX(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function P5(t){return Math.log(t)}function O5(t){return Math.exp(t)}function HFe(t){return-Math.log(-t)}function GFe(t){return-Math.exp(-t)}function qFe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function KFe(t){return t===10?qFe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function YFe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function k5(t){return(e,r)=>-t(-e,r)}function H3(t){const e=t(P5,O5),r=e.domain;let n=10,i,a;function o(){return i=YFe(n),a=KFe(n),r()[0]<0?(i=k5(i),a=k5(a),t(HFe,GFe)):t(P5,O5),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=i(c),p=i(u),m,g;const v=s==null?10:+s;let y=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(g=h<0?m/a(-h):m*a(h),!(g<c)){if(g>u)break;y.push(g)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<c)){if(g>u)break;y.push(g)}y.length*2<v&&(y=HT(c,u,v))}else y=HT(h,p,Math.min(p-h,v)).map(a);return f?y.reverse():y},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Zg(l)).precision==null&&(l.trim=!0),l=W3(l)),s===1/0)return l;const c=Math.max(1,n*s/e.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},e.nice=()=>r(PX(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function OX(){const t=H3(U2()).domain([1,10]);return t.copy=()=>p0(t,OX()).base(t.base()),Oa.apply(t,arguments),t}function R5(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function D5(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function G3(t){var e=1,r=t(R5(e),D5(e));return r.constant=function(n){return arguments.length?t(R5(e=+n),D5(e)):e},Ac(r)}function kX(){var t=G3(U2());return t.copy=function(){return p0(t,kX()).constant(t.constant())},Oa.apply(t,arguments)}function j5(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function XFe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function QFe(t){return t<0?-t*t:t*t}function q3(t){var e=t(ui,ui),r=1;function n(){return r===1?t(ui,ui):r===.5?t(XFe,QFe):t(j5(r),j5(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Ac(e)}function K3(){var t=q3(U2());return t.copy=function(){return p0(t,K3()).exponent(t.exponent())},Oa.apply(t,arguments),t}function ZFe(){return K3.apply(null,arguments).exponent(.5)}function M5(t){return Math.sign(t)*t*t}function JFe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function RX(){var t=U3(),e=[0,1],r=!1,n;function i(a){var o=JFe(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(M5(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,ow)).map(M5)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return RX(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Oa.apply(i,arguments),Ac(i)}function DX(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=iFe(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[f0(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(zl),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return DX().domain(t).range(e).unknown(n)},Oa.apply(a,arguments)}function jX(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[f0(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return jX().domain([t,e]).range(i).unknown(a)},Oa.apply(Ac(o),arguments)}function MX(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[f0(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return MX().domain(t).range(e).unknown(r)},Oa.apply(i,arguments)}const CE=new Date,TE=new Date;function en(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),e(a,s),t(a);while(c<a&&a<o);return l},i.filter=a=>en(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(CE.setTime(+a),TE.setTime(+o),t(CE),t(TE),Math.floor(r(CE,TE))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const cw=en(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);cw.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?en(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):cw);cw.range;const fs=1e3,va=fs*60,hs=va*60,Ls=hs*24,Y3=Ls*7,L5=Ls*30,IE=Ls*365,au=en(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*fs)},(t,e)=>(e-t)/fs,t=>t.getUTCSeconds());au.range;const X3=en(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fs)},(t,e)=>{t.setTime(+t+e*va)},(t,e)=>(e-t)/va,t=>t.getMinutes());X3.range;const Q3=en(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*va)},(t,e)=>(e-t)/va,t=>t.getUTCMinutes());Q3.range;const Z3=en(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fs-t.getMinutes()*va)},(t,e)=>{t.setTime(+t+e*hs)},(t,e)=>(e-t)/hs,t=>t.getHours());Z3.range;const J3=en(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*hs)},(t,e)=>(e-t)/hs,t=>t.getUTCHours());J3.range;const m0=en(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*va)/Ls,t=>t.getDate()-1);m0.range;const z2=en(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ls,t=>t.getUTCDate()-1);z2.range;const LX=en(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ls,t=>Math.floor(t/Ls));LX.range;function rd(t){return en(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*va)/Y3)}const W2=rd(0),uw=rd(1),e7e=rd(2),t7e=rd(3),Qf=rd(4),r7e=rd(5),n7e=rd(6);W2.range;uw.range;e7e.range;t7e.range;Qf.range;r7e.range;n7e.range;function nd(t){return en(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Y3)}const H2=nd(0),dw=nd(1),i7e=nd(2),a7e=nd(3),Zf=nd(4),o7e=nd(5),s7e=nd(6);H2.range;dw.range;i7e.range;a7e.range;Zf.range;o7e.range;s7e.range;const ek=en(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());ek.range;const tk=en(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());tk.range;const $s=en(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());$s.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:en(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});$s.range;const Fs=en(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Fs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:en(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Fs.range;function $X(t,e,r,n,i,a){const o=[[au,1,fs],[au,5,5*fs],[au,15,15*fs],[au,30,30*fs],[a,1,va],[a,5,5*va],[a,15,15*va],[a,30,30*va],[i,1,hs],[i,3,3*hs],[i,6,6*hs],[i,12,12*hs],[n,1,Ls],[n,2,2*Ls],[r,1,Y3],[e,1,L5],[e,3,3*L5],[t,1,IE]];function s(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),m=p?p.range(c,+u+1):[];return h?m.reverse():m}function l(c,u,f){const h=Math.abs(u-c)/f,p=L3(([,,v])=>v).right(o,h);if(p===o.length)return t.every(qT(c/IE,u/IE,f));if(p===0)return cw.every(Math.max(qT(c,u,f),1));const[m,g]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return m.every(g)}return[s,l]}const[l7e,c7e]=$X(Fs,tk,H2,LX,J3,Q3),[u7e,d7e]=$X($s,ek,W2,m0,Z3,X3);function NE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function PE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Gp(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function f7e(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,c=qp(i),u=Kp(i),f=qp(a),h=Kp(a),p=qp(o),m=Kp(o),g=qp(s),v=Kp(s),y=qp(l),x=Kp(l),b={a:z,A:B,b:$,B:W,c:null,d:z5,e:z5,f:j7e,g:H7e,G:q7e,H:k7e,I:R7e,j:D7e,L:FX,m:M7e,M:L7e,p:H,q:G,Q:G5,s:q5,S:$7e,u:F7e,U:B7e,V:V7e,w:U7e,W:z7e,x:null,X:null,y:W7e,Y:G7e,Z:K7e,"%":H5},S={a:Z,A:se,b:ce,B:Oe,c:null,d:W5,e:W5,f:Z7e,g:lBe,G:uBe,H:Y7e,I:X7e,j:Q7e,L:VX,m:J7e,M:eBe,p:pe,q:J,Q:G5,s:q5,S:tBe,u:rBe,U:nBe,V:iBe,w:aBe,W:oBe,x:null,X:null,y:sBe,Y:cBe,Z:dBe,"%":H5},E={a:N,A:O,b:R,B:k,c:M,d:V5,e:V5,f:I7e,g:B5,G:F5,H:U5,I:U5,j:E7e,L:T7e,m:S7e,M:A7e,p:I,q:_7e,Q:P7e,s:O7e,S:C7e,u:v7e,U:y7e,V:x7e,w:g7e,W:w7e,x:U,X:L,y:B5,Y:F5,Z:b7e,"%":N7e};b.x=C(r,b),b.X=C(n,b),b.c=C(e,b),S.x=C(r,S),S.X=C(n,S),S.c=C(e,S);function C(q,ae){return function(re){var ee=[],$e=-1,De=0,fe=q.length,ue,ke,X;for(re instanceof Date||(re=new Date(+re));++$e<fe;)q.charCodeAt($e)===37&&(ee.push(q.slice(De,$e)),(ke=$5[ue=q.charAt(++$e)])!=null?ue=q.charAt(++$e):ke=ue==="e"?" ":"0",(X=ae[ue])&&(ue=X(re,ke)),ee.push(ue),De=$e+1);return ee.push(q.slice(De,$e)),ee.join("")}}function A(q,ae){return function(re){var ee=Gp(1900,void 0,1),$e=T(ee,q,re+="",0),De,fe;if($e!=re.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(ae&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(De=PE(Gp(ee.y,0,1)),fe=De.getUTCDay(),De=fe>4||fe===0?dw.ceil(De):dw(De),De=z2.offset(De,(ee.V-1)*7),ee.y=De.getUTCFullYear(),ee.m=De.getUTCMonth(),ee.d=De.getUTCDate()+(ee.w+6)%7):(De=NE(Gp(ee.y,0,1)),fe=De.getDay(),De=fe>4||fe===0?uw.ceil(De):uw(De),De=m0.offset(De,(ee.V-1)*7),ee.y=De.getFullYear(),ee.m=De.getMonth(),ee.d=De.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),fe="Z"in ee?PE(Gp(ee.y,0,1)).getUTCDay():NE(Gp(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(fe+5)%7:ee.w+ee.U*7-(fe+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,PE(ee)):NE(ee)}}function T(q,ae,re,ee){for(var $e=0,De=ae.length,fe=re.length,ue,ke;$e<De;){if(ee>=fe)return-1;if(ue=ae.charCodeAt($e++),ue===37){if(ue=ae.charAt($e++),ke=E[ue in $5?ae.charAt($e++):ue],!ke||(ee=ke(q,re,ee))<0)return-1}else if(ue!=re.charCodeAt(ee++))return-1}return ee}function I(q,ae,re){var ee=c.exec(ae.slice(re));return ee?(q.p=u.get(ee[0].toLowerCase()),re+ee[0].length):-1}function N(q,ae,re){var ee=p.exec(ae.slice(re));return ee?(q.w=m.get(ee[0].toLowerCase()),re+ee[0].length):-1}function O(q,ae,re){var ee=f.exec(ae.slice(re));return ee?(q.w=h.get(ee[0].toLowerCase()),re+ee[0].length):-1}function R(q,ae,re){var ee=y.exec(ae.slice(re));return ee?(q.m=x.get(ee[0].toLowerCase()),re+ee[0].length):-1}function k(q,ae,re){var ee=g.exec(ae.slice(re));return ee?(q.m=v.get(ee[0].toLowerCase()),re+ee[0].length):-1}function M(q,ae,re){return T(q,e,ae,re)}function U(q,ae,re){return T(q,r,ae,re)}function L(q,ae,re){return T(q,n,ae,re)}function z(q){return o[q.getDay()]}function B(q){return a[q.getDay()]}function $(q){return l[q.getMonth()]}function W(q){return s[q.getMonth()]}function H(q){return i[+(q.getHours()>=12)]}function G(q){return 1+~~(q.getMonth()/3)}function Z(q){return o[q.getUTCDay()]}function se(q){return a[q.getUTCDay()]}function ce(q){return l[q.getUTCMonth()]}function Oe(q){return s[q.getUTCMonth()]}function pe(q){return i[+(q.getUTCHours()>=12)]}function J(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var ae=C(q+="",b);return ae.toString=function(){return q},ae},parse:function(q){var ae=A(q+="",!1);return ae.toString=function(){return q},ae},utcFormat:function(q){var ae=C(q+="",S);return ae.toString=function(){return q},ae},utcParse:function(q){var ae=A(q+="",!0);return ae.toString=function(){return q},ae}}}var $5={"-":"",_:" ",0:"0"},mn=/^\s*\d+/,h7e=/^%/,p7e=/[\\^$*+?|[\]().{}]/g;function bt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function m7e(t){return t.replace(p7e,"\\$&")}function qp(t){return new RegExp("^(?:"+t.map(m7e).join("|")+")","i")}function Kp(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function g7e(t,e,r){var n=mn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function v7e(t,e,r){var n=mn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function y7e(t,e,r){var n=mn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function x7e(t,e,r){var n=mn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function w7e(t,e,r){var n=mn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function F5(t,e,r){var n=mn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function B5(t,e,r){var n=mn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function b7e(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function _7e(t,e,r){var n=mn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function S7e(t,e,r){var n=mn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function V5(t,e,r){var n=mn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function E7e(t,e,r){var n=mn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function U5(t,e,r){var n=mn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function A7e(t,e,r){var n=mn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function C7e(t,e,r){var n=mn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function T7e(t,e,r){var n=mn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function I7e(t,e,r){var n=mn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function N7e(t,e,r){var n=h7e.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function P7e(t,e,r){var n=mn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function O7e(t,e,r){var n=mn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function z5(t,e){return bt(t.getDate(),e,2)}function k7e(t,e){return bt(t.getHours(),e,2)}function R7e(t,e){return bt(t.getHours()%12||12,e,2)}function D7e(t,e){return bt(1+m0.count($s(t),t),e,3)}function FX(t,e){return bt(t.getMilliseconds(),e,3)}function j7e(t,e){return FX(t,e)+"000"}function M7e(t,e){return bt(t.getMonth()+1,e,2)}function L7e(t,e){return bt(t.getMinutes(),e,2)}function $7e(t,e){return bt(t.getSeconds(),e,2)}function F7e(t){var e=t.getDay();return e===0?7:e}function B7e(t,e){return bt(W2.count($s(t)-1,t),e,2)}function BX(t){var e=t.getDay();return e>=4||e===0?Qf(t):Qf.ceil(t)}function V7e(t,e){return t=BX(t),bt(Qf.count($s(t),t)+($s(t).getDay()===4),e,2)}function U7e(t){return t.getDay()}function z7e(t,e){return bt(uw.count($s(t)-1,t),e,2)}function W7e(t,e){return bt(t.getFullYear()%100,e,2)}function H7e(t,e){return t=BX(t),bt(t.getFullYear()%100,e,2)}function G7e(t,e){return bt(t.getFullYear()%1e4,e,4)}function q7e(t,e){var r=t.getDay();return t=r>=4||r===0?Qf(t):Qf.ceil(t),bt(t.getFullYear()%1e4,e,4)}function K7e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+bt(e/60|0,"0",2)+bt(e%60,"0",2)}function W5(t,e){return bt(t.getUTCDate(),e,2)}function Y7e(t,e){return bt(t.getUTCHours(),e,2)}function X7e(t,e){return bt(t.getUTCHours()%12||12,e,2)}function Q7e(t,e){return bt(1+z2.count(Fs(t),t),e,3)}function VX(t,e){return bt(t.getUTCMilliseconds(),e,3)}function Z7e(t,e){return VX(t,e)+"000"}function J7e(t,e){return bt(t.getUTCMonth()+1,e,2)}function eBe(t,e){return bt(t.getUTCMinutes(),e,2)}function tBe(t,e){return bt(t.getUTCSeconds(),e,2)}function rBe(t){var e=t.getUTCDay();return e===0?7:e}function nBe(t,e){return bt(H2.count(Fs(t)-1,t),e,2)}function UX(t){var e=t.getUTCDay();return e>=4||e===0?Zf(t):Zf.ceil(t)}function iBe(t,e){return t=UX(t),bt(Zf.count(Fs(t),t)+(Fs(t).getUTCDay()===4),e,2)}function aBe(t){return t.getUTCDay()}function oBe(t,e){return bt(dw.count(Fs(t)-1,t),e,2)}function sBe(t,e){return bt(t.getUTCFullYear()%100,e,2)}function lBe(t,e){return t=UX(t),bt(t.getUTCFullYear()%100,e,2)}function cBe(t,e){return bt(t.getUTCFullYear()%1e4,e,4)}function uBe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Zf(t):Zf.ceil(t),bt(t.getUTCFullYear()%1e4,e,4)}function dBe(){return"+0000"}function H5(){return"%"}function G5(t){return+t}function q5(t){return Math.floor(+t/1e3)}var bd,zX,WX;fBe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fBe(t){return bd=f7e(t),zX=bd.format,bd.parse,WX=bd.utcFormat,bd.utcParse,bd}function hBe(t){return new Date(t)}function pBe(t){return t instanceof Date?+t:+new Date(+t)}function rk(t,e,r,n,i,a,o,s,l,c){var u=U3(),f=u.invert,h=u.domain,p=c(".%L"),m=c(":%S"),g=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),x=c("%b %d"),b=c("%B"),S=c("%Y");function E(C){return(l(C)<C?p:s(C)<C?m:o(C)<C?g:a(C)<C?v:n(C)<C?i(C)<C?y:x:r(C)<C?b:S)(C)}return u.invert=function(C){return new Date(f(C))},u.domain=function(C){return arguments.length?h(Array.from(C,pBe)):h().map(hBe)},u.ticks=function(C){var A=h();return t(A[0],A[A.length-1],C??10)},u.tickFormat=function(C,A){return A==null?E:c(A)},u.nice=function(C){var A=h();return(!C||typeof C.range!="function")&&(C=e(A[0],A[A.length-1],C??10)),C?h(PX(A,C)):u},u.copy=function(){return p0(u,rk(t,e,r,n,i,a,o,s,l,c))},u}function mBe(){return Oa.apply(rk(u7e,d7e,$s,ek,W2,m0,Z3,X3,au,zX).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gBe(){return Oa.apply(rk(l7e,c7e,Fs,tk,H2,z2,J3,Q3,au,WX).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function G2(){var t=0,e=1,r,n,i,a,o=ui,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-r)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function u(f){return function(h){var p,m;return arguments.length?([p,m]=h,o=f(p,m),c):[o(0),o(1)]}}return c.range=u(Qh),c.rangeRound=u(V3),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),c}}function Cc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function HX(){var t=Ac(G2()(ui));return t.copy=function(){return Cc(t,HX())},Ks.apply(t,arguments)}function GX(){var t=H3(G2()).domain([1,10]);return t.copy=function(){return Cc(t,GX()).base(t.base())},Ks.apply(t,arguments)}function qX(){var t=G3(G2());return t.copy=function(){return Cc(t,qX()).constant(t.constant())},Ks.apply(t,arguments)}function nk(){var t=q3(G2());return t.copy=function(){return Cc(t,nk()).exponent(t.exponent())},Ks.apply(t,arguments)}function vBe(){return nk.apply(null,arguments).exponent(.5)}function KX(){var t=[],e=ui;function r(n){if(n!=null&&!isNaN(n=+n))return e((f0(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(zl),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>nFe(t,a/n))},r.copy=function(){return KX(e).domain(t)},Ks.apply(r,arguments)}function q2(){var t=0,e=.5,r=1,n=1,i,a,o,s,l,c=ui,u,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+u(g))-a)*(n*g<n*a?s:l),c(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,r]=g,i=u(t=+t),a=u(e=+e),o=u(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p):[t,e,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(c=g,p):c};function m(g){return function(v){var y,x,b;return arguments.length?([y,x,b]=v,c=NFe(g,[y,x,b]),p):[c(0),c(.5),c(1)]}}return p.range=m(Qh),p.rangeRound=m(V3),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return u=g,i=g(t),a=g(e),o=g(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function YX(){var t=Ac(q2()(ui));return t.copy=function(){return Cc(t,YX())},Ks.apply(t,arguments)}function XX(){var t=H3(q2()).domain([.1,1,10]);return t.copy=function(){return Cc(t,XX()).base(t.base())},Ks.apply(t,arguments)}function QX(){var t=G3(q2());return t.copy=function(){return Cc(t,QX()).constant(t.constant())},Ks.apply(t,arguments)}function ik(){var t=q3(q2());return t.copy=function(){return Cc(t,ik()).exponent(t.exponent())},Ks.apply(t,arguments)}function yBe(){return ik.apply(null,arguments).exponent(.5)}const K5=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Kg,scaleDiverging:YX,scaleDivergingLog:XX,scaleDivergingPow:ik,scaleDivergingSqrt:yBe,scaleDivergingSymlog:QX,scaleIdentity:NX,scaleImplicit:KT,scaleLinear:lw,scaleLog:OX,scaleOrdinal:$3,scalePoint:Mm,scalePow:K3,scaleQuantile:DX,scaleQuantize:jX,scaleRadial:RX,scaleSequential:HX,scaleSequentialLog:GX,scaleSequentialPow:nk,scaleSequentialQuantile:KX,scaleSequentialSqrt:vBe,scaleSequentialSymlog:qX,scaleSqrt:ZFe,scaleSymlog:kX,scaleThreshold:MX,scaleTime:mBe,scaleUtc:gBe,tickFormat:IX},Symbol.toStringTag,{value:"Module"}));var xBe=$h;function wBe(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],o=e(a);if(o!=null&&(s===void 0?o===o&&!xBe(o):r(o,s)))var s=o,l=a}return l}var ZX=wBe;function bBe(t,e){return t>e}var _Be=bBe,SBe=ZX,EBe=_Be,ABe=Hh;function CBe(t){return t&&t.length?SBe(t,ABe,EBe):void 0}var TBe=CBe;const Cl=ot(TBe);function IBe(t,e){return t<e}var NBe=IBe,PBe=ZX,OBe=NBe,kBe=Hh;function RBe(t){return t&&t.length?PBe(t,kBe,OBe):void 0}var DBe=RBe;const K2=ot(DBe);var jBe=Yb,MBe=qs,LBe=eH,$Be=Qn;function FBe(t,e){var r=$Be(t)?jBe:LBe;return r(t,MBe(e))}var BBe=FBe,VBe=AO,UBe=BBe;function zBe(t,e){return VBe(UBe(t,e),1)}var WBe=zBe;const HBe=ot(WBe);var Zh=1e9,GBe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ok,Jt=!0,Ca="[DecimalError] ",vu=Ca+"Invalid argument: ",ak=Ca+"Exponent out of range: ",Jh=Math.floor,Yc=Math.pow,qBe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zi,an=1e7,Gt=7,JX=9007199254740991,fw=Jh(JX/Gt),Ne={};Ne.absoluteValue=Ne.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ne.comparedTo=Ne.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Ne.decimalPlaces=Ne.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Gt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ne.dividedBy=Ne.div=function(t){return _s(this,new this.constructor(t))};Ne.dividedToIntegerBy=Ne.idiv=function(t){var e=this,r=e.constructor;return jt(_s(e,new r(t),0,1),r.precision)};Ne.equals=Ne.eq=function(t){return!this.cmp(t)};Ne.exponent=function(){return kr(this)};Ne.greaterThan=Ne.gt=function(t){return this.cmp(t)>0};Ne.greaterThanOrEqualTo=Ne.gte=function(t){return this.cmp(t)>=0};Ne.isInteger=Ne.isint=function(){return this.e>this.d.length-2};Ne.isNegative=Ne.isneg=function(){return this.s<0};Ne.isPositive=Ne.ispos=function(){return this.s>0};Ne.isZero=function(){return this.s===0};Ne.lessThan=Ne.lt=function(t){return this.cmp(t)<0};Ne.lessThanOrEqualTo=Ne.lte=function(t){return this.cmp(t)<1};Ne.logarithm=Ne.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(zi))throw Error(Ca+"NaN");if(r.s<1)throw Error(Ca+(r.s?"NaN":"-Infinity"));return r.eq(zi)?new n(0):(Jt=!1,e=_s(Jg(r,a),Jg(t,a),a),Jt=!0,jt(e,i))};Ne.minus=Ne.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?rQ(e,t):eQ(e,(t.s=-t.s,t))};Ne.modulo=Ne.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Ca+"NaN");return r.s?(Jt=!1,e=_s(r,t,0,1).times(t),Jt=!0,r.minus(e)):jt(new n(r),i)};Ne.naturalExponential=Ne.exp=function(){return tQ(this)};Ne.naturalLogarithm=Ne.ln=function(){return Jg(this)};Ne.negated=Ne.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ne.plus=Ne.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?eQ(e,t):rQ(e,(t.s=-t.s,t))};Ne.precision=Ne.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(vu+t);if(e=kr(i)+1,n=i.d.length-1,r=n*Gt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ne.squareRoot=Ne.sqrt=function(){var t,e,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Ca+"NaN")}for(t=kr(s),Jt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Io(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Jh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(_s(s,a,o+2)).times(.5),Io(a.d).slice(0,o)===(e=Io(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(jt(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return Jt=!0,jt(n,r)};Ne.times=Ne.mul=function(t){var e,r,n,i,a,o,s,l,c,u=this,f=u.constructor,h=u.d,p=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,r=u.e+t.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,o=l,l=c,c=o),a=[],o=l+c,n=o;n--;)a.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)s=a[i]+p[n]*h[i-n-1]+e,a[i--]=s%an|0,e=s/an|0;a[i]=(a[i]+e)%an|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Jt?jt(t,f.precision):t};Ne.toDecimalPlaces=Ne.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Wo(t,0,Zh),e===void 0?e=n.rounding:Wo(e,0,8),jt(r,t+kr(r)+1,e))};Ne.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Fu(n,!0):(Wo(t,0,Zh),e===void 0?e=i.rounding:Wo(e,0,8),n=jt(new i(n),t+1,e),r=Fu(n,!0,t+1)),r};Ne.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Fu(i):(Wo(t,0,Zh),e===void 0?e=a.rounding:Wo(e,0,8),n=jt(new a(i),t+kr(i)+1,e),r=Fu(n.abs(),!1,t+kr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ne.toInteger=Ne.toint=function(){var t=this,e=t.constructor;return jt(new e(t),kr(t)+1,e.rounding)};Ne.toNumber=function(){return+this};Ne.toPower=Ne.pow=function(t){var e,r,n,i,a,o,s=this,l=s.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(zi);if(s=new l(s),!s.s){if(t.s<1)throw Error(Ca+"Infinity");return s}if(s.eq(zi))return s;if(n=l.precision,t.eq(zi))return jt(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=u<0?-u:u)<=JX){for(i=new l(zi),e=Math.ceil(n/Gt+4),Jt=!1;r%2&&(i=i.times(s),X5(i.d,e)),r=Jh(r/2),r!==0;)s=s.times(s),X5(s.d,e);return Jt=!0,t.s<0?new l(zi).div(i):jt(i,n)}}else if(a<0)throw Error(Ca+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,Jt=!1,i=t.times(Jg(s,n+c)),Jt=!0,i=tQ(i),i.s=a,i};Ne.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=kr(i),n=Fu(i,r<=a.toExpNeg||r>=a.toExpPos)):(Wo(t,1,Zh),e===void 0?e=a.rounding:Wo(e,0,8),i=jt(new a(i),t,e),r=kr(i),n=Fu(i,t<=r||r<=a.toExpNeg,t)),n};Ne.toSignificantDigits=Ne.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Wo(t,1,Zh),e===void 0?e=n.rounding:Wo(e,0,8)),jt(new n(r),t,e)};Ne.toString=Ne.valueOf=Ne.val=Ne.toJSON=Ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=kr(t),r=t.constructor;return Fu(t,e<=r.toExpNeg||e>=r.toExpPos)};function eQ(t,e){var r,n,i,a,o,s,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Jt?jt(e,f):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=c.length):(n=c,i=o,s=l.length),o=Math.ceil(f/Gt),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/an|0,l[a]%=an;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Jt?jt(e,f):e}function Wo(t,e,r){if(t!==~~t||t<e||t>r)throw Error(vu+t)}function Io(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=Gt-n.length,r&&(a+=ml(r)),a+=n;o=t[e],n=o+"",r=Gt-n.length,r&&(a+=ml(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var _s=function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%an|0,o=a/an|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*an+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,c,u,f,h,p,m,g,v,y,x,b,S,E,C,A,T,I=n.constructor,N=n.s==i.s?1:-1,O=n.d,R=i.d;if(!n.s)return new I(n);if(!i.s)throw Error(Ca+"Division by zero");for(l=n.e-i.e,A=R.length,E=O.length,p=new I(N),m=p.d=[],c=0;R[c]==(O[c]||0);)++c;if(R[c]>(O[c]||0)&&--l,a==null?x=a=I.precision:o?x=a+(kr(n)-kr(i))+1:x=a,x<0)return new I(0);if(x=x/Gt+2|0,c=0,A==1)for(u=0,R=R[0],x++;(c<E||u)&&x--;c++)b=u*an+(O[c]||0),m[c]=b/R|0,u=b%R|0;else{for(u=an/(R[0]+1)|0,u>1&&(R=t(R,u),O=t(O,u),A=R.length,E=O.length),S=A,g=O.slice(0,A),v=g.length;v<A;)g[v++]=0;T=R.slice(),T.unshift(0),C=R[0],R[1]>=an/2&&++C;do u=0,s=e(R,g,A,v),s<0?(y=g[0],A!=v&&(y=y*an+(g[1]||0)),u=y/C|0,u>1?(u>=an&&(u=an-1),f=t(R,u),h=f.length,v=g.length,s=e(f,g,h,v),s==1&&(u--,r(f,A<h?T:R,h))):(u==0&&(s=u=1),f=R.slice()),h=f.length,h<v&&f.unshift(0),r(g,f,v),s==-1&&(v=g.length,s=e(R,g,A,v),s<1&&(u++,r(g,A<v?T:R,v))),v=g.length):s===0&&(u++,g=[0]),m[c++]=u,s&&g[0]?g[v++]=O[S]||0:(g=[O[S]],v=1);while((S++<E||g[0]!==void 0)&&x--)}return m[0]||m.shift(),p.e=l,jt(p,o?a+kr(p)+1:a)}}();function tQ(t,e){var r,n,i,a,o,s,l=0,c=0,u=t.constructor,f=u.precision;if(kr(t)>16)throw Error(ak+kr(t));if(!t.s)return new u(zi);for(Jt=!1,s=f,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(n=Math.log(Yc(2,c))/Math.LN10*2+5|0,s+=n,r=i=a=new u(zi),u.precision=s;;){if(i=jt(i.times(t),s),r=r.times(++l),o=a.plus(_s(i,r,s)),Io(o.d).slice(0,s)===Io(a.d).slice(0,s)){for(;c--;)a=jt(a.times(a),s);return u.precision=f,e==null?(Jt=!0,jt(a,f)):a}a=o}}function kr(t){for(var e=t.e*Gt,r=t.d[0];r>=10;r/=10)e++;return e}function OE(t,e,r){if(e>t.LN10.sd())throw Jt=!0,r&&(t.precision=r),Error(Ca+"LN10 precision limit exceeded");return jt(new t(t.LN10),e)}function ml(t){for(var e="";t--;)e+="0";return e}function Jg(t,e){var r,n,i,a,o,s,l,c,u,f=1,h=10,p=t,m=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(Ca+(p.s?"NaN":"-Infinity"));if(p.eq(zi))return new g(0);if(e==null?(Jt=!1,c=v):c=e,p.eq(10))return e==null&&(Jt=!0),OE(g,c);if(c+=h,g.precision=c,r=Io(m),n=r.charAt(0),a=kr(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Io(p.d),n=r.charAt(0),f++;a=kr(p),n>1?(p=new g("0."+r),a++):p=new g(n+"."+r.slice(1))}else return l=OE(g,c+2,v).times(a+""),p=Jg(new g(n+"."+r.slice(1)),c-h).plus(l),g.precision=v,e==null?(Jt=!0,jt(p,v)):p;for(s=o=p=_s(p.minus(zi),p.plus(zi),c),u=jt(p.times(p),c),i=3;;){if(o=jt(o.times(u),c),l=s.plus(_s(o,new g(i),c)),Io(l.d).slice(0,c)===Io(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(OE(g,c+2,v).times(a+""))),s=_s(s,new g(f),c),g.precision=v,e==null?(Jt=!0,jt(s,v)):s;s=l,i+=2}}function Y5(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Jh(r/Gt),t.d=[],n=(r+1)%Gt,r<0&&(n+=Gt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Gt;n<i;)t.d.push(+e.slice(n,n+=Gt));e=e.slice(n),n=Gt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Jt&&(t.e>fw||t.e<-fw))throw Error(ak+r)}else t.s=0,t.e=0,t.d=[0];return t}function jt(t,e,r){var n,i,a,o,s,l,c,u,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=Gt,i=e,c=f[u=0];else{if(u=Math.ceil((n+1)/Gt),a=f.length,u>=a)return t;for(c=a=f[u],o=1;a>=10;a/=10)o++;n%=Gt,i=n-Gt+o}if(r!==void 0&&(a=Yc(10,o-i-1),s=c/a%10|0,l=e<0||f[u+1]!==void 0||c%a,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?c/Yc(10,o-i):0:f[u-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=kr(t),f.length=1,e=e-a-1,f[0]=Yc(10,(Gt-e%Gt)%Gt),t.e=Jh(-e/Gt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=u,a=1,u--):(f.length=u+1,a=Yc(10,Gt-n),f[u]=i>0?(c/Yc(10,o-i)%Yc(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==an&&(f[0]=1,++t.e);break}else{if(f[u]+=a,f[u]!=an)break;f[u--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Jt&&(t.e>fw||t.e<-fw))throw Error(ak+kr(t));return t}function rQ(t,e){var r,n,i,a,o,s,l,c,u,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Jt?jt(e,p):e;if(l=t.d,f=e.d,n=e.e,c=t.e,l=l.slice(),o=c-n,o){for(u=o<0,u?(r=l,o=-o,s=f.length):(r=f,n=c,s=l.length),i=Math.max(Math.ceil(p/Gt),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=f.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}o=0}for(u&&(r=l,l=f,f=r,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=an-1;--l[a],l[i]+=an}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Jt?jt(e,p):e):new h(0)}function Fu(t,e,r){var n,i=kr(t),a=Io(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+ml(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ml(-i-1)+a,r&&(n=r-o)>0&&(a+=ml(n))):i>=o?(a+=ml(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+ml(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=ml(n))),t.s<0?"-"+a:a}function X5(t,e){if(t.length>e)return t.length=e,!0}function nQ(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(vu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Y5(o,a.toString())}else if(typeof a!="string")throw Error(vu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,qBe.test(a))Y5(o,a);else throw Error(vu+a)}if(i.prototype=Ne,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=nQ,i.config=i.set=KBe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function KBe(t){if(!t||typeof t!="object")throw Error(Ca+"Object expected");var e,r,n,i=["precision",1,Zh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Jh(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(vu+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(vu+r+": "+n);return this}var ok=nQ(GBe);zi=new ok(1);const Ot=ok;function YBe(t){return JBe(t)||ZBe(t)||QBe(t)||XBe()}function XBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QBe(t,e){if(t){if(typeof t=="string")return ZT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZT(t,e)}}function ZBe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function JBe(t){if(Array.isArray(t))return ZT(t)}function ZT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var eVe=function(e){return e},iQ={},aQ=function(e){return e===iQ},Q5=function(e){return function r(){return arguments.length===0||arguments.length===1&&aQ(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},tVe=function t(e,r){return e===1?r:Q5(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==iQ}).length;return o>=e?r.apply(void 0,i):t(e-o,Q5(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(f){return aQ(f)?l.shift():f});return r.apply(void 0,YBe(u).concat(l))}))})},Y2=function(e){return tVe(e.length,e)},JT=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},rVe=Y2(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),nVe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return eVe;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},eI=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},oQ=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function iVe(t){var e;return t===0?e=1:e=Math.floor(new Ot(t).abs().log(10).toNumber())+1,e}function aVe(t,e,r){for(var n=new Ot(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var oVe=Y2(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),sVe=Y2(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),lVe=Y2(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const X2={rangeStep:aVe,getDigitCount:iVe,interpolateNumber:oVe,uninterpolateNumber:sVe,uninterpolateTruncation:lVe};function tI(t){return dVe(t)||uVe(t)||sQ(t)||cVe()}function cVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uVe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function dVe(t){if(Array.isArray(t))return rI(t)}function ev(t,e){return pVe(t)||hVe(t,e)||sQ(t,e)||fVe()}function fVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sQ(t,e){if(t){if(typeof t=="string")return rI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rI(t,e)}}function rI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hVe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function pVe(t){if(Array.isArray(t))return t}function lQ(t){var e=ev(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function cQ(t,e,r){if(t.lte(0))return new Ot(0);var n=X2.getDigitCount(t.toNumber()),i=new Ot(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new Ot(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return e?l:new Ot(Math.ceil(l))}function mVe(t,e,r){var n=1,i=new Ot(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Ot(10).pow(X2.getDigitCount(t)-1),i=new Ot(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Ot(Math.floor(t)))}else t===0?i=new Ot(Math.floor((e-1)/2)):r||(i=new Ot(Math.floor(t)));var o=Math.floor((e-1)/2),s=nVe(rVe(function(l){return i.add(new Ot(l-o).mul(n)).toNumber()}),JT);return s(0,e)}function uQ(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Ot(0),tickMin:new Ot(0),tickMax:new Ot(0)};var a=cQ(new Ot(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new Ot(0):(o=new Ot(t).add(e).div(2),o=o.sub(new Ot(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new Ot(e).sub(o).div(a).toNumber()),c=s+l+1;return c>r?uQ(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,s=e>0?s:s+(r-c)),{step:a,tickMin:o.sub(new Ot(s).mul(a)),tickMax:o.add(new Ot(l).mul(a))})}function gVe(t){var e=ev(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=lQ([r,n]),l=ev(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(tI(JT(0,i-1).map(function(){return 1/0}))):[].concat(tI(JT(0,i-1).map(function(){return-1/0})),[u]);return r>n?eI(f):f}if(c===u)return mVe(c,i,a);var h=uQ(c,u,o,a),p=h.step,m=h.tickMin,g=h.tickMax,v=X2.rangeStep(m,g.add(new Ot(.1).mul(p)),p);return r>n?eI(v):v}function vVe(t,e){var r=ev(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=lQ([n,i]),s=ev(o,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(e,2),f=cQ(new Ot(c).sub(l).div(u-1),a,0),h=[].concat(tI(X2.rangeStep(new Ot(l),new Ot(c).sub(new Ot(.99).mul(f)),f)),[c]);return n>i?eI(h):h}var yVe=oQ(gVe),xVe=oQ(vVe),wVe="Invariant failed";function Bu(t,e){throw new Error(wVe)}var bVe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hw.apply(this,arguments)}function _Ve(t,e){return CVe(t)||AVe(t,e)||EVe(t,e)||SVe()}function SVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EVe(t,e){if(t){if(typeof t=="string")return Z5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z5(t,e)}}function Z5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function AVe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function CVe(t){if(Array.isArray(t))return t}function TVe(t,e){if(t==null)return{};var r=IVe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function IVe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function NVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PVe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hQ(n.key),n)}}function OVe(t,e,r){return e&&PVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kVe(t,e,r){return e=pw(e),RVe(t,dQ()?Reflect.construct(e,r||[],pw(t).constructor):e.apply(t,r))}function RVe(t,e){if(e&&(Jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DVe(t)}function DVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dQ=function(){return!!t})()}function pw(t){return pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pw(t)}function jVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nI(t,e)}function nI(t,e){return nI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nI(t,e)}function fQ(t,e,r){return e=hQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hQ(t){var e=MVe(t,"string");return Jf(e)=="symbol"?e:e+""}function MVe(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Q2=function(t){function e(){return NVe(this,e),kVe(this,e,arguments)}return jVe(e,t),OVe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,h=TVe(n,bVe),p=nt(h,!1);this.props.direction==="x"&&u.type!=="number"&&Bu();var m=l.map(function(g){var v=c(g,s),y=v.x,x=v.y,b=v.value,S=v.errorVal;if(!S)return null;var E=[],C,A;if(Array.isArray(S)){var T=_Ve(S,2);C=T[0],A=T[1]}else C=A=S;if(a==="vertical"){var I=u.scale,N=x+i,O=N+o,R=N-o,k=I(b-C),M=I(b+A);E.push({x1:M,y1:O,x2:M,y2:R}),E.push({x1:k,y1:N,x2:M,y2:N}),E.push({x1:k,y1:O,x2:k,y2:R})}else if(a==="horizontal"){var U=f.scale,L=y+i,z=L-o,B=L+o,$=U(b-C),W=U(b+A);E.push({x1:z,y1:W,x2:B,y2:W}),E.push({x1:L,y1:$,x2:L,y2:W}),E.push({x1:z,y1:$,x2:B,y2:$})}return j.createElement(ar,hw({className:"recharts-errorBar",key:"bar-".concat(E.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},p),E.map(function(H){return j.createElement("line",hw({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return j.createElement(ar,{className:"recharts-errorBars"},m)}}])}(j.Component);fQ(Q2,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});fQ(Q2,"displayName","ErrorBar");function tv(t){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tv(t)}function J5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J5(Object(r),!0).forEach(function(n){LVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LVe(t,e,r){return e=$Ve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Ve(t){var e=FVe(t,"string");return tv(e)=="symbol"?e:e+""}function FVe(t,e){if(tv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pQ=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Vi(r,ff);if(!o)return null;var s=ff.defaultProps,l=s!==void 0?Fc(Fc({},s),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:a==="children"?c=(n||[]).reduce(function(u,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return u.concat(m.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(n||[]).map(function(u){var f=u.item,h=f.type.defaultProps,p=h!==void 0?Fc(Fc({},h),f.props):{},m=p.dataKey,g=p.name,v=p.legendType,y=p.hide;return{inactive:y,dataKey:m,type:l.iconType||v||"square",color:sk(f),value:g||m,payload:p}}),Fc(Fc(Fc({},l),ff.getWithHeight(o,i)),{},{payload:c,item:o})};function rv(t){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rv(t)}function eL(t){return zVe(t)||UVe(t)||VVe(t)||BVe()}function BVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VVe(t,e){if(t){if(typeof t=="string")return iI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iI(t,e)}}function UVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zVe(t){if(Array.isArray(t))return iI(t)}function iI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tL(Object(r),!0).forEach(function(n){pf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pf(t,e,r){return e=WVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WVe(t){var e=HVe(t,"string");return rv(e)=="symbol"?e:e+""}function HVe(t,e){if(rv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zi(t,e,r){return lt(t)||lt(e)?r:Xr(e)?wa(t,e,r):Xe(e)?e(t):r}function Lm(t,e,r,n){var i=HBe(t,function(s){return Zi(s,e)});if(r==="number"){var a=i.filter(function(s){return ve(s)||parseFloat(s)});return a.length?[K2(a),Cl(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!lt(s)}):i;return o.map(function(s){return Xr(s)||s instanceof Date?s:""})}var GVe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,f=i[c].coordinate,h=c>=s-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(Ka(f-u)!==Ka(h-f)){var m=[];if(Ka(h-f)===Ka(l[1]-l[0])){p=h;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+u)/2),m[1]=Math.max(g,(g+u)/2)}else{p=u;var v=h+l[1]-l[0];m[0]=Math.min(f,(v+f)/2),m[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>y[0]&&e<=y[1]||e>=m[0]&&e<=m[1]){o=i[c].index;break}}else{var x=Math.min(u,h),b=Math.max(u,h);if(e>(x+f)/2&&e<=(b+f)/2){o=i[c].index;break}}}else for(var S=0;S<s;S++)if(S===0&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<s-1&&e>(n[S].coordinate+n[S-1].coordinate)/2&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S===s-1&&e>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},sk=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?hr(hr({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},qVe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,c=s.length;l<c;l++)for(var u=a[s[l]].stackGroups,f=Object.keys(u),h=0,p=f.length;h<p;h++){var m=u[f[h]],g=m.items,v=m.cateAxisId,y=g.filter(function(A){return ws(A.type).indexOf("Bar")>=0});if(y&&y.length){var x=y[0].type.defaultProps,b=x!==void 0?hr(hr({},x),y[0].props):y[0].props,S=b.barSize,E=b[v];o[E]||(o[E]=[]);var C=lt(S)?r:S;o[E].push({item:y[0],stackList:y.slice(1),barSize:lt(C)?void 0:$u(C,n,0)})}}return o},KVe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var c=$u(r,i,0,!0),u,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/l,m=o.reduce(function(S,E){return S+E.barSize||0},0);m+=(l-1)*c,m>=i&&(m-=(l-1)*c,c=0),m>=i&&p>0&&(h=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,v={offset:g-c,size:0};u=o.reduce(function(S,E){var C={item:E.item,position:{offset:v.offset+v.size+c,size:h?p:E.barSize}},A=[].concat(eL(S),[C]);return v=A[A.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){A.push({item:T,position:v})}),A},f)}else{var y=$u(n,i,0,!0);i-2*y-(l-1)*c<=0&&(c=0);var x=(i-2*y-(l-1)*c)/l;x>1&&(x>>=0);var b=s===+s?Math.min(x,s):x;u=o.reduce(function(S,E,C){var A=[].concat(eL(S),[{item:E.item,position:{offset:y+(x+c)*C+(x-b)/2,size:b}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(T){A.push({item:T,position:A[A.length-1].position})}),A},f)}return u},YVe=function(e,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),c=pQ({children:a,legendWidth:l});if(c){var u=i||{},f=u.width,h=u.height,p=c.align,m=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&ve(e[p]))return hr(hr({},e),{},pf({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&ve(e[m]))return hr(hr({},e),{},pf({},m,e[m]+(h||0)))}return e},XVe=function(e,r,n){return lt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},mQ=function(e,r,n,i,a){var o=r.props.children,s=ro(o,Q2).filter(function(c){return XVe(i,a,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=Zi(u,n);if(lt(f))return c;var h=Array.isArray(f)?[K2(f),Cl(f)]:[f,f],p=l.reduce(function(m,g){var v=Zi(u,g,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),x=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,m[0]),Math.max(x,m[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},QVe=function(e,r,n,i,a){var o=r.map(function(s){return mQ(e,s,n,a,i)}).filter(function(s){return!lt(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},gQ=function(e,r,n,i,a){var o=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&mQ(e,l,c,i)||Lm(e,c,n,a)});if(n==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},vQ=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},yQ=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(o=!0),l.coordinate});return a||s.push(r),o||s.push(n),s},ps=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Ka(s[0]-s[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return u.filter(function(f){return!Yh(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:a?a[f]:f,index:h,offset:c}})},kE=new WeakMap,ky=function(e,r){if(typeof r!="function")return e;kE.has(e)||kE.set(e,new WeakMap);var n=kE.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},ZVe=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Kg(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:lw(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Mm(),realScaleType:"point"}:a==="category"?{scale:Kg(),realScaleType:"band"}:{scale:lw(),realScaleType:"linear"};if(Lu(i)){var l="scale".concat(L2(i));return{scale:(K5[l]||Mm)(),realScaleType:K5[l]?l:"point"}}return Xe(i)?{scale:i}:{scale:Mm(),realScaleType:"point"}},rL=1e-4,JVe=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-rL,o=Math.max(i[0],i[1])+rL,s=e(r[0]),l=e(r[n-1]);(s<a||s>o||l<a||l>o)&&e.domain([r[0],r[n-1]])}},eUe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},tUe=function(e,r){if(!r||r.length!==2||!ve(r[0])||!ve(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!ve(e[0])||e[0]<n)&&(a[0]=n),(!ve(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},rUe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=Yh(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1])}},nUe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=Yh(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},iUe={sign:rUe,expand:X5e,none:Hf,silhouette:Q5e,wiggle:Z5e,positive:nUe},aUe=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),a=iUe[n],o=Y5e().keys(i).value(function(s,l){return+Zi(s,l,0)}).order(DT).offset(a);return o(e)},oUe=function(e,r,n,i,a,o){if(!e)return null;var s=o?r.reverse():r,l={},c=s.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?hr(hr({},h.type.defaultProps),h.props):h.props,g=m.stackId,v=m.hide;if(v)return f;var y=m[n],x=f[y]||{hasStack:!1,stackGroups:{}};if(Xr(g)){var b=x.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};b.items.push(h),x.hasStack=!0,x.stackGroups[g]=b}else x.stackGroups[d0("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return hr(hr({},f),{},pf({},y,x))},l),u={};return Object.keys(c).reduce(function(f,h){var p=c[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var y=p.stackGroups[v];return hr(hr({},g),{},pf({},v,{numericAxisId:n,cateAxisId:i,items:y.items,stackedData:aUe(e,y.items,a)}))},m)}return hr(hr({},f),{},pf({},h,p))},u)},sUe=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=yVe(c,a,s);return e.domain([K2(u),Cl(u)]),{niceTicks:u}}if(a&&i==="number"){var f=e.domain(),h=xVe(f,a,s);return{niceTicks:h}}return null};function nL(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!lt(i[e.dataKey])){var s=Ux(r,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=Zi(i,lt(o)?e.dataKey:o);return lt(l)?null:e.scale(l)}var iL=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=Zi(o,r.dataKey,r.domain[s]);return lt(l)?null:r.scale(l)-a/2+i},lUe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},cUe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?hr(hr({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Xr(a)){var o=r[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},uUe=function(e){return e.reduce(function(r,n){return[K2(n.concat([r[0]]).filter(ve)),Cl(n.concat([r[1]]).filter(ve))]},[1/0,-1/0])},xQ=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(c,u){var f=uUe(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},aL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aI=function(e,r,n){if(Xe(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ve(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(aL.test(e[0])){var a=+aL.exec(e[0])[1];i[0]=r[0]-a}else Xe(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ve(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(oL.test(e[1])){var o=+oL.exec(e[1])[1];i[1]=r[1]+o}else Xe(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},mw=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=Zb(r,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var c=a[s],u=a[s-1];o=Math.min((c.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},sL=function(e,r,n){return!e||!e.length||$f(e,wa(n,"type.defaultProps.domain"))?r:e},wQ=function(e,r){var n=e.type.defaultProps?hr(hr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return hr(hr({},nt(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:sk(e),value:Zi(r,i),type:l,payload:r,chartType:c,hide:u})};function nv(t){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nv(t)}function lL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lL(Object(r),!0).forEach(function(n){dUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dUe(t,e,r){return e=fUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fUe(t){var e=hUe(t,"string");return nv(e)=="symbol"?e:e+""}function hUe(t,e){if(nv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gw=Math.PI/180,pUe=function(e){return e*180/Math.PI},Sn=function(e,r,n,i){return{x:e+Math.cos(-gw*i)*n,y:r+Math.sin(-gw*i)*n}},mUe=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},gUe=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,s=mUe({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:s,angle:pUe(c),angleInRadian:c}},vUe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},yUe=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},uL=function(e,r){var n=e.x,i=e.y,a=gUe({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,c=r.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var u=vUe(r),f=u.startAngle,h=u.endAngle,p=s,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?cL(cL({},r),{},{radius:o,angle:yUe(p,r)}):null};function iv(t){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iv(t)}var xUe=["offset"];function wUe(t){return EUe(t)||SUe(t)||_Ue(t)||bUe()}function bUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ue(t,e){if(t){if(typeof t=="string")return oI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oI(t,e)}}function SUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function EUe(t){if(Array.isArray(t))return oI(t)}function oI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function AUe(t,e){if(t==null)return{};var r=CUe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function CUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dL(Object(r),!0).forEach(function(n){TUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TUe(t,e,r){return e=IUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IUe(t){var e=NUe(t,"string");return iv(e)=="symbol"?e:e+""}function NUe(t,e){if(iv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function av(){return av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},av.apply(this,arguments)}var PUe=function(e){var r=e.value,n=e.formatter,i=lt(e.children)?r:e.children;return Xe(n)?n(i):i},OUe=function(e,r){var n=Ka(r-e),i=Math.min(Math.abs(r-e),360);return n*i},kUe=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,v=(f+h)/2,y=OUe(p,m),x=y>=0?1:-1,b,S;i==="insideStart"?(b=p+x*o,S=g):i==="insideEnd"?(b=m-x*o,S=!g):i==="end"&&(b=m+x*o,S=g),S=y<=0?S:!S;var E=Sn(c,u,v,b),C=Sn(c,u,v,b+(S?1:-1)*359),A="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(C.x,",").concat(C.y),T=lt(e.id)?d0("recharts-radial-line-"):e.id;return j.createElement("text",av({},n,{dominantBaseline:"central",className:ht("recharts-radial-bar-label",s)}),j.createElement("defs",null,j.createElement("path",{id:T,d:A})),j.createElement("textPath",{xlinkHref:"#".concat(T)},r))},RUe=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,f=a.endAngle,h=(u+f)/2;if(i==="outside"){var p=Sn(o,s,c+n,h),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,y=Sn(o,s,v,h),x=y.x,b=y.y;return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},DUe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,s=o.x,l=o.y,c=o.width,u=o.height,f=u>=0?1:-1,h=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=c>=0?1:-1,v=g*i,y=g>0?"end":"start",x=g>0?"start":"end";if(a==="top"){var b={x:s+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Mr(Mr({},b),n?{height:Math.max(l-n.y,0),width:c}:{})}if(a==="bottom"){var S={x:s+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:m};return Mr(Mr({},S),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(a==="left"){var E={x:s-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return Mr(Mr({},E),n?{width:Math.max(E.x-n.x,0),height:u}:{})}if(a==="right"){var C={x:s+c+v,y:l+u/2,textAnchor:x,verticalAnchor:"middle"};return Mr(Mr({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:u}:{})}var A=n?{width:c,height:u}:{};return a==="insideLeft"?Mr({x:s+v,y:l+u/2,textAnchor:x,verticalAnchor:"middle"},A):a==="insideRight"?Mr({x:s+c-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},A):a==="insideTop"?Mr({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},A):a==="insideBottom"?Mr({x:s+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},A):a==="insideTopLeft"?Mr({x:s+v,y:l+h,textAnchor:x,verticalAnchor:m},A):a==="insideTopRight"?Mr({x:s+c-v,y:l+h,textAnchor:y,verticalAnchor:m},A):a==="insideBottomLeft"?Mr({x:s+v,y:l+u-h,textAnchor:x,verticalAnchor:p},A):a==="insideBottomRight"?Mr({x:s+c-v,y:l+u-h,textAnchor:y,verticalAnchor:p},A):jh(a)&&(ve(a.x)||nu(a.x))&&(ve(a.y)||nu(a.y))?Mr({x:s+$u(a.x,c),y:l+$u(a.y,u),textAnchor:"end",verticalAnchor:"end"},A):Mr({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},A)},jUe=function(e){return"cx"in e&&ve(e.cx)};function Bn(t){var e=t.offset,r=e===void 0?5:e,n=AUe(t,xUe),i=Mr({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,h=i.textBreakAll;if(!a||lt(s)&&lt(l)&&!_.isValidElement(c)&&!Xe(c))return null;if(_.isValidElement(c))return _.cloneElement(c,i);var p;if(Xe(c)){if(p=_.createElement(c,i),_.isValidElement(p))return p}else p=PUe(i);var m=jUe(a),g=nt(i,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return kUe(i,p,g);var v=m?RUe(i):DUe(i);return j.createElement(tw,av({className:ht("recharts-label",f)},g,v,{breakAll:h}),p)}Bn.displayName="Label";var bQ=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,h=e.y,p=e.top,m=e.left,g=e.width,v=e.height,y=e.clockWise,x=e.labelViewBox;if(x)return x;if(ve(g)&&ve(v)){if(ve(f)&&ve(h))return{x:f,y:h,width:g,height:v};if(ve(p)&&ve(m))return{x:p,y:m,width:g,height:v}}return ve(f)&&ve(h)?{x:f,y:h,width:0,height:0}:ve(r)&&ve(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:y}:e.viewBox?e.viewBox:{}},MUe=function(e,r){return e?e===!0?j.createElement(Bn,{key:"label-implicit",viewBox:r}):Xr(e)?j.createElement(Bn,{key:"label-implicit",viewBox:r,value:e}):_.isValidElement(e)?e.type===Bn?_.cloneElement(e,{key:"label-implicit",viewBox:r}):j.createElement(Bn,{key:"label-implicit",content:e,viewBox:r}):Xe(e)?j.createElement(Bn,{key:"label-implicit",content:e,viewBox:r}):jh(e)?j.createElement(Bn,av({viewBox:r},e,{key:"label-implicit"})):null:null},LUe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=bQ(e),o=ro(i,Bn).map(function(l,c){return _.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)})});if(!n)return o;var s=MUe(e.label,r||a);return[s].concat(wUe(o))};Bn.parseViewBox=bQ;Bn.renderCallByParent=LUe;function ov(t){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ov(t)}var $Ue=["valueAccessor"],FUe=["data","dataKey","clockWise","id","textBreakAll"];function BUe(t){return WUe(t)||zUe(t)||UUe(t)||VUe()}function VUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UUe(t,e){if(t){if(typeof t=="string")return sI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sI(t,e)}}function zUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WUe(t){if(Array.isArray(t))return sI(t)}function sI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vw(){return vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vw.apply(this,arguments)}function fL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fL(Object(r),!0).forEach(function(n){HUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HUe(t,e,r){return e=GUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GUe(t){var e=qUe(t,"string");return ov(e)=="symbol"?e:e+""}function qUe(t,e){if(ov(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pL(t,e){if(t==null)return{};var r=KUe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function KUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var YUe=function(e){return Array.isArray(e.value)?mCe(e.value):e.value};function Wl(t){var e=t.valueAccessor,r=e===void 0?YUe:e,n=pL(t,$Ue),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,c=pL(n,FUe);return!i||!i.length?null:j.createElement(ar,{className:"recharts-label-list"},i.map(function(u,f){var h=lt(a)?r(u,f):Zi(u&&u.payload,a),p=lt(s)?{}:{id:"".concat(s,"-").concat(f)};return j.createElement(Bn,vw({},nt(u,!0),c,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Bn.parseViewBox(lt(o)?u:hL(hL({},u),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Wl.displayName="LabelList";function XUe(t,e){return t?t===!0?j.createElement(Wl,{key:"labelList-implicit",data:e}):j.isValidElement(t)||Xe(t)?j.createElement(Wl,{key:"labelList-implicit",data:e,content:t}):jh(t)?j.createElement(Wl,vw({data:e},t,{key:"labelList-implicit"})):null:null}function QUe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=ro(n,Wl).map(function(o,s){return _.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var a=XUe(t.label,e);return[a].concat(BUe(i))}Wl.renderCallByParent=QUe;function sv(t){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sv(t)}function lI(){return lI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lI.apply(this,arguments)}function mL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mL(Object(r),!0).forEach(function(n){ZUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZUe(t,e,r){return e=JUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JUe(t){var e=eze(t,"string");return sv(e)=="symbol"?e:e+""}function eze(t,e){if(sv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tze=function(e,r){var n=Ka(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Ry=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(s?1:-1)+i,f=Math.asin(l/u)/gw,h=c?a:a+o*f,p=Sn(r,n,u,h),m=Sn(r,n,i,h),g=c?a-o*f:a,v=Sn(r,n,u*Math.cos(f*gw),g);return{center:p,circleTangency:m,lineTangency:v,theta:f}},_Q=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=tze(o,s),c=o+l,u=Sn(r,n,a,o),f=Sn(r,n,a,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Sn(r,n,i,o),m=Sn(r,n,i,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},rze=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=Ka(u-c),h=Ry({cx:r,cy:n,radius:a,angle:c,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,g=h.theta,v=Ry({cx:r,cy:n,radius:a,angle:u,sign:-f,cornerRadius:o,cornerIsExternal:l}),y=v.circleTangency,x=v.lineTangency,b=v.theta,S=l?Math.abs(c-u):Math.abs(c-u)-g-b;if(S<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):_Q({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u});var E="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var C=Ry({cx:r,cy:n,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),A=C.circleTangency,T=C.lineTangency,I=C.theta,N=Ry({cx:r,cy:n,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),O=N.circleTangency,R=N.lineTangency,k=N.theta,M=l?Math.abs(c-u):Math.abs(c-u)-I-k;if(M<0&&o===0)return"".concat(E,"L").concat(r,",").concat(n,"Z");E+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else E+="L".concat(r,",").concat(n,"Z");return E},nze={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},SQ=function(e){var r=gL(gL({},nze),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(o<a||u===f)return null;var p=ht("recharts-sector",h),m=o-a,g=$u(s,m,0,!0),v;return g>0&&Math.abs(u-f)<360?v=rze({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):v=_Q({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:f}),j.createElement("path",lI({},nt(r,!0),{className:p,d:v,role:"img"}))};function lv(t){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lv(t)}function cI(){return cI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cI.apply(this,arguments)}function vL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vL(Object(r),!0).forEach(function(n){ize(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ize(t,e,r){return e=aze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aze(t){var e=oze(t,"string");return lv(e)=="symbol"?e:e+""}function oze(t,e){if(lv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xL={curveBasisClosed:$5e,curveBasisOpen:F5e,curveBasis:L5e,curveBumpX:S5e,curveBumpY:E5e,curveLinearClosed:B5e,curveLinear:F2,curveMonotoneX:V5e,curveMonotoneY:U5e,curveNatural:z5e,curveStep:W5e,curveStepAfter:G5e,curveStepBefore:H5e},Dy=function(e){return e.x===+e.x&&e.y===+e.y},Yp=function(e){return e.x},Xp=function(e){return e.y},sze=function(e,r){if(Xe(e))return e;var n="curve".concat(L2(e));return(n==="curveMonotone"||n==="curveBump")&&r?xL["".concat(n).concat(r==="vertical"?"Y":"X")]:xL[n]||F2},lze=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=sze(n,s),f=c?a.filter(function(g){return Dy(g)}):a,h;if(Array.isArray(o)){var p=c?o.filter(function(g){return Dy(g)}):o,m=f.map(function(g,v){return yL(yL({},g),{},{base:p[v]})});return s==="vertical"?h=Ay().y(Xp).x1(Yp).x0(function(g){return g.base.x}):h=Ay().x(Yp).y1(Xp).y0(function(g){return g.base.y}),h.defined(Dy).curve(u),h(m)}return s==="vertical"&&ve(o)?h=Ay().y(Xp).x1(Yp).x0(o):ve(o)?h=Ay().x(Yp).y1(Xp).y0(o):h=GY().x(Yp).y(Xp),h.defined(Dy).curve(u),h(f)},$m=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?lze(e):i;return j.createElement("path",cI({},nt(e,!1),zx(e),{className:ht("recharts-curve",r),d:o,ref:a}))},cze=Object.getOwnPropertyNames,uze=Object.getOwnPropertySymbols,dze=Object.prototype.hasOwnProperty;function wL(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function jy(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function bL(t){return cze(t).concat(uze(t))}var fze=Object.hasOwn||function(t,e){return dze.call(t,e)};function id(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var hze="__v",pze="__o",mze="_owner",_L=Object.getOwnPropertyDescriptor,SL=Object.keys;function gze(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function vze(t,e){return id(t.getTime(),e.getTime())}function yze(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function xze(t,e){return t===e}function EL(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var c=e.entries(),u=!1,f=0;(s=c.next())&&!s.done;){if(i[f]){f++;continue}var h=o.value,p=s.value;if(r.equals(h[0],p[0],l,f,t,e,r)&&r.equals(h[1],p[1],h[0],p[0],t,e,r)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}var wze=id;function bze(t,e,r){var n=SL(t),i=n.length;if(SL(e).length!==i)return!1;for(;i-- >0;)if(!EQ(t,e,r,n[i]))return!1;return!0}function Qp(t,e,r){var n=bL(t),i=n.length;if(bL(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!EQ(t,e,r,a)||(o=_L(t,a),s=_L(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function _ze(t,e){return id(t.valueOf(),e.valueOf())}function Sze(t,e){return t.source===e.source&&t.flags===e.flags}function AL(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),c=!1,u=0;(s=l.next())&&!s.done;){if(!i[u]&&r.equals(o.value,s.value,o.value,s.value,t,e,r)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function Eze(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Aze(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function EQ(t,e,r,n){return(n===mze||n===pze||n===hze)&&(t.$$typeof||e.$$typeof)?!0:fze(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Cze="[object Arguments]",Tze="[object Boolean]",Ize="[object Date]",Nze="[object Error]",Pze="[object Map]",Oze="[object Number]",kze="[object Object]",Rze="[object RegExp]",Dze="[object Set]",jze="[object String]",Mze="[object URL]",Lze=Array.isArray,CL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,TL=Object.assign,$ze=Object.prototype.toString.call.bind(Object.prototype.toString);function Fze(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,u=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(m,g,v){if(m===g)return!0;if(m==null||g==null)return!1;var y=typeof m;if(y!==typeof g)return!1;if(y!=="object")return y==="number"?o(m,g,v):y==="function"?i(m,g,v):!1;var x=m.constructor;if(x!==g.constructor)return!1;if(x===Object)return s(m,g,v);if(Lze(m))return e(m,g,v);if(CL!=null&&CL(m))return f(m,g,v);if(x===Date)return r(m,g,v);if(x===RegExp)return c(m,g,v);if(x===Map)return a(m,g,v);if(x===Set)return u(m,g,v);var b=$ze(m);return b===Ize?r(m,g,v):b===Rze?c(m,g,v):b===Pze?a(m,g,v):b===Dze?u(m,g,v):b===kze?typeof m.then!="function"&&typeof g.then!="function"&&s(m,g,v):b===Mze?h(m,g,v):b===Nze?n(m,g,v):b===Cze?s(m,g,v):b===Tze||b===Oze||b===jze?l(m,g,v):!1}}function Bze(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Qp:gze,areDatesEqual:vze,areErrorsEqual:yze,areFunctionsEqual:xze,areMapsEqual:n?wL(EL,Qp):EL,areNumbersEqual:wze,areObjectsEqual:n?Qp:bze,arePrimitiveWrappersEqual:_ze,areRegExpsEqual:Sze,areSetsEqual:n?wL(AL,Qp):AL,areTypedArraysEqual:n?Qp:Eze,areUrlsEqual:Aze};if(r&&(i=TL({},i,r(i))),e){var a=jy(i.areArraysEqual),o=jy(i.areMapsEqual),s=jy(i.areObjectsEqual),l=jy(i.areSetsEqual);i=TL({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function Vze(t){return function(e,r,n,i,a,o,s){return t(e,r,s)}}function Uze(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,c){var u=n(),f=u.cache,h=f===void 0?e?new WeakMap:void 0:f,p=u.meta;return r(l,c,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,c){return r(l,c,o)}}var zze=Tc();Tc({strict:!0});Tc({circular:!0});Tc({circular:!0,strict:!0});Tc({createInternalComparator:function(){return id}});Tc({strict:!0,createInternalComparator:function(){return id}});Tc({circular:!0,createInternalComparator:function(){return id}});Tc({circular:!0,createInternalComparator:function(){return id},strict:!0});function Tc(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=Bze(t),l=Fze(s),c=n?n(l):Vze(l);return Uze({circular:r,comparator:l,createState:i,equals:c,strict:o})}function Wze(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function IL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):Wze(i)};requestAnimationFrame(n)}function uI(t){"@babel/helpers - typeof";return uI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uI(t)}function Hze(t){return Yze(t)||Kze(t)||qze(t)||Gze()}function Gze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qze(t,e){if(t){if(typeof t=="string")return NL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NL(t,e)}}function NL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Kze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yze(t){if(Array.isArray(t))return t}function Xze(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=Hze(o),l=s[0],c=s.slice(1);if(typeof l=="number"){IL(i.bind(null,c),l);return}i(l),IL(i.bind(null,c));return}uI(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function cv(t){"@babel/helpers - typeof";return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cv(t)}function PL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function OL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PL(Object(r),!0).forEach(function(n){AQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AQ(t,e,r){return e=Qze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qze(t){var e=Zze(t,"string");return cv(e)==="symbol"?e:String(e)}function Zze(t,e){if(cv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jze=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},eWe=function(e){return e},tWe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Fm=function(e,r){return Object.keys(r).reduce(function(n,i){return OL(OL({},n),{},AQ({},i,e(i,r[i])))},{})},kL=function(e,r,n){return e.map(function(i){return"".concat(tWe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function rWe(t,e){return aWe(t)||iWe(t,e)||CQ(t,e)||nWe()}function nWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iWe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function aWe(t){if(Array.isArray(t))return t}function oWe(t){return cWe(t)||lWe(t)||CQ(t)||sWe()}function sWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CQ(t,e){if(t){if(typeof t=="string")return dI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dI(t,e)}}function lWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cWe(t){if(Array.isArray(t))return dI(t)}function dI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var yw=1e-4,TQ=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},IQ=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},RL=function(e,r){return function(n){var i=TQ(e,r);return IQ(i,n)}},uWe=function(e,r){return function(n){var i=TQ(e,r),a=[].concat(oWe(i.map(function(o,s){return o*s}).slice(1)),[0]);return IQ(a,n)}},DL=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=rWe(c,4);i=u[0],a=u[1],o=u[2],s=u[3]}}}var f=RL(i,o),h=RL(a,s),p=uWe(i,o),m=function(y){return y>1?1:y<0?0:y},g=function(y){for(var x=y>1?1:y,b=x,S=0;S<8;++S){var E=f(b)-x,C=p(b);if(Math.abs(E-x)<yw||C<yw)return h(b);b=m(b-E/C)}return h(b)};return g.isStepper=!1,g},dWe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(u,f,h){var p=-(u-f)*n,m=h*a,g=h+(p-m)*s/1e3,v=h*s/1e3+u;return Math.abs(v-f)<yw&&Math.abs(g)<yw?[f,0]:[v,g]};return l.isStepper=!0,l.dt=s,l},fWe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return DL(i);case"spring":return dWe();default:if(i.split("(")[0]==="cubic-bezier")return DL(i)}return typeof i=="function"?i:null};function uv(t){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uv(t)}function jL(t){return mWe(t)||pWe(t)||NQ(t)||hWe()}function hWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mWe(t){if(Array.isArray(t))return hI(t)}function ML(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ML(Object(r),!0).forEach(function(n){fI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ML(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fI(t,e,r){return e=gWe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gWe(t){var e=vWe(t,"string");return uv(e)==="symbol"?e:String(e)}function vWe(t,e){if(uv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yWe(t,e){return bWe(t)||wWe(t,e)||NQ(t,e)||xWe()}function xWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NQ(t,e){if(t){if(typeof t=="string")return hI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hI(t,e)}}function hI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wWe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function bWe(t){if(Array.isArray(t))return t}var xw=function(e,r,n){return e+(r-e)*n},pI=function(e){var r=e.from,n=e.to;return r!==n},_We=function t(e,r,n){var i=Fm(function(a,o){if(pI(o)){var s=e(o.from,o.to,o.velocity),l=yWe(s,2),c=l[0],u=l[1];return xn(xn({},o),{},{from:c,velocity:u})}return o},r);return n<1?Fm(function(a,o){return pI(o)?xn(xn({},o),{},{velocity:xw(o.velocity,i[a].velocity,n),from:xw(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const SWe=function(t,e,r,n,i){var a=Jze(t,e),o=a.reduce(function(v,y){return xn(xn({},v),{},fI({},y,[t[y],e[y]]))},{}),s=a.reduce(function(v,y){return xn(xn({},v),{},fI({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return Fm(function(y,x){return x.from},s)},p=function(){return!Object.values(s).filter(pI).length},m=function(y){c||(c=y);var x=y-c,b=x/r.dt;s=_We(r,s,b),i(xn(xn(xn({},t),e),h())),c=y,p()||(l=requestAnimationFrame(f))},g=function(y){u||(u=y);var x=(y-u)/n,b=Fm(function(E,C){return xw.apply(void 0,jL(C).concat([r(x)]))},o);if(i(xn(xn(xn({},t),e),b)),x<1)l=requestAnimationFrame(f);else{var S=Fm(function(E,C){return xw.apply(void 0,jL(C).concat([r(1)]))},o);i(xn(xn(xn({},t),e),S))}};return f=r.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function eh(t){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}var EWe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function AWe(t,e){if(t==null)return{};var r=CWe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function CWe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function RE(t){return PWe(t)||NWe(t)||IWe(t)||TWe()}function TWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IWe(t,e){if(t){if(typeof t=="string")return mI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mI(t,e)}}function NWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PWe(t){if(Array.isArray(t))return mI(t)}function mI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function La(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LL(Object(r),!0).forEach(function(n){dm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dm(t,e,r){return e=PQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kWe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PQ(n.key),n)}}function RWe(t,e,r){return e&&kWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function PQ(t){var e=DWe(t,"string");return eh(e)==="symbol"?e:String(e)}function DWe(t,e){if(eh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gI(t,e)}function gI(t,e){return gI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gI(t,e)}function MWe(t){var e=LWe();return function(){var n=ww(t),i;if(e){var a=ww(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return vI(this,i)}}function vI(t,e){if(e&&(eh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yI(t)}function yI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LWe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ww(t){return ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ww(t)}var Bs=function(t){jWe(r,t);var e=MWe(r);function r(n,i){var a;OWe(this,r),a=e.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,c=o.from,u=o.to,f=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(yI(a)),a.changeStyle=a.changeStyle.bind(yI(a)),!s||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:u}),vI(a);if(f&&f.length)a.state={style:f[0].style};else if(c){if(typeof h=="function")return a.state={style:c},vI(a);a.state={style:l?dm({},l,c):c}}else a.state={style:{}};return a}return RWe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,f=a.from,h=this.state.style;if(s){if(!o){var p={style:l?dm({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(zze(i.to,u)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||c?f:i.to;if(this.state&&h){var v={style:l?dm({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(v)}this.runAnimation(La(La({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=SWe(o,s,fWe(c),l,this.changeStyle),m=function(){a.stopJSAnimation=p()};this.manager.start([h,u,m,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,c=o[0],u=c.style,f=c.duration,h=f===void 0?0:f,p=function(g,v,y){if(y===0)return g;var x=v.duration,b=v.easing,S=b===void 0?"ease":b,E=v.style,C=v.properties,A=v.onAnimationEnd,T=y>0?o[y-1]:v,I=C||Object.keys(E);if(typeof S=="function"||S==="spring")return[].concat(RE(g),[a.runJSAnimation.bind(a,{from:T.style,to:E,duration:x,easing:S}),x]);var N=kL(I,x,S),O=La(La(La({},T.style),E),{},{transition:N});return[].concat(RE(g),[O,x,A]).filter(eWe)};return this.manager.start([l].concat(RE(o.reduce(p,[u,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Xze());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=s?dm({},s,l):l,v=kL(Object.keys(g),o,c);m.start([u,a,La(La({},g),{},{transition:v}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=AWe(i,EWe),c=_.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!s||c===0||o<=0)return a;var f=function(p){var m=p.props,g=m.style,v=g===void 0?{}:g,y=m.className,x=_.cloneElement(p,La(La({},l),{},{style:La(La({},v),u),className:y}));return x};return c===1?f(_.Children.only(a)):j.createElement("div",null,_.Children.map(a,function(h){return f(h)}))}}]),r}(_.PureComponent);Bs.displayName="Animate";Bs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Bs.propTypes={from:oe.oneOfType([oe.object,oe.string]),to:oe.oneOfType([oe.object,oe.string]),attributeName:oe.string,duration:oe.number,begin:oe.number,easing:oe.oneOfType([oe.string,oe.func]),steps:oe.arrayOf(oe.shape({duration:oe.number.isRequired,style:oe.object.isRequired,easing:oe.oneOfType([oe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),oe.func]),properties:oe.arrayOf("string"),onAnimationEnd:oe.func})),children:oe.oneOfType([oe.node,oe.func]),isActive:oe.bool,canBegin:oe.bool,onAnimationEnd:oe.func,shouldReAnimate:oe.bool,onAnimationStart:oe.func,onAnimationReStart:oe.func};function dv(t){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dv(t)}function bw(){return bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bw.apply(this,arguments)}function $We(t,e){return UWe(t)||VWe(t,e)||BWe(t,e)||FWe()}function FWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BWe(t,e){if(t){if(typeof t=="string")return $L(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $L(t,e)}}function $L(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VWe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function UWe(t){if(Array.isArray(t))return t}function FL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FL(Object(r),!0).forEach(function(n){zWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zWe(t,e,r){return e=WWe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WWe(t){var e=HWe(t,"string");return dv(e)=="symbol"?e:e+""}function HWe(t,e){if(dv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VL=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>o?o:a[h];u="M".concat(e,",").concat(r+s*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(r)),u+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+s*f[1])),u+="L ".concat(e+n,",").concat(r+i-s*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),u+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-s*f[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var m=Math.min(o,a);u="M ".concat(e,",").concat(r+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(r,`
            L `).concat(e+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+n,",").concat(r+s*m,`
            L `).concat(e+n,",").concat(r+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+n-l*m,",").concat(r+i,`
            L `).concat(e+l*m,",").concat(r+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(r+i-s*m," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},GWe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(a,a+s),u=Math.max(a,a+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return n>=c&&n<=u&&i>=f&&i<=h}return!1},qWe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lk=function(e){var r=BL(BL({},qWe),e),n=_.useRef(),i=_.useState(-1),a=$We(i,2),o=a[0],s=a[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,g=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,x=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var b=ht("recharts-rectangle",p);return x?j.createElement(Bs,{canBegin:o>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:g,animationEasing:m,isActive:x},function(S){var E=S.width,C=S.height,A=S.x,T=S.y;return j.createElement(Bs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:y,easing:m},j.createElement("path",bw({},nt(r,!0),{className:b,d:VL(A,T,E,C,h),ref:n})))}):j.createElement("path",bw({},nt(r,!0),{className:b,d:VL(l,c,u,f,h)}))};function xI(){return xI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xI.apply(this,arguments)}var ck=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=ht("recharts-dot",a);return r===+r&&n===+n&&i===+i?j.createElement("circle",xI({},nt(e,!1),zx(e),{className:o,cx:r,cy:n,r:i})):null};function fv(t){"@babel/helpers - typeof";return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fv(t)}var KWe=["x","y","top","left","width","height","className"];function wI(){return wI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wI.apply(this,arguments)}function UL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YWe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UL(Object(r),!0).forEach(function(n){XWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XWe(t,e,r){return e=QWe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QWe(t){var e=ZWe(t,"string");return fv(e)=="symbol"?e:e+""}function ZWe(t,e){if(fv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JWe(t,e){if(t==null)return{};var r=eHe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eHe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var tHe=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},rHe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,h=e.height,p=h===void 0?0:h,m=e.className,g=JWe(e,KWe),v=YWe({x:n,y:a,top:s,left:c,width:f,height:p},g);return!ve(n)||!ve(a)||!ve(f)||!ve(p)||!ve(s)||!ve(c)?null:j.createElement("path",wI({},nt(v,!0),{className:ht("recharts-cross",m),d:tHe(n,a,f,p,s,c)}))},nHe=Gs,iHe=ho,aHe="[object Boolean]";function oHe(t){return t===!0||t===!1||iHe(t)&&nHe(t)==aHe}var sHe=oHe;const lHe=ot(sHe);function hv(t){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hv(t)}function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_w.apply(this,arguments)}function cHe(t,e){return hHe(t)||fHe(t,e)||dHe(t,e)||uHe()}function uHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dHe(t,e){if(t){if(typeof t=="string")return zL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zL(t,e)}}function zL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fHe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function hHe(t){if(Array.isArray(t))return t}function WL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WL(Object(r),!0).forEach(function(n){pHe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pHe(t,e,r){return e=mHe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mHe(t){var e=gHe(t,"string");return hv(e)=="symbol"?e:e+""}function gHe(t,e){if(hv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GL=function(e,r,n,i,a){var o=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-o/2,",").concat(r+a),s+="L ".concat(e+n-o/2-i,",").concat(r+a),s+="L ".concat(e,",").concat(r," Z"),s},vHe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yHe=function(e){var r=HL(HL({},vHe),e),n=_.useRef(),i=_.useState(-1),a=cHe(i,2),o=a[0],s=a[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&s(b)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,g=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var x=ht("recharts-trapezoid",p);return y?j.createElement(Bs,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:g,animationEasing:m,isActive:y},function(b){var S=b.upperWidth,E=b.lowerWidth,C=b.height,A=b.x,T=b.y;return j.createElement(Bs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:m},j.createElement("path",_w({},nt(r,!0),{className:x,d:GL(A,T,S,E,C),ref:n})))}):j.createElement("g",null,j.createElement("path",_w({},nt(r,!0),{className:x,d:GL(l,c,u,f,h)})))},xHe=["option","shapeType","propTransformer","activeClassName","isActive"];function pv(t){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pv(t)}function wHe(t,e){if(t==null)return{};var r=bHe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bHe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(r),!0).forEach(function(n){_He(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _He(t,e,r){return e=SHe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SHe(t){var e=EHe(t,"string");return pv(e)=="symbol"?e:e+""}function EHe(t,e){if(pv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AHe(t,e){return Sw(Sw({},e),t)}function CHe(t,e){return t==="symbols"}function KL(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return j.createElement(lk,r);case"trapezoid":return j.createElement(yHe,r);case"sector":return j.createElement(SQ,r);case"symbols":if(CHe(e))return j.createElement(D3,r);break;default:return null}}function THe(t){return _.isValidElement(t)?t.props:t}function IHe(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?AHe:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=wHe(t,xHe),c;if(_.isValidElement(e))c=_.cloneElement(e,Sw(Sw({},l),THe(e)));else if(Xe(e))c=e(l);else if(jCe(e)&&!lHe(e)){var u=i(e,l);c=j.createElement(KL,{shapeType:r,elementProps:u})}else{var f=l;c=j.createElement(KL,{shapeType:r,elementProps:f})}return s?j.createElement(ar,{className:o},c):c}function Z2(t,e){return e!=null&&"trapezoids"in t.props}function J2(t,e){return e!=null&&"sectors"in t.props}function mv(t,e){return e!=null&&"points"in t.props}function NHe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function PHe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function OHe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function kHe(t,e){var r;return Z2(t,e)?r=NHe:J2(t,e)?r=PHe:mv(t,e)&&(r=OHe),r}function RHe(t,e){var r;return Z2(t,e)?r="trapezoids":J2(t,e)?r="sectors":mv(t,e)&&(r="points"),r}function DHe(t,e){if(Z2(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(J2(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return mv(t,e)?e.payload:{}}function jHe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=RHe(r,e),a=DHe(r,e),o=n.filter(function(l,c){var u=$f(a,l),f=r.props[i].filter(function(m){var g=kHe(r,e);return g(m,e)}),h=r.props[i].indexOf(f[f.length-1]),p=c===h;return u&&p}),s=n.indexOf(o[o.length-1]);return s}function gv(t){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gv(t)}function YL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YL(Object(r),!0).forEach(function(n){OQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OQ(t,e,r){return e=MHe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MHe(t){var e=LHe(t,"string");return gv(e)=="symbol"?e:e+""}function LHe(t,e){if(gv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $He=["Webkit","Moz","O","ms"],FHe=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=$He.reduce(function(a,o){return XL(XL({},a),{},OQ({},o+n,r))},{});return i[e]=r,i};function th(t){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(t)}function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ew.apply(this,arguments)}function QL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QL(Object(r),!0).forEach(function(n){$i(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RQ(n.key),n)}}function VHe(t,e,r){return e&&ZL(t.prototype,e),r&&ZL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function UHe(t,e,r){return e=Aw(e),zHe(t,kQ()?Reflect.construct(e,r||[],Aw(t).constructor):e.apply(t,r))}function zHe(t,e){if(e&&(th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WHe(t)}function WHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kQ=function(){return!!t})()}function Aw(t){return Aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Aw(t)}function HHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bI(t,e)}function bI(t,e){return bI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bI(t,e)}function $i(t,e,r){return e=RQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RQ(t){var e=GHe(t,"string");return th(e)=="symbol"?e:e+""}function GHe(t,e){if(th(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qHe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Mm().domain(Dg(0,l)).range([a,a+o-s]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},JL=function(e){return e.changedTouches&&!!e.changedTouches.length},rh=function(t){function e(r){var n;return BHe(this,e),n=UHe(this,e,[r]),$i(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),$i(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),$i(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),$i(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),$i(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),$i(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),$i(n,"handleSlideDragStart",function(i){var a=JL(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return HHe(e,t),VHe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(o,f),m=e.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:m===u?u:m-m%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Zi(a[n],s,n);return Xe(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,g=n.pageX-a;g>0?g=Math.min(g,c+u-f-s,c+u-f-o):g<0&&(g=Math.max(g,c-o,c-s));var v=this.getIndex({startX:o+g,endX:s+g});(v.startIndex!==h||v.endIndex!==p)&&m&&m(v),this.setState({startX:o+g,endX:s+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=JL(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[o],u=this.props,f=u.x,h=u.width,p=u.travellerWidth,m=u.onChange,g=u.gap,v=u.data,y={startX:this.state.startX,endX:this.state.endX},x=n.pageX-a;x>0?x=Math.min(x,f+h-p-c):x<0&&(x=Math.max(x,f-c)),y[o]=c+x;var b=this.getIndex(y),S=b.startIndex,E=b.endIndex,C=function(){var T=v.length-1;return o==="startX"&&(s>l?S%g===0:E%g===0)||s<l&&E===T||o==="endX"&&(s>l?E%g===0:S%g===0)||s>l&&E===T};this.setState($i($i({},o,c+x),"brushMoveStartX",n.pageX),function(){m&&C()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,c=o.endX,u=this.state[i],f=s.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState($i({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,c=n.stroke;return j.createElement("rect",{stroke:c,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,c=n.children,u=n.padding,f=_.Children.only(c);return f?j.cloneElement(f,{x:i,y:a,width:o,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,v=l.endIndex,y=Math.max(n,this.props.x),x=DE(DE({},nt(this.props,!1)),{},{x:y,y:c,width:u,height:f}),b=p||"Min value: ".concat((a=m[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=m[v])===null||o===void 0?void 0:o.name);return j.createElement(ar,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),s.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(n,i)+c,f=Math.max(Math.abs(i-n)-c,0);return j.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,h=u.endX,p=5,m={pointerEvents:"none",fill:c};return j.createElement(ar,{className:"recharts-brush-texts"},j.createElement(tw,Ew({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+s/2},m),this.getTextOfTick(i)),j.createElement(tw,Ew({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+s/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,g=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!ve(s)||!ve(l)||!ve(c)||!ve(u)||c<=0||u<=0)return null;var b=ht("recharts-brush",a),S=j.Children.count(o)===1,E=FHe("userSelect","none");return j.createElement(ar,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||v||y||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,c=Math.floor(a+s/2)-1;return j.createElement(j.Fragment,null,j.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),j.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),j.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return j.isValidElement(n)?a=j.cloneElement(n,i):Xe(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(a!==i.prevData||c!==i.prevUpdateId)return DE({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o},a&&a.length?qHe({data:a,width:o,x:s,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}])}(_.PureComponent);$i(rh,"displayName","Brush");$i(rh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var KHe=TO;function YHe(t,e){var r;return KHe(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var XHe=YHe,QHe=NW,ZHe=qs,JHe=XHe,eGe=Qn,tGe=Lh;function rGe(t,e,r){var n=eGe(t)?QHe:JHe;return r&&tGe(t,e,r)&&(e=void 0),n(t,ZHe(e))}var nGe=rGe;const iGe=ot(nGe);var Mo=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r};function aGe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var oGe=aGe,sGe=TO;function lGe(t,e){var r=!0;return sGe(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var cGe=lGe,uGe=oGe,dGe=cGe,fGe=qs,hGe=Qn,pGe=Lh;function mGe(t,e,r){var n=hGe(t)?uGe:dGe;return r&&pGe(t,e,r)&&(e=void 0),n(t,fGe(e))}var gGe=mGe;const DQ=ot(gGe);var vGe=["x","y"];function vv(t){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vv(t)}function _I(){return _I=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_I.apply(this,arguments)}function e$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e$(Object(r),!0).forEach(function(n){yGe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yGe(t,e,r){return e=xGe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xGe(t){var e=wGe(t,"string");return vv(e)=="symbol"?e:e+""}function wGe(t,e){if(vv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bGe(t,e){if(t==null)return{};var r=_Ge(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _Ge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function SGe(t,e){var r=t.x,n=t.y,i=bGe(t,vGe),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Zp(Zp(Zp(Zp(Zp({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function t$(t){return j.createElement(IHe,_I({shapeType:"rectangle",propTransformer:SGe,activeClassName:"recharts-active-bar"},t))}var EGe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=typeof n=="number";return a?e(n,i):(a||Bu(),r)}},AGe=["value","background"],jQ;function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function CGe(t,e){if(t==null)return{};var r=TGe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function TGe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Cw(){return Cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cw.apply(this,arguments)}function r$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r$(Object(r),!0).forEach(function(n){Tl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LQ(n.key),n)}}function NGe(t,e,r){return e&&n$(t.prototype,e),r&&n$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function PGe(t,e,r){return e=Tw(e),OGe(t,MQ()?Reflect.construct(e,r||[],Tw(t).constructor):e.apply(t,r))}function OGe(t,e){if(e&&(nh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kGe(t)}function kGe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MQ=function(){return!!t})()}function Tw(t){return Tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tw(t)}function RGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SI(t,e)}function SI(t,e){return SI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},SI(t,e)}function Tl(t,e,r){return e=LQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LQ(t){var e=DGe(t,"string");return nh(e)=="symbol"?e:e+""}function DGe(t,e){if(nh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var g0=function(t){function e(){var r;IGe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=PGe(this,e,[].concat(i)),Tl(r,"state",{isAnimationFinished:!1}),Tl(r,"id",d0("recharts-bar-")),Tl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Tl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return RGe(e,t),NGe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,c=a.activeBar,u=nt(this.props,!1);return n&&n.map(function(f,h){var p=h===l,m=p?c:o,g=Tr(Tr(Tr({},u),f),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return j.createElement(ar,Cw({className:"recharts-bar-rectangle"},Wx(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),j.createElement(t$,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,h=this.state.prevData;return j.createElement(Bs,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=a.map(function(v,y){var x=h&&h[y];if(x){var b=ha(x.x,v.x),S=ha(x.y,v.y),E=ha(x.width,v.width),C=ha(x.height,v.height);return Tr(Tr({},v),{},{x:b(m),y:S(m),width:E(m),height:C(m)})}if(o==="horizontal"){var A=ha(0,v.height),T=A(m);return Tr(Tr({},v),{},{y:v.y+v.height-T,height:T})}var I=ha(0,v.width),N=I(m);return Tr(Tr({},v),{},{width:N})});return j.createElement(ar,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!$f(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=nt(this.props.background,!1);return a.map(function(c,u){c.value;var f=c.background,h=CGe(c,AGe);if(!f)return null;var p=Tr(Tr(Tr(Tr(Tr({},h),{},{fill:"#eee"},f),l),Wx(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return j.createElement(t$,Cw({key:"background-bar-".concat(u),option:n.props.background,isActive:u===s},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,f=ro(u,Q2);if(!f)return null;var h=c==="vertical"?o[0].height/2:o[0].width/2,p=function(v,y){var x=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:x,errorVal:Zi(v,y)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return j.createElement(ar,m,f.map(function(g){return j.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,h=n.height,p=n.isAnimationActive,m=n.background,g=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,y=ht("recharts-bar",o),x=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,S=x||b,E=lt(g)?this.id:g;return j.createElement(ar,{className:y},x||b?j.createElement("defs",null,j.createElement("clipPath",{id:"clipPath-".concat(E)},j.createElement("rect",{x:x?c:c-f/2,y:b?u:u-h/2,width:x?f:f*2,height:b?h:h*2}))):null,j.createElement(ar,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(E,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,E),(!p||v)&&Wl.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(_.PureComponent);jQ=g0;Tl(g0,"displayName","Bar");Tl(g0,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Xh.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Tl(g0,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,h=t.offset,p=eUe(n,r);if(!p)return null;var m=e.layout,g=r.type.defaultProps,v=g!==void 0?Tr(Tr({},g),r.props):r.props,y=v.dataKey,x=v.children,b=v.minPointSize,S=m==="horizontal"?o:a,E=c?S.scale.domain():null,C=lUe({numericAxis:S}),A=ro(x,pX),T=f.map(function(I,N){var O,R,k,M,U,L;c?O=tUe(c[u+N],E):(O=Zi(I,y),Array.isArray(O)||(O=[C,O]));var z=EGe(b,jQ.defaultProps.minPointSize)(O[1],N);if(m==="horizontal"){var B,$=[o.scale(O[0]),o.scale(O[1])],W=$[0],H=$[1];R=iL({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:I,index:N}),k=(B=H??W)!==null&&B!==void 0?B:void 0,M=p.size;var G=W-H;if(U=Number.isNaN(G)?0:G,L={x:R,y:o.y,width:M,height:o.height},Math.abs(z)>0&&Math.abs(U)<Math.abs(z)){var Z=Ka(U||z)*(Math.abs(z)-Math.abs(U));k-=Z,U+=Z}}else{var se=[a.scale(O[0]),a.scale(O[1])],ce=se[0],Oe=se[1];if(R=ce,k=iL({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:I,index:N}),M=Oe-ce,U=p.size,L={x:a.x,y:k,width:a.width,height:U},Math.abs(z)>0&&Math.abs(M)<Math.abs(z)){var pe=Ka(M||z)*(Math.abs(z)-Math.abs(M));M+=pe}}return Tr(Tr(Tr({},I),{},{x:R,y:k,width:M,height:U,value:c?O:O[1],payload:I,background:L},A&&A[N]&&A[N].props),{},{tooltipPayload:[wQ(r,I)],tooltipPosition:{x:R+M/2,y:k+U/2}})});return Tr({data:T,layout:m},h)});function yv(t){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yv(t)}function jGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$Q(n.key),n)}}function MGe(t,e,r){return e&&i$(t.prototype,e),r&&i$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function a$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function za(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a$(Object(r),!0).forEach(function(n){e_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e_(t,e,r){return e=$Q(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Q(t){var e=LGe(t,"string");return yv(e)=="symbol"?e:e+""}function LGe(t,e){if(yv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $Ge=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.layout,c=e.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!Vi(c,g0);return u.reduce(function(p,m){var g=r[m],v=g.orientation,y=g.domain,x=g.padding,b=x===void 0?{}:x,S=g.mirror,E=g.reversed,C="".concat(v).concat(S?"Mirror":""),A,T,I,N,O;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var R=y[1]-y[0],k=1/0,M=g.categoricalDomain.sort(h6e);if(M.forEach(function(se,ce){ce>0&&(k=Math.min((se||0)-(M[ce-1]||0),k))}),Number.isFinite(k)){var U=k/R,L=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(A=U*L/2),g.padding==="no-gap"){var z=$u(e.barCategoryGap,U*L),B=U*L/2;A=B-z-(B-z)/L*z}}}i==="xAxis"?T=[n.left+(b.left||0)+(A||0),n.left+n.width-(b.right||0)-(A||0)]:i==="yAxis"?T=l==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(A||0),n.top+n.height-(b.bottom||0)-(A||0)]:T=g.range,E&&(T=[T[1],T[0]]);var $=ZVe(g,a,h),W=$.scale,H=$.realScaleType;W.domain(y).range(T),JVe(W);var G=sUe(W,za(za({},g),{},{realScaleType:H}));i==="xAxis"?(O=v==="top"&&!S||v==="bottom"&&S,I=n.left,N=f[C]-O*g.height):i==="yAxis"&&(O=v==="left"&&!S||v==="right"&&S,I=f[C]-O*g.width,N=n.top);var Z=za(za(za({},g),G),{},{realScaleType:H,x:I,y:N,scale:W,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return Z.bandSize=mw(Z,G),!g.hide&&i==="xAxis"?f[C]+=(O?-1:1)*Z.height:g.hide||(f[C]+=(O?-1:1)*Z.width),za(za({},p),{},e_({},m,Z))},{})},FQ=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},FGe=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return FQ({x:r,y:n},{x:i,y:a})},BQ=function(){function t(e){jGe(this,t),this.scale=e}return MGe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();e_(BQ,"EPS",1e-4);var uk=function(e){var r=Object.keys(e).reduce(function(n,i){return za(za({},n),{},e_({},i,BQ.create(e[i])))},{});return za(za({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return sH(i,function(l,c){return r[c].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return DQ(i,function(a,o){return r[o].isInRange(a)})}})};function BGe(t){return(t%180+180)%180}var VGe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=BGe(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},UGe=qs,zGe=Mh,WGe=zh;function HGe(t){return function(e,r,n){var i=Object(e);if(!zGe(e)){var a=UGe(r);e=WGe(e),r=function(s){return a(i[s],s,i)}}var o=t(e,r,n);return o>-1?i[a?e[o]:o]:void 0}}var GGe=HGe,qGe=GGe,KGe=QW,YGe=qGe(KGe),XGe=YGe;const QGe=ot(XGe);var ZGe=Ywe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),dk=_.createContext(void 0),fk=_.createContext(void 0),VQ=_.createContext(void 0),UQ=_.createContext({}),zQ=_.createContext(void 0),WQ=_.createContext(0),HQ=_.createContext(0),o$=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,s=e.children,l=e.width,c=e.height,u=ZGe(a);return j.createElement(dk.Provider,{value:n},j.createElement(fk.Provider,{value:i},j.createElement(UQ.Provider,{value:a},j.createElement(VQ.Provider,{value:u},j.createElement(zQ.Provider,{value:o},j.createElement(WQ.Provider,{value:c},j.createElement(HQ.Provider,{value:l},s)))))))},JGe=function(){return _.useContext(zQ)},GQ=function(e){var r=_.useContext(dk);r==null&&Bu();var n=r[e];return n==null&&Bu(),n},eqe=function(){var e=_.useContext(dk);return yl(e)},tqe=function(){var e=_.useContext(fk),r=QGe(e,function(n){return DQ(n.domain,Number.isFinite)});return r||yl(e)},qQ=function(e){var r=_.useContext(fk);r==null&&Bu();var n=r[e];return n==null&&Bu(),n},rqe=function(){var e=_.useContext(VQ);return e},nqe=function(){return _.useContext(UQ)},hk=function(){return _.useContext(HQ)},pk=function(){return _.useContext(WQ)};function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function iqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aqe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YQ(n.key),n)}}function oqe(t,e,r){return e&&aqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sqe(t,e,r){return e=Iw(e),lqe(t,KQ()?Reflect.construct(e,r||[],Iw(t).constructor):e.apply(t,r))}function lqe(t,e){if(e&&(ih(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cqe(t)}function cqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KQ=function(){return!!t})()}function Iw(t){return Iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iw(t)}function uqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EI(t,e)}function EI(t,e){return EI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},EI(t,e)}function s$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function l$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s$(Object(r),!0).forEach(function(n){mk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mk(t,e,r){return e=YQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YQ(t){var e=dqe(t,"string");return ih(e)=="symbol"?e:e+""}function dqe(t,e){if(ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fqe(t,e){return gqe(t)||mqe(t,e)||pqe(t,e)||hqe()}function hqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pqe(t,e){if(t){if(typeof t=="string")return c$(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c$(t,e)}}function c$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mqe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function gqe(t){if(Array.isArray(t))return t}function AI(){return AI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},AI.apply(this,arguments)}var vqe=function(e,r){var n;return j.isValidElement(e)?n=j.cloneElement(e,r):Xe(e)?n=e(r):n=j.createElement("line",AI({},r,{className:"recharts-reference-line-line"})),n},yqe=function(e,r,n,i,a,o,s,l,c){var u=a.x,f=a.y,h=a.width,p=a.height;if(n){var m=c.y,g=e.y.apply(m,{position:o});if(Mo(c,"discard")&&!e.y.isInRange(g))return null;var v=[{x:u+h,y:g},{x:u,y:g}];return l==="left"?v.reverse():v}if(r){var y=c.x,x=e.x.apply(y,{position:o});if(Mo(c,"discard")&&!e.x.isInRange(x))return null;var b=[{x,y:f+p},{x,y:f}];return s==="top"?b.reverse():b}if(i){var S=c.segment,E=S.map(function(C){return e.apply(C,{position:o})});return Mo(c,"discard")&&iGe(E,function(C){return!e.isInRange(C)})?null:E}return null};function xqe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,c=JGe(),u=GQ(i),f=qQ(a),h=rqe();if(!c||!h)return null;bs(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=uk({x:u.scale,y:f.scale}),m=Xr(e),g=Xr(r),v=n&&n.length===2,y=yqe(p,m,g,v,h,t.position,u.orientation,f.orientation,t);if(!y)return null;var x=fqe(y,2),b=x[0],S=b.x,E=b.y,C=x[1],A=C.x,T=C.y,I=Mo(t,"hidden")?"url(#".concat(c,")"):void 0,N=l$(l$({clipPath:I},nt(t,!0)),{},{x1:S,y1:E,x2:A,y2:T});return j.createElement(ar,{className:ht("recharts-reference-line",s)},vqe(o,N),Bn.renderCallByParent(t,FGe({x1:S,y1:E,x2:A,y2:T})))}var gk=function(t){function e(){return iqe(this,e),sqe(this,e,arguments)}return uqe(e,t),oqe(e,[{key:"render",value:function(){return j.createElement(xqe,this.props)}}])}(j.Component);mk(gk,"displayName","ReferenceLine");mk(gk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function CI(){return CI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CI.apply(this,arguments)}function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function u$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function d$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u$(Object(r),!0).forEach(function(n){t_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bqe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QQ(n.key),n)}}function _qe(t,e,r){return e&&bqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sqe(t,e,r){return e=Nw(e),Eqe(t,XQ()?Reflect.construct(e,r||[],Nw(t).constructor):e.apply(t,r))}function Eqe(t,e){if(e&&(ah(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aqe(t)}function Aqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XQ=function(){return!!t})()}function Nw(t){return Nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nw(t)}function Cqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TI(t,e)}function TI(t,e){return TI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TI(t,e)}function t_(t,e,r){return e=QQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QQ(t){var e=Tqe(t,"string");return ah(e)=="symbol"?e:e+""}function Tqe(t,e){if(ah(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Iqe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=uk({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return Mo(e,"discard")&&!o.isInRange(s)?null:s},r_=function(t){function e(){return wqe(this,e),Sqe(this,e,arguments)}return Cqe(e,t),_qe(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,c=Xr(i),u=Xr(a);if(bs(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=Iqe(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,g=m.shape,v=m.className,y=Mo(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=d$(d$({clipPath:y},nt(this.props,!0)),{},{cx:h,cy:p});return j.createElement(ar,{className:ht("recharts-reference-dot",v)},e.renderDot(g,x),Bn.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(j.Component);t_(r_,"displayName","ReferenceDot");t_(r_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});t_(r_,"renderDot",function(t,e){var r;return j.isValidElement(t)?r=j.cloneElement(t,e):Xe(t)?r=t(e):r=j.createElement(ck,CI({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function II(){return II=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},II.apply(this,arguments)}function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function f$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function h$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f$(Object(r),!0).forEach(function(n){n_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pqe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JQ(n.key),n)}}function Oqe(t,e,r){return e&&Pqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kqe(t,e,r){return e=Pw(e),Rqe(t,ZQ()?Reflect.construct(e,r||[],Pw(t).constructor):e.apply(t,r))}function Rqe(t,e){if(e&&(oh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dqe(t)}function Dqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZQ=function(){return!!t})()}function Pw(t){return Pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pw(t)}function jqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NI(t,e)}function NI(t,e){return NI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},NI(t,e)}function n_(t,e,r){return e=JQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JQ(t){var e=Mqe(t,"string");return oh(e)=="symbol"?e:e+""}function Mqe(t,e){if(oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lqe=function(e,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,c=a.y2,u=a.xAxis,f=a.yAxis;if(!u||!f)return null;var h=uk({x:u.scale,y:f.scale}),p={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Mo(a,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:FQ(p,m)},i_=function(t){function e(){return Nqe(this,e),kqe(this,e,arguments)}return jqe(e,t),Oqe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;bs(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Xr(i),h=Xr(a),p=Xr(o),m=Xr(s),g=this.props.shape;if(!f&&!h&&!p&&!m&&!g)return null;var v=Lqe(f,h,p,m,this.props);if(!v&&!g)return null;var y=Mo(this.props,"hidden")?"url(#".concat(u,")"):void 0;return j.createElement(ar,{className:ht("recharts-reference-area",l)},e.renderRect(g,h$(h$({clipPath:y},nt(this.props,!0)),v)),Bn.renderCallByParent(this.props,v))}}])}(j.Component);n_(i_,"displayName","ReferenceArea");n_(i_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});n_(i_,"renderRect",function(t,e){var r;return j.isValidElement(t)?r=j.cloneElement(t,e):Xe(t)?r=t(e):r=j.createElement(lk,II({},e,{className:"recharts-reference-area-rect"})),r});function eZ(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function $qe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return VGe(n,r)}function Fqe(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function Ow(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Bqe(t,e){return eZ(t,e+1)}function Vqe(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,s=e.end,l=0,c=1,u=o,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:eZ(n,c)};var g=l,v,y=function(){return v===void 0&&(v=r(m,g)),v},x=m.coordinate,b=l===0||Ow(t,x,y,u,s);b||(l=0,u=o,c+=1),b&&(u=x+t*(y()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function xv(t){"@babel/helpers - typeof";return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xv(t)}function p$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ln(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p$(Object(r),!0).forEach(function(n){Uqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uqe(t,e,r){return e=zqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zqe(t){var e=Wqe(t,"string");return xv(e)=="symbol"?e:e+""}function Wqe(t,e){if(xv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hqe(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=e.start,l=e.end,c=function(h){var p=a[h],m,g=function(){return m===void 0&&(m=r(p,h)),m};if(h===o-1){var v=t*(p.coordinate+t*g()/2-l);a[h]=p=Ln(Ln({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else a[h]=p=Ln(Ln({},p),{},{tickCoord:p.coordinate});var y=Ow(t,p.tickCoord,g,s,l);y&&(l=p.tickCoord-t*(g()/2+i),a[h]=Ln(Ln({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}function Gqe(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=e.start,c=e.end;if(a){var u=n[s-1],f=r(u,s-1),h=t*(u.coordinate+t*f/2-c);o[s-1]=u=Ln(Ln({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var p=Ow(t,u.tickCoord,function(){return f},l,c);p&&(c=u.tickCoord-t*(f/2+i),o[s-1]=Ln(Ln({},u),{},{isShow:!0}))}for(var m=a?s-1:s,g=function(x){var b=o[x],S,E=function(){return S===void 0&&(S=r(b,x)),S};if(x===0){var C=t*(b.coordinate-t*E()/2-l);o[x]=b=Ln(Ln({},b),{},{tickCoord:C<0?b.coordinate-C*t:b.coordinate})}else o[x]=b=Ln(Ln({},b),{},{tickCoord:b.coordinate});var A=Ow(t,b.tickCoord,E,l,c);A&&(l=b.tickCoord+t*(E()/2+i),o[x]=Ln(Ln({},b),{},{isShow:!0}))},v=0;v<m;v++)g(v);return o}function vk(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(ve(l)||Xh.isSsr)return Bqe(i,typeof l=="number"&&ve(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=u&&p==="width"?jm(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(b,S){var E=Xe(c)?c(b.value,S):b.value;return p==="width"?$qe(jm(E,{fontSize:e,letterSpacing:r}),m,f):jm(E,{fontSize:e,letterSpacing:r})[p]},v=i.length>=2?Ka(i[1].coordinate-i[0].coordinate):1,y=Fqe(a,v,p);return l==="equidistantPreserveStart"?Vqe(v,y,g,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=Gqe(v,y,g,i,o,l==="preserveStartEnd"):h=Hqe(v,y,g,i,o),h.filter(function(x){return x.isShow}))}var qqe=["viewBox"],Kqe=["viewBox"],Yqe=["ticks"];function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function Kd(){return Kd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kd.apply(this,arguments)}function m$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ri(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m$(Object(r),!0).forEach(function(n){yk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jE(t,e){if(t==null)return{};var r=Xqe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Qqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rZ(n.key),n)}}function Zqe(t,e,r){return e&&g$(t.prototype,e),r&&g$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jqe(t,e,r){return e=kw(e),eKe(t,tZ()?Reflect.construct(e,r||[],kw(t).constructor):e.apply(t,r))}function eKe(t,e){if(e&&(sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tKe(t)}function tKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tZ=function(){return!!t})()}function kw(t){return kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kw(t)}function rKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PI(t,e)}function PI(t,e){return PI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},PI(t,e)}function yk(t,e,r){return e=rZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rZ(t){var e=nKe(t,"string");return sh(e)=="symbol"?e:e+""}function nKe(t,e){if(sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ep=function(t){function e(r){var n;return Qqe(this,e),n=Jqe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return rKe(e,t),Zqe(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=jE(n,qqe),s=this.props,l=s.viewBox,c=jE(s,Kqe);return!df(a,l)||!df(o,c)||!df(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,h=i.tickMargin,p,m,g,v,y,x,b=f?-1:1,S=n.tickSize||u,E=ve(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":p=m=n.coordinate,v=o+ +!f*l,g=v-b*S,x=g-b*h,y=E;break;case"left":g=v=n.coordinate,m=a+ +!f*s,p=m-b*S,y=p-b*h,x=E;break;case"right":g=v=n.coordinate,m=a+ +f*s,p=m+b*S,y=p+b*h,x=E;break;default:p=m=n.coordinate,v=o+ +f*l,g=v+b*S,x=g+b*h,y=E;break}return{line:{x1:p,y1:g,x2:m,y2:v},tick:{x:y,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=ri(ri(ri({},nt(this.props,!1)),nt(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=ri(ri({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=ri(ri({},f),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return j.createElement("line",Kd({},f,{className:ht("recharts-cartesian-axis-line",wa(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,f=s.tickFormatter,h=s.unit,p=vk(ri(ri({},this.props),{},{ticks:n}),i,a),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=nt(this.props,!1),y=nt(u,!1),x=ri(ri({},v),{},{fill:"none"},nt(l,!1)),b=p.map(function(S,E){var C=o.getTickLineCoord(S),A=C.line,T=C.tick,I=ri(ri(ri(ri({textAnchor:m,verticalAnchor:g},v),{},{stroke:"none",fill:c},y),T),{},{index:E,payload:S,visibleTicksCount:p.length,tickFormatter:f});return j.createElement(ar,Kd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Wx(o.props,S,E)),l&&j.createElement("line",Kd({},x,A,{className:ht("recharts-cartesian-axis-tick-line",wa(l,"className"))})),u&&e.renderTickItem(u,I,"".concat(Xe(f)?f(S.value,E):S.value).concat(h||"")))});return j.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,h=f.ticks,p=jE(f,Yqe),m=h;return Xe(l)&&(m=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!m||!m.length?null:j.createElement(ar,{className:ht("recharts-cartesian-axis",c),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Bn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return j.isValidElement(n)?o=j.cloneElement(n,i):Xe(n)?o=n(i):o=j.createElement(tw,Kd({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(_.Component);yk(ep,"displayName","CartesianAxis");yk(ep,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var iKe=["x1","y1","x2","y2","key"],aKe=["offset"];function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function v$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v$(Object(r),!0).forEach(function(n){oKe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oKe(t,e,r){return e=sKe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sKe(t){var e=lKe(t,"string");return Vu(e)=="symbol"?e:e+""}function lKe(t,e){if(Vu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ou(){return ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ou.apply(this,arguments)}function y$(t,e){if(t==null)return{};var r=cKe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cKe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var uKe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return j.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function nZ(t,e){var r;if(j.isValidElement(t))r=j.cloneElement(t,e);else if(Xe(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=y$(e,iKe),c=nt(l,!1);c.offset;var u=y$(c,aKe);r=j.createElement("line",ou({},u,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function dKe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=Vn(Vn({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(l),index:l});return nZ(i,c)});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function fKe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var c=Vn(Vn({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(l),index:l});return nZ(i,c)});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function hKe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var m=!u[p+1],g=m?i+o-h:u[p+1]-h;if(g<=0)return null;var v=p%e.length;return j.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:g,width:a,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function pKe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var m=!u[p+1],g=m?a+s-h:u[p+1]-h;if(g<=0)return null;var v=p%n.length;return j.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:g,height:l,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var mKe=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return yQ(vk(Vn(Vn(Vn({},ep.defaultProps),n),{},{ticks:ps(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},gKe=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return yQ(vk(Vn(Vn(Vn({},ep.defaultProps),n),{},{ticks:ps(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},_d={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function iZ(t){var e,r,n,i,a,o,s=hk(),l=pk(),c=nqe(),u=Vn(Vn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:_d.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:_d.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:_d.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:_d.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:_d.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:_d.verticalFill,x:ve(t.x)?t.x:c.left,y:ve(t.y)?t.y:c.top,width:ve(t.width)?t.width:c.width,height:ve(t.height)?t.height:c.height}),f=u.x,h=u.y,p=u.width,m=u.height,g=u.syncWithTicks,v=u.horizontalValues,y=u.verticalValues,x=eqe(),b=tqe();if(!ve(p)||p<=0||!ve(m)||m<=0||!ve(f)||f!==+f||!ve(h)||h!==+h)return null;var S=u.verticalCoordinatesGenerator||mKe,E=u.horizontalCoordinatesGenerator||gKe,C=u.horizontalPoints,A=u.verticalPoints;if((!C||!C.length)&&Xe(E)){var T=v&&v.length,I=E({yAxis:b?Vn(Vn({},b),{},{ticks:T?v:b.ticks}):void 0,width:s,height:l,offset:c},T?!0:g);bs(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Vu(I),"]")),Array.isArray(I)&&(C=I)}if((!A||!A.length)&&Xe(S)){var N=y&&y.length,O=S({xAxis:x?Vn(Vn({},x),{},{ticks:N?y:x.ticks}):void 0,width:s,height:l,offset:c},N?!0:g);bs(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Vu(O),"]")),Array.isArray(O)&&(A=O)}return j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(uKe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),j.createElement(dKe,ou({},u,{offset:c,horizontalPoints:C,xAxis:x,yAxis:b})),j.createElement(fKe,ou({},u,{offset:c,verticalPoints:A,xAxis:x,yAxis:b})),j.createElement(hKe,ou({},u,{horizontalPoints:C})),j.createElement(pKe,ou({},u,{verticalPoints:A})))}iZ.displayName="CartesianGrid";var vKe=["layout","type","stroke","connectNulls","isRange","ref"],yKe=["key"],aZ;function lh(t){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function oZ(t,e){if(t==null)return{};var r=xKe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xKe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function su(){return su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},su.apply(this,arguments)}function x$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ul(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x$(Object(r),!0).forEach(function(n){No(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lZ(n.key),n)}}function bKe(t,e,r){return e&&w$(t.prototype,e),r&&w$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Ke(t,e,r){return e=Rw(e),SKe(t,sZ()?Reflect.construct(e,r||[],Rw(t).constructor):e.apply(t,r))}function SKe(t,e){if(e&&(lh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EKe(t)}function EKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sZ=function(){return!!t})()}function Rw(t){return Rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rw(t)}function AKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OI(t,e)}function OI(t,e){return OI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},OI(t,e)}function No(t,e,r){return e=lZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lZ(t){var e=CKe(t,"string");return lh(e)=="symbol"?e:e+""}function CKe(t,e){if(lh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ic=function(t){function e(){var r;wKe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=_Ke(this,e,[].concat(i)),No(r,"state",{isAnimationFinished:!0}),No(r,"id",d0("recharts-area-")),No(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Xe(o)&&o()}),No(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Xe(o)&&o()}),r}return AKe(e,t),bKe(e,[{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,h=nt(this.props,!1),p=nt(c,!0),m=u.map(function(v,y){var x=ul(ul(ul({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:u});return e.renderDotItem(c,x)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return j.createElement(ar,su({className:"recharts-area-dots"},g),m)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].x,c=o[o.length-1].x,u=n*Math.abs(l-c),f=Cl(o.map(function(h){return h.y||0}));return ve(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Cl(a.map(function(h){return h.y||0})),f)),ve(f)?j.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,l=o[0].y,c=o[o.length-1].y,u=n*Math.abs(l-c),f=Cl(o.map(function(h){return h.x||0}));return ve(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Cl(a.map(function(h){return h.x||0})),f)),ve(f)?j.createElement("rect",{x:0,y:l<c?l:l-u,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,o){var s=this.props,l=s.layout,c=s.type,u=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var p=oZ(s,vKe);return j.createElement(ar,{clipPath:a?"url(#clipPath-".concat(o,")"):null},j.createElement($m,su({},nt(p,!0),{points:n,connectNulls:f,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&j.createElement($m,su({},nt(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:n})),u!=="none"&&h&&j.createElement($m,su({},nt(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,l=o.baseLine,c=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,m=this.state,g=m.prevPoints,v=m.prevBaseLine;return j.createElement(Bs,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var x=y.t;if(g){var b=g.length/s.length,S=s.map(function(T,I){var N=Math.floor(I*b);if(g[N]){var O=g[N],R=ha(O.x,T.x),k=ha(O.y,T.y);return ul(ul({},T),{},{x:R(x),y:k(x)})}return T}),E;if(ve(l)&&typeof l=="number"){var C=ha(v,l);E=C(x)}else if(lt(l)||Yh(l)){var A=ha(v,0);E=A(x)}else E=l.map(function(T,I){var N=Math.floor(I*b);if(v[N]){var O=v[N],R=ha(O.x,T.x),k=ha(O.y,T.y);return ul(ul({},T),{},{x:R(x),y:k(x)})}return T});return a.renderAreaStatically(S,E,n,i)}return j.createElement(ar,null,j.createElement("defs",null,j.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(x))),j.createElement(ar,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,l,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,o=a.points,s=a.baseLine,l=a.isAnimationActive,c=this.state,u=c.prevPoints,f=c.prevBaseLine,h=c.totalLength;return l&&o&&o.length&&(!u&&h>0||!$f(u,o)||!$f(f,s))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,c=i.top,u=i.left,f=i.xAxis,h=i.yAxis,p=i.width,m=i.height,g=i.isAnimationActive,v=i.id;if(a||!s||!s.length)return null;var y=this.state.isAnimationFinished,x=s.length===1,b=ht("recharts-area",l),S=f&&f.allowDataOverflow,E=h&&h.allowDataOverflow,C=S||E,A=lt(v)?this.id:v,T=(n=nt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},I=T.r,N=I===void 0?3:I,O=T.strokeWidth,R=O===void 0?2:O,k=_6e(o)?o:{},M=k.clipDot,U=M===void 0?!0:M,L=N*2+R;return j.createElement(ar,{className:b},S||E?j.createElement("defs",null,j.createElement("clipPath",{id:"clipPath-".concat(A)},j.createElement("rect",{x:S?u:u-p/2,y:E?c:c-m/2,width:S?p:p*2,height:E?m:m*2})),!U&&j.createElement("clipPath",{id:"clipPath-dots-".concat(A)},j.createElement("rect",{x:u-L/2,y:c-L/2,width:p+L,height:m+L}))):null,x?null:this.renderArea(C,A),(o||x)&&this.renderDots(C,U,A),(!g||y)&&Wl.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(_.PureComponent);aZ=Ic;No(Ic,"displayName","Area");No(Ic,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Xh.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});No(Ic,"getBaseValue",function(t,e,r,n){var i=t.layout,a=t.baseValue,o=e.props.baseValue,s=o??a;if(ve(s)&&typeof s=="number")return s;var l=i==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return s==="dataMin"?f:s==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]});No(Ic,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,s=t.bandSize,l=t.dataKey,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,h=t.offset,p=e.layout,m=c&&c.length,g=aZ.getBaseValue(e,r,n,i),v=p==="horizontal",y=!1,x=f.map(function(S,E){var C;m?C=c[u+E]:(C=Zi(S,l),Array.isArray(C)?y=!0:C=[g,C]);var A=C[1]==null||m&&Zi(S,l)==null;return v?{x:nL({axis:n,ticks:a,bandSize:s,entry:S,index:E}),y:A?null:i.scale(C[1]),value:C,payload:S}:{x:A?null:n.scale(C[1]),y:nL({axis:i,ticks:o,bandSize:s,entry:S,index:E}),value:C,payload:S}}),b;return m||y?b=x.map(function(S){var E=Array.isArray(S.value)?S.value[0]:null;return v?{x:S.x,y:E!=null&&S.y!=null?i.scale(E):null}:{x:E!=null?n.scale(E):null,y:S.y}}):b=v?i.scale(g):n.scale(g),ul({points:x,baseLine:b,layout:p,isRange:y},h)});No(Ic,"renderDotItem",function(t,e){var r;if(j.isValidElement(t))r=j.cloneElement(t,e);else if(Xe(t))r=t(e);else{var n=ht("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=oZ(e,yKe);r=j.createElement(ck,su({},a,{key:i,className:n}))}return r});function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function TKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IKe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dZ(n.key),n)}}function NKe(t,e,r){return e&&IKe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function PKe(t,e,r){return e=Dw(e),OKe(t,cZ()?Reflect.construct(e,r||[],Dw(t).constructor):e.apply(t,r))}function OKe(t,e){if(e&&(ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kKe(t)}function kKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cZ=function(){return!!t})()}function Dw(t){return Dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dw(t)}function RKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kI(t,e)}function kI(t,e){return kI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kI(t,e)}function uZ(t,e,r){return e=dZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dZ(t){var e=DKe(t,"string");return ch(e)=="symbol"?e:e+""}function DKe(t,e){if(ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function RI(){return RI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RI.apply(this,arguments)}function jKe(t){var e=t.xAxisId,r=hk(),n=pk(),i=GQ(e);return i==null?null:j.createElement(ep,RI({},i,{className:ht("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ps(o,!0)}}))}var a_=function(t){function e(){return TKe(this,e),PKe(this,e,arguments)}return RKe(e,t),NKe(e,[{key:"render",value:function(){return j.createElement(jKe,this.props)}}])}(j.Component);uZ(a_,"displayName","XAxis");uZ(a_,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function MKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LKe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pZ(n.key),n)}}function $Ke(t,e,r){return e&&LKe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FKe(t,e,r){return e=jw(e),BKe(t,fZ()?Reflect.construct(e,r||[],jw(t).constructor):e.apply(t,r))}function BKe(t,e){if(e&&(uh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VKe(t)}function VKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fZ=function(){return!!t})()}function jw(t){return jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jw(t)}function UKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DI(t,e)}function DI(t,e){return DI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DI(t,e)}function hZ(t,e,r){return e=pZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pZ(t){var e=zKe(t,"string");return uh(e)=="symbol"?e:e+""}function zKe(t,e){if(uh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function jI(){return jI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jI.apply(this,arguments)}var WKe=function(e){var r=e.yAxisId,n=hk(),i=pk(),a=qQ(r);return a==null?null:j.createElement(ep,jI({},a,{className:ht("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return ps(s,!0)}}))},o_=function(t){function e(){return MKe(this,e),FKe(this,e,arguments)}return UKe(e,t),$Ke(e,[{key:"render",value:function(){return j.createElement(WKe,this.props)}}])}(j.Component);hZ(o_,"displayName","YAxis");hZ(o_,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function b$(t){return KKe(t)||qKe(t)||GKe(t)||HKe()}function HKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GKe(t,e){if(t){if(typeof t=="string")return MI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MI(t,e)}}function qKe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KKe(t){if(Array.isArray(t))return MI(t)}function MI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var LI=function(e,r,n,i,a){var o=ro(e,gk),s=ro(e,r_),l=[].concat(b$(o),b$(s)),c=ro(e,i_),u="".concat(i,"Id"),f=i[0],h=r;if(l.length&&(h=l.reduce(function(g,v){if(v.props[u]===n&&Mo(v.props,"extendDomain")&&ve(v.props[f])){var y=v.props[f];return[Math.min(g[0],y),Math.max(g[1],y)]}return g},h)),c.length){var p="".concat(f,"1"),m="".concat(f,"2");h=c.reduce(function(g,v){if(v.props[u]===n&&Mo(v.props,"extendDomain")&&ve(v.props[p])&&ve(v.props[m])){var y=v.props[p],x=v.props[m];return[Math.min(g[0],y,x),Math.max(g[1],y,x)]}return g},h)}return a&&a.length&&(h=a.reduce(function(g,v){return ve(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},mZ={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,f||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},s.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,h,p,m){var g=r?r+c:c;if(!this._events[g])return!1;var v=this._events[g],y=arguments.length,x,b;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,f),!0;case 4:return v.fn.call(v.context,u,f,h),!0;case 5:return v.fn.call(v.context,u,f,h,p),!0;case 6:return v.fn.call(v.context,u,f,h,p,m),!0}for(b=1,x=new Array(y-1);b<y;b++)x[b-1]=arguments[b];v.fn.apply(v.context,x)}else{var S=v.length,E;for(b=0;b<S;b++)switch(v[b].once&&this.removeListener(c,v[b].fn,void 0,!0),y){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,u);break;case 3:v[b].fn.call(v[b].context,u,f);break;case 4:v[b].fn.call(v[b].context,u,f,h);break;default:if(!x)for(E=1,x=new Array(y-1);E<y;E++)x[E-1]=arguments[E];v[b].fn.apply(v[b].context,x)}}return!0},s.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!h||m.once)&&(!f||m.context===f)&&o(this,p);else{for(var g=0,v=[],y=m.length;g<y;g++)(m[g].fn!==u||h&&!m[g].once||f&&m[g].context!==f)&&v.push(m[g]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(mZ);var YKe=mZ.exports;const XKe=ot(YKe);var ME=new XKe,LE="recharts.syncMouseEvents";function wv(t){"@babel/helpers - typeof";return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wv(t)}function QKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZKe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gZ(n.key),n)}}function JKe(t,e,r){return e&&ZKe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $E(t,e,r){return e=gZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gZ(t){var e=eYe(t,"string");return wv(e)=="symbol"?e:e+""}function eYe(t,e){if(wv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tYe=function(){function t(){QKe(this,t),$E(this,"activeIndex",0),$E(this,"coordinateList",[]),$E(this,"layout","horizontal")}return JKe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+c,h=o+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function rYe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&ve(n)&&ve(i))return!0}return!1}function nYe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function vZ(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=Sn(e,r,n,i),s=Sn(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function iYe(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,h=Sn(s,l,c,f),p=Sn(s,l,u,f);n=h.x,i=h.y,a=p.x,o=p.y}else return vZ(e);return[{x:n,y:i},{x:a,y:o}]}function bv(t){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bv(t)}function _$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function My(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_$(Object(r),!0).forEach(function(n){aYe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aYe(t,e,r){return e=oYe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oYe(t){var e=sYe(t,"string");return bv(e)=="symbol"?e:e+""}function sYe(t,e){if(bv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lYe(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var m,g=$m;if(h==="ScatterChart")m=o,g=rHe;else if(h==="BarChart")m=nYe(f,o,l,u),g=lk;else if(f==="radial"){var v=vZ(o),y=v.cx,x=v.cy,b=v.radius,S=v.startAngle,E=v.endAngle;m={cx:y,cy:x,startAngle:S,endAngle:E,innerRadius:b,outerRadius:b},g=SQ}else m={points:iYe(f,o,l)},g=$m;var C=My(My(My(My({stroke:"#ccc",pointerEvents:"none"},l),m),nt(p,!1)),{},{payload:s,payloadIndex:c,className:ht("recharts-tooltip-cursor",p.className)});return _.isValidElement(p)?_.cloneElement(p,C):_.createElement(g,C)}var cYe=["item"],uYe=["children","className","width","height","style","compact","title","desc"];function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function Yd(){return Yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yd.apply(this,arguments)}function S$(t,e){return hYe(t)||fYe(t,e)||xZ(t,e)||dYe()}function dYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fYe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function hYe(t){if(Array.isArray(t))return t}function E$(t,e){if(t==null)return{};var r=pYe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pYe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gYe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wZ(n.key),n)}}function vYe(t,e,r){return e&&gYe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yYe(t,e,r){return e=Mw(e),xYe(t,yZ()?Reflect.construct(e,r||[],Mw(t).constructor):e.apply(t,r))}function xYe(t,e){if(e&&(dh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wYe(t)}function wYe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yZ=function(){return!!t})()}function Mw(t){return Mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mw(t)}function bYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$I(t,e)}function $I(t,e){return $I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$I(t,e)}function fh(t){return EYe(t)||SYe(t)||xZ(t)||_Ye()}function _Ye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xZ(t,e){if(t){if(typeof t=="string")return FI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FI(t,e)}}function SYe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function EYe(t){if(Array.isArray(t))return FI(t)}function FI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function A$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ie(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A$(Object(r),!0).forEach(function(n){Ve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ve(t,e,r){return e=wZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wZ(t){var e=AYe(t,"string");return dh(e)=="symbol"?e:e+""}function AYe(t,e){if(dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CYe={xAxis:["bottom","top"],yAxis:["left","right"]},TYe={width:"100%",height:"100%"},bZ={x:0,y:0};function Ly(t){return t}var IYe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},NYe=function(e,r,n,i){var a=r.find(function(u){return u&&u.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return ie(ie(ie({},i),Sn(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,c=i.angle;return ie(ie(ie({},i),Sn(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return bZ},s_=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(fh(s),fh(c)):s},[]);return o.length>0?o:e&&e.length&&ve(i)&&ve(a)?e.slice(i,a+1):[]};function _Z(t){return t==="number"?[0,"auto"]:void 0}var BI=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,s=s_(r,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;h=Ux(p,o.dataKey,i)}else h=f&&f[n]||s[n];return h?[].concat(fh(l),[wQ(c,h)]):l},[])},C$=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=IYe(a,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=GVe(o,s,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=BI(e,r,u,f),p=NYe(n,s,u,a);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},PYe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,h=e.stackOffset,p=vQ(u,a);return n.reduce(function(m,g){var v,y=g.type.defaultProps!==void 0?ie(ie({},g.type.defaultProps),g.props):g.props,x=y.type,b=y.dataKey,S=y.allowDataOverflow,E=y.allowDuplicatedCategory,C=y.scale,A=y.ticks,T=y.includeHidden,I=y[o];if(m[I])return m;var N=s_(e.data,{graphicalItems:i.filter(function(G){var Z,se=o in G.props?G.props[o]:(Z=G.type.defaultProps)===null||Z===void 0?void 0:Z[o];return se===I}),dataStartIndex:l,dataEndIndex:c}),O=N.length,R,k,M;rYe(y.domain,S,x)&&(R=aI(y.domain,null,S),p&&(x==="number"||C!=="auto")&&(M=Lm(N,b,"category")));var U=_Z(x);if(!R||R.length===0){var L,z=(L=y.domain)!==null&&L!==void 0?L:U;if(b){if(R=Lm(N,b,x),x==="category"&&p){var B=f6e(R);E&&B?(k=R,R=Dg(0,O)):E||(R=sL(z,R,g).reduce(function(G,Z){return G.indexOf(Z)>=0?G:[].concat(fh(G),[Z])},[]))}else if(x==="category")E?R=R.filter(function(G){return G!==""&&!lt(G)}):R=sL(z,R,g).reduce(function(G,Z){return G.indexOf(Z)>=0||Z===""||lt(Z)?G:[].concat(fh(G),[Z])},[]);else if(x==="number"){var $=QVe(N,i.filter(function(G){var Z,se,ce=o in G.props?G.props[o]:(Z=G.type.defaultProps)===null||Z===void 0?void 0:Z[o],Oe="hide"in G.props?G.props.hide:(se=G.type.defaultProps)===null||se===void 0?void 0:se.hide;return ce===I&&(T||!Oe)}),b,a,u);$&&(R=$)}p&&(x==="number"||C!=="auto")&&(M=Lm(N,b,"category"))}else p?R=Dg(0,O):s&&s[I]&&s[I].hasStack&&x==="number"?R=h==="expand"?[0,1]:xQ(s[I].stackGroups,l,c):R=gQ(N,i.filter(function(G){var Z=o in G.props?G.props[o]:G.type.defaultProps[o],se="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return Z===I&&(T||!se)}),x,u,!0);if(x==="number")R=LI(f,R,I,a,A),z&&(R=aI(z,R,S));else if(x==="category"&&z){var W=z,H=R.every(function(G){return W.indexOf(G)>=0});H&&(R=W)}}return ie(ie({},m),{},Ve({},I,ie(ie({},y),{},{axisType:a,domain:R,categoricalDomain:M,duplicateDomain:k,originalDomain:(v=y.domain)!==null&&v!==void 0?v:U,isCategorical:p,layout:u})))},{})},OYe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,f=e.children,h=s_(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),p=h.length,m=vQ(u,a),g=-1;return n.reduce(function(v,y){var x=y.type.defaultProps!==void 0?ie(ie({},y.type.defaultProps),y.props):y.props,b=x[o],S=_Z("number");if(!v[b]){g++;var E;return m?E=Dg(0,p):s&&s[b]&&s[b].hasStack?(E=xQ(s[b].stackGroups,l,c),E=LI(f,E,b,a)):(E=aI(S,gQ(h,n.filter(function(C){var A,T,I=o in C.props?C.props[o]:(A=C.type.defaultProps)===null||A===void 0?void 0:A[o],N="hide"in C.props?C.props.hide:(T=C.type.defaultProps)===null||T===void 0?void 0:T.hide;return I===b&&!N}),"number",u),i.defaultProps.allowDataOverflow),E=LI(f,E,b,a)),ie(ie({},v),{},Ve({},b,ie(ie({axisType:a},i.defaultProps),{},{hide:!0,orientation:wa(CYe,"".concat(a,".").concat(g%2),null),domain:E,originalDomain:S,isCategorical:m,layout:u})))}return v},{})},kYe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.children,f="".concat(i,"Id"),h=ro(u,a),p={};return h&&h.length?p=PYe(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(p=OYe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),p},RYe=function(e){var r=yl(e),n=ps(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Zb(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:mw(r,n)}},T$=function(e){var r=e.children,n=e.defaultShowTooltip,i=Vi(r,rh),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},DYe=function(e){return!e||!e.length?!1:e.some(function(r){var n=ws(r&&r.type);return n&&n.indexOf("Bar")>=0})},I$=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},jYe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,c=n.width,u=n.height,f=n.children,h=n.margin||{},p=Vi(f,rh),m=Vi(f,ff),g=Object.keys(l).reduce(function(E,C){var A=l[C],T=A.orientation;return!A.mirror&&!A.hide?ie(ie({},E),{},Ve({},T,E[T]+A.width)):E},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(E,C){var A=o[C],T=A.orientation;return!A.mirror&&!A.hide?ie(ie({},E),{},Ve({},T,wa(E,"".concat(T))+A.height)):E},{top:h.top||0,bottom:h.bottom||0}),y=ie(ie({},v),g),x=y.bottom;p&&(y.bottom+=p.props.height||rh.defaultProps.height),m&&r&&(y=YVe(y,i,n,r));var b=c-y.left-y.right,S=u-y.top-y.bottom;return ie(ie({brushBottom:x},y),{},{width:Math.max(b,0),height:Math.max(S,0)})},MYe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},LYe=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,f=e.defaultProps,h=function(y,x){var b=x.graphicalItems,S=x.stackGroups,E=x.offset,C=x.updateId,A=x.dataStartIndex,T=x.dataEndIndex,I=y.barSize,N=y.layout,O=y.barGap,R=y.barCategoryGap,k=y.maxBarSize,M=I$(N),U=M.numericAxisName,L=M.cateAxisName,z=DYe(b),B=[];return b.forEach(function($,W){var H=s_(y.data,{graphicalItems:[$],dataStartIndex:A,dataEndIndex:T}),G=$.type.defaultProps!==void 0?ie(ie({},$.type.defaultProps),$.props):$.props,Z=G.dataKey,se=G.maxBarSize,ce=G["".concat(U,"Id")],Oe=G["".concat(L,"Id")],pe={},J=l.reduce(function(ct,Rr){var Dr=x["".concat(Rr.axisType,"Map")],Er=G["".concat(Rr.axisType,"Id")];Dr&&Dr[Er]||Rr.axisType==="zAxis"||Bu();var vi=Dr[Er];return ie(ie({},ct),{},Ve(Ve({},Rr.axisType,vi),"".concat(Rr.axisType,"Ticks"),ps(vi)))},pe),q=J[L],ae=J["".concat(L,"Ticks")],re=S&&S[ce]&&S[ce].hasStack&&cUe($,S[ce].stackGroups),ee=ws($.type).indexOf("Bar")>=0,$e=mw(q,ae),De=[],fe=z&&qVe({barSize:I,stackGroups:S,totalSize:MYe(J,L)});if(ee){var ue,ke,X=lt(se)?k:se,de=(ue=(ke=mw(q,ae,!0))!==null&&ke!==void 0?ke:X)!==null&&ue!==void 0?ue:0;De=KVe({barGap:O,barCategoryGap:R,bandSize:de!==$e?de:$e,sizeList:fe[Oe],maxBarSize:X}),de!==$e&&(De=De.map(function(ct){return ie(ie({},ct),{},{position:ie(ie({},ct.position),{},{offset:ct.position.offset-de/2})})}))}var ge=$&&$.type&&$.type.getComposedData;ge&&B.push({props:ie(ie({},ge(ie(ie({},J),{},{displayedData:H,props:y,dataKey:Z,item:$,bandSize:$e,barPosition:De,offset:E,stackedData:re,layout:N,dataStartIndex:A,dataEndIndex:T}))),{},Ve(Ve(Ve({key:$.key||"item-".concat(W)},U,J[U]),L,J[L]),"animationId",C)),childIndex:A6e($,y.children),item:$})}),B},p=function(y,x){var b=y.props,S=y.dataStartIndex,E=y.dataEndIndex,C=y.updateId;if(!I6({props:b}))return null;var A=b.children,T=b.layout,I=b.stackOffset,N=b.data,O=b.reverseStackOrder,R=I$(T),k=R.numericAxisName,M=R.cateAxisName,U=ro(A,n),L=oUe(N,U,"".concat(k,"Id"),"".concat(M,"Id"),I,O),z=l.reduce(function(G,Z){var se="".concat(Z.axisType,"Map");return ie(ie({},G),{},Ve({},se,kYe(b,ie(ie({},Z),{},{graphicalItems:U,stackGroups:Z.axisType===k&&L,dataStartIndex:S,dataEndIndex:E}))))},{}),B=jYe(ie(ie({},z),{},{props:b,graphicalItems:U}),x==null?void 0:x.legendBBox);Object.keys(z).forEach(function(G){z[G]=u(b,z[G],B,G.replace("Map",""),r)});var $=z["".concat(M,"Map")],W=RYe($),H=h(b,ie(ie({},z),{},{dataStartIndex:S,dataEndIndex:E,updateId:C,graphicalItems:U,stackGroups:L,offset:B}));return ie(ie({formattedGraphicalItems:H,graphicalItems:U,offset:B,stackGroups:L},W),z)},m=function(v){function y(x){var b,S,E;return mYe(this,y),E=yYe(this,y,[x]),Ve(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ve(E,"accessibilityManager",new tYe),Ve(E,"handleLegendBBoxUpdate",function(C){if(C){var A=E.state,T=A.dataStartIndex,I=A.dataEndIndex,N=A.updateId;E.setState(ie({legendBBox:C},p({props:E.props,dataStartIndex:T,dataEndIndex:I,updateId:N},ie(ie({},E.state),{},{legendBBox:C}))))}}),Ve(E,"handleReceiveSyncEvent",function(C,A,T){if(E.props.syncId===C){if(T===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(A)}}),Ve(E,"handleBrushChange",function(C){var A=C.startIndex,T=C.endIndex;if(A!==E.state.dataStartIndex||T!==E.state.dataEndIndex){var I=E.state.updateId;E.setState(function(){return ie({dataStartIndex:A,dataEndIndex:T},p({props:E.props,dataStartIndex:A,dataEndIndex:T,updateId:I},E.state))}),E.triggerSyncEvent({dataStartIndex:A,dataEndIndex:T})}}),Ve(E,"handleMouseEnter",function(C){var A=E.getMouseInfo(C);if(A){var T=ie(ie({},A),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var I=E.props.onMouseEnter;Xe(I)&&I(T,C)}}),Ve(E,"triggeredAfterMouseMove",function(C){var A=E.getMouseInfo(C),T=A?ie(ie({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var I=E.props.onMouseMove;Xe(I)&&I(T,C)}),Ve(E,"handleItemMouseEnter",function(C){E.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Ve(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Ve(E,"handleMouseMove",function(C){C.persist(),E.throttleTriggeredAfterMouseMove(C)}),Ve(E,"handleMouseLeave",function(C){E.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};E.setState(A),E.triggerSyncEvent(A);var T=E.props.onMouseLeave;Xe(T)&&T(A,C)}),Ve(E,"handleOuterEvent",function(C){var A=E6e(C),T=wa(E.props,"".concat(A));if(A&&Xe(T)){var I,N;/.*touch.*/i.test(A)?N=E.getMouseInfo(C.changedTouches[0]):N=E.getMouseInfo(C),T((I=N)!==null&&I!==void 0?I:{},C)}}),Ve(E,"handleClick",function(C){var A=E.getMouseInfo(C);if(A){var T=ie(ie({},A),{},{isTooltipActive:!0});E.setState(T),E.triggerSyncEvent(T);var I=E.props.onClick;Xe(I)&&I(T,C)}}),Ve(E,"handleMouseDown",function(C){var A=E.props.onMouseDown;if(Xe(A)){var T=E.getMouseInfo(C);A(T,C)}}),Ve(E,"handleMouseUp",function(C){var A=E.props.onMouseUp;if(Xe(A)){var T=E.getMouseInfo(C);A(T,C)}}),Ve(E,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Ve(E,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.handleMouseDown(C.changedTouches[0])}),Ve(E,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&E.handleMouseUp(C.changedTouches[0])}),Ve(E,"handleDoubleClick",function(C){var A=E.props.onDoubleClick;if(Xe(A)){var T=E.getMouseInfo(C);A(T,C)}}),Ve(E,"handleContextMenu",function(C){var A=E.props.onContextMenu;if(Xe(A)){var T=E.getMouseInfo(C);A(T,C)}}),Ve(E,"triggerSyncEvent",function(C){E.props.syncId!==void 0&&ME.emit(LE,E.props.syncId,C,E.eventEmitterSymbol)}),Ve(E,"applySyncEvent",function(C){var A=E.props,T=A.layout,I=A.syncMethod,N=E.state.updateId,O=C.dataStartIndex,R=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)E.setState(ie({dataStartIndex:O,dataEndIndex:R},p({props:E.props,dataStartIndex:O,dataEndIndex:R,updateId:N},E.state)));else if(C.activeTooltipIndex!==void 0){var k=C.chartX,M=C.chartY,U=C.activeTooltipIndex,L=E.state,z=L.offset,B=L.tooltipTicks;if(!z)return;if(typeof I=="function")U=I(B,C);else if(I==="value"){U=-1;for(var $=0;$<B.length;$++)if(B[$].value===C.activeLabel){U=$;break}}var W=ie(ie({},z),{},{x:z.left,y:z.top}),H=Math.min(k,W.x+W.width),G=Math.min(M,W.y+W.height),Z=B[U]&&B[U].value,se=BI(E.state,E.props.data,U),ce=B[U]?{x:T==="horizontal"?B[U].coordinate:H,y:T==="horizontal"?G:B[U].coordinate}:bZ;E.setState(ie(ie({},C),{},{activeLabel:Z,activeCoordinate:ce,activePayload:se,activeTooltipIndex:U}))}else E.setState(C)}),Ve(E,"renderCursor",function(C){var A,T=E.state,I=T.isTooltipActive,N=T.activeCoordinate,O=T.activePayload,R=T.offset,k=T.activeTooltipIndex,M=T.tooltipAxisBandSize,U=E.getTooltipEventType(),L=(A=C.props.active)!==null&&A!==void 0?A:I,z=E.props.layout,B=C.key||"_recharts-cursor";return j.createElement(lYe,{key:B,activeCoordinate:N,activePayload:O,activeTooltipIndex:k,chartName:r,element:C,isActive:L,layout:z,offset:R,tooltipAxisBandSize:M,tooltipEventType:U})}),Ve(E,"renderPolarAxis",function(C,A,T){var I=wa(C,"type.axisType"),N=wa(E.state,"".concat(I,"Map")),O=C.type.defaultProps,R=O!==void 0?ie(ie({},O),C.props):C.props,k=N&&N[R["".concat(I,"Id")]];return _.cloneElement(C,ie(ie({},k),{},{className:ht(I,k.className),key:C.key||"".concat(A,"-").concat(T),ticks:ps(k,!0)}))}),Ve(E,"renderPolarGrid",function(C){var A=C.props,T=A.radialLines,I=A.polarAngles,N=A.polarRadius,O=E.state,R=O.radiusAxisMap,k=O.angleAxisMap,M=yl(R),U=yl(k),L=U.cx,z=U.cy,B=U.innerRadius,$=U.outerRadius;return _.cloneElement(C,{polarAngles:Array.isArray(I)?I:ps(U,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(N)?N:ps(M,!0).map(function(W){return W.coordinate}),cx:L,cy:z,innerRadius:B,outerRadius:$,key:C.key||"polar-grid",radialLines:T})}),Ve(E,"renderLegend",function(){var C=E.state.formattedGraphicalItems,A=E.props,T=A.children,I=A.width,N=A.height,O=E.props.margin||{},R=I-(O.left||0)-(O.right||0),k=pQ({children:T,formattedGraphicalItems:C,legendWidth:R,legendContent:c});if(!k)return null;var M=k.item,U=E$(k,cYe);return _.cloneElement(M,ie(ie({},U),{},{chartWidth:I,chartHeight:N,margin:O,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Ve(E,"renderTooltip",function(){var C,A=E.props,T=A.children,I=A.accessibilityLayer,N=Vi(T,bo);if(!N)return null;var O=E.state,R=O.isTooltipActive,k=O.activeCoordinate,M=O.activePayload,U=O.activeLabel,L=O.offset,z=(C=N.props.active)!==null&&C!==void 0?C:R;return _.cloneElement(N,{viewBox:ie(ie({},L),{},{x:L.left,y:L.top}),active:z,label:U,payload:z?M:[],coordinate:k,accessibilityLayer:I})}),Ve(E,"renderBrush",function(C){var A=E.props,T=A.margin,I=A.data,N=E.state,O=N.offset,R=N.dataStartIndex,k=N.dataEndIndex,M=N.updateId;return _.cloneElement(C,{key:C.key||"_recharts-brush",onChange:ky(E.handleBrushChange,C.props.onChange),data:I,x:ve(C.props.x)?C.props.x:O.left,y:ve(C.props.y)?C.props.y:O.top+O.height+O.brushBottom-(T.bottom||0),width:ve(C.props.width)?C.props.width:O.width,startIndex:R,endIndex:k,updateId:"brush-".concat(M)})}),Ve(E,"renderReferenceElement",function(C,A,T){if(!C)return null;var I=E,N=I.clipPathId,O=E.state,R=O.xAxisMap,k=O.yAxisMap,M=O.offset,U=C.type.defaultProps||{},L=C.props,z=L.xAxisId,B=z===void 0?U.xAxisId:z,$=L.yAxisId,W=$===void 0?U.yAxisId:$;return _.cloneElement(C,{key:C.key||"".concat(A,"-").concat(T),xAxis:R[B],yAxis:k[W],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:N})}),Ve(E,"renderActivePoints",function(C){var A=C.item,T=C.activePoint,I=C.basePoint,N=C.childIndex,O=C.isRange,R=[],k=A.props.key,M=A.item.type.defaultProps!==void 0?ie(ie({},A.item.type.defaultProps),A.item.props):A.item.props,U=M.activeDot,L=M.dataKey,z=ie(ie({index:N,dataKey:L,cx:T.x,cy:T.y,r:4,fill:sk(A.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},nt(U,!1)),zx(U));return R.push(y.renderActiveDot(U,z,"".concat(k,"-activePoint-").concat(N))),I?R.push(y.renderActiveDot(U,ie(ie({},z),{},{cx:I.x,cy:I.y}),"".concat(k,"-basePoint-").concat(N))):O&&R.push(null),R}),Ve(E,"renderGraphicChild",function(C,A,T){var I=E.filterFormatItem(C,A,T);if(!I)return null;var N=E.getTooltipEventType(),O=E.state,R=O.isTooltipActive,k=O.tooltipAxis,M=O.activeTooltipIndex,U=O.activeLabel,L=E.props.children,z=Vi(L,bo),B=I.props,$=B.points,W=B.isRange,H=B.baseLine,G=I.item.type.defaultProps!==void 0?ie(ie({},I.item.type.defaultProps),I.item.props):I.item.props,Z=G.activeDot,se=G.hide,ce=G.activeBar,Oe=G.activeShape,pe=!!(!se&&R&&z&&(Z||ce||Oe)),J={};N!=="axis"&&z&&z.props.trigger==="click"?J={onClick:ky(E.handleItemMouseEnter,C.props.onClick)}:N!=="axis"&&(J={onMouseLeave:ky(E.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:ky(E.handleItemMouseEnter,C.props.onMouseEnter)});var q=_.cloneElement(C,ie(ie({},I.props),J));function ae(Rr){return typeof k.dataKey=="function"?k.dataKey(Rr.payload):null}if(pe)if(M>=0){var re,ee;if(k.dataKey&&!k.allowDuplicatedCategory){var $e=typeof k.dataKey=="function"?ae:"payload.".concat(k.dataKey.toString());re=Ux($,$e,U),ee=W&&H&&Ux(H,$e,U)}else re=$==null?void 0:$[M],ee=W&&H&&H[M];if(Oe||ce){var De=C.props.activeIndex!==void 0?C.props.activeIndex:M;return[_.cloneElement(C,ie(ie(ie({},I.props),J),{},{activeIndex:De})),null,null]}if(!lt(re))return[q].concat(fh(E.renderActivePoints({item:I,activePoint:re,basePoint:ee,childIndex:M,isRange:W})))}else{var fe,ue=(fe=E.getItemByXY(E.state.activeCoordinate))!==null&&fe!==void 0?fe:{graphicalItem:q},ke=ue.graphicalItem,X=ke.item,de=X===void 0?C:X,ge=ke.childIndex,ct=ie(ie(ie({},I.props),J),{},{activeIndex:ge});return[_.cloneElement(de,ct),null,null]}return W?[q,null,null]:[q,null]}),Ve(E,"renderCustomized",function(C,A,T){return _.cloneElement(C,ie(ie({key:"recharts-customized-".concat(T)},E.props),E.state))}),Ve(E,"renderMap",{CartesianGrid:{handler:Ly,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:Ly},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:Ly},YAxis:{handler:Ly},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:d0("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=hX(E.triggeredAfterMouseMove,(S=x.throttleDelay)!==null&&S!==void 0?S:1e3/60),E.state={},E}return bYe(y,v),vYe(y,[{key:"componentDidMount",value:function(){var b,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,S=b.children,E=b.data,C=b.height,A=b.layout,T=Vi(S,bo);if(T){var I=T.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,O=BI(this.state,E,I,N),R=this.state.tooltipTicks[I].coordinate,k=(this.state.offset.top+C)/2,M=A==="horizontal",U=M?{x:R,y:k}:{y:R,x:k},L=this.state.formattedGraphicalItems.find(function(B){var $=B.item;return $.type.name==="Scatter"});L&&(U=ie(ie({},U),L.props.points[I].tooltipPosition),O=L.props.points[I].tooltipPayload);var z={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:N,activePayload:O,activeCoordinate:U};this.setState(z),this.renderCursor(T),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var E,C;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(b){AT([Vi(b.children,bo)],[Vi(this.props.children,bo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Vi(this.props.children,bo);if(b&&typeof b.props.shared=="boolean"){var S=b.props.shared?"axis":"item";return s.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var S=this.container,E=S.getBoundingClientRect(),C=b9e(E),A={chartX:Math.round(b.pageX-C.left),chartY:Math.round(b.pageY-C.top)},T=E.width/S.offsetWidth||1,I=this.inRange(A.chartX,A.chartY,T);if(!I)return null;var N=this.state,O=N.xAxisMap,R=N.yAxisMap,k=this.getTooltipEventType(),M=C$(this.state,this.props.data,this.props.layout,I);if(k!=="axis"&&O&&R){var U=yl(O).scale,L=yl(R).scale,z=U&&U.invert?U.invert(A.chartX):null,B=L&&L.invert?L.invert(A.chartY):null;return ie(ie({},A),{},{xValue:z,yValue:B},M)}return M?ie(ie({},A),M):null}},{key:"inRange",value:function(b,S){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,A=b/E,T=S/E;if(C==="horizontal"||C==="vertical"){var I=this.state.offset,N=A>=I.left&&A<=I.left+I.width&&T>=I.top&&T<=I.top+I.height;return N?{x:A,y:T}:null}var O=this.state,R=O.angleAxisMap,k=O.radiusAxisMap;if(R&&k){var M=yl(R);return uL({x:A,y:T},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,S=this.getTooltipEventType(),E=Vi(b,bo),C={};E&&S==="axis"&&(E.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=zx(this.props,this.handleOuterEvent);return ie(ie({},A),C)}},{key:"addListener",value:function(){ME.on(LE,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ME.removeListener(LE,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,S,E){for(var C=this.state.formattedGraphicalItems,A=0,T=C.length;A<T;A++){var I=C[A];if(I.item===b||I.props.key===b.key||S===ws(I.item.type)&&E===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,S=this.state.offset,E=S.left,C=S.top,A=S.height,T=S.width;return j.createElement("defs",null,j.createElement("clipPath",{id:b},j.createElement("rect",{x:E,y:C,height:A,width:T})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(S,E){var C=S$(E,2),A=C[0],T=C[1];return ie(ie({},S),{},Ve({},A,T.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(S,E){var C=S$(E,2),A=C[0],T=C[1];return ie(ie({},S),{},Ve({},A,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(b){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(b){var S=this.state,E=S.formattedGraphicalItems,C=S.activeItem;if(E&&E.length)for(var A=0,T=E.length;A<T;A++){var I=E[A],N=I.props,O=I.item,R=O.type.defaultProps!==void 0?ie(ie({},O.type.defaultProps),O.props):O.props,k=ws(O.type);if(k==="Bar"){var M=(N.data||[]).find(function(B){return GWe(b,B)});if(M)return{graphicalItem:I,payload:M}}else if(k==="RadialBar"){var U=(N.data||[]).find(function(B){return uL(b,B)});if(U)return{graphicalItem:I,payload:U}}else if(Z2(I,C)||J2(I,C)||mv(I,C)){var L=jHe({graphicalItem:I,activeTooltipItem:C,itemData:R.data}),z=R.activeIndex===void 0?L:R.activeIndex;return{graphicalItem:ie(ie({},I),{},{childIndex:z}),payload:mv(I,C)?R.data[L]:I.props.data[L]}}}return null}},{key:"render",value:function(){var b=this;if(!I6(this))return null;var S=this.props,E=S.children,C=S.className,A=S.width,T=S.height,I=S.style,N=S.compact,O=S.title,R=S.desc,k=E$(S,uYe),M=nt(k,!1);if(N)return j.createElement(o$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},j.createElement(TT,Yd({},M,{width:A,height:T,title:O,desc:R}),this.renderClipPath(),P6(E,this.renderMap)));if(this.props.accessibilityLayer){var U,L;M.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,M.role=(L=this.props.role)!==null&&L!==void 0?L:"application",M.onKeyDown=function(B){b.accessibilityManager.keyboardEvent(B)},M.onFocus=function(){b.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return j.createElement(o$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},j.createElement("div",Yd({className:ht("recharts-wrapper",C),style:ie({position:"relative",cursor:"default",width:A,height:T},I)},z,{ref:function($){b.container=$}}),j.createElement(TT,Yd({},M,{width:A,height:T,title:O,desc:R,style:TYe}),this.renderClipPath(),P6(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(_.Component);Ve(m,"displayName",r),Ve(m,"defaultProps",ie({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ve(m,"getDerivedStateFromProps",function(v,y){var x=v.dataKey,b=v.data,S=v.children,E=v.width,C=v.height,A=v.layout,T=v.stackOffset,I=v.margin,N=y.dataStartIndex,O=y.dataEndIndex;if(y.updateId===void 0){var R=T$(v);return ie(ie(ie({},R),{},{updateId:0},p(ie(ie({props:v},R),{},{updateId:0}),y)),{},{prevDataKey:x,prevData:b,prevWidth:E,prevHeight:C,prevLayout:A,prevStackOffset:T,prevMargin:I,prevChildren:S})}if(x!==y.prevDataKey||b!==y.prevData||E!==y.prevWidth||C!==y.prevHeight||A!==y.prevLayout||T!==y.prevStackOffset||!df(I,y.prevMargin)){var k=T$(v),M={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},U=ie(ie({},C$(y,b,A)),{},{updateId:y.updateId+1}),L=ie(ie(ie({},k),M),U);return ie(ie(ie({},L),p(ie({props:v},L),y)),{},{prevDataKey:x,prevData:b,prevWidth:E,prevHeight:C,prevLayout:A,prevStackOffset:T,prevMargin:I,prevChildren:S})}if(!AT(S,y.prevChildren)){var z,B,$,W,H=Vi(S,rh),G=H&&(z=(B=H.props)===null||B===void 0?void 0:B.startIndex)!==null&&z!==void 0?z:N,Z=H&&($=(W=H.props)===null||W===void 0?void 0:W.endIndex)!==null&&$!==void 0?$:O,se=G!==N||Z!==O,ce=!lt(b),Oe=ce&&!se?y.updateId:y.updateId+1;return ie(ie({updateId:Oe},p(ie(ie({props:v},y),{},{updateId:Oe,dataStartIndex:G,dataEndIndex:Z}),y)),{},{prevChildren:S,dataStartIndex:G,dataEndIndex:Z})}return null}),Ve(m,"renderActiveDot",function(v,y,x){var b;return _.isValidElement(v)?b=_.cloneElement(v,y):Xe(v)?b=v(y):b=j.createElement(ck,y),j.createElement(ar,{className:"recharts-active-dot",key:x},b)});var g=_.forwardRef(function(y,x){return j.createElement(m,Yd({},y,{ref:x}))});return g.displayName=m.displayName,g},$Ye=LYe({chartName:"AreaChart",GraphicalChild:Ic,axisComponents:[{axisType:"xAxis",AxisComp:a_},{axisType:"yAxis",AxisComp:o_}],formatAxisMap:$Ge});const FYe=()=>{const{trips:t}=Qse(),[e,r]=_.useState([]),[n,i]=_.useState({total:0,percentageChange:0}),a=_.useMemo(()=>{const c=new Map;return t.forEach(u=>{if(u.status==="completed"){const f=new Date(u.createdAt),h=Hr(f,"MMM yyyy"),p=u.items.reduce((g,v)=>g+(v.price||0)*v.quantity,0);c.has(h)||c.set(h,{total:0,count:0,byCategory:{}});const m=c.get(h);m.total+=p,m.count+=1,u.items.forEach(g=>{g.category&&(m.byCategory[g.category]=(m.byCategory[g.category]||0)+(g.price||0)*g.quantity)})}}),Array.from(c.entries()).map(([u,f])=>({month:u,total:Number(f.total.toFixed(2)),average:Number((f.total/f.count).toFixed(2)),...f.byCategory})).sort((u,f)=>{const h=new Date(u.month),p=new Date(f.month);return h.getTime()-p.getTime()})},[t]),o=_.useMemo(()=>{const c=Hr(new Date,"MMM yyyy"),u=a.find(m=>m.month===c),f=Hr(new Date(new Date().setMonth(new Date().getMonth()-1)),"MMM yyyy"),h=a.find(m=>m.month===f),p=h&&u?(u.total-h.total)/h.total*100:0;return{total:(u==null?void 0:u.total)||0,percentageChange:Number(p.toFixed(1))}},[a]);_.useMemo(()=>{const c=Hr(new Date,"MMM yyyy"),u=a.find(f=>f.month===c);return u?Object.entries(u).filter(([f])=>!["month","total","average"].includes(f)).map(([f,h])=>({category:f,amount:typeof h=="number"?Number(h.toFixed(2)):0,percentage:typeof h=="number"?Number((h/u.total*100).toFixed(1)):0})).sort((f,h)=>h.amount-f.amount):[]},[a]);const s=_.useMemo(()=>t.filter(c=>c.status==="open"||c.status==="shopping").length,[t]),l=_.useMemo(()=>t.filter(c=>c.status==="completed").sort((c,u)=>new Date(u.createdAt).getTime()-new Date(c.createdAt).getTime()).slice(0,5),[t]);return _.useEffect(()=>{r(a),i(o)},[a,o]),d.jsx(Ds,{children:d.jsxs("div",{className:"p-4 md:p-8 space-y-8",children:[d.jsx("h1",{className:"text-4xl font-bold text-blue-600",children:"Dashboard"}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[d.jsxs(Ie,{className:"bg-white",children:[d.jsxs(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(He,{className:"text-sm font-medium",children:"Total Spent (This Month)"}),d.jsxs(Or,{variant:n.percentageChange>=0?"default":"destructive",children:[n.percentageChange>=0?"+":"",n.percentageChange,"%"]})]}),d.jsxs(Pe,{children:[d.jsxs("div",{className:"text-2xl font-bold",children:["$",n.total.toFixed(2)]}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.percentageChange>=0?"Increase":"Decrease"," from last month"]})]})]}),d.jsxs(Ie,{className:"bg-white",children:[d.jsx(We,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:d.jsx(He,{className:"text-sm font-medium",children:"Active Trips"})}),d.jsxs(Pe,{children:[d.jsx("div",{className:"text-2xl font-bold",children:s}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Open or in progress"})]})]})]}),d.jsx(Ie,{className:"bg-white",children:d.jsxs(Pe,{className:"p-6",children:[d.jsx("h2",{className:"text-lg font-medium text-gray-600 mb-4",children:"Recent Activity"}),d.jsx("div",{className:"space-y-4",children:l.map((c,u)=>{const f=c.items.reduce((h,p)=>h+(p.price||0)*p.quantity,0);return d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:d.jsx(pC,{className:"h-4 w-4 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:c.name}),d.jsx("p",{className:"text-sm text-gray-500",children:new Date(c.createdAt).toLocaleDateString()})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"font-medium",children:["$",f.toFixed(2)]}),d.jsxs("p",{className:"text-sm text-gray-500",children:[c.items.length," items"]})]})]},c.id)})})]})}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[d.jsx(Ie,{className:"bg-white",children:d.jsxs(Pe,{className:"p-6",children:[d.jsx("h2",{className:"text-lg font-medium text-gray-600 mb-4",children:"Spending Analysis"}),d.jsxs(Cu,{defaultValue:"trend",className:"w-full",children:[d.jsxs(nc,{children:[d.jsx(tr,{value:"trend",className:"flex-1",children:"Trend"}),d.jsx(tr,{value:"categories",className:"flex-1",children:"Categories"})]}),d.jsx(Pr,{value:"trend",children:d.jsx("div",{className:"h-[300px] w-full",children:d.jsx(p9e,{width:"100%",height:"100%",children:d.jsxs($Ye,{data:a,children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"total",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#0ea5e9",stopOpacity:.3}),d.jsx("stop",{offset:"95%",stopColor:"#0ea5e9",stopOpacity:0})]})}),d.jsx(iZ,{strokeDasharray:"3 3",className:"stroke-muted"}),d.jsx(a_,{dataKey:"month"}),d.jsx(o_,{}),d.jsx(bo,{content:({active:c,payload:u})=>c&&u&&u.length?d.jsx("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-[0.70rem] uppercase text-muted-foreground",children:"Month"}),d.jsx("span",{className:"font-bold text-muted-foreground",children:u[0].payload.month})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-[0.70rem] uppercase text-muted-foreground",children:"Total"}),d.jsxs("span",{className:"font-bold",children:["$",u[0].value]})]})]})}):null}),d.jsx(Ic,{type:"monotone",dataKey:"total",stroke:"#0ea5e9",fillOpacity:1,fill:"url(#total)"})]})})})}),d.jsx(Pr,{value:"categories",children:d.jsx("div",{className:"text-center text-gray-500 py-8",children:"Category breakdown coming soon"})})]})]})}),d.jsx(Ie,{className:"bg-white",children:d.jsxs(Pe,{className:"p-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx(pC,{className:"h-5 w-5"}),d.jsx("h2",{className:"text-lg font-medium text-gray-600",children:"Shopping Insights"})]}),d.jsxs(Cu,{defaultValue:"hotspots",className:"w-full",children:[d.jsxs(nc,{className:"mb-4",children:[d.jsx(tr,{value:"hotspots",className:"flex-1",children:"My List Hotspots"}),d.jsx(tr,{value:"overview",className:"flex-1",children:"Store Overview"}),d.jsx(tr,{value:"dive",className:"flex-1",children:"Item Deep Dive"}),d.jsx(tr,{value:"visits",className:"flex-1",children:"Recent Visits"})]}),d.jsx(Pr,{value:"hotspots",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"p-4 border rounded-lg",children:[d.jsx("h3",{className:"font-medium mb-2",children:"Milk"}),d.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[d.jsx(ln,{className:"h-4 w-4"}),d.jsx("span",{children:"No purchase frequency data yet."})]}),d.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2 mt-1",children:[d.jsx(sf,{className:"h-4 w-4"}),d.jsx("span",{children:"No pricing data to determine cheapest store."})]})]}),d.jsxs("div",{className:"p-4 border rounded-lg",children:[d.jsx("h3",{className:"font-medium mb-2",children:"Eggs"}),d.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[d.jsx(ln,{className:"h-4 w-4"}),d.jsx("span",{children:"No purchase frequency data yet."})]}),d.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2 mt-1",children:[d.jsx(sf,{className:"h-4 w-4"}),d.jsx("span",{children:"No pricing data to determine cheapest store."})]})]})]})})]})]})})]})]})})},BYe=()=>{var u,f;const{loginWithGoogle:t,isLoading:e,error:r,user:n}=Nb(),i=ra(),a=uo(),[o,s]=_.useState(null),l=((f=(u=a.state)==null?void 0:u.from)==null?void 0:f.pathname)||"/home",c=async()=>{s(null);try{await t()}catch(h){s("Login failed. Please try again."),console.error("Login failed on page:",h)}};return j.useEffect(()=>{n&&i(l,{replace:!0})},[n,i,l]),d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 via-purple-100 to-teal-100 flex items-center justify-center p-4",children:[d.jsx("div",{className:"absolute top-6 left-6",children:d.jsxs(of,{to:"/",className:"flex items-center gap-2 text-teal-600 hover:text-teal-700 transition-colors",children:[d.jsx(ile,{className:"h-5 w-5"}),d.jsx("span",{className:"font-medium",children:"Back to Home"})]})}),d.jsxs(Ie,{className:"w-full max-w-md border-none shadow-lg",children:[d.jsxs(We,{className:"space-y-1 text-center",children:[d.jsx("div",{className:"flex justify-center mb-2",children:d.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-50 flex items-center justify-center",children:d.jsx(PP,{className:"h-8 w-8 text-blue-500"})})}),d.jsx(He,{className:"text-2xl font-bold text-slate-800",children:"Welcome Back!"}),d.jsx(gt,{className:"text-slate-600",children:"Sign in to continue to TaskaLoop."})]}),d.jsxs(Pe,{className:"space-y-4",children:[(r||o)&&d.jsx("p",{className:"text-center text-red-500 dark:text-red-400 bg-red-500/10 p-3 rounded-md",children:r||o}),d.jsxs(Y,{className:"w-full py-6 bg-gradient-to-r from-blue-500 to-teal-500 hover:from-blue-600 hover:to-teal-600 text-white",onClick:c,disabled:e,children:[e?d.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):d.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[d.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),d.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),d.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),d.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),d.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]}),"Sign in with Google"]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("span",{className:"w-full border-t border-gray-200"})}),d.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:d.jsx("span",{className:"bg-white px-2 text-slate-500",children:"Or continue with"})})]}),d.jsxs(Y,{variant:"outline",className:"w-full py-6 border-slate-300 text-slate-700 hover:bg-slate-50",onClick:c,disabled:e,children:[d.jsx(VV,{className:"mr-2 h-4 w-4"}),"Sign in with Email"]})]}),d.jsxs(Dt,{className:"flex flex-col space-y-4",children:[d.jsxs("p",{className:"text-center text-sm text-slate-500",children:["By signing in, you agree to our"," ",d.jsx(of,{to:"#",className:"text-teal-600 hover:text-teal-700 underline underline-offset-4",children:"Terms of Service"})," ","and"," ",d.jsx(of,{to:"#",className:"text-teal-600 hover:text-teal-700 underline underline-offset-4",children:"Privacy Policy"}),"."]}),d.jsx("p",{className:"text-center text-sm text-slate-500",children:"Don't have an account? It will be created automatically."})]})]})]})};function VYe(){ra();const t="May",e=2025,r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n=Array.from({length:35},(i,a)=>{const o=a-3;return{date:o<=0?`Apr ${30+o}`:o>31?`Jun ${o-31}`:`May ${o}`,day:o,isCurrentMonth:o>0&&o<=31,hasEvents:[1,5,10,15,20,22,25].includes(o),events:o===20?[{title:"Grocery Shopping",time:"3:30 PM",type:"shopping"},{title:"Dinner with Alex",time:"7:00 PM",type:"social"}]:o===22?[{title:"Pay Internet Bill",time:"All day",type:"task"}]:o===15?[{title:"Household Supplies",time:"11:00 AM",type:"shopping"}]:[]}});return d.jsxs("div",{className:"min-h-screen bg-slate-50",children:[d.jsx(kz,{}),d.jsx("main",{className:"md:pl-64 pb-16 md:pb-0",children:d.jsxs("div",{className:"p-4 md:p-8",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Calendar"}),d.jsx("p",{className:"text-slate-500",children:"Plan and manage your schedule"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"flex items-center border border-slate-200 rounded-md",children:[d.jsx(Y,{variant:"ghost",size:"icon",className:"h-9 w-9 text-slate-500",children:d.jsx(Pb,{className:"h-4 w-4"})}),d.jsxs("div",{className:"px-2 font-medium",children:[t," ",e]}),d.jsx(Y,{variant:"ghost",size:"icon",className:"h-9 w-9 text-slate-500",children:d.jsx(zv,{className:"h-4 w-4"})})]}),d.jsxs(pr,{defaultValue:"month",children:[d.jsx(rr,{className:"w-[120px] border-slate-200",children:d.jsx(mr,{placeholder:"View"})}),d.jsxs(nr,{children:[d.jsx(Se,{value:"day",children:"Day"}),d.jsx(Se,{value:"week",children:"Week"}),d.jsx(Se,{value:"month",children:"Month"}),d.jsx(Se,{value:"agenda",children:"Agenda"})]})]}),d.jsxs(Y,{className:"bg-teal-600 hover:bg-teal-700",children:[d.jsx(cn,{className:"h-4 w-4 mr-2"}),"Add Event"]})]})]}),d.jsx(Ie,{className:"border-none shadow-sm",children:d.jsxs(Pe,{className:"p-0",children:[d.jsx("div",{className:"grid grid-cols-7 border-b border-slate-200",children:r.map((i,a)=>d.jsx("div",{className:`py-2 text-center text-sm font-medium ${a===0||a===6?"text-red-500":"text-slate-700"}`,children:i},i))}),d.jsx("div",{className:"grid grid-cols-7 grid-rows-5 divide-x divide-y divide-slate-200",children:n.map((i,a)=>d.jsxs("div",{className:`min-h-[120px] p-2 ${i.isCurrentMonth?"bg-white":"bg-slate-50"} hover:bg-slate-50 transition-colors`,children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("span",{className:`text-sm font-medium ${i.isCurrentMonth?i.date.includes("May 20")?"bg-teal-100 text-teal-800 w-6 h-6 rounded-full flex items-center justify-center":"text-slate-700":"text-slate-400"}`,children:i.day<=0?30+i.day:i.day>31?i.day-31:i.day}),i.hasEvents&&d.jsx("div",{className:"flex",children:d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-teal-500"})})]}),d.jsx("div",{className:"mt-1 space-y-1",children:i.events.map((o,s)=>d.jsxs("div",{className:`text-xs p-1 rounded truncate ${o.type==="shopping"?"bg-blue-100 text-blue-800":o.type==="social"?"bg-purple-100 text-purple-800":"bg-amber-100 text-amber-800"}`,children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(ln,{className:"h-3 w-3"}),d.jsx("span",{children:o.time})]}),d.jsx("div",{className:"truncate font-medium",children:o.title})]},s))})]},a))})]})}),d.jsxs("div",{className:"mt-8",children:[d.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Upcoming Events"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs(Ie,{className:"border-none shadow-sm",children:[d.jsx(We,{className:"pb-2",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx(He,{children:"Today, May 20"}),d.jsx(gt,{children:"2 events scheduled"})]}),d.jsx(Or,{className:"bg-teal-100 text-teal-800 hover:bg-teal-100",children:"Today"})]})}),d.jsx(Pe,{className:"pb-2",children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-blue-50 border border-blue-100",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:d.jsx(Wr,{className:"h-5 w-5 text-blue-600"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-medium text-slate-800",children:"Grocery Shopping"}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx(ln,{className:"h-3.5 w-3.5 text-slate-500"}),d.jsx("span",{className:"text-sm text-slate-500",children:"3:30 PM"})]}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx(Rs,{className:"h-3.5 w-3.5 text-slate-500"}),d.jsx("span",{className:"text-sm text-slate-500",children:"Trader Joe's"})]})]}),d.jsxs(xg,{children:[d.jsx(wg,{asChild:!0,children:d.jsx(Y,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400",children:d.jsx(cf,{className:"h-4 w-4"})})}),d.jsxs(Of,{align:"end",children:[d.jsx(oi,{children:"Edit Event"}),d.jsx(oi,{children:"View Shopping List"}),d.jsx(bg,{}),d.jsx(oi,{className:"text-red-600",children:"Cancel"})]})]})]}),d.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-purple-50 border border-purple-100",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center flex-shrink-0",children:d.jsx(rc,{className:"h-5 w-5 text-purple-600"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-medium text-slate-800",children:"Dinner with Alex"}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx(ln,{className:"h-3.5 w-3.5 text-slate-500"}),d.jsx("span",{className:"text-sm text-slate-500",children:"7:00 PM"})]}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx(Rs,{className:"h-3.5 w-3.5 text-slate-500"}),d.jsx("span",{className:"text-sm text-slate-500",children:"Italian Restaurant"})]})]}),d.jsxs(xg,{children:[d.jsx(wg,{asChild:!0,children:d.jsx(Y,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400",children:d.jsx(cf,{className:"h-4 w-4"})})}),d.jsxs(Of,{align:"end",children:[d.jsx(oi,{children:"Edit Event"}),d.jsx(oi,{children:"Send Message"}),d.jsx(bg,{}),d.jsx(oi,{className:"text-red-600",children:"Cancel"})]})]})]})]})})]}),d.jsxs(Ie,{className:"border-none shadow-sm",children:[d.jsx(We,{className:"pb-2",children:d.jsx("div",{className:"flex justify-between items-start",children:d.jsxs("div",{children:[d.jsx(He,{children:"Upcoming"}),d.jsx(gt,{children:"Events in the next 7 days"})]})})}),d.jsx(Pe,{className:"pb-2",children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-slate-50 transition-colors",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center flex-shrink-0",children:d.jsx(lf,{className:"h-5 w-5 text-amber-600"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-medium text-slate-800",children:"Pay Internet Bill"}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx(Au,{className:"h-3.5 w-3.5 text-slate-500"}),d.jsx("span",{className:"text-sm text-slate-500",children:"May 22, 2025"})]}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx(ln,{className:"h-3.5 w-3.5 text-slate-500"}),d.jsx("span",{className:"text-sm text-slate-500",children:"All day"})]})]}),d.jsx(Y,{variant:"outline",size:"sm",className:"border-slate-200",children:"Remind Me"})]}),d.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-slate-50 transition-colors",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:d.jsx(Wr,{className:"h-5 w-5 text-blue-600"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-medium text-slate-800",children:"Household Supplies"}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx(Au,{className:"h-3.5 w-3.5 text-slate-500"}),d.jsx("span",{className:"text-sm text-slate-500",children:"May 25, 2025"})]}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx(ln,{className:"h-3.5 w-3.5 text-slate-500"}),d.jsx("span",{className:"text-sm text-slate-500",children:"11:00 AM"})]})]}),d.jsx(Y,{variant:"outline",size:"sm",className:"border-slate-200",children:"Remind Me"})]})]})}),d.jsx(Dt,{className:"pt-2",children:d.jsx(Y,{variant:"ghost",className:"w-full text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:"View All Events"})})]})]})]})]})})]})}const UYe=()=>{};var N$={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SZ=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},zYe=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],s=t[r++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},EZ={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,f=(a&3)<<4|s>>4;let h=(s&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),n.push(r[u],r[f],r[h],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SZ(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zYe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],s=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||s==null||c==null||f==null)throw new WYe;const h=a<<2|s>>4;if(n.push(h),c!==64){const p=s<<4&240|c>>2;if(n.push(p),f!==64){const m=c<<6&192|f;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class WYe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HYe=function(t){const e=SZ(t);return EZ.encodeByteArray(e,!0)},Lw=function(t){return HYe(t).replace(/\./g,"")},AZ=function(t){try{return EZ.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GYe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qYe=()=>GYe().__FIREBASE_DEFAULTS__,KYe=()=>{if(typeof process>"u"||typeof N$>"u")return;const t=N$.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YYe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&AZ(t[1]);return e&&JSON.parse(e)},l_=()=>{try{return UYe()||qYe()||KYe()||YYe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},CZ=t=>{var e,r;return(r=(e=l_())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},TZ=t=>{const e=CZ(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},IZ=()=>{var t;return(t=l_())===null||t===void 0?void 0:t.config},NZ=t=>{var e;return(e=l_())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XYe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(t){return t.endsWith(".cloudworkstations.dev")}async function xk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PZ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Lw(JSON.stringify(r)),Lw(JSON.stringify(o)),""].join(".")}const Bm={};function QYe(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bm))Bm[e]?t.emulator.push(e):t.prod.push(e);return t}function ZYe(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let P$=!1;function rp(t,e){if(typeof window>"u"||typeof document>"u"||!tp(window.location.host)||Bm[t]===e||Bm[t]||P$)return;Bm[t]=e;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",a=QYe().prod.length>0;function o(){const h=document.getElementById(n);h&&h.remove()}function s(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{P$=!0,o()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=ZYe(n),p=r("text"),m=document.getElementById(p)||document.createElement("span"),g=r("learnmore"),v=document.getElementById(g)||document.createElement("a"),y=r("preprendIcon"),x=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;s(b),u(v,g);const S=c();l(x,y),b.append(x,m,v,S),document.body.appendChild(b)}a?(m.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JYe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kn())}function eXe(){var t;const e=(t=l_())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tXe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OZ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function rXe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nXe(){const t=Kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function iXe(){return!eXe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wk(){try{return typeof indexedDB=="object"}catch{return!1}}function bk(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}function kZ(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aXe="FirebaseError";class ka extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=aXe,Object.setPrototypeOf(this,ka.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nc.prototype.create)}}class Nc{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?oXe(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new ka(i,s,n)}}function oXe(t,e){return t.replace(sXe,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const sXe=/\{\$([^}]+)}/g;function lXe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lc(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(O$(a)&&O$(o)){if(!lc(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function O$(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function fm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function hm(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function cXe(t,e){const r=new uXe(t,e);return r.subscribe.bind(r)}class uXe{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");dXe(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=FE),i.error===void 0&&(i.error=FE),i.complete===void 0&&(i.complete=FE);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dXe(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function FE(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fXe=1e3,hXe=2,pXe=4*60*60*1e3,mXe=.5;function k$(t,e=fXe,r=hXe){const n=e*Math.pow(r,t),i=Math.round(mXe*n*(Math.random()-.5)*2);return Math.min(pXe,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(t){return t&&t._delegate?t._delegate:t}class Di{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gXe{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new XYe;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yXe(e))try{this.getOrInitializeService({instanceIdentifier:Xc})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Xc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xc){return this.instances.has(e)}getOptions(e=Xc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:vXe(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Xc){return this.component?this.component.multipleInstances?e:Xc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vXe(t){return t===Xc?void 0:t}function yXe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xXe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new gXe(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const wXe={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},bXe=at.INFO,_Xe={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},SXe=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=_Xe[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class c_{constructor(e){this.name=e,this._logLevel=bXe,this._logHandler=SXe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wXe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const EXe=(t,e)=>e.some(r=>t instanceof r);let R$,D$;function AXe(){return R$||(R$=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CXe(){return D$||(D$=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RZ=new WeakMap,VI=new WeakMap,DZ=new WeakMap,BE=new WeakMap,_k=new WeakMap;function TXe(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(Ss(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&RZ.set(r,t)}).catch(()=>{}),_k.set(e,t),e}function IXe(t){if(VI.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});VI.set(t,e)}let UI={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return VI.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DZ.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ss(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function NXe(t){UI=t(UI)}function PXe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(VE(this),e,...r);return DZ.set(n,e.sort?e.sort():[e]),Ss(n)}:CXe().includes(t)?function(...e){return t.apply(VE(this),e),Ss(RZ.get(this))}:function(...e){return Ss(t.apply(VE(this),e))}}function OXe(t){return typeof t=="function"?PXe(t):(t instanceof IDBTransaction&&IXe(t),EXe(t,AXe())?new Proxy(t,UI):t)}function Ss(t){if(t instanceof IDBRequest)return TXe(t);if(BE.has(t))return BE.get(t);const e=OXe(t);return e!==t&&(BE.set(t,e),_k.set(e,t)),e}const VE=t=>_k.get(t);function u_(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=Ss(o);return n&&o.addEventListener("upgradeneeded",l=>{n(Ss(o.result),l.oldVersion,l.newVersion,Ss(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),s}function UE(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",n=>e(n.oldVersion,n)),Ss(r).then(()=>{})}const kXe=["get","getKey","getAll","getAllKeys","count"],RXe=["put","add","delete","clear"],zE=new Map;function j$(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zE.get(e))return zE.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=RXe.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||kXe.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(s.shift())),(await Promise.all([c[r](...s),i&&l.done]))[0]};return zE.set(e,a),a}NXe(t=>({...t,get:(e,r,n)=>j$(e,r)||t.get(e,r,n),has:(e,r)=>!!j$(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DXe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(jXe(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function jXe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zI="@firebase/app",M$="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new c_("@firebase/app"),MXe="@firebase/app-compat",LXe="@firebase/analytics-compat",$Xe="@firebase/analytics",FXe="@firebase/app-check-compat",BXe="@firebase/app-check",VXe="@firebase/auth",UXe="@firebase/auth-compat",zXe="@firebase/database",WXe="@firebase/data-connect",HXe="@firebase/database-compat",GXe="@firebase/functions",qXe="@firebase/functions-compat",KXe="@firebase/installations",YXe="@firebase/installations-compat",XXe="@firebase/messaging",QXe="@firebase/messaging-compat",ZXe="@firebase/performance",JXe="@firebase/performance-compat",eQe="@firebase/remote-config",tQe="@firebase/remote-config-compat",rQe="@firebase/storage",nQe="@firebase/storage-compat",iQe="@firebase/firestore",aQe="@firebase/vertexai",oQe="@firebase/firestore-compat",sQe="firebase",lQe="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="[DEFAULT]",cQe={[zI]:"fire-core",[MXe]:"fire-core-compat",[$Xe]:"fire-analytics",[LXe]:"fire-analytics-compat",[BXe]:"fire-app-check",[FXe]:"fire-app-check-compat",[VXe]:"fire-auth",[UXe]:"fire-auth-compat",[zXe]:"fire-rtdb",[WXe]:"fire-data-connect",[HXe]:"fire-rtdb-compat",[GXe]:"fire-fn",[qXe]:"fire-fn-compat",[KXe]:"fire-iid",[YXe]:"fire-iid-compat",[XXe]:"fire-fcm",[QXe]:"fire-fcm-compat",[ZXe]:"fire-perf",[JXe]:"fire-perf-compat",[eQe]:"fire-rc",[tQe]:"fire-rc-compat",[rQe]:"fire-gcs",[nQe]:"fire-gcs-compat",[iQe]:"fire-fst",[oQe]:"fire-fst-compat",[aQe]:"fire-vertex","fire-js":"fire-js",[sQe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=new Map,uQe=new Map,HI=new Map;function L$(t,e){try{t.container.addComponent(e)}catch(r){Vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Ji(t){const e=t.name;if(HI.has(e))return Vs.debug(`There were multiple attempts to register component ${e}.`),!1;HI.set(e,t);for(const r of $w.values())L$(r,t);for(const r of uQe.values())L$(r,t);return!0}function Ys(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function pa(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dQe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hl=new Nc("app","Firebase",dQe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fQe{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=lQe;function jZ(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:WI,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Hl.create("bad-app-name",{appName:String(i)});if(r||(r=IZ()),!r)throw Hl.create("no-options");const a=$w.get(i);if(a){if(lc(r,a.options)&&lc(n,a.config))return a;throw Hl.create("duplicate-app",{appName:i})}const o=new xXe(i);for(const l of HI.values())o.addComponent(l);const s=new fQe(r,n,o);return $w.set(i,s),s}function y0(t=WI){const e=$w.get(t);if(!e&&t===WI&&IZ())return jZ();if(!e)throw Hl.create("no-app",{appName:t});return e}function Gn(t,e,r){var n;let i=(n=cQe[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vs.warn(s.join(" "));return}Ji(new Di(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hQe="firebase-heartbeat-database",pQe=1,_v="firebase-heartbeat-store";let WE=null;function MZ(){return WE||(WE=u_(hQe,pQe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_v)}catch(r){console.warn(r)}}}}).catch(t=>{throw Hl.create("idb-open",{originalErrorMessage:t.message})})),WE}async function mQe(t){try{const r=(await MZ()).transaction(_v),n=await r.objectStore(_v).get(LZ(t));return await r.done,n}catch(e){if(e instanceof ka)Vs.warn(e.message);else{const r=Hl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vs.warn(r.message)}}}async function $$(t,e){try{const n=(await MZ()).transaction(_v,"readwrite");await n.objectStore(_v).put(e,LZ(t)),await n.done}catch(r){if(r instanceof ka)Vs.warn(r.message);else{const n=Hl.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Vs.warn(n.message)}}}function LZ(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gQe=1024,vQe=30;class yQe{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new wQe(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=F$();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>vQe){const o=bQe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Vs.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=F$(),{heartbeatsToSend:n,unsentEntries:i}=xQe(this._heartbeatsCache.heartbeats),a=Lw(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Vs.warn(r),""}}}function F$(){return new Date().toISOString().substring(0,10)}function xQe(t,e=gQe){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),B$(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),B$(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class wQe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wk()?bk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await mQe(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return $$(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return $$(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function B$(t){return Lw(JSON.stringify({version:2,heartbeats:t})).length}function bQe(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Qe(t){Ji(new Di("platform-logger",e=>new DXe(e),"PRIVATE")),Ji(new Di("heartbeat",e=>new yQe(e),"PRIVATE")),Gn(zI,M$,t),Gn(zI,M$,"esm2017"),Gn("fire-js","")}_Qe("");var SQe="firebase",EQe="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn(SQe,EQe,"app");var V$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gl,$Z;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,T){function I(){}I.prototype=T.prototype,A.D=T.prototype,A.prototype=new I,A.prototype.constructor=A,A.C=function(N,O,R){for(var k=Array(arguments.length-2),M=2;M<arguments.length;M++)k[M-2]=arguments[M];return T.prototype[O].apply(N,k)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,T,I){I||(I=0);var N=Array(16);if(typeof T=="string")for(var O=0;16>O;++O)N[O]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(O=0;16>O;++O)N[O]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=A.g[0],I=A.g[1],O=A.g[2];var R=A.g[3],k=T+(R^I&(O^R))+N[0]+3614090360&4294967295;T=I+(k<<7&4294967295|k>>>25),k=R+(O^T&(I^O))+N[1]+3905402710&4294967295,R=T+(k<<12&4294967295|k>>>20),k=O+(I^R&(T^I))+N[2]+606105819&4294967295,O=R+(k<<17&4294967295|k>>>15),k=I+(T^O&(R^T))+N[3]+3250441966&4294967295,I=O+(k<<22&4294967295|k>>>10),k=T+(R^I&(O^R))+N[4]+4118548399&4294967295,T=I+(k<<7&4294967295|k>>>25),k=R+(O^T&(I^O))+N[5]+1200080426&4294967295,R=T+(k<<12&4294967295|k>>>20),k=O+(I^R&(T^I))+N[6]+2821735955&4294967295,O=R+(k<<17&4294967295|k>>>15),k=I+(T^O&(R^T))+N[7]+4249261313&4294967295,I=O+(k<<22&4294967295|k>>>10),k=T+(R^I&(O^R))+N[8]+1770035416&4294967295,T=I+(k<<7&4294967295|k>>>25),k=R+(O^T&(I^O))+N[9]+2336552879&4294967295,R=T+(k<<12&4294967295|k>>>20),k=O+(I^R&(T^I))+N[10]+4294925233&4294967295,O=R+(k<<17&4294967295|k>>>15),k=I+(T^O&(R^T))+N[11]+2304563134&4294967295,I=O+(k<<22&4294967295|k>>>10),k=T+(R^I&(O^R))+N[12]+1804603682&4294967295,T=I+(k<<7&4294967295|k>>>25),k=R+(O^T&(I^O))+N[13]+4254626195&4294967295,R=T+(k<<12&4294967295|k>>>20),k=O+(I^R&(T^I))+N[14]+2792965006&4294967295,O=R+(k<<17&4294967295|k>>>15),k=I+(T^O&(R^T))+N[15]+1236535329&4294967295,I=O+(k<<22&4294967295|k>>>10),k=T+(O^R&(I^O))+N[1]+4129170786&4294967295,T=I+(k<<5&4294967295|k>>>27),k=R+(I^O&(T^I))+N[6]+3225465664&4294967295,R=T+(k<<9&4294967295|k>>>23),k=O+(T^I&(R^T))+N[11]+643717713&4294967295,O=R+(k<<14&4294967295|k>>>18),k=I+(R^T&(O^R))+N[0]+3921069994&4294967295,I=O+(k<<20&4294967295|k>>>12),k=T+(O^R&(I^O))+N[5]+3593408605&4294967295,T=I+(k<<5&4294967295|k>>>27),k=R+(I^O&(T^I))+N[10]+38016083&4294967295,R=T+(k<<9&4294967295|k>>>23),k=O+(T^I&(R^T))+N[15]+3634488961&4294967295,O=R+(k<<14&4294967295|k>>>18),k=I+(R^T&(O^R))+N[4]+3889429448&4294967295,I=O+(k<<20&4294967295|k>>>12),k=T+(O^R&(I^O))+N[9]+568446438&4294967295,T=I+(k<<5&4294967295|k>>>27),k=R+(I^O&(T^I))+N[14]+3275163606&4294967295,R=T+(k<<9&4294967295|k>>>23),k=O+(T^I&(R^T))+N[3]+4107603335&4294967295,O=R+(k<<14&4294967295|k>>>18),k=I+(R^T&(O^R))+N[8]+1163531501&4294967295,I=O+(k<<20&4294967295|k>>>12),k=T+(O^R&(I^O))+N[13]+2850285829&4294967295,T=I+(k<<5&4294967295|k>>>27),k=R+(I^O&(T^I))+N[2]+4243563512&4294967295,R=T+(k<<9&4294967295|k>>>23),k=O+(T^I&(R^T))+N[7]+1735328473&4294967295,O=R+(k<<14&4294967295|k>>>18),k=I+(R^T&(O^R))+N[12]+2368359562&4294967295,I=O+(k<<20&4294967295|k>>>12),k=T+(I^O^R)+N[5]+4294588738&4294967295,T=I+(k<<4&4294967295|k>>>28),k=R+(T^I^O)+N[8]+2272392833&4294967295,R=T+(k<<11&4294967295|k>>>21),k=O+(R^T^I)+N[11]+1839030562&4294967295,O=R+(k<<16&4294967295|k>>>16),k=I+(O^R^T)+N[14]+4259657740&4294967295,I=O+(k<<23&4294967295|k>>>9),k=T+(I^O^R)+N[1]+2763975236&4294967295,T=I+(k<<4&4294967295|k>>>28),k=R+(T^I^O)+N[4]+1272893353&4294967295,R=T+(k<<11&4294967295|k>>>21),k=O+(R^T^I)+N[7]+4139469664&4294967295,O=R+(k<<16&4294967295|k>>>16),k=I+(O^R^T)+N[10]+3200236656&4294967295,I=O+(k<<23&4294967295|k>>>9),k=T+(I^O^R)+N[13]+681279174&4294967295,T=I+(k<<4&4294967295|k>>>28),k=R+(T^I^O)+N[0]+3936430074&4294967295,R=T+(k<<11&4294967295|k>>>21),k=O+(R^T^I)+N[3]+3572445317&4294967295,O=R+(k<<16&4294967295|k>>>16),k=I+(O^R^T)+N[6]+76029189&4294967295,I=O+(k<<23&4294967295|k>>>9),k=T+(I^O^R)+N[9]+3654602809&4294967295,T=I+(k<<4&4294967295|k>>>28),k=R+(T^I^O)+N[12]+3873151461&4294967295,R=T+(k<<11&4294967295|k>>>21),k=O+(R^T^I)+N[15]+530742520&4294967295,O=R+(k<<16&4294967295|k>>>16),k=I+(O^R^T)+N[2]+3299628645&4294967295,I=O+(k<<23&4294967295|k>>>9),k=T+(O^(I|~R))+N[0]+4096336452&4294967295,T=I+(k<<6&4294967295|k>>>26),k=R+(I^(T|~O))+N[7]+1126891415&4294967295,R=T+(k<<10&4294967295|k>>>22),k=O+(T^(R|~I))+N[14]+2878612391&4294967295,O=R+(k<<15&4294967295|k>>>17),k=I+(R^(O|~T))+N[5]+4237533241&4294967295,I=O+(k<<21&4294967295|k>>>11),k=T+(O^(I|~R))+N[12]+1700485571&4294967295,T=I+(k<<6&4294967295|k>>>26),k=R+(I^(T|~O))+N[3]+2399980690&4294967295,R=T+(k<<10&4294967295|k>>>22),k=O+(T^(R|~I))+N[10]+4293915773&4294967295,O=R+(k<<15&4294967295|k>>>17),k=I+(R^(O|~T))+N[1]+2240044497&4294967295,I=O+(k<<21&4294967295|k>>>11),k=T+(O^(I|~R))+N[8]+1873313359&4294967295,T=I+(k<<6&4294967295|k>>>26),k=R+(I^(T|~O))+N[15]+4264355552&4294967295,R=T+(k<<10&4294967295|k>>>22),k=O+(T^(R|~I))+N[6]+2734768916&4294967295,O=R+(k<<15&4294967295|k>>>17),k=I+(R^(O|~T))+N[13]+1309151649&4294967295,I=O+(k<<21&4294967295|k>>>11),k=T+(O^(I|~R))+N[4]+4149444226&4294967295,T=I+(k<<6&4294967295|k>>>26),k=R+(I^(T|~O))+N[11]+3174756917&4294967295,R=T+(k<<10&4294967295|k>>>22),k=O+(T^(R|~I))+N[2]+718787259&4294967295,O=R+(k<<15&4294967295|k>>>17),k=I+(R^(O|~T))+N[9]+3951481745&4294967295,A.g[0]=A.g[0]+T&4294967295,A.g[1]=A.g[1]+(O+(k<<21&4294967295|k>>>11))&4294967295,A.g[2]=A.g[2]+O&4294967295,A.g[3]=A.g[3]+R&4294967295}n.prototype.u=function(A,T){T===void 0&&(T=A.length);for(var I=T-this.blockSize,N=this.B,O=this.h,R=0;R<T;){if(O==0)for(;R<=I;)i(this,A,R),R+=this.blockSize;if(typeof A=="string"){for(;R<T;)if(N[O++]=A.charCodeAt(R++),O==this.blockSize){i(this,N),O=0;break}}else for(;R<T;)if(N[O++]=A[R++],O==this.blockSize){i(this,N),O=0;break}}this.h=O,this.o+=T},n.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var T=1;T<A.length-8;++T)A[T]=0;var I=8*this.o;for(T=A.length-8;T<A.length;++T)A[T]=I&255,I/=256;for(this.u(A),A=Array(16),T=I=0;4>T;++T)for(var N=0;32>N;N+=8)A[I++]=this.g[T]>>>N&255;return A};function a(A,T){var I=s;return Object.prototype.hasOwnProperty.call(I,A)?I[A]:I[A]=T(A)}function o(A,T){this.h=T;for(var I=[],N=!0,O=A.length-1;0<=O;O--){var R=A[O]|0;N&&R==T||(I[O]=R,N=!1)}this.g=I}var s={};function l(A){return-128<=A&&128>A?a(A,function(T){return new o([T|0],0>T?-1:0)}):new o([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return v(c(-A));for(var T=[],I=1,N=0;A>=I;N++)T[N]=A/I|0,I*=4294967296;return new o(T,0)}function u(A,T){if(A.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(A.charAt(0)=="-")return v(u(A.substring(1),T));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(T,8)),N=f,O=0;O<A.length;O+=8){var R=Math.min(8,A.length-O),k=parseInt(A.substring(O,O+R),T);8>R?(R=c(Math.pow(T,R)),N=N.j(R).add(c(k))):(N=N.j(I),N=N.add(c(k)))}return N}var f=l(0),h=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-v(this).m();for(var A=0,T=1,I=0;I<this.g.length;I++){var N=this.i(I);A+=(0<=N?N:4294967296+N)*T,T*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(m(this))return"0";if(g(this))return"-"+v(this).toString(A);for(var T=c(Math.pow(A,6)),I=this,N="";;){var O=S(I,T).g;I=y(I,O.j(T));var R=((0<I.g.length?I.g[0]:I.h)>>>0).toString(A);if(I=O,m(I))return R+N;for(;6>R.length;)R="0"+R;N=R+N}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function m(A){if(A.h!=0)return!1;for(var T=0;T<A.g.length;T++)if(A.g[T]!=0)return!1;return!0}function g(A){return A.h==-1}t.l=function(A){return A=y(this,A),g(A)?-1:m(A)?0:1};function v(A){for(var T=A.g.length,I=[],N=0;N<T;N++)I[N]=~A.g[N];return new o(I,~A.h).add(h)}t.abs=function(){return g(this)?v(this):this},t.add=function(A){for(var T=Math.max(this.g.length,A.g.length),I=[],N=0,O=0;O<=T;O++){var R=N+(this.i(O)&65535)+(A.i(O)&65535),k=(R>>>16)+(this.i(O)>>>16)+(A.i(O)>>>16);N=k>>>16,R&=65535,k&=65535,I[O]=k<<16|R}return new o(I,I[I.length-1]&-2147483648?-1:0)};function y(A,T){return A.add(v(T))}t.j=function(A){if(m(this)||m(A))return f;if(g(this))return g(A)?v(this).j(v(A)):v(v(this).j(A));if(g(A))return v(this.j(v(A)));if(0>this.l(p)&&0>A.l(p))return c(this.m()*A.m());for(var T=this.g.length+A.g.length,I=[],N=0;N<2*T;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(var O=0;O<A.g.length;O++){var R=this.i(N)>>>16,k=this.i(N)&65535,M=A.i(O)>>>16,U=A.i(O)&65535;I[2*N+2*O]+=k*U,x(I,2*N+2*O),I[2*N+2*O+1]+=R*U,x(I,2*N+2*O+1),I[2*N+2*O+1]+=k*M,x(I,2*N+2*O+1),I[2*N+2*O+2]+=R*M,x(I,2*N+2*O+2)}for(N=0;N<T;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=T;N<2*T;N++)I[N]=0;return new o(I,0)};function x(A,T){for(;(A[T]&65535)!=A[T];)A[T+1]+=A[T]>>>16,A[T]&=65535,T++}function b(A,T){this.g=A,this.h=T}function S(A,T){if(m(T))throw Error("division by zero");if(m(A))return new b(f,f);if(g(A))return T=S(v(A),T),new b(v(T.g),v(T.h));if(g(T))return T=S(A,v(T)),new b(v(T.g),T.h);if(30<A.g.length){if(g(A)||g(T))throw Error("slowDivide_ only works with positive integers.");for(var I=h,N=T;0>=N.l(A);)I=E(I),N=E(N);var O=C(I,1),R=C(N,1);for(N=C(N,2),I=C(I,2);!m(N);){var k=R.add(N);0>=k.l(A)&&(O=O.add(I),R=k),N=C(N,1),I=C(I,1)}return T=y(A,O.j(T)),new b(O,T)}for(O=f;0<=A.l(T);){for(I=Math.max(1,Math.floor(A.m()/T.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),R=c(I),k=R.j(T);g(k)||0<k.l(A);)I-=N,R=c(I),k=R.j(T);m(R)&&(R=h),O=O.add(R),A=y(A,k)}return new b(O,A)}t.A=function(A){return S(this,A).h},t.and=function(A){for(var T=Math.max(this.g.length,A.g.length),I=[],N=0;N<T;N++)I[N]=this.i(N)&A.i(N);return new o(I,this.h&A.h)},t.or=function(A){for(var T=Math.max(this.g.length,A.g.length),I=[],N=0;N<T;N++)I[N]=this.i(N)|A.i(N);return new o(I,this.h|A.h)},t.xor=function(A){for(var T=Math.max(this.g.length,A.g.length),I=[],N=0;N<T;N++)I[N]=this.i(N)^A.i(N);return new o(I,this.h^A.h)};function E(A){for(var T=A.g.length+1,I=[],N=0;N<T;N++)I[N]=A.i(N)<<1|A.i(N-1)>>>31;return new o(I,A.h)}function C(A,T){var I=T>>5;T%=32;for(var N=A.g.length-I,O=[],R=0;R<N;R++)O[R]=0<T?A.i(R+I)>>>T|A.i(R+I+1)<<32-T:A.i(R+I);return new o(O,A.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,$Z=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Gl=o}).apply(typeof V$<"u"?V$:typeof self<"u"?self:typeof window<"u"?window:{});var $y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FZ,pm,BZ,w1,GI,VZ,UZ,zZ;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(w,P,D){return w==Array.prototype||w==Object.prototype||(w[P]=D.value),w};function r(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof $y=="object"&&$y];for(var P=0;P<w.length;++P){var D=w[P];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var n=r(this);function i(w,P){if(P)e:{var D=n;w=w.split(".");for(var F=0;F<w.length-1;F++){var K=w[F];if(!(K in D))break e;D=D[K]}w=w[w.length-1],F=D[w],P=P(F),P!=F&&P!=null&&e(D,w,{configurable:!0,writable:!0,value:P})}}function a(w,P){w instanceof String&&(w+="");var D=0,F=!1,K={next:function(){if(!F&&D<w.length){var te=D++;return{value:P(te,w[te]),done:!1}}return F=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}i("Array.prototype.values",function(w){return w||function(){return a(this,function(P,D){return D})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(w){var P=typeof w;return P=P!="object"?P:w?Array.isArray(w)?"array":P:"null",P=="array"||P=="object"&&typeof w.length=="number"}function c(w){var P=typeof w;return P=="object"&&w!=null||P=="function"}function u(w,P,D){return w.call.apply(w.bind,arguments)}function f(w,P,D){if(!w)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,F),w.apply(P,K)}}return function(){return w.apply(P,arguments)}}function h(w,P,D){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(w,P){var D=Array.prototype.slice.call(arguments,1);return function(){var F=D.slice();return F.push.apply(F,arguments),w.apply(this,F)}}function m(w,P){function D(){}D.prototype=P.prototype,w.aa=P.prototype,w.prototype=new D,w.prototype.constructor=w,w.Qb=function(F,K,te){for(var we=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)we[kt-2]=arguments[kt];return P.prototype[K].apply(F,we)}}function g(w){const P=w.length;if(0<P){const D=Array(P);for(let F=0;F<P;F++)D[F]=w[F];return D}return[]}function v(w,P){for(let D=1;D<arguments.length;D++){const F=arguments[D];if(l(F)){const K=w.length||0,te=F.length||0;w.length=K+te;for(let we=0;we<te;we++)w[K+we]=F[we]}else w.push(F)}}class y{constructor(P,D){this.i=P,this.j=D,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function x(w){return/^[\s\xa0]*$/.test(w)}function b(){var w=s.navigator;return w&&(w=w.userAgent)?w:""}function S(w){return S[" "](w),w}S[" "]=function(){};var E=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function C(w,P,D){for(const F in w)P.call(D,w[F],F,w)}function A(w,P){for(const D in w)P.call(void 0,w[D],D,w)}function T(w){const P={};for(const D in w)P[D]=w[D];return P}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(w,P){let D,F;for(let K=1;K<arguments.length;K++){F=arguments[K];for(D in F)w[D]=F[D];for(let te=0;te<I.length;te++)D=I[te],Object.prototype.hasOwnProperty.call(F,D)&&(w[D]=F[D])}}function O(w){var P=1;w=w.split(":");const D=[];for(;0<P&&w.length;)D.push(w.shift()),P--;return w.length&&D.push(w.join(":")),D}function R(w){s.setTimeout(()=>{throw w},0)}function k(){var w=$;let P=null;return w.g&&(P=w.g,w.g=w.g.next,w.g||(w.h=null),P.next=null),P}class M{constructor(){this.h=this.g=null}add(P,D){const F=U.get();F.set(P,D),this.h?this.h.next=F:this.g=F,this.h=F}}var U=new y(()=>new L,w=>w.reset());class L{constructor(){this.next=this.g=this.h=null}set(P,D){this.h=P,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let z,B=!1,$=new M,W=()=>{const w=s.Promise.resolve(void 0);z=()=>{w.then(H)}};var H=()=>{for(var w;w=k();){try{w.h.call(w.g)}catch(D){R(D)}var P=U;P.j(w),100>P.h&&(P.h++,w.next=P.g,P.g=w)}B=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(w,P){this.type=w,this.g=this.target=P,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var w=!1,P=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const D=()=>{};s.addEventListener("test",D,P),s.removeEventListener("test",D,P)}catch{}return w}();function ce(w,P){if(Z.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w){var D=this.type=w.type,F=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;if(this.target=w.target||w.srcElement,this.g=P,P=w.relatedTarget){if(E){e:{try{S(P.nodeName);var K=!0;break e}catch{}K=!1}K||(P=null)}}else D=="mouseover"?P=w.fromElement:D=="mouseout"&&(P=w.toElement);this.relatedTarget=P,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=typeof w.pointerType=="string"?w.pointerType:Oe[w.pointerType]||"",this.state=w.state,this.i=w,w.defaultPrevented&&ce.aa.h.call(this)}}m(ce,Z);var Oe={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),J=0;function q(w,P,D,F,K){this.listener=w,this.proxy=null,this.src=P,this.type=D,this.capture=!!F,this.ha=K,this.key=++J,this.da=this.fa=!1}function ae(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function re(w){this.src=w,this.g={},this.h=0}re.prototype.add=function(w,P,D,F,K){var te=w.toString();w=this.g[te],w||(w=this.g[te]=[],this.h++);var we=$e(w,P,F,K);return-1<we?(P=w[we],D||(P.fa=!1)):(P=new q(P,this.src,te,!!F,K),P.fa=D,w.push(P)),P};function ee(w,P){var D=P.type;if(D in w.g){var F=w.g[D],K=Array.prototype.indexOf.call(F,P,void 0),te;(te=0<=K)&&Array.prototype.splice.call(F,K,1),te&&(ae(P),w.g[D].length==0&&(delete w.g[D],w.h--))}}function $e(w,P,D,F){for(var K=0;K<w.length;++K){var te=w[K];if(!te.da&&te.listener==P&&te.capture==!!D&&te.ha==F)return K}return-1}var De="closure_lm_"+(1e6*Math.random()|0),fe={};function ue(w,P,D,F,K){if(Array.isArray(P)){for(var te=0;te<P.length;te++)ue(w,P[te],D,F,K);return null}return D=vi(D),w&&w[pe]?w.K(P,D,c(F)?!!F.capture:!1,K):ke(w,P,D,!1,F,K)}function ke(w,P,D,F,K,te){if(!P)throw Error("Invalid event type");var we=c(K)?!!K.capture:!!K,kt=Dr(w);if(kt||(w[De]=kt=new re(w)),D=kt.add(P,D,F,we,te),D.proxy)return D;if(F=X(),D.proxy=F,F.src=w,F.listener=D,w.addEventListener)se||(K=we),K===void 0&&(K=!1),w.addEventListener(P.toString(),F,K);else if(w.attachEvent)w.attachEvent(ct(P.toString()),F);else if(w.addListener&&w.removeListener)w.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return D}function X(){function w(D){return P.call(w.src,w.listener,D)}const P=Rr;return w}function de(w,P,D,F,K){if(Array.isArray(P))for(var te=0;te<P.length;te++)de(w,P[te],D,F,K);else F=c(F)?!!F.capture:!!F,D=vi(D),w&&w[pe]?(w=w.i,P=String(P).toString(),P in w.g&&(te=w.g[P],D=$e(te,D,F,K),-1<D&&(ae(te[D]),Array.prototype.splice.call(te,D,1),te.length==0&&(delete w.g[P],w.h--)))):w&&(w=Dr(w))&&(P=w.g[P.toString()],w=-1,P&&(w=$e(P,D,F,K)),(D=-1<w?P[w]:null)&&ge(D))}function ge(w){if(typeof w!="number"&&w&&!w.da){var P=w.src;if(P&&P[pe])ee(P.i,w);else{var D=w.type,F=w.proxy;P.removeEventListener?P.removeEventListener(D,F,w.capture):P.detachEvent?P.detachEvent(ct(D),F):P.addListener&&P.removeListener&&P.removeListener(F),(D=Dr(P))?(ee(D,w),D.h==0&&(D.src=null,P[De]=null)):ae(w)}}}function ct(w){return w in fe?fe[w]:fe[w]="on"+w}function Rr(w,P){if(w.da)w=!0;else{P=new ce(P,this);var D=w.listener,F=w.ha||w.src;w.fa&&ge(w),w=D.call(F,P)}return w}function Dr(w){return w=w[De],w instanceof re?w:null}var Er="__closure_events_fn_"+(1e9*Math.random()>>>0);function vi(w){return typeof w=="function"?w:(w[Er]||(w[Er]=function(P){return w.handleEvent(P)}),w[Er])}function vr(){G.call(this),this.i=new re(this),this.M=this,this.F=null}m(vr,G),vr.prototype[pe]=!0,vr.prototype.removeEventListener=function(w,P,D,F){de(this,w,P,D,F)};function yr(w,P){var D,F=w.F;if(F)for(D=[];F;F=F.F)D.push(F);if(w=w.M,F=P.type||P,typeof P=="string")P=new Z(P,w);else if(P instanceof Z)P.target=P.target||w;else{var K=P;P=new Z(F,w),N(P,K)}if(K=!0,D)for(var te=D.length-1;0<=te;te--){var we=P.g=D[te];K=go(we,F,!0,P)&&K}if(we=P.g=w,K=go(we,F,!0,P)&&K,K=go(we,F,!1,P)&&K,D)for(te=0;te<D.length;te++)we=P.g=D[te],K=go(we,F,!1,P)&&K}vr.prototype.N=function(){if(vr.aa.N.call(this),this.i){var w=this.i,P;for(P in w.g){for(var D=w.g[P],F=0;F<D.length;F++)ae(D[F]);delete w.g[P],w.h--}}this.F=null},vr.prototype.K=function(w,P,D,F){return this.i.add(String(w),P,!1,D,F)},vr.prototype.L=function(w,P,D,F){return this.i.add(String(w),P,!0,D,F)};function go(w,P,D,F){if(P=w.i.g[String(P)],!P)return!0;P=P.concat();for(var K=!0,te=0;te<P.length;++te){var we=P[te];if(we&&!we.da&&we.capture==D){var kt=we.listener,gn=we.ha||we.src;we.fa&&ee(w.i,we),K=kt.call(gn,F)!==!1&&K}}return K&&!F.defaultPrevented}function lp(w,P,D){if(typeof w=="function")D&&(w=h(w,D));else if(w&&typeof w.handleEvent=="function")w=h(w.handleEvent,w);else throw Error("Invalid listener argument");return 2147483647<Number(P)?-1:s.setTimeout(w,P||0)}function cp(w){w.g=lp(()=>{w.g=null,w.i&&(w.i=!1,cp(w))},w.l);const P=w.h;w.h=null,w.m.apply(null,P)}class O_ extends G{constructor(P,D){super(),this.m=P,this.l=D,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:cp(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xs(w){G.call(this),this.h=w,this.g={}}m(Xs,G);var up=[];function dp(w){C(w.g,function(P,D){this.g.hasOwnProperty(D)&&ge(P)},w),w.g={}}Xs.prototype.N=function(){Xs.aa.N.call(this),dp(this)},Xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ld=s.JSON.stringify,k_=s.JSON.parse,he=class{stringify(w){return s.JSON.stringify(w,void 0)}parse(w){return s.JSON.parse(w,void 0)}};function qe(){}qe.prototype.h=null;function ut(w){return w.h||(w.h=w.i())}function cr(){}var tn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qs(){Z.call(this,"d")}m(Qs,Z);function vo(){Z.call(this,"c")}m(vo,Z);var Oc={},cR=null;function C0(){return cR=cR||new vr}Oc.La="serverreachability";function uR(w){Z.call(this,Oc.La,w)}m(uR,Z);function fp(w){const P=C0();yr(P,new uR(P))}Oc.STAT_EVENT="statevent";function dR(w,P){Z.call(this,Oc.STAT_EVENT,w),this.stat=P}m(dR,Z);function Jn(w){const P=C0();yr(P,new dR(P,w))}Oc.Ma="timingevent";function fR(w,P){Z.call(this,Oc.Ma,w),this.size=P}m(fR,Z);function hp(w,P){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){w()},P)}function pp(){this.g=!0}pp.prototype.xa=function(){this.g=!1};function _te(w,P,D,F,K,te){w.info(function(){if(w.g)if(te)for(var we="",kt=te.split("&"),gn=0;gn<kt.length;gn++){var xt=kt[gn].split("=");if(1<xt.length){var Nn=xt[0];xt=xt[1];var Pn=Nn.split("_");we=2<=Pn.length&&Pn[1]=="type"?we+(Nn+"="+xt+"&"):we+(Nn+"=redacted&")}}else we=null;else we=te;return"XMLHTTP REQ ("+F+") [attempt "+K+"]: "+P+`
`+D+`
`+we})}function Ste(w,P,D,F,K,te,we){w.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+K+"]: "+P+`
`+D+`
`+te+" "+we})}function cd(w,P,D,F){w.info(function(){return"XMLHTTP TEXT ("+P+"): "+Ate(w,D)+(F?" "+F:"")})}function Ete(w,P){w.info(function(){return"TIMEOUT: "+P})}pp.prototype.info=function(){};function Ate(w,P){if(!w.g)return P;if(!P)return null;try{var D=JSON.parse(P);if(D){for(w=0;w<D.length;w++)if(Array.isArray(D[w])){var F=D[w];if(!(2>F.length)){var K=F[1];if(Array.isArray(K)&&!(1>K.length)){var te=K[0];if(te!="noop"&&te!="stop"&&te!="close")for(var we=1;we<K.length;we++)K[we]=""}}}}return ld(D)}catch{return P}}var T0={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hR={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},R_;function I0(){}m(I0,qe),I0.prototype.g=function(){return new XMLHttpRequest},I0.prototype.i=function(){return{}},R_=new I0;function Zs(w,P,D,F){this.j=w,this.i=P,this.l=D,this.R=F||1,this.U=new Xs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pR}function pR(){this.i=null,this.g="",this.h=!1}var mR={},D_={};function j_(w,P,D){w.L=1,w.v=k0(Qo(P)),w.m=D,w.P=!0,gR(w,null)}function gR(w,P){w.F=Date.now(),N0(w),w.A=Qo(w.v);var D=w.A,F=w.R;Array.isArray(F)||(F=[String(F)]),PR(D.i,"t",F),w.C=0,D=w.j.J,w.h=new pR,w.g=KR(w.j,D?P:null,!w.m),0<w.O&&(w.M=new O_(h(w.Y,w,w.g),w.O)),P=w.U,D=w.g,F=w.ca;var K="readystatechange";Array.isArray(K)||(K&&(up[0]=K.toString()),K=up);for(var te=0;te<K.length;te++){var we=ue(D,K[te],F||P.handleEvent,!1,P.h||P);if(!we)break;P.g[we.key]=we}P=w.H?T(w.H):{},w.m?(w.u||(w.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.A,w.u,w.m,P)):(w.u="GET",w.g.ea(w.A,w.u,null,P)),fp(),_te(w.i,w.u,w.A,w.l,w.R,w.m)}Zs.prototype.ca=function(w){w=w.target;const P=this.M;P&&Zo(w)==3?P.j():this.Y(w)},Zs.prototype.Y=function(w){try{if(w==this.g)e:{const Pn=Zo(this.g);var P=this.g.Ba();const fd=this.g.Z();if(!(3>Pn)&&(Pn!=3||this.g&&(this.h.h||this.g.oa()||LR(this.g)))){this.J||Pn!=4||P==7||(P==8||0>=fd?fp(3):fp(2)),M_(this);var D=this.g.Z();this.X=D;t:if(vR(this)){var F=LR(this.g);w="";var K=F.length,te=Zo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kc(this),mp(this);var we="";break t}this.h.i=new s.TextDecoder}for(P=0;P<K;P++)this.h.h=!0,w+=this.h.i.decode(F[P],{stream:!(te&&P==K-1)});F.length=0,this.h.g+=w,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=D==200,Ste(this.i,this.u,this.A,this.l,this.R,Pn,D),this.o){if(this.T&&!this.K){t:{if(this.g){var kt,gn=this.g;if((kt=gn.g?gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(kt)){var xt=kt;break t}}xt=null}if(D=xt)cd(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,L_(this,D);else{this.o=!1,this.s=3,Jn(12),kc(this),mp(this);break e}}if(this.P){D=!0;let Ra;for(;!this.J&&this.C<we.length;)if(Ra=Cte(this,we),Ra==D_){Pn==4&&(this.s=4,Jn(14),D=!1),cd(this.i,this.l,null,"[Incomplete Response]");break}else if(Ra==mR){this.s=4,Jn(15),cd(this.i,this.l,we,"[Invalid Chunk]"),D=!1;break}else cd(this.i,this.l,Ra,null),L_(this,Ra);if(vR(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pn!=4||we.length!=0||this.h.h||(this.s=1,Jn(16),D=!1),this.o=this.o&&D,!D)cd(this.i,this.l,we,"[Invalid Chunked Response]"),kc(this),mp(this);else if(0<we.length&&!this.W){this.W=!0;var Nn=this.j;Nn.g==this&&Nn.ba&&!Nn.M&&(Nn.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),z_(Nn),Nn.M=!0,Jn(11))}}else cd(this.i,this.l,we,null),L_(this,we);Pn==4&&kc(this),this.o&&!this.J&&(Pn==4?WR(this.j,this):(this.o=!1,N0(this)))}else zte(this.g),D==400&&0<we.indexOf("Unknown SID")?(this.s=3,Jn(12)):(this.s=0,Jn(13)),kc(this),mp(this)}}}catch{}finally{}};function vR(w){return w.g?w.u=="GET"&&w.L!=2&&w.j.Ca:!1}function Cte(w,P){var D=w.C,F=P.indexOf(`
`,D);return F==-1?D_:(D=Number(P.substring(D,F)),isNaN(D)?mR:(F+=1,F+D>P.length?D_:(P=P.slice(F,F+D),w.C=F+D,P)))}Zs.prototype.cancel=function(){this.J=!0,kc(this)};function N0(w){w.S=Date.now()+w.I,yR(w,w.I)}function yR(w,P){if(w.B!=null)throw Error("WatchDog timer not null");w.B=hp(h(w.ba,w),P)}function M_(w){w.B&&(s.clearTimeout(w.B),w.B=null)}Zs.prototype.ba=function(){this.B=null;const w=Date.now();0<=w-this.S?(Ete(this.i,this.A),this.L!=2&&(fp(),Jn(17)),kc(this),this.s=2,mp(this)):yR(this,this.S-w)};function mp(w){w.j.G==0||w.J||WR(w.j,w)}function kc(w){M_(w);var P=w.M;P&&typeof P.ma=="function"&&P.ma(),w.M=null,dp(w.U),w.g&&(P=w.g,w.g=null,P.abort(),P.ma())}function L_(w,P){try{var D=w.j;if(D.G!=0&&(D.g==w||$_(D.h,w))){if(!w.K&&$_(D.h,w)&&D.G==3){try{var F=D.Da.g.parse(P)}catch{F=null}if(Array.isArray(F)&&F.length==3){var K=F;if(K[0]==0){e:if(!D.u){if(D.g)if(D.g.F+3e3<w.F)$0(D),M0(D);else break e;U_(D),Jn(18)}}else D.za=K[1],0<D.za-D.T&&37500>K[2]&&D.F&&D.v==0&&!D.C&&(D.C=hp(h(D.Za,D),6e3));if(1>=bR(D.h)&&D.ca){try{D.ca()}catch{}D.ca=void 0}}else Dc(D,11)}else if((w.K||D.g==w)&&$0(D),!x(P))for(K=D.Da.g.parse(P),P=0;P<K.length;P++){let xt=K[P];if(D.T=xt[0],xt=xt[1],D.G==2)if(xt[0]=="c"){D.K=xt[1],D.ia=xt[2];const Nn=xt[3];Nn!=null&&(D.la=Nn,D.j.info("VER="+D.la));const Pn=xt[4];Pn!=null&&(D.Aa=Pn,D.j.info("SVER="+D.Aa));const fd=xt[5];fd!=null&&typeof fd=="number"&&0<fd&&(F=1.5*fd,D.L=F,D.j.info("backChannelRequestTimeoutMs_="+F)),F=D;const Ra=w.g;if(Ra){const B0=Ra.g?Ra.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(B0){var te=F.h;te.g||B0.indexOf("spdy")==-1&&B0.indexOf("quic")==-1&&B0.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(F_(te,te.h),te.h=null))}if(F.D){const W_=Ra.g?Ra.g.getResponseHeader("X-HTTP-Session-Id"):null;W_&&(F.ya=W_,Bt(F.I,F.D,W_))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-w.F,D.j.info("Handshake RTT: "+D.R+"ms")),F=D;var we=w;if(F.qa=qR(F,F.J?F.ia:null,F.W),we.K){_R(F.h,we);var kt=we,gn=F.L;gn&&(kt.I=gn),kt.B&&(M_(kt),N0(kt)),F.g=we}else UR(F);0<D.i.length&&L0(D)}else xt[0]!="stop"&&xt[0]!="close"||Dc(D,7);else D.G==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?Dc(D,7):V_(D):xt[0]!="noop"&&D.l&&D.l.ta(xt),D.v=0)}}fp(4)}catch{}}var Tte=class{constructor(w,P){this.g=w,this.map=P}};function xR(w){this.l=w||10,s.PerformanceNavigationTiming?(w=s.performance.getEntriesByType("navigation"),w=0<w.length&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wR(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function bR(w){return w.h?1:w.g?w.g.size:0}function $_(w,P){return w.h?w.h==P:w.g?w.g.has(P):!1}function F_(w,P){w.g?w.g.add(P):w.h=P}function _R(w,P){w.h&&w.h==P?w.h=null:w.g&&w.g.has(P)&&w.g.delete(P)}xR.prototype.cancel=function(){if(this.i=SR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function SR(w){if(w.h!=null)return w.i.concat(w.h.D);if(w.g!=null&&w.g.size!==0){let P=w.i;for(const D of w.g.values())P=P.concat(D.D);return P}return g(w.i)}function Ite(w){if(w.V&&typeof w.V=="function")return w.V();if(typeof Map<"u"&&w instanceof Map||typeof Set<"u"&&w instanceof Set)return Array.from(w.values());if(typeof w=="string")return w.split("");if(l(w)){for(var P=[],D=w.length,F=0;F<D;F++)P.push(w[F]);return P}P=[],D=0;for(F in w)P[D++]=w[F];return P}function Nte(w){if(w.na&&typeof w.na=="function")return w.na();if(!w.V||typeof w.V!="function"){if(typeof Map<"u"&&w instanceof Map)return Array.from(w.keys());if(!(typeof Set<"u"&&w instanceof Set)){if(l(w)||typeof w=="string"){var P=[];w=w.length;for(var D=0;D<w;D++)P.push(D);return P}P=[],D=0;for(const F in w)P[D++]=F;return P}}}function ER(w,P){if(w.forEach&&typeof w.forEach=="function")w.forEach(P,void 0);else if(l(w)||typeof w=="string")Array.prototype.forEach.call(w,P,void 0);else for(var D=Nte(w),F=Ite(w),K=F.length,te=0;te<K;te++)P.call(void 0,F[te],D&&D[te],w)}var AR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pte(w,P){if(w){w=w.split("&");for(var D=0;D<w.length;D++){var F=w[D].indexOf("="),K=null;if(0<=F){var te=w[D].substring(0,F);K=w[D].substring(F+1)}else te=w[D];P(te,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Rc(w){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,w instanceof Rc){this.h=w.h,P0(this,w.j),this.o=w.o,this.g=w.g,O0(this,w.s),this.l=w.l;var P=w.i,D=new yp;D.i=P.i,P.g&&(D.g=new Map(P.g),D.h=P.h),CR(this,D),this.m=w.m}else w&&(P=String(w).match(AR))?(this.h=!1,P0(this,P[1]||"",!0),this.o=gp(P[2]||""),this.g=gp(P[3]||"",!0),O0(this,P[4]),this.l=gp(P[5]||"",!0),CR(this,P[6]||"",!0),this.m=gp(P[7]||"")):(this.h=!1,this.i=new yp(null,this.h))}Rc.prototype.toString=function(){var w=[],P=this.j;P&&w.push(vp(P,TR,!0),":");var D=this.g;return(D||P=="file")&&(w.push("//"),(P=this.o)&&w.push(vp(P,TR,!0),"@"),w.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.s,D!=null&&w.push(":",String(D))),(D=this.l)&&(this.g&&D.charAt(0)!="/"&&w.push("/"),w.push(vp(D,D.charAt(0)=="/"?Rte:kte,!0))),(D=this.i.toString())&&w.push("?",D),(D=this.m)&&w.push("#",vp(D,jte)),w.join("")};function Qo(w){return new Rc(w)}function P0(w,P,D){w.j=D?gp(P,!0):P,w.j&&(w.j=w.j.replace(/:$/,""))}function O0(w,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);w.s=P}else w.s=null}function CR(w,P,D){P instanceof yp?(w.i=P,Mte(w.i,w.h)):(D||(P=vp(P,Dte)),w.i=new yp(P,w.h))}function Bt(w,P,D){w.i.set(P,D)}function k0(w){return Bt(w,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),w}function gp(w,P){return w?P?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function vp(w,P,D){return typeof w=="string"?(w=encodeURI(w).replace(P,Ote),D&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function Ote(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var TR=/[#\/\?@]/g,kte=/[#\?:]/g,Rte=/[#\?]/g,Dte=/[#\?@]/g,jte=/#/g;function yp(w,P){this.h=this.g=null,this.i=w||null,this.j=!!P}function Js(w){w.g||(w.g=new Map,w.h=0,w.i&&Pte(w.i,function(P,D){w.add(decodeURIComponent(P.replace(/\+/g," ")),D)}))}t=yp.prototype,t.add=function(w,P){Js(this),this.i=null,w=ud(this,w);var D=this.g.get(w);return D||this.g.set(w,D=[]),D.push(P),this.h+=1,this};function IR(w,P){Js(w),P=ud(w,P),w.g.has(P)&&(w.i=null,w.h-=w.g.get(P).length,w.g.delete(P))}function NR(w,P){return Js(w),P=ud(w,P),w.g.has(P)}t.forEach=function(w,P){Js(this),this.g.forEach(function(D,F){D.forEach(function(K){w.call(P,K,F,this)},this)},this)},t.na=function(){Js(this);const w=Array.from(this.g.values()),P=Array.from(this.g.keys()),D=[];for(let F=0;F<P.length;F++){const K=w[F];for(let te=0;te<K.length;te++)D.push(P[F])}return D},t.V=function(w){Js(this);let P=[];if(typeof w=="string")NR(this,w)&&(P=P.concat(this.g.get(ud(this,w))));else{w=Array.from(this.g.values());for(let D=0;D<w.length;D++)P=P.concat(w[D])}return P},t.set=function(w,P){return Js(this),this.i=null,w=ud(this,w),NR(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[P]),this.h+=1,this},t.get=function(w,P){return w?(w=this.V(w),0<w.length?String(w[0]):P):P};function PR(w,P,D){IR(w,P),0<D.length&&(w.i=null,w.g.set(ud(w,P),g(D)),w.h+=D.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],P=Array.from(this.g.keys());for(var D=0;D<P.length;D++){var F=P[D];const te=encodeURIComponent(String(F)),we=this.V(F);for(F=0;F<we.length;F++){var K=te;we[F]!==""&&(K+="="+encodeURIComponent(String(we[F]))),w.push(K)}}return this.i=w.join("&")};function ud(w,P){return P=String(P),w.j&&(P=P.toLowerCase()),P}function Mte(w,P){P&&!w.j&&(Js(w),w.i=null,w.g.forEach(function(D,F){var K=F.toLowerCase();F!=K&&(IR(this,F),PR(this,K,D))},w)),w.j=P}function Lte(w,P){const D=new pp;if(s.Image){const F=new Image;F.onload=p(el,D,"TestLoadImage: loaded",!0,P,F),F.onerror=p(el,D,"TestLoadImage: error",!1,P,F),F.onabort=p(el,D,"TestLoadImage: abort",!1,P,F),F.ontimeout=p(el,D,"TestLoadImage: timeout",!1,P,F),s.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=w}else P(!1)}function $te(w,P){const D=new pp,F=new AbortController,K=setTimeout(()=>{F.abort(),el(D,"TestPingServer: timeout",!1,P)},1e4);fetch(w,{signal:F.signal}).then(te=>{clearTimeout(K),te.ok?el(D,"TestPingServer: ok",!0,P):el(D,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(K),el(D,"TestPingServer: error",!1,P)})}function el(w,P,D,F,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),F(D)}catch{}}function Fte(){this.g=new he}function Bte(w,P,D){const F=D||"";try{ER(w,function(K,te){let we=K;c(K)&&(we=ld(K)),P.push(F+te+"="+encodeURIComponent(we))})}catch(K){throw P.push(F+"type="+encodeURIComponent("_badmap")),K}}function R0(w){this.l=w.Ub||null,this.j=w.eb||!1}m(R0,qe),R0.prototype.g=function(){return new D0(this.l,this.j)},R0.prototype.i=function(w){return function(){return w}}({});function D0(w,P){vr.call(this),this.D=w,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(D0,vr),t=D0.prototype,t.open=function(w,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=w,this.A=P,this.readyState=1,wp(this)},t.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};w&&(P.body=w),(this.D||s).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xp(this)),this.readyState=0},t.Sa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,wp(this)),this.g&&(this.readyState=3,wp(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;OR(this)}else w.text().then(this.Ra.bind(this),this.ga.bind(this))};function OR(w){w.j.read().then(w.Pa.bind(w)).catch(w.ga.bind(w))}t.Pa=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var P=w.value?w.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!w.done}))&&(this.response=this.responseText+=P)}w.done?xp(this):wp(this),this.readyState==3&&OR(this)}},t.Ra=function(w){this.g&&(this.response=this.responseText=w,xp(this))},t.Qa=function(w){this.g&&(this.response=w,xp(this))},t.ga=function(){this.g&&xp(this)};function xp(w){w.readyState=4,w.l=null,w.j=null,w.v=null,wp(w)}t.setRequestHeader=function(w,P){this.u.append(w,P)},t.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],P=this.h.entries();for(var D=P.next();!D.done;)D=D.value,w.push(D[0]+": "+D[1]),D=P.next();return w.join(`\r
`)};function wp(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(D0.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function kR(w){let P="";return C(w,function(D,F){P+=F,P+=":",P+=D,P+=`\r
`}),P}function B_(w,P,D){e:{for(F in D){var F=!1;break e}F=!0}F||(D=kR(D),typeof w=="string"?D!=null&&encodeURIComponent(String(D)):Bt(w,P,D))}function ur(w){vr.call(this),this.headers=new Map,this.o=w||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(ur,vr);var Vte=/^https?$/i,Ute=["POST","PUT"];t=ur.prototype,t.Ha=function(w){this.J=w},t.ea=function(w,P,D,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);P=P?P.toUpperCase():"GET",this.D=w,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():R_.g(),this.v=this.o?ut(this.o):ut(R_),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(P,String(w),!0),this.B=!1}catch(te){RR(this,te);return}if(w=D||"",D=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var K in F)D.set(K,F[K]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const te of F.keys())D.set(te,F.get(te));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(D.keys()).find(te=>te.toLowerCase()=="content-type"),K=s.FormData&&w instanceof s.FormData,!(0<=Array.prototype.indexOf.call(Ute,P,void 0))||F||K||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,we]of D)this.g.setRequestHeader(te,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{MR(this),this.u=!0,this.g.send(w),this.u=!1}catch(te){RR(this,te)}};function RR(w,P){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=P,w.m=5,DR(w),j0(w)}function DR(w){w.A||(w.A=!0,yr(w,"complete"),yr(w,"error"))}t.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=w||7,yr(this,"complete"),yr(this,"abort"),j0(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),j0(this,!0)),ur.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?jR(this):this.bb())},t.bb=function(){jR(this)};function jR(w){if(w.h&&typeof o<"u"&&(!w.v[1]||Zo(w)!=4||w.Z()!=2)){if(w.u&&Zo(w)==4)lp(w.Ea,0,w);else if(yr(w,"readystatechange"),Zo(w)==4){w.h=!1;try{const we=w.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var D;if(!(D=P)){var F;if(F=we===0){var K=String(w.D).match(AR)[1]||null;!K&&s.self&&s.self.location&&(K=s.self.location.protocol.slice(0,-1)),F=!Vte.test(K?K.toLowerCase():"")}D=F}if(D)yr(w,"complete"),yr(w,"success");else{w.m=6;try{var te=2<Zo(w)?w.g.statusText:""}catch{te=""}w.l=te+" ["+w.Z()+"]",DR(w)}}finally{j0(w)}}}}function j0(w,P){if(w.g){MR(w);const D=w.g,F=w.v[0]?()=>{}:null;w.g=null,w.v=null,P||yr(w,"ready");try{D.onreadystatechange=F}catch{}}}function MR(w){w.I&&(s.clearTimeout(w.I),w.I=null)}t.isActive=function(){return!!this.g};function Zo(w){return w.g?w.g.readyState:0}t.Z=function(){try{return 2<Zo(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(w){if(this.g){var P=this.g.responseText;return w&&P.indexOf(w)==0&&(P=P.substring(w.length)),k_(P)}};function LR(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.H){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function zte(w){const P={};w=(w.g&&2<=Zo(w)&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<w.length;F++){if(x(w[F]))continue;var D=O(w[F]);const K=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const te=P[K]||[];P[K]=te,te.push(D)}A(P,function(F){return F.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bp(w,P,D){return D&&D.internalChannelParams&&D.internalChannelParams[w]||P}function $R(w){this.Aa=0,this.i=[],this.j=new pp,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bp("failFast",!1,w),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bp("baseRetryDelayMs",5e3,w),this.cb=bp("retryDelaySeedMs",1e4,w),this.Wa=bp("forwardChannelMaxRetries",2,w),this.wa=bp("forwardChannelRequestTimeoutMs",2e4,w),this.pa=w&&w.xmlHttpFactory||void 0,this.Xa=w&&w.Tb||void 0,this.Ca=w&&w.useFetchStreams||!1,this.L=void 0,this.J=w&&w.supportsCrossDomainXhr||!1,this.K="",this.h=new xR(w&&w.concurrentRequestLimit),this.Da=new Fte,this.P=w&&w.fastHandshake||!1,this.O=w&&w.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=w&&w.Rb||!1,w&&w.xa&&this.j.xa(),w&&w.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&w&&w.detectBufferingProxy||!1,this.ja=void 0,w&&w.longPollingTimeout&&0<w.longPollingTimeout&&(this.ja=w.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$R.prototype,t.la=8,t.G=1,t.connect=function(w,P,D,F){Jn(0),this.W=w,this.H=P||{},D&&F!==void 0&&(this.H.OSID=D,this.H.OAID=F),this.F=this.X,this.I=qR(this,null,this.W),L0(this)};function V_(w){if(FR(w),w.G==3){var P=w.U++,D=Qo(w.I);if(Bt(D,"SID",w.K),Bt(D,"RID",P),Bt(D,"TYPE","terminate"),_p(w,D),P=new Zs(w,w.j,P),P.L=2,P.v=k0(Qo(D)),D=!1,s.navigator&&s.navigator.sendBeacon)try{D=s.navigator.sendBeacon(P.v.toString(),"")}catch{}!D&&s.Image&&(new Image().src=P.v,D=!0),D||(P.g=KR(P.j,null),P.g.ea(P.v)),P.F=Date.now(),N0(P)}GR(w)}function M0(w){w.g&&(z_(w),w.g.cancel(),w.g=null)}function FR(w){M0(w),w.u&&(s.clearTimeout(w.u),w.u=null),$0(w),w.h.cancel(),w.s&&(typeof w.s=="number"&&s.clearTimeout(w.s),w.s=null)}function L0(w){if(!wR(w.h)&&!w.s){w.s=!0;var P=w.Ga;z||W(),B||(z(),B=!0),$.add(P,w),w.B=0}}function Wte(w,P){return bR(w.h)>=w.h.j-(w.s?1:0)?!1:w.s?(w.i=P.D.concat(w.i),!0):w.G==1||w.G==2||w.B>=(w.Va?0:w.Wa)?!1:(w.s=hp(h(w.Ga,w,P),HR(w,w.B)),w.B++,!0)}t.Ga=function(w){if(this.s)if(this.s=null,this.G==1){if(!w){this.U=Math.floor(1e5*Math.random()),w=this.U++;const K=new Zs(this,this.j,w);let te=this.o;if(this.S&&(te?(te=T(te),N(te,this.S)):te=this.S),this.m!==null||this.O||(K.H=te,te=null),this.P)e:{for(var P=0,D=0;D<this.i.length;D++){t:{var F=this.i[D];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(P+=F,4096<P){P=D;break e}if(P===4096||D===this.i.length-1){P=D+1;break e}}P=1e3}else P=1e3;P=VR(this,K,P),D=Qo(this.I),Bt(D,"RID",w),Bt(D,"CVER",22),this.D&&Bt(D,"X-HTTP-Session-Id",this.D),_p(this,D),te&&(this.O?P="headers="+encodeURIComponent(String(kR(te)))+"&"+P:this.m&&B_(D,this.m,te)),F_(this.h,K),this.Ua&&Bt(D,"TYPE","init"),this.P?(Bt(D,"$req",P),Bt(D,"SID","null"),K.T=!0,j_(K,D,null)):j_(K,D,P),this.G=2}}else this.G==3&&(w?BR(this,w):this.i.length==0||wR(this.h)||BR(this))};function BR(w,P){var D;P?D=P.l:D=w.U++;const F=Qo(w.I);Bt(F,"SID",w.K),Bt(F,"RID",D),Bt(F,"AID",w.T),_p(w,F),w.m&&w.o&&B_(F,w.m,w.o),D=new Zs(w,w.j,D,w.B+1),w.m===null&&(D.H=w.o),P&&(w.i=P.D.concat(w.i)),P=VR(w,D,1e3),D.I=Math.round(.5*w.wa)+Math.round(.5*w.wa*Math.random()),F_(w.h,D),j_(D,F,P)}function _p(w,P){w.H&&C(w.H,function(D,F){Bt(P,F,D)}),w.l&&ER({},function(D,F){Bt(P,F,D)})}function VR(w,P,D){D=Math.min(w.i.length,D);var F=w.l?h(w.l.Na,w.l,w):null;e:{var K=w.i;let te=-1;for(;;){const we=["count="+D];te==-1?0<D?(te=K[0].g,we.push("ofs="+te)):te=0:we.push("ofs="+te);let kt=!0;for(let gn=0;gn<D;gn++){let xt=K[gn].g;const Nn=K[gn].map;if(xt-=te,0>xt)te=Math.max(0,K[gn].g-100),kt=!1;else try{Bte(Nn,we,"req"+xt+"_")}catch{F&&F(Nn)}}if(kt){F=we.join("&");break e}}}return w=w.i.splice(0,D),P.D=w,F}function UR(w){if(!w.g&&!w.u){w.Y=1;var P=w.Fa;z||W(),B||(z(),B=!0),$.add(P,w),w.v=0}}function U_(w){return w.g||w.u||3<=w.v?!1:(w.Y++,w.u=hp(h(w.Fa,w),HR(w,w.v)),w.v++,!0)}t.Fa=function(){if(this.u=null,zR(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var w=2*this.R;this.j.info("BP detection timer enabled: "+w),this.A=hp(h(this.ab,this),w)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jn(10),M0(this),zR(this))};function z_(w){w.A!=null&&(s.clearTimeout(w.A),w.A=null)}function zR(w){w.g=new Zs(w,w.j,"rpc",w.Y),w.m===null&&(w.g.H=w.o),w.g.O=0;var P=Qo(w.qa);Bt(P,"RID","rpc"),Bt(P,"SID",w.K),Bt(P,"AID",w.T),Bt(P,"CI",w.F?"0":"1"),!w.F&&w.ja&&Bt(P,"TO",w.ja),Bt(P,"TYPE","xmlhttp"),_p(w,P),w.m&&w.o&&B_(P,w.m,w.o),w.L&&(w.g.I=w.L);var D=w.g;w=w.ia,D.L=1,D.v=k0(Qo(P)),D.m=null,D.P=!0,gR(D,w)}t.Za=function(){this.C!=null&&(this.C=null,M0(this),U_(this),Jn(19))};function $0(w){w.C!=null&&(s.clearTimeout(w.C),w.C=null)}function WR(w,P){var D=null;if(w.g==P){$0(w),z_(w),w.g=null;var F=2}else if($_(w.h,P))D=P.D,_R(w.h,P),F=1;else return;if(w.G!=0){if(P.o)if(F==1){D=P.m?P.m.length:0,P=Date.now()-P.F;var K=w.B;F=C0(),yr(F,new fR(F,D)),L0(w)}else UR(w);else if(K=P.s,K==3||K==0&&0<P.X||!(F==1&&Wte(w,P)||F==2&&U_(w)))switch(D&&0<D.length&&(P=w.h,P.i=P.i.concat(D)),K){case 1:Dc(w,5);break;case 4:Dc(w,10);break;case 3:Dc(w,6);break;default:Dc(w,2)}}}function HR(w,P){let D=w.Ta+Math.floor(Math.random()*w.cb);return w.isActive()||(D*=2),D*P}function Dc(w,P){if(w.j.info("Error code "+P),P==2){var D=h(w.fb,w),F=w.Xa;const K=!F;F=new Rc(F||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||P0(F,"https"),k0(F),K?Lte(F.toString(),D):$te(F.toString(),D)}else Jn(2);w.G=0,w.l&&w.l.sa(P),GR(w),FR(w)}t.fb=function(w){w?(this.j.info("Successfully pinged google.com"),Jn(2)):(this.j.info("Failed to ping google.com"),Jn(1))};function GR(w){if(w.G=0,w.ka=[],w.l){const P=SR(w.h);(P.length!=0||w.i.length!=0)&&(v(w.ka,P),v(w.ka,w.i),w.h.i.length=0,g(w.i),w.i.length=0),w.l.ra()}}function qR(w,P,D){var F=D instanceof Rc?Qo(D):new Rc(D);if(F.g!="")P&&(F.g=P+"."+F.g),O0(F,F.s);else{var K=s.location;F=K.protocol,P=P?P+"."+K.hostname:K.hostname,K=+K.port;var te=new Rc(null);F&&P0(te,F),P&&(te.g=P),K&&O0(te,K),D&&(te.l=D),F=te}return D=w.D,P=w.ya,D&&P&&Bt(F,D,P),Bt(F,"VER",w.la),_p(w,F),F}function KR(w,P,D){if(P&&!w.J)throw Error("Can't create secondary domain capable XhrIo object.");return P=w.Ca&&!w.pa?new ur(new R0({eb:D})):new ur(w.pa),P.Ha(w.J),P}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function YR(){}t=YR.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function F0(){}F0.prototype.g=function(w,P){return new Mi(w,P)};function Mi(w,P){vr.call(this),this.g=new $R(P),this.l=w,this.h=P&&P.messageUrlParams||null,w=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(w?w["X-WebChannel-Content-Type"]=P.messageContentType:w={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(w?w["X-WebChannel-Client-Profile"]=P.va:w={"X-WebChannel-Client-Profile":P.va}),this.g.S=w,(w=P&&P.Sb)&&!x(w)&&(this.g.m=w),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!x(P)&&(this.g.D=P,w=this.h,w!==null&&P in w&&(w=this.h,P in w&&delete w[P])),this.j=new dd(this)}m(Mi,vr),Mi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mi.prototype.close=function(){V_(this.g)},Mi.prototype.o=function(w){var P=this.g;if(typeof w=="string"){var D={};D.__data__=w,w=D}else this.u&&(D={},D.__data__=ld(w),w=D);P.i.push(new Tte(P.Ya++,w)),P.G==3&&L0(P)},Mi.prototype.N=function(){this.g.l=null,delete this.j,V_(this.g),delete this.g,Mi.aa.N.call(this)};function XR(w){Qs.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var P=w.__sm__;if(P){e:{for(const D in P){w=D;break e}w=void 0}(this.i=w)&&(w=this.i,P=P!==null&&w in P?P[w]:void 0),this.data=P}else this.data=w}m(XR,Qs);function QR(){vo.call(this),this.status=1}m(QR,vo);function dd(w){this.g=w}m(dd,YR),dd.prototype.ua=function(){yr(this.g,"a")},dd.prototype.ta=function(w){yr(this.g,new XR(w))},dd.prototype.sa=function(w){yr(this.g,new QR)},dd.prototype.ra=function(){yr(this.g,"b")},F0.prototype.createWebChannel=F0.prototype.g,Mi.prototype.send=Mi.prototype.o,Mi.prototype.open=Mi.prototype.m,Mi.prototype.close=Mi.prototype.close,zZ=function(){return new F0},UZ=function(){return C0()},VZ=Oc,GI={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},T0.NO_ERROR=0,T0.TIMEOUT=8,T0.HTTP_ERROR=6,w1=T0,hR.COMPLETE="complete",BZ=hR,cr.EventType=tn,tn.OPEN="a",tn.CLOSE="b",tn.ERROR="c",tn.MESSAGE="d",vr.prototype.listen=vr.prototype.K,pm=cr,ur.prototype.listenOnce=ur.prototype.L,ur.prototype.getLastError=ur.prototype.Ka,ur.prototype.getLastErrorCode=ur.prototype.Ba,ur.prototype.getStatus=ur.prototype.Z,ur.prototype.getResponseJson=ur.prototype.Oa,ur.prototype.getResponseText=ur.prototype.oa,ur.prototype.send=ur.prototype.ea,ur.prototype.setWithCredentials=ur.prototype.Ha,FZ=ur}).apply(typeof $y<"u"?$y:typeof self<"u"?self:typeof window<"u"?window:{});const U$="@firebase/firestore",z$="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$n.UNAUTHENTICATED=new $n(null),$n.GOOGLE_CREDENTIALS=new $n("google-credentials-uid"),$n.FIRST_PARTY=new $n("first-party-uid"),$n.MOCK_USER=new $n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let np="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=new c_("@firebase/firestore");function Ed(){return Uu.logLevel}function Ce(t,...e){if(Uu.logLevel<=at.DEBUG){const r=e.map(Sk);Uu.debug(`Firestore (${np}): ${t}`,...r)}}function Us(t,...e){if(Uu.logLevel<=at.ERROR){const r=e.map(Sk);Uu.error(`Firestore (${np}): ${t}`,...r)}}function hh(t,...e){if(Uu.logLevel<=at.WARN){const r=e.map(Sk);Uu.warn(`Firestore (${np}): ${t}`,...r)}}function Sk(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,WZ(t,n,r)}function WZ(t,e,r){let n=`FIRESTORE (${np}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Us(n),new Error(n)}function sr(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||WZ(e,i,n)}function pt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends ka{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HZ{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AQe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r($n.UNAUTHENTICATED))}shutdown(){}}class CQe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class TQe{constructor(e){this.t=e,this.currentUser=$n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){sr(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new ql;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ql,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ql)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(sr(typeof n.accessToken=="string",31837,{l:n}),new HZ(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return sr(e===null||typeof e=="string",2055,{h:e}),new $n(e)}}class IQe{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=$n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class NQe{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new IQe(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r($n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class W${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PQe{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pa(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){sr(this.o===void 0,3512);const n=a=>{a.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Ce("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new W$(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(sr(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new W$(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OQe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GZ(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qZ{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=OQe(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function et(t,e){return t<e?-1:t>e?1:0}function qI(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),i=e.codePointAt(r);if(n!==i){if(n<128&&i<128)return et(n,i);{const a=GZ(),o=kQe(a.encode(H$(t,r)),a.encode(H$(e,r)));return o!==0?o:et(n,i)}}r+=n>65535?2:1}return et(t.length,e.length)}function H$(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function kQe(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return et(t[r],e[r]);return et(t.length,e.length)}function ph(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$=-62135596800,q$=1e6;class Oi{static now(){return Oi.fromMillis(Date.now())}static fromDate(e){return Oi.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*q$);return new Oi(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Me(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Me(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<G$)throw new Me(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/q$}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-G$;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new Oi(0,0))}static max(){return new Ge(new Oi(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$="__name__";class _o{constructor(e,r,n){r===void 0?r=0:r>e.length&&Ke(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&Ke(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return _o.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof _o?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=_o.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return et(e.length,r.length)}static compareSegments(e,r){const n=_o.isNumericId(e),i=_o.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?_o.extractNumericId(e).compare(_o.extractNumericId(r)):qI(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gl.fromString(e.substring(4,e.length-2))}}class Zt extends _o{construct(e,r,n){return new Zt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Me(be.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Zt(r)}static emptyPath(){return new Zt([])}}const RQe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class li extends _o{construct(e,r,n){return new li(e,r,n)}static isValidIdentifier(e){return RQe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),li.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K$}static keyField(){return new li([K$])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Me(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new Me(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Me(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new Me(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new li(r)}static emptyPath(){return new li([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Zt.fromString(e))}static fromName(e){return new Be(Zt.fromString(e).popFirst(5))}static empty(){return new Be(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Zt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Zt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=-1;function DQe(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ge.fromTimestamp(n===1e9?new Oi(r+1,0):new Oi(r,n));return new cc(i,Be.empty(),e)}function jQe(t){return new cc(t.readTime,t.key,Sv)}class cc{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new cc(Ge.min(),Be.empty(),Sv)}static max(){return new cc(Ge.max(),Be.empty(),Sv)}}function MQe(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Be.comparator(t.documentKey,e.documentKey),r!==0?r:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LQe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $Qe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d_(t){if(t.code!==be.FAILED_PRECONDITION||t.message!==LQe)throw t;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new le((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof le?r:le.resolve(r)}catch(r){return le.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):le.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):le.reject(r)}static resolve(e){return new le((r,n)=>{r(e)})}static reject(e){return new le((r,n)=>{n(e)})}static waitFor(e){return new le((r,n)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&r()},l=>n(l))}),o=!0,a===i&&r()})}static or(e){let r=le.resolve(!1);for(const n of e)r=r.next(i=>i?le.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new le((n,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const c=l;r(e[c]).next(u=>{o[c]=u,++s,s===a&&n(o)},u=>i(u))}})}static doWhile(e,r){return new le((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function FQe(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function ip(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}f_.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BQe=-1;function h_(t){return t==null}function KI(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KZ="";function VQe(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=Y$(e)),e=UQe(t.get(r),e);return Y$(e)}function UQe(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case KZ:r+="";break;default:r+=a}}return r}function Y$(t){return t+KZ+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X$(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function x0(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function zQe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,r){this.comparator=e,this.root=r||bn.EMPTY}insert(e,r){return new Sr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(e){return new Sr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fy(this.root,e,this.comparator,!0)}}class Fy{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bn{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??bn.RED,this.left=i??bn.EMPTY,this.right=a??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new bn(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return bn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ke(27949);return e+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke(57766)}get value(){throw Ke(16141)}get color(){throw Ke(16727)}get left(){throw Ke(29726)}get right(){throw Ke(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new bn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.comparator=e,this.data=new Sr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Q$(this.data.getIterator())}getIteratorFrom(e){return new Q$(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Qr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Qr(this.comparator);return r.data=e,r}}class Q${constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e){this.fields=e,e.sort(li.comparator)}static empty(){return new Il([])}unionWith(e){let r=new Qr(li.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Il(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return ph(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YZ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new YZ("Invalid base64 string: "+a):a}}(e);return new Tn(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new Tn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tn.EMPTY_BYTE_STRING=new Tn("");const WQe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uc(t){if(sr(!!t,39018),typeof t=="string"){let e=0;const r=WQe.exec(t);if(sr(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:xr(t.seconds),nanos:xr(t.nanos)}}function xr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function dc(t){return typeof t=="string"?Tn.fromBase64String(t):Tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XZ="server_timestamp",QZ="__type__",ZZ="__previous_value__",JZ="__local_write_time__";function Ek(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[QZ])===null||r===void 0?void 0:r.stringValue)===XZ}function p_(t){const e=t.mapValue.fields[ZZ];return Ek(e)?p_(e):e}function Ev(t){const e=uc(t.mapValue.fields[JZ].timestampValue);return new Oi(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HQe{constructor(e,r,n,i,a,o,s,l,c,u){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const Fw="(default)";class Av{constructor(e,r){this.projectId=e,this.database=r||Fw}static empty(){return new Av("","")}get isDefaultDatabase(){return this.database===Fw}isEqual(e){return e instanceof Av&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GQe="__type__",qQe="__max__",By={mapValue:{}},KQe="__vector__",YI="value";function fc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ek(t)?4:XQe(t)?9007199254740991:YQe(t)?10:11:Ke(28295,{value:t})}function Ho(t,e){if(t===e)return!0;const r=fc(t);if(r!==fc(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ev(t).isEqual(Ev(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=uc(i.timestampValue),s=uc(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return dc(i.bytesValue).isEqual(dc(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return xr(i.geoPointValue.latitude)===xr(a.geoPointValue.latitude)&&xr(i.geoPointValue.longitude)===xr(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return xr(i.integerValue)===xr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=xr(i.doubleValue),s=xr(a.doubleValue);return o===s?KI(o)===KI(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return ph(t.arrayValue.values||[],e.arrayValue.values||[],Ho);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(X$(o)!==X$(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!Ho(o[l],s[l])))return!1;return!0}(t,e);default:return Ke(52216,{left:t})}}function Cv(t,e){return(t.values||[]).find(r=>Ho(r,e))!==void 0}function mh(t,e){if(t===e)return 0;const r=fc(t),n=fc(e);if(r!==n)return et(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=xr(a.integerValue||a.doubleValue),l=xr(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return Z$(t.timestampValue,e.timestampValue);case 4:return Z$(Ev(t),Ev(e));case 5:return qI(t.stringValue,e.stringValue);case 6:return function(a,o){const s=dc(a),l=dc(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let c=0;c<s.length&&c<l.length;c++){const u=et(s[c],l[c]);if(u!==0)return u}return et(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=et(xr(a.latitude),xr(o.latitude));return s!==0?s:et(xr(a.longitude),xr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return J$(t.arrayValue,e.arrayValue);case 10:return function(a,o){var s,l,c,u;const f=a.fields||{},h=o.fields||{},p=(s=f[YI])===null||s===void 0?void 0:s.arrayValue,m=(l=h[YI])===null||l===void 0?void 0:l.arrayValue,g=et(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0);return g!==0?g:J$(p,m)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===By.mapValue&&o===By.mapValue)return 0;if(a===By.mapValue)return 1;if(o===By.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=qI(l[f],u[f]);if(h!==0)return h;const p=mh(s[l[f]],c[u[f]]);if(p!==0)return p}return et(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Ke(23264,{Pe:r})}}function Z$(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const r=uc(t),n=uc(e),i=et(r.seconds,n.seconds);return i!==0?i:et(r.nanos,n.nanos)}function J$(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=mh(r[i],n[i]);if(a)return a}return et(r.length,n.length)}function gh(t){return XI(t)}function XI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=uc(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return dc(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Be.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=XI(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${XI(r.fields[o])}`;return i+"}"}(t.mapValue):Ke(61005,{value:t})}function b1(t){switch(fc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=p_(t);return e?16+b1(e):16;case 5:return 2*t.stringValue.length;case 6:return dc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+b1(a),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return x0(n.fields,(a,o)=>{i+=a.length+b1(o)}),i}(t.mapValue);default:throw Ke(13486,{value:t})}}function QI(t){return!!t&&"integerValue"in t}function Ak(t){return!!t&&"arrayValue"in t}function e9(t){return!!t&&"nullValue"in t}function t9(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function HE(t){return!!t&&"mapValue"in t}function YQe(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[GQe])===null||r===void 0?void 0:r.stringValue)===KQe}function Vm(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return x0(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Vm(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Vm(t.arrayValue.values[r]);return e}return Object.assign({},t)}function XQe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===qQe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.value=e}static empty(){return new Co({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!HE(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vm(r)}setAll(e){let r=li.emptyPath(),n={},i=[];e.forEach((o,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}o?n[s.lastSegment()]=Vm(o):i.push(s.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());HE(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ho(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];HE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){x0(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new Co(Vm(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,r,n,i,a,o,s){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Un(e,0,Ge.min(),Ge.min(),Ge.min(),Co.empty(),0)}static newFoundDocument(e,r,n,i){return new Un(e,1,r,Ge.min(),n,i,0)}static newNoDocument(e,r){return new Un(e,2,r,Ge.min(),Ge.min(),Co.empty(),0)}static newUnknownDocument(e,r){return new Un(e,3,r,Ge.min(),Ge.min(),Co.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Co.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Co.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,r){this.position=e,this.inclusive=r}}function r9(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=Be.comparator(Be.fromName(o.referenceValue),r.key):n=mh(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function n9(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Ho(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,r="asc"){this.field=e,this.dir=r}}function QQe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eJ{}class qr extends eJ{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new JQe(e,r,n):r==="array-contains"?new rZe(e,n):r==="in"?new nZe(e,n):r==="not-in"?new iZe(e,n):r==="array-contains-any"?new aZe(e,n):new qr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new eZe(e,n):new tZe(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(mh(r,this.value)):r!==null&&fc(this.value)===fc(r)&&this.matchesComparison(mh(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Go extends eJ{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new Go(e,r)}matches(e){return tJ(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function tJ(t){return t.op==="and"}function rJ(t){return ZQe(t)&&tJ(t)}function ZQe(t){for(const e of t.filters)if(e instanceof Go)return!1;return!0}function ZI(t){if(t instanceof qr)return t.field.canonicalString()+t.op.toString()+gh(t.value);if(rJ(t))return t.filters.map(e=>ZI(e)).join(",");{const e=t.filters.map(r=>ZI(r)).join(",");return`${t.op}(${e})`}}function nJ(t,e){return t instanceof qr?function(n,i){return i instanceof qr&&n.op===i.op&&n.field.isEqual(i.field)&&Ho(n.value,i.value)}(t,e):t instanceof Go?function(n,i){return i instanceof Go&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,s)=>a&&nJ(o,i.filters[s]),!0):!1}(t,e):void Ke(19439)}function iJ(t){return t instanceof qr?function(r){return`${r.field.canonicalString()} ${r.op} ${gh(r.value)}`}(t):t instanceof Go?function(r){return r.op.toString()+" {"+r.getFilters().map(iJ).join(" ,")+"}"}(t):"Filter"}class JQe extends qr{constructor(e,r,n){super(e,r,n),this.key=Be.fromName(n.referenceValue)}matches(e){const r=Be.comparator(e.key,this.key);return this.matchesComparison(r)}}class eZe extends qr{constructor(e,r){super(e,"in",r),this.keys=aJ("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class tZe extends qr{constructor(e,r){super(e,"not-in",r),this.keys=aJ("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function aJ(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Be.fromName(n.referenceValue))}class rZe extends qr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Ak(r)&&Cv(r.arrayValue,this.value)}}class nZe extends qr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Cv(this.value.arrayValue,r)}}class iZe extends qr{constructor(e,r){super(e,"not-in",r)}matches(e){if(Cv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Cv(this.value.arrayValue,r)}}class aZe extends qr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Ak(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Cv(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oZe{constructor(e,r=null,n=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Ie=null}}function i9(t,e=null,r=[],n=[],i=null,a=null,o=null){return new oZe(t,e,r,n,i,a,o)}function Ck(t){const e=pt(t);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>ZI(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),h_(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>gh(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>gh(n)).join(",")),e.Ie=r}return e.Ie}function Tk(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!QQe(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!nJ(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!n9(t.startAt,e.startAt)&&n9(t.endAt,e.endAt)}function JI(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,r=null,n=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function sZe(t,e,r,n,i,a,o,s){return new m_(t,e,r,n,i,a,o,s)}function Ik(t){return new m_(t)}function a9(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function lZe(t){return t.collectionGroup!==null}function Um(t){const e=pt(t);if(e.Ee===null){e.Ee=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new Qr(li.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(s=s.add(c.field))})}),s})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Vw(a,n))}),r.has(li.keyField().canonicalString())||e.Ee.push(new Vw(li.keyField(),n))}return e.Ee}function Lo(t){const e=pt(t);return e.de||(e.de=cZe(e,Um(t))),e.de}function cZe(t,e){if(t.limitType==="F")return i9(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Vw(i.field,a)});const r=t.endAt?new Bw(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Bw(t.startAt.position,t.startAt.inclusive):null;return i9(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function eN(t,e,r){return new m_(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function g_(t,e){return Tk(Lo(t),Lo(e))&&t.limitType===e.limitType}function oJ(t){return`${Ck(Lo(t))}|lt:${t.limitType}`}function Ad(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>iJ(i)).join(", ")}]`),h_(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>gh(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>gh(i)).join(",")),`Target(${n})`}(Lo(t))}; limitType=${t.limitType})`}function v_(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Be.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of Um(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,s,l){const c=r9(o,s,l);return o.inclusive?c<=0:c<0}(n.startAt,Um(n),i)||n.endAt&&!function(o,s,l){const c=r9(o,s,l);return o.inclusive?c>=0:c>0}(n.endAt,Um(n),i))}(t,e)}function uZe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sJ(t){return(e,r)=>{let n=!1;for(const i of Um(t)){const a=dZe(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function dZe(t,e,r){const n=t.field.isKeyField()?Be.comparator(e.key,r.key):function(a,o,s){const l=o.data.field(a),c=s.data.field(a);return l!==null&&c!==null?mh(l,c):Ke(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Ke(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){x0(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return zQe(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fZe=new Sr(Be.comparator);function hc(){return fZe}const lJ=new Sr(Be.comparator);function mm(...t){let e=lJ;for(const r of t)e=e.insert(r.key,r);return e}function hZe(t){let e=lJ;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function lu(){return zm()}function cJ(){return zm()}function zm(){return new od(t=>t.toString(),(t,e)=>t.isEqual(e))}const pZe=new Qr(Be.comparator);function vt(...t){let e=pZe;for(const r of t)e=e.add(r);return e}const mZe=new Qr(et);function gZe(){return mZe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vZe(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:KI(e)?"-0":e}}function yZe(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(){this._=void 0}}function xZe(t,e,r){return t instanceof tN?function(i,a){const o={fields:{[QZ]:{stringValue:XZ},[JZ]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Ek(a)&&(a=p_(a)),a&&(o.fields[ZZ]=a),{mapValue:o}}(r,e):t instanceof Uw?uJ(t,e):t instanceof zw?dJ(t,e):function(i,a){const o=bZe(i,a),s=o9(o)+o9(i.Re);return QI(o)&&QI(i.Re)?yZe(s):vZe(i.serializer,s)}(t,e)}function wZe(t,e,r){return t instanceof Uw?uJ(t,e):t instanceof zw?dJ(t,e):r}function bZe(t,e){return t instanceof rN?function(n){return QI(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class tN extends y_{}class Uw extends y_{constructor(e){super(),this.elements=e}}function uJ(t,e){const r=fJ(e);for(const n of t.elements)r.some(i=>Ho(i,n))||r.push(n);return{arrayValue:{values:r}}}class zw extends y_{constructor(e){super(),this.elements=e}}function dJ(t,e){let r=fJ(e);for(const n of t.elements)r=r.filter(i=>!Ho(i,n));return{arrayValue:{values:r}}}class rN extends y_{constructor(e,r){super(),this.serializer=e,this.Re=r}}function o9(t){return xr(t.integerValue||t.doubleValue)}function fJ(t){return Ak(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function _Ze(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Uw&&i instanceof Uw||n instanceof zw&&i instanceof zw?ph(n.elements,i.elements,Ho):n instanceof rN&&i instanceof rN?Ho(n.Re,i.Re):n instanceof tN&&i instanceof tN}(t.transform,e.transform)}class yu{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new yu}static exists(e){return new yu(void 0,e)}static updateTime(e){return new yu(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nk{}function hJ(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new EZe(t.key,yu.none()):new Pk(t.key,t.data,yu.none());{const r=t.data,n=Co.empty();let i=new Qr(li.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new x_(t.key,n,new Il(i.toArray()),yu.none())}}function SZe(t,e,r){t instanceof Pk?function(i,a,o){const s=i.value.clone(),l=l9(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,r):t instanceof x_?function(i,a,o){if(!_1(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=l9(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(pJ(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function Wm(t,e,r,n){return t instanceof Pk?function(a,o,s,l){if(!_1(a.precondition,o))return s;const c=a.value.clone(),u=c9(a.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof x_?function(a,o,s,l){if(!_1(a.precondition,o))return s;const c=c9(a.fieldTransforms,l,o),u=o.data;return u.setAll(pJ(a)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(a,o,s){return _1(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,r)}function s9(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&ph(n,i,(a,o)=>_Ze(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pk extends Nk{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class x_ extends Nk{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function pJ(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function l9(t,e,r){const n=new Map;sr(t.length===r.length,32656,{Ve:r.length,me:t.length});for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);n.set(a.field,wZe(o,s,r[i]))}return n}function c9(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,xZe(a,o,e))}return n}class EZe extends Nk{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AZe{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&SZe(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Wm(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Wm(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=cJ();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=r.has(i.key)?null:s;const l=hJ(o,s);l!==null&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ge.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),vt())}isEqual(e){return this.batchId===e.batchId&&ph(this.mutations,e.mutations,(r,n)=>s9(r,n))&&ph(this.baseMutations,e.baseMutations,(r,n)=>s9(r,n))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CZe{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TZe{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ar,dt;function mJ(t){if(t===void 0)return Us("GRPC error has no .code"),be.UNKNOWN;switch(t){case Ar.OK:return be.OK;case Ar.CANCELLED:return be.CANCELLED;case Ar.UNKNOWN:return be.UNKNOWN;case Ar.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case Ar.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case Ar.INTERNAL:return be.INTERNAL;case Ar.UNAVAILABLE:return be.UNAVAILABLE;case Ar.UNAUTHENTICATED:return be.UNAUTHENTICATED;case Ar.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case Ar.NOT_FOUND:return be.NOT_FOUND;case Ar.ALREADY_EXISTS:return be.ALREADY_EXISTS;case Ar.PERMISSION_DENIED:return be.PERMISSION_DENIED;case Ar.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case Ar.ABORTED:return be.ABORTED;case Ar.OUT_OF_RANGE:return be.OUT_OF_RANGE;case Ar.UNIMPLEMENTED:return be.UNIMPLEMENTED;case Ar.DATA_LOSS:return be.DATA_LOSS;default:return Ke(39323,{code:t})}}(dt=Ar||(Ar={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IZe=new Gl([4294967295,4294967295],0);function u9(t){const e=GZ().encode(t),r=new $Z;return r.update(e),new Uint8Array(r.digest())}function d9(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Gl([r,n],0),new Gl([i,a],0)]}class Ok{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new gm(`Invalid padding: ${r}`);if(n<0)throw new gm(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new gm(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new gm(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*e.length-r,this.ye=Gl.fromNumber(this.pe)}we(e,r,n){let i=e.add(r.multiply(Gl.fromNumber(n)));return i.compare(IZe)===1&&(i=new Gl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const r=u9(e),[n,i]=d9(r);for(let a=0;a<this.hashCount;a++){const o=this.we(n,i,a);if(!this.be(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new Ok(a,i,r);return n.forEach(s=>o.insert(s)),o}insert(e){if(this.pe===0)return;const r=u9(e),[n,i]=d9(r);for(let a=0;a<this.hashCount;a++){const o=this.we(n,i,a);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class gm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,w0.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new w_(Ge.min(),i,new Sr(et),hc(),vt())}}class w0{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new w0(n,r,vt(),vt(),vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,r,n,i){this.De=e,this.removedTargetIds=r,this.key=n,this.ve=i}}class gJ{constructor(e,r){this.targetId=e,this.Ce=r}}class vJ{constructor(e,r,n=Tn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class f9{constructor(){this.Fe=0,this.Me=h9(),this.xe=Tn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=vt(),r=vt(),n=vt();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Ke(38017,{changeType:a})}}),new w0(this.xe,this.Oe,e,r,n)}Qe(){this.Ne=!1,this.Me=h9()}$e(e,r){this.Ne=!0,this.Me=this.Me.insert(e,r)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,sr(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class NZe{constructor(e){this.ze=e,this.je=new Map,this.He=hc(),this.Je=Vy(),this.Ye=Vy(),this.Ze=new Sr(et)}Xe(e){for(const r of e.De)e.ve&&e.ve.isFoundDocument()?this.et(r,e.ve):this.tt(r,e.key,e.ve);for(const r of e.removedTargetIds)this.tt(r,e.key,e.ve)}nt(e){this.forEachTarget(e,r=>{const n=this.rt(r);switch(e.state){case 0:this.it(r)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(r);break;case 3:this.it(r)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(r)&&(this.st(r),n.ke(e.resumeToken));break;default:Ke(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.je.forEach((n,i)=>{this.it(i)&&r(i)})}ot(e){const r=e.targetId,n=e.Ce.count,i=this._t(r);if(i){const a=i.target;if(JI(a))if(n===0){const o=new Be(a.path);this.tt(r,o,Un.newNoDocument(o,Ge.min()))}else sr(n===1,20013,{expectedCount:n});else{const o=this.ut(r);if(o!==n){const s=this.ct(e),l=s?this.lt(s,e,o):1;if(l!==0){this.st(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,c)}}}}}ct(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,s;try{o=dc(n).toUint8Array()}catch(l){if(l instanceof YZ)return hh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new Ok(o,i,a)}catch(l){return hh(l instanceof gm?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.pe===0?null:s}lt(e,r,n){return r.Ce.count===n-this.Tt(e,r.targetId)?0:2}Tt(e,r){const n=this.ze.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.ze.Pt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.tt(r,a,null),i++)}),i}It(e){const r=new Map;this.je.forEach((a,o)=>{const s=this._t(o);if(s){if(a.current&&JI(s.target)){const l=new Be(s.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,Un.newNoDocument(l,e))}a.Le&&(r.set(o,a.qe()),a.Qe())}});let n=vt();this.Ye.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(a))}),this.He.forEach((a,o)=>o.setReadTime(e));const i=new w_(e,r,this.Ze,this.He,n);return this.He=hc(),this.Je=Vy(),this.Ye=Vy(),this.Ze=new Sr(et),i}et(e,r){if(!this.it(e))return;const n=this.dt(e,r.key)?2:0;this.rt(e).$e(r.key,n),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(e)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(e))}tt(e,r,n){if(!this.it(e))return;const i=this.rt(e);this.dt(e,r)?i.$e(r,1):i.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(e)),this.Ye=this.Ye.insert(r,this.At(r).add(e)),n&&(this.He=this.He.insert(r,n))}removeTarget(e){this.je.delete(e)}ut(e){const r=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let r=this.je.get(e);return r||(r=new f9,this.je.set(e,r)),r}At(e){let r=this.Ye.get(e);return r||(r=new Qr(et),this.Ye=this.Ye.insert(e,r)),r}Et(e){let r=this.Je.get(e);return r||(r=new Qr(et),this.Je=this.Je.insert(e,r)),r}it(e){const r=this._t(e)!==null;return r||Ce("WatchChangeAggregator","Detected inactive target",e),r}_t(e){const r=this.je.get(e);return r&&r.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new f9),this.ze.getRemoteKeysForTarget(e).forEach(r=>{this.tt(e,r,null)})}dt(e,r){return this.ze.getRemoteKeysForTarget(e).has(r)}}function Vy(){return new Sr(Be.comparator)}function h9(){return new Sr(Be.comparator)}const PZe={asc:"ASCENDING",desc:"DESCENDING"},OZe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kZe={and:"AND",or:"OR"};class RZe{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function nN(t,e){return t.useProto3Json||h_(e)?e:{value:e}}function DZe(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jZe(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mf(t){return sr(!!t,49232),Ge.fromTimestamp(function(r){const n=uc(r);return new Oi(n.seconds,n.nanos)}(t))}function MZe(t,e){return iN(t,e).canonicalString()}function iN(t,e){const r=function(i){return new Zt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function yJ(t){const e=Zt.fromString(t);return sr(SJ(e),10190,{key:e.toString()}),e}function GE(t,e){const r=yJ(e);if(r.get(1)!==t.databaseId.projectId)throw new Me(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Me(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Be(wJ(r))}function xJ(t,e){return MZe(t.databaseId,e)}function LZe(t){const e=yJ(t);return e.length===4?Zt.emptyPath():wJ(e)}function p9(t){return new Zt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wJ(t){return sr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function $Ze(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ke(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(sr(u===void 0||typeof u=="string",58123),Tn.fromBase64String(u||"")):(sr(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Tn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(c){const u=c.code===void 0?be.UNKNOWN:mJ(c.code);return new Me(u,c.message||"")}(o);r=new vJ(n,i,a,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=GE(t,n.document.name),a=mf(n.document.updateTime),o=n.document.createTime?mf(n.document.createTime):Ge.min(),s=new Co({mapValue:{fields:n.document.fields}}),l=Un.newFoundDocument(i,a,o,s),c=n.targetIds||[],u=n.removedTargetIds||[];r=new S1(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=GE(t,n.document),a=n.readTime?mf(n.readTime):Ge.min(),o=Un.newNoDocument(i,a),s=n.removedTargetIds||[];r=new S1([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=GE(t,n.document),a=n.removedTargetIds||[];r=new S1([],a,i,null)}else{if(!("filter"in e))return Ke(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new TZe(i,a),s=n.targetId;r=new gJ(s,o)}}return r}function FZe(t,e){return{documents:[xJ(t,e.path)]}}function BZe(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=xJ(t,i);const a=function(c){if(c.length!==0)return _J(Go.create(c,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Cd(h.field),direction:zZe(h.dir)}}(u))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const s=nN(t,e.limit);return s!==null&&(r.structuredQuery.limit=s),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:r,parent:i}}function VZe(t){let e=LZe(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){sr(n===1,65062);const u=r.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];r.where&&(a=function(f){const h=bJ(f);return h instanceof Go&&rJ(h)?h.getFilters():[h]}(r.where));let o=[];r.orderBy&&(o=function(f){return f.map(h=>function(m){return new Vw(Td(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(r.orderBy));let s=null;r.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,h_(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new Bw(p,h)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const h=!f.before,p=f.values||[];return new Bw(p,h)}(r.endAt)),sZe(e,i,o,a,s,"F",l,c)}function UZe(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function bJ(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Td(r.unaryFilter.field);return qr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Td(r.unaryFilter.field);return qr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Td(r.unaryFilter.field);return qr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Td(r.unaryFilter.field);return qr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ke(61313);default:return Ke(60726)}}(t):t.fieldFilter!==void 0?function(r){return qr.create(Td(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ke(58110);default:return Ke(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Go.create(r.compositeFilter.filters.map(n=>bJ(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ke(1026)}}(r.compositeFilter.op))}(t):Ke(30097,{filter:t})}function zZe(t){return PZe[t]}function WZe(t){return OZe[t]}function HZe(t){return kZe[t]}function Cd(t){return{fieldPath:t.canonicalString()}}function Td(t){return li.fromServerFormat(t.fieldPath)}function _J(t){return t instanceof qr?function(r){if(r.op==="=="){if(t9(r.value))return{unaryFilter:{field:Cd(r.field),op:"IS_NAN"}};if(e9(r.value))return{unaryFilter:{field:Cd(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(t9(r.value))return{unaryFilter:{field:Cd(r.field),op:"IS_NOT_NAN"}};if(e9(r.value))return{unaryFilter:{field:Cd(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cd(r.field),op:WZe(r.op),value:r.value}}}(t):t instanceof Go?function(r){const n=r.getFilters().map(i=>_J(i));return n.length===1?n[0]:{compositeFilter:{op:HZe(r.op),filters:n}}}(t):Ke(54877,{filter:t})}function SJ(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,r,n,i,a=Ge.min(),o=Ge.min(),s=Tn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Nl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Nl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GZe{constructor(e){this.wt=e}}function qZe(t){const e=VZe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?eN(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KZe{constructor(){this.yn=new YZe}addToCollectionParentIndex(e,r){return this.yn.add(r),le.resolve()}getCollectionParents(e,r){return le.resolve(this.yn.getEntries(r))}addFieldIndex(e,r){return le.resolve()}deleteFieldIndex(e,r){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,r){return le.resolve()}getDocumentsMatchingTarget(e,r){return le.resolve(null)}getIndexType(e,r){return le.resolve(0)}getFieldIndexes(e,r){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,r){return le.resolve(cc.min())}getMinOffsetFromCollectionGroup(e,r){return le.resolve(cc.min())}updateCollectionGroup(e,r,n){return le.resolve()}updateIndexEntries(e,r){return le.resolve()}}class YZe{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Qr(Zt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Qr(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EJ=41943040;class wi{static withCacheSize(e){return new wi(e,wi.DEFAULT_COLLECTION_PERCENTILE,wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wi.DEFAULT_COLLECTION_PERCENTILE=10,wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wi.DEFAULT=new wi(EJ,wi.DEFAULT_COLLECTION_PERCENTILE,wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wi.DISABLED=new wi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new vh(0)}static ir(){return new vh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9="LruGarbageCollector",XZe=1048576;function v9([t,e],[r,n]){const i=et(t,r);return i===0?et(e,n):i}class QZe{constructor(e){this.cr=e,this.buffer=new Qr(v9),this.lr=0}hr(){return++this.lr}Pr(e){const r=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();v9(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class ZZe{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ce(g9,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){ip(r)?Ce(g9,"Ignoring IndexedDB error during garbage collection: ",r):await d_(r)}await this.Ir(3e5)})}}class JZe{constructor(e,r){this.Er=e,this.params=r}calculateTargetCount(e,r){return this.Er.dr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return le.resolve(f_.le);const n=new QZe(r);return this.Er.forEachTarget(e,i=>n.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>n.Pr(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.Er.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Er.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(m9)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m9):this.Rr(e,r))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,r){let n,i,a,o,s,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(n=f,s=Date.now(),this.removeTargets(e,n,r))).next(f=>(a=f,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(f=>(c=Date.now(),Ed()<=at.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(l-s)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function eJe(t,e){return new JZe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tJe{constructor(){this.changes=new od(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?le.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rJe{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nJe{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Wm(n.mutation,i,Il.empty(),Oi.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,vt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=vt()){const i=lu();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let o=mm();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=lu();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,vt()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{r.set(o,s)})})}computeViews(e,r,n,i){let a=hc();const o=zm(),s=function(){return zm()}();return r.forEach((l,c)=>{const u=n.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof x_)?a=a.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Wm(u.mutation,c,u.mutation.getFieldMask(),Oi.now())):o.set(c.key,Il.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,u)=>o.set(c,u)),r.forEach((c,u)=>{var f;return s.set(c,new rJe(u,(f=o.get(c))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,r){const n=zm();let i=new Sr((o,s)=>o-s),a=vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const s of o)s.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||Il.empty();u=s.applyToLocalView(c,u),n.set(l,u);const f=(i.get(s.batchId)||vt()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),c=l.key,u=l.value,f=cJ();u.forEach(h=>{if(!a.has(h)){const p=hJ(r.get(h),n.get(h));p!==null&&f.set(h,p),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return le.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return Be.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):lZe(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):le.resolve(lu());let s=Sv,l=a;return o.next(c=>le.forEach(c,(u,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),a.get(u)?le.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,vt())).next(u=>({batchId:s,changes:hZe(u)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Be(r)).next(n=>{let i=mm();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=mm();return this.indexManager.getCollectionParents(e,a).next(s=>le.forEach(s,l=>{const c=function(f,h){return new m_(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,n,i).next(u=>{u.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(o=>{a.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Un.newInvalidDocument(u)))});let s=mm();return o.forEach((l,c)=>{const u=a.get(l);u!==void 0&&Wm(u.mutation,c,Il.empty(),Oi.now()),v_(r,c)&&(s=s.insert(l,c))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iJe{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,r){return le.resolve(this.Fr.get(r))}saveBundleMetadata(e,r){return this.Fr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:mf(i.createTime)}}(r)),le.resolve()}getNamedQuery(e,r){return le.resolve(this.Mr.get(r))}saveNamedQuery(e,r){return this.Mr.set(r.name,function(i){return{name:i.name,query:qZe(i.bundledQuery),readTime:mf(i.readTime)}}(r)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aJe{constructor(){this.overlays=new Sr(Be.comparator),this.Or=new Map}getOverlay(e,r){return le.resolve(this.overlays.get(r))}getOverlays(e,r){const n=lu();return le.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.St(e,r,a)}),le.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Or.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(n)),le.resolve()}getOverlaysForCollection(e,r,n){const i=lu(),a=r.length+1,o=new Be(r.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return le.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Sr((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=a.get(c.largestBatchId);u===null&&(u=lu(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const s=lu(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>s.set(c,u)),!(s.size()>=i)););return le.resolve(s)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Or.get(i.largestBatchId).delete(n.key);this.Or.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new CZe(r,n));let a=this.Or.get(r);a===void 0&&(a=vt(),this.Or.set(r,a)),this.Or.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oJe{constructor(){this.sessionToken=Tn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(){this.Nr=new Qr(on.Br),this.Lr=new Qr(on.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,r){const n=new on(e,r);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Qr(new on(e,r))}$r(e,r){e.forEach(n=>this.removeReference(n,r))}Ur(e){const r=new Be(new Zt([])),n=new on(r,e),i=new on(r,e+1),a=[];return this.Lr.forEachInRange([n,i],o=>{this.Qr(o),a.push(o.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const r=new Be(new Zt([])),n=new on(r,e),i=new on(r,e+1);let a=vt();return this.Lr.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new on(e,0),n=this.Nr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class on{constructor(e,r){this.key=e,this.Gr=r}static Br(e,r){return Be.comparator(e.key,r.key)||et(e.Gr,r.Gr)}static kr(e,r){return et(e.Gr,r.Gr)||Be.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sJe{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new Qr(on.Br)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new AZe(a,r,n,i);this.mutationQueue.push(o);for(const s of i)this.zr=this.zr.add(new on(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return le.resolve(o)}lookupMutationBatch(e,r){return le.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.Hr(n),a=i<0?0:i;return le.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?BQe:this.Jn-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new on(r,0),i=new on(r,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([n,i],o=>{const s=this.jr(o.Gr);a.push(s)}),le.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Qr(et);return r.forEach(i=>{const a=new on(i,0),o=new on(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,o],s=>{n=n.add(s.Gr)})}),le.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;Be.isDocumentKey(a)||(a=a.child(""));const o=new on(new Be(a),0);let s=new Qr(et);return this.zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(s=s.add(l.Gr)),!0)},o),le.resolve(this.Jr(s))}Jr(e){const r=[];return e.forEach(n=>{const i=this.jr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){sr(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.zr;return le.forEach(r.mutations,i=>{const a=new on(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=n})}Xn(e){}containsKey(e,r){const n=new on(r,0),i=this.zr.firstAfterOrEqual(n);return le.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Yr(e,r){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const r=this.Hr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lJe{constructor(e){this.Zr=e,this.docs=function(){return new Sr(Be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.Zr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return le.resolve(n?n.document.mutableCopy():Un.newInvalidDocument(r))}getEntries(e,r){let n=hc();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Un.newInvalidDocument(i))}),le.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=hc();const o=r.path,s=new Be(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||MQe(jQe(u),n)<=0||(i.has(u.key)||v_(r,u))&&(a=a.insert(u.key,u.mutableCopy()))}return le.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Ke(9500)}Xr(e,r){return le.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new cJe(this)}getSize(e){return le.resolve(this.size)}}class cJe extends tJe{constructor(e){super(),this.vr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.vr.addEntry(e,i)):this.vr.removeEntry(n)}),le.waitFor(r)}getFromCache(e,r){return this.vr.getEntry(e,r)}getAllFromCache(e,r){return this.vr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uJe{constructor(e){this.persistence=e,this.ei=new od(r=>Ck(r),Tk),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.ti=0,this.ni=new kk,this.targetCount=0,this.ri=vh.rr()}forEachTarget(e,r){return this.ei.forEach((n,i)=>r(i)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ti&&(this.ti=r),le.resolve()}ar(e){this.ei.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ri=new vh(r),this.highestTargetId=r),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,r){return this.ar(r),this.targetCount+=1,le.resolve()}updateTargetData(e,r){return this.ar(r),le.resolve()}removeTargetData(e,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.ei.forEach((o,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.ei.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),le.waitFor(a).next(()=>i)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,r){const n=this.ei.get(r)||null;return le.resolve(n)}addMatchingKeys(e,r,n){return this.ni.qr(r,n),le.resolve()}removeMatchingKeys(e,r,n){this.ni.$r(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),le.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.ni.Ur(r),le.resolve()}getMatchingKeysForTargetId(e,r){const n=this.ni.Wr(r);return le.resolve(n)}containsKey(e,r){return le.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AJ{constructor(e,r){this.ii={},this.overlays={},this.si=new f_(0),this.oi=!1,this.oi=!0,this._i=new oJe,this.referenceDelegate=e(this),this.ai=new uJe(this),this.indexManager=new KZe,this.remoteDocumentCache=function(i){return new lJe(i)}(n=>this.referenceDelegate.ui(n)),this.serializer=new GZe(r),this.ci=new iJe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new aJe,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ii[e.toKey()];return n||(n=new sJe(r,this.referenceDelegate),this.ii[e.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,r,n){Ce("MemoryPersistence","Starting transaction:",e);const i=new dJe(this.si.next());return this.referenceDelegate.li(),n(i).next(a=>this.referenceDelegate.hi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Pi(e,r){return le.or(Object.values(this.ii).map(n=>()=>n.containsKey(e,r)))}}class dJe extends $Qe{constructor(e){super(),this.currentSequenceNumber=e}}class Rk{constructor(e){this.persistence=e,this.Ti=new kk,this.Ii=null}static Ei(e){return new Rk(e)}get di(){if(this.Ii)return this.Ii;throw Ke(60996)}addReference(e,r,n){return this.Ti.addReference(n,r),this.di.delete(n.toString()),le.resolve()}removeReference(e,r,n){return this.Ti.removeReference(n,r),this.di.add(n.toString()),le.resolve()}markPotentiallyOrphaned(e,r){return this.di.add(r.toString()),le.resolve()}removeTarget(e,r){this.Ti.Ur(r.targetId).forEach(i=>this.di.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}li(){this.Ii=new Set}hi(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.di,n=>{const i=Be.fromPath(n);return this.Ai(e,i).next(a=>{a||r.removeEntry(i,Ge.min())})}).next(()=>(this.Ii=null,r.apply(e)))}updateLimboDocument(e,r){return this.Ai(e,r).next(n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(e){return 0}Ai(e,r){return le.or([()=>le.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Pi(e,r)])}}class Ww{constructor(e,r){this.persistence=e,this.Ri=new od(n=>VQe(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=eJe(this,r)}static Ei(e,r){return new Ww(e,r)}li(){}hi(e){return le.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}dr(e){const r=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}Vr(e){let r=0;return this.Ar(e,n=>{r++}).next(()=>r)}Ar(e,r){return le.forEach(this.Ri,(n,i)=>this.gr(e,n,i).next(a=>a?le.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.Xr(e,o=>this.gr(e,o,r).next(s=>{s||(n++,a.removeEntry(o,Ge.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.Ri.set(r,e.currentSequenceNumber),le.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.Ri.set(n,e.currentSequenceNumber),le.resolve()}removeReference(e,r,n){return this.Ri.set(n,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,r){return this.Ri.set(r,e.currentSequenceNumber),le.resolve()}ui(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=b1(e.data.value)),r}gr(e,r,n){return le.or([()=>this.persistence.Pi(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.Ri.get(r);return le.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.ls=n,this.hs=i}static Ps(e,r){let n=vt(),i=vt();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Dk(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fJe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hJe{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return iXe()?8:FQe(Kn())>0?6:4}()}initialize(e,r){this.As=e,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Rs(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Vs(e,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new fJe;return this.fs(e,r,o).next(s=>{if(a.result=s,this.Is)return this.gs(e,r,o,s.size)})}).next(()=>a.result)}gs(e,r,n,i){return n.documentReadCount<this.Es?(Ed()<=at.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",Ad(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),le.resolve()):(Ed()<=at.DEBUG&&Ce("QueryEngine","Query:",Ad(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ds*i?(Ed()<=at.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",Ad(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lo(r))):le.resolve())}Rs(e,r){if(a9(r))return le.resolve(null);let n=Lo(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=eN(r,null,"F"),n=Lo(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=vt(...a);return this.As.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.ps(r,s);return this.ys(r,c,o,l.readTime)?this.Rs(e,eN(r,null,"F")):this.ws(e,c,r,l)}))})))}Vs(e,r,n,i){return a9(r)||i.isEqual(Ge.min())?le.resolve(null):this.As.getDocuments(e,n).next(a=>{const o=this.ps(r,a);return this.ys(r,o,n,i)?le.resolve(null):(Ed()<=at.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ad(r)),this.ws(e,o,r,DQe(i,Sv)).next(s=>s))})}ps(e,r){let n=new Qr(sJ(e));return r.forEach((i,a)=>{v_(e,a)&&(n=n.add(a))}),n}ys(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}fs(e,r,n){return Ed()<=at.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",Ad(r)),this.As.getDocumentsMatchingQuery(e,r,cc.min(),n)}ws(e,r,n,i){return this.As.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk="LocalStore",pJe=3e8;class mJe{constructor(e,r,n,i){this.persistence=e,this.bs=r,this.serializer=i,this.Ss=new Sr(et),this.Ds=new od(a=>Ck(a),Tk),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(n)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nJe(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ss))}}function gJe(t,e,r,n){return new mJe(t,e,r,n)}async function CJ(t,e){const r=pt(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Fs(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],s=[];let l=vt();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ms:c,removedBatchIds:o,addedBatchIds:s}))})})}function TJ(t){const e=pt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.ai.getLastRemoteSnapshotVersion(r))}function vJe(t,e){const r=pt(t),n=e.snapshotVersion;let i=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.Cs.newChangeBuffer({trackRemovals:!0});i=r.Ss;const s=[];e.targetChanges.forEach((u,f)=>{const h=i.get(f);if(!h)return;s.push(r.ai.removeMatchingKeys(a,u.removedDocuments,f).next(()=>r.ai.addMatchingKeys(a,u.addedDocuments,f)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Tn.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,n)),i=i.insert(f,p),function(g,v,y){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=pJe?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,p,u)&&s.push(r.ai.updateTargetData(a,p))});let l=hc(),c=vt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(a,u))}),s.push(yJe(a,o,e.documentUpdates).next(u=>{l=u.xs,c=u.Os})),!n.isEqual(Ge.min())){const u=r.ai.getLastRemoteSnapshotVersion(a).next(f=>r.ai.setTargetsMetadata(a,a.currentSequenceNumber,n));s.push(u)}return le.waitFor(s).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(r.Ss=i,a))}function yJe(t,e,r){let n=vt(),i=vt();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=hc();return r.forEach((s,l)=>{const c=a.get(s);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(Ge.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):Ce(jk,"Ignoring outdated watch update for ",s,". Current version:",c.version," Watch version:",l.version)}),{xs:o,Os:i}})}function xJe(t,e){const r=pt(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.ai.getTargetData(n,e).next(a=>a?(i=a,le.resolve(i)):r.ai.allocateTargetId(n).next(o=>(i=new Nl(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.ai.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ss.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(n.targetId,n),r.Ds.set(e,n.targetId)),n})}async function aN(t,e,r){const n=pt(t),i=n.Ss.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ip(o))throw o;Ce(jk,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ss=n.Ss.remove(e),n.Ds.delete(i.target)}function y9(t,e,r){const n=pt(t);let i=Ge.min(),a=vt();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const f=pt(l),h=f.Ds.get(u);return h!==void 0?le.resolve(f.Ss.get(h)):f.ai.getTargetData(c,u)}(n,o,Lo(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.ai.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>n.bs.getDocumentsMatchingQuery(o,e,r?i:Ge.min(),r?a:vt())).next(s=>(wJe(n,uZe(e),s),{documents:s,Ns:a})))}function wJe(t,e,r){let n=t.vs.get(e)||Ge.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.vs.set(e,n)}class x9{constructor(){this.activeTargetIds=gZe()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bJe{constructor(){this.So=new x9,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,r,n){this.Do[e]=r}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new x9,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Je{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9="ConnectivityMonitor";class b9{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ce(w9,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ce(w9,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uy=null;function oN(){return Uy===null?Uy=function(){return 268435456+Math.round(2147483648*Math.random())}():Uy++,"0x"+Uy.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="RestConnection",SJe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EJe{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+e.host,this.ko=`projects/${n}/databases/${i}`,this.qo=this.databaseId.database===Fw?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Qo(e,r,n,i,a){const o=oN(),s=this.$o(e,r.toUriEncodedString());Ce(qE,`Sending RPC '${e}' ${o}:`,s,n);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,i,a);const{host:c}=new URL(s),u=tp(c);return this.Ko(e,s,l,n,u).then(f=>(Ce(qE,`Received RPC '${e}' ${o}: `,f),f),f=>{throw hh(qE,`RPC '${e}' ${o} failed with error: `,f,"url: ",s,"request:",n),f})}Wo(e,r,n,i,a,o){return this.Qo(e,r,n,i,a)}Uo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+np}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}$o(e,r){const n=SJe[e];return`${this.Lo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AJe{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="WebChannelConnection";class CJe extends EJe{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,r,n,i,a){const o=oN();return new Promise((s,l)=>{const c=new FZ;c.setWithCredentials(!0),c.listenOnce(BZ.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case w1.NO_ERROR:const f=c.getResponseJson();Ce(Dn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case w1.TIMEOUT:Ce(Dn,`RPC '${e}' ${o} timed out`),l(new Me(be.DEADLINE_EXCEEDED,"Request time out"));break;case w1.HTTP_ERROR:const h=c.getStatus();if(Ce(Dn,`RPC '${e}' ${o} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const g=function(y){const x=y.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(x)>=0?x:be.UNKNOWN}(m.status);l(new Me(g,m.message))}else l(new Me(be.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Me(be.UNAVAILABLE,"Connection failed."));break;default:Ke(9055,{s_:e,streamId:o,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{Ce(Dn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);Ce(Dn,`RPC '${e}' ${o} sending request:`,i),c.send(r,"POST",u,n,15)})}a_(e,r,n){const i=oN(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=zZ(),s=UZ(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=a.join("");Ce(Dn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=o.createWebChannel(u,l);let h=!1,p=!1;const m=new AJe({Go:v=>{p?Ce(Dn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(Ce(Dn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),Ce(Dn,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},zo:()=>f.close()}),g=(v,y,x)=>{v.listen(y,b=>{try{x(b)}catch(S){setTimeout(()=>{throw S},0)}})};return g(f,pm.EventType.OPEN,()=>{p||(Ce(Dn,`RPC '${e}' stream ${i} transport opened.`),m.t_())}),g(f,pm.EventType.CLOSE,()=>{p||(p=!0,Ce(Dn,`RPC '${e}' stream ${i} transport closed`),m.r_())}),g(f,pm.EventType.ERROR,v=>{p||(p=!0,hh(Dn,`RPC '${e}' stream ${i} transport errored. Name:`,v.name,"Message:",v.message),m.r_(new Me(be.UNAVAILABLE,"The operation could not be completed")))}),g(f,pm.EventType.MESSAGE,v=>{var y;if(!p){const x=v.data[0];sr(!!x,16349);const b=x,S=(b==null?void 0:b.error)||((y=b[0])===null||y===void 0?void 0:y.error);if(S){Ce(Dn,`RPC '${e}' stream ${i} received error:`,S);const E=S.status;let C=function(I){const N=Ar[I];if(N!==void 0)return mJ(N)}(E),A=S.message;C===void 0&&(C=be.INTERNAL,A="Unknown error status: "+E+" with message "+S.message),p=!0,m.r_(new Me(C,A)),f.close()}else Ce(Dn,`RPC '${e}' stream ${i} received:`,x),m.i_(x)}}),g(s,VZ.STAT_EVENT,v=>{v.stat===GI.PROXY?Ce(Dn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===GI.NOPROXY&&Ce(Dn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.n_()},0),m}}function KE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IJ(t){return new RZe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NJ{constructor(e,r,n=1e3,i=1.5,a=6e4){this.bi=e,this.timerId=r,this.u_=n,this.c_=i,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const r=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),i=Math.max(0,r-n);i>0&&Ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9="PersistentStream";class TJe{constructor(e,r,n,i,a,o,s,l){this.bi=e,this.R_=n,this.V_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new NJ(e,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():r&&r.code===be.RESOURCE_EXHAUSTED?(Us(r.toString()),Us("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.m_===r&&this.B_(n,i)},n=>{e(()=>{const i=new Me(be.UNKNOWN,"Fetching auth token failed: "+n.message);return this.L_(i)})})}B_(e,r){const n=this.N_(this.m_);this.stream=this.k_(e,r),this.stream.jo(()=>{n(()=>this.listener.jo())}),this.stream.Jo(()=>{n(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{n(()=>this.L_(i))}),this.stream.onMessage(i=>{n(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ce(_9,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return r=>{this.bi.enqueueAndForget(()=>this.m_===e?r():(Ce(_9,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IJe extends TJe{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}k_(e,r){return this.connection.a_("Listen",e,r)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const r=$Ze(this.serializer,e),n=function(a){if(!("targetChange"in a))return Ge.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Ge.min():o.readTime?mf(o.readTime):Ge.min()}(e);return this.listener.Q_(r,n)}U_(e){const r={};r.database=p9(this.serializer),r.addTarget=function(a,o){let s;const l=o.target;if(s=JI(l)?{documents:FZe(a,l)}:{query:BZe(a,l).gt},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=jZe(a,o.resumeToken);const c=nN(a,o.expectedCount);c!==null&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ge.min())>0){s.readTime=DZe(a,o.snapshotVersion.toTimestamp());const c=nN(a,o.expectedCount);c!==null&&(s.expectedCount=c)}return s}(this.serializer,e);const n=UZe(this.serializer,e);n&&(r.labels=n),this.F_(r)}K_(e){const r={};r.database=p9(this.serializer),r.removeTarget=e,this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NJe{}class PJe extends NJe{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new Me(be.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,r,n,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Qo(e,iN(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Me(be.UNKNOWN,a.toString())})}Wo(e,r,n,i,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,iN(r,n),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Me(be.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class OJe{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Us(r),this.ea=!1):Ce("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh="RemoteStore";class kJe{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(o=>{n.enqueueAndForget(async()=>{_0(this)&&(Ce(yh,"Restarting streams for network reachability change."),await async function(l){const c=pt(l);c.aa.add(4),await b0(c),c.la.set("Unknown"),c.aa.delete(4),await b_(c)}(this))})}),this.la=new OJe(n,i)}}async function b_(t){if(_0(t))for(const e of t.ua)await e(!0)}async function b0(t){for(const e of t.ua)await e(!1)}function PJ(t,e){const r=pt(t);r._a.has(e.targetId)||(r._a.set(e.targetId,e),Fk(r)?$k(r):ap(r).b_()&&Lk(r,e))}function Mk(t,e){const r=pt(t),n=ap(r);r._a.delete(e),n.b_()&&OJ(r,e),r._a.size===0&&(n.b_()?n.v_():_0(r)&&r.la.set("Unknown"))}function Lk(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}ap(t).U_(e)}function OJ(t,e){t.ha.Ke(e),ap(t).K_(e)}function $k(t){t.ha=new NZe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),ap(t).start(),t.la.ta()}function Fk(t){return _0(t)&&!ap(t).w_()&&t._a.size>0}function _0(t){return pt(t).aa.size===0}function kJ(t){t.ha=void 0}async function RJe(t){t.la.set("Online")}async function DJe(t){t._a.forEach((e,r)=>{Lk(t,e)})}async function jJe(t,e){kJ(t),Fk(t)?(t.la.ia(e),$k(t)):t.la.set("Unknown")}async function MJe(t,e,r){if(t.la.set("Online"),e instanceof vJ&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i._a.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i._a.delete(s),i.ha.removeTarget(s))}(t,e)}catch(n){Ce(yh,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await S9(t,n)}else if(e instanceof S1?t.ha.Xe(e):e instanceof gJ?t.ha.ot(e):t.ha.nt(e),!r.isEqual(Ge.min()))try{const n=await TJ(t.localStore);r.compareTo(n)>=0&&await function(a,o){const s=a.ha.It(o);return s.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a._a.get(c);u&&a._a.set(c,u.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,c)=>{const u=a._a.get(l);if(!u)return;a._a.set(l,u.withResumeToken(Tn.EMPTY_BYTE_STRING,u.snapshotVersion)),OJ(a,l);const f=new Nl(u.target,l,c,u.sequenceNumber);Lk(a,f)}),a.remoteSyncer.applyRemoteEvent(s)}(t,r)}catch(n){Ce(yh,"Failed to raise snapshot:",n),await S9(t,n)}}async function S9(t,e,r){if(!ip(e))throw e;t.aa.add(1),await b0(t),t.la.set("Offline"),r||(r=()=>TJ(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ce(yh,"Retrying IndexedDB access"),await r(),t.aa.delete(1),await b_(t)})}async function E9(t,e){const r=pt(t);r.asyncQueue.verifyOperationInProgress(),Ce(yh,"RemoteStore received new credentials");const n=_0(r);r.aa.add(3),await b0(r),n&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.aa.delete(3),await b_(r)}async function LJe(t,e){const r=pt(t);e?(r.aa.delete(2),await b_(r)):e||(r.aa.add(2),await b0(r),r.la.set("Unknown"))}function ap(t){return t.Pa||(t.Pa=function(r,n,i){const a=pt(r);return a.Y_(),new IJe(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{jo:RJe.bind(null,t),Jo:DJe.bind(null,t),Zo:jJe.bind(null,t),Q_:MJe.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),Fk(t)?$k(t):t.la.set("Unknown")):(await t.Pa.stop(),kJ(t))})),t.Pa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new ql,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,s=new Bk(e,r,o,i,a);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Me(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function RJ(t,e){if(Us("AsyncQueue",`${e}: ${t}`),ip(t))return new Me(be.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{static emptySet(e){return new gf(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Be.comparator(r.key,n.key):(r,n)=>Be.comparator(r.key,n.key),this.keyedMap=mm(),this.sortedSet=new Sr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof gf)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new gf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(){this.Ia=new Sr(Be.comparator)}track(e){const r=e.doc.key,n=this.Ia.get(r);n?e.type!==0&&n.type===3?this.Ia=this.Ia.insert(r,e):e.type===3&&n.type!==1?this.Ia=this.Ia.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Ia=this.Ia.remove(r):e.type===1&&n.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:e.doc}):Ke(63341,{Vt:e,Ea:n}):this.Ia=this.Ia.insert(r,e)}da(){const e=[];return this.Ia.inorderTraversal((r,n)=>{e.push(n)}),e}}class xh{constructor(e,r,n,i,a,o,s,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach(s=>{o.push({type:0,doc:s})}),new xh(e,r,gf.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&g_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Je{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class FJe{constructor(){this.queries=C9(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,n){const i=pt(r),a=i.queries;i.queries=C9(),a.forEach((o,s)=>{for(const l of s.Ra)l.onError(n)})})(this,new Me(be.ABORTED,"Firestore shutting down"))}}function C9(){return new od(t=>oJ(t),g_)}async function DJ(t,e){const r=pt(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.Va()&&e.ma()&&(n=2):(a=new $Je,n=e.ma()?0:1);try{switch(n){case 0:a.Aa=await r.onListen(i,!0);break;case 1:a.Aa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const s=RJ(o,`Initialization of query '${Ad(e.query)}' failed`);return void e.onError(s)}r.queries.set(i,a),a.Ra.push(e),e.ga(r.onlineState),a.Aa&&e.pa(a.Aa)&&Vk(r)}async function jJ(t,e){const r=pt(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.Ra.indexOf(e);o>=0&&(a.Ra.splice(o,1),a.Ra.length===0?i=e.ma()?0:1:!a.Va()&&e.ma()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function BJe(t,e){const r=pt(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const s of o.Ra)s.pa(i)&&(n=!0);o.Aa=i}}n&&Vk(r)}function VJe(t,e,r){const n=pt(t),i=n.queries.get(e);if(i)for(const a of i.Ra)a.onError(r);n.queries.delete(e)}function Vk(t){t.fa.forEach(e=>{e.next()})}var sN,T9;(T9=sN||(sN={})).ya="default",T9.Cache="cache";class MJ{constructor(e,r,n){this.query=e,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new xh(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ba?this.Da(e)&&(this.wa.next(e),r=!0):this.va(e,this.onlineState)&&(this.Ca(e),r=!0),this.Sa=e,r}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),r=!0),r}va(e,r){if(!e.fromCache||!this.ma())return!0;const n=r!=="Offline";return(!this.options.Fa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(e){e=xh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==sN.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LJ{constructor(e){this.key=e}}class $J{constructor(e){this.key=e}}class UJe{constructor(e,r){this.query=e,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=vt(),this.mutatedKeys=vt(),this.Ua=sJ(e),this.Ka=new gf(this.Ua)}get Wa(){return this.qa}Ga(e,r){const n=r?r.za:new A9,i=r?r.Ka:this.Ka;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const h=i.get(u),p=v_(this.query,f)?f:null,m=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?m!==g&&(n.track({type:3,doc:p}),v=!0):this.ja(h,p)||(n.track({type:2,doc:p}),v=!0,(l&&this.Ua(p,l)>0||c&&this.Ua(p,c)<0)&&(s=!0)):!h&&p?(n.track({type:0,doc:p}),v=!0):h&&!p&&(n.track({type:1,doc:h}),v=!0,(l||c)&&(s=!0)),v&&(p?(o=o.add(p),a=g?a.add(u):a.delete(u)):(o=o.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),a=a.delete(u.key),n.track({type:1,doc:u})}return{Ka:o,za:n,ys:s,mutatedKeys:a}}ja(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((u,f)=>function(p,m){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke(20277,{Vt:v})}};return g(p)-g(m)}(u.type,f.type)||this.Ua(u.doc,f.doc)),this.Ha(n),i=i!=null&&i;const s=r&&!i?this.Ja():[],l=this.$a.size===0&&this.current&&!i?1:0,c=l!==this.Qa;return this.Qa=l,o.length!==0||c?{snapshot:new xh(this.query,e.Ka,a,o,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:s}:{Ya:s}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new A9,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=vt(),this.Ka.forEach(n=>{this.Za(n.key)&&(this.$a=this.$a.add(n.key))});const r=[];return e.forEach(n=>{this.$a.has(n)||r.push(new $J(n))}),this.$a.forEach(n=>{e.has(n)||r.push(new LJ(n))}),r}Xa(e){this.qa=e.Ns,this.$a=vt();const r=this.Ga(e.documents);return this.applyChanges(r,!0)}eu(){return xh.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Uk="SyncEngine";class zJe{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class WJe{constructor(e){this.key=e,this.tu=!1}}class HJe{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new od(s=>oJ(s),g_),this.iu=new Map,this.su=new Set,this.ou=new Sr(Be.comparator),this._u=new Map,this.au=new kk,this.uu={},this.cu=new Map,this.lu=vh.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function GJe(t,e,r=!0){const n=zJ(t);let i;const a=n.ru.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.eu()):i=await FJ(n,e,r,!0),i}async function qJe(t,e){const r=zJ(t);await FJ(r,e,!0,!1)}async function FJ(t,e,r,n){const i=await xJe(t.localStore,Lo(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let s;return n&&(s=await KJe(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&PJ(t.remoteStore,i),s}async function KJe(t,e,r,n,i){t.Pu=(f,h,p)=>async function(g,v,y,x){let b=v.view.Ga(y);b.ys&&(b=await y9(g.localStore,v.query,!1).then(({documents:A})=>v.view.Ga(A,b)));const S=x&&x.targetChanges.get(v.targetId),E=x&&x.targetMismatches.get(v.targetId)!=null,C=v.view.applyChanges(b,g.isPrimaryClient,S,E);return N9(g,v.targetId,C.Ya),C.snapshot}(t,f,h,p);const a=await y9(t.localStore,e,!0),o=new UJe(e,a.Ns),s=o.Ga(a.documents),l=w0.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),c=o.applyChanges(s,t.isPrimaryClient,l);N9(t,r,c.Ya);const u=new zJe(e,r,o);return t.ru.set(e,u),t.iu.has(r)?t.iu.get(r).push(e):t.iu.set(r,[e]),c.snapshot}async function YJe(t,e,r){const n=pt(t),i=n.ru.get(e),a=n.iu.get(i.targetId);if(a.length>1)return n.iu.set(i.targetId,a.filter(o=>!g_(o,e))),void n.ru.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await aN(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&Mk(n.remoteStore,i.targetId),lN(n,i.targetId)}).catch(d_)):(lN(n,i.targetId),await aN(n.localStore,i.targetId,!0))}async function XJe(t,e){const r=pt(t),n=r.ru.get(e),i=r.iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Mk(r.remoteStore,n.targetId))}async function BJ(t,e){const r=pt(t);try{const n=await vJe(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r._u.get(a);o&&(sr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.tu=!0:i.modifiedDocuments.size>0?sr(o.tu,14607):i.removedDocuments.size>0&&(sr(o.tu,42227),o.tu=!1))}),await UJ(r,n,e)}catch(n){await d_(n)}}function I9(t,e,r){const n=pt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.ru.forEach((a,o)=>{const s=o.view.ga(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=pt(o);l.onlineState=s;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.Ra)h.ga(s)&&(c=!0)}),c&&Vk(l)}(n.eventManager,e),i.length&&n.nu.Q_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function QJe(t,e,r){const n=pt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n._u.get(e),a=i&&i.key;if(a){let o=new Sr(Be.comparator);o=o.insert(a,Un.newNoDocument(a,Ge.min()));const s=vt().add(a),l=new w_(Ge.min(),new Map,new Sr(et),o,s);await BJ(n,l),n.ou=n.ou.remove(a),n._u.delete(e),zk(n)}else await aN(n.localStore,e,!1).then(()=>lN(n,e,r)).catch(d_)}function lN(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.iu.get(e))t.ru.delete(n),r&&t.nu.Tu(n,r);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(n=>{t.au.containsKey(n)||VJ(t,n)})}function VJ(t,e){t.su.delete(e.path.canonicalString());const r=t.ou.get(e);r!==null&&(Mk(t.remoteStore,r),t.ou=t.ou.remove(e),t._u.delete(r),zk(t))}function N9(t,e,r){for(const n of r)n instanceof LJ?(t.au.addReference(n.key,e),ZJe(t,n)):n instanceof $J?(Ce(Uk,"Document no longer in limbo: "+n.key),t.au.removeReference(n.key,e),t.au.containsKey(n.key)||VJ(t,n.key)):Ke(19791,{Iu:n})}function ZJe(t,e){const r=e.key,n=r.path.canonicalString();t.ou.get(r)||t.su.has(n)||(Ce(Uk,"New document in limbo: "+r),t.su.add(n),zk(t))}function zk(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const r=new Be(Zt.fromString(e)),n=t.lu.next();t._u.set(n,new WJe(r)),t.ou=t.ou.insert(r,n),PJ(t.remoteStore,new Nl(Lo(Ik(r.path)),n,"TargetPurposeLimboResolution",f_.le))}}async function UJ(t,e,r){const n=pt(t),i=[],a=[],o=[];n.ru.isEmpty()||(n.ru.forEach((s,l)=>{o.push(n.Pu(l,e,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=Dk.Ps(l.targetId,c);a.push(f)}}))}),await Promise.all(o),n.nu.Q_(i),await async function(l,c){const u=pt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>le.forEach(c,h=>le.forEach(h.ls,p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>le.forEach(h.hs,p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!ip(f))throw f;Ce(jk,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.Ss.get(h),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);u.Ss=u.Ss.insert(h,g)}}}(n.localStore,a))}async function JJe(t,e){const r=pt(t);if(!r.currentUser.isEqual(e)){Ce(Uk,"User change. New user:",e.toKey());const n=await CJ(r.localStore,e);r.currentUser=e,function(a,o){a.cu.forEach(s=>{s.forEach(l=>{l.reject(new Me(be.CANCELLED,o))})}),a.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await UJ(r,n.Ms)}}function eet(t,e){const r=pt(t),n=r._u.get(e);if(n&&n.tu)return vt().add(n.key);{let i=vt();const a=r.iu.get(e);if(!a)return i;for(const o of a){const s=r.ru.get(o);i=i.unionWith(s.view.Wa)}return i}}function zJ(t){const e=pt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BJ.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eet.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QJe.bind(null,e),e.nu.Q_=BJe.bind(null,e.eventManager),e.nu.Tu=VJe.bind(null,e.eventManager),e}class Hw{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=IJ(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,r){return null}fu(e,r){return null}Vu(e){return gJe(this.persistence,new hJe,e.initialUser,this.serializer)}Ru(e){return new AJ(Rk.Ei,this.serializer)}Au(e){return new bJe}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hw.provider={build:()=>new Hw};class tet extends Hw{constructor(e){super(),this.cacheSizeBytes=e}mu(e,r){sr(this.persistence.referenceDelegate instanceof Ww,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new ZZe(n,e.asyncQueue,r)}Ru(e){const r=this.cacheSizeBytes!==void 0?wi.withCacheSize(this.cacheSizeBytes):wi.DEFAULT;return new AJ(n=>Ww.Ei(n,r),this.serializer)}}class cN{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>I9(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=JJe.bind(null,this.syncEngine),await LJe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new FJe}()}createDatastore(e){const r=IJ(e.databaseInfo.databaseId),n=function(a){return new CJe(a)}(e.databaseInfo);return function(a,o,s,l){return new PJe(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,o,s){return new kJe(n,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,r=>I9(this.syncEngine,r,0),function(){return b9.C()?new b9:new _Je}())}createSyncEngine(e,r){return function(i,a,o,s,l,c,u){const f=new HJe(i,a,o,s,l,c);return u&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=pt(i);Ce(yh,"RemoteStore shutting down."),a.aa.add(5),await b0(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}cN.provider={build:()=>new cN};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WJ{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Us("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc="FirestoreClient";class ret{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=$n.UNAUTHENTICATED,this.clientId=qZ.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{Ce(pc,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Ce(pc,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ql;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=RJ(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function YE(t,e){t.asyncQueue.verifyOperationInProgress(),Ce(pc,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await CJ(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function P9(t,e){t.asyncQueue.verifyOperationInProgress();const r=await net(t);Ce(pc,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>E9(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>E9(e.remoteStore,i)),t._onlineComponents=e}async function net(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ce(pc,"Using user provided OfflineComponentProvider");try{await YE(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===be.FAILED_PRECONDITION||i.code===be.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;hh("Error using user provided cache. Falling back to memory cache: "+r),await YE(t,new Hw)}}else Ce(pc,"Using default OfflineComponentProvider"),await YE(t,new tet(void 0));return t._offlineComponents}async function iet(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ce(pc,"Using user provided OnlineComponentProvider"),await P9(t,t._uninitializedComponentsProvider._online)):(Ce(pc,"Using default OnlineComponentProvider"),await P9(t,new cN))),t._onlineComponents}async function HJ(t){const e=await iet(t),r=e.eventManager;return r.onListen=GJe.bind(null,e.syncEngine),r.onUnlisten=YJe.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=qJe.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=XJe.bind(null,e.syncEngine),r}function aet(t,e,r={}){const n=new ql;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const u=new WJ({next:h=>{u.yu(),o.enqueueAndForget(()=>jJ(a,f));const p=h.docs.has(s);!p&&h.fromCache?c.reject(new Me(be.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new Me(be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new MJ(Ik(s.path),u,{includeMetadataChanges:!0,Fa:!0});return DJ(a,f)}(await HJ(t),t.asyncQueue,e,r,n)),n.promise}function oet(t,e,r={}){const n=new ql;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const u=new WJ({next:h=>{u.yu(),o.enqueueAndForget(()=>jJ(a,f)),h.fromCache&&l.source==="server"?c.reject(new Me(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new MJ(s,u,{includeMetadataChanges:!0,Fa:!0});return DJ(a,f)}(await HJ(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GJ(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qJ(t,e,r){if(!r)throw new Me(be.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function set(t,e,r,n){if(e===!0&&n===!0)throw new Me(be.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function k9(t){if(!Be.isDocumentKey(t))throw new Me(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function R9(t){if(Be.isDocumentKey(t))throw new Me(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cet(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ke(12329,{type:typeof t})}function Tv(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Me(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=cet(t);throw new Me(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KJ="firestore.googleapis.com",D9=!0;class j9{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Me(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KJ,this.ssl=D9}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:D9;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=EJ;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XZe)throw new Me(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}set("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GJ((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Me(be.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Me(be.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Me(be.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class __{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j9({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Me(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Me(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j9(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new AQe;switch(n.type){case"firstParty":return new NQe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Me(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,rp("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=O9.get(r);n&&(Ce("ComponentProvider","Removing Datastore"),O9.delete(r),n.terminate())}(this),Promise.resolve()}}function YJ(t,e,r,n={}){var i;t=Tv(t,__);const a=tp(e),o=t._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${r}`;o.host!==KJ&&o.host!==l&&hh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:a,emulatorOptions:n});if(!lc(c,s)&&(t._setSettings(c),a&&(xk(`https://${l}`),rp("Firestore",!0)),n.mockUserToken)){let u,f;if(typeof n.mockUserToken=="string")u=n.mockUserToken,f=$n.MOCK_USER;else{u=PZ(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Me(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new $n(h)}t._authCredentials=new CQe(new HZ(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new S_(this.firestore,e,this._query)}}class $o{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $o(this.firestore,e,this._key)}}class Kl extends S_{constructor(e,r,n){super(e,r,Ik(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $o(this.firestore,null,new Be(e))}withConverter(e){return new Kl(this.firestore,e,this._path)}}function M9(t,e,...r){if(t=na(t),qJ("collection","path",e),t instanceof __){const n=Zt.fromString(e,...r);return R9(n),new Kl(t,null,n)}{if(!(t instanceof $o||t instanceof Kl))throw new Me(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Zt.fromString(e,...r));return R9(n),new Kl(t.firestore,null,n)}}function XJ(t,e,...r){if(t=na(t),arguments.length===1&&(e=qZ.newId()),qJ("doc","path",e),t instanceof __){const n=Zt.fromString(e,...r);return k9(n),new $o(t,null,new Be(n))}{if(!(t instanceof $o||t instanceof Kl))throw new Me(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Zt.fromString(e,...r));return k9(n),new $o(t.firestore,t instanceof Kl?t.converter:null,new Be(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9="AsyncQueue";class $9{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new NJ(this,"async_queue_retry"),this.ju=()=>{const n=KE();n&&Ce(L9,"Visibility state changed to "+n.visibilityState),this.y_.A_()},this.Hu=e;const r=KE();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const r=KE();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new ql;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!ip(e))throw e;Ce(L9,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const r=this.Hu.then(()=>(this.Wu=!0,e().catch(n=>{throw this.Ku=n,this.Wu=!1,Us("INTERNAL UNHANDLED ERROR: ",F9(n)),n}).then(n=>(this.Wu=!1,n))));return this.Hu=r,r}enqueueAfterDelay(e,r,n){this.Ju(),this.zu.indexOf(e)>-1&&(r=0);const i=Bk.createAndSchedule(this,e,r,n,a=>this.Xu(a));return this.Uu.push(i),i}Ju(){this.Ku&&Ke(47125,{ec:F9(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const r of this.Uu)if(r.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const r=this.Uu.indexOf(e);this.Uu.splice(r,1)}}function F9(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Wk extends __{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new $9,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $9(e),this._firestoreClient=void 0,await e}}}function uet(t,e){const r=typeof t=="object"?t:y0(),n=typeof t=="string"?t:Fw,i=Ys(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=TZ("firestore");a&&YJ(i,...a)}return i}function QJ(t){if(t._terminated)throw new Me(be.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||det(t),t._firestoreClient}function det(t){var e,r,n;const i=t._freezeSettings(),a=function(s,l,c,u){return new HQe(s,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,GJ(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new ret(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gw(Tn.fromBase64String(e))}catch(r){throw new Me(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Gw(Tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZJ{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Me(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new li(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fet{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Me(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Me(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class het{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}const pet=new RegExp("[~\\*/\\[\\]]");function met(t,e,r){if(e.search(pet)>=0)throw B9(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new ZJ(...e.split("."))._internalPath}catch{throw B9(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function B9(t,e,r,n,i){let a=`Function ${e}() called with invalid data`;a+=". ";let o="";return new Me(be.INVALID_ARGUMENT,a+t+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JJ{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new $o(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new get(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(eee("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class get extends JJ{data(){return super.data()}}function eee(t,e){return typeof e=="string"?met(t,e):e instanceof ZJ?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vet(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Me(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yet{convertValue(e,r="none"){switch(fc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(dc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ke(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return x0(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r[YI].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>xr(o.doubleValue));return new het(a)}convertGeoPoint(e){return new fet(xr(e.latitude),xr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=p_(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Ev(e));default:return null}}convertTimestamp(e){const r=uc(e);return new Oi(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Zt.fromString(e);sr(SJ(n),9688,{name:e});const i=new Av(n.get(1),n.get(3)),a=new Be(n.popFirst(5));return i.isEqual(r)||Us(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tee extends JJ{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new E1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(eee("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class E1 extends tee{data(e={}){return super.data(e)}}class xet{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new vm(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new E1(this._firestore,this._userDataWriter,n.key,n,new vm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Me(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new E1(i._firestore,i._userDataWriter,s.doc.key,s.doc,new vm(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new E1(i._firestore,i._userDataWriter,s.doc.key,s.doc,new vm(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return s.type!==0&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),u=o.indexOf(s.doc.key)),{type:wet(s.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function wet(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ree(t){t=Tv(t,$o);const e=Tv(t.firestore,Wk);return aet(QJ(e),t._key).then(r=>bet(e,t,r))}class nee extends yet{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gw(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new $o(this.firestore,null,r)}}function V9(t){t=Tv(t,S_);const e=Tv(t.firestore,Wk),r=QJ(e),n=new nee(e);return vet(t._query),oet(r,t._query).then(i=>new xet(e,n,t,i))}function bet(t,e,r){const n=r.docs.get(e._key),i=new nee(t);return new tee(t,i,e._key,n,new vm(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){np=i})(ad),Ji(new Di("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),s=new Wk(new TQe(n.getProvider("auth-internal")),new PQe(o,n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Me(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Av(c.options.projectId,u)}(o,i),o);return a=Object.assign({useFetchStreams:r},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),Gn(U$,z$,e),Gn(U$,z$,"esm2017")})();function iee(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _et=iee,aee=new Nc("auth","Firebase",iee());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=new c_("@firebase/auth");function Eet(t,...e){qw.logLevel<=at.WARN&&qw.warn(`Auth (${ad}): ${t}`,...e)}function A1(t,...e){qw.logLevel<=at.ERROR&&qw.error(`Auth (${ad}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(t,...e){throw Hk(t,...e)}function Fo(t,...e){return Hk(t,...e)}function oee(t,e,r){const n=Object.assign(Object.assign({},_et()),{[e]:r});return new Nc("auth","Firebase",n).create(e,{appName:t.name})}function Yl(t){return oee(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hk(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return aee.create(t,...e)}function ze(t,e,...r){if(!t)throw Hk(e,...r)}function ms(t){const e="INTERNAL ASSERTION FAILED: "+t;throw A1(e),new Error(e)}function zs(t,e){t||ms(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Aet(){return U9()==="http:"||U9()==="https:"}function U9(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cet(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Aet()||OZ()||"connection"in navigator)?navigator.onLine:!0}function Tet(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,r){this.shortDelay=e,this.longDelay=r,zs(r>e,"Short delay should be less than long delay!"),this.isMobile=JYe()||rXe()}get(){return Cet()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(t,e){zs(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class see{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iet={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Net=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Pet=new S0(3e4,6e4);function sd(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Pc(t,e,r,n,i={}){return lee(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const s=v0(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},a);return tXe()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&tp(t.emulatorConfig.host)&&(c.credentials="include"),see.fetch()(await cee(t,t.config.apiHost,r,s),c)})}async function lee(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},Iet),e);try{const i=new ket(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw zy(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,c]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw zy(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw zy(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw zy(t,"user-disabled",o);const u=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw oee(t,u,c);lo(t,u)}}catch(i){if(i instanceof ka)throw i;lo(t,"network-request-failed",{message:String(i)})}}async function E_(t,e,r,n,i={}){const a=await Pc(t,e,r,n,i);return"mfaPendingCredential"in a&&lo(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function cee(t,e,r,n){const i=`${e}${r}?${n}`,a=t,o=a.config.emulator?Gk(t.config,i):`${t.config.apiScheme}://${i}`;return Net.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function Oet(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ket{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Fo(this.auth,"network-request-failed")),Pet.get())})}}function zy(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Fo(t,e,n);return i.customData._tokenResponse=r,i}function z9(t){return t!==void 0&&t.enterprise!==void 0}class Ret{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return Oet(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Det(t,e){return Pc(t,"GET","/v2/recaptchaConfig",sd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jet(t,e){return Pc(t,"POST","/v1/accounts:delete",e)}async function Kw(t,e){return Pc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Met(t,e=!1){const r=na(t),n=await r.getIdToken(e),i=qk(n);ze(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Hm(XE(i.auth_time)),issuedAtTime:Hm(XE(i.iat)),expirationTime:Hm(XE(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function XE(t){return Number(t)*1e3}function qk(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return A1("JWT malformed, contained fewer than 3 sections"),null;try{const i=AZ(r);return i?JSON.parse(i):(A1("Failed to decode base64 JWT payload"),null)}catch(i){return A1("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function W9(t){const e=qk(t);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iv(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof ka&&Let(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Let({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $et{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hm(this.lastLoginAt),this.creationTime=Hm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yw(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Iv(t,Kw(r,{idToken:n}));ze(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?uee(a.providerUserInfo):[],s=Bet(t.providerData,o),l=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),u=l?c:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new dN(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function Fet(t){const e=na(t);await Yw(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Bet(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function uee(t){return t.map(e=>{var{providerId:r}=e,n=Gv(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vet(t,e){const r=await lee(t,{},async()=>{const n=v0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await cee(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",see.fetch()(o,{method:"POST",headers:s,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function Uet(t,e){return Pc(t,"POST","/v2/accounts:revokeToken",sd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W9(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const r=W9(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await Vet(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new vf;return n&&(ze(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(ze(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(ze(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vf,this.toJSON())}_performRefresh(){return ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(t,e){ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ya{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=Gv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $et(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new dN(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await Iv(this,this.stsTokenManager.getToken(this.auth,e));return ze(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Met(this,e)}reload(){return Fet(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Ya(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Yw(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pa(this.auth.app))return Promise.reject(Yl(this.auth));const e=await this.getIdToken();return await Iv(this,jet(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,o,s,l,c,u;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,h=(i=r.email)!==null&&i!==void 0?i:void 0,p=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,m=(o=r.photoURL)!==null&&o!==void 0?o:void 0,g=(s=r.tenantId)!==null&&s!==void 0?s:void 0,v=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=r.createdAt)!==null&&c!==void 0?c:void 0,x=(u=r.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:b,emailVerified:S,isAnonymous:E,providerData:C,stsTokenManager:A}=r;ze(b&&A,e,"internal-error");const T=vf.fromJSON(this.name,A);ze(typeof b=="string",e,"internal-error"),sl(f,e.name),sl(h,e.name),ze(typeof S=="boolean",e,"internal-error"),ze(typeof E=="boolean",e,"internal-error"),sl(p,e.name),sl(m,e.name),sl(g,e.name),sl(v,e.name),sl(y,e.name),sl(x,e.name);const I=new Ya({uid:b,auth:e,email:h,emailVerified:S,displayName:f,isAnonymous:E,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:T,createdAt:y,lastLoginAt:x});return C&&Array.isArray(C)&&(I.providerData=C.map(N=>Object.assign({},N))),v&&(I._redirectEventId=v),I}static async _fromIdTokenResponse(e,r,n=!1){const i=new vf;i.updateFromServerResponse(r);const a=new Ya({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Yw(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];ze(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?uee(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new vf;s.updateFromIdToken(n);const l=new Ya({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new dN(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=new Map;function gs(t){zs(t instanceof Function,"Expected a class definition");let e=H9.get(t);return e?(zs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,H9.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dee{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}dee.type="NONE";const G9=dee;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(t,e,r){return`firebase:${t}:${e}:${r}`}class yf{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=C1(this.userKey,i.apiKey,a),this.fullPersistenceKey=C1("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Kw(this.auth,{idToken:e}).catch(()=>{});return r?Ya._fromGetAccountInfoResponse(this.auth,r,e):null}return Ya._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new yf(gs(G9),e,n);const i=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||gs(G9);const o=C1(n,e.config.apiKey,e.name);let s=null;for(const c of r)try{const u=await c._get(o);if(u){let f;if(typeof u=="string"){const h=await Kw(e,{idToken:u}).catch(()=>{});if(!h)break;f=await Ya._fromGetAccountInfoResponse(e,h,u)}else f=Ya._fromJSON(e,u);c!==a&&(s=f),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new yf(a,e,n):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(r.map(async c=>{if(c!==a)try{await c._remove(o)}catch{}})),new yf(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q9(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mee(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fee(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vee(e))return"Blackberry";if(yee(e))return"Webos";if(hee(e))return"Safari";if((e.includes("chrome/")||pee(e))&&!e.includes("edge/"))return"Chrome";if(gee(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function fee(t=Kn()){return/firefox\//i.test(t)}function hee(t=Kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pee(t=Kn()){return/crios\//i.test(t)}function mee(t=Kn()){return/iemobile/i.test(t)}function gee(t=Kn()){return/android/i.test(t)}function vee(t=Kn()){return/blackberry/i.test(t)}function yee(t=Kn()){return/webos/i.test(t)}function Kk(t=Kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zet(t=Kn()){var e;return Kk(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Wet(){return nXe()&&document.documentMode===10}function xee(t=Kn()){return Kk(t)||gee(t)||yee(t)||vee(t)||/windows phone/i.test(t)||mee(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wee(t,e=[]){let r;switch(t){case"Browser":r=q9(Kn());break;case"Worker":r=`${q9(Kn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${ad}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Het{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Get(t,e={}){return Pc(t,"GET","/v2/passwordPolicy",sd(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qet=6;class Ket{constructor(e){var r,n,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:qet,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yet{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K9(this),this.idTokenSubscription=new K9(this),this.beforeStateQueue=new Het(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aee,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=gs(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await yf.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Kw(this,{idToken:e}),n=await Ya._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(pa(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Yw(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Tet()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pa(this.app))return Promise.reject(Yl(this));const r=e?na(e):null;return r&&ze(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pa(this.app)?Promise.reject(Yl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pa(this.app)?Promise.reject(Yl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Get(this),r=new Ket(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nc("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await Uet(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&gs(e)||this._popupRedirectResolver;ze(r,this,"argument-error"),this.redirectPersistenceManager=await yf.create(this,[gs(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{o=!0,l()}}else{const l=e.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wee(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;if(pa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&Eet(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function op(t){return na(t)}class K9{constructor(e){this.auth=e,this.observer=null,this.addObserver=cXe(r=>this.observer=r)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Xet(t){A_=t}function bee(t){return A_.loadJS(t)}function Qet(){return A_.recaptchaEnterpriseScript}function Zet(){return A_.gapiScript}function Jet(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class ett{constructor(){this.enterprise=new ttt}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class ttt{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const rtt="recaptcha-enterprise",_ee="NO_RECAPTCHA";class ntt{constructor(e){this.type=rtt,this.auth=op(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{Det(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const c=new Ret(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,o(c.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;z9(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{o(c)}).catch(()=>{o(_ee)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ett().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(s=>{if(!r&&z9(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Qet();l.length!==0&&(l+=s),bee(l).then(()=>{i(s,a,o)}).catch(c=>{o(c)})}}).catch(s=>{o(s)})})}}async function Y9(t,e,r,n=!1,i=!1){const a=new ntt(t);let o;if(i)o=_ee;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const s=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const l=s.phoneEnrollmentInfo.phoneNumber,c=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const l=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return n?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function X9(t,e,r,n,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Y9(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await Y9(t,e,r,r==="getOobCode");return n(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function itt(t,e){const r=Ys(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(lc(a,e??{}))return i;lo(i,"already-initialized")}return r.initialize({options:e})}function att(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(gs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function See(t,e,r){const n=op(t);ze(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!!(r!=null&&r.disableWarnings),a=Eee(e),{host:o,port:s}=ott(e),l=s===null?"":`:${s}`,c={url:`${a}//${o}${l}/`},u=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){ze(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ze(lc(c,n.config.emulator)&&lc(u,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=c,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,tp(o)?(rp("Auth",!0),xk(`${a}//${o}${l}`)):i||stt()}function Eee(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ott(t){const e=Eee(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:Q9(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:Q9(o)}}}function Q9(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function stt(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,r){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}async function ltt(t,e){return Pc(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ctt(t,e){return E_(t,"POST","/v1/accounts:signInWithPassword",sd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function utt(t,e){return E_(t,"POST","/v1/accounts:signInWithEmailLink",sd(t,e))}async function dtt(t,e){return E_(t,"POST","/v1/accounts:signInWithEmailLink",sd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv extends Yk{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Nv(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Nv(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return X9(e,r,"signInWithPassword",ctt);case"emailLink":return utt(e,{email:this._email,oobCode:this._password});default:lo(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return X9(e,n,"signUpPassword",ltt);case"emailLink":return dtt(e,{idToken:r,email:this._email,oobCode:this._password});default:lo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xf(t,e){return E_(t,"POST","/v1/accounts:signInWithIdp",sd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ftt="http://localhost";class zu extends Yk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new zu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):lo("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=Gv(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new zu(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return xf(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,xf(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,xf(e,r)}buildRequest(){const e={requestUri:ftt,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=v0(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function htt(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ptt(t){const e=fm(hm(t)).link,r=e?fm(hm(e)).deep_link_id:null,n=fm(hm(t)).deep_link_id;return(n?fm(hm(n)).link:null)||n||r||e||t}class Xk{constructor(e){var r,n,i,a,o,s;const l=fm(hm(e)),c=(r=l.apiKey)!==null&&r!==void 0?r:null,u=(n=l.oobCode)!==null&&n!==void 0?n:null,f=htt((i=l.mode)!==null&&i!==void 0?i:null);ze(c&&u&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=u,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const r=ptt(e);try{return new Xk(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(){this.providerId=sp.PROVIDER_ID}static credential(e,r){return Nv._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=Xk.parseLink(r);return ze(n,"argument-error"),Nv._fromEmailAndCode(e,n.code,n.tenantId)}}sp.PROVIDER_ID="password";sp.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aee{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0 extends Aee{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends E0{constructor(){super("facebook.com")}static credential(e){return zu._fromParams({providerId:xl.PROVIDER_ID,signInMethod:xl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xl.credentialFromTaggedObject(e)}static credentialFromError(e){return xl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xl.credential(e.oauthAccessToken)}catch{return null}}}xl.FACEBOOK_SIGN_IN_METHOD="facebook.com";xl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends E0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return zu._fromParams({providerId:wl.PROVIDER_ID,signInMethod:wl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return wl.credentialFromTaggedObject(e)}static credentialFromError(e){return wl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return wl.credential(r,n)}catch{return null}}}wl.GOOGLE_SIGN_IN_METHOD="google.com";wl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends E0{constructor(){super("github.com")}static credential(e){return zu._fromParams({providerId:bl.PROVIDER_ID,signInMethod:bl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bl.credentialFromTaggedObject(e)}static credentialFromError(e){return bl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bl.credential(e.oauthAccessToken)}catch{return null}}}bl.GITHUB_SIGN_IN_METHOD="github.com";bl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends E0{constructor(){super("twitter.com")}static credential(e,r){return zu._fromParams({providerId:_l.PROVIDER_ID,signInMethod:_l.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return _l.credentialFromTaggedObject(e)}static credentialFromError(e){return _l.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return _l.credential(r,n)}catch{return null}}}_l.TWITTER_SIGN_IN_METHOD="twitter.com";_l.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await Ya._fromIdTokenResponse(e,n,i),o=Z9(n);return new wh({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=Z9(n);return new wh({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function Z9(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw extends ka{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Xw.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Xw(e,r,n,i)}}function Cee(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Xw._fromErrorAndOperation(t,a,e,n):a})}async function mtt(t,e,r=!1){const n=await Iv(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return wh._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gtt(t,e,r=!1){const{auth:n}=t;if(pa(n.app))return Promise.reject(Yl(n));const i="reauthenticate";try{const a=await Iv(t,Cee(n,i,e,t),r);ze(a.idToken,n,"internal-error");const o=qk(a.idToken);ze(o,n,"internal-error");const{sub:s}=o;return ze(t.uid===s,n,"user-mismatch"),wh._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&lo(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tee(t,e,r=!1){if(pa(t.app))return Promise.reject(Yl(t));const n="signIn",i=await Cee(t,n,e),a=await wh._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function vtt(t,e){return Tee(op(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ytt(t){const e=op(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function xtt(t,e,r){return pa(t.app)?Promise.reject(Yl(t)):vtt(na(t),sp.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&ytt(t),n})}function wtt(t,e,r,n){return na(t).onIdTokenChanged(e,r,n)}function btt(t,e,r){return na(t).beforeAuthStateChanged(e,r)}const Qw="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iee{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Qw,"1"),this.storage.removeItem(Qw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _tt=1e3,Stt=10;class Nee extends Iee{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xee(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);Wet()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Stt):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},_tt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}Nee.type="LOCAL";const Ett=Nee;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pee extends Iee{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}Pee.type="SESSION";const Oee=Pee;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Att(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new C_(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map(async c=>c(r.origin,a)),l=await Att(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}C_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ctt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const c=Qk("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(h.data.response);break;default:clearTimeout(u),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(){return window}function Ttt(t){Bo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kee(){return typeof Bo().WorkerGlobalScope<"u"&&typeof Bo().importScripts=="function"}async function Itt(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ntt(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Ptt(){return kee()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ree="firebaseLocalStorageDb",Ott=1,Zw="firebaseLocalStorage",Dee="fbase_key";class A0{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function T_(t,e){return t.transaction([Zw],e?"readwrite":"readonly").objectStore(Zw)}function ktt(){const t=indexedDB.deleteDatabase(Ree);return new A0(t).toPromise()}function fN(){const t=indexedDB.open(Ree,Ott);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Zw,{keyPath:Dee})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Zw)?e(n):(n.close(),await ktt(),e(await fN()))})})}async function J9(t,e,r){const n=T_(t,!0).put({[Dee]:e,value:r});return new A0(n).toPromise()}async function Rtt(t,e){const r=T_(t,!1).get(e),n=await new A0(r).toPromise();return n===void 0?null:n.value}function eF(t,e){const r=T_(t,!0).delete(e);return new A0(r).toPromise()}const Dtt=800,jtt=3;class jee{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fN(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>jtt)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kee()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=C_._getInstance(Ptt()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await Itt(),!this.activeServiceWorker)return;this.sender=new Ctt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ntt()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fN();return await J9(e,Qw,"1"),await eF(e,Qw),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>J9(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Rtt(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>eF(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=T_(i,!1).getAll();return new A0(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Dtt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jee.type="LOCAL";const Mtt=jee;new S0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ltt(t,e){return e?gs(e):(ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk extends Yk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xf(e,this._buildIdpRequest())}_linkToIdToken(e,r){return xf(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return xf(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function $tt(t){return Tee(t.auth,new Zk(t),t.bypassAuthState)}function Ftt(t){const{auth:e,user:r}=t;return ze(r,e,"internal-error"),gtt(r,new Zk(t),t.bypassAuthState)}async function Btt(t){const{auth:e,user:r}=t;return ze(r,e,"internal-error"),mtt(r,new Zk(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mee{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $tt;case"linkViaPopup":case"linkViaRedirect":return Btt;case"reauthViaPopup":case"reauthViaRedirect":return Ftt;default:lo(this.auth,"internal-error")}}resolve(e){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vtt=new S0(2e3,1e4);class Xd extends Mee{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Xd.currentPopupAction&&Xd.currentPopupAction.cancel(),Xd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){zs(this.filter.length===1,"Popup operations only handle one event");const e=Qk();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Fo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Vtt.get())};e()}}Xd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Utt="pendingRedirect",T1=new Map;class ztt extends Mee{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=T1.get(this.auth._key());if(!e){try{const n=await Wtt(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}T1.set(this.auth._key(),e)}return this.bypassAuthState||T1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Wtt(t,e){const r=qtt(e),n=Gtt(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function Htt(t,e){T1.set(t._key(),e)}function Gtt(t){return gs(t._redirectPersistence)}function qtt(t){return C1(Utt,t.config.apiKey,t.name)}async function Ktt(t,e,r=!1){if(pa(t.app))return Promise.reject(Yl(t));const n=op(t),i=Ltt(n,e),o=await new ztt(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ytt=10*60*1e3;class Xtt{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Qtt(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!Lee(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Fo(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ytt&&this.cachedEventUids.clear(),this.cachedEventUids.has(tF(e))}saveEventToCache(e){this.cachedEventUids.add(tF(e)),this.lastProcessedEventTime=Date.now()}}function tF(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Lee({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Qtt(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lee(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ztt(t,e={}){return Pc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jtt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ert=/^https?/;async function trt(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Ztt(t);for(const r of e)try{if(rrt(r))return}catch{}lo(t,"unauthorized-domain")}function rrt(t){const e=uN(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!ert.test(r))return!1;if(Jtt.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nrt=new S0(3e4,6e4);function rF(){const t=Bo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function irt(t){return new Promise((e,r)=>{var n,i,a;function o(){rF(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rF(),r(Fo(t,"network-request-failed"))},timeout:nrt.get()})}if(!((i=(n=Bo().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Bo().gapi)===null||a===void 0)&&a.load)o();else{const s=Jet("iframefcb");return Bo()[s]=()=>{gapi.load?o():r(Fo(t,"network-request-failed"))},bee(`${Zet()}?onload=${s}`).catch(l=>r(l))}}).catch(e=>{throw I1=null,e})}let I1=null;function art(t){return I1=I1||irt(t),I1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ort=new S0(5e3,15e3),srt="__/auth/iframe",lrt="emulator/auth/iframe",crt={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},urt=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function drt(t){const e=t.config;ze(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Gk(e,lrt):`https://${t.config.authDomain}/${srt}`,n={apiKey:e.apiKey,appName:t.name,v:ad},i=urt.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${v0(n).slice(1)}`}async function frt(t){const e=await art(t),r=Bo().gapi;return ze(r,t,"internal-error"),e.open({where:document.body,url:drt(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:crt,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=Fo(t,"network-request-failed"),s=Bo().setTimeout(()=>{a(o)},ort.get());function l(){Bo().clearTimeout(s),i(n)}n.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hrt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},prt=500,mrt=600,grt="_blank",vrt="http://localhost";class nF{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yrt(t,e,r,n=prt,i=mrt){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l=Object.assign(Object.assign({},hrt),{width:n.toString(),height:i.toString(),top:a,left:o}),c=Kn().toLowerCase();r&&(s=pee(c)?grt:r),fee(c)&&(e=e||vrt,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(zet(c)&&s!=="_self")return xrt(e||"",s),new nF(null);const f=window.open(e||"",s,u);ze(f,t,"popup-blocked");try{f.focus()}catch{}return new nF(f)}function xrt(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wrt="__/auth/handler",brt="emulator/auth/handler",_rt=encodeURIComponent("fac");async function iF(t,e,r,n,i,a){ze(t.config.authDomain,t,"auth-domain-config-required"),ze(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:ad,eventId:i};if(e instanceof Aee){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",lXe(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))o[u]=f}if(e instanceof E0){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const u of Object.keys(s))s[u]===void 0&&delete s[u];const l=await t._getAppCheckToken(),c=l?`#${_rt}=${encodeURIComponent(l)}`:"";return`${Srt(t)}?${v0(s).slice(1)}${c}`}function Srt({config:t}){return t.emulator?Gk(t,brt):`https://${t.authDomain}/${wrt}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="webStorageSupport";class Ert{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Oee,this._completeRedirectFn=Ktt,this._overrideRedirectResult=Htt}async _openPopup(e,r,n,i){var a;zs((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await iF(e,r,n,uN(),i);return yrt(e,o,Qk())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await iF(e,r,n,uN(),i);return Ttt(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(zs(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await frt(e),n=new Xtt(e);return r.register("authEvent",i=>(ze(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(QE,{type:QE},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[QE];o!==void 0&&r(!!o),lo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=trt(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return xee()||hee()||Kk()}}const Art=Ert;var aF="@firebase/auth",oF="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Crt{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Trt(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Irt(t){Ji(new Di("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;ze(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wee(t)},c=new Yet(n,i,a,l);return att(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Ji(new Di("auth-internal",e=>{const r=op(e.getProvider("auth").getImmediate());return(n=>new Crt(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gn(aF,oF,Trt(t)),Gn(aF,oF,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nrt=5*60,Prt=NZ("authIdTokenMaxAge")||Nrt;let sF=null;const Ort=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Prt)return;const i=r==null?void 0:r.token;sF!==i&&(sF=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function krt(t=y0()){const e=Ys(t,"auth");if(e.isInitialized())return e.getImmediate();const r=itt(t,{popupRedirectResolver:Art,persistence:[Mtt,Ett,Oee]}),n=NZ("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=Ort(a.toString());btt(r,o,()=>o(r.currentUser)),wtt(r,s=>o(s))}}const i=CZ("auth");return i?See(r,`http://${i}`):rp("Auth",!1),r}function Rrt(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Xet({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Fo("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",Rrt().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Irt("Browser");const $ee="@firebase/installations",Jk="0.6.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fee=1e4,Bee=`w:${Jk}`,Vee="FIS_v2",Drt="https://firebaseinstallations.googleapis.com/v1",jrt=60*60*1e3,Mrt="installations",Lrt="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $rt={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Wu=new Nc(Mrt,Lrt,$rt);function Uee(t){return t instanceof ka&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zee({projectId:t}){return`${Drt}/projects/${t}/installations`}function Wee(t){return{token:t.token,requestStatus:2,expiresIn:Brt(t.expiresIn),creationTime:Date.now()}}async function Hee(t,e){const n=(await e.json()).error;return Wu.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Gee({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Frt(t,{refreshToken:e}){const r=Gee(t);return r.append("Authorization",Vrt(e)),r}async function qee(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Brt(t){return Number(t.replace("s","000"))}function Vrt(t){return`${Vee} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Urt({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=zee(t),i=Gee(t),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:r,authVersion:Vee,appId:t.appId,sdkVersion:Bee},s={method:"POST",headers:i,body:JSON.stringify(o)},l=await qee(()=>fetch(n,s));if(l.ok){const c=await l.json();return{fid:c.fid||r,registrationStatus:2,refreshToken:c.refreshToken,authToken:Wee(c.authToken)}}else throw await Hee("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kee(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zrt(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wrt=/^[cdef][\w-]{21}$/,hN="";function Hrt(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=Grt(t);return Wrt.test(r)?r:hN}catch{return hN}}function Grt(t){return zrt(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yee=new Map;function Xee(t,e){const r=I_(t);Qee(r,e),qrt(r,e)}function Qee(t,e){const r=Yee.get(t);if(r)for(const n of r)n(e)}function qrt(t,e){const r=Krt();r&&r.postMessage({key:t,fid:e}),Yrt()}let cu=null;function Krt(){return!cu&&"BroadcastChannel"in self&&(cu=new BroadcastChannel("[Firebase] FID Change"),cu.onmessage=t=>{Qee(t.data.key,t.data.fid)}),cu}function Yrt(){Yee.size===0&&cu&&(cu.close(),cu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xrt="firebase-installations-database",Qrt=1,Hu="firebase-installations-store";let ZE=null;function eR(){return ZE||(ZE=u_(Xrt,Qrt,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Hu)}}})),ZE}async function Jw(t,e){const r=I_(t),i=(await eR()).transaction(Hu,"readwrite"),a=i.objectStore(Hu),o=await a.get(r);return await a.put(e,r),await i.done,(!o||o.fid!==e.fid)&&Xee(t,e.fid),e}async function Zee(t){const e=I_(t),n=(await eR()).transaction(Hu,"readwrite");await n.objectStore(Hu).delete(e),await n.done}async function N_(t,e){const r=I_(t),i=(await eR()).transaction(Hu,"readwrite"),a=i.objectStore(Hu),o=await a.get(r),s=e(o);return s===void 0?await a.delete(r):await a.put(s,r),await i.done,s&&(!o||o.fid!==s.fid)&&Xee(t,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(t){let e;const r=await N_(t.appConfig,n=>{const i=Zrt(n),a=Jrt(t,i);return e=a.registrationPromise,a.installationEntry});return r.fid===hN?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function Zrt(t){const e=t||{fid:Hrt(),registrationStatus:0};return Jee(e)}function Jrt(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Wu.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=ent(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:tnt(t)}:{installationEntry:e}}async function ent(t,e){try{const r=await Urt(t,e);return Jw(t.appConfig,r)}catch(r){throw Uee(r)&&r.customData.serverCode===409?await Zee(t.appConfig):await Jw(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function tnt(t){let e=await lF(t.appConfig);for(;e.registrationStatus===1;)await Kee(100),e=await lF(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await tR(t);return n||r}return e}function lF(t){return N_(t,e=>{if(!e)throw Wu.create("installation-not-found");return Jee(e)})}function Jee(t){return rnt(t)?{fid:t.fid,registrationStatus:0}:t}function rnt(t){return t.registrationStatus===1&&t.registrationTime+Fee<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nnt({appConfig:t,heartbeatServiceProvider:e},r){const n=int(t,r),i=Frt(t,r),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:Bee,appId:t.appId}},s={method:"POST",headers:i,body:JSON.stringify(o)},l=await qee(()=>fetch(n,s));if(l.ok){const c=await l.json();return Wee(c)}else throw await Hee("Generate Auth Token",l)}function int(t,{fid:e}){return`${zee(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(t,e=!1){let r;const n=await N_(t.appConfig,a=>{if(!ete(a))throw Wu.create("not-registered");const o=a.authToken;if(!e&&snt(o))return a;if(o.requestStatus===1)return r=ant(t,e),a;{if(!navigator.onLine)throw Wu.create("app-offline");const s=cnt(a);return r=ont(t,s),s}});return r?await r:n.authToken}async function ant(t,e){let r=await cF(t.appConfig);for(;r.authToken.requestStatus===1;)await Kee(100),r=await cF(t.appConfig);const n=r.authToken;return n.requestStatus===0?rR(t,e):n}function cF(t){return N_(t,e=>{if(!ete(e))throw Wu.create("not-registered");const r=e.authToken;return unt(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function ont(t,e){try{const r=await nnt(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await Jw(t.appConfig,n),r}catch(r){if(Uee(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await Zee(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Jw(t.appConfig,n)}throw r}}function ete(t){return t!==void 0&&t.registrationStatus===2}function snt(t){return t.requestStatus===2&&!lnt(t)}function lnt(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+jrt}function cnt(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function unt(t){return t.requestStatus===1&&t.requestTime+Fee<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dnt(t){const e=t,{installationEntry:r,registrationPromise:n}=await tR(e);return n?n.catch(console.error):rR(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fnt(t,e=!1){const r=t;return await hnt(r),(await rR(r,e)).token}async function hnt(t){const{registrationPromise:e}=await tR(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pnt(t){if(!t||!t.options)throw JE("App Configuration");if(!t.name)throw JE("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw JE(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function JE(t){return Wu.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tte="installations",mnt="installations-internal",gnt=t=>{const e=t.getProvider("app").getImmediate(),r=pnt(e),n=Ys(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},vnt=t=>{const e=t.getProvider("app").getImmediate(),r=Ys(e,tte).getImmediate();return{getId:()=>dnt(r),getToken:i=>fnt(r,i)}};function ynt(){Ji(new Di(tte,gnt,"PUBLIC")),Ji(new Di(mnt,vnt,"PRIVATE"))}ynt();Gn($ee,Jk);Gn($ee,Jk,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="analytics",xnt="firebase_id",wnt="origin",bnt=60*1e3,_nt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",nR="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new c_("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Snt={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ki=new Nc("analytics","Analytics",Snt);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ent(t){if(!t.startsWith(nR)){const e=Ki.create("invalid-gtag-resource",{gtagURL:t});return ki.warn(e.message),""}return t}function rte(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function Ant(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function Cnt(t,e){const r=Ant("firebase-js-sdk-policy",{createScriptURL:Ent}),n=document.createElement("script"),i=`${nR}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function Tnt(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Int(t,e,r,n,i,a){const o=n[i];try{if(o)await e[o];else{const l=(await rte(r)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(s){ki.error(s)}t("config",i,a)}async function Nnt(t,e,r,n,i){try{let a=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const s=await rte(r);for(const l of o){const c=s.find(f=>f.measurementId===l),u=c&&e[c.appId];if(u)a.push(u);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",n,i||{})}catch(a){ki.error(a)}}function Pnt(t,e,r,n){async function i(a,...o){try{if(a==="event"){const[s,l]=o;await Nnt(t,e,r,s,l)}else if(a==="config"){const[s,l]=o;await Int(t,e,r,n,s,l)}else if(a==="consent"){const[s,l]=o;t("consent",s,l)}else if(a==="get"){const[s,l,c]=o;t("get",s,l,c)}else if(a==="set"){const[s]=o;t("set",s)}else t(a,...o)}catch(s){ki.error(s)}}return i}function Ont(t,e,r,n,i){let a=function(...o){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=Pnt(a,t,e,r),{gtagCore:a,wrappedGtag:window[i]}}function knt(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(nR)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rnt=30,Dnt=1e3;class jnt{constructor(e={},r=Dnt){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const nte=new jnt;function Mnt(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Lnt(t){var e;const{appId:r,apiKey:n}=t,i={method:"GET",headers:Mnt(n)},a=_nt.replace("{app-id}",r),o=await fetch(a,i);if(o.status!==200&&o.status!==304){let s="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(s=l.error.message)}catch{}throw Ki.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s})}return o.json()}async function $nt(t,e=nte,r){const{appId:n,apiKey:i,measurementId:a}=t.options;if(!n)throw Ki.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:n};throw Ki.create("no-api-key")}const o=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new Vnt;return setTimeout(async()=>{s.abort()},bnt),ite({appId:n,apiKey:i,measurementId:a},o,s,e)}async function ite(t,{throttleEndTimeMillis:e,backoffCount:r},n,i=nte){var a;const{appId:o,measurementId:s}=t;try{await Fnt(n,e)}catch(l){if(s)return ki.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:s};throw l}try{const l=await Lnt(t);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!Bnt(c)){if(i.deleteThrottleMetadata(o),s)return ki.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:s};throw l}const u=Number((a=c==null?void 0:c.customData)===null||a===void 0?void 0:a.httpStatus)===503?k$(r,i.intervalMillis,Rnt):k$(r,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:r+1};return i.setThrottleMetadata(o,f),ki.debug(`Calling attemptFetch again in ${u} millis`),ite(t,f,n,i)}}function Fnt(t,e){return new Promise((r,n)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(r,i);t.addEventListener(()=>{clearTimeout(a),n(Ki.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Bnt(t){if(!(t instanceof ka)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Vnt{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Unt(t,e,r,n,i){if(i&&i.global){t("event",r,n);return}else{const a=await e,o=Object.assign(Object.assign({},n),{send_to:a});t("event",r,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function znt(){if(wk())try{await bk()}catch(t){return ki.warn(Ki.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return ki.warn(Ki.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Wnt(t,e,r,n,i,a,o){var s;const l=$nt(t);l.then(p=>{r[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&ki.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>ki.error(p)),e.push(l);const c=znt().then(p=>{if(p)return n.getId()}),[u,f]=await Promise.all([l,c]);knt(a)||Cnt(a,u.measurementId),i("js",new Date);const h=(s=o==null?void 0:o.config)!==null&&s!==void 0?s:{};return h[wnt]="firebase",h.update=!0,f!=null&&(h[xnt]=f),i("config",u.measurementId,h),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hnt{constructor(e){this.app=e}_delete(){return delete Gm[this.app.options.appId],Promise.resolve()}}let Gm={},uF=[];const dF={};let eA="dataLayer",Gnt="gtag",fF,ate,hF=!1;function qnt(){const t=[];if(OZ()&&t.push("This is a browser extension environment."),kZ()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=Ki.create("invalid-analytics-context",{errorInfo:e});ki.warn(r.message)}}function Knt(t,e,r){qnt();const n=t.options.appId;if(!n)throw Ki.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ki.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ki.create("no-api-key");if(Gm[n]!=null)throw Ki.create("already-exists",{id:n});if(!hF){Tnt(eA);const{wrappedGtag:a,gtagCore:o}=Ont(Gm,uF,dF,eA,Gnt);ate=a,fF=o,hF=!0}return Gm[n]=Wnt(t,uF,dF,e,fF,eA,r),new Hnt(t)}function Ynt(t=y0()){t=na(t);const e=Ys(t,eb);return e.isInitialized()?e.getImmediate():Xnt(t)}function Xnt(t,e={}){const r=Ys(t,eb);if(r.isInitialized()){const i=r.getImmediate();if(lc(e,r.getOptions()))return i;throw Ki.create("already-initialized")}return r.initialize({options:e})}function Qnt(t,e,r,n){t=na(t),Unt(ate,Gm[t.app.options.appId],e,r,n).catch(i=>ki.error(i))}const pF="@firebase/analytics",mF="0.10.15";function Znt(){Ji(new Di(eb,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Knt(n,i,r)},"PUBLIC")),Ji(new Di("analytics-internal",t,"PRIVATE")),Gn(pF,mF),Gn(pF,mF,"esm2017");function t(e){try{const r=e.getProvider(eb).getImmediate();return{logEvent:(n,i,a)=>Qnt(r,n,i,a)}}catch(r){throw Ki.create("interop-component-reg-failed",{reason:r})}}}Znt();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jnt="/firebase-messaging-sw.js",eit="/firebase-cloud-messaging-push-scope",ote="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",tit="https://fcmregistrations.googleapis.com/v1",ste="google.c.a.c_id",rit="google.c.a.c_l",nit="google.c.a.ts",iit="google.c.a.e",gF=1e4;var vF;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(vF||(vF={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Pv;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Pv||(Pv={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ait(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),i=new Uint8Array(n.length);for(let a=0;a<n.length;++a)i[a]=n.charCodeAt(a);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="fcm_token_details_db",oit=5,yF="fcm_token_object_Store";async function sit(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(a=>a.name).includes(tA))return null;let e=null;return(await u_(tA,oit,{upgrade:async(n,i,a,o)=>{var s;if(i<2||!n.objectStoreNames.contains(yF))return;const l=o.objectStore(yF),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(i===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(s=u.createTime)!==null&&s!==void 0?s:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:ns(u.vapidKey)}}}else if(i===3){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:ns(u.auth),p256dh:ns(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:ns(u.vapidKey)}}}else if(i===4){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:ns(u.auth),p256dh:ns(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:ns(u.vapidKey)}}}}}})).close(),await UE(tA),await UE("fcm_vapid_details_db"),await UE("undefined"),lit(e)?e:null}function lit(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cit="firebase-messaging-database",uit=1,Ov="firebase-messaging-store";let rA=null;function lte(){return rA||(rA=u_(cit,uit,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ov)}}})),rA}async function dit(t){const e=cte(t),n=await(await lte()).transaction(Ov).objectStore(Ov).get(e);if(n)return n;{const i=await sit(t.appConfig.senderId);if(i)return await iR(t,i),i}}async function iR(t,e){const r=cte(t),i=(await lte()).transaction(Ov,"readwrite");return await i.objectStore(Ov).put(e,r),await i.done,e}function cte({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fit={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},fi=new Nc("messaging","Messaging",fit);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hit(t,e){const r=await oR(t),n=ute(e),i={method:"POST",headers:r,body:JSON.stringify(n)};let a;try{a=await(await fetch(aR(t.appConfig),i)).json()}catch(o){throw fi.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(a.error){const o=a.error.message;throw fi.create("token-subscribe-failed",{errorInfo:o})}if(!a.token)throw fi.create("token-subscribe-no-token");return a.token}async function pit(t,e){const r=await oR(t),n=ute(e.subscriptionOptions),i={method:"PATCH",headers:r,body:JSON.stringify(n)};let a;try{a=await(await fetch(`${aR(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw fi.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(a.error){const o=a.error.message;throw fi.create("token-update-failed",{errorInfo:o})}if(!a.token)throw fi.create("token-update-no-token");return a.token}async function mit(t,e){const n={method:"DELETE",headers:await oR(t)};try{const a=await(await fetch(`${aR(t.appConfig)}/${e}`,n)).json();if(a.error){const o=a.error.message;throw fi.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw fi.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function aR({projectId:t}){return`${tit}/projects/${t}/registrations`}async function oR({appConfig:t,installations:e}){const r=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function ute({p256dh:t,auth:e,endpoint:r,vapidKey:n}){const i={web:{endpoint:r,auth:e,p256dh:t}};return n!==ote&&(i.web.applicationPubKey=n),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const git=7*24*60*60*1e3;async function vit(t){const e=await xit(t.swRegistration,t.vapidKey),r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ns(e.getKey("auth")),p256dh:ns(e.getKey("p256dh"))},n=await dit(t.firebaseDependencies);if(n){if(wit(n.subscriptionOptions,r))return Date.now()>=n.createTime+git?yit(t,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await mit(t.firebaseDependencies,n.token)}catch(i){console.warn(i)}return xF(t.firebaseDependencies,r)}else return xF(t.firebaseDependencies,r)}async function yit(t,e){try{const r=await pit(t.firebaseDependencies,e),n=Object.assign(Object.assign({},e),{token:r,createTime:Date.now()});return await iR(t.firebaseDependencies,n),r}catch(r){throw r}}async function xF(t,e){const n={token:await hit(t,e),createTime:Date.now(),subscriptionOptions:e};return await iR(t,n),n.token}async function xit(t,e){const r=await t.pushManager.getSubscription();return r||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ait(e)})}function wit(t,e){const r=e.vapidKey===t.vapidKey,n=e.endpoint===t.endpoint,i=e.auth===t.auth,a=e.p256dh===t.p256dh;return r&&n&&i&&a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return bit(e,t),_it(e,t),Sit(e,t),e}function bit(t,e){if(!e.notification)return;t.notification={};const r=e.notification.title;r&&(t.notification.title=r);const n=e.notification.body;n&&(t.notification.body=n);const i=e.notification.image;i&&(t.notification.image=i);const a=e.notification.icon;a&&(t.notification.icon=a)}function _it(t,e){e.data&&(t.data=e.data)}function Sit(t,e){var r,n,i,a,o;if(!e.fcmOptions&&!(!((r=e.notification)===null||r===void 0)&&r.click_action))return;t.fcmOptions={};const s=(i=(n=e.fcmOptions)===null||n===void 0?void 0:n.link)!==null&&i!==void 0?i:(a=e.notification)===null||a===void 0?void 0:a.click_action;s&&(t.fcmOptions.link=s);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eit(t){return typeof t=="object"&&!!t&&ste in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ait(t){if(!t||!t.options)throw nA("App Configuration Object");if(!t.name)throw nA("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:r}=t;for(const n of e)if(!r[n])throw nA(n);return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function nA(t){return fi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cit{constructor(e,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=Ait(e);this.firebaseDependencies={app:e,appConfig:i,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tit(t){try{t.swRegistration=await navigator.serviceWorker.register(Jnt,{scope:eit}),t.swRegistration.update().catch(()=>{}),await Iit(t.swRegistration)}catch(e){throw fi.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function Iit(t){return new Promise((e,r)=>{const n=setTimeout(()=>r(new Error(`Service worker not registered after ${gF} ms`)),gF),i=t.installing||t.waiting;t.active?(clearTimeout(n),e()):i?i.onstatechange=a=>{var o;((o=a.target)===null||o===void 0?void 0:o.state)==="activated"&&(i.onstatechange=null,clearTimeout(n),e())}:(clearTimeout(n),r(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nit(t,e){if(!e&&!t.swRegistration&&await Tit(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw fi.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pit(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=ote)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oit(t,e){if(!navigator)throw fi.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw fi.create("permission-blocked");return await Pit(t,e==null?void 0:e.vapidKey),await Nit(t,e==null?void 0:e.serviceWorkerRegistration),vit(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kit(t,e,r){const n=Rit(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[ste],message_name:r[rit],message_time:r[nit],message_device_time:Math.floor(Date.now()/1e3)})}function Rit(t){switch(t){case Pv.NOTIFICATION_CLICKED:return"notification_open";case Pv.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dit(t,e){const r=e.data;if(!r.isFirebaseMessaging)return;t.onMessageHandler&&r.messageType===Pv.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(wF(r)):t.onMessageHandler.next(wF(r)));const n=r.data;Eit(n)&&n[iit]==="1"&&await kit(t,r.messageType,n)}const bF="@firebase/messaging",_F="0.12.20";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jit=t=>{const e=new Cit(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>Dit(e,r)),e},Mit=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:n=>Oit(e,n)}};function Lit(){Ji(new Di("messaging",jit,"PUBLIC")),Ji(new Di("messaging-internal",Mit,"PRIVATE")),Gn(bF,_F),Gn(bF,_F,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dte(){try{await bk()}catch{return!1}return typeof window<"u"&&wk()&&kZ()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $it(t=y0()){return dte().then(e=>{if(!e)throw fi.create("unsupported-browser")},e=>{throw fi.create("indexed-db-unsupported")}),Ys(na(t),"messaging").getImmediate()}Lit();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fte="firebasestorage.googleapis.com",Fit="storageBucket",Bit=2*60*1e3,Vit=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends ka{constructor(e,r,n=0){super(iA(e),`Firebase Storage: ${r} (${iA(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xo.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return iA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qo;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qo||(qo={}));function iA(t){return"storage/"+t}function Uit(){const t="An unknown error occurred, please check the error payload for server response.";return new Xo(qo.UNKNOWN,t)}function zit(){return new Xo(qo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Wit(){return new Xo(qo.CANCELED,"User canceled the upload/download.")}function Hit(t){return new Xo(qo.INVALID_URL,"Invalid URL '"+t+"'.")}function Git(t){return new Xo(qo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function SF(t){return new Xo(qo.INVALID_ARGUMENT,t)}function hte(){return new Xo(qo.APP_DELETED,"The Firebase app was deleted.")}function qit(t){return new Xo(qo.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Xa.makeFromUrl(e,r)}catch{return new Xa(e,"")}if(n.path==="")return n;throw Git(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(S){S.path_=decodeURIComponent(S.path)}const u="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${u}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},g=r===fte?"(?:storage.googleapis.com|storage.cloud.google.com)":r,v="([^?#]*)",y=new RegExp(`^https?://${g}/${i}/${v}`,"i"),b=[{regex:s,indices:l,postModify:a},{regex:p,indices:m,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<b.length;S++){const E=b[S],C=E.regex.exec(e);if(C){const A=C[E.indices.bucket];let T=C[E.indices.path];T||(T=""),n=new Xa(A,T),E.postModify(n);break}}if(n==null)throw Hit(e);return n}}class Kit{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yit(t,e,r){let n=1,i=null,a=null,o=!1,s=0;function l(){return s===2}let c=!1;function u(...v){c||(c=!0,e.apply(null,v))}function f(v){i=setTimeout(()=>{i=null,t(p,l())},v)}function h(){a&&clearTimeout(a)}function p(v,...y){if(c){h();return}if(v){h(),u.call(null,v,...y);return}if(l()||o){h(),u.call(null,v,...y);return}n<64&&(n*=2);let b;s===1?(s=2,b=0):b=(n+Math.random())*1e3,f(b)}let m=!1;function g(v){m||(m=!0,h(),!c&&(i!==null?(v||(s=2),clearTimeout(i),f(0)):v||(s=1)))}return f(0),a=setTimeout(()=>{o=!0,g(!0)},r),g}function Xit(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qit(t){return t!==void 0}function EF(t,e,r,n){if(n<e)throw SF(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw SF(`Invalid value for '${t}'. Expected ${r} or less.`)}function Zit(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var tb;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(tb||(tb={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jit(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eat{constructor(e,r,n,i,a,o,s,l,c,u,f,h=!0,p=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Wy(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const l=s.loaded,c=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===tb.NO_ERROR,l=a.getStatus();if(!s||Jit(l,this.additionalRetryCodes_)&&this.retry){const u=a.getErrorCode()===tb.ABORT;n(!1,new Wy(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;n(!0,new Wy(c,a))})},r=(n,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());Qit(l)?a(l):a()}catch(l){o(l)}else if(s!==null){const l=Uit();l.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,l)):o(l)}else if(i.canceled){const l=this.appDelete_?hte():Wit();o(l)}else{const l=zit();o(l)}};this.canceled_?r(!1,new Wy(!1,null,!0)):this.backoffId_=Yit(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Xit(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wy{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function tat(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function rat(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function nat(t,e){e&&(t["X-Firebase-GMPID"]=e)}function iat(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function aat(t,e,r,n,i,a,o=!0,s=!1){const l=Zit(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return nat(u,e),tat(u,r),rat(u,a),iat(u,n),new eat(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oat(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function sat(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,r){this._service=e,r instanceof Xa?this._location=r:this._location=Xa.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new rb(e,r)}get root(){const e=new Xa(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sat(this._location.path)}get storage(){return this._service}get parent(){const e=oat(this._location.path);if(e===null)return null;const r=new Xa(this._location.bucket,e);return new rb(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw qit(e)}}function AF(t,e){const r=e==null?void 0:e[Fit];return r==null?null:Xa.makeFromBucketSpec(r,t)}function lat(t,e,r,n={}){t.host=`${e}:${r}`;const i=tp(e);i&&(xk(`https://${t.host}`),rp("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(t._overrideAuthToken=typeof a=="string"?a:PZ(a,t.app.options.projectId))}class cat{constructor(e,r,n,i,a,o=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=fte,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Bit,this._maxUploadRetryTime=Vit,this._requests=new Set,i!=null?this._bucket=Xa.makeFromBucketSpec(i,this._host):this._bucket=AF(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Xa.makeFromBucketSpec(this._url,e):this._bucket=AF(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){EF("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){EF("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(pa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rb(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new Kit(hte());{const o=aat(e,this._appId,n,i,r,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const CF="@firebase/storage",TF="0.13.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pte="storage";function uat(t=y0(),e){t=na(t),rp("Storage",!1);const n=Ys(t,pte).getImmediate({identifier:e}),i=TZ("storage");return i&&mte(n,...i),n}function mte(t,e,r,n={}){lat(t,e,r,n)}function dat(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new cat(r,n,i,e,ad)}function fat(){Ji(new Di(pte,dat,"PUBLIC").setMultipleInstances(!0)),Gn(CF,TF,""),Gn(CF,TF,"esm2017")}fat();var aA={};const sR=()=>{if(typeof window<"u"){const t=window.location.hostname;return t==="localhost"||t==="127.0.0.1"}return!1},Bc=t=>typeof window<"u"&&window._env_&&window._env_[t]?window._env_[t]:typeof process<"u"&&aA&&aA[t]?aA[t]:{NEXT_PUBLIC_FIREBASE_API_KEY:"AIzaSyAHGQvFPkUxdRMiBdT6Q8srnqHBTjCl0sI",NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN:"taska-loop.firebaseapp.com",NEXT_PUBLIC_FIREBASE_PROJECT_ID:"taska-loop",NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET:"taska-loop.appspot.com",NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID:"567819033549",NEXT_PUBLIC_FIREBASE_APP_ID:"1:567819033549:web:62eba0211bb80639c8d456",NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID:"G-TT3JQPNPT0",NODE_ENV:"development"}[t]||"",N1=t=>sR()?{dummy:!0}:{dummy:!0},hat=async t=>{if(sR())return N1();try{return await dte()?$it(t):null}catch{return null}},gte={apiKey:Bc("NEXT_PUBLIC_FIREBASE_API_KEY"),authDomain:Bc("NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN"),projectId:Bc("NEXT_PUBLIC_FIREBASE_PROJECT_ID"),storageBucket:Bc("NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET"),messagingSenderId:Bc("NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID"),appId:Bc("NEXT_PUBLIC_FIREBASE_APP_ID"),measurementId:Bc("NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID")};gte.apiKey||console.error("Firebase API key is missing! Authentication will fail.");const kv=jZ(gte),Rv=uet(kv),Gu=krt(kv),pat=uat(kv),vte=sR();if(vte)try{See(Gu,"http://localhost:9099",{disableWarnings:!0}),YJ(Rv,"localhost",8080),mte(pat,"localhost",9199)}catch{}let oA=null,IF=null;if(typeof window<"u")try{vte?oA=N1("analytics"):oA=Ynt(kv),IF=hat(kv)}catch{oA=N1(),IF=N1()}const mat=async(t,e)=>{try{const n=(await xtt(Gu,t,e)).user.uid,i=await ree(XJ(Rv,"admins",n));return i.exists()?{...i.data(),id:n}:(console.error("User is not an admin"),await Gu.signOut(),null)}catch(r){return console.error("Admin login error:",r),null}},yte=async()=>{try{const t=Gu.currentUser;return t?(await ree(XJ(Rv,"admins",t.uid))).exists():!1}catch(t){return console.error("Error checking admin status:",t),!1}},gat=async()=>{try{const e=(await V9(M9(Rv,"users"))).docs.map(i=>({id:i.id,...i.data()})),n=(await V9(M9(Rv,"admins"))).docs.map(i=>i.id);return e.filter(i=>!n.includes(i.id))}catch(t){return console.error("Error fetching users:",t),[]}},vat=({onSuccess:t})=>{const[e,r]=_.useState(""),[n,i]=_.useState(""),[a,o]=_.useState(!1),[s,l]=_.useState(null),c=ra(),u=async f=>{f.preventDefault(),l(null),o(!0);try{const h=await mat(e,n);h?(localStorage.setItem("adminUser",JSON.stringify(h)),t&&t(h),c("/admin/dashboard")):l("Invalid admin credentials. Please try again.")}catch(h){console.error("Admin login error:",h),l("Login failed. Please check your credentials and try again.")}finally{o(!1)}};return d.jsxs(Ie,{className:"w-full max-w-md mx-auto",children:[d.jsxs(We,{className:"space-y-1",children:[d.jsx("div",{className:"flex items-center justify-center mb-4",children:d.jsx(PP,{className:"h-12 w-12 text-primary"})}),d.jsx(He,{className:"text-2xl text-center",children:"Admin Login"}),d.jsx(gt,{className:"text-center",children:"Enter your admin credentials to access the dashboard"})]}),d.jsx(Pe,{children:d.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s&&d.jsx("div",{className:"p-3 text-sm bg-destructive/10 text-destructive rounded-md",children:s}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"email",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:d.jsx(VV,{className:"h-5 w-5 text-gray-400"})}),d.jsx(tt,{id:"email",type:"email",placeholder:"admin@example.com",value:e,onChange:f=>r(f.target.value),className:"pl-10",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ee,{htmlFor:"password",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:d.jsx(Ale,{className:"h-5 w-5 text-gray-400"})}),d.jsx(tt,{id:"password",type:"password",value:n,onChange:f=>i(f.target.value),className:"pl-10",required:!0})]})]}),d.jsx(Y,{type:"submit",className:"w-full",disabled:a,children:a?"Logging in...":"Login as Admin"})]})}),d.jsx(Dt,{className:"flex justify-center",children:d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Not an admin? ",d.jsx("a",{href:"/login",className:"underline text-primary",children:"User Login"})]})})]})};Array(12).fill(0);j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},j.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"}));j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},j.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"}));j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},j.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"}));j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},j.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}));var pN=1,yat=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:pN++,a=this.toasts.find(s=>s.id===i),o=t.dismissible===void 0?!0:t.dismissible;return a?this.toasts=this.toasts.map(s=>s.id===i?(this.publish({...s,...t,id:i,title:r}),{...s,...t,id:i,dismissible:o,title:r}):s):this.addToast({title:r,...n,dismissible:o,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=r!==void 0;return n.then(async a=>{if(wat(a)&&!a.ok){i=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${a.status}`):e.error,s=typeof e.description=="function"?await e.description(`HTTP error! status: ${a.status}`):e.description;this.create({id:r,type:"error",message:o,description:s})}else if(e.success!==void 0){i=!1;let o=typeof e.success=="function"?await e.success(a):e.success,s=typeof e.description=="function"?await e.description(a):e.description;this.create({id:r,type:"success",message:o,description:s})}}).catch(async a=>{if(e.error!==void 0){i=!1;let o=typeof e.error=="function"?await e.error(a):e.error,s=typeof e.description=="function"?await e.description(a):e.description;this.create({id:r,type:"error",message:o,description:s})}}).finally(()=>{var a;i&&(this.dismiss(r),r=void 0),(a=e.finally)==null||a.call(e)}),r},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||pN++;return this.create({jsx:t(r),id:r,...e}),r},this.subscribers=[],this.toasts=[]}},Ba=new yat,xat=(t,e)=>{let r=(e==null?void 0:e.id)||pN++;return Ba.addToast({title:t,...e,id:r}),r},wat=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",bat=xat,_at=()=>Ba.toasts,qm=Object.assign(bat,{success:Ba.success,info:Ba.info,warning:Ba.warning,error:Ba.error,custom:Ba.custom,message:Ba.message,promise:Ba.promise,dismiss:Ba.dismiss,loading:Ba.loading},{getHistory:_at});function Sat(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Sat(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);const Eat=()=>{const t=ra();_.useEffect(()=>{(async()=>{if(localStorage.getItem("adminUser"))try{await yte()?(qm.success("Welcome back, admin!"),t("/admin/dashboard")):localStorage.removeItem("adminUser")}catch(i){console.error("Error checking admin status:",i),localStorage.removeItem("adminUser")}})()},[t]);const e=r=>{qm.success("Successfully logged in as admin!")};return d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:d.jsx("div",{className:"max-w-md w-full",children:d.jsx(vat,{onSuccess:e})})})},xte=_.forwardRef(({className:t,...e},r)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:r,className:Ae("w-full caption-bottom text-sm",t),...e})}));xte.displayName="Table";const wte=_.forwardRef(({className:t,...e},r)=>d.jsx("thead",{ref:r,className:Ae("[&_tr]:border-b",t),...e}));wte.displayName="TableHeader";const bte=_.forwardRef(({className:t,...e},r)=>d.jsx("tbody",{ref:r,className:Ae("[&_tr:last-child]:border-0",t),...e}));bte.displayName="TableBody";const Aat=_.forwardRef(({className:t,...e},r)=>d.jsx("tfoot",{ref:r,className:Ae("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Aat.displayName="TableFooter";const P1=_.forwardRef(({className:t,...e},r)=>d.jsx("tr",{ref:r,className:Ae("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));P1.displayName="TableRow";const ym=_.forwardRef(({className:t,...e},r)=>d.jsx("th",{ref:r,className:Ae("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));ym.displayName="TableHead";const Id=_.forwardRef(({className:t,...e},r)=>d.jsx("td",{ref:r,className:Ae("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Id.displayName="TableCell";const Cat=_.forwardRef(({className:t,...e},r)=>d.jsx("caption",{ref:r,className:Ae("mt-4 text-sm text-muted-foreground",t),...e}));Cat.displayName="TableCaption";const Tat=()=>{const[t,e]=_.useState([]),[r,n]=_.useState(!0),[i,a]=_.useState(null),o=ra();_.useEffect(()=>{if(!localStorage.getItem("adminUser")||!Gu.currentUser){qm.error("Please login as admin to access this page"),o("/admin/login");return}s()},[o]);const s=async()=>{try{n(!0);const u=await gat();e(u)}catch(u){console.error("Error fetching users:",u),a("Failed to load users. Please try again.")}finally{n(!1)}},l=async()=>{try{await Gu.signOut(),localStorage.removeItem("adminUser"),qm.success("Successfully logged out"),o("/admin/login")}catch(u){console.error("Error signing out:",u),qm.error("Failed to log out. Please try again.")}},c=u=>{try{const f=localStorage.getItem("tasks");return f?JSON.parse(f).filter(p=>{var m;return(m=p.assignees)==null?void 0:m.some(g=>g.id===u)}):[]}catch(f){return console.error("Error loading user tasks:",f),[]}};return d.jsx("div",{className:"min-h-screen bg-background p-6",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-8",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(PP,{className:"h-10 w-10 text-primary"}),d.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"})]}),d.jsxs(Y,{variant:"outline",onClick:l,children:[d.jsx(BV,{className:"h-4 w-4 mr-2"}),"Logout"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[d.jsxs(Ie,{children:[d.jsx(We,{className:"pb-2",children:d.jsx(He,{className:"text-sm font-medium",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(rc,{className:"h-4 w-4"}),"Total Users"]})})}),d.jsx(Pe,{children:d.jsx("div",{className:"text-3xl font-bold",children:t.length})})]}),d.jsxs(Ie,{children:[d.jsx(We,{className:"pb-2",children:d.jsx(He,{className:"text-sm font-medium",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(fle,{className:"h-4 w-4"}),"Total Tasks"]})})}),d.jsx(Pe,{children:d.jsx("div",{className:"text-3xl font-bold",children:(()=>{try{const u=localStorage.getItem("tasks");return u?JSON.parse(u).length:0}catch{return 0}})()})})]}),d.jsxs(Ie,{children:[d.jsx(We,{className:"pb-2",children:d.jsx(He,{className:"text-sm font-medium",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Wr,{className:"h-4 w-4"}),"Shopping Trips"]})})}),d.jsx(Pe,{children:d.jsx("div",{className:"text-3xl font-bold",children:(()=>{try{const u=localStorage.getItem("trips");return u?JSON.parse(u).length:0}catch{return 0}})()})})]})]}),d.jsxs(Ie,{className:"mb-8",children:[d.jsx(We,{children:d.jsx(He,{children:"User Management"})}),d.jsx(Pe,{children:r?d.jsx("div",{className:"text-center py-4",children:"Loading users..."}):i?d.jsx("div",{className:"text-center text-red-500 py-4",children:i}):d.jsxs(xte,{children:[d.jsx(wte,{children:d.jsxs(P1,{children:[d.jsx(ym,{children:"Name"}),d.jsx(ym,{children:"Email"}),d.jsx(ym,{children:"Tasks"}),d.jsx(ym,{children:"Actions"})]})}),d.jsx(bte,{children:t.length>0?t.map(u=>{const f=c(u.id);return d.jsxs(P1,{children:[d.jsx(Id,{className:"font-medium",children:u.name}),d.jsx(Id,{children:u.email||"N/A"}),d.jsx(Id,{children:f.length}),d.jsx(Id,{children:d.jsx(Y,{variant:"outline",size:"sm",children:"View Details"})})]},u.id)}):d.jsx(P1,{children:d.jsx(Id,{colSpan:4,className:"text-center",children:"No users found."})})})]})})]})]})})},sa=({children:t})=>{const{user:e,isLoading:r}=Nb(),n=uo();return r?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-500/40 via-green-500/40 to-blue-500/40 dark:from-blue-700/50 dark:via-green-700/50 dark:to-blue-700/50",children:d.jsxs("svg",{className:"animate-spin h-10 w-10 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):e?d.jsx(d.Fragment,{children:t}):d.jsx(TP,{to:"/login",state:{from:n},replace:!0})},Iat=({children:t})=>{const[e,r]=_.useState(null),[n,i]=_.useState(!0),a=uo();return _.useEffect(()=>{(async()=>{try{if(i(!0),!Gu.currentUser){r(!1);return}const s=await yte();r(s)}catch(s){console.error("Error checking admin status:",s),r(!1)}finally{i(!1)}})()},[]),n?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsxs("svg",{className:"animate-spin h-10 w-10 text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):e?d.jsx(d.Fragment,{children:t}):d.jsx(TP,{to:"/admin/login",state:{from:a},replace:!0})},Nat=()=>{const{id:t}=xse(),{trips:e,updateTrip:r}=ks(),[n,i]=_.useState(null),[a,o]=_.useState([]),[s,l]=_.useState("");_.useEffect(()=>{const m=e.find(v=>v.id===t);m&&i(m),o([{id:"p1",name:"Milk",quantity:1,category:"Dairy",lowStock:!1},{id:"p2",name:"Bread",quantity:2,category:"Bakery",lowStock:!0},{id:"p3",name:"Eggs",quantity:12,category:"Dairy",lowStock:!1}])},[t,e]);const c=_.useMemo(()=>{const m=a.map(g=>g.name);return Array.from(new Set([...aY,...oY,...m]))},[a]),u=()=>{if(!n||!s.trim())return;const m={name:s,quantity:1,checked:!1,addedBy:{name:"You",avatar:""}},g={...n,items:[...n.items,{...m,id:Date.now().toString()}]};r(n.id,g),l(""),un({title:"Item Added",description:`${s} has been added to the trip.`})},f=m=>{if(!n)return;const g=n.items.map(v=>v.id===m?{...v,checked:!v.checked}:v);r(n.id,{...n,items:g})},h=m=>{if(!n)return;const g=n.items.filter(v=>v.id!==m);r(n.id,{...n,items:g})};if(!n)return d.jsx(Ds,{children:d.jsx("div",{className:"p-4 md:p-8",children:d.jsx("p",{children:"Trip not found."})})});const p=n.items.length>0?n.items.filter(m=>m.checked).length/n.items.length*100:0;return d.jsx(Ds,{children:d.jsxs("div",{className:"p-4 md:p-8 space-y-6",children:[d.jsxs(Ie,{children:[d.jsx(We,{children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx(He,{className:"text-2xl",children:n.store}),d.jsxs(gt,{className:"flex items-center gap-2",children:[d.jsx(ln,{className:"h-4 w-4"}),new Date(n.date).toLocaleDateString()]})]}),d.jsx(Or,{variant:n.status==="shopping"?"default":"outline",children:n.status})]})}),d.jsxs(Pe,{children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[d.jsx(rc,{className:"h-4 w-4 mr-2"}),d.jsxs("span",{children:[n.participants.length," participants"]})]}),d.jsx("div",{className:"flex -space-x-2",children:n.participants.map(m=>d.jsxs(Vr,{className:"h-8 w-8 border-2 border-background",children:[d.jsx(Pf,{src:m.avatar}),d.jsx(Ur,{children:m.name[0]})]},m.id))})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx(Ee,{children:"Progress"}),d.jsx(gg,{value:p,className:"mt-1"})]})]}),d.jsxs(Dt,{className:"flex gap-2",children:[d.jsxs(Y,{children:[d.jsx(Fi,{className:"h-4 w-4 mr-2"}),"Complete Trip"]}),d.jsxs(Y,{variant:"outline",children:[d.jsx(Vle,{className:"h-4 w-4 mr-2"}),"Invite"]})]})]}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"md:col-span-2 space-y-6",children:[d.jsxs(Ie,{children:[d.jsx(We,{children:d.jsx(He,{children:"Shopping List"})}),d.jsxs(Pe,{className:"space-y-4",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx(iY,{suggestions:c,value:s,onChange:l,onSelect:l,placeholder:"Add an item..."}),d.jsxs(Y,{onClick:u,children:[d.jsx(cn,{className:"h-4 w-4 mr-2"}),"Add"]})]}),d.jsx("ul",{className:"space-y-2",children:n.items.map(m=>d.jsxs("li",{className:"flex items-center justify-between p-3 border rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(zf,{checked:m.checked,onCheckedChange:()=>f(m.id)}),d.jsx("span",{className:m.checked?"line-through text-muted-foreground":"",children:m.name})]}),d.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>h(m.id),children:d.jsx(KV,{className:"h-4 w-4"})})]},m.id))})]})]}),d.jsxs(Ie,{children:[d.jsx(We,{children:d.jsx(He,{children:"Cost Summary"})}),d.jsx(Pe,{children:d.jsx(nY,{tripId:n.id,tripName:n.store,items:n.items,participants:n.participants})})]})]}),d.jsx("div",{className:"space-y-6",children:d.jsxs(Ie,{children:[d.jsx(We,{children:d.jsx(He,{children:"Add from Pantry"})}),d.jsx(Pe,{children:d.jsx("ul",{className:"space-y-2",children:a.map(m=>d.jsxs("li",{className:"flex items-center justify-between",children:[d.jsx("span",{children:m.name}),d.jsx(Y,{variant:"outline",size:"icon",onClick:()=>{l(m.name),u()},children:d.jsx(cn,{className:"h-4 w-4"})})]},m.id))})})]})})]})]})})},Pat=()=>(_.useEffect(()=>{const t=localStorage.getItem("theme");t==="dark"?document.documentElement.classList.add("dark"):(t||localStorage.setItem("theme","light"),document.documentElement.classList.remove("dark"))},[]),d.jsx(Uoe,{children:d.jsx(Hse,{children:d.jsx(Gse,{children:d.jsx(Xse,{children:d.jsx(Kse,{children:d.jsx(Jse,{children:d.jsx(tle,{children:d.jsx(Fse,{children:d.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-radial from-blue-500/15 via-green-500/15 to-purple-500/20 dark:from-blue-900/40 dark:via-green-900/30 dark:to-purple-900/50 animate-gradient-slow relative",children:[d.jsx("div",{className:"pattern-overlay"}),d.jsxs(Rse,{children:[d.jsx(jr,{path:"/",element:d.jsx(Ule,{})}),d.jsx(jr,{path:"/login",element:d.jsx(BYe,{})}),d.jsx(jr,{path:"/admin/login",element:d.jsx(Eat,{})}),d.jsx(jr,{path:"/admin/dashboard",element:d.jsx(Iat,{children:d.jsx(Tat,{})})}),d.jsx(jr,{path:"/home",element:d.jsx(sa,{children:d.jsx(xhe,{})})}),d.jsx(jr,{path:"/dashboard",element:d.jsx(sa,{children:d.jsx(FYe,{})})}),d.jsx(jr,{path:"/map",element:d.jsx(sa,{children:d.jsx(kDe,{})})}),d.jsx(jr,{path:"/trips",element:d.jsx(sa,{children:d.jsx(_De,{})})}),d.jsx(jr,{path:"/trip/:id",element:d.jsx(sa,{children:d.jsx(Nat,{})})}),d.jsx(jr,{path:"/ledger",element:d.jsx(sa,{children:d.jsx(W8e,{})})}),d.jsx(jr,{path:"/pantry",element:d.jsx(sa,{children:d.jsx($8e,{})})}),d.jsx(jr,{path:"/calendar",element:d.jsx(sa,{children:d.jsx(VYe,{})})}),d.jsx(jr,{path:"/profile",element:d.jsx(sa,{children:d.jsx(mE,{})})}),d.jsx(jr,{path:"/household",element:d.jsx(sa,{children:d.jsx(mE,{})})}),d.jsx(jr,{path:"/roommates",element:d.jsx(sa,{children:d.jsx(mE,{})})}),d.jsx(jr,{path:"/settings",element:d.jsx(sa,{children:d.jsx(z8e,{})})}),d.jsx(jr,{path:"/history",element:d.jsx(TP,{to:"/trips?view=past",replace:!0})}),d.jsx(jr,{path:"*",element:d.jsx(H8e,{})})]})]})})})})})})})})})),lR=document.createElement("meta");lR.name="viewport";lR.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover";document.getElementsByTagName("head")[0].appendChild(lR);const P_=document.createElement("meta");P_.name="theme-color";P_.content="#F0F9FF";document.getElementsByTagName("head")[0].appendChild(P_);const NF=localStorage.getItem("theme");NF==="dark"?(document.documentElement.classList.add("dark"),P_.content="#0F172A"):(document.documentElement.classList.remove("dark"),NF||localStorage.setItem("theme","light"));zB(document.getElementById("root")).render(d.jsx(Pat,{}));
